<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6c2c8520238777ef809a0b98b4f589abfb5953a1debaa84b2beba4a3738bcf3952d94b07cdde6ddc6c546134e7494d352b393294bce289cc6fe1052760280795d1d3a383ce856e3321aadfaf502ab34b63e7d5432a752cdc7daa35ff3818398d2c56823318988349f83eafd9f06e892699c50815bb585261df4616d3648abd1a96c096008d05743719b31dbfd8a749ac2f3f048238a70fdb27f4ee98826835b84f3fd0b2807b60e847b01af52ddd0debbc72af73e403747ef2a384a05fb87e152a85c87b5b84b3017bfeafb15ee8dbffe885a74030976355cbfef08d7f134c711315b89b4c7278af8e295c2dba23125f0dc9be2dcf544d1b9c277bc3ad394ed6d1d56bc388989c4f0c81566bb8255fa7d1e6333fef5efaea3aeafc3f44b1c4f1391905ddc1432d75122e6b92c64cef97d774afe89bf4c5b11206412512be4c3450cef38e0417d66dc3ce4ce9bfc1981f113fb6f415a4f1cb7ee40c501e7957b58793e1be898a837b911fd91458267faad481cf90f4619f3fb81c3a1602970e0c1926ddb8e47038900c8efc733ae0e33e2c6b2f32b7fcc74b543b28779acf0c1eb2fa3c525d340d7c050b400c73c36ed244c3269450cbeb2897febf383fed93feb55832d358b6f4212f7271569b9bce73d958cd8677cbd7251bae8be9d2ff1a0cb8a08e61b70c1a805d10a2d6680bdd1ac4bdf562d8e480b4e7f72493c8c7cfbe9def9b6b24ff4e2a2e414d673c4a581639839e8a385e08805bdef1a51f9dad41e8a0db8692ec8a4f5d720aae7bdb72b434640078ec8e164c0b2d7700529dea14d0d85d2de8cc251580118fb9e83235f2566ecc535e097a5a28c81140f681ebda2e9b93fe0a99e921cc3d83c11368d11d49dcdaff5f662ebc04ef4aa59670c5a8ae74c20ff9a30f2e73e3c465431fe827025227ec369bc5b10ce58b0a6fef7f14e80b74e1aa05deac8f38b89fca579f2a8c40bc2e3b63b51d73bf999fa72aae53e2b5dd201a123949b48edc66fd1918106d6d6d7fa161b6b7a3dbd991ae2f50c39b51ecff420587188959f7785bc6419f04a278d6bd8c67bc534456504221192cdeb2a2ed28be964ef1eaa0709453505ce93a34dfd20eb8942b535bec580ca7ab36895000434049a9aa59360d54d9b93d563360f551ab062150f31eef2366fd7772edd9958cce2bc732338cf1417549e4f78626cad8c78479766ffaee0ff09d4bce1911b104fc3d7edcbddb0b45151e772d020cbbd72bb947feee18e8db1fed84a8bf03740ceb92d6f371c58984b02bd86f56e34767402e33edf783513d5e273a81645a80b0079d0afc1e52711feb1d71267141eaa0f04595789e99c0e5041cfb40e4d2fd365404ca70f01953da8e0d0763d8c0855d71f9309f0f64d8e0a15a6de1a2f884168f867b490ec392898289768c5bdf0c8256bcbc3c43597a3eab8ffd7e0118819d2b938c1b215c50d923d5a154281417d4976c7b1ad00923d295926d3e871d989b2dfb0155ca7c91850e6c45d4ec95c2068c667316f8af921dab54a63739d08c4a6cb750d53b2bdc240c76e050240a62067d69c76ca2efb39b9e17098a568bb9b9ffad69d0ecb97cda68ca547d86a4eabb79e0fda3ebf92e17693c7b70d0d58eb9080efea89d76f93907ee85bdfa2efc7ab22678a82c0dac90bd99bb45e5dcf00c4a4a1fab03c88b17fc967c2e0080498f155d7a3aca3d17ce07c71d0943164b5aa09cbdaaf7640db06e097f5c24753fbdbe82099e3950f42abe16680e616a84cddaf034b3cf63ec07c03e5050d1d12e7fc375741a60361db9f0166ad55af1c7302494348b059554cf63105b93613d71c60d9da0c3cc9676a77dc232d6482b402a9b1aaef9ec2cfdcf8cdceb89d9e197c2511074ebf71391343d2ff5cf8847b57d84ed8ac9c6fc7d10ac3b40bd82a50b27b74ef69a45c2bb1a64b071ff0f5cda82799ae4a54a3dd06beb900d8c7d01ff866e7ad70210821aa374cc7398c09e4afe4c71bce2df900011d234a0dd703fd57fa0c5043035dd48a8ec37ab0bfc6f9a11fbbb1c025ecf817079ed36bfbac7761cbf97fd4f2e62b5268b3a8e05c05cda1df4b3f3528c44254374246a0241b20a8f846ee130e27ae16e41d09f3721c54a0ad2c859b3de3641d6fa2f5cf939a4f2f2d6cda135b7b5cfc43f2e38a5534c9f7190b0b2e25eda5a66b4f9b2b3ce09351b37b0f1e10c79e3bbabe7272ddd1460e63c2b5a9b2778cf216675e07452b2ca42b67d21a99c81225b188c571ef1756050dfe620ba086356d8876a60b81b8aaf0219868c18c3ba683850b59a74e7f8cf3d52c83449371ed7dafbd2db0b876df6a4f91eb58879948fd1c3cd80e467f9fd2e7bdd80416f28d178a72f279e083618ca7fc9040bad52e262af8b988d13b5940a71e5d8507179b2cccddb33e0761821db0a5c81ac6ae2f3ad27008b79c437e86edb952380a613a7aeaf42ef5a9fa686af39cdac218dfee2d9fdb3c06cf38b7a07d613cab4ec2c5545f60da0e330ad304784d7b89f05231e4e1ebdf52e2b709cedf8999d4d2fef9e778f5b7c6a69f9a1b5697755836350a0243129195c43e48ca6da435536495cb2b658b9e91a45e8ae9b78684170d7cb00009566c5617c94c8ba1a2e9053fa540efa2f95075f22edf6bab9c0b112c5d2104027375b11aeea93e86da0de3036daa0aad6edb48acf67f014945a82e3cd7711ff33915f184181312cd39953fa2ffe0591130702081637fd969c01128d5a782af0353bc398d8ca9b48a959a8fe572ca42e6db2a3de6074fd077fe61dde530dc723838fca901cbe6a2e8096b3b2ac0e25abd524085a5f2766dd2a9c19c7f85108e5e764a8822a1353153d9ec2ccb8784ebd3629d7cb61676489f4a9224b74f5fd216f7b59a816e713d3383d64cbaa0fffbb5931d053a6457e090740c6e04336d2de0db0dd5f8fd44b3f52fe229ce3253847198f907d2fd324faea5255b4acecdeb66ed7c5d06f4bf4619ef77ece7caabc7dc1dcaf18953262d0dce7b9e49cc95653c6bd01c3d66d1e8297291871c75e55d1f882be2a4820be61df361a91be75343cefe75de278094392b17940057428b719238e1d7ea4e4ae747f67b1dcfb02b2685ae6278838751caf629ed34339089fa496824037b5b08a9a524ed0b67f2b370d53ff0b0c0559a9960cf257b5206b1a07d10d7a7727de93b542b520653a970cf1fa342470690e581d4779fdfdef88bd45850082bee06106f7d30e8df596b13ba02e6d0503de4d25969f557f91d974a549fe941c120273e370c4a7dbde8f35bdd1f362740f537e140df45bc6ca20f8a71e58f776d08db0e7ba79424ac326fb4a9d6b0050e031dee0fc2d968729e42efcd1823c3144439d5e6df85084d4ab92ed12f22d2cf9b6abbbf105128f76b121742c41926fa29d2c09913db1f134639ea2b3f722129c99c5bf97ba5243648bad580c2bef58cfa04bdd1489470a0b006e0346168a89a65ab472db252077146c341a31410399013fd134ef4e2d88a061307faf05ba067bb5a4898ffdd1175206878de00513414347df7c94c4413ca067cdd564dbcc4f280bbb38abf7023c092b385f731872973fa5024e049f2aded58ddaf6081facc8443473a29b58e85e267939d813d284977f9528b809945a054ab8e10b647f032442a503cf0d94d7a3c61666d067161758503f8dc9674797fd17f1413618956f11fa2d47063478751638a89090eae63fcaf28547202432589fdf15ea98c792f31d00204eb44086dd81646eb6eb95687a4c42908cc430201c8fd8f44aff3bc786900fa72cf60d1d2716cd00112e66b7a9eddbe66d3074382a9c60a155d29f49e805d0bbe7bae9fa4da37f77f564fcd81b8063389f0d3fc867c06035a3e080d7b3f7b3ea0f061392f0e94da33c4393f41458ad72cdfe401179cfa8d233962cf7259ccf447918852e92305962dc269891abed1cdd94c1a34b56533816528bea3013fdbeea7e262ddbdddccbcd2dd637f881aea3414c9d355eb2535493e67e078f786333a5082a49ed81a46974fecf5bc921973346f176648000dc2c053211f81003e9d5c318a2c6b3bd72e781f7f75ffdfea89a2398a680f3df593f63215b066c3ca003a365e3935dee8a7ae98b14fd338bb6b4dcb3cfcc5fea32638b2fd109359b6fb3750687744fa035c2064ee92715501e4f13918ac1dcdec32c121eac6a982a62390d121e02a5b52439b653d308aa3d859650058f970ddf41effe2f526075b6bcbccce64b92e68e6269e0682abf7d7a0ff6c3724cee35e9600c9c713663e71407c7bf200c98c34cbaabf939f242dd3e50c0c376c484a3c83d6ee2f3c9400f9f236d7034ce109e38232ec10c0f8e5dd840c79b306463beb733b68416c2a6978f4d9556d87067deeacef05c4b590982fe75b11815c2f2f4602b4082e8267c871bfc82a84c6cec2c7ac9f4112f10a7cefaea0623be8d363d4a8decd7f54937cc72594091f3744fbe8e33ece0a7d8014364952a477fdd095b1670ac95798b35f5f47294ee2c163fc0a6eff4ee3938446508d7f128823b6c1612993bca7129187e6ec9f038cb281b1dfa0fc271243622f9443796eb280aafe6d17cbe529c4567cf3ea7fca8b069032026f94bb902593bdbe347b99f7b7b071fbb7596c4b165d98d59f94c0b47b1be63e1796c0094a1b709fd22008ea6256c7bd541bd5ac4bddabe0a7bea27d2176e2d3bf8affe1ca7d2cd874e1294e5fc0f2834fffefd63c388dda21ffe1810ac4d3f3d6bb2be657277a2d169237b19d0157a8f6cb4436d86560f480f1475bf3fb4ee18c9eb6823ba06b6e76e44abed91a3c5a3104e3a2b13707d6f9f5be12524983796b436533e5a2a073de076bebe2f4bf83d5ded0c2df1aca93fca4c028ac3d065c7ba4a0b4e448520dbaa104b6eeed261cfa38f278283473220bd47ff42af0cbbbbeae6eb78864dfda4980bc5dd245afaddb4bcf402e869dd27104917bfc2ce4e6ca389679fc2f73a0e39914bad51804941f882784206e1fd0676add565ef95924de1d28b2150766cb1db90d6afe8173feb9cc236eea60e07d5828e0b924a3d5a4b586b2a5cb28cebb38e9fc80cca9904a7d8e598ea81c08e4fa517e5a7ec3011f479d1f474aa22ec8b1490920484a87eed5a162200ddc7392a0830f7b80c7d678369b0336f8a2cf5a706d9108ea6583cc44cb0de30eb33d98a3d8ca866a08ce58d9708569c1e7c753f3a55b18f9b5acc567064d2d2bb205d9f1a37395fa9ee0c9d4232ddf909b3324e4e01e705f8c6fbd56f5f82eec00305c21cd10f1e8376e77c31d071131bc8c2178f2b9bf2d9d438bb58440d3c7e8eded9d85c25afed08a94f1be84328acf266fedd4ced78a01a61e366f04ec893d765351fb358b184bf7abed3af3070252bb0b03c5320d5cf63c0c2bb9407614ae4964ab407bda6f6aa2d2b29ebf5616686d5495441bd22f04513a63e7dedb5879f26e3272d68c9b30b21ea172f829eb79db00fbc436d86df28c87cf5a3949355b47c6a6e9258d60ebf7670669186843cb2e37dfc98aeeb090e6a7c3c93471f92cf684434c538d4109683da47bddbb4ca2b3c21a143a242d50148b9345bcd6b58d29e583542e52d7642e780f7924a9901b09aa1f8043872bf57140473dc9442554b79265e7839842de33b4a7b899b62a288d2d20dc726120a0ae5b3816c848dfefd0f99a2cd0e230e9d7c1299e86660271c4f775e7b4fd9924925040ab79477ac7c4d8de4a7660b7657158a8243d65c28c90decffc8ff322f87ce6da90cbbf960fd9a6d77004fdb08ba8c6a64af12e4c024e361fc987d70eaa1704051e5a221732059c19651bf57065276a2229df59492d8478cdfff64381acba4efa16b074eb8b8f45b828d6b109357c96e171cf413e14dd5a2dcb1395d1f9d1c3c6e56dca629b732107202de8928bcd45549712e44d0df1126afd4516c9a1eb2c2126b221f990b92fc3fa81d9db815115923bfef5963aea1b07a349c36896d6911928e8c1db9aae92b8876663c29b8a7a0b52c75557b9ab5c8bba2dca5ff4e7df8c650d93a7e03cdb60e238daa152d25123a5d967028a396772ba2aa01ba5cb6fa1d6c62de5fb9327761c22d224c61b6a8215efeba0cb05fdd8215b3cce367048f3d97827042454fb51fa363a881136d255f6950d2eb60a35fae2a97af63503aea00ba0ab74f29c3caac5f2b320fcb7807cf3f7c74f9112200278c35f7395f309abda7416c2e6ae68bac0c3cdf66afb69174320c60f86dba427ef3d17f1da1952ece0b4f0e84cf694ef2be0bab00697338eff41cd75f39fc1d83ba919819de95afac933e9fdf48ec151941b7880cfd7d86c00f0abb12a9b4847f789cf4c0a5afcfcb76065f7c795be7793a0a367d55e300a4d5b77a08bfc5aceff9a698cf43b7bdb83f0e9aa4320b01fdbfd742db97fb6967d34c15d37804da8a5c45b186c51bc48d0a6ca7993a4689f8ccc3a2d54d89476c2993a5e39e3e8bc0f0ce0d3a6daacd6b8d82534baa0c80a9a4072bf940bab77f02bd6c4ab275c124eb984a7a4629b2df243c16533f1a4929932e2db139a0f558c10ec53888173d24454c093a18d282cf2df5857e396bf3c6a53b747d05039ed74533d8bae6276e4f09ce0b5fe187ee8ee44ced22aeb0199359fda463218c17ae5ccefa261174e13fa2d6b24f66c0e6bea28d75c8d3fa8c118d382333b6a07877e4ff68f59220681897b52b62e359c7b1d9f9554bd2281753621c6d22e881bcfa34b54e4321b27c7b68b4ce18bc6331c50eb651906b5f9c5f38b1e7c63c030f2a96b4b249a73a8220cbb33ed3b249373b1bf20262efcc8d490ebf8f163038f02d1d64ff898e0a9af8a7462afd8d0c11002a091d7139010e1057c2048570c3cb9da0eda8071c97ca231285feab67be5a0afde3418a912674c196bcef112c87c47c39a2ee2ed37e4d5ee11fefa981191bdb288a1c7d8098f2d3d024e4a644baeb9b9747dd6d3f889b0327cb58c6ecfb3242d7c4d2fd881f31403ca439606f0b588bb3d4d6d644020967eaf2b63771e6ccfe798040cbc6c8c4e7ce8d542744b611b3406088fd629d205e2d7f4fc68e1e656ac175bf99b35c012ec2f085677b078a222f2c8895f8bc78b48a4f34c04266d518219bc2a07d03d98061979f446c54f1c3e0e576b3ecc92c09aa16dbb0f5e4684904c2248d412de6c7c725a1b264f5b1b4673eafa8dc73fcc0f3beea37510f102db42f0cacf41d9c378e2dc6700b68c8b063b5dfb211d801ee2691f1519fb0194f830b039a0847bc522c99fbd4e874bd3fb2eb0e3179724c37945451f999229c8da9a8fe4b45badd170f55b10ec8479db58099f93bbb394101d2d4ed448c4998271c7e229ff801fd8c81bfaf3ed72be4e4a000455123160a871d32dc3cd7d4848c2639ca38745e70ae6625451d5eac5771f7ddda0a1cadd1befe1900fd72bc946987e2032e6a23d4d701238bd1d2b8877ced3fb747e8b1c54f5e5be379e9e3d6629c0e478a81f5c6c058d6f5e02b9cc9fee57a9c8fcebd3616de37c0361aed433586fa277d970577411a29abe512f86d326857d9f7006dc82296673263c0eeb2f3763c26475fea22d4480b99cd3d87aa3da1d2311de3e592a4e276f6239e2cb78fd01dfc154681333e0dfd6160efdc2ffa1eb74983c8a0afe06e9071e014d130245a638fe47ca1a32d5089fe815d702f32239bf1756cf26b41ee1450919aa30e9270b93e4f46ea0986b586ad6e6197977f1498d3613b44efab849f10cc48dc4f4f50fe33bc7b6cb18bb7b8d07b7cc320d8bee2c2d3f440dd4b4fc55d0cc733c3362bf42f6802a799750de0c8257d6545f31edf167f91dc3095852ed7ed41f66b6ce62f5ce2131348142958f088527d5cf4f25b3a5a2c9de8faa884cad6c3806b5b0ac6ce92244f9def664708a3c3f814ef0f9966b29fcdbecc6e7b86e92d1b3daae910b58e5b98e70ec743b285111a9816cc4c7ce9473d0c3525ebf2bb48ff7087da53990134f84bf03c3e453dbf054e2bc65a1b83344d9cc8a9dc2ea3de5793dd2308cc06ea74516123e436f682495f840e0be908c19107e26548bb68ec2a98e26fb78be8a30988b19c95afa55e4d466e0bdce4999e13e8ececbf36726a17d449e875825cc42529a2e4a0d8304a5e65b929ffcbec3fd0cfc0bec196841014d42aabc7ef6a0cf86263a37b1ea2f436444a70afc52f8f6593c195b29091e5efb7bd6e1ce59ce1e31c32206dfeba0522c570ba36b9344f3a51da6b4a759ed681b827a4c8fab429cee6fb4dff9ee7ee0969abce1e7e0fd9d4f94eabf8f23c8cca1831bc7dd137a9e73b2943778972c71cab09dde723770aa5c9eaa0d96f4d3a491d38dfa6f57cebb8b895e3116a2aaefa48c997e1d11f6f86a83dfa4830619e7efcc7e6fd1f68a886a4a103611f60ae536affacc6b97477e4e4ede72b4450249d796dde9705370548fa9e05f67ceb6db37d17083a93ecc9c1637503c13168ffb92db307e8ac6ffac09a566581216699fee5e62daadddc9d22e270a68f1fd9c4f99e1cd1c6f8d980bdbd3417911a28b4e274c5d3e8a49018fcd9ffc1103e7d4c11671eed0cf47dcfe9bf780f516e3022acd163f8bf54ff4b83bfde32588e0b5590db24e8b703691fb473b4a4a1c59f3d560e645f3490407a1b8cfbc333777156c0c881eb63f939889e8cde03bcefdf6f0cf6a15ff1c8bcd649e0c85ad2ca6c81348fb6741454b66a9918372f3873a6b2d1171ea6f9a66747828a27ad367f092ec3fe47ae5175962c220dfd0dab9417c7ff968c7abac6e15dfa37405f705c61a5461abc5edefe77c980dbdf6dc73cfbfc008c17bec58cbbc94de062ef99a4bbdf8196477b909e59d104ea0afd893b24e59d0338f99593462f2fa8d3a64dbd9390a940feb56e63d5bace8932de4462012a7ac4fa4979149673b0565b5666a4afa821bf4fd21553a122f7dab97a4ba3e3ffd5c957b9a12bad00c7f9471984b32461d7664668f8c3ad969e3245c965e2699902c59c4af2c0d065dd26dc21c2ea3aec06ca355c61af41fb277fdc45e51eac253ee3e2ba5b14ad237198fa64ebf06a7be7c487a219f24c76682339034451bfb47a2f6126be0caab3364e3a156a00c458325a1dcb00ed3fff1ce92f73eb440128d73f7f1dc10587469ae371758c6cb29acb191a41d16c8830ce4d25f63584371aad158c8f0af9c6a7b3f603a7391e3f6d6dce9be30e2ffa664aeeb43aa0bfb92514470472994ea7ca07d4b368009b19a0eb065651851c58cda840b4fd809c28e6ffce4a7f5cb187747096f6490ed1501e448f51ed57d87d5e3a0bc02e48f4e208956235b4972b6adadb8fe128e40269ec2bef105caeaf347bcfec624469d5fb1a640153ba9dc689c24c4e867d7ac6c85af9be8e068794f9448c9cd1ce0598f57a4b40a01ec89a714e63e8cbf8976ac1bb701b7ec9b129a8aeabbb245757e642db838148fa74f9929cc5ed2413c3deda03eae08c7db2b16530adf38d0c6d1483de973f524585378a5d12aae184e93660f5c058fa8949b8692af1126e541321ca3c08b32830ab5c88c776f80069a5c5053efad47d131c01598471b7263b7a1f2ff186cf194c0b133b663d52c4cd2fd8ef246fa2aac3fa7b5e2fed0d30350cfb38edea33abff4ae004acfa0c78a91b340a2ccb431e419106dcca2ae5a8054ed8ef8060508f7843f78ccedcc6c677f840b521bb02214e6356826de4ee5a16a93c9409cf0d69fbf2c61fba432b42dfd3b17a2a2da3701bc63bcc470e097e9cd92fedfdb9b4733208b56f09c3faf51b6cb5231c3854679d563147d9274078cdaaf1da7fbfaa3a9d42bac4f54adb64dcae3e17cd437ba778910b82a30d2ab927af811e4242b6cca6502a5d26e0a25b01fb2d1ca128297c4914d32fe279130c938ab8a2169fd8fa4e3af185e54fb39f216bbbed2bf570894122bfa41137cb89a774b424dd0d4e71b98224568aa4ead06234a42a5434b715db88b0cab92aadfc5e7441cdaeb8840b9e588a164dde33c073cca48b5915a7793fae568b4a8844960b8661d457050483035c84f414b6d03f19dcee209cc3febd632d7c4ad3dda55910679dfda17d31210da5d71aca0d0f9b083ee8126928207d99b82e3f9cac26886f3a5d5a83fab86618c20f2b21850514d54545fc498cbdf4ac425556bea8978419e44f2e864577f36c4bb13abec27e75215329426a39b627dead45f1b94af414601c53aeeea527d275b4dd941bba28d28bbcc3bcefe781ebcb2c0524291e7f13b74cce41ab35dc4474031e8c7cdc74566bfc49394d03adb01e20a4cd1497e5abfa45b446cb8cdf08585e9834e27dc8c081ec9a7e2afb686db8d8acff334055c89fb72d2f079c0070c60edbc073c17593c3bafef9d803e945e3b3487ae76f69e4707267cbbf8c55e8f2b320d2e4965e18c37e78833b427d7033e7226693e45bdac6fc9586c398ffdac952f8fe7f757e28be0dedbe90d2848163a5232d0b93c9384b2a45ff767901c365620834a233c82383879c7c127e548e29aca77a789c40526f4076306f8819cdd7736414ddda408a7bca22b150e39aeb544b50ed5760d99248f1408176de236a605b508bde9906bc45d1f683e14787a1cd7b26d3104f3cf5058398c1c9eca673c5425de5af197b924664f676e4f8c56606914f3b8b5497a555b31f11d03165ecfe2bae60f7837da18e7c2c569fe3bbe9dfcc6823799a039a6cbc57c6b5584682d0c16ddeb45f512f7598c4d14acf276a8cd77199f3118925c27a03caef94eb991024cc4068afc35f3993745fb033d7626f516a445284a9d5fdfe0afb62fa62dc2007e07bccae409d64e4e7946df59f0d3e0bf963afcfeadfd7070af5cd60a98de7ddc3c69f9998801609e33dde4aa7246ac6fbc0b35b40498f2eec018e269f595c4a7b3991a6ac571ca5c2aa29bff1c1bd04e2b7200ec4706e475b2130f8da4f77defc709122d93013ea5c0985843660d97302ae2285d19554ccb207e5a4dd5c1d97fe08a2c8ac6e2ebe16b06cb092300fd7b04f6d9f44e73d43777e0904df5d95942872446febefce88009b01b9d70978020e6a74a50f8ce6835650b53b67bc60c26e241312adf79625c3c65633751678a8e37f76c6031b5547b64633b1eb5e14d7332baabd185da5656486acc9b35a73cb50b13be07ec14add6bbf81bfda65c03273d8a982d054cdc1a33ed423a6606f446803b5c66fce857814e8c24a85402465750d9c54829f427b639a4df036da39b1bb62b57f5871bcaa08e4c3e304f2a0d0096a5ef53db8e566b0ce6dfa816f029ff917c3402bb21f3256d616632cb7ea953e038f39e9dcdaac0099f329722e2dc39ecbf6c4115717af40eb535bb44ae53c714b5ce3e0ba2d3997161e502a15c7796bdff40ffaca220fa6391476008cd0d58b239d333b8783046b9807a2859029aa420d3bd85dd6ead7d5025c1a9801d3390b0ecb7471f8d01ab4c6505fcdce2b7cbe7d74797101cb1c1f7edfab4bc6ff2f66025aebeafda7ce312a6d879940401946f5bfb56287317bc33a95906d0c601a9bb53d84a23d2c60e0d19c8d5b3e68bfc51da11dd6445e14b0528884555722111a90eed0d48ed83a5c56b13b62a3675c68e7639a374c35afb56e3bfdf207b32f0ad8c30a436e2358bf1c358cf9f25d0a26b3027ec9f7db13709116afc842a897c19d36b52e48dd53ef381bab82f6286a3eebb60352308f2ac29d71c415f283bc4f574b1fcc4932f2335d0ea93a55a61e08a29e16b8d39614271a4f0f105cad30736fdb3b86707cafcf0e94d3cf52e9196355d1f55e57222c71122e0ab72ddb8319d1a87b0f44fb0b11781721eaef9d8dfe4548bdb535eda10e76b9de208be587e80f3392037e69a95c68a9df462f108a5819d216216b0724b610653af98daa3c88e470096de08b1314507b30bcafe0dc0e11b7bf093b5eda8760a04823893fa1d46b99cfe197b4cabf1e1bb8b2bba358be6cc22f7540385cb3937061e96572fac076d418762e8448f65b5c5991c5188d455bba81e5dbc85c1c44a6ffe7f1f3f802e3ccfb6d51bfdda6b638f1812a69bc79ef686cb3628d4a73abcc3405ae53e7ed46e1ce8ac9667d73e46d0ce23f40a9a6efea44b22abea1e2d390b1a4107ce9b29d97391549851163503c72a1388da560bc5dcfcec26eedf5dcae4c8fbfdf26db38c745e1c8391582dd11bfefd471bb95131d3f4d9ba1e011b39e6a94ff41be05d868f21227623bf532c55c89a2c602611abed8d126c0f3ba4b437bddfaa41f1c1f4efe81a85cd4a19130d40a0f3c99c65f8d4bc33800754867a10900b5d4c7b113d4a5b97b9766666530c1273c872b5be77c040703be60468a33518ca3a97db3d31b93abc13caaa1f6292aece1e1df7e1826f9237ac68d3316ccf87d125fab7b9b691cd793150c5dbca7a7366d66f2d848e50dfe14017b280fcd0979bdd478e958640cffd39c121080d2843e46873ac4cd1b62ddce8e64628d847f5f44dfb9c62ef71687e496728941531c3f5c33286756f7e79ff7b5f6d33fa31450eae034e5a70f689c3bb71c995af02dc48443e67d586dfcd4d454f3a67d30d96df0283bb785d998d6e4b14d995311086a2bb587badb47b7e827d8bb43de665b3ecce198aa093e1c7c21e1bf6594bc3c22446f6291f5db9fb098691390441721ec0c57d31d8a20371b23dc7b6289dd905416a97b6269793391b23dfe27ad6f3360caa4b56efb4c1b7f9f9cba3f1e1ce36da833a3c048483436494c839e6d24aa0560af0fc5c1570ae02fc111d7dcb76d7b1e7e3c3c99114aed9e227eea27d5374cf375c21c9b02839e1d17a038c43516f84a4ebc0d544fc7b852157c88360aac729ef5edc0e376c821f7ae65278aa68954d6a25459893b7861f4375edda264225647d6027e57ff064303f7aed1bbfda9b691a1f40a8984ef3a0d89c7d44027482df27eb80b31a69b401117cacb60e1d6e4266443fb03f4c1f8a13decc425b020470d3caa4d1c3f9120c5b2977bb883566022787a93a64585ad67321f20907d2b3c45462144acecbbc171e7dc9a8f0cf20587b44706505d6cbf297616bd6c094d0c6c416115ec9024357a0fcb75cbb41be0c3d5603fdedeb82c3b9ea8488bf0b5c1515680588c3ef6d6194d24f338ba009957a44adb20561e3d16d964453d9f1de11e7fe33202b7548e92f2b8cd547df809e5b971cc8bd5db1991feeb9377060b57aba79f35d70cdbe33c96e6420015b1fd8a86580b5c77b44faa76cc62bfdd08a1fa253aba373ace8a62aabdc41385b02a96204b043215d7bd7eabee1f6ea6a92515d48bd3abb97c061692347c9ade2d418d5ada54deb5dbef109ef87ef4903d38a46f9d49c4d1b383499d7fda039a00c910820f4540b6c398e88f349cae18d2331f5800422204638dba316461058b1885eacf039131c3532cf9f8e81f3fbabefcafead7356f552a2f59e9be05c468681082d440dfdf193ad31166eef8c578cd5493fb1abd5628af0667a3e16556a2be0d40debe3a515d4188dbbaf5f0836b2927dbd4f5ba7d303bca9423157c51d46d3783def73bd82de8ddea3785a096b8de6a8892d8f658f75a16baf03f5db083fe926e088056b145d9c8249cc59abf8434b30d0e403870c2081d91e4757ffab9fc4b2942084e0a5d61745ee10705129c2492ce6c631427f6363df6cf43360317310a229312ddbcc483ff6febf42c973ff7842babf3c4ce22d42446cd12b581f2b538095e3fc264b250f49e19fd09096b5e641f243926241bd095931aa09a98e266567f8cc9a64b7a25598c182298cca4a7fdc428500d8f0e52dcb5f7af1812242d647ffb47b126b65f424e30734f3c1a3759117e01b8370a5fd855c5cf044eb58cf0d276dbf56088e46f3dad22b913b2cf5e41179da664d41874b3d13e4f5f055fc21d52a748565c61b070c98955e35f46f75540e9a4fda2409f881fd5124de31514cab9458bbe4090e2583ae0a3c6a03ca6e52129ca97e4f52712169895fdc50ea3026109b6f9f35207c2a78a87e3e520981452fc4b804539468dd8bd6b9e8bca2d042617a3582b03b152c00b7c09af0cc3c8c278ef2c4b3c1fc6094c408364c43f0340acc9c8cc0c19bd49451dffeed01ff48c1a978dbe2914b2fc4bcd14736a4d7b6ef88a3ccb5fad475461a84df661fadc8d6326f233f433445f4455e61ef3fd876f11dc5542e3a50fcd9a2e7def5d54e1f7741286b6ed411d7bf16ecb3e4d63b374f5a4879aba08bcf5e9d2692f606eb755f2874d98c59b55fe12f57a8ef10a1945303764b62e4b326eb9524e254defa4871f37bb1748fd0c690508943180cc0949c0ed472e348a030eb57feb6255c32229649a64e4605810a65b6638916cb3e4d14461bdffd216305ecd276167adc6e49cbd28acb42838a8073e06ee686773eaa44a93a20f8a1c58109f040ae46e418d7c6fbb5eeb5722ae1b1c4591755a3360efb3aabe518c8afea1308ef361af3f016888e5f59ac92308d1b2f4aaef294d90ca67be037c4a51a0ee10677439fb244a99f85ff2fdb98cd920c13c0e2cb3b99f7e046079a6fbb9c7aa96df3fb5320d19147d6854dbfe0b3e226c6ea796cce729ba50c3d9924be7753b28157bee71e2512505780dc5c3118749ffd831e03eaa2eaa09cf632b98c6fc88dad1e7c997737d301d685b39c169c9dfd0f329f1359397f36ce36aa4521b19cf82d5f4d792402a340f14919c64cc47606d87584f11dd5e6d26d170aba711d4c266e068bb208b6d77bc18179eeffded58600e583d29d9f2beaac1662a8b7cb19af7ed37a156fa99491c8055d4993f69efbf0471f999ea6e618610b2ca9719eb3ccf87a3b8cae65ce66808392a1567b265fee135ef77f9e1cc6906b4aee7a08bc16a474b5915a52a2eba924884ed9e9225b11d6ed8f1f6056962516002114ba519867276cf78f310b6aa99c35cc0be05be323b022aefa07c9da59f3394e3e348d6207f94cc4b7b14bd2d186b452df478a2e93779ce180fb1511c767ea47c4122f1ec42ade153e4279530b8c7e2f73d1df64341f238a26a2d1d4f3dccb117607f687a0f5447df8305f78abde7f55ff6020e3da5afb9c311f946955ccc6552943114f0ccf310daf8f0c92df64a1a21931109370e27fd0dfc464cb3230e89f255bab4a20112ee77973072fdaf34ada6bfdf2d63655ad08d4f0572e2ba25e7dac05803bd24e1f64cd69dd41f59aab20caf409153e5fefea7fa459d73d8a8ea38de559d266bf4d8e14d45e1d9736ee6f0dd1fb245df46127885b465cee77d4725b58abac4e08ade8d42c70485bd43372bb1fb9c1a05ba3e7ef958395d7fa1202548482f89681353d0b257599abaec91b8dc9d7de30e954e4e2bb09f2dc09021e2d758ae674ffd49af697369f62b0b954b2d7525f313f1ec883a6e1316614b2649559cac8df98d3553add80d841a58970a493604715c17ca2caea8d9ec95719b1add3a7189e513135d3eb5b8ce74b03132550b66b69d5864ce8b50c2179b685e50ad2c2f4b5a74316dd82fb4a185239676cded29a1b4571d9c529e2e16782c48e2b0e7a0ed5ca138ebbe06d5c3e157ede2aa662825a942216d5aa5061a9bb937e6ddca5604c8f6b0922913bb91818e91e3615f4571bdfb07aa07e59865d620c9f0de2386450df9ab3a5b4a0a8d5142b6f82a22a2a7142efe2a59195885b23d261a81355faf3180856765627a9ce723fcecbe8e996453519d9855b8ce0851bcf1c533f8d1bc03765a38d535c89475159d3456ed003afcf134aceeb316a84e7c0e50bd984f6dc7b5f64888e6b552c3d82b4b64c6e19afaaa7878d43baf6ebc80515b09a9adc4a64aa4630b41e75312330e921dcf81b1be6083e2754f045d7beac73761d323edea67df8416277ad96e3f8e530b81a452f244f6ecb639b232296204071d0aee5992881029a58543521a7bec2cdc5a2b9a16bf89e472c4a1055cdd4403be3fba5b2a9d545437822f13e5eea201508a25bdf46c28236f1afb65a5963602aad210c08abccebc42a52252e5d082ed4e27e3d54bdc4b110b1f0f41423d946100093abdfb3eb7be9e407d19526dbaa0ea9684f919c3c15e4f882b197737d5540acdd95c6366edd628097d6e15a644699582049c161772471c8f676f6e9ebbf27128f56eb8d59130196fc994b0c2eb1583272d4d1c25eb9138d5e546585b4f432d41f7742a2f1d435f61614a8082b636e4e6efd4b0dd5e80f1189eba7f7d8218bff32b1c1b78a15c7b9b9f2cdb69c40acf9f0c642c087e0660f4f64576a7792ea3f45714afe8db95215e5c6be7a11fa21e4256dc90af127223d790be0b50b77e1254577cf8d835869aa3a36353f784c8b7c78466493d33202956a5ab230de977349ccb5de55865303c2c791f0035a20045397705b96c8b70f8c40c30173e1ee44c623ec25e1f238d076ef57a54ff32e1c6715ead6db6e8d26977f7a93f806dd9e3deee66592b3539cade13ba8bae93666441bc6fb360305d9ee625e9376dc113e9c9d66ae4b496ecce99053dac80673be6d9425623b3a7b9d19bf3e791ece0d4a27211f6b06352caa5d8da0b483ab2807af9d86ac8e92141f9a91d1a9d379fdfca1a639ff083a35d9d48f2efd0b1fd9dff07cc8ca9bc91b2662fbdae5d496580781b14afc2d42149118a6b1fd195882e0f7685729833cb0acf20afae0c1a8a885b70ec0eb7290beb285f0a7560b6cc63b479d7a2f3b0826631906891141a7be8ebb3e7cb3cea2e1175c56d99f2cf562ecb41a64d44efe64f6eb5db3d28b18fded426c9fcc5b01ed2f86fbae3dcbe867a4cc688350a15a89187f3656b7a59fd4924a6a1cf8cc119b3556c4b63cb4830eac556f4adf05f6837eaa4adde6c36ef1010fab53087c0cad974dbb700dad4a7cec46d90a7ec3d4380143dc90049812023fb87d90911f37853e9e644c7f805d9ac9fc6a0fd4c4e6d18a0afd679656b54c9c9bd220f9ce10c8ae6daa2397cb5f1a94f41187b7841a85ef73c4efdd4fe7c3a2fb42b185003627f4d9a50dca8c91cad417be6829b30baecbbf711ced2e2161468a2a783055f446af0707497f0b119183c6ce90dd5f2e7e30de152bf8c2a36dc30e389e8c10ea919c77512c87c5bef1352446071581393c7aa094ec577383506e68128a7dd1f8552344b9c18a7c9eb3b18c5487e8ac7b334712e4fff9066a38ed286217ad91015a32a65024606acd5a9a38fd1043768bb376e52aa4f325af93bfa1ba18c5622aa50c2d90fb86a62a60fa1ab84127ce1147befcb659e43435a2d795b90df1475b21ae7697430591b26f58cc8bfe47158f7ad96d2519c94528146382d9343c5322e794cdb8ba82f8f45ef65ac7f383c3bbc681de4fef48bad61b8a6483c0088c3fc09a317b6bc066e948eb44a8247245ffabbf1de64d33d8da417365369fea7a8937eade129621357924e8a474b005ae6090325a599cb778aff367bff7b638d7ce597e140a72e02408b9ad4bf678ee54fc9db554c060635dbd88d7ea3a73ff7d8f785a5a4629bdc5bf8f020db3f6b06158174e896d9554135dfd063e652361c5c2f156b276c7327ac8c514f6a8d6db2ea15b29a8211a1512f5252b821922f61d1071e02b4b2f8bbbac17fe9984376eb9da4402e8108af90c40f64134bda9696080c15f6461fac73e83309d1e25ada4da74f75ff14e45a90b11a7d624d1457e90b5e8e378817c3c8e526148f641ffadaef63f92d7ba5678d4ce6b5fc4eff04239f7150711494f091e2e89bc7969a1ed52317dd7ec2352d88db0b208c68391d2f24db5121a71a7ba87ae451de4e83b96134851e47df1596b96b0093028a7f8226a65537596bbb11234b586203df59ecdde3a9c1c51707ce1438cdc0710b3bbf37f43af8689acd5931eeafbbceede8d39f625af1dc69d05e87b8b0effb958f8b4f5faa4388d6942095b64b0ca6cf0bd116447b35363b995e986f8ed55d67d08bb566833bb5ecd6e790b2ce90782192aaf1d2a0b8d6de99c0137feb61e96809e8337d0b15fcd44bb944d3db50386ae7439c13c4bb06e69ab86a6bc20714db3dcb1ffe0025b622e07d972abd26f0bdf3596b854de9b0d8456d85d9a4d8941c14b994991c0d5743e32b7bbbe1148ab86c5c80b7fdc60e59b03bf42dea899e38063674f1d0c55f8527a4157211476b6dd3f5de55ad22f29b076a47bfb8faecbb2eb62fad4e909cf0fd20cd9c94e16bc8c31e4694b715f95876a961e5ac0a5d79c142bd8f0a4a91517188ae9dae334c5cce765108615eed3323e4565470887555185c8d194ae4155aaf0f10ba280338a2a9c7a7bee7bea05f8c73868038723d96cf6f942a75f027ae70c53186c0fb1ccca01e97e1fcf038471e71181f6e9a3a236444c45bb48cbf161dab3e1c83d5a25a3cff5051ce5a4fa3450a229635f7ccc4d6c19235422676844ba02f202081438178cae7e8362c7bc4325f830afb93356776ee8717e184aea8716cfc9b892da4141606bbcb7c8370a2bfd713f7e44ca319df557d532bf49239506c3ff095667468e8dad86aeae096c0c3b2999e9a1ca6a2f7de71a9352c38abb909efed972dbcf38212a3fbecce0ed88eebf2e179316e9a8d558c65891fbacde27c9f58b05c4ae8e45bc869f5c2210d34fde77a2e6a202887c241c346ab4c6fc3ed77f968290ac69796b820edc32fa68d024ca7e617a833a5854fa5e1988644e81af7e73a9b2b1363b7acb1386cfff68045deaa5d659d515c6deefe9c650eb93fbd12214d34c6928c27af6827fd8132d754d5341423d617b688c9e45bfbb8b442db1b8c8bb30d3f5950ac050b77f2fd8cbb44c082b70fa525df1a9a625e93a6d0eaa9cb471941e7835baa2b9928e5119d2e2c177f8c1156f00af907c4c957220c2f2b43f099611681dea416ecad071cd2e43f71a3927460db11dd2e4a97619dc0461ea2984ea93d986e15126631700504484b8790e84764caeb31895f9cbc5ed6e5259fd38df7111e28abaf9b4cf2f5b0b90c52befe20b7c6c3370f1fb2b82576b6b84a688a85ac02d37d82c617ba04349660f20c09819ca20e39a1807b3f0a587c104f9fbfafab1accf401d61c5f1e928ad941011cb9f9807d036edbb46cd3c1790f6c67d9f0516c48a7dbc45aa723b55bd4a733f5a5994fbd3d9e25d2916a6870caa3630ece57a63cbc946b2408681cefbaa0f0fc02f3be25cfa03373e474646b6c830fba73c706df4120fcb798c009ef95809888d54ef5c6cb5c67351b3a5c414dcde17e8f306270a356ffc0aa78f32616d23c11a0a829295c2a84fb8bd457a3b11e75160eb6e8f3ea3261a570f1b3e6a3ab44096fc006abad8239b4d96fd6e078e5052ec3f201da2b7b3d7adc959267877ec15c1766add7cb3be5070fe0740384f973ab69422d79131dbab6dff98641d9773afc16f15db097f99cb076adeec147ebbea98a9583047c881989dffc5a911ab69614d719ed3c8dca94a7f41ee2cf780623f68aaf98292e2f677db43a5f62f7e6eb52ddd0d92629726dfa55d0983c09bcaeee64fbf62749917b4a56a70929160534be847caa888fb935c8352fb2be0d1de6d214e926f5baddf4cb12f8c896a5613d1649b9f23736e6d6c3d3161fd2b81eedac1e7c484ee55a4196c0e3c71d48d898604c2f08f74dc028ed3c425d15d5b0555474cba0f1a82e20d3d4f3e29b8ea7ff084292548d659154484a3c1f46658dedc45fe89f6f83e2303dee5559dca38d14350e6b649c4aa6d6b2bafc3c903f4330f47e16f1068b4150a36385a7fe3c76df094eeddf5b3c90e7ba836e6127707bc88719781417d93f496f1ac1e9691851f4dd1cc3c4e3f8de11826721e0e318fe0bf3325b54d770b310faf6660144d663c5e4f3c99afd0375a73724de2b34513fc5b5cc71a586d1c68cb88f17bf2ff7c29c69794f70f1fb86778e16035e2e81bd36f39c480823dd84d52abafe9c4a0aa71ed93d98e2fdcfcb381afc394787eab6ca161228a3d973a6190b95a26d7dfc999d12b55aa193258e7d02d780bd30ed766c64c57a590822d3054c40c8da6522d639faa607fbd2ae5693e06e852646012b46e9889f4c5032af3b2d71161610c96a3bd2031b99315447a50ab294a98b355932603d7833be70e84230e0f4210621ba873af464de8d049803bbd5a61997019c64d2bf29254c7fac7f0a3fa05d5b74916588dc67d6875ccc53e95a3609b4bfcccd26205e6a1faa00c7522bb922321400df89b0555d2f89d4ad818a8344ea057e8c06c4784f573fb48c07697f8fda0240c9a0329339577ffc6128aeb5dcfbf701fa5eeb80643aca7d56d90fab92ed9cd35c5fdf4765dfe20061407e554ecd4b2586a05954622c361456ba8ff8ebe56e5542c348d7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
