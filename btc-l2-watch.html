<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4df002ae350a09d54115bf4a53f6d7498e2b81cc88ff3b8afcac094de1dfeaa2334266a801b4a33fdc92cfe6cf5ceeedd1f033b39b739af80e470bb91533d44649233f45803d5217c735bf36d4e035ca1be83dd7f38f7f6b021e68c0fffac89680b7c02cdbc5e99ee831c2aa9dfe30cf1c2d8731a1b3d98ee5ece03106dfe8d6bcfedecd68bc65e4c021fb90e290014356b2fa460fb4ebe5afabadd6023a4d41bfd54e02b3967c9220d7b7cad4e4c6224718f628570b385b6d0f968c438ec5ff40ed0559b641eae008a9c260689a3cee0e373db87d7c6a9a62fe96b96453afff323146748a53124df5f1364e17e54ef29e2fde2f87d4e5cd31650ae1887bf465b78162186da0d4b2b88113a3facb73014be297febe4d282a6867ebf7c6b200c98ab78368f6c75f24a3b759754f9f67d417d37b2f3416c644c24b72965f6ea82bd1992b6bbc2379b87886bf6dcb78ead13f2450a3153a9b8d402b5caa0d69a779c663adda52a936aca0811bfa0dce56e35898d970be335d81d7870c8a238aa0bd627eac4f417c16a2c3ebb656c9e75807fb827ec9655c3cbf72946c364c2c6630827726d04e87dabe6e4462169755757cadb6978616b12017b716139b60f13507aa0f63efd48b54b49b3eb6d3687209b84f3a0fb8c7ba9ae9db714ed653888b35b0bceecd40144e9035a66452183bc91e809d04557c601ab540b26b7debcfcc48055c42ccff788d4684dd71bbbd18e34d142efc7a03aba69b4bce9eb706922cb8e14a0b22809721446610b968135f77722b76fc73523a05b554e051c041ff5141cb81183fae177e17eaa7d6ecdc1945617699cccc96958061b8c44701afcaa85be80a4ba09cb4b5b9f59bca68e43ee14210a0b9d4a4e058dbeee08cd0bdb8651341810a439944996264928021b1b19bd564d0bcbb99067e4841d5b16be69effe7790addc344cdcaa103190860892883ee5386f495850f7dc65e2d722bd66d306d8d31643dc0717af1006998c7624fdcfee0ea73d95785d83bee1c1eb7e19cd052d82463df81507f00c2e296723fabdf6f3560b7ff3c51899a979c7007d5b24d06e794d3fd5690f67b92392f104b432564184cf759e8f51422b0cd6b10a5178ded5589c3bec1964189f1d3eb7c4368374e076b073d8a64fab59ee03011a0cefaaf089c6d82cdd432c237606411144706db3cc3bbd4c8c0d35b5c173c68596ba2cc1380df574c162b4eebd15562b40ad955c6bbb436a20859ac04c046259c57dd976d4e841f4f98eb2372a49cd6a58a6ba4e1867e7d7a31edd02697472e62bfb4123a55a22998eb3873e6897498fb8e3c40eae68f449c9777c2ecda8bed256c5b0be728a13b95700f5cd60232e8f611626c5290f13743a8b80c05de65192684b55b23f54bec05ab8fce17bb3717a5e07026073e6dc4f853cbd7e7d4c5103b4bcc7d693dabf48397d7b92d37b0b202b0f0856a7ec945860605be7d95c6914e4d4678cfc5b12bd93d7f3a27acd69dcc9f859521707a7822a9dfa9f46454a5c9a1545e7ac9badc5e0363af67a03a9d0fa73b9e136d8bb023397901247179084a681ee4a78602695e7fd38e4b51df70a95e16de76b7e991773c7aa37a3838a985fcacec48f8c683a0f6074c8f75ab88eb3a1db05d7608efa8b9ecbca58eb0dd1963deb2e72b80ea1b42187b222bffa8e5188ab0be38dc6d58dadc5b24dd8dc71bc35bfad21d6fd2ce1377ccc726ba6238e673dc020671e8dbdebfd5746a99a343dd149d99de1dbfa839c27bef1fe1962c5861b0e4a726e53fee8c80a4df143333c9d470f1d156d2790b318df135a1416c27ec9386b6f12ab3a44d1214df2b496405b69d2b9b809c722a7de3f874f8952f99eef8af9a1ba464797ab13838dea763a7b5a1182731c825f8cff9ae30218c53faee5d133d39ac17dfa46cdb3002feecd7b6fdb03a7f2bbb69d78510e26d3767fcaed964850b9570f300f5b74109a5cf35b5b71c885a8b5b30cd7f65b9e50c98a9b6b35540315799d461b03a02c7c78cf97a4da500733370b615e4078e8489c7ca6f540fc5dfad7db683d8d834f7f2f426c2e95df4c5263080ad1aed96c7c2b9d75035a639b76b06c20c310f44dd8277429a7296420fc0f48c3db2dbefca19d91b496fbab17c8551455c37fd53fef5220875d385b8d001bae3574f800a3a4fa99db302de1f988ad41f448638473cef38f095af2fc871eee41d3a33564eb5199c3de57662991a5f5d209957caec31977d796df394f8f1eab5b855ceab321bb3d7a3f1151606fbd0570e0b5ee6bd1e86648722523732578340b200c557465b48de81e9ed078133bd99c7fbfa99d946f20962ed6c2cc713fcf9fb6e539571b96985df018534a02025eefc5594fd1c943b374628f9e50760955af2dc8ae04f20b6f3c5dce806e47829ce4160be8a73fb705c781443afb75a9d1745aefee9d23e607c3a4dbc1b5f566ee2a5486d9d81fd7f9feaca8db47ba79b81f2c0e94aea729f8e4cf97479176868d772114d75f8c5bde3b3d6fe229313ac4af72980979e732c76fc27ce38bacfaa808a76b70551d180649b415da388ac3f7a98318e49f168de157ddb817f6ca88fe7f97adbe62dc953ca069d9d9e9f1c03aa7801e2c6f641f76edd2a765bba27b59323eef38e4ed42def48906f92f767e546584ea46cf88070cbe1c526857a9e4afc2a755e439b612a749b34d256bcd73beeb9708f92027409c2f157fe4597395de14ac48ed4ad52b2326f759da7271dc8905a93f73ea35d694f5d6ef1326043f1b7bb252a1ddd33e94ff653987cdebabab4fd3d1520743b62e76f3659de044a164059da7c930c4659cc93f9e11619f9ad8e1040bfa00dd1907c12800e5ba980707e3e500ca45647f52e91c92c059a4d709515bb6bd4674276bca0b57542efe78aa5df7a6f0f3579a5064fa4ae0c2713b10a175788be862d4fc98bfd5297028b2e6176367cd66053222202fca09a3a2b0a1c76048395a51c54302245ebb1b042b0458e0ca42ec369fc97d02c93d31765dc468198d7e293194af2981eb4f8a5ddbe51597f4e53369d2df6cf00c847caeaa426e3ffc0f5da65f04673b518071edd0999d3a0431b74a553b8d93df9714e02ed51d0ada032158d9c48129d9fd2402aa9f9cc9fe9fecca56df31281723df1bce9cffc08b0fc72cec87137c7375961ec9cf439408b10fe979b61d43fa1bd04e2c8025c0c82489fa08974e889e8df517abc3497c34158327a9e82697aad216a48f0ef417ed0ffc04268db9f7d3cbf13df961783650cfd2abb24c85881512f61ffe871b77cb6df463df4b808a79a58daf0a2992e929cdaeb503a30ba80bee3a670a43baf9c8cd2d2806712176d24d1375a2c42f773cfbf3dd5a17a39dcd665b59d8b20355ec3a26d2ea1322027088432ff87fdd521c8fd5c85645e30717b58586c68d4e9901923fd78da6a39d9015258ae5e1453b974776a6226cd1ece461f94bd6e86ce63b724138bb52b139ece0804642c07196f31bccb4c2a9a31eca605c0180de3fd9e4412db6f7a797135c3732af167c6fdd6ccc9b293abfc96336bd5fdbce62b491b899169a270f4c7af2eb326e407e0005e43a38db37bf90aef747232d92bf7e081a981d5cef4a286db1a9582101016f348421011665ed7e89c22ffbb2cadc80f43d0af6d5cd4f4944e310b7b18e494e7cd3d39ae9da03ed9ae92a5d538cb6cfd490e3e59cf0933a8e3b1442cae1a494b96e63033bea787e12a00d5d8935bb75f708f6ca2253c7854682985a5b0d451392b9c98ac0fd3303991628b4345610716bdd729a2784d5a9253654be2903e3f82a9c18aec18d8892459ff32c64dd8d7c6cc38d689ad82494f866578b88493ff04786785ea2f1912c5d00f656e73a442a7abc8e3aac336e5c56248d031a5c093ca0a2a8d57b70f43bbb6b7afcbb507c44a84efab3fe77edb80dd5f5a2d0e85adb4182ce298148e4f8105d22dab0659e9d418c1ffb74b92a5376cac77243f0cdd570c83445639c6dbeb927c03e47200b1637a05a4647d684c50ecf9da595837cbdd6821792b4c28d2cfb112820469f982f96ee2c56aefafa7cf5f8bcf199741079ae2d2ff0f164416cff4aec6800be186f898e97b5e43c5a1b1e797d29748b00d59dbeec61753ad9eaf6a362c1e920fe6b7f4366f7d56ebee1fdc89dcfffee8d47e916d63e309511b29a514e489267b0d84f3df714e5d8b8d14934fb93dd5494421530c6504edfebd79ddbeec5593bad0acd4f619b75e471b16142effc84cbe289c85bf3d1e00a7b5343a6a3def2e0ecadfbc3dfee9b1037d39a432125c3bd218c11629e196174d1d9aeeaaea65812ac8e358b2a1277ff04fd426f8eb5b6e8005acd058b99f955583fd29962dc1e5f2db0f9a2f9de3115d6d0621f21ba6e46535870c0cc8b0f8fd725ab6649317e5adb516ea35470b5b40586b79b176c210acef47c4d16ef0d1e329aec264769432e5af0ee28a7d6ea9c83d14c493577411f33d2553471a6612fc42ce954a3a81223880c4a9505e5db97c9e2472988e55ef160eb2aee74962259255d0bf810a223b47766119479eca518cfc31841cec66aa25034c5bd3f732354e9b32f1b61a0eca46432b6555ed8053fc7f86baa1449496e2d7a098605f0918c5c54131b7015f95a0474932380c59f736e1f8d710fc8ed11435bcd2190b1b6c50f89959f12714f792877358ff7effd61977b6b33b46abe7ef0a88e458443a6430594e92ae58de76e6bb1c74ed626ee5e694228e37eb4b77e02b9528eb0dcd58036ce60ee8410b953502dd0d3f709abb07133847142f2071f112ae9fd5acd7aee6ba0df64b995ccc57ba43df161422545125401147eef2dafd335eda9cba0b8d3aca4fd3ef0f434e0b9dd29a2d294d8e52ae83cd30906e58500378ae0d3968be3bbb438fb942b8f118acdce848e08c6be1c530204fe6c7e224c1a263036f5901c2d9253cc9f249580bd6863936576fcd64d32274b0f08627cf65bbed9f09bd8aebcfc915e65c9a36eb0d1a1cb712eab7de8d5331ae5467a44ec68ce10a48f999099ed245e5261980f28ad3916288b21c0b9c7876e9e9eaea9ccef3b3af554755b9ccc3e902c7f8cba092de1caa73c9f103d35b88dc821cff9cf6cf7e430b0a8e0d0024ada76ba8a272ce80700cd9c2f9c526a9c35f1a0f1fe594b2bc46dc20cbe0be749cd9adb0c7828ab7fc54953db22aff37186033b610f5bd869041bc32f215a4f579999c783154a50017d8a6957f25d9a36c35ba1c5119f4b9336a3742e4ceefa9eebf371dd2a0e41d27a7bd85e61f3ceb268443e33a1b7c73b362f42ba5e8ad3a5a7cf156852a3e2c987258aab5f9880dad0841ca93220edfa7580602412335b809fc55ea71f57d0d195bbd3a1f5ae4b8c9a7fa99a415e8498fe1cc3264ae03607529c27d7ce4d387cdc41876b340a8a4f9feaabfbe3a4aa0518d6d15954fb1b249aa386dfc33d81abb6536a8b4d9c28c7a459abaa476f5859a55be18c14ce363104a1585eba421db0c746c9fd1f255d6da8e546137fbd56fec84cb68fe37e39b2bb93b2d9e7beb96c4eb420df39c136b21539a184d1f052a2646c640c0a4c120de730a0f4cd871f87336e7b1bfa2a7560e8480bc1b1cbaae85fe3a7a2c2fb3be72e518b116237fe534afb49e3ae0d01badc84dc66be9d4d0d594c1863cae2f31ccd8730d1ae194c9b6baafc606bd95cbc68c93a2207be2f08db9a22c9797ab53995bf9c96045def63b63f7730974d32b338754befa5cccee0475530e8694dcdb9117b7e0cdcbe078d22d8c05b69ab57eda09cb3d16f829791127d20b19030dbf0cf528511746f753dc086703f5d3f7458ad7b80db271657cf32da2c3a0ab2556eaa9ac79786bd18c0d9ca056c36aafe8aa1245109f485af68e4dc37e284beb8e7f5511a21bf324a8a0a2f92515b6471de9390d2c5c92dcbc297a9d8abb4eaa1654872f38654d1e08425c01aeca9d247a84cf381d7d4dbb206ffa34a14618020e03cb34c59f86bbf480bc27f0e2eda0fb3c4ea125704a1fc162aa59c72abf6ec16c410fc11e0731d6fa89fcf0c1aa451e4dea290e54e27e773d7c832d2269fd8a6833c5b22f9289dfbf0332c956385d9106b0f76ee6fa3d9a695be1596d83b965242e3a48e725389605899e11d3dd76a8e00cf1de5616ca560129365959d22c1835a55bfe099fd8a8b417d411438b74fa71d6ee1c5313c8c6f26483feca10b64fc66f305e5b28c44113d5ce246a76433470288584601c79347cd52d7caf3811106481cc6a254a097f6a66a72cd2de57fbebbdbad08009009633aac08c090b8f2a771ebee6e6d17b70a439f30d8f523839e2aa3571f7723e62916932797981a445446a303b954c5458bc8a49ec11b132e2646a3d55ef6cd6c3674053d0b86a34a59f6d5cdc5961648afc548d0f6e215a9a5db2f1f6c9763c1346cb4b80eeede4db03f493bbdc07ab9749bdbd84185c543596fa872cd557cb0fb6b491b828af8121a01e985d6dffbc89d7edafbc42c9e0685030c689b1341b0ab7a40b9ef29c44d9be4cf3e71c9026853b07899c6732173a57e89821a24a78ebb0d0e872dc54cd73981db50608bb7d59740353ade7d9d91261ef11f1feaee40b00affd06caf477da68beda3ad63c888e357cec47341b546b271ca98758939caed81258891c95741a77dbfc0eb42275017bebcdbe96f3b82199a0ee9d7383b6106f941eef3feb1112094bc739f477a6ced0d2f44dcf2e37791111ceb06414ece9ac5b190604431707283bbfa979b48bb2ef16a17d03f60e1c13ceed514f7e18d5747ec98b751ceb34edda09d4da6840083c6e54547ed41e86948ff2847d86f192074227d7e89eb5e84d5dffe8b4b9e4966a2322ea50e6fa31b34308a0d0e443f7d17d42eaf01c7970c4c6ad76bc6579eff311d87f49092a449270448b487782307bc5be56e5892b9ca9ceeaa59c7eab0789c6c87f246fcc7e0109385a2fb95f37f7b8eefb69e1b75b49b276c2ab5132d65a5a7c375785a7b49f2ef3b82f771b2d54f5e5f73edbd1dae0d2a3eddc23ceef571ddcd9206bef457b12cef90e912253734c8ddea30974ce2de808ad3273f1b2e0916280098a254d4e71647acdba77d5b0ae471d981d9ebb5a10db6a8d0f61889ccf42e6dd12a573eebbc4d314b73076024c4b3d638d8409883c31eea38670dd9f7208d2b1f4e477f099920d7a1fec9ac6f6565a8cbabb2770efe14639b2f8a9ef6698057119bb4c0e9c30bfb1b814f244d6788ef447ee3e43f515c9e0e7a380da656de265910be1e7ce81a9d8063c1b39e84687ea7be2d9fbad65292767255518bed8d962d0f482f1b6d21b9a715ea3703c16c729359cf4fb3ce391818789f7a095466fe15f2cc4c4433168c222aa6a4936a23792371f5b167eeda4ccd871a12ce1eb3d42a69624091acfaa79b1cd5fee18c3b17571c8756c0cc38140cb1e1bec442fb64985897e9c9ee9eb1ec17b71840899957362b2a44a1e578396f8dd784660c9e6b2d19a0f3c816c96b4f894692064f4011062660d394df4d7b6b647799136dc94f0f1ef8fc6505b896c2f93fc9f671599d876614daceba31580d2a59ee4786fe0dee9208a217bf0c6475d7e95b2cf9bd1ed10e9f80471d608efd08f68ff7a071b307dfe40675523233466e2101456f2ab36fc3c9b0a8280372dc1dcfca56cc09347f7cbad80c40d67da30790c2d49abc29692bac467ced99fa1de4ed282aad1ac7bd70bba3c3b50b4d9ce77a1476c9dc512669410b21635968d132b30cc8c2c0ea057ff626bcdc59deb4c4e10d1927e8caeff3375a5141c1545f0baec35162dbb7a7268f4bd7873fcdd20438a9b61be447a571533bd88a51427bfdbc299fa74986c848160265225e213659ee83684ab9926d95eb068b6d7487be0ab7e04cf049dcd2010d96c3991e36ddab42fe21d0cd9c628fcf489f6a027476f3d1a62a5428fedf483283c794ea25643ba1d2fd5ce9f5e6ac7a28557c7f205be228926d67072c9a3bd13c692c42d117ee745e93432f341773efb1770e9832d72374f823d58a74a602b313209f283428a3a758ffb4e080a43c41eab2b92af2e38de2c1a15dd21a6c741b08685b1ee8f294e18b449e70a3529d6964ddce87fe3e3a5e3810cc82db2448e8048f06d0489e565dc6ee42ea4bfd91c281ad55ad52e0ca94637c62fff62ea48e8fafef562f365e854ab700a3431de3a9ce27278fce490961d7ad0fff7dc4f9cf0f2f1102d87bf8bba5dda6954df271a63da31d37fdb1f416479033cf32b501eec76481d356e246ecf4faa36c77e61b845ead9d5d5c136897c4f91734e97b2165a64fe14afbde5d9720912b5da531cf2d987972089ddbe2f6349bff94630f0c87a4613f2d72107b21990c7807d3a35fb3b6ad011ba025d79f4866151c92e50150b39e7ea9a04572a45e5c3941df158e8b5fd83925d37092ad3aaa38f375bd32b2634d5e9153d54b8c764c89e0d6b8f5f518fd1615e625c99942a8a2aa6599435c6dd22e885c0ce6e87f87995f34dd865f89b8a048e9d5fb5266eb545ed0905535ab90b73f105bfd19c7382f663d54703709f929677e2fb8133540e5a84875a49f2eb3bfa9e81c033cd9ca499463b2f226c63e74cbc356c870e6c6634ca100777cd209dc40af9443f2d01fc5ff949704ed742760f9dde50a61f09e3ae873219cd344b4981288e3f0ee77b79c3179aec116c863506b11ab7271e1a069e52f8e1f7e6f754a00fd3564e275730b1ca705f9e57650803cb289cf85a25a7b6f284ab1be5621582df168bc4652bd1e911be2fb33e0b8e181fa058cd7a5ce27b8ac0000cdaf1baf095455de4fdc9b369883f24ef1625de7f08dbc56fcd368337146b40a15d39b25b35c083171a37df40a219551f930edcf31b069aaf1df968ea415798f8e7092f5534cc6bc68ee73711480c2aa149e6290167952e6738a9410d8cef8d3234ca79aee5a9dd63904b13161ebc2dbfd5c8d2176abe8bc56d80fe1130320a6d5c0c6b9d438eefee517b70f6c8a281f0bf693412ded4b7a8f80e1378acf25076ad2fa4dd39d6b1aa3c89561187f94ab0b68a942e3300852e1afbd61774042eb1db6df47ac2db778dd30db58b04d89c1667e34217c277bf91408e8cb413ca1c2729361ec28795a9bcc6bd0a04a818036b4bcf7675cb7204d0cb1e68439c5d70d422e8ee81ec1208246f493b00308d29fe945cd1050cbfa1e4c941d39c11a80d844f3176603bacbb54c46036c26d961cfcf86d0ca4ddd27373c647f6925c85f42cfc6541e0c04c13355c58e5d7dd6f40139a1d74b6abb5303b569bb1d7cbbe0cec641bc3e5c036615b8c407bc6eba788d83cf7676b87f34a04c6a5f5bca199aaf360a939a31f3c3b4eb0058eabb8ae12dd413d9a6296dafb3aeb24b2c918de7496dd7edf7aab3799796b4cd8c6420537296d2d85bdf589a01b8559d33353b2bf29e17e7fe6843fcdf6565d6595ff75a5b22cb8a3669dee074d67a59eaa0582cddc3dc0e6fb67b714128cd0f1224e155828501899b24d05a5a8192cbd2cfedebb47665fd404d52f7d7080122f57e7711c34d06f404b0c32c77750ed19f945556d2c13b263dcf4a9d9ec59f3ab72602fa2e0b4026150bcfab328bf26de84c64c9f5d544fba91b434d65c299741016813a8521db3b2f93a3cfb96ae13ef59a64b0776ca2018b42257053e59e0d4bf99c8f077aa026ad65f467be43aa0e85614d73cd820f774a483b371ef53c6ef7e94444c2830d83c5deff37e63f3a1cd6088814c97367b327d83dec2abad97759c34824e9cc20e564f8eb7d38210d98c4527e9fc42b75702cdb265fe138bb45685ef8c58b21ca61ba7cc8d131789c55acae0a84f1092fa049864233fc78a3a6ed645c7ad665275f23b29bdab9e5056bbf5deef242cd4f21a9e3e2ad1240ac8484c831ff6f79ec8c12f8ba6c756246b6f8f5fef4bbae27888d7cbfbff2f9afd052a3856fb477aec39898f33cd07aa61ff5affe30ae093ebdccab4d45887743ab565d8d1e4b894b97b25e16779c721ee35aceb205c227c1e5017ef6c343e1ebf6c8ddff9e141bc6a428763bc472143a4c109b8e920af0d9b7b9b3fa3f402ddb0a888b12c6bbf365c6da82935dd75de08880f7267c27dc2cc9bbf0699e9571a34a862f0a3e2e895d8586d8f85eee16afb8947eae1b8417f5f1279735e5cc8229280d2501f88db6c82101df7fe865fbe111c26f613dabff4e278fd17e882923fcfaa25e1bc648fad17784957aeeccdb447bf770767b24aaae3d54cba673703e24b697ce28f240349815d01ebd81cece62e932ecc950943c81f8dba018d8620f2763cb73e1a3c73f57b1343277abb21b3e4d8618b60ecb1e0d7cc376032d9db351746ab67ffa8d1c4e84c6b1c5d62cce1e9b5e811a023469f306eb0f982ce692e335b7ca1ca395d8e4e03cb02323815b8e8eb6f43172f1cdd7d1f68a4803b940733be4fb8e32908f6e4af09785771add0aa329f27867fe348c0cc29e0066870d6e4f5dd3d700cb5fac8fb25be71c8060ab5932fddb0f159cc1e324b736ac4414fa64ad50d73ee6a907a378c9dcaa61c2bc4bf49e19e4024be7457748f6e4175968bf740b915b0768b34466cd044d40ec828099aa70bbc55c791f83b8ff0458c00aec469d4c42ef3b01a091c4c0c8c1e71b5193a2e15a6f33305d1b73c1986baf54409a94e4f06be4d9bedefeb60099df548014f8126af79f213afe7c73f4bcdf5b36a47f4607950547afc18bc15a2c61c899c15837184d1fe9b2869b6af11c8f77cd6b2b56c3cbf268d4884396b0387dac1bf964f6d8c68ab50b77550ab412e3823f0f0c3a1d5d47be8d442625bb9974199cba03b4c9e1129cae5a74d69f6bf46879c35042dad07b7924213e159c98b5ba0eea9064d36ec6f8d344de08186810583231d5965e6d68ceb8c5a389493af773944ba0e978389def5f0728e01790da7236b714541bfbc3e45aa57df19c723f04bdcc7ed2ac7ec787548a0fb6b7dc2943c77bf64f14f827d812a919b406dcb5c18d7d8f741bae338090723c9b58730a48e7834fc382cae020b139bf66fbc53d11179e5d82bc71015731028affd87003ab6ca24063b629220676c0152034090de0ce96833df1de1c36e5c7779bb28150939bc02000dadc69458284a65ee71dcbf07a31a9f4cfb858ad31bb79b5211a9e5f6a5b0e32ff8aa7081b2f4720ddef0286608fb9c08e24dc82f1dbf3b333f5adb7ae6b9165c438c22fe995aa8b9a37d14d11aa11783440b993be049450a6dc7580cba19ac77ef22793d5f70942599e7247529c15b16abe4184408d39981c77e23cf467cc5d20f32222cd6a03c6ac10d4da76436a5d7a35c4d38743cc31fffaf4b749cf0b0084c008388bca52271a3dd2ba0c7fa8128132d1b9874172bdee6a844d0d25765a94f268deb6e1af648460096ee45a445ff5258c1a2aa19fe562409883c87bd3d3836fefc94ec30b0cf3269207d4f459e9e0d67fde7f3434cc5abcc294fefa4650b3000526afe5061d05ca64721ea7e6510723d09fe3f47bb368d76ede044f5b07575e98089289499de63f063155915325a27482af3f6646386539ad7947b039f92cf60fc5c8df280dd35f144cb57d6ac2c16ee16876b6c522744d0aee8f2f536ddeba4f607117ba32d864567da8d0144adcba58372c06094b516b8385c50155da376b9933ad6a05ff6d6ed079fae8f6b8ff8c0c48283ae82950e1b2b6eccab8be6dacd7bfc5bc5884d7d244a10de9ca72a76e3c7472d38b8a816c1d1e0623e2c3349a5fcd7759fd882b1c261f4cdbb8954386c93eea5b64e34c84ba3593f4d2e771b0059adf07b123ce030eee6cd7c41fb52e922a2901085321c306fd8a609a5e9676b238682521bb90a2f5c5067c12548265df758c10e7fe351951ac3af5d80266bdd8c8f66eb538faac1b0d54b46d43242d3ee2762cb500002e2fb160c7f64d62937d595470d8d56a99ace5dbadaae224f7f26ee57197bd82c6f12a0b26f4ed695968910b5deeec110f7aa3b5cbc6263f333a7549b215ce902c628365ced8dd871b15804b5eed2f40602a4dc7947c06bc248c178b643da622fdaaca2dcd1c7cc1ce8834a5dda65280ac732b8a141629be530036b1de25d7fc18f2f1d6128c6e3366b8b206aae14cf2fb2468afa0d164b5cfbe7bee40a29ed03d169d5f6386f97c886f15dd59e5c264db7ec69e046922082bbb80eeb88f4741e5d1495b92625aac2db98d00050cfa2ce1ef36506c2191489e169d4bdeb5b310cd20c9190dded2f1e848ca594014bcc657ee0fab120041dfa6e7cc05671b83673aab18bf943e7ff3b2d2cd8e1195d6f5ca9c32606342ab8a231ddf650253c0d2d127e7942b1b9584f99d9b6bad1178de52d57306bb3b2d0d1ac9c388eeb77eba7f9575fb49acc1ba405324ff1a3f4b633d80a70b18e08bdba0b011278f1bc0b4913cfc6dbb4e6c5573eaefaa51fd32591b6182c610dce260f3afd3db190e6ff2303ccc024838858c75d1f47276245fc734def86200376eed0db7421e2a72dcdcf16bf61e1e691b7a0c6f639e1d4792f6c912f3119171d50e09f2bd586283d8852d4efec976ef01d06648e4ad7cfdfe78bffa50b73d2ad7c9879bad8992b053c830bb87a3193f66843a13f584858c2c1687b0c5524484207142092f7bf50907a7d13aaa7d9567cc4f0e98901283fd68739c934aace9137efff1c5bcd71af13636c4f23b2fbb3b5600a0c07581860c0f8a32177471a9d0a9b3e55dbc3df380b4073da13f6a53466a3bdf50f23efdc7c796544ec3fc65e6d2d3eb94c65df4169b8dbbe610e385af62f6f1a7254f082cb563a1ec8ae477578b4da12518d226e9608c7bf0f4e5b6d0121888d486ebf9fc80b7fe6c4c10167d11db20894c0eec8743afa9d158c2b02743fdcd593e47485cae77db01e83494f218e0bc41ec6848b0e01f478704a420cf7b212129ef2892e9548b3ba60a2806f4a58ac83fc6c46816b246bc7b2e85518112a274b20c71d546588077995b6baa3e6ff8d01f90c5ad1c2cb178c7724efef7eb642b8802a24a2e3b7da52ddfa969fea596b423d332893b4c2f13bba2d7d42ad6fea7dd274eaaab32cdd6cb9642d790c4ac4e371d6ae0418f9872d2927ddbe0e40155bda6d9e5f85b1a9a5ee22d4061bc343ef514bf907a3d7a8de9f64ffb4975b1b40e11047defec7e990c979e8bef00a02ffc00c2d364fe72e61c520e5b1e8a407305d6ce6b40eb9a7d77fefaac9a27037cdc0f28a6ee8de9ddcf73af23104e7b321232cafc517022c5684fc12e21bfe2cd4b8ee55845a7dc15e08df9741abfa4e3cc067ca645192407d4f4c82ed501be86373e89c12c4e8147dc7adb6f87840073304010749878af38ae4006c994481ada4f2e9975bf89d60e9104b348d940b98f7fd8078b2d03f1605d907965651d819c6f80e424c522ad7b23f1d4a93cd2a96785ce391fd5de68eef25b4e2d84558fb4d9a0887a649fdd1c87e8c82eaabcd0343bb27f5f7d6b20bbe08a1829b5bc66ac40fa09928ed71f959b6d1af68354a407577587acf4304e8a8d4d3f07a297a94f15b02f92680f218334d0ac0848e37e99d69180d2da36f93dda70d05af81dd8b5c1bf5289e20b2b36067b033d20e4aa74d7a352c397667157b342c6b2f63a4aeb6127d73d28f0e46b755e3a0761958c7510120f28f66ca607682ec7e41ece95f24a2be21b690cd18bc6b8807a3ef4e5953aa0f1f2a0a643f8b425a346ecd51d8e8c2444cb8267f4b562bf06c6d79404ccc1f8b4a0737b7002eb5b2eb39aeb64e537874c3de649170e23a2e7de2ae86d2350babeff9038e2a290165f490e933ebde9e866d5f0931b1739a25d41b28bf6cf9100e25c50e91f68924d553a22c9aa41a4d9b96bbcffcb0b08cfcf321c8036ae48f3a970afb6db249f68b342136ac86edc98482f4a0101f3fd501e26b4a48dc5ce55542a4d2436e0bf573ec8833e59f2f8ee1d1c1db4dbde0e4c2c554ae9b503722b951e304cbb66cf4759ab1fb2a148f8d17582fdd69f64323c9ee57125fddf14fc764488d58f23e26bd157fa3b549c3c8a91f99e198ecc062f04880d73aa63ef5bc8abb199b88954e57db5a0f9dcb746d7192c9410ac14ae3d2e0b11b076bd5d06e1b1cd768a97eb1c7f5e905cfae9164f7bb929a52fa1e958c084d7a88b38e7b97ee6a2acbbb24c47bb4322b5877b4cb8372ff188354cfa34f6011de0448e2a15bf2735235a2fcbc8e4dad93f5fe9d3034e16919c70003196e2812befa42c815f9bcde128aa133a167f1d55a86fac8f538b0edb910f314914d20765525a127f2d19294d7c5ae0257de1eef6e878c18a0796c8b1d927cf614cd61569da067ae8ef00158e33e21a3367937d0f323c8222801402deca71d8a02d6f1cd617ecdd5005a441acc94b408cf0c1e6483e384359a57f32801762ce25a4ca029de49edfb3bf323907c3e340fce3941570f0c8c809246f42915b2deb02ad28d8de0417502f3f2c0b12264e367e22e2bcb9c06136736d951f1d89a42834b3accb4853b90c100cd8ca4beefb36aa17bff36ad70ada7080e223c3e3ce17aac62d3b47a164c46eb7d24797463f32198fd368568febf67ea6403498c55c812cc129b371bde57518562760bcbbe94fa2116e2d15927e07045d630cdb8780420a19c61d62e239545e1545488e3c6da4e19d6843414f3739fe1c14e5a16cd5228c2e513e62d16b6de2b04362af4319dfa9d00a6680420d84827f00df567cfa77aad8b6170827b385ef01209a2b5b36f24a4eccccb848e972b536ea8ca3c41db18522a44763a9f3873f381834b732fbfaa2ab616b72274bbb38973d0f6411ad3c46f83fe79bd6eb42c147968ec0d7706a61239c7e951a9669bf24cec4733deb2660a4a4fdc8b0769af46fd9c90b3ef8955f2ba4e3bd26bb83d9efd4cb6fd8e8c611ce47a0bd6b6a92b8e069067e97e4127349ae8e34f160290f9616b4fd36feab9cad4ca9b1b139137d90274fa3a85e738ee3dd0867c1105b674fd3071c718e067ef53b36af0516e19b64678316aed40f9a064a6998227050107fdc4ac68705d455895f4a95fe6ece383e37c1aaa43020101857a10ababd64057a3feddb9c375bedbceaead9c25327290774224f673ec89a59cb6a2e7357c20b7a11909173b131bc49d7701be1ae0a44154b224a19296a37d4e8f29c9412bb270856168b2edf1789ceded5420d7c13055fc2ea2154421cf650da3c39ec68a2b5dd5f7cb6e4000ed1e5beeb0bc8990925bdaef7dae1ab885c22a9ea31feece49bf21d3e2ee15c599d0c3221c6bb361f30a83d8b308bbf37e176846cc1f45f828119ea5043ca02bb73e698daaca99da4f620c9ed3e08bb974db68fd1b33156c3866fd73972dd26c6b4ee0770b4e6e3ae5499d1271b23ec1f7eccbf5ee5a6075e685e4457b25397f0467141f9197ad6bd8f91755bd1806e003bb59399852a17c07b7a5002f7ac924d3892a6ab746f34e3e9ee0be22feb84a4122923a8456bf50224edfc1570b6dd3a3e35384f6c49a8bf77c2a9a94117ed949cc948570833782c7b03df7a293a1874e971df9f048299510d2b9384c688ec94462cdcc709152763d1a3c8a1bbe9a6286acfa773faebb62c9e56b64a3fb83dbf2089d0d19508d891d141cea7041585ef48d9525481badb1f5d078e8e1a36eb0570c8d05615b0a25f8816d5ada7559c76f872674316fe570fece68a34c4d7ac9ebeda427931d67aa83c24ec4df36b8f850c2bcf15754024e4c512ca41127ac55f5a5c568cdbf847b873a7337a3e2ec6367a34fe5c9e43ce1ef3fd2dbca06739a4af8b34446ffaf2d7c4b60a3d37fbed7105b568acf71b4ddc1123490f23bd9880514f1ff885419d316d340f938731bcf571ea5d3da6979968402b19d92d14295bd2bd9cd5e426edb9814c2f95dd2e1c7a3b76658f4a9e4dd1254be79c86dab9ec977bfa9f80f88a8d8b8998394298f087e819117495764d1dce2bb57aa882ef142c2dcf9880009a734c05d879a8aaba1bf351338d0d3603b00857bcf96fb8c15606ff29e48a822d22521454b68417d64526de2b246e98eccdaa062b38dedea1d7ed155754f7ba34fff3dcbbd5ecea0c2b320ffd63f2ac2643818720b9c7138703692c04100d9a930dc97ec0b8f60499bb097a196d80906f892f14a26263d49ad8fac8ce0cd8c05b6a50da1cf9070d16d3760ad358df8225cbd38dd5e0d57f75a9a96d8758f8c41d140c21949b6973346f1a2cafb0614fb93701e60040ea2ae7a74ba47ba0d8292c0aee2a944cd8a3db0e18e68b2767cf51df678df8c8ebc089c80528295b81702b571e22b1df87ef2dcad7cff6721e063f42e3e81cc73b2bc62d4f022eb7845bfd2eec59c590b4fdce2ddbb6fe010dd411d1a7494a9e4a728a3f2d1266417b98923f2bd45e5cba54227726423220df3a587f3f6cabcde7b140a1a060e7704679d0d62b7b806065ea13074c49ca3783f8da51ca2cbc931d634c5ca234d41e8f7a80fef08d873a6ea28f25b20beed1c96f41ffa5b28e55a5c450dd57db5dec2af83ea28c6fcbad3ced7ca5cf5d410aac8c7028f7fa4b2a3353fd821912e83b6ba547d2b151b8442f31284c6961c43131ad67ea5e2a2984466f884a76eeea2d1899ccc3bb4689aa41983416ba73367a8f25a41d63bbf8d8374fabf8918ccb32147e94ac79b7625a50eb7ccb3190f32e2124a203f71938de8899937874db723ddb67051f6d99313757cffd7bded222edc13c7117f9bde95f3fd241e5244583a94842858e38c1a225e5d51ebfc3eb781a44344f668fe81005d21fcf0efd070fd64fbc766e874cea1809ec9d6b14bd74bc5a12d5eeec930300350c95cdc836d8e7e5563c6e7618fd7d8bea62924c056bb461c25e8db30965c1e03b127a07777c76781415f0708ed1fb3f959c8785cdae6f2de5067e8ee49f758caa912a062d54e63c3f4a739817e562d6fa66af2f3eac3e347f8a9f5276ea1f194b62aa2a5e6abb0fd257257b88a74a1bfc63e15c46ddb32aa729686f805c147314b93defe19a144c51d52d3f535a7ebd9ede080ca63121174637ee144d765948c0b29853823f9f41fcb1bbc5b7d84850e5f1ee834770368bd51e9cbd60c8eb4b536f0bce2d20283e59a48c0dd97bf224985d376b8f955b43d83e48045cb5bb4fd8f96be82aaaeea3001456d8d0c35a4fd3852d12422fae12dd1c27971a53001a193567f0c072364c7282c0e84d03e19dbb427506e2b60abe3730da6f39a1bea27a10f4497afaefd7ec460c57c8362c3ad5a43da8eae4d25609727b7446122aaa2c84d775cb48b6e22b4f19ab2b3c04ba96e8e9b4af851d0fb1a5c91f8d600388b6ac82b8a92167ad01ed1aecbe74efb213db588d9ed5e7673e1f0c72255ad298f615dbc0bf46388c0c293c91bfd4fe908c7deffb8884f8e6588c32d08c44cec98a87db0456ed7a292ecf028f72999f3e49ca37376207bdd4d4e9b090d3f226fa5ef504658b1561248eb6c3b00b18d89f25b6c9baeea9fee4ebfc9ffde5454e398c74faec6700b880ddc4a22f3bc25426f9996e651030bf5cd507dadd8d085bda5b24de56a48291e649a85d24e749d69f6414629b58edc8f23828166e87ea15b8b49305275f456def5fabf84747226293c5efbc05e97ea80b16e076bfe90a584434a49722dc46e4ad3142fee569b8f6e693565c2299356b04a851b1347f046bd4672227b4f0adfe4951e6471f81da141cfbd4807b12c1388a523707175b3ffd14699dd88920f6dbb275a1e14e49a6a69eafc109ae2bc1672a3c345a9e197730249a96411b3f78454cf20c2ed3ed112fb211eddfdfb8bc5d9077f523f0e3c6c4b3670c4c8309a77d7a8ef6a7b3d25478387b8b4d51212e9bd471ba11bbc6186c92378240cafd1b926f16198251097aac3514af5df6f9a81eae73789246a2404cc0f9b7c68b247177922905fd8ac76d0af7d31167a972f799571e23216af57444b16f52a263b7a1ca4b1b74f4f916af03b6c8cc234acde0146a41e385df4f823335fc916a9489e2e92ebbbadaeb10fd0a187905e9b6d978f87829767e934839d8aebba90341a41f44897a8050c106f9e4d6023a3a9235683b6bf5cdd03498315238e59bf7ea2baab8c5ca4f54e7a9a310d057f99b4673eb67956f9389f2d4d9fdc194e37cce1d89d83de1b17507528229ceec9815f4938fbb04fe4a8a1dda751083a481e583ef79fd445a841c0d40db43cb88227279dfb0710b8d727dac16747e5656fecf3b53c8f058c8791b03699d404b1f859c02f48fe04e44b47b6e106b789b3b7e1a8e8d373c2b655dc02e4ad80e2a5755229ad85e6db804d73845e8b9d204ce70abdc1121a633d7b704f6986e28eea9e693115a6f65064f55e13ca5f7c0fe3bb4ac3d3453356558448da40444789b7093be58b5b7499fc5cfcd4afc418e0f4b19fdcfa43d244dcc4502ca91160db140989fba140d9fec25ff60fac3e49dd28e8e9f27b22fb3c834e4bf178ae346127246ea2695cf5542516f1a8a344ac7be16cd438bf3fc83651d81006c57285350ac0a11e73fa4e06033d920729adabc907fe26787761622c1c474f3e87aeca444c88d05a55c327024aa3363072bf93f11e026da7f7736ea98f7dd2e7f7ade52a5c3b58551b20e899375a5b03e45a857cdef5ab85f15fd8a216bb71e5b25f8e5bb1f4115e2a00670fe7781b1ea643458240720cfd6ab984b6b274c0b0e4f41181e2c06e62e966a766256bb327685af5f653270e20c6bbd1f9ef632ca96a9c26f0a2eb0ca165708c2b8b084e5af39cdf181ee16c4735636d044e8997be766d391b58d977499f12dc81ebbdf0727558a1fac221b2074acaec3d9b464755301a5ad95832eba17c237d03f87a5afadad63d47aa010b0892ab168d28aa80d9c2cd7f0b4b4f91c5c155bae6c9e949991cb7e36e82b51763d19d6b2fef0c1fb654d71e0ef4361992d1f854f231948e85a38f67b72e83c14e3568b08c3aca0e3e5a77e84ff5d024da34df3a2663133bfc12bdaf74db265712b4a8bccd1b017a1e7776c39e7d32b19ab540c7d70cd733c745a376daaae779c00a940277cd2b2cf08d09db6813470046f6581f8b9e4af4676e4f3eb85ff67b6fb277fc32db9969b9781f8fce6685584d4897b210b41127c0b6a317cadcb79b5395c5973255fa13bd684e82ce45aed3630aa89c2805320b0076b18b8b5de5bca0e0de8ae149f1817ce6f08ed65d395ee7319b069b3b26e2e349d686db59ea5d02955f3ff3dd03ff6ae03eac81f1ca3a62958316c264be7dfcefbcc1d4e6dd2019715f4239d12091b929dc966abba61d0160cf5307751e6df05e4bf54de996886212881418b298cee7d5503b4a905eb2845458f01a0b0889ece6595752314eebdbcf0076e92c9075682f5996e943517d46915be0af0185cceaff504450ca09167ea52583eb52a28486344b213e5a14957b7c8b3ab87c4b127779566a01754a3e7759173b0cc8d0b06e40665f76bd7a4dacfee049c2043c9fdc322ecdcbd317e1de95701ca5968bf3818fbb621a0204ee6bac3d8dbe9f77428c2dced3fe1766816046024daead2f34be488c5d889d699e9d044702421e4df4d151decde1f0775a4cf96bc27e5ed8018a8f7a7408fce7de29e9e2589425704aede7646ac578cc9225c4875d966f37f1d3e664866b032de75cd723b4f2b3fb56a6708522f478c12e847298dbafde26f75d842b6cb00c4dd4f898ea804967b38aea6834cdd16416c44664db180c04aa23b01da60d1d0776a050c3354817e762f2dfa86cefb41264a7163424168c3d08703db3c1b115aa422e8fec36d3de1a16b1e6a85f38c953100aa7728882ce45bb9699a22fdc16e35fb82425d7e06bde4ddb08e0fdfb261b84d4218c76284f67b5e2cc7409a188c8557882b8f925abc328f8340e623cbfaba1626783de86336300364ca673c1631e51683665ed7ec938ec82885c997f22cd5b5a7da7f4e7a9593e7a2f326f9387a715ea5641e42da914949c945cdf38272b8d2fcf7be47f9d3eac3351234d74f89d7c808a20001cd1eb9b69a600e7e70cc21d865a0092f3837b161475a6b3e91d2d268f6093126182af315a3839cda6f1d41047b2a714d2e838a9701296e1f3f686bd871cc585db3778c199240e04143d7470e2673f990b3ad6ac6ba0b714e518759fca8ae539d41c81c7f5c421674735f88bba841106857d34ced474235286217c20203ed0073965cb7317c87d78a7e05dcced4ea29346e3784023698598b36eb7fc7e98758eadb9401e96ea407647e244b3a7af1fc24133f9ec96ceecba74dfe20b746b3dc8e54278e0c8f46a90663dd8db49073dabad1aab2fb998f30dcfbacabf39207bcf4a56ea3b0ba09757013712d74db2a9c0cf07c0876dce61610d5d0f062e47a12362924f7cab639a4b1c9fb148801d4313b4bde5866417882e7a2d7e58b7f1dbf642e62784bad3efe73b22e752935ccd66b725291630450c2e1df5331bfd56ae6f8beca61179ec2e0110e66d9edfee438855785a06c443960b134c2c431aeb3e14f7f47e71cc43e01635ef62bdb2096a5c1ab92bc3d1a1cf0588575a6ce32aafefc7489635bd6aebf8e201a1e01bf2b30f9fd35c2c0b3c5a44996b571a0b3dfd54412333ffb6c250c88f3e802c508490c9195b3c0918121b16ea98dd685f7360f4881441d96fd148302352573433c7cfcec67399fb3803556d49bb2c98c82fa11269d8f9c03d51cf1e43a9756fa55c71194dbf354d6feef0f61534da931101719e817e58b03bec2372196401d47465f5ad415edbd19f5f6a48f117f73e9a11b0fdd21a4b2dc310462f01f79de58200661011f6a705f60e73d5dbca3d5bd7c3be30edde2cbe7212544546a631566aba0dd531780dc261bf5baea23e3407d68827a4b0069c2547f296dccac5df03c52416f672ba1b68a8eed5ccfe5683bad3f95add2d185d33d81aefc861f1a75283956de7e8810f26bb8b32e5b7215cbffd1396d3b105048c78de6fb634af96968dc51ae4f18c23b7cee0ab1a63404ac34ec76235e52818d15d11fd621bc9bc8fbf976bcc129446adf457fc6e7c4e436720e31b75616b55afb1745e18e6c14855286a8a818573f6fbff391ee06f55626bbd1a976c2f33bc6e190619058b949f9dd2eddaf9ef1979f08d5fb6e6cc5fbca252a50b2810544ea15a64c7e0f442248bc666edc5234b298945e0099262e9d8a01d13e8284574a4f7c2c57de5d5127207f9ce3a411cb257d86c25668363d01063b7779307b7b8670230d80e42294dd83a24e46047ae97d1164e8876effd5ce4e84556865d7a2502b46cb252cd2cb07e34ba4bdb2a3c411698f3db970c57dcc898d058d2519b20a408bab98fccf6a1b1cebd647448324d4f3d0c64e4d4ba4b5d006e549d74419f74cffa0e3136f16406ccd1faace2ece176e07bc8a259906d12eb27c1db27f53a25e8b0ac5575346c9d3790b27187c884641ac21fa5d42c4f260cb61acff53827990f16a1bd747789fdb4d9234de89fef20854d6a3578825dc175b77fec2ec1900ac04b02bc5390dca7544386c55ff648154546c8da4a3a2b85953c415fefa4f57d248b8db0170d1bf4b80b426ea69255c5d207d6c075e3c800eb3e9387edd2b5d1bded992962526e5116bdb834723bb65717bbd3b29eeea30cc5a8b4c0132d541297fed36df574ef846dd7646fe8214d70f19fb6656bb98c2c40d2bbf4b2210aa4de06db0f10659b0788fcb0d7bebfe10226b3a4e2d4c9a4e1b720bbe0538a2055a6b76332e039c897873aaeb88d600cae53d8632b73830fc6411d4a4b5b4c62bc0f177bda71ff430cb2e05a6c31597246fa42cf9b21fc975facd9c7888e063010a8c00249de1821118eb74d89d7c22a6bfbdeb491e7f6e577db91cf452ebc4f32e2dfb265752541da78acf8ee9b922fae1b236275b4cfc97dbe079af383b99836720792ff772b25b129f608a25edb50019e54444ba758517401e9c66d3678d55df21220f1d2e6a87c512478ff33ee559e8420a853a5c4c8cdd5366c9da5760579c11dd047fd66faf856f20b4f4fe22b4a0e19c190a005af96f270b7e7453ae720cf25417a4cb9c05053764c094c840003703e79060cc95da612e74df50e9bcb47c2c8e59456544fbf1b18161500f71bcc4193885ad3d8151cb0b3cb0813c0a4c1b884af3d7444d96e36e8563418dd64241141c56bea91864f8ef33fd3a7d73408311721e2e86b1d3eb76854ccf8b00c214d2c661db1dda04b4cbf73da68304b4a75d471d05e688f09b9544c01707ab930d058c3c8902f8398b95a6466d63b4ec55978756ba212322ca56bc3b9484053bb136bb4bbc925be8a986a611d32cc9d1bec8e54bb31c7e809535462a3f2d6fd7c065fb4a5d67881fd40461d8c348413f8abc9b1bf54e3031aa28d7234aaf8eb190d3c2aa7d5b64c951c758ddc21d7105312037db55295c214b8e37087d1b263b31afaa528cb57635669776248f0ba97bbf81da0b2be986212548bb0a90d88303b6cb3b55a552252aace94265bfb45e9033d1287cdee62ef31eb847f4c7e31d2dd9ca07a03a08e4e73416f479ea9472561c781b0bb4dc4ae5f1b2cb2db8d1e870dda5cdb68ad4169df623e64d6c835cf5e77f903eb65973bd10d32d5dedff8b4d7b818d67ba270e6f0b4671bd1ac984cbfebf7d8e9b5bc24c6239cdbb8c9fb2df04b9a6ed330d10b82da0282bf77437ba403465e052e8ed457ef720e850c4cbf88e38edf1b3a4dbe38a1af89775f8e75a97bee8ef56ec90e659cd9c143a4b2c3b30266ba24e8ae9f7cf3cb71d0dacacad70f147d7914d809c0afc3b197ae3f23d09629c244762b1a88d30f4e2763861a34403f6c96661325b50057587fe8d8acca861cc3616c737bf1ba2a0a06596db347fa973b35e5ea3c543f3a620efaacc2c36d2635f421fd1c9503b34993f8e3ff4af915d01e44f032776bbb4a67c2a4cf5dbdea565ae591","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
