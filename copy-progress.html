<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4d24a30cbe4f7cf0574612002026a874f6000a751e9f998a193812c0a3039e01a57749c8a213d9e682b12b10e982a3f0d6ebfc1cc43cea7338ddfc140e8873d740e1b0f4bc6cf1bc5f3c10ec493d05edc024d598521bc3d3e4e1d2081640c414b2f2b042fe3eaf1e7d91ea5eee0f23d8ed8d7c440b10b203251146babfb259f270381360633409622302dab662c4d585c06f54e80363f37e6b61e3f9099c0a2aac8348d4455ffda944137fa92edcd7096b59d1a00582fbba4eadad79dcd68101b348dc2dc23fc20703d3d714c37383ed551c31a727c77a242c72f49343cddf8fc5e1269d83dfc16ce250390fca4f7bfc135f9e64e3a69ba7e03c06716407fd4c485a31d78a32825849ab0f72bcbfb4d26075350fda666e97a89ed1dc45aee410c8725104bb5111641e7d5fc293c46f80c77ead4996382fe66e35ad9efd795bceef5d403d13c2db9ad3fedceb868e95c39c2d5756612054b60a71cd99bd7c18ef4c6f7e6bbc369c94d1a7db9bf56b25ecf10f86c5d66a4c3f9cd9dcd6b93daf1509139c591dee01c46bb9c26ca73f936684f5657d0c1d1b5585ada4f77cf44ad605717129ae59c028393c4145e4d423b695a014d816ce2257908e2b8e53d4910371b8baa4faabae50dd5e772f97749e011ae6ba09fc0dca7dcf31b5b275799b2f2d23354d7e4c31fa5fc793dfa09a421255bf55afe0c1076b9467c9bebc6c94f0162536e33ce07c978bbf40aedd22e9a4fa95bc4e5a6bddb41517e76801c490734a42e5721d5c24371b8e766abae4b002cf7f5146341afc24504dc8cefd1f5f8843263f6f1a5cfe048e29874b8d27f95aa4a111f5fad37f83215e42c94a8aae99247eaf59a89026fe219ec6e39ec57dbe669e1fd8dd0f8f8f324e467d8b9f345eb4ec25179a7482b8280df47a1c4e2b3a5e91e789ef34e3e9b105a2e1cac348acf5fed4549fec49dccabc7d80d010f11af0b844b2aa98f64ef36e444ce2ad221b1391d4c4423b6cb2f73e72c4a3e22e02edcc7df1509b2724a74feedb86fee5208a6b933395b63b91cba640dab07bf8f81764ffdc0abe51b2afcc1ebd31407c0efeb79cd7cd47d7c67662e5dea2f633e188a2d1de0850053ac1723ef7e226ae8d817f45000464ffc64f76cbb7ec70c84a9825bfa679bd0ea41f6a39a19ff744af287fbb38642d362f9f4f662c19caa6812495a5f00018d292fefe0f100967cbd6202420ec2db1012976a3f1638cfb7f3e9c28533682a54f7ca9ad94b1d3daa66794e15818870dc7a71415b1ce17c76f0bb833134235d94059e74f0444d7804509b8e4b9b02799c630ebf4f80e004c88513051eeb1bdd9478a7b7cb37bac3bfec92e96452b32a177e7e893ab0144c5f48763614834cddda59ec0bde377977e05c84a9c8b2a51a5d1c58c3e87122f90aee1a23dd4d7536c52aeb6ac583dd0a33f6c8cc7f60feab0555fabcef5bb1890a1f874068d10e57682ffe0fd49c2c867ad04c5e91b854b0ecddae941db2d3d1f4cf6fee7bcd6280bde53b860a28f2c46648ccb822dc6d3577ab7e1a6453a9ab48c6a33fd363e0346a0a3235f0e7c526ad892492f46b0341039063d36ed5d55733acf9ad5757a3055f7b36052f63028059f68d900692449f3a573fbea4eff74715ef8fe8a0dc1eb2e2fbb842f1879e74e96dad823a107cec12a3e5805a913eab7e34ab8257d1f184a88c0f6638fec00bd8687594e849885c3fc6b768c8647c6d178c29eb1d80a1a5b316634fb9f9ab5f5c73688474241734291f5fbad2c0d51609156a41fc35e43ffe43ae64c3dc7502dd982d31a3b74fdcbf3af01d6e2e10525bc947d2612a92e9a804cd8d08770fdda63d2b5be1378600f958cdb7a24ab37632bc02453523e6e196660061df0c1d2434011d763524949637f145ed1bd4e9de4432ef834c5c154f47bd14ca8254375c729462d477e55321a920115f39a3e2efc3706f0ef5d38744ccd903da027b2484c9ab684e8160b73f78d1da92d2528ac3dda4ad8baf644dc8e95a1f901dcbcd1fcd871f6aed0733f37db809d48a31d000240ffc317cbf728ce20f6f22b3a05faa87197b321dcf7f5c32f081e711fac816b3e9784f89856db034165d1b44858a88e790d1a302aa349bfbef091539c1bbe6793c5505ebed0972abf49b94ce3f13c4b7f341aeb44de131f02ab6dbb81dcc299f11ea0aad17f96a8c1e25ac63983bc079d362b78c7010bdbc7c0c0515741cf92a8ea27b5fc222c2aca1cc59ace962017b330242b6ef7dd1e4a34cd7a2b41ecf12edc62bb91d8fe68ac4285884cea6b9bc11bcccfbf77a5703d0efb36806fa0368f49ab8f00a8d4b0083c5155b429a61d26243545c4d5d077dd14a736cff557804727555ffd577942a85c8f85cc1505a762b3cbd6c887be21034649fa9873f842ac302d73ef01117b85490783d1914b9f37e800f2e4e79027555f9938d47f4283da1166667521cc5797f887c84908ea36e4f7c87e75a5640f958a741d6082538b77b36c850651aa0bec4ec326d59d41da0b25e6a52a86de23737035fd2c88a2bd22772c9aae45f8751a1966f6a5b69e72471e7f34fdc6173d1d9cbd0cfd3077f16c6a7c974b267d93b303df38ad1f5dcfe854cf81a4a03a5377221a25d555ae959526746963393d29f9130bb3ffc9f504bd300aa44874cc678a2a5564b8904ff31edea0238706d11ff06dbd717d5925651ba96027ce47e0b7fb118e999607dcbe7b197f53135292453272145590932cc7b40bb2906438050cf3c8e8539e1beeac469c7ded1cd1291392dfdbe7ab24db90134e3074abad92aa212f243f54b98db19912ca703d8b9b81cb10bcfd04112a28590a348ce08934ae74843f1b1b734e82a3f61520341cc46c5e3136e990c76d30e7ff8d21c712fc923fe5b6034111f722737721565196c6e88f8f86f468a85473b17a30db9ff410d6ae939a77eebbeb783622075c5a4f00c9279f536bc95970e875e2114241de06f374cfc2e573ca65af31a598f8a2472fa0411cfd2e529e8e9b6327eda02c831247496079f3590e13939addbd7a63a04d9752dde7ee925f1c61cc7d419a2e3fae06ff8624b557711d681255afeb5730013fbea0cc26b5ab93266a696c89edce69dcaa3d1542488a426b13d9dc3cf5afe4d49e565e8efb68e2ad53edf981a3a7fc016e4143d758ed198c7ef779d347d890379f4736b6179cb491e0e1b23ab92529e3fbd84fcd0146ef9cb8760f5c25194dd4f4efef8c594b03950830bd84a812418c60a475e98e8f1dc4e16107bb50abadc0366f108bc0246038290033160a38db0801346e0d058d9df3eeeef15bc71532b2b04fe0880194fe09772f018f10c25b21d18ef7a07b91dc717f40a0bb936b578e0f2d19adef41be2b9920c2b8a31cf90048cf0845c3018005edda38f31c04069e6e0d35d43a43c87a51f8adf1b33867397279c55fe9401a5745f5f285fe1564523919dae988e2f09cb30c92db53b9bb0fff8a30f7fccab620562a396314b3313112d808695809a7ee90ae7e76f163aad675932824bbd46891ce308ff79819fb3f3047e46a38424e5b675629bb7f4f06fa8cf4096c9efc40ea877051b8e01b57decfef94581096782450df355539c37d3d8ff26e31f44fce4bfd8a28a96dd2db17bded52ebc5f610caff4e3f9b06923523a0c71ee8b83301161d08e8815df8642334d68d379169d0c8666a01088a314ccf256d0920fe90ff20e54affb5348c8d8b6124ce31d6e058966760c9082622eec85887e76791b89e9c8473123385b984cbcf03f3d8ce87213339009ffc00ea649b782272b34d557aa091395dfff8f2aa98f934443f790f11eda83e28a4d7f04395247beb376a6824f0788670542df7af17ab04cf56c5e3f863301fc583b393dce0c864ddc763a4cfe60ad19abed78684f2a12975715b37ac6805907a1ccffa55d12bdcb6cd2611cfae62783b126fbbaeac6db4e6c530d1a7e2101621c4de47022e7f5eee1a44ffaacba496890f12d62e7820ed4a7b7887bfd543040bb56553b7c448d83afc0627e44709c358113c9ca1f834aac3caa89675036b5db58ac61a1f92ed13206295634f7b91b1adba2c8a72a01e5db8838df50754ce7e618a2649a86d5c2e4efb00a860a73391bdf058587f492c15d8db8bbb8b37c06f2b03eb3c6dc0d887886451b1c6470b64c722d3842374ae031dbbbfa7bfd984acf6632d8085b5fc8e44801696a759e87ae32434ac13d923470798e00e37282309f5152ae0c3b6d436a0e28d5b2d78fee9d3ee33ab0760adceb4580c77b3497638809202a4ba9e9b5954ec1c447f611fdd10f5fce231f9d642f0528e63c114306df032911acdbd0a72af3d4ad9c5cf7c7424ddae120de1cf39b65ac6bf89901ae096487aa0f65574ed6af22b6c6b03cd93e237da0868e58358009d04ce2eb8c77c705b8eed4e59b59b43b8702cce500a2c299258cea3cece55dccd6fb15175a28a1ff7269dddf14b60b7e8486245ad47050eab1fdef95321838f3128de0782940d9e5c71e6aa4bf7e9972eef17aa49e84f114ea857687bac2f3df28b5008a95bf01cfcdacb897442838a516b18a52b4213930a2777ad358ae654091b3318981a321544de8df15bf3d0ded99ba92983ff9d2e5546d946f987a24849135ba3fefa2e249c6b255dfb33ea23df9aa00e615b934954165e3acd0bdd0c4d9a7c28b2f70990d257f95ffaac9ff57684a66babc924389666d619b1a1d1a7d05219fbe21f86620ffa91c6518c23ecdbdc6cf3a5ad5bd8acdd02b3eba5bd18f866d044b5869f4dedf3242832c87cc62b0f5029a7fc8d9000b7c0340a1bec66577dec771f16947cc53172f67d881a2ac37a93dc0ffe811d311b5a0544e7ac4e4a253aa8c517e3594b305381bdffc21c4ca635f49b8b8773cc37ffc03cbb1a97abcb0bfe6164665b9577b0aa26da2de7d234a3c99e6d5920979d0c7ee923db3744b078c81a2d68eb5a681b984a20ea9165dacf5689b5c495a96fbba7099e847597d11522189acc376142d228553dcaca9ed12783e121b1119b4c47ceadfc8cdb5f317b3740f654caeeb39de1cf8b86b907f356a21505fb3868e4d396481a24462dcffac9ca52b7f9dcfdcbb6c75ff17677ddd73ff66cccfba0d510a509d7d990ab0bd4d8a1964123e4aeebe9580437e7a16582e1c31a3c24d84e9df9b939ece65d9bc441f448d9511f7cd051d195d8ce35c3dc9d837b38bbb1728c4aaeddd650cb8a630976e54a5d278aae0098697537b3fd8d91d2587b868a217acfbdc8b63b0ebb9f4ff27303514afe7dfd2101ae1240939e958076f730567168bd0a3bada149dab9556bd2d95303529441a6989d2ef68a902634fb56f5652ed58afc628c5b532090c8a3e255d06d633350b6276fc06f0450650bd343127f249e15de5d7a3e1a268941ad0bd529a396611bb104757895959a03140cf3e0e971de4333c0bb06f02f46206d785af0c3e175eb4d7f32bd7110082ae0eb92a18139b65bfa93ecd54bd9a6b8e0a78bb26d46c36db6a26596304467fc3ada349c2bde821c6e6951a9bc6b45be38f2c0c42e9d6c53300dd1a476011ccfd4b8468feec621b083a97f3ca9c7bb69b36d802ccd6e0a7a3600404e318993a01b0e8344b16bf12031656663ccdfbe5a08f5b1d15fa661a98b3d7e468d498afa48dc9237e39ab901ddab4eddd502157e54d8e77404ab94ad26f198988598caf9fc02fc3a3db89c64e70555ec6b4e5bb35370325904d21a7838fb58ed59cc76b0022b409dbf5db59c995654b69e0c68ca8ea43f610c38ee6d8b2b98530d5bc2e79fd3c3fba30fa5f096f3536899d4001ad723db5d90c2a0d680542401fa508d33b3725317153ecd67803fe7c51e32d2fb6d0514c84853bc809f42d2f292d8886c68065501e463c7d14f2d8ecacf5f6da1b7d8647cc1d7f6ecf26804f677792a62b68539d20776c2867058b059f9b9d6dfb32bf6caf3dd5cae810d9ef0bd74517cb9aa1a70abffec895416f7f106cc696c29e689c19f87c9b0d14dd6e80265b25cccad0873218c1fa7f12cf1029dff7a70dfbdfc6df72dc50797efc243b6e835383bd6a72a5c0184cb54f46909fb9edc989f7dcd4923e8c91a67906f7cd50891dd617532af383be5b490b003941ca59500416f4bae160336046170c5abd87550fdec414c4e8137ce39ea541ba9ca90eaad0396b233bb87858b844fb25b7eb90551e9ef6548215c3d7ef85ce19f5d89d5e620ec4759ae074f67fdda6f650e7895c2fc0b9742bd1def3288db4c82a81fba393f8124c6a7c27c54e4e59c18dee5057ac750fa59e4d4836549b89882afe7fe684fad7ef575d719d5eff7f12614caa58f6e1ff6d92e4f6465d8ca29ceb8fa5a24c6b7b54e2084ff9d630b0b07b2f8c4801e804ae15a5fb3be1f965d45441e7621a0b3046654c52f554d60b798c7a23b6d128ddcb8e129b200e67b5ae078c7a03aa02ff3fa54803b25d52094d3cc3bdb9468ed5e627595eda5551c03765494935386f1297f4dbc6cabf1340c5e5b5c1d926ea35c7bb9d310d4ace76fd9b8015bbe0f85770d808f44d2430c9e8b4cc5b8bc7c219651346ff7d73ea9fd0d1ff258619265e812a451c8c6491198f4b604b2ff60be5ddf8c0c62fb357bf62f18a9213723ef68cbcee7c4150d8d397926d5c0c1a50a0eafe349d16c127ac965d7f1297e312d8ca9c5e043c00ad6f7da6b7dd412c0e9ffaf633f0c45b6107bdd6d92efa9b263af4760ba8b714a97347218181f5dbee4682aa0a8dff5338ae9f1b6aa162d15d8061bffc4cbd580b96bafd8221cc7f074bce4c08e4924e7f88825b0c1cd4d8ba4a13d5ddbb822f3887c9c175b44ba4ce1b68643b2ec6e12764783520a9eea01cb107fc2256679a2f15610bbeca36f1909a6e67daa9decb31e271917cddedcc542200b3f45c7e11f8ccb28790fac832a8387634d90f78300c334c3bba30816086f51ad72a26f48d3b4e75d12e2e44b6947c40961420ced756281aae91f99e271f83506ff5e19870438904fe2f763bcb77eaeaa5537c5675b7a6d05f93dbf3879041ca4fbac764b5153429653c31e91f05ff1c0c644e702e8c1f5a605259969794194d9cb8ecf26a27c4af27cf599d6e8ecec6338001c80ec26c59c46c1704b4b74f190ad2c4cc54f419f82216798750c7b43060ee5f5efaf57a3a306f6127a2ed6f94e6be516ddd5946cf8158edcec0e607547f453b35f69b88ebfcd595af5bec8f3f5a5e1034bb7c714cc042ec39c70f607d072c47fef6a07aa6d18582e535e3c878e18f86eaf617a9c6c3f6825c9216144572096824b3232a7297dd912cbaa0815c5eacefd955397d64af77cafcc9447e134c66a761b39a48a9c24ae0dfe9585603f7711962905234e07711396b0a0ed10d1ed8f992d90324ba859873798dd39a637fe9e9b54260920e7a4033ec95b16a4cacac9e72ca5422c5a4902e18df81f00853e27a6bdcea35c73704714248f28b7aac9b0a0da0a4cdee61ca3612b90605821b58caa4746cfeaac29d705451a13da2dbeea40a8eec539d47a4e969aab17233c9c73944e4e1eaea3391956a0d0891fea5ea41922395d35a4b1f22f2e1dc9e37b4ca05d64780df57db59d0489974c51d8c73c3758071873168831bb3c678b85a68f127cd903b083632c203d9ebcb56ef394a307c1c92a655007ec639be4e952a5e5378a07840c8ee03f52776f78b0c845198b00ba94556a5acf70b07dd83cb812eacaa549803839b3e5b61b616f45316f57a51c8387a538a3f16dcf851b671c1d681781a20d4bef56a2dd93fb1a7a876702dfabf287c8aa5b16f4b87e917b5b89cc22b089f4d9d9276a568d8e6fa965e1493d220b02778736989ccd75655dd36dace03b5a04cd0bc4480fd4e05d407856fe64a84c4b92e30ad82c7491da827c87f0b9bbdc2daf05c0548cd0b35f9095b921f70fefa1f32728860bd75b58b2efb5a8c07ddaf6c158185d8da87a32ab247a7cabb26137c17e0229d45805c13bdfd9c815230cc50cda35fa321cc90ffb2981c12ea385e5d5a357e4470277081e171d292144b66793a9d07c6c66189a1381c11897dc283f98a417578e4b60cb847e09a2d82170a9067b89534c860b9c61f72dd3af991901c343b055f8152fee57edb92ec9a5a16a2bced7edc1b9beaaefc6e48ee8a5fce7b5ceccda00bfbf34405226e860c939eb75cec7c4f451410afbf8af94dae1e2848586ce8d80ee38b86b97bdd64b7e96372c2bd08e0905494be0870b576dab0adc7eb1c33c2477171661e412386b16560ffddd9471b613bafd6651138dbbffdcda628ed6bea87e10ab5f5982456c43aac1862a4d21132900f3bc15ea194d78b55affc2bff35fa9d6106c3d1a29077fc06321087a8c9ae64320b2d4ac0e9d7373d289576343feda005a3ee4d75f1b9b3c67f3a28254f15f8d950fcd0d1884b8ca5416e2e1e528af74a3e38449e40eb1463307eb6e84da2102ecdad5cf6c2b4456d32e0ddaa394f2f3ad674ce3ee2855b25a8a5e9c91defd2fb64b2bebd2404d6b659cde8519f3ac82cd100eee74b0ec9b4a9e24c3fb49fb7da7438024cb3401badf81eaecdc9390b5f0998a574d811981383616f7c54c873ad999fb3a3cc844b3745374b5301db1963258631d70983c0c481f258541eb6724da53401c9573167e30bc27d27ee6f1e04e976b1d527ae4b2d88b085fc6d709f0eb133860843abd57c2794e7e8cecb812c663090090d2857b8e643498b635ac567374ed3c7b95bfd53e99aba7c8703f9270144363ba6645ae57e36a03dd7e1e94d5ea15a25d6f48fb21a736b349d13e7db91c890a684a31747560e491995c524d93e34cc98b154b6d92bec505c378c329690e3d00cadde57e4e927d8649d1c3aa655e2c27b34b0dcfa1237e07e8b5a4a135ba808b5f999e657383d35c17b5ac085b12ee0454658d5d23bb009a2b930d1c0c20943e63ab45f5bfcf2e85bd0587c57e8903b357b86c2c605b9c4406f191fa59584abe60a0be76e9a97b648f8de58eff6eaa2e23fbaaaad7ef0c560eec518fc2cff549f2261e22dd2419eaf6464c42e9d85a6573349eddbdb72750c3dbe7c81274efc72ae66f5cc85bec6c3421f6fb42017e193cb0cd751a86ada6240e8e66ebd0c8ac62f163f07c347458b0d4ce521f83fde822ede2e314223813519d763b90728827b11bae067ce03fb6468f6215607a1cf113893667fc8db1ddd1045f7783f626d5a4903e182689bed3ac4275712b97fbfd268f1c56be7bdbb438ae93d58f7a55b08c19547fbb6e0ee44a66cf23e5deff6fbfaa8e6c65f75720a8f1cbcf19dcfb12d367c0b2d0fe4c4adddd34e999767386d84d8cf1ae48e88eb2210de0489f05bba5173d6e25cbabe99eaa104d0d6eb980e249b52b58a8a5a4998aabcc19f366f617a619ebbfc022aeb379e16c275f5768f85e84b2c90c1ff23ee6b393bc921d25f1db2d78425fb6beea82dab8484fb47caee869044b33937e32f52b50ef15c27690b5d098b6bbb70e330419646a4d3285d9a931bf0536f6a60339d516dc84970ecfb1d13226672c3dd622b2c3c3477c64708ad2b1a8aeb95b6367ba60a4e07ed6de2cdd3b22eb70664395f7bf16d68366e3beaf18144be5720802ba1796bf527291a29ba0091fd11b67139de843021008195f174cbd4f5ab8e06b041295dcc7d94d7cef828ba9bf11fdd94bf074e0715a3f01f18d34f796e9ec62a4678c884d4287e57a3196631a72dcc1348b03348c9fe34e3c851949f5d369703239474c3add10b0ace09f9c7b779db672644631535720bd0b7d18045a795d25484e4bbc679461b28ab0e5fbe9e0b29fea9bfc6bb85f1ba9b8e6145fe3b086c4d8bedb2399821bd07763b03ab1b9f9f261aec3143509b8c4d1c1db2922b08626699dd491954f14bf240895187a7fbc97002b27efadc04cec9c4666a4a55ded30af2169dae22dbfa4016d9fd51b92bfce485edc68d5de9a9395eb014ae265c0a3a25ad4dc2218761681d1a10a6732d8dea8eefaab3471eea36da3968dac3ef97aba0bffebf87edf9ac01a9bbf382361e702d24559612e406e16e7675dc63c12f4da8b0cb4da536aadadf0634c98c45fc24b31def06a218740de0228d18584fcd2933ab5892ce537e8c401c80f1f490a3bfce416f5ad516e023551c8be5269e2e10f04ccb50a4119c46e57e3be4d5f121d4abf0aa6387532c484873a1da7db2dce57acd4f864670f4864b02059f7d4b57f0375ef78846154e9a1fb83502364503ea2e7b5f97cd24d24821382f5b30a9065f86909a8a81d247682ded884e6d12763aede0be8da50bbf6fc4d0a72f0b7180ab7135d6561407219b5b3c472ac3b7d905d34f191f4d6944e1479335bdeaee74030706f4d297991324cd9e6568c26bf37f0d14daa2cf9b8e7686ae8ee09925178bac1e114abb9b03df46689110f1f4b8a8eee5170eddc082cedef2aca133fd29e49e8b680a5e090c2e9766bba6aa9b9da6a55aa9705439e0859cd0403b6c0db5fc7b8b99cff5a547caf0630b2b9dfd26038e55751f93faa149b00688390ab71e38ee75499ea98433fca061f037f118e43270df4d03b83ef1229d279e82c8bf2456016f4e5bdb5e11aaf0e6a4b6976bcca067a020f94cb0a4d357758e8cbd9d104607abd4aade1a4c71cd32b6e148c429c2cbb1628d82d8739eb0657ea61e8e9ef9a9c0b096f4fd9e0b7c28d2be429da3c4cc15c7b46d28d8a8138620c90c04f2fc4c76a9dda102332186ae6fe238ee93f94350d53f20941fb6ee78b6a2c61d4d4d2c5fad6dce40c8046d60ec3b56ae5ea1f64f15d4b6d193989b06f5e2a22480b218d6d8384bd64ba20d53ada4b1069cb753fdbc999592a1d6936f1c12d0d89818cc68789bf780d9c22736f24957f1fffc09280b6885dae797079fc97d1cc3692fbd2e8c869a53be9420864791ee38973a90ce6a1a27bb7d94eaeafb412825c754dcffceb96160d5e2c20aecc86d832450bbf7f3c2fa00d138e6cdc69491a7275baf9f5f7183beb8dcfb17a072b4ef3f508dfc1f70d1ef59c2a68f53fc8d926067d3a5bccc7bf0feb26aecc736451df6c43e68339e359a5430c011647ace8bf9965a84be676269642983417e24fe78f261f029b37c390cdea60b0b0733eca34788f4eb68120870423d6009646de6f1279250d723c6f14b5835a25cb4d2d8c8053428adf7715acd4780523ecb826cbe17f9dd547437e0d32fd54adf45d5d719193fb9b91c5fbb1b6f87785d4f2c37f45e8b499445818885eddfca3ccb5e1480d9b2a45a08765e4016c3f368bf7faed2012b0ddd06103031585cdd1069c9b4d1062784a87d81d8ce71c10b2af66322e55e4e8e93af8e83cd5d0dbc83f1786663b7b5968a9e00c89d63646c3dbbb4bbce2f5ce4b7db737e703fb6c90dab39b153cbce3413e334bd02031ef0c0860a0d30315aa0f3274c05f09b29c175e91604f43eb6ccda84a91d5b06a6ae501e012d95217cd26d74772d7150b505a1d632628005e1379c918af2309b06f51c6b64303db71cbdf9edaf10f58a75e4b610b31a7540f8b8e2d1b9a846db6e52af9fc152f1ea4337fd9bd84eb6e8f254c7ed1251bdf7f37ee298049d6ecf97f51ea211a15e86717ee6889c13112cf89a59432c4358e6df4c7390116661251fd5ef7be970c050e84da76101663ef18c38cae01e63d4407182f3854307459fc560794007bdc277bbe4844b4bff41ec40f76bbb532db0e5624b319e0ddbd6368cd7635af7969dc37bcf62a5e2db057f228cb0ee02da0065d28b50b2bd0c05f8fa37a7dc5f9c04bf6a88d20fc6009377f1abdc584465c822718afc3b81cdcdad13257f42927e9ac63a1735ff19ec0d4254a9224818cea7d5830f623edba962c685e843f57ee5569a1d3d49059dd853f70974599d67bcde2c9a47c71a06ce38b44b6e43591abf09b0e11e73a828340b52c7beaf9189b2d9bfa50e779692c843333a4146acd1118fe2c3ecbf59b42c24b0db9f2096613a8f322a6eba02cb7b5c78fd56eb26235660195a86a48822b22ebcb60380df6581ddd2032981a55916b818ea5b78bebcd7221da9877e28eaa4fc16a28acc423694a223feea308f548d87e3d3258143743e2f3b9c9a87eac8f83c880385accc1a718a13d44ea0350ef65fa9507bb3451a1fa710b976143afb8be73b6a07483e3962acfc5182a1bd7e31e6be343622b7e81e6b3ba3b78a195fbcfa4cc5173b67c42b5d49a831441709f0a11b460de791d2a9ec17a0a34c1e7e85e9b0c9726938a51c9ec826fe55a82d49a5564b977fbf935245d85aded0a82f92c2498952fd196bada7e4e327c0724dd0d66781c382b6c374106de6075cc0a042d857c3a1f7d468068715cfb9294b1c8b85e2d013ce113001f5a20188c06c6c0388599bfb603774a260c285dfed0142aca683533abb8a98ae6f3123ea5f3fbaa758b2ce4ea48ffd03312a518b392e986a6722d5e5d76d907dec2773452041d55a3946b37e36d7de781de908f35a285869de9e771e668f382f3581fe15a97cdc3c9f5ff5f2016a572f6e76ff157f549bdc0368b81ba37e745d5aefd2cac753e8709f0fea8fbb99c6c42962962749af08dc4b4799231311c99b8deee4787784577d505601943858a525d5d2e2f7beaafca4fdf7c7d69d787c5f25aa9ed02dacb393560e869d3c7993cfcad6cde45d8078393f55c56bd9eb3a51cb69d81325fab628c9ea8b40bdacb61d8be02b922c232ce4ba09011b850a6a7393c169987a255935ebe081182f56c5659027b91a633ec04198b2e1ac711ef70ecfd1acb490a1b58ba566b331df03a79fa9a7d0450ca195ef3d770efcb450376130fa942bbbe1ad4b4f24ae25b03dd3f8dcad1854cbe1367adb7df07f5e02fd27c3e87006260dbb506a26b9d901f9176cd92cd282ac02cbfb1eae675678002ceff1f77283d0bf959160ee2e9934da531afb69db2c2b30869a53feb0ace2bf810a8dcc16b99df7232f2d6cbb3b439b7df7243b0586cb687f8f03b970a81776a37d44cd74797c65b50f65ca0a1cae762894d4c4bea7e76cccc659c711b6f3a3eadb1ddf54defe0ef536edd1022e697541cbf89e5b2668dc67ce6a611ec075a87a373fb7d7463e4e571b0a0d3dcff141eb0942b3bca05b3aa51c25244ba647383f32eb7039d51fecefcb6d15dff0e6f74d25a3922f4051e8f137b896200b76186c9f0f93a5fdda81df866f04d782d008e19632c78ececc81240c7033e081ef3ee369a15abf745edc2965ecb35bce05e988b4f678fffd490c0682b8f81fa4de2533b63226d448eecd85a42d31aaed736f5740fd2e208e2d7d64b3a08be676a8b2bec543441b067a00bb4034f555476ec755f400c7bc35b50a18a88c0247cac179cb05a9cafbfa0a8e34061827eff155ad749111613f23640e37a50941063b8a5c19e965e3c059130a9f2b9d5f759cbb2abbafa887efbd040a516756cddacd64bb07cfca3f9295eabe4f300c9c8b64ab9e2cd98fb2af23d91d1655c41c36104863255a85083d9832e31e4c3d12ca77de8bd4d0547a0662daaa941f2495c9e57b0af2eb3dc40038128f92e4b01f74da5b729448d44c53f49efca82c7ebb9bb5497104a6ed5df3639f7eeab8426eadc976df62c8cff13903ff01d5ee68c9e8dfb2103eb89d7f63ca9c1848e4f33b907f7cb50a58a2a6efa77cb6ffc2dd77f03439c125d40843a707054faac3aa0cde5357df76610bea3f1498ada2ad3954d58abb6c82817617079bd1bbcef5e44b1b905ca6971ddcdc74eddda45c69b3857420fd07040cb07f8ac26a539660459a092e989d12b4d08e1b36e76b6226ca19b2b8ca0c49cbd59128e7cf82b011b1f544a9f1ac44eb76e0550b4ae15278fbc97744f8921f0072d4e5be9e946f7ee3eaaf6d7856536c16dbaec9099a81a78f8fb2533667068d47aec970dba3be4bc8c0ba35bf0099f712df7d16dac075ddf1d2065b3c60f5bc8ce89b416ab8ab21a32a32d5fb09bc8354445ab7bc8661448c8610d0a7f3d94bcd43cc5e1b574480ce7520efdb4ef54f1218834b4eb3d6462c48be4d81ee080be26b20f45d0d7251617a5f83d46d6561767df99d6448e307e68c8b482ad76b312726ad7c8af39ea64cfa5a94baff40163d4f0a0c7006d05f4648859c757eca9e73b5111d34b29aae9a50b5d953f940fe9b66762ba66ac267bf5d566781321e073214fa57c25ef6a57b94f14cb7c906030e45262287c4f6378d3a527872b4993ef36dda2a119f4d38913f82af12879f6ba142c24524662b66f7f797a9374396ff154844f4359a99b028e45f012660f1bb18aaab0e3d1dbaff432830281901d9f0498a011f01b4740071938b25b76c31d1ef97149bd4f19eb045069a04c91cbf444ddde0acca4f574e5966a17e9b411b83041b3f662cefd3e07a51afb67321b8aa1e65c8ae123f48f27091ceabe7d07455179c04a32198f7624dc0dd486b8ff91c4692e21018baaeaf8d30e6e87809c625d54265ab4e90564bd94d870d524ff51f5a686b8faf1945e1c4cdaf3b545ddf4bebc9d20bf5082cb88f239d2d0ce0e8cc3ee32700a946f553dc198c4b6574d01a3a9906fa91c5e1d1639b392e3847dd1352d44a1b2ea1bfd660ac876df317c2c60c716fef2006b940652bf377aa883e02db86914ef681d69acf8a9d72823e2dcd0c41772d723ea5a69d62584bcf70ed8dd9373448d7ae7b68ef935f9c32f4ac0a45019045f18a361a61ad70b18dcbc840ad93580a1223f69ee87eba023aca68c8946233621ac84a0fc56228b82aa58d837b8830a76e38aa759ec661411d3439b6a4f7fec790bb26ab1f786c517e4f9faf752e8c104078eb5ff62b3661b9ee23a738a115f263e509f42bd036a8b5b53face3678d4910ad3b085905c2c7f62c721327cf52aa72c90062fb3ee0a92b64ec6a1e7c0cf26cd7e333ac570f55f6f3f111d431149947b4f5dcbaac15d477fccef6c38447e0e5d73b9dc4e8c2831523a2a3748514f47f9b801c0c4dd7f4e460e67234b842ef7fc90db9f3c4bf310c598c35ff01bb60ad63a16dff9817bbf180462a18790f45545a16ae9ebeb62844aefd0f8e15e650d27036cc7db90ed4abe368e597185664e0b9fbb6f2e2111a9205c21c96d364c0450d0164d0935ffb510e78d33716d07ac9f4e60aea0c34fe1167cb66fcf5773fb91c6529491312a62948d10f83530362d52b99535d2e56e808cb41004fc86cd14e543a2991bed5eee967a8db54ef2ebf3792b12c4f26a03ce54010d57096cc2b04c1ea1a2b4f1759dbfde3065832a77af3299788ba4119ab5fc139a234e763f767a8031b911e25778415d43b98a144a7c10981e885b884faef9766c26174e9eb39bb614be759a5b89365963a137ed48ff3405a635f8e0a1661cb2a4fea9462be5aa6cda7a20c100fa83be006e4796b43b72e154a8e3699c4e1d23211cd6e76cc08525d49f3679d0aa959e83a5bd037038ac6189ded88cd65848c1b8500f54caeb04788f6599beec183bc3bd35f8908038aee13ad2d986c6f901ffb1e70442cf2229df19ad2d3aaaebb1302784a86fdfcf7eb0bd8b0b482203072d69efc357f79ed626da4663588d2401b5f9da08e2de01f2386c6497e32790ccb61d49d6afb2c42c73f96cfd1503388e8943eb6d088069ec712c191c07ef6aadfbd40582d011540b72e34e6d91bae479a7ba9dd9b57f4319b8b7a4a901a660a4400efc79b8739075bd8b2ac7f8646a77939ca4ece61ab626ac13499cdaa4cdb7e67812fedaac7eb059f608e483b571aa764bd8ce223f09701443bbceb980dcb3f93c1917576a73758c0a49859b685a85f88fa519b2464e44179cd949960d58d5247c60eb4897fc87585c84c3dcbfa39bc7b7981eac408096a3a7f6371731e41f30df927308f458bb12284aed08548771f85816529d1a8fe28d15cb12fa6274e932f22a5635da5c1fb2df9ff9b600804f4a107132a3d488934f53539653dc5885b4c171beea69f4bcc162250559891a857a9642e5e22855a958e61d37a64079e5824465e2f8f92c5cf695b0b54f4cd408383d514b6549d93c7c12705f2d4d76df427b3aa6b87fe98978e1e0d4e4c1e01f6ea9d561f6bf20233adefc7a3b7415a468867cbd6a832aac4922280635ea8fa64dbdaad7fa00f6ca7b72b8ea171b0cefbabe10c45a6ef18c8e78a5eede74a65db5f241b021900247e8480f13122596641df6fea32a93f043513e8e0d74647667b1d93a35c39b25c158023913c7fd8622faf0f0d0f0a2f997ada530aa8ee6963b709ca6e8798245494f9fe1afdb946a4354e9ad41df8ce032b91dd7dbf7b70d6842072ec1c70529ec2b5f92bf9129b8fc08329647e8b0995eb793a33ef7913697e78485d003a96ebac291e6db0a4acaeb58978ae63224068b21ccc67a02872995ebe06251f5b6b7309f397ad0a5987113cf0c17a508a182ecfebabafa4596d17c51c35f62cbd593525883946e3c7a4e7129f1ca78ae2dfd64d33a2316c18ad9256b6fdfef0efe65399e3fcc830a1928798ad6c4adb0b9279adf266591be9a4fc0758a109f1296d933cb883013a8b14f0b8f7fd5b49290bf7b1a42714ca21b7ce8cd1b2de2a1733bbb681764b1ee80017642df1942375291410d3536ccfc716727976292981f4d39b0100ee3f9fa1fbe39525f706240c020887ec539426268d01223b049a568342b6934783c526db4eaed1d8371de951333a79d966d8de7b5ab888078ff54114278f40f197612b51b1fe5dc2540da12c66c0bafb83d7485d210fc95e3496b2e7f463101a6feaba8b6c4e95c09abb818a1fdc21975b8c40dff137f516c04a3d9175d6aa8216f9f945b113365233e64616a949e2677243bd187f9171e2f93d88b22864ded27e5499084e8faadd940ff25f41698494c02a85efd85ac032dbf0597421b38ca56b9189eadc80377285ed6d7bb69620d73c5419e662d351dce97b3cb0499cdc74ea02e7cfc4abceb39c53f323c787aec37a263e6bf7484c7480ee1d09910685442cbed5ce24f58ae5f32b5138c46d2f02b7f281c76b46fdd19ce92fda6d978d082a36addbcfca97eb4f7a40bd561856a5a8c07553dbd665d63de26b356cdf7c0abb564e4bc6977fe508ec9fe703c74b9032bba42c354c4d24f87f988b9ea91bf95bff866ab1a50908d3ccbdbc9bf9e990ae3cd276a226983b980e93fe26771a54e86c86ae77cec7fc9d1321a861137beef368b505cc8084af66e93d0537415f7fe8a12474bdaf909b961222fe90d0ae0e6991547e0760181c1935d311e095290f9dd16aa387969b00698278d3fa2bd9c263da17243d10bf6bcf8205676f5e83f8bcc15ffa1a415c2639e7c75ccc5aea1e0d906120200d91cf43079561d1c85242ce6d28a82392706cc94cb8466bc325616cf2d5ca29e2a8b98a31f0734f9763c0ea3e6b6db69f1674e600251b89a72ce8b14019932591861e8b0110a7f36d93bd6e94dba0db6ed2f39b03ab05beebe345c28414473b18178178b1eb2af9ebdbdfff8307c4c4ef94ed001e9a57a2e1b67ba13c0714d89b587dc0cde121835f1fd592e343fa040d20b93f8a6371dfb69438f35bc410ff83a5403dcd796b40d23d83a44410259594d21b23e6e95cccc89a76b81c104bd6956b1fc29189c28f65ccf765032fc57fb7b1fe3e322b2e4edc5a30e94da81ccc2f731f72baf2ff53f1e8cec2dfc268499a4473e0459c933fd2edeba3ae77bfb92e0212b1b2d3475fc5e0a476b2759fab5595c79304d01df8727ef6eddc1f84bcfef7d92c5392ae591511f3c0fb7ec525927ff81d39ea5704d27450d497a5ced07999f997ee5ecb37e462904b020f58f18649a11a2d743a8377748d5a4c7741f04d8eb5a5b17a304cf5da72b343f2a1977a155ed501251207988eec9f039bf42950d1b873e0b7f164fce73e299dcac4462285cda502071da3789edd7eab3dcc9b0e64cdfb6f69d8b9aadd73ab3066e75d0d3fcc1b00b3f43a91d9767b584397e90a1c89cf4aaa2be1c4c520def5b77de77f4507f96099fd2104423872a06a6a8daa3e17f136765f1396ed7449a123eb3c74eeb0ea24b15f0be3519693863ec7b1eb8e4ff667a40904727a675814b5adbf99c105b96dae5d49ee1dfb847581177f65b35dd6471c6c4d530e996c14256b08ba105c76409b492c5f5c7c82d26981bb5268c08af29c20da4839cbbaf300ac66efa7affcc3613bfaf32b61ced227b7f786b7bc68d68a268f95474ceb6904fbaf4b86836287b65f8d36d6f0406d8882c2d4ff0bf7cdcfa17b96abfc1657224f0cc60a83833fbd93bb100628fea2de49751e0c96a8c21bd8d8952696c51b38222c67c20217e6004684693ba13b09fa5b3cd25ac7d12ac9e12608665724302fbab8e43da54cae096d14cff914888c282147f7316c5fe62464a46789aafef8bb93d03639bb98b023f5f87f3fcba1d891793fc74abc5c5be95c60cebb3f50b0e7a759c8c0d339f778258d5981efc3db0999c0f98c96ff5c743977ff2161ff65b92eca161e8365f4ffab71c3f075b018fc0379e5d802fa0c6a92bc2fe261782e8c4558cce9ae50a90f7ae6be98bdd1cb03a1388020771c391b4db23e5699bbc32cfa66b6c8fc1aa4be9eece6ea3da84c2a0aaf0c83d00b54e115829cddafd73b7b969951aafb41213ff34a41ec1ec30fc88ed7ef32e49a7034599e1156862143d4ab01e190c1b5d165093537604905a9ed46b0f5a530eb86fcb2e12af0e80da680642ca9dcc55d6e7475caee03a89a6bc8016587b7250aed0d505b5b95becf5a71e5b719f88632457aa35408219c271cc106130fb49a1050cd6599e028b6564a44036901c9c17f5060cef64a645219d0ccfe56f63cbc1f259e331d3c1b6d6d5a6ae97dc2c20bd3cae94b0eb90b22401eeb0a0294cd99bd30750fefdbb18dd8987199c980f1816c1cd152e3809141b5f8ef978ee00748507c996310f5ed2808aa6997529aad2492dc8e7ad7f1199bfe1ba50c18377497a58c127e3089eea1db5e5006cbb875f9f3d9b56874a9b0196f0b2e2edff24d898afddeef6a0ad51f378319305c2cda0bbcc86bb4006da15aba44c7d612b404d259dfaea63bc5dbf494c0650ead2f8ac23b5de5a1d693c09a154bdfceaad2f398538e05d3396c1d16f01549b9630dd3057e8e861d95e3b548d20523af82a4dc80387fa998e3819d834f1ff847647bd4c658b283cef1b779c381c95e7656d8f6d913060c22bb0734b8e12cb52cadcf826e4b5b476f15f23fef08a3e1cab8dcd2336ea32720c7b72bfb82e173e1b1fb3b87e34c4524daeeee2afc0633bb44dd30790111e601429f3a746a540d54e66fe0aa697fbdcf7a9cdd8bfb63db550ff6f11fa5648aca03e840d32c60404bda6da36cd8981dbe0af0623a6a6928c3bfa53ffa938fd20a9f2d7b23348042640380d96a1ba0e23f3e613e2d8abfa1f798e3b5c72d45e1bcb0e489cf650efd86f213cd635d360f9356695ee28b216e63e545e309125d7d873a0f85d5dbeed0f00d0d6735df1a9c9ed6c77b5cbd9526c68580cecaba89a0799f20066de600ea00d20b9ece3e7dad63d3e868b27fdceec01dbc38c6436c99ef302353033c9a3900ac4271ccfaf9856bc9bc6e7daeb4822419c480b5da5106514df3c4e6502708ce437c736286861346b61e95c2ac62119b721bc18d76f39697580989cfd84e328a4f6f5e4ddbe65122114560c97258f000597f455862ba43e29089d1814c97ff1ef872332e3d0f85b09877e4eef684320260876a9b22b1ea2caa3477e37d51f132eeff50b5076ed02ffdf2b89545420fc950367909eaf31456291f55b9cc767e49bf784ae8c2c18386d52cfe4b514ec8a0f87d8e6793f6753d88cb4266df81a0a9e32e105a7617612f6b0f25faa67eaf34514cd819a4694bcb06f3105701cb0d4faaf9da75efbd850a218acf939caae54f2aff20732ed329ec8f4f0bbe2b2048692da74f1e3b86938a7a343411d90f22e080052afb4c3d4cd85b891d947a27a87914b4946500f54dd31789549594271e45cf753c7c736ea09962c6f9fac16eb8ef4a2ab6a20ca0a69339464f9f49ff19fefa090acc7a779d34a5b889ba265849d2ea6ceca52aa3d85a92f3237cd34478d0ee074d391372d10034052d9a7512450d67f89578bdfeb322447bfe1c21b92bb8cc2cf836659ba64ccc46acc89505986e733590b30a4ca858de4c2e4031cdfd649b409ff778c79c763e1dfc87abb18da4982132a2a947186f49711608397240ec7671d3f6a08be1e47015119417fcd2514361044c8b9cc778bdd1f22926661fbbcfd44a306296e55c88299bbe9467be0d2327bf75713f1c80b2c13523247aa43422045edb723012f22af0912ce688c2ee9c68cff91c5ca41427f357a504340a78b2bc4081402be739fc6610a64418d14efcba8d18c939b550784b0003017157566af797b9911ce3508ca3572af774c86fef4fbbfcd608a9492800c7001c91435367f1df458f61db9a4eba356bf9d0321fe68dcf8ff3f16512f4d1dc9935cd3a500a38140927908cd010792c6a6b78e80a9dc1ca14ee27f7ab5c996fcbaaf9793ccc0051e208c286d867f6970a39ebb76ce30e3b45f7932823e24996a74e92033d49731be4c96ae20a92cd7fda886c13d87f017514e3e017f4d6cfa68b813d928d1f2f2de043d3ea7291db41a02b39ea51fc4cf63b7d9490b6b39f7aaa464dfce2d87624adeffe2c8e174873ce51ec9b9df4f8695bb40c83d26dc0b6b2dde425d8522231d13545caae6836ce91b007d60086081a09285f2f69948d49b7b62d0c0c877cede12374648604523998c90defa444dd30aabd2890bcea88a50ec44323337770f6d6a67628e2d415e79080a04fe0ceee431d9f012bab6040790d0a292786a12a90a408bf03c534eb8aff8a52e918c508b25c3c568eae8cc1a47a62826ee335b40b64827b8effe4bf88a845e890438102c284fd02c22f9bb871d68a2c9dab101f0fccab845a0c40e1455e2432b0419648053814e62170f03f698c89d1dcd990b3e914ceb4a672c4cdfcc1b7443967019163dcf2b45e154aee5ff546cad8d10fbac8e7526cb38f3145b5dbdedd471a79582f0860bb5652bab1a7d3f785b0d04365d2af2dad65613c713055462031683ccab6141d3d47cff25939d01b8bb91790d8b0240da4a346e4a801c2c951d058dd19f0896519b8729ec6555bb1b3e8eec113c0cef1c42ba6446c5e038bafec73a6989cdc9796bfe4b845739e166cb462fcc5d2c90eac6b5cb43cdc6f485a37ba7499e51c340b2aaead7915af0b99eb7114aa2368557a30ecf5284bc11d4841861f9ff0f5a5cdc053e09c578a8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
