<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"16c1b1bc1ff45fcb1524cd154d7a996840ed965bb7aa95858473fda1d388bdb5ac8c092289cce64606ab173240132c8d5120118656f7e45feb42403a382895f0b037f5fda80180534db22496a412e5ed102a562235d62b6e2886ddb564403436f283919f135ff8a669f2c0d128c87860ee1d979518e2637d6b26cedd8e21077c4e0d9ae3c2c4298058f3e513df91e2beddd8762830821625403e3516fd6a3cceb2068adb566d112edc958dc982b9539182b48d35f62a48e9cc0d4636ed967998f956cab432ef7e02d92fba6f910132f3a1c15c4b7bba8a2c6683facae1470aa425368e42441856628bae1dd710586a7a094435789bc6f73f60505aba461eb385eef49eb44d328266f5dabd5c22d9e398df93150c8c5bd642cf1a61a21adf2783e250fc25ec0597830335729186cdb221c1f5fc9c41dfeda09571c40cc98824d1fd4dccb8b7aef735ab6a79a429462fe20130151f1b0fbaa13d704b6c495aa63d910de1154a1cad31232c031c088d7f4bd7c677694aa3b65e800c59281adbd1e9ce443956714c955e5911c3607329880d58b127d442e494de263fdcc1abad5c3eee90fdc2dfc723c0b02cdfd7d0b65fb30959cd798775f3125cf8833a3fa7027786e2205b638485d85ac31c97785fd67a0ea01e5f4b2d2044628ceded287f8ca2c78ffb5423d19fe3fbf05dc01c73d56655cd0adcde6d18264a5b597187e111f4c0a0bd022611de009fa2739231e9c3af020838b72d403bfe13d20f99e3706da9b149b16c28c64450aebf945ae2684ef3be94bb418307006c7619d5b27db69837204f64427ab65a553b485287b5d2df86e0393a34cd388144f50bbf66863900b079f97e8212ffcef570180fde6ed30afbb4d7dd32c2b0e6c1bb58189400e0790fa7bbc01470d29fb93c80a1d73157702d0a8e33d9b897a93160b789e6b2cb98d746242d1810add2709fa7fc95041e008c8d3daed224b7f5749efd673b61587f0893f6bff68df5abda453eea6ef3bd5381c467111aa51a19509c966ff44b71bcd0619685df837fd2884d13efcb7e46d55c40436f27310a535c41096a0f70b0913e794bb0d09463c27df4d56385530bd0e367eff0ad80a8d846fe1467e27fc90160da8d549a73aafa63da67bd009558689cf9b2228962327dd6dbe91b30aa0fe7414f5c91ba8fc1c5fd9772d72ceb2f2c6efb70970aab509768487c9eaaf02b720735c27e650c952b331ed43afe3b05952e943bf5b0d464e6367da471787c42bd37b31195182e8b9a3e496536b764a12db23e235ba32f2e06b2f06f2c69329a3b8d4926441a928d78f2a10ed58c2b7d3c2bb1072ddac062cf8f72a71c8eeeb2064410889b8a77c209972780aa302bc20694d2b6c3a61cc4037f0ed3867f32f81f48088afcef636b574d1a0e4044c3b98391489874e7754dc0e6d024ec446776a9ab35906af00e38dd0a7c8ae61107a06aa3d4775382bd0faecbff9430b50829a8343c6d36feeab9eee1611f4cc3af11cae142527dc88c9e1bedc1c3999ed49c9525666574b6b8dfa07da3af42b251c3621ffdf02b6e16109d935a08a3afa575f42b03b3b342e6cce7ab12fa81b51658d49b734ba63fd0d6acf739fd7010715cdeca23ca80ad93d4768fcb1189616e1ee02be7d0a4d937aeb50112da675c3e64fb300c3c5089a550b4da8992b246f4b18388b32469fa8921fa9cca80df61472fda09a04e4faadce0378317db364b20c48f2ceb1f712c46ced2a2fa58816df1f96f26b2f3024ff9c5502a6036fb55dd475ba545aa5eef095377071576646943d295a47475e103ceac868cd49c03946f88d031ceb41c7ba033101f3e365fff6e69df60421e20e35e4b3ba03083b3551b80f482c9a96dbe2de7f1db89cc6f902a7ca2369839b1fb8d8280b7abc683ca02da3e18abefdc011cefcf1b794d5d94d65d2eb2664cd2c5137cc53950cda00744f6655fcff59a9dce029b26cfba3571e29c61fa82c46cb84d7e59fb03ae8bda8bd43ae28bd6f615b3d4cdf2b2c7eb4629b9a66083bf313b0a5877802908a1093bed3f4d1e454cf38664900f80eda35362f4ca4f7c1996e8f925bf48c2e24d89308bcc742c53646f9a009c3e8dbf0ca0af790249b2931904c65be25c6c5f72b17b3780a11eb44df507947b75eabbc5f3ae471735c0f3accf0684433fe100ca39904c959de7174a51e0d37a9bfb2f3e3e90a23705e9855a6816e19e65441dd4e80eb02cb4224502a8e8600d5ca15366c2342012fe554dd27f7f55f737149a306a4db6bd89fbb8fe07f132c8e8d3bedb2f1a759ce420553809c9b43bf6396e30db1655eeb37de5ecd701c54f6b00ad37cb3c7c8056513bf4872f5f9c7e8fd6b4a44d6b234b5162b892b0de7afd2bd74dc2a122e1406eb85221e816de227c14bdcdf58368642f51954a7856969eebfcd9b04d71473f9b8fa8864fa3f867ba6548d750bc6a4a1148297b1b3235c203929789b2b5c437e7499b2fcf9aef040244db6ba712c4777ba7b284e2c25e4569d8a71ac5e0f8f82da5c7cbe50010239d60b0cc710535ba2c59900d50dd444c26d54c1982c981c935b9edfd6fe94aa42c999ef5b286253cb82f8201ce290c6a1a6a3764fe10e8de4b33fefc70ecbb4300b9c784c971ffcd365945975a7061147aefa84135697acaab63f3adee884ac658b7dc8b28d56242e1e300fd54f176f252b9f2eb570c6f15272650fbc95623abe52fe95e2bef803d06d1cddb8cc1ff15c66bf8d5caa3cd23ac0137c87350bf4b756d74294712270ba9b114f2465a6102ccdd8aff697794fc90b7c3993c2862072553e3771792d3b0d785ab6b432532fd005dccecee8224e0510b52bb790b2756c2aa69a90209bb296725d876cff4c56abaf5e19c737a3da9fd5c7cd0000dac1e3493dd1c841c4bea501a990db7bc9d4d4912db4a1332c68588a5f1a5f87e427ebae87546f8b36c002e5cf71ee37f0ac82d18b895f1efa8a9e6657271ee99129f191a6fa0c18077d83d4d7eabb1e8f6ee81d8e6c7048e20b2d2455cecd14c86e3590160170a14c6d3e614d48f21f66b9624ff4dfd974407ae164d281436249c5632597a2826c7fce1ec9c1566189aba1f39043f7faf2c1fabe24fb619b019ddd01d25997d6372965849908b115059c17f00c9329189651ed1fa0b6c17deff54d75ccac34d3da256abd78017c0c33bbd41601c5c88528127451b5f77d7438a9558e243d0d1a5093ac82dbcdd689083a418aa8ad66646ad9f8d3f7cd6c3275e694d581637c86205be9860cc5a965cdc6f311fd305d663064e702f6cbc0a4b2b3f43b86788fc52a15e10eb149bf920ea1aedb560214696baa9aafd1a74dd01fb85cb61c5e9eb73597c1087bb8832e3407a9b5047a21a762ebfb319fdeb2a516e1ed1ab69d1e2a83a697c9577bb07a9046df789c5eb4f2fd3584de58822d1572ad69fcae8c1a22200b60750f16fbef92bdaac03724341dda373bcfa288a4dcf629a7e5871ed851436cac1eb514ed98858485391eb77e3dcf3d1cc0abe928f070cea1af614bd4a9c1b15618a5a04a9729e34d9cd42309dff42f4196fc7db5977a39eeb88873d7c8dccd167efb58b23f0e15bf451293a122f13a5aae736201bb75c8bf05eca1632f034898095d79597da3ff5b9f9e3bd839e875b2e84ec60ce458606014ee74f43aff5e7e3c4842e14ba17d6ca053b3c77fd8079f5e8eb00f894cbdaf41d1cd713aaf614e491ec31f5e65f25c87d70562ddb4cd38c4db8cd59942994095200570e9a1e0bd22049bdd0d9fdcb749747dbaefb1d8407fa63d7ba78544d59edaa243f109262783c6d6624c5b824200aee73ce2e17949a29b4642b080f4f3703947d1467b0774564c57433d1ba73614596f30fd6c94c47ac4b532b16ab6e47127b40256b900d4f8e53ed26f7eeb32adcf09b617f8f2ad038c917b9a2411b1b9ee360f4aee39c8b8ec7dd65067e3c570a1862eb7a5fa22db6402c36661086c22752db8f5bf47b31f8d84fff8dfdf4c7e01fafbf05b9d2896af5bdf40034159c2b352bb9490198aa30b437cb7fb6f17a9b7d5461437badfbffd26477d92a2d50789d3ebb998f0bd2571f7e0c51117969eaafaf5f20b65db9e35b891db0f793b514026ddf3d784683d423fd3d89ccdd009a41a3e0eaa1e9319b60c211a818ef9ef16fd8fbe12211b54ad1e35eaab80e26500d018380ce30880bffec1e6cab34a894f75fb92c0f784830e7990d67c2f965894733101d0f5b7c2debec7059d69ce46c016c568edffb3c7a971560cb2216f0f1096a73f91cbc623b2e786ec791e5ada4ad3d7e394a56db124795d0ca1c094dda569e9ef3b30c367c44361bb1e0595bf008670f92de90303492c28b7d1a7e9e6af6bb45f781fecc934080e9518d71d780936b07b1d39b96a9317e64fe440d1dddb6a30efd5313aec760193c85e3cbb8f28dcddc33b682e166f371c9c3d8defd5fe779b87d2aaae668f34a0c43389e85e8af75cafa75a62d727182a3a65348b261a169ffffbcc528c29b4b304fdf64507e578b0c8973308a146fa3f8e7cf33eb39c90fd9f32dcae61bd7b406dd3d8834cebae896950eabc22a1ce831c9fcd409027a4c332cf2d42898628d3fd6234f7925e799cf47544773827dc91213ed7832e190adc33887ba149bc2bd1702d5f32ba9ead8145d82b2bea4f0b57e26d8c6979ff31ef56d7874fa819b0561a57e1aa15dd86a35ab0186be709305e4000f0614f47ef03f18a302e775ae7785534b9ec7f5b91291d6c8a4fa9cbc50cb68e221b21606bb5e85f6f136d723b5f3e1ff722a0690205a80cff8873f4307690a9c0568fb57fd55f3ee9f345a4fdd2d7e54df0ca3a931b8c269aa280b9068a88f8947c543e35f1d4be31cb5b58f2877f3bd46e2d3dc2295f8d115133596e059a632b29564e5958268e4ed9d11f1f68fc19e4b3a8ac51fa56ade68b15a265323a8cd522622e5d8d0b3a83afe12eaff561604cc5650d828662dc6fde9266f45a1a372f9a9f79b9dfca7e93cfc15826bc776a6b8e73ee9dc858038d5223a48cbb7f3c6c7256c6d6e293bf824338556c673ffb1b16295002395b252d1c28169ad539034048c17ae0f796cfb0ee3e5d1faefe9b06c0077ee38e332b17ca17093f73bad172e8f2b80c874f50bcd4573fdfbf409e1db9b9e94d3e8dfbc1a157c5c52b668e578fd075ffc1d0a662ea8db36406aaeb68c391d1add58b199467d816a5e751a2440c0c929df1a10c42107bad8d8c1cd3f52c0c5391493776b72d6b0280c285609ff4b84d82f17de59d791109e4d2b8674bdd1cfcb481345e04553500d1c32ba6bd72a251396b91562109e5513a9f88754b935074a39b94be478b36cd0a6ca4e1a2fcb540689d5f536a2b48cd1dda4e632c0c45920bfadc51ef323252f5119d4770b2a0e379fdedaaa07742b70c11654d9fb6b9e59b213b1741b9835f84dde8c00c68efe4f90292fea74cb9a940d157d2fce0e5c2a7bb866af0a2257f99e6b0d6c43c2cbed8e2e22cc18a27e4f10da84fe895f1dbb961fc2fe866d034db74a8b9ca2b70dbe936e8adaf3313d59859a0307cde73d7881a3cb3286843eedabec1cbec12daa1aeab6110354d7e4526a1ae515bd23a8378d7262f734567945690fa2808bf267ec8f558db6d3cb07f688f4e37947e1c1326b3fb603b123b3b5e985fbd21fa7fa9656eaf81bfd5523fb23e6002101e6fcf7ce3f87fa63cddb38cf613fcf310025a11bed07a774b54b1b413914e3e896a9367f7d93ec7d8eacaeffff9968e04be4e07318863775ff336b2ba525de4bdb31bdb20db51e64ec479a7c88e32637c59641617743184ccf2fb656879430fa5544ecafce4c9ed541511c3fff1c56124778e3e7424d16826f58cbc9bbb3b4cda9acabe1ad59d4938a5fdff47b8483c8e69f248feb340bfc13751a7f96c884748a1b5ebec29b13329561e0eabf44d4faea1e587974a290a1a0eb36f9bde64408eccace6fbacaf9e0b93ad6de07fdfee76f41e5b272d0860bf9f1db654383496ad3b0be5bad15688f4cece67d8037a3e3baa674d255c06b26f284ef9f8060f868fe20f24b2e8d0938682682cbf66d568e63dfb65c4249c79cad94f98105a2e877f454bc72bded78e80fe8ac85d644d7dcaa248a42bc4eaa60ef74149afacb9dd9a8d96749e4bf65df2b58a5c59c67ee695cb1cd5cd100bf231bab718cf3b8a8c5d8e0a15afb13480ffa97945c6dad8e3aae9181e6a97155daaa8ce21813cf966efa25cc2e49a53975263447cfdd04fa43ac83df394d14be34cdd46b1ac6e3ee47ce516fcc4524df501cce46b7a537df88bb6d31e41b1b3cbe83e0a123ff2ac8c688f883f4f278eef3032ad4a2f1452f2a70b15693f900f05a1779294228af3ce6ae34751602a1ac0689db53936992cc1a98415731fd3776054f5de830ed2ca2d26024d5bde8979657fabd63df2b7a634c4507b3bf90f242624f39abc0c547cef2e1618524e66017825d3d2d2e18d6e7b6108250e50a2f7b388d0f3aa1fad200eb2cc793f27b2c1138759046882130d3e725b1713a8cd6ef73fa4863c40593dffa83f816c5cd76ced768caf891bc23996704ba939432bafd2ed28f82e4cab8b89dc194739fef7a597770ccd85cfa307714bfdc2637ff7800e572f51852dea52ea072ce605830a5ca8062a4ed50e20cd68de6877e6f3f85f1f59f29b342d25d9cdfc31e2682c43dd3ca5daf735b1b3bb4fc553f253dcd0230306c9cf6a070bb94e794b915c3bf00c20e28d0ac19020f613941ab49572b4bbebf218abad908f151a9dfb25ced03a98ba18249a65ff86e0e786cb3930e2cb38d78366df96cf0744a1f54e2fafb6e5f1a9e8e7c230167bf3f0bd321762e815f4bbbe3f2be091f9531b3b14dc45b8f98d504e0c5521561419cedd7bb1e3fb96935c35127010788d9d8d7a84298bcd0eb1f7f943deaaf74c1c8b57cf55af97c78ca13abdcc1794ca780f404542cdc25411cc7cc6c8dcedc4aa9d45822b90fc9f2ce088bc48d9f5c38382781e2ce031e12fb47f645505bdb13ebbcdd5e58525613bf7d0a922afacf94c9f6ec57bee8263dc3e132d49a590ba769d591c57f2d134ca8df0f38453c2db72da8e5923778b08756389783d7b75707414590af40e7bc1298abf3f152f376c4221b9558d4e3a8651aa3bb493d0de63579972a4e8b1de550a3bfaf6fec2c61d462aecdfd7b5d89d0d858ae8124ad5619ac4d11d089b31ceacd060565cbf747444f02c4b6c478ff863ddb6c65ae10cfd7acfe8548a85af71ebaad15d74a2832d47c2cf3ad2c1ae420fd68795bcf59560aaf06d6c9243af8df3a6ca1af1e953b3b606afc521d4b408d05e13f8c1857fa1c2699142a80dc5179779440eace06ea084a20d32de9d30e179f6603f3d10d1b2e963fd82162735f3b5856471bcde8cdfdd67196a2e93146e81d3fa1373efa262273975320ddad929f86b479c8a0184c3e6e16996b438f75ea27bff6a175a36eff91c63b1409df283634b90a6ec5148f724b9b623f6522ca6fb57c19c56f39e777de9cf5d817b023917342caf1fe8baf269912d9b9771b2c7f406b1aff4d8fdd0ee04df4e4fe6112921422717aeb5bb591569667759cb8f6b0b1893944a177e9881fc9ae38e64e1f556b50ff4a338243fa4dad8f8ff8fc4c61f2dbee2e8c430ed07e8982a975a53dbd68cadad64a08da573d0da8f70e0d7a1c7da234dc16f995889e3c7fe7d0d6ccf2f42b3ab6f604742c108a626c4976a66da2d4c0cb37afe595b46db142bb67da6ee306863bde3053e61e11d0f9eabf9780cc712cbc9675c8da0cda55e775d73de7d59b318bd95378f7bd6ec9a8683230f05e04f44db2875c32a5a908ddff24381b9855b08ded68b4a0f9a790474ff9bd0db573caf712a1aee646d5528245c2ef013cc518d93cbee7764b0563f5d324d63cd33c02fa9c8b0ecde8923808edd9087eece3606f8bd7a682b65c8a219efafbfbd94bca0ae52fdd31a8392b53ea69bc6023375a2bfa53d5473fced587dc617b80240ad6a5781d0929c11b63044f5e3f2bdb7954d401bcc73aa646016d4c4aa51f0b275246e88c114bf4ac4e9abf1e5443ad1dac74fd81c10e0a05fbfb8a7970b45bd6cc701f8fa4545fafe2c7085d7cfc0a23eae431b99503b5b7681618d294e0680e06c7b98b8c0aea2b3eafbabf037ce39e64ed85e46855a4cd1c2beee2118b653775197a16ed02125d77c1372586edf99239402016bf8f1d77f821ca292a406e11a851d2259b572273e0a1f89122ad7adedbbfc811ac766fcd363eac0182dc93a589bbcfb6cc846b09d44559c1a2f1c5e0d069125d8030191ec1f42cf7a4edd7197f3bf808fb63d2d634c59b542a8348b0d696004bf438b9dd9d18e8cdb494fa1c2e99996f9da8066a831c14d24802284b9d1a05427cc0a11547733dabd2f80806a4082c4b7fb9cb570fefef6e0d73aa9500c25af7ea2decfd122566ba32bd6cde59bf07c1a249b8f0edb1ae3d4571b94bcc4f245b2bb6cee50ebd3c6ca451d82af74ec1d2183226ddf9199fb5a5c6c695c9de207fbc3c81243321057023bd552d324898938f0bf7ef3372396751a4ce0de507b2a832f11eefba454226751c545f697a088d5f1ed90ac981a726b83cd4b7797ab73870ff2f87b2eec5f5a67b8e2104fdb390a0a662cf229920e6f179eddfc2458735728dafda473451e3f050a25b13e9f32eaee45dba2ed67044bc118be42d4541eae03b41c9afa5a480a6c96a3271c9bf925060601660cddf99bf21ee4261765ea1cdde92e51c6ad4441b854a0dce220ae888ee6c258d9bcfdfcb6b76d15eb984f555384c07f8cb646c2e78f434e46ac13472543059c393993da56cf26def3ff5f8d6c7bea6514a7abd092add0d4e0dfce1d9e5c5073ceb279953562d724f5f31bf4923c3a95943d61d7cc0dcd04f7f3d98469a6d3876ab991033c50f973b54741610e5c4311c8340048d1669eb01f95ef99c4f246a4688f6ffc3de76f68322eda3e3df7e8c8ef1613e36ea0a3ac72c972a30158d465fcab733c35466f085d2bcd3e55b18d4b52fcd47d555631d4dd507a2455c0c2a63b18c4611da9bb56b1157ba513c89f3445a2f96e5d79e21285135ff42522f4b95280935e197e645aa499897645b12d2dd1e0f5deea59c9bc6020cc62fdf0b59ef343f0fc85a3365199591507edff574227fc3e7b7adde4d095bcfe11d56844e7b91ffd9f7ebe76938aedff5b40b9b77fe90d6e0644fc901027c57e9fd10af60f577a5e37f88539f2113e4f8ec2b5b5cb08c19df37d656e5bf09122a25adac7b88c2ee3e0931eb41d1c306b6d12427c1105327a9beb7708d29d5cf311f669ff5c6491efde5dcd20e5cc4aef6623ab88fdc971b4c22f5c80b24ebf73a343d5b9779c6f851ad9082c256de906f5b15f6b1dbeac6f42f727c635d4897f34e2307b1555de5755c3cc705b3218999f3d7867a0f8555367bc0847b98aa9329499f844bf226a3ff2a70236e8648881d18d8a0f3ee6a9a5c43aa33e45f4207babcae30426611cb8a4f4449d182dbcbbb3dd96ab44bffb52d1a1b2192074b6e800bbe75e7cfd9ecadfaea6ceea7e09bc83215c101cf91f588ec063f32a2f863018ac1090a0efc16f435731ed73719f30f259e11af2f3c1abe4643ff3110b8c54e73a9d6fcd257100941f8e903bc7b8727781763c7f3c571ebd89e0989e5e546620c87ef76f7e4018732ae012dda8a949e4327c90f0620aab3446d752e549fcc8269726c00165b064fdccaccb52f3c1b7e43ae56c6873beaa276c1cd5a919aedc295fd377c37a4dabe8686d0218a2e3f074a24bf736c013584752b68ee1f6a7a03df3c275b35e0422c7ac0c29220bb8e808282c9bb70941832390c1541308684087e58d999bbe431ab5ed39c8e45e03568733dac1c268b6ca439dd9677982801fae5535f64d867cd5ce22e01a0f3aab4da11574a6b1b63d7e5e9fcc44f156fca2f59ad6f77477a3a81cf84641c009b3b9595baa7e063d530957f6bbfe7707542455734a056aafa5898c8652c2f4b6e28f08eafd7a5f76e70a3183602afcbe06e335ee2860d792fdf967e42d304c7bc59ff4ae91756a455eb143d87ad2400df9eff03f6151fed31556c10ac2cc0382f34329ff3774d325ebb1b604676ee3ada627f052487cfe756fc3292fe7335006982e5eadb1bcea1e322bead34bfd1ae7c38ba541aa27d616773b7e77fc87eecf08c71a559de01bda090fef4d84b85d38c84ec9887bbccd57c3373f9de40fa17f3e1676cc69b8b52c52fc5a4b67aa02f2a99465bdd8978a8c26d0bb1ddc7d3a0ed7fcd71bd24e07ae432dea48651ded343fa06eaf6c39131bc71c1fa0ba8f82b023c47189cc897bfcc2196830e91e618fb91341b2802d18f05db1b029bf1831fe1d640093151f081d3d17ec5600c6e19c4a2be3aac103af891e35ce0f79554df5c88c05a76af3dcb8058976f417d4177d791fe6611be7e0005152ec462af50022f82ef7a3d0db842afed72edf621a1e2badea134a93b66ddb7253848478d817839064b45b127e5085984dec629546c4146d5e67fbaf8c3b0405f5f2d7b4b6dd4ca02ae3b186474d45106bc7894fc3e455c02ad1b81f347797fcdd33e6619351e9c1eebf71c5d5b9187b5b6913703a177070584d9c73d153985680e4c34cdf287b3c7dfe167b214a1f2070254b7ffe39fdf4484ffe3238ee0306f329a60ec9e10f59f39b266b369072702bf855fe8a7b8a1a1b186366d289ae413bab2f56f624081aea52982b1e5e82215773755695036b82a85fe9121fa32aea3236fe9d9426e85adfed4df02c642914a082995fd0b26324163ff5aded97bbfb6ff6231a73ede109c84a62137a955646f73cb6461afb428d0fbfa6a70d3e066330bcdf4362359761dec891801f02868e6c5bca747e753a73aec79286d7feba178573eb16bea29900b6128420a844d234d1d403125413d3e23ba759f1c186e0871ec860db03f0839aad185c48ce0818d10d4bce2858e1700b9eefd4005483d3144107276ec779e733572dae1762cbda6a2319c4744b01bfe0f2a833d4772f7fe6415d7a7a84bdd7ef8a9e2bf55b4cfc9992c68aa77bf0c487aea70fac1ce3b4384967fa592095bfcdad4e3c0ae49c96de0d408322277dc2e6b36a16f52288b789d569508bea5f571970a6652ba9689d8794aa46a1e74992a5d1c28b49bef4d7a68fab61a9cd2e0bd717288bb8836d2bd5e873a69377d5cf0ffe3be9c38f4188e7c45f21087337e417016555ab09e1bf6598dd00a9b409706aeb4ecaefc92990e16c009886e9007cf67b64ae3398a35c68d5a1541bbfef78bddef84abc3bff109fd8b2e309b521ca166c502b4f4784d26d5709f63365eff1c3173c1a013a1abd2a83c1273a9575ea5fdd6c9dd32b57e794cab9e769761186651d8feb5402117db14c90f6878c7863af6dd07564d6d57ea15b970331e1ed2a2b378406dd08cf3fbcf53944929da6fd67630bf0b5747f3018b9b67da1bfd6c3407c014fcad5365b35c5d8988dedaecbbc6f3e65315498b2d8a8ccdd10abb5b2aa0a3bdbf3b2cddeeeb28148aeda5fbc69311c4f248e25f56ac02936e64b82440ffdb7a63fb9f6f6560bdac5dcb45bf87c242d33f7bddcaeefc473dd4c64d0ba1892153f66dc0cead12bae7074ebc3f10c977ef73ded260407e9e53ef1ca6d81d9ee0d721970399e453b2c404baf88d4043b73ce0ee0c951532f4fe06a711ed1cd0ab0136f510ecdc8f8f33ff00f0c096fa6fe27a5e8f67744aa6a681f33cac80d09e0cb3359217c9c9129ce24bb46b7259dd3cbf8ef0a492360a68b1efcbf60797f27cdf0dd065e613c248aec0615c1945d3c9c15180f921963c3586a576a89dd65ca5a107a47a31e6592a07304a5962a3a248a33e0d95d8dfd97978069a0a6fbf7b81fb585426dd7c527503f18b9449e458f0f4d08b1cb96d86c6ad5be4ea79ef69f7c1ffa2b848a244bb8f9d300431dd9b23b16607e68cccb21dcd477f6bfc930f9b68fc4e3ef8166ba1f06f9a48d57a82aab77e69a00580bfdf2748f2b56a29a7df4d33422a6f0e450ba55da7468588e60d28b6b45f24ce21ed9e4ede76f16a68f1218ffa2dfd9c4cf732897370ff44c6900a3a112c4fe4148261f2e5b2fbc120abcbedbd4d62f43d6ea5a6e9078cea62a144cbe3f07072fda9078f09bc185cb63abb8ea8fa16488a774a494dafc04fd35926dca01a88318076aca5b0bfb637ceb5e54df03a5db8c706c23b925a9f7d34f2a3237d965bc45c27397a8bd205e0c28818b991d875884cc76ca9270aadc2ce79bf3a3fd32d712f63abfc560efb94086a6a1d4e35f9c1ba6cb447ced0c5bd47f69be4e63800af0817e20a89d94cb4ff6f5e9a157520ab520ac51b31c09039f3df6f4a7b897a25e5e12b9662c9100cfadc248aa157fdfb268aa57ad4d169440e130acf384ab575c84ab66170ed299e2e0185cd8639fb20b565cd8f3420aeabf1190c4adea72dc5ca965614ee9304aa8277cf44b3b04a5b28cb6e7f61ea6bb0116999f2981d0e3213e69286ad0850ac059dcce8bb93e3e518e99b6b8e93158e10fbcc6c4532e4ee720c6675fa62289f26f7bc8f37fa1950929bede61fd1c54992fd16204fd4d332cb6bd8fb9f623253ae5a4ddb65e92fb7ba362d9a6e3be6221d3ecfca31963e9017527d4925cbd1ebecd9b9e28e4069f71c5f67434a891627819e0f104e36811d2442391ae981f90e46f17b3ac56c704efb58e19699bc6649d1d535f10387d53ed21350272ba28b0a330a2b79835eed4ef2ac82002dde54cd4d8b94f610cbcd41ed47af259db4e6f89f7b96e43ddea50850fe6f9bb3a68da8d732e8b3d6ab0ba02c1cc2351902dd15affaba282b6e24048b9bb231a87830d7d7bb71f5cc8d499296322b1595257c13796249f7282fb002b7032f054b3fc3b8270948b100e1959883d2e31575f9772ddc79acb9f91d79ea9cfe7b7e5e00de180ce6e19e23341a930b6a8f0c8111e3226f592189d01108d6e7deef26662091630579692bd25f3daccbce0e49eb602533a35c6f6ca77917c759f0088c1c0cbd11e8290ccf4eac91098fcf0ad8e66ee759c2f664881ebb418230322e3ed4d6074ec94719e3b3bf66d5a7f2893827e54139bded6df45007fe122f2db2f9dc292f4c9ef3868688bcfec5d6521f3b0168e868d3dd5efe7af92d6cd6c158013243f4ec3dac145e2309ab90cfe60c6c4b2f1127104a2432b6b7ba10ca60c55321fb35d38d86b6a2063de04276baa6654d97d29e4827ccb1a0846d0974a1e78bd7769a47c335744ad302bc031cb5e431e9d0f021b424d1c055637f182b7b3bb67142cc4dccff0beb0808e409aa6b89adec2c94b91a3939b183d601c856212e4ac2178101aebc4a3741e0ed45587049433cec04336b41dee375cdf3f7bd0ce5dfd0a422b27b641305a67c23a3795d6db42d9948d30b764bda2fe7de7252d3f46fe44ed1e39fd6332641e1cd4ef0035aabe89aeec1be5192243cf1f8a32271f4691637ea27fc1896099d943732f9ae5a9a36988a4b21a6e574c8c9b5998136e7a81f482b8d145ad0c00eca34eb032169a6b560d1ce817d77d4c3e1c4fbf084d715b6b41c2ae46f466d26e0068ec24a802f5721dd4c6d3617124167d01a386376a7cabc148d00ce814c2f837994acbfe8cebebcc596b93be9fd87a15c0ea337d74ccacf99d3830bbbd9b88d3413b27b3e557d82f1d7d9fc9b947427c3fa10722b12daee31b0e1d9dc745f990cacfa0880186c75016f49feaf838d95732ed8a8a6fba9f05b6b644266749d456af131b53d8e36e3d85d30542ad35de3481e9d20466c284100fa87fedf63ce17c59e1f04cee8581acb32e6852716523fdc53ad88357e9d8d2126faf309e51cb91446b7d008fb187ea3bf21887bbc54573b29d38c3b21313afb07f4c724e160f88df334f1fd6c5e7df8f26e59be78c38891e5de1fc31a64806a81ee6a39fc0eb48465e12bf885ac4ab3f4266ae850c11274b863e3326629d4395ddb99af2979f46b5c631368105d2d5ed76de4dbb669ffceb80d8c30030f075be7e0eb14598f9e15fb08a551daefbbd4a06426824fe7593a281e6af125bc66a6365ccffa70b8b2b4d68f01edf556364fb4725cdf671d6785b18d2d7159997db0ad16ec8f9d8eb083c92b17750be06563cafc99e042d3fab26430e8fbfcb487c859fe54d2453e3a5db8dcdd56b275863f5679b82e5267bf628dadecb6576194ada95ba93b61e66d03ce8aead93147eb576f3c4716cb7f3db784df9a1a64da283e72cccfea121bb21a7de60855c5b21ab55d3a07406dda000bca1baf6de122563c68821b032f8c4ae32d096be677b41734a71fef2332d85bf389c8a9da8b69ab71f5e1fd8c6f30e55f8546e3ff526f18e36bb8f39d6e3c84bf9c28a98c0fc5b43de515c215b82064c3299bd1914db163fd4133d8b8bbbf79bdb6e322ab1ba38829883c9764796a6a9babb69ac16fb7f6695b7141de7638d9707c27b91eabc55cf110b471a4827a0f9babbfe03f7f38d8ed15b9c86c48758e4f01c1f6c749f0d3f9907c2de315f0f0e01e954f19507074c791a8628b77d4c204d6d40031e5f7b709e538b52a3d94dfb21aa6c6a998242c7a71b6439436e4c60f27d259afbbeda120ffa2fae373aae6d89a4da119b76373d9b1d753d8f1bb49beca18bdda189bb33a7d4487dda510583f717eccfb43ad1a5a04143be02bd0452f9a658c189c7fb1a4c070feeacd908208b00216634e3300bf54bef09a4fec74ec5145ad274e02bb84938a19b4873d9a0fcb20d9c9a21c4d069f5ebf69fb067f731acf5958c7fc33e98aa53078530cadee477fddc4ac5eb248546dc045fe14d276e10c5cb09c8384f4628b1d3a29c07b075f890c7e9e8c1a45b5b432036ee37b9215ef496ef531b42bf03775fff6bc45a3f7a43ef663eb9b35eb7492d5a95488266fdb9cee82c645df5900b05be087373121efdce0c3ba0d938764b362522ebf2331ca5f1b07e62aac8aea214606062739941444bef4ba4f0de60760a1a13d1b4a075f716ddd4466fa04d017a575540c0dfde9051e3a04e6d0b0954a90a870c548f7a445a787fff8141d0d50619bf75b5807119f9c831f552e394f2b4dc05c6edc6b05cb2a49be21d85ac7459a334250b17ca73ac46473b57c50ea1c539dda55eec5cabc6aee949fe23afb66bfe8fb5f09f33208b2668bc81ef770978e67cb0d00f970c40442f4009a13f01b3af9085cbf6dac93d2b9a25012c59508dfe20d848028db7763c3894fe76df421afe90a3f1b4a1043f673fa7104d7768a8d4a72d7d8dbe04dae998dc31873ac33dfd6b0f294e037e367640ca5f45a43674a6e3d25b858076cd8a725902b03b2032bfdeefe8aefdfa18446b4842867f409ba8a8356e0175cce93b21c7aa8b65dbce47f8ebe4eb2d422aca4e2deea14dfe918e29ec0e5aa3e0bd26bac93c56477be2240fb89fc5a9b1c769ae219b6e4a3ed6928e97f5b42aee45d08b4c84512d5d1e93ed4f892f9760b49cbc8dcb65bc0d313d53ab0a94e24b6c4e092706e1ea4c61e7e4750c69699a2842eb078964c99667656e4d2328cf1e96ad490caf1fc7470d349c08a27059d8ac1366c00b556b6bf5755224a14db8af50b451ec18ff5cded55f18ac9f7b34acbeed29f72e54c29220e78eb638bab44fbd8d6dd7edf6a3e7bad320be695643b80dd81f585577d9f95db9852eee611cb95efb3f24ef93e08225f3c761a6a895803b1075be9a71b98ec2742d39f445f9260f23e4f2e692a424d7729324f0c22c5b60de17ee7f4912b85f29887121386b8c579ebee00d4330887fb3001799fe0a3c61e5fe2695be77c3a49ccd42b82ab694c781c53bdbc881435073d12341cca486e088624d48be33a9229f02976c7f46c60c0fe9d1c0bf6cba76531cd71828627c7ceaf1714f7e1fa39037c487616a50d7bc845d8762ebff65128d4bac5105ab03b8c617541706b6a36f138462f50ed8bd041bb10ebe8f2e1fee4c215a345863a63e265b28ba1b65a830bf32c0e478604805b2741308f0b5ed01e71786e8563b65ec384ed147e94214043f71942a35bead1760df2760c358ac158d633232f96bba69379f4d1988ca0a9f1be11d4d05897e8d96977e97865cc38eeca9608e41f7e142279ca2a6c7f8d7cd409ecb99912bda1a602eb18df61b36aec76055686a3d422b405d8fef24dc5d5f910583a008cfa2752441e50ecb319d368cadc5b81f925afe2f42dd3b0040c7750f01cf4a5cafba790f7a8e0c8413c4911e95d29c363156bb0c80793fd5004db994a451c15c4ba3641fb240242aa69d8088da502f0deaa79215d3b196c2c26639e5131e1828bc5d86071088a2c7c38540e6c12b81288d7b523888ed1987788110e7fac7f948c623ee320c8c5d646c822382d044741f2082fa760d97844db0b30589292dde7b9f0824c9631890d5bd4e620b4b62dd444474ee4f8caf442a793f16118c6fc07812130f462ab6024bd2fff7718daf7f2e2e4ec8ad87de92a00c12ad7a90d95fc886a5a54d9cf7e80ed180570e78b020186dca01e17d83664de66a45d628c302f29a0ccb2ac7cf41105e1349535c759412d080f5043eaefbea978c8595f7d7019e4f4f04b33953c5568d70998b750aac6ef2d0f0c54800d325e363460631569f7a52e651ec357d913b14c27584ab8762817e5455494850876d50f11e115aaa0bc2cca7abae4ab81af16ae289b0c8e1719fea1625a5fd4f27a2399e77bbf741d37afbb19a98685c7f74f325ae9c46d2645db3aaf5483c8239ef97e0e7179f5b3972b0c688a5dcc1967b37cac3740da754c26ea8d7aeee35c3ee374f36901af0a61b40b6bd11fe6f2d01c663c34a94c1b86e4e3d3ec2a1b887279546026a72c1b539b40834534ded8ff92b241940f8799c4b0259e60df114438f02bd5f9e32b0311e13342dddd1af29dedd6262fb4956ad6fa1893abe612a541bb6fb6e961d4d0d2964cde8d13abfa96af47fe653eb81b3299f7d50374e258433740914fd88d0074b791267874b6151511d7a8cba3eb1dd75ff24ca3ebbf4d6dd973bc6c871345c29bdc72eb58abc23277f23a449e3cf0cd2f039e446922e61a677893102cad80b1b93ebcfaf6b7201002a3efe8dd8bd64389c2cc5de1932a7d461bb9a26569a18c993f1409f7cae022a3cdace450307b8f5882042e8dc2088609721692a9c89c081decc251aa4f964e0648998c2b2b220284eb247c3192ef6efbfa25138ce3e5d083a9a65e423f5a5cf5a2af9a833ee11cd374b6913ae04e4f12351c0e0825b02b8ba840065953584ce4395243a7eab7373f92390f8bed0b9f988dca3fc6ad7b9b76bc57e5a079acabfdc29085cc06ba836674503dcf0a585bbacf1bb859fa35f8fc4e1096a9d30adaaaf8b505cac43cf5c25e0ad3c48efffd149c79bc3e704e64f662f32c9aeb21a2c02eecac1d5500810f3b60bdc8f199bd6d54bb569425678fb5debc7773cf4ddb0c27f731f9bfc47399e03c9c18d086629d37202b41664ee0503a078f8774e22fc51c2c9f3bde865862a36e75e13be75d0dbadf0cac0c66194c847823a89cee519227670b3c49d7d7aec85b8db1554e5279d57be15d86ddc377ca814939883dd22c064330ba30c34afdfeaeb680c91fb009bc2438c978c42c29fa5605c355d510a4a181bcd57023d953bcfc41106359ebdb5f8b6a1da85d4089a2e01ff32411cc3c559efccf2c4c2ccacb77ce513c63ca689f5eadee5c810ae2e7d1df24a45a50b9ed36ccc55d3845ce25361a421cf6172dc78cb32cab41def7c8f4228548d0f9eee57e4b733a693d4382bec4d046b947e7a071467f5044b17be182807352ad46aac371c0bed2d92de75cbf977609b42805d06ba9851232dfcecc5c288ee4b0784c1c53334e43a4f69a1911162efa79802869561a21e33b551a52b1dda1630bcd1286311b9440db45a770d5fd8c6d19312bb8a12e2d20fd683a6fee91489632e4203a5bcbd68ce2450b710272df0701548d60658b6e41b0817c25abb939821d93ce413519169d3e76fa926ef8c5912c4f1bb5b2a23598ab17c8807df03f9958a97936d8ae68854d2bd3650184dd4c0fe284d3d1af4a9b58e430ef60ee532058a0835a5ed5094aa753eb02353b9bc6c88b8e8e9abe7d3a48d7a6ccad5fed9585c946d07566b150ca40d0e74d58a2f283b3c7b116f74b2136eb2ea70576d2daf1ec0c880a8e94ea03e8aa99c24530d89b0216749849465c2480999f492b8bca3d956da5b6396e5f7bd7f9b5e296ce7129714ec5342d4b0042c2e47fdef6412db91160124684a734fd62b58ca23fd8672ad07cf4701f79094f2aa4fcf97d082d1942a17be2bbf0fac3b3db21f9d0d1bb1a1bd79d8b350c627bdc54c27453bdf6b4ad74e71717aff7458de3d647bbaea2e31ccb7b92f2f88032402a5523ddddd6e3d6320a8b7658b56fbe2ed98666042a2b083fbe0b3723c40869892de23ef5a92317311d099527d981102fb07b396c977783990d9b15e71078596b7f44236cc4f450802dd989f33e1b7484a3061323efa28c1cae3beb79ef77f24c6105179b733abd7bd797a845fd512230f106bfc736b2ebf763433e3f79dbbc24127e0339f34609a04ee9ad7bdc425f86074a9fbdc4d107d8eab321e6e884688fa6c43294828dc76e2537d3012baebf8de5f02094d59d7845e490d23b685baad35706936f1a8c307145e769f0ab81f5cb0ff3568165daf413581dba47030b04d3ac7f2c18c34fa5cb611be032283e378c93de919b22cf755868397cc414f1981ad2c07146d7dfca59f53f7220e8d69669b99b60e22d57dc6fc0513b676c244eebaee1bdae915db6adcdb2e50a55af81faed01b7a64fc3e5fa4a7eb6f9afe38c6192b0537757042b115215918f8de504e913f0991b5998e4437d66c7266083db80645033c0e7a08512984737a39c69d75d5320cef4098f4d56e4ddb4baf16f6498cd30b5f4d1f697ebdfcfd2eaa810d69cd8d4a4e04b1f781b2a45434a1a4b1485ecaa9276ba20be5cde88ec59dbf230530d5be81f5b2203075338f2e1ff2d83fff78d571d9a78a33d00c2ea772625dbcb16d68256465b28a14ed55826ae383d6fb1e114d03e2efd858b2062ec80a34e7cd9970f22263e980880e72b879b60f426db6587408741aa1da1eb13de217e16a07545602915ef27cbd48dcc0a361c3ff593b51ae2a232f1bc2fe12ae8832d6459bfcbd636b49da57d72234eba092f7e3aaac6bad21de1d557844e6d324b21bc96329886b36e4efa8d619caf92b2e9c8d4c3118b66db98ea67395d0b991eb67abe18cc2c40adc7d1af74bbb785aef45019368c90f15372f8226defa4bad730dbac800f63d3bf31ae2f1685e4613c3cb4a99967b8abc0e724d077c014ec5b0d1fd9ad26b9b8f6247deef8a10de96a9def22815d5f3c5941bd693416883ead88da069439a538b312358e1ed6f65ba7b32113a86ac3df240f8c72be179b1e1e6239d5007c83fb75864f7842856a566a5afc573b754ade66e1ed1dff1b1760abebe61b6a50dff4857d73bade4c84daf7c81a1a1bb6b6670379aa5dfc10b58f737d2ad5363109aa97ce03d6d3b47047e9ce9ddba64219159dd9b35c1eee3be4b39719272ba1a3214e0f0002b0d34a61a0d47ec4ae76b7c1ca11fa95868e0cc5d51024f1b99df6e6636bcc8d9cab5dcef46802db99bc46813381dc605a2087d4fe9593a5dd525231196cd275d36f70a7e508635dee90895bbe6f7810d0ed851c1a203b51acb18503405c40ed37ea1e1c7aa191a0bacf3b56e42f1563d2b3e2b5fe543644fa01832b019d24b73c6010c31ea027deada83e7cf3a94e6f1f45efb3dd85d054b92ab63f9f97f532e89e2362695d48a1b858e59fc2a7421516ab59e7a878780ae3c88d7b59f6086928c21077777bf86f520f482c73ac7a8437505e492d1ef54fb20e764e350d1ac72dd0032c5ef001da4212abf39fd0d1fb488b265a1f4648edee40e59ecd03222449017f96ce44fbb576d6f30c2fb8260054ecf34eefc33d992df64c067a6e93c4be48ba79836e3be533407aecdf47a79622e1217a889778ee8941c571c86cc042840608a54e267f49419a2c974700a0a386e4a37a8fd4ad62867ce32be06c7ed0cd8815047aac921de807bbc942678e64032334cdf03726d576ad0dab59957e508202b1a5961a4df0ba974a3301879a1075660338b8368389bf1052bcffd5ea9bd9deee83829032b3b0a329beae88415196b537962be3ddba2f185a2c0a9722a17bb63ba5e26a9ee5a09c9373b07b45f4e6aa7c8e146f3ba90c6c1b492cfe98a3e924e0cb9e0fdf3d1a1f9282683f7904deee3def46d8e34559debc102aa2e568977df4d9456b0993a19f87c06f3d8031dd0e81937183f8bb1f95d9728bc7b28b1087ee3b8c739b3d95ffebb9e7956531e96c804d92d9f542fb67e1bcd19d06816b99f6b2df7763d584d8422164d8610c8fdb03e2a26265f189fffed2e2c7c7127ba9416018acde23da309901659b84dc17b2abd4dd5e9f69eb7a73bf005bc8e13a2d6debb73195043d443e8db0fb52ca117743a5f0d1bdd28a2d20a9a85db96d587eab00e6a73b32cdd5cdbbaa319d2621e387f6f633dd56dbf219bebcc650ed8c342aea3442c5f446100302e06e649e805e6b7d07ccebfa18fd0d6e63165836b7aa5032aef6ae5461621ead14889b240ffeeac91837c96edde5c337f3e89ca1c81ec49771cd92963c8d7cd796f9808ce1110024bb28d270b1def7f9a1eebba1c52b832e53f7e2fdcd509435ac47bfd9f8f208bc92990a0826b3ccd14693c0f401ae76f94436df9ebb7bed2c3d2c666e31ca40f74698191cc0b6655fb89712a70a90159434119172432c2940a454a33edea826f45c467d49e5a112cf2f5bd3e9a2aeaa3bcfad7a22ae4c51405d8ef8aab38938ec92a11f4174d3af649dba292c1cd8df1cef444bf580a84843bf329cdecd23ad5ef9475dfde8ea06f60e7d96a6b060e31be0f400424351d7025d83bdd9bda83cab222de51c036de73f185d39a34fed90bec0c418609a42212977c62cbd6ee7237167192563e4000a5e70547c7d4f950fc9253136c6330ec135f8ea5036645e3b6e455410104e79b672aab6629535e8412d7c93d0eec49d4e096d71f8e63d2a4a3dfa61a6798a24d771d434b09d5436a694a6e5c4bb50121cbfcc59a33f2ec6a528a1f57a9163e2cc32b788732d56af52156daa77f1d88b5bd84e76891f424b78721fa3553d01426e30bdc3d96a63ed1ed76e7154b54a926d847763529a702e5853f3f007da11561a8ce9306e5d23d4606a7b8e0deefb4aaeb84088894257946148d9faf4ddaf0af8844289fe66483f3527d8982056ed20c9fb3762fa0b35578205fc2f6be7bdc7d2b26b9d24fb5ccc6d36dcb53d3bbbefea764e82476ce30ac63e6e208f34f1d8936c2cf4407e1056614d07b13671a7c3ac3ee793b8e451c164b003041898952d2e66f0bc21f18b324199505602d38489a4625e69fb1e667e3840e3ebcc800b0d67a1e43fa1b9945e3835043f6ac6eaabd4d05e42f37b5761797ba8546ee8319b85405ff6e9f1339ac5819fd9ba2f22f1c8bacd5d0d1937ffb8646830051c51cc3c3c0b697f9a7d7cd221fca9c7ecfb346e61f0496e89a2d44bd451afc9fe3793288c204700fb4a16f10f5ad8dbd1b08e0b6cddbf8ff9d6553f4c378034a4bf062236c7e3293f2d68a34b2e570621c96915bc6d1ab2bb764b68e63b7212b9cdef20492ecda9e22e4cb1d8ad357aa272eac8843dd52c069a69949865907f3e7433eeef7c86322784af82cff4c1c3bc28483e84b60dec23329fc45f623b8c16180de007fb7b365632550a037df4a3f9a66f6a633aa8f2ab99e1fb9b429369778bd59de2abe3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
