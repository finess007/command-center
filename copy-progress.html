<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a6a910c03aa7365ad98cbde2c9ac9c2d8dc29c3c93e8e1f6d5f3bec69260c742bdf26e8519593eac8b8993048b85062eb319dce33e7062616a048324e68dc2f67f6f2bbd3c763774abe28437a92a77e45822e1796e4f74a97443b3d2ecfd8d23daa799310eea57e9a341c6045edbb16f7a115ad4e110037ef8077f4848905d115042978252fc37c949147fb837bb636efce4790d9fd1b18f73cc304288b28f87beb480e0bacc61d3056f20eec043c5b88bfbf057eef7e9070f2ee51ad2dd2bcdabf8a10425c86f87056726be4e028027e19bcc3c0b6d28a6a519fb77a849aefce23c8abc79579aaa85e431bb7540cabf326a8c2ad9abb81172c0341c2fb3b90c8e60ba43f1b48f9761a6120074315035bc80a395a89eb1075c46f517595e0554e865268565001974a676cdad47658650b3decd05ba408d7e2d0846179001ffddc2bd233869c449191bb166cd446c3706612e7869182e9f7aecf99c5220150699221df4006a247366217627c7546ddb34e1f192ab9903af3f7bf90fc0e5f6841f717858bc863c4dd416bc61a001d72653ef49ed4f32a18a7f6156a6df1d92a36f09d1a0d6a74057ee7f164387bd49db4340f93312336d35bea4dffa7fc196f4dd6110367a002316b6a754e1e030c0383ff47a51a27a33398fa6e8de489e361071b5b4eb26a64b0c47860015cee02783699c3cbce334e02654b1a507bb3ebd3a4995963aeef3ab07782a4c0522ded28220216c8540c89a320d9d7a8e5ac94c3f6191263758722643e0fe9f31192aeb0cc3f07a84fdf55d3d1cf27a1f0dd2095d07de64b84d304b28e94980e46e89bacb0a1b7d78616e2f31bde7ad9b48af05e859ff02b867cf0fe882260d476c936a5466292d7848f08220116b6ca0b34741676d9969fd221bfeae8d96304803503ebc45c5d17cee25d92a8cfce881513bacbc225f55628a50e58363f406d89a559c871aa8926839c0dd91df70f6cbb62b917310d79a51ee8d658e44669c4dfebe0517d442f98b833885a5df857562118a46f7d87cdce1ba859b7f311e71cae7f969d87a5bae9932866b2a2b6d13de5f0f793c0c46873a8d6140a87e96bbdc581d9296714bd78e3a3e84318638902839f2ef532304992556286819969042310a8b7b0ea778c9fa4dd94889414d31e7e1e557a31b96e6e5546b6e53d6c6059df00798ed942abd93a0fa151487d3e3ee76547d57704eced08a237c1550236d59281134470dad06f7f7a7adb66b61457ee9c64d21003697226dec1467e591014437b3d5dfe988046eb9aaddec9cc94dee6539bd604580b5067cb04072f0f7d6faded3ad488447b1510003d5d8a5aed179c387b2f06d7c9d5af22f5923a7f5f11a6a5f75482243359a072c8cb23d6acf29430e99bc2ba210e368e9773e6233ed368e675a7770b28fb13ab89899b0b3e34848824caca1f8338b6baec993539191252bd38a1f5a5b373d0368aabf3a5dc474cca30bb30a56a472fca706a5a55e50f1cc41b55899b703b03f2c8682bc6b50bf6bf74e48da9f5213878be21c4be502b9bbf553c51995614386832c5b9ed272ab5f946a32adaba999a4758c114b01893e62fe3ace97b82e583f13ed59ba6f1b9d935c92869af8d757fe59375ec3d316468675e416d124b009a180f53e7ef197614e5e7c12815e6ebcd35fd38f2c3c395106de84718c276d37ddbc8fae737a3272cde1883e285afe83aaad5ee1b99594c346b28c7ee044a9b9da93ab4eef4bf4fdf1212248c9d620fa97597c20d59dbce3370ee7e27c507c63ee791426ee6b86527fc87eb1922e160894de0ee8aa0a39ce3c72103d0bd0fdd372c561b3d72be4d8236e5e9043481c8245e95885e0300368376a2cda7ca532e99f455abfbe5115012ccd83c0c4c23dc6431f7b5016a6dce1924fcb892f40ae2b358290c21f08395ec95d629620b5400a649927da4da7c85e474d52e37917b7bfcd0037058e373a9685d8dca1df8f7181df1cab62ef2fd4522a7b2d8ca73144cb8ed16b4854a052cbf068c8d0de103389c652024a2dc44a4ca003b72c8367b1cdc2660d8aaafef1f726cc7d3d0faf5506563ab7b184de68ea37155a1204036b3ad6eb7ada2367b5c7a94ff34580c6823b55b5b338cc0ec3029f033152f10e5a024c8b60e87dd58d333bb810839d46be7a02b05f794bcf3217d8e8fce6abf6b476591b6fda8ae0687424a773d87af3774d26f79a1a763da34ab37b03c894b8d1ab3208d51726195df1c2bc0de12c79e41b104b62806c1fb9e003d198dfd06b264f1d25e20f290e43beaff9988fe64813b6505a7be1ceb39e6389f304c371aff32cc8f0d910cd4e105f6179089d9ef2f06d45f2eadc7adab713645a75de49a035b345a5be89ff1b37d5e02020c55410f2496f74213abc04a51af23a1c276c55ed5d008687c4fce06becdcc891ee49d6289c31c62313d186983484327325a2b7243d6db9259e1b3ab276c184a23c7d1ce747a40c20ef3a841aea19f826f4f3ef0c78329361026baeaad2813cdf76b1d09a09103099cdd9b100e7169041d6462a8afb8d4bedabf53cfdc73980e4c95ed1022243b323f12850d113b4ac3ca20222e1890ec94a6e879570585825c141589cf1865f8b8b5ce4916710267bd1acffb46c1a99e85eef4b7e1c48faee97bf2f25bf6539a3dc34c999c322f024b86d63450f4972b841ab49b7bf910ce392259957101826912a9cd39f85d144a6c7277198d85de3b6f91092f69bdf12c4f75d96349eb2110a80e77618be07d239bf6e0c19598fb0b4f606ebe0e379f1302a242db7e3de122649fd34c2126844294596d000d557817ffeb5bf946a8d6e07fc133dd3f50d021b8e101c9331c8ff3779515b2789c2757122e38df02a32bb720a2d8b3f537728af9a9f2947405b5502b0455c73c865465f9fc6dfb008d4f9ee94cb35e6dd13dafa4384b061eec40ac00a396bb5537a3949532cba792b495dcd7ab10a47218622740a5adc597a60bb0f4a7902f6be0e25ad493b9ce1d98907d1444be563a5b045a445b836f0cd1cf972f56d6dfcf97ea368bfd4180bfb7fb599f138240b78a0f82ec4835bdc885d512199af08bd0d915e7b7ce1bf962e8fe56d3aff4b83f957214bc8c8ce0efe1e1ea2c83c865e62426bed0e8a37b9f2690455089f07b17f9268756e3c8b423074ed587abf7da166d8b5f6621e996ddaa85df6c3cb8ab587111a9a937fc332a09dcf2aa654af519375c4569f7b196bd9d29f7638d8860f94c3f4b01ad86cac5bc801be70197ebe69f871f9b01130494807727430e2bb2741cf3f9d56c6ec31be39327b0aa2c4ee237480c33c7d05297420d93b536d9b7e72b5c6b43b8f0ec47b88ba2aa0b9d3f3852d7d41d69e63be73ab78abcbf47a8824242c57ca513edf1dfeb41c5467ded1694343b52dc388122f690624c084b8341553d50a0761df6e21e6ec1e74f1e21bf1d353cc15eed942f4fbd5ba33b3933fdfa807508c01df4e6675cdde9abffab1c9331568548242d56052e0d5cef26abdc0c93bc0e134072b5a3d724ff8df7d43402261ebc2478843d545d62376a38c30d01a545f3cf6db440c53837b7220095e87ab3f257b15f7f9a51f43b63469cd63f0af6745086d10d5d11e69fcd7aff6d7e341325bb7dc25dea44d0844e4b39a9d073a1a67496816c9fef6a185db8a8fb4e86cfa471afa70faa9d60bf599685300aabc1db7b6a6939dc568acd145054c553c626b29354775118fdd66d4d0ffca1c7355afe4f81d47e030b74caedaa87433b47bdd62f0f6bdf7293192eead82bd1acb639145eae080586f77b237ec24befe4c91a6a3e5d83dcf00440fbd8643433d52f7eec013d8efd91ba78110921848d9e069b50ed77ef3289fa44453df74c7af1c2c7c68eb4692aa6cef22aaee5a9e09e9c9c9355605592af1ad94edb962b6fe8306a50125786218be0fe78d836a01060e08c57f36b874710e20bb40c5d9c324c877dc4ec5badd00831f176c324c72a14814a3fad69657eaa29417d103e19466b88719a889f11f4178d6aea06b358d46b9e9f6d9dc8d1f4842aaf839cbdafac7f4d01184ef9f53ab3d59a9daafb0a1b6fb6c6e2c539252c780b7de4d9110660cca0b1f99f340c83ed0481b0c69c63b9c3502d50f080c8714d9be71d60224477cc5e603a28367d65ce39e73120011db93e016016878e2c77b50654604f9e2c6db6f356ed4c507564a2c1e647ec4952e89ba3f0255a679b866ce9779831ad90af7cec6fb0fc695afe46b8df51d34c91e51d9ffcb10151fc5fc28de79b1a0f7132bbeb0d1ed746b53454d8060e22c70538cee68b5dd059cc615599aa830ce5beee06740d15a567d8d154af68a35dbd5469253a93b6f47a16d8fae1659eca2a3af5fa30c5838ec450f2d5f3db44ac118823bcaec5b5c5a0ae45f333f11c6ccd8f03a538e2737b04d1cf92a9d7c77d2feed351e5b323b1370bc9bffbd87b6f40c3eaf121841fb6988bb05926721bf8b38b0e4cd553f0776e766cdd96b7cb78a4bf27dd21ee111d3df51c734452203e877c3433333dc93ce5f77beec40e7b96803eb1c65aca51604fbefce231107d387f1c0acecc6725bf114346b8521321e753e6ce27c5894cba62072ab2d698c3caa5d54fc1f5001b8787e2ec756fa026fde8d88f78478a48490b674268d03f0bc51983cd6d805b8e4ace76fb664cf086e731170c7657f804d35322ae6f59ca1784e3f5f5bd572d336aa1c5bd6d9210f1cc513fa57b06220b833b6c0a970c5da0aeb487b928072fa1ace26b278994ed367b447cac559b50e40b26ed5c4c859347ae63051f90c0c12e6df488ab77c6a1807d7d040443bc17993e608dce881f925016818b0aadb0d2e95fb8b991189980ca6abf2fc84c81b0e51f0701e93919abd77a9b7ae97ae582ba6d6d77d49481774cd56bc34a46daf0cec3a71b1ac12c168512c40ad32f70e36aa667b838cde934fa0d3068063205889ab72749aec441460996cf12b5e5d76cb75deeb85f4dd3a78593f6e8ea2bb3a5af6b7c28e0c2b19a8ca5f46cbe17bdd64c85020c7ac3eb21f680e19b3d65461fa692074a8f1f357961c44c4b3a68417e9421f0f0bd79d4c821960c4bf5ca55c35358dab3b2df9be0a81d9bc91a52fc855d1531b22cb190eb35efe615278e293e977acdd93d175a33199a0afc8bf07d75854fd2a52630a3595272f895fef49387e54f092a9290f29d3c103a71e366758c15171a2da29755a680c953ee5b9ec77d07d9b3b8668029923054b53e1d25766889d9b4f15be74fc81530d1d0503c611e23079d2b43cc54dbd3fa0b604ac5a7655f3a22ea4ab8a112574aafffe48513c258e67f76815fcf1c7e6d887bfcecca22113fa6f0703b23dbf47662db2fd9151cbcbfa77a2bce08fd2171cbdec9b979531ffd3d9e023f88716b38eb165b2894b9d4c1de97e8f25412e4f7972d6da923fe33ffae230dca56253494a3dca1521179fe954c1e26a90435c5c4626cbdfd06f8271ab881ae98f81d2715b07c682601502fc1007b436a335a9f6aec79b46fac2db42170818a9a26c807495c0cf42b4ad1b143fa5064ac01cbfc342c707a45c584e5add3055432066137106afaf441629f1c17eac787456c97dfb729153b69437b7e49f324bec5bfba065aaec6fb6247834c3c7d3d34f3e09bbe381cf80f86f4b4c7d3bec2599826e57e9ad7f9a1649b7f7cb07eaa822b1a4a9d826dd89478871d3063c632c4b6b93fdeb6d4581ed9b0cfb78b14ba414cafb35e95022de89b06f98a0faa47f6a830d11dd4bc9b4c15f5b037ae1d084d81b2de5ad8ecfc65743ebd5d92895947292edac62b25f9c774085d84371af1c95d348a4b06bb0f0f24772fc73172d45fbcb7f2e23f66f1f3ea85616d6041918a4a11413e6a48f09728b2c84c7bf20559126f984d74f85e01cac93540d5b763b2ea09de93297117dd1da653bdb2a6f60379bd40d28ac992a404d55c32e2f63aa632ebf0c2633fbd69597a04d2f6f5e1e15027f0ed704fe9c03a72ad9f9fc08153e647b9ead40e60af1034b9c179840fd356b311a41dd982bf99882df50e72836cadeadc855b241ab43223b9f39e65d18ea6f2fa9a75a1725a09801b00a4c6faa33b73552e98a1b4f1fa2d0b5aa3bb0d283de94ae32e8030eaa87349dc7feb675144533d5ea7f19da2e66a80fc77243d864af39992222bae1b2fbe0cc5c0feffa41ef6ef5928d0bdf57ee9a4cc4b52d970987973c37b54a4ce82e0b9c98fe6b3bb94e8d16438099b59952457b95eca8b2483646709dfc7c48dd598b15b98c8b64520c3b3a823c4e9452e7eb08020a2fd42d7d2595acb3c2671fac3d300b6c73da86136776ce665902ea1dab6e5fbc4c7de304add20566ab9992d78e4f795bb357cac6ba21c5396c53202e67e47825a42eb28959a0916277da46bbb304c3841ee041cb1ac0289bf6fbcfb7cdfbc344c2840551f8c53d7b3a9e0dc8733810ed04301521bd7d052f5627472de0acb390b10c3e7189b174707fa9dc8cb039c098d8391e3713ec3ddca2dc341a1e9c899fcab4772cd381bf5ab405a99bbb4026c3a4cdfc99e7bdb3b37b205dc6526884e88fc8ad00d81a72e1e5d7964eba46c580c4b0f465eef3ced17eee72117e4fa4ae56ddea09263849c85472bbe9a349604f69388fed2ebe7710fc8fff3044f9b4c4e781318b9435db8b785f9aa9b6acaa40bef7ce2832e6f5b5d35dc097b2c5e90c250f4bfca659c847384876aa829f0caf61e6940e9e0fd201c162348ee2db94dd96fe886e7952dd5ab92e843b4fedba607390c9e5fb18944ba0ec7a18ee2839da9e1404e97840d3bf635b2996b0b3ac45f23f66de2df4c6a540b59886e9ac86ac44c0d07bd27956ae8b95a322631eda95e57fa7e26e5715f56dce8645337fa340df8ec34e8e980a2cfe68fb9ecfc436b4cbbaff9046e76bbf83ed1e810cf780c16443a7274ee4ba3077205a5d0a28c623ec34bd1580993893abccfe277a4c53cba4b833689723152ac42a35d22c81e5f03280b5d8d5facde87442df53151730fe9083b1eeaf39e71d7eb24c6d658795362b9f62a3e5dcf138796e14017fa3eeb85c02ec51f98c5c785d416b22f4b4a1f79b9db34ccd9f9b59686b73bb0cc00fddf344463d77145b41e061f2dfc766e15c8809a8d3d2efd92492678df232dd03d2ae9f2b71390ba3828479b1089e001fb7fb6588c5ce063782d8a2ce4cadb6d3ce97c360c42226aedb5a0c9ac04e0721f5e15e602bd077d1fea5f341002298b2bf368fbb6612e109939e47f9ff93d39515f0bc87c4c3cc15360adffd2e34e68ee3219316fa919242668a46f3926101e8851306ecd566aad413749b0e439ee7c259867fbc4b1d596c3ed638b89b1493ae3e3a03ba21df2936a225f9d88f41be54b135f8a0bb2d6f767c5dfbde12b585f39aa9982c9bc3429ed4d7649efd759dd3e4c1b453f165223a0bb3a464e61cadc7b203f86dbbfb12517f100d7ad575a4500a5b3091287828dec5dc9aac661c1fb2f695422d3a92df585c0295c06b2dd516655ff3b524dc9b57a854acc6e9878c78bfa33a772c225348f4f02e95e614ccd067e1dc89c16410954578d29b3aaee4f3583fea85089745404adf0ce4a790aedb77ce7866263ea8954321e210bd68b39adb391aa2e1ce239bab1bc0eff8f748d15f3745eac6806e2fd8141f6d52903e235ded07f4cfba4ca89c7a4028ce1fcfbd1d3295b53cd2673c0868ea3e18b208449d8a971be0fbbad7a068ad8ced8ef6355385f816c8457e6089581c72a6d9dd7faddf1af2864078e99da699d5e21f5a23f9a95c8407f449a8d69a8df3f691038fae881e0520be201263cc6157a12eb748a172b6ad6593d217ef48b9c8639a6ac952f0079b33ae9e90b185a09869e4016a1fb48b51be723efa386f47a9bbbd5171fe5dab1631eb359c36d5f13d4ca9c36ffff11650fefedb730d2cdd0e051eaec310ac0fe8073dd20f238201eeba5449d7a641768eb3358b576748b5c505e574301548ecac2e4f75b06e7570a0f7a78f5c31bbaed5e3960de0a9d11a1eb3b370d94f716b8bb3394b124904e479d2014dcb6541f82b3467f1679d189f8189c32b129c900d1b866c654a2ae0d6cd6dd846a8e694e6ab92759d7e4609953e3020559db53ace5e73070391ff68d00b9ae2a90a9ee8431e77cb03be419af29eaaaa1b796d8d6c585d3219dd162cfce28e4691f9045bc2b73e05b7ba1f20d50482f80672387e855961ce367a555d07f006908bd66668dcda24c36b3c7e4a8a475bbd431c5c801d7d8eafaee2f62d7dbe419c6988554d2277d8c1e222132e2f5080901080fa78fbc3787d35ed56740f67114581e44b0bbfa5e657be3d9094343f4f57893b5d6b1376fcb3ba9716041ff6cb4fe34912331c9c5f7255dbe48fd139fc40f758b4aead1b758e0863be7b4a8bc38e0e73f614a63a79c3e6cc2b41d198f13bfb5763aa2e93c2951f39dbf8c2deda65d6e2e5e8b8ed39d537d550226f5206b3b2a69f763a7e7d589a1f4b53c5f4a72ba50ed73fe71c29e3eed6e4c4515e3fae9c2375b739d776f79681e4acacfb2fedeac4a08213b91376163f52a701065709143e05db710c710d6c12ce85372e7cce51faf01911c79cda84e53216b2b50f2f067e8e23ac6a9ff4dd23f0c106bd27bad9fa9ae0061770dad529f698a87047147d6f0861bfc11ba53980e4772b58ad14cc8db350da665ef1869acc87cc024b44f0595dc20983691faeeb14db64d1edc4f2ca0fffbcd3a9c25883c797c25cae5b738d45bf042b5983398a67eeb5588f76610f06624e5373612adcf7cda17518bf7627771a8bd6d2969f7410043c8a7bdf8153028e12e975e764e75426a28fc74ef2aa599681751c8f1bcf0ef13ef808775eefa912e5e3a42e3c9fec7e37bc799c8b0b7dae21852c427d0ffec4ded228c27b4962612963a680668fa1137434b52c590b3c636766b1f9a36575dfef44dfeea626f5888a2efe6badd08a412985b126a9a3b939f97ef0ff5ea9babd9043ec16a4edcc5e7f734c009c30877f68fb82dd3cb8f81c143e9a65edbab686fd5f440cd4eba990651d89528931d7b7ba80a35704995e68bd15f2b9a451917f35540be6494958ca4a10590f9e7e005d152aa0554da2f59394d67a80cad05b86083f6fe5063df14f0917498e8e9a3a582d7752405caf81e94fdbbf82eef74c69f9881052017e70902d4b853ffb1a3de7fc11133c1c59fa1a5d03fb7bf047ced15287e9e30e3f79913622e47b9489b20e9354e873d28d41d7542b46a0a58d2045e1c92719e0d829b809433ab0a381dfca69888c2201aa64aa9d66c7c05549e0a49ee68c263f20cab435925403c0f4b2c3ca1fdd7928f55aff6d8d0d020ed6c38a39d716c914c1fe8d80ee0c7497220db3b7226f1f11255d9b8cf03587fdbdb6089ca8743768941aacd805ddba3c7a325502723db0c2effc405643f86e6c28ee1a1f9ea35e7a10bae4d0dcd73ee1a352edce983d60f373f3df4f88463f98d009e8961c86a5b2116515a9805f350cb4738bcdca1ea02329726b608cdc3925c8e3f8841ff25d2930afd42cc4fffcd97abbe574126ce2e068ab6410bf2475705d71a9e3e30d3429b9d297980520f6d1ec31ee3b5698aefce1c2b693bfcf918979751c63365404a6344f03a6678299475b85a33a4795a3c97b0d19e06a4cb82fba1526e86dc508ff710afd6d45407217693af83e26f1e77f5fe92ddb188cdc2d20d8dffe069e52d0ccbc39863b1ec07d4419ebea4cdb8c33db505d646bed2d3be218c1897a913b8f81cdd26259cc935689fba537c89dff8d20708c94367b36903e938ad239b128de0b32e38b7858f899eb8e357c2f1af2447bed42a3fba541c94dc42679e52b2e6c1082ed6d13d74c980ec52bec53aa2cb9968f5d60f01d378f6d6974ce3e07bccc687ea56ec8b8e11b83b5e9d0bb30ffa979bb09ff939c7ee0b47959c734ea243c4ec6c8e630d2417315c2aa96f9a971cfabc42035b65c9451c3b158c01294d4612d4ad340c37854db855815f4e4465ba7b72941d8407de7eea2199ce6c4d48698a0b12c8c48a6325fb7adce94e0e95e09ac0d2967befecde217475b797304df71593322bb3f2a17bb3bdee2ea606fb9175b7ecc409e692f1c1daf10f3e006a38991c6ea46cf5add4f0739ed8d0715e4d3126b6aa291cfc43c4b9185328348b2e890a7bf37d1f98f9c0dc9630ed9bd81ae6073768b914e6cc20e0c2c79721f62fef17a6333af6bbaf7d36e3333876f38fc245b7bbf1a3d2b3884a83237ede5236bb9ba70826db53fc3a3d182e66a39732a6879e6379068e0578300c4e9bbe94fcf9aedbe9346d51e060fd7f167d95190a2ae60ced4dcb637d8b9ddafcc433ab54e4c551d84fe4d23aaf04319593c7235260c544cb0762cfe7f91d66afca4e13e23f924414f3eb5c4ca0f1c6345b8b43b669d26972c78b2be2938820296cdf954604e3b8cc65eb1c7dfe6ecc2ab26bf0a53c447dc4b62c4ab36e77610c40f42b5e811a97ec9cd4686b01391a90c9669afefb8d7b9d4d32ba7a23783e331b453c1940497fccb2bcaf32c264ab5f41e264ea5584561ab8c8028bbdef52b5a92c77660fba24640e566c528d3356b685614c9bba82de65d05e675e8c2d234dae0dd18eee7e8ef5e0a4d867095d88b3adaa5547d80d9fba3c9d72c42264d3af681cde9b4976d89d1d67a3b857416df8a918b78bbbc0dcd5e8f3a251276a2102d0b723ff51b98f83bed7ba96742cdd0d543f1681ddff0ec566c222988ab132431ef8d6bbe2045972a24fa41b7164da04dd74ea855235c133e9723762bd88c94692befaa7f57b58360f052e2cd437b4ac682366eb0847f025bc2b7d9da38a854e1db643995cead5262436a38e8748a80c1a4c02ab4948e96939c3484761389dfeb9e3c3149a574c1118a8ba2f890b861159fc989c427ff313ffae900e479106c46e17ce2c041fa2dc815a1ca191523e177b5cea2e2c64252b2789f08b747a76f5cc06bba02a55a3143de95456e152744c156240e0a2913ebf2d367c5baf36d4e0d15c38f6c2d1f6db139464fa609350fd708418c8ff68606f565e3f8b31d5f10d6ce268d75b2e6001d950cffda5f03390e32f15d188c4c72884588cf7fccc0cdd8696cb6c3be6bea443e49e3731fae940ff68ba9831cdeaec920f294227e540422f039fac1710d2797cb29dab80c1b889b98bb9a313a1bbc781f3a94c53723d580b3399a75b60f3228f110d34569b52d6d4cf812b47da8392964f2fd5b0e495dd2441764fee0b6878f7fd482f135b59d059ad173b40a3c3bb37186e23351f9af4e6da05962c592f618174d501ec1d6a7e026e50c5281e2e391bb16779ef78941946561bedc71b5b24d6770d324b5ce52823291f98cd749bac984a1b0acf585d137ed496b085c85a581bc95e5d1ff9b3a7bfc3b5dc84e6d60b1cdd134491026f0b7e0168294559570d6f3920a98b72011daccc2c668ff2f844e3e0dd92d885ce3c2d9a2ff7b8bc49b547db2bef8ba65933611d9b75a7314a0da54f5d12d12b50d62a8a05cd7eca2b1c61c332266044ff1d953b2b6088bbe6eb95d8771f4f48b330d6321bb8fd4690213a03149338c317eb37600002a50984b050bb9846654ef6b428424abc5875ed8aeed3cd6026aaab5a9c2f28c210c541fee77fa78c3e40827363d70b5fbd923a932da29d5d52e5db810018e0d00f8015d49914c8ea9b335edd5e1f8168b27a75bbed32503611ad9b5c8c8584a5498b221d9074d16de79bbe4a318bda12e0fa5cd3c31da2add1569fb483b594af0ac2653a9f0f1abab378212369e40bbcd68dd939d0bc2def96ec1aefbc3059fdb25c9ef9eca034908325a6f3870172af28da8e0d6aeb8564b3f595a1903cd57f64bde85adc714d2ddaca2ec154a552f8d7f8e8e9bc89f173b86d79c25ebfedb004785cd177d6ecbdf7b5678c2064d1bab7c169879d133c73976e11dc2e6cc8d41e9e797a2a8fdb939d9fd6299824d28e31b0753c43b9dbb8ac6ce16fd5259bfb3c8d2eb8b0c5426b66be63c1e8773c529f7bb479dd4a374df57ff23e445452dad2d48367dfb053ece6c400f45d4597abc22b617076e58a475019e85d0d3981f7ca71aeee02735816a3039fbff3163fc45676fe2502e0c24bfbe668bc141868c41f1de76987dac7368808adf7ab1f1947932c1b58383d2871eec6e9c9a3514b056b4aacc2bd735e9bb2f81a758ab4911748a1a239640a70bf9d56faeb630d8cf147e99cfdec4a788135aa6112427e471fe6111d4cb2b34514b846948fe5a8fa61a0c11333b912751f9b8ecb6f9045dad3e0fcd6ae1ba4f1f0e91fe4cc94f784ee8f6b44b6bb84e076360ac07d5361dff625201eaaf99fb473dd0d25c3efae6150218ac1f29c4aeecb36fcfd12e436a756cbcf78711b04c0f629143005ab309a9c12879280cc431dfa97663690796b2602d16dd6f4239626dff19e1c174e810392aae6841578f9d0502f27fe728d3147a9716329e5554eac71ac8e02c204207b12b3343b22c59a566eb11e012ea347826343e68c34ac64d0cfc9b8d7d4200fda64c3d76bfe46fcea85fe095ad0d9fa0940c418eb11154524dbb9facbb6b21804be11a0084e16c10102abbb2371f9f730c3b6387d9c3acaa749fa5b5fbdf840970b95096073a2711d970750026361c1e6bec1678a7405bb50878d4bf5d12efe63d0597e598f9fa636e87814e42ac38287b56cddcb3d7e073c9fb9db9ab8606ef879731c803d75b84e5a913d0bafd48b519fd921b44471c5a81d57a6d1a03461915aca09cf772874ce36a30e759f077f1fe74187b13f1f675a96894f0ae12e60edb7a816ee2a22a89877704a1d85cc890bf649e856ec0a13c065911f5cf694f15573ece23a752177be5df1fb9ec7f819b221ab187c4d6eda1ce5eb2f58cb07fa2fd6a14fb3012857e47136fe06453700847992399076aef6ced6c42a57de85e298df4b842be0497e07f1cfabfae4d9e65d38101870e06c772966c8fb6a5e8700bfd8edc92efeb502da9224d0423a413150ea7f474d17479fa009e932be37e343abb02622022e9a558c75c7a136fb27b8a7700f265352ec949454ddfd6aaa2b6c6e2ad95eafb3796f42d1166ab71aa873cb5997d2c2a89cc6ce4453780319048acc00a04d3664a65a94a11396fd9c20985c6345fc17678fc4c7186b20765037c18f108a08588da7582e1b974efb461508cac287f2cfa15fe6ec2094078b3cb8d079b450cb072ca03ec0db393ef1db362e4c4414b90c856f5d0ec3ce964593d2179bb5304f953389d34cbfac54c79e93eb9f6c8d0e5187fdb5d88b79e0097e17092aebfc0c0a39bc9840ff775a1aae97b44d7e57b692ec02a0c427cb03724b3c5ff5524b91845cba922c3b9d8c00df90b26f1e70e1c7b4e53cfa13b80b9e0a333b2a0b5d4b3d6e41848a852f5152761cc1412c6786a9ba742d067491168da0c39abdcc51fc0f5cc4b0fb68a84c1d76195036828cdb13508017a99b363ecc82e1f0edfb6c726d7734d38925a231b62d32553b8dfca017679066a558ca3de937ec5be1cd221ae5c03176e4af7bb803eb49ec0538a9bd485f040fd449eabc90c103cae63ce0b923c008adde4a474b0c898b1e88e0c3be07e511e131ed91fde94c37fc07fbd169b759dcc2cc7ec80df1b08655237a8a82f9e4e21101cdac860588bf6e4a7a134c8dbcc3c455065bff3079443a3dac42e88a704ccdf6931912c4622f86d74e341c3b80ef34dd2c74b623deb796be3a84291941659fd54b5ce22aa9013125b617e9504de97f1774ad604126160d341b594d6c5231d27e73b4c09ec04b436d7e2409e75cc4a65d9a34b3bbcba1b79f31d239aed49810280ebd671ec5df95d07dcbe84e1fff63652210b713dd8e1c642202a986f316bf097539bba6d9d22e3d91f95c3eca8eb4753c0063abb2fbcc018a3e76a673d2005dbf77612b89dd9e81f9f0928571f4fbd46d9f0f0821bf26981a5eecf1d6bfd58127fb607c01cc8ce44b5cd450333d6c67e6792a4bebe14e6321acbbc9a802ff84266290f01f6925da3578381303c412c49c1a1b7fd80b1f383707ed16e097cc0c4f30ef4c08a18de9a4954d8fd3aec2f52df5d5698ca44486c6b310e786e367fc5479a5164c5195aed8a0b8b1dc88c000fff26155e7623c533da3708d509d9a75306819eecfaae89c121843a9a6a72f614ae2296841327560629b8587ef65b1e63dd103d4b3ac05b6d62ff3de93970e89f3889a275d8be2bb38bfb54cce90ac0f570b3d411628395629d341c692081568512fd8501335c54bbf44bfb2e501ffa9ae1915bcc5a4d57d5f330fdafb2860dacfd5cfcb77cd99c1962a49b89e52aa008a2106f86537ecc12b1f84a9a98e6685a93b51cb992b0496747a4d8cb1f1a755597ef7a32a65622e79ba2f3e600ff8fe6c81641a4c1b339b016ade51af25aec8ff99d31bbe872438c238cac551ce3932872443ba776f72a7adcd3233d79d99bffd22732800337f534bf57988eb0220591c7c3099762cb149c46bf6802d5907034520bb30e60ec9623c84e8c06829da9e07e4901cabbcce3dcc82d68d9755bbd7ee1818808ca40baf7053ad7847fc3488fe0d9adf3f793a7f2e931b41000d0c32aacb64d05874b114d7e4ccf47f60f7c1308c52abe3e8a831db49bd38c532bb2da611dac664191360a3a9f3a1d35d771a10e5d6f8334c5d0aba8175dbb9de2a23291feb6792125843a5ea2f5042084a6a48e70fc59025f417c186f13011cca1f517b6b0b94a505ed5dfc74f67d17ddc6e0394ab2b023223a0c72befe541a3c29d8e957ba4ec6e24d2aae9312873cbe9b5816a10323b990b7ed4e8d19f8f95da37d973e8a1275065cf4b10e76641c780aa616cf5013f3022a961ef50d3825a60185bcceda7b36ad824db63fd8250ae8706a71b46ef95c1680aa1259544eb5aa20506861e2871958cc1303eed8c27b8d7b1e8b988f404bd765024191ef231db1ae1864fd9a7fd00bf203cbf81ffee916dcc09a9070d1eea0103a33b6e4548048a51bac0907dcddcbcc20ab4c8acd3274d9725592fabd61f769fa774b2acc945d5247a8c111b29cb2365eb7ad9265521b77406121e5b97d90a1d58345e1cb4af53cc0d0e007c63c64818671a6d1653221064040f13a41bad8e4f550daf872697d96ae43601e2ef68288fe4acccc9dd83397ec84f2953fcd0c3c82cddcd17938f4b25e90ca7d61d618f623c8c67303240e9b47c28361352b1df14b1bf0900833898fa90fbe8302aec78768ccfe1eb2e91914e7f380eb2bb64b3cb09c0f9b1f396814e17260bee4adcbde4c79ee573a8f72ee32d91d1fdaddf54a8f07974fd72239c5844bb12b531d0445c55619f9cb8850be5cd21b7f812ad4487534b259e641af0dc4f9d81cd4d2dff9f938591841214ce94c50ae3c03add04f04fc4d1ed1212bf381c97bc03e0300c1940d861073a7ea6708e00479c244936d9b169fd922fb7293a4de81574576b91ed9f0f37437680da8964dcc96bca121d97acdbef4a450d6986441a7cbd93084182f4c225afb704f2ea99594e3f794e2a4358f8bd97011c035b5fa95f9a149d98003218f736c8f237c6b6383229ecb920ee3878f347c9f79f5d3988af1332f84af3d03b8e9788580a4128c5a3120c4fbc0b6f584ff39c89a091ae15be35951644962a7796bb418a059df57ab2c8a1347affbe344b28d5507deb41a9b5a1d65667457ad727b4206ebdebfac0070e204d0671c01ee200f748ccb2a1694d9ebd44780e0591f29c7929d7a9fc70422a676a6dc88713a6a693cdcf76a88d7d2dc5555b7960baa5eaa6c79513efbedb4fec28b1b992f8c90ed290c0a7d48409c51e6745b80c211e307b4f77895bd7f6551c05141b7f0a962a091388cea0db376e5c6b4682fd3e8a998fdab2b7ee8adf24144469f45157d4a3e7749a3ab597a7c097a85928aef2e6489cd5579de294bd20095b6a61caaf45ed6d17f51da1a3eb56ab3fb46d1639d56a95f828785c37f71487db51be9487bc2d77630dadd6c525844428eab5a2101395970d36c7e0c660d8192c2b7719f1a33cc171cfca1bc006c092c98d7d2df0481a59036d8d370f1d035c88dd747ca00250a57f262c3b76d0ca6ab8268029303a2f67e42cb532cee4fa1a5b64bab2641263a3ca2eae73a4bc81abc53624a4a0a457d5db8c33f4559d26b67821456f79fee7e87fc9bba7811e40411a1fc58cfeca03078aaa173a98af4bfd9f853063bd2e0e99e0c526a1de0263cd6c25fda82a80e440a81fd81a8ebe4f534e5027aa55156b6fc39debd47bedcc868f0b87afe3c79cb3811f01b79b04c2dc8e52bdf4625ea3f3ffe53588acc11aa05e6451ab0a70d665b5070ce28174eb99064fa867b0daa06bc029b07c0e04291b7e62d905c94df36a5f0955be897af1e43de71ea6509af01d3c006aa1e84f21b9348cf0f44776079555d4d7ee5d996a0f01ac05dcb8584a90cd68d8a31a8b72fa5906d10d88778ad05ca0f5ee74589a984757507015dd5c5240748949d370eca8e225eb0abe95a9292fdca2e950e8bbe07b435ab1e7a9103a9cf2857f37db760619854942f7e03b022756460e9626a8643105bbc7598650882cd56c4ecd358ca71856701a7e6ae4a29e05cba0160cc0edf065dfc7b1f4221d1baa4b7729b92aae515b42d554ddb38eb8c4a6668d2f9c8e22c9a394b99b504e009bc350a4327e9f1b9b64fc74b6814ad08f407edec8d3741e7f050b2e361fb973f0f367a316ccf77604b7715fcc0ff9b3ba912766d2e11f96c23387b6444a817ebe7c3cf6c4ad6bd2869b87303e5af658506a4e33e86d3eb805dd698669d751c0c1e01833fd88a2c886899ba942975bfa6bace5c9deb99f08dcb9704439772c123e06624cd43e75d8cc9f25a97604a6e426c478e0add6d3ea8fc0e570418dbe4f1cd7f6700e53bc1139717902ddc38b35361becbbcbadfa15e5e7648e1c2a5a6f6196222b01899a6898e0f67259e69231d26fb13bfeb9173fc223965456113a675d31b405ed9a8b0cc6fdd2e39b766035d9f85ce7b94dec5d50c03bbca0de5193ad84a364e4dd3569de94ba1dbb4940fef5b1c8c61255a3385c637800b80e50ed4fce095e720b11a091c9bd8024247d1426f1b9b35d6b058a58b639ee147da1f6174756a0cd7fe5af437355ea87a3b2345e74f2ab550f73c5ed3690dc71c36e05cbf2a57d5f31ed99c705ff908a7fa57075c12661053cf3493f2909a6285cd22bae028d95c17b17edb50f6ba0dca582f1260c503994fbdf867af25f42a5ff7bdc2a0330781927d7a7139fc9d4f77e6f973adf8dd5b7a79744aef148c51c564f7223f53fa836375a4d1ccf630b0c65c09f737cde199f974d8ea6fa7fd719c2646877f608f31566f3afc8c36d20c4773b89b1fe37d4e807a3b4d8ce5ddcf9e12eb82c4dc00f563684ddab5ea5743aefc3a782e99e4aa9460ba9453b5abf3c4072d6c50cf9abf6f9830fa0ea35417f3e311ea9a0fba0065844e5b8c6e2d9f17b2b0ad70e0448867dcc7180d7557dcf926719fdcb7cb49d4a3648e3c369e49deba2e2d7b9dc5c009b59165c086b3ec0cc24f6de47d5dd13e676499a1c473255148c92ed69df4c59005ae0817e4515fef6f4da66fbc2fbd0c4b11ed93275ce6cdb3b1986eafdb1aa959129a5a8268ea2e043e38c3c0488f2aaa8cd6ac4e4505fab88b8e8313c0d2ec2986f922cfd015d6ac29be98ffd2b9c1180a547063e2f19dd7bd71cf9fc7f69dd7bbf34e790f9a314200d63ac72ca4ffdd87d4c36af666f4db7ecc2157447e2df7e8bcd2437f152ea0b2e66a57b33aac37b4185d174a937fa39ab226676a5cfa480e80eb2e45eb83337b621844a035557124daa1a2f46697921cf72238657cff4b6ea8838895d0625c40cb97dbebabaea5b8dfa2a4679ff093ab22119ff2f40b57d545751e47303efb8cc595393a84bd17d77c75aad61e44e8781fda95959b1929ca3b2b4c76c20e52adae78c1ffd029dc8756d05c782d2028bb83d7430527d342c32567bfb76bb86a617fcbbc85a2742374ac296e34f309ab013ed4104d2a542048ec35ed6f9ba83db3a67e806ee8f21f73f4125bde3f3c647a43f788eff7fdd9bfd0d313f1300f2696475cedc2721839fb3901649a8414d539b84c694679d0b25205461fef73050ba9207c5244e815d50c98f3c658bd751a98cc6e9a2eb0a5d1735a77a782179d18f5e78996a38c3bf3e28cd3e7d51379af55e084c88bd461acee35c272ac0105700ecc7d8e858cd7d20c6fea3644209bb5955a062feed10edbee9b03b42e507ff62f05b7d97ab7ec6802d9b3ea6243dc289dbb5e5c9860ed662fb1cbe18d0861888cd3a08d58b82afc9904e901d1ec041dc1a4ec32159a95f292b31f6c7fd689120d5a67aed1033fb9b896d887140c5f8ed564a167243ce165cec2688ad61493d7c26d5895173807fe4ff561bb01a0bc0fee33da54a5bc4aacea9bfec548e230e567a0ac9d4e2f75d11a0af567bceacec5f9f8596eb8b7ac555b14da16adf43f17c2a9660688a10cae528cdb90afa9e9a146dcfa711a4a4972c0be061dc5013ed90794e36967c7031656e2b19d708258e97c66172ec6e15dffad756202a23cf6d2626a4e77c0dd847c0b6485994fb6d986309377fc9a43c8b2aa5a3098b03bce57cc331aa0c41a280e3ec4efee316234fe946a82436197bf5153d5f18d1e554eac7ecb9e1f114db679033813ad4cbaf67dd50e87b1cbbaf312326d914474b8c14c93d804a18c635008e3dc6431982a81f4ea04ed075c1d0a97ac4dcfd6cdaca207ac52241e1c7c2ec43246b707f8043c86e66772a2d4e694fd1fbd48d193635c2f522596dd6bc320b099100a9d6320728453e24b1031e27fd23bef3fe55824563fbfa51ac7f6fc76ba1f378ad24c74a0a47af5ae98266ed7b3c37579ba23c8538cef7f383ce336b097f650b1b49e4e52e5a63ab7b76a676809dd9898c3537997be13b59456c25ea0ff3416b0f8ed61996e80d5d5c11be6f6982d2a47436bb31d4c901fdbc54b5ff7b00f894576f031224298bb9fecfbd125da9ebb5475c21d54a0458efdada4611923e96adb7f79c7c8d311cd9bad507feaebd8ef96029162a1177385bd016ee5fd1d7a2d807526f4b0bb3939c4d8fcdfb6e7ec002fe1b8a9145531979a0c54639bb677f0c3e2be539bea09d100c9ee23970d48cbaf60b9d53256738ab368c986c8d455e2ca891ccdbf3940b932597ea8f7b131df59e646e55034bdd7f32709c1f48b93058447739e45d86e5b0fd91b1ccf23c773e640141559b7a87b2a13adfd1634d1400320743699958454c36b2991c304c66877d9b674fe233b5dd814c852b4cb1b06e18ce4be40610e1871422b45d009580ac69b7b5671a60401cc23dfba62ce85a46f7a92950cf8c98646cbfd4dd734d17979f237d1fe10c2620b393211de93f005acee7227a79ea9ef009af180b7362b02a10af1ad80e266baa414c22782d254baa68c4260b6a0939a19aaf155a4adc4d0a86eb41070cab9a735d13482f55b1d74b033ba59dd1446cd8fee2089f13eb0abcbfcec05d871451b1b3f18a1e525b7f8c327bce523dda8f6705e267cf1d848db637a7a4114cd69896afe02a38ef17030fa4e67c163eb27845137864c398ad3bf51d7ac009d29b68eec1a22f559f0e62d0b27cbf165fe93f7909ca2f4a5c6698ce5efd3001afc5abe14a87c8f71b35913e25a183c16ec96417995dd64b7ca49137146537506137932dad10f90d45b1f1fc926a74ac97e9a65520caa8866a4c2b0590e4bc526aa1434dcd9019234d7010718c037090167daf050300d723146980625ee4c537d85702a256a2b00524e9dd712447aa0d1cc8b3d98d432cc34bbebfd72b9babae8b8b400db572ff42043d3847adf7517d8b5539ccee0a8a7a5ac14fbff9e1e14851a8971ec7b434583c99b40a603dd08640edd3613394ae67092ac0c05674d109f03e6dc3bf292ae057fa115f838889a68e8810fed6d4db0d25cf448a73addb95e1c68c5b6a0008e8844e295e04b275bc73e0999cc9f4ef5bc7b165b79394f0e13c8db587efce09956e2aa03bd2f5cf306bc3356775391162362f052bae7413aa5b61ffb65e25893a6381525d06373a9494ea7e0d47ec0f8fc6ca23518fdbb9998e2df6c8b31b36195a1b224fc98a6b246f15875330cef19db6d30f38ea56a060afd10dd4f01cb063273a137795d4504278eb7d2383b02e0fb7f150488e40a89b6aaac63eeed0a9ba4fe1d1a8dad7dc6a29e3e153859f655a247acdbe73672668fecd7d873d3b8e932f721b34c9092cb49773cdeb271efcada92d7fd36f33d11679c293b21c7b5a7e6ce8edeb4800067e34e522c23c191291e3725a403dc9e18191092f2407a3dfc5b3c080afe664814fbc2cbec275bca05e1e266a8d843991f3aea15e599d9530846d950def4a1b201bc848f41211bbd127b693b517529cfd55d04b0b40b971631383ed5c8578e6a7beb48b5c942a5832b8f69421ac8dc1487cba1fcc3c89ef1433e78420284864b677514fad53100669eecc3c34722dd298d845cf80d49be896a97491bb0ad476d036e632a826c6446956437e46b1334c80308149e0a8354fdd013ea432bd821909912df3daea90e696ed9723813913917efeed4158686ed5bfbefcc55c868c8d2a4ea9f3c07026749a2bed948aedc4e8353f2e37d29cca0597e2f567b24cba11702f21cd6f5b5d9078ae125cc8bde7165e28babbc33ac6d2120c315af8c39030838585758c3ef52c8e50f25e1b2988a4319d39eb7258c2647981c10999d75a97548f16cad840fe54abe54ddb4964953d42d56c528cd6ff06c9d3429f0ac73a837b28a1d9bbecb82694dbdc0b9648b742003c5bc900c16f0589f3b444a7676e72abd776b415075283d42199669141f3effca99052863dfd635126e1814036a2a6dbf682441d1849bd454a714f5e3a40d70abd573b182a32ba8df7057db4eae9d7b1c67046ac256007327711bc95750d4ac465dfd4a0e7b3a7c8c579597c73ab4b29d0d58a7d383c1eb56d103d9c32b26ff8e3b1fd601f86687fe6f1b48e38c5bb8f955dea2ddc2d6001b352ce5ecaf3c8795613a47a61afee620c4c7bf9b42f33a857a02f77e74c2cfdec9d2f746b7efd8bd8b1e65da418a6a13e635543eb8da6b958a68ff55af896015398dd10040377518bd5755208d50347ca07b1146256c8f9e25786078e50dc35ba990f7f789d9c0f4c804e8ffce2eb634dd947e3433128997aee2d0e577771ead62c83f16d0156c273ef6e58751d5c03fc1c8fe","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
