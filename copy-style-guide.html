<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ef0e117390990d622d39fc9b0b422570d6a1b3dd37c257b443e2b1fd6133eb17e058c82fb921e74c66bff4ca1054f799e510a861082b98fd6ed46b3c2c176b8f93eac782a4d2611be1d095bb28ce6bdc15efc58bf7e459dbf4f5de7371b43161cbc7a3ea540f46162c25a5b6f4c3f66a645d161c3e74f82f7352bc99af454081a7ebe74dc27644a1301f414a184c5c8f6f49eaf204ffe7a0fa1e141a85bfc6e6ca8fdea869ac54cf047fa5a67660e38f99d8162bbf88f95e308dc6a8924a26917353af9ed4c54b72fdbae0cc93d2d919720c1c7132fa0151ced03a529f4ab7ba021e86d9c555324e16593b702e8b2de6a7582a0a5f0c894c39009ddb5ea5127bca7f273b3e03c30e9d8793427b0c74b17d0f1b2818a0da55ff247d1af0d4c1d478b69f9a311edb3492b89d9328ce47ee33f6fc47396e9c5247583e579045aac569236def7fe6c4e841f1e0debbeedc2a2ffcd05a80ca7376abf33223749d8739cf006311959bcb5e7bc43c0d08467630d5616024595414957e2ae422d589dc99a91a9f46a844ebcc0994d385b80e3f3717afa3b86a3985af0151deaa890d4a1c0cffbfc8c04c918d6dbf3cf335a73c7120d88abdff12ec0f34c8c511d27528c85d14a63a209fd8663171dfe18161569cd269fbdd299f147110cad44b857a1e871e47094105f50d9dfb3e99723b85fe221bcb19a8cc3ba85f34a9f0d5a4b20089c71b15933b7e94f1b19f48f50822a4df4a71262d0e64f3be0e7c124202f6cf43c9715d94c3373bd8d0bded335d53738518cb9e8ea6bc67dcb91131d3242e5550ad108d004ec899f6742d27f0e9ed89c141340d56a342a25e3fb860e56569fbd7a38fdcf38a02dfe3fcc24ecaf4164f8d4becab8caf58bf7ccfe69e24b05bfdc7048974a19241463c185776f27563c2868c706f95d71a6a3817076bfe1d8e6d28251207cddf075d9dcfc2ae5256df889eadbf9a4dadb756dbaf2f35f9567e93a4c9ffa81d1a280e5cba90f2a110227cbbc4ceae437f2146b23d975e60ed151680a9a162fa2a7ac0f411924846cb2c9a3dc1a9c0919f20a6598381e65ec9637fc6967f34594f2fefabc0af0a5087f777ebebcde594493203a3af7ce5450ecc2c39ae30efdf7fd4c10fddec1592b3d00c2cd65fd146f60a9908b5a4c9878d5bffaad38f9c51448f5dd1c70ddcde50061cbb30ffc2eb785dd4aa9cbf2a7f0c7555ab669f4b057ac06d78293b03b1f703e0cf219798e6f5c7c150cb15d98b2a274942e4fa6b4541fa8aa2bddfe52ea2f935d2af92b0db412c6bba3605bc93ac1af9a667fa0d7a30ece58a407097665868191eb041803775642596ccf3a056a887de194cf804ed950c211cdf276aaba777444c2f5240235ba36c9d311d8c31ed7f44840c34f864cadf89632a7a0a629185d887e7905f0ed588fe2ccf7641630b6e2a5c759ea30458f5a18c2742481c89210ca805bc301f2b03b1ae11c48fba1a52b0670c84392e9289b18fc9c47f7f53c6a503dbad06cb972d96a09f07637a77af41313716d5c146af252f597f7dcc1aedfb2e34e8c44969776fae810b6897040f0331a14bb6882dd1e7129a7e785a796dfcd8cb0bf54303fce3c4bff2e6cb65d4246e1a7d81ceb8739c070eb26aaaea248664c94a27638c7d750e1dff5edeff7d0230c890782852c3731a555ed4f980e71e404db9b1206c3733da41dd87177d14443f743ca798256d97d959d4a643eec3b98a316b9a14f48bcbb84eb99f4216ddfb827e613ef17f27e7c1c62bdad46ccea09cc4b66c18013f2ec0ecff2839b309e3b91f55d75a2d9f9cfb0bc1122d0e8c425e21ab52c414b1cb24fc5bb7213db26bbe6388b9cf595f3e4e2b9046793abd9f0cd9f55c84e14f90fadfe3f0e5acf9f79cf3cea488ed78d6a0269f6d3fd2975386bcf089c8e3f73eb587af77169b4d0c63749625a61eef49172510945e34da8d91143e010ada299bf24974de1d23d5c3b6c6658f490252a170a3cbea1fdae5c68c03ac124d591fff4d3b2d5f922269f8b494f1b53465269833809e66594f2b8d2e8575d4640119735dbdce4c1ef0730812f9041a514c47d431d85d2d9bae3811b645413da60091055b7a7603aadf339c8314a30900e7bbe036a5806ee0aaba1538f57ceb2ccfa098a3d40fe0c11b2c666257191a8edc90fc2fc153416b6b508ec9ebd333b60e82ab1eb418bc464659a96b4a4c368d50abb2ecd8e09039ca2e2d1decf755a0e3e1e7479b9e30d8e768e50d9a3cc7c68d901b9a3c2a9c66f43e1cfabb6c9b583ece95eeb13fc9e6e19ae115f3d475ad475f234b5832fbe2ba0d8df34a5fe0ca84833ad154db27ed04209ebda9ee52f833e65120de605a015a0be2765abfce282d48703d308f72c981600a4a2e4457742a27ed8ca473e2bb8d43ec25c32d07eccad691c396b1bae9b343e8d1875d7d5ada1493408fded5bfaac95afbff3329bb57bfde21667dc744dd72136b331a9f86fe5612a6b73746e78c264088e8ee83f64dacaf3d263fd3071aaeb6129e01dac06f2d5926d024da8aae2a788e850021cf9f94ac2ccb2c1e57248c4b0361b939452e99ad899d949c32efe62b6e0cdb813d6b5f9dc28b766c8c90027067027eaa5375c928d3f594f3e02ff29a96a27084858e4ff1075b6e7765a1d07b04acc01ee59f80a303d5035e52170f27014043720e1e1853250127a40c0684d014dac7d6f51ca97ca02cb5eedf68a869378f4066b6245f578d9cdd9545f5db1f59c3834b6ec1121d30357b44b4291f57c4a494e45af112db30bcd56e4b19e66e09eb9f7f5fa26196065b6594dc71eb36919841c836ed3b2c715c70d86d4a16dc52bc97e939284470fd20bd12371d89787cd9b64babd52f3b6e9707eb692311f7fb9858bfeca6f42a115c857f78c31a05173c28d25042569f0c173aeed7870e26c7af219495ca9594b4b745d29ae599e2743c6890422f42a7da198ba87825447c8111b5be3b3738a52eea397e30a0264809a1a1c2729331bdcaef94278066585c9f4c9fbebbe298486e09ccb57a08ff742c8c22d06d8cbae8e5e6af7b9d69603a9bcfdf0530c4f912daf0ba52f2cfc55e60dec80666bc5d906f73b306372d407466f2cdc4280c22dacd4c03257be4f99876cd35ab67008b01013a3b0b158ef2ebce805fcf853d5cd2246e540a921614e9c44580e94a0954fe4e6acbc03134e49f9c544b32ab0b668e94561e199b9ecef8e316d0002bc3bf8462a000ddcb1e1f8b126c06b796ae7f420cca2566529fbba31a4ff85cfff3b083ba7712db108bd51b02f9e0ccb8f1ca8464ffd600695214509c7b4018ca39a6dbc78edc8989bd04412a753deff4a38be6e3f4617e5337c1b4e5587d2eda583c14ef8e39e93829aaaabd33f31655f6579151b53b941dd0da15e8334b5083207da13c1ab27636c40c8fd026c8debe33fd1da4838f6fe6c06995b094b8e7361b23f43855350ae2784c3ca1ac8613fd39612e51b635758a2601bd0d0f17a14bebffe3d21e4fc9e85a2ffeb388e00f6b896fd5ea78a5a72a9e98895b2aa5a2db8c64250f8c7734b36dfa4da89db4fc60606920564bbf860bbe5febc2cc7945db8fdc7d12985b323ead0cd6fa45ef173f1c74bbb1c4943b050402580ce8eef1e0db1d8dc4281ccba93494acb811a3a21de5781c16aca70b28c1e04047a11fba80b1c60765b0f8df45b0759d792dc8fba2bbb1d23b8197f8a5f56b09cf02d78ccb9d6e2b7f6d214412a4ac64308a0bbe7c3c6ea03385e6fb07227e6bd8c6e84e228f3ab5e4a7c758ec598f9604c35d6619ef3644bd3d514aab04d02cc9bc7a357b236962531ab68eef28d2a29d1cc89094b34ed018190edf8ba4ac067dc1f8b48b8e259e14b2e3ef393577eb5319793678ce4c36f61d1458d61680521c1d4dcfcfcfaa76f469ae564cd5f1c2c834d610f8cc6152dada6adbe1244a7d55afa32f093c560290e99f160e2415918ed6ce5ec15027c67f874d61ddbed0082561e9502c8958b9b0b925c29f2ab1232d16dc6710a6df2837996072f384282cfe3f0902de92113014cd0e1a391ab3ca18c8b6ccb5e5b625cb332242e120658617ee2b56bab8b2840a2994dd778083cbceb5ee9d1f1b683887debca7ad3a50a5ff8a94f696a6d48ddcfb2f7ba4ac0fc3fc7545ff567b5e2b90ad0e82a3778677c50d1b7aefbbd79bc68c7101de816d1cf9d3c32210c000ca238d0ac90dae03a0733fc763e5382162d1fee99057298ef613e36e072d0465fd645f32d4ed90dac2eb72262fac4c171729e7e0e45d9c12fd7239d291be6355813a21420e9d1a50f776f09892fe1e1bcb6b4354742c291abc8853571d8f2e30bb55b8136cca2d4cfbac073583a5b8075d06f11becaf1b5bb5bab19a0edc325f26560e045ee9b0ca1e3a99a10d8ee94c193f7a0e56ab2dd841169f886b7e087fb56e9e1a1736c97e27ec63715b8c3b76af438e9f72774dcf9eadf311068ff509121f4995ce8ab6b48cf81cb4b25cb14fce0520e2c4e6a9515a6294d7a7f5b5dce37634a7838c920deeb769b275777f9d733763ce8e9467cfdb821d75c6955e63a4abc96522798940bb4d3066ae51d3c7a8c26c2e7b1d415b84d971508cb64e491ff90275e7989fd2821c5ad3b9c326c2f45e61855173d2d8e1b2d5225cabb4da36ae9073960eeb665d91283b17a02f92bf992ed8b0248937ce7041262c976b00d05ab0b92af9830c72e055b98119f545162239e7f8639a79ed743d9ebd087894a4997f4316849e59dffe36b4d2c40af188ce22e707a6211e166d26ca48323aaa78833622728d43c5b87a1df0571810b7afcc436a4d592fcffa2f662470941e2da01597976512b06e34199fad0a0557a4d6eed6ed31ca74c803c01d1255c8f94e5cec276521eb6fced9457709466dc51db9ec1e8249bd84077825546cb1fcab05e133a72dfd2d047747b4bf5975ce12ef66827c96f260038179a475601890f6029ff59f21989559941024b4381a97116f920d444c26e071861a7d4469daa57c33140694ebf093ae576cc7be393cda0f24aaa47a4055552ec7f3d3403bf974b110a302d3e203417aa5d6bfacff8efd345203a3514fbb707885fb67d7f8ff8652beab65e3ce550d88a5ede2867fbef5ef8194f1cd40751e39090922246eb097a1def96cd27204db7a43a9fd1ac62096a4d784ba438b68a2eb317bbd84edb9551ac31be552d9b0a33a2eb8cc2ce9a36256ad22b60a5979533d9c718c49fe30bf6dbd7c50f5a562521f43cc1c7d30aee6f6e38794568c17787fc0efe36d5424ac8ab36afdc1d2b8ecd32b6b11d18c0e124414a5cb72c74f7adc542f74136caa3459c55e3b6d84c04aab950378dc9f5631d38b1f856d69764620684bc75456c449236c2055a9381e22f93bcd6a0ee7e5c6ca98ccc4e70491a52986d317e65d0c1fb0031740c0c48617a20a006870caee390d2fc32a5f1d6282b974f1930c7f1107bbfbaeeab0067db7cf90464e144a21061fb498e235aef31f30f7440bcce29d21562ab5feba3241eccf14110e9e5d95785fe596b58f9ed44cd01f11d80803f6158c9e78dbe76efa258298ad9072e304b9bf64055e54757e4643424b663794232012852dc1f74bcfb02d7a322a46246602e1375515b4e758726402a709bb1a2756f3b4752e8a4d132d563866a68b9ce534ebbd8bfeee610917e92319ab297aec8af5d1715e7c481a43b002796270a465f7ebda7c67ae0d4b9c9038e23776b1a56d9bd9f0e64c26766c01db0aefaa13037850f314e189fc48e72515fa186ae4fa593a0d7d43d82c169c8dee2037ab4ca774fd46ccb234394960321c8a7dc464a5e93845aa9116e2177355b872120dc3a454767409af808dc15440954130f8ea737231872028b90d0d7753aaffebfbadabf3f1b3ddb3cc87c4fdf738550edb78e1fbc60d33240f43a3a5b651cd816871790a3e81c202286c94db24693601685348fd7bcc00c1e9fab8f2738398b15fd21b2aff93838c1479c913f1dd3b9b6acb4bd8a925b945c95d972d1285ae5e3456606c35481eacb244efc97e7a0613984fde2caac1de36253c0a0b37390c0d3b52ab1a2054fa45eb6f9164cde3ea9c4ce133de11bddc13e8c669b5db21814078b162989edc69c4a13879d0add0b290a178b03cf7cdf5d938a948ab133ef407a8e0f28b3a2b9f27cbaada3563b00efe0404dc8aea0a82b7e51dfb676fa9bbab1f3b49257c256e05e8178805f172b77e12d7e8ed9fd428630d07dda8437486995353298d325c685173ce4019a270ed41c0394dd15d6a9a30ad58fc16c024a26db535d19be3483d4ea3f553d2ccd2be1ae465fd9fe96de500c3936d7f94a685ebf7859cad07ccfdae43e76f454d7b07fb236ce88f031ec63520d555fb187456f7de19f50b8e8aece49a1b462fd71253429142a602449f8d6183ea8113d952b5166cc46a420c872c927a72edfda9a934d9be14c2eddc225ecf7dd04ccf9b434a769f3dc26caf8dd1dd916d9a9348c3790bd4a8a478c75f01efa26ffed457256a2e9ed76f5335c1ae5584b394fd4a5e33154985c63c1cfdb176dbfa95452860b4f84a4c5d805557480aa13bab527796ff73196ad084474730d84bf490cbb6e4a56837d917cffb39139cf6bc74639fac99b363eb961a945e3873dde93ee92b24f6c6d50efc9d584d85e694569abad9e9138b5e93497b6bbde5235173f64480f23466968f13408e6205c280e6a914007dcee28c97bed174aba756e652918b69c09dd0f9f07d9fd3b50c339be84ec181776eacbf28698dcfa03d606606dc881aacafd19879fbdb88a779004574ca11ea7d76b81786967151603015236695ed1fb67f9d401871932fdfb6b4dfd9038bdbffcbde1e44a141aba20a9ac0c16f1ff2fd644617662ec6daae57e6790cdfbde3c9c20e0bf71e52eb64e8c0897cc03e9e1fc539b6fe6ded6763245142d900d6a49a195d04fbb2867dce9c499994fa69ef1ecf1e7d263bc3ea6a8953432f2defb04954150282b1625a1689fbff00e652fc2e3d2d767e345456619fcf5c93fda7f3828ea05dc6befcb85b7dfee2152d544adbab063a0e9b52b57afeb24888d69263193b0960e2679ba362c1db521b7ca2b900f692049fd92c337655f7cb31fe0ec51cdc126fce2fa4600543379eb4c8c80cd43b4c00758db7c24d642bdfa95d0f0b5a7a51cdb53ccd36d7209a95042fca9548a8a2bd262b653bf5b960afc4177c13f7fd08278c05ba7cecc7f2d44115dc3d5cc5d3e504c2c98fbff876a253744fb1f66438892c5465926a36792e36a78e540e12abb764cddeb94e0c3d517c544da4b61be45102017627a443ed2c2434319d26ef36d96b147addfb9ebc1edeedb450e993506e93ca8de48931b2a1dffa003284cdacb784de0133a243656f17285c1f6a70fa091d445f38f339b788823cc9398bb4d6195a948f352898525ce89a4582f5b6792fb54f40d1a2956d0da0a8ae4ef4d68a1e5c4fd2ea59f6b57b3c2fd50f41033c3b10eb1b3f8c5f29bd9c7251b0ca967e2975af598843a2052333f1333f1771d60f5519f7f3fb162e8648eb0f8aa1682a8f906e977a13a89816fcae0afdf4a5d52a9d5b99a27c18af8f662a7f142837dfe7de68b464a20af18c53d6685c50650b9025cb864b9f371c30eb00677fff40cbb2076c2f510fe8e12d47009c7bb657f5aa9979c90ae166673230ab7939dd1b60892579b8ed34b1d55f0c30d4d19806b8e76739a5ebc292705a704f6792e5186062f1babe7c91f012ac0602ee5257edb396431103e2a451f37c90c7efda07934c2125e1f0015067bca0ccae490673b824b857302a1b08983bb5826b853addf7413c7309cafa696e3ba56004dd9f7c7596c3f4c1e87f9398bdc919ce478fad639c10325ca05dceeb4315bf961938671701eb5f10c81ca1d2c7fc11e6ada62ea98d9a7e9de7cab96a6e8fc7474946ee53e077fee42ef0101484dd1bd43146a35c925d436eade672d4e9fce4c5b6c90c36da73988fca1814842610457ce6bd74138d7cb4ab54110be22ec5070db5fd46dc4055b75cd0828c25710b5047b58248ad9b103c9bf83a970070e0612a0ca2c4d3ac4d45b6bba5c7ac1de5d24bb7d11f807e2af0d0a898d2e4946636492b8455191ff428d5f006f32f9fd7918ce65951ab8113edb41623ed9b19f71732ee419d9a76abc0023a14d5bf666b537913d554ad5350fac22bf4b56243cbc22fbebb5a3512a2fbf891dd569952cb53b5ff71d07cf3e3ea4fddcbdd62a760706fd1841f91415a00176fe692df6dcaa331c183f7d2896829278e6d4c9380d6ec76af12f35d1523c26cc0adaf93eeee4f058245f14292f82b776438d2d642de3a9c3ea9fb32c3a8cfc34b28a4354c2c1f396759c130a8839ee8844761f06dc2523bc69b3b737a99676811fc1e212f0e82863a35bc13313997fb321159a6bdc19cd0481dbcf1ca2b82811686c6fa67ae478b6bf946b3f5afb85edc98eae44935702d7b9eba5cab38f0ebaa610396abe0d58b4de3ca0e617f77a73e79133f4622328af9c5ca08c69bc11dd77df2e326736a7fb665b8c347e4d5efea1b5513c8af8e66e6459fad9d8a25094a2ecaa257553affc45ebff64e8169c2628461d9cd83512147a9a8503abf1672914d0f5dbdb45bfb674a446a7b1a68451c9267de7b5d6a9d457c6a4f661cfed060f8848add9d6b913a08c2224e9ffcbd51bab9ea9fa781a380ad9c5c0afb8aa6459931e5f6b1b1d9e131eb637125cef09be96e0e6e84b1f0817ca860f059f8f8487c9f1a302e89352415ccb87d9488cb8d8d343b55af030359dc318ccda6a54c3041b8a960b4ca43ae35115d5f3e75d7c4be10d54a5873de726a2cbdfd5f0d9feabee609ac9e75a841eec4d91ddc5b97a3aef2c0ccaca4b29cb9bff19849bcccafe4827b09e259e90a274699347f26bbf80d1b759f31d8b6ca93d175320cb2f939fb3caa6ae3ec1cf9ff9abb8a52f505d38dabc65d1ad2aa37d5dcdb3fcb2bba718d83ac0a92cce621a8f13200b483ec06a7d965e88994aea5a38956495b20be70656e4b07a37b8643d7c974e4aadddc6e97225cd9895eb62313f79cc40692b84db6913197db290d530f665db909f0814d4e2e65cc8180687b14d8096803f884ba138f443853c1082cc711f09342ac3123b4c583583f8869fcf3bbd9a79bb5707b25bf3679a4105efd4442ce33f305a237a15d7cbca93f9d6ac42efafa3f14684dc3b69f3c682140f0e347afc5a9958a54c008c168db5989779ca25ca31390df28a4fcbf838c8ab9e9618eef0409f3530bc9c5410dcc63a0f439bef1516ac68e5f3b1ced9b4ccf0e728afdb5190656be9703b2f0bf8d871093289705f970edb82fa149b5ca62481010284b6a0e9c99bd6c1bf5dbb822cd1cfbe8c2d81f2b09ef8fc99bcde33ed028f1d6ab80ad9abee1bd7724828d11f79e3e7edd53837223b078d77b0f610ce6d82c174ca398040b878e7b4eb5ab9059005c0fc8521dde89fba56fb8cb0bedd2f6c6610c3245cfbfae8906fd521b8519287cf7ab0d2d19409386d4f552e030b981c1106f377714b2ac5b5c631ba5ef25fddbd55c4a4ba9998af46a5363514e35af92fad9558e8006903a0dfed50b770d535a87a2587aacf78f180f5d744922a8939d0446f6bc7983e9269f4aa0bc7debf631e355d9f05679e7f99bba9c6f68107444432122ca549eb62fa543f686b721d5e2b1b70733a4eb5f96533ddf6e45cae20e40017bf3c7cd405f08fff5a1c65ad73b5513623a1c0d3b9af5033a13dc5c39ec58f601bbb74a8e57e8fc008e8f6b6a857dc473e18d7eecb31cca68387d779f3ea828d3d1dab82e809cbd832cc588466d9db3d8e58e52b7acf45807dd466502de4c4182ed254ed55673fdd7354935fbe6615c59b9e8be18a463a0943999ca4cfeb3ec993092b645f2e6fb366a690d46462f2516696e8575b15d17a10fdf82a1784fe45eaefae932d0ba5f1e0f769244af76a54431a7a3e16576fea5b9163c3e17096fccb9b7a010d1d80f8d18128573169c1bdd2694ef56f06f8f4bfd97f44fdf571f30cc12f99fdbf972adee86b1e0af8e811f724ca038a8ba4a63a8b1b4d9512e834f3487c5f6bbc6b56e889d749ec5a07c446fcadac8a507ec94d37b5b1dc9983bad08acfc92d24f546a8630e62ea961b8fd009edaa2d7fb2591e84c4173f8a7f57a0632c3a184ab3d8cc1ad43a9307b52058568aa84ff81e858728e0f6381bb9887599ba9c1f49c1093916bdfeea0ce028af7c24ab285141fcdd13442218460ead1b0a1891e09a981ba723000371b2c6c70dedf290faa9f934a3395ac3c385fd6dd298100400fdd3ab88f2ec8baca0a48cdfd424f8846d43ac73f51041e39dbf3a1a563947e3cc4b245081b74c522605a428ce919200a484308b203c815273a26e65366d9d2c6426959b42635d53ebd5fbd6e592717b65b9526112faf8edce3c3ebcbf580691d48fa2df0e8401f6cdfae344e8893d4cb2ed088aa3f2313742a6edcfd0c883bf008bd91a0418062aef2d0079e3a484bdca721371121f8af22f8aa3c2cd00b0583b6ba386b9327be64c274e4f7639bcc53fbcb9a879500526b636d92bf572760f57daa5a948e49227ea86cf80abbe3f596c9a90bf49e891f6377ccf95aff18762f0cf34ebbc412b26b433e37644d89ba9add2a4e98ed8eda8bb2b4a6086c3a617f60347f1adeafab4824bae30649442f896416be0f96061a544174f0cf0914809181db4fb0255d44a75d4869aed281a7866d300a6ebb864e0eab74fbc4c2a816d3e694b87a4e385c44b393a2d1e87ae54bcef4b9e923c155d885277352523c4df230569f723e899c215923894aca40e87c8db64c80ea3027fe4c732bb9302089a7bf4117c19e2ebf6c92425d86f4100801db47749e5a81856a878f969b420fc02e6b961e1060233560f8fc7a04c8e563b9a99363eaed2543b9eb659fa2d30b7bb607ac5ee09ef5f9496fd2cf45d7e44da8845196ad16df02f30ec0efab26962a8dc24a36497557addca06ecbb55843c03b21312f9275cd6d22cb3b977baf0867234679a38beafbdb08dc6e64f3296739379307f12d38ff873fc81b89dfa36ee21bfbb70afdd2835eab361d8d8d15120fcaddcc3708a66252ea19dea93abd47cc26079a9e6e188277537d30f2bac37c065f4144fcf15948cc13c2e9f74eaaf20a7dc86dc016092da9304b167207cb6be4bc9f6fbab54adcccc70d172b9fdefaceda5cb661464705f1c69b9821410c7a0196648c8a0d80ca56bd57d5d15850c5484a53549dd54a0251f529959d43a750ec7f43eab6fd2f90418c624d8631fa868fe3f2ceccfe43b1dacf622f208dfd9d4b46cad2e12d97d6c999768d60a2f987c7920286af55e143eb3b361ed600aa314e64f5ef2867e533f3d18a69d02f263265d54656d40d8c7fbd3041e7cbc434451eade3c2f245465a63816526bf477c78e54344f3dc739fd09ff47d72ec521055dbc69a9b7b08c048e334b415737081be3a765ddb00d6f90b762d94f00decf49df86c7cbd63a3e7d088aecc64de9b188776c61a047336a814a7940b8cff574c246a04a4b8446c6b40efe6c49efb6bae1ad51b1c1152c9cbef6143cb975b7115dadfe58356dab403ac3993ee05aa40f59fbb8b9623ed06bbe374a9929d3c647aafa13b8f763d073b85b8027a8e4fce6f1bb261075f3b2c1ead27f886bf353e6b23426f980817af51fdceae0728c1206e1071865ba83e13943e881317dbfbb02d76e4f4c6e4f8c73ab762642fd5fe9a6f3b0db5b584aa75ebd8439450809f75bf6437dfdc1a44689bba7cc815bce12741676c5fab40bdbd7fc6bcaf2a75fa4d824d18733f6443052530898780d82140d93310b19aed0dbbe1627090786783797a43aeb26bc6405a54e7d6348afd4b22f23b07fc680b2286f762141c74a8b15011f5e72a791c8655c551d22192875a9beed0478650f8e7faa32f42f1559845d88293750c69372dd37190e6d743843ffde4c3cf6045bd280040558e121c671fd45be4fe55148eb371cad191ee7878e7fa228d65f603547c470b10450b966ef8c86a986105f8c0e40c9386320be002a41817765ad9e80bef1f0f7178a308f348ce2137392e8407c66107338d979f1ac858cafcfea24157c119783e528e365b131d8862bf70ef2386348e3dd9b6cd2755712fd13efb6ab6a8e450506f5f9fcc6f3bf6fb797595c8000117e12a68b12012975d05dbd321c42ff16007a884c1ea047b4a71b14af2033582b8adca850d686cd211468eee1d27514b436473666eaef70f5e89712b5160ddd5c84f5c198758c6553854d75ae6fd77b159776d00dc084b12346e6f934bb9316e860316f00fd3d97be01f2285dc376e51381262dea1ad71ff48de6730ebd1ae250c3c27318edbf3b9155700cdef1d563e0a4c4bd3e1ce801aa184e3e8793f8c1fadf69363ac39eca5378c485a2250f3f921e963aa9358e6d9b77f52b8f5b73737b660025caa345d35dbf0235e9cb0621636e391efaeb32e0c40830040893c289801e0bc5e10967f800e555d2a0d2dd364d48e92816dbf3ed7a5f1874f8d7ca416e948354458661edc9eb597c3bedeb0c09372e2a0d469edfcc6f341bdcb6e59323978bbe084975d8aa0a8e18d83384180e3a20a23270513e943e003fbdb29e6d6be78ae9a19bc253ea748fcd04f7d31e8e9019d4b2928d8b18ead4a1f44a946a01292eacc943ded80ae636c3832c72e6ecc4f340db3eb1d80b4db688ac7817551d52caa01a87f8e0c37a33b2ebabff4a1d1c3d8c5afa360c4c1e727cee1537ac58866ba8ff32dbdd849b4bbffa4fab02fc5aca5d3dbe738b70e730e35d3cae8f165dad2be1ece3931aedb4ac4b518277f631f46f85dcb33cee28c861113b3e43082e8d3ac2bbda2ae8f241459e22d48a58fd302ef8bc54b2d063975521dc023f8650987a12ba186b5fbf8022316434efbaa1ab92bf9e6497f435cee2add7b8bd84bb412d143b069696dc833b18b85fbafd159fc49df0dbef5ac4c0c2fc3cc5fe2d5ded0ebbedbe88421cb18fe7632171d24808ec57c555096714a8d22de1d8020308ea1387d9e3da7a8ed5aab3a3b0a02a16f4d6383a8ab3ac202a16954ba52119a989f1f3fc6f3165cfc7f8829a8ff6da6ac01fdb3e6089366907feb685b5e2c1c8e42f2f7bb4585453d934fae180f9ecacdfe3addeb9af4fed8a948f7ed0767cd918540dfa1af6733ce286035069a615746858b9c031825b7ff51b5c515b4355f2700904c4c89d9bcf18777c36e6c76f7db1bae193ea11384aa18f072b765ea6607dd0c69c0c6bfff3306aa73ebff4d28c337827c9777c79ecce85665c707736539fced9cd22f5dcc96c4368b95629d6b1734033c24cd11d54f6e8d65f38d0dad9513dd23cc2cfa45eae02b9963bf5c678797689a7dff525f92defdfb2aba27886c17cd0e4312ea8b48e9980a14523c40e1424c306f45a6546e55bb14d73af0d3491ed015fd98e3ba5090c8ec3d1ebf2a5ba84774001e446effd1c45454dac31ea98fcdfdad0108fdfbd0a6c8300877c7ce1da9843896c57fe8fee15baf1bf149c58c29134fbbc7c47f54ecfdb77926881e102e513964ee9d97bc9d7d07804e2e2d6e69e8f6e60329799108da83ccec02c5b138c4577832ea85fc5c86d1eb82806b3ef7298d92e774c51e332da9e533fbae0411e40cc166a6c8e5f634cfac852ff66acc0042e398f61d491d74853e585271da9b884e95d57edcf1faef0e7fc60d975157a1c3ef2ceeb0425b805e803f88bccee0d95b7a66d6bdb3bc0201523271d6c4eb6b0e6f6798f492f350c7ce9113f4f1dd1aa0b198bf090cd1d6c9854ad210dead3c230d11fbc99b2de6c71cbfc7f36fe3868901b872614337813ccdc3dbfd66a5ab88d260d297a054937c60ce93410866367e77f2ec47e06674e01cea8075094703fd3224d3b150d35698f637acf619ba1349013f7c19a8def98f3190a8df23dd033c7950a400219352ddd9cd9ed4a824296251c19504cdea742e18e6a9b65c6852350d07f754c65c47296c9be68acd16a906ee8ae009a139cbc9e4dee734f9f167c01834f5606c2eb2bc5a9be10eafca06cf0653801cc23219cc50663b66d7c0d803721f33ac0a928f840286609cee93016dafa3db0e8d1c4b59092c42bf5c27d8f798a1c9bb93322eef87fd6835b6ecf21b30970e18cea30711b9c1f6b1d6bb511f7bcfa5929ae8bbded3d044ff1224af00503cdf6efd4ee573495855048f4fca0ccccd6c0806cfde7c545293f4446c64dbe6281876ea8cf43aa9f00921249d0d05d2ebac227a2976088faa1d91145db71aee9539086fcab5be3f2ea35a3fe00cd10b2dd64a26c08227c3fc54ae8efa886d85183ac456ff162afec0d03ef95ecdb7b3bc7dedb7bee50431618f66db7c8ebd9b22196d02195daa79343e876bd8c14cba295c26ba9afc5f60c3a021c11d8f35c406370a0db7b3896c2b4a93f97e3ef6cb7ef199f30d8fb49884938f35119a07d5cc6d5ecbb32d9b9ee8dce76c6f6a7034cce122f5ce482afbdddfe0f5f72fe3257ec601faec725f503c3eaafa1aaeae1f78f9c1940a0b9a31adbdd21557295c3d1eb559e6f189af24876426c5a985f70520f379f83dc58ae4dec9e6547ce5f2ea57184efe11f44d9f11814f797884b89e57ac1880b2d1e56a51bbbd2cd21f3a99ba7fb31bcee08de14a3aabdba132e85e92870a9b6ddb7dbdc6cf938f9cf5943399ba4e7abc9473caafd41c9646c7d33bd6ccdbbe606520b1e0319fc59f1e1787c16833b0995218e6a7e267d6dc5f09d258be7c56040c54e5b0443204a318555d42a9150fc5d81ee8905e009cefdcc02bd408c160025dd41f37d07f1b49761565ff59613040c19f288d0c4e9bf93bb7d3076a0d71f2e965ad2290bf87fadb0e4c6fb90de55d261eb06ddf48e0b53c939d03ab8306893e71eaef644c880e6cfb57061e0fc8d5c8ec9c7ef812c7afb17e52bab0a2dd0ab9c349af7d0b684d434307d116f9266edb64a8582bb28a3c1f2b4f5e0e1e3f675df9847b843402084789731accf66c885c8671a8e661e360e5c99f4b3276338bb7f58ffa8d75e7971adbcb3eefda349fd825e64a54164a3098bd0b886ad1fbeff09fae9398b66bdf6b785d137cc8c83edca499961bc58981f3a2fa82e995b4cf55344e7a1c192f7015215e54300ca627efbf4df77bd2157dd3d493cabf44d4f7807dd49238e15987cef92a530c754dd5a09752602cedda9bb0613dadf10bc3b3d8c7b92bc7620381a6d03b42f10173ffe99b7e55466c97df99aa413f2a69c4ffa3d7d40d5b2d23a2cb8294acad38ab7461eb29b0d18e737e64cde73b329e31027144314dabdf2bc2d8fff2870e360314833c195a05519039a3adf712fc26f1bfac0f578cb448436a0991eff742961cbb524d309a398a29548d82c20dfdfc46e10a2c439b52fdd056375f2c9fcc28610a5764a949c8268cfa29182e93d1e9381cd0d77a7ad0104f0c423b00ef78d03f2661f2ce51b1c928ed778a4873b18c53cb38073769c9b37d719ebd4b0c439c8eade5eb0ff94f0ac0eb01a2a2179b1da807038f5cce19ad669f850008e510f702db49b4752aaaca4313196822b4812af2969103377233865345430748edb9b5f42e33cddf0b48401903da145c3153e07aaabe0322edd9caec873b9645784ce498a712e1503d04319880297f1ffd8de261de9e11b008d697639244e37a5f03c64dd482e1108340702334aa15c00549caa3fc250fabe728519dcc75f2ce36403856a5a3e439e9919ac4ec1b602d8dc3a452dedcb5f52f8f90a54d9a22bc573006897c76e9bb69afc28e3682d90241112fba974f778ad93c0d2569c0e56e04e343996b64cfb327a146672f64d6cb39c14aa0e10b8d4f1630b826d0090b9abce4cdad6670833923f9094e2a5a4be2dcc9e01ea98f44c655c532708544b0d5bcc97d4bdbb8a4f9f935fc3791723c1809c4cc672110ca49bc69cd136b14ef0f79fb959519c4290b806750ed0e16bd8e3d367403d5cf847c08c6ea870f517609e9a1c551e7d6b50db80523aba98de6cd8978b33b7fe40e20b3e4abd392e4c80b4304cbd0bbd4c9b2c43804b1d2eaf0bfe1c72d2893072f9c11fdd3714d0d90bbe124cbe62fd3b15546095e78a45cec4f85993c55879ec2eaaa78f1cc269d08269a3135f86eec2afb53d49cc14d2a798a6922561607b8308dd0f907d742067e7c7d592b1737757ad143203e464d18be3bfd3f4bc725de051eb156b4fa2cfef3c3e513e2aaeb80241632fa65ef9c58eadeaf04318842de7b62ce31397d9d09d6c04193c700d4c331ab4911b7dd2cf9f894303cda990af9a5138cb24ae46e8f72d31a176f3ea156278779f6fede13b2ab6d0f7a79b8cb2e52fc6bc48257e0fe1f3928130e8bf0463218ddb02906d5fdbc3d249b677839511e4f49359add709024dc27bd4f9a2f97c15fb6ed8ecf09f707fa2cb7000e2de67f1c51bd2b1260d24e1a79130fafd9be015a316b24cb6350c34af0bc65109d7b120fa195a2afcc49744238aa5ca83b682df985a774672e8c8431f95b6148fed196f8c212d81fd2852758149e306f0eabe194a30872118e4c6ac254fc90d97d3d250a26a80fb0d867260be20518dd23b7b05bc65a41492de5b7ee1c5f0a7254dbe075655d65e7eb5425326ad24f864e77ea12709917b7e10a27118ed113512908f601fc3e7617ed0f87d83334d55f2475a479eb835b397bbbea5d3075ad637f6c5ad6d098ccb0996fb2a9966bb2dc6d7edb52efa47310157cfaedee0e610ef2231dafda096fe14b74af288992358473f0ad29e4c7ca8bc1febb6f325e2b266a5f577d6c4af49505058723783df0c786a8e0c27bc518f2d59e645a87eef7ee2b601164131c3f8df448be18cb52c1e45b8659cab0f0c8dba933aff7a3facfda2521be4e9e9bf879f83ad0543a19103d96a5944750d35983f6b8c3eb9afc10bf1d2e4406d6e478f1a03412dd71c7946324e01b5f583177a329bd86d5cdb53e561e4c6e30f479fdef3ef10869433fbae0f1585f0df15abf9f155fe4fda051a625e6b1f2f3fde1287b18bb180fec3b0b12bfadb4b4ccc835d00a609ae338f0b0cb43659a760f2f803ad41841b547d8d8f100b5bc8fec057ac527f0fbf4fa428111cee59825f4ad36f625a91021ee9f614f4cee574275ee69eaad194e0ca3ce19e911902d8f167c4830818318a6a2e86810fbf6299d2d465c45bfdd9e72ff11c59659ac5f7a38313adcfb116d463fc1243596c06cf7278f49648d7116abb2c047d7c7a891b9d8558d9d3ae10e4658e9fb5087be9ac5ea349a67812f6afb7ca1dec9b0a91cb677360a818a53af07f46a916f544493694b0849f0028f23e0b0395d534f1fd4663ea0a24b0bf8c672edb59c98aae0d399612266613fb0cb105fd5d6a7dd8144e03d9d726e270b3577777ef726db5e36b0679507e8375dc7e2ccefa637f0ac8b194bf6f3e8845ede179678d865d9e35734eafbafbe6ede8964686b49154ceb035b1e817bb0a9e8728ee10c8ecb2a365343d705b6e7be7dddce9dbb7623fdbbb3094811f6e196e170e818da08cd32778233a3d54221ef9e19e743b67e50deeb9f3fa9f1b3fbedad454c2ce158b7783c1c7fb7b1a878e3cba93b816698b8814b06e14eaa61c3c2dc9824f6933a5447154ff1b60cfb968aa63694192e94c2ade36b900333c4cf5624355e1fd7bda8e425adb12b986938731af8b39b4d485edb225fa99e0d2c14b3c85385f961c48a486bb60fb6b2ccde348f90eb2f154a36792242f9a9d53099d394e6ca6bfcf3f76caed327fdf3711d519f766807a4ca7cc4145f8df61fc9bd3f8c42630b64a49915992e32dddd3ceb9aa8f673197840c3044811969064d8523300e123bb82b5f5ce02c71e66299a87e1bc42f07169debf593f02fb5fd1dfc871458f22c1352f314479643a73ca7ea032e519931c29606eb9fed550b192140e9b09e3374f15b554b8be6b5aa72ab595046b3c5e19b73dba47d0eaff2d85af6985ae3ff05c0bebaefb35015839e90f704b9372433f4486ca9a2a11771819fe5594c2df70da7ce3de9639da4fb7ddf6c26860678774cafb2c2fff7bf45a19e721b45ac8850d156a0dbfd1637ec5442f4a3cc7c294e2d3be29553729ce80749efe156e9f45a21529a6f08d436596fd4e695e3e7faffa7e911a4c3e2274e7d0b39f5bc06981dd16e4eea9912c549dafd17b101789f372f1a13e35a499be350bd8fc98fbcc266d925e1210983115ec0cf15cfa5ea2c2f7a0d4939b40467ca075ac9b5d5a81361803d745e4a248063ccf2f731f5e3175f1c33669eadd43bd45c927360e53fd4db45ff50f383945fa82de81b2eda1cdc72a916e829ee34a6bf3cff468b2ca2920b3d05b58fec94136d51e8c245cffaeae6f9834d71d298277f4447844c1371a9690f50d2a233a4dc0518915a9aadd87d3e4dec34ac662b812d72cfbf171670a118a73a8e76879ccd5eabe41e27d1084ce70f21287c8ff5936b547936b45293dbb44238426fc5ef3dedfa3492aa8956f7201057de8ab4349365e26f5016ccaa1214e8ec230d7ef29650e13d4209e79b313c406fa49f9d20e44fbc6f5999a556924ac1fcf9a1368b7d95244fc04f94d0edc5792b27c55386b9a1ffcdaacfbacb4b72da280b9b7ec99d8e23735ba948b86e7706467027f079eb53015b458121295f13566aaf872289d4db8528f2ec947f1cbf7492c9b64e526202a74d2718413dbfba6d9acd35b299afa354a2e9edb8bf37f3fc159e4580e1b8aa85e52647f5a8d45708cf061690ad04b062344dc208d7dd3b2c57303939f52b8ade3062c54e6009be6f1750f66014b551604cfdc49455d4a4461aab08c384a50908994a7e9be43413f5a911fba30b110472c14ae2fd3ffcfd5746a0c94c9908fc692bf174356a1fe2e4621e397f7cd2fb97e66f6a2feee5a933ad9356ad34e65ce390be62bcd74065ede48d520571787c1ce25ba78badfbba59f47a3b471bc1e66eba43a13f4261ad54e2ae8a5c2657e0de1ed03d8d7984ab05bb5ffed921e7a667bcf7124ef480efe43499f01ed59f8a1a93dfa29b4be08dacbf0eca61be0dc7e0469eb944bc001bd87344ad9c1b9bea9a9b5086806b0d5a0a135e528ad722e1331721d05c18f2005e2cff5458a0a61c39b42d00ac56704b8e95d70f44939d3d43ee0cb95874af8e03ec2859fde74b8be0c5bdc5476523179f1629dd2e7f9f729840b70479b1d204c138e4b2ee6c8755553fb65e7f2d2a3209ef43e7e3515f3df485e570ab3122705ac632aa1a958a0d5e7b592266dc5ada207c60bd1fd5d9d96dd65dac317a0491afe59c0853331c2f21c3c8769c2e3043e0d3a287ff1299a75b17e93fc26f5cd0da3caef633b59c83ab11a1e71223ce8bae261ce697b0f88f17bfae620b828715ed3735efda0c9d4f1f5c6c09c19e332d3ce7c46143014ac2a1e26f64a87fc333885ecea45fca3a1dffd0179a738f2624f66d19bcfb38bc06e3e7df4a1696939d849a9a1fe9d052eda728ce0834eef80f28d671e16d3b7ffd4cea98543d97b8328e0cda30e8a2cbff0666a34db7698975b31a4fe1aaa2dcc9a4f019e1973415ea63498dd290ba467a8e7c47d67402d5151fe193c77b4f0b6f08c417509a97a33998ff84bddd8a4c79cbe41eb8d4a9558f3ea997791ed22861f46a1b9a64e89792bd26ffa726c9061324f234a01115391f740df0de8fec1545d116409fe8cfc99ee89f0d4aa1c1842a6bb3af9fb044ff20a121449900dc8b977b42feb3c7b59d0cb3727729a8747818c54eaabf1f9fffba255efbc0bfcf63a6d184e89f18f03d5d60ed04f4eb7d87356240be41b9cd5842d8c513c2bfab2d06c761ecb65e447602fcee9654a03db8ad04edea84cfe27c149dfc2e085c663d35f9cbc58615c1a04fa92366ef58454e0cfccb98c1ab984f7cfd41415d11f686b0f2536a53a10685789cd16413469c8d160e38b0ccd219004ee6a82115dbac8c8bf639cfba94a0637d581e02fb4111238e8096211a9618e9237d32ad3bea01b3a4b4b4d074fbbe03b3bfc82fb22315476abce2fd957572ef581cbc83b1758c4642ba09311bf3d44e39da64f4f596f060f7b46abc2455b01273d2867bdf0aafc157668650942134de9dc89b86ac2886338456e1582e8206afefce8a3f9fc95d8f613d4dbc417035fc4c30de213ad6f63130fed6b429a9b2c81a73e27327b82b2b5b501ce57eb897931f2a178be8bea60c82d62cc4dbf5668a13e1ac19864f61e0ce6a68f7e9095512daf285cd8387bfa3b47152fa64f9fd55589d845a956313ed2857528f0e65fbfdb27a35c92ca46a306f75fabcc950a9b7246ca210222e11ba353993a46b9d17f8cd74dde33a83a1576242771359cdefc73fc02754d7941b47e509836140f82a93916df71f2b785d060667ba4ed09f58e65f5c755427899e49fcf27118ad352a0d4e6bad8ff8491ce51fba62a6c02d80a8db1ec116949e947b2b40f2fc30b7dc0dc8873d72fbd20dee93d2a4ad5bc95d422ca54453fbb4dea92c2ab524f08ff4c4db68d1707dbd917b3fd8f163e6525ada7311d79c545ec27dea0c1c909ef19a32e996a7ead675354655c742ddfccca16a12fbd2944d7486de8c5b42abe80e1fe33156cfc6010e28ad3185673a4cf5630138d5cada3ccd860d89647119ac2885c78728093b077f113470b4f6749c711ad7004c853a8b8db2e3254f82f2de3dba407a4848f8644aea1e68af090d47ae7e3b89fde7bb3c7ee38cab3c2a52d580c73cc060ea373f5dcf3bf30d10fb5b0515640b70e122388ec32f2df1f7812d1a7dade640a9f78e856453b4537e8628c8cde4d7c54daa8fbe39f4bd40dc1b34b3d316e4c6c470bfce54a3447d8705c03869b67a2d180e6749986fca1b49553ff8bf2fd060ff2547d631a2845190e368dbe236c483be137bfdcb284021de36757190474b95b623dd86e60f3c992daba3940137193dc23909ee67e3742a59e093600813154857f569732e43a356c669a794263865163ecc496829f1c6176076ab36a623ed6f58828369c89dc59a94778de6dba4919ede5bf9e91caa7fa9352de05c813e3a2a3a883ea1e2cb70cd147a161ce5d409a3c48b983261dba3cedfa5d69342781e3f3ceb18f765660c6268dc868c4208186b27f737adef468067ddc1039d7b566d0bb1bfc1c324e489b6f5aba0f195aedc9b22ad4f7dcaf7d157c654f05541a11215c8747520d6541cfab89fe7d84b64d07f634fde56517cb2927ddec6001546e987481cbd4100073887dcde866850e5345a8d1a3d906d89ae765afaab580b0d998354e30666fabe7d9019e786ff00b7bad6bb49657f4098f431934e82d454f8f12f40bf15cadf79a40a3e3f4b90a826cf97b629cb051cc9914ad2cdc721f57ed3ce7b5e5c4c8bf74b7dc0b4c1deb76cf929c25b115a2afb8ad0457d07c42a315c3e96999ad331598c546306f2624c5eff2262cffd2361508a6e4c4962791bab2c6d1c99e42d69d6c2ea4d3b8ca8718192e2b22f9bb69602f7d95de601728ac6307","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
