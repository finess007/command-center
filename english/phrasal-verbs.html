<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b9f51ed9fa93c7d76974baa70be15caf416c308586efae8dacc2e58413519bae22b4aad03cafb16d33c59c8dbcfbc217701c43912441f290512874b5116756b41d65b37b03eb0be6de0e772e109aeca2a1bf033b7b0f83c9262db3725c96a48cab2e3d0e7b409b197d55443bec41a4d6a47301ffe6ea0a841ffaf5ba69192383d02c8c2070c87076a7ca2ae1f36d7ae12690657fef45177cc3a7ca28e35387c876ee1194be9b6ba04dafe05f4bcd907b8f47ec414cc30f67e891dac197cc896ebb87c361a49988fd70a6ef1095c7699fdb9a682f391347b7458807e69c452a6d326e4dd0122e398fe6495744163ef164707484689981278e861409ff70601e1c1a92502f4cfe5708d5d8367c174e615745ef873856244c4c0556268d0a60091b55e6475dd1714c3b38706698dda054b8c2848b8bcb86464a207584204f5e43e77323ca809793791f6cd04c779ecbd4ee7e7e09f5c4328229562864c51b75eccb4cee5265e7b99f753080bcc0cf22a4e7e185eb3c5d82df2151a051181ffdeb98b1f85c0ad71e77ab9368c077cf60ee354f11f957d02d383f25564ae5526c0fdade99e8485858aaefd22fe32fd6b32fb5e9e5ed3a93422733df64ef99f920451573b0c04f95ac620879a1a6522c5945601169b1d45f7b53e3012ce5595b7a147aa23ca8d1923a609290c7375bea80d38d01e2597f3d0669989090b83d9511cdafffafea8ac51c196fbd073e47f43cf87e13e96f113845e32f077c66574690e17ed1633679aad303ba93f22e34a8cd52a63029e0c4e81edea09cd84e404bfaa07ceb6b3e5ad2ded9133f2726a8a19b729451d21e307d952e6c46a764c543febe72bc98dfcc209faf73d5dccefd1a2b512635d25bca6f1904a848c1f3f792cd075a3efccfe469de199b1c65a1e60d7e9f3d12cba1c5069c68e6eb2731328587e4e71d551e2b3b7ced0b73e842306e537c187e9c3567be18613b62a655b6fe2220660569d7dbe626e25284155eb488c0ffd1e8255e8a4a2d42a57e24602b4718cd0e9ac583c04590d608e8b66cee4f9c67bd041e389589a97162c5bb6bbe15e2b73db0648bd52c488e2065413ceb3df7d1a8f8a1a2c9553ca17af3d18bc49dc244fa3607025483d83f31bf61ab51e6ab7fdb13e28e03a3328c0e3b3dd60a3a3d064f0552bbc16b5bff19479c0012eece32659f13f40f12885da781f9d5fa211ebfa64638664ed759f3d12f53dbcde28bcad0722e64c7abf8e5b3071c08444b55246f61c5d4a2896ef0a2c911057a081255837f0a2b74e15dd408e1abfd891fe83c5b965fd4aa8bed2279d3f52d9e4ade4bea73428b2ad0100375595aab5c5734f55d5cc4a0df4256e4b8b00ef7205c97ba943f37010d26d13e65d9d4d28aff65080048154bf0292fb98b607e39e2fe45624f9ef4fceb79d3a21d261d75d718cf1898aff72cb7ab8894ac23a797041f387c24ac5973c6fcefa9e208a69ef5c2c8e6c3c03f680742618bcee1648d6345726682cf385b29fe931716447ba8009db4c58ccdd00e03fa32c428d4627a06606a8ff45cb7f059e216b2970e7e7b02c7bd2b4b61ebd6a4333ee9fd92bf164135fee7cdf6c8093a7e052fa1a20f1a06ead494449297635660131c9d64fcce9f3141dbc4d3a5c4ad161e541adf1bac546f1f64b082188259bc23662fd7c753ab3e106af5202c8b1c3a11f41bf54ab2c2fccadc8bc99ef6ca0b10d98b9d8fd78ceae17975511508b9c67933c81671e7192a59637f33cc6517962542d8011f9735b322978f8750bd900c0a3b06bc06dc5a1b330b38ae1da8f380646f0162ddc70981bc2b3dc850c251be0e28dd6676cbc5d652768a63669e3c4fbf4616e83285463b6008e4431c22538e044f474f67aea1fd69f664a2fe6bc8180b04886368cea01cf0cec2bfb269b6d424125c3e93f013f2f5a5ce32f22223c6f08ab75ac5924349c0d6190365510d027d64f917bf6944c27fe60fb21a8262cc9659bab2fda58df884119b0b5ca400cfb743c7d9550d01d9778502431f0a8dd17db2b8ccba77b29eddb5bbb7034b4dab29fd064c6ebe28d7f965609704d0c8189c0c7073e81787d67afb90fb76155f838974971c72432d109eb6d6342c4ef3e3887fd2f0f543acbeb40f6ebafb76ac93e4c79314836d8b878cb1dc933539dbf0fd4a1bb43770d02707b1d33b4e8022ded31ea360b0154d1158ab6c25d29bb48df0beff8da2707208118be7d7888fcef78398df99d3deefcfec3968e0a53dc239a3268d67519e57c6db459e5e617f91ec35dc92a47f257f459008dd30c5b5ce359da5f7b5951d299221702ffffbbebc8d9cdbc1c68428baf3dc7f797dca0588a34a602193724d50448f8ef3bc4b0b4f07284486045da594287d32bb781a4993d47fae56f343d7e732f8c6474b9dce114c7f495f86153b801864c4209c8ea0fbe3a976bc09631857172aec941f8a1b336ae5d2aa45d125bce1adf799a7971ea65dba3f29384290ada62fd8a2c4b6ab4894b5e49b11769ea2f5b477a5bcb70e1e96b5e6a77e8429383e1e5225a534c23a92b380f72d810db79fa8e750d63464160a16ce0e5ce8d0c268bd6b96c59db9a8b8e2c394d464bda1b56bb70db6678836d1dd0ba341c4545d0183282801a83c33fd8c2036491ba7ab268322ceaac88ea77b7e2257028a81fadd01771474452b48e23241bc5124b506d7da536d41fa1f66013c0cd46346a255a7cb5f30c4974af1a073e644aa04ad87f022d73dce3eb6d9f7233627d9115633cbcf5c630d0e206a9327ba3425b9134a4204fc1d09396ab1a0b1738f70e3cf272b269f2f8ee86a3eb3ce8a3651cdb3ce288cd64b98fc2f5ccbba813ff3907f427ee7e5394251eba7c733e6f19225d11e69597a37c06daa7341458566381c23739fa96c5b8ea8ac31f18eb4103798cfcc504151a79f5b25acd9da725fb5a56bf30ab6ef8a508da4e53e820801391ce59178df1a913f80c9396392201c1cfb7e43ead9f9d31bd1ad71e0123c978c607aa5d8e96dd9eadfe487519b155bae1b4ae981ecd6d3dff19de98e7e98563e767391ec97c09093ce77c5ad1f5114b904e424c9e8d507d2afcb362fd5b6087c72861ad884c29ee7d78c44e6cb4062b55d106186a045461b0ca961542bce906d6e11438e7736ef3a1c88503ad78308febe4473787961977859ae08628b3479f124e1f447a0cfa68d6320d41f5dd16037180fb7ed5e7ac8453127323dfe921fe2579b05b4986189d006ffcbea190a143774a92ae8fecbfe4158820a4848a8a42df6261d38e91df3959a2ade6da0a44ce3d0793aa0baca87f0b17f5a09be54d9a080d3d502fce8acdd4025c18dbbd35a693e4683f885a3542a201b66e73dabe19b4a3335374b8220ec500e9ab18433efd77fb58fdc0430e9b7a80c2178f71d9a1550e963f28b67f50af6b84a894a612accd38da56a3e8998a1fc3ced7e42215c514998d18338d0e395ff242dcdfc72508ee5cedf8d01d22b0b634ed5c30015ced5098f491f4e450abae6e6e101e3ce9edc1d99930ab48892678223acbf3236bdd528a429ac8ee8bf51a7069ecc9dcf162595e1260c19a4dfd94831c4e8a0fc24e2ff6a4d2743dd55dc728d8be1aa969d1c99282b37ea99cbe119968baf0424aae0e87f2d437e7baffa9e26a5cd69f2a15b7aa0a598d1290e341e518ffaecabf761c8634245fdca47d78f961476474a299cb2c96eea6eb23ef72068d1d276914ccf151c090c00ddf72a5dc42870d244c71b881fb824355a5b9f458333fab682f14335446ee4afff453d5856490d18c72539a5958ca30a7310e87e6def331812d3b7d0f7f4d4d0c5eb55acbb56f160f63f60e889a00814a03c2f38dd7285396495f8432698de2e1a9a8694075b65b0149683b900f955e46da2eeb6bff0a2d9f5b3c1d4c725839b801f1c947616a19b4b8efb9435e918dece4d28f0c6b13c7da744abdd93733d0b34f203e9663981b791115e451ff93cb4cdf58cf40c2eef119b5721b99617abb01927c0198e50d9aac999ec403d6397a2a3e1be5e83eb55e2eb0359f7e7950c8e394cc14ba6ac2596f0f1d72782d3f6c416b98e8de6f7137db52c4c0e3599a3d561dc7b1ade4ee3b8a761073a61a00f5e66abb0005ba59e164a3190ec0bd613db0ad40bedd11a55974714e06421ccf05ccd100357bce34e65fbb4bb0c9f4f859962bf7ce694defa8bc2b82f93495e7ce675ca6c96549aad4e28953e85b8763b9a1745b00aaf48a98dd865171a16cfb276da0a2d5d450db6e849e531d3e05a93cb0923cc2825761d0fe0894b38da98e5df98e23be013422c72d7e00dace1bddfaaee2ab764dfefe57368e4b22bb6f472a6665bafa0dc97fc03f84f6d0eea699e2b0a1af73eb3cd2328ba4367852bfb7519486ec9ad8d3f97b8b98224bc61082227c10940e2060001bdcfe3e129c2c767c78971ce2ab22477383ff269c19c0c039ede32666ea37a1a99510b2c5dbd851d8e67dc1c81983a0b7ade84318eea26ac3100ad3a01fc67780bb62e949b3fcb188e5bfa5307d27ea491703903e6b982b6726441e41dc4bd3414cd195ee15044d2b9827fd89791779557ab11be9269f1d069f7def3a3d6dfd4bd9e282fb185b214ef8763342b1021acad3a52366124e9db341353aa893c1d600db4556c63415e11d7a04fc8f94e3c4c63253dfeb198e01c31dc0f569d6268b113812db3c2f669c07d9c73c5d85e3049ce3eb9ced097913b5f0bd2b1568d7fd2dca299ad8f4ce15fe2e4fd00321a0cc8d8ea77d35941afc93206e13e620480a681ed7bf838313438de52a6ea88bb62953b74267219baca14cb5c53d8e966856a579d0ac20e7be85846d500f37122d7e9cdcbb872951f9826bbd5cc831a97af168d84a7afd81b87ac76680bfc09c9b80c70672cc39ef3d19a629323987ca8ec71b47941fd9939065c3eab5dd04bfafdc3ee6316b3a29e1d95b1824e27ffaa0b761d9e6db9ed72d870de84b44d67505aa49bd5c8d717fd774c5c612d1bf3d616ea1f60120113ca1e03ac1b33834575493d7c64165d9efafa89d1074750f80e82d0168a59da09921708997c5bcaddeab43a8a037afc24f81feb33eacdc050043068d3c4ffe28c3e5f9a20c4fcec6f74b210d75792f6c1a84c9212e3c4faf28e51ab1e069dbfb85d4ed667dcfa16744349aeacbc385672274e18d5c623e47b0ef420f9abd730abe303a81c6459cdeb287e984e93d76fff940edd727ccde9cc064331dcddb19b6453a8ac5bc7fdfc88f191539b49d7f1c44767739952a16091b1923c6e3278ab355cccf241727e90690273dd4078fd51f7570c05961987d354ca7dcd8f24eb6a8d6a59e1d808c0bd4feb43242d81f7bc0bd1fc48ce80ab55f33dcd95e8ae83ba0f30af6c385277f06f3db67df0cc056b6d38caeab97ac6a89a910b90035f52066e7082a13ac9170d4646e4ed9eebb48ff7e6cf63328715c539d3a6eb92051ab00523b6912cbfc366a5cf6d97380e4dac366f428044bed85f2e37d6cfbc9866dc05772fed5c093547dfaa28cea4d05993a8912952b0f934801edd2a34e10951ef7af35764f6523e2582cab283b1d8d3cd0336c85af01b2fafc625d550c10313d1b4f346b3151e9d370856c1da7d63da131507bb40c9b8d280b6598d87b519866512266eb725d7b1a77e1e0846600c593aa5393dfb97f5d47e4066a6ffcbce3eb68ce426c9cc13e51da58a9367f1144a39641439d82918f557c597d88d5b5b082dc72c9b8bb2d82c6b7d0b9c0e986895d7539b19df8430193ef025dc029c167021cf895c701804f3080cdec937e3b36aae4dd73bc7a8bb9ac5998454dd0e3cef977d8afdcd05c0a7efa5caee32d89945d7611032045da16783bde70fc98f3e073e13cfdb99eb391e475679735cc7d17a5ff1c4a998f63174947a54c140f359c7e138524f50f6ad15b98dbf02546e68566a3251bfdfb9c1b0d667add4031bf2d98945ec506a215fdecc4427b83529a0d5251187df6d8b59c994d6c91b20e1dbdbc8b94a4607412d756735264348d5ed00585a22120fa49b1cfe0b29a6152c582233e280325051f1a055e3a6943a2d9e9119874d72f0b6ad8b7bb86816fa183123feb09dda348430ed6d58e7ba159057e8b3ab38a6df496ec9fc7236ecd835c2b09176313f3d0af1a6b5a2cbfcbeba0082cf5e8dcaf4f0e290d79d695ad78de26d63c5042b9fb8f421cec0bc50dcfc35b5324702c2fd200f94399d57b43f3d9132c9998a47ab74a9518f45054df79fd95d12b48748ac676abc0ec084fe892421e7897fdd9914ef0cccdf00bdaa1d8a189abdf8879b9b0240a4a5e40bf532df0f03a7d1d9b0c5aba3b52d4cd62ad5d5e548d951698ff43fea7e8fd6a64173feb43b35662e41ab232871b813f56ce1a057f03da7d96347b129bb95daf4a1d670e40b4655aab8cdb6f18ca242eaf0de727cc9ebe9a71b8cca2a0a6f75644695edff243b43f5925bcfe503e7b731987e2017eff3134b1f47c4b26181663a9385d81647ccaa064f9c68266381e5ab0b1d717e3cbbcde6897468ffedae52ba4b595f8b000cbcc53c9a7fb26026d46225dd25d408a00585d63089abab3cf09e1586fa5288e3651a27fa2080f5be6593c288c9cc43ac4229122cc0e31aebe8b6069dea84cda53b9455ff7d0086b408f1459c39c7119f36f922931bbe38943de3d154081b1d6be6f39960b6bbfa311c80c405df155138a6fd34dd673800e03d5f603a4c92d180fc14f107c02229e403ac26460f98e3396c98135469a89eb2766970522ba68bd1ee5f303ee9eb16b5a607114a22c58aadde8f3527440e4d45c7f78e3bf8b73a1b91afd327da899390bde9a7c6544bfe967e83800ec0c5ef938b44d3a7c9761975623a9779baef1d9e728ab723c0ffbe7e55a5c02afcc95ce7b7390c893e571041b6f2fd813afaa29a8713d52ca12a9eed94456f0d1990ae670d42cc0fd20afcfbbf6f9cf59d08368c4adc5108bf45814a44e8772d994eeddbf698a1bc6517e095b4238f798082393560adaaab90c3fe1a4fea8175f22344c5014c47e74aa5d26f824a4b1e18ba233378bc4f7190c5a7302e221ab4ffbc20a0a5f891eee4a50c4d5c95f55ad97e7bcf289f32b276d02d2896e8e6bb5c8e0a0ffd84ab107cbc341ee5edc03d1246658f17cc1f386da60139f5ea5ef1f14ffa9074939d0f4c9e86bd80ac45a8c98e08fe9bc6dcc38a7861cd59eac7665cdceb2b34b5d5b221d370b7fffaa013da0ab8af04531cf4a7aec81731e2de5a1b687b93b9ff291b13672685d02acfe5f318e31bfef9e86547a023c15edc4a1881286c372aa10a435efa3621359c76238c2b9731d6ce3d458e7b15eace6e40d9da9f0a863e0896c7aa716327d4c52aa81383bc52ab99d3e06844ee1e5545f40698247ee79dc58f156a0c0d2d939e0a5bbf24e7c28143eaaa5a667685877a783bb9dc06dfcb2b59900b153f72750c7afb9929499d0ca54b50a7d6f8b947b4756bc57328d3e82d4284565afa62fc089d9cf048af0eea9ed0102171d568f9377b4ba0397a8428cf2677c176c316210d55cf87ab7e9f5c71869505ae6da66ce29d53831a698cedfe77f45874ba3a5246bdd9444c023e1c16d11b7425447e123cb6d94287ab69cc579b22ff1d9145aee57727870858a1bc770d278158ba77b423301b1c4ea5813b6d64bed235b96f6d785ce7ee47875002713bfd9129faef3326637dfcad3cd580d3c741e104b681c04a3e5cdc71b42460ce00b10df366f34929c5ad9485268a7c9fc5f7fce6237ee3a3b2cb89429ac09980573f8bc4b28b2b437894f4dcdd81b4541ebdd92d6dea1e59da14e5bd4678f7629a3dc6d90460f617fe77a0de242be190672b38fbcfe25a5dd533dd2c8f0f48d6d2394446c8de75a558492b7047cc53fae06a52b13d2b158b6e1a8bb96218b0219db798565c77d23659db7134e65f2f42ab5baf333e3ad682d7c4cba817e93e1624692407485daa78764c063ecfb010a3eba6b4a32de6b601e21f1a06b7ead523203b18dc83bf25f56e3068dc37a8d9abed9113ff6fa6e9be56fef2dab3f44cc7214b819ee5c8d202f7804d034de97f15dac4d4ad7c457727f58cf88ac8e7e0ff17653a913193a35696a8491adb1be68edb1c00c05708231a661e44c9e1236eb95d4543e893ba27fcbb3530efde8f9e8b423cc1b500836382fdd3e277d908a286bdd204635588aa26283662195d07dc98e5fe638b8cfcb39431069717935028b0c394cbb8d23273f1f0731d834860804df4b8601f57d2e6487e0b6aa2ea4d950227abaa88ff34d5f20ede7096bd90150cd29766e20e8de33fcba535dd15bb26ec7ab0e1fef04fc4301df2f6043d44fa176560218136cdea21a29bbdd046be3510c8680a92b4b415f8504db799ef7fec3f0f4a23441d434ccbb93cbad7f9f40d01397e5253595d239bac306dee4bd7654820940547642d2eb64d25aa56d7b5df4cc3c03054a782a058e3bf707d411159c8bc1aeb22f1a2a4ef4736f6ad277248bc51567a58956dda69609f2b374e3fda84d1842c39be25918d44176f36b391a7da4915937fe63dfa4bc8539904c571b947eaa2223c58fd77491cc34c22b91459664b0c8d5d6ca5aae32a68f338c78a431d6842a7022dfaf43b4a83c376f0f60f705847eda6a88264a678298acc19f1cefc015a08939a25c0f1ff93763f7908978f532ed7df074bd9c1bfd35da02179eb169a4d49dff0b43055a1f5f09818bfcb7af6a419907858552c8685100276bc663de53c67c26d2fd6ebc9e407ae116f2bda53285d253c8d23eafe8ff243077e0fb36a129159195f80bb9e6c9e4e1e3ae2acd5c3464468fdc5a44d18420f4fe28e08a4cf8a56ceb8548e710c19a6f868a957ab0690bd1d333dd531c85275ffa1cfc4ac9d841ac3cec4c838d2ba2d24aa4f6d682cdbdcb80b89085c033a045046611a5d6adf20be0d26909d491d780732e5335e9a6ea0d870f1567eb2fa149925cc06d7ff09b4f3579a439c16bf00899b607935beacf2f5053bbdc51b787c6f948a67fb2cafb1c958814c9dbed62c51057925172715278f067258405d5ad55b40f11bebe6e12d355520ed3473b90486f0f8a84b822410be6e30727f3737d6b5e0481e7710176c7b044c65b3d2687bb76bc347ac464978b5b5b3af89635d1fd1324b3b06310359fd9568a4b01b5c40b507acbd17d23035ef13f03f3eda2f13b67f3aaaa24b91976a8ee3dd34b862ef7716da5c13624af8853efc9901600a0fa65594d974c6117d186dc8fdea914b951600b73158152065af2ae0c6e6352cb03332f1b8912b06802366bb8ec9a62702701e23f460aa6082971127be90d475fd1adc6f2b10e161683d4d6f5e48b0e262eb26749dcbcdbccc943542d0807dffbd2a10a8b5c895819bd4a00fc0c9c2b91b7378c55526241acd2e091bc816b2b0381ef6ecae99768eb220c7a5f9c936d2b8c7946a86cc265a9d6e2e5ca9a056186ed013de4820c1ab4b0d40ca58aa2f5021f84359d9d0bd774453a56963b1834f237b02f2568c3440b803e7a9feae13c0ebadb1c3778dab392d74a67e638ffd70c11e2c17eb3081cb6ad7bc290762d44c75388e2c67975c39aa290e4f376fb93a101e7192cb8bede6b1eb3624ebfa78aba4f8ccdfd786a52d4c4e913b614eaf448c1d850d08ec146e7ff8383b1413a380c3bbe510be33e71b9653ebb619aebed0ca4ab8e74c02692eebd156bb9f1c6f9d915892c0ef4b0c3f958d77ae9eaca408b630ea91066c3655ecbb7b62232f967bff002297ca3aa2bf8196d355cfc3c53b53be40ef27859de22c299e2c14d8e06680af356f7329cedcfefa6d2d21bcc3909840e4f01b54f019387e6cc41a780dd24415e7ebd2c7e1a721969593fb0c32b6c6577efc00d6963fbfda72fc3889a8658cfa68a6f97e166b6e4388a3fb2a5bc39ae84502612b053f3024516bf0014870594bc6832ed4db97266ae09ce001e26f98653f9e2b0d0f2c765934bc9bb6d056fd12ad79f569d7326c941e3e920327dba320f7f78a661da08863088fc61f8ba737cbed7c908f8f4fdbfb9cf6afc5a70be59586d5a8859c012861736394b915f8b8d604591b6c52a91c7cc8888dc7246aa480d37d906df69146c7ebbd426c9e4b0bf845330fa6da26b95d3ec656a7a08bf0a13070ef1e26b7ec50a59e36ad90e453d818d672944ba84b1ff333f2c1d2e5fc4df539f85e4eaca51a38a33676360ebd93424d0dd5ef96ca621f91a4e88bfd21289df344e006d9c74a1e6ab72b317593ae2851bf7b59e4714608d406542e53b0ea9a3f3ce2c7d5f625c00b3a47e94e8eab343636b1cdccacf65c2c1b6ffbbd4d7e6b6bd683c61f95c2f6e0693fa64830a67860cf7aebe335149583a457db0160dbd9d49776f0f564cf51590cdabd8073e14b5fb14c67e65c1607c10d9d107a11810f13e9f0d5eb48eb38af746d031179eb700348946fd799472c4702bb412a9e60f019efbd869e562501c1c1e60a9627c5fce86a32d9007f05e62a69b48bcca847562447e3e15540f35674733a62f7ff0422b2806e8a1a12fc6b1f6553f984ec4d807f377adcb7d17f601b484cee62afff11b7ace20ccc9402e64bb47a6804879a7bd861cfc111fe4d3bf9f28f702bae628f71fa963acc8847136169f0d0ede887cc0fdcad4cb359b404a9d3e66e09eb95681d26bf03664c96d975a9f73d0a756c1775a38624af1e99fe877ca7255f3a0c1c28774d0306f0fad0f73b0ddf7522dcf4415e9210ad36234aefe14e22b1413b3c7185ee73949832e02153af5c77a7195a837963a20acf45b3edf884c2ffd6914c7c0a96016729b174f6a084da9651b544691af6240e614301e733d8ad4df84cf581c83cabdf8a0d46213f84733f50c4560ecee1097c2020c906dfaabc3bb24f28ebc150af92e393ed8106124079ff8a3d78ba0d9542e4ff82c06728563d11c45b7880284a7ed2763ccced49429aabf8446950db9bdac666fdde03a76259bc6e3dc4d7edf06a4471ad57c1c2ba7e2bdca467c210f5cd0d7370db7834546ab9d851b3c51990926d1be92f7e077ebe5f0f8ed0d1a44cbf1b3cf03b1f9c9236ae332830e9919e7bd2b7b38ed9dd5f0ffbf2d08fdc1c680899ef42ee77e2aa8ac9aacfea4c81d040ceed8582e5224cd91069b7d6bcb1633039626c9a3d9297999b33bbdb9f9108470a51c1ad4dbc73fbdd2514db53b97b150a7d091744dc5b37112d7704e5341d427af2f1037f30ba92a989ef9fa37b2294219643f3121ebd6e99a5fcbedd2ef3f61b17cddd96b673abe307cfb29b8879f37d1d51b55fc8b0c10f67ea292a0dcb6956004ebe920f1489b07618ff5b6831044728297e7e24103239b9d8d4f4f635fea92052b5120488b0ca0fdc4a7daca9c4619d90e04e74f35c6d25442e8e4c7a84f8b557cbc264784bd2f7cd660f2e584413743c13e45047b804441d58e9bb03451b53b26a62dc89a99c72fdfed5881b2aabb84a2f5ca4026bf6e62b7655f78a0836a2c8e5dc3ac1f66dc666fbc6d52b9611a7263fc325ad85b7789167b71803da3fb6a1bfd7f5be3cd292b1c90ea4654bd505a961b3aa48a082722208455d2b7ef604ceb0ebde5b9677a20378d76229838438104fcac4b700254e024a29184e23286baabbd26d0f8b03b233d87dc753370dc41407b134aaa72697c8d758154803cac892f5d0a50e06e8fcfb1f5e53319a7701ce1ab6b9e6dd5aa573430724361c1182010535553bddc560bda2e613172c0527a71231fb30579647300c7f03a162e84a9d1a9bef9cdb2fce6550837e3763eba9e0d564b89408423f0a7a6a7222da6e6320e8726d3308f3953797d6787739e881e45af80bf98688ed368db4e8bd6fa15fa0b9ac19f379d727e96061479cca2e7cc828c0af881ea5e48571737dd1f0562ddb0e06905c1ef404ff36fb57c097dcdb8143c7b2d774fc14d115854c9e3254e60b8b70e479568ad5cf91f355a50f53ba08b7fb223d484a310feb3a535fb26817a08b72deb78d2763fe8f20c22dfe96be6d76d703d52061570ba023fa8d0891226954ae3ccd50fcd6d700e6c89e0333f0dd689ff1c311c2ea65c53a742e87a50f54f82fc44956f059042416ef6e7f9d9e909a0e168001c82d586988954d3cd3f9fb8d7f83ac79df746bb59ed4caf734c30366fc3f17fce94c7f10babba8984ce389f600ef6221b46f9e8b633170a90bdbfda848f95aecbf85ffb1db2a9e0354f61f4bac01f200af0bfa6d662115935a7f45a19376c30a43a74abedbf757c3626c7dbb28605c9b110385d2cb3508e42390a168c233105048c687ee2cb748e11ee9b63cf1479c5c7a5b075ac06017759c11fc64a0722e9bbf1ab9e3958979bc9d4cdcdbf6b3e93500b22c15bcfe871d656878a2f57274212411ac04ffa349c2f8cb6bf8e864e7cd214abb18126215ce9207321cd71ff1a81eb18380904949926580d4a009d7d7d92250701f1c73358f08104f9b588dc31dc66312ef94efc825faa7c8b18401328a49aba9975d11246b530d18e85ecb497c4059aac304f0f998de7f4f705786e5665e4136cb965b28746fb521d5c53b18162b57e890fdfe23087abb28f5bc4afd00082dcdea0d8da43e3f13f7ed05be69d30fb51d707b92ac2ed634a3e858241db66402db4d99f8cdf158ef6068543df80f2f88cdfd47753459945a82188449ff9a5cddf7a04495a432df33e31cc5a32c59b11f865dc683b0f6d7dfd8099854ff900c19e62e233617cf857f43559e30297079bf8a1e4a581db9bfd8365a9a3ba0ad7ac6248c3a5b7d54c64b48fbcff5247ae856ac20726ece8c003887a3358aa5923b65c5efe4247432b27008af0345871e52db56bd7bd8599e51f12f029de882c572fd5163b85808e4ef0cffd664b20106cbfb5fe70d94acc3eaec0bfa263b52f848e9788c64b054b62a40b4c9e832767358c86317f87ff7322a788761d70cd7b7c327cd6afcd7cf9a4c4c0b6b0c147e3b38487abea3dea7a3a3675540e24212b3880f0bff8628e532e7953b143448d85f893013c7ed3539fedec11c56b0398994a9266d5dd63e309dae90b191934bd2edeb950c7de75389932cf9cde799eba038d6b9747d35ba7c502f1cf832ae788fd4b0b6b81bd44313679843aec04f5d203310817c54916671eda8a19626cfed235a395cf4a62ae604e65a2b49b11e2f102c9d24f6336d54670c452eb6f922b3bb53832266e51972caeda89c06ec471af4cc05527ee7a3a616d33646d2671667e4cb7b3ff120d604f477862624185e40599d6a341c67f39d55ace50b8ffba1473a5bf4740fa06ac806924a5ea08caf6709e8f90c49b234ddfe4a48d9e661807554eafd81d62d6c67f6b837cbcaa6c1f9518655e31851d88f7a2b8c808d22da855fcc9eaa41df4c1772c708d0b4562a127a6e119cd49686354bdfb775ab01bc8fb4591ad1139e2b53d0fe4eb47f13fab80ed3ed9ae2c450f217a5fe119d8c14f06e845254eaa01d152a45b4de84d5c764eca0ff7bcfc493ac5fb9667fe05c52d6e850b0dd7e33a284d5d314350d07c5db36c74179c14b986aff4f1762021c96be8003c9671507d04048593e92f34e49d7074ff23ad193f477a4b32d169796e68ff2bd1781e7363473514668011c0d7cd2c9926ec7e461dc0ad7d580194152d9f667cfa2d0a864b423de5ec78bbe16c550132534380a41c8b629a4b6ce18e0217d8bfd8a6a16e7a95a3f48e18ef7bee4e3727dcf977e7d26a779e993871b46ee3d9f828ce4d13bddaba3e89e60e83cc58fd475d95b040eca0076190a16cfe5bab718c2ae6ce20cce4e65be1493dd777fb948084372f6320b4bfc94ee01f73a68baafa5b621c0b00cd0b82701d206a3c2e78fe29d8757946e837482eb52b70a1efe9e04c3013148f7f0fe57e62797cf45034400051db593f8f3a42f127402f33264e222441f83ae3442b8331cfa2eab88605f3d733ce604c7c8006cddb8106acc133eddba74bf8872eafa2600de8ab0155a67955ad22b06df054d66798e21ddb0cfa9f22f10f7fd93b77810deb216d8e9080604dafd8b96a431dc21479aef074725a6f014ee8b4e75de3e276204bb5c3fb791fb867eeaac3351abc280601ccd122bd79fb0bfb12e0b3fcac00d5dd2e56baecb340689594efd974b57759a775cf400bb2d0e45f489d1bb63de4fa07556a044fdfa4bb2034ed38d6c22e47c0221dc2b467f53195232ee206efd039b6f7e3916dd5410078946d245d6d6609743b5664aed67eead75153e88ffc89abbd859a56adb1f26c4210326c6e23619ef32c0c90a0f81e5cfbe3e08fee45871e37578afa2838e0fe3ca03c8499026ac785b2a7eff4250299c4c4aa16ae4fc7c4dddf382c126bb582d4e60fdd38640f82a5531875787af6c49500d30e5d3fb09416608310db7b3bf29c4b429d2c9ad1c99d96af1343e8395c581b453639f268225772dcfa636ccee2a963c3dbb27fb777ee53fb08635405b8f2ff98a7b1c44ccba366b8e95ba347bb826766322fb273efbbca8bd5dd2c146f81425018d27c5fdd81c8ce23337df19bbbe2ef42e217cb1aa3136730f1f25c1b276bc001401db3e2670e1638df0d018f056774e219bb3e580d2233a7a4962701990ae414debd462facb08af8dcf4f7921a1926fa3b01ea0cbfd1970f040f4025be924ccc7e499bbc84bdc8ee20573c2811851779bc8898fdfcd3d46e60a5488cdd307d4adfb8926d02e7af3d29ab7d08b8862dff5c36c29e6ecbeaf42e8b4bbbdff34226bf393c70d23fb3c8be1386afe37ad12ae18a1a940771199a4b16d1ff151338a84ce6b063c5349fe0354e0c3d55853c5a0e4403290d62390662accdb218950f9251ddc80543f5d0fb47c225cbe20bd69eecabc0cc3ae80a660024e21318e79117372f03c5f5d04f02d186d8337aebae0905b7d8a1fa1de22b10a79c410bd0b67b5d579a2372a9ec62f902e631cd8c824949a33cb30ddee1038afea506c19799b4c09d82272d1eff873bcba2da3103454beefd6195d5a8d4ba4a23cfe606bfe92de6031b7820d42c6b7da3578ba48091f6cd99f21256948539d0fe093abe94ee7b8d8f3b6ab9610cfe5ecb21929d1e58da88a2ed683a46dd09ba56352b190925ee159d79e62574e45b0d66e14668d29eb11a9091b5ea81fdd439cc0b56a54c5f2f9d018615c12479499eb23ca043a429b31d669949831d94733b5ff1821bd131b16bfd8b30ba8747c3a6b02e1b60b77c829c64c3e9aad5379ff4706c625f9cfbd4f3f8934cf16994114c04133cf6eca812b4c1ac4e6d9ff71687083df25bf6504574410b945b465f523659f4b2a6b5e52d743522f7e6da54d8d6996139d5a2541d54dc56d984f9fee426e4c9f396bf7b5cd30e7a47444f8ed5d10c7d1b07c3e0606cc196573bbb0081cc486e94841cc44b903017734474f6aa6bf8644ec8f53eab130514c6fa00712f51c10c55736f23d1b5bc7a93fcf81a48d402782e83c366c77545fb79d8b8109f555baf29d8da3a39c4df06613047761596801a6aa6e11053e9f2ebbf62686c820acd0e5735061dce99eb64f25ea8b3d08310b27d36d39ec4bf8261b9f715236bdbb17528495081755a16a87dbe3539ae156141bfba326432a530ad74cb6a3fd9fccf5fa1da1fb40b64a805a9ad54e2a206596e10fd67c18e24111ca944000e6fc6a3650782bf00f85f31e7e2ad19a45d52fc77fab165bc9845fa52ae05dfc6d58263d1789ab8796252dc208973ecd41dc8570e23e4bdecf438636b0ca6d60f45f3188044f0fd954fc2910b4467a6346525b3f1651bb13af72ec8b125505904891e4cae4393fd7d4b9d517d8da444eb5b270ae44fe512d54e0bdbfcf123ce54e4fb4f8e4afcd43ed23364fc86b5eeba3245a4314d9d85b01e760689a6c5d5da914954d2a9d6c302a1b7e27eeace3200708b3bf3debc8918063554f84c0c28dd447ef75f0f0ff79847c0daca827a2eb5dccd225a2ca68e72b15e2b08c0e1aba6155a00d250d6074465e2943525fbaea23ec182aa1b3902c7fac22f79b7584270ab877e2a0c64fce25a1523e1a3f472059f63cf817b859a4c4b5ed45eaf4c3cda042cb3d5e94d29f688357b6211f67e01feb1a1ac9ce78641daecc684b72358e17de9eb70465c6877dde1ca0af8179c1f4a0f061bc4638a8b01db23949852b674030cd59782519ffe4920fd43cb52da617d58d0c6057d6ce3dcfb00691a0e37b9613b8db9d32f7031555a5a767749a8c4f3d8fd3a25e5a5403d84db02f59151d8ed985821d7632e1c3f88c49d4fe1604c1e0dc7ae43908bae382bbbd525ff0c0b4820b47baa6bd929b6618cc62be85c9b40c422bc8b5d9f31f3fc8f2cff775a4d5f61219b49edbb3293c09a14fef9d370aca91a515bab4c5c7b533386746479b2896c66dad519c460faf146d3e4f0612fd4af1d9503c5e3c9e3cbfd99b1d9206be14667c4a87a11f481340a86770992f1a0bf7baf313301043907af0d3d1ee4edc5f37619648f1df689c7f66df06b9e856fa04e4a0492190be475959769518ce116a305c8631b0a06d0760412f6ffc0a3dda04beb43ca8b561c73054dc08eee899cf2b4e0209d4eb1ecb36c5a2b87c858a7d0fb7e1896b3d8c63e1fca6b0adc68afb87234ed5feb5067eb8a27aa8ae4a21bb75673703ed8d9046fb6435917a4fbba955df7d4c8b098f65617448d3d6085ae22487b63fb407cb7fe8c8fd73664aeb254f31a23522692c359b7dda4eb8ed94a453ef18e8dc35d18e1509d8c264d06fb26c603492a6097ea17f32718a0d01e4e308ff08ec8c9f6c3c970b659feb267290be8a5c364afd0a4481eceeffbd21e2194ba7235bd0729ed04d3f918914efb4945b771aea98698d633c6759c18f3c0f6b0a68f601ae7ca7fbb3f5fcee86e16648de69c9b0832d6a1b223661a4a46f7492e6139a5fc5e86bf65147b016cd65ad20832fb25d1743b0bda808a46cc49dce558ba521e81419322caa033959fbfd22b782756997cb5f258f9464bf94fa5a99bcf26305b1c19ea26c426b09f23992bf95d8f6ef78fdff90cd1070e114ddbe768693339fabb1c3010dc2eda22f4a0e4fad654842c619c9989de6c10e1b8c911506698ac791c68b3d8b3c2da04648b4bc1bd02bf4545822c38a050a64960ae509739ddc5f01802398017bb480f2482d29f9b021904ee62931d1fe289247925be59dbb1d58ef7ce602559b96c14ac247897460aafed6af8910e8bec9ea9e0e3c831508f702274b5d40d228be210c884ffe270cc7b93de5aaf4212d3b7ee4c40d05ef70cc2f49865006ed7bb8c2ff3ed3d0da11d0f2a506453026248490008f089c6df3ad2266964183b4563c2e675e90d16d4c5fe5ca6d2d779113efe57c8a76affa7b77f33a6b17bcc204dabf0142324d13101edffb5abe8a80e8cdf658fb8983a8b1245cebd7ffc1e7e1ed89614736b9e4d8f0207fa709f33a9ce115c789a1b8068146df24d10b6b725a8220fd884a5acd8236d5f6ad3707646a86ecc7cee5e4d38a0e1f55a3c0f702a757ce4902a2dfcf61de66e111b6908c09aa3cc7728b550ac9b125b69e7d245aa388b24190433ff957a853ef28c9adfcdeec7ca27d3e9cb299ed1c7381c121c66dae88f5afccde193c56faf418570199591402f210478aecb6360645479db308b0d2d3b02408a46ef316d780922d20db395aa9d29f11734f8ee218aeffdfeedee1f18cf27759fe50b13af0ae98fa069adea29aaa16b4203480f5419b6a4c3f48c55fdf5a58b1c187310d573e5678a4e74dc87deb14291eea17d8d0a47753219d6af5144cdf794ad19979f6cff30ee918c922dec8bac77cc4494a4faeef7ea225e5d22eb0a54e21a4e3beb287e0885fff99387877dfb482f4fa5d12c452391cd7d392012f8175863201172802fbed97b93a9688b631392321e8f62ca02cdaaee2c2288c31c4941a7451bd46a6fbbff9b8ea5460da481d56ad57b4c683896baaf6ff8a03e9b57248ac060efcbac8b54fc7e5b09ccaa676292bbfc31f7867d7c3e991ac20a917bfdf80f9bb34e7366becf25cf4d5de92973b1055185107c15706f8f6c78b0dc89c134e4161ca72c1fef76660cf6aba8d4d0f115274ac27485ee39eb6d89582a97967682a21908bd3273c5b52190ed117a6706c9e8b0c0edd5777fdd97954134c0ab8ee1f7398aa8ef0ccb879f3ce6d8f018dae83ef496d23118a5412b7ac84baf5f33f91a8ff26f169e504a2427c0eb44ab8ef56954d43dc6270c914037fb85b810d5ef803e28b69d81de181c41d821c06eefadb9a79fda20f68c119a7904d89ff095a3935eb40d0ede9fcfbe7fefcf90a9bdef0e6e17a414576175a46dab5321d58e6fb0691e41259755a5093acf81329b6bdb1fb108e89ec6414c863cdcfa8b6ab588f06d044d44ae574d7ad139f3699e29cd9df699c44a582839b5564cb18324a18e3454434ef14ead8cb53d9f17240ef63dbd0d575ce428c4ef6450cd904d07ef36d2f78c03f830953294dff348a709e46930965c496ae8aaef40839e37f2ed4c3201144927d259acedc0d131a5259e84c8553bde0f5ac432add14ca273571e607fffb9dfbdd35fbd7ef6b3b2e79055f26fc10ff143cfd141f00666dced44c9dab45e3c576871b6324835f0aa85b104aefe9f4e5b3cac1a7e89cc7e4079967f63008cf07228bc01f258e8ee870bfd30b6f1db110d7547695a96ff33f2bb1d3b07339eeb3970c169b297e57b7f890553e50d03fd207e5e36457fa72adee7f7aabc732c329e1ad52ff7baf745323fa41d89528cd3f1ec837b9be93b6b7051000cb611ddb72f2e9fdeb09c9c0c64792de42bc271cfc7ffc4c52a9680819abad00aa00e744d7837c43bbee505f7467ff92eab404de87878dc616932635c42e472d7bbc2e98165be49ffbcf3d25fe0edee4c207692b35573f02808fb5407067d636cdda96ba460bc2bb3e9964bb965aaabf65879fec4021791161e36a9a4a915e29bd46a1c308be4ca443af2f0e97bf80ad8d98d6a14147c004ddbaeb0e142404200ed5abe7a321bbfd69e0c6d211e8acf9ae9e733d5d82615ce6d8a7df0739052aced6094b98849c547df2e5bc71d389883f3848358689f97cf62b56c5cf27fb2e8561e5a95e84987528106b7f062951b892cf787d3db83d04a16d86a0aaecd4a60cae643552aebf745015a0d086d34fed9a14b2abc6f621538d730109e2a7e17b2ee7e1eb108db667c631c7caab96c40ac6af69ac4adfdcd059dc81fc021a3421188890bd7d5c68078e0e6a70a2c54dfd85c1d846f2599731a30071c3ab3c743d33b63aa72e1271bd27e51591e1cffce445c6bd720f53c9eba9fdb02c86c7704fff7b43b619a8ef545c01ec179bb456cfc442ec4110fe267c0a369f4d391a3882cdaff48ba6e31d201971cdfe5c48c82b9b8b6f84454c5bba9759d6f15d12ce7c3d0b47b816a727be19d7664ad409398ec010ec90ab2d8e11fb47a1c101b59a311a471a87d67223dd29c8c88e3541ec2b1469408bea90a5c6ffa9f5d0f1f342b9f2e7d30e6d3f48b902a3aa4ec68600793e2e3bf45af0d0718d9563ceef6a6532f0ad5b493dc7c51d76ab24b5dba8476d58c367e7d119dbd9dfd660805a4749671f49325a1eafb39ebf4c2a0c34eb3ce44ecf2a490111eb3d31441098ec95787ae3d62b798c92be4fbc53413e6d1a04343805852ae020d917bd11e2575ea33d81b8d38ffcd0b76102f3824d41ec9c1919200044cf84f22d172b3f8f85c35d35d4d8598af170bae3a02453bd43ed0646e30891bc5a3a25b52e844a3508935c1e2a1450c5dc7edd25b3187f71a5526697284fba88375c416e6c1ffadafc1bd2e97ede6dbd860861e8176625a5cbdeeb38b3da5d8c82cbb2ffa7b0c43fb07cb760524e9b6d41532953954ed2c94d47f850f78546f9306930ec6051913947bc5dfe8ee21bd2eef356268b18e9cdbf625e6f46fa7b2e94eea743c44cce2ed4bc1668197523bf547adc701a3b5efceb01fa065d63f2064b6c848eec896d58c206cdb5f4d8510438d9ee81784a3e0db0d5999bd32d8d450683e5dc1115727656d77e23d61a7dcc0ffbf4df9b266cab1a496fd41c6537eaa5b4c579822aa54315b42eec3cdadc341e8b36d593f9b88b349846ffec135310c892bd235fa61009253fe70f395b1efab4d6f65a4e661cdb4278f759c663ac8c78220067ea1dda2b6eb26494eaba09598f39f9274b0d70529b79aa6c6ef6e231854e1b184540d78f46ffe4e5e88e72fba1e78ce8ee89071e8e7421f494af8643f64988d01654170956ef61267663ce2169c1956656d19f8485c741ebde9f5919cfdccce4d49f8ca3b306629d6ae653cb4fb6dc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
