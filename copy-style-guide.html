<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"01b2ad796aab0960e0648734df68a73a26143f1b8a31e83a81c49dcd507332182f095b0892e44a74286b3f52a54e5e56df9657589a584b63152c0c3dc75e929f8f13d282fcaddfe9510a3d4ff0c8b4695f45b65ffd278d21d6875476e3c99ba34cdd3bcfc3154976bf70be2280b618d99cd70ecf9fdfbfef9ca7743e95075836045ee813d1244174e58943dbdb1e64f5e6c09719e1a88d30b77551aca85b20e4b6ff80d0b526862ebb14cc0ca9e8ce858e865e5abba36139e302012e4bd4417a82c701b241e08933c0b93b109cab91853aba115541a2e49e2da1a5dca9a367dbd11f90ec12375485c0b1d6d20e2d1919db6f9e3dc778acf1fb06502308f0ccb01cfa8ee193073219c6ac297e743e55491d2ff198c6c7c6e7302431309e3a9c9cffa0d388aa666c77455b9ade01ff62e983a09ca24235bfeecf5adb23ad01eae9a6ffb68dce77ffca99476325bf2d9fa5d5045650928ead12e6d37ded4e7db88dbe03be07e55ee4ed0357348ba8f67e7cd2ce7f3774f3f687d309055ed9f026b4761febb77ceeec9a8beddd08eb08c3254d8b33c10426b19cc79beeed5b87bf46503b69c73fdb44e1bbc401c686eb2a9e3ad4a7fe447e5bb9fc099b37c45c2a4666032e418accf3aa290c540b247e2a270e2fa18e70cf851e63330276212cfbd1874588ac986e6c7fffd7d925c9fd3cbb837000cdfff4cb394c1b29e2bc302dc23048d19283bf543ecd414c221d840599af5dd0511307180fd0349be0e0e99e3f3162c84c6974bdec6a97ebc72f745ba5c9be9f7941eaf3c7fa758cef2ad9a4312333bdf5f7bce0734e05f100167dac0da6189b5bbd1cbbea4dedc897875cab2da06ab24063cb5593e8e74240ae09539b54a03884940951f311f6aad24e4b24ace1ac0f18d515b40906df4dcb4e877c50c8d89bac0a8b64c2a9dc79345561b7f074e14ba6d06ed9a3e512a37bff36252e19ba035cc48290ca2ab2727ff141095e049d4984010714d86a8489f8f0be335f2125ed10ba1f3df2e82913a3bcb1bd71020617566081e484e2b95a27fa3bf9c65726e47b959700b54aee6b9a423087bd563f46abddc214c1b050bf6848ec7140137662a49865dbb960934b587b91a95122fdf531ed75b29a8b34d0addbdda3c696e1c7f2373d5b0314aed3dc245e72413b7072479eb70abddb79ef7f11c81ae3b0016676634b7aa328f1f927c55fae90dd205afce7fcc5209af27d2247e73e84651d29d5f265d96c2e4bb23211523c7277c7f3a95e7f377b688143b201a24e90684ef86040545237bd13329154abbfddb4f3ddd742bc43a175e0e7d69787fe4411dbe3bda9db85e12ba756ba545e5b0765b7e5ace9f08d87aa9053f8c90da423637a100f741ade08e22bd7a2d5b59651ec30367de1544b63498e8a8546c0228fc3acb6587174ca579cc15b6f5569fbc148150ee640d1dd1aa5be8656201d1a7c9bdaf9b32b8a92ff192c54d9e2a44093573add46cf0ff0a53eb69e63a685a9ae639fbcc9bfc11d9ca55b9b09c58cb62b7b45dcebf73ded2a5e8de0a3e3957972366d3423f2e87751e9bc41bce7cd57ca6514563bda280d590d664ce1c62f706ae46cf8c6d4bfc39720c9911e70ff8df02103c900276b1155273f81384d9cb10e9b1d336b2a46de1513e4babfd4529a16f6187b780702f64fd4712b78346a78a170edd3bf580601c76ae9f6b3096568ec67c4a021415b87463af69b52e1720a5caef9a0c4d0c05d3baf4d4f2b1617e0ec9f998aeb5cc2918fadf4ee6e0a1cd300f3e5fd3d8ce9f91c62744b347ce6d403f1b4959c563258733dae5aa02be254ff1a4fe7a9697c83b4254fd72df88c22dd7eed1fa046b0fdc4873c6221498aad271b62877bdff577001ebbe98df68572eabf2bdaafcea17760dac8a93b1e097e001d2b6de16b7c2ccb74f53b945be322e67115f43316c5beb4b03a15bac0fe5309607bb13df60478813b03674f05cfce3e7e28768d45004f4c0fcb4e4e653b1a1bc024a10927c5d012e588075a9f564d54f94e34a074fc4e208a96860576f36927c424d34ca65429947a0af71e2ff99b8a0cc907e1beb69f9343c2ad6b35ea3c50b8129ecee7e8c95663e5021bc76e398ba096ae570ca49ee81d3df120a575ec7a07fb3dd8b8a775d09bafed8c3f3922b4c4cd3a3afbbbc4c30bbfae0b5672e3da3601dad2c7aa5596a7456b705b77b1c65357d1b3acdc67b398efa4a6c4864dc0fb412e003ea7a640e80f79eead3ce68c335546556e931ac59e375563181dbab4a34d778da7caa54251f754d2ccf20341a95f086eaa115bfd12f002ed363ad462193dd0871d500537be92967ddf8aa85c66fffeb7f1312caf289f0e497ccfe5e34bc8b7b2b088076127f8d3be44076bb938b85b8b8ba13754ad66b898dc6692d8430991e00acecbe1d98d1651c22dd2331554d18aa9cf9794a9762e58b6cadd75718696f41649393f9c4ae856401ca42dbc2d770e699249bf2f35ed3469668baef02cb4786b683452c5755d9cdae49c21c8e9ac8ab2698bb86caae47e47f1bb4f17bdfa8ee3f9eb830a799bf4b11e34d594640203ee9dfaf1018bb82c41e5847f1f77577745a095d948dbe2a64b9c59e32f30bf4e3f1c0bb47bf54a9ae82a38658e324a08b21eab56a918f9d67218528a5591f88a302547f25ff7c92db1bdd2b0300d77638e4be27b5a899a591ceb09021097773463b50472fd1eb56379a8e7eb16122def87aebbef5904f6a8fcca683b56a937b8166b47cc6dff3e28c5e530e5d7e30a569a765cddf968238586394cf1e90a59d07ea67ba90967c5c59f1bfe7c6415b2b56edd2cbd931eeb1ec5863accd795bde38f61fe0d3e80cb4904b493b517577750591f9f3c5cad0326573a3d6aad47259cf372040e903d65042cb9a76fbf31f3ac55ff497278e1df9d95195a92a2aa05f1870dc84c100a08d57e49a1eea252b50584430b18ef1560e0ff34ef94cbd47e34c6157c18f791927a7e5e30af70d36409e5a846c46252e3b1b78a3726582ce03cfd020c777c65830204d6b353bfe04a78a5422b0e37d360f0a4ed7e655e61977020623423905ce0d5c70184f7e88592d20ccc6332f64eb1e56d66966eb33ca6c1e21ea98d1c2d52d722856b33451fa92a5cdcc9350798468b02b76c4b8aeb51fb98300bdd9a5c264aadce1e49c985bf76b99352797fc9aee6b0f5f5a4f4c128f334e292b9cdf53b95b32755677ab8ef39d67c075b46a6d8016483238d8ddd360c279528d4986727be38d74770bf8f8dce0854c3de418db90249f0ecd351899f13895ec17544316bd9624acee14ecf546738163c51f148e9a5bcf32048652c41416f03c3ccb65fc3de4152effa816b3faed15400832d3f8b21a90efebac58b10e4523119caf3ff960fd8da38a9f9e4537b5785a6ca79c9a40984c275590afdfd5d47145bc1fb507c05e51187a89083d27530c8e6fbd90ace66d85a6e259e2e74b9a6486a8cf3f55468eb4a3f29c2cd7d02cd37ac2cc66329b45b7a52be1f3793b180b862539b33f498bea27ef73b47f2cb0c34fd47d29da7bea3f57b2d39d23aac3d0ec8445dafccd21173033f10fc8ea10ff96998a297b05ae7042f770ae308105b036fe942884b7672c9812bebdb399221ecb8ff6255cce548a020060d18d683f96d1600a3937945bab0d1ba4873ed44b978c23a9f70e37ebcac0dd8b6ddae541f1429998f89bca21f388b4859dc88aaf9ae0a3fc7b92a7b2f6392d9c0a82c6528b6bf85bed6cb12b715c9bf34eaa2f90af39d030c63d5be39b685c65f6f673fe1a7c98604cff4f6dbac4adf1736b8d76b46f08190ece51a98b35c8e853926bfebe432018ff1ff230819fca3d0434c65ed69edbcfb9b11806f2acba1fb7bcf945bfc9083c90ee7bed15660eb4f3c228465510f60d1c5f448dbeebf26d8d5032f1def2d185870b34bcc864601d0d4c0a88178ea3f2db86384b724703d0284dbce2922120f47644d8b1e47bcd74adc5d4d05b6ebfce2e5bed77323b03c9a941aad97ae64d86b7f14d6b458f9b624f86cf2582028d4815ed9e4a94284fb0302b038bcff0d4ed116ce24d11d2b0e9f36cc8c60a202bdd618414b192902504e3798c08d8bb9cbe30da129dbcc9eae858380aea8afaf184e92813b1178fc4d81be6ceedbe88843e815a8b55f0ebb5e5bc175d80b514f45b4fc5ea19fe6e100470f308e8211b160cf367998e2219dfca5f9585caeedb042ee01c25d5c26039f6baa3253b73619f04a8b13f6588fb78f061ae564bddd7e15482484f6184b355c5ead56c0b0f20abffdc0637dbe9182f6fb073fa8c311d7e18a2732b00b657dbad72e50cf80dc6efc660e8dcad19274f6a7915e0e70662fe9b03c3bb4fc871ff831855f125a4e72f84e951551acf9d4fa10551d4c046a474f7b4587467c5519de144e744deabc4fb1ef882929170cb7facf0578e7b9a063ff29d474baf0d280f18ce45584ea1cfb34959dc390b33b8b18d3d1f76db371438c3861a8b8f4783a93db3dab6c22b5796cb7637ff92b0e06aca457b5a73ccca2a23339ed0c293ac2bbd0ef851e31feb1fbe58a50f93cc28a0c85ed2fd2511bcd6c582156cf506747115c02c353389f3650a0d6af9b883ff73b332b4261a9c608465104b8962ee29af7909481277424b7537a98da29b7506a5d7a580b4e535bdc7409ee8815f11960ec457774e27f86c1b7b0d1598ba5f7dacc43033cf3eeeccbac8878908a39f40e89d487dfc55ef5ee81c4db00d1c9e5fac26ede861a7bf1288e25b90699f9b2daf8b4dc396bec7f8a9ee50c0cafe2684d3f3786b11fd1ae55360293bf59c8e10ce6d420cba56cd056f0d9453be0d50b0923ba131aba509b58ee3fb2f42d117a908f26869717d1d2dd747983d3d6834b0ab31a2bbce9f1bfb04abc9b37e4b4f1fb25cb66a64265ffdfe3fdff7d27193a70e159d00ffb9ffb22e086077769342e1068106907fafdb867594884af7384518669277d0a29886bd411364bca5af38d95af565c5b7acbddfd926d9bac903afc3d8ffa9bfbd420b67cf38b3062beae37c80ec24ad8a5838999d0b0d1af16b97d05368398f870d2bc7411a3ad96fe239374fc2bf35b61deffbb76325a78530960657cecf9be1e940bbe0b4e20a89e3142804954498dfb73782fa548be445ddd2b687c9b1cedf53b4c706c27813748e755b88b33a293f41105e235ff7e6f791bba85bed0223893684eabf83178ae873a858b224c2396ad78f4d81c628e5887138204c84038e10d1b2154e21d78d4f6bc5920b0b32289c2949f697ee875bef89e8fae3949f8f1728ca41500349f80dc1dce996dde26a92aca1eac4598674187f8c3eba3bb7a0e172476c759296dac513acb2555410480e95b79e30ffb63b74b8ea2d6acd6087fa29c5a56a5b677af8c4bfce13d7ca9ee7c199ce6ed212038cbe6d6e77be73af2172ad67ca9598f8ddcbe3ba6f63a0223584db057d2be3858d7b987230789d52dde33048e4a879d584db584484c7453af3ca6f76aa30e1f8bd6ca56d25b159530c312896bd2721090b3296871b42ca3b247b19e709c562bd064a4cd252b89cb4097d0b1096fec51cd4fbc41087c560ad27199c47d1369c99e2986885b3a83fbf52324563ab0052453fa478b26cfb6441afa83a6b3088430870e294a13c638ce982c8bff360e0e453d3b6b3443d3145cefa1f197d6bf3bdad6ee98ffd0cbe61caad1f68a967768aba5b542195480a8b2c4a745e2e03c7c2fe2077a1307049ebb47dcc16d7aee192b53a099b9e68c691b7efaf918fb7481fa51abcefca5e25caced9b9c9ffb8c824e7e441c06b92cbb758dbfe0889d33d63668ae33af873dfe9111ccf11129fad93c04d5b2124aa67bd175885d07f61b717ab8e2d9047fe85dc1a22e808f34e3bc421707685db9e27b21171d8007f834cab92b2541159b7a25baade79b55ef16bf92bd7571130c7b940e049b58e5d2c425c010a22e1cec66dad7525df43982842a1e088f9b7aec6744f3b9395e00d8695a5aada8e27ecd12396b95754c4bf627545a4a08a49f18d5b80b586c3e05a8c3211dc74834980ff12a0eceac6f31d43a58540436cbf5fcb42c25b1b153903c9f72b713aa275dc18e59a574b137d5a0eee7a00618e192dcde519fc898e54266b5a995de8ecba617ad98f85b59f13d439d42385f0895dff14bf9d0788f2d443d033136f5408c8faeb163dc661c7819e4299836d3b8cc9eebfe047ff465ec7e647081a1c602c94140d6901a9336b91e7f222279ed08457424980a0ca81d52319f5bdc0e78e5996c2947017cf5d68db762559627ae8978e4feb64120f0a1065ca4a40b5e9dd656ca5722d6ee5528f64f553a4540b3c3e5ca4aa027969aacbaef8eec46555cbc9c3fb44823f262fb3d2b06b152cd1b7da86cea6e236b14eb0333f7e5ad88bf7ef8801e628754e13874bee6b10c004cbe933a812b37172d8fe04a5700af0d3581c2e9e0798ba1cc41a52ff2802d7599b79e7544edf84da69e1a9b405ebf868a333bf7a9bf5092e375f957ee36ce7f64add99cfcf5f34bb327a986205baec1db5e05298c3cf9c3850a24cbc7f42d70ae445b24a7ac30877d0daf0f209297fbe166c4935e433487e3889506c0ab711b873a6be32df247136af17dc49e45cbe036ff8a74fda611f152b3ec18a0ea47b3bc3fa341c9e5836a1dfd7903e2d3e8aca7191b507c3383b0051492900d735cdc48e2ee2bd39b84c00d2a005f75a1f1d9ac7143a0542cf98ac9ba3308f03d280463de79d8ad32619c609ba70d930af8b71c639ad23ad9589b17513dd36ba8df282d3a1df19a4cfab02794e1d9dd4af7c7ed40a48bf4edf451b0a0af49a8667541b4255a88be5b3a823647bf1c1a3ca91bd8b1147cbc7a20362d28ee0f877832102003e530973a1f23f23399d8d75548da7395fc69ab3432f7dbd8b1c9aa11beccaf54f23dbf645a64ee0ecbc516f77f410165ad87e0c1dcee581d7be0f5596acfd9444bd1e6762e5d931daee850eb6cb9476ff36189113996d1fa44bb022ffca8004e73bbb325fe57a0b275c05107f5a35fdec9f088540485a86bc37bed8fa08109d154f09d349beccf891612711d168c16679d1d842e68b0484f04cc806404e4df77898afd90c7a8ed55282405877e25cfe6a8ad5f78b842004a34e95073c73957d0f1a1cb5f68a82b322ec9c444d4c0299aeb5d25e841f5329e196d597323ad52267c21fe038c0c01ba440fac780ce9ed84f0d1917131ae1b5465701251d51bf47217f575e7c59a628be4723cba50e955630e7610b24a7aee250323dd76973c1f672c28a46900e779956c27f58ad5edbc1353d26a2568c54b03014418535bdab8e4d4dbe6224419756891afb6ebfc63f4a552a13ed8cf44a3ccdfac7ecb0f5630bb3de3514ffb08c7b1ab9c1060d7a7236d7a7f25f3e64318ff3c42823b649e641acbf621da8918f0ffe7a0493bd6001824b12ecf196daee613eeb7db4a6e599716a595c2778d30bcb29f81e86f61397b302e9edfae0bb331fca2c5dcdb71d93deed8f154a83ca4e6c1bc3bc1de801c72e09bb920884aa6fc00577ee0de3d823fdbbf232ccd19578098a0dd97ab4d7b4f0c67b8aa783645cb05b5f5318bdd27b60ecb7375398c676ca0f086bf406f01312fe397c66073f475b6be095da98f24deae94909e842e2e41d7bc4dff0b31c9d31431f976114bd6a60fac1aca45ac98b325527c8e9386f3b808f128ab5f783e80ee89dd56e743a03c6970513809d460ce0f630a6942042c802f240e976e0b61b18acc857bdb88617188da373439d9f8cc12fac1a9390f4ba282b0b44bd093b180049833e52b37bf3357a5e9579ea0e7157d928e5f9abe966c00133fe4bb113927ef382eedf8d22217143692499a531cd8ff0f36860d636c592e623a1e2b5989cf5bdee2bcfc678cd628516fd9e9d25f2700830a4723eb98750296339d8bb1fa9da22a979c63f0d0cfd128c1b28fd5ef10a58bfcf292971707eff6671cbabeb2ea4946cd2bf0fc0793ddbeeb3f7f32394b5ab35322737f3807b6704717e65309b6e8b2208dcad490cfaa445b408ec9b1d6b4e2b1127e0d9786d7a3e285909ac025ad8be30b73104d1e4c00ad26f4d31f6f55e744a30f02b2f2046c039965180b75e2ea625ffc8c5750faed722bbeb2a44a0e45e50abe5dee83d21c78e4535132ef770bdaad65b793480b49f9e93ea6b2cf98ec67dcd0bd12c008b93d22480fff1025d6f49867efec14080bdc970e56a048a2ed253f5a4ff61c95399bd2e388283f9be63ff7c3d96834f172dc60abb146d9ebe76bdce87c516f3c75d4b3955726a32f2d8b6c0a4beeac0db6c68e59dac57eeed6dca9f5532a047d801173e22ed294607100cff8bbb7b9efcf76b62af84d62d6b92f5b66261a8f330055d961e17fa34c0e97daaf9029e434245f87afac9f3e9eb410df3a9d49b89ec170b89fff1722e7d336c3ddeb6455c61701cde45bea1742a8b9dc75790d3604d2f38fa745c7561c4d49e2574265df9f0652c1c59fe0faa80d2d89e372faea4a383b97bc9cccfa33f362190a620855033e075db2d573c9754deac0fce2df2fea7d7a6a2a37071faa2f96fec5f5881bc72bc880be75949fe359f4d073475f05a2d4a2192deef0998b2f57aa936d375f27323667e84faf0091a6d5c855ad14f1b0a28ea3cd68c3e5b9b9b5f43108811f9853fa836754a7cd1d6b1beec8daa23c3d8b26560bb65ba24787911efcbdf7e365f83b907494c9ef8271d4ca5d318525838c72ea883da35c7bb25cdc1956f81cb1abc38b7b62fab411d0781c93893138ef0df1b12916a16cffabcba9c1b2e6af1adb773353488d4362160ec8c7e0ae1e2a559deab94488171c875bc41af3af6125759c4d8c0f97085b02b8c22ff459bbc5d8a478357264eef3b73ef366fceecfc1cb994bade0be8558a124fa62d6b2369b9d1976d4bbfda2b88acf05e30dfe6897f17c95f720e317357d058678b08e78d1cce86fbad58f9fa1ab4be93aab70bcd7a6c034fd30ad0f26410569159f3a030baaa17be6524ea21f08fec817fcc46c74c4fb71f27c9f78b296759814434e87cffa9675840e7337710ee2e096768fcd371e7cadd32549dad8647e3453f9dbf68a780c082ce78f13204ad4132ab296a0596345d3114919e611808be8f9a7f6e059db7dce5ba7738cb7bb33cb3199d3aaedc7d2b1d50c99348b1f213677fdd32b11029508686a5e1b1ab88a1c8626d3929fbae69d7a03b656d773cf77577ec2c8abee6b5c4ce94d1aa7001c01c3d6e3d5e339791aebd5d62a3e41686ff802b0c8b381433ecbdaad02fe2b24b15d2401ae3ee11ff81492e9f82199d75345b81c13681faf74c527f421d71462f98bcc3c3d787870717ccc90f9ddec191c7b9120b38260e10a85bf07ad6d3ea971738975c80957ac1d60229308ce959d22cdf331ffb39164e14c455011c8c04d62730f37f911a903b7ba0688aabfd04fe481690afa72b068bf9e790a3b64d2cbabfcf30bfd7bad82f65f07a93b88aedeae456e8ed92fdd208a63e8ed9eda3be5631512bff6368f49a5aa7dbc9357aa8a1f7b10ae8900f88812f760fa4a21f3bbe8795e7526a444335a58129ef547e1176edc229692798ffe9c2d45e0cd4675240289ff2a5c9b0e0e200e8f14791e6b90cce4dad4a5d339d482e390486c9a595554931a2d861b2cf4bc68921144c388d56b8c878e1bc35e1975c10e070efddeda091871725151b4c7253dc6b86e8c2ffffdef7bb5fc64a834348ffdf59f6ae3afa5593403360326afa8c483fb9905141594795b9ef429801e60aa1dcec536bfae846961e0006ca69a1d1df2fd9966a108d6d5d66e60aee2c782e4945f381635ad439542007dccfa8961868bf1a43e88255d74351856ffe575578a2416f16c749cb363e79cd2587755f5489b65c0f9efb7a304b27c85321b1fecd19a2f8878aa7ae4a12fecef058375309e67aa04c92f752ba9019bc7c65462beeb934248715f0e1ebb0aded2bc69fbc59a08f0835bb1a5b211f10249c9350fa64101e43cea71be6e8579cbbf2d0411349c60d230fd2538af4a3806d63cc648b6a7c324475ac0f00faaf56c27f7f9ce78dac2340037b797eb1c57a28d9fa01d27d29466265fa723ea1c772e66ecfd893ced66de5f9a15f03cc31cafedf4e890f78d71b91e1a88db36de183d6bc11a6eff34cf09ca3f509cee7e899f22e2d1b07d80dfad3977e2e093dacefef23d807b623485842dd7453e607dd4c36b0b8c3ce3519b3c43e3848a4c53d97d7322c9e61874b77a0c88db4b83136657ee2249126b747df765766c5a5876fd8fcb4f657035370a429c0e499308b88b583272e90ced867ebc5e6fb9bba1a3e2636ec6c4f8d2bc7e08defb3ab08c39c6a2b1d01fc3192183a615c5fa56f53899038b36c3cdea12665169b196c297fac6a0f318c3278eab5b95e58718d1ca2dbb58f4b05bfc2146a07c05f6426f40ec6794a1c8eae2261d6582f283bebd93d5e397063729332735fbbad8f378e3b4fd886ad07a9985c9c49015a48414c604e357592e2333774f7d8058b1efe62d43482a8adcc945d18067f66f7567785e11f01dbea147cd024a8f6aa24a751c5b5338c0762f7fa13aefb79140802c8fb49b7d8e3d3cbfddeca098c08d6f2a1a33baa6e1ace24e1ace1830b978f2a26086b2ec019af0f79fbf3e10c610c693d5a5f6966346fb2a311247801baac48225a81620fb69b098fc5da2b0658c6647d943fba9c896de3854c1f42164b8a5a204b8e8f63b67ca4d3fc2c98a23fe3805e62e61ac605c62d4ed5917503ec37fa68752cddb90865239dd510a2b32dd88ecbf327ac4316341f60fc961270da13affcee2a488b3cc9e7f5ad79fbbce07e30fa300889c36142c51da4c1bfb95c05370fd0229ff3328334809fd1aeb27780ddfb6227bbf2b5cb6a1be04f15473a38377bb2a3cdeddfd7c790f2e90ae42a0c73fc7d53eee0d66d98799ccbfecf11bec7f4e40ab9ad8b08623885fdb253467925885631e6e386ea3a1c78c95b30f750a93a6c5c0b4a1649cc90f3569ab84fb797b930a559fadd92c9d2071e81d4ea05b8b42cbdb878391bb6322d6e00379c43196c1fe893a7dbf2755f755463c5ce96f2a53635040b20de8b4978b86ccf148e01725173bd196e95db7f25edc983ac4199754e74481b4bbac301c9591c6d1918816e3f2bb3ee456ecd86246654b08ef24b0094afd2f97b44a05f38149d768f04ceea560b9fb05d1ce62f78bd9777c67f13fc5d787e5116593bc4651f9cc828cb3c2074f1120b2f214209fa265d794f9b9c0380a37158f56ecbd852b6b48d45a38cfa1a1d2c2b45c3ee003165689ad8d1e0883f8b20c07bdd520ff3e4e28f72922bc3a192d62a189da00edcba8b87bb8f312b6f24e56f06f527ae27a6547121f5d402f4fa531695f82d47134fef394ca7f671ac6180c2ef4e6501ec53d913f8a6904b0e00b93035c72fb99af2ebe959c818d69f063a7fefdb8b6b3da534da536bcbe6fdf2b162a67c896cd184af17b2536f9f945a8b8454fe7aa5d1e1f9f50b8484b129d75e60e8ed38342e449dee1ac98f9fdb4a23050c5164b4f00c5e06aca2fe094a1d882d4d86faa4e4c1cf16a46f01b9735381b1014b395ac8232ad95fad892dbf812b4509268cba1335253d40a662eef52e14557d8e42656ee8ec021bc2dae88336c2bb6f691cd920f970f9e47985acff6a0bd132a607a9b8bd7c5351da5e9fd712cd70a944c0cea073ce989e85911d4d10f5ed3257a5f72d2195a63a24bed6fc6db22ff3c3a6dfbe7514ebc2b5737742182395f30c0ee9c89ae4c286d2f73d37fb9cd3ca0d83f6c6c1c26d64bc9839090d0ff820448d04647e8cc434e35c8eee32249adfd0383d711fbc7b9775a2a2d450e7da8de2d373f2476b5cefe33bdec254ceb680e545194476d8a99a89c78a97ddb68f2fd92a6d92d2c6463fa962778367860131046049f267e7a9c6b6172085aa93ea82092ed34bb3f002d1e004889f6503ce0d46288434f2c06d657101ceafc3aa2ac5da2890974e00eb23d6bcf7a92f5b241ff17b6d47ae04392feca4c263d2b11a326fd5fea2058012f9e8e5e2fb917a7c265b16cf9d7834cf0a8ffed287ed59d5462399972817a7eb3c5c5f58d73b5a58e5d3aa3a382d3b37468832412bb5022e06a6820d6fefaed441739aa9450d625891ee2652f65a5df0a814abb0b1f6e1b53adb26a33faaa3ccdf7173c64b49237ad83252448547d63625870d13be7dbf1e767b10fe4cb4639f4db9821064b5f9b3214026bf1a72a6d8deaa4a82bd1408272870b04f97a9cf4a2a0eb33b3dd62f30e6f9544268b79dcabf192be4006be11062fd0945620376ed23d0968c3fbcf3470b15ddaf9a7bebef0fa355c69a889348bac0c5eff210f0df679b1b54223c536ae28de0ce72d289f759600566ac91d32edac61c4c500a1336b6f8e388f6d17dd69b081dbc3f12e224b85fa6621a2309b373ee8d4ed3a8cd31b7d0ab9283a92e342174db1b6b0c2d4ae80fca29422ddd80a6d8414b0434b5de1b4e7f869a9e6743836c9b8391ff936dafdb5c818f4633e79bbf0e8c3ca2e8e60d00abb54f47c5a61682c393c51c342dec3ed72bf5d3b27e522ba9b4106a41947a138fb4b73368d95f6c4a6438b1b1cad73c61c579ed7ef8205c75ce65b43d7f0b1f91e3c604b8d2c548118186ac0aaa685f843fc6419206846d4ce0aeec482859604cd87e967dc7e699258d17f2dcc9e592d778424469914e1ac3496bb7ae92747ab215baeb5eae0d36e3cf7ae7661d6f43a0fe11a30cd166a5fb49cb35afdfaa6e91fbad47c62d99758c2d03a3e5981f78994bcb4ed495f0ec4390e279559837f53137a038e159f223b4f437098bf8da4ff43d76ee7e86df29158ffaa5afd97ba8ce1860a4ebbc4d69bdcc0d3da20bcd9c357cb48d47a975f79e4338f75b4fc16b7ee8088ebbf8b2c8cfa52a96fb445f1e2b302c0d79c575906d727e53977e339ab73b0d771b48fa14df86a1d5b3be859e70d685f87b62e01b10fcfae121679531e3862250fe91c55e1a48b460f2e81382de8ec72574e243d9ad8059c42eb9b1ab498642f066389863e79e4152e5fa611565626cc1fc72f0082ed9a995329d5b382ee7b073efa7ced767c56cf4cc242d1ebef28a7ce9aa4c84e76ad1df27497f77b0b13239428b47076bf704c8295f8b835698c2e2d58adad48e303381044ff2fb69152b594a59cb29a41b3f3f34ea29cca214be8269b74e869d4719956a8dd4aa722af2156f73aa2268352bdebab58fba16d498bb95dfacc5657809f65707030c4295462e07946576a877e25680ba246a74cd5e1ac279d9e588c33a434748d324c3474ba80852c54fce9af975cd34040f7a50b28f085fd5c1b7ec9aaa4cd915b71ba5a52071abbcc309c049546c92cded0f090bcb7a8324dbf2555f6b6a77c486d1a6e0dca406107fb7d3adbd39c1080a1b5c392842f543aab5846939e936c3e1a1ba5b8f3b7a5df9efa5339395d22506134805c3ec18d0c1f513693c517da47a0b3218a4fb1c632cfa1ffb844d4d824ae771335919bf5a5feea07d7b7e0bbd283c2fc44c66cf8d2e8dd972eb2607128f546d16c51f51eda398b958a755d079fab55cab348c8b934d149b56b29e558dc87cb3678f301b7e44898f29395cca4147de027aedb8cbc1a706b6dd4f1838d6089cf27d4d852cc3c8c920e941e926775fd181fce984982a2e6f7a5901bb2eb80e3c712d2ad5ad9aec71fd4bb87ca04e95d499ff2804fb2b9a6c8b78085b0cee53678d127958eed27d139ace62bd8c6fcaa38ebdc2f86b2e515c7eb7b1d15ed917bc4521756ef7db130c1e53737d38244f39a2a262529937385ebcb853a2dc1f711d0fed4d63a3b324877ca6d9ee42cbf6941fcfda88ade1e3317d70d4ce773bd5f9454b323e1cf297055c9094b924b63912709054ad95989b9a8ca81ae491895b41b47070c4aad71076e38424172130af2a85ac96401148ea678ded425465850acd935f6288c35e9a3a66de3f5b4bedb7f45459e867e4cdbfd16c6e52392040855a219bf7a3548aa276d8b0e9f3de87ca44d427d1e8b71805cf49d0e0d45f3fa06483aaaffcddf53b85437bddf8d9c8f4fc81e5e663b109f9b9e5699d9ed3be12aa9b142b61083ac0bac3fc034e37c48009302b4430d9f72137aff3132f994f8d285b125aafdedcdff71b03717ac5348af76a74aaf61b8610e654987a07e745bde5e9a96748045b2bd4e3172fc0c2db35e2b2509f91ee17e1befbb165ab3279c27011a333bc2d3f795e35d6f4c29efd92aa3957812d8c86a65ac65c282167dcb500025a85a6526877285ffe24b92d3d2f17451e26ad03a06af60fc45d7176abea4823334d1c1e0cf10cb8f74823c976ad4514221b3d0854f4b1bd763425cd8bfc6d19687460a5a06242ecee16d0425c128aa705f3863b0ada896e9041ae061f2b932783618ff4e8d2b6b78590c572f4924090f03e2c38f64684329e5368ba01a920197649a4ed8d812c41387cadc2dc03bd2892b48e4cd04ac4e370df1789a0a9afd19ef8317f8a50636b271899f58fc0763d204561d58dffb22e3fd9b32e37c881e14a4c58192f33df70e280fc48bbc26d5b4d406704a2424177cf541ad5e50e551eaa3ee17b38136b82b0263821e58dca0a9b314ca72a70d4497aba52d0f8216d87604d8d0d3932a4bccd002484e93d55bf5e6117c888a6a0c279f47fcc8525f8440a2cdc92ba59695e7565687ca7078c4962020940229ef3a775c2904cdfb7588db8b7a5b416e2e985362ea8c17cf8a7ea11fbc3e8ae4f63975a555dbdfd925870555619c0acdd650f5a6c14258344b03f988a5688331dbd6e718c876eedc40b3b6b91e107f072cae0d60ae5b36196b05402b0e0e9b26e11e9dd19d2470bc2a8bae61a49df28cc3a14a347da6c86d2ca6e8f1b21aa5b38fa85404af1c24900c3b52d8d42e687735ba06b2e8bf9d2b0893690527056d4c9a768a270c826726796abd6062b386825987e719ad980cc16d7ddc2d42744d2295821d25664fbe53f065087ffd1a9ef85c6324a2412effc9157a6ea83f41380eaeda9d084c93869ab117b07417aa2d532b1826744482451879bd5f8a2cdf0cb9fc0e292b5e86fcac43f97934de30aca4079c98e77d1ec9438cc5c511bc92a8e7b932dce8cf04906f83a0261e687f765c20525c588357c59fc720e638a10560e693c68b0cf6e6e5bbdc7e8993c2d0808b6ed5c229f59d4030dfb0b777c600a8fe9363607975e02cdab1a9f0950a2770ffd3c05925c63e8aff8bf92709844121353fd112174447cfedb20e13cc59cc182fa2dd2d2f41c6a788efc1186baa5350cb4035e28b7536e5d89fcd0ce3992db371a5624a9a67bb5e52a8b6ce0efa8e6accd2772b7127215ba0b4d5794e8de59e875bedcddda8be05d6495ae9505674390541c588ea60db737723333124847ac177af7cbfa0906596c284cc491a8b39a014fa26e105a95c5da5405dfde3cbc296a2c4445833e9060fba45a334c128f7d6ed2618f5dd98c060c34f5f6fe7bc81394b792c1c1c7ea210f746e444de02008f8345bead96c753ded2eb255923735e5497a4c565f242c4d4907da9bd340ca58987c5c65bcdaf743c4b8f5df9a78c629244b887aabc80909bde4af25d28a563cd7671a3a1f198fb388677fa18f2f5d4124ad925b42357151cefef93e372361a5e864dd95c3e9c918e888f5e4b26715d3516a910c88357898ef15c81d4ad0d45a5740145c1dab9ab116032b3c1878284e56ccbbf0704e2bef2ecea3141299c4bfb097aee98bbec7b6926dafd71dc003f5ad1149371829f812baa0fd1016449e6a6679bce62dbeb5bc684882814c3ce12d13e86c4b7d50b0b3b0ddee55c6bfc8ff3f5037860a8218d2b7d256d69f6f7f28f5f902e8b5c8d8d999b05b9afdd1e6789633bee00fd8cd49d9277debad3b35e5cd36b860713a69271be1cfeabb359a83ee000a8571687879cb0c8fd5b506b77b6d6d6dcf99af51645d3513a4e3f0b8c898b12dfc6ab434b17c57ebd8f7ea8b7ca2b35f280f6bf073a97f204cbba82e7ad973f868e78d43d4614a6deef9f8a15744af0164de6b7644f5a73ff562f9575538beffdc616f77f5def913bee8a3fa8229f5a7c36aa9d3d72f2d291a5b23bd6b0fef5c1235f7dc9c34b53e5d0ef4b388f67b084d17969713b2948dca6073739e7972830118eec08c462b532a56a663dd00d6810be75ef71b8f7838470390a1085e24013dc5526f8a4c9d3e860864ee9336aa8f2d698c55f4581b7f63944fb2f81e49017a18084a2dc439c56c652362648533adcecb52691eb4b15009138b8874921401666648d3ccd0e0cca27bbb72e9880750c00ba5186fc240bcbd411efc558da4be8351a0411fc5200e0d4511a5399bf1a17f9093432522efdf55b7f9404c348deba406670fd58beb375339bda68854766465a259c2328c2bf0320dd797bf0920bba6084a617792268b8f4a206231d57a120ddfd1db2ce97b465f07f1c772d0195acc7f1cd2948ec01e8b79911e726570a0978f61c0d146a14eb153d2a9b967e61f6c928fbf89a4a25b422fea21d45f1e8e76f8d518e42985a91270c2f38b4b9776259c281f757a92a88503e36debd12be244b8f5250605ed19489ce37e2e07624255554b0bb7f11fe04bb6ee136c49a34957b2806aa1c943cd1e5ec79923ef6a2b3342147f1cfcaa44294e0aa8b0ad6cd37eb35dcc5d9a412c1762d51affb6155d828b233509483a10331e2fd201672b9ec7f1bfcd0d1a1c0ffc36d8bfc8ceacd19a885f3dbba01261c2cc4a5655a7a826ee1d0bb6b8f2b6b03dadbe50751fb32dbed698295342df9478ac060262872453837e983f5f98926ea90bbdc72805f7392c165acffbcc67e0ef81c1847df996478b18a8b9ebb1e0b03915a05a3b1c9cfd6dff13cbcac857a04b2fa72daf7b1f3d198bf5525aea793032201f58e562fdc7336c6eaa2ff1f09e8440772b4e2b79f1a2a3eb239c1749540693f9ced86b85f8d9e7f55792565707d9fedcf0daa0d4a68b823ab5ec38f88a7b2319d92cbe81a7da0e8a5e9706c4c255f7ae0cf3b1f55c45bcbc8d17e5ebe1d7be7aa7d507e3a6c5225b267863ce4d9fcad6a8a402bfb46a4ffe6e4e96043aabd11b62180d062c5074a583344eb0747c3fd5c1bfb63c5abfb1002e4b6e2618b65791adabf58b64a6b3a7748721794ef1661600325f45cfdc0808b52eac794f67bb09129524cbed4c92472f06b3e4ab7918ecb958ed4c091a3298bd35cf1d4ab1a31ccb0ffab9a4fdaad43f31a4e551c33bad32de4743ae67587fe9b43e65a1dca2beeea7addcd6b95750bff19416e0cc32cd00e8f2b1756618b94c91d8e4f8a257a7d2872bcb4749a43d3c14e0e28b88bdb43b15f1c597b715ef9e57a7e2eacd8988c67490ada0f1f00731a9dd4aa4e5140bb8de2834d38ac6ef94896f99b3ef7d48b4d8eee48e86f6729e199b8c8631671a90278aa5efb64fad7f0664aeaf7f32f713eb763f609d839a4a227365dc25716a8a04dd0908b6337a372b046ed6bec84fc3d19afc7d2de22744d7b1c70c328747762e4ab6a192afec1e6b4398d6049064830c33f2cddf6aa6d94c9ec19bb062905c16810dd50153a0c848748e89c717b7b63600df75c897edb63818d41530d912cc9cf89dfc8fabed3e7914fd66fe1dd86be41a185c0f10d9bc48a3219cf88d566d2172a8b199c0c0b26b2492b4a97356f3387e3cfc54d025b0aaa2f60a88d6278c11308d9300dd2db4884311561ac18ab15b90b87678704e57f5fcc0284e255dca88c91b543a75ff623fde9a57f0ff348c4db7c2f2d4455e2fcdb34fd773e3461ec3e87899a84c896a469c3efe343259fd0fc9284f4d9644e93273ea7aef126fbf0ee1855758b7690952718e7b2cd2493d5972b0b84d9fd943a72f26d65c478fb55e8bfd4e7c19cdff32009d53a30e9e70754adc931997499c48932adb076e76a68886f617afe6079711855aa5e1935c5b5445e6111d2774177e803e8562563deda3b3cf04bee6b94e1ce3734f843cb5849c2a6ee6d9f35ddc6c2376f3b2b127e73bc878eb9aa6469192b04a28b412c2db3e76ee9fa6ffc7c60abd95162fc25ecef3a181427e6bb3e123b03378ce99d199dfac233c4b09fc6d7429e6ef5775fbc4c613d4d5d6c2b9b1b83555851f607c0272e8f0ceba1de709a30de9b19487ca03b49bea301d2c705a8ada4aca57e6485c8f8a86924c5b1bbc615366f6da02c9b4c288d2a846abc1f71d34e0314d1683350f1679648dcddd75828657edee9b1f94316e86fb8d05b236ff86860bef08594a2fe97ea782c78647885c5d95f7b25febed573377bd3cfe9f3f3efe81afea454bdfcc70a8fccefe8b7b1cee8a90c077e1fbd40a1105caeac02d610c3c06d5d061bf5e3a24243e793e8947b2bdf3b497ac0c3c77e37696ad62badab32aeae6bf2faf63867f4546fe1079e2666ee89762331d046d4ca4b50d0bcda5ad5740d0e53e024361fe44a6777633ff9a8023aaf523ccce1d3258d7a79e3cf46c6bda38fd72c7ab75b82e73eaf185524d23a48055e4fad7a995a5b73249a155a1a87d798a541b7e018ed72d4072e5f83f882dbd12db1fd3b9f60677b6ed5faabcef4130435b7f3514d93b36363e03cafe4c3e9141c39a83de25ce6613f1dcdb6af123b7aa6be75007bed5e8e47b524dd4a9933840641703453e557ed95de355acc662de0188b0141c9af9d508e35d4bb464fb01d59c72b6c1743fff8007a8f0b2e2f39cbb291447ac55ae02fa24cc474df5d242483a4b0cc8686fbe9a5347e030773cd6d94686dc5a64c80d99c58c054abff869746fc39ba6512b4973ab1ccd0bade99baae15a17c58da733fd52b79351c293e214a3b0dd8c2fb3e11ef9dce2c68a4e10bf2e29fb973be68d31e88b52844847a508276200ef5888be7b7c56492b7e9240a35f2ce0431699c74fb1b8e98a9c2371afaca21179551ff7480e19917f5a4f642a9a47213be5fca6c2db4ca1e9c783277df61d3e42948205a4ada8b914133320e4b5d0a415c046289671708257586079777484d90805d8c7c8fd5d371efd7f7765d542285eb5d9d8b76cd0b3d971f6ac4254d73f43c092d1b9b3968b4044954262d58c420f6b575e8af86ccd2ea7422b6618cfc5e2a93f4b1e57c20de9940a515a5893c4de2caf9d0fb9933eb176c3e73cf7cf0a986ed15ef8bd4e9e4bd8ca685c9b5750ad19b0c17bc575bf1ee2e472c191742723b433618184032a54daab23d5a889faf217a9a36eaff60be1e7751bb865e00dd9d889a45012aa8c0d19696fe248e20781c34cb46a9fb86f3622d8c223e05368d48596310d27c83a62c7b6e57550d031bd55256b18d3b9eb94afe9dadcd1934e321727faee242aaf130dba9c428e3f57c22f4b47ab6fafd5cc1e22f0fbce889247d977f4995b4b4f2bf1e7fb663e8cc353da87b4ef3bd2086be64c61c26acdb027fd131b34de86d26f58c98a621ac5b26e7aeb6110c5ad5cc8e01abbb5c3c4897488deb690d44c8d22ba2f16bddb3d6b6f8fa2adfd8552a3c9dedd9f7c6363bdae9b3c3d97e461fa0a50fed4404ba9282e1a47f8efdbe7913a036651719d0f19e880b792c12bfbc11897183fae53d50f2d8ae7c9ef1ce9c9994e089d3ab5eb95d714b4dab50d045dc907995373413fbce777d58379f5a032dbbfe545bf030c4f662cc39991a89c3c4b152e7efb92f710232d81e6223da24a43462456e40dc8adb820d4d2c9b42f077a6ce14f365cf9c988df25e984f837c00f86cfd24120ebc0a7380a34dd46430e4ec3838df56d0fb59e0101463ee4d2a0891b20060d12afbf9f0b7742079caefb70daac3a667b63df1389dfa812a395dfc90e28302a1f9ac92cf5d4fe4e7d67d3b485c90f89acd80f3dde1f0b9750dc4bf803e7d581a0704f2077cda4b002722c1d8ae7b789830e2ba437c97d6216fe39a92a8da5353b33cb0720c791207997b395b875c1eeff22ea69163cf5baf1c22c781e6b28c50fd8fc0f534c1a082b2571fffb6e4498bc58a7c044d9fa780e66b16717bb593967b757e0cbaface80c51d4f0c4c19e537899f246740dede50f5fff586e4e4e3de56d0652ecbe622395096cbb7d7fb1aa23afe248e84613ab23e15422ab78bea36d4a6b06da7a5028f0128c14209204ab5e1f9582a56aded32481346fbe8d61dd0a83458fe15384c133f29672e560d954e73f87eb98732b495bb39a688da8251143748c0ac6f61adc73d38bb57d8cfb2ee06a99e01bc2c4e90d1834ddeccd0a9f0d1f81f2ea09679df57c644bd4baf9d717c2c581e5f45aacf0a4d3155528856d9dfaa592d6e166c48d1f200a8db859d0d456776d155c521e3b9ada4b5ba86f909a3674941d3c166699e3ac8dd780c4cc2fed14a9edc8a24d94791712f0a1ae4225abd73185f786b55b7bf61221e44dd156e43bae01267791ceb41af643713afca639b95b64abbc3e9f593646ca1af004c4c848cb28efc67f494fb3a0b2385dea3343a1c1aa7d062fc1999b312fc95d22af800d0cf4adf238205f61c8737dc9530149ff46ad4b0925379e511ee078a84075c5247a11308b0b47c91f3b7f69e6723fe00e5150d2c9d8c3345894ee6cfa1a9e2e85009ab135c85bae13029e5bf4e47b7100a660031b046f8745ce91a4ab957dd83afcc612eafcb46aee5a365d7f3a0c6fa30fb241006568f0a3ea5f8444cf61f551351847469d554ef8c8ad4330d91e30d7a06f79e993cd2ed544daa2c1e5f22514a7ea8afe1aa9a64946c9a908289a02c456d4cb48a1fc0edeed93eddc1474100bcdec05d6ea91e1b42e2ba93a711f0ff833b11ad83c314bfc3a28f13d0515bae64151ce61a681730da0efb95539bd993defcbdd3d90ca44546f641d1edca900e77d03fbbd7e84a8e611d63160841aa2aae865617a36e667eddb7c3983f02de5213de09826c5a8b20ee60ad81982798914fc1ebb7fb7db0789d511d285bd192ebe4e5cb14197d9254cbe89c3ba7b55c3edd2c13a03a920066e9bd9dfd926b9a3a835af6e4ea0681b760c80a08adfc0653793adac30a59071ba9a997b4784f503949248386d69667a63a67c6268c1d318aa2523fd03ed2c0a0a4714b98168a3fe9771e6f419c8fe4cd725f6264cd4363bae1d40873e11f5ee7f7083232dd02e00085ad60a45bb195cbd5430447bbf70e82e269c6bfc1165e2b2757f93d1dff570e1e6b6d3fb15546268b7f3b9b18d06341dd506a275b4b841f432d23423065d4edd8351e516ce10d3b3a585b4d5f5fb1ec162eedf2358d865b9c7dedba7121dd0610c6c8a6ef0e086227c8a44514d8697e8e34d98dbc9abb062067f1e5a8fdcade0b18a5e62dd51b4e0a3dc838d9681069d147bffd83c57ddebe6c8b7182c6c421d20a3fe1e319f67b20b96b56dfcd2e22b5c93304ec32db878ae2be5965f2a361b6f77284d6efc7f5d6ad79e0606fc1129ed28121a255fcb6ebdf94edcb77d9647397dc7b6a057d51751b7ddbba09bdbc2d20a651926fc1cfe5f8b089d94a6e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
