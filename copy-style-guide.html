<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c3cfad6fa90d7fc15ca85e8f8c00174d5e632a03b294d5026d2f57a01a7d07ad505c970cbc92ad1ac45ff3409717c7cfcd43d84a57ca3fa2ce36cfc0fdf084ac59d8d3539f45d8f84bbab00d4cb8e382095f18f80b97d7d7eb7298a2017e3fd2bf3588c3c3bdd2d135bcda24d954c22a883a8522829682818942b493e9bdcded426c885584936af40dedf750f683c4d5ac86bc9ab85a998de0be15ff4554de71766502311eaebb28f83f9c61a069e28a6add3745ddaa49dee27a3333b0475b811329aed6ecbc7bc1fe4f69afe9b2783328c414c06661b1943e2717d8d3d3b3deb158755ec70b19a97ee10cd45fdc5debceaee0dc7f4c81422311279d74eddcb39bbd6cb85141a9c05f098b8b2cc450b5f9b25848a14c9f9ca9a26737e71186fd84906baf00f493924a9f805a469a8057126b6ba9620761e354c4dddf3b7e81aeb5f8d6993e5536733f91949e943b803392a3c18dcc679bc94310d2ad68cb04c80adbbd15cb0586612623b718f9eb21a914fb0535e52e4b5056f1b024f13832a69ce0e4c36d681b0e53f272999cda104401f23a8c65775132f191b73ae75f315ba9c7eafeb83baa705aad19dc22bf865db40ab512c432e031e6536f44f663e039ff25f1535d89e93bc5d43e5379731694c2e5405c52f599867308893e17e54406ea13f5b996003207545d607e03892c2c89b89af772bb654dd99206966c766c7c91383a5b9fe6a08f8504e35b1aed959206060b6fe4ab8d5961e732da58f1aae40295359308779c189fed93e0438c4cbd6f86fec48c5da89b954e86e35372662cac9812ea8335d90ed98d1e9c09f8c533948d247454b5e57edca66a6b97c3b9a886cead6b0d08c4501a9bdaca2c2d3aa75e1bb5ce41d263d7090480709897d87cc349222a3782f6b476c5bbd3c46106386693743b1ea77c2628907e8486eeabbedb174dad807fa0481602afd6aca919e05360a65da128f89c362df13011510c7a00b699cb210169c86145b7bbc86fb380f2e5ed2917d7061da30fca6a8fd58c7c5ad54610fc20265503ee7c6f495724b4252db991f10c1fa43b7689578667c0b25459c31dcbab9c7d5d225456cf81bd289185fc49adc0a21c4b26e97e8b13461f8a5bb940952531fd3d28792a83952f5421b5b8ca49f2b08a0c933288bc5cd7b0f939b782b8d2657f0d8b7deed8a7e0c426fe02b85039e36e7e6b54467f16e1befea9eb7aeccefcdc0d5ee28a8136962cde4d9cecea2cdc9711a2108d56d47cfbe3d71427fa23f850390777cf71024e6b200f682d139fbe0426e235b4198e9f59e341b609def3e6d475d1e67eb70a77af2b845e92d172ef44689f70e241b8a10676d220954bfdf63c5e86586f4561645f710e43faf52a70bd238ecb30a6007c826e216ea8de8ceb2c86bd6917e7f21862068ca84d459d4718e85bdcb8f020e1312b29fe6d2f19cf30f2ba5c347907f9cf8b516bd71b7402224c011511b34772be90e8071c500a127e68052babcb4c2d2e5a1afa9396e535bca0cb680d8b33bf8d85b8dcd6eeeb4b42f153cef27efe1d2939cd9809e8342c7f2995b1653c2ffdf50241e4a7e484ebac019b092d39ced3e6d9a07e899730d5df0b9f0d08526ec1959b52d87419fb63ca3da841b5dc7c8a2f87e1915fd6e6dc0ad61f138673f24e37a6ef885e406ff25975fec31581e483d55a664a65275ada01b2ae8bad3649510b0557b167da448f43dd55ef66e3f59e39f06ff78ae872ea22864897f7140e40f821c2baad92ba7e41343495797e9c9582aa2b43f696d121ed4d6d0b34903bc46e0c30368b3c68e0afffb361921ae5a88502c204b0b89f922cce87745e4d9170ead3c1052472afd5d026401f73799f3562aec504fbd39160542bce2de11727b244c9aef08f7f05d3509e4f5bfd07cfa7b5d53e34fd845c04921fb32cf3740e97e38c0a52aa5914b4145af4db73360cec8d6ff678971031a1082dacdbdb4410203740336b02bb9543f2fe3ffd4b174b00b88af5a5aceeb5d83a6ab6718f675dc672ff5021c4d3debcea1ba168b12ddfdd3f59dac1e2e4c52e18373f28aa750330ea713242e77b79b564fc2aa26645a9e4addb955a7560c7869e6ec57e2cfd6644e135a241fc2157700ca2f431ab0225efb2668e2fec6a0277af84d78859b9f41d4fff969a51b33d0c3081a00262664c7f69cdf672309cd3a846d8216e9230e352c30d42dcc99ce6b740d9b1bb6e0ebe64b33f212fce1cc39cf82f00a4468d8a04ef85f616ebf7496b5fd9eac8f0453ea704da9cac89227b0e5e570f5e0496132405a34f635d0aba8145078ce9d2f18e1c3df90b920f2c021348a11bf4d775afcf80377f710aea9643f7206ec1a9fd4353aab12f728563d914b8e18bea7ab78602cb600601d343d3b06df20eda57506ad667b3b738b94e21f73669a097973a14f5e5557d5a39facdce945b27aa5c0e248b35095f43cba101886074b0b9ed8e1ed0691bf6318d57f8cc44bd506f3091f77d15420a19c702083319bd82fcf40c9bc40dc5f923fc0a758928f0775f1c283a989c46b2b96afa44c28b74dd8ede526cbae510939193c5cbbd81361a919fedc68322510b6c95671f634cee86e5599199779fb8c36b5aef0d94ca964d226a239c54300c655f32ee41406d0c6d288bed33ef73b97bcfcafdd1a4acb477715e1d1a295ee9fe6ca67e58c8aaaf8991f9290713cfce3cd12d25166d2495b7039fea433fb40e7d064927347e35ac352ad06279ed1b4c8061492a2999cecb75b0f27a8bc1ba96fb03c46df28ba51fc82f0f24579576012ef1539970e3c6db647ef3deac1e618d35205205cbf49b6cf68a1b9a36e0a1cad162e3cf1a85a27085becd374dddf5b02760eb6b64debafeb8fbd77883a06b5a875670afeaac407cc47811ab684e2ada9b809ee6faa4d48468b25960c267dfa1818b2c928c243ddd2c2ec017f5303834ac60d2a524470d940c0907e0487922fea4f75eb2f5498add7709241cb1b8e12d594ef7f8af7316be238c668055a836ab5b6fd73863d152efe2ffc58b90b4e924691b02bb14d3b1ff74d0e5f53da63382ff6a4793f0b78745626f69bebf695a4e047f5d4aa32e60e474746a739289ec8d6dd29f5b589e495e81594df8bf0e10febeacac79f8c1dfd17ffdc32b3fd3e4243a62427b0f04be881076ce14673c005047b7901e562db80a18846a439993d6b270e9aeb42dce5a4166c7bf65c3a5cf71cc3bc6ad6b9a8f6da5a9fac4f3340d7e4f3440b3fdb6f273f9ff376f3dbbf72e745547a1d23e9f4148a1a3bb677e636fa25545b40a8dc1ee5581c3608fbfa8e0becedf16164082944f0e05be530f05a525c03474796131a8a04f7dcf1840c76ac1e48b9f14616883e460a123385ce6f73ec0ece4fd4c262d2235670cabb01f1966cb388194943d819a734deff4d164022f8eb9ca87c9750df737f765e043ad4b1b5bb28dfc03e6d0075bed8919edfd7b8eb404f7ac397c58805a39c2fe8747460a8350a29d1e1386ccb3792334f1b4b5aaaff09c8ea2796bb04a546a74ec2c0a94b24048936f9b31d506febba4bebbd430fa355e5e8096890f6baf63650ad220d9d3427694fa58d7337d9632c01f9513226be234dabef7d175bbbfe887b061f99d1d4737f4ea1af57dfbffa6d9b0fb997660468ecb59bfe4d30cb5571da047de98fe5af4ff975734c2391a5126f20076422ab91baa48613249212cedef1cd524774262c0bed73395a3a0f3b131a5e15c745b571bbb7e26c8481a0a8e2e9bd41d4f4440fe11b5ed5e0c5c06c485e6c5ee98b18f7cbe43e27a8bd18f946cf03d77023314180a75789c7a73e4e6be8fd065e9f9eb16b4fb0ca8ca9138970d03e27b04993ae2352a8c49fc2989bf6ee5e56d140d59f6b58e84969a019c8c5e69a5908a3f0beb6a306a005067cdcd69d687b8564db4fb4acfdbb369134a99caf12e6bfd2dd34771f851af57f20f450ebbdbcdee7cee83a1bfed5f3f9e4e96563250975132e9039af5096dcff790db18476ab79edb81b2b367869bdc3f27a10170a3af933bfdc0d85f6d8508bec587f3faac8377a014baa10823e17ef0dd5c2b1344c49c0f95382e279cb33274e7726048c4788c44ade03f9f937e931d6106371556cfddf1fffe81b1e9dbe39c59dd6f5d021efa3df17c6b05e5e4f1dc2f2ea6fba2c9c3f2b5b114931cf8e66eca16c67014896a56cb49078112f1d98bfb482b461403eb5a5dcfba6944b7b90af61bc198134d82841edc71e7d246842c02d4dbdbad4968db7f4a1a0bc40c72e53aa30f992df8102076e7ed90ab4bc28d255fe8d36a26222011918998c0bb0968cb08b3c2d6bc063bebd225e84da64b978389848badc177a2658361230f8aaf649afd83f391aedeff7cd41e847ab45353930f67099d536394e857b31f86316f6a28c5007ee320ecfbdb536022791f282fb99707f702733d97c8c85fa9738bf533d7bd2af9f3766a1450a7e231aaa73a47e77f27b16fb17c25769f9c1054a3f31d0d8934ead33cb5b36fb5705c7b9bd3be46aebb0b5adee27d977d38dea0342dc6e1e22b7a44216a29cc0ed5b2037f9ce99ab6d23b2dd850e0558cd22676ca9fcf9fd313d6be872e18702a03d79190c3139c9b961ae60e0b7b424a5a04b1b9858f331c929f159634667b2cdd5bf19ae03747b65f50628cf162904da26e70d2652880d4ff8faf5f7c3287a6ef85214418907eac9d4b99a97096a5c3cff39efd860caf5fb6faab33ee4496d46bb397739820cafd43d51388cd15fbd4604edd66ddc1a469e10a21f8072d1c4477f20bd30d46ae7e976eb5b01da9df944529b89c9deb6e34627cb1009ba7c9cbfa7a3563c802951e2aad702bd29bca1451921de9d3899b99331691630e2bf67f3ae4b0500ae025c721ab96816e9776614cd00c1a9ebd648b950b2f0ba2fe09b5118701d1b4a76c3af0c511c66d77ac4c6456b81abbbfcf02fba4c38f7687da20e96a51bd1a95924f7a5c7f96438f2fe36e7687253d80069f75fb2019e4e23a116f81d516ed951d5cd536a872a92798ad8d1fb4e800a84155b966d1477f4fdcaba969d7c334132feb68000e2d2d53d1e175de603b35228cf6ca0326d1ff3555674743b79f2f1f65b6159abf99f48c6e575f9c67e6190f3967781eda8e73efaa9f8c73d892fc9244603b3854b8ed9fef4b6893669f71cd16a22b51ba5264a263de4738a4e75f2b6bd8afedc1f1c141632ec233360127dc1afb7ae645cc2fda05f941450c20350317df33f2c297707059b0ba31b3e8740c9cbc2f16f17a6235e3ddcf42cab0645031a225fdba61d7d891c1a9622822754ea4d1a2bf836f4af2ea992072c51d0497e7e332370680e398f61d5fdbcf753e17eb4f8d36a85390cec227936256f333078445324ab5578912728cd3c8a117429f7e465a101e3ccb400d7bc4a878188b39d7044d5f4c6e533dddb0842adb56bace828414d84bb552e25cf6df12eaca8c2104bad1cefe01cb9498b5ff1e35de748faaf85be4f42a6526cff99c1391179ef360e2a15d918210acf86100c5e2696e56457ad8d30a64ba2d31c1a591d06909d8018cbb684500a85ba460e8eebacf89b334cdb7fee685327056eb20ae710fb6fced67b33c1887ffb7cdc43df0d792fb96f4b98e763b7878058f3e744e77d73cdbd896696350c9e5be4c75221353be7d5db1f09294a42b486830b4c9312303de1773f88519b44343e87533613881071120fb2dad4aa300bc35289d3a50e06a464317a5da12bea01b30e1ed39f029aa48b53c88fd44903888cac1e82aab110726b7bf23bb37e557ef7fcf90bcd06f51ef8d521f7b612a279ac8ceab5f514a50784d10f460dca3092cbbd61843b2dd9b3e32cd05e47ebc74b30ae65de398092af41ad6246e217521e52acd7d9564b738d4c5657c3d8549c8fd66f3879fe626c4c5151239ff3afcb14aa696d822f89dca8bdf1ec913bb3451cae95c05a53e33352dbeaa58a1e581b6b72cfd0762c410179c22a8b76d98f3a9f965dbc7c580cf7b71b50d0d5d3e69f65bf2f2b3d53ac04c046da8d48489df556bac9551677b9c9f87c35a2688e72a504fe8c76a055172d2684d3b848da2551932609a661fa24d0cbde5ccec8733f0aaf67fcdc7dfaefb32f73bcf1be715d9e2219d1092ef4a788bc590b4927a18b1a6f03e5b782f297bd83f3a1934c810da1113d184eaa9854695583d993b82fbf8f01523a67a6ec6b2aedf9662310f152246c01e2914a62a3525c6557043c6374f4246dc23d278ac23d2f6ee9d997c9f044d722e9166a1c4a5b24a9acb5b2b1469f9ac55e182ecd7ed56bfcd0fae0e75bd303a5dc8229f20266c142e40524fb948eb66e4e415bedb64a9f7c4bae495343478e5c827a447f157395727ea375054fc50c6b4d5ae907c2212a93fdb4cd81efda18242053ceb8321a25d6e280d5ca2349d4fe370c97cba9f461a15787ddf701177c43185b5b20054cf18f1e12bf582ea063a062a765f497283b2ad59fa4f3729591f36cc7160ab8a26356642b42086fd0e59b62a49ec607cb406ffaf432ab4b1ed2de707349d1b29e803bcf634caa8ab9efbffb066fe0e790ed19bc25d11e7d60f817407864fe7db830002176620c8cc15acf10c9cb70c30790b75105f892f851bf974a49bd2b4765d9f4e22b740e637c6c6bbb769656bef79ed9ec9966a4905017c1e028decbf221c783df2e80da5fb8c2552b97c76269bbfa605e2c9e135014286b89c3cf6f80d2db8e51959903b037f2bbb4fe44ef5c2e419fa5a4a8aac92eb3b041910274740091026e068f50d91105bd0a52bb043dccb2da11149919dcafebfeebcfed391a25ce5fe9e445dd5c36c0dd7e0e18512abc43dd2cf7c24ac9994be5ccc198634863065bdb05696715646cde69fa6cf469d3259f5012ebc35acae7ad9761fd339a6ae4fb897b1a6a5bf7ca01b085362d4f6aeba000b8cc012379a538370f59bcc3fc9edfa8603da8d6ced6491472ec616ad8cc57848019e11f258e5cf5a3bbd803b729a2ad8ea9b8a9458ec36c84fc2105d2e939506f4c47b4ed6651744466d1e877f3aa0edc828d4eca211358ebb971b34088b5637fc2ad1004a2666292e9d2ddedcdad139e19a092fd73faf9846702f5c32904f2cdf6fc8a7bc7d3c97f1c7b533428e78253e16edd59995cacc56d1e514ad8ada1e90aee419d987a2343511993c5e39f6a188ba5bfce5302557a0509210695af0d3518c4f7c792947c4bbbaa80c00af79f86981c959c65d87628a463ebf1d665379dff083b2eb814044d74dfb5946f1444f2cbb21af60f5b1d16cb1b0c072d0f5cd0727f88d7e5e9cc97fa6c03c0a6df6bf2ee6247b32bdfc4bc6dc6c3e21ec5a93e48e655fdc3f063a8cbf50b5ca0c5fdd4952bac1c55beb7ee265afceb3c99ee933a68f39a7f724a86f63acab8c8b00a94805a5896793da0bf7427d0e284995724ea86d9c72350743a70e8c90359e039eb9f4bc686ae81c7805c6ac109e6a351e77910d9b4bb02c308911db70662ae463cade8c2a4d73ca2f80d2225fa355efc03ee1911f8cd863174e0a6e2b2dfcc9784faa28a7871f1c9b8bf5d52e0e2031385279e131f62c5e2f749b66f8c03c0efec6f7a7eae14aac4d428d85a860caf31cf8618d947f15675657f44a99cbe4b0e85db43a7fdef21f454ee6edc748d6fad6e34b7664bab5ffb244d977d9a3db4c23f20b6ce0105de2bb9b492a1018ee5f30e9a9a7e811c3e8430e335b512cabc8ee45682617ac2521a253954961ff5ffe37c45e0b92622241971d905726a41631c6d79926f908d8bef4a503e2d799b8ac9e1931b4aaa5f5c0294eb2a1c3220dba7b48e44ecd85a76eda85032e93e78c90214da0d20fa6f7c1f962cd1642faf1d2f2476f0a24da9d3a15d11ff4c07bdaa6e0092338076f83b2bbb5ee0668c43bca987b4602667615fbf060b56c6d0da8074d75d8a83c6acebeba5a28b76cf1c2e6006c388359e0d1429d22a322e9744ee55cb6c84b0c787cc9ea7670093410556a379147abcb6250531e34a927ce538f3bbcffdd52ea641586d9885b05c8c326dbcaceff09c7be59da161a69c2184b9618a031da88df70302eeb1e8e7c51212ded2ad373e45643c5831db71fa4ba96ba9410982671c0a3aaa8091431e8ba20730dbfb68cdcab2a0afdaaaaf1d4d0c0577ba0e3297eabf674a7d406a83338ded1fef21fb18d598edd96948e0601a64d549b031b5f12efa9be96c553da968922bb2256cf456e5771c26156e934b17fa00506bca554a2fc73c615e51f7419798b6a18f4d5c0d2b4e9831ec0f3a70200a3f6930e849503c13d8da7fb0e6da7e05e788a731a3e377e7d14f88d6429137c14e07bff470af787aab656a45872e8fe3f077d86dee4d7c535e37be6590bf195827f2019b717c842fbbaa9ad9cca6633012d09685a51ea2c4664b6e12dda6c605f5101762b41a217bae1fd363543b6e39189135265d3a7037f15a92517224ff3a14d6c31e2cf95d25923355630e898eddfef954a6e05cbaa0f6c0e833b0f02d0bbd604920ae6f4982eb546abab01aa80462dc963d6d4cf1089b8643df00cf525920e4d2c499b3d36337f144cdca1879be4894f8a6c05c557c0eb7e41e19f1bbe0be1bbd76171bfa7447f0c8e9bedb0eb5d820f20d098cb596e712ef2aa77b80e8446b31f4311277aa243615fa63bc648c780d8e939e48357ebd4b222055401ddad35d1331b92dbdc8f24d192282c02a443261b558115c43b0cd4fde3342e91f4f083c11516971380dc76559a1b606967a14a57a19f496e1e9acb26d26469b955b0a4d37fbea5629d5a314bf0636eb65c553cd3999e1c22c9df4d2875728a795d83d3ce5f67afc2b45f95776c6f128652f48582be08e7e7abe40dd23b65cd65b10b168559b680d010e71071484dd5d3f5e9943c5a6790205d1cff90f7e24b2d116cbea8bfff7cd9b8f1723c88858debcf93d85f2f1712e31c2593b694fd6f640a94ddf27bb2e0d1f557d8580ff33d42e41e74cf1db1cc13f4d1ed3bda2d4756e20c66562cc4885100c4c82cd84b33e4fa04613d537591994466806363ef817ec947dc00276f3b3edf62285c4759a20d5307cae5bbb86f07c8adbb52cecf157ea97727ce6c0d7eb427838e3026532fe9931c0c867652474d2d32f0ffdf7e328a185c66ae047015b7db9e881ca05079ff7a947c18406820c14b14d52096670c44499b85b093a06eac9f2c1369520bafaa1cd8a26c9cd791a2a14b0711a79b1652012e3c0fd5c04b10aab7db0db2d264055bbe8493ae99b8127960554ec8612a70b65eff42145b3baa764db4b3beeea5c8be46a4772caa6a7dccd191d412d97d5f5d3b8d8f68394d757170faa5ea6343f7daa04cdf196d52dc8ad3d01b7a3a8ce41a327a0459255131ae6534af63829a19332249c4d2aac752baae9c4aa34ffe57d5fe46af939e6a45a3dfb38447613191a23f3f2dadb764b771b2f4da010fdfddb2a5862f2127f5058849ee07f17b8f1ad3b73a200054a4c353f4492591e22681007c1147f49b13ce948be8e3b135e1e2e73f075d6fe6a1f925728a5a035d2f3c8ed00b208e1f156f114721034c272e67cc631dd2f06a10ec242f6a10a6c895826c11df1d2b4aca826373e10c01d8caded4d90d0cea35e5ce05453b4b38308677a0de924a554a8283656f061265d16c4aa4c95ac73884a4472a84a17acc669d7d83735d942d0a197b69058cb571c885cbbd3d390674e5856e42a3ef82a6b7158a949685f53286cb64664151fb2cc6b177235452b222424a9cad93712d1a2d222f221a656057e6204d0889b5755d5b43609ee5043f5005da4a28755290c3b479e30f877133509ce8262d73eb2b7a60a663cdf9b0bc4d526604961b8d4e874c05d49e76433efb12c139b4909260b884c85654fa46492b1264010719bb3eccaeb8b39e292372c8bed6260dd90919577756e873b7740030e7458d56db6081c2e826696a304f051a002bb96896d65bf3e8f82c4716330656d87e974272e55181fc4801d97b2f6960843b0f040a9a55795d36d22a7f14e95f37c6fc79acae0c60e1a91cf697498330d295ba012951d29392294025c5ce0792b43dac391547839de81242e1b193f69541fde083cef508539ccfb84c51e83c2009444e001836e0c8e61f9b87917a1dd78114ef8525b2d8db18234eb1b7e092fbb63b221f85538cda63386119d82d793afeb5aa01f7bd9e7578ee1ba312b59074a662745cc08669417349bc243408cd5d06ce7404e604b065eab22ee0c4f0814644c81184a53cfa7402d0ecb22fb4e7a881ccca373c034519e8b786e73a1d97fc1abc08e5b467036035d8c3d83dffd6f45b2b36bbb39a95801f62e4e2b4708ef71ce57bce329774a23bd29947220b04098f7da9622268cb368388a481d2c6f077dac883bf2b8cde2df01649aace5f2a2697ce069f983cae4bb9f9bb39e3dc4ed202e122de10386b6ac5ac09864cc25c56d68e7ab5590bdb18afe12021e5ff53e25ca8149df69ee54a13b186234fe71c1535d3dbfa98d39e6ca1af3568783a9503adba390170c94a083f4390e5e2285b7f7be02ae3e64e98d7e66c7f49fb46eecad84cea6ee258d95a8333cb2e6d4fe1c6c53a5549c7e06ab447264bcc37375a7b34c13a16d33038290cc38270d693b6ea76630e7e0ea268745f88a136568f00efe23fad7bb9ed01a53f08b381d751c1af9c375289cfc4e31e66f3b5ee1ed018731698edb387d54f5a988507d4bc5cb4ed28d84503afa3be65cea68c9217520d8e59b0fb9ab4ed8a9eab3ab432d3d72778657f5bee307ab654447eb953e86f8be1bc5b72dc49609ad887d9ef09f3c02bc6b5f182016a2a2b0355e661a8e52c9952408f8281e722b7787ed709df56a879fd1def403c60394c76275b4d804ae773df3ebb47aac042063775e0e93540dcad5a2dcee4625257700995304404b9546ccfe3c2e59239dd97dca3797575fc1eb5c4f6a8545f92f6addc9791c69def6da6d5d9960525c307fb4adedd12e4376f522a5996cf33665643445973396847e0036b6ddcd94d496e996057c25efa328c6658ceb9f98c16a1b7d6f902ba9a0441b6ef8cf9705cd0ada28ed3b8963313a04785a0b200ddad702c3e6afa792f1e4219bb8ec18446e1ec6361a4c82d1987b6d0bc187f5001c18c2c0cc26a73d80a91900f34bde631243bde82ad0cc2c219123b366fd8601fd89e1dca35dfb1cea40dd3d2703e0408ccf593b527d002bbe08b1dd750b627c3d903102190b5a2c559f372ef9832be663ab2046fa3ab9b0e098ba3df48348260d4eb6895ce90e8de6a216df382af2f1b5d761b4c259337c0dc3027b22734b7ec553a045252ba5ed4ab9ab4fbeed1708689c23130d26967aeee317f312fa27d31ed24115c1f06520dbcd1da2733746b982bf7bf5e6f3a1a8020235c22632ef0b1bfa9deb2e5fbdddb3141e598bce87d281989632457aef4813086c3e751625efb3192fb151415b7654581d9871102c23db3a8af9fcabeb36bb244227bfb2ae3a22a99c3e8000679115d2e2ad2dd9730f799e366ba8be2c923372e1668e337376077990faea5c7c23383ae255dca842b0398c345523032b5271055b4cc9c93ae315ac3eb5220ed9a111ec3bd12ac89df896ded900858a801446d42adf632fd5410741385df8259611ce82eb00b19eadee34e413e043b377e5fb88a01fa8059663e67c47d52edbdf44f6785b358b04091a855da6d36c415a17f05ebf630e6a181a989e6b8a647fcab6130d24b458159c4351fc65b9e88fa057e038305f43f99e23b1767b2edf00448b151c029bd40007a09d836e289b55a9cf1483d3bc2f576a2d5fdc4a7768da1e2ab453b0fbc6deaaf49d384d510efaad4727fcc5cd6e4c208f4df426e93acc24afacede5800063e2416abb1efeb74ee5a3aa06088cf32d3034389bb98c601200c0d098fed6dc7e93e856869e35a585c007a89a8e1f68e7837f66852284628c4530b211535466578b1e57299e990296aa05e958e1064f1c089d189920e17b062d93e69d3d09f6a06ddecf84470fecd28c340ac85032c8236b903f05c6d3d20bfb95b5d6b736d73c3813a1f3530f1ac807d52753ac24fa9e9b72e1d42bf8064478850089b8bf5f746bfeb1353d2c1f4563b57e631ce51572d9b96aca8f63f6d0db4c7b28a87d92b98eacaeafec071f534950ad0173fc1cd39112683c795fbb55a859a29cdf9ae86310b0808ebe3bf27468d59955e811e644633ea9ea74a9fc8c954645985f7ea8929a7504b20549c2408ee2871cdce1a18386765ee9fe13be4d7ae94259f4d7f8b07815883f65e9e0fea336c8c99f599027d331fb9e34c5185f2176e504a867e90bd8fbb40b5b508c6cb783e9e3a31612947ac8aa71a7ad2613edc0fa8c51e45088a41b1d75f630217c499bbfbaefdf333e9590c242f44bb431e635d7a2367f2bbf9120298098ed64a228c4fa89c0fb32e7ff102c9d19c92460ffaa9c7d24d35933a0dbba98947d7f525530081ecbde4d39ee1f3d67ed3851582ec0c3d46dbf0a158768c9f734f1f739cf6af595d050dd2fe3b5b342bdb961cbc4bd20653d71683cb2975dd1227160fe5d95323464fbc9de59fefe8598613c4699dd79c46c483c5a90829a590a02e83cfa3886c56b7a774f2bfbd30f5587d125c62e5188cbce74d535980f82c6544eca282ce47bd63a4440ced2c59179ed33fb4fd687305609457ace9fff3f1e861c2429fee3cb07d6b89a78c907e17bca7b4373a3b25a8ce46bda086e38e4fb21870946809822ddb4f4b901e141b0ed307e5aa3f2f434d2059cc80a99e831be864ca919746a5fcf5936b2c56a4fab8d38aa748b9d1c798747b6ca9e87979f3b577b74f34df488abd76320e5866c0c6f44206a486d4ef9e58e28f050a9ce4fb94e95dc88d4bf9b7dad65b1defcfb4318bd9b2f69d225cd6aa1cf368e1842c8530ab952b4862f48156b29debddd2c192bc067788d6d0fa791b869aeb6936f1a2a8aa44ef86b3f44d7b57ab8ec1831cc0341283cad19f6530727e9b29a16ddfef5d36764e4721ee2eb7796449d5f9f82992ce284e0b0b743bcfa1fdfc7730e9f78dac54387043c61ca719462825c25755a414d252b1e94bd079fc256c3ef3aac87f6656da9f2e427346514beeb0edae1f5abb0fc9d62e8e7f903c330b080d40e29774628e5379ab22fa121fcc089ce56b353841d9bb3d8acd3859b5381e8086c8d9db8b8236b058d158f2199baf50835b2bc5c2d97326f1552b6904c500dd3096f11169f1f1c80ba1dda3ee73a310c88240444c06b549d3e6a6b1ba1b4a8172572444ab0e169c7ac40d1117fa9f68513b9113d72b38649d48f2b5b757eb67c80c2826be0ca0d45ce98ed7361c6baea60fe0d20b30ab166fdd413a5f7b628fc472fd291a03dff68badbf27407d4ef341c6bd3ecde98a1752913f509ebb349959dee3eb35eb8e6c87083a8c5af7ac8c036329461f2b5cd94d7a5b763f40b56114b6111f7339f04034c19dac64f443dcd07cfd01076836c2e3c561aa44bdc27e9d4c4c81e98c4142b047842c3e94ac826092618724e11f6c805c3e2a756b520e8b8d555bef1e8ec62f2f00c5096fbff0ca34d5a0ee55a748a3ae8ceedc8e16df5a465e157449cbc15dc4062b75261372468da20d6adeca7bf51a2267fc022c8be0f6c6feedd8bd89181a1db22e1904dd8e4b9a8f6fd422012e71743b95c2a2a0748bc958222fe4e7be54c2bab487ff4f0c9d82e552b4652d818d6a14a9b490d1d558515e10c3aabe5834f57380355a890cfc3fa06f08fea514e5cc27e831c49b71fc4026d5c7dac755685d87356b97b9f721f030f9399eee8cad439002247d6010d0f215f2442ea062425a12791a9c393a7bb50464a380d395553f9527e6ccae2cad964cb053019fb0b70d00017f4b5f1c8e1f972703050441827c0bfd09401fadb6e1e132ea0499de3cf7f0f322a7627e5287c579a59b3a858cea625f87b303efba6d3b5b21ed652fcd10fbe8c2283d71dd9c596d20c1558120a76e10025f6710aed6c7ad45cd9d864b7d1846892ec0b319b0f28742372b2787deb145be0c3a7e96f219192e1e1c4ec3beb0bb060fe96c78e01e89d596ca990e02ab4b05d01e00ba71bfb474a883a05f8526bea849f23c6ee538a74e0ad8156b82e88cf99d482fc7b32fd28d92524dc911d8154ac7ea86fd94c2fe2a5b26c924a6850622efe55808145f960d39f6b4b5050d737dcf1c228b4ea3616d350acda9a0fce4b425b3627778e6cbcb14ee0f24ad2b54ca836895f8c4df8f9b1ab651b3709811a349962088bf2b107ab4a9691c44c4ab33e1ab63e143547ddc1fda80fb155bbd9024e7a15ab116287da1a29f568b78317662b9cb5f87b908a6c850986ea221f0a9bb669202a05da3b954accb1f587112517c13c0bbaf00c09855fb1068a6e4e8ae3a5dbf5a29681416cea5f3dcb03d8d571306a4791e756b0751bd025e74a94ff27838643221d85282cb2dce9fb8dcff3ae3056b9fed580975bacbf13fbd02fbaa12a95a90e1430871a3a388d30d727e73cb7f1d4a92cda544799ae800f95865468f6a6dd32bc25b3c1b6f79019ee7776ee0bcf522eee20558782d6e86fb408a02154bf811ff6179881c2d55533374f8782ce3398c9779da9563598be1e479eb8752385a53bcd5d1ec601241ed7fa77455b112eaf4295b6b356767191551383721139a12a5b79b0358fee89f512c8e979a9da9e6c4c6afc6c9b6b47e7b5119330785509010c5b56035fa9e4202114dcd6fb9151a81b5c8dc33e4209ff233a7c59b6cfcbbf311eef47d41e6390c7815eb4c803bbacb4b2008dafd518535fb1969282d03bc146f7d58cab53bd93296659a3cb68ee446a16eb8af67f87fd63153bd6afe5fad2f092473c4c1cf4213489a83f2bca6ab7fbf1f2bf0167859901335021c4d082ca2c756c7c94491d2cb3d93468bc193e3250cbde85163edb071a96e869c6077c579be75c4391efae54105e97674ef71eacd4c4fd37298a6afc9c562a80139aefe972f5e8483e28a7a025f6d2f01ecb7fcb1e7918f5b4eab1c3b9a71c2ca177a0078e598911e1778ff8d78fa86b4cd838ec1a792c05c14babee5f0ad8d425be01007f3cc067d1d990a16d6d5e2a71c6f5a53cde8fce849a3271473b023a2452afd30f26b10b1dab35a986eeeaabe5c927b9e90628fe4c2d940f08fbef19a6d56c0cc1c69d107c0d02a91a283f681b5f06ec02321f4ce367c0071e489df3752c96ac5a32bc48d6e038fa6966b673d519dc8b7c9dd62410bbf89e69ff983752d272c93f12e3df0212ca6dfff12725e09a8b9acd916db6b1d6b71e9d6853e1a8c90e630887888437ab04875a87d2de3df8f0d2e4a08b5e5e2ff3d354505ad67ffcc20677809ed1f0d144a4f4af46894897e11c6fed22e0ee54ae68f3ea463e029212da6efe5d672989de22280b7c37407e51485e251f02098a6249f736055c70108d4f458f9fd2cf84d1635bb7f10f802465d627a9531e0d4d4e2f7e6580bea942fb166f4882d96a5514a496e513ded03bc991f04e5321a0d227b96414390f04db8290b3ca9e3cbe77d4184780ec836bc589e364dee560199a2b9d7456087e821111eecca7342efa65db31e232279fc6794ec4c9941dd7b31cd2b49f032ac42f682b67633121f202c714b3433f4f145dc56f0101a3f31dda6418b2d5df77111706c1c3d6ab4ba0d29ac332acfcc5ee7558238be9704c46624af2719f4394bde173a2c79273fd5cc662ba0af0915e6aae783326b514354439ba2a6cd510e410e5c733d88e17ea44328640a5009a2baac871219a5ba3399f9285e820c7f02cf67489bf4cd679bf2dd18c8e3c8e42235ae44b5123237a3283894cb48e57ae33c7cc971c3a23b334f47a15ea60e91494f84918941da352c44c576e1a96b1cf94e8aa881651d36374470bdd617d69f866e644f70d9764699cc94991d21ec436a1a5e34eaeb89210e8c40c2bbb0d32400e3feefd95b6770af47da65b49e4e08c0cb9423f69848839c51a3dc77c66fe70c30e99133f376ec46d4e8c4f77fac672f743dca436b01dfc720022ba54c2151f3411747be18a09edfff404d11e3285ab6e82dd60f1c6ce62e15bf9dea2e1fe201578e02605cf8cc3c889206b9cc30420304a56625287ea0caeebb5e240a16bc42764ad37213588b386a968d198a22e68259bfeb0e5db53fb23fab53db96235a1887fd6c49daa48bfaa8775dc3ae925a85b1535cecabed5ba5935d3794e1ae853c86619a0204e75b11d4a3e9eb21e806807f0a72da9bfddc233e3f8d8c795434d641e57413cd63a414bf04a45a52550ed52592c7f6c8c6fd039f1b81aae48d58df9ea377a4991505462b7cf62d54c8e2e94321188b38dbf01c884360d4c2479396ace2a32408fc0c8d7510f2554da747c1ea0ac2bb9a28a051c063ac630c1b1d891025efec03f2bfcbac271d491b1c05e66ffdb419b71883e911719aaf41b0ec0d33847284c2c9f131227870fcfc2d96de60d04d9e755c980e3cedcc2e352640bf1b1ca1c5a82de23f2d2484856c6e1b58bd2c370d2a94f82a825eb99a781d32816300cca9506c926b74f1bbbbc56d85859f7ad0096e6804bdccfc9051bcb970f910a3acde23a20aafe47d43da7b5e6dc6d8e249c977f7f4cc9691a15c59493611a5c9f1ae950fdcb750303bb70f491a2f1df06290a7eb31e524c971e8d97aa5fb328ab4dd74932cb5d67f31742a4d641d6c7098f6d407d379506eebb022409942cd00fd7db9b74cd89a489d56b4a38961bf3993eedcdefeb6bdbd9975fe813f422e83d251593f96bd0eec309b44de5ce30e4a47ae577b5a1258c04234f3b915a26ccdc7aa282c352bde07839c8d238405a8ecf5074d8711935292e44701d0c179569444259a67f59203e4a1a66d01fcfef98fd1fa6aa3e5dae8842bfdf75fc23cc41210685f9dbca2a3e9a80f4208da578a5f5238e6ed081639cde7e56bfd7224ca14e093d52d111fdd1b95f9ae4c7d5460bcb41b396c3a731ea13544a660a35dbb4925f6a0406aaa570df2d2b42387e7dfc08683f45c548aa105404fcdd3bd4d9378fbc330d6344de96006c983f06861bcdb7a23ec841b8ab35aaea083dfd9105907b4df88ceaab28a59206097b7cb806124861e29bd33673fdc1703214d8ca9ef4653658e740bf214888152601c0f45a43303370341e1fae4f9602b2b531f458624f5e9a7417c828d920a5e60798d38feb97ba2845d5bf413330ede4fac83f8150632a13ec5e25beca275968d9a35d136e58d622eebe66ecd9a23f282af07619a96fa60c9f6ca4ed69062de0fecad8c24265c01ccab398a60cee1e299a941d7a8e6e7aed3acd8440d4f77c43b5e950939515fdc3a96ddb88a1414866e877c68f7a7b4e6e92c1e7fe29434064b3035e625c5d0bea4717f668c94e4a04bcffdd526d56e56c24adccde1a10c73bc9bd94d86ced8aa27e013e114b2f8f8e98f74b19dae087ba3cc893f04425f049d5d726462e80bad5a0ced1bc3fc9e51fcfd28f666b0c51b2df9485a2a10f01ee9c2a8542bd1a9a31215a2d4da7bfbac0babbf47de715a671ec8cf73f6213c5e8857257a4305c7f5672bf858566efe30309c2ee92d0a4d21f135828ef137512e802929a765ddef0865c8f95d24689d3238a07435ae13f3358d9802681d200d461c706896cb24d81d28c5024b4a24452eb62fd6244dd0efe0671b02085a9648dd3fbc7048ab11e58e7b9155eb66cee1bde01b350cfe7e782d7d37d9c04493955a805b2955423b7d30bab564f4eca967e79565cf2928e03f7ccfd74914ab287daf1ee25b70c2253bd0c78eea0635f78bbea53bfa8998c7d6eeffc930744f2c942a25573be1042a5d89619766975a5bb371007e7d889b68ec63e1807e9bfc994ce10a66dbc3c20cbc25649d6b2eb71ebf2116e3ba3397577b5135a35db35bf810cf245021b1e7a6a8fa37fa03b4de34a3636809a54e962d9f8b6fa0d191e480e50c33e91eaeeebf5dabe247b781b7be21cb253c34687ff44282bbcb6477a1c3458fb09f5b3c57299185a20478030682b0020aa94e745237c40b21fddb3e276a65707ec304d6e19793e0c5d4acd72e1f7dba8630ed2feb075361cf783edf4325d0b19cc6a42613f078149106e1962bde34688011fd575ea8cf1523ac3e7de1b516b69853e3366c47898f0901f3d753efba3939cf134b2b76f5339ac069cad54c22a0b58a1fdc217d5469811f2d5c7c873bd30590ee02303ee3760a28a27f400c1fb04c1c0bd6987202fd1fcd589c95ac8a77547bfd4f18b65af717ac2653c899dac3ff8703aee3d3300c17b106bab5457c6f5771bbafac7086282c3ecd8b248e1de39585dc91548cf8705ced14aabfc279efab9d1b986573c49833c85eb5f72ca446269d833f39fe4aa2008584e7ca328f66001877acf47f7b6ad08073928650c4b77df7cdb18bd584ba13e3a17f40c014e56dee80fde284b5dd4f924637d345c96ed7d747478d87c0515574b2937117a3496060491a39c7a8ac7b61689f650a5f32b8a8a7729cdcf8fe068f983e7cf16b9ad2eb0ce51795f7b4064ee7ded52949518578158a368304b45f01c1a03849de50386d53f31250ed7599affd382ebf875c8eb740043befff3ee18c03b4a003a6139ad600cf28c78ba7a89a7dd1b036375643702678d7320919ce8d2bea6fbcd9806db14ab352aabcbd5ed2e2c4d07ce25892e79ae851932927225bb6438ae38af211aa34c6825e49dc192922d11df897e06feeef294cafdc272d611c4c948caa7499e757632ceb83d835167a3dd937f3200c85d13a4f0939c757f01c5474ae2e23fa0101ce7f4c3f34942752c024d14f74baac7f0a396b972320e3165bea5dca05e3f392339fb63828be4965e4df34ce1326bbaf67671e6e07ea781ead2e80304e96d3d993a0c5fe18f0106944fc085d9f448673b9b349661563a01beffeddd7afd2d71e220ff03111d92a0bc00e4941e322ad7b6eab2e450d5a7ca583bbe4113a7c8ae22613c48104febff01571d8c8e153a4d3f9b0330fc62d59783de7bedd6ce2abb4e8869175a2fdf89a7394949380dfecbe764186b50df857206de325949b9e9e2288cc0eda94ddf6b9ae56f5ba7367f8e3ca1fd7ac1c9f227e3895d95ec003eab72cbd480ec0d7211e931ef8fe3bf2ba45fbad23b40f813689142bc4cc4ae326c966543549741018401bdf2ade05cfcc37660830d3045d73bb6d322a0193aa4066953a03313559cdda7e30ef4ec71fe699db4c52f904555c644fd4b750e9ff6c127e4584a0801c54065b324325511a6ccdfc37faa84145f0110541e72faac4c846cfa1e325fe83c1c4586e8fbb5489cb5f8d1a9c3f24f979bdc4efd59e610f5e583cb0966a359c1cdb9211ca455ce177d07f7f197a16f0ef7c7ed4b73e16de22de48df54cb23dfcea75337233d090bbcaf88f3b52b7e246d063f5fb99b9f141f29aaa77455809178b96c73a4a6910cd7c64dbd937082b12759918b7790edcd973541b802a0c3018e0f5dc2d5370255fb7179d1a5ebf6da238effc14177d70a3d74baa3bb7bdf7b9090251b57a0353d77c2dfaa38561ad25d07206397062bdc8de975dccce8f271fa85f6a809d70862df6c5fb01b284111ed75c81b3b0924b579a190922b59bcc80174df5bb5444dc267fe5ab6df00616db0c4084e49d3c5d993e528773a9ed995fd42776b997cea67d27167edf5a08805039d738f420e5ffff08e24f3306049f86a2dd574c9628f9e2da28f0d7c61f120af7604e6f238c3c894734d52b1352fafb5c819bb18ece41b49ce1bc395f11e19a7ccc8e16c60dc4a214506b7e62a06c9e5dde577cf726c146f47af6760d835f62c641093ddce82d42f82356178403392c459520ad7f49bbc0aebe0c5e4440e3b255adfbd8a2b59c901c48f85e5b8db6a5efca685bde1bd8bce92e884d8144a4397e7a03ef1b7b69ac461a85d9fea3d93afc75dc6b633c01b11a88d9b5f75084d0efdec39289746d1cd95147456e71228d0f1a6ecfe5ae721a3f319ebb574b8a35ff6cabd0184f5944e11c6e28735a726a8195ba46e8d7af9719184c6c5a8c88a84e454391fb4935785091099615e8285d1b282fc1b069543b18dcc68cf6c809faa1c3584f754960197787f2dbc85e29b5d75b76423e3657aa38398e927bd69d7360357a4829fdf08c85238e57b516f7ce4bad0024835bd0569870156bce59e08522dcfe1450e27129aedecb3cd9f44a5eba8ab5b76e2ad06219b824369af5c457f76199a2e9738e79fd5bd2d6ed8fea5f08db4a9762794bfb0e46e24073f6d341695dca77938a8213e27e5e7db2fa3fe30d03090d2789e1e74842adc70703f968528996029c7cb93823795c59965fba67585d71b73ac84c583857330f004a0392a63ae26de5619f7ef22ae225346b3fb2ded9f1ed517430be73fb3764525fcd873cb83a023c107cc71e43d6eab0a3c78d108e2ef4c3694d19cb71fd40f285f60c9247943e6d7e33500694b89f76ac162aa6061c0cbd8264e331ac4a75e982c403fc1a860fb38b11824a574e11fca3be0158128b382155e9cacca9f918224ca06ff8cf80239844a616b0414589684fba44b7191e3b16910ef6fd3b1d8eb4f11fabb98fd9b1d39bc8715401171da55f059dce82cb3a59d6c6c04ea24c2df3949a4901304e48b6ccc7c35051a1fe7d14baeaa583a3c6e5c283fbe8d7a7c5a3188d36b4602252c90c7d0ff28b2106705fdf1b77060ff1fd02ec215f7f4473886e4a6b93bcfff75683bead4c8610f1166c5908559e50e9592f062374fbcc126f5269a17e5da1e7c187e6b16674d317aa5e0da9db7a3ec3dac0728f4c6fe85780eb9fc10a144ce502d9b0a073377cd75c3f07a71cfe594c33efb7709ed3b7cd83dd2d1d6435855fc8d49667e69077e3f96a176ccfd7197062670d295892d9906a8ea8df4f6c317bfa01d228c60359c9046ca9748e9898da0f09979ac9e1a544d1247b5e4fbede828e6febad67e889531672a5d18640987b27caabfb6fd52034463e7dd6a041563185da11de744619049852a17ad9c344c688796aac989097e6aa26f7959f0a014e6e6653d5ad8c4f2223447cab78c4847d08fe19c09f6bc4ee39ad16ac897c3b9c52a8a747ddcdce77dd989a5f6fa8ac4bda973aa74938cfe2bc460adafbd8d7e699511f81a02e46b79d68378ba795674f1ecd64b56103aa90ab08ef6ba6f94e66cbe10d7d9e61f671c52885fa0e0265927fee0bb2dc88a51c23cbeb4c48e36af224f14ffc975ab309a5903249d6934ef8eab8bcd27500d7f3d51ee6ff4d27de07d753770360b151778029c282b3e4377afaabd2744fd79206df50ae4b03e8901c1283ec0a9a2aaadeeb857885d662d4e720e8231b4b6e4bc5ff8297616860e7ecd945355265ad6a766c63fc3f9f20502775ec0a62c855a7361718c59922d2cd7663cf2459c5b8067b2830b9594cd7b9ce0063c4d1b2cf83d179be4b25d91496927cab3cef34ba1f3571af676d04cc6c98eea98126d955447e1689703af8a767166e4484bd0fa27c955299a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
