<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9fb5f275caeb0756a89796b924ee810b39823e16621812aaa24564d68de69f3867f1af2ea5301ab781eba5fd0a01ae18decd3cd98bf67651db0d2951cafab749dd53342fe018568ecb06b29d2a9cf27ce3630c3a50e494cb182ea7528161ab6cd713319c667e04f0ea65ab22d0a2b03699c24dd1b72c1712bd96f226793555621f03cc974e835dfa42f72fc6b876c1f20e360b2251972a7a64532cf3cc021db0906652d1f28de56181e07214857729f2898d28f0b83b10a8d900c8930f1b57184fa0f864bd4200a9a5ee8b156928c2f2b686c4511d7108cf734c40f7ffc74854a788456db3206fbf5f757fdf708fbef1090edd04acddfd79cdd025584ec76bf6121133000006f7d6ce09c5ced5b03c874f3e34fe60993bb6f97f7dae709ed18201b36ffe25f10fb1cd4b7ee06f7479e1a5fa7a96057cd759025b9ff6373c21dbeaad1b199abf07d3996dc08d585c0d511f819f1e761fe5a8d989f5bca53f2302723f65d661bdb8c20e84cfc1c7599c23b98053cf3b97b0c81e12c93f14fbeb219f97e9d5fa6740a654c5143ee5c08a75fc5b14b0f3e7315ab1c438417a04f48ac77e98bff135a7c2dc726c435b022fbf1acb6949401cb30652be8f570ac844f072f116d9c945117024451539cd559fa18fe8b8c5ceca665352ffa191e3ea34e350bea9e84416d8aa637c6e943f5a574aa452376dfe417eef3b6ab0ef56ff0579dc05e6f41eec85ae59241d97435c758033c73aec17bf76648bffcf30443b94d52834c25d831fb12b78d7d983ede3a9eb0ec5ad4a68b8db73f0850c4f892f06b572756538fd12eb86147aa37c943099086144b420b006ffb58293baa347b559a971789915c8650550f56389ae41ff7078ae8d683208c055799e12fc091de4cd464afd6419cd6355fbcf8879f4be98b89aba57046989553796b93ff722c3041e1e0619fcd43f71d34904ba5c74cee4f4ba1f56dd48440b5c6a9391800ef1764b878ad58e777e1dc5e68a7965a52982e3b1ddf507ee10e4fc7162f8cd5a7976d7b53d80eda5efb03f60807a5cee01ca6c492229d53315ccd94a8a5a6fefb1a83adba3aaf7f749277a4024a8fc1a988e51ea87b60c734813cc1212169278a6fbaa2c8ed5967bc15e889fe1efe5a5906d0648b5cecfcf7b726de9fb0e238872b4373661fe1493790f4564e7ce5dc256bc4c8bd81d171407c67d6f49e538caa2ba75ebd19584e05a2225364cfbf9e4b58ae24a031dff84572cb42a43d315a19f3f70174fc665c05ac0cd37314eea23a036e844a35242bb2cfba8fb460a1418e996d7212358c21d019e1e4c5e2eaeefad8534f0c694608b91e7fb8811de3f9a152dac49a1841cc58da1f04dd427347f9214b307622438263582023f13e0b6fab2bc9ad0a2e6020d838148768e2d16580539962a49741ad5246c62a7ea690ce08660a7cf5ba5c56379acb4e72996be26246bc3453ce452e2880590e1887cdb18bf8bd60e56b8904fc97ef0cc08a9d3d72aed09383385f12b06a3ecdcaa4bc46aaaad94070db71530985cc2087413ccd13a74330e08300f1d26e5368325958bae6f6d43f2ceda9f88ae6f059badc993502983c2864ec7c12b409b60f56202eddd49d12a0c83d6b52c388ecf80feea1817ede5d78b6ebec4cab527a4caee3229eb4a9fb7855f1d6f0cb56849d99a9e37d9dd8f2f3d028e685027ccb590f813d16dbed7e11a101436bc88571e2ac4b3aa09806cba19a00b2c2f8b13cbe6414869be74378c84748c75118de526d0082e08f08bbc74f6aca88d3a5b9608a4a624a3db5b882aa24a06748dafbdacf740dfc28657b57e7f7565ba77304df01dd4885311ab72625f9621c8dfa30d8a65918b7452d253c3727f7772794126c2ffec2d8db37f437b23d98786a82e749381a42f9b35e8615dd9c38d9d0d5f6b8193707d7a4bc77dbae445b6f91d2aff04023e1fbb812d346e0c72489cb15c62951b490d64d4a8e80a730764a9b97c20c930de3f3a68bd11d894104b4a46f4cfe496f8ef17137d0c6924f1ba46ccfed40c1c2a3e3213b50a84e283e34e6e6ac1bbb5a5fe933013d7a737dd52ecc348505899cafe4c279ebca121adc8bbc3ae21b30e3750cf799e8fc83b91022183317fc302c386bd7794f1da98ab3f6a6de2e0dbc77bf40042a1d4af1932be13ee21d977df9e22662dc181e04718813b2efaeb41f6805217cac8caf171e015b65a4beb6a620d02768be67fc43fee300e6cde1a567b292c3a2fd68abcb3d45cd03dcbeb22202557b7ca5f9a347b77ce4babf54c03c950e79209f4cbf74a71c026d0374f79d84eac731980ac4e8a5235d9d93ade5ed011dff62ec614c60175d32361c28ade2af3da0907816f74fbb0db15ae6547badd2acd3f15e5e956ca6cdce46c2fa2d5287b522a6119e3503161652b33daa8ee66aae8469cce8d086953b75eb90fc7bf0a1387c9445b6b51bd22843b2cbbe36ab95600f75698bbdf84b4d6147287c6cb1d0a3eb3c90d2ecc382c3416149a40586cc4f6fd12a6e9ed2045c82fa91e879395cb989a62f5de48bd2eb745bb67124d16709a803e53e3f5c9b3726e9f00adfac71094017dfa90b4f2e4533d5bc0888286a5ceda831cf6a6ad56c939360ce1fcc15162a2f135a43ec782b7abc2672dcc4545e885c32a65487e5fbbf31a3e4f47f2290b264ddba207a0ef93fbaf39a1273ba03456c70d3cc8ebc99c0d4c5d066b8b449453fc613f4e5b8d726a201bb0ab595869c2ed3d4b5aba159dd03f57dd843a6849d542912117929aea9d79ad7308d29519b44fc9cff4fb30fde06b25de753ef2b233c239b3f9a374e131f6b8f8ac6ce8963e92c89274c636fbdfa11ebf6a18a821f6b5750ecdb0ec252cc27d86bcd235c77566204dc29798f6bf9446242b32624a0ad8511ad5409cd138444cf49fa18aa99bd5aa025e4db6cbf8d22e393aae67a36f9ff7a9f90a374ba816724c94f64d7e8c84c1e446cc837dc671eea001d5a0aa9812e54c946ae023858cd91b6b9dd86d782d19c4a5dfafe17ee61b5d894b6ccdae253f4f4d9180aed63fca2de1b734613acaf173a5993086cede37cf137ca87043ba234f2dcf975293d45b27ba59e9e057a02ce928cfd4a34a0bf837a4b349cd21ef94a613cee44bbb7312904da8ac156f1725d1f67fd937ac5d7a9506b4285de6e619b9af51214f7fc535a544e6e34b1d0d1ecc66bcd751ff66dd3e3ad35091ea1530f2e9a699c17f395ae41d306290f9e60e91debd62d661475a0cbff9b3e9f10760edf1cb6c49170d37d129d802cd1ed4757baa8849d10a82aadf2c748954466d5be99217efaac6a57a1652c734a0064833245c44e23c2791daea3741918e9331ed9a558096cbbdf1dba38b1ec410cd28caa992e4aac43373569a04ac6c1d35fee5a195f3e9f222fb20040eda53ffe9e8bf4d6d62837558e9899dee38571fad41116ea5cce118ed96b16b693559257ccce87ad704b31cbc5a37c53e8d9263c55978b288302ff53e03c7fef1ae848c513545e0dc93dc7a6e723a21fc9a63da0d9b70b739dfbe831a17950e4605b1999d29bcbf056ac0ffdcb429218219c6f8cbae8a0bd88b2dddbd2b1b3a2ff391570abb627568e0963f5b1455287c50ad676058d70eda59b7a55ebf56e6cdfd64cf7ddb6793463c7a2f2dc60b37c22df122d82571ef362a82a0c827347ad980fbf3c1ca9bdd7396ab1f6bce16754367a01275b6556dfd1dc9b8ef9ad39643560032839dc468343c01e90366cfc32fa4730e676cbac6496a5320dfe82a180fc729a36c1b1f5be67a6a224fca72c1d6c13b6357609e4ca3a6c776dfc9210e9e5198ed72f786b704b20f27f20cd43ca94b87bd0728ed80f0b3da430987d6c5a54f5f19dce710bfb262bb3127a184afcda065a57cdb375eb5040386ff22323c72b5c443d858cd4153caca168b191f401d4e6432620e291de0901e218a1082e8677c0bfb43d70404a46666129add507a13a843849304813150d9bba87a69d08c2ddd65018d7758303569b5bb12930f99799c08c29ef19dee3ffd1eab175b7559fb6aa9428ccfcca6b2955d3795a023c824a957de553cb94714878dbb03db1a3eab745c433d999484ecb8f044467b602b4496320d8dfe1e9801e91073f9a0e5cc1c6de6717d83822f77a949ad5910ca1cf7544f28fac452bb645754e4d6b4f8d29460ab88f2a1b270375be7daadb72aa49e56e2eef90bf3514db3b44e82cd48795fd71c4bf34282eff9dd3917a233f6d684b051c14fbb014fccca284ccc52680a701b56c35e77156f8e9ef2e86e91055ee665aee3f2c30cbe70bcafe4fddf168c4120263b9981ed8783c33b0a362703d63c0c4b0cb1d84989da708763aefcf408741d29556ad4330cb32ba982cbbebb114c21c9020556d96cfd7fd348c5c534efb913c4ae7f4d6052da4b9722436c68d02129a9d10b8660cde356c07f42da2b42d2766b9c37b01e87bc3dd0133be4b2fb9e4887cd3038edaa0b0c392029b44c6e3c142d36e43436865b13e434474dbe309c0a7efeb9c2117b1e635a12b7ad813a9aa2e6209968b289b42605ff67a415462739e80c285d4b1ae491bd92fd52a267d8629b11d82991229aa6fd339256fd2bda097b41fe50f6b2a5d319a4006ef3ea7d5965094ea3630cfe262716ff8e82e529173b3a7755c7e2f2f3295b00a3a96dd7d8c078bc5b401504072ec4c776764491fdc3e957445f40485abdea8a844f0651b15530e2ef6c72d4bd040b12024b015220861ef8a853e845d020145b9e005f49113885cf369548632998ed573a91ba25b0e9ccb33bd5a96a8706f30c9a2de993acc7c456008cc56e2a7738b78be960f1403bf9dcd53fe4cfe1bba82adffd8bf404281ca4626d77fa4415bd50941b162167be676cbd8b833981f9598f7ec8ec29a10cf65db53793cdfbe54d71938a6c155e58c02afabcc2764b5b2bed4018d9c69ac89b802ef330bbf2fc3d8ed0cc2d227a131367c4e7d7e0bf7fd9531a533e9032dd8566706c9fb37e8243e59f7e5afee06782c341caaac99c78c09558d4164548dbb4e065306896f704a7bfe08c5383ec3e7d52de90e47e392405d9d19d7283d5238c3f7844de1dd73087b3bd4f0ef31858a0c0a77a7820aa76644023a29d4238fa9a94f1ddb1ba2f88b9d6e85b4ea07772a7a4c7b923e8cac44cc1a34fb5bea6b04978d0c4e1f0003f0f7c213a37148e0b40bc9f0fb88db4d8545cb6bc8a58a0682b301871368d367bcd7dde0e1dc2661991ce6cb4775b2b55ee4b681fa6480ee42dcd372679890126c6e6f8cdc1a82ee526bfbf0fe4110d32807ff6406933ef57f45ceb4ad07aeb5ef2f6555e1c8d3a07b759837677841194a04b71742df43e268d46d4f80dcc140e90c387b1ee8229a1cc89b5aab9b4b3245c42ea367ed552bea17af1446da737a88df4e71a3f0588a6616faa08305fe55f511911a882d0ac1da0d9130d91adbc11adee6ec38867e3150a8e9963847a126ed221b6b83a625e39bade527236c59dd6df6279055a9d38c3ce5ba773b44e08805d864be8fb4acd58c4e52997b62465afbc931c2750378a63c569beb6543ff27edec626e9f7e2dc63501453eed81d1a4f6b8e922e1546d6efb40bee4754055826bf5e5431fb49ab3c545ab6bfb7ab6b3fd5445313cdada1a5a5d2a4c82263d8ed23c941ad596a53315d1eee26b3d9b2d98cd203243101e54f4b4b5ab5f7a7f245a015c20978ff8e48c876be66fa154b977d828d43d948d8a5d5e12b188d73175aa96cf1cf588566c69afebc51bddc8d4cf0cc5bac613966ac308650b272efa03aae1c13b6214bd751c616bd199512110c1a13da049377e2cf7692e30b707e345a03e86fd58b9d938a674d2ea33e03978d6298455cf81a7ab8bd870ddf322754f64b7987269863e246676ca906e0a7e5ac92b97c3b75086f6089b365a2224ec0d7ba128de1c692d47344476ccc9807d323646cdf82648d5835d639e8237be46da17ced7538e3f5a532f3ae734488f32d7f7f2567da2fa28157c8e48621e42825d0bcd1aa64d7949c891a56790f935b4d93716ad11389e406dbd7a3a8d0a7f0487972739d7ded69c22d6e3c2951175f2bab2d54c6236cb09b4a7789207804bc5b9cd7ea40bdee3c5afd5d90bfcee707c691e23af6c97c11da47f2af2c65c03a3367f281aa6d521d1d02a1d86df01e7efda457ce97852795ac9bafb47b6c69c5da54252c971ec5b80649b7923e4daba73028ee58b9dbdee24594be3852d323f111b2eee40051e36cb21ad4a758836c9427a19bc75006ea69ae3ceff3e1aaab25d8e2325a54af2362fd8f0b89b7c478cde921388cf7f09d4081f03057390fd5c5167059bc86d169fe586a9b97e2d92e44a5e053556254dc9b5b6dc1434951889f930922199195bc0e781b46b202941852c1633b89405986b7dd92bf0c0c7a3963ac5316bd872374857857a4947b4fadda78f51814c9ce6be8d099c556c7690e9515351f0bb7fb0a8ac7b9b789054e09e950d3fd9f942b4e8f4de8a6d0e52e99cd284ab9373463e2e572a30507dc6fa88493b043a4be282a47e299575b70289954e6944cba8f4ac0d1a2cc632b300de2d793e253c99516bea089e3383fbfc97d6a9eb60b319dddeaff42b2820e16c646418eb0c39c3b5884f0a58f290b488c29559116fb8433e23eaa8f15b78f559be318928941e34e85057463e8c021808d06c95c37a22a364f21578137063be639eaafa6c9523335e8749ce16da3af9a9a384eb642355c1c160af1bfa79adc68db63cfc5a5b64c56683eeccca86d7f5adc36554e1a00e0e096fde1e6abe60d6b194feeef0092da25e5013e4c45256241cbcfe1547544dc7b05de5251870976f21475f436155747753d78d42773374838befc4133f60b9a9e854293d739466ee4ebe0308c6e4db87b9937a91e0947edebcee337fc0f46568bba0e951bb42ea17bf076422a882f5b142df82136f2fe47a69baedf44a6c8671ffb77097d655f2328af605da44d407ea5e8c88d8cb1b1817682d4269fa54063846874b06f2f3ce00f471374ceea4f6c5e96957d497d5ff5d2595ea02f2ed7df1a06adba1034fac03b42a3327179996fc5e1deacc8aec58f62fd3ba6bc621aba70420171c020c5ddd8f80cb65b74ebf43cf9324a5ee8d573c9fd30ea4b531fb17c1e303904899d735e3d658fcc5e4f1e098661dd4fb6719da770799884cbc1606c1fa3da2c661ccfa15e69c3000060f78b8100726ff704f31f836d447f4cb8360de167c054d158d1b090c5ad0f35bc1ca0419a21968500a50464285884eec81137b116f9f96e8853181df050738db1f448fa3376265dfb22c967fa4038fdc4a56e95e3830342fc072019a29da1421e647a9cd5ed9f50dc845631d5fc82f638fef18c990fd16b99c5df9b02dbd5fd031563f0850039f22d3078ac83c7f5e5d41a2dac90c15aed7e455a6c2efcbd59220cffb758b491676a97f2984c867f920250e5eb3c972c4bcaf951db2f2b4e0bd88a7be5228fbea538fcd25f593a5fedec83e2f6bf6cf327de94ef55d2e13b57dca972706cb5dea6d31901798869249387fda53db715838c97cae523a3366a34cb45ef92ac9ff58ff2a7631ade27753b33017dd81dc1789c1d77e6071939d835e72ee6b7cef0361ce4450cb0807b6b7b9b0cc7e9d1e9f3a5e9dcc0ea6f7c8b2669f2385c5a827b98b32ceffdf4560fe341934bdd6441187d45705231b796f02168edd7a0c95c39a097e0013481bfde0f83a0af05e621d9741f2c7f5c7c126148301d99df9d6f2383856332a3a196a8cb79c51ba86177bcd8e2d0f794721fec6891b33ac317f2705f2eae8cdb119db9867f5263ab878437b6b17bf4f5c250f7f7bc3ea68818f1ff0d7bd864b544b9c198ca5cd7b8e3fa70646fb4b4238253a4bf4a2614a97d4bf944981e51b2777321124f06633baca7b884f5202b358097db4da11f935a84a74f9734e35b7a59028dadad3e181545d4092c23b30dfb22e7ea8e97138b8dcbacfc6bd1b0e6463065b1c8cff3a5ce9a7eb3d0dd0d0f3c8a163624acf5377122fd6d77b9ccd9e70ca531f3170f5e68d1ba5fd66ce4050af86bfada2913dff95dae0d2be8c59668cb19ca6be84dd67deeb2e16284f31b24060ba7e7b6c37e11a894c6041ed6a681abb7b6e40dcf7506792e9d45abd166fe7b819672443962b1a7cdb280455ceab64b8a38db2764355d1b9922ae9f905d5ec6be2d4cb1b89089885137e525c20de1ec09b8ad2179aef7cfa3ff19cf1207720804538f6ca715179137e7aa3147171e0de34548bd4f9228effe91a972f934e77bdc5a1851de52dc7c4a71f0456ffeaf3c3b842a080ac7d390bc28c1e3aef9cb5618f37ae30ee087f80ee1d25d906e067339c79de571943c2795c7b06b25c959165dfc45f9c88c1d1a48ae35ef704b15a228a37d72bc4aa62a813e46cf0fdbfcaf0e683743aa45b101e4bbbb1a2f51bb8f4d410582fbf0d8df5c3273a110b0c7959c278f763df886ac701f6fcf41074b1ace798c3cdb0941c7fdfd7a7b71473a4e3aca5a5503b94f2bf2aa58275a24e23849cbdab63fbdd95cdb4d99d4cd722c22181649af0fd843d8ae38490ac97568a0b7ad33bfb03d5522f54fe7bcaa62641b9e6b4ddbb951e0f5448b7a5f8c913a212daf7ebaeb703f5af27bc9fafabe06064843039d136d36d9e68df11c8ca53749be7f66c9a70e69b48126c132f5ff41d617796b4f58ef0157631bccdca66e61548ab3339a269a93b2cb2067de96d57e136441121a62c9a48bed8a2b539a56cdfd5bd351df97eb030371d7c1e11fd196aa4e4e373ecc5cddf4256590dfb08fbdedd6c330c9ee4d6dc493d2897ee5d1f7bb2638fbbea9fbb9dc3b0f63e3c05b8f5931cd17238d4b9fa77f1d1b638ad418ed42ab62b7ee07c1c56d7feff76e68056b99aefc9d0f5d14f713f69a09cac55b225ce362498b2661944e4fe01a1ebf1e80579f9ebade3b41e96eafa5c23e75ceed4072e181d403a99e0b08144c7ccf0a9403007e8dae5859e61940540773f755dd33c7b4c8f4e02f1585d87a61d00890a62893d9dc37e92eff470e4c42af9702f5473f421bbee6f03f88194e21fb6d35d448380ee3aea1e0c589878e34f1b0002d1ebd2e75cab525f32f42106dac9b6f21ec5f4f7d44c6316944b248caa20f6c64b1b977d85ced1eb8d59e9062d0ef7fed29d39b13ffc312e3f09ce016dc01c5e2d72e10f8090fce3e709e1b2091ff919c654066a99c832c4c473bee9eac51b20c5fc99f39e83a54657a31361abda4a9c836f6f1c1f1dc5d5448f4ba1f9af69fbdb0401a9ab1ecd31f0b19568e8f52ac3331970c7ac2398a3cb7f9c0c05fa286d1b26cdd9e28e2b244313426ffd0f286ab48c8858ad8b15a76e7d1d1f4e84009a04934ddd798e4988a8853af2cbe66b6a9078b42a07b22536f519adc436f04fbf7dd9f202659f1a3b81131c431e87af08471630f816ceac37d8420df28a5eedc5bebebd79cebe6bfbb8c4b5b76141bce2ea70a60e8cd1da3413e85fd05d34d1b0acafc68fc3690af9e00143f1a01283a20c334799ce247a696bb7057540f0a7f6fd81627cde96a99aaa78ab917d85a96e43e93d7c45613233c3e274081ba0f5931ff686b4e01e1da29df22c5e1230716fd2fbe96cdc1aa6abebc25b8db8e923f08bd7daba7a2aec0dec6ea7bf990b2552c4eb6cab848cb0e03dc7838822888bc6b84da947e3c0f90402a478c65339f7aebf66acbe1f0f65831cd3962daa545253fce7f7d01ffeacb358728458865a6afc70d9f671d92ed8804b50f8764ef88eb2ffcd7b9417f2581c768921ab4811bbc7b2acdbda449b2436774b51531ba44499e48b94720dc3de443f434da286fa11400db19f7036e8f6f1a4f6b9c7c07d05e571b4c34adf6d811bc4aab8c2bad8e38164ac756a0fa7bd93a57de3e268d6552657b70cfb4c88b7b8b99af90220f3c0dc58f9445400556858a63a9b646221db1b7cf25c5f85d819dedb0d7140cfe37e6e153e6a6da6c47ed3369c605079fdaffca076dbfd68a71bfc5f7ebed5434adcc3eb238fafc436be8b9a48a8877333796b58dcef3acde1a494992853568765eecf4bc63c230fd89fa70f9501aea4811a111499b611674e80b381631e80b44d41ab05290235fa68992c7eb093587542ef8605fa75ea0ad773f42bfe206045d17ae4b09640c1c460d4a61ff2664c26681fc20bda3e5fa7ceb61e4aece25a7eef71939c1e49beb2111641ab5cb065dd7f8e45c14991c93cf537168b60bd56d6149ff60c679f3bf8d1af9e34b469cc484c530671bacd49c1897a7021a9669dc98d6008b044bfde7bb3ed6329baf158ac7bb9c954814a14fdf7c8d1a1ceda8e97c50998bbce71f42c096a634e9f21e6b49364e83db03e015709aa425f97a42eb6e06bcaae651a05a3b482aa04c751de18f8bcd3b40ff3a0d674f3d474da1b1918f1858b743c0f803ca0d886ace777dcdde2bffdbb94283ffa6d7fac1118e91a5f7748f1b316d12181bfa566b17113390f085f70e57f1bde303e760213fc9fe87a521bf413dfd416155591b15f787ea5bd0776a5f5c4e58f5c99d83d69cc9e2ca5e8f6081cd49f5626746ed246c1da5f90674d28313bd73d3f7434513674d44d3c95fa0a529ed78f03de3ea8a37267cf580a0b9a4780a123d447a843cfb3f842565381becfc55c46e0b48f0a2681d9dff33504f09eeb6c7f4ba6f1f2395ef291343c944c7902c1cb728f724640d38ddadf150550a3539bb3141911c7e5a484eb72769fe3e154424659aa8aa23a82dfdedd03b828ba7dbfa67d4d6acf0c2dc567400cc737a8e2ce0f9c84ffb844b7aaad10b528fc27e71ab6adde7b75b497a5b8984be2e33ae172ce7b2521a2238b1122067111d4645f0a524792efbca1d0526dc3d7476d1375bb920675c94a54670ed87a71027bc8656f26e7f14d58599797257df36c387f7933bb79c2ad1421f788df49e07f955591eefa33cd1aac426a18850da56ba6ea129fe391e1f4f546a214b6585d63a1721c481628927df75009c2fd02bc3198b80dcf5ab68b52498417d89a742561ef3c390b21ddd010d205c391a6dc8251c8f746957edf1b7e2c3a2e6a24e7bcf7f65bde20d5459e7143a01d41d102dadb8d2e40649d36f348a7d30d5976d9fb7f53c0c8961b3ac2131f5515a766584d0581007aa9d7ea56e31a3159b7c1d17e1c0b030c1448503bf4940366a010e72065f4d45047660cb7356c8503dd1975892302314b2b3fc3cbb8e5cb0068d7410f782110679d6e5fb099d599d9d0e34332b3d76c67e54e32ebbe478bfe289c65d68df12bd191ea648b271bd7e200e3762a20e9db50aa079a62562b0a12d2b048187eb3ced19fd7feca9f06adf27d6a62beda0a71e9f6b9eb8fb786d4c7ebcb2ee7609d2bfe08ae1563ef2fec48224bb70071e70abfa1f83ad5c771cbcc3a24386635f62168c2841e807b6f52819fe429d97c5557085b589006b49f003e0f9ffa417685160c02266c96a15d61866b12b6af7a763a3cc3a08e5d3c241aa6bce392010ca465ddda135590add9e36af994ed4407711286ce32a21d680a623904a7a8befd1a0222a24d25e1c3b0356b74d7977e55b58a03e95b8dba4df38659dd72735c4d24c178f9e9292e46858967185e7a79cc276eaea6369db9d8d10c8fd100929f98bafb546f719debdd186051d53009ba170f7198fcae0ce441261774eea38e85526de7ce47472db4fd10092c685b99209003d5dd87fe20b1b4ab83aa73a466500c15190e10e925211dc66253f3f2979cf3190f9f73872b8a01444e025127f00898a4df4247ae6d105627dbbaa87acbd06f0495ca98cececb8bb64ffca7adae9471348b2d2b80bef127b7d6fe9a8be3799117767d9ee8e32d6f67846c3fb6c2afc442e27e23d06f4e3e43d4d0d0cff5a760ec9d70a190edb8f91151c9ed667d6ecdb45d043aa0affa036bd1b906aa9f53ea399fe695565612a34a7db3d6956c3a1b40310afdb1359d17d0c4cf8a3696def826c83c8869996e4fdec1bfa64639b6c9e17336ca2cf26a96e178733ab56a089b1234190b5d24e2a9281b7933b20349ef3fe576cd6e6fa8710933d37d1c9896478fcf2925337813837d71efd3bd69966af5b4ac9be11b908c645215438038b20e0709c1dd2cc3d01f1bfe540090598e472a986990c08ab201fccc40fe0fbe8277b03c6b1c14e2ba917e4148ffde78df19ad5bc82878e69430c720c042a55ddb1167732497a84faf39e73e64de971981cd5305dd60a1766deb9234719a47992dcbd3e65f425237f9e02653e0347bed6b6062d36337d0e10e1564b0f482ea97a97e3ade73e487f5fb0d5030b78c879aa29052e21ed9eaae315c5fec7ac1f2245b5f253dda4ab9b6bab1fb5ea8fe8530b39b17915d1be2242cec5248db5bb570e465fef0cb023509b535c83e1416bb92aeabd9aa620db45986e46c0febde3f911ed36fbeb6d4b97507474bfdb2042123446fe7444aeb181a5c07e4564f980c3e0cf01ff2cefc869c2a7b7386c5636a1b8f0412e290f9280e9a35825575dfc9736ac063e53c2fb26868c64332af52f7c0df4255a34b1d1f3aad9acd3f86a71602cb41d89ac8834f226e68f6d9655e5589357b3b01d352fb75e64c2208afdd95511ec979aa1caaff0dd003dcc756102628db6f456e5dbfb78dca05d03257e8a4240b52ab171d101c649d2b231fae76786954b6884781b2176e6b9968b5adad42af9fa855e40721f356d78495bd66da5c04b22e8c81da734e53eade488753694c31bff7d280bfffe0cbae437add3a14970ef404442de9563c1ce81c72fb98efbc3380f03180b4170005098d3e115570bb1cf29223d37144c9b7c858b7086073f2a243dcc39547edb47a89451acc2049f436046d5582be9a9dc3ab5b8d0c77e68359faa7015ec3ffa0602acf6b7a510e84741dbb78199b9bf12d59de8c782913770253119ce97d0263f0879f1777e8200a967c5f5b866c71689c358a71034a2b00add210547baa3974ab8723d0d877c1352445359122f28a7cbed013a7bb7256b36972ef95dc0c97b06f4db906fe6990e12ceab0cd7b28d4533941b4e92299c4f7699ed41d98e679b567923fd582a6235e5073801349b8b5e27079bc9d1373f1d3da55925ba4ecfd5306d60e74cfd373efa44a48bf0f17639a464f0154c43c5130edf08d9cd9a0429aa7f5c64efd82ba393e8510868dfccf66f58c8eea8a6c75097c0b85dc8a2422887693f86b5228140bd3de2cff9c1366a8064c65b1438bb2dfa2b3c9abd9d049b0e709e93dc117e48c45314b3b832a3412e144db36a99fc893ee7cdaf08f62745f6582de428d78c4e9e10bb58ddca03098a986b810233b761fcc207d8690f45b11f6c75096bb334aaef75ae7c45bf324020bd3befc9ba8f2c099799b2d78c16a3837c7454e10ad4449f1bd15174dbb3edb019727b447f1afc13c06f0548ef57be9e18265a4a9cd5e2f3078b852e2c5b63631236d036a9613dd6ac565225ddcf4a5c9eb9ac038debd3392971fea45a5974457b626f07ce28c8bfde3fd5b7a986025d98d6d5b7b9cdd110f4277b54e7c3bc71ff0052a407acf3b3560e2e40ffe43329ae08090b5e1bf6651e5d763b5b9a74f4bebda98c60dc1623b5505d3a168cf106b99066f60c3acc4a607a50238479f027678e78c4ffc88af38ab49727d764b733537a1fa8ac6b4e9e513cb283d836baaa8aa2360c547ccaed39acf2ff81bf4f55247d7a6215af5d325fd9b39f444104623aa5177bc4e1300d9b6cf190764aa62ec6f8fdd3f098e6b2d0563511af923631c496b5d3bbe0f8358700391a3c99f0ec3b84406a3b0e6168e1f818fcc60a356c3d0bcbc7eaa4db6123707c8b105af0422e77f1a83ae449be84af5ce0049b0cc7802ac45821b31b61731f764d0c7521e735f9e1d4bf1d31cd06338513c6f05c055ec8b3f8654c5ad96cd2ffb0c28ac0e5d8480e108ef6523994c5ebf304a7fc8f320506b6f1ab42769f66694980cce9625e2e4565ebb19edd9a2b53c889d959b22917045ab9cf78ad792bf5c3ba33f09162f008c981b1c3ef3601b9eac77449a28df57712140178aa3636e7a745e07c06f43c8f622a2cbafa54cad0e041ff75a3c7591bcc0cb0de99cdbe0c33b3f602f34b6be8a3e43a84c2b23739f6ac1d7ab11393adbbaa72b52e1d719638b18f5ffd351f62fde079657e34f4f28ae9f168ea733492278376ff50c16c247ee468ac6cf7f6e0f8ce83ed193cf7eae78d6fcecc5e0abd5bf9ca147392332b24aa2f933ff45bc1057a1b422dd455cf0507963c9cdaf63c56fc1accc8ae1b2082cb9f76e6928a3962d1ce28764feb5d41fa8e3101e1de05b030e62e84b484f06034b116f020dbce73086b98d6ed6177d6877080cc4e89f3fdce89778032762c5feea2438cff829af0918dde9eec68f4e25a1b873d398e089e01eee6808562b703c1997ce9aed83a34ef0bf103ae2f812066a2ae7fb3f02acb5ca42e68ecadffdabddfaf8bb95f7c593ca45a8f6b8939b0e3849c2e013aebffdfc5a962cf6d8cb353214cafd4515ef7224ab140b83beb103c1152366322fe27194a18f535fefa67a3e4152cba2600d60430975564d3dc76217c6f15ed86a66ee016eef28b071d2bec025a66b9f2a0a1e91eadde0c640b15ed4edfcea1d8762c628b4059964fb7751048ef55aca6a6df826fa950df7e41d344e0854697fcfec783713bc6b156327a27373f96018d3930a11523d6239c2c46ed21ae6f3efa8fa1ec8ee67be98c66af5777864b60bbf1b4b298896ac1a0ed1d34702a2b51d0c53d7d0dddd3fbd507fb2e89e5294fccfaf61be1fdb66413ba671a765cfafd41d241efa48af1f2f463664b542a728b89729b4bcc4df675543090255d17a866a1ba1f21f1b670a5416db5c17ebe324f8101a40336434d6325b9591e7deb3f28e9ec54e581b3dc842b0420c074d089e816e98c982467147a5e82ca980e6fbbd6e720954cbbb342386de4c72339f1b8f0226a0a78b89d909b2e8d864dfc13d1534f7c6ee3d8910173867085222d1a491cf10c36f088f7594f2f0bbcbb47a491a4aea17d4e2e3ab532d12d1c4e52099378af181dece34586d80672ac40721241eb760887ecf7c53e972f5ff92d6c174ce1133c3930533dc05b905fd0eaf9252fda00de1ef117a82bc3a85981989ffbfc069e0e6efea4c08cd80bc357e5f5d33b832d70b087a868013440ff0c1df828cf795085be4d9b05dbd473aa75a51ef17e60aa9c72c9ed6591310a5a06107163bb91163976e403661569f5b796ce013cf8666cf9bb87bf63038a69cd4cab2b814dea7e02af08b319a8a872bba126ffb5dac0d3955acc4cdf6c749522eaec2cd239fc29cc4d810e3f001063d2a3c59bb0225f5cfd5bd5fd7bc66b69604ea96344db637954b7b39b9416ce049f0dabdb14866571e61995f6c1e3e80683928d9728feada2864b5e77d2043cb99c8618a5dce0558645b066e060c69f8e40305675798d658b890175208d266ce8d7fd5afb66a2de1ec4e91a3c5a6c81ef54b4f89734871eb338cd33c569f559788abf1e217a69f56ef19561f2859a49541df1a693007c3acef1a198a3addba4042f9c1742ebc15117fdb40dd93b4561eaf4a7d7116ef673dd2993b2e453f2c999d99fdd3d7092daa3d4a81221cb849686a2d311ef83c9c99c061487dc6bff70ae56e7485a2541aa63e2f0c385ab7c3408cc9f199b263512a7ebca3385acecd5be815f68e11ca6e549918d99c7a2db35c3ad8f124a0d54431839935895782a05cc0847c9ba33d2115fa832491ef539ea240b7256a6c33684eefb867d000c5e93969f1d6cb5f6c4c0e2f59993b321fd970b05d8678bc93990a7d4525af085550e66479c0095bdf97666a02d47b80551085af67263ffe868525e473fcecdf902b2d9f97a3bcb61c5b9d2ef558ac41964b30920840c2034cad89da657156ffd651f8b201dccdc2e04c93cb1692d15b90d585ef07b2a932daf48f14b36be2d2f834dbf37305acd6761ae514c12e211350d45492754c486264985679b21bde85b5b6bfa4deadb531fcc6ff23f2f4d93f8234c8f74a3efec8865480a253db32cf1519630472c662c6abcd846a372fa1690bb223052155ca1f127bc32a205c3509a5b3fade69de90d17145359fa34e67c4c978857ad45961dee399e39a040e591ee90e5660981af5a8e560dcad193dd2f9da528a28c3f5b379411ca7640ac49a041596b69719bf76d2129e469e3c186dbf15fcc0f81f5ec2f5df553e5ad8e978b7894dc4cc3c8605290b2d08408f1a0cbe446191fa8557a90a868720dc0a5e9efcbfa007c0fc91cce91e6acb91154ac95038a6228211b77c250ca92c9bc7d6ecfe9fe808734bda4ac8a31b21b10f9385b126a8acfdd174b9b53881816aab36ef859d9904fb2269607da87f82d1fd017b757400f03dbf59ce5c94e338f38d4f628b59390645e3a83fe6d674e9f23887aa1b8e4f72ebe97a67a0de89e9dce94c30efe8c17b9565223d82c5f003cfca388dbd1a7312467bc6fe8d6b79df2b73177a5e8d0aed93b7f3aa1d65311f0917430f4dd98e06aa6f18d3c9fd0479db09fd060ce64b85a8be6bc04f5a6152a0376b3aae976e629447c5c04f317e2ddfe918b42c9401c1f1d08bf5170a9fcaafd012c578bec1cf1b7bc320ed27b9c39140dc18a54dd099d9d401ac0cf0d783676779a33a54cd59306beeac7205ccf6e5ee28e33477a1d9990afd65b91a6631210938c2ab8891ed253ef7e37b29e93d2e4e26c38b2ca7e8f9b1f616aa8056326700e6f99ff6a71ca2dccce04d08bb95c8e1e6588f9a780299ac3292e6f7faaa65952227aa44ac9a15e0bc2df9c36e322bad8a77442da71f120bbbdcd73c6f4a28c92a8550466b736561e240dc58f6ebf40b6305fcd5721a445c5d2581041862b6b876b0c3dcc3133a4a67a20e7279ee3172743a55b6948a3ea3e707720d742c4623dea25f4c773dcc4d31f7114cbb7ce2a13c2c89f149c8af4cf508ce34de1115ad033bfa9e57c8447c34c2c8c7157071bbdcfbfe49ec3a595e0a3fae58ec5ce234dc5c559b0cf0c63e73b97ba3d59a85d36ea3972d60ca37c125dd4de8df2f95ceae10d006f22a012fdfc8c41a294dc3db95320a42358bc53de3012122dd43d3c11f680602b328f7f3b5066af535d66a52d7d725453b28736d22a46db026f440bedfd1cbc2b5ebdbe579c9313c675bb1138806c4cc3dcdab274b481120fe53620afbff9917f9ee5b1c5872d818fcd790a2515668e41250be36ffaffba388cd8cac67d8bf4147e7464c660d811c935ddd630c5730b9acfa075d9fd798f9995f6883e27be13834454ef1c93c36ee4a993c7513efdefbb040971153ba58afea6135860c0306df03e1b921c98af4dc75c954f24b73fcfefadbfcd52d30c51d141a3584a1133353f94ea501b28107d6d0806f93d7769536892fac0dd470845f0fe48dd4e82b3a9416dcd6386e964c9e5b1d1767224e11cb9681c683defe98d967ce0ee54da5e529179100b7ba16441397b5356ed983edf14312a4ad979d8040dfa50875c42299bdee9aa3bbb9ea2191f77e46bd202d075a5b936444f691cced972123dd35e94d8da9acb2662bab70a28a0295985ac5d73f86cc18c4caa751700e72e24a9075020b3f6b6787914ac27a59af2a20245c8b5284f72e58915b58f32c1d548aace45ba4fdbd9466b7859d16acf08f8f3caae020d4c6ad9d316a8076602d543086bab567fab2765a0762017a4811d845845c7d7351d026da4b2989e2b1fb1d647d0cc6047662555433b5d84da920a00bd3195bcccdcd6e91ef83e3ed0f12495ce483fef937171a6a70f36e1dea7d29ed751e7fc460a71d8421f2232ee014f8132b8c1c23f6f807948b16cfec6edda4e31042a12aabced13ded7107364208f01458e80036ce7dd3b64e82e4fca3d29224322654a473498a2744d3332b811033c7030b9eedce7f4052f8258983627dae054bdb273d3cc18a92b72e2ee76449f58cb02a4945a60a285c4ceb4c6be48da97b772ed3dd7a0fa99dd816f1c8a41c67fe03e502f785b216af9fcf5e7dad51d3ba1760bda2e3b3f6d01bfe36d93bbed35b29b37d5e0e2b6eae6cc602991c74acbe676ade9b579a3eb4831517b60ff9384aac4ab5f20027e0894b8f3f978a36af72e497292805915f4db652db2e622d57f53c18a52893b570451e6bf4822a789dfa8dbb3b359bfb7c2ef4825650ec5b53521a289cf00adb82bcb66ff13e16ae08b8e6de4dcd3a81aa8f7bd23582c6af4965d546130ad17fb24eb6243c296e566ce2f7345d50b6f182fb7b1031402d8d25118b484fc7bdb86193ad64b1e137774b4f6978a264d3087416832f00c1e3c9b5c437a98f17855e1bdaef62570f11e851e4e7b49f2b8e47492ff69df0f07cafe7d6bba195333ff6d9217f281111bcdb0232f7c20db5d4fb9e69dd8a666309808a4c4956b1267c060421e0964bcbeb281196727a9572489ac4974dda40a680146df49d6ff1a195cb5513539758d0d4d63b886496d8ce5eeec22471a5738d8ef9deb36274dbba8fb647fc992911be7e9415dc4c13c176ba9b9cd009e00ef104c3fdf328c1107d5bf80608420dc7832ce6e9808fd2efbec5c6baf4cd8142c87b8a56101af2b50c79b24f4d5591decd861ad53609c08d17f61c3dfd55d3c78f65fc800f7a3ea44f1efaf7697728e23b79ef4d5114298135778b890c353393beaf7fa6269e72cb1c42e5275c4aa1833bd823558529e0743acc8aa8c6819569725944a4561aa22c10ff5f81814ba47fc958c29ba1218e3d4ae0a4456cd0b50e7d376018b7dfacebb8713fe003a8117dfca39478870abcba2c7c5039cbb8f319bb4b60843f2cf812fb3f107b0d7818a228ee756faa5fd85d64da4891246b6da36ac40ae91e17ee359f03471e7298c76d978d5e56dfdcbe104e48da9b35a08cfad43d3cd2f06ec63ef07316039220d4e03401ccd354adb64cd77a6140cd8391ebfe438c4afdf8238d660f2c92d3cc6a687df59738b43ef58dfba9527b8d841ba41cd828531127daa4d9ebd170429e105eb0bc97acd3c5c9de622f787e253338f87334b053905b2e0e351652c632923906fc608de32969633aed1599214189285fa329c2f01ad15726855249d5ffe4e56ca9dd816f3dab375fe708a1c4750767d3a901b96ca6ebdbcb0a313ce55cd769911e0435ca90b8e30e47b3e063feaf7d7141afb2c2c0d3e91d84516d0d84318eed71d6a33fafcb7f4a763f4f772fd9d00d9b38dec8caf3260f7a81f52dccf422868b0521b3da61299b055b5f4d1b65973a868a98652bbaf693a0c2468d9e42824823ba03496f5e260f20e4d04aefb043fca17203ed384a56a8bd6540cc8eaf01655aef83e5bb48c1d0d41f54f51ea9e9c00e7ecbadc5cd56b0a76dce6198c427e098864585eea6e206b16e5d8b21a1eb93c2bb6e4b7684a034b3a8f9f4cfff8211bbd43ab38a841310db27b86e04364a46f087ef869fc3c426d90c688d3117dbf2d4cc7a4a2f6bf459165eb460ba0f410f13df3a7705a9ef4b868dc5f70caf8214f6e5ff3fce281b2374c2c0c5be47cbd41e36c3982d0d3e05fb5fdfa1c20ab6e03353422f31a8a89e60ba0e8be6672937756dafa27bac36127d260b63733020f7708b956c2f9621154e71d6c3537d6e192d639118ae089824dc7fd27ee8fd3b472c1096093bfad968b8961e469b72f4448c62592ef01d1126d2b34049aa00cfd981e25e261a55583187d01647b682100f8557ebb5c336886686d30cc099143c1e15d85afe6627b3df4711bb5d0da7a8d02d1f79434b763e4411758bcebf1edb58a3b772fb79e4e563bb683453a3342bcf5142d2c7c52fa430871c620c3c22bbe3938c65c5c8c4ff55df6ccccc132c910d89cea105381bfc9ac079f3d6b4a8d81a3f8b92f500f500e488a43cde221fe3b7223550a64f735f200a8cb39c62a8a3243a8626ce73d6b1039e466fdede1283045ad97479ddc96f83aa64af7a405f5db22bdf83094770d89eb9458ae48d2e4a3d753bbe1ddf8dcac7139a33cfda583d1c7a99e1e5c62719a96ed17b907eefe186e55ccf05781409127a36519c755fbd273a17624d64df2c1e07a40a1d7cf0e12aba2b2be8f4211340fc3a385cf864a8959322d56d457e3a47a276d911de1dc0979176642717536d795369309b9b14afba0653bb4ed1640752c3deb3f05e41f7bd1cc41e6167e1976ee84678e1a3af4adb16ebdec589d810007dec6e500647af35bf75e354b39526d372532b1cf14871150775e87328c410e7baeadd6e45d43ac37e2bca08efa016095542b3bcaf8c62377b173399abb793b5726aad17ece660b792bcd3af84283465b9d3dca75632f2bdc0f32229ddb827343225e1c8a027fe549aa581ddd106d1e8d30981cdebbf682c0200396bca441aca0f91cea0bb06ea0e686d8822e3f336f2fd3b85e5fb88e3a59469173bec453b28d4b29ea785cf50eaac837caf69b64a21e71def066fee5d57b20d8e66b07c27314d7769dc887a03de5bfb648042950a5f2d8c6a06c08365104ca974a87cc8d4c00be5b9e092793a9eeca7eabb7964099114e3aad328769fc79c55134934ceb53f901e0034ec95687edff770250e67424470e5d1b1639344007a5cb22d8a3f590cb6a3032ee6f307069e3029240bbf1c5b10c5b6f93eb52d38ce3c19e4f4299b43932fa3f242df3ccc2c6562bf457931894b060f510c095395bf0170383ac6a0f82071d1c3cc46c1cb69d3cc2d9acd65477c033623df1149abd1ec48170fb0d25f2ed6451810703268bc258ed58c6ea608b7531cfbc04a365d843c46a58ed66721fcefcc2d9aa4eb3ea3235addd91a50734537f7036049421c586da3ad881c14c7a1944254709b0cf54fb13d96919a15f5610a1230214598b9e10adf6aea63a28a90134f5a5fdad7c274e01fb4898f3a63ebe0f983f68b5eab10796190424b8b730ca4e01f52af8d75fa75c24e2f1f63af0370061bd3961190e78b74635948a6155de86851250d8e942e41cfdc9cbab1cf0b1b29247dba2d6303cc30fdf5fe785b7465b31a5f8bbeac9794a1bd83f7d6c675399961253ed02e761aeed563ea1a3f1c70ad23a7aca59a0056f1fdc66974fd6165bffbb987e958058e95cdf988cac3480a1ec3c1e3000c8e732970fa8e9b682077019421abc41b1a797e8e1a231bd62e800eae15b4cd91543e8676b59541e9ddd574d1cf817248a484c5724ac0451e6dd64bf1b334ff09f4b162325e0d0b62364611e44ab3f3be11221010eeb27e72b63b49a12e25f0b4eb42c49c15484de14bc6acf178c88262cce7ed42915fe6dede08e6b940c85c6d8fc79b10f6edad5cade8724c3b5e845ec88f30efde95cf0beec86d0a0bf7dcccff6eaec6ed237c8e2335c442cc1d4ecb590cc8e5836dadd3b216e76694f59826488a273a0f6c013e596a78a1bbf804a49fb06a7a09eafc8b4f0337d92504e66f284a16b6e86ae7f14608583f121da81f25a37c7f922f7fcdbb1720f3342def6d7e7e47efc91708216e43b1002b14485e39f44651319af69a4f070d0d881f8e46c03621fda15539ae3cd02c26a67158cd4411d4d3deea797e38509d2a39e9c3b271b9ea931534e4bb18a279d1fbebbfb489f4b9b1f99c1356bcc1e0751cd6633307ad594ef862b5ca4acdf26d031e604899f700e2eab1f0b0521f2ee3d9308c46d6865d62329e9ea93c68073ee5e2567e971ea26195e282314990bea2335b4b778bbf77f41d5bef4b037c5fa99ea3e456b7f8e03f5b3399b3621451a052f17774ecff435e7bbe9b797442bbf7f66a3ea160939967962923c10ba30b6580bfa06a7aa2a6da7993c13988c2502acb4afb13acdf7b212607db987ca72f79efd91c42a553e0476f2c16079a69cd11dad53722cc3c1e8f1c1ae9c1d0cf34ede606c84598bf4117cc6998410732702d7d3b5156240011ac2d30d659e5d25a444f56f2e8f647f67832ef821687fd1ac1640e0769562cf1fc69f77393438a9bb64841e2e7b45ec10ff78f24711c98da72c4f8bac4ee708b9a02a561dc1776b48ff2bcaa0ae40369f1188eab7e0f2082d8fffc24aa46b9a8c03569b4e756e758fcd0db46dbbd2cc5ecd0058329f7d736f764bd38db76aecde504118d9c4ec67d32b1115fb866e21e67849b6b123174d677a4720d51b0dd0a6830b59c3f2840b4bb721038e0e9153b5f309ec481e048d9e993e71b49960e2ff12e2d118651ffd5cf20ff34fdc914874d52ae54ac53ad796b4493cdc01ee630e1387e8f509d17d3ca4b2cb7ee32726b7b1c86124aea0dd0ae6572738a6e1a880125450f8d4ccd58d972041356636705d1e391bf2c34042a98709c5b61cbf21e95dd6fb189d55f3e57440a5d8b97dd544c33c4b2f7066f3cc98393afa4dfa487d3deb2275c25ea5c4432a1e0e0317973601dcb64c2e1047c222510d8336442ffec01b5c93939e76b11cc01075c5037855945f17ee308f82a79e58daa257c88356728a0a22d4dfcb5dee4370ec41875db4445c308ff1804072d46aa219fab1393eb7b8e489013e638e789bd1b892dc4258e893ae85e927bba36270414bcabf8429b36ab64ccf013e75132d5c7090df8feb9326bb8b64a2e78c464ebf57b969ea3be3966561ae9d3a6605556c3f2b8eb7dec8e53e1e109ecbaf181ffc0b0d7b8b824be41d7c4df82d4f615ec14648d6e336bd2ebffc37d9488d915d4c3f45835228fd92e931e94c07b91b94e1aa8037891bcb3baccda6f8f3f14c053a9252a8c78ff51c607a4bb8b1558fa2354adfb6d25d05ac1370d4f07193f528bf2058f427d385d8b23902cf74a22a9b05c14110be4d027b45014a33acea7c2aaf134dd78954dd42194a6309e2a6384d5b6201986f42dd387a7aa4957c15a3324d7e34939a315ca3286baeaa02a865176248388545ef1768f2781021f13e2a4cdd860d024e7a4aab821d53383da8ba045788","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
