<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"87249c0eee08b363e43bc9fd7cbc1d3dee1f579ebabfba564a7b4595ae72fca68288d9193180fdcfcee16e36f76f260d83628d3b01e4221053dba11c829ce385a98460eb797398ef5f3fb0181266918cbd19d1b0f60c84e3dc9f3eb296a7e380d0fa53c0b51842e334627cfd130f093242573547534b5d26b1fda30541690aa1c5a07a2c25eda9829a06de83f70b0495252ab7d6b343a3f234a3794d4e47e4e61a34a5e9370a7d46252abd98687de85ab7d73a6a2873aa0b59db69540b8531ceb331c114239048e0a420b38cad039675403b463e62f2fbabe800e3f3657f55ef8f4463dd080495cd425948bcc9a1e5ae82e4f8f01193ec09ca29ea521131403d653155a1e326d6333dffb371ffb92a313ebfcd65499f6cb12bc5d0f94b347e63f47eb90590343f53599bf219cd714dbf9fd5025172d9aa1be64cd65f6dfd3d6fcc360f2da061ff34bf5b0c26ae653d799802ab212cd457d779b5eb3918e656d9780c088f4a9c6ce8ec27d704c41f4a59931508c3d5312ff5c5d2e0e66cddeff9a2a85bd56da0bb412b6380080080809a020cd8130c23bc98ec1afe4b96154801284f4064c88111b3f8517a27e4a144e5c62dd07453a07a7222c5e47da86cbc3fe3202023538a4106bffd3cb9e668b6c88212149015025f132b710d8224749fc8ec8d7200256c0dbd65b120fe912b979c2070a351392967eb24d36154a8a44c048c5a5b798ac447b1207d5564a80f522a4f06e24276d1c47c09ad3a87e3d5c4721fbab84682949a62ccf6718f9a62ebeffbf28b1fd7453b5cf526ca3adad447888c497dcf62b350b66c45aa87d95b8bcf739d7bda63644ce4dbf6d55a859e9e57485a5d8a541198ba78fd3dd6dfff8688d1519f7fe9ef881f195b1f47550dd60a5d7ac6e7cd123a281b1220079fde6bdf8a77e764149f0ab4697cc304211c0bca829d61628b812a9738a8e1855a3901b1e59c63158f4f7e842bb7b014a5de4ab6ef3f2af8f913718003ce4e8640a03534dd29fb9b0562be329ddf431e7e56297418e340428948052d1e00da95a59a1b497a098dac11c9852dbc9d76498c9df3aecbe3bd816f0f1b77b379dfdc5734a2acc7595b3a9f1e62e7e479e7e99ad05c8786886582a839cb8ec4b2f7db63042ff00ac71aa1949df2d8fcc8fac8c740d45e8fc308c79653cff32a50e7ef063d8217ea1327bd8cd66d8f40e1adef503a955d92070194942c1c34dbc1ca872009de4172840c127fa1cc1bfb8ec04e18983d6a4ce8434b627412545233e0576fbc2847405c0d4febde8a8692253c6d5501384b15b8a121edffc1fe934ad02eaf1a2bf056dbc28bca8621738a7d2275c455e1cdc07c30d33ec39755770b4c71ce93608af26d1657a6ca8e2f4e6d13b72836a43eb64bd7e3f35b02b9b35cdf01ee465dfd91a0d8ef2c94ad0b52ef28889ba417bc9ee2e52c3abfb90dea1df76554dbe08a7d24296ac45aeb459005ecc8f9e87df4ef5400fc6d9680cc389e37b531d4ce9eacfc0c0851ce2fa895ee08757883b6bbf360fee416f374deaa2224e46efa4bedb578d1674a1e638831d8ec7145be14aa6f7ef6e07fadd88c1eebbcd7175ab2fe9a092cce777162aa0fb50fa7bdd27207c18b5f6c74b634e7ac71645c673079b223a4bf7eb7d2996dfd5efb7b9ad45a5e1ad618ca28fe8cafd127a0f91e02080dad3602a1a77e35bb5e6aefce91d35976130af78ad25a417f8dd8e581be72abdf7c8cdc8f5911d5e970d5c07380bde78c7b7f934bc38c015756fc118a03e479882d6ab81427e3f29308dff7cc6323404dd63ac6adbf8246c5e8a81623dfb5ad06cd448c0f9629ad05233c27c9f435a7a497a90d4162f854b8300a495a88cfa33d00b2a51e23973aabae4a52e2c6820bb857b178df81842c1240e19ddef68f6172b6e60f580d540d200acd37a72e6bedfb083302629297a5f6560c851d26801733c9d4afc3064fdba341ee4019cb3db54cfb6d7dc11c5f30ca56ca36446bd37eb7b67857ef0e3ff0b7355f6fa6f5ca64962f59051819cf2487d66e155af6062caf295fd91912cf99ef83ea92a09234c4083bd6e0fc85e61e333207b4a7e64fb586af85c44e2cde16b3f047f3c7dd5fec04a15524618c61cff17e7feae80194036eb56edc6b10a2b6dd5cf67761cf43c5207159b9037109509ba9678a27390b89d6359ea749bc9340505b5923a7aff175b93b25526332da7356c7b63ec1520c44c969788bb8532dad7f92cd69f54b2e51d9ca69cdc4250385f9fae9306ddbc4e9ad153d342cb5e2feb6702d3b4039eb8f9a14fa1aa84911d3e60719cb94594ccaae91797922cdf64436591a91cfaca3d0b53be67e6a8a06c6b75f61db023344cc11d5355fcb86dfa6650f63d882cb647688016310cd0c3b31f52cb128e2e39ada848b4baadd29ff90af3757bcaad89b02668bef4ee4a268bea0aab22e2514471ba87cbe3b31c12644d05c52a9456f28cc7e0d62fd1a454d91ea31c666db679b4f706e5ec65b65cffebdeae332e0aad393fc1732871112be93c91188cbc053e6b7eab1d98ab12c8b512d8141ef72ce680c382fcc6513e9c915cf6ed0d488d1302268609452c4b3809fa90d0f637a4e43c144551c61f69eae8d201ceb0017d893402ee36f8d3e447915676c96e782abd26f66e2f5b51b6151574822ac8ec885d49d8d707db4f2db717f54fb3874e6906ca53f2f80aaedcfb38c8640ff6fd0a4b2e6d4566605e3ec2353a494ad8fbbe457018c527e2a769ac1abb4db85785488e8458b097c44f7d4d64f8ac07c40e7ab64df5adac210e286680f215ce83cef8ae615c599fea853e534d6bae3a0915f638d68c2a75b0b0dd1616335dfa009190544a52c39c1831c52d090c5650fb606ddbe4cfe34abf0d45badb527ef6d872ef2901f04dc76c589720f1a65adfda99e1fcbcdd273fb32f12c289adf68c7cba7926e0886b2d7ae885ddcd08c684487fc4081adad35c1b2d9ddcd1e3690f3f163eb4c10a9a8b20aaac6bd7e8a29e55434afdac71b2acbc07dc12a215d2a4ca48d406e5ab0a13d1e5c153c494edb0674b0b11a14629cba1b6bd1daaffc57c46a501170c642ab2b9642fa16ecbb42e4842e3112dcbeb47e6c405020482b8f53dce37e5b5dbb22f1de231a2a47b83607fc743872b398ea7e12c47107a722283c63f0c1412732af44114f875f364daad8c4b6dde9935f583e11e934cc8087cd8531b9677ad39bd2c6decc6c20c9b7da4951079096b502324f5099c1854a5fee73984237152294f6d1ff1e21909160adb14e6a90d5a383d045614ad70696603ca2fdbd873ad8d058871b9f58ba115748f959df9947de97d136ebf27b05faf31bd8d3ac13c756b747b3d34e197737b426ac26c3eac46d9c4bb4e6b531c8e46135245d6716cd6331cb9d24499911cb0ef44f38f4c1725c36a5277734729fd13900afed4de4166d17bf4411b077e3b4110f3cc3df0f3fae3ada430b5333bd775079aa07bbdd04c0d8bdddb46d29230f93186d3997883effd063777b1ada88dbd1c0c57a42aba1ba7016870ee28063ae30d7fa646d77dbb659cf3147741edae99d8f3afa8fc3f96984fd46e154b82a733076aca9bd1078c1e8097d7d6660c7d166d84fd21a4ac98730de458d801ee8decb2f4cbbefcc8e485aff84d5b9a23827d4109bc31b900fd2c4e209533b35996e2f70e61305b745ae0aba1057eca718280eebf4088dde0b59317b626d73e5207e1095c26dc1fb925dc9cc589a8e6cdad630b6cf882b9db6393e168cff71c61c91d6d7e0e2ba86a32c8ec428c629fefc280746f787cc00d0470bfd66943d3d128f9ced280bbb7ae72649d01b26473ee8801dd849053b11ae511b3e6653fdb0d2c3e84cdab3985e30a0b5f856750004d099a1210f7efb2506f223ac6289973098b31745c3fbe0518e171167f749ada1409c373fa340cd917ea05b2b86f732f36981a6911d3b4e2c02d6a6de9587f9a5838154de28db52161fab0c464bda9a6da9a254eef38894e6d89ceac8f0a74dd1e17301db5c522e151c1981c41fa7d072deeb74f39b426a703d19ea6a70f9bf360ce6edd3c89ff79aa4103e6ccecd9837d56d4d81f4abe0fff2e08ecb575a9999fb2a5bf4087d75181eb2024296aad586b3d3d39dbf6cc761eb21093b0aa514b4891ce18064e7050306b7c916fa2da77465274f7b52fd839eec55f539717b70fc20873703aae51fa3934c575e886bf3be1df046dc2fa27eff3cc62634a2565182c8dccc6691b1a0c9823e040d0facf8ae3897cd2f6afd18285c3e7a160b4dc31075aec7864e2d00431f6deed75bebce3219b4402557efc6e4db84b72820d188b3266712caf212b97feb63d6d079d83559e31add2f74175181b93f132ed55393727b53cf33f878141add6e5d8505ebf64b275fa95cecf7734958d7152d60897312cde0cd95b4b6814972ea85601309e9da87e80f6768b90b32c3b09e9e08fab48a749fcd95d4d81e37b72d193ca44e69922e9cccc38e761cef420b5ad2087ea7a5602211969c22703317490f14319ddd2f8cc23ed1418d67739a19ffc1661afa175ddee23b1efc44d948d3d654b90add311fda6925bce9ab3af7dd76b97b57d02c0e2087918971d619eb0440e1ac8e8c4b5ac56e0af41e9f148571fb96638adff63dbb14d847d1c9f1540291c8586907bb8a708bc5ae3fb73bef16193fea4145eed3330b859d7031ad44f39cad9593a2861de2cbe423536bb2547fcaad06f3df030d8b2a6abc10c18615cae15107a0a164018c61e032b80cdf4522203fede524402b2a385375f9a43832e0d5b3dbc3f18bf961055f356941fa219e0ef9928162cf307a63b02e19f3d011672c710843b2d63deae2a182670564b1064d62f771f7dd1ed3a2ae991306abc7537e41b2584411261d5fa479f4ccb44c8f8bdaae78c11ad205d8a2e8097c46f89224b4888d0e4d4ba13796404dfdb89a74a47e2633d0da12f4d44324a8628ad0b8494fde2ac010e795067a45195482ea47f9082859a9a085e5573bc5ddcdc77febe0516cfecc70ab5e5b00e3dd251aeaf76d9a62dd4c165d74cff2e068cc413be0d66709de187228748239afbfb77e59df8888b6ec9d18a6e9a4c7287af9db4521ba151f44657190070653eda6021f85cb28fe9deb20df8b8eef570c13a583eb20f6133f52b7ddfa71b3b9aad79495357b44cccf51fe70d642819170bc51da795e163c1903cb3f5edc0af80278d56d7e07c497827834a7186204e7a1b874c9639333737703095945aa3af6a782082625f738f261c5a516ea0041b4e3e43ffb9dc77bcc353f95448519564f5cf13194b6c7988811d714c75d078ae80126ad6a493c245a2eb2b4f9b0184a0efdeb0a606f33626ca0dd9e1626a7057a79b123aae140c335656fdf037a9010fcd58de950dc3394b4eb0b570cd56a068fa95a40cc713fd0a01dc76efee9d7669386feb0b88eca6be515beaad2b50fc972989b39138ab2fc160ce469f22af282e3425b7e14d97dec360aa4ba94669d77d4c0258b56191266d405f33234573a3bb6f17781b6415ec03667c5ed2c08c662c0d6b5684903bfcd43fa4a38288202656ffdae482e471226f0cc0714074fe7b77ea829e43b87bf88e2e719a55fd6fe134a9f5a69de191954fb42127940bdc9bea392cc3abedb8bdd9a81d177501a57276c1819fe52668f003518666fa10487319a5b2d8356e3530561c3d26a140e8207fa3c386d339f14088dca59adee550a3b2ba085a28cdc2e3d9e7d45e2be8049731adba107ec58ef98acedaa79000b0ae22c17232b13f8d69ab782985e60a18a1eae545409d17e9fbd5c2a6799af12b75766d76de9a797433073b9fe955b79e86d63995ddc54368f895640183c302becd2eaf3c2ac570c1892fe6d49410512eb58f910a0fc79c0860518af8b9b8e80215f179f16b674905a79cb1a77c7fbc7da5c744ebbf10c57cf12eb8007bf4c8b06d11a5ec1e19e6602fe1b441d3e245050595473a731195eb53d8d42778e5d3819afe3646a5960235e4b806ed5bdd6b3c18d57da68e3292fd2f227b7df50a5632ebf764c73c60cb77e0d140ba5eaa603e8e153fbd14014efae45f5a07443de0cf9b69533a1fa741076ce8543badff69261dca9ae323ee641ef499cb7703f364aff2c503249bdd050041a1904cde2deb62b2683ca2745e873aa2aa5c6eafcf6bb67f3d66757e26d8d2e33db88a57253befdda497c8cffc595edcdfba2bc6772a4dc3984b5244f349a6d76cba45179fac7721af1c12859f6b775bf276ca679056cdcc3b8bb0645ea2ac765d668e632f582ada397c20f92903b5a9fb59091f4e83994123786b706ef54f7e6e02c1f379091618276cef55e060511e8aae70bb232c01f6a1416e2ac7a23abed5a94e2211a51f037ff536f53215dfc2961f5ea267f9ff2d4f6dbc07b1a8eef17ec9fc0649aabded3f853e86a5f5a01b002ebb77009bed8417a71f101e7049946384fd88c5e8bd9fbae7c04c582a247be9899be69f07dd5f8dc70f9ed7d00ff18635ed916013b21614ee51b9ac140285a17f9d537bfdc2500e56ea82d75feb33413b4847834d4ff67d0f011dac7301819902557fb890bed37b95d7cea0079abee01665e1ab4e9f93ef533a070a546dedea8ebea5920887b4f59a661855e42e29800e92e5100397adc675d36102bb530580537ea62dac72acb414b74df1667185b1d8587821d282b22a1884144988570c9d138254d6b9eeaba78ad6d20dc1bd6d2474883b1971b30fb580b9d3b138d143eb678efc2ee86b0b3e05174d9fe999b2ee21036f4cd9c976cb5d79ada39797b35b669cee729451ca8e52920640cf6efa23647dc86f91c0b7b868f16ff7ff98d087fc6f354ee28fc13ea5023fe32f31e4b692a4ce0e229468cfaaaa673780311cbe68e71d219a84cb625daa99e340c90d34b08b9068cc8a94dee1b9ab7a5538ca48017b6a8d719c23e7232e14ff3a53e6bfdd8ae40fdd784ab8ccace5da1a9cc0de1a5d29ca1265bd8f806c9738ec26d37ce136d25e117a53d5bbd36ec3498e7f3b891b1039d7dc45a241cf514fc211a7692717d4e2d5354355436c2d9937286fab4df0c7845ddec02e6b7c3ae64b69802b2da44c8031a04dc9de14123cdab873c647271cf4f6c57922fcf088da2c6a086341eb01623082d2dab2e2c70c5809b542d167e8fab29e581924eb3a3c897a3c1f0b22b7ed4fba8cf3da9207b6d76be0675217c29f23e57266e0898710c75b180a5fa6ff3bd0d239599d0573e2bb071153e563b6eec480e6012fc4a1048c1deb76927971043dd861488c34eec8f498ce54faec3263e1e4ec3aef2940479c0329144f88fcb211e3d917b54f276bb9b5451abf2202e7be84a61338e3f3729f8359f76f595da9713d1c4e15df1c5d3ba625c22a4a66733b099ac82d48e9f7955c3bd1ea6d06316ec89bf667992f49c0b9f07d758b7b3fcda08e1f841dddf96a2df589bf45e820cf6eb2598eafec42f1b816844c418c346108160c4d4461523c966608078577ca8e42860ccdcab8bbc7fa313ba3802c1a5a9808fb79b57710d84602a43843ddd920915e6d828f6750f3c51a775bf48ad844f2058d01db0f8ae34d20d2b8228163260242b6a88debcfb77d4a95b2f0dfc9e5ac7a4fb24dd5b54a25a07228576aef7e22edc78eb76d8c2cb10df5b9d45ce57876a80dec918e81d12e2894054ed8134451e5011432b020547313960bb5e4cf816b7bb64c40e4b8885ccfd1b3a6cc58e76333b77908ca9b7346064d7bd3b2c7d8b338b870f2134bde41e2e0fdb63e7db9997936b3805f38612fc2a243d0d92d61d208925b68041d6066d410d7f4f9fbcc2b542216e87fa9c4ed52fd43d13bed8d30b48f8c84fca9a7e43a5cd3fa84534d0a619857d90197bc13f69e0776ac17edcc5adcdee7e9e9b07a78e12ff07c44e57315f72775d4b12d49e1903d4c9e168d3cb95bd9518647746ac1b596971fa57d92b1445a2859a7895dd3a253a125e443b98d8a0c669dff434c547f0bedeaee81a66d1796f4922a7836cdc2cdfefb1ee8587c1dff5daea3ae11577cd8f6fb6c80d3fc9c142d829a02e99ebfa78b4f7a5ec195dc1a17418c82155e0f6e376b8481be9a9f6db3d2678ed01bb6f91ad4432744a318346907fe1bf76276a90a847888bcc8ec1548a63d3cceb213c5e48b85d5a647f70c491f381d959f8a7868aee58ddceb8ee48355f6174d317ebcc1f7dbe29c2d05143647740b93a76d420f03e283997de614a709ba59547aa5151d9f3aed4853cfc94df2bd215a55286c0c63e4d39ec15bc4d4d3e71b84a14ff5371202f49c84018d61daa5e7bd16b0d152a29eb8d61fe7dba36f3b018afbe673d0b2692bfc787afba72b4c7a1e8e46e581df74ed6a8b846e58e49063095b57aae3d4606442efd24abc9d6c31f48de831282a6b89c3cffca23c8fd415b8dd106ad854ccc6a4967cbe5ebae67a63eb4bcff0b4f9e91c52bfc7694801fdb67444eed0d381bc6312860cfc47bab289dcac0414d39dd5cbe45861f51864e324967e0de2e651fde449faa2cd9236676471e0a3f4931ccbc5b650d9cdb9d2762f35b7fcb4ff83bc1cf8bfcbdd3aef43ba8ee5f7179b1cbfa31946168dd3a153675aa7e327aeb1ba43dc23c920ee2b597a37f17a63d1b8642ba619f319a1228b03abdee7a77f5e81c562e8d145e881db29641921d4b9b3c228c1d31c8a275f86ccc942ab7614701aed3f2d799d2574b321f54d3c5a9aa530677ec00be7fa4d084a3c85baf1192aa7107c073051a52f4e78fd1a9ddff51c02c8b966e04b32c2db0c9b2c8b5540c1d3f3aff3a93e2e4be396f4a978ecbc057402743dfffd6e756d84a5a3bfef0c76d2730b008449cce6c0fa63719a56ab298832810240adc83fb280850fdf08e1c604e1283792bd657aff101d915ea812c980b811f3fa5bf17e27ad2da826bbb2792cdefa194939d7b4f188de69294de6df349c4f4a2ce1804bcca564305e6136ace40a28a9f416cc366a4258d17c925d877029b8611ce337f33d834bc3eb5b3ec87b22452254464ad18c1fe975dd5dd00138a4f482130cb71f272cf82ef4d98c7618b1dad292e9767e1bd1b756c6233814258f91c329f820b79cc58e59783f158c353964804aacb40333ebbddfd1a3847c33499893fac56c4f557d859e212972cd38486c7f474580490b40e888713fac493124734e10f30c3fb1561e9d543799ec84e1d08ec38cc5e48bb68688ef4f59d28892c90fab5ccfe99f8b9ae17f49df39f04491411ea6255f456d5cbdf1b7031e7157bd47830526e582ccf44ab3eee5b2d057eb957257bc081492658969f4864b06da1030e83913bbf59665733cf768820c15a03befc97df9f329be9787068174b32c995e44e8c37a65eedfd8d04db01e8ad07bf57be33234293cad1c5453a816191efba03df4a798c4503c1767ce0fc2b0ef62dadcec09afc04c58981a0cd64b5bb8cd56d4f756263a8ffe562c6834747710b617bae247a0aa76fbb3a9913302f64a7e0bac3c723b96d51f8753bf182a8605d98f19e6b7ae55f6aae56145f338e6dbc8bc9ad4c37e897397d8407ad7a92b8c212eb9fed80b5512b0c0aaff952306b19782a638b9f62b1a59c566b6965f96f37c7085583ed088d0bdc791b0bbea6a6555f82ecf634bd3e92688f69ad1c343f4df42d9a1b32ec202d64bc0fd83254c7613f136b3da5c1fbfc2985cb276450f6c113253665205ddff8587772cf98530be84f699b13b2c1a16256f3ed9dccc5243ba69f0e8e5e9e6fb416663f05e6aa389de529d282548395b676c1c0ab08d2560d3f6b9935707cc936dec9de20ed1f50abc1b51a777250d05e14c08cf7307bfcdc011cc01ace638ac284fdc14714cb1e17d0e36c7dbf94d757d1330774b71508049f9be96d1b79aaf3d71c93949791b61d0bb334e9c2bec5de25c2b0f1e43f365e17a8ed775acd8de67fbf57ceed5b9da17c7e4ff81b40e44e3c7ecd99536cbfc4fc622df54e24f02abe48f0687812401e8e9c67510ed4c94e8ca3b58bb9d4be0b692829c2f5508989556a6cbdc3a75c7fd391b6b47fcce4ea96aff88d5b4938963030850fdc38e499afa76f8b69a864a6c55190fadef4349efebd5770abbb6e4942953989e056902748d06a9b77646a4907464b91e5c5421c382dc47b8543f46af3dbb3b2b9282303b28e166113875cbbbc207f56fa49356eb693218aedd31520706882cb8ff1ad96eecf0dd73b1376fa9fb97ddca472570595b170202b3c3d05c68df7241913b888462cc84c1abd81f69e101bdb48c087bf64a8ba5df0b7e34aad812fa7ff0ce8b25364e55e9142b166505ce7d928a034888c6d3c5b113c811da641b7513ef0a08a3b8a2899f037b3a1a4fdffcbe5de9bb2057c0ced1d663d17c814b48fa151a0527977ec9567b7c5ef6f7071d8675cd90b2bea518452ea786c6c39547f17595a67348255004061989786116079ba13ab9ba896e1c12eea6eff7110f87f60f76d7d53cd8009bf38ddaeabb27378a9db534e9d266ddead10d3913b24770f38c60dc9acb300158a6283fe61c68d627613b6764066ba720fb5cfa288e6ceb031c1e95fa14ac2d3a922fa794d78be7da1fd35f49431c5c155c588c269ab9ed384f63198272bfe6fd9332988f69a35198ff94df030387ef9fdb94df43b62c738608ec83b64f46e942b8857725bd06881306a920f602d0c8d567b8eeb59caa759205704c12d6aafb81f95051e66aaea1c02c9d4b75c91359d2e548a77bc66ef5bcb014282cbc68994fe8eeea3c9c784c57b088ff23ee3461ba3bf8ad3e76112fe738df240a5b44aa0605c77a47b2d297350de40d2dcf47f2f02a7889eba8ecf51aad62c20c9a238a6062732a35fb6183f1d961c0f4fb2220aa723a7b14e49e2042462a1a8c36ac7376e2324d668e3a95adde7439a4a39c9a29e0bf431f8fd7f034ecb33b2b321e488b95ade628ffd2059aabef5c0f9a689dbcb3f658f31449d9c2b6433cd8cd42466dde37e5ba5bb14b6f21bc2eb229b3b6eea86b145fbadb7241b083ad220208513811bf5588555647d13cec8490414eafbca7e053d126c222f665cb82caf773efcfa9094750c0d131676405a073cb3be7b4843b64ff99ddbbe822aaef26d4c6d0d599b8500b03d1ac9e93b7b8af2fa5b2daaf93a65d46329e320093bfd2603a43dd3e65d9a6dad369a06db6a6ac6c3f382292bf820bb123734c2612d49b3be7f69585d0a0f174142c9b146565654d67aa1193cba8bc649cdee38e1b9db45bd60df127ecf1340311dac0e7f6e20fa2042f4de218456734cf788cd2927ea18975553ddd4f1cf0e0e3098c2e6d1a0a8084b87c26c2ac05a2cc6ed57b2b0019781b226df99168a293ad932b4aaa468d18276109264d412a5bc4c5b2e82128bcaaf448a443c2d0014f050fa838b17ec69cfec0fc1eba631bf93895fe794920542f2abc281f0264ea277c23a58f68b37c015d3c8bb09044b7044a700cbe49e46341bd158e71cc963262425f2a329feac8671f48ab52abb7b1e190b58f0c68ce84ecf5d3e08efaeb7ae35833fcaff67417330492e99a855d4e33a4c9706bd486ef572a51d7a8bff3b984b698e078030931f5dfb84d6b6e228b2413af0665f2b55c45b5f802d027240191629bdc171fa4e360e44a43d4c252d8765d04f828ef145fcb1d7451523e99c06caad6e814d2fb8238c28d917f373d95b7cf76de05d69c109877ee425a86044291304c4d1bf4256a39fdfc16e5b7f87e5ee0caec206e20cc9b202f0311f0ff088201637f8f15b37898d0e34c5ab473c14f14200d12c64c7e07f04f5a32e5784983f37aac7d7a0b0e10f3944d974574578ee0dfb7598597cac3da8d9aff10eea35704bf6c20e02416bd2240abf307c7e80322b5b9e3cb6af328bdfa694ef8eaf2882f7e8063f1ecb084c6ae5842869cbe6d3a7711a7bb46aa00a2514f4392e47b0535462e7297bac246faf85c3605a3e016967f8a025c76674e179c1188518938e0b6015cb70cb8fd0ad67034766f21a44b2678f5e8250df7612d73ecb259eee2c3a9f1aeeb259288ff7caeadbf0da47c12c23b01f01e7b47540bb8b126affd06b393176f704611d3e0be7ddd3d90521f0c82f4d3b327e038fde8181613d1eb4b8b3468d0627bdf896bca39a84e18c390f4a9cd6a17de73417154cb991728dcdb7cdb857f93df7a2e78cb2595c19835c800d693418a3472621b32e65929b48a5fdbca250149ec66259b3fa94bc69241d45c80ce60bff95f3680e02b4b9264220d60eb49c1252de977e2c376e903dbdfff4525133dee6dff8a51e75779e0ffd82b682935cb7befc1c27c8f0ce97eb9496b392ca54207f32655d5779d9544350a2fe69d8967703db42e4cc56d9e5e6fd74cd740ac8f5ea81b548351486576e79894bcfbc1db9fb120b749e080492417e09dc25a4607060405dfe8c1672cbd1660f7ba05e465ff180977171b956c0be5c1bc3fe799f7060d156c967af0584b5d8a8d66835114f568d1e7754b635d85453c7adb74f7ab2113a91254a3371f6ae5181de9fc1ad9a7a8688f94a696f42fcab49abbaad3b7088d15ad10fd47e1519ec888c450993233e6e08942db2993803da50c80bad32b15c6bf2c62af2faffea1bd2d6521b49f007dae7b46847d77892d67416baf38ee177a713b1b755cbee4711914c98d9be4a3d84c8965665520b7cd6a319804734c4e3fa23a293aad32110aeb85c4f36f215c27a23e4dae2ca2e9843775cb55bd656880d2f16d339135cf1c813148ea5bc62672681d2c8df698fffaafe3027fcd88ac75d611aee0c1790e17d3b85cf4c3558e9d1788a7adee8050cc5d72ad230b10606a21b0fc2c041995a8c5c1b517b633c40d9f87d3405db8ba0d4f783c254e486cecf1b290b6fab5292b4d7ec12331952e00bacfd771fd0763f3c4912b07e8d1dc1c2c3f20f3af7e757f37d44ab681f999eddedcf63ec8ec464df20033c22908ddfa72bf75dbcc8fce625f344c2efe74df8a5668ece829683f84308cb64ca7c4312bff890e9f3e7ad5c75928fad3d9818f1f78068adbbb3aa3075f92e215c5d29816c8925233d9b600f987a27111cf3d4c54b66745e9bf8e481ff60ffb24bd363947d5d535f784d591601b06ba3c925bfefbdeee06206b2396d776835c2b3d7fe47095b19df7298005700a88bb0450886bcad4239680374d1256ad71460fd4e0602165ec7736cac64348cd69e31fd08ded04fc47ca2317f64403d47b97ffae8154b5438aa384a75f21fa3a027d093470311e1a27ca117dd64bf6311105fa84da7ebd0e76b29309886046f6810bcaed25a15865d19dcaae04a4b1719bc2bbb910dd2e41b1925011f2c9e6893b19d251af010c8eeb088c4ee4d1ab9e7a0723861451ff1e3b84e3f4249375be5f85ba09ef4092e7846d0d1d2d3a3e6ce65f07b079403180bf47f2d0cfbdb7de79e9bed1b5fcc5a40e909199503c5377bc6e39cb19f9da66331ac5c2b8e09ad20d419b4620b9cba269e00b012844d6dd5bc291891b59f9079d40c35662c4769be2a38c8708167220e404e235dd3393dbfb28d67f1d15043b1964af4569f1cb5939e47a4ef3deae1eec6fdfd17e541c7978f3ee3d4c3e4f7e0611ae7ddca95733c169c0431d8c6627580ee35d6a8d20046d42b59a73e8e070563436807ff5eab00ced3fa704dba838c4453dfa3d86edde69eea59b050ee9aae54ca60a7e096b8672fd9660c7339a9e7372cff798a66affe05df3f44f43aeee7af380afe27a40b9ea5e231ab0fbce55d25a9c35c770672fc87d0cec0e6ccdbe362c6512fa3460207435298f4c44e45bcc67747812d2ef6cad783983c880b94fb9aee3f899258a8202b80e0b1127f6c5cf67eb513eac66a56f24b5cc169af5b6dcf6c404e00ee2634fd891c31c2f69399dfbdd71a18c666ec39f0bc184daa1f83d02619eb96542bac428208bf26fb7728e2b360521579e85730a33f1c4f9eb03ea7c84cf7b9c357ed50dfae4dedd6100f02574c29ad21bd8fdef2bcbab9623c0b3f53033d02a06d3b9605f5d548b0674be0185509ecb37959afab6be2b660c4bcdbab1311b641abcc8c52ffda361b228b0bf0cf7a6a4115ab6d362f637761e8fd591a82385aa43bfc6cddd943fcfc86841d1c260c4f5c9abc4ed61b36a02840120e411b67c7c9380e6f8a5eac8ab76170b3284addf779b9aabc421137210189e142be982008367cad4587e0fbf9cf6d70bfa022c4df92ebaf39d2c92e54a69fc53a6ab2b4ccf5905cea9c6a85bae7b4861e50a9033cc113f6d3e814879819eafdc69d8e77999273bf0fbc9fdc201d12435157b4c789d69ad302f8d1ecb5a420e271cf496fb1f2b58920311d59b9e6e620403f0d4325674c30f4de1fc6c46124afadd1b3ac92a3d5a57743d01de85741ad4696fe3939cf3d4121ed3ddb02698b6aa00410145c265fcfdc256d6edd0b8d0b7782628c399d7f4746802b7d25b7132c7fb2e60d0f8096c912fcef383b4cf76c531bfdbd5d74095eeb8e6dac63c395baedec44e751b96c06c2e6838584923fab7c933786954ccbcbcb88d44b9f603cc6187edd02c5f908385d8ed91a29697b7d7347187f8c893d0493af98d142ec0af9cdb40c8e288cf675807bc37b8c26f5debd4f6effbf4c54f089a4d5ee1fd5f2fe4bcaa875ac60fe2208e2b48466d1cfb2d16957635449d6f7f9ba0c4a7dd77c202e30f5a37e483fdd39356cfe94cd5fe273cc5337d909cf5afdb053a2985a57ed7e0e411a71a2faa1f443c30df6b7ffe70738a2e70a1f18300f0c09679e531067f7f92f576793eee0fc9ddf064019228f44875284e633f683bf2bd85923ad0c945ff9300512f27f765f74f2338952e9b665bd1267e59c3dded5e3c78e585372986c6e0a056b429c9aea57ec558ed22e73cfe2896367e176e356593eb9d0df9255a81edf3ceaa2d950d322f56f389a3c53774cf5668ce23ceecaf86994638e13e6ee1f79629af2ef92e89a94011f317e7d90d5cecb9686ba4b58eb9e58bbd45e3b883ef55122fc4e3c313f2d2619eb0fc1552367bd25e2a3f3150daaf36768c99cd1df650c47452aa5002d8a4984b0b8e95055e2899f0af9a27e854c4a7f9f2d0e07356f50de81cb36f8ea0babf231e3922deebfaf96c57844cfbe77e365030fd591338608d085784e4134900241f1cfa3196459c88d143166434f011d238a0eedd76a7dfe4d510ea9313ac360fc5de9610809a60c528dbbb285b19dce341a7b1f74077c54b76172dbfd85b75867f98e3280598480f3cc928235158a743802eea5a6990890b716f8f7b80d10569678cfa8adc9dd6a2a6020eed2ca923547fd7a153e0ca059f226fd19c155c9da61f8fc1203e939fba570bd43fd1011f9ec017cf5169f2fd6d6d29c64747f3697f90c4e623f5ed8b28681df0d5d66476c1cdb10f6b05d6da4800fe1b2bc61695b2c9240d1757cb1d5001060ed9aa546a0b3139bcd84daff401432c89172117876b3be0352387085a47bf33aeee284f0903b87c639f57bcecb60866fdce9751f5e9086e1694bef21500ae28d727a4784a7b76c8bcf0ae31fab4de691af3fbcf9e8d3f02bb8d6a356c3d511f741ea2a28cbf0effb88ea2808dd3a6489d64b72e656bab0d477afac4e9599674bc861b313d713b2cbc60f7f643f22d7b1f8713dda21e017baa8085767c1f8544ee345fdf912548e96bc6627ae1c7e5ee769987a25404ef84cc765f6b684b31a94886540748a65dbda9ecce0b0f4d2a29dab0a45f086b44b46f54888e265b03112d2cf4e340cace907ac8234d831229fb5a29d8271a32e3716dc53e06b1e5e735d0d4b46d15727fca2db4b7bf498db433005d0aac5d9fa7e43fd5ad8721f1b631c414a3c7b600c8baf772f534aa902cd5b1c611f076fde46f31370a55baebb3a286114688a95a7f06407a5823f7bccfdc53023ad94fff2457c165a7f0d1df4c7a2e14d6c1dd50c93b56f7c92f465c5ef5de3277746f460318fd49e7a6053f4449e488f681be0424acbaa6dc4a23de218b0a5229fd32b7cfaa39ad0086d13440bf3801ccc60bb09d8ecdd79e54ff1447df481c7c21b83567be23d371d02e79c9f5862b6b1f2a5af8b60df62d777efef4c0a7bf8c211ed2de0f7b86766bbf99d4d0b4dcfaa73df0789dc1ab8ba5469823ab6da15304ae0abad58810bc9ffce42ae3b591651efd49fa0990541be7007f362a2c95d5d2e4c03f66a171add3deb106cc0f376ca4069476877896e8d160da8d83c19ec6f93deeb50de2f7af28a4e509194b0e7c9c450840ea6d08f78ccb7b1987541fd2d3e6bdc46c66d6f79fcd3347b7fc2a66a981e76ad304dbe3db736a6747603c1a9839f1d9b5a02aae1e4d6658eb3a0dc0458ee58f7bf6b60df7b61c88a5f78b46a0ba3b361bc50cedce95f6688ad516d65417b40491af03c9c0bb08901a49709336f4f16c3f8696b1b1544c4f0eed2378c8eb7934492b104311fae6501233a04181c6a7e82ea4c3864bd2cbcbe4cf7dc5bb1f322b9e2b86db116aa6b97eb2909b4805feaa22365b307dfc8609fdf3867c5124efbd4c4e5d7c5c9ed6d0a0720764cad2bc8f433357c92119b1c876c501722089054b6430cd79c854aed5ad50709169ab84f9f1f2d53dcedebd8bb8668c4e62066c6509d0420516aa452ccb551c59c59dbdc076a77936f4bbf2fa9764bf90d7f1706b6de14d75465e10218fbc1178ac22607f236733edbad7e193acbebcaacf0ac1ba6346bfbedd10b5a2b208a8fac48b35b386a693b0db66b3db7c25e3bede5c18ceafb6c8a0dc2a7e83e93b08a10e2ae1bbf6e28bccc4f227bf0bf84e4a7a7617beec99805eb0a4e986a5dcab697959a5f17a52feef7827032104bf16047e89454528e858ff04de16f9bbae51e92c3f007cad39ae43221ede96b59738e67192249977367e3eb8f15011bfe497c23f747ca82648dcd655733700b2f59624b30722126001dc6cc2a4d86cd076a34a59079107298a4cba8c3c7cd34bf85fb87c65630a3c31a87c6b35a8aeeb0e02053477677958bee77a594aacc9bd64089b7ffea0644f8725ae482f09d0dfc190012641000d978e2fa1f7dc7c94e7d0e4dae17021f86a37cba66e9e6665cd894cf87a2f2b9368cade762ddcb362f583426caf6db6b8114517d3fad4360ab310bb0199f48a0d88ed0a9276b2618d154a74d29f06c07233930396b033da5c6bb912d321d3a0a101e9f3f1eed463467de7cda3bd8b782d41b55341116b60b9f7be54036f5e0ba52101d5014000ed92047ce8b31db7059473ec7bbe21fdc9da2e3853b42ea28843b9753d7d9ec328f1cddfa14614cc9d337a5112a23efa2bdcf499d10dd0e7bb0945dff7e3cd05db17b6c21a2c74ecf5fef016962901c1bd30589e2b3c7ea11234cdfbcddc4cc95529876ed97ca88e9f1a62f2e5b18dc970e930b3f6fa9429c4f2102d4d281b3667a341e2014cb16a9c56aa3a823a4734d45c04fa0acf845512bd6f92432acdaf52fda2b2b51477fa7f18e19dd052fd5eed31184181bf1f83397ee3f2b993f0e7e7472d22a63fe2a0e2cc04b93309e789178a4a26773c8d8de088c0d96f7821be83f0cef5877895cf204c8a1a49c13fbe870e757943493f8e1d5ce8caffc91dd15f9160ee0a410ad2b7b74858dd51ac2a3a2566f92bff381a3feb39ec4c1c54b6e67ee3efa1988f5c0342d1f6f35fee0ba303da01e0c3f090b66b1f9f0cc91659716cd6b9352c0474ea5aaab859980b80806d203556d1cc972cb1adfbb505fae91c806a2a448ffcdf346c0bbabbe6ef7608d558e2efd100d0444f98da17b24793856a526c4d5837b7ba7c44d8a84acecd6a54da51809f1bbebc7c0cb2e94064bd5dda18285d9be7efb4b2c7e39467420c5ddc33fd2e2ec0796655df7bd1eece836aef8ef50cf892e8de5aac5c7b630fe2914f208710317fc7b602dfa220af20f8fe5da9ae4968079843499ea093ebbf8e64bcdf4edf3c207841f47841edce0bc39667d55debc17735036c85a026004d70f857398baf1eb6a8ac7f59f1c610b45ec289a545ee392748b0438b6698f960c9577126d67c8435a2fbe402ec2ca7ba2e13252636d084b02252a228628643e19dd5c8f0a7c38f5c7b832b79913a9cc05d3d7516780a6e5b0e6598ebb90e070bc70effa682bfe5aef8a3b35ea6605d5c0ac9cde3867837ff21fc52150cbf23fb5412ed8484bc0cfca76140dfeafca78a257535f926afcde656336a79e65f27709b1f0d17611308f16f568ebd717fe603994b05f001de142bfff86844d95cad6159ee04813d852cb25f6aa8114618f58d4602f998b0b386dbb14480a9322f7d113cbdb8aab761bacf09e2531533ffef8427beaab13235eb5fa053e2b4ebb55b01ab478677f97876826d2b9944bfcf467c0cc0638fafe296f05790a61ba05bc3bde18cdc1621d2e3a923f64dd48b0ad50b83a0af0e0649e524c42b478561e63f0388ebad8aa853cfd434a8f0b82bfc92ddaa240ab9eeebfa72a78caea84463388ccb89af74428ff65a77098afa42764be554944fbc519ca8aef0b7bcba852959593b60c3780221cd442f15d91ab7279be80b2a6079c9a9de1a153465d1270c3a1d4ec5818f7c1b5704c3dd438a2f4be695535c201efdbb7bd47c2d798bb79229f447a531eacac0f250b2d31b2c6037c8ac1a99d170eb42f7e5d8f156f4cde264644edca9250e793d3ac4bbcf3db7ea03690b6e98c6fc62ed87bf4f8123bb7321fb747b787ed4f0483b585f5f212970e4d96bb8056a2c283997f3f3f5710907ad73910982fa9c13b68b1607ec1d1e834c5350bec701ef9d8ca2d8f7f261b7aac9af6db81a59d20de38e89a8b2f1b7433d6a79f243f1a647962aa57a39d83693f2b790b81aa14a462a1a119acb287eebad3da6414979924eb575d03b336a628628a976714962bac5accfa394f6326b42544874edf28993108fc7fef8a567ca2120215815d5b146df24661bcf8325d2572056171af4b4f05e6f8604ce4e020960e9d6de0bb1bc4249a6389a34e8ce5afc1e6fe3b8e96bde9731614e41db16ab35f98908da34e0e59a8c297628c9843b9d942ec2493656f32534070a77f213769ec9ebe183dccb7b05433cbcd8a17b8db85284d1933afd4438c0705600af5877ce80181b66c90790f3f125838f107e0d01c9396995958431a4b32adbc031e4a2f5365445f12669d3ada35c124e8efd96254bef100a7eb9d43c2b15b3ee3da1ab9266f715b840adba24db4d7035271157750aa5446ed139791953b2a1e91a6f4be9b59be1eab81236e2e07260cb8eb80fbcc196261d599c27193162626c7f59560e22c18d6c8d4ffe4c2b5f49e0167cc88e92b4bfd3594d7c7b9d56cd434cd0e3d2f2fc7234d88d4505e921c16b50215995aa54eee740bddfe05114a9d84838964e1916a90172cae2c68498eb3f699c1bee69bae1b3154085e1808350f69ade343fc67352b28f6774319bb882236384f800d6c1297466653d0eb46b8bed974deb41308fb28515fab38d85f0e111b5825d448c74fa6f7efd591ffb707268f4a642b52d6b7b3d67748a91ad54b7b2379546100d0d130d4650ea8151c02a1d46b79488467908935e150087bce7254c2c8796ba871a264cb37f7ed938a5637d30ee76d3c01a3fe0439903c1dccf1b8156695eba1611418e9d2ce81836567124cc978dbf88c517abddb0df091942ef8138e2f7e40cde581f5d4c0aff9d107e9f54376c1db018bbf4c2cf9097dab3acdb2a743bd8d593f7bb0f258be391236e9a8cd3e64c6b61f8d25aec1fee663b9482f5580acfe0fc0fcb7d132c7da668fe11eae1430f9f3d2ab6a4459fcf159842cba1b685e2a752032259a80af980027e08253ce9785bbab2642c34558128f672f40bdf72d41558594af24aefd2da61ccc2424397693a72192ac1e7454baaf764a96ae8dd7f11fd93267c697cb9e241d057db295ecd9c7d9302471232254180cbe85b8f3e9d66f21f5160446ceb36360fe7cc5f1c501c1351861cc059ae160cee4f4719f19959be79f3e6d391170e055bf8f207b7a44ae832f3f6b82adb091872d66970b3fa424c306c5776ef0d83e3ad1422d1ed98e7f41d09359d5017f2c2f56668b526708c7684f4c70acc7551395fa49e293e78da07282cbb7e7f91183b2ffbca2900548fab1ac46169b97d51a9fa186a89cee62ac41b709a926ecb10420e3ff38455544b40414bebcb37d96a30152cf81036c51de782c151521c3301b83c70e1a7536bf00d4f4082d2cda220b95afa329e61a2c22b4de8b4c55e86ed873b54dd8330aeffd8328808a6324c01614bdb51d28546909368d8719153bb65a2f66b2dee31b610677bde6f62cddda20353ad0ca77678d28ef7b2359a65d399509f42c654184e88001ba78d1b7a6919e6f4b0248ed566b4b22fb6cce97ad4d4975784155d5c1c924343295bfac2aa3ec598a6e79be8b7129d20c74efd6c9d6f9afcb62d9f1ef879ed69043ecd2c0756bb1259fd47663f5a18643cfd691f458d5fcfbef1440aa70c6ea6154784febd4b51ce31125757bf28a71f592b664bfbaa6e2996db704dac9327fce8587a552a6f2525e07c92fa60c3f4d57bfb7443ac2f1432f206422f805459c4087f54d3af86fda6e1336c403e084d0b7e84c6989d96563574203cae3ed671575faaa7ddb30e37554d5d971c52c4e036138100cc17fc86155d7f03d20ea10d98a55c7b33f9012d3aebba461066961c13d71e8bfa2d8ddf62f0cd9e191c6950c19af9f5d204cd7f7e1238fdbac148c5ab3b56beb4971d83f611f77df4925a7c684af543dcdd3ab3e489c10b08d4e6fac7bd21628101c153c38846c3e4479af5fc04c22a3cb727008ccf7d50ad9da18b9103514991e6a5076c7c939210b8071241e0c6a2ba5e865893d4a5d0059d4374d62a34a21df571e5db9d3cc5b20e6120058dd2bc4dfeaba17561ed1623fb3af1d3c48e2adcd261761d378e8e80498db6b1ee34b40c708696045365e9bc7ba60d96d7ada314f2bcbd44e157614ef49d8f3809984d447b9906981cc0e205b21104c0c3703515fe054e47d96301711003ea648039e44ffb31c0048e77479988ee2e196b83ce022b3abb8c77fcd19d7e162c770269101bffc6f3394a5c854fbd9157ee57c1654759209015dce5194330efffe43f757b0234fe104a0da9c24f6b6c67d1c03c82a584f1c1777954f4c392fdd9f5e0103ae336a847a9ce863820b03446b63845f0fab858d07e02f37fcbb81a1b8acf471413d014e90c41e27878a2b0d4e1f4564c9be542b978b51f66ba8ecae22879c6ca812189d3c6ce1a7a3ca474adce1bbc2460f1ae7d14bfada8c688c37fa8dd34501324be3c65f74428f187d666564f9c2285c7bc902debf9b3344cebaf08bda2f5063f98a5afa28a18751567f5057978e1003ad057bb495003b904eb2e2be37989c005ee8d157b460f1c2dc5fdd884777c2cac1ce9c6571569da167466d71f4882d45747f81c6a17e632343cc0a60ebb3444506d2f37efacf0e8222e0256873ded763f7b7f9909387c2e34279634b6be4bf3d91ff5d7b9e5b765dea","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
