<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3ac77cbbe9f946830bc65f26400bd94861f1dc47034845dbf060ab7631f0b282b64d3a80d2ae7b2218bcda07cc0820d700235cfddfd7bce59d441e1cda447b6f7663e13211eff8c5574c5203fc80cf730174597c6697c3e06386b8fadf17305e3a816cabbebc147dc1877a31016c2bb78b4af3f8349da3fc731948d645320410c3cae2528a1e8fc5595c95207cf7654f989c5fbbdc389f1e7a2498166d1c9f3fbf5022a9cbd69c32dcb403c8863500a534ad56f324d7b949506b48511819778c942fe84f94ada94a0d3a3752e76ebf464a5bbb331682f333ab962e1c420b3ac184725537d4f6b0a5e3b1272d905c451ae8728950ccbafa0f562125e873522ffad705a79b3a8ca072d29710c457c0d9a6baae87ae3cf3b63fcbcf0b90d5281457bb58d63d9ddfc9de4a4c2c22bfa5188399b2042e3407d6d6e1d5bd88ea5cb100417edd68a689661c9649685e80998cae192011fd4209d046913cf8d6a859ad6620d44af87a34ec365dffaa70a8029cedc290b5ea00028b03e1f6c8ebbc3bdeb8307ef6ff3bf53e801d2b5883572d094ff21e4d433862ca0aa98fdee70420d8e3dc46b649875e30936e7be7d42ce94cd545955727c8741599a980fc24e52206645ef3a12144cbbe5807265f012af270fa5ce000d7f6f273b3b72a68b6acf863a517082978f06aa1188579239c30be82cabbf3d5ca282523982c71fd9e33fafea0c562d36488896807e0427778b48c5eebdf53f34506861c5f5c91db924e402a68aeb7bb0450c2bde224f177915ed1bb27808159134a89edc5ed248d1d97bea54deca6dc11528852bc7469ee4c9da71c21e257439053a9a3aea031267201aa7fbebabe760097f30ac403a9c130011fa4015e1f6221a6bf4e3ad96e0b42bc3748283adcc65fdb63c2647e5ab4c5f026b354ce56af968b7ea8e316e4a1d6e88481ed94d2af7f8e87e9a27427be251688f0e4f06d6e8f6dfa0d1256e22593049bddf78c10e02c917cd39b8f26bca7be34a437c4fa8cca59cb5a87831f6ddcfe498773952a55a4379bbdf2b908b2b564129e3dca9a9bcc60d00cd10912fce86815b4ed3e0e2c0481f644ca4bb873c7a4d2f6a26f45aac382b75cedadee16c4127a524f73a3444dc3b8cfed9696b4df939ce65296f933ec9dc1ff8ebbb4e50b687f38a8efdae00fcc1cc31c9ac2309d5d421138e96798a8a0fdfc24f5fc1813c63aa7f67834dc1e6acfd7f6dd8399123e79e42beb573b2b557eb783454db91005be0f0ae1455090b0d0a0b537dc988eed558a8450e98226ab88a66c8300d625cbb0c66ec33cd71c2a03063c0b8adf0db35cfeb82f7fa2b0cbf691cd0a5ecd8032aff926ee29d145a0997205453f84c33ec1fc7e59091b042a20491f2b1e269997c44f9ea6301e4107d66322301cca2d8873ce95c3e0df087b0f117a40644bbc9790ee95010d56eea818e3177b8c60a8ea4ba44dd1549ea9bebbc34ac2da03b2c497c4ab8a123ebf325ebd3f48a9ff0ac5b7e0d2a7748a767c68b65abcfb41647e0ac7f2383bdbcb408a4b2beed5224a00d78ec3d161d7c3907e33dada1be524bb135e2c24b2352070a07a9a27cbabb83c47f6233381077a687ed10b13d25b095fa29f7220652932d290156741694203cbae483290651f6a159e0b837e4d54101a2f611c4a9599b7e2849b186fad99ae957ed95a203c78dc15c10c67be82877512787a30f2c36c8afadc7733eaed18e7cddcbcb06d927f2e844a79e320a1de9be932defb87bb6cb53dc45c0cc46e3633f0dbc6e014b2b62ce61f0770c15c707fd2f995c3f5e0c4a9978258a82fbf4f4f27d148f07a013e2bf84909f2ca64a261b618dfe9594654b149c4b0f551866a355c9601f1e3a02b71422dd298a63e989eee9830eb624443cd4c6e8b4b4099567e4f694e99e0c1a0fd54022667f61cf55135cbdb2fcf9a8d62467002b18135b9d02ae36654dee3354050f1d9b4ed3b2a59d826afd8cf3cf002b035480d6e836aeae4ead3f7b51ba709320d8b07b6dba5547b04471486ea8d981dbd3c9dee39d2e1c83b210ed1227e51dc080e4143b020fbec00141dba8fb2237bda19802839d3a7990d8f533bb07903053f200789481227db75647feedc7136b56972380d22c0ccccd6f4d9d58a8abd05ba9e13a1af1f60999ac61ad6929a2021e4817779be767e96066b422029d26b55a37b96aca2ff8ff653fe49275eabf7cc3ed02bf5c8b4cb8007152671405158b96f29d09ebfad2cbc5953c0ab52531f2f3657b750bb1142ee73c1d7f3620b53918054933aefbba480fcba23a61f93981e30315bd55284894f7915184a6400b851e7673cabeba661014fc8540bec23af36bd8660d6522384a485b35641b95f4a888aaf92cb518cee725a1cd250370c82aeefd41c99a21b6737e10a0e4ee549b66e17e2445ba407a130929f87fd7c2000be8faaafd50656d294ea60ae7bc935ebb3c8c72cbef5931de512107c65a9119286d3be8ccb8aaabb78c6af3a03fd657bf18ff5d244f1583834cc568a8fd590953f753dcedb3e251809b8e66de0cc0892b3f33ea95e87338e1af7f9ec9debe3f03065ea53fcc4c44508a5f884670d811ece1a35de80b7de51172e9053cf59431e499772edb161eb4e301c3d567afd3c4132c2f64f6ae46a93ce71b7d768726a520b7ad7e520f88218ee2a1d7bc6ae0c52a05954cffdbd06fff0395cd4cb2e0514b181102659fbcd9814285f22576d912a4246609400f637252275850fca0e90813371fa491d51e0c20191034a576141895a510d628223f69b133de5581b6ea5a955b63447d99e5fab8c4e5df92ec6d130b82a573096ee1b166a445dab9c7163a849dd6a2d10329019d9e35bc0c93043b7076c8b7305b36bfdb4dd0663a8987d47964227159f81ff52716e62b19ec50db18f0eb9d06dfebba57b679c08973bab30580db7009f5a5212b1fc526afb168a87760af470bffa0d40885b83882c291d9613ca572c18ad6f6ee67b80f8fe570ac1903bc03324db965990e528dcc606ecff0a7f3289683748bfa7d091c4d5b1c4bfce10b9161edade34d8e6d25bf4548782fe826d68d127c6dcc8d258c50c2348ee66cd1b71692a9a073ce9bb453acacaf2960fe93f48219e68f8f5e36bc17cde63324cfe37a854ec02e4144a52b172f94ea457b3b75321a12e8ddda7e9b7a5b267b4ecc4ee926be6496a4876c8c1b6ad0dc30e9f1f00646a6a763ee2832bee82d6989fb5c0d65f7d7c7c9abec740fd7d3b8bf83d9f6fd69ab3116300df70fe10ca20ad169da4ffd7714a75960df53f366cea82507114020d2d77bcc72c68a63cbf0e3b0808a471ccd152b1ed833cbf56d3014230ccbac9da3394fea5a52f0f66df2c659ba97c2a98c5b6d848cf3adbf452bafae350956dedc173176771fa63abdb0d7aa3f15300a45a8bdd04f5540e6f394de4709bdd4d7c238734fd96602866d0547f68f1755613689335aac73fd0ac6ff27e418d90ef7b93d757c89b51fc8bf50e0d35f566e4a325d7230d7ff18d65d0d2d68f464b3c2ba46a212e5f67e7e4711cf2a3659201e0e5ebd583b157ee3858a4d0105d0e8ec1fd46415713238f87592d01d34be6c4d4714c769a06f84e4d4c68b9d42b58426b3b05dbb4d83598349e8b2294a33dd96ceb91b83dae9990d8bd8b0c9d0b1851f5942802282dc0a08b0e8e112fd06c93cba3a4cbfc275e6021cd6eabea1d536a37513c7ae1617d43696d7ae028e362a057f3a12488edc4dbde56e5b13c704e1f38c7614f8224dd4c057a33bf161a35cb377d22833529cc08435c4ccb50ab9d2b6108cb143150e91e9bf31c1896865d4d13c835bac8b75ce061fd3e4a93c5cea9b3ecadff3d4ded1b97a04fdc6874f57050b7e1f907649f61fe34451d6bcae8111be5c684aa5ad53224aa3772121b8bca360a94e2ae46b830d60342fa251be2e79ddd3c9a0fe23642659e49e72c40e7bb699a39270e36d93f8b61b099ea73a5801d0e423944acc3b709da116b865a57cfeff6aecf17de682b5411be2430c22e4cd3dea61987199533354a07f7234b22bc368310d1f60383019355ae758b481a97b7607a26f59b35af2c3bfce666a4a1c821da886790cf2783c91d21b1b8f7fd895a7c482242907aa61c02d4fd5d20fb790e2b9867cc01d0a5774b53cbe8ab7e16e94a426b2eb20c617e4ada45546b0888a20ac0cbba150c11a79799630bf036710f67266923c695fdef75c4d71887f6bfcf6b30374c3961b107866555d53b153a48a97a10960c792ea855516f65a66a46d44d4551242a17f81b3f2426aae930cea6189fb95e5d34d06b198a1281e48a83895186335d94bfd954c5186681f53ebebe22741a089e844161464659ea25383f41adc96a20a6f0b43ccca5e9739c8ef17d8b8b65e0924a21f912704a784872c5b352dc2a4d2929dc01a71341a2ba91c0443ce378952b80a17a54f73c123658ae0b73c034f1d4155a7a357c87d06c7b5c99c934346bfa4cf11632df7186454fae8c1fa5bd5f53fcd1cd46b9250cf8309398e0997d9af8614b6299aa1d14df0e5c41ee133d397fa49823e5e86fa865864745da825e537a9fda145acabb0fe4325e35ce1a4556bafe79a0e5e6d3df383b5a6b5ef28aeaec58d6af7a94d4ce45aa47788c02b549ed19765f431d6e5e0781a63506f09b4be55a00689bb65cdc999923811e27f6ed81a90d20471ae588eca9ae23ced2c7cabf8a3c1297373f9cf655f949d93a356e6600735c16b0ca50a1017a7429d8e898aebef7d4fc56888e03f3f4cdfed70a6870f5823cebdd375edf7b8146197562ad7c4f5ba35b2d2e757979dfc0699acbba733a4f782ed9684746977170f3474c456c0b34d0c18d916e121dc9f81f03d7258891d194010805951d71314b1f64d927d3eb9d1420ded6ad7551f762d7eb9ff37c62343dffcda031baf6dc3ebd29c62cae080cd7c44fd1b62c3efbe294773418cf3f16b83c8b36346d923e7a2a399cda1bf03621b1c2172a9769af058ee28a7632df01dd6915befe9e54f08d34c7a0a03980ff1de814aee68849ab9e3322947de1fa2e6418c5d80f9e536e3a53071ebcc46dedb988825529041d627ca652339829a9e2afeb687b4a02ebd55d272b062a9600449162bf623c34963665f57a03069673eeb148c8721e3e45cdfcd50a3448a019aeca14bf674af29abfceccf3ac2f11b7ef864f52abf84cfb21e582e33cf82a0b7ca1b4ec1f7967cb693587cef87c8f4f150ab214637fd78f282fd7b988c279d62866276a3cc599d5801af896aa63f772eae4fbbaa4ee07ef1771614850ae8f6cf5d5c57663f1ac760655549615c70c4732e81bf592759817e79f267aca7c54ba7c96c9abfbd5d1ad571f7ca3a1acf47cc1bfacaf322f60594711a89c94273b8ee2f5f22981ff2cd858d8bfd86d67e2847fc6e016f0009a9a1a140ca426e5991795173c57437034039c2d6ba00abc731a757a20932ef650b6546e20a2f566e91711aa15c76bb1f0f8374f40e2f411a8ca1d5d3f2da765550570c0a3f4770a4b8fb62ad9d02e508ef510c3e719a536bef39c667e34e76f3b73d32fafc997c8eeacda76d309926d50f926c4889b7cab08c9b7ac62130e82c50fea391a9cf267b04a6c4131be4637bc11dafe4841ecc45f20053ec48b4697d8a018e5c21c1b4ae6427ce0262ae5eaffa7e6f56ba67607d374cb052788105085efec6bdf0d19a756f468477de41b47478d708c8e1a7082a98e8b2edf3538c3d9ef19f4eeca1156d75ab6d7845a07f632d5d8881a60a47cdbae03ed2e6b9e450504819541e7f4de19e6517790aeb1f6a29ccb078817ee660fadce2a4f62159759fea0f6ac8bb8f525735fea0e7fd3b0adffe81868b7066d4b4b93f0d5a1d302f6c8aee1bac173ec0ad7c15d7a63ee47bb60abbad3b3758f934b1efe1004ae7eb0b77f26080ca0073591d4f6e3aef5435cdaf84403875f66caf2516e433ba7e404c953ccf7717aa9d49c0e604d6378e2c2a1cb00954cd3b24c7bb6d33180c80f1415f7700a9e70574c39ef1243934df5eac8b6f12520d2c36696bc87dbe9d0a535c9f3b4e733e26e210c8cd2597b80b07ad69737199f90d8fb3056d6a3f56bb62eb5eab387fb8f96568ce2f9c4880c6327735209ab929e2af008d344b3bc0ee8fa4e8edcb675e95926cafa1d44496fcd570bafa662d2138cf7b3dd56a3d0dc9c1c622d00d4ef66870c08a3f889e21f8e60ca363c19a6bdf02044b92db9257e061006d4368edc7b1074ec2ea83bbc65426944fb24dcaa3047faa3eb045ac918f6f6efa18c010ede4147d9faecbbce6c4f81f8ba823d4dd70eb44fa3f725f5e19f7d12ddc0596c857aa6686c00307a147f34c79794b4dc822d432c50afc25900fe1a15a0b9511a612248887fbc058428c3c3210166ecf15a03a7b35d31e9549bc2b337ee993e55012cd8d2351feda422dd5e14b1894e9d6323f7f30cadd68aadbed61ba703da5172a246d5cbc8ac157915260ff2b5ac58b49f606a0ba3a6e73fcb2727dafd6335c8d96ddb55bff0618f84b1194c4f100bb22cd60a41e03a323048f8f2e3313d77a94d5aacdf4977cd55615927e87c5ef1179a6e4def8d88f54c9191641e49a111ea82810d0631678c603ccbebfd806d87be7effa9d48565f7893b466ba4869a2d245554aee2378e4808cd9565fa195142183ff8e3396388672c2abd1516b49d3de3c236b34d41299d87cd68431a5bb5f2e14a85e84b4603f98691881b368ca2a544165cbdf85e1588056d31a80321bbf6697c58c5e99d903311a41bbe787687c30b9cde572cb605ba280839876633d318016f5b3bd23b054f0cf3ab7372c2a4e04287bbedab0c0bc992512a38680d7bff56b8bd0ca3004795fd7b9881a1f7dec8063fdc419522fc8f4dd14d25e2c34de8da37173dd553e88314d6c476afec032c09a7d823b481fb9fd85ac04f524fbe684c6e8ada24dfa03db73dabbc7d675aebb2b57385848a6f20879bbf263f8877c817b0028d28bfdd57037fb17dad73a13fb84ad698181e7ed9171c20efab17e807d425a022bed29368547807e7189745efbaaa5643c914a0291eed7b00ebb46e4794c0889ce291001d5a85c1ec03103a75aedc58963147c41c82551b71cac4ea8067ed2c553bf8b56802d44286875ac20b1d6b5301eb4816c280837cc707b18bd94986fb09d861362cc2be2c884807be7a2fba092b5d58f4decd6079304525143095c2f60ece58ebe5d6fb3bcb3b00d7d4404812b642cc08633dc35bb86fc45f8100be09ba792142d16926e39fd1d53c473f6c1152a5f2d9b2db703963529518ac7576d8ddbba879c3d719b2bf5e203c87dee8fc059a07dc35996220bcb57a24631b6c0262e393161e7fbcb1f5365c38dd746ad8998efbc41d5b224c20c4b1d931ac9a8afac918fae04ad1e3800aa002b1e17823007e939ab0642a1988532a26f213873082c68a406d35125d2b4f76aeae06ae28ded2d66ef4a91f69bdedaa9dc884d48796bd8b82934e62549f2e530971bd9bcaa1d79d35903446f12269f07d52bdcbaee6bc8b5efd73bf5de5460a41824ccd2197bb9f18907c416d870e9c3e0106afa307413b67dc80f267e8b19311566ba25b777207f8a2d99114acd83444e95214be08af04fed30105f3a702c33db799e56ee0438db234ebae598b7625dac3f8cb79afcf42fcf4d7bd30bf020257196cd8bb6679acf88eaf60a6dfd57848c84b907e5de7fafd9d673816208f5b9d6a99c4f9eee0d713aba6f2d99bd6fd0fc50f1c1286d630bea61bae7fb8f51d98f57af8fe01b686edec62faa8e9d9e9bcb032b09c755611f22859d34eec32821a6b46cc1de10cc172578e59c177af9b0b8054fa840b87ba04708242863814815a0b6122a480342dc6fbfae58352ba67a288311b8c76c515a66305e43d194712bdffb7e6477f418b21153ce6dbfb85eba26ac587e16bd9778d5e812d7145468554b6597ae8ee8b7ef069af5e8d61b212c841b4b491b66df04b3e0f1479620a359e6d0f437ef7cb53b3eb2489f4990caa2352cf904326dc01c34c0f93e1254d9f34ea1fd43dc7eb51a50ea4fbfad60362778e81f9cfb866070bd90fe16992f0ebd2f7e1d6e4513887eeb4b524f9dca5e34284984e0166bbb68fe74f4810b76c5854fb049461a664075a5a43ad47336b9e8ae0ebea3488a6e31e2c319910d43d1d751bdc0a9078d0c50a72cf2a1fc538e9bb153addbdb71a2dbe142c0218a067828b990304f66aa3f86b10721e6236d63d74a4d86760e41cec66707f524040e8060fccacb02739506017bf8605a539785b03e0e7b837f6a60a4604b1ecee489030de945ad8ee5d0aeddd7630e7ff6f66a64636e6163114d801b5cd3391aa76fb142ec1b416cde4ced624c2536d58fa68f7f3099205be038456779032a11b8bf8f1a92f7051b297d9435d7c387552998a438aba082f83e66d9d32ff0fa26d5a52227bc01f765fdf5d033ca3f7bf9a0a2846d790a7960fec9c4a41f9bc786ccf6b9e0c37b548a323575eb1e39bac8b12e334648eb35a49531c06bbfe30ef5d85a6702225f60f549048fcccc22f2f709df7d8b80c3c5eb3f1e4dfc6cdcc9c13c26c0934d0647234fe69227248ca7e2915cd2c21390f56c85eabc72c94fdf98644891cdd3ff9faaaf2d170810175192be3ce12ba14dda5d30b203b5e5022399df0ed9ef6914d4e0f741272996c05a448830621e5e19fbd4bfe616aa479ecd1583bd9b2f99ad072af9d5f3079b053bb5ac67245e1dfc377aabf30936b4929596798c6a66f026cf8417cde1bd48643ec276cba68ea3191b164b8f572725616bcf1c21430c3ed2130ddc7fedf6c2f49fd6c6e986547c5d51b80804dd479acc1f855763826531012def789ba6a91b46c9e862404e415a75383727f337c5b4c7758b32b4a038394648a35c3d64373825cbcc5bcc6f6ccb45320e5b095e256161e292e9a140f3570632878d6b58e734faa1d79b7e00f78400cc7550021a850c44a2798310d84a0665eec728af25295dc123f6adb75392ac83482ba14bba3baf33206c20ef04e988c3b323a3415445a7c40992fcb08a29d83cedca7ec9eb2e2ce97e8aad970ff956c30c135f00cdc66591d4695e85364f60237d42328f18dbb840b2884e012cb5aab6b3e94bd410aaec430605ad95419042312182827cfe7078fa1cb942a885f4f2fc98a25bfc16ed0a3c7e9f4d0a98a7ef0d88161df164d02b05a2fc48290d41b1587a45e74b3236f645bf21df8af1f5ce1682126a5e81f0db514567f7ba3ddf56eaf3f95944a0f91f086479e4d6b42f1d3e3b7d53ec50a347302e6af715b0fe6029d877f6e76a4ae16c13e65b906f3722a9c7cee7db97ca0a32b45beb983d7aba0e624e59a9fd1cb93d6666c33291feb7bd78b022bfac01160cce91db6c57c1d3b53dadccb26177c1ec098319d399af41d44bfa6dbbf83f3cd63c66b24a97d99c075e9502a989ee624288a15e848c2eddac43050e5ac93cd68d1866571c78fc830c2fe1078f75a62a4b9251fc2697de20de7a3c7b8de40f2be1cc16df010ef664e483a01dcb569f29e5c0770bebdbc094900b851c231883a7f498d67917808924df7edba1bb49c33afff3a4285c0c51261ffb33b283361f56787b0a2e617950fd4fcd184f1a60cb79fec136eea663ac575255fde0667ad870be937413914b74a53347d157f49f9d3e02af2cd52cc477b9cc43e24a0edacd153134d076d465887e6a4c32546e1fa1893bd73974b7db654e1409e44df3b92787da5106250ada01331651f88fd57e49743dd30a2a213369652fe31a7f0c388b16bace1c7d18b7bdb80099e0af41b8b98a5dcdf40725078017485eaf8c5b5a6cada3bd462b4b34735acde05523d62a524f7b96a654621ce35e786cbb1286aa981bf3f43b7cfaf1b34f80efa93fb29c1c4bed0b02f17594add0b33b9f1ae5cc122a165d094f1d07980e2477427abef720b8a500a5baa4fa0a5e7f22f47019fa71b675fa33a778e88d53ccdcd2a6bdfc980a76ff7e574752009b725229aa40d7c80e43ed49410ad21abca7a6badf2805426264d6a831ed8e98e9f1066e42e975c0bbfa9169a9d0c197e868dcfdeb4a03882cb535d08df883743018825a95de9c3bc8ddde9c0a260d226aca4f3d2e1351a989b332d4ac308602babdd1f3715f9601fed44f1bc400f9993427be996db6bbe37d18a18666e605c3b6f1bc043b685caa43fd3513f8e168e7a80255b9fcdcb78ebbb4049e7467d4de84aa2a4d290ea09b4255aa5288e0cedc986a0c9e6c3f474708d64ea3d4ffca32a8557c32ab59c8f2177f4189db387d82cac05cc565e5b7bdf50e2fd1044d29ee748568126de3b0c0be42b5a51b21d7203073e2515b17bd86d5694e7a34a1d1c20637c419802970df9d3dd6bcfc4738d95f0d513529ed00c0d06a55e4a492b931eec22bdac09590d2eb05a799f99b959e9dbcff775e3852c954c6255e74e9fcc22697167984e5d323a46a60cd45ae6f826d492637950d65dddbd9f2fcc4d0ddb0ee4eaab0d79a876ae24710273520f92ca42484c2b04a0b60658f6156f75daf37753cc9dc9fc6cadfc9af36c0ac82ba293780a38ee1236c9d7fe571ba692845198643cb96221405b771f24337bdc00972c30d4d8014848f7cefb126ffa5fc92fc8ab93079e2e46759ce8da82e708f6c4f2214cc29f437ecfd26b8be852d0a9468c810923d2a3e3cb724decfa047b0604597682ba9c34941ec1f09dc294a720e347c1edef9e02a695edd3506887a2152d7bdc66477b3ca8628f60c0b5f447853dd577eae000e7b524b9fd4203be98c06d2b77e24d4b2c3584caa74cf7e56720c41a271b8530f5678318767ef7cbd8b7d74ba39b2e42f450b43b12a09cf3a1d8f560ba7b0664ee3cad2cf5ac20fead9b455187b8753e17a56148070b925061aeb4bea1941f98ea870025b3b0942c2411721d405b297426d5efa606ce923133f1b6eede4f1751435eb3a4da0f51605348a54debc34280bd9d21111b8a32e83e8f68e9f4907c555ed575bc350b0adcb85df81b67bc519960e6b7d39f35b111d6f3ce8b519cc58f63c0e4b365f03184618065a2152d4e0b2eb2bcb6b83ce52b9ffe5d8faa4715144718fef9414f12ab737edf05993936e94b5047db22b8327a24f8a64b3d48c64bffa0fa77c0027895ad22717a9883aca6b3b959409e14a1104470358f8b99f05b1019a4e0c945b8164540bba236269401672e727fca4d6aaf99f8c5c913361ff553d7ec06fd861bdd58c55d36ea28079471cf5d9cafe56a7ac39f4fdafd837a96e4ae496feb2222be679fcbb680a25c5411efbe211bf3ffdf1dad4bb10a4d29f8cf8b4e27e0f4d2a4a3926fc3b4006e4bcb3e7c471a76d37366cfbb9e39a38b04b9bf2869b7e0f9415f8c2dc1fe3f3ca197e3fd63cb8fab2e724567b9f1573b139418e886dc82c1d14619f30bad8a446428dac3bba10aeccef9075fef03c8952b674fdf6e65f5369a9f4a5ef6ce59e19e6ae5a776e3e4b47ddcac8a736ec56a5c2152526f69a15fd17085fde194848e0ab362fd2ce5eb3a9c9475722a446d798e2d1e2bce90dd258b538d6c429b7a749a5496d5eaf9b7fb22713935b6a16a851db0c0cbc3ee59be19ec5a4c7e93eef12eb5f69d744ab1ba558d86befcc0f2a52260e66f72c9fd33697c084ca33a5f567d5fa5c11347885c5b2dc8b66b5542e01cab33808de9b0df16f03cd817879de2f02aa76d673f8159340cfca37a32ff0ea77c181a41b9e0154cde002d649f7592942fc212f0191cc1051cf322274eb78dae61e209ff3beb3c8302960be11c29eaf7f17007c41b40662d4679c6dde870c2b094c9d03569c8314608ed6eab378e92d63484260164685897be843a60bf1885df936f639d666f30116b52820a460e2b3b5b8d78606a1cbf20ff0b3a999ec640f1e981d2e3eac9076612c7ed560e75108d7ace7ebb6e595b449016743d931342e01405dc93a452cc910164d2b4e14b5f9e85aadaf8e1e28ea3629d01cafc1c634c09b928ec42d3606287867132a1c839695565220e45b2a355042f47bfab80dad7bc42dbbf9499421965e5ef8bccdc316fd8967f723dc9f2e7a1a42e3be6104042c18acbf65dc8e3633b6da2c32ea0fc8bd9e2f92968b403b465da08e4d48733798df6daef37afe4a1db390e7e0b66839e145f83d9fa65fb4c938d91ca476951505c015ae55e015156f365147b69442174a1e68da5f269ad8410c9106e9b1d6c6fa550700160e565affeaa6636a23aadc562d89112b50386d75bf02b63e5b7f4a6ac1202403da178993cd8e5f19e9b257db3a5179639f78d4e8436f1e50acee17e84de8cd7297e9f9105796b2d9d89fdc40f492bc4c49383298f32c693048339190ea71209be536f8181a65aa8377b865951a455e1929a8c41a52130400ecb7ee56606355e7e245a7fa2421a9cdaebef66348c4d996bfb37b7cf88181a68318092db51f18276c330c65158a6ca0a62905939efbc1dd9481205dc10e2be0b99b33ba9d02527b6e9aa5c3a9ca79d9fb981ec66d5334ac95417db380e8caac6ad1492f4fa1ad5e6101e36a868efbb80b4bf3a6e93162f01e60bf9d7052851edc170d81baa6411fb21af7f2ad6c7436c26231e55810ce3df4f23c780a85f6efa7b1d3efb51102143f6a9bddaa82ad620b4c58234a346431b361d222999f3e333dd689118ca8d1dfb12f10b02ed5e5efb38520c3cc55d6ad9bde070c141318f17d315ba5b47937d882242de2c19d13eed681b8e9934aff6b5c7df7616a0ec5163c8a96a2fdfaf49045bdf3f06b806ef3f395a935f5066a7ffd06a2212ae4910115ae18ed1a72c99d440d5a85a9ad06339f4b919498998b8d98f8923999f551af877c86f4e7a8e5456e6fab2e5fe9fce57cc57e016504e4520fa6470b3b10189d148a8b73a88f4933f64e766c59fc5146bfacb0da4760ace85392fc78ea08be03d385a55b7e4573ddfd73c39b0a7d38a5a60ac5131c9ba796f9e7d90f9a50852a8f524649903851b442cc5031deb7ddc1d441f87416dee4dad68334e7f45da911820b7483f924a2de3af9cc1052ced9ce184902fa23a38db3b9c83a59e2f20872809fba0ca9d4a657d84cd665aadfd2d124b1775eeb7634c37aa4eca6281ec9fe2ecd159d78aab529484d06ba6aa8b619cb4de482b20fb65eccd06a0ce3db42745785fe8afb68f6cd4987f9a91a14de8cad5e1fc4e96b69b3117699c8adf84b258e7400311a67342764952946f40cba099a6707e4ee0a0977e1753997d3b3c6e407286def884d2e00e53d6ab0080c18bd2e6a4032c6bdf0abed48f52da33f491fe05bc956c7796c4be1f3a2283584ed971abb57ea8251df7091d58d0cbabd69e11b555d4e0d47bb2f42eca24a2abadaac7e9e8969b298dda0bf7fe8dde4001e79019ff0d653b6481c0f86f81895764b3cb4fcb4f080e7aea6d0f699b33d0b56d22d8810909bf757872a3409f2056badb050512a512c4df020e17b93a5d8bedc7e944745100b6b479f2de2e24ec3bf5cb5a4fcaf93158c13f32c70f6b83699a0d086b2f7990f49766cbb1aab2a82ff884b2991ded65eda4fca9edb391f925c8b9e64b0aa7c8ec573b9087b06a1ef028f77e235db102205e72bdcfbea7b4beb21caa2a80a790db905453cab9139b5ddfc6cb83bc00a3dcc40b44305835a7eb61e6803afe166dfebcd634b5541c5a54f37eff775bcfa77d0b31adec1b2c20ef8dbb6f1d1055312705a279eacb50cd0b49f258cbb86fe230032658c279de30d8dc9d4a927d26c485908a1b8a1c86ae3db54c69c4fff700ed0c4ad92945434199d16c64f04400656fc8fce63266219a01b5dfc8f0004155751c5495fb4e78f912e8067e3e70c664d180ef8717a503815a37ade0963ca4a59db0054f680f7b3dcc0ec462cf46db31a1a9ec7849ada999665d3a688f6f29e2e4dda883b4d6242b5536fddc4352630d90f88607536a14d9f8b47c59195f07cfa71786822d0b8d53952bdddb22db8fcd604d32369efa85a9896a4bb3d6a8f6e567e20b1ce02006529a2327eef6e4ee0bbff8fb1010a1ec638395c08933e54a2142382501b1d99b04f1010c4b7683265a221c5fc1aae3ebdc949b7d7a1afc2a68feb7f9448293bca449cb05dd7717a9064b128f1b0a3c48c14e36568ac3e18e6dd6aea867f63eaafd6b6949e4eb756323132d9ce31bb67077504229d69c39a82f11f66609d5f42d3343baa670c8628550851ba71e7598b7c4b9f4c9e67363838fe1a7a3e6ee2026ac59d0c488a5ff4a10ff0c3798c56636fa4fdd6b8d3ca85cd901df575d96c2dde8376b0ea5500592d8c6820b4dbf47b003d44042c072b4060980b29f9bacea89262d9c30e36389a9eb4774e4493a710084e1d468a581233eb5f50c6887924385022de0bab0c82343bd165058a34dea1541164030fdb4f0e23d19f23dcbe0be9e149da308d4f14567087f70084de7ce5af4c9b28bba39680c74e74e2712154d95bf14d4246984e6ec59203423d4813c44313ac4cba9e1bd5eead5a05dcac913395d7356ca42d421055b7402ab37b17993e3c157691b1977578182c345352ca254f263a68fb0a57766e20a917a736bfb78a4692744281234af849e45137d13a23102723e47df0e5d3805c3c5fec8b0275cc73d211f86dd6f81156651b40a5c42b74aa0d3beaf4d5f9dabc6f3a060f5f1d1c9d7acdd19da292f47141ea0e0cafd565d705c14c06f03ba8049574f318ad9bef4ba659ed16e85906c222b43acc3c8dae2281689d40d4024d14d90d2651b08e06de2cc408cac3d247471a503d6b49c46d229814cdecfa7684996dd5efb53fade058e4be94ce2f9bf3f75b12150af4d41cba36e287211d5aa1ba979dc10e6cb440db0e3af97290900775fe04649381b8010a074e782238eb1c44ff9399c73a70689d76afade9c19071e00997f86aaf77d30ea06a112d8d192389a94de6e4162c27be10248caa19dcc247a33c4e4683fb8a8fd6a025bf31c397b25e2710599846dd4a511f0762d0781f57b5bebb0b058761b31e87370abe287adc55af1eedae45ee80952ace902c6833f04d1b82ce15aa12e316af7b0b2cf220dfd1629659c75dc6df403e3108e642e56032b5cdfd2a540ef9af3ce804f6be7d8e1e75e2831216c9627af7062f37a7900f5f70f66e1c5a62fd74629da15d340d9abd42bb44bf9e505e6f90ec257db9356058e91b67392bb1c3a1b280c1fb3ce7f5b7387b713e573ed3c634d3a650a8171432b5aacad5a267dc78042f7d72c7030dc7dabd8b762d3171b15f9b4e2ec9facab213ea59a6b568b456c42a4a41673f90ee8ba6d8dd2b3616ccd749e3beea62deaaecbb7d390a6f0590f86a241d9e221985b8d71103c08d7bdb26ecf5f77ef6461baf294b00ddca9bf747fe4d2952bb3b8646a4cc37bc57101f5faef17a6cc32a7d4153bdaf62c25abc75950bcc1d769e03bbc14db89d47137a88899b68635b33bfa9df899a8941c56cf99a5bd25ff64c0153fbb1fc194c06dc8d768c84438f8a154cef137a579ae6b9e4271e9dbd4a82cc4712f79976b34c38a761ff3cc588ce8a0219a8d2fbe9853cf93ae28c7b52403f2019960e1d342f3d2b37c6259aae84b3a766cea4364e5ba81c993183e248c2e3c7c523024978899618177fce36d8db4dd6af83672ed418b25cff715e0a8df5d95777d1e2a23fc7b143a78a53d08e205fdd22dd0e07673085733c3a3fe6eadb76c58de830d7ff743424cacb1870034baed4557b37c219a37376bbc54bfdc075a219c975fd95db87da7aac4cdbc94b6a028e0130ceafdc9990aa894dafb87318ac0689c8afb868d182363d8f7a8e304b13fe8464166cc5e125ba75e651a53c1bb25267bf85c96d3ff8bd823c1914a5341a43f8efb62ce1493ecc76fb4e88295e67e2461a16b7628bfa1937c27471ac72733f80f05adec9e198cc1599470ee138aa8a8028d7409ba137265e7fd17e7349cf044cbc2b95eae758b06209175801f535c57597a9d3e99b04c167f29470fdcadfb211ecc068816f9919a0dc7bc2927d48eaa6fbc3cba28a65ff7007e5323d0ff724b9c2331524c7af88fb9ffb046a0c4027a0ebd696032a31f3ec9bc08296a57ff55dce7fb4b870a1a14a8d010f41075d713af4bf07b5c0d5e67a235d7bcfaec7a4991faeee7b8b54f659e5fccd33e5073e0233d8609259ce0c6212133f1884dcdc500e041fa64acfeaf19bc7737b7b1a20b3812f49fbedd96785e32463ff79e3a7de96eb2756c6c0585d337d99d84ead2ea9695f425f5d8a69d919503e31c8cf887c9ac2e642fed2e69ba3a735b46fd440a6faf1549bc08176cde6b7cad76915233eb98fc9d62d871a9c79d9ffd725394b0c0a7c17788859febe62e20ab4a458fdce1fd433716ee958fc0f867b309c51c2e029346af9d20ac739244d3225a5fbe2a20a8c8a4269b5c820d815b19cfda213f622858f34782ed8e069fdb449f8cf57e395c07229147f1b90518269c541e16e9081bc23942a9b9e249bc0ee516cd675f838d3fe182da6784d4520552e08482a5ed4c48d243803b8f28ec57b123130b438617184d11266337e394094200419853d2b9b5f408b5db0b85c29c944b50a47d71137d311104f317ed547f490c0b5dac1011ff24794fd973e357bc44063d7f1ed82748b5c734bae618acf8a1277476a92c62d356b4d03616ea36b2ffadcbb2f5e547a9a6cc2757253d51e051c5143917b531d3e4eede7e77091b6a396b016da7e7cdae1220eb49087678e3bfd7ca7ae4d353448c8b79e590dda1b7f9022d550bc1bd1bc23f8c44d08caafe6c25cfeddbdad25d034e0d5398afa525472821f0fe52367b5d8732659b6d38558bfc69a28943e072953fee12236124faaf8da7a27acc5a48e340e9f194df9d5dc798783493810db963de7b1e309dcc019ba8f0658e75e63365bbb3eccbb985683e62c43bdbfd1f8e3a93dc33af3b08e5d0739dd851b0a5f96ca9a0277ebf13db9c9120e91b5a5013477787afd8badeb2a9eb7b0f28df57ccbdfb04eac1cfdf6045fd15242057e5bcf02a2920c55ca1390b2ff344145280a3449b31ff3874cd4d5b13ce18449344f2181a0b3c45168012c74f05118c18adf11d3aa91eaf4687c6581861d428b272398c02a9712f6c6c9bd7ae8cb3aebec19ef3e033be92dcfec6b8903a94595cf561ead22df340367b3f53c39f10cbb1f3b445684cf2f3b3c67c4eded14b2f74f2c31ed0797253223c96b306e1bebc495b4fa6e713adf921878dbdab4930b9778d1f099f4a739b4b6cd9e90a5ef1c03ef4112e1388ddd265dd6a49ef4b4991205769072ae121b6bae38840c2f2da6d4acdcac93833e0500b629170a644731fb4073f5aa2df1012214f3ca471f4618e18c0ee247dca6c2fcc19913d9abc24f8cef0e0b8c7bd0ac3fe83e51268c6bfdeb48dae531e37f40a67b1311b900d9895aa3779a33f0611752c383434b5abe38e20e28134f83cd181cc58f3a91ab0dd491bd9cda6a93f02da7b6bb3a6e9e51d748f80162e88c653c6758476a5b2b15553af9b55d940190c0185aa3debf55d02e172b83aefd9a2ce18fe128798b9265fd16087f636b864e031c1349346c23c7749d6e018fbfb567116beac6660d780cca7b8dac881707cb5e87831f31bf57baecbdf3c777650618515738ffbb2c8c4771071d8e4447fb2ccadde75c2fa3d8192170f7921fd8df0fd237f91ed342cf308bc79f56adea0a4096580d2a0d9eda850e4f54c9c4beb8bc1e6b1b4f7ba7191b0a27e59c4fc43453a88298f817777973ec5e3e3d3ce3a2a51ab90688b8ba34b0a3e6e5ffe386605eff1b2552477dbe02bf3b4f805ea150dfcdfaf6135bfcf2948c6d17c3dca359fc8d8e7cab7dbf4ddc26bd10ee12ee95005baa3e2801fa47dcc5f33c6aaa38af5fa643c6ac06418f0d2f97a4aa429162d6c65e468dd89df4d3e7d4ca91793b0faff2f4abd8cc19666055261ba44941c69da834b35eebe7fde542fcd1fcde9843c4ddbfc4feae28a82a0a0b4fc985993c88c58b478060816ba35191c0c4808cb64b4d3ba0e57380d51913c41ef1dba319f89ff98c663991f6c16e3e56b012ef04d03f8b1287d0dd88c0d544c47ae95399fe6a5a4f1a84b1d8596eb1b0b23dddf5c087a30a2b86ea6232dbe4a4a9a4af591fc31065d3c0781e21002382eec4bd9fd6192797bbf23e599dc4f4743a013d42d4fe314985cc8069337bc298cb69df8c2a28f02344e6e3a01e0406b8c276c0c962dcfd1cbc930987f91bd74edfb55aceaea69350a82a1bedba298a84b17ceff7b9ca3acf51ec1be3707c5571a1e16996a29d8862996a1841dffca680c566f928f1f6911bc6422ab62c0c9c6761c65aad438768d9835556cf98f1740793940928160e5390badb137fb1356518cc64fb27c347b48cfefdac5c81405dc6127c45e53b5d38b9c58df6cf2119d50233c915b19dd3a77f0fcacfee46108dbfb588965eac1cb7a184cfd0f4a0178edf4c8f932e2654c99ff32d68ffcd9187c46f3058521fb96fcd2c499a2a0170ea7dfad8adeb468c2f6469d2d049faeb9d94eec56065b695c23bc9d747d4a61e771a6361f74c2935ac898a1b27f17f5aee650ecefae50fbdc71666f846dc065aab47b6607229826d951f9c1e65b629969312bd161c0c155b98ec1fd0a5b4518880a27ad0bdfc99b63933c44318090034b71a271df32f2df21cb0b0a62f72c7ce5bc0d09aef008b92698c1c47b29a651340a077a6f54594072b9e51ac0b2c593dca3a1abb6d37319453d624331c775a717e071a894d6fb51d688b183e8509aa6f038411f772820131e7157e9fcc750d96f11574c02cd10c46a05c81b4cefaf6c2fd0ca247042b072d710f210fe610b88606b61ff49b25e6fd80a9880fa8c9ecf49f5470f7a41be69fe11dfdb34e670557be514f3c24ec2d51046bbf7d7a05aca2cedc60625bc0366b4190c699a10450271b031bc4bd68d4366d915177812130b2e6bf9d90eae948def116f2fe05fedc4ecfb019820942fd98a725bb776856318372b1777b4788b4a7a4947062d3a544e4fe422983eefd606542591c2ebf39e5f4b2c247a2be06f2dc9ee0aea6e06a28e6dcfbc4907004f42e955e28c290ab389847f5c0ed122d97062b95a448c686b0ab8142632e599e4a624cc4b02314ce02b401c8fc01facc0131b81580e23cbb6e269f9f8b672c9bd3f0cfdf07e096a57950dfe3c6a4ec11d4d3311d0544cf2ab943b35ccfac2fc76bd72f339e33e4ed65a263074fa36aaaafdcc9a6ed5ea40e42d18d687dcd909f96d4dfa59a50efa96c0bfdef3bb1fa772a80a121044223c639be39bf04b6d4fa795d73f6711f1dd06731d670da8342658f7e35b93a5a6c998e9e71d26f9f85242ce062b087f67d98f1c6b9bf9acbf7455f84c49dab06bbf0ac553bcc6de45dc4fa7b834a1403978cbb16cc5a9634b9ebf531486a39b524ff97859042892e2d64d2048793c7b0f6cfeb05d29b43e89e7f58baedcacc2f31defbb909bb3de0c63eb6821d88c8745cde96127fc8a55e8c873372555e6aba9541b320b840dcfe0ac1281e844ea291ab3d812d77d9f431d58f0650e0cc7d7582658256334942c8a5101e488fcc22a156e58726dab733004859dc66b80871dd7d392acbfd35a5b95ddbf57cae8dc3d3453782be4b86bea217a09ed496981b80f65e05e958f2e392d4b24beb959f87e61b59bf877b4f2559a73997f93eaeab871675007a644ffecc5bf6dcbe6e1b910991e016397d2f2b2efc07bd4795bc54e5e4cb7d3b5d5d21ebabfbe85d9a7af65fb553a4f08b453fc78fecc33b4caa1d394f5cc667a2291b83f2fcf77329818b9c2be74aadae3f9e64ab61a65374b8e695573ff581aa2272c66166eac7986da2c27f1a86513ea82db02bf11b7a2f4ddb58512ee3e79c67a00cdbef4ed887bd84e3b8ce7ec2b76323dc449d685a6eddc6e1dfbb9e4963d7d31903f8bbfb4abbad530875f0456e4087b46b58215f690cdc8de193b883d1b00db7e1394075593908ab106b62cb4c3ec5b91dd6317aa9ae0395fc76fc6700533ebb8dfaaae57e294898087470d203081a556ccc3c17fb33706842bcd13be1700d0bafc4db43b51dd0c37b6315e33dccca5a1033a304b1909bd3204b8edd98507c11ee04cc51859f9c6ca6cb6edc37a3fedddea1fd791704e119b887110a49697630ee6f101bc5700e8d504402108e53f985bc5aae1686f3da1a763beca2eb610d8d1fe1be9f71eda20c37bbe05bbc6ea089758f0331f6f4a9e1b826279566b2f5aedfbecd2ab129508133b07116e5f47644141409f02a58a0aa7561d84e411c1428390762c54e505723df35f2a12f7ab852f7266b79a3916ff979e6e2bb516427ef4f44147ceec6988db94046ce9d1a6b25cad21391f0d7cb0fca75100cca391e48c9b930903102838ace21856554dde30230e5d4e345f629d3e920261899e615d0168d8de824d1b2e64b8b3d00e3403605775197ab54d74b2ea6da68d61aed8071f34f12f8f80036ac8898ccd2fde37f8b9418a4f66902cc9931e9e01e7cf5a00fdcd6c72d18fee55d779cb2d5db334cedff31cca5b482119e5e269332b9cac3dd64e7198379f7886aaf60f1cfc3e17170b3ac9a433a8d5bf590f67df08f353eeb894a05548f1d67d6bca52f193c63af0a59a54e86aa63589f38d060ebf75317293576e845ffa66982434c7c428a68d2d113649f561a670878c6638a6e304f7e3b6a8baf0d1883297d3c168df8ee8984fbd0d00c738f703c71c05a7324e7be02e8e72fc349e30727a683adc2efa1d90699dfc0e752a3480689f01908299dda33caf8bf066ad8a60de10b047838fa2b885666fb950e58a4c86973dea9ba7b2e7e13b36e21259106ebaa9ab2cf1b4592b6448a47cd702c155ec72bfad0cb8a67a3bd46a5a0b12fee6eb599511641230fc42b0be71c309636633f4466edbf595defa5415b857b16eb1a463529db9e2c94419390f2021d2bf409560421dfd5bb87f88e970ac5b1db3ebbc20014870e09541901efdb277109ea7e3cf32f01c49fd9aac1e746c5d99b1d447c4d3d5ade858a11b1cd89856413136d4218085accdf63dbff2703708c7a7fa5fd89b4389be528fd3ee506b5063d07bdef98bb96caf56086bcea9b86274a35f2502003ccf4d9994d52666da5f7e219a2e47a040e6cec8b3d0122620aba3a0abc1d55cbb35d8c10f1f3e24327d9c40317749fe84eb37738e4716fd7130337ff1b584017f0d01fa8efdd8e96595e0ae31b7938d6b05f695037c986c0179db97a38672d502fe9bf8f758139f2c41a9bdeea6ec1f085bf48f78cfdc2efeeb306a7853f3b1ac7390f5557a86bed0196b489b255ba723cde11e1df353c3a574586d6ab47aa31a4b726058f6a7d8d8173ef17d69641a13948037dc89f17bddb8540d267fd26a1f585106bd41b023778b06392b009d912b4f02a5336b7962d1b903b738452d3cf64500037b78a70a8c50daeccdd8678a30d6e7215f2625c841e7031b57b0986a10e924789f021e105f6977434aadc6f92ea6b97fb5d483ecc2d936191fab3b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
