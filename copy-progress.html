<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2e91e066eda9a8bf4909f99bca396a886bd0ee6c667767a8ad644cc2b9dfb23ba81b590896bc0c241aa65ca600f9cffd10222411bb159192300cbb56dd7df87683480141a920262e98d71c63aee7cf0814a1ed4961cfe2424ec577364cc3f44618dc1a73e196b1eac3e3d4ae1a6a8bb00e50e1248205d28983923691759594580565f96c5c5977c9a09069ffbe24c6d20ba16fdc79ce973a66234d38b70ada7508a809a9007462c7901f3a38f744086e20d6db631cd282c1692dcb732cebf50d727d2798e770ca3ccf6de8444e878b5f1b9c4455b549498f9b3cd8ffb312e7030c933bf9525fa6ad0c0d789aff7659f61b2601803333a81a0d49137594303fc20bc2c98911c1db6a757afc98fb880d22eea9803ce2bc9e6878de032b9440c3003497005c9821e9faba6ca2a37213e3ef9d8fc0b8b46a4c779e2f7a886536e58c6c6489d997b7f512798f93975b9418b0fa75eac8f9bb0a05a99a0ee17b2534c5e85aa1d5b347e84fe9afedda2f632845b02e32ac44915943ad40b96e5a259eb9bef3ea6753d48d0a230446f850e2ed38248985e5212134b303c71406e2677ff1daa9513b4c1f1b2ce5442190ae5305136bfa0947c717fb725c45aafc77b39fd8a1e05c0923fa4791355df2553ece9377d70e49e886373340d193b40356de63e2de41500477db3ffdda4f21b1baaa4ddb49aca333ac2bd973e793f993e7182e58c0894e37565dcf6ec87b9360c9e6b342ade7687ed5e75e247691d9950a268cde2a76b6bd1f62298cfdaa50e2bad6e2f8e94f2951770d080da84bd7bec3eb18dcbb494020eddd93047f452b0abf202950f4095f05a66f1081a4fe7276e015113029fcead5afbe7ef7d73111fff459b33ed8c977a1a94396e0716c5b3f69cbbb76f49a5d2d7940e4d58de3128c2b5405a942bac81913e43afc0407ca626632e33f262ce7a43713b57d5cbb2b60f9165e98d0119f6786ea1c5312340c0584232e3141da19b3056fa14b1bd3dff197d83f0c02fa4a74440047742e092a6247c294cc0dc62f6513599783bd53e3073fbfb0d75aa39c6b45525d6fed8fd7e8fb30319f91d8e577d8aabb31e950f171ac93f58e0b343fe6256056eee62efe6757c049ac642e9d38bc51e895aca18da776e51161f801db0faf4843356767f4d49460dff849b6f1b75d97a5a75ec256807e535e8955f77e8af6d1567ae8b45ae7c1df075495209d01b12cb021c411fa5d05b6370df9fd6cbafabe8b4d9677c065b02667c0301b8d2024d92a7aa8e52b45f788dad3278820408af9febe291f35af61119d128a3f52b308641a30131314882d25db73da05796f7772c570374ac2be1c8ff71b3f886ca3ba517af0d8a6eca73eb23d56fa86b5adfc63f8b53769d3f2a4efcc28a5ef2b2719280969047ca42c34c17d085ecdc2273419ce8f5d83972cf66ed6f4457ef5651575d16278510144e90a480cf019cd1ca32a47b991a120d7ddbbab25b30a2814c87aa866173ec6cf12682b3cc87ff07947f1f46d0b450cebc76d79b922e41ab8ba526b51ec118940308219217078deaef37f56c29c2ecdf524e07d8724044a8af57f73547def401b4515172cd5d6a513cf9ea14ba4215772e0a54369c89992705a5ff96c6bf073f5fd6899cbeca391fccad238276a54d8a1309e651fe6bfc23e55c69198e37345f59388564d728b309899c19d9462a2ec9f9fb8d001f061f41a16b110e3dc7ba24c78269df3e3ead87c5c8d9c443e575bf06817100351a3848ec7f3fa16e70d9df911a0e19b1cbaf66a44844bbdbd294f55a7a390aa7cd8073d1bf62aba3d6ed7d08d010cdd876a5a17a0286c284215b873043d2c5c1e135c7d162635f643c3dce2030e11a1ca5b84565394de1710cdf061a60d1dce243ace49d6ab9f8914b7aa6b7c38f9bc6d988ccb02c182c715a33560d5507332293fece425c106b66942e544adf0c7fe9ed6fb11a26c9c8b5003d79df0e125caae00d8a8dc20fb13a90a61642fd7426158d4db3b4e698e939e0ac5273800c34c77744c5536d83403b47823a2bf7ab298d717ffc435090bfd1c4d682fc3a103abaca9ada9b500525038f9337bd5d346129c9066d62e57f299631b0f25481e367ca6412f3355763d94a056888cda726de265ce49bc90b0269950bbaab83ace04ebd453e769e784c20ee8c2cd7743e066bff8dab1efa4208fbf0d6729610fd8f393bc29360398ce5623522893974e61b4ce0e2f99bc8ed4951871b0199e4a8094c7fc3d11acdc385b54c199706988775d39b5759792a997c15c9040a4d8ab5ab726eb6853583891a28f2211c3f7d1e1d7507deb09710d903d40065f4ae05f9a1398329ca7f224715e7ad58744833a2d5b9bb8abcc0b82876b170f5cc07e6f239efac782b407b770df85a92254e29ef1909c434414445eadf4efd4ac78d92fe7b9a7f9f0344c9b539b0048d1bf84f2a24598c3abd42dc70754789dba490b95efb1c44fbb88af51ed4eeab52521311cd63980c3fb9e2ddb64e2e1db757a36adf37670c93b2d58f4bb956c29443da2a8e60071f3d43f20daaf83555c07d77d995459995f355306416a91b5106d023527fe110fe9514c03d329da44cb54ed35a00c36498102efae3015c44d8f1576cdde2660d55e3bcc6b0e3bf9aab437256768dbddd78110338ea6fab7ffe92591f76d1853cf160977126d86b72ee304f5cf7717b26ecb616417b8671cbac9c79e8c7f01d45e981f366d628a81108c629b8f00896a667e4bde8c5389af590736d7294167241a3783828603237b7b2a4b817cdd9b7d25d44b1a5983cbd9590b3b28f24feffce0d1acb3ee195b6c209271b51e7e1f2b80b1abc1b08d948d1f8658f32074e745c3e2d733a6f51a324e65836343e93d23117c70d3f9b8ac6b2b958902ee72d3e9592e2d07d46bd91c99d45cd36cf5748e9655a3387b9643d8ac41d3a8a37b5625e00f25596f039a290d498ef0446af11b2aa2d2a07ffe4e03f59f39bad92ffbc7cf7fe523c8a80a0cc6a9691a74112674dffff67285d7821677f7a0ced00c4ea0e7e97d9983d959abc5c07cff4d8c2199c4493083fe0c100eb0913e265ea9b5cc32e27fca599b461802798368fec76fb40d5badcccc9c3aa644d8bd8f3b5792af0a4d321d40822913599acdfc2ee167cce9e582c612e7c2fd39aff4e07d29236b73c0f3a5af638b42789c5e4cc7baa12822b505e8f50780ae75c233e813a264200e00b95666edac987e5efa46deb7ae83a0690c8cbbd4aeba33d0083ce23c2ca24a3ad03a7e9fd627cffb4aeee817625608db0d99e5e08eaf6a464840c21cb9010ebec65543dea01366b14888528c4d8a157fd3968aa314fe5ae2813c986fb54b96b105e01b268732e3429a55cfb637b944c97cb91e6837dc3a3738e83d2ede86fb2d6a31fe91e6a7ca64e146dac8d620ca95d108901f19c10a516799e7d48d130f8b1d1758b957dabbccebf104bbb4f384b4a10e55053255f63c7e4cdbca7623ac4c95295ec5ce4e2263be33b827317d22d06220e70176f57047346ceb4c62fe641356bec12f1e61a0e49a0fc865048509b207d9a88e8d0f146f8dd11fb1344f78a3598c122cc9298824ab08fdcd7a571d35dd478ba0ec37d61bd75da343245cd16f3649daaddcd57e4d03cd7584403ea2aa005ec7dd705f2763b987a68def45923296f47220097504fe3eca90102ac9451e4e81bc42baef8bbe6cfc113cdcaa9d6fbde8233092a22492fdcbb318e12460c0f87f631f3f351650c9dc7e37a7e54e26b0bf32d85b7c398422686c70c85a07d534e593595a63e98796aedf0e3449803a175a580b303d8221d8b1dac1a69f113de176cce9d72ef5a86f73fbae516720a8c4a29480faea96d1b20dc3c482d3c75e5b71147cfd3b7f57018905a905abb9f4ed9a1ddd235c98eb4c0a3d1d77822ddb12516a399fd735c7c8275933eca5067092be8f9f1c6a571c3ac1e1a6b0d6ff8300b7d6153d7f441f59d54a96b637dd2a3b386600219d5ea56966cca17967b7aed63237f12e3af818412858664d3cf53b5f8bd5c0f547b1e41236d3a34b8b8e780e5e552eb33035f45eb6fca2145331bbc7d90385cd10399dc55d85019168fc32c80f70c3c92bcd5af70931f0339b6db5fc25bb6cbab309a7be45c53ba94e8ee7e543f71c85fbb610f0696d9de7eacbfba082d863321ab90e26940a51679b614d9fb26816893c8711041db07c9a71b61317478919899949fdc7e59dcd437ba58527b67ababe7f3014103ad9696dbdd7ccf80295567481a620f5888c64746c7173793ec02ae7e35b6cc6d0a381533dda9a6fac6cb2124d24a98e34e99aee7842a8c838c89008d7369297ee97b8d16656da1acc3521f2c00eb863615f1a0e59442794585184057f5865b8a54e9fe9ce0bf957eef3aae56ad975addec58c0e395dd181d5024bd664a1acd2c139fc93d71ecf19e41f62e8751eda2af7d7e749c0e7a5c58400f8f4bef87999cf4ca5efa0c03a9ce33d8ea54e71de4203230b9ea40c744c167bb402e0e1caa19e63b353fee73b60506fc3bdb85afeef21767ed5a88d9aab10322236b835c06e6a1a90eb45bd30e65571c843c1f8ce34de184bc4365e3139ce38e3a04f37ffddd884775791b89f21188a6e1be10d270963db5e225992dee4cbb6f6037eaca1af77939ec9c3c52c54c06cf6547ce396652b1776c2e320ea7407d2c74315bb587c77917aa0b8975827d02f8aacd14492b0a592e8c7f5a5afeb20274ab9bf46ef48b09083ceeddde914e6d64c66c2d79ad9c9995618c624409cc424c33d165b521a4e24db84dbff988aa32deb62abe1ed6c513c383533f7b31631391543610e3cdfdc7c05d2b54658c1bc4e2663481c34011a18158003b6dadbbe7961db3cc2f4ed034b732a396ab82c730ef0dd8449382ca269a40f81260dc88d6927704b2ddf85dd94b462979599dfb9f27d5f86c1c01dc01d8b720958e53fa91654633a4fd57b3255671c9ff6a299ecd71f563fefcff0527d3148f8cbc7107785cd3322ae9d25c44b3df5c72ceb5e383a76658fdcd3c59c4867db2bbb558a6a879241b025256bca3ff9c199f139dd263128e8d4b6b102705ae72289b915dd3ceeb28d8b17cfd71c4e023d77708ea7bfb9b7a568a331c25a2dd0505178b82ca81e7a14d5d8cdae2a669998630da360ec08e4f29f0f004e001d1e960ee1ae71c16533b04d6f26969f5f42983a8ddc9eb050cfef8d702e27634504a8783b902a7c264547f2b9502cab6bf754b755e7266ecd8739daa71a9d0702fad9a692bd082ddedf7c68b4ed61a8ddafd1196e1540019c450d3b7949679cb2aebaa492fd85c1956b04ba56ab99a4902e80463454d097378b6fa88d3042b742e7432cd5b834ac6b033060bdb413adcb712baf3c64cb9ed9defeb20eda629c122110a07b58ac2ff300b3ce9e81ea757950258562e7344fd7870350cba4461ee803241552cf369c1eb6c8ffbc948d2ebd3e6b99d02713797ac70d82255c706426196cb000f4d36b0d231811c81846337d829cf323f37f21654f19ffb12625b5c36d60ede944f8b52a7a342416a9856c17c56fa1452fd76957dd171845635d3490f316734ad98fe2534f2dfa5ca6d4b540ca859a75ce8ff110a367a0737dd723474e445abd5515c930dfbccfa04c5d187450fb78e239dcade22172ed8c79f50206584af68c1c9206a584bfffb1cdc74493c0348cf77fe682a7c8c50414c5ce693c6ec24b7c1c4bb7f736a604b44f28f35838f1071bd6c5e75d46c698d5b062b99b70f5ad0f517e155eb806be5d94e30ebaa0246051438dff49ef4f20b07c4acab3794960c0e8740eeec8be9e32d3527c36a5bfb9e59b634b6befea1231e7e0928ec9902b4ae41343efd2cf9b65d516d7781eba7ae28dadf4de93bbee06cccde3f809b7a7d975a2591add910fba0b0040defc5fcfb47ff5528e0fdec0c661dfb50abd03afae07870bfe9f602a1b84998211beaf3f389bb37dc61000ed293f86da66830b754af0a5467bf20a3eb7e525b6877032c5e4a82a48a29208811c387eb3c426be4c4e8e3ee35aae084eaceccf3589c13049dc17807ffbe8a8c0cb82d8bf2b7b1d7456c328883a3df6120e9cb9f202cf0bffefa5063f6085b5dec7858f51a68a80024fc68d570cb3b869fed0e9e8002f252c5c4ab002bc1a13c640519e3970e54932cae55e8bd43504d020e4379e958b69d89b181af7dd3789c9a2c1b02ecaf855d259fcc77571601aab00d1eef86809eaeeb6e78fde6e0511bce4f8b23c8123e68efdb36a015755930ca5534fbb22e437176b0b1557aee4376aac5cec3891d32a3d9d5bc80beea49c02d05e6dafcf266c5e09351d63bcde6ac6dab789c39efd1ecdbef5fa567fa72d9cd6c297690abafddab9e2b83f1e0fa692d3401f5cf9216f44e83aef08f71e62df0e5a529181376ba8f94915118d819897b4e9f92d53e41aab9e3117b03ec2f9276721c930ed12c422f1f5339110f380852d8ec9a99496f93afd9f70f6bf1c29482cdedb135d8e45cdcabfa9b9e5d74973424079a8c000b1d199fca779622dba15aa279c20503d01f1aca97c935ab05c9d590bb84ec28355b37cd15cbc98457507a4ad16ae5a3400b15d22fb2c9bbeee2c7a9b06620b9d5f28bdae3cf8e59dbef31defd66b32450990b1b1f29ea7cbf1ccea82ec5aa463903cfeade24b2073472f87087ced415f3cd3144291e3b2d2bba3b7844b9abf8a5659990b391c22eb2a665de1d2227374a587cd481b5494dc58e8f6192ae4c3df1df908abe8c599c688a8075649f2487ef6a7300fe74dc646f28427239411311400a05730f59b2c6d8cfdef1dd6def4f3eed99b4b58b9ab3fa33864566271555dd93ad65f85f9f3b9fed35003e8fb73df1eed92572802129cf6798a7056857c04e359ac584204615d3b61a731098ffd90245f140369a4a6aee1c4a3633795f1c6ee7024223116aa2dba1a72794412e896d04e19971722d8c8ba8df655121586ae5caeaf254fc6f82eda9fa77760b390e88aa3c78b7d217cbf8e0f94beb5178c6c60e1dd57878a99ea898f8d36526435a8708e06f5296a371338ad10490267c5d0c02320e8458f6373c7a5406f0a2b82b446b040daa561ff86374d14e95e311927757829a5877658092fa74abf16a4e74fce79b4090d02a8cd896e6a51ad2b4ef248178220e74207f1117b0b51ed1a678c9d920492b9d94052abddb9985ca585043252c02f8975f603f563b2f894d4f27932d0f0281772755ca2bb203a9f1abc08e983feb79ed9b27a1181f764fa2116a0febc0d2544287043cf55ef9d9353410b2fd2ce4528d77d017a455ef912db97d653b06702de9c29379c3096b1d6096b3157ca7eae772f949bce91560658351d6f87ef3da8d39b15a749c338012a6c3f98a2182db809a2725d1ff234a0a6277bede56fba9ed1835556c467fb84179f9e125904d7fa2c97463614c23eb8b7e1ae65f54973a1224eb82373a18a11ef55fddc15c6bf5ae253c16a8f404ee1f722bc374dcd782938f7c6acb498ae141d17f21b92b3a164606a7abf867b671b12d1a74b00ed91053010ca85edf26c03711bb184592d4890c743f74970dedfac7c350770fcd5079890ea44cfc8b2cd3f0d9db161b5303c4624554d431cbffa6856fa468deb6b565bab16d7db17284b260c8edcfe6b7bc198bac21f0edcf5bab11ff971356005ccb4fda119435d4285c43fb3b518e7e7e6b3d09becf67ff9932e0ced56f27c27381180f23b598b9648aef49a0fca5df7ffa04145989b75205cca621239db10f5836a64332086add4224779577a7d974651bea36146e18ed0783e78cf9dcef7d69708df00edc83c225003a49d2af26cb696195719167b3fb474da236aa5d00521b5d7f0d512880fd637f0204dd29167b858e7c626b95c9418387838a57505ae014d38fc2d3619a024526772de61621cefa18d82a4d32a8a6374247281bc23c34dcdbc9c5bbf5fd906599a42d38599776ccb4fb24ad36233454c5b3e4b3e1982d8b764c172132f2a889aea44e44f98666f61f3b1d65c86ead127d7229f54e026e2af8be38de83b0e27eb49be8cfaf9db8176515a8c4161da950551b33a2de7d055b2d1de941649a397011ee09f459f905e5f932c75d73e8f0d34a6fb1721ea85afb9be41ff6afab65ceea7112aa2e3e590cd95ccf097b16b120a07a70a3f26453e6910a08ef2d8aadca9c9c50c5688317b75403b42d92aae7eebc930a04c81055e2b0af1fc01205aed06737356289f38230a33a4c2bb5cc3286dffc664cf241a30ad5928458a3c84bbd38c71bf51b4b3e6a8be8bb79a0df4e5d2b7c78946282916cae3e0c743d5da7f686327d4dbf430fda3b397f2771b30928ac1d11a821fbfc9c831afab654ead3024063a59e5d728a5ed46179f5b79197ac56bf10904d443bec145052ee3e7ac0115967eb55e81386d9d8edddbe9380498dfa8de3b155996daad42683c2a0b0dd92b95394ede95490495c64820b14b2db82bb3baf2a0c75d4e9e49740c6cc92f3ff66ec24381d540ff347ab7bca101ea78e2685bb7840acbe07a8bd0a895c2ad5ca80108f3293af10355f611cde6c6b5905a0821f56ac570a9fb4f1d50b5bd8241adc5dfcc271f09e07a5a7fa3aa043f1ecba8d01feee1bc033424949fd1e804b4317afe2506d1a4146ee71864bcb8feb0c2f2b150d4a2b36d8bc15a7dd796327d07500128ba71c930fec600aa68613520d571b8d88a71b3102815b86f975e7bff640afde19da724d0900150c3b54b27660d1353861599f41f1fdc31da1d7299f97348e964906262668b0cd3dd916a57951084052babec5910c14bc4d268ccdbf72384c5ed187f822e3cd1b754394d0cc4b0f6a6274457be7b0901114573c33c9a51872267e96bb6e969b12aa60e486bf6f36c2bec85379332577d090044d4fe95e693adc55c29f1f9058733048d376276d4388c1707749a34d37aaad21d1c09deb6bf4ccb774a6b2d24d4879e2429d26e26ab466361297f21ace40dbefb5d6f55e4c41060ea9e113d54395cfbb484488a7e39e249cfaa57b826304167c491c13fd331bea24bad14c08f2672620792af06010246aa541033db4af190c8c57d81cba1e7e65b035af2a632a0e65a4489476c5d9b88dd4000e54c59b2b0a1b31e3973bcbdd51dfe7d37b79a71964df4b2facae1f3c0a0a521b0359e0911ab2061f23585ded7833acdeaba1b45a2168dedc79589f5d02749d302fd1857316244d2e4de54c71edd503903372302570dbb32f490b1c555a411f94a33c607aed830955825a3a47259c093df025e26f0249fdf0a81210f20285b6ff229dc3351beeb33d389761bf9ae1f67f62f2014783d2797c965b8c167644c671f991a6b36e3b0f2f7286b40f090bb3936e2f0befbeb297aebd48673ec66990d98548231ccf4c222bff1fc6c6bdb71533184715ccea42d92df26a1f66def376f01cbcdffed5a34ad1512feecf5ad00d5a49f50eddd59b215cca5152eb801496d625cbce0f71f43eae4c72386eb066ae12717c76b043a22735af242c5dc9f62c27fb951128d73ef224e37f69ca91025f2442da5b1a4af50f0d116162db83af5e6177a8b381976777f558f14d6774eb574acb8bf61be4f1c9a4b65ee9a8162c398e85b9a0387abf6ab59ecd49976d1fb68defaed5bc20415dc2608ef64d490b749949e0daefb7c876449b1c860e1d1dc5c6de03d1150b5a904d83013c86920f151bbeac8f3716b521c1a7029fe449f9a2df8b4ac4433e60fe50b9b616d988adaf2e7cd28561be4339fa1e49919838aff60bbd3851ccf32bc4775c0e9bf97ea5be59daaf74ba83998ce290f2809adb4648758fdebbce4aa224aa026c565770285f5894512c8ab46b34ff4e5677f4ab2ca74c096a98540a7cc1be8e838c6fa9e6281713093c3abb7bb4a753057cd76a7e28ed065e4f82640a242d99e273a9666f8988be8974a9847af9c0e8a2b3eed1f8e5c40b2220a01eb00c0657a83764ee22a7148e4344dd85bca6344a5cefe5127bf18087b3d516a5be02505a743b8cbf3f317ecc16194cd6bc5395b207c41bc3fef00a5356553a4ef6078a009d2ca2f697b2e60f66abbb6efb609e3024e956a73f14073a42920a3b8b4d9f1d501a6e885be3614befee3f1f5b57c47744eb97edd8db2ce411e154d2e500b63a12cf623f65295a709cc0d637e76b6be3a8883aa3f22c114176ea9373f6eb5a048325eb9d7f0f9a994be75bcb4a4a258b78c1e53becfe30966a20d6af1dbadda7dde9f35574e05da8ced577d31707cb016fd01361ea08d90a0389ff5874cba636a50f1d9e6a79f88499fbe1cda08adb532835ab069eee34f5d0b5802d426864bfd816dc9abb7687584ab72701993628449f6d925d3b7fff281c30408d856c0fc68b52b67e28ed044b12588b06bde75643f361f888deec8644f02f92d92e8a73214f337e29dd37d6760f7b1bf453cecc465cbd237c7330a533c3645dc0be17fa04c6262e72d7e88363a62424803b8210b1b1ded65c3825e555174d655d7fc14aac304dea967d8fbdc509e27a92878d22fa77160dd3a47765daebb025fb3ae497fe475f35e08e4f75305f61fb27875b59c47188e3d6ee5e92d449b6a7a8e7409b32425108703115f293370e91ac7ecd12cdbe98fa6a81ab67a84922ee1f9cb2ba55199c5da7e5bde038de20095ff7f3770eaadf96fbf64eed9e8d5365fec77382a7dd8d34afb7b40b734b40db5607e7933fc895c76d52087d86e0256f8a759eb14d70409c883ae993ed7ba5a01ff9cf59078337e29d8ac8ea73208cb74bf5bd4f39c32ac91a6467fe137b22748ed37b243c3da88e2564328167b04817afa5a8bc9865128629d56502eaf55f9995d96d913c1e369cdb56374eacfb59f24708aa1f636e3d4a497e1f1cf82e503dd4ca12eed3c47a3d65a4422eae79dfd387e86dafec11c02cc02fdaafcda22b74142d01483ea8853cdf3b0f931fc56b5c3d89bb61b5d13080a336bce21fc65f5805565af376d93760e5f8e7d78699637becdc86eeb4dcc1b3c6920b8cef5a988d639b9364a7b1d09080101b04d62239e75dd1db18fc09387550e065f0c703d3d0c68375a96ceca992fa92239711957476ccc321b9fe9ab3873e34badd8d8c8e30c67391a4ec42ace9a8f0b6a3bde3b312326bc2878362a13b114369a979d98c54bb00fa44062954b0ddb5104b3db4fb9c75089e514c00a4aaa0f176179b406460e5d227516bd71558160afe55d7802ffab4aa2749b26196278c175193aaa720d9a6fa832c0e297df341a4a809d02cad266a21a71dd200f6c1ed84dec7195a1f248c465d910dc01d472b1dc7c3dbc4c912bf07b265fddc5c89d70f395290a8ca04d9ebb213dae4f404de74f4c7d43d920189822cc8f8a4f99a37226cb73e5b02866389b798a432c439e7bfe4791eeeeb3cf5436c76e7a807cce5d8170841bd468fcaa5d8e7b4ddae79829dde912a0c0614d259ed2f9d16fc7265221a8bd4750113fc58dc9886fd2db3f283d34c54d52a95f02a9213bcf1fe49763e3e2e7c39cfea0f50bc828934a0410e83d1e068fac87a98231bdc16fe00b45829b556970395e1468e19f7faaed8b184b31f814c3699663a35c8f3731765743ca5673b608ed7adb1e6475772a84d6ed5be57ac74c7c43869788210727f522d261ff15409e67d66bbdba33c4ccde38cd41634753e29664901fcf1363b72017440ed257f5f0ffe7a3133af56067557ce46c1a56a6a38c28161f584ec3a7f3b304986a6782fb40b37d5e02d88281234194a6281ff1e03ab3faccecc8e6058c1b9b3b71489c928120c84589f8da48c602c45ffac59cd8a2ead276d5e16675237f050a8fc4299ce69d4888c6c2ad0f328820c57fa0b2353184a3098e05dd4217fdd73694471a1e451d7ac55b110c0ae90d26c1529f61fc8d9c741737463b4fc401d9a06953fc53764fa2367538ff2a371f177db9ae022ec1900da0dffe8eaf7242a730c6aafaa0001726bc200b747416ef0cf1ecda998f8050333439b5972960620f24501a9068276f3b1f1033b729cc41c6884779eb4a3e9f185774ff5b23bd83aa0c2c94a433627b0b0e2033eaa9709147a6c4447963967ea9eaea6e2bc74caefff2910532616acb8cab759bd7980c420f18bb6b01b34e5e156abbc8a72ca29b2256abb78c457a7c861cb8ff158a68f920a3292b298f472fbf72838734e92038f8575bfe5dc09a3d22e41018708dc9f67e79a51358d6225d0dcd00817c397d7c331a337ac7e63863c7b0bb2a0c2eb725820ca7041d77af7f34bc35c1f55b6cfa42e6fe1072d127e73e6ab0618ddda8d903de40771c06ce0b21307ab99cbafed720fa0013aedd8219ea58ca9d260adccc6c239562d73137cb0fe3ed57a4c1be5731498d89f68df5e1d4ff6f8491d9b9abd409a86cd88b5c48fa3e6071782503e803854abd970edc4f2773d18f23b6adba481053cc25749f17eb2e489c88ee90d373e10833fedabfab4d568c748890e422ea60ee75a8574bae8b2d6c510d21829c4e71dfac490f33ff5cac397347efed7841f689bb5c41d8a2f28cc1ad3c989ad0b1fb565ef25902bb6fa8a5e1237883dbf9d984c12d15c8e01903577f5211c03113115cbf2f83d8316767072af4c60173ce5318290cf6bb12288bbba0b9810f79fb25e4e88573cc6947949ec8b76c9a9622c082b2a49be9de428affd24c31432eed245a1f10b9a6a1136981c9b8eef289fcaaf4be959d3ec987bcbfb076948af4d788454438a0d627eb1edc0a13b4c608db5322671e7f335ca8487e3fdb88aa6b1c0c6474b4c50d154a9a9e066c19886134b174fdea0fffd21f43948aae98b2dec81f9f8780ab894c468373a3ad74856a0980f27916c6687fd3f65e6d1993247458a9fd7eb30d0f01258ca0e363963ed6556d7e0137b8a975aea9ec07d7335c7177338407387ec8a958d8dcdf53efe81debab228f21cd2c5da0f7e14af01625dfa7cdd2379629378483b3e928daf79fd0ed6b8b013c705a8f43f72892be38c6dcfe0312cb5790a85d3690b905a862096ed4eb3e41d99b7abf5d3684fa9e0052a9a26f914ecde181ca86fc8c5e6cca901af4cae1cb2dc60ee76c81ba912d975af1b23d175f7a31054834c9ea082edba12037d19a439e83285024d23d359df553a0feeae11c9f87e37c4291a3088d33499183543bc6ed34b7f5548def5eeece1423778bc242fdf47885a7214a3335252a7b05b04d41929bf16bbd3fc75b978e4b5ca0a270770e1d88d1c782e98ff35f70be01a96b781a880c15c54e55584a31cef37939db818813f7b4937d57951156d788ec7b8b6416071ab01f6c79296d717e6075b7dfe72d3765b4117aa9a6acffd142900dd44beddeed5fc477b5e1f7d2b787c30b87f95a41f2b664b68bf9fdb62c96bfd5e9dc744f6228e4bd288279e4b59efca9a75e80e030e76262ff22807785dadb1f0d633ebb77bf16090665a94f6de97e9d4dbdad052eca13fc6f6629c7619e80e9396d2117b0995b11f80b5e5bda1c630be5479fe040e718227accc195906fad88f08e07f358cee7d3c65180bc800a766f9608101f4bb3beb5a7d6f53796c8e627730e852d1907aed972027322fc48c6be0d902c2757db3a902a76c8a878843ac7ba43d8ae8df6d4d35e90d5cf170d9ebe9be23fa7ad47cf4ea0b75cf7bb6c149844cd1db3a80b5e4165e29a374eadf50d974d985747d2a5120c48e9b675fefd412a0e9f197ea35e1ea8858b6b36d0bf937807ac57b7ee9c613fc23f1e456ec4a4dfaa376a611e59d27674ca986a94008d9284d744f999f903c31075503c96bbc8bff3c71f151a53fc2f165e160f0e517a9b881085efef7872036f8c4010344e468dced08f3180c6e89f3d3fc0a25d02d7177c67574eb3f4a0e3221803a83f42d8147c9f1d04eea45d3fc70a0c99bfd8aeef81cf6d3d90b5d78471609f4192be3c2f889bd9fc0efa8dcac3740b755bbfbc4108f5fdb84a2495eaf99925ce40ee16391abe60ad921e02d506a44d1303ae8e693cb3106be42ee5f4ef8bdb1f618d7f5869f137cf18adfd5278c5d31faff326b4b4ade397238ab2a889a75956281ec01815b1a3aea7fb4b70fa1eeed8cfa5b21e3c6b0fa972fc567c4d8b3931f732c877e3bd74633207f57fdfae32f00e054ad9a6792045cf406c90e832f6ac34c998b15bf46a8d2daa1ae1270dd23b70367f919fb3bd05e3b017a4ae5dc76041eef4d1bb8e88b80ea8fa39b9d02c3d7077ac6d56a1263a01dc76cb8bb1f4812735a609dedd4fcfbd25d968716dc243a3290066ee7187be534c89e5e89eead1b6f91bd2033c3b974405c9750e8292c7ca3389a3d7c94ba4c33b8502fed5bd1d7b09d117e12710a7e8ff6f7f95e38358af6a71e88c452616dbed1fa6705f5927731ab4d6d5ca82f23e2fee37bcf15bcad89274aaf7eb92113e0e99f76a9c5dd04fffe06e07507ca15211be29f74f65f09e4bf8180dc1390f9671c8e660a676cf3a52f04363b6206b4128b615c335162ef58d7dce03b5c4eae3e42fd94a300a10964b2c94a0dbc8a943384e1e8c74f2da0f7bf35ee37ec3d29503392521da13b078719f606aaa2425e1cdc27547003effacbbaeab1ccd55f6a7a30ef487bb96e27710e33b454e392a90c86a85bd0f3a6038bfc8c4b5484d889f9e1db179dbbcb5c8ce382533bf2014264b97461c998667aabc7934375ac656b63457fd18f8d2d3fa7c60732271894f11704b7a8d3eed2ef16940fb8c6dff5320d8e98986a717543dcc2a1d932e897072cafff5aac0703ad432e011299e04980aa3b5aee29eca0bb28e8f39db43e42fb6b12f72bfe9e62d9733e024e92ad82f9636fec09ee26319a7923d000bf3be317cde93013e79e58370b36ecd3e6038163edee04e6d1d269e3505aee5178423bef425b77ed5989773e25c49af8df9afdbdd5f57a2a053f9935e3968e311f2f7fff8304382fa01cc70306ea1611edc6235b53576b1563b83155b7f7e6394c4d0940f8ee845a39f0989066ade47c19f22f2ea35c88ed0f7bc47dfb71a2302f0cd96ae90e6b7426855a2494762bd6c6827dc3f54358ef98a96e870b81811bf2caf9ca2a79c9e09ac5d1c1dba5345650f7af8076c837d2e1f6d721f63e069de9e84d656ada60728ee29405d9eef962cb6b62ac6cfa71886e7522ac4111c08eed67e09aa13d40e4f3feeb5d55e28a9070692bcbcf03050c57542fee2cb3f23d60f45ff99bac0fd50e48a71edf315828315cc0ab0e9aba5191be7bfd17683980cff9f5a1c8e52279a5e443f590d360363df1bee19a7598fde93202a6ba4dd2174d90c44f47441976abc41da0786759ed3e00e5c280b0bca8e1311de1fa5e063962ddb0d46fa17f8e1e392402ac187247ebe7c3672d58d99a70516ab395ad5c439fd2143f25477df47594bdfe82e3e58f9bb5ac4b3239a206343e35125e411e58b3ab006422ba72217033c05a8fff25ed7b963adcd9de4482d17fd3f5ee62ed306c4e125e66b95b060ce1a6807ca9fb772f49cd62f57eaa7c3df2896ac5e9359aa836b68444a340a70d9200cd33f7c2c6b1e89e2dacb2eaae53613969e7fc3eb2c7a41ba7446d78bc7de649026db349eb75f3035d29f171e3823759edbdeed37f0bbbc312c0f4f3b661bbf5397e1715eee6a784f02f8a50d5a8ef67d076936c96a806c61d5987c5778f25fb7567069fae72385c3330466f1fe454f3a86ca36626d9a3cfcdd97a7cd2bce26f829b2666f108205983310104fe7945793e76b2e2f86720b6ac1952284c01a6962d5d1d96681085fd71e87da5bb82eff5ab17d52b4a3aaca80be77d6ef9c1aa0b9cd7b21f72d041e4927b1475434ec649a4099c2d0430af7a0491a134e21c4065b4c4fc721fd89db8900c34144dbf16cf01e40263fc881dfaf2c7b3383cfb45dc47680e1486da950e1cf6fa686fb8553d87762a327217e372dbab40d660ad87bf54d00cf7201e2cc6c41eb5d1e597c89e645d0654456097fd80cbeb1c9cf37e0804eb749b160b01597c2b58a4556371d25029f7baa9888573d8424392d83aa07917253dd96600363b4dec49dd59917f8a534f92b22ac9758a0303ea9b47d373a52fafdba82dccb70dd90780e3acf017e6439458493abe397f7f4557b644d159c78e5053b716e7b09b28f047c36fb8626b33e10c44b4b084cf25b9ab8bd5d720ea14613a31f8a5a459ba701e23e77755b8761aca91abf241ba40b652c9468ad3405a9e82784c82020a76cedb2f20ec6f87dd74466de55f8b9e52c8cc11f775addfee66103464600a7db8eae160c00cb07e5f9d6bcff6070c0829e8c9fd6095aa64ea798ab1d3c044591b758be33721ed667556e6122ed28e0c185f72bb6e59319aa65fb2c94f2014a8bbab94d7970bcda5853ce74516364c1785c2989eb2c115f52a96cea5b260b713f6080edcdbfd24781f583aa404e95855425685039f1e0e4c563ed08192e9a90e06a0a0fc7cb9e6d7bc5298a31b7b9c5508cc0bc2f815ba4076b2a8007d3ca4fa26239fe16e1399f5447662b49ae0860979d57714084adac31a306f1ce649b4a4ae876db38cc5825d01f8e509ca5288c3af8d3788aded09b15f0db7a7d16702f64bb9e12ba008ecd3d40967379e8ca1870a6e16f7f9b25319bbe66f469be6b66cdf986a4b7a9bfb0e7573d957212fbf895ce4e8883b9357691cbc88287617d69fa85e1fc7ae11a938ceebd62040b84faa9ec08bf6bb97da37025b0757d9fc1e82f0e22e5ffcdb9de998ff764bf513a6212cc72b1e73abe801a4bae3b4b23d97884aff4b668e0753e9dc49cf333815b6cc49a712710ac589998f407b61463300f3dab2c0834ca644d804db0aed088f6c8f3c3b96c1fa58cab294804d93b30e064053396652c1cc6f3b60b3363065c8b9475f290bc1867848f44fdcaa8e3698b24b7babccd45853d4588c31490cd0ea714f1b1a172ad8d0b46e940545fe4b2343b012f33c31fa301d7f951b323ecdcd25b2131cb71144d398d5f9adef3dcd4ed89c3cdf75867822c1e63cbc6c5fa879d4f75b14b603c7baae6317f8d8ab3f59eb5124975205c134f64e778f2c4e526b85fd1801a515f17124e49dd3d30edab4c265c0906a9189d0d7da8b49f701713ca3fdac02f9e5f27a7c8b7bd1606aa31f5ee3bc80f289d6ff1e1f383b6fc129e45f6e99c1191deaa6fae364fe43bdb0599122bafca21f0074f3a0e89f2305aee38e99c3c4c288630186ebc98e036f01081abd36074d95e7ba1e41d50fc0f3f9f60fc4b3510f5e89fd9adaecb7f47f348768128efd5cc7d0b0894d4fc833a888cfcb9b4e091c3a8dff6b2e54c580cd371c96fc6f47b0be7ca4c7a5bfb7984eb2ee747f28abb9bcfc4ea1b019957b60ef007ff164cae0fd45c993d2feda5deed5f180a077a53dbf6f2a21ff87421f551d07298479d4c6ab296f69c067b252f2dca93d44afa9d9342cd39967e22112f6014a086acd45f0e298a356d59a55dafbf68c81379e7bbd5ec96199fe4262afad733b837dc810bba78ce40855d9ec85c658bdb8bbdb38b60fa3a21100dfeaf2e406730723cc63517c2de46620aab663effa452ad23fe51e330d8b53b7092f2464aa466ca3ea7bdba662e08904eb93f9a7d2bcadb008addeb2d2188345c2e0787ad534bb8bd8a83561ea5599b7a1b6779f7fe55585ee2b66b212336f34f42ec2ad591bce63c60342bd21ba6d04c1473e8235176ca0820dec25536ae803a638e5687329e9ec498064c72b3baf6864f1aa130dfc23a25efed8d9c0053decd3820e648e1140c6c0224181fb3aa8bde8c79254fafe2b0d662fae237ff3bae8fd62101795a16765096440cb06e511f45791d54d5b9fc36f9df63da3060988617bd796f3361cf5150df0de0d15275de691fc3830c2b1d41f55f1f13f93bfa76cd8333da41ba02dc9321731d7425440a91b42edf326a227452c3d704efc239d5ec239e202585b4b1bdec0f856b254141db75fa0db6a3024402b8b09c4f2b27c1d4f918be03fc02fc7a9d37450b22914cab287adb97fc618e07e17845d9a651ee376f225e2db1e2cdedf261f30be524c0a71c0be86ac7c8121d22c176fc2a157ac3c51a50a41b85fbaa3ec50903f226b9052b4758761f9292dae019818d4c3797bac702cc008f839cd2c9103f4ddd43a18f41930a6c7658e1d81443f7fc44367e52e8857558649af2c1d6eed1d0c3aac999ae6442cb5bd4cfc3ae1c7108703fa32e63034659a514db86341c402b7f73073b8c6d574b1eb8088f57b4113d119cc9eedc8b1fe13ff357a95c33eea0c7fa38d560ab671067171b7a34bab9c9bed415e124e48e7af0d87595f3ff8d4ea1a5c0527b9860cf0d8a41049e54f87bafcf7784e3bded27d022f387132f86bb880c4f66330f93418458c7f94696f583543fed6aff560f72662dfde526b2f69232eb33b29b386da8fddc4806244c22bbe1db310dc24c6c3d8e8603d64031e011a7d2921d25577983fb8f42f897792fd3bae1fe910b91cecab1ac1e6d5b48f56c138a0fe650d492e04ae81693a144d36197a9524bf43581381f49eaf5ae685598af593303e53554f4e3f555a34637fc01eaadb1b1501198e2ff9510e3cfa51af76a71ca52dcd968ce29ec47f2c34061042adf427101e76bf1fc5d3f718785d53024548e6b8b31991da6c7ecf215eb6b3aae36c8f285e7ac0d40febe540acefed1e3472f65ecc3ea47a72c9bbb735542839d32ec0a03ac139b803b0f7bc5b5f9ef6f2f55c5309906b718291c8c3091a0508fb218d2438a7ce413502ec3df070c0e74bc56758e4151356c59faf445968bd879da299e5133cf3914e52b0a7a0acae45a0f8edbac075b22623867528b25083eef6695e89da72a30320675f3716f29b3fd2ff8ad2623441064abcf736f3fdd8b0460dcee1a88353f3b76375cc55c7e008cb6a9446cb2fa6c12015f73b77b19845eebe117d43028c462c2936930eb7f4222706dc314f57f798d1d45af808c56b4d48d40c0bb244321a0c29dc5732e0391d7fb94c9ea565ce61c3b79d4fcacea0f791fa14347633f7c4561aee6a4d71178c0bd9a239b207c130d5ad9248eb205f800bee5de66ba376e6ead4a774028677ca582861e85319f59d86e57953fc6151f7fe42339f05013404754319a3d153be5af31852de55bee25f40dcf08a27f14417ff6b81562afed1ee251d61e255b7ff54bbe346a63d8a0ef317b58bc2c59cf709f653f851b230e31d48cecb56d01938f86688bdaa958768a00523229461c7b54175f3535a53a71115c38ffb6fe301f5138008ec98725124dbf902c25e426aac60b63ff276b27f38619836c9075888cd12913f58ca6fed8df3cf8ac4ed15e868434bac1cdb7bb00e09fbaeff6b9639497aa9d18e54d93932aa174504bf15cf6801e2e29d3003d65248069ad06aef67d66b5372de63d7d28262da6a8cdcd8f914d1e02e68f3eaaa9ef54916961134fee67b3520fa9312f0c0302080bd5e1eda1bd020e203d45917a7736c202b4cd21b05a58b9e0eb083580f342705d3796437d3b4b558af732e1d76f31600a4a468dfe761a1ad7c0edc79a8093cdf63c86ad32137173304e981382a8d936227b985e8a98c8889acf6650a52b1de988052839255d6f4df499678b3c82eb697d7c9a1bbc24c66865bb6529f12207e8bc2b47a6e8dd2207517ca26eaf07b70cdf6f12b50a73912ff32dad6728a27b4c7257ffe118a1ffa0ffe0edb9d8ed83a622ae04eacaed560d5c2ad059eb33054b36f7af5648c194b51bdb3a8925f064d2564bd903bf0e8edb7043d1529a6de5506ea77d88580770a1c9cfb06552b184126ecec11e29f2d44e836971c60c7a2331a2585c59676fada5c70274429ffc1a9548850963e379854271881f87dc550afb6ab4b2a8fce4224dc3a050f0358b8dc26ec9ec1ec12786011dd72b9daa99b573ed003ec4de2b47b37808dd3d00522254540a0c5d43085ac4796e1ecf7d1bd2bd8c98019aff1dc6467799150ea89d796862cf88fa3a96335d421120525b7b24ef0b1a24c9b454142e4cd472587e4e6fd040a5b7df6d02c369e0352a7fddd221a8273f7c06d7e190f0dff5abcb527832fae7b96b80b01b64ad7e6aac1cae16d98052a8b03afc8a581bac6224fae8b0d57292c44f4b18410e1cda1afa83a10e61628cceb362e3f535f98178483ad3f332f23cbfa335090ce052a1f03387f673b5d1df899a8b84d7efb195e798b720bdaf07c8859efec6fc709777d6883d8abd1e3bfaeb15dbfe245760a71a26614f3270542bff59300a230a14ba4fe25570fbd6c1f64d9c891697f331c5e12c10a150404a0290b800fb28196fbf08eaff50e95f692fd4d8eaa5862f51fc3e43a6dfafc5aea2d8b1914d9a6c0176c23349c5b63401b597aab7e6c0359969d8f332cae1c9bd7c52b84e2ac6bab9b231b9bc09b1ac2892e622438433a8d761dcdf58f9025bd2917e344d99c2522228a0ea01d74a63cc0c2d67bc6f59bcb6d54cc7e1ebe9367bc461093ef8271d927dc623e69243cd695c57786478d9081f0586143f85d381b231dbec284807a352f73eaee9937d844510e5208668e9fc16d5ffad2aa3309899cef5b3212ed67e8b3e4f507474fb3dc82244cf0091f5f0800940a59bc72309a409a562723d45199f7745e4ca5af5a905661ed0540bac16193c1e6d28b916a3a0fea7d7c6d6a8c804262455a487b968e90a5101e491fc72ec57b4230a004bb6ea1387c2ada62082dc6dafa31c64b9b8ada1a930afb461d3e8e909089f8136e7983fb2b5ad4fa31921756ad02a54c010277c3312fb3926009777963f729da15e03cc3b9e14128ca8df16b6711ce2102ab8d38d3576b3b3480c69df3e053467bdf47fe12c0c135b80ec79b25fd9c9a0797f1930962c5545ec0169aa7dcedf590b6406f169e72995260a8c9c063bac14a43540304117b7c31e6209255215d5d4aaa436a8a2b102b171a05da0d227f3121e67c17799649dd708af0c4ee3179805f25480cb5666feaa0bdb0275087c67015ce8bc6fcfc96a3006aa5d995f3d6aabb57694e94b5ba7ac0de86b34b7f9f887604bf6547051f3bda30a4bb7e1071334a079b44ff7e76e4faa4bb7df3c335d478082ee688def145c10029993145b204aebde1423f24e1ecda5267405bad525e5400d4c618b049fb0aaf3fddcd4246ce7bbc1f51a69657ac1c88df76679ae6696a81495e16d6368ae3c189ed360b97da304d0c646bdc143708797393f2fc24355f052923cd112372ac508df32ba11b11c657c4f2cca77c45c8ba842cfaf662d17d0ee5a444b4e6ecac756e4ad08587bcc1c7ef570","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
