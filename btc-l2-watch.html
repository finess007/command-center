<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ac074b15e6c793136ce9317aa10b64e8cf9a065b2528c4fa42a7632f4bdba29c6b78b6a3cb72194e063215617754595b0b20d13dca49bad6e52493f9f95523baec6e8ecaea5878a07872916def9a40669cf871b7235faef155a42a32f6f0800794c37a3e802c1fbd2ab2224642cb3028d7923e6e65bb19bf0972573046fbf983c895520d589690d9586b8b8ccfd76852a9c5e84782203628c87168db7779872ec82ac0af312a8ba483c9569b307a1a38542e132c6fd1011a8426e54131182d33068ddbdda6e9ceafa6dde8b4dfb3a3271b48fbfbfe89fa07302da13b57aedd5bf71a92669a49a1f48ee0edf703bba9c215346e430f3ad6867068afe213ed5a29540868a013ef141724f6e22967d6a637599361b83a87f9691ab9e812f19ffbac9caecbdd37c56010213978d10735d40ab54d294e2df8b4582274bf45e0a40a91c9b805dd345c4904dc5fcfcb5256367174e73675f4036b63a2c52913e2e986754b449c179e40ee8ac696cf279f3e0afa410d7aa90d3330e83db790651590ccc7546b60e17d7ae66cf86ca696b499055c344595167d443a313bb803f4f0471c03d307cacf0ec8c640dd619a911ce34879f25887ffa88c7c3d0e5e58a1b25af69cea91279fa3698e9ce4100eff1a0ba1cbed102de9c0b67aaeb3e29e5434030591491e3cd01495de2d0da1acaa6c37a73816df5e4f6f7edc9370b797d0dafb89391202d8db2e77b83a7dcade1a3d3198825138a6be89eec96e69569e14e3058bcedc262b61e55c0afa8098adff113475a7c5c4c114a53caf7e41ee8da1d71b25baefe01b8dadf59f124da136848418f26fe7ba5e2f098e341a05a3134879333004f70f6607f1ef8ec943ea191dc67938f034aa2b1eb6a8ad92db440084ecea4ef73609a4fd99943f552c9bbe3079dd213806fb8281926f6abf6df0310106b126c5425b01a4099b527a01b56085ac64999faf00093d58c93fc46ac9a4834546f38cfbe38f307a1b04ba76b3873263492239b15a5f1621f839b22fa06a95ad10c40874893b62361c455cbf7a76321301ee5e9982dc33f443a7f7eced448478db72654e2a6a4c8ac918ca89c801fc9bbba4cb496ce29a1e624ac87a13428ffc56e1e722f209647fee17341bdcae2904cfe2cd75fe676e2b8fd22b96d0090e092cefbd79ca31b96b638664e7b3e41ec5cc37082a4f5eee83fd1e90f3b5a732ad198411a060e4f52ee193ccc53ff911f828be05b66fc594faa9fdbaafb721fd6d2dcfa070a447cc52c8122a85d2614e3926bb632c2589771520b2dce80887b9200327e1de704048cecaa217d9f9ff7706aebd20e7b9a59042475c7358582e0c51261c2599f3db80a51f3dd421e2ff9c87d019a872a50497283770b4622c07936138325c7acc19479891d42d72fa26491c53f2a69cdefa65b06743bf70dc00f50bb7f1d26211c406a3553333c3166486b84515f3135a9b9bd0f90d5de79b42567c8007e2289b97cf4d7a5f0ea56c36a12f0cce6927e5139b2561ddbe626d7cf157ceedbb7fd771dbe02f901b0de6e67e9b26552ca40526f2575e400a53659238c8b1d2aa76d63468c61ea8cb3bcedec64ef313bfb942966e25fce3bbbd73165c5177a045cb4f76b509f53c517e47906a4f45654148cb7879add92d91642558e5f59bfa5c4ef71104c2ccb1c3f15164b427f575a0bf6022aad2b00b2232836770be515ba62c97ec607549fef1356df10e2dc4ea91bd2aca6df33224747ad941eca21aa0107652062b34859a055da6d9a1da98c07300b7b7c63bc934b351c0c9b54c63ca88a47153e2533f66a4eb12a4234b1adc555b370b707d2cf04f6ae13bf09d9bc5f265c4deffbf932d50863a179270bca6001d126b10bb506629b13dbf5916fd84f66e08475975c737935849bef7e283f6724ed421f8d56d73593fc55d774dcd2e336dfbb61d43a87bacedf004e695285db6f3e8e0caf0335fc2eb5520d17f77446545ae4d7c419a8675cfadc60380490ec3432c83777b01401d89c7d0a89a4b0d6c77c1f040408d34f1bfec5edbbe9842a6c5d8d5bd998f6ed9d678977807267d8dd939339f51219245f7274ee5adbb8fa0a3482e68930b582cb9dc5f1bb0dd8b40c09ec3405944b71c6b55da5674dea1e5dff9be7d68e83367450425504a6bde1cc1176969c82e17c75a78fe6b552ebc4d8cfa20da8da6955a990f58561b00fea3975aa97ad7fb0f15783d4d14ab34776dcfa41cdaf7208aa08b9b01dd9537445b36e5eda4c6f90f5667b6d7c90d4dbb4a23755e22f1880e5bcc9c8c12706b431db168adac12bae809006554e3b2d85babccfebc712bd47429a20f7952d697148273b883420c78327069d226d0eefb40ab326aff0591451541ef84bbd4934a1ec97edb1063c591906bc3420a1ee75815cc7827e271312490a6fbddefc73c39ff4246f384c6ba756ad1a1998758d324c075344db77fe529d02a61bfd5230e8ef7b8f6d54375f9640524bda5e6afbedbc0a491c4730c0ed7e776618b248aea78fdf488591089714dae87f6e1b7adec0e4bd9ebf1e07c08574fe91a7fc43138e2d6e31a67b15d7774143cc791af11b5f7d8cbd50aa62008a612bcbfceff5eac15d3e3c923ac45863e45aa7e08695c9655077c09c5bbb7f97bff8905bec8e6286516d08f3315d4591939f6de9a9f05c37a41e0f2f509ea575da5c59e85437390b08f4d5a198065e3ac780eb3675084ba0481db2aea5c717250f6343c76d8ef51a267e5c0a1c93aaeece46da413840c7ec87ed6e6f246e476e4084695757ac677bde078e6c4de031007a893e52906a00e7f88387b1cd59d69d2d5ef6ceaaa33d27c99ad264b27365de420497648547f770820011dbf9983b4005a0c581920c3106db11aa0c840c5857548737e65b06d8b0e52b8fd872cbbe78245b8dfb0a77c25846c6c821664dbc3c6aad7e3e675b845c73cb0a3c8ec184b7d27abbf34d094f9b0e55fb264c95e782e55a4ddc6e232148775f8f3560b1f1e9ddfcfff25e97fa1e60d031d5e71a6fbe1f103952a71c1c6dfa143ab38cae377e59ebc56e522ce7fcdae5daa6bccf24cc0eb4310fc9c6c0a2101be3f6252f6d85befa323fa1c0b7209503b54c6070cee728f165ee4c9df401b62175e74afb45e0d80d3d4daa73c4658c760eab2064693f5ed495253cf5ed32fd7115ba6ded9838ef5e1c10ec17c74a95df7ec06bad245592ea9de57bcedfa5d719bcf1e307b8a998bafb554ab648a6fbf6b29a546d788ff33383441d15ca1647a411e7ad5accf1b4987463de86b960e914fbc7a6691741e52f69af258ede0d7c5b40b3dfc10aa47d769cfb9db804287b959980457c646a914eb59a2b34a39105850475886e3b7375e0d3789074cc3491b7eb038e49f0ce582092f7412d476e9b9ba61095c17e968a3b12f8452f91d090e1ed1b52a53ddc847138b73bdb944be3ba9b0dd130e8f7475156934c83315d5ee4d7e18141e9385cd696e6a8b1714b73598a11f3c6c373ecf0863661919b900c19a151364e59cd559d44b17ff997bd87c8db958111e6d6104b01fa07c31fc48376ef43c479ca00f0eab1b0b38d9b29fa6f54d2788d996a347b514d3c46e08d28b606bbb36bd49691ebf2473f95ed1f5fcd8859b91c76cd1747434ae1113bc528d437b51f96cf15cb59ae97fab97591d4c1e01ebf9b49c048bdf22e2e31946e9fc4ab4bf8972f1d1cad397ef9be973411667cacb9cbdb9c7b38b723a6c6f43e47e212c14c145f3447c41d80f47fbce6b6b98f5ea35577616c0d37eec69f4aa6689b1a179be1d50d423ec5951937d75e093ed7efc2ffd96fca9295de56bbfcdad07a652827e7ff0e861aede0b2085672a4676b9b5c0023f703f208f7e8aab21c7c9e2fc018415baace81f4a3d16c45699bce3ff300e14119b35a8753ef85ac2f5e0aed94cdada05fd5dc6901221ac0c50e4b50456eeebb6431fb6d1e4f082d90014cd10f284d079779300713b6fe87961273a46c1d27dfd0ee90e4262babf32234e6cd8138e7385dd432109d73c0e62153fd44a3f69f72637e1cca3f96245292c311af9fe8d4488ca0e6746c9119b16cf9ad99c7bdbbcfd1aaba1a565146148ebbb23418ff709dbb446bed41eb742eca6d6fbc6cf4d0a1ea263246b70b37a571577a59c0b43c78a71ab1d4164b11df1094490a7dc9daaaf8a1bdd27496b47f797ea9d713c234c6058bb080dbb8cfa7a7bd25510733833a3b50040afa2aa41fb7d626b859addee6cb1d8085f7564040dcf892a06f3e49e8c505ff328175de0a8194d67351bd24d007db4c77ba4ff43710d35dce8459fdb1ef4c0e469deaba171cf0118d7f38fc6a11a6bca13a0d51bb9704f0586dd34424fcfd436877a4154744742e8e490512a43780bdb6137a4d257c9e6c328ec095c7bf0fba0abf736e3e679952edc6d3dcc887041fa548d20a9fe9debae6fe9ed6f42552c17f979382c3cc56dba9e260e69395c0aad9d188b86b9c0986075a00c109d60209bf9bdbb9d823ad41d902edd6a1e79006ae12e9466a12076c5262535f4142d552a1de7caa4b8b25b3f9ea4c8c95a370d440b6946c42f4d5fa3c44b970166d2e05ea59eb20792bbb4c148dedc3a328435d0704a4c8600ca05b441e0b03606f9c24c4bb697bb688b55a0138039a4101760efd3698f22c28db7823175400549f7ed7e48ad3ca7b0d62da98f11ce1658089f9033ec49d0e775746053bb1e746294c4921475fe31296acfd5f6e48d6b8c10692f7acc21eb21b6b1ba9c072d3a9a562bd6abc4f63308a65f645191520f14d00f6ab08c2c2f01696fdf0b72ebcf51cce5632bc9e32d1f2ac82fa24e1ef7d525c944524c49107e9747ad7b51c2128ca1cb47a3d2d1370cfaa36df014024b8ccdf22c937649ca65c694ee2d231021ae8d36b1c1245d3c0c3873428001b290d0082f50f5b47527cb27948dc074751c499688716fd8ea9d702f2da0602e6a687e3d488753a377ccce27a98f963659deae0671ecc977937ba268c3e73552d714a78945bb4c4f42f2da203fc49fcc0c08f36f4f8970e33d2657bc1ae4cf2be38df0c738c6df05f7b101f4f91baa1d46dc27c308ced3acff692bbdc5bee60011dddaea04ca65ba5d7aba06b49d4bbf786f83a5877223cb1374fd81a3a0112669a44c6e8b7910db2a9657cc92317c6002cc9f07854cb1d073f314a4c1dde5b2238b5b3a474cc6083876b95d3e5f319f0661496c375b9291081a966d69ed18f109366baf2c21683edacc4452782866cf5a75bbe4a64e68c933d3ba66ec1e78e1cda2fc9b8378da4a31416e1e7808bdc98f1da77ed1368d9800d15f911514944df5037f93a9758f16604d9a8baec0e980b33b93e89c409f8b4e784c80ce5016983f4d0ebdfc369e5fb49df5e53495579bae9a48cf5901b08d2e98cc82886579b490ba1d9feb090ad6c66bb6d37be12944536edfa80bb176e470752276df00b564169d2cd1ea9de9e298393708f542cab54939bdeaa4d1d97c0f4de207e261b9151ea3af7178ec5c9518bf7b1f29999e1de64d3a179b83e012c00b2eae583c8bc76bb4ee46eeb5ba227411cf925778fc0bba9ccb80c4cdbf5a5594ffde9e36748aaf4e96d80414c34a6a5120a1d8fbd1435c49d1179233aa9c0310857b9e1888474a92f9102eddb4ecd8e28d1fc9a7e0fd8ad2bdfb9b3aa628b4be602bb8024b449480e1e85e141ee76bca0440efeb57d1c4fc314acd7ec4339bdd5fddf196c0c0b30184e54679ed843ef92aecb79022ce76a4c947dfa175d697ff19743394389448cad267d051f94d2db8d2ef2a4288f195d74708add3e5bee07c0d9106d5bb2730e6b73738a684ed50038d3582f25f8484a3aeae3c1d921355c35785f32101a1949d1942e8dcc553986f9e3c0f04aeae01338edbcc64fb547d2b7354cbb0018235f9581551362f4ced795ab33f494d9087a4e332038f6d85d22fa48202e001401d0b6235911044d75cb9aa90f8c385be53b4d6ca7f7e4b9c30a8873bb53069e8ab3b5a5e17ddc370b49d6f85e6c6f48c34831ece62cfe8d206fad692dac6d6167ecd6f3ca53d56cb833d80413346a8df58dc2c7cde8dddb3d462fd933fd2f0f13525f64540d2ce045d060765fb4a2386516406b22144ed618ccff9be9fd1332ff01a9db8dc1a6edb794e8af946c4325dfbe7562151de41f6c3c7a2e113308b466bbdfec2c0b22365c4214c0aa5cb60a440ced477129bcb203165d5a6e9bbd6f26551e80fb8b00c626b67bc2053928eac695e7ec243a7c1b850dc970dd2ba4c7729be86a2c1c5595aa711dc3a689cf6b13da0396177ed545c39aae8c35e376c814e8af390abd83249d36941a9780574da5dcb2240513a0b6df47a2f46368ec52f2c6776257267715a8ebb102bb0f31310fd843cc14cc14a12c5f41dbff0c8ed225856c9f76130381ec727945ba2c14165908eb72d83730f535d110ca8ac74aecc553db1959e0d27e98c9c5eda9fcf87dba95898baaa227a750f552609dfc4591112fe3f2cc4ffa6e754906fdd21ced8d6024a722fce9371d62c3c4d39d9015ff19bccf4f4dce800f191731abc98e2be309640b9757d42bb95763773eb6f90babb5f79e38b22d0f555b2a0dffb909092776c50b4926c6f81e987614521004eaa518e07b902ad3d692852ed2e24358eca24ef6778bbe3050339991678d3dfd0add1abcd0b273aac3a9c0a7ae33eb42ce331c907b940a970d9bfb4648b140c043f16dd6e91326ca83d3f2ef2988426bcf8fb99d98dbf3567d2d1e116e1ce87ccf8f1ae45f8fa8212808f74cbebd823009f714a26bb0c1c68d2583659daa45c297e9148dbca3d698e883ccfd0998d83f36b7c1ea6dfe354992f53fa48ff6c6234bd1ad6011e62e76d750d47ff13dee18d4d753b5d08d992228a7c0cded8e0098c3eebcfc7fa52b782f63c67efad3d5f1282d3b09dd1db1b60b3755b887b4d7173408707791a3b64fa0acb638382e2ddfd5e6116da68c9f4d799d481a2a85f2de480f67df46c0fbd8c468541306b259edb7064d9b4d07a7f910973273522b384500400f6a2a8943e7f37ddebf83eeac67fd6a6013fd9cb598fc9a5604d8606e533efd162dcf2c99c9804c6efde9f3d5d5be798cf1d8ca54c2eea8104a20fbf6295bddc4b9b799a65aa08f2aad9f959d8da4c43e76709ef55b3cc1c02750849e6916ed68488dcaebdf6de3ab01b05029f7044bbfac8aada646d6de3f5505b7184c2d67ae25ee3d4edc66e1dc65d1a53626cd9f1b317e15716872cdb1817f20e6d263ca1b9cbd4885e28fabf14f9646502862face925776a2c24f71d83502ef8cac726170ce9c5fcd85ba723e2652d0941d0cdfefdc11330cde948cf9ac2d8afb1fd87eb92d890b84df94d06804d2d76e245ec09635acb27e28b2b9dfa977b9ac9e277bae29cd4d013eee29a34358546b190946e4ad1ccbf1dea99555c658b7b8bc3e1f814a59454e4f47cf8a8ad0408ec04ae7b319d51b6039a531c90f5113c95fd600ac03ef6583dcc9ea422b6240d6ddefeeefcc0141d94c72895844a91998639d9145145f3368e00cd2481bd84130c4f7aaf32a4fe4c58b31c37d6d0ab2a10945508203992e9479755d2dbf525064349d56705abb710e6eaa2d353e043d13c47eb33cc57b8edc28c2036029e7862fd9bff3662c8df683d924c064d832236a56434a9a45f37d7899ad56b0a3d4f9b1e15148e2678dd41e12fdee8924f70518293deacbf45e84381a23c3b06031669d51d2278790c90f350c1b3dafa753da7ad83900159ffe421ded60ecf5e1ed8926493cafd1bc0c319739338b0fa6b50db533c0d46c0f8253816071935fdbc30cdee742f93b64cb64b3133cb22304d2dd937b0319101260df8926d689a907e5c0158abbe917e61017c67a9ab82e5ebd701e0a1cc5915a8c93e45a2d7ce746ae1f126a66d1fb2f9e56d05550d9c2c60b187b6b309f5d14fccc4a0a63181a7bd2e868b45a43a67106c056c4abe9e897607de69d5b4c92e8649790852c08f13d86523ad30f337fcae56e0e48ffcc506691b4ec9dc05cd0fc21d9ccbba9f2f5e9866d9f19edbcdc81dfa275a7ec6bbe8b30466d989172ed69a4320964773c7c51a784cfdc6b60c1d86e4913c80fe56166020cd976699d85e7b2b5aa104ef452b4915372fad3b02296230ae812e020f3ff5bd2d2f61da83332bd1330469023ef7e9d54a09bde0f13ab8edea3872513d40efd816f87a064a0caf9de3cee06907f60cba34a60558f8ccb048c000ca3e8e93d2254d0e2f86d859e2ec12c8049629f7e8d2f04cf778a248ae8dfc48b1cd730d5472d3b0a179d073be01ffbd4d36da4badf1e73da35c6dfe8ec1ef71fc084dbd6f41c039093eb61a02e6cc4104622ac207cd9f4662b9bd83670f05674da0b4f9d3f32ef5e9c7ec283c15fe76061d685a0168389364e52eb8694cca12748745c0cb9253dd89d6d59ed7109fed800e6ee63be98bf376d9353f0831bce2eeefeb6cb3c0753330e933632e75f35f01378ddb2c5eee88df1a0ed15c85d7987595e3aabd0747d3734e03e4cc4ad80871f0efead46a84cea62d22243d934f94287b21d31ade1df34177ef4ab4b1be9f7d9e0feb5f4509a0cf87d99d565066a8009e90fc0d5e2b6bcf31af199f1faf0a0992b5b222f85d0b3da719bdb4bed7d964c046e76c7171e501ca5f78c65d3f8c3cc8b8dcd3c31ea3d0cb565d1e54c664038f83024fabaac9db743fc1d8daf9556e971bc5d678d207fb374d7104cfb9b811aa1c6d17ccdd3b2959d2f85853a72548e143b19480e1518e52775be92b4c3b0963a9a4eec545c87927bef62db62025243c1a6ed0cc836d91c92f67cef336cb26d1854affb89933f541f02bbe9ea790be8c3189ce28989b58bcb749621bba4c19c03dbd292ec9dfb1afba906d5141ccb20a36fc0e7b5b2af81dee3a7163f92bca7c5a4ac5e4c4f8af24d41fe1f00d182d25e2937b630a5ecd61a699b9707238ff47245d9aef14f17579a9ff1df752dd2b21c81bf7079334b2229df98fded7dcd9521a61723f424b1ae363c538c15c69124627e853fb32264d663a0231d9412d0686520ff7b123d95623740f15a3908c07a7fbf7e7d93670d537a31ba8b761286d0f7f081689e525ec16fe5ccd0ae9e337d91547d9e81bb0f81a1dd25c996e6db0f57dfc13749077cf68b6518bdc353306ecbe1d08637b41232a104902ea179b9bd055f856e9806caa86d085a0dc10467af259a07a794b778ff5cf2c4c300b134948691f8374161f200bcb22f43de098f50260724f75df5609c7e9c418d6f6f9f3880d182cedc5aaea4bbf40495b5eb4dfdcf22ec14ea331eba602975c69db29fbab1b66ff23594f6624e52547dc59086dae26824886351d179b59040eb75cd6e4da4c0f7ad47198551f3129c684fcfffacf2342f7578ce127eb4235e5f7d67faeacd0ef54749dad3c38d0e5698d1b0bc705201505e8dfc57033471c18d11f9f16e9aaa3d3836a3dac7e3c753df72be41b031fe1f0661461d935a006bb4651c693e24e47e28d410be3876982ff5b685d674993a53b5427e81fc91fbb43ded35f90d31c15f85ee966499538934fd4533ba15f4e6f5d0352d6ca7193fe1b6c15c8093456491b3c5751851c17c9a492256a2e7ec18b54789ec6573d09a20c31fc9e879282ca0207ac4d15b546914a99eeabffdd14cbea522d7a4c849a2e35e438fa5bd3a0d433224c33376758e14ef0c111fc9de877703957c0d2fa5d02d95add899e7e2f0cdbb7283e1aa20179ed67bd31f4d7c9203896d6fa82f79fecadb201d5800cb733ca5eef5dfcd6566b822d4bbbbbcc4ad8a10ef62523351ee763bfbbd9f5c2099b0ea44211db0530d26413d3e5869d444e89a9b7fb16d7ab133f9b77ab7df55b0223da0f4e8ea089fba7dbebb1d1b9c8565bd72d35ebeb5b76b1083c5cc23f495fb8bf2f64140b48ae68e8f9d8ba7855c51edc801a294d77e445b647a5659a66bc09d1af96f9fa2717c5e0cd193e175c01c0835307a8664ed129513d362010ba7714ca1af819cb5b0c1ceafe412b6f4070089144e7d2efaa0dbf8d92a26057900f2f11b51b6bc1eac7ea876bfccff5d314915f7c68e0b76bd852ae31d372bea1a75a58c777532d92675b945f1940b96ad016790fc497a20151c6179885aa7ce11000bf07e0a447f143b5337e253aad3ce192f7cacb2d79560c0fb7bde95ade7b5143251528df4543ca6626feff67d4fee2bf1d1e5e3e859c0d84e28bc9f145a85a529b18c6141ec96e9ad60082ff801f41b5965933f0ea3924619c67b273b534cb299608fba3c4a04140ecb9202bd59372958997ee5c287ca5479be861520fead94c635e496e76d6938b7d57f3ce7d2af1c6f9af18b50c0752e5eb661460bf7ad337cde988028026c8dd2291a5ac462b8239e4b885afc5ed7f90e0e19fc3b1760a735784ad306b4920333878a7192b9e143a3555445a675bef33189ed7d2216528175731ad0cb8760960fec6224246edf0ccd62d5ac2b186983bf46b8800e712ca5103c9397cd9d93915abce515499e4f51f126c376790207fa59ff5d06f47c2f346a883ee6fb0bce135d3eb6026b16349900abd18a8b2803e9669c4b445dde14a5a9250fe53b75f1f3dc7928a4cf642fc77dedf53c0ff35f75663f07703517e698d7a23c748ff3afeb33737deeced0cbe20459baeacb1d47f045b3128a11fd4070b6315a3ec0262a82558b80d4e615032ed028d6744c40c07abdf5a105491bf42864c935c30f07e185f9784631749444b8e95301bad9157d15dac7a503abd5318babde85601a93557afb28fb113c8258e1dbd27e677010d9a26841ae09583cfc2e21696828909ce38a00e7e8369f41bb7330bb949b315e5d12d9f3cbed5c080743a237f52ce371017503f23f39379258639009deeabe3dd1e0d00847c8e6083634988c2d12f2d2e5fd2ce4dbfe56e7083aa2f49a7f3486d23c9055a6ed989dfb9f9faae08b78d54ad6dc6cab7220b7edfc7c860fc4c753a08f81c7d31f77b9d8c396223c9183fdb6fd1c21d61c47c65a18654d44f7caaf721c6f0e6529b7b5626474404ec4c25942f573caa03ebbbd62eee96932975d9fbabeb022a068601da8e1f46bc286519a6234159809b0752094744b9fae1401b2f69e32c273a18912b2e86441eef322c17964f8f7bfcd431c21aac785f50159536fc7e7cae8b5708db63099a232720d158f641ba0c4c26478a0699ff1c4575ea84c0b7061dd733097ad6369fb8d8907c2963fd59c4b20146f4d60fcd0b595cd9953c4edcc38b8b0d7aa8c4c62d2dae09a70d28fd5c7b01f0cf0b6d55a60fc65ffa1235e25a34de12299caf6980bfae0e4baa718acb825d26c0ce6efa4e57b603c07b85d9f6548aaef36a15ecf4a7c97ea7b7dcdcb395ff5c5325da8da49e3e6720ab2c58fb6b92303f5b15c105ff898139e95069c5386a2f823eceac3a3db63027ae66360a049b0f25d0cef59ec44aba0ee98d979be2f30f9c73962cdf2802254760b77bbcfad9160e11a806e6e2f09f4ce07d9e3de100f726e1dbfd163448dd3f2ad33c6269757aa9ff2f1c19c2ccb592ce6d4c112412ab01f3aa4191de073921c671f898f27d35fb0f199a5e6e2d6bc68aff6e85e08ce7f6795c13e4c23ab82f5e70edbf081bb781c51dbae1a43f12bd045a11d5484ee608a31f7be02d857efa804b896a572c4b743e4e7c896b331d4cfb47d8c3e624b823296fabf71e456269c0ee69b2becf2d41e3829babdc1e7f9c584c583e40ef3e14cc89b577e7922c7a7201fa1ceedc1430976fe97b1830bbd747c8ec8857bcbf42483c1ec2886340a846b800766272f5ec1dcc2ae6ac4437738ff9aef04ad5025d659b0a96b4e7af28e6e7b9e2d82027bc16f2194bd9cc4049806d8ca3371a7797d81c7ef9fb02e5d4fd3a982049ef7e15cb8865175ae4fd3ec884d71ce12725bca0dc664096e1af4907ad90982317d8e2c1ffdfa079070b319cbb0512b7e221de9a5d1db8212e8ea8ac118a3eb772250c8932a7632056cbed18227d5b9c4cf6f9a8aa8887a469e1153c11e360234a6afcb4d313be3793efe4de4e4caf5837c1eb32ae5ee1ce5d82d3f9957fad6de995523bcad6db97c96488475739cc3820b65191770876f72da29555cf7e563bf6c65b4b35431478058f420bbee0109192abb51b02c8447af71ad537769e5c4d92c94f4b159e6107ace999c0645ae0694165882285a7111c93a98b4e535c48bd03cde23869effda8a3af0bb896cc7e36a412454232e04184ed49c854cba3dc0dee2674dc003d415c7008f82237b92dfd9845f22e314abe72c3144cf2c660391cf875a0ea2bc19dea76286de4dd01ae319078f4c4066d1672b113be0a12a2f79ec4b90dd499cb0f25507891293c81637c91e9753389b443941ab98906eef236ec60a229d5f0784d5d937c68667d4cbc3451b2f0c1c1db94f1ff4f00a07a3213ab625f36f4ae0c011669b465dfc1cd5f98b18b1046941210fb90d073a76f4532d94316e885d359e0ef8b0868ab08f3121ed114d622ae2cb2b1a624d554bfaf094c5ef2e28aea8ff53b600ffa368cfbae7d28967307942f0049106b667d90355c6799251e8f0dabe6d52036885e602959e0526ff572e4bf3d634f3dc5c1caac189563cb1e1365f882ed77f760a3c0e6bd519675dc2d7f29f953f19176bf5fe3f90909ae497b1b9b962b1dd9541bf4aa15573d5cdc68aab1c3963a4ac6f9a503f2282165b90e8e0ae1d85d2b58ede1cd5836ebd1d13ff54f0fc2478e4613f0640dc797a6df8543bcf6d4f873067023ec83a083f8aa86996539568cbab7d382870ea16bc7f836555e3251b88772e3cb79b9386a207b581b10ed5ffa1abe073311d909953d039fec2008ea8f1801923483498791ccc079f39af654f5e43e439d517e5699d767260bb2cff17e1cec2bdef84da2c26ebcd1fa0dc8fe803d130018f7e7ea42e4e9231d97a1d938ca775c145c4f537356db22a917f1a0f5a01b46b08ce18745df195bf6b6ce15f549907f2124bcd3634775c8963d679792d63cd4c03593122d92c437424693910ac16e741677ce11f92a376a418f311877022d4ca39f7e78942114a6f9a498e296679d3a98ec3ec118e7dd6213d5ea39dda02a87b3899a5d41a2e363aed4bac45ed183c5fbf14d87b2c8f7c00a4d2c0edf19492a1829921f65e4d06c1f367713247fc517eb54382929911be7dda7476e82466b580c91aa451442d2484b68cb1f2ebf58c7c2652fc0d034d77bbbec4eb3917daeb0eab3008dbca21eb15a9787fd6780c6baae1992c0dd274c201097d76bdac7a89c0b8a70e23c0cbd2941f760a75ea54bab6ccd84588c8f4537f819174342e4b48a3f73f376b332a31d3e937213bcc098185e76fc8763ce867d67b9e4ac8ed4215a99947764fad6affdbef0ddbfc73981406245c7196402d76fe7903b2cf9d0a98baafa67a7a304307b0a4a08afd07832ca16cd6c6647b8ea830101c8a47dbe7304a42762eb00de84a8e6d60ad3e8cc18e6464d16228bc8d790f731520cbde2af5dea92bbe8fec034b5a160242e78f237d001731470be9a2632bd1db1c10a8dafa2e3c0d61fb7b52cd4d98353540916a1b49c477304bd585717c2dc1a9bd4bfa97ece04049c8198658ba4fcf6ea1edd98cb5da752726cb0cdd0d77d1191ccac43ec9c6f36f8acf27d2e305c4c649a7e42dfec49d51a5dcbc973f544f1f75b24fcaad5539cac75f1dd969eba9463de5a83f8fe597b7ca6eaf9cde0455d5df82162180e57d0d73ef7cf905b761890ca8dbc5cee676b965968bf2999ca3f257840610b4a57687dc9a76e244d80ba3275750a44daca1b5e01a8df8661909e23d6fd19323a6cfaa1850ef524c0c736635f30c1d058961afd13347ba5dc5d808dbdb0b053917d2aa97035adee8824c9a4c65730934481320641e3fcc2086fc4b198bc12f36784f992fb48c5c70b71b596abaa6bcd71487448107cfb264569d9d3ad3350e6d86dfd27988ea14fad4fd7b87543d63ac34e783becb3bd533fa9478946f945ed2ce28f4f1a4eec2c863e8b3737c54456227abad713353683d822fb550e89544ba68305a780c2a9c65c7933c01f38e750e8e348ad28bc0cc3af3de67d644430bad652665cf527c3c3f4568446e185d7af5c79ab1506e5c4d00cdb6fc6021d2bc69c4e48dadcb882f6f84f6af638d4b6500b1793efe25efd8d96f4e9e4363ed6edbeee0dfef252663c1ea4afa9f714d46a8b542130cf82d6d49b202d84bbcfa92b416f579f80231ceb45a63b7f6a29024a2d5e53e08a218751f6b64617739c9cb504b6b06816330a9d73c4cb74c1775268cfdfeaab2af3c4f9c1a234a33e8976802fe3f54ab380bc2f1e9013214f6443dfdbc94f07931bd951cf07a86a9204f4bc31da2020adacf4e15657c020d654ead22961529abfb9c98d660327f8e012ed5c6bfb70a3e1426384507c70be9980c8093689bf8047904bebfda1a479f35674a949d777b52e9277bbeb5b7e9f329cdb455ac044f53a5ad71a2f9bff8c1278c81dc1d74ef327d0b9491e403ce733c1aaf90b87ab36e47e61df0e56e9eb0c1ca3af5f812d8159d104509e710838f82b33173d497b0fb834a53361dd508d6735b0640c895ed5b1791fa8db6cbb9b274cd83ebc5b7b63c72381c9e73951bb44ecd4f6a15ddc554404da5f5af133c2dd067052689ba2ff5e725ff8270b0bd1e1c05f0e28527023ff24f1d59d2e26ef937a92c8de6778fb994f25ff1aa52dafe1bcba78a5859c8ae9f421f9d50dcc191ff392afb3a0b47cb58477e9a2fbd6740415e019d5be41e5267721573ffb6938e2a15db94c96798efaec1cc687077b521af50d414b304f44165a0bac8b08ca4ee97c32a127345aa443cd8a4aea801e5ea2f76af9abf2575cf29eafad0c5142747181cc576d7c76eb77604e1fbb2c209415c609487fe79bc373715a739f930aa8b570999ee43432937aba4d3255bfb065451502bb36a8234ec4fcb33cae91e51013ac8488ee63be752ad56528b1cfab2c1371de67adc272ba13d6a8031da82e7427c9b6a5e7487635b789559d362cc9a64f3c4ea5ec8b92bedda3610cb36b1ee05e739cceff82e1a2e7ffe80c3f1c803b4a2499d5e4b48d255c0a44bec758b912c7083348e71f612e016acdc0634e29bd05589ae56e40682a6685f3f80cd3f6691a50a613cbc7e5fa7fd91eaacb214dd2c3f28aeb40828cf05c3c441e1959b122ca64270cf57429ac2b4b1735351697986ee0327416c1a8ddaedb68e881d4c3014ed1519f15d23545f60102fbb65b7c025045ec0f6b1e4269f4111c480c07ad4bf6eb44f668247d6e06bb70bdb40e26275087f1e6a5a660c2fae6ad849960c7049be71a41a8a96453c59a340fa2b79874f57462163a28b9b839f5a37cffa08b3644f8db2430c3ec386b0fc2286042083b593591740b319f0721e8cc468a3708f635bcf69ef5360f3f839fd1325e0778d4e4f80b7aeeb516ae92c2106f79352e26ddbbce652c64b09dbda68de0295f594aece79f5bb818211c323597fed00c14a073f370619d705d8a3f9fd32ad20ef12b489f7cbc59286c64dad75745e4479333d8df073f0ce220689dbb7bc8a1ef652538d1cd77c986719c89e572f69fa1f3a8b790a9e11c80afec60bebb0fbe174e903d116ff53b0764d8b32888ef1cda8bbf2b64861a6bc05e13f6b4e2e5bc9b7f20f7884196fc909eaee7518c9b5c6bc7c96813ce750a88913530df45cea54fd446849555d9473e7c15e516e31ed098db08b85464c9e40481ca1673d1a1dec6a563131f0b5c851b374c95a838c8fba4aac26e80ed70d76d7485b207a6613743c63d6ec80efa1f677ee17ad1e639b06c674e44531ffaf0881e1fad1aaf4a858a7979cebfd6788ce655d6c2b562228943d9fe8924fc27968f98cf260c9350fec393c25d63f52926607c88ad9ad63b7eb318bf619bd8e3a4f8ce6ba5e9186f68bd46ce3266cc81e12d7db9ae80bb68f6e0c7678f688e71a6300047ff577e2f380e172bec773eaecb7360f03773c7fb92bb727c28319a767f7eb89df3185bf386b8ebcddb39e8c9a442aa1606644a61e912383ef35e6ca4c93a5bfc5f5e0d4d4d059b9a3dcb9f7db3febc6cafd152d9664a8c696f863b29478390633f2610b751d2abf1eb9353fec1a5db9b2d28e796c181fec0511e30990175628952169f0bc895c429784b7803319d8404da8d2b1e99cfec89c60f00430cbf2a19a181fba6f1a89c0d5107b0aa8a4736e8a8e4c7e4f1c282fbd94967a3467865a358d5110cfa7410c88661bf5b8b4384a63b07a0d8e141e2594fb0d0c665398e6d9dc11d8fe67cf2425bf7756a56f94f73f1a08c5f3084301f38962023144a48549b3007394f04e1224a2b6c5980bd7d3da2548aaad327a6fa43cde5921078af744df87ec11175e47558049aad21488f4a93cc31dacb1b1c92ec279e4deba0cf3799634af9ef11173bf65edb5d57dcb77198c8b77ce25efb046c9bb1bde134a94bb5a9b3980a611434fbb7b3d80508540701f64ede04f9b015935c444e17d10aa525503475ed15fde7b9788f4eafb6f14c9a8b14625be602452d7c69bd60f5748faadbf0f02969899ee2b4bf586ee57ceed80cf5ae14bcbc0f2ec8515bc686a292ad53ea904acf6d932748bd8e458a34e874ddb2d92b2242e8c4d739f8dc6a37ba68d11802c218d349c2b784292e5dd8743ae33cc9b5eb72d29d1134aa51b6368e80b97f2e3b2f8ad98c21a86ebd7d1b9b3d0c7cb09c437e1fb71502716cd22fa57dda2c9c47c045409008450dc65c0e5afb68df9e44b33b6092b22da0b95ef4b4a49b96c86f7591696f18788c574877fdd2836ab377a59f811d3e3e8627720d46dfd9fd65aaae3f4115a81baabec3922d4bb7eebaebb0f633d37d9bd8157cab4ad9e3cb42b72ba9881a36cd1c857157e74031b178daed9ac2ecbbf7d104a29b65b23ecdb9fbfefede5f2523db88917a95ea91bea7aa1b44ce300b6c73998c9d13c55c7de9858666bf5a1826961122809273a70edfd1c46dff502cfae84ce007a3f6a0faaf4f858e69ad1fcd4d502b2c07bfaab9a370c5818c845029abf381f6faa3a98d14075b8ccc67d64d7d3c3766550afd4ed68419eea4875e162d7c7936e22f12635e44e96617798d0af766dd5ff893031e07ae1070e0673b66ff1b36e88fe23a8ca224787b3a97344876a822b905ad6e721584988a2a206e200a033a2b6972c72f349cd070cbbe2bc01bd7110ee5e76c6067762e00114ea38820109415dfae633705576d2f5c12b783365dac0b859a07675cdaf36671daa78605604d37449f8b5d23d886eac66542778bf23d44878fa05641b4c56855aaa299bf2d4991c76134cc8918d484bfd1401fc0c8fe47b85be48e48d189bf2bf125d1c784f28376e23a0cc5cc792eaec9965aa76cf07cdbf8407636fb45beb1d0a796d6c6b3fe8e318dd38fc520684ecd21bd23fab5b697962019e3a8c3248a5d655d60c26efc8934d2440a15787d971f2cd104943d0b66f373e5c7b289a6b34918899557985b14ea7ba1653adabe7c9ebad8435fa461c7cb6cf25c495f62eec8033ed3f2396ec3f7a86ab044837fd8503e4e85efbcbad59c8cc3d4e95b8f7ff32137326a0eac8f8a0c22548e0a7f2dcd30c6dc8697e3abb3f9de944c0e37a4c6cc926e4c1433ce57de77d78be4a474b963c1fa82be05030cddcd0f87091121ca0dfec6254368ecfee2a952a0e8e72a3fa0c03cc4600d3074d92eaffb062e2c75372ff7d9ea0b8f7b07c697852eb278c19548e505436c9c26935c09db5879726d3c1db335b8bc72034e83360fd6c5143213cd3b9e16a4708a632bbe6ee398cf360f3f3bfe5b0dc8642885062c3a5d69d0ca91be8627724a0e736d57d1804f5df74f2ec7f69416c4ce5a09ac8d4b483a0f5d228bde39b5c9b3b81a6066acac4160fd57d9827974c90961181d202b82750705acda570b790c39b37cdc32cb8107b21d7fc341bcdc7c3f1b3ff581cd6ca86630551d6b50f6edc6775ceff7ab408297ed5f55c1fd6849a12ffe76e2c292ede7ce58ead353873af80751e0d5dec256027bcb2307d31659b8073a5e8877d0286c5ca6250dc5be4b4950b5fd05a72a0397de35981571bf1ddc6f28c60b61eb06cba2163e5f3cbb73450e17462ec8b5f8cc0b1e0ba1f267d53f78004642117dfaec678a2a3590907a8fba9494fb8080c5df3e5f745a3664918fedffc88e7afb26eaac669104577a31cc8743bace71ece54aaa7ec3bf14f9ba3470ef6e5e01905df52809820771993106360610f5b4a1d1ddeb9777d6a6fe02178b8888f393ceb3cca6b14dfd34fdcb4e62c1e6aac0c38cbf5804300eb28fa999c9b8df0cdff22b75859911b3cec9f125883d797a6306d847a19afb0cb4f6da394e7ee1a8b50ee82249cc1be62776c1edb6ed092819ea154dceed7212886009d77473b7dbec904a5d576c4ed0fb6afad10dd95639e46622e8993cac5b72b8629a6d27c391aba981e581e05aa8536daeb3c06eb2a0fa33fcdbbbce9edb809f50ab261e85bf6017fb838f32a9ba04f75cdbea2141d01e4787977fcd80656008f888e9cf47833a748faa5a59ba0cb78218a3257f4f5beec5fddacfc129b3dda45489b01f0e138773eddab568599cb043ca16d52b46505dbf760c4c54f775e285bdeb6f34a406051c0509eea3362adb8b76c8c2ac2c03d945b91add573245b123ebd62b2781bc3fd4875de9ef492a19a914cc9bdb57ca880e7c97044489a4f39755a90b2a009f116bc9fcc7baddf47612addf3cb0136e97b066155af32821be01698e343cefe4097056fee6e98b76bd0ad0c595ed8708dee842060610473d712d9de0cba23c59dd23f1199e8f3e44e866d271439e0810ed7d0cb2cb03fe885b87ae13491a47fe2ddfa942b9de0fce109999439c69afb059ed7b49e13d67d89ed1608a13db582e4f998556ccbaba304b46395c317acf14fd4c003b55b6d69c5ad3a454af847ef8d6f5d080e9aaa4862f9d410d664011f7b7c87061cfc66eaed99271f6c338c7dcdf7daddcc725fd74c3689e8aab5374f2552299bb70543a070e69b0f6a4f0fac2fbf627f5083ea27f3226739936c70cf9744e0454579693b889f1b9fbc274f521887aa17296ac4961f3471bbd16b71e768ebe3df5e93916623efb77069684badb9fe6936c4ed709ed931247c2b963189e4d30e2958fe82fe429af4a8e3a78817578e15052cc34fb464320f1f77868ba6227cbbd0edb34fdf455c2bd674c4b35dcd474e100630df858872d98ea5ce195c5f97422dfb090e477cad2b68c33288958f7f37ff20d2ff28aa8cf1c46994bc2aae37180afc75f1850d0cc0575c15e0318ddea67d070b73c3f424e76f9b83e2a727a7397c320793934b98c7e64d756195a089524e10f003a6a0faf38e89458133e6c8d1921aff6be00d17da6d40ae259c40809d252aae52a35e9261ab0f20827ae08dca0b7f7154e64ce94a3c745b06a0275e74a810afbb063244cf4f0bc3b5657c23295a24a2ab1ce90f5e8a23f33e2ca8eb4975a74b82c9c6639cb735b6249219085daabd70220fa0236ac385475fcc9b65f8e52ee01f06e39683198b9aa78116e67c7a31e19b7c2cf5cdd817251d33c64f4b86fcb06f238cb0d615fb5b788638e99a9f6a9fa1eab6b1cb6d4da3e3a05f2107e73686920e6d3fef19b086efda33e5e52826f5c2327741c0239c766c26b0fef19a5d02228e8be3797a374a40502227fb520a9bcc1b0bb6d42d8928989891673635c212ac8914f01500ebc13c9900369beba1ae5ef089c88ddf99dc2739ca069cb7d8b21f0794b6c7438c8b2b5a158a5da98527a8a8bac7dce10702137e95a29dd5d5ab2d807057f677165ab530ddd90a756f2cf03527d321329577b509dcb642807ae3a1f43affa2c2b311f428e7c2979d0d50cc17a0152f2d3239b9b107c34079159c147f2c5b53a772b7a477ec685c383286a7ea42ee5206cd7e2eeb31833960204e4e770dcc447e8cbc7983f86b93bdff9b1268bbc939a2e1be9d5672b230c2fb0b8639e9efe1a52b087f354da5adfbc770835feb4fae4293af4af2420c2aff38fe8aed12445f95acf8263ee34e6479d2d8549de8c661a3d65aaa948a2fced98ecc3fca401e1aedd27f2965f21e8058b84f9e580c56e0f5e4c0289cce63e966d50309c8cf2d0016333786360d767b90011e8141b2e07aa968e377e5194a60903ad560d6d1ae6d3ca09f1b996a24f4757910989f80242e0f55dc941e7ce4e0c1503f279baa1eb90eba8bf4d4c45dfe7e081bb4253f95d48869c24991b431900b8d530e09a32dd283fce358828627f52f20238b84ae55c407a0d508a7168f88f8657516023d80131621ff97eb0e3c5d2467fba55d406cb4bcebc5acef802b0962ef84ac00484dc25f9330ac13d480df6b7072700684b3903d1f3bc577f34e7a8f3771a480c5b52baf4180e9f7b7d3ef53871e9ad8d9d4f6743c3c4cd35c23075d9ba2310630bb9e06ded321dcb9a98715aea9c416933e9d4a011a1b43c270d2c3c7ef7a472c7f7a7f1169f37606f94ed140d08e6c4c75144f067aa1aa4648c73f1126aebf60b0ea4aa097f088655421e8faf042249c542d27c7d179ac0460ea754ee971e024218ea3f8f8c4923bc7cc801fd434745ffef5a658f1736c2b16dae067f708fc25de5544a6535e241ea32b7540a67a09da396e2fd47f250f07fddcad59acec30607da3fe4f76400d6d3d2a9199750f622ed4d363575f890d3c63b46e7d02f02a9f1224ba248b78ffd9b64730be58e11f81a510e5b5f232088d17a09206ac87fd3566712e580434a3ea7bea69123c70ee3885da91971b3818433faaddc4ce8c11609f6f89e7b2d57e53e2668df91b0aa578665b6594db3258cfc1febfbfd6deda48b52b69948c6223925bc40dc2f622385de0da5595565beb6d4b21bcf6eb7999ef61db31d09921f5b8231e9f0fe6938391a9863b4fd0768f631655574ebb471eb8e6ec1f9ae7d1085485b9b6bc67c4fbfc069ca55b4245f94f3f5d4e77f19b95b0754df0ffa4ea50dc99b2db70d8310145ad6df22322e79e5eb444a423c50da6b55b3b5daa7dd49d5c4315f120fc8b08a3dcb1251df21445615b8434981e3a27f7f11a9875854b47f45f5b8b245fd8940bd7e1e00896c5934fa50e240b31add536f6b49e770413e4ee7786ba02e32f34ef3fccf82fd5c07eb111a6d71307db222204ebbe2c817f3a64dd23da1a2a4a0762255c21b3068886e930459b9ac37ca7a8054cbd3be8cd8998a79cce763ec4f3d28e3496733c74a0108b1bb0d305e32f71e9cd1f0ab3b5aaa31c24d8fd596478e8ebddedfe6a53dc482f0ef80c73ed2f7c584941e474ff949897ffbc4b21d7b12bffe0f36eb6cbb53ec835b8564250bc55c6685a411b61cb56b29bb8aba2fdf2417fcd0f5d4e54c2d2775405196196110c0eff75ff59174d8d4251ec156c7c76312869823c4cd84f44c3851b81811ff834148a90a2fa13ea339a507f09dce6856a304c65e6c6a631285e15750b8581c63179e0eb1ec4e970f66dd2fd2760f534acdab8196f9f059e1a2339d8fd98b46c8b6b9f6aeda27c48da41eaa648965ef1f5fa47ffdad8591364c2d7a68f1a1d81250625d5ff32df2ea466cdfc05de9e6eee65ea9e073d9f7321478b3f1394f1f24dedf66c44a2e6024dc1e1cde72fb4a6042dee94708ce762f7466592e84b5324feae74cde2991e025bd04c46a437513d2b08707b8fa033e72df91cec267b5838abaa470506d10b8797e01173560dae946a9e7382418e74aab611ba6a46466bcbe1fa32bc1a2f052c6b3534e26ebd2f6ee52459b1fb21f29d9230a9665ec460e4f3bffe3fd2db6f816f3243f1f0f03233c31999ff7b3b86377842c6b94949f2364872004ec66fdde3048637b3a0dbe3a708cda04cc131c586aeef961a4e1a704f8ab0fc0fa367aa074519060d9855cfda54c39ef80b55a460800ae030bb9ee2e59cde5a2c0bd1f471b35c30658dfd458d3ee4ef01231fc82ebb1428493931fc1d8dd0c7bad242ce9d0abefca248e925da10188c6f86b876b4bb6777d878400ff3c7bbfdc864505e890af9e8b0cf6c9a7f5419342dc7175b410e04874ebae7791b8ff36eba4f77461fe2e7558a5fea517b9789e7b7f8181864c96b86bdd8bfec3b006d769e5faaf8e3ab6c9650a07948d614f627f4e1391678f840670b201c081f21d312528ee244b7b1d944704f5bf3f68f293ea3438d9147a90916010cbbf1002a74e404bd6dd84573298982a6f4042f418615592d769201fe1eacccf2e17c14d952e065e937ace213241676ca918680e5c9080e6633531b234b7aa450f36419d6d2f2af878a221d9e7c25a0ae022cb26e89513fee365f03c7e3b5e3ba5c633fa89c4ae647efbc7ab6cd8f5ab5ae71aa656a9b967a77d77cc3da397fbc4a91e21551b8c1d08d8454c696afb79f62cc8a4ee244e81ac9d7a1df5b570549820dd60cfbbce9d24424aa55c94c5338dc3bd3eaedfdb610d75f1d9104de4ce158e14c7335a441247949261268e4746ad7627384a5a2f3934c1c71214c28e5348784c8163ec193020d95653b3238a1641820b64c30ce36225b65f7dba250a9cf9186a960e63f141df65686ceb9bf3edc7ec5c444f5b39ebb7b7d91a1e363a076fe8a6531fb27365627ad2bffbd71bc686e323d53b647c883cca196001f843665dcc6230c469cb6bd9274af93acf0ac02a54033bd241094281420f231e1fc8c2caefcddc379678994c498be35483add9b9db78b17b8f3dbdf80f14e785b357700d1c623c3725fe05c510a4108b959b68d2d790913cc0ea25a6721a4d721b71452c4afd2f71ebceceed8e2d907db1ff76b775bbe3cbc3b5c8d1e64343263ada1ab030086efbbb582cfaeddf9f05b74bb048f3204f3504d2fa3acfd2bb135b4d9a48f03a5f3c0ce9db39827763b5a552753270b3b7da3afd12c5f1ae07ecd4bbd4","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
