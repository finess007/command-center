<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"20025a5bacfb34aeb1fe27a4fe65fadf6012fb59c3f39afbed7530e04945bd3791b500923307b125bb159984ed27ae976cfdddb4722f914b7c882e82b892aee5a66b6e0505911780df328782633e9f66bd9297b3056e41a90688bd5a2859f815c32fc937dab4fd5f7b2ac75ab4cdb0362aec21100b1b5880985134ac095ffa8d0943218c6d80c0e3c7e53c101517335865146d52853e64090b2e654cfe7dfee0e693b06ccaae90c67a675f5f054a4bc1febf2eb8221fb7abe52f802645469b353a1bb4dde5cbabe80e143121152d9142a8ab9c0dc349a08fc9403c6664ae15c9b65dc0e01628ee3c046abc0cd749fc2dc6b7aacd65aa179a0ce7a42d0f353a37cfb58a13edd1c6f70992c980181fcd774122d7a6c838e7fe469eb2275cff2be04cd81ff67ae57194f05536b98bed7d633b7b408380074616d9dabced3977f8b70da351ba5c31443f2962290084dfa96cdf40f5cabc51696c2b1a8eabeab16dc1b7ac90a3027ec4ca573dabb7682e1fbb8ec914a288e67c5a1c186572472937dac9a12ecb0ca60789e27af871766ab5d7967bcfab1a6a91938138afb0327f86e0c682b730ec6a8df25644adfc9c6e0df0f3198daa8b1144a5b80379cb16f403691c898e750b799912b3fac53307edac3278c26520b358d91353a05a57bbc9b7283705abad069edd59e1d2c5d4a1fa552a6c13dc886e903e1c525c4874044e9272d4bd2a443acaee865d8810c39c36c07818ba700eeb041187bc4703c7feab34e715c7f9157a678d6c31ca51a2beaaaf95a8a323a9c235bd2071c5553db972156dec8b8caa05dd6a4462d53b64b10c5aaa64a6e13ae64def546f45bd16ac64b9ddd4f3043b1624c473110de310a307b367996d2a293095bac7a03cca6c0cb0f78aa965cd21fa731b79ee5dcda94680f775db1d5491bc5fc6e9e1f13cb7f0bbf3986bd24b3d21f7af92ab10b1470a9b03b42b6fc72c907222f38cdb822d3c1ec09afc2bb0e9267c921c7d3d1e5022e3893322b5bde995b55c64bb9a1c8f0e750bfe331b6e54eba33bf923495b8ff0106b5bd965ecc5357e401100d0d6f849c7ecccd6009353211e7e0826dfc0f5a79dae4e565451e05a821b804fbfef7c5557f0ab71ab1e611eea0951017ea53da3b7f278627cfaf1985d50f0503c400b42208613f14047a774696d81d5a5d2b242b3f76690b883990b99f4d5c7c7c966d14008b6c8e16d3858515c53d13891ae69d6724c7373b0d012395cdd87d16a2dd25f2cdca030644bc1d0ee71b66175fd91a56042c77825dba7f1313022f6dcfb5cad2e2f53e1c6e9433cc50a6cb2eea554376c42e5d3a9d6acf8f106f46168163c6534b0e4767bd1ad3b6909b0607531b778c96bc27d4929856394cc2bde1492f94ad1b1428e8016443595558006e63943b6b10a18977e7d9be8e4a77d2194b954f8b6cfe99a7108f21907375e5168d012301db88d1421ebe791e85bc3d089c296586399510dc61b9b3a093f18105ae75d1cfd9156a2f8f4ccb3a6e5a5187d61ce8822e09c8bd242b515c45fcc69a5f3087a9034eebf23013eb977f7e1b5c40c702189c0f82c8151324ac86a94fe1a1f3391ada4a2c367943706993546d7995a59180caca9d39e4d8c3ccb13909057902169139d9f6dd6b56a9ab6f5a2faf43a5f21dbf06f99bf9bb3e5a86c904fe2f7a28991a778d1751e94f606bb023a94a037f64e58128fe7b351f9be15ab736e52ba47b35eaef9a19b2acb9c7d46abd6cfe07b58f7326e856ab9fd8f8e84a5fb2c8bd9a0877ecd0d2f364f872b9290cf81e5006b0fe7c76510f35fb43b66dfde774b6a0cd11937891e05c0d10a901408b4e7895eda5e405bd64fed9d5c3d84d43ed9b33e203173b1803c6a74a8f638f0e3b5c23c28b29a37e0a0ef21c56125ab5590d485400261750b949f47bd794059fa72a6201a7ce2676bc00dc9e2d13ceba288854982901acdecf84de3da70809ab3bc86a9c84038c4348fee79abe4b51190c03c36d0ca92a671e6d49cc7b05a6e7a4e4cc9fc6adbeaee78a0d62cabba723d3591f4c00d5e2fac8eda74a61fdb6ee3c7fcbda3c59d5a36a90ac316efcc397cded7bf338ae4d521a7368e37752f58d99d3761838d6b43b6bf81d77084afad484d4c1c4b3fc594edac77428512acc04d1a57fca709e40b573f411f4f6a27a2eab25268d330112672db3662cb26c7e5ed4f97a7958bcd45b2b5c5d12f4bdd9711b25780e041014ea8a96f460956eff4dfcd9ea9a7f243ae29efc7288e6fdfc9e677b842d59259edcd2c2707b4eb3b9f908c0b2fb1880cb50872664525a1b08557d80c06ae5ea8bbf91cc40e2f08781240a714beb0328968f0d3f511e7fef040caa269ae9dfa98d9e870d662d1cdac8759532292857a672961407390f01c563cf0230736a10c527ef164b38b0d9069167b8850ff231e7094fe32a605bf492815d07e86904e6f82a2ea5f718c1775d5c8d129bec96b86cd0f2b3f7c19da25172a267b27d24a032aa4a1fb73be3cdcb0587c8fad6e7edb39bf46193033ef282f8c3237933e8bc5c0d687340b0d062c2b2f9467548914b0505a94c3704525c2a912596ebe19e2b9a023d3a08d3ccfff084de0f07fa4ec02f28ea151b39686f7eb7b5a0e99e985d3e1fedd9c35b9bd08ffb90c22df5d58d0656c1a2d6a260acd31c6a66de9c13fb9a4fdea9668153052c4403c26e7ce7d20551b0bfa74478e49b8b6c6ea788d925361de191141baa36d93415723ba46205518c3bccefe719634e4b64b740b691a3d025861110c31a63ec953fcf261f3ef57cc4d212590c69c34675c960770a4a70d60882ce6d5694da992d36fe0c65b7dee31f2b861efe2bd0c3ad5465cedd3d89f720498afeebc2940b52007cd60c67f6b49da0bdb7b2cc4486553ad29a01e332208a2a0a153f6c0fd847b4cbfba4085d662ac4246d843b0f940b50b8e857266119e31918ba2cfa6901c915940172a596f74c26d74599a41550112e627d7ad3f284773c95533965691f348e99b64146cf1a2cfceae93c8374ecccebfd024473d06e85a8d679042c280427fd4e9036ffce4767fc8ef7ded2611ed5d4c221f78cc342790fd64b21296947638c51f523e1b6f77f6ae586f16484ba6c7ef54b476beadbc72be8a36f6f4bd7ae86f8b764afbba7ef159ab341944bdd483326317827bb4331d144ad4c48c18fa9b34917cf897759569695f282b71c67fb60a5044d9e9481a8729ed97b516493e86d69ea0a02c5989dacbf2b69f3aef702f8c37449f85aea3aa15e1322ba207a0071ae52982b66f1c5adea1d32570299c1d4bb87e419878a04b33ee5526e7967dca9887cfff51e5d5a86e6c61793cff2a4b1b02f1e198891c43b2f79003bddc40a45fa59f22c9616a607af90988c6ebfb4928afd3f62cd3e8b25c1b3b4ef73788330dc91532308bf08ec48242deaabdb78d20c21a874823d85ba52974e946663382a96547ff395886784839245b3c34387d03d3cb8fe0d3c883fdaa4443c1fa45a4ead1f06dbf3a453442a08049e5c7b6e65dd50413123d0b306ded0ac33f8fb606a2c7b650606ec7681bb854df4dc1c21e3fab7ee8005f183a4a1d2f6e61f591eb56af40912721502e0a76124d9a7b120d9a69ca1914e817dcb06ca13bb66c822be1bfda55ed434c53025f3b3a92f4eebc51e60705c5f486eb532602278756d801caf6bb73b1232c976abeb1b88cd77f426ada55e54137ac7509d202d486d638731fd519ed78996cd57e1c390bfa57da46721c6cb541f89e082b624f3520d78ecb17f43ba62348d9b384f2c6f3254a86371795018604743196c2c57a0b374877b55dde54ffa1e40864cfdeda3adf408ea27be79d95d04f9fc5b6ff8f7ef51e8e644f47711ed2d6d05d8f9a16aa63efec77e6cef73a4581ad6be88fbc276120ec550ac03c47f4c5a472e6f5a301efd582de336d4d11eea2894a8343a7a6d3b4e11aefee5004d3514341df570026e0f271b217bc40f189ad223494dc6b3d9c166d325c3b249e9b9434533e74f35f23cf18bf2180153b80ff5dc1f0add0fdfad9ff9f873d45ad14f1aca9ec2642311c8a55830bd89ddbf546d71c57b46e5056758a83539c90a5803c253e0ebff0d2b4598ed742b30d03281e1e3e630579bd66e5e1f17e726fcc068483260746884a519962cc1e2d1b16ad41f99dc12794c1a2be79d23e17c3ba68d1f7cf53d68567b409b0b4b40827c251c30c52a6b4eaea837c7ece6a08f3e5ee50b735b6f1dc5f5b881e59e41b6831629cee5a7400c5f076914d27d256607cc729b98c9e061ee3a34e3afd2d127381e717c7b9bf006381fbf404808db075e116becb13f49bb1ba5740d0a70868903b585f836ae6b5ad614048385b25173a0a09cb06caaec49de1c79130bbdd53e34bc29e7cad57abecb949463003e5fc07b42b70973635732a795209c107260666e487a28df3022d34e05965d12ff47de11dabee04ca5fd5d9afbc8ac475ae7074c3d3f40a67f84b6c5a0cda5eefb66f90cbe6ad6934433442d3628fa37ad2491f3cda8279c6ddc2e1ea03e3e8aa3cb1e7fb35ccd3f9df545d5fee054c5d18c53628d595620a1394c3d8eeb96ae7b6d6f0a20e16421cb766999daf9c9919c3dcb7fd5df68202dfb4e4042578cf7295240952bdaa75f58eedf110664e8cd0c73b3d0055475fa29813ac785f7c23a1b5463f5d583a9008785c30ca05b16554026a69f6e1f8bb0ec1ee511a1bba2f9792b9bd3ab67a20e0ab308fb56187cb45b4037f64d60dfecfa0f22b87818409575e146ff62f397697238d39edd455f7d0f1cf34f8a7b90820e2e0e78f97bb4f7e532c54f1d08c6c229cdcc6da8ab5d08ff292acc49cf87d635631393440f330925f0b2c9eda3832be813423a4a2edcebba601617eced5af4b2ae3128c4839630d5017efd8744e48881e62a06b91298048252563b41e91ddd1f0d57ea0ce25d2a7f9e79396a13805433da161dd653611fb44f746a108bcc6730442a4d57c576b062a56fd3e27236aafbe927a106d4951c3e042a029dcd44cc40648024110b1e65e20c6d78fb0b74ae5a6343f362df963a127306ba6059dcc824376aa501a98c142b0dd2bad06b5e79b2b2023f0c3eb2de0debca7d8ad507d5da11908be27e993a8de1642e07499de61c9940759d7735390d94199ec632cb9bfda5486f40f78b307c184abdca2a77954f7f0f420f9685ae82eadcbb41b243d012be45fc52383e6b5a72999c80deea37dd6eab9c70264a6f84d1c4a2212ade95bf927d3ee68c74ba784262c58745edd34f94a3a148d754c54d83538371a2d147bf1228f9003c8ca1ff9b1747f7d858b563ef8cd4ca3cd84b8ae5b573081fac8b6981a80df585d957ad23782b667d529495fba92d6f1eb94c6266dd1079c9962c5dc73592cff37289cbd3d0021d517d270800a27f7fcc579627bd3b8d092b5775d50413673a38c1c65dfe3a21b89fc75c99a7b8057703ecb636dd48bf1c06248f77027bb5e45759e1ea4fa3bfb7038dcf3132e50bc26d54a5df31fb143aadb3d9298bcae4898cc424cab6331530bef004ed4a0d3c3ae64e822162e17262da9ff5def85155250990f4f5d44095f69a3db6a565de81952c9057cc4c8022626136f706239ab78a6e003171fcaae6492888aa8ccee920ce53b9407fdfc8afb9080d3b7e694a93d2be3d9cc5f2d5bc195c3b16923c5a1de838eb392a1d4ed2057ffec98a38fbb7d810e3c84d31048b8262fe81972c1c25c5b416759fd5811e450e56706eb5787187bc710ab09251170e52de24f1faf05c488c3bd91455114ad6b97af9ad9b8a304718659a906efed0d1d3199c3a7ddf4440f9908566f9250bc2ba2eb8ec786b7734263117145ea691ea87e6820c3e5854a8d25ca502606cebc04b40f6cd618905b4b7d4dbde0b06757cf8521861b9779dee3318275a84374b44a8fe394cb28d1b3e0eb20d7181a94c0d2144c97527affbad9417bf229f17523b97686047b1b258c250ab110db0802d6d743f096fb40a21b88efbff501ec90e04d025077f15404c04af5810ee817bcccefdd63fd58c2fa0616c83cfc2d3d61fd94faee6dba107f100248e88236a7bffd858a1e39e1b41777a373b7f85079ac3ec1cfc60baa5be7ff5dfa342370bd7a967b63646558e66572eeb17c21d05e53e15c14b9db5563244f3e005518efcd9d69d795c1ef975051018d658a85063a7182644489ab723e9fed31c601954b07cbbe7216d90912b710a6860d2f32eaa99e0bc4e38adb79da960e1a2a0275c84f3c998ab8f3ac1e77b85b5b9c5c44cb9e4de812702d6db667df0730f9e02a952fa96765a06f198d0ccb5e353db76d3b89d7c8ee4c8aa16b8d7d718e235f82715e4e7ef898bbb2e225e805e24f4f950ec63b9ad7cccc01c133a4658de98fd11d0db3a96e9eeca50d312d4970f572150661de262a5082cba71a23b1fc012ce9d519c03ac8c80eafb75a769760e54bcb6dbe02d7fec183df7264bbb650aa6c67016ff5793f282311f88abf5da1d5e5336fbe31017de5ac41b2d8128e72ee564bd63fcca8d6c85bdd0a529e74f5891263b6a56582ece68d4738b8f1b2ac525fcfc17ab0797d01ab47998439613351f74a21149b3b53439d2aa59e7dd01a9649d3b6f9effede761c9f2879a7be6f156bb806195a0ee36e7de66cce770d627898bf1ff21c13bde9d5a38ee3b97b75f8ac2e3f1df1fd86ccc04f9d6c1f886ea4779dc6fffc078f02cd30bd6b0134a62ac9802e7dd5c47fce1202012f5ebeece1f7218aea034a559563d7eb8d7c9ece17d7d2c462260b865705f2891b83c651400909f059f7931d486c1d47ee9ab2b8afdb79464169ffed64b9a8c806073e93fec8d85e8fdc981632626e9f7646a2e85b9b4308fc486cbdbb5ed4e993d7dd2bc0186b7e41502f783a99aa67384927d98a39562d16a0692f8f9a3c234408af9e9aff6d4e8e41e310f844fbf38e78c038a15e7308b73a175afbd64bb61e1946b8a0fbec5e4b6010dcb13791b3e02ff7796d050ce919038f745ec0b12d6b51d0534b27b3c2bf83291302cc3b1cd49696d66b05d488867c0242d5099ad370d6c8b52dfb784efa3cce6f0ba974b5824126389827922e01ad8ecff56e603dfa79ac334a6db19fca1a4ad4dd2274ea5c760f9b67a3b7e1586d19533e16d20a2a4aab62ad6220f3cc287bba71af3522757b83ac00295a5d0d64a12658b7aa8668ab9ade76193ad616ad29f06a8ad8fe7182f2e10015a886203b56e43cf7498df82a472e04e2363a035e6feb7930f25a8f7917677ed1983fe8b9e51b727273ba64889042796bc8511d4e772dcc54c05b30cd2d5960d5061bc572c9dbce16efc9fa03f012481f235dde55bbc583996dee2a46acca65a38484b8b22eeaea067dff76f897f554327aba65225c3bcd28ca23af1bcd61ddeedba76ab371b224cef9efd8e5f1584ca7258af8e87ae8edc127182b685fb422247d33dbf87eeabc48410ad84882670640907d23934ddd02ff1ec72804c65ae5a00a3b431e962304dd63c6aee91c8c4f0c65566631ed655a8f6c96d1b7bd9a223f8739aad184663ca4d0e205e2ffb86af744a06ce2090da4fc99957ddc8312ff84bc24e964d5e090db95470e2bf66bcc9f8db3c909b5f190e993d242d6eea55d406a01cc22127acff818a0b148a0724746229421b0546f23299f1eaf036535e54012d620eb20459725051ad9042a47fd23dcc7919d77f2794122139815b82128929a511e24d15cacd7231cc0142a8a543cf117065177d242a162901e2105cd492a655c1d48a2fc2e5897febb60bd388381d4ef03b0dcdee36b4905090b4bdb39bf5cf49d3c6591763b17df9c21685f211ba9ad1dbe29fae3f57d40b9ae7fb967549e17287452d22a72b30e6cb0644360f392fb9e6f681dd33919cf3c14342fb0a084ba81fa0b0e40b23b497e601a42af1f1d45098d6599f701ea8a8b855f8b6c9b372b007e9dfaaa3c75de493610cdead4ed2e7988c6cbdddd37e898fc16b814705235852069594b5e12559a867ed3da98d5852ff9d4b63f7803f959933af3d49c3a2ab8f650abcf348b99a9bced6b067e1b8c7e5482bd98b35ddcf2871fedc017a598140324e62f8bffe2ef82203d1000c12fdff87ab04de2a4cdc4029b0c6f40e3d9eaa7fcbc4361465fcc6f2401feb6522918ed8173faa364dcfcdcb375c6ae4cc17792dbfbfe1f601dcd0d2559e1833b8ca9023560138478b91382362caa6c23af69578f42c6e349c6daf0c601135c377316af44a318deaadf261eb597ad67521f85ec0cb86a6ba305476f62ac8c434d0b3728373636984ff625f9487e3b7ed0a148aaa89e2b8c88cbec3c460e4edbd51656bb26547ad03e82c8a86cb2cacfc332c97f511c5e096c05ed780d81cb4446aa0377a04adb1fc3e54c96ffb2a12e0e3615f43427bf5d22d475c9104c340ae80e36ec03eeb758b03dc1c5786318ff0ff2db50c07c04b5d59e3937140fb86d8257047c102615f567a003eb3310885db1941e813d73f0ba9f9a6547e254f7351340036ebbf9a665c36cb3f36aac0ea894f9b70627704de970923816105aaa2fd840aa45735a3270daace3c954b4e9b0ec38fb3ce2116a892f1350dec70a3d157df2662c1123822b94d653612811cef7d7921acfd1f5d50d2063a040793d3fa8d9a8c725d8c2f97d07984a5d78d1116c0ec599c8e00b62c577919b515782550ad39cde2638da26237bcc8f61af28d9dce4538b1946e59e01fa91fc35ed17cd684f8367b5d7cdb1a891cb3ad53029d762ab5c131bdaed761955ea0bcc7499e68fded6361045fe8557d6fd0067e2c402e3ebef2b93643c0e8c66345a880c516a260e7a9408f8a71dd61051f3b93460c8bd7e2eca859edd224f6798e1a068c1f224c80d58f2decac76c917a95d0cbcd80f21b767d85a1a071a145c2cca8df23a0f6406db07413bec4befa49546aa451a12c097646c915d858739b0b94a06432e7e8170e449995a993bf361e4efe74e4f4ad33235277a3f4b70fbda46292876531bb8dda98fe75beb7b7e5b07dcb491367ba37a323c5f549547736d3587beafbc6616585e6e7879f782987a9eccc7ed1c15d32857dec3cd37de2c08465558431dfbc62da928d0ced7af30889a5b3cfa73675cadc572225913eace4639f9685aba457df9f61cb83c371d6dee1a306740844284e3511a44fe92683b5cec2430b27c6f45ee2e22c712981a7836a40c7cd40cc8b872f7c2bc341e1a6bf8d47347e5a2b71880a132867c86bcdf329f6093e353e161fe17f1a65f9be585cf6759ecea15fb32da5489cc2a715f54ddc464642e1ccb2449061f463a120a7a96a7ffe8ae01f21c34b76fc3cd0ea413fe53b106fd6f32709c2e00ba1a81d568390a005fa5ea1bcb8cc67bc8d7e4a059a5423c8673ab440208716f80bb9591de140f139aaf0a2781c9f6b2973c494e9a0f622d090947b226ede5a7ce548d179bfbc84776cc0d552eccbe1fb1083c95891607f17f08b9b2a19609c7e45617f5dca7fc548b1fba0e34ac7fa74ded05c661fa1283e36068d3dd5be8a3bf5fe8b210cb3a542b30ef10a7e80ff6309097c085908e05603665fe90517c58357ae73ee1ec851a8038600d98448bc0a3ac3b73346d732a6d0377468b4033af9640c600867cb46812af27f966ea2c95c406b9beebe32d91d21e013268347263b23439536692a85e775c1313a6122599479716c80d975c5cf7127e423049908716e1783fcf15613edb4cc8c03c697136a76cc28c8d874e2759c9ac52c0c396d90442af848603903b1dbad3c668781a092b822f3b2af323001260a715104fb8cde8a3f3c4719b902354f38324ffc82fa56fde48d3bf17138481b5324e11b951d678e231c91b2dd564209091bbc62a94a14e1fd1556e714fdb8052deda5aed2554a1d6475b5f5765405e45c262e6dba95c8f773e416acad509bcf15fffd8c7e25ab4a3e5978fc0599d8ce806a64703d028ea35716dd9b3fdf5333b5d79214f756d547f9585ab802008b66fcc3d313dceb2e72fcfcab358ee048f672d76342550145d6cf705c3cd0ee3620368ee54a805c14d2327f864eadac51242415007055ff1d1e846e94b7f0646558332a53c19cf6c28e673058f4129032b8cb1ed5f94b515ecda5516d3c68415c46ea423bfe53a5d1f56e634d72ff1627245b955b2e63870d123e6407dbb406d009c5f03fbab7c5c0b39aa16a8bb3e20dc38eeac3c643cf0e9173d0b6aa0dfb7ce349eba7859e50209a73a8a17c6bee422952db4a33d8667aac786c44ced8d0075d26ef12865db2dda949eedc8b084186ff52dfafec3173f0229c02a80b929ef79336c2162e5fa0a07d79c5dc10b03189275e179d9ffe6350c10f2a02c49aeeb194da1ea6f5d4cdd520d8400c683eabb6e909e1e31f99ac70d3f433ed679ca7966d24064da84f504b3567d1fb749ffaa48ccf191288785d78eda056701ee255f18400a32b90da2f42163c4b08f96300d2f712166ff8a1159d57434c9c939bebac276108c29ab00d4b456913f27efb5210abb5743e6c124190ccc3fdf1d5f84f02b57ff1e99b7b06052471154da335efff736e3d7a91df41cfab4bcdc15041119e2a113e92c1ff8239d697e85e29dcf9d3f7da92bdb897bc2b500130cc5b36a618dadcea04852cb3d78e97e40ba284a28c14b2229806f5a5665147529ac98d6438926fb514c5fe54227b29de286da7d7578df3253545c2b6b32d54ac7db77fe22eee2b14f7f15a4e73bc08f4bce9d7dc9d3b471c238cd190d668e8cdfb61b5a6e060dbf02b84915f60d792df96f58719873edc2ebfd6196a94478b83bcf65f382a6e2dbadde81e24256f3af18f6aa4200bdfcbb1b896f0eea3a4dcd14f5fd92c1d5e0bfcff7585fbb1612177711afb813237363a0e91b9fe0a86a042578ca9e46534dd1dcff9f6dc5152774fa4fe2025ae26e217d455e2b6a164986cf2a4639749589c5fc5ce80b6cc667dab6e8b7098f56fdf0fd12424fe7cef05c826a4181e0e5f4784d17a0b29aea053af472a7539b38cf06b1e116d4c6c983ff8c0b45326bc50f66d65216397c9a243f08e8e39263075e38fe3768992f9b3754333b1c4d6af6572fc3968953d8f44682a305f82c0695c9b5795803cccad0a384999e3579f7fcd99e1e09b4c74a49c98ca1bda5bf51cedb4af259fd3de2658e319dc2360f8b346611d77068a29d717e8b62ccbc7e68fa8bc8dbaf01be1406bac766e2781556f150952b7bc18d84a3436ac005e98ced87e12070faa225c9f0ad18e453d019ba2b5120c604e5f551a42ee8cf64f60f3c41a8b6d2db8f4ae7e6e58928ee89114980e7bb06a0a934c205b7606eb79a74b3be08fd8886e53e8911203ef14d3c36ec3a120e5a1cb43e26dc1335d43aaf9b900ffffd159f711a5948199b32c05cff3243422733018cd8a233a4d0ec69517c42f7fb8f728fbafc89f869fbf9c32335667deb29ba13a87b2517b8a6095e0d69c68f512e68478f0f0978286ca51098f9fcaa60574694279e1c119de8dda212de7a2d8233d232056b14f8a33c44ca8607a99681f80aa14f7ca19cf52af966b49f9401d222dc9605d1776c361dfeb47faeb9be76889fddc6cfeea8b345111b1472d9e1d4b139648a4028ce31e1a118e2a9fcd9bf9061416af4bae7dc5274e17f8a80ea112edaacc6220c5767ade19f14a153ad8c5ede6ccf35c73786a145c156a4983323f37733e13c7c1d841b9f031695226b54ce9d39ad4277d3017fe1d00080be8aad9bd22f0607686726185a8b7e8766d7e86ce31e4f02b539f461e981b61e61466e2fa4f4ccecd177fd76784f7231aa05b64007925fbf73a5c6726f8d02f5249216c6130a7f008932954de35e0b3c6d951944266e27e524b88fb7c2a17cadf3cd00b3a5e75b13965b8de47aaf0ab932c5cfd05eb3cbb5965d810f64d89c04f870e3d0efd0a72dcb31558db1f9c608d48a98c184fc57d72afe7e8e8cb3d3207b54853fb716e2e78acbc67aff21ef6a18638a8b7e85fe278bc9e26264ebf9dd0800f474307558a31bc672f21a2c137d88d5cff2b5da3f2dc26dc9cf2fdc2c62ad68afad865ee718329cce6f6eef5159d7661a615e4c6fef510068a683fa721e4afd922b39bef80c8412a8826ce92197c4769a8033a215fac7a587f7b394791ea11c05fd61f28489b8e34e8d7d94871ffecb37d1790373b98e2d2c289cd9a50917fbf102fa1937986292e48718553c15e3d9c7bb0f018884faa750eb1885f431b1acd299e13afcd609f4949d2ddbeb15f18e2aa41999e232972c2152b0a8c7bcc66fca1f48bf206e05837ce32ed5d0e40639ca8dac0dc7427f14405ca6ffac53898d7d278d6faf8c0c4a0c6e7cde29e146515fa614d3b88f7c1026bf91cbe1a3476bb19bbd6cbb8472ccc9b1323c6a7c22b4c0566e12b6f795ec446fa9d10aac3aba012bb921a45cb813e7b5f3cc36b53e2a1ce0a2b599ecf4e39ac949a20e3bdc74d3bd5510dff2ad544c8f824a0fdca0b5d1417de9a6e2696beb9940d78a77a673f43a39126f4108609056b61be9326ae4b82b540abdd82690b35a71173a8b725cc27ac26e31fb36160b1c3a1e575cfc96298d59a96fd5f3d8f5f8c7d1cf7c09f8a0c52be53e8858d7b823ffd8ded2a5451c1a7e60329760bb13348bf06c1b15c142de7f8408e711d5daa710c1d7b2b1d4828418cbb826bca44fc0299e5df164ad0629db9b96b5a3d6f2fe2c7b6fc34d180af495c83da814d49f2b7c8f4d9baf48ecc015f9af9244425465739028164efc7c2f7dcb77b8817dc8f25eab9a9a43b4ee8196b797ea4ca7fd18326151199f231cf806489e42fb77d82afa31bb2457d80d9301109c89163eaee9f1aed9138fc2d523fd692e4584049e0a2767668426eb2c655ebe720ce91dc7b25ca37af7dab4714d7755ff60bef3d8e2790c22e72de59cd9f7a45c493816bc7ae173502677128e13b389bb52da1274e202b5beaf03ab23e940f6537e0ceef86273394757e787cb91cf98b3a9372afc1b00cb62c7324fc7acc530f9b6df4a8923755c0084f6a5128df3bf33f17a85accf2bfa2d72adbaec1d3b8add92ed399b1428dfd4bd70ba0a494d95bbce602a239b3e540a347300d8294f8eed062cd36dadf66dd1ad975cdc3824baac0315f8ac93f0f79831c5373a148f4f7e94a2634fc848a5e8d7f2c7f1a53fb393236dd6c3fa4bd96225447393e8db9fe7a31f854b990d6fdc141736cc65803de07f60b09e8acb5c6f4860f2e70eff0af7519745e58fb624154111dbe88f7b2728153ea120370573f0164b972be38022ff178ae5ef4c2856170ffff55659d45c41351fc4755173f3040c4c9f9772f2e352611ef5a87ac10f12e495b3e8f92a032f33b555043662ca3d8c58204483ef4a8b9e1cb6e986b5c36878f5c0e00123c3050f32b330fbb7e77fd470b95256b1fbc92d57d1582ded7996b2dc02245917b4eea81ec0b1e13b15b6e4124aba6a05192b26332250b02106632f5b2d014cfe55064b225946242d59751c728d5b29973eaff158416c01b9c3824d8a1947637020dbd91b57d53e44c3da78b16e3a71866472df29557c118c29efa30d0dc8bc5a6a5d0a0a2e12880ec86d9ecfd5557fbf7d6d1b7f420825a69c0dd52626f8ce005eb1f055f3cd3786199fab3ea49e7d7243b7e4db8cb38714ca20a2cab0cf5f8fc2d031514a9d3cdd167261bff9732489f6047f3ac3bfe31a13ffaa4f2dca8743287c286f92445bec49604baed94495d8543eefca222e8c864f8e0a0ece35007190ad83a2db83f7ae39911b6a43e4106d9acdc5cfb309717e05997f788befbb02075d9aac0b811f69c5e642cecda963833c8a8756c7bf7b90d0673ce3280845f206c6b0851f41e550fe3ce6e534b4bfc3135267075e0e44640b556423742cd17638f4aa03ebe348d9967f6c5a062f01cd835f21af1511aa108e371366521a2c422d746a2f0232ceb99a4e02f1363f4ca41eea75187dfcab624e7a95dacfa7810d96e69b624d78e322f119168a97c82bdf69cb134d478eae1ce8605f40a529297e8f4a4b67bfbbb9ac61c051633ad6d5811c7056ecc4dcb2354ce1ceaf795d131afc1e4518857353adf0648e6ecbb8d6046f5b39161182bca16088b5aa39d38a0bb4632f9d79bd00a4842a9f7a7ac7b2c0cd9dd2732096cc357d73b69c866c929e37bb5469d9b864f3bcb4add6f0152422964fe59b5cfde07b168cd64caaf492fd31356085c2522b5ddd2f0c533ca428543a827c1b22d22cf9e07cb288779a8e9dee354587a9902c7a6be83f068cc849d29b87cfadae734f9823b05b45b026e196daef9250f51bf62d613e93f9cfa574ea34c9abda37393217718a76eb261f49b0d87bbe0341744d53d8aef3552165c49f80816fe734ce98596cd9b6c5d5f89e7f537f1f43c6b7a0a9c6efecab4dfe696068da6c568ae4023f7df68b3c8efd7783860806b3c3d0364e05106230e3da91b28bdc9a55b02c94e773d3e77520a67d34cd0043443a04d08eea635b2a2ad7349e5a3cfdf5d002cb75da045f6b60d06c938f184304a87fc0c8ba2c0e7c10583e2566cdda5fdd030bcbc98daa95341b21bc85b36b72751f52c0f72a6cecc322ca08389b247fad150a0d2dc32c0c83ff71650a19945af8214d22bff729e063ab26b91c2e53c62708e8402942212996a2a0c94727ff1f0888172eca9a03e75ec3ea6540906a89347c92fb7eb31b68f8d2c6c744be12c4d7fdfad86eba1b9adc0e339cff49be326a7cded885b099e1bc34283afa0ddccf3d2deb37f5b4abf41b2394d3a00c7a1e22db75af5b4f715c452deed32bfa0c7e424283c9e0e04133a1582870c91c2f37816c3eeed773b888725916e8511cb863e7b7d7a84952e203d91acaf9f1cfe8b2b592b9e262988760ab3830845878e4cff0ae8c8d31d5062334cfe898355e87dfe677d7b80a4970336b5cc971c90bbcfdf381ad79eb2122bbc672680aa6778d542e4534a92b808939a106bdb091661b905012fe53744682a8c66d26036c535cf8273d2f5bbf454f8a95667e7185a8ba28ac8723102e54d21721335e2d3467c673edbecace13648d5e695f7016a229e18f5ec1482912071d179357a6aa13eec8bb926f6419af8376e7f4ad8a666d6f9ff1cfce10ec27ace857190e0c85ef129ceb99892df521e205c59bb5476fc310c205966b736542e34a598e410ad01c58c535fdec386012f94770c2a75b066d029284cc17a2945c78982346769f16e804c85953d1c3d9644a75c2f862a586c732388b7d02d9c6422aebd021937df43635f18d2f6c9931862cf5393edeaf26eae6aa31f2e05824c5721c6af8d82f4a1d0a3cdda754ae314048dca3eb5e49ad75890589bebd649492ddaa4e0ec33fc5cdaf282ec8644e759ddea8d484b5bc548c53316ad90c13388fcaa9b7311e9521997c11ad7636c12d817c483f31af25e6be71594ce91dbbb6e1532d4d63bc425ab625a75d48205201772b4f67529412fd1aa17657b89cb8f56f8a8f3e030b5d0f550345d9de7224d7c3e9772d9f4da8459d02b7f624b099f0c91b9deb651a9b1711544553593296d5c9011ad482b25033c14a37abb8c1303d6ac00ed8982339b0c1af9bfa880cf8a244187c6650e71e9ea1338bf70044ccf63d7b1b9f342e1eff0438cb244ceb527101a76672fc7b5df365494d514ad5aa22d40c4439b9555c5b4eab8287e57c664392814e2f76e0aa66bbe2afe77520a2a257f5583b638e172820b5069346ea5adee308ccb2a8a0191c3aff9db6474093794bf5c455020255cef805a547eefbb6e4baa7725c21e2a0de009d2e1cc2f243913f562a157d15df6197b3abbddf5b3dc4321f42ecbc850912c2b503e4c4d8e0ee51d5318fe401bdf7d78b0c533d01127d3f4e81736599e368e1747b7366528d972fcbeef15e349c70fbc744da3b6dcca68a2e4304f4870a091a375ac61ae8f157b3f6dde63ec2751fbf75501b424fb7d14094aa2b236f99ecce7b8813b9862c8099bc7fe76cf80f5566ead68da34d83a5407fd633bc53a3c9cebfee993c60e2ee8ac202d23ba5b1bfd10d633e436d7d30298b32d62fd176ca24d7652fcba1f9cef06e2a75acaa8ed83943d7fd62185f1268a82fc5d50dc3400fe4e55da139028e6966b242c5f09921205bc66ccf8ef67e1a2d5b44692c46d37c753b60df605fbefc4a693a44e196cec8c257ab5182403ceb261753cc5cbecf2a62a288865d04a795a87c63050eead4514cc73361c5fd43c395a5946013b475abeafcfba75167a29d944810ea31cc60d60391ecdfb0c4b125179cf698543b96f043b37dc8b2a0d0937f8283e1dc2ce3fe59e2dd3b8c585d63bd510aa75ed68e926b2c4f691eab1760a841d2b73df2d202b6fea40559a11abb0e54e97b9537686f30b8e853e0d983aef85e13c34bdc6056b04be26feaffbcf0454eb52d9a9376c56c43d894fdc1f86d411403ceb9c5636cefe29b2d0f52aff902283feda55e5a67f0c73423bf36aac8efe9bedf1f91c9933a743331bb4d3e6bc94ad3d19d0c368dbe1544e292b8adf435c67467de57183d5a833a8946acca566ba576f0b7ab13ffc42da839011d4c6bbb663c8ddb5ddde654265841548aa23f23f80fddd510eea65a0b27ea14dac02a2ef73ee93045a3848c48e7b031d806a0a7e81424abe10c28c5426569e31dea007a9a973e474851a1c78a5765ac3005a046f846f47a524729f91c15b776f9bd46f30119eebbbc958ac266c474e1a83a3abfc4906caf8067377d6f0f6bb52f091f4276d9beb99c5c548258c9a3d8a03b049b13e0bd41070c51861a08d1367b454e3e0107c9d699f79db77090dfe68b4f206aed26949ae414029702f480abff1ad4bf6a3946fdeb2c1835e51dee21457f97e3454eddb7050602947c85519653ccf279887ff9783440305e1914e638f9aaef920956edea7e160a814bac51853a601d1c80542cf72f3a7fec9a416e7375922d3c5a696733359a892bcf0690fe1e49802bc89f3508f21c6ebff465abbb8ba90b460c643c6583f32243bb8a45752d3af2d0bb239c5f4f6c50f4fdf5ca8300555baf44bedd2b465c587cb52f450cc9d029c3b169b48fd4cb37123c5e081417ece931f58f58d456167f4b2bb29752fdb3a149ecc31ce20bc0f431955f3d9e012a8d177c76c6645986a187e767e14db3999d369a3463932421a5ba69bea6dcdc6cac84432eba1c5cb52ff423543da8c2c8b9c9ca67ba176ff630e69f5c52a11b8f40b00299cf8abc752bb1f834856cab7c411053bfe5783b10d3f6ca3d6a590ec76a96d1849ec289f5beab80ea352f2dd9c574cd3d0ab6cc61f829dcab25e5fa6566d3b71980d71718c198af583d209c7a1605db2ae0172fddee2579f2c9da5d6607089cd95e44b3a98c99084e6b7322ed747b83d5c8ae7572ec10a589665cd2add694331e355dd946c5c0ac11171a68c1d173a7a6b2dfe2f42e3faa4295485565c2ac226e985b4c0115d4c5c3f4f28851401241c36c267a71d17ec13aff973e432a5970e9503abd12117ef489018224eb53f65363a4738dc8d49235f194a18c26a13fe757029087c23167e56405011981eb002260abdf6e87aa269444c6466317a224ef302eb5c866d17b3c28ccbf67a22da53e28acf6c88817b4a56c5d33c5d1b89aada5e96e701c7fce71a0a15501197234f37339ec0cbfc26d80e7b7a9c253b5748ae646028cebc651657d42c8fa62bb33b097a349a64fea76391ca95aa53a8732b12f1edeb7c1bb70ffab0342bcb063401ee23eccf628e34694ea8311eb91d43d994fe00adc7b152e72bfcc38b33720dc844f528d2c2ea041d78ca14f2b599f362b1d4d61bdb9b851a3fd0657514533b419bbc910cb60efe01ce47703cc919197c7f5901dcd8132f92b8f999e23f9f4c3acc28c966301ea93059022ffa78e970146344161f55e1130b1cd629ec76f65393367dba74bfb58314080656854f2b5a626c4d7e019c8b02911245ce94e1d987c8b0fe6f13c348ee6b294d5cd3e449068896766c6053d9757aaba6f5fd6e374bdc220c5f29ba848f00221233a2423fe6c46b8fe5e11e10be28772b3a166530f6fa0d7870c34f3fba3bf9c1bd73e3c3c7d2295607fbf707cf57bcee4eac891c1f67a8770de482997b391d9d067883a8a8baaca165c810bf5eacbc4cc5324ca3814b07657898834532e1ef5cc994110f06ac35473c9d8667a144bb4c896e816e4a5d58c640371c627439594cd500e1699789b67c3f34a27a29ec4460ccc99208db31134f8eb86b077e340a39d542a50d977b685783fc7c041add0e80d987f2098399954a7dd179ccf478ca7cc0556b33b8cce9bb2bc7ec91ab1bbcdc97c811fac143a6bb50c8106fafc4638a55863e4cbacca4be308714600806e376b32afd89b7cc84c1250be1f7cebee41477f6040477c94f22c10e4e271116993948080da6030036f9debca13229e3083cb36077983e4e8fc5202daa58cb1a9374d43736c2a7e498271ae1650c451d385ff92e84cb7e70073ef91e9d8ba6811aff8b021451d87d7ecace8e020fbcff3c7b0f7f82f226d2c20ecc8803a044c93e82fb5cd6840d6bfda6b62bac01630478c595bb01df7de72af379af88c4bbe7e602c19e5afb982b82e5f17755cd203ff8eebe50f301cbdd5b62e980657381ea681f4ce099cf7ea878a577c8975e742e52ddbb348ad84015ac6e4f8c4d68916279066f35c9b4de6910453b1d9debd23b1bcc469305ebaee93b5efb9dd46237b7072842e9ea69602fb94473a899a368bf6d6d5468a4240b1767a9a17e5396ceff6cb402342caecd4a0cab80eabb319d1356b9c8446c963fd2c0b8922ac7c8a40017212c44ed695c98bf0608c89effc95a4112100bcf7b52465e0de8fa16e5c5e4b59b580ac6587c4c74e329235fc71fa25d9c8477ca2170f75a0f30f641e0c4f44643c9bbfd4e07acdde6a7f726ea0e2ccbd1902445b7b530c4495201a40a284ce775619859b9d991878a9f2ac358be75aa09cba3a5912a449dad5df9db1f47f6d7aeca559c264030a32b2b9e83de03f77035bbb68ef26487d0b5140ef3c226510abff9919caf58a81560f3556fb26a3667d358fbf48b3e4e7775804d5ebbff2a4986ece1c81c600f2b57d046044bcd9d53e9e96570edaa5bab7c2914522ad36cfe4bc94e9db6d6a49df9fcf1911d4b3b530f2166d66cf4fb84007f7e9a49b71c4f43c0a730cbba9fdae6175b1b67e5edb22b24e2707360d84cd6403d0cd7896f256d319a05a7a34ca18fac510b59cfceb6f7276b372ecdf25c1cb764713ca1610688dc1a2923d56b5e3b7bd4defe2b105b182db7a91f93528fb54b76447eceefe1d42d18522a2ab380aca4fe3581b4041865c7985b064ece7ea1908f50c3ea0b1878537419a7c826b0fa8818485fe9f504ae91f7ed8a4a671044281cdb03b104c5be66685217d4c7bbe0cb1d1a7b348aa839d10d32bb2dca4341f5abf2c6817b0ea0d9356e5a4e18e419e5e7904de9964650008ec09c7a0c67773ac31682c6b161dbc7326e269d3046d0e4419fac0c679adac7fa294c32eed1eb190fc38d09c30bbf42a0ab395926798f10f069a771e82cc3ac029cb2cc400a9ab183cacacec49f1ea98d796664caebdd102da7f0316efad2bd747c54dac38917271db0bbe48f039fa8213ae10f2e94d9bd624ecb08a693f4ba848a4fce04856aa9afe3346a74f4b62a6f5680d0f03ab421ca45e31682c01989959ddebfb0a81018733e23a8cbca900ad701694cac930dff4561d6a4c5c1aff990db362ea1493abeffb7d69c8034d7feffb392147330117396c97ece597ed3cbae36ad2afc61670447f08ebd43646135435890790f82741b4f28a274e3f70069ade772dca1e9598c11e8870980bca3cc8a745a5a1d26a6a08a133bd26589986fd468349015a99bdac37c8c868e2610264ea533fbbfe4542705b0403c0a71e13b665a33b2ef5a654b2b04af11583fbfa67e0fd039100af7217439118dd697610e0535ddc0634153d7ab048868666ad8991fa2deb507bc1e8bc4ecab9a78d8b085c811d47241fa86a6d8cddf2e9bd75967d8b5848ddd7160dec30866abdccb69f1972c04eb4362da90fe2108b8654231598bfa2b95fc34403170caa8fbea3a0b9ee0b34f1d11a5311231f165d6e3dbf019318a2ca213e4ab0abe8d1b94d2b34c9638e640a47ca9974766dc529fcfaccbf869ac46af708d3cfcbc9468780cbdb4e3722d0624b05e66d25e91794594712126b72a045768c17da7189759fad51f84f361f93b96a4998f5b34fa81ae41f11910774cb51d46d19ae80b20383937f1c64304f33390f6e42a8cab6b155fc18149ca04b3746af59c135f0c7f4826b37b41f6456a87e96d464eadfb7d9a990f6903f05b6b102417e32242bd7ccaa2230b1c8613aee74b071181c5dbf2bbabee53258c88027abe8ec3561a678ae671b3fd82ec135cd37b10449a843eafea53ddf74994260d7fb9d5c054a9c7da90a2ad6aac810315460cb222ce89f04491f1763e40c8212290bf51210203d6b1ec751fd804afb96ded81cd31db9b953a913bce8269e79dc330a85188a517bc40488d7ae079151b2155dec16e6b307f2a46bf68127eebd1b5d21d8addecb3a6936991d34c5094758b5d1f1eb3f66b879c40a2539cf972fa6a0d628b5b8b45227418dd835b4a35d6c14467acd25af941b5f5e5e8257c5fe56bae53f63923a5c5ee816a6e6fe2553ce3acf5bf6236a6830ac547b56c87cf6cff7dd76468d44fb3f518a546c82cd1fa2c740bece70ba05299f001b0c8af17d5e1386557fcf4586dcc627ace70557627b86b483236d95c8ce354a45112a2e3302016dd582e503c8a944342a5ffa716ad30bce88d199e34ba0a8afdbb3793efb525a339e66c326f075897692a4f191ac354e4dd6e741fa5b922caa97e66d7326926269d1811a4663dde6077f38eed2ef283b1544fbb98132d9665cbefd4ea4b05b5d51928238e93a737bad09639393ad79fa83e609788dcc67b2ec96f7cd5c3851277e675c881872e11a0591d4fe32da366c36f42fc6968f5da4d023702d4f597fb6d6adbd8b12b384e739c1f5dc4b85d904d4125655b1f44093031bc50b471b2f807ce8200e251a44c824c723f67efd23b77f8df50b3c1cb0f3d7ff742a267e73ad16372263ef5b64fa89ad8fe0ec3e8fef265b037d6d21bf9d2612bb283c27829f0034dbf486e43a37184c8679fe714b5fc359733872eb97c14a55e84dfb0e63a0f96ddb767a3d0e78f460864a49072920a21eeaa5956886e290ce1e3a0b460939dccc101383f65c6b29e1f71e3a2880dd5d99b3ec4b9aa655b0c08c5f6cc8c938e1ae640aad25075a53227e673638cdd2fad72ca10d343f7064f83c57593038023f78f9f1b15edbd0439fc95a439a90f5c96cfe4a3ea61a159b0c9922b74aad979cb305c431cbdb4580164761dcff8760ff91f6dd0c1632b0e8b0575e5a0e368f7be88d1d1e3479f6a32da5d42765b54b2ea3543dc1c50ddb247213a8cd15ba7de1e2ddd917f9efa6497bcfefc43d221570238c4e09533a61a1e128f71257a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
