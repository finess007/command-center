<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4adf55b23d6b6d67240e489eebff44da03fe150bf3fa8001226c3f1faed28dfba62ebece91f2c1bc1ea6c91a8704c9688ec4de5ea909648a751b97e311d032bf31146d5981b1bbe0e1c70c922f020c028f5b9c65df42293ef82a28e7b4882237d1f0c85de90b4b16df14d9e5b430158c06b12f6c5491ade83eab87b4d565c2d458d16542a523929dd0a0653ff3be80d82353470817c8fe8fde2ec1146779f5c28690e7af829b44bbab39e78fa4f8ff8d54d9bfec8f3577da69c5058b87cba008189523dd43a616b7c8393e47f04d0428ed88b74b17d7cdf2cfe4c167f13d2e3981210f1717dbda29b25960b1c34f0d9da033927d3a0d3888c1075584fc960fb6d8ff1202ceb049e8f69a2395ea065b1cd79a831e111d813e7a46ee0ebd7af0f3c35c425a3ada9cc55e203757723c87a45831faa3eb7790295468a6c438d83ec0a391f6575d9cdd19939921e9d659eccbdcbd136372ae18b17bd086ac216ea910164de5d3ae27ee735857e8f8ad07b67fcf5f77b9b21af226efa06458ce858dea574eba38d469d3a97dae2343cec5cb26e0f2d162a49b8b3c4c8819d99dbe8362b8dfa44a16a57a3563f6fd0f4e80f23542d71f558e98a1e63c2fc9b1a9029afbb1ea1bfdfee74200e1b4e59809c944875e324a0a31b86037c94cdb8fafcbf532160c273c49c5cea7c351577c589c035750dedb7276cf530874a75d999ee921aec3c3daf24831b85ddb2744ed2c24b284e198ad2333bd1f7d8b9563eb2e3da514c9516b67cfd58f21c658f0112bc73444351ba56ad06ad0e967621e90cace299f7d943865b102be8aa84818b1bf4060e7736189574713cb36f90e7d2f50b23e0865e23c11fff1d87d7af239974756528cea51e4d912efa1a137d606a6cb41327079a963df2570848c22b40a0b5df1a73194895197bd10f3c84e6b90013b8043d1eb63294e569a13ad39ec4c9f59786481fb7a5f20bbaab42a0e56a994392d5c333b9a2897a6058b56cc650b94cef7e42086b441e509322278890a47f63351e167a3f785b177f8c8977818b3590cc7a710468fa234cf0e88ca1d317797f8c126043151553a33601b4ae6c54931fc9b069c890dc36659e57d5ba03b0dbcd3cdb2a4ae4a2dffb25f55175eeeddd9c5c5f42faae6ec38e183a65ee9ed7c8409eafa0a32fe973c062ebb6cb30c9256061ba14e2d6fadac0f7783e2e19376e497ccf4958da7b0ac80220ea92ee1809cc5886e3b5b950c346cab18beef2783600c0918a1a9fcc5d259c12e9615fb6c80ce0329d221f6f2433dc24724e2a0221d868ea0dc195b736e1d885e2d059d0f5a48a47fc3a6f12f3431866b751247d422b4e5508966ad00c84e77091bc689ec9f196df7e0763fcd7f99681acde08db1baf4af49d2eab0388f9d543ce1812b50d5d725ed8836778e2073bf19101b70a02951ff0f462f5076e32007ee328ec4145bab33fb39b695f07f9791e1425398a35a1cf742a98beeca86678826dd7d937981dbafdc6f3a7dec70b4591a9ad9dfeac781343806020aa4c1a40dd861ea8cdc53f512539c603eb4d8540c820d1b8af0261c574a5d70c55669f3299ac0c3b550b257866889e4aba706313105b1784f05c2ca5d8ff6762bd73391b6704d7f956a165585e360f0382597b2a381115a85477b2f498c82442027bd6c96ed9d593e04c7d43e22f90132a008a0cf9894cec97274b69c1819a9baa28c4b17040495c3fc275156bd632ea0e1a35202005d58383f769a9821e35e410f6581cf76680ec1f7baf84877ae48df7b9b2a28f6f86edc27a6215564ded672e9ac1a50fe6b2b086eda1a4ffad62162bebf51a0e3dacf1a1292b72c253ecc599f30d080bbcc3d7816e5195a9a4ecbbce51efc840b7d445a32bc8f2dcac5910d8642525574246395aaedd14c33c23ce29b43c6a247cbb09386de21822f0343de29f7a37b321d3bcef7d235b986fc2ede8a7b750dc663de5038fbcbff731473909fab1f78470d82b340b0cc7eabb3d72470c09fb5a23b2420895a6b88119a6b84932561affa00f731118cd9688485bc8256b6bdbae69c0cbcae0d4f7c906010c4947505f002ec1f5aff8fbeb07b884e84cce04c405a55c96b8384b394155323dbeace2f123f9b1da412e73b5b98f0c11979a9ce9619d2547f0704c07f9088a65819b39d8a03ec02122b8570ab494205895f6d9d5b6ba6c8d3ed5c5f4149984d49f44a7a9cce91a6a8b96628c329291be52e373d0454a355a2f941ce77c049212ca58847870209db041284de449e80db8c74b5819c8ad1c677f8ed7fb32d4dff40666594f846d9fdf38c6de026c94388f7621cd2a750dd552290d927ac16386f85b9fb11fc5d638821889e93fb50910266b8efde45e71a0a436700af1181de48a19e84e762b14a7e4770209601cce38eaa9d48eb614959575af62ce0d49c9bc571fa0c2b98203e41dbcdcb507af8460f9d56ab8ff9581f28e670d98f21d87d2bbdd93f2392f9489d9bff794420761305947270b7e26a866b3513fe712fa6d2c382f116598dcbfe77721de4f8e89410dc0d173bffd7a77e990c9e5b32ad08911d26da3e342429086b9a583680c92e09dad4a4e60f7127d67317da9c977320a303e1c4f865ab982953d4aecd48862068ace84b740d0f152b6b03b9043955a5b753036b56f801401a32769890e49884cbcec878508beb3f3d2bd4216c11bdd15a5b73dcdd9bc57e355dde20539ad6651b4bf171972c91e23e8227d9e4db8382fa8d963cebd4119a7c83cd8da3453a64a0262ba47c4872076c868da15c047572f05f0c89904e929b28fbf9d4b7e5486506c6c5e3de494a43e21910cda7781afb098bd0882644b8529c0546b706873da48c5eb9315510f285c36252230db57f533c940d5e208cbb80a5cca797380be3e5f06dad383adc4057cea93bea5a012ae5cd8ffbb3260c57bbefa25e5f444a13780abf824910a42450bab5437588816acd5c849ca54d8899e21a7d38031b1982977d4419c00fcff31fb0b87bc136cd0f80473da0449335ec987a457e398854922c486bda0d0dc7bfc064efe18d94e69641860dd01c45f4be50c8b1456a11fe74a17cb4f9827cd89c3367ec472231336c6f55dc5ba0a7601d2407750de3340c3876a9761771c82fa85bf69ba7d1b8fe6a8ff8ed98da63eb6ab3c0399fa524924dcebb72ab6a944af7c55f06cac2912bc28dcf3834a6d847661d7abbc1d8df47a479607d52cf219382839a3cb92da399a66b6ab3517fbf4c4ab366db3ca8ec45cac700638fb0c73d9c14d3f3d91d3ca55826c3e751047b6784849638aa11cb750120cca21edb18d626dfd15f19a4814129b199a92041e566a891dcdfae594f14af8eb9556894fb38eeab4507bd201f834ea895a479bd0525de72853b96c5078b8fdbdf2cbc44bde6179735cdade3c39a75f1fe122a10134f1a4cde7773b75d2b551a344ecfe67ed1d1ecb72943931e8917710d13455de262e9f4525c7d13f5c4e65fabb34108fb67ba8551c286a9fd6a3cd13d6c6649b1a79aaad0ccab33b38c3d764b6fe5d77a43d95051ffd7428b9b8f7ff9ae047ed21eb366c6b6e3ba14b745d6949854b35ebf8c1623d7658dce051fedf7ca07f8727068792a676ca698309928ee34f7fb9530a50d3bfc2da2c69b7ad31954345fa10284df613e41ba5c2b17bb5d9319e7de3206f3442469de68f09ff75b5cb6cf0fa8472666c8ba43d0c28968cbbc2ebe7c9cd09f78003cf1c9c812608ff3a44d0cb0554f0a86debd40b793f838cdd3c04ef6cabc3a97f816d0bac2138d12977ac423a7599d9a4708c9d67158e47fbb68c00847bcccfa2b46d92c948767bc219bd1a5dca626001bdc4f53771a46a403da4ba9c8bc4ae4c3bbf66067cda985c606994062e7265cf473f93fdd0818bf0f3fac2b5329b95ec0819347174172e7950913d2c6a3f6f2a3d30c4a42a1c5383e691665d95e7dcee8b6eca677624ac32124241469a871edbe9fbb8fb46836f323385b04d39349b1d483a0449614d7b73f69d1a400f1180f45e3f05866e08ee48d4213ddcbad3b4e8007ee9261233158618ffdc450e114109299c099b6b6e80200674d5dacbb30ed171926ac8d08e4bad29854ca1cf678dc38e69a7451af162639470877f33c64d6a62cd821bd8ef9c72caabe6de3a6c7c574fd8d217935c81f0d3820751412234eba976120bab33c1bb5163a700bfc5418b6c9f5129c8997ca7b2ced455059671f08656e0eab462bae8bf675b97d92264d9afabac8448a2f4cc000653180eb516a517b016b9a665801e4dfcbf66e6475990051d5c5008edc63b23df27e62953af8d9d9b7f3a55a6f4349705e04dffae60ecd1da0a260286694c7e36c358cdd54d252e8b6f2157ea4e91bafb8b1bd32221e9ee02fd16fd2f655b4b6163b7f367e4bad16e85a59778af986f92641c117a5e123d8fd2e385cd0b68bcc679ccfe95fa87bbdc739cff101ee55bf2990746ae5955d39270c5ba6211274ed1a2525d090b6c5ec0103b4b94d509775bf820186c11609c52162bebd2bfb5264ad296b5a1e761e2395e71719ddee4fe16ae92fdd7aeb962e5b1719259bcbf28ca5d192bc172e3425d4c257a886c356474b1f0a37efb41dc275662fd2279dfd4358ca37ddb33d2274a0ddb1a3cd35fba1ec2b3c021f81995f6d0d7f0fe573163a55d09695965b5cf622254eb2fa20498b15dacd060ca21b3e8504b2fd006c83bf905ddccd0abca85a0bf3b660510faa6f8d313e5c75ee05c83baed173afb1a302a62d0b62a5274ba5063842c933b8bd04742ceddd0b5364ffa1e11cd55b515d9ed83643d643e9c0550b70825a5e1e1f7bdd6e1e2251451ae45f93df27c4439aa2f1ec68a6d5c30f3e4ccbfc01674e3111d1391828277bc4f426ba307621f158dac64a289baf33e33ebcf8d192016f881b12a256ff5ac6c54c07fccfdc3ea53d995e47e76cc2c4bb1663a18ef800471ae3fd98ebb35ca86b47bc9b8092497f5f928ce5c020924531b578f42ca1309c0b22ba9118f227ac5756957876a90e9c1fbb878c8169eb47270b0e47ed6bc36f365438bbcb38d3fe91a2a2f70acc93cb64c3683115f8f910a8d0f2162bfe2fa860cede05dc669073d501fc008315c4c1c2b206701d2d1786324d8c0e1d4725bab30a59cf3c6966ba1508a1ac16fb0fe983d00b9821d71bdefba259fb4e51a4f7428d912dd4ed98b39746604fcf6e0063c1c0a540e275bec2c0ba2d791efec10ab23b4035e91026cec2e0a6ffa86dc68d366d65386c1bb3937296d2884b276b1103a1147a614627ef22fc4498ba953b010f0b1d71d2b312d69ba63b71ee13b90f9ce6f53dbacea596766ac5ceb5db7dfbed4fe6ec320724f5f88895c5a1217ed3d4361e4206b4f3899c7ffa5ff48cdfc7be5b6f3ffd6926a4755163c90ddd84e53f9278db2a9363a6ea3bfeb78181ee0e406eac10d0c8274885212244d9352ccb1b99866dabefa11483dd39cbbd8a6f168c7e8b1eb76b9b65dcd93729ed3e78ec9ba5640781d4e98101f1d22825e46a7d85c2d1cb82d3e80914fc16b256ed466dce88110d82a5780ef95c76ecb000ce3527b99c58315c52f00797fc36c2e02cd8c2475e6ac09dcb6b187694b93272f09beb1170f273a37835ff8f7973d27f2c70a6ba0745b348bc52759c427630d692f34a28c47ccd86007da73de5993dfabc25c9a0bb2733118cfc696d9d231bfb90f26ae70289c3cf742fd797c9767def2042f7492212daebc60d8f1dcc6381083a5b492437ce1638c942bf32731448393205028a7f47b8bd15f9fe172153f0276f3c3c4f8eca4799af5f4e229e87e2f817f9c1239348f2cf31f16c274c063fd3d56ce96f0c2deb0be111dcf9207cebb4fb1b16013d95f9896762d319ad2be42cf00f8fceab226f2c84b9b54ad3114c15b2cd769b727cbfa6dc0f03429e287d91ee597a94abdd1895c055e0bca674c7cb17884e028b84cce7a07cba6295698fcd95dc8fda1ad5aac6635369f535dcd6dad593db6507eb076faeedbc41bc1c07cbb8ff0271f4f2718d420d92e35e8d1fd15b9ce096477c8fb4f93b0a0decabc3c64226538d20261999768d496e66b7e78ee3722d5e4def4cca2ce8fa38e81bc837cd6dcc17cd32c1626a8cfd97b7c5dc53d367ccad87933ec9d979c1b3648ef20d1f094f89c3c749a192530a56ccbf09f11eb67e6bbb809f8a0bb181816d2cf9b5d002344f484446cf33b9215860cc10bb7d7f0893b91f72c79ea72492d7eb578b4e8b4538ff9c6bd66d9ea36143244ffd42a2976f9d9ae251eb0d7a367cab14be5e15c0da021e22f1e5b2dfec3c014ea4d2cee06ee4f83c218c0d9ca36ef8094f7f7e84898598a6cad8bb0b14db3a9f652203aa2cb97b16bf921ddf8f01e344420c83c603603b5a7cc71d14e97a80c5d59fa87b5f0eb7cc968d5718a3289f4cec52f7e9a3c8f2000901aee92a9c48dcc44658416a5066ed0072af89c5316d7c69eff5b9ec653d969eb9d278a874a2e9d79d1d5c7b66b2137b13c65e605b6af26e852e573226b1f308ab3e3a41e26995daa02a80ceac6a8a3467b7cbb330b31d30625a5ce3ad04ed1f33e23a51a714992dadd2b927e51c5c71b4755b350db4287a8e867c679422c15fa65ea51fabcba61f4d7bc87416e7f10f458db33496afb24668899388147169a31fb1eeb931861e508c6b5e4b74f73338e0a1ba034b3b22be6e3350adfa3a0efd700bf37300a68eace487adee13dcbe804e23ed3012135384a95cc497bbf07a524c545cc3bfe99efdf3e28ed574f20a68b55e6435152ee53323c87c9a311af9c5a29c5bbf1e203ff00bbd70311a08d19d45950fba0ef05a72d87cf968ca223170c8df759717eae72df632a502e8fc908e7931fdda37729819ec599393667e2df340462e41e99f30de4c87c149cc17675bb9f316cb19b64f4e179b3904122e54e1e33acc8744f444482bc7c304a95b01cdaec8dafa4dd995e4d9b591544bb21bfe1008482c1ec6a63551396086977dce41eea930c9d9f9f0456054bae14d96320a4bf176187acef106a752d63f8e997eb102a989f561e95075c98748883297bfecece12594b72b070fcff21c8f213bc7c00caaaf0368219c987a44bbe4bbba1c3640a45b19502faef19d599ff2bf8c842fb9ab32f2bce8af835d79bed0551d183b9e24a6f30b0ca851c23417c2375029076fe05e58a7eb3d486188af4c8897838c3253e0bad024ffb2773a71e8cbfd8e157107613b49baae8a9e26447555d9aa33e0a5144df3890a8f283fa723442025b6e4b87c2b99e9f247cb56ec0368948b850701e07c576bae6ad05646085ef6f0010149030915cb8cacc9a13b5aa372b9903c5ab96cff353858952a7ec7c410cd05f2d79bf528e57e182059cf1d116f679ae91109c15ae47f575d8f18ddf99bd824ee2db86020ecd1e4f9a2616273a31362b9443d3773d4226f1ef3c1368ff5898db7ff716c668a44ba0e5a7e3ea5e4eac18bb10bad05220bcce6359e19a4fdc46e05678708941fa9dd61f2c6725e76ba8bdad6e661e5cefdfe4f8ebca89ee3ad8e322bf7aaa0afdc82ae12bf216ea21a5bce182af3bd203a49a3a4952320966387a68f7c538fa8f6415cee4ee4506b90b75d4c1eabee105259683d95d9fbe0c4249a66d3f48da142bfaffd99683eb40b7d2c9571d60ed478ca8f35cec286a0a4fafc9e708b9dcfe369844608cfcc7d6a7bda3de3e0b6b2322bd47c9d578d73c2893089f4393b9d3708e832830ce1e759d3f5597a776f929eaab8a4435ee7635dc37419fd83c0b58adafd14bedee4a4d1e91dab81a31963f2a887a30c1eec26e28c1d3b866a769327db97997d73c43c696a8311ffb0be1317eb6e056050e66d0988bcbbfd8a2b8e79d7d34ac169fb3c24ed6e4c594ca7891c77dcd559997c5ca97ee7bdfd21eaae0cd6c3ba525178ef6793614457a2ac1907ca2d2b3531bcca0b318224da370500485c065b9191774db9365dd558e20d469b483c86f8c2a7773daaa3e4e6d3a0f7cc4d7c97d72bbb8d00f86dbb23e1a4dbbd17d59a427cf59efe69b037f7ba023357403cc000366ae83dbb2ea38befdbfe51d97945fb70f8c0c8b1ffef8f72a38b395e56df38fae7b5fd2b8f340a61bc4f424c76bb21aebda00fbdbc2d689029fd20a9f31d0814669f30cc5efa13e2499d1db18bfd81b7fc8b0ac6ee8d7ebf8741026441ed5d7772c0b5c71d3fde763b9f3ed4e4a28bf9402a1e6b66cbb4f6deb2922ba9763cdc2b27eb266438a96f6084d2c0b76b7612bca6c1ec0156039ede5428a9cb17750ad49c1f7c9ceb16a2fd0429796224113cd88f92400cbbc91e529411f58b93288453583e89d3bb507599e39635fedc758be43c34fee7ff95686c1da2a7c81a43f2ce2b66fe40cfe45d323387d53a607dccaeeaca945f22d6e1a12982d78518909bef60a322538ad868f25f290f1eeb2564f9d89fa3ed552cab683fa61d789176c32318a702a3a93427bd3f98f37b068650e629c2d259ca63ec1b54c212bc56163eed2ce4467724bcd3e589044b58d0dfc5a0bb6f3dabeb2a60028a12a7dc5a5c63498848d4b0d6f1ea577cf1eb039f1378151d5d793b6d4614bd7cedca94ec14015dd484607a55c0e02345588ee77224aeae5c5718cf430d7873ba4b757d870ee52c760faa4f65d1d818e06019ea74e4d92b46b054708e3ce307eede8a3478de9b741db768705a7f911be693fabfb0fa0e68eb398efbf49f55619eb0caefe4992f62ae0a2264e340c85dfef88871b2bec2858d98c35d3aed19a70cbf51257a940a62c4df589143b85c2a5688745146c81ac6ed5c854e1a84ec0d4bfa3f28a10e5675f6a668e61438455c47b7414c75e894bbd0ee26839f1f469cbbb83a16825810f1cb8bcf1e391183621b303d9ff680c5ce6018238d52372b52b20ffbe7ab9d92e1050fb5d556d9a63bbbb56b0f329754d05e7983bcfbd9a3863616a1a39a509ffbf20c6e7fa6d814e2d2bb683ce866b69edb2e6898cea784a34e38fb312c41d3fc2a4b4c18ae4cd6dc333eb905b880bf4decbe8f875502f3ab17ffa954eef67a97077c16c5afe6e071820abc4d99e2213f5d518852486e401d223bf65e0ba461f99037f62199064ef8e1c192a1ef07ebfde35bf6f4edc2a299893aafb21e58cc5cb09ba5965dee888d8e65d6270f746ef457de779817bc3e2b613307fd45f49f91cbe8f8aba59b99c5cf196cbfe0bcf054eba53ad60306f5285b46fc280723e12ad82fa937f34a7938281b1d405f33be290ef70723d18376dac13cc18ed55b4a9aa9c5b15e236f033bad13c82d6e18fc57d840ce0e5d7170fdd66e3039166a0f8d214d9b050e3424439ac5af04b399a06df8cde802683ffcd8e24880f05bf9b54c347cd3bc6eae772a6707fb444dcc826890f7db1868de65f541579c711a41bf56eb73cbceb8b21108bc8b8fb37d6456f35fe10b3eae11c3c8363a632758d242f30d469183a1284318fea03f14186ffe98ac84e4f2fa5deab7a9ff598b13246cf776ab5104b44bdd3559159cfb514c98326c7fbac0a838223c990cfc8436dd47176e737cc3f73ef4a677b6482b4595cd74d8af4ed0e9e1644c7876d3ee7852d563094ef7af0628c59400b02d13ae5c70c601a54cc0a01da91745a6fc06ae066cc9c1efbe7e8daa8e036c1704955d83a35a89ae2919a03190143522728f88609ae382fdf517e1b6e905b164852c4b8b809e67e6c09031789fec7c8d56500bd8cc29c7758e8948f6750fa2f9e2fa38c7569d538fd171a20f54b43b470350619e9c322f0e61e30ed7ea0fa9a91f4acb8d8858d9d9b3e4db51b7f6a44acc3a3d015549b057dc5f1bc99c2d9e6056490b957d6a03514f3507deaa162f3a88b2c0b793b88f84e5339303655d3340cc44e059c2efb9fb3e22d60d94eb99ce700b4c0954e64a23167e0a1ff9831c9a0fcea077e0c8d6d7046b541e87ec2f8f1e74b11037edb21d88fbbba6bddc0a49848fa24dbda2cb811ddea76b5b49060b83c0b1b1e032bb73911a3eee3d5498542c302659bf0660cc8e2da8174297a2e67298f5007dceeea3f1a8bd7fe416a631f4ae0e19877e77819670262b3be8d72955b33f312a3f1c79d218c3a47c216ecb0952bd1cf06de2dabd7ffdb1c63dba487e2606cf0311997f68d79c5df3cbc86818fead8f3a42a6bb7fffabc089a26288e279ee62e46698d95b51c1a22986c8f10d89e7e15eeecef80b0c742aee58ef84f7ab87b071b9f26a8761a66baf4b537b3ec50dd628642929e18c6df12045540af7392ab20d2d3bda8e887b05d66fc6651bf9ba39dc6cc338c224455819aaf37551fc374219407720eab8dab72f674e656a50659195b28e567675fc7440186701d6228ce88c33b7f8d2569db2b5efb76a6860b7f8d28a8b67ad6adb32a0f3c88b4567a6ccaeedcf7fa01501897032aa492d7bf0ada97c7705946865f73ad8f0be02c27172a8b00e6502f271457262284bfedc6af33630e3c8315bf51320af70314d3e71693e5f11876eb0584e26a84b442f918e46859c367ea9ceaf7738be9eb916ce10524dcde0143f47f06a08542ee6ce2aa83712c7aaba2421cef95074e0de56f7f22a6b94ef9e0a76c6faad20be01b9a8ada75c3292a876efa21a3d589a64f5a6a3c9c0afc3670623d850bf147417b335be809f3cc02764af105a641ba8b76a3302d2de6958a4a886bbf8f579d72016d16cf8b563927bc86aef8b7156ecac906e410cf89aa03b50b9c643ec8ab052d443899b6cec0ab8f4a68a5d2fea0d97124d1e73fe818e3a326db68859d83f8d08fef8ebb257d0458ec1dbf10232393122147cd7dcb25cb0b7e7bbfaff0ea5e3d90c99e2c24da7dc399e8c25b76973317aab0eae779fc5661ce8b7c9c3c7d3e2e00144dcb3fad606d9cea6b0d2d3610af97410f82e4acb39b836380aa55562882e63c5e852b5012d923cff834ee52ce514fb1a2a4d292630dd2f3ac5898be380baee75aed212d2254d5da8a31837d3594608026a09d342e3013a4cf9dbf2d844ee196821e8138ec68f81de0eab682855e98843dcd800da514579dd874dfaa94765383ff551726d9c72c62056da6c40303d92a98e97d07c2cc4a8238f6d71c7cdd479c6ac8512925e9b9f9d17b7ed76e6ac80eba2a42ee964d5486bad9ed5a42037620e8c417ad30724d922320096d75c521c6c188e12ce9b13936f937448cac6657cdab059a23ffe6f082a47b59d4c42dd8ae4278ff9bd210a2404043adf5e632c74a2b94052fd0fbddaefa0c4bc04d5bf949b192a1d06dc935d56ee4b0930d016e8583302065da2cf4cb28a568c95071871be3dcd4fa4b078f139cc43a9086ff156a69fdd0eef237e7bf70b778dc9fe847c1a6065b2c2dad8b17571e27e3ef2409c3d5e7b768cf9b197dce531423b7f5493a427387c7f6162b9e6a4679adb48137b365eec29dbd18081d8eb1a0559dfb973674ae6cfb128efe6889b4e5590b72899d7d4d005b7fa58ffab568cfa6e9f758bfdcbf47c03fd878732e8816b77497f9661fd37057f6d15854d83d0b6b1ad55c37124f43382f652f3f9671f58d4a3a000739f3d0db2f42132fe7f3ebe9243e1e6d234118cb3f71f47bf16984c6d2d6682c487419dea9f108d3255fef151befdb51084f256e2098f0523e45df58caacdadc75859fb189a3c6bf467f05a280a8605cc654011b570691548fa235027b60e3093159ead08f5a53050c3c5f4102f4ae070569b22432d7d25794a9870c061bcab7d9a4acf5ba5ca581b58717070b66ce9e6cd133975c0e9858741e4037ba714d02ed17b0889fc0a32acf2bdd940d8497966548504f8c2e4117b5a61db716d09c9a35cedc79b2beb0104b75a4655fed862c61d3c8288ba7010efbb5c964c9ec4c4682a7b4477a0547518b811d272a556f9fc1f6d2c7d3d10fd80fffbd888b52f9c3b37cbf84cc158dd6f12f11f08c77aaefc216c7af7c7f21c7448b6659f89b26aa2db3399dc880f59f41ab793c2651958c45e3ee48cb28f3216bc482fab12b19e50f12244d6f9237538514cec0c7fd68b2ebed5c3dbbb240418943ad25228bb1d5364615793b0073fe6c3b1b3a2d6e2669947a5677f64becc8c8becee969ca63d358b3bd875b420f6b4db049f04bcf762c5221fb61c09280fbfe91b843046226b1380242f943f150b86c04336fc2149a96c41f6cdd6d308f792d867a8774d4d502b9cb63057b547cffea0526856df7a0509c55558a31f7956ba49a4a55960138eb9aa3a41e53aef47cfe36b8e3976f02ac7cdba2b8129580babc8524a3371e5642453ad608caed7ad046ba1eeb8a298a9f071950e087bac78f6c873939e5d7276baf0494a2eb93733d4757d0f8738bd54914b2b86a8e6fbce6745d636b8f7579532466ee68891439e10dd1683ccc95c53328c8c763d805c8414d1341577266a7e839aac500636399f5808f528818e39465eb83dc5260bcc72593b8d91568280cced96736e37eddcebc11110daf24aa99923c9fd3ffd1095ab1a1860ddeb3dea9dd2fb9cce454a9a762b84930dbd28c7da98c2357d470ded91d8fcc67578a331650096be1f223d2221e9349d38a54a7dc2349a8e5a1636e9c08665ca71442ea54e712962fd31379166ad5a0f1f42c3e843a0c3ab432390e5daecfdcdae9e58baa5dad047172539dd22507b3dee940d94330ddadfd2304b647449ab8eca93a0f52d3c76cee9ba9a888a5da888a4aedb14d69d6432d7bec4444a6880e6fbda3b522ecb6499b3ab6357855934aa463da8dfc1338f018acf9c4c628e0792410e4ccc8690b229801ad4d6a89ddf4da0b436601e6d366374f7ffe1b132990ecbd6036a7c984e03ca472f9ea9a8b518327ba666d64884d0be58869131a5c4d017607f6464d15f17761123be3c4b208467d6e2366c41d1566d6d85ce7fced44cafa9eeb860cf66e7fb14774bce0a8485ad39260a8fa75dc238b063b9464d2c4b942d7f449e699f6d20625b09afc93299731ba1a7387df029f3d12ff1d8c639cb502f6274e4791fdaa5c49165ee9005d692d9c6a97ca80526e3a70af784852db0276e5595f1d56e16c68c23b916db3e84b3444b155dcffb0faca3775a1ec4f04a6ee6690f9ac33e96501dee101a0f72b8846391568577d4ab8c34dde23a0d77d41d41b6b0b4aad841119ac978ef694d59956ba223e9ae8a4930b50d7a37f3b7b28bd780ac44c6942c93d17a468f7840ac39953cd52962b33d1c3daebd6c11cf6c59b22132ed3def50b82b2c1e8d09b9050d159df4842a0a83eefd6c92c117c0e1e80a898eddeba3b5ae3e573de617904b8a9a81da5fccc0a9b1d6c9bc39eff6a8fdf8b7a4fc105ebdac1231f894577f19d9ab3d7b40604d92aa22cbccdc011331684ba30734d2844b2c9e17196d8b642ae01492459524f155491ac3bfeca11f1c2b3922b55f22438349de5169d6d36d75613e785ad576c3fc9bfd843fda18cf0858823caf2c3dca62171fb4b8bb7310d5f117f88a646101eed8e7cfaaaa5c65a2a17b03874b1d1eb8b2a5b3c25c4fe446204029b2c860895c05879758a152f9ecbaaeb553d334151805634062192b67641cabd0bd78b113e369120c0485f99bdc0a4945891bd5ce79c9a0afaf0b56ba10acfabdb059a67a38e8b363d969d64ee91c65f2c7e4e21a2c0f3146719142498e16e90dadec02851baabd4377e819ac5e9f6e79ea82733d4db845a186eeaa0e948d854fe331eebdbfdb28ebd87ed2d8c1ef0594231e8fe87e6a228862c7e89a019ef64341c46786374a59bed72ead296e1f053a44243c397c6de556a6f2bdb681176ec9bb021940787b42ce4832d27d938debb47ebef6fd6fbb572462dbd946a5d465a5b057472426ab8e60abe866017dfff811c515db6128394eb265c50d6edfeb321fb72b193577bfcc6bc14f01b3868b95cb9cc65956af87750a2e0f15d91e46481da5704f5e7010bb3dc4562a9763075587b960027aebc05da27e6ba0bcb3f97ec1490ff3fc7088f73fbfb0a7f77b804b44ad7b4d451ad62aea21058f70d554468e251b5c79955e78151f217b298a407c172308f21b247b025948109f199448a86921f01d3d8ee17fcc09a70d42b96500bdf2e298af1635d44c6674d4f6238497f0b3c70cf0e2073121cffb867ad101162e6ec0b6d2256201481a24ffaf2b3fe4386371024757766aa020b1b4bb94acfe8abc13273c394db907105dec7a4fac4689fbbed6e3cb1e5230729b0ca5a28fba4eeff58520d7ca22fb0ca56727abee650cf9ac465a1edc494b4c9ba20575d9350182962a920df4793ef9f6af13237fad89de93b68fc5f6bbb71a0094f9a8a73970e53f45ebd283f13ce6face6a95e722afb56f12ef26d0d96125cb759b4cf72cc22058bc3f58b5ba7cda7114eea6ddf50060df764bea8137438ec4b92857343311a1553d470d96791019a178b8afb8450c8f204ed773ee085e5f0b4f4ec200af3c08c96dd94a2108c8266333d29cd0f4a4e67cf656145bda62576c0dd974c7d61bccc188d29b6b007df898a1df93bdea545f38e12d5977a391f5711468ca587d1a2e6300fec37c7ba75aaa2b3aaff1290bbfd13ca48c1b7b80cd4fd37a247241e491895195b65a0b9207145d1c6c81194bc52d4e5e213e4e4f72b7687c6c71925c3e16c3f5d84394a2b003d14fbc2c377a741e9084fca1a4f6ebf3e2f5e3313600d97fc500bf3b3e932719ad8eaf0930b879d75aad85934ad0cb8528dd7a90ae87cf4712acb496ebe3e592c4c48d293964b596196cfebac191746c07a7d50b2c530a3e0ec622a34acce2c2558a9614960896ef23bb67f7715fe2b2e225e7a8ff06d57040b5a579cb01b53e0762164f2b567bb43fb287bc4b43fc47fad6109d10028639db29fab0b7e8ab4fbf2927d5a2a826804a6e7d85b0599705cb8a2ca26c8ce298af6db11b51ba438ca695e26d8ea0ddf580af4f040692bd0c6054e66b682f3d751955e79389cdc12c153665879cf352f11752bd21f040b44580cff890f1cc5944b5642dddb70b06a2bb8fe321a12b9f0ee3378e78f7640aa0b8ceed8008bf0f18eea7190839bac4a22adb813e0beeb0e815cd2c49071f6870193779a1470b38e5a7cf46fd776d80f15e63a165e30c0442aa24e4fcfa1204b91ec509c85319a3d5edea0b7d1e9f61af75f414c6c1366a771c96d20061beb102697defb909abae4612e2cfa215396b634966d25f56a97dbb619ed0f7e0b8f6713c8934704f2cfccd8dcae3cf78a7dc1081283e188beeed259a303b74a7228e216de90dc493ad18ba2b6efb5acd1ab874b2c68d489b452f13c5744a23baf0171f585cdcbd612055a3a8f40ff69d2a7d15e5a5c0229334bb6d35cad5226e6f9e5e042f771aa9e554a3ea855a99b3be260c4b0074cfb6400d8d7ca06e2f2d2b2c44418c48d4aa289e3246af788a3624bda8b7f48296a92d308d8326b25ffb761fea6feaf2205d4289ef020a1c275264f9df0ea02f36194c403297dea96b55a38512b55645e316a6532b3b1705a1805bd89d7b25750f1c6507474e4668dae3e6317c538a5a8ace7862867bf085ab24c20d7e2435888e34f78119f3884b43cb0f93caa40de37b6f490facf3eef34d18013e45fb4504f946dc459d2e351ac5add42096a9855a84dde58003da437afb2a4fcdfc83a0f3b4e8ec754de702416b3f30c845ea72ea3d798a02cd3d381b054c6db40d68c4921959aabd213024ff5388524e62e61ebbbf68f5d7b52bf69c76b070f80c47cd684b997591f85a2d84ed0fadc1d7ce1bb7a81792962e48c7b927dc7ef92adee0e1f4d37ecfcbbee3f7a09459076ff8e2b6bea200729f4f7ea0c6c3b2c3e57c1497effa174c6b4c522c721ade1f2bfad58bf6d4dad794539a91a8cf567aab45983f74f6baa46dba3e7bb04b6f9c9c9185ffad6abe7272e43de91056272c0cdd279a04e9fb6a989b06b59e5e6bd27a933a5260b966e5e0c0f1006e3ac4aff9dde0339b315d5c5aee843accf9147d1be5964a0fa23117187f0aae786da5d26988c6729a27c7fdecb7a080b30ca72fa0ffabacbb6fde94946a56fa8e534dba265bdb6798e13d985e368c30d0d0b76f50cde4c5e3ff5f5f78ba790df763443c44b9a2c89f810874a2b471486d605a91b7fb5f10c8ca300cb197b336b21ea6fe64d72385a26a586a91dbb8a7a164acf6f999a2e80db53c7d411f8c4e89e73913c603fd98c298c7b27afe1e9c8adb05f41592983ce6e7126117ed04533e897c4657d0d39cf35e92255b775400028428ee8a905c26b07e164bc5270ba4a1c338d8ec03aab18378a047b0848541a3b20b12f890e0000a377e480212477ab5d4b1022e4a3c40bab813f2df29d58c8a3d891e1aae992436910b3fd128334d98d28f79ef8d1795472ae3fc7260594ee592443b3abcee2fb72bdb9d5e99de4a43dd15b3b82ac92118bbbab5207ea4dcfc5833a89dd0dad27f9dbb524a69a771012abdc75f4ce2a9e029347607b6d42f858445b8662987fc21f4df2a9b97546bc19f2d31deaf990f9c821343fbd3ec3749b8bd0f663ad2b7389c3b0abb94cc3957bc70fb2482eeceab8d065d9913ab31c74b432396632a1d05bef11f47e79c352f311128b59b4cc2f1d2c74f8f6b0a784a8566a90629b4942ce121d68a812845a920a434d205de89ac39d414038f86f25ef0be828b59253ae83dca1b19d85b81e23d623689e6228ac668c5e69f505fd68b6e48d0e812eaca8854f1d72db8d96764de05f13af03e3e5448a58c98d3292d941a9ead4c1d96bd22ec1f07a5f63aae1d2357fac4024234d5b9fbf7bd4267c96559d039f8deaea5b3ddb68d34c4e132f5f48c0666162ea6f1c1f0398d8f720e71d20707b9dfaa2cf1ab1f777bf866f1faebe06375b8134683cff3594a44e1d301286f85194449b0a77dc1b5ddb95cb52b7f8faeaab4a31c3fd1a9f1fb1adfcad1849972559e763352fe93bd635b24f89484501910fffb5c0a0ce2963f0200675337f6671ae09f52374af8256e509d19cf7fb71d3a6cd2668d535721e2f5198f3ae40a7da32c1f4b117b3001abd1f8b9058d85eac2068c7284871412f60a703f0a5432e40e9ad7aeeff9f0ab46266b6f4fbf76c96fd479c11941aa469878564aaa5089712ababbe0cbb9158033578913bc33bb480499e6233b73e447ee7136f9c2d39689e6bd2bbca67e50d208dce1e20949a3201b3285b4fe55b3a702e3f9fb09bd08edfb47d1ba1726dffb68399fdc2aaaa9aa99dab2844908c9518b798ddf3eb11c076e49ab2fc47c9fc38989329c694a3b936c6f9779f0af7e0786002ff5b158c0e35b0dff6c84422ba9444102139a057d89094a4902ef87813a3462fdb59a1d288d8e17d4583dba62a046e921ced4864f2a1a6b847fbdcdf6df18929388783b5197ea525681dd047faa99350bf9f331b7522dd15b514a182b2312fbeec89b8d76b28d4907969d3321d4890a63498528b2da56a310ab07e567f41e93c5d1d82b8fd8ce1382e367576ef867c85ee70954cf9370e8591f04684fa42a42ab03268d2d540f52134aeaa75ad35f29d2867be63d2e00119aa0705e02ed6ffd224dc4dc99f9df063432e54af0a9ad3307fda63d7544e7e70a81c012f28404d633d60298e3570f1e4f4a1ee457f6fc9315e64ce9a1ea9834ddab64bf2e6591829949338a3033eeca08589d28d188628e3c52b5a7f10fced7818ff53ea21194605a9823db588d7a21ba8bd07bac56ed79602498cb1056b25bb9b662b8c12f110b2eaeafdf95ab2034690f22d55aeba711b33ec0ac27c4a62cbaff62137ec181826fe22c37409f1470cf2b681863e22bbb44f5eca642285c15e46aaea00f6bcb722e6eb10c6a69bab4ac4bec8a91435ff771cb68d1168a641ab79d2eb891b150bc30bf96fbe1c4d1aa5a2db08c0ecad6addf0a4d992b6af4b5b48000a073d4d719eff7bf25ce9971d0f158642a757fc0e1a158c8b2bfc688fbc7be6c6a9eeb16dfd3c2d377b526f99441cb2d40fc94ee7fa2791708c5d34ac2a2b42c26c2fd22a67795ec77ab9acf534658d7bea78c6f1ce75e0173bb306ed3cdb0e361f6204e4fcdf6e00d7a7f9563db077c1e2c00f07fe5201e3f01dbe5e88b8ba16843b9c2838f02df7314d91885d8b890015059a19f5d0d7b122c0aa08d685ad9daa899986260e9e39cdb13e6a6623709fe1caa831e8facda67a05a6be00afaa9ae4998138ec4885d6ddcafe186842f7bdb96e9d92c7ffd3f29e8752122e89777d497d6ed9524bc0e0a8ec5c44bff46f1da23627131d119f01a76adf6f6f2f59b2dc2339ac14a9ac37bed1ce83e45d20e6ce03aca9cc3b866e22e067fa3093c0f7ed0dfa5d729022808cdbf84c983dea897fa174eb2e2d96ca1583978b508b67d6d618f9479b99aa9c260aa59cb71949ff06394d4c422374ce2d8e5cf8f321e794f78e10093a9bf626727b212a8c3cb8c29007b7181402d0541fc2970f04cbc2ab26fc5d24bc50be104bd9b926ef21e628f19a49a9f43ce29071d1d8b374c063d0405f34eb64d4d4b5a5e25e2fb3d6dcd6e2a8c6690405ee9ab5969479c62b9cc9c30ad160ded6384c63b1acf16096e23a0b3fa2ce9dc4fb0c5af2c9f6a9b90f4568f5e2fca667e01b3c01f2ae52cf82590130d2118fef5025b0c37c8bdf23a05aa278c5eba3039ab9d2e5942584d4f2c9a7175778f7090d1d75a0f2db2d36e16911cbc7b6cd1e0aa1fba0254ae0b8fc986f18d7a256d9786867f379d5f3a364ddfb61230a068dbc3a5260c51236fba299b9ba4047eb88427e578eb30a5cbaeab1af3696bc58750f39381760a5696d4b2855df999340379dc007bf114f6e4b05cc90933bc98a2ddefa0b8e832387584e64b51def354b61daad14e67d9b2a6f3c09febef92775c0829335f67b9b3cca1e1b5b2ffa14e7cbd48fb77d44873bfb5089eea81a0e345e3b7e36d71c83eff70d688834379fb5a0e68c1887d96301c4ad70a71af75264a704ead1094f761cd09f5b23388499afa6bdfb3f7239e1ac00f2aab70b5ee4e94a52192e4eb472216ab1653d00b320034a9e7a44d3154997fb33c36f2c04dbe6b34e40f11e94b7779c4839f618c972865a38530643cdad4396a93282fdc8ab09a58e4bbf3b66eafaef1d19566f115bfe4248e5ebaeaa33a47a95b21ea1f8430345a86d402b1d794e196b777c33dc391d2ad431a132934ea39c15fce13a64cbe0031eb3b339c093a79bbea42739715c97295a2f275cb6a5683ce81523811449e08ba3eb37d1ba1524cc12b9c3300fea9fe948488e1f6793016fb2a451d3e73437ae61aee3cb42e64aa16ab260ba7e7dd874c1ea3ed9ca47f709e37e84fc16c7f98d15e448bea9f30ca09ee6d3f2b032ddf1fd3b83cce01656b6927b9ccd2d14d83c5469824d34eb631a884a0643d62d962fc34c5ff78be63f35981c0ebc8e8facbc712d2be1216401e80bdfddc8bf6798dd88832e2cd52eb137da4a86224fbde1bd374bc5c39d41d25db7b8c00fb738edb3ae9062342df2d05762208bc4a942e203cdc106513c0892f7bd328ccc98336f3e8c2fa65e22ae85f8da2127dfdcc77eba054f8823b9ce19938f20f9e7b7906da4f656d415ac659d97fa17e52121fe5a6a580696936588f9619383c63c57d7333dc4b488870b32c4be02425f057758b344d9951af5c2ceea8d937098d8e3530e7d82b70ea6b3cef9a25df688c0a70cfe1dcc3aa624d076f007aeffd72eaebe95629c3b03b2b526045b37710ea9a3e91b45ca6dab96cbdbc87156c9633e342e8fa24c33b3eaedbfe4035420e5a60f24fa934282d31b4afb135743ff160e724eb88cc81bdefaa1d195111c17fed415f6f86b9d8125cea954ab049eb86cf13c1f97b6cd1deb9171d44ebab9c696d0f3e3a11343522d048d57de4256603ac156ee160a87d41366c2bceffe9931938a6cd36621df9468e841c550e481ff8bf7517f9e30fdf3bb0ee99b228d32d0e8b4aa775be0b20d630fa938dea08804c855d2cd7e2301ed6aaa1ed20dac288c5bc6ebfcef2ed09ab88c3e0268b1e4889c0b1d84cf1723eed7cee898d5e682ae5e55709a7561fb39c403f58944c577e7761e58ba3adb0e04022e58ec16708ee55d705b5d82cc96ca18aec7b04ab021873becedf7d193b53ff85574d38a6c28783808c9f709d588b267fff4ee41da575c2cf47e675850549e0197773e53d49f2e1d0e4bcb1b1a3299611f10197c59e0dcf776aeca2b8ca4d03aa7a6719190493bd8bd13eeb54a327008d87f56f1e28a079c3ce84f1f83c0b1b676c90b0ab051105583d48f7e9efcca86141ebbc1c0f8ca155deb0790c0cd40dc5acafcba4a4fa395d025f493f9bf284f4e569c914ef0b3299e3565439eda6891c185e83069012117d527a2ccd964ceba87e1f342e19f7631f5fe7ecff2d397f5af7bb0a7a1c9cc5fd85cf13ffecef4d6e51817392ac25b82d8aa7c8303757a374213900c0d3acbe71bf010c8eeda237bcad7bd2017377e11e63fa4e06bf7c00d9481c743ae0c967e4a69bff71a1125de466cdba6cab9c08c2c62f07bf694f39199af134e538713857d7d789857fe69432a0a418a96605891809a500204bdd3c575cf3e9cb43a02f9d8fe1606b692c97220efdebaed43e8873d6bc9256786bcd022dee8f42ce9ca5f7a59abd559d7297f9c5f4e70847eb308e614a0d00dcadbdb21a7aaa91023b4dff47eb95659ffc6af4a1163b2b13eca3fd7a30d72733c9c12f1680cce608afdefc9d4228c425cbbfa3a0e83594b71d34a26468852985f97099bb6718f43c8d9d23da6a48858988c98c14e23d2e83d988bd9fd696ac413648b011750b9d4ac8e66064428743b0f86e08cd50b6f4a5bde43a55b43f38d21953295f1a749dbc207eafbeecd6e9177fb3286c4fe6cb7d0882dc43abcc4661d0ec4f5f9a0b5e627db7e6506dc0bd422d09277176612dcd70bb985aaa8911c87e380cc86517162dd45132cf840f91e92f2549054c63688b4bdb05117abdd97408bf0eddb1bbc6a342ea5127bb2a985f2d5fe7d981fd28673e02287171af8b3929ac8761357438de0272c67d93d3977dfe35ecea876339359f1e7454c78ddf235bb8eefcef349c5f5db66d1002a9b5af8f4bc20f74a042558f2ab3b78f5e9cc1be4395e9c508e439ecd487cd20f3abacb5eeece9fab2e503d528ad63b641c497801500788f2f06d4ecde7963c371fe6a9456544cd827ce157cd3ea4ca2a91fd581a9accf83ec4a486fb36ce53bf52873d6aee978ea60a2ac2ed4a72edf77ac8cf91fc5785bc2374603326542854db4e481a51dedea754fbab7cebe48c82546ba30185a4983ede06d5ac7b0eda70fa2548830949afe846e353d50e38fc20be7524077fc8be82cf1aa8f464aaf71664fb4023662950d726cbd13752163ded16ac8ff1e5cfef80823f6d6021189f458f55c995048f25d8cd2b043b83fe73c3e8783cdd2d1ecc6808d41ee83e1c41a45681e3ba3be5670f6c17bfc284c0c4c020cd68f17448505f46307d42d70923182cc274fd60b99637ad47ce0d5514b1925796be3bacdfdae25f60920a6e3d15212b2e81e9e6ca456670b5c6d117bac61ae6be3bd8827cc25534008e802575669d02eed9f1e5b0a44bce1ed72a46e2ac7e75a66092d240813931dd7a08d49e1f94ea7b8bbd3a8e2bb1d56e4602db08271d3a97ddf4543d1de4684ab66dc56caf607f88a8d6426626633ab33c38613209f1756976ba1ec7a8e4b1629e50e3ab8c549d966466d7d90c02cd5b3429c787f16ed8de3a6ba392d239207ff0d7de2af6c300db5d5f7f37a34bc2086b5421c8812ce3dc749a136ea55e3fda79285a9f246cb3af95fdf1a7777bd71788f90f82320f9617a20d762c74a3fa9453575efe96d7918e80be8dbd856aa26f086040a258703e245f68838050cdb10a276b9791a64b2ae322087d7b8a22d96b81c3207cdd15b8953f96c10ab77d00624db8a3b691a036e2d7d98f1131818b0dd18d067e896e9b144b44f7fe60ee2b6db5ee716ee8e174513cf8eac83c2ed9b24ddd731ae4484d81c3e9e7fa16462af9a1c704b477812423b42ea3c3a51d1d219f4f2a3fa79e9b6a6fa6b105215773d405243cf74f912a94eddb0f031aca41b8126e96830d005f98fa99df233c6334769528652b9d8213245320ae28035843be89264d14e3faffb2ce674adfe002fa53892f45b132a553891cf1b4dc2b0f1fe39266fbcda42ac1c6c1f1daa8ff0f6b6852b1582a1bee3e06e5883345b864cc759a0147af7faef28aaa1d80f2ab424da8b12ca6038119c142a9b7a5e82f4d87870bef1cb68ab5179e01cb4d35068fd2b70b885bc1a9d6a1fa45c35071de9991bb1a7d32782de6fd53f953ad6d1d81581f7f2d21f465282521b800a80dfd8ee8f68cbe158be9e4c25acf1848d3f675b608b1d4399d6a33c9b640a82e89072bc8863b2946c14b9c8f28cfc8c8f1491c97a0cecf27fcd704b1d6c8307c837f5d7fce6fdd3a329ba7b1907d9f0c04a8c9c3b7c7f9f31f491e68e7ba344cd2d3c20ba85e4ab5a255e8ed5edf2e5c83567383e6269bea78675df81a5de0ae4adc2540a24e7101380f6759fd72843b3c4143ed79fecc4985dfef19bf6b5f6e80e0a6a2ad32ed2c4711f2362132e9219b75fa2ce3cd274f11f34205bbfa3d2bedff96283ecfdc29bd0d0fe46fbfb42451b0fd55209c2476918fbc5ad8ab7a28e0223b362300a202290682fd396295fc1df41bf5b81d7454be6c798ec69b747ae825ea9a29bfcf54ecbf34b9dc972d618e19321a8157931835be111bdc47df847773d1db86a7aad7fd4bb4d8085d116cd8dbda4e5deff3a6417d26f8d1a3661e2c41d612b839fc4164a38b2bb20fe3272af1dee413cb704cb9acf2cdb3bad6f45d85d2f953a811bbf2e4854aecc515a18be8ae2db71c2b151272d698036aa1d0d9e8e49e86991b2f94d10e451f25736488eeb684e0d2b01fab16459b3f41bacdde4409655ff9aabaf75b9cfcd7dd3c5f76ff18f66ae0c78546532","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
