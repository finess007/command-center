<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1fded3c4d416998c716ca0a656d606cda275366ee068a05232d5c627410b4b93ec0ddd5516e0be4cc9719a3c1c7ba8c9c1326953a4f74132526bf417b78d232e57803c5f8a6ecd8a6c0065243447d04d8d480d7e8867571b9c54271993db13c54157751a55f0d2a54bf9142efe77dcad671cd9e21619764b7ad1a482e69bf0f8a95e3af9f2261fec0e32e8fca940457eb50d5a480b3e54eb5f065ef4fe497bcd682170dd1ef490ed1156cb099f4e864d151758ebf43482f25912b77c89bcf8986a6d3fe67e7be99e8a272304613d585163d5abb0f62f4dde69a2a5190e50b8f6b972866361189fa5608b328687d9bc819bd28f9eb53b51d849f0fdcaae0f232ea5c4eb62696eecb0a67f30f41696e628a568256a9ced6b5b96b38ff169f7a0cdf49079fa0b21d83ed9119422a3ca5c41bb5b4e7b3d171a062b7ad0d439dce15f05b16c6a46b49ee82dabb1319d9593f3eae69634fad4d87d737886479b55fdba4f013d5b99160c2d706db1b81bd3f0766d337d7741cba074e21568c285a1fb3c57a0c380cbf40a5a12652614e5c66a7dc50be01e94418c4a3dd1bcc5d1a3a16f22677d8f6f00272749257992ae8e05a327662d826bb697b8e9762b5024a065b95a0c4744673b7874d1121622717aea32d7894430bc9e58d5156d8e041f3fba3b5ecc23b16cd0f1a19f08b4817bfab023808ef500c418662ac3d82bf91c9f8e9b69ef2b52ce85f8f0c91f8b86474cf9fc7de419a4d9107d8e910ed2f9c20e1b929f241dcb1e0d695d62077cd294fb558570c239c69f89df05a7e13d94a0bf662bca21d50cbc00410e69827fd61f7412587902260a09645f37a7d047ff69ae4e647d65d9ac7af6a91aa3712130c3301d062283a52cd30fdaae53c88ee3c54723dd31b2a4cb68287f63990a9bb913e6ef72e7b0ba6b1db88a2fc3c9a2e0e564e4d2309aaebb9b6d19b660c686e356b97b97e09dc373f1a8346ccdae18d092a6d1b0fedeb6cd15b0f3e34a7ca31ed63ee4de51d768d988c34e460931f6b3d41b05843574a8aa337747496b5eaf9a4991ac2aa92b3316a8da8228e37f6a565035bb3762b1167b4fdd69b69d13b86af1c09de81768ea2868b914678939609a03f0a40766cfc393d0573b8f54e263b1907e30abe67a7afa6c635a1abc3b2eff9a0f618b6470659bcde901b4e1c76fb462edef7d01487ba240b9618b1cb517fabb60f97dfb05dda019ecab65cfe6426ec5bd69707a32532f69a48e9eba632589967c8de859dc039a645efa6949c43e3124fce18302a3978a079b2d8d20027142ac03e9e5fd68c1aa8af2ad6ef8b3089ac808308badb0a584185f0f68380fed25d54f02b50c83d23e7d18ef932677ad185502aa6c8bc7ad08d2ffcc87a902607f6cd4157ceb5d50014a55ee74bfb8a6934c7ebcb851ea1a66cf02d8c33a7b3a21830e0519a68a436d5fd9ddb1f245865f93d27157259d2ff9d76950a0682d9acad2a9dac555b82cf2f46b373b6d75460f598338a48f53d3ee8ce13944565970471e482427d4df3ef42cdba591b1ef7f189a81c1cfd297aa384e0450f2990ef800a126cc8279e0ffac2487deecc5529a1e11cbbc4908aeeb02fd615325e8790cfae8a78cf5ca907c5a8946fc38f68393e29f06b5881dd9997f13d4243e811ce1576171087046837214811d3f9509d0d3d560c72f865332e66b765bb6035e481e53e0dbd1430e8e21863e30425fbc470f310cfc301de42e3a8acb13e65b53b3c36db6f5aa07a6c1b95e41801afe5c6a8c1388e21a32e430094a184f57de5680a259320ab2c27fdcb63539314cf59b88f5a736addcf59e92db6ae19e49ff16775b07c74d7a8d6a4017186a4664cba9b0e49049d74e5850e226131263988ac98ad78343b687aea860e31aa60d4203fa563404f16dfdaad443f370cc527d16e999eafeeb6d863758c4e7c75d8d2803b880f78b59140340ae4c55db3c7f76a0eed13fef863206fe3371952d48f2cade14daa3f7f296730da10bed418b15e41b4fb9f79de329ad5682e52ecc9ca49d0938ae29d801b7473ee6156da32d78c9fb3e3a7539552c45b8ef0c81f80cecbcd34e20d23799b32ca5d2a0801cf09f5339086d9217e96d72e30207d1707be9024cd09037d260bd66b6fe220f88cd9580b767b38db959946c72fa0b2bc8b7d6198cca59a10942356aebd9f1b27b8cc494d8b0d1065099ae803e11cafcd83e7881ce57ad611f73960badf5a93c639bc784022ecc52643218857c55d60db5cd22d8ab1e20be7f310c69c0d40672694de1238d587e1a5661991c9d09f778f8a942d575dfe8215805a6ccec3c3bb4317d608587f185b2756f4712e4cb776a008e4111642623f08038c69411f88e66d390515598b060b8dbcb1fe11752ab6c588822d97896b3a05230c85e6607d9f22b0b3d64e9b2b2a36cdddf0ad53a9a23f32510da7252d9e3eefbdb6ff573cbc429ecec616a92ac8b6117e535657557b5db02b3a41a00d446cd4fa57cacd0dde2aa6745636ad89713d1f2a0927ce2faf38004e66a4dcb56cacbdea59c25ec5fe81984e6ae04f9e08fb675e774bc6e0c3d102acf1cc6ebff1674da38be34d099213eb0ba3b8386132979d129c00d7b5a00b78a87a8d51b0d29cc4181290f494c08ae8475d7f82d400870f70dd414adf9c3528feda85357d2ec6ea0033012e42dae5f1592b5c271333d433b2aa283463625b5812cb35d32c4f742425bdb5200cec12baeb6a43272985fd33ace2996a0aae1c38dbdc9cae3369b9f43de8e3eded99baf8b58e67dc02cc9da591c32af0bddc3f00e221e609183d2446519d9c7c62176716c353b5e5391894e3074f40fce0c7b4ae544d17218c38f65889b92070097751ef485430f5128a981013f6f23b8118d8ca3e5ca92a518e4627b3d1ea7bbe1992d50139e630602b946eb7f7f82ccc17e1bc4dc3f37a964ad3e0edb7d5620a554a3e23f650156fd83e27b0d756947e8ce42fda624eed2789c031098046d31d82cddc2d707f43ce38cac982b50b93688308c756c7cfb44bc3574c407e91af008d4c691709d7855aba1191f8cac6d940b7b2de2ad11fecc7fc5fdba1b76bfc65dd741d82153dd479fea839f2ed82605affa0d6e5e3ecc59968931127a791894b4bdae5da0ff6038bc921d6ee3f36b4af5a2e0b7c586ba4846ae51892c3458bac3a76ca8caf9fa58c6d56e70e7a72676a923b75f11b4caaa8586d144e3836d47efc84388aa1cf1b27f46da7ef1beb2ef912a109f7dbd2a3c61ac4ad2863903fac002e0db7fdb5fb513f45054830a9414b39f2193ead9bf7351de73260934c5d7110d4838d064d5754da6260e33051299aa784da3fa50baf07ec9f301abdd809ce210b48460b475aad7e14882c821463a570964a17e20324512b6fbd78feb70790f904da6c9456a9f4f22549da30ee78c6c68f65dcd5cedd7e49a7aacf97f89e6dc4547df0b57df637fda4a567dbfd15a9df36db9fb9e64b62395fabe50be7ef9ebc57b94c21429d0643401ca047652ea7ecf3adc2ba59df3b042c4e6f165abfac04b752746b3b3d3fc76146c0a84c1bc17e8b74edeace47810e785870df6ad2ac4bd9c49a2c65fae2b591b2adbefe611a82c49d4c6b45086f9e93396fd2e859adc87ed1f77ada492fe82aa34d6384a2d816421a52530d136ab3f51ac088dce51429ee040ed046d9cac75fea0d097d0175287d19d82d65b01ea53d047d0bbd7d7a6bcec7838fe9359e9e2ff8acf115da5edde172b2c357f3f9a38455edeeff2c7527865bec572e6649012fd274f5bb114c70b94cc4f296b10d5639bd8e75a8237a9ad0d7ce1112a6082ee4b76b4b92578c5c94fc7bb2c040c12829b68dc1600a2b1fce5fa504da46bb5300901b3bd3b8795ad3cd40896b97c249f42d20b61852d3c4c5b08159d342361ed3554a9b6b90a677085dc761ac88fcb5916c693d4ed5dbaab49ed6d1e0878f79063b2bafc926bd9b919ec6966eaf6a9f1f3c812c1b3f432dd5e690f1afa2e178fa43675035bb713ef527ef24ccad15835a3c1574a3990dba913c90aea7213b51af77d41400c27f2f1aaf278dbe98c4f8a3bb3c766cb6207c2aa5fab1409242e5dc1a0cdf31df85edc2ac7d4586941bb9a040e7a99f7ab00fe5ab4938b3625f2e7378be7464beeed9e5a5daf0c2e6b83cc60b30ac840596fad31a13df3193d166f7bcf62c3c9cf6fca790b9563a6e63dcf5287d5be4ea9910dcb95d3701a76fe432d0fa2f4ce2fa4c7516ac7ae411a27995236aa43b40b00ec9a84c54da214ca17166911662e86c84afc8293915724ffb8db843b3145089a87e91efad785ec7d19b7f953284432543d836bba5056ab1734506a8c2e027efd3f5986d86fa8739ff784a0708adbc5aadebcf43c49d85053c565f698bac56502862394b92d3bf3acaf2103450007a39efb022b3f0777f5741956c4158f1c2fef1ae3e7f436fa855c19ade3cbffb59d384d98603ffc523476751195d1538507594234ad1a8eaa700d234f0a740eadf014b2299554703e20bf3d186bb3f80450d2598165198ee3c02959b0b56cb284ceb182b4eee710bbca86e0f70fbbaf2c07138630c4867a811d89529abd72173352649efd1d170c69099fc00f6dd1898f300310ba34c52d09ccb3c9e4de1b6d69e912925ef3b05838bf0434e50c9c78d1fc47d20a300b67d5937e9e3ee63e486628ed3e40cb9aef797e28275f46a8ac36f75b0113b6d712776851184e5566abcd1c6e3caed74eea64ba4127f576b197309edf9373f390ffac3f5feb8c1130cc77b4f312219d94d149520b86438b16036049690103fe2249665c7bdbbfdfa01af0ea3b589658228cd7ce3f8a16b4ba7d44c16b3c1e5af9d0f0c58c19be9f1070496d1e14863496cb62e2c3e1e709de486b0e5ef0d7ca0fdb5b514542177df037c863c1c2a758e7766292aa0e110a4b7d039567442613421a19fe250d61b19e349e2771f1a579571d600e1328077de8ace51efe1567b37119e1730452560d00ef408c155f2ce34e8e3fbf097513eb453bc939e5e11b2815f57aad8c54c0baaf6b443e4502a29a3ccfcaa0d22f3c39b007cfb2656ab45533e7f7320eef2f2e7d4c954a2680bc96c2635f25e815b7412aeab45d09e5201da25f04a1c05cf590ad055f4221bcf41735d1432d228f0050d03fc18c59adb131dc45b51fed5c4d80aff80fe9018a1f8de75c2b96f27d7650b9677af1cae6891f7d13a76f5ffb52cd96ade9e4a32c2475d5aa32522b96d4508ca10b5b09e7183c6641f0f664e43f6858de1e07432fa4db74a69087fea938bda08567e60df701049102d9960a5babdd0bc335d438d2c4a52dc6895ae9f70832f10422d46c9a18513a02388cceabbbe2fdf33fbd51eb9724dfe3077cd8efac5f4030e1d3f40eaf4b00d5fef284c8895c14af1089afdceb6002c731de5700230b2e9983c2b6251bcaacd782843a6715e3addff62a08edd7b195c9cd69a1b02b1f8c42cf92e94770d705b9bf7a1d753198ddca50a3da691bb70efdc5ad93e0630cb4ca87410f64822842f5faa430c2a38ab7bf02284150f66f01ca828cce8e58b813d4a79ea0ba32d096fef6b7a6cafb177bf7196c43f96b3d27c9757d277e760bac5e503d2301b21b3fa7a032c6c486de6fe5db6532641d3cc4475a87db33e938c47481d92c7e11e5fc6bf13047947abaaf31b8a9cf8f3c250c32daf303d2ca6c2541be5753d3413fd39164fea171c5e1b5e3124f28334c5e78a2ab5daf8e7c50213535891ef884b520117d58ee3e84dc0ca22b2f87bf8506979ab1276764bc5783b3fbf5dc789ad624bf2888393556a065207b67659cc097c763b5d8a54e4365d785cdcd1d6e658edbbd4f055798d7aaf5117b28da1f8dddbc0abb5b87294251b1b34c4a23fdcb7bc03e9b791afaa67f4bc2518b644212d18b3bd4626e3618a515738d8c1f56f540d7aba409787a7f2ebf01ac8ef09889b654ed6f7be976d9b6012a001b99b5912ad52a76127d85bb9e710cb10f387ff6e680d37184e785fb3a96fa22ca40f7c1e4afa75324f62cc0de93f7af822fce306f3f830527bda27143a979f63b6523eec6bfa3d7e466e0f6d90ba8b7a39bd441e951cffdfba08f04b5dc889c488197ed3a9c7b2ff398b350e4fb378ea5b2f3d0cccac9d5bede277acc57e1265917e7efba316c99b02bb663720b2cb7ade378a7e83d23a091ba9c68540ca77303ecac78e6631c8a3aab4b7b30d390a5c03f7e4823df95a09b0fe92eb19efbffaaad0dbcd75e75f03ff3ae383582e54230037d5e09b5ccae085695af5439a181aa8c227e4fac27be4f6f21116bd0b5c8b9121f500d0c74566f1f004dc40e38ef068a54a1ddc3157947586e1111b603bd8fdd6bfcb6e9229d74d747de7293408102f5662492944832c6bec519a428b65ca50d2d2f204ec5324f7f0b43dae0fdd8c0082598aded193c554017b627fb1edf0880b9e646cb1b3004a3f0d418c76c2e68bc13777064bff8cf10cc9b18314c14abedc4fc73023b91e32d2c57ca0fba743c7bbb0306e04fd82fff105cfa87a9ee815e5b802a06a8c6f7435599aeae07d6a01ba4ec83e68faa91aa87420d4ccac22f77bb0e068f92177a670754416b297a49a95e214b1ededa01cf427ee40e51232d8520e89467d143642c2c3782f8ce2671582000848f16763192510dab5d8dbd265377e311fcd831ab7c3b2adb2a76f0af9c6ad952461b1f9bfec4431b27cf73e44cfcd629a684ad9e61792e46f427fc1d149221408334e2ae18f3e1ce04cc4aaa7efc298558e01e16fd68daa925a25da636dd0b08f991dd6fba67c59e089d91b47a47ab9a80bef6fce1531510491ccf1c6467cc367d231bfcb4b51c31cfa9a5446dc20b0ef2e83ca9570c676778cca849d4f1afc243c5de8edfe4a0d1527d6a20f2556f5fbdb494b866de85a9de34cc9f6ebb04be694c700a65044b49cd5f48edba2e05886936a818e38285138f3beceaae1d8593ccbd50456d5cf047f89ea3847887ae7f294a3f5b6b34aade0ad7247894acdd46ecdffa1a40b30a0d20d5572a3fe77af00ee982cd618f70b90fd6987e3374e287ff343ecfd604fb1d7ac9ace38dd079420e890962c4e7715e1ad7354c6deae5634b60501f14421dfeee23c98b8a43ad4d0df68bb0e34d1fa9d53f1e560fc3030b8cafb23463d5b50f44fd9509a4f1cbdb1e311a236da0d9d671346dc1be24d40c8f06114586cd897cfd52ce75e6ec5a11f6d1ce2ca115e7f99dd41c6fc7f8e7d4862f44dc019149901e0ef924a744e5d8b088658176e8802b0a7c0b1ef1a47323c39edfe83ac24930e4cee3d6817cf04aa428feb6fdcd9ff63739c10291cee2ca22500c14ec7654cde80021c00ed320c3ef3074265767c4800ac4a67211a4ccc38fb5cbd0ab38d9038de403c2d28c809283c47bae1279ded2b1bf0b917d3322c34ecb9647aa85be80b8988bebdc38c9337de76074442fa3528659f131a05debc2cd91f5392e533cc2c502bbb2a9449b646e3ec64dbf042fb7ddc49568254a987b074314d30ec1a150e5f6780a055a98183d31b9c7b0557f3e4ec3f3565ab76a138c5d5480e08391000a8243c44d8c7d572f3f66c0ab9f551a1224277ec1519cf13282527f89b1ce19a71732b95bba4eed38bbd6245b2eb2841864929266dd8d2a61d099c32a73de989a7ed5115f2692fa12224e054012a8f9e0faa5a902e5477f7fee842765053a30733309f49b5b8df6093a155c9c49cafb4c1e6a7379540f7cc079bbaa9bf8087421a29d4503fb385790b53f80db753aa6ead9025a92169685049ede31b09b54285c5d3cbc7e99a3255124fa7ad79693b3239129c7910616f802be2764321276509c54211e434631aa62fb20022d6ca4e65074ae803ce000fdbd8620d276f13afc672fbba6d855439d985ef859364d674286173fceb71616b876b491dcd128a092cd939bd4f6f06bf7da9ef9d69c8e2da304eeb4b606a62d20975f880a66599280e0d71840d07d54a431d0d2eb1f49c4c288a553269d17b33648fc160ea838ff32500575667ef18828b8876195831b06bc4a39992630281194404bd4f82f3583129cdbef18adeb62cfb40af83a6f9869238eb9e7507b0d2991e8522aeef31643d8eee9b58879cbff2f279321e6cbeb1cea6cde064dd1fae10f47a340366e51e7a156e0c945f3ec1973b27509cf85181aa5d1f51275470844b88297e49f8c7813bc657073e63bbbd2ae99ee5510b4baea353815bef7a2a876d3ef64cd033c021b1d41b955e8c46256c70e5af593497cde2d07d0a449e76c072a4b5035aeb53d36e54d4b3c85afe8d92e05114948e0d4cf6a77f24d1d425ed16aab15bd9d9b72ec7fbece1749170d6f0b38301b51b369351c04b4a8065357061aff6db081d40dcae9f399d8667147b05e3651ca21c8e715c03ba308a94f8d5933c6fd40f0df7e77463e772be97d4a72af1caef0efea9f833d7477c3bfea798f20c15c22a8613c783adbbb5453022f6652641e0367e2eb49c39f02b32ed952c318d6fb1b1562e4cb65ff1580c7892bf47844f7e74b6f8f2d189ce88bd55d03a2270c783c2d97fdf25b6c7b5f2beb5d550167eb11579db995adb7d7ce83a4f6fcac1beb1eda2b6e72b5a4ac383d6f730b12d0151332bfe7855488e0d2925c338d6407a2507c51073688e8919b89acc7af735662bb6f5e8acbc263862cddaada00b804e71bd1ef2e556f60a730aced3d31c20a83a7dc6f4535b859ea4b9a669a9aa5a5e22d0d84eceed922d196f4f5e06346ee95681dda7919789253b98027bb488c6d4748547f3d16c0a593cc796e3d826cfe92ae0be6f7417c412d250d97ada5ba234f60d000f02b8b305ffb8c8fe85667236a4d7ba146c2b39126bc70f979d4e9bdd631c52e627a99ca22c26a3058b824435a8341a50138b3038b074412c86c6fb29103b4a85e4af201ddb484c8052a3af6d68d67014748490440b3974a992203d620553c8ee9d7102594163134876660fac64b6a02d8eee78cf12035d82305d5a88d5f3fdf2266b11e48f6f6fd9a5ea5a9509eb6742516f8908b93f1eede0b390583127f9abb18d29b7b1f9cfa287cfe5cacbdf5101496f4029515956f299050ea32c969e3af58ab6270ab71a8afb82bc2faeacf9ea43e59ca7b3c88c23939804f528308ba029e328d1455515cae710957b4a4c418c30c4ec4a7677df1d4bae2d29987d66e7cc17178441c56d743ad6f5ba9a6563cc84599b1fe023207c7c9d23cecbecdb5cd8ec534607f17ff0c7408c33fd78bcfb889768b799c18cb4a477902d1e1113bda19658b1cbffc3bc4bf965e2997198e5a42f6e87d2af4b9c812d3cbdd4b6148e68fd4b41f4d3102f66a8481baabbd52a90cffed1264789fe5334787e6c2ef29c89059d30a69d21048dd0247d8e3cc2b905d9f58210f2c0b9da87851aa7a24da3fe995c5078b4b10d759fcad464c010237773e4d374c37f1261d8d91aae55b4e919e726e3fb238844c65e550cd3250a418a6238dce06d3422ad875c1234fed9d1bdeb937e48c433dec28590437002dd5e59c2f3251d4a3096ddb5cdba8eb38cf35265b40104ff96e9d6dfa717af98efd70f27b7ba1286a9c533bc81ed431e56bce51289515ab1877eeee0012fce111b4890dc9fd10c7d34360da024d65a4d7bf2fa8779c920c50b6426192bd3b934d0941aa5361c0973f68cfe536fe44e211f46d2cde185b89f66991591846f4c6079cbf23b40a3dab8fe243f8d740b35f39af837ed13347d311797a717c307f2eb7dbeab19011a06ae4081bafe4eadf140dd957c87d9f115db4ffa2f517d8a15eee7c12fda206a3f25c680cadeb7930136583786a3449e0f35e756451f5b1cfe4c5980a1b9182947c7c1acb325cf2de2f9435b995bcf26c1527d105d9603d38708e1a7c6ba9c1376320a9beba3a4c7d2ba173ad4d78d0f503d5562ae4059c7267480180b7d0cce6bc02b81083f581fa6f4b1142f8e3ebdb6628a9526a9055ecfd81f51da150415422bef86c28bfae661f7c3ef01383633b74c0cc82de488112ebeab5c7c3e31ce02d5dcb3c19d9051bf3fa9f36524429e138ec3ee9f85336c594d5c3346998b31261164801ff38e1b168f262479f91faa8ad88eb1fef3bddcaa60ed446cbb65ecfaa96f6935c0a6ba1b341428827ea90f24f61a4aba3690632dcaf2c61e88865ee78f434f6f649569d635c9517467a35e2211cdea002e44871aca80831772c0d4b98645df91ea45b4624545eab6c65f1d9777c6ffbf652d4707fd364609af91c20d7da78e57f70969d1b72222179f62d4e5016934742aa4197e5b89218a0461dc32499d6671d0b959365a37588f4f1a957a8164c73d08a9e6fa95e486633b9ce0e8af34460062e876d29371961e9a2ddd493bd8b49a1c20452e5216cd9e1ef94bd42355400b3321d488aeec678ca3b1a910918261ac0bc6e9cb7dfce2a0fa9e2648248a678bd6005d4149271a49edba2c9e0dd0adc5023027fdf8c7752c129b5299c910c535dcd386f115b13973cc1c6b8fb6f30e45ba18985985fc1791c04928ef8daa8a5c4d1e008dcc043f1c49d25e9ab922b6d2bfbd3908cc216d37db9b60a01a9c5a04b52e017b4b2989c1f815ed3800d155c45e94f3852de3e32e6537fc5a0ff151b9e8085d647922d5cea130c17e5aad57e0d7aceebffcb8f3a746af74d2293ebf9f397231440a458c19284cf909e8fc500d5f48c64d5e09dbde3d549089ad4684ea6fb4ab56dbd21db6ed2dd41681c9ac3326a09dcc217de5c199472719b2152788e3e7dc2876ee397ea04a5d5a8b032fd3a319ab528e4cf36ca14ebe2d23d52341d4fe456852b0269d41dddb58956b8333d83bf4b1b340ba97273e1b84cc6692b113b3ad2b34b6eaa8648fb8498ce2b542580ef573c8130a6dbde34341099b927f215e5b93f2e6956847c49584cc838e9ba98e0396a65c1c2d11dbf5203abc97d639044ca41d7f0b526e3b00d39974f2e2f179e7c106d3271943b778b0f56d87a62f3b083ed1f2df55cf1aa33fe3da49494b98ad5e8ea68e6cf459cacb320509e83279c76f0bd7eddeb0bc5488bf55f19f02331de36096011a66e420845c9aae0f8a677775d551a49e5a090eafcb08b15d3dd00ad68afade30b4d066c80510431aced962031962d9c8ff1d33dfc4f5c853e16be5c8a80cbc8b572722094521a7d11a48fe5d54d2ea15be14742c58f1cbd83878d64c3aaa69ca4328de72eb38db03722b8fb278867f9e55957847aedef0f71878fc91fca7f55728b258f2e2e0d8e749b04efe1b01a2e8bd931ad4d648b7908391dc5cb0eb424a096ce74883d22df50881504fbda15f2dffefd9bf9442436944b8d725a2a04543e49b2d716f17666727fe0f8127fa9d24f676b299d5c7df20cb297d7ba35987ddc7887b3ac3d23ad4f76afd06e793e5bdc7907af024c2887ac4b81fb6368da12e1eb277dc18253f66e1cdcca5d01ea951a8ea6620922e28b890ebb20781ebe4886046a9a955403016d6a81e6f134db23bd9a28a23b4017b5a6f4d8907c37c9d17a62287b398ad97361d9eb70f0318a1179d7c913bec69d373d8e26434c2a33b9809b46d881fb0264cf8b25c73769d4cd8e077801e663a60bcbfc349885c812cf93294cfd74612e4cc717b1b6377bcfd5eb3f062bfea9073b643d2874dad05ed26827931d5f7032a021cf2748949af84538016b18a62c08cac91f86f0e1ad184f65a8af0ef89a1e413737a8eb48be8252a3c4fc51db757617f21232836cd4daec1b7655aff8ff6beaa80146a5b10089abd128d610ce4986fb0c3ff5d29afff4aec6b1a14dc04789258185d859494692421783e5b50916847491f02df110faf950c75300de46ef06feeba1e40892edd2cabd3db79cc571ab0c08e1f87090d7113474faa8d12ebb1854bdbfa9fec3faeddbac09fdefbe9940ab5dd8fcbb098f2fe11d308c6899fc538e757935a8da4c5c12cc3938e4a92a3457fa34ef86fa86242fc4e50425d156993b189c9e3bc78e3e801648a0b9be080a9d99982633b72ed1d6615a92f5c65cda096cea56883b42afbdf3ac2f71d460f181db4db6b8f8610e9969ac1fee91b103d898f67f8d28f00d4495ee4b9acd78b2a083626a140c76010f0ecee2511bbb2c96462e2ed026b873b92c538f9c6816cf01f7b423f502af0e174b38cad679eab9d687214e951edc4134ab84401f7c6ab36ad88c53fba1d4f0567dc084ae4f28b3c22c901a6fc42fa634d9bf40de104568da48833ee394579c1e7f5aee79a0715c4795d46ca67ac1e1deaffe8cbbf984b7afbf92bb20347133eed5a978aba2ebf7dba064f5fe7ead8eb239184864915b98af983c1773f156c0accb746db796ff2f8d50eb1d1365d002c4af43737407d3bdbd6992de480f0d603b42ba00916b17d598a473220aba57c8c24c63f268007b48522589892271b6e0bde5af4a21399fc5736b505fba859e52a271859544b0fe2f07fbc92319a89531088e642cab5c153a5107b0901cfb887e25890f8e74058d2f615a8eac5100bb288181b0a6aae3c89b740551383b70b6a9e502c1eea2995707f9e012cdc13035bbc38f8f4bf3682afed8754a2efcce051d4c4f05e515e9acdda6537716901548b00724136837b975dd2ad9aaf45c95312230741d6092c0110c7f7498abd07bea4068295fe45d4d659d311325f5a08ed8587b1490576c62fd239e63c8ab35c6554b4a5ff2a64c4909e824f6e33bc74cb367e95a36739d4020abbbf55bbf7570281653caf83393e169685248f919151bd00af5fb0877d7116bedb9020b2c0e1a0f904d1b4f589e065e694d005ef76a2b87e9b3686b8ce7a7d79f24cdc9a09004769c85c13b84718d4fec00c637503b0be86ac27ffac7cb919400cbb5ece7da097e5882aaa375df4e1a4e46b17102431d676fb36bfe8ed1a8867222b6c025b9e7a9f0f13f20d7646f762a7203c4d938108cf420b177603a0875a8cd70b64a6d00401d102e980c054d0b27e0d460d7843127f8bc7b001301d173eca315f37a630cbb5865cf3fe8514c18d6c86a8a47cd2b6d9262a1329e606b739880bd5d5719880b4483bf3399116f046a0005e0092528ca7e434cd4bb800308d44632b6f45efe606e5348954ddd58a9d12e4dcc3fdc6285f5c8e46e2e4e2b5e2240347cb884c681bbba438ca55e6d3e170f2954c1d54a77ce5f2f70d1e684d1d06733924828a22d70bc6e3172f48940fc7a3bf15bb2de4bfbf5cae83c823f13c410f2d72d6d9c33400cccde26f6f11fbf8d7c984f32441b7097fcbc89b1eef79cab37ea69f3d12b6bc8ed00b6015384b74847ecade4614f0e0fbcfcccd2252c56af104e6266f1551775d2a829cef185b8a55c6280a4aa9efa1285a6bace7789313ce76babab05cc70a79bc91d4d5d3638f3f697b89c26aa3fc48c7b20d432f430cfb420c6a00c3a1146dcb25e9a6cfad3ca434e6ce330b40ce5658d2c18186b61794eafec14040a912a57c0396337dca939232ec8641da0104a1aa64a89452a45c8dc18d3dfb1d8430eb23800442e0faec3d18bfd1099d6d91e68aebde6d08b88ffc2177fed579b48744fad79036f0639b7140abb1497e75014731cf0eb9b41bb796be94f15d1c8822c072090a6ad5a1f8fb3813a59e6ff28c9fc20718b83758cf7cc481fa95bbb622acf29596885e5904017a85b8d5a6ea989096e30e59391117bbde4693741fd83f4263c9d431de45d6b9e9c50e3ce33be322d2b989df7c80be8c73b9641614a183409812516f6bd44ffdaba9d6f47782404ac8a865d9274fa337a8d742e88ca8065c80ed5629b33adceca34b75ee7944493c9e8836ef2c35034abad863760e823c337edd8bd1f002367c57387d6f88ef49700b8cbb3db4cea2048e7eae08600f0091ec6ed272717882ad7d950df74a21ff94dcd0d755a2ae72f69eab967b5a53ebf59a5712a51b6025b91a14deb07edf81ea7cb7e9d0bd153b54bd4f78c3edb3ce294091cb9eec147cbc236f954b7f57ff4153abb6176d0f60422fb2ed171ff25bb9d72fa0a814c6d156a077a06385abc97fd524307ed320311a0ec79cd4299e9e2859566296b744b66192fdcf4bdb75b5957bd631c5f912b583ffb54d189467bd02a0b62292b0d17032a312066a120284fb7fad9b55e030b80155a093bfdd163e06f7e57d00c912096d0ec5ccae700445e01d70bbd54d2416f8087c7b2ae7c4f1d7f470894763b3014b99f1b68dd7f1a2dbee84bc6a5afc1f055bb81178ee5c0c1b80b1a5797d07037405a846f09fe006c9c5ea528ff18aa5fbf3de148f68acf28bb5cbb6ae4a40a70d94505175e5d00060615dd6ba8ef60de4226a92e133dd41f74ec8998da20b70536ac5483bdeb834e64a565e9225290c3403ff09fd249c6f6e51cab2e11fcabb811f4523dedaaaffdc1339e4a8b6099c054c997d73266ce93ccd5fd4bfef19d06264f47983e2da5c888618c8ce13753db400e936256a57f2923bb68f57d2ac953dcf09ac6f48c28c580f16d26395e4a8724f62abb357a9343b786fad9e5809b6e1b32e0c0220356d99ee9fe36b70a817cda736fa960f93b35a808f5e3e22ef2837950b79825edcb66d0dd819a17f60bf6c4cdebc20020463e833d423bb3928bd78bc988a1b90fe633ad98a9dc4a0b55f7475e4d9b55601a04dca42828b2d73782034dd93390f4029a1ef1b7cbb652da9b1f3d491ded744c999a6a50eb878cefd3961c5bed44b9ab86f5f9f98a1b22f6fce57a16a0d076075121f8b30f9cb42c33782c1b283bc7bd887b4fedeb69b1fc7c00fe1a1a3df4b5bdccf54b18f577e3b26694efe13c5d3733e5bb201444fee20e9453091b2635ed5d97783e7ebc049306bbee424ef7474758a55c2f67da04e5158b280b96796dbb4dac780260762f56fc6e90f21d3549e65bb1da5564467c00b6d22f6a74f91bf68447d107884245901643bb4059872446129efaf5667ac1bde60d720f838fb775a2c69b92a534ee409eb852776e4972ceb8d892647583ff18f5852c66819300a2ddf9ca22aaa3051a4ff2e1d060f70dbfa2b5b3c0eb83c025d75427e8a16a1ca169807b88b2d6ea5c15db43115f73004040d7db899e0037b68862739ec72354339f98b51612fd880ab3f844133990ed20487dd2c61536277e0fdc7fe8107a8a70f5626b327cd1785d7a808bba9059147e109c6bc79d7b180f4fc8a1508b15e6a7f0624208b6173b49565f728165943e62ee92ccc40efd498468f0609f4091bdb2659487f0ddc39ddcdaca4a246426f332f8c68683a1eefa325a7d9607494bc0e73292f62a330c73e42316e12237df41820676aeaf5f898073d0c8240674c2188c5dd19df8c95836fb24b90a2a0e7fdcd5b54a03c24a95c0ebc8bafbe5f237474394c28f710253b9be55e725219aba8e2004aca1512e4c268031a9f6cba247bb9a5742a807ca6660a897ec482d7dbae786e89050bc6cce4e5ae25fdaa402d9443c7319437d1e96e440e5cf6a0865f4101652d8beffbb3d944982b369350d851841a6e4a85fa03585f992edd3f349b52b58db6f7a59bb7fed71f936e5844535ef6989bf5ea1259897049ffc2fc40d0e1165b85b39cfbfe47c47438e62c2ae8fdef4dbb182f5c03d4e823c0edf01dfc4582880e00d8954d544f620883714f4966605a6036f0237b9d746e9ee31302de4d712559ccb55ab3df9128fc59bb3707fcdb11a2080230d4179f5f70c717db4f93d29bb5764e0b61a330bb079b25e54694553f52b500386bab48144691d1de08b4d98e6816598856973f4983a2f686e156d4df28866da983b1ba3cf3bae602b7cd967f10beac4acb53c97140e3d717a91fa3947b859fd3f70930d9c37f35407e7ff1a4a587f26a807a4c8e5320204a903a7b79e7c2a980dd424e8d94760c618190e4e5aed3c65d832b2b640e78e9c1ed90142563da85167bcfc4652512080c4e3f5f7c4e4bad8f3c25962e8916b800e81836dee6677ca2fe9ff29aa7eb6b23f335120a0b421da0f5479774b77a599004b261f000b86d52c2d15485d360856d4d0be61d651821ffd694bf0d644be8effd3a3492e81bb9a47ad60a24daae72bff44b5f4591a951f7bbc9365828f025286eb32bf3cdb92745eedd8bde3cd315c78135908ad181b7c2126015dece5935f7def8f8da503f54314692bc0d3d858584d46e91c48b4cd96a8a6155d9bd2901e4984a9a8814d8946fd8b6ce7e89a1b0e06133d0ca4c6324db9446e9d0b38dbc9ddd0d15bf5ed3085f9e549fbdb879fe47ffcfeca15312db87816d3332d077f8c45597313f9722b8e3788d9a845992486b61a9e2bf9b0be4b866368c108d17a3e9b5a384d92b750d96df2b7e8bfff30f015c2d01f2a7f0bfcbd13e9468259bf9d1eebbdb9e795acd3d3104e79f50bd75c6d6417608c88ac2b9d0ec1e53e6d2ac9e3f3b92ee39250e3959c700f8fdfeb07a3f4d48096f491fae9bdfb3fa9800d7452dd3aa6ff5a72779a384e606ba085f723f483f0a1fe2a1624d30257b53a5a5a9189fd33a3f0fe4debbf0ea09a6ecce92a8c0dded92d27ad01630fb4f0c36da9c31be001045d08609febbc499b7c57e871b9dcc550257e921c5eb4c07a2087697e67e474bdd87b9bc8044c5bc266ac396ed9242ac7c92d5bcbd66c82d1694a8f935db735090bb9e02aa99af989657dd3e7c617a34fdb49fc4b3899187490d24e82d34caebd0c7f2c7e703e65b32c78f0b1c5e05d9646c065fe776cd67ac50e1a9d0b0bec87aefc0821760b841fb184b118adc4374d7b4b88a6b9fdc8162cab2b57cf1dd4ca7786ca3fdffb9b1a3e3f3cb21efce0d0178be8fe1317e906844238526bd1ed6f7b48e3434be1fb1de21e868300b7a8222dc1037c8d7a82c468568a9bd3d1372a81ea19a0d3ddfff4cd7562a5821d3748e31ab2025ddb47467c58d67069ef46be80a4cef66b2800d9932bfa79c59dec392f3c2bbe47ab880418d6b21a9ab7e4e27497f37b3595e0950b4e73b6c817b087fdb5794e081608bb274b6f41a353c8c5404553983abe47478b723d30e911c7b6364a532d2d5f66146146015f24a615e4fd4017a1e8d3c32109f3c9350423bea5cffb6f87fa970d672ba95f4fd7593ac16cfdc39ffb5bec1eccfe20c3e93a93220b85f9334dd9a936253bb6882ad2049c9af9e8583cba497f4749f5e5ead6ba2baa5b823b7d7f601a5c4dd52d409ce9affe512fdd6663b1d4bc3274010284624cae316d1a9e6adcf032a78478cf251cbb943dbecaf6255811f44510657df85f3608118a967af2fc042bb1e66e28a09908f2ce87a6fc02b17612a0cea5609f91dcc034e8e60dece7bc1609f28d32d391bf8a84b46712e97c100763c29de77fed68ca39f5f94d1f169e98006f949e246c56268514d4c25b197c9885582ee299863e968d5f366f1c2e39d8bc9cf23540aab50782114ebe3010e70e34e327fbcd00e1beee6a310ba970e747853ace233902d5b6427de9ffd24cad319afc17efd713088bd888350cbe94d51720c4388b68f6f05ea47254e5561935eacb40c4633fb16a7148b33779c33a457706dd2721215578ca90e6611e840429497f8be7238d91c305ff079affb158551e38e93ba6638413b36b568766ca0a7b8d95dbeb75fe31a5b53330403181e9c6c446c19a471d72568738ec1bf28e60f0f79aeb2846145bc8aef542b716a107b0502980d30e76d75369230c2ab47fcf92f92b8d3472ddd2b02f029be10d1e3c92ad3f344d0fc69246e206911708359aaabd11f3e241c649a52e5c169e5f2491477fd76edef59d0480b9ea0dc30961bc7a50072643c71ec6246b3c6b1774f36af387f2e33a00c06f739f3fe7f152457ad01c3de7a6edaeb3be81910b23e8b066fe0df956fe1bde2de20a94ad00d87c3a9ce2eb7e6a985661a573cb63c97b5bcac384e3b183f970270b6ed52291c952d0def81376a7fa97ddc75dccbeae3e7d9c84109f4aba6d380465b3668544e8129acbb20ad070ac1d98b814e52b24a5ec052c070c1b67f0c7fc87fe8bd078a1da6d075bcb6c7f4749f38bcd237a4108ff335e94a95081baa2dd6db3dba88ce21693adc95e85bbe06e342adcc051989cfa481c95db35f4eafcf2cef83a90500fc68f296abee770eec299213f42ac8aa87037e5b43c6ba45424a1ea787eaa82c1e34f081dab9bdcba791471bf2aef7e289c7916b28e2090e5fcaa988b4710a23b7942253dab219a58139bda4cd78dde9d173ebc32e5f8eaf038719e5dd999dae864758d0ba4ff7ff2eb99e6f1444c5b809d62f3a7947704418aad3e2f038baed50b352b8521ac4eb1f9c08d11bf60f002315feb81c61580788147c1f86c18f96c0a74073dab84a1855c17be1ccf47fdc37bdbe06aa3136c6b2cc3b8426d3518108634d0f7364c6f18ca121f5209908f492c5d2136d334ad0c4beb01915a792ddd177f9bf7f6e6faaa8dc6ed2264e2a9edc1bffaf06880353db8f4b21ca968af744479edb96d94ca6d587f017080e170e1e82958a080771139f5ccf4d77bdb3681bcd4cbd2175b01b8af933595e921178fa4ae3a29a9ca63e0e2e0b5bccbd45bd7597c990857288eb9e63df70b143af3b681e6c4ae0e48d89a195d2be667d8fa8ba8dd337530ecdcc22f2660b655ed7e6e469ed626a602dd22dfffd7b7a8d87a04d3a189e5f8251175e678b997c8151b8e18f7ab9b7ed1cfa4417dbe514396bac06010d8f5b3b7eec1ba5186a6e57ab9ab6f7f5d04ec914b1c15473e3bf4f002f93d6f2a262a586d1b3813439c6685ff3c4cc6385d2e9e1d2c5daaa02e4ef61235b621788bbec2f676f9cf9ab8cdabbe881fc792a34c209cfd7e27f061e8cb39664c68d22702a3da7e8eada08e8b6b68b22af8b11855974d5938e0cb4d2d3c8c0d9008f3256bbe13bae7a3e609e43deeb7c9f0456b26f65872c5bffd93799cd1af87645b1f1c8394155c180fe975e391e7460ad782de4f800685af04a1d53a80b9c84e882dd9dbd09506d38597badb3f77093ccc92cd2425c329ceee5a371ba89fd3f566f88f8ff050630befa2f5c6d9fc305345385388ba40842c5193af735e94e6fc71e9ca8e327b1e1cbb3070c26e0f02dc88307c1ed1ab21acc85402dad96bae86870bdf40af58af61c03f55a74617b3152c94bd90e8ce5920e0a0e9e6bba86cc5f6a6f4738d00f43c79d6a9601f5c6bc3ab4ef4a652f5144009cf9fd271ff546c1dec0767c73b9d1ebe31baa8b996237a455affac738534e43829532ce6e78a89822e0a0311a3c9e48396b7646ff6f56f7548e6b322744f0a523fbb674482e6391bcd66e127a01124864ee4cc447146574fe0fef19103508230b14e88053526f6aeb3891cc855593b1ae45d352255934e55e847741f60b8756faa09d77f3e6beb8ddd17db2fdc4c0bd1af553b7cd9c75f6b436d12e0e01efba26393c65248e6119870a99a409161e9ac618e21fac9f1fe5830e432817d8f901ece94032654328152446f49520853f60a4ffb4b709e9164efea7dbf4efc5d433a0625dfb2a6ff77ff95e72ad802e4cc90d9d09cb69dd092075e786b742de40c0c85f77b6adf60363d2c57b194c48e01e38d6c6ad92d00310ed4840c685399bc6f69f2ddbe26a8fd13f46e41fd14af06c3a820e1fb7c4af6daf60a652038f53ac312ab0e0ef2f29fc0f4414e1a68f40ce630f57d6c602a62ebe2c6ea9c9d4a0a34979a5dd3b3c2c56b56fb3dca870cdd0a20661c0e77231a4bf453b60c3ee978fb2a045a6c3bb040c366e5b8dee1ffb0bbfc5e9bffc054de0b5a665ade3962189c91728f0c450ec853ce39116c8941d124871989088f56cd7cbae7ca83d9920e5a7eeb6d016449797499d1a808968644af199498b736e031d46892379fdec05067a0452200a022d49b4b71dc13561d66b5dd7ee570ec9b71cfe1bcb27f263921b5ff0742ca99df391f6a0eeb4e2689221bc52136d46238f96d4c8e3c9aaccea910ebf755dd0981730ceb78b48ff6c23ba078e4ceb960574d90589cf772098378f7ccfcfa587b9a51f6240244ee7f8c99f8e64f7607e61b7ba917c223b20450bfb4d44ba702dc2d55792e6a8cbe8986d8b1c45722962d6f6e4851304835714c918ae2b32e1477e9b07c57477d06b9eddf545ce83418d668f2e0fbaceca369df003022857b278ffbd2b001e4656c0559677c8069e71b54f2a5ff7b5a5f537d4d4545a5c4fb5881692df563f13c8d6163bea659ea011979e1ed222df72081a38baead99d55550fcc2ec48d39b9bc2fed284e149827cd1b0871234f368ca85f223d6355db68694791ac4780fa7eb3489e114ade4c5df793e16b26d2fee7cd79568d77de511387f2ace2374255588fe45f150da8aaa8f53368e6fdf2475cbadc5c9b591b1c10ef23e809bd8ec6ddc96ad42f2531b1ed605ad94088f6523d55dab7cc3941b1fb82188480f1797b0b32020ce590a51c03481fae696935ab6636b1ecebb0a7ccd730ceae49d035c4d6365b265ae09e9eb85a74a81ad54708c7bb97a7d2de08a9fabbcabb7a15547a4d8ec7330afd7e9fec8b2b01b651534df2390e87c5c86a6c553086b35cc61c6cde6475f5a78608647c9ebc0aab9ee46268e554a6c5019bea8a842c7c701e8a941250a53ebe501846cc1dc24815395cc07be99b1ffda350822b2193024f4b1125cd54f0690f875081a56fa1663d29eb9c010272f34e54359cdf29d79df526e9f86dec937bb270b109be9499a07677bab9288e4ccdd276e009521490738ded8a0f367546e4f797a74949c17ec1793dbd39824568cdb15e054b7727ca270746899ed646ecd21c28f31ee556cef5b7132e19eb526b13695667a179125f8b51760037da54def0d87378794246d0f5bdbbe5a9341c544b345daff354cdf0241120fbe7ee8ccaab0955bc70c8b67dd8352c95ff38ee126389263e72d365f11c216978f143c6f4c3e7a12736c95ad0871800f459e2f6d604bafb31009ff81a4ee63044e3b8c596266506e6b25a5bf4c96498cf55b8fdd56925542e1cf591a4a844f33e1a7d3c5350745911394fabae82847593eee2786f9dbccf802d09c5d235fbf19130ecaed0e2ba2ebacfb077a1ddf1d8f840d7c0ed1e2b72b6355dd60a4493f6914beea702b26ce277f0a5c02960cac4cf693d06dfe7dc30ea479b466d0eb42174fb93e00c83d2daf15dac3ebc2967916f99a6e411a0f536c01625e613b352a0a9cfa6045144329b20be52c76bba20a7ef1f5b1ad8bc7990b3a7621b8f573d64fe02140a91c97fc695cabb1dfaa796392d4b60a3efa8067c647407c9da9e747c2f5c64480e048e59b935567d225385b30df57b28613ff7ccca032a34339","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
