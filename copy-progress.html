<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b1321be01a86f69dc98e1aa6686bb0ffc2ba96d70b42b43e81d189f169fb94880f04478ee9635956bb763ec8a6dabb65deffe73f33f7162cf6ee4418bd9765a30d268a8fa6a5ce3454f7c50bd0a1de817ef96d201064ae277d6d6b03e59007fbcb9eee9a1d8faecb0b21d891a7f7985c5563728d6fb8b5cf9470058ec211f1bcb9b8ba207fe8db4719a936342c23ee5b181323fbe6a2e7195be34e549a4506d5acd8157dbbaf224427d484c35027cde311a5544bffe063ea8dfef3ae4544c022335e032e3e96960087a4f843f2e6292eccbba32227bd29cae608128882d679899e50e5c183215808d37cc79f41bc87134b857743398a09a4e95c2995a72e32aaa514d137a8b2071fa936677930b4c5a765a9600dbaab84f93fe3dba747dc455d6adaf1c6009be24f8b44be0aa2727eb81bbcfae22212bf95fddbe27a0224441e3ca57610fa42386c5d360af9d775e41a9ba80ee476a0f5f6682b03efcde9c9f914b41aae4cc2fa5270062d1eae98326b455903f5962161ecf669f041d79f530e6d94c3238aa78963ec00dbc71f3a3ca3b725ee24fc63ef3ec4e7a2d775ffddbc40a868358bf6f544832684c4cfd5fc38b98d1e7e1f3c9929479d53ecdfa3ad490f0c7cf296000a0f1a39cec6432e64c35853c5848ea5979fd9fe5dec1bc7c152e7e1b169ce9a19de9ed1c335a8ce87a3657122e8669ef5474f426a4944a476aba19dde22d3367c811008f158868f290e7a4caf63d64c984ea79a5f6ccdc2e8f256966b2e38d871a718c0105cffee3bf797f825ebf5051b1661779b37e7fd5f89baa2e0e20c854f6a8714c631aa13e244ddc5f05f33e1860790611229c781416fe102e1a119a12bc85adbaea76f8b45fd02399dfa57765229ad8a973999129324b7d42c41f40e73bab1d5269e1da9f71e104c39ada66d55576a6038aaa14d30717e1862874b1dfd5998eff69670d1a00cf0dd5d8de06b818eedd47535c2a72afe8562a5e6eec08c08b96327c325a199ff16ef29fde836b3443b58c4795b54b6b0d61fe56377732ed23edbf14caa9dd660a3e105f142072d229a7114f6f42fcb8783f395763bf2025d5a6889b98760972d28f4a499e6e8d991b8d35c8e5109c5350582708236b727e88f96cc49eb2898beb214173287934c8aec85ae9a5f0d26ab8f33d21a42e2837eaa6c1640a44cf054885cd4c09fbbe5d9be963f7e207782073b535e794bf10ee10f20dbd1cb7a0b803bf32064920bf047a18226c040653029c19adfa3002057137f08c47f4664f31edab18aec6c811290adbcbe662fb3bafc563adc70aeff44c9aa26b094d5d88e97623091da7d41797d65d7db0cf0e1988fc47358bf27cebd1f5275caeb7fa3cb956abbad10d1469994a0ef00be1a2080e78a9016d5c062fd56d54fea930b1fd90c821534d0c855c3397e89c6e7997b0e3c193f498cfc9e00cbe0ee5fde6e3abfa6b2771326de129db70de864a678aa7b1d8e703d4ce0abe98c8e4dc47421f47262aed9ccb83cea4d6219598827d927124de9ac7b6e657908e2ed0dafac922df9e70ce33be232566cb6130effd4dbe18c6018ee64d9432f76c0b00ec80b83f6a6a67043cc267f5efa94e0e3f6032fc51599e73846aa92d1227e7de17bc4a01b2fdf84eea7575970e717cf30800bf9f872fc9a1eea7ae99e5e80f2ad7f3fe183e868dbcd315e4a946c125d68c077f838b2676b1ba1d42c54bc4754a7e73c0af3a318df4811dcb725e37708294f332073bc9da2b791a388e25549d6053214f800514cf2e99eb03ae359b7d1e4efe3eb8bbbb7c4fcb03cb20d3645f18fc48368953eb16dc310b01a97f73ab1f4f07387d89d39525ce3e3af08bbce0ab53fb05534aa27843e76f6793b5daf7df77d40e683344bfe58a9974c7225fc34b8b1b9391164fdb07f697f556ac83c49d01285f23a2c5b762640b1d256c932186332cf698deeb48a10b22921e211994ced2bd57b05bb6dd09d4419f3fec87d3f676018f7554a7b2004dc964734807c1da1ac90db9a436f5af9947ae17b94e2be6c3532cb05f02a0dd1858c8be8c4771d5b33d10cf51259a84107c696b1492bbb84bcfd6071b4ad436e2fa768de986b8fc8651f93aa052f5032757852f7a70dd78604064e7ac5aaa6d50a41226ae7cb9d6e8e2cd4233fed8906b307c6eef1f263778c002efa1fe1f91e5984a7b9baf8f287e72a89d7b251badcde12fc479ada4fc24b899018ff9066ee86686cfc6d5f59f8b2daea5889d5952f44240393c22b6a7ae79295ddecb5138e2d3b283d7247b9dfd6d5c8fc80c4fefb26f5cc499a9cfaaf61efb63b23f7bdc95c803d2fba74f9cf82b5656f02264d8624d028c9c77856f1ffc42551af9d4da26ec20ab70ced1ec733fe9b4eed2240c1ab217a2bf6aae373b4dec8588372f41a3dcbd5993c2ba20e7b6404fa3e126320c7e0a915b5fdf50733722b43c0a14b83e4b76f4ff2ed0ca0f3f22a7f9cec7490cedc7d642cecb32379eb1b939eb40f3a8c3302e086fc1551986b2b0d855c90df1b02a24eb22028dc6208d2f2a7551d693186785f6ec4eb512f0bd5c32501c782d78d880eada9946d6a0b693b5f6f3a7620ba0f49dabe4ce7254376e3d97e3bde00c0708bec57e2eb28af458ebb3a6ce29a5c9736b665d9cbc69f7634a4eb59a378838ed8d016fc34c7013553414cf8087bc768d058dc2ac39b0db261d06192599853b16ab0ab17f12063abf2fb7b242ccaf27f509afb8de3ff24eb77a5f667af22e1c6330096e1acc9e1335ddda42684a301447e73c334ea76fa75208bccb405ba478e2ff133f948951773f943575fb7d4ad63fdb0e97bb66fa3959bff0cff08743750ac97786451642b484d08a73fe065f39bb6acb826b015d6b823fa100219ac385f1fc565e8bc5d43f3178bc9f3ae614a036957db63a1f7e49155796c699b48c298a76f197948d0613fdd8fc4b1858ab22373fc6f681bb04eae518d56fbc512b25d3b171683ce639059732d2ea61ef60a7e1eef1e4a6528032a9da7d6166af975c29ebc830481f726184bd668f95f895e2a9bc84c1f24e5197e2a8015f6d831af3c86f27ce4234617cf513aa8769dd5c07184bb1665caf80ba0ffae04c5f95aaf794d40241db2c42b4a4f5733d6fcbc4647226f8c0a25172ef56c978d8ec3f59bc99c303c123e25effa8c65500ae6f8d1d82c206dc4dd7d052a295717d0eeed3c3dd2c2e4ea51919c915743c9cff97ba8809c0c914223f9222c0db3eeff1f5b5141131b300f22655385c8096fb8dce4fb345d3ff5b7d4fe4935d3f6ad04257c8a5ac2ff791296d198e9170b99599331dc52e649763cd8ccb9603d479ad8db3ddb59556dafcacffe13b46049785a91c0f399ef61f4b1286bbeaa694e1ddd5541780bef85e1f6a73fb93dd01d65db4140f1a3bd326d618b37ca7e7f5c9c5dd07eabb10aa2adb992669420073002ba076c5decb1891da3bbfb977ed33ac49f785319bb46e239db195c0eb646083200f3918118054d63b7488afa46ecdef66733734188f33b293f105d0366ddadb12de193684fc4af5f0d652ec23900eeda29e86a175ef377aa3dab2a31514b8f0b1628439fbc613aeba6596ec40fab80f4ee95c4076d478925584f680d877838ecb5a7f1a3531d71ddeae32275f8c68880b2bf22253f0d98bdb736d789907fc7cb2ac384f7ebf8d22625a4e38ca1b1fb05202252a46fe88959ccf4ac3d927a3621c143d501a88c4058b91f70808870960370bb999854f7729ed107d22bfebe9cf8d398032ecbf6ef4d4f1d9da354b37ac4423936e79f7019af6ba60f2277e18c32ff7bbdb381df8cda178193bd6b737957ccce43a8133f03b93e59c00a02a540a5ce2b91c31e218a628292c7a36473e4a05f5df774bad4f9f9e53ceaba11200862c2b5e34b8322cb9f101555a120afc2336d6ad973e174bca9cfcf2246bdb434c1513583691750004a15acacc045276c04068e31709915d2e8ce141e07d028cd92dcc877f21c1004278c58021183afcb6cfadfca025d46b57c88b474f32ffaa5a3ed674989d1678fcbe1744935d5715e2be12db6d9a686a58956309e02e15023d150fef6c8de468929bd9197b594684e0e787e35d458513590dd7cfd8856579833da0580852a3a2b6dbe77ea5caf2dbff77fd4d6efb2fd0fdb49203c6a27b134de3c40ce2b6df0833787f19fdbb5b0da07be2c7ccfe6df4250763e96d57a420ad76f1e413fc971810e961896d0dacc49b11f2710590d9bd6a7da92b473a38527b42d09dcee64ea200f50ee717f9f436ac29400f0ac2e6491f69bf3bc24a9b0a982c096d645a054f8619e33471851adefce8778d523fc386c61b63a1fc89da6c6f658837eb83d0a230ed4dc16cd0e7d17c43a11f9721c0ed45417e96f626ce530dbd58433690e5f078ac6bd5ff7c3cea4e0850d3aac0a51c5521808124172439a15ed920bf099378a2cbd1446b3f6d9c9e526cc6c7748e1cc1057878007609f63ec48bef74a3bd542076abc12abcbb3e444eaa75e518e2653c58c2746672eddec76064e2a9f1e89429a95cdac632e2aedde8fff1a8b2ac1eaeafec6c484a74fb9e718079eaee453fa32c0f177d4f35f89e3a7209bc0d954d1ed9dc39d14888eff616128fd759382435b44f6cdfb0b58f9889d5489518ebff83ea579d661b9faeceb5b5096023b403f7e33f1880eec60406e8f200c1b1528aaa71df6a6684b90f21734ce3c8c2f13c3dfab03ae9cf53d72e8abdde92554580947a9b82c2f032e6b133b87375ec6b5dda5b0d426e3cbdd312fdbddef678c751095df359f3d0e6bf48fd5a5d91e606be34943cf45b1b52a4c8fce1459a510b0ed0f15afa5fc51562d93f1c1b59e211ef82583139a670a62e1cd95239d8113daa0074a4476d012c88d1a2018050be507f89255a5b89ac1026633e9b43ad92ad99dc00b440e80875c152132b9052414c3c1e93f8de866386c8b76ca920d639f07249db1406e6229c2a76a9019676b3f9229321c373820888a0e269bcdd9d509c4842a51477b71a8bda1c06761e1793561fafbcf3b815bc0ac5031a2b10fefff7d4c7cac2b4b2c7c4c4b44ae3e7e874ad68232c85a6ed2933721bd4e83fa018481b2253362303fd544cbcf16def0d17fcaa74a6922e603e6078f034411b5af9ca66133e1c87c2a95af0529ba7c62ee0d14f498aa1cd8edaeea56aa8736542838a92ee6502728f22fb99da867289a30d10eadbf76883aafbffdd5a1e75dfc4b0e4217bcd8627ad257ee8a150d3cc3c7fbd5f1dd25e29de8a370791c8353dd30f0ca83ad90463ee60c6cc5ce24f8837b8c0aa7fcf072efbf40cd737552c30ef05770c225b18f3dab302d8fb3ae57a1479ff5fab9c14cfad19399b59c3b20aa3735e2807130c9f2d32299ed95475d5e82069fd076600d70d08cc19dd638ea6c1dbb0cccdd8417560ecf7c9bb54d92eb9a470c3bc4a688cb661ea8c399f46d8eb620f8b1f7cab840a84b9681551b5445f120e8300acadbc541d3f9e7cd48ae0d35184193f35e7bf98b908288ec031cdf5d80293dfbef978171b299d0fffb3eab6ac810c6b741bb2bd7f5177116357095aa1e6202243ab433c596efcf155f1421a144b1db7b5a247ee0f060b33ef8b4d11373609933d2ddd2af0b6dc940840bfd7a2a96279634fcdd40a17052a66d5f99174b4fef40af27605f11f28c6170586a5f763edd342eb4d4fb05f6c68e973a98d773617f97249c39aaaaff033d4ac001a3d0e87936ae9d7951224061b1eb15a4d7e1a97035a91842151a7f342e5fb9a7779097fb479ccec5053c6530e7f5c388e46db084e3da2f059f6db90c79323d8fb672b3b0aece871ae339705e6d0dc14ecaf8aa0bc8cb402aae486abe58ea6ce532179f205dac62b4cea2204c8791457caf21b7f19b11223d8132fc1807c1aa941d7ec526c894ca690fe5506a96c025d67a1ab3968daa1221dde9d24b2420d5ce6c465e2363b019d83551a083639642f86918d01e755ce139acd02ff8bcc9f9623facd2019389a896406fd0134aa7a43f942178f1511bbcb55ae830ee89af9989f8c265fc66ddd17054f1b2986d8598cc043b327a6c82876667b40816e735f558cbb9c996825e2084aa655fbd63e473a3c729ad5b1f0f40a9a2868a95c84e29e23f2123a4ec41bd30f06fa63a8b51bb0c276cf1121c7b0386232218d8eab6f993504d604b01f41d7255ef8e5d32fef0714a92c118fdb3eb91bb2f66a45aa1a9d5a478289f26a3ac3e2b005e7bb61fe7f92d2416a7e9afaf281cac5874cfd0d7466116ba9252e42db970836ca6755287420287c9e206280f424dc4bf96139465b9ffc9d0130dbc8331ec7819306faed95e2617b45edb5ff00b1cbceba2ddd3e68e8a7108f68e63742255ff365b1b7552503b3976906986657e3e8c85c5ed60efa177cd159547b0b9dedf7f1bdf8e590904817d1048e7709e9f54e9363d1865d20ef5e2a0811bccc488726c8e1cafda23ae5ab005dc26d8e35ff8aa32e6df322db8ecb1a8f7db46e90d628c9fc78e0c7700f04dbbdd52c11d366874957ea29967eff440c646e78aedab38aad3e3c95b866be41c12d0be1f2631703458b76f3338100f3ed0bc3643e3c489805950ed69d921bfc2df765333a7e9398810ba5a7f0b2ecf9fb11512929b18db953621daecca27a697f3c82e3695b12341205baef319f08c0be295744a08fdabe1efadebeee63660be8bdb78b2cbd35e03a9b038dcf02678348927c4aaf6d7f511bf171c8b1920550cea7cd89cefed3989287375a3045edc4b18885b2ce563379413ec12c88a31a9358be4146e58481f88deaa3c8d2aebe1ee841043c895b0509b94e12fd4613a0c0e7b20e034927d8ac31ed9badcf076de651bccec537369e6a1e4c5242fc37804b9b09ef3f9aa7215d85d57e0561e792451a7c4e4de9f853dcb11e63873f8bd33b3215f8073722d6b4ad5e183fd8535917d22f5dadb66b7ac1b00f4ba4ee88fd3a4eff49b5ab64c2bed8d8bdcea17dedefbe0a75b5b36bbde01ada2765a1e0fe8e3d49b77f125f2760b952461ec856d64d3a5fc5b2e1f0b5cecaafb04fc5a32d00b60979ce2d5bebc9e7325efcae721146e5f2a6e4dbc416e6326eddedf0b5c6e6ed65c5c10d3538aa9c5721d4c349279ede31a1fa40a75bac9653883fbeb779d3a063003262e05dc1a4e7b7a9dc098126bb44501a3fbd53713b41b4753672e3ddd6d32111e6a7e96c1661265c8a145c6ea474c730c8325efa0c5d73af2754ab72e416be5d4f373b8c35c4a73e0d166cf8877885431c50257f4fa0c48e8829d145a636f4662211efdb0cc94abb372943811e758eb53eef9326b12b9da4a4564dfe507e0bf8fc4c50896b9af62988b99a445e6453e4b034be7b7efd126d1ccb135aae4ccf8ea706cfa5d7ac69e85af80634feb41c71172c36fc0f16dd8464e5d10fa3f5d977a9991d917553b3c9e9b144bd18b91c7f079cb2d4aeccfb4183353d2a5b1d88840f81581531de03764e9a6a4db35b2f155150c33547c525cf67d99bbc2af75b8a498c5573a8680f667175cf7eae14547d997b5932452541b2773e5025e0f1c16ca1c5e80172848e901172b1255ec12e5c5790ffedb4a0dc22f9904ec914aaf1123f50a0575537b60de23e3cb5f4f6a9678c4c39be17c2ca143a020831c5e2317f663ea1d42e16f907289a20a9f43b3f27385c9c03b72dd97be664baa4afe7d45c62b8537d1e03a3e3966428d3d1a05c3d59b11c3109f344f165f851d836d7ab64c6443ae90ebe8b2cbb0f74e3419ae0afa46e9acb152ef897bfdbee2f0d0770bf14bb4e0bdbe34f9e8afb3bcf11ba6c552dbbc3404803636794889a7a4021254859c6d1ba7597ec202126aefb093c6a08dc4b327e5ba0ccec9e17171c93bb1771493be56a1af6fd5d7e3e7b48204915208a6aaaa7119025caa7482871f1380d2283f1d7076d724bcd289190a01fbc63666027658489f7933862b313fe2aa3f717fec3cd6f54d666762ba89fb821d0b3b3b969d1b2f755750e47913f1c1ac443bd4e828c93d5d4c6979d073105afbdc7d57d008d6b6c41a7ad492f01ad6b3e9f934ef296bbb175e0605d800eed1f0a179070cd022b809d16cc0eb9d0fbaefaec1ddbaf67c34ff551fbda356de538099891ba57070e7a02b5dd2620e1459e62580cafc2dfb00cd77c1d4088b42aa27ee6a0d87961674b5ed2f11cf2c47ca7feae8626785d91a37cb4b80a0f54de3c6fbe1defa689af07d471d38b4df109dd01a577b1b27baf91d9ff8b078c18441970e361ded5b7702a96a31b26acae7406ce8a2b9f4c7d04f6b5a70796a0f8979d11b87db9fdda5b8e827da4ad8e981d949bddac91a6c99993736c5826161937f1dc4ea07e2e6ca27db6d73a51cf2a2fa8fedc0d35f6f1bf8a25720008c261606d6590aa96b191b6927a9cc36bcb82c3b9f9e0903e236ae33760862d2c3c926a9c18ec49acb4f138b7a3bae6f4461df728777f09aee1a286adc19f41ba527366a9094557d40522810e3b6cf69e731734e0d49428680c8d16ae52ba870671eb4ec803e85d82dabfcb660db84d65dbc4172d26282a50b951b644d64a895665ae0e9bff07424a3c86d48f22fd4554da1afdf53d80e25fe3b71c4a59b4a9d4e1024b06357f46c2292791d35a4706a40786d00ef10679d4cb17cecaf0fc3b09b370282bbee012efa4a8fd369a7e0188b7df1e29773e4f28226cbf67b872240fa97d6d9724cf6d2b97a42e9dcc534ce0bc9302f8a0e39d23eacd2491a9b6aa3ec309afff52a90688de57cd193106b5df5d4b29511f8b25c91609b967ae5bb783977dfbcc863aa47f88670016808d3af8d888d857540e824f758a188602eaf54c0c9da0b545d315b654d085c79fa8ce928c5471779a7491e3d1b65804d2fa755c00fa0fe7a40734c7ab7556a2015a05ecf604f3f2bd807f19ddb2b1195d4be1b764f2dca594e9b64e8b0d1ab70baaf4dfb3156db23fd8a4ffd40838b75fef111a0e1d9c7893cf13fe9d45d407ea781abffd8b6e4df073986a97d9c05170648515c4cc91e1f2489317e253b2e4997f01858dd24f57ef0b12944033f5300df2ba78f38aacb8dfe59b2fc813978fa5b672d9798c2c5e8d03c425fb4a85df4b46db10ef72ddfcf53b978bb50c58f94e956dcc5bc38a70c379b54a457a2e877b490c6bc800ab44e1aa85170ebe9a1a7982c1a9449506f5aeb6681287615ad9f4b48cb8917e92cd7a06091ecf6428bcb9de558560645abcba9c954436897f8b8822c556fb2fc25cd7f997fed72861defca75b3065695f0beced8d3d4913311bd10d9b2559d328dca11e96d5e525c6b2a78f35da3671a5d999a3959ced8a33a0088ec01bfca7d183b4be7d94155baf35c8780920a37e634c48b5a8b473b56aecec60a7e48d1155127576d5352eb18525841d72acb38fd1d5714e4c5e93451ea27d43655d791018a4578864c51b5f4f0cc08cbf05e6cfafe6a45d9be80466d3e972bff0d5dbba75854f1ffb5706642c6ff6fd90c62e2282835e42eb6df5c26850c628db7218888c846577688aa1d95fb84946f4db60b0df6ebb4df5c4df21ba6b8604174959d70a26360d5eb7b0ce7684acb9e958622ea0a2e864a5fbb81512220038644a0522b46d00198a064e2b15da739d75073a28681ffbeb49265dcdfee9f5194cc506b3fec1000581141a3bca8d05eb67528100a2aa3750b3a49dae58e326ccb6315f8174e2a406696a16e333f62339ba6b610f223b7c18f7cd40e46c55499669320c0b5ab73943253fd4769a001f0597e568d00246a902d5ef1b17cee9f664c05e50a49241e79d2861116d7830f7aa7805a1d60304df5c6f00e85389d918dd73b7424ba515a1eff1c8e09b7bf263e55c9b2c7465cd5778c852eebe50eba5fbdc8a4dbcca40b5acc7ddc898dcfcc159b11ad2761233667782c4d88ca10c4151ae336434edc33592626826c6e5042a698009eee8eb2dbb863b8f2177ae09bca14e915472cf1abcee09a60870b5009cf702c4de50105491817d6901d0e9f6889f814a74115cf90ff3a0674c7a9a8ab0805f625dfa30acc94843a7d1596b7652b1203f469cd2b8c944578ab2e1e0f4d371d42486cd98548ec52e41f26f7ce14a8abab8112f3ed649f40788c0e7f1e6697310a732d43c8994f3446a9663a29770451c2df77f8357a2a88d4225c8929c41ee4f146de293ea4e6757ebdfbec8d718174e34ffad2cfa33488cadc054ee26061960c71fec337746ffd55907d97611d2986e8b8914951da362465448d17025be2c32eb8f071d5b0d5a4abe0d08b3f7903570bd7b6e24c6826aee5d29a959edc8a076fee89dd34b16e592fff17d7149cc59d643935e1fff5f80dc7179884f0e4cbc5d642961fe104b084a5b52fc315359bdcdf20ff29a942408c28cc5a7a7b14eaec5114c9614973eaf711dcca73c271be39d3c86e2b77b9a889ee2b8d2f44a1f4576cbad8e556c0394fa4d383ff16702eafc74486c40bf7893f49d71cdc87681fc88364b9ddec0babaccc0f1ccda5c03883d3f1da5b6ab1fb93a59c9474a5fd5989a32ae2d5b719089cd1c8f5a2b63184ccdaadf274a9bd1b444254000e69300f451223cb83401bd21ab5088b758316fbd5af93e9ce29d3756c9e5be6bc4b0857abce39805d92a7f64dfed97870d49e8725db725f8573fd595ba1f80e6e38cb7454e9b10bf9289befaa109c3f69c390d57b387bb9e6f4e23577278a4f3aedadc697ed2cd314ed4f1f0e726bcee9cc13979130a3c6583210743c57cc24ac63730b02a3c8b724a00ef51423ce529d0e182771993e154e89a68aca82cfa5c22f9bff8f8ead6de5387dc7c34eb0ce16a40db5d07d3c5303432a314c707adeb4a3aa0971f6db4d61dc023adc4003937791ba29e91a482d21ceeb8487a681b447bcd5df369e7e3031375429d0f6020a6ba444c95e746a35817c2d92b149da8ac07c1c18b3cf4824bb27b23973e38c9faefd797ba9b7e6a8b0b5915cb82c2734d78e2bbe4a643896387c26bdd2dbdaeaf62de5415ceb90c3ae2d530e1db952203717fc8bf308a843204e970bc9175572f86e0c10e5ddc2749bf8b897704d2819e4674f7daa274ae3e0468c64d3d868389fcab6ef7b10fa25b90b8b7a073707595057445a0d3152d290ef4a1a0fe39636e6e39d9dbb6e0ca5fa8bbbc715e81cdae1d11ec769d98acd18192574bdf194fda4e29c480511b4df1f4ff5e7b31bc3f140cdd0290a66b37d1c373b758b8663af7aecb88dfb9db524339f1b5abaecc030e3b0b737b2b40cbbc0cb11f1ad70b921e5f7c32b1b2c7ad9aae2d052c4144a1986fc90e3ef3c38ce3627ccebad885b4f8fc849a919fa372e348f8b7e9125016a055cbb873c6fd7e3c814f14cae6dc2eba72314fcfb4aeda3a9cd48f8d6ecb084f6442db09a584d73a8606ee23ef529e664c60fc325df472dd401c09924bc495c5d1f3ae2baf70cb41e252399016ebf148f3cabeadcc3f2bcae9ee8299bbb8e6cd1e29e0f9ae864ce8cac7e9fbea1540bd2147a997885519a08a0f3da40f4a0b3df68aa82e942d3d94e87ed9e814dca4ae1cee0d0d075bcf9f8530c2c9cf415549fd050067235b921f4c237993d27eb9e2e967bf364cc6e455abec092c4a057e8ef37c5217afb478c9a72cca30af0d860420827c6c4f065fe41568f8af33d818ad5625f5259f9e54780921a26eb210a836842c2d4f886fa508678830b617ce4fc1fba2b8e3328245e2625127c108816709ed03692a55981d6e97326bd077df0721d6e602f8e26b24062ba6f3d591dc75776db013623382138ef5a0676a4355ab127aac181b21356ae0e9b9e4fefa789f7892d7b169917e9fba6ac6479efa6ceaa3d84323b3ff0ee7ef3e336103e7f4db8049715fa9c2b0f933bba9b2a3e7604e834cc09664c8d93f99c8c57b6f71d998d9fe414ffd6c8063f941b73defda2e6cca4334378e9b1fa25b6c9f1dbe99670c3895c883d5d2c188c82fdb9543bfd4f949a11cccf28b073586e52333508652b9b514cfd917e68e0a1270fb7f59d90c8e175ad9670c877ed394c6874861eb467c30826ddeae15facd08301495221903fff6459f0839721569cb59e170e08371175fc03ece08e18b2aaa26813e88bde9d5b03ea3b16237c0682d6b3540146c417662fa950ef370dddb4b3d83398512ad291a2d188521f3d36d77db40d4d7db9312bc3750d79614ee45a1cb5cb59bebd374c5e8b6f0110be883588469eb9dfec499d961192bf740cf1f0bb75161853c3aa7d49c0b08d3f86a0a1eb57738d37e3e41ebd5db47a49f815e00f41d620e030b3710a5e9126d32ec97975f6876288ca341ce716a7c1a2e83a7b73d3c0c81d8c880f5c6ba7d4415ad3aaa2c4305fa45605902eb7a9c96184e3449bb8d24d0ed70d47bfbde74ff00376b65b04ee1f0f65c888586bcbd239e8079bde05a5acb68b09a906c6b7822a4ba245cb8b2141fa8c154306ecc5069cca73b1ac7d667d473d91df68772a3570f6e203535b4b6f280887a2766e90c116ed77db11723a5feb9b9f884a529ae8fcad5fa16898854892e10eb326b928773634bfbecbd05cefa27f7a631d23574a35f0008247ce15ac9181f91a9a10e1eb6014a8e91ab0325374d9fdf25b45b8540a99bf18755c4c0392771d72d625d82d57b58ff04762bbba499351492ae8e33fa5a5a7d6295a656702dbd575ee090876e5e614f96b2515e932550e1789a38721c44ab8a6caaa445f0c07f0ecf7797119f4830992b997b3f1acc26e4848fe5abba991af1a53a745e9361396cf591695c4ab718d55a7cfb13a5c31eff73c8537a8f5a4128cf6054adf21b417ed95ba684da3080d0b240de1e2ba3792cb67254112f87a9664a61e7500c426bcf725d48cf890194d7bc879eacbcf104577893dbeb9afbfa691ffe687301bb507bb520d5d51f2e5345b31baacf1bc622d3b1308870abc7fcffd7c2b2fd984b246d3b8d55fbfc49af51cde39c1d4516f35edbe502d1151c35d76db5527f0163b7b2a759b8d8712b26a9dd0e850c16043633e6f9a5429fc58033787f4d6badc71b26f8889885757e2f26ffc40a6de57969b16c27f9a088599ab4dcf37ff5ba1fd20103030d88db6fe84fed4b13d936f87385f97fa2377abcb5132954d0b00fc1a0dd17c14513bf22353e7ad52808337a2abaf74fe2a32ea5c7579c19e46aa665c060413fe5314799946ce54367bc4be0ca52c4fb6482fd0d3a593c3717dbc0db968de38472738781e63a002c1953da23a46abad2e916e3b4f5bc87cae2783d1845ec7e35ecadcd5d34b247e8678a52e235980569e7035c5efdd3ef42480baeb5caf3ba974a8e449030414a900f4032aae89b5005d2b576e23ae0653d7ec89c64bbcc0f16116510451e2433846d160f989ee492852b13dd5bad94f21517b01b8f4f1f104e848993bb177b383db47fd1fbfd07ef489c5c5c0d870c8b83d17e6e2aeda359310b9bae218cf752bdc75fbf34a7584e34a32e1a1144755a94ee65d49fd47feacfc452d8be9c11bbecadd0bcb7b4530ca427adb0793819eda6588fd7e28370cee413393924195c34a6ed9f87e3ba86be00e5bc35e67564b5188654235360daa445bbd5892264b29af9f5cb8a219c03d90cf913b2e1ae128b9550e2a8388874c89ecfb30608e8b8077d1d96d7e311fe18abb6e40a9c60f8a851cd20c2e44c4ae2f79cb4f842723cf911e921cc816dcc81560edd34250d6a172a41444ac2c8c8b4ecea2dfa5e3aea81d778b8b3a07a348e919a54bab36c6e8652aed249e99c241c33c28a7f531a90fca36e82dda9a70b00ba0aff250bdc3a1f14a8be5fddea7b9ebbeaa6377b65b7980c0634a102dda290060fab6902e4c745cef6714fa8243fed2240b75e3c11a72ac8138f91e27cea07a68b515bb4e22af4c41439e9cf160c483cb13bc0fd4efbe977a20694446f162908e841e12714620d1bc50b01d779c0f18f614448119e913a308fca015970d184485b4f98e11f572d2fdbfee7c055ff150e8e5d6cc522c743bdf5b49c825141d68ca89af5e237d484a4c70942c19fa8b6b21f7c18422ff58eee2a931f73a979c36e3c7c8619af222f982ae99956e2c8c1d23e0d8b5417280ba95ae29d38a972aea36ca7396dee6d5a366a0dbd8f9c9655fe54a356b6e3c5554eddc2d4555bab2590639217513107460382872ec0ef791b2c15ea529a7ce07cba4cf0a0b80e3050d69d2dcb1cb3e8bc05ec03dbcf6742bca0208914bd857b9e25e1e31241389f4e78a4087c48ae879e5f6fde7742e6bdfa9977c4e5fa87767e13f07f78e5ff93f4fafb3a0577c55ff062ab57663000d0cf8c64f73f537ca82c9da9a3f4c0d2632d1c18300911c211bba4d1ad601f5e7e53fb9944b326f3c39eb4f5b5aed8fa0913b07d6566e8489052a4da1eb571b4d7200d198fede2aaca0f9dc1a0ce87f0df482981f5a96a8bba55c641d8c85cf6f86467921fa8e4ff20296171e3d9d78404baed6e5f0aaf964ae7bc1aaa23c10c3fe6270586a0cdd8a2d22b8274c373ef3eb81a107ef90cd625c97e01082c1d7e45e7c1775c37894f209992b49315c2bc5a38c5f39420386a979e08555b5926d1daef3014df392ad5a894492850c39a009ce2781565fb93cf8ee8dea1a1b38b57c4eb72f1682720356a3491a6a9404c3cef8c5ab76029d3707b0c8f3a400b45fb7f6e981882bb8e68768ece1a9cb611978b28021d79b67b4272d080303c43148bd8a9c9513be2269bf9876b6b4a132b419db6171d39f05e49f4912dce3b999f912d0a519fec6d2c6952409fed72c9d0bce1254678779e448623b0393122a92bd8b005bd13a420a632a15e55cd65ee76b7db3189e077a519226e92f3236055259c97c85aa8c55c26cd22b9f95992c5ee3c322931b19a0caa607bd1737e49b57c3db9d06462c1f5a5abed3b4ae77eaf0253824bf0bbd1fa16a37a4e368b08b66da3be674a76335290b1c4b82e8587308dc5c9afd49d85e2293ef758c7a2c6da20b524603273283e377e8e64f8d4cf9aaf0255bcb81586c5814e3e0cb4fc78e10e954dd691c192af81fa3e9b149227bd30eea0af9d4eee9027d344f314045b417a3781d932e4318499b6f6dd0d71e48592457dfec4d74dc067e5f334a0eefcc4d41f854d29e2a54dfee84b2d5c3429da14e2610c467c89ec4f6004bf1675d0fe6ab36aacb4dcd4b112b35a306ae89c917dadbaa44fc5bf479f37c4511983e5ac07ecb5b03232112d90dd25dfc182755033f55129da4a4865c51df395c1ba0c8a7bd1574e43b39a08123a216105f9cb2c4ad85508efe350a5617080eeb5cc65ee073e71c0c0b2d2e41b81f8d822d461e81748905ecdeca4ecb26084911c20a65bb444d0b67947dd4e835c370a86c5d26636c3ddda4607b50cca7f67a2d86a1f896efc8a61b1acdc1ca46a19e4ea53553c390b289e4c6c6eb9ae304f8378b91b8587cd433409da29786d88cb201dbf7496b944601170cf01a716f09c13ba9b354b5b6126fbd7401029d692e04cfa72d36c17ae7c66bb3c499132f14ef6f381a917a8de5431e81b3011c1514a576e35901ff79ca294dbc947b62e4ee05766a2219573af187d723cb7a177ebf661b5bc07113f60ef1c9ccb5f66c0dced1144573d4aa97becbbcfdd37c682579d37750c0c1e6f75cea0d528e46dfcd30b65e7e4575519da44042d05e4c565d05377ac53b278b8610e39ce59407bb67f1e8fd43721c1836996881f87e6eb8047389257cf283dd3f800d4c65f18a457d194e128e9c52218b9d5c499e4ca279dc5a891e978383bf449ad292922507768222313f9f7392917a4d32eefe6824d3b796281859a3d87d5ef822589789e505653c091be10418105c5190fb0017f26f653b3356ab3d2eb3d517644db16f86600f39a089832b14e425798d7bdf579f8db9c81fb5b83bf37c561cd1cbd6f2d9d1f14af3db90594dcd989ed8e9dccad0444d7afe1549c6fbb80ec76dc15cb0f21ade36ac7fcbb6635aa29718f2810abc6eabed018a7c94ecf3c1190607305862cee7d5306aae63418ef2f926417562dc4b525fb1ab88abdb61aa7a706c888c713ca07eddad89b463b5d909dc362fd92df6a02c3d1d1bad361713fbf2896dcab170824fbc0fa4dab3ba1c5f0eb0ed22ba48bd65b10b188d8f6feeb05485c184be80973494765b58f94acd2e85fecd57f7802041c63d101bb664b975c8c17fd3dceacf2452452d905a0fd40338a537ace4f877fccdea5fa5990fc513ee2379080470968f274b5af7e16ef87171639a315e91a7a3db9da630e73f5b05fd26da5c0204069b5085b5db7f5118f7b52b762ecb886d4c3e0a34e3d3891c8ac2c49c0fa5116353f58a0e8880868cf83aeab92855eacf35db40815355354bf90775be4e0658f61088b5df44a244e220f2306b3c97e6c2fc7fbbfdd1e385985109b412d7f44015f7425159f9d342853332a62d11e236f26a905cb45e189b022def181a1b224fb7c14f92638789d64c71bfe6f0749b1513301458dd61d80236532447fdb738bd374f120ccdc10491442747a57de5a65e5ba0d2e34fc81f795debd4208e4733ddc31deaff39e3adb8f677621560fc91045c9ebe0b2d8a1029117038b6d729cadf35e59fa5892f1281e969767002bbb9ec0972d741bc07f296f406ba1915133b38b54a937dae29d8017707f5893922822beaba05713571bad11c2ddc93cc9863a2b6811732b525c970f2f3ea32b8e8e8ae37328d2e95f02e8a21e8dddcc325e724b2882f3bfb49aed23d1ca053b749adec14ceff84bf534895ace35e67ea9c0b7a388fdb81652dfaace5c5347bc9d5d65b28dc8f313169fc40d9dd278185dc30f0ab4deb8146f2dc95841776847d6fbed4e017c0f80e3648c5fd2dfea9db75bcb32709f26222ff5969799c7267270477db3d30238124a0737b4ab2eb45f689b037b943aecafb75c7b77f4d37722737700b60fc89d6656f7c17ad4fb3b791a522d0faca5e5175167f7cdca12fdb97465808ef686403eed698003a9787124bfbe90bb9b686215f99f6c7a0b569ab5754b54640dabf0b3f900e209e797a2694b4fd1038245cc837fbc029da92ff18cdc889f7ef7867a8395c2d71cad2bc4ace36f026e56fadcc3a36c9257150c6db01ed131d51344875580cc7afbf5c685743e091471f1139dac620871452f3dcaf0e6c21eb353ab1c9f50ce3f4a29c31bfdda291d28237b21b6a1db03c0035ce0a714427a0137c932db77b8119f0eed80e6859a4b4c99660277d00d363f91ddb0f41e36eec20e2cd3e76a2d9d26f7b61bd9a662c1d42b2343f76f92f6f9c44f835bd4bca8b44b3331098c2a205bb067a9009b73b9460817feb4a125d49ec4ea9624fb135029a7b8150f4a14468bc32a17f322de6062bfb1c247b2b246a087ef2f3c839312e52c76f48f3d3e0d418c6425abb6616e94d9e87a5d5234b0e9e06596fbd9d097f59e7bbf51702dd811c440f22db4e9fa27ab8b705d1f37e00edfd9c493dc3c8d63efdedde84a4a709545d65a36c1d7ca92e78ca299167225779ce393dec117ebc11eeb49881a548b0d7a122a63323c5755908008bdbe87b0a052bdac831cc4884e581501dcfbe43bfebf0d33569be9262c4b880cabfc5fb4d4647a96f42f718dc478752b29836cec769c22851a03542e273af95777e0fd2f7778413f9af664a4479ba14ff3b8a00bbb41d47977357fe0b727bc0656e9aded220c92521816818ee3550eb77c761600d4526fab6c2ddccf95bd5a8d5eb1dae3beeca9d89b6d7850413032e85ee8cee2d8b931cbe3b9b54f497c91c5fa1ccb88e3c9a596f663efcabef24cccd6dd996cde2252caccfadb035d48b07dbe5a0db6bb4f99ccb20852a714048ad9d210047e8d569b6edc1cff0a1a7877ff137a6b6c9d92ad90db8784ef715ba3f7cf942373044173432f6002f4b53d89a0657c6c08d286bee48a26f4d82e97009ffb1a40fd40809a2740f833c9298fa4975a607a12a5f91532149153abc9b59668c552d8ee3a95159bb922e54834227a78f9d230140b72bc261ed2d6541e5957cd26fdcbe5537f81f8977722d14a5efb1ddac4df3caf5c05d36d3fbbe0a96f4bc4fb3261bbf3023d99fb9c80ae3c10341134df7619957e3827fbce0d8402e67d6f1499f7c7265262521af48c93f853938e5a746aba76c0ce87d14ae2408aaead45ff1ce93efc11930864aabb434c75853c84b92687feaca6ae7f8756ca0cad0ef016369d9945bef93d880680876a273e06c5029e6b95eebd67a1be31a4a9c84993ae8584908b3838fc591f6da4752771072bf60c02d3999e866f4122fbcd7b8b6e007294f034f44180328c2dedfff300cfe35243b453f10f38c7d93fe59303f03afd2f0919a1bbe3bf68e5e2ff809da386eacd6029bcf74555e03d7a3c41fde423fa7f182eb9042469f6f1b6beaec9a00c8e70f09d2b29a740edbf041fa35bfe8083890aaea06bfe2762051dcdcde4b415d655fd13c1ed7624ba376ee2e4335ed1a2320d62f522c3f1123ce621fb225b36937fd718d802c2b8c21643e2bbf978658a40c4bde4fd20de7758317fd6dd651863c7c2c82ca6825d1c9d9e4205af5a2b5efa582467f690a0fb069e6dc71b8e23ede098edc82c380f0d4aeee059bcaef02f59bc5a57111bd11deacd68fbcea1fb9df3ff76a660be93856dde6536508697cbcb437d07987cb9fc0bce9fad947dc49a5fdbd410600808de636612a3fede07fa636ec99114008c65cc88ee18d91b0cf949015cbaf48be29f97c1b1ae85d953f4ea6094944ce28dadc2992319d2698b00e744cc054bd2e454bded3346e5bdf69673484a5f6d4c57bb1f712d349883cb45f7d75be0e164d8fc872dc7e9e0aa077f3cc25091ab474d58d994389f3cd06291d676c6f5a1d96d615d0a3e235cdb6b2030288a650a97a3059d23a92c95a02750020d4fd6b2fda554e3328d19ad8cfff580c37c0cf1b0cdcd1ec209b1ac14f24de9846d77c9d43bed01ae1680ecee43ae05e26f7c04d9de15203b731efb361bdbe9e572f20e3f1d4795988c30d04c2e220309f61487ef81c1aa41237607c678ad776966d6a64dec05664a7e837e112f497141d18b323425b0d058820040854ff67a11a416aa8e9c1e80e66d00ccc2a213af1ea92c8e00827adbddc73166ec7e4f9a2107c1df22395c948e1672e3d89d01a8dc0e7813d5bec84ab79cf0e1e5da252046967d2cfa618c283d1d266582af4e24b2eaf00b376c9a16adaa5f330e3d05f4566005cbe3102fc97c206f4bbb7f1637987f0b9fda3b542b7daa93adbbcf4973daa48c575e924d74d1835272d7758bc312b2e1911bb653e1a613adf15444fdf02a0d5b30ee4518e298c22762ba836c6ba28c21f172be55dd9193df786bc85ae263aac5bda2b6d75e8e45210d503a65ade0ec2e151ceb16f8dfd6d578d9d2b60a68ad7c384cb581f2c7be74426d5ce96c5736e28d2a74fa73b0c372c4a86ed632783a41555cc5adc8ea2f642e3144c9746b96f5e327e0b7037e8972f21dc6d80eea574ba2a8419ea3d1086c1698b3015292bfd08f95890a3733919dab0b6c57eebb6d2eda0a50849567f08c207da5baee192b0e992cb37ea06fce3526cba54a445704f4cb724239037a32d58a65f320df275136238a321df09aa73640e7c1f67ecf18279b4de18041a8265f8cac6a80da43f1b40a8bc112e781c37309b4f00c46464cdd405309fe58b6e54fd5d518f7601df3c05c68d503e71a3503ee1cd1433b9089ce8d0b72dfe3fb623dd21242d54a823a041a132498efe7184de19a521ca9f77b7ebea5bb89818c668e874fa1b6bd7772de63e87be8a576e23454cb8a5cd2ec389e2b0b0ad839382e013330fbcca51108ebd8f63e5f18a2cacc9e84c3ee8c520ab1828ae7479a8b5667c20efd5e6e7776686a815c7f4d13c497b73342bc079b855f05aa9283fb11f890a74c03fe8fdbc104309648fefef8a84c6baf3a71b5b6f3d1fabd48de14924d23042c04426c50f09b90eadf018b7f7a9f9641eefab9877d48328b0df1c4c2c438eba8ee83af853fe6ba563cd1d056c2cdea51c20bd8e724bc13d2f292dbf11be23cee7fbdf1aa1a9cee2730ebcf6211453defc30326fcdf89e0972cf3e21da51c40ab5aa24a3b5f9526587fdcc3b0e75ec9bb6a217b0075d580260da3ae366a44558dbf1262d10a32a34a53b95e36fc83b0af319267842dfdf9d712cfce12917b3533979bdf1d8cb02b24c7a878b4c61c798b1410434b0cea4fcaa899b02a6dba47d9f23929e40f40f9ee2d1cb68bd31d9d084001a7d38e12785c271e402255e14128009b4fd7d620e4a0dececd374a8759a2fcf37308b143f3443c897e5e34934ead02e41de57db5606fb2698dd4d82efca1b18f4c03fdfb71c995156bf9574f7fed67cc310f69be562c8c1c8d00fa436687588fdba8823dbb1353c24d75bf1727e8eb09bc7a7167135c83ea704dff6514f322dcd8ea3856eb6bb2fc92ef741f36374b8ea1214267ab2a2891056085cba35b2df4b4233bfd603216ac453828f918328f7f6c93b873238c1fd4fd97a5c8afe1ae1b4112d5b1a8d13a073506e4c879689b87f39a55200616b4b4aa24f5be428b192d1d4432b5b734909c86c989b042c4ca619d4df41faf7931ec5861e70cea53cb689a2b1ab72f4c464e5ef5990a28badc73726cfa3809519e8df32fedda6afaead656576fd8f4a9b515b17f4528fb13c25999e6b38cd304c7e9431cfafcc1ace1666aefd8bef5115970c6d8881cafbf1ff2b3947d90a52b0eb3041d4403c399cfd7f72a9d37370cb11b9d02c7f87ae44f15500369b866a8a40d8cc464e49cf66882f795020c23f46dc528ddbc7e98857d0c42744a95401efa1cf2657140bdf844e4a0b8b4f2aeafab5edff538d89c505ba2f4f364561633e7763ac6dd532b147b0f1f8fcda4095f4f86eb82f1d5ff79792e11590695d01024e7ba234c4cb458925843a857aa6c4fea0968066d3a86d46a54563ae40bec98ccc5309f366d441c3421791a73c472d10cbc9fbd67f7f7484007301cb1c6f5d6869720e1b70a52c5164b935c78e42a08e5ce9baa84cc700ebdfb2d4f657b3e5e0a988eeba0b530830e9530f81f84abbc6bc467372f1ac4c5ddb2aafee72b5f455c43b45428ddeea3431445f1344614749074247447babcd43393adad6559448bf50703591d45f5c40e22ce81ed15314e9d015f124e2a1cfbcb92ec501eea7c9e272281c72d6833abd56554e47dc94feb5c990954b920934886380e4beb56cd05400ce3c9f853c186034c2b8098537a499e3da06ba6dde3b24aea9d29447d99d2fcc3a6f02ab","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
