<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c150c092a36c84a70c827a5afded0556d2b7068023bd91b2bfa7c5789dc14c051bbc648bf9ab3f8d46e241db5c49897339d8be14c1f2b6814d1d526669bcd3ccd05af677db8644580746c3b8f6ae56380e6dde69c3ef6d95a9368d014595ade16c85e310f9a5be3ae3d9749b8b1bf231a2909067486601972f34fcf7691b72b45fd3619122650616ef8260079caf1284bc053032352b8a254d602f28166d0290e499012e53d3f4a8e590eeea5ec2ddfab442e3e260f9619608028a412b1cad5225e285d71f85c4ae4b5c26a0bd859db2b63644eabb0d64455463cf5174cff46df0d5017b39af1eaebb986e620c1724cd046486c0773014a50c72cbbe5504c3f84f4ee801cc100a3a0d4f396bb160d9bef49c3b407d2cc8be74266c70159fccc77a7c62b070a1f2ba7348c6dd0a087dad75cfd9f4e841eb42d362850bf565cffca6f5e440e824bb2c8fe3796e68f52e07792f7400aaaea9c409efbbc4a515d560d8920c0678c3edb39753feaeb1c0b639a52e9b12a53862e1a9649f98bbb92d8f810c0655d47a7175838636ac0a622ae42c5a87eac00dcaf931693510eda5cdda2f199f6fc0af46acb1000678b71b048932658e4ccaab4289487ad189c6239e83f1a1cea21919237cc6d424785954d0275c1e665db015b317868622dcd095440fe52275bcd52451a33ecab97f944423545b6cda4aba7f4de3f875993393ab6c094a2c322352093775cb242a562ecd0f13f4a6ca53069f2c3be6f19f42048bf5586943f5db152c9b7650b679b1419ab1ddb82646636e818336a34f84798d150f736baeb288c5ef6ac14c2a9f4c6b3e23b387101f6c72edb898330ba7f7c986ee013e01dcbf46850589c9a33d96ec6a7ee0ee051897982293ac7a644ff3c9c20b340cb9cb7f7e7701ae0376a106ee186e756706e13ea08750bcfa33707e821091335943450e5a6f2d0d5e9fbdb1095fc71952a8362d487cf1f342286d7aa537dc4d6a34cfc2b49f8b7f445532f01f2714d729d98d8485941cc75ad9c0d2e6c0220cda03b392574928291de306908b89e0157a06bb963df44f1f9ecc4e381eeed62e6688d1390b41df650b9343c1a686502185f54e8edfac7fbd48800d6e3be4ff80c18ced7d30a0e2910ec3ca8430cbd01dbe029b9fecab4e1f91554d45c687b251bffed2cc35661c755c821579ad6c7b0b23d533ce9d45bcc559d54c7ae339651d1fc8336939788e1047e67f3be22eb55482f2ce95f64fe002ae85a6a0646848673d755458a0944f887078d0a3f2cc1b7780b91cc2edfb2cb0f553dc8b7b518c29bc52f63c621af0772c5d2900e0e51bb369ec746ea5831ad0ce602dac1372d20ecf002f102b541d11e81a64249d7b202871a3b028a03b5ad48190a0126575398461d2c1e0b5aa3d0eb23f6eb5695ac08a04001feec40fe8489e7c655846754ea49e321e98c6f723457fdb9bc1f1b132591c3be17fce3529ebec5378e60914bee3a58db7b55e377f4f1e2cbb7e7eab13478b830767f61fa0dedac2a0749079b03e6c9d221cd8f744ddc909fe2e40af525ba76acfc47baa571250275d1a6887d740d8a905e112f35688976cb1267b5538772f87cc987b93ba22acbf86a047d0d3aa8bcc0b023a31abcd4ae84fa340609256b8a033174f26ec2fcf0bf834b51050e0368695fc1fd38a66bbaea1538adfe3bb41af66495fd1e56e4783d59a2e932ab4aae65be47ad7adf69f53b2a2137cbeaa9261bff8bb0715cf5539c3a91d2b2e8d94113a39aabad6b1aeef82886409d9daf5bf7c4a5bebfb36b08dbfe1ec5d684d9cad6c3d2293841cd489d8b659803bfd6bfe54b95fbd519a5ffa0ef1bb8dced789a0aabf41a7842e799518387eb03a2a95c8f6b5da55af35c4342990b5ff59e7795406f26254908555765a8b112373a2254535eb6d51b0000311d480cf179efbfcfb5d7dc51fc3996542bfad75df1b2235d9e3cb5737a2758502e809fc43384f4d7483db7537d7710047211265a1452000d6450eb6ba6caba88b2965669e7c0971867320d30ab09412a5f7f263ff0e65284f7189094538b8664c710d3de17f1489e605d339da4e61c60e7f72093db9587513186a0e48a554065efafabd7cb3dadc0d1b6d50b0fab44063d18e3dbf4414d343f87702fef92d0acd3804c4f8c497c4ad4607cb2c6601a9368a3ace6c4ff51108532b5e54bdc4d57bd925e57046af1743e6061f4d82f39f81bff3dddc0d835b4c61c245561a1a9ade164192230a80a4d4be284429a54f54469bd24a7691b98eba6bd23b3ea97b9eb22859eb3fdb312809372e6d477d9c12b7180c8ec0d15d299633355a346bd2a1edc5c77f52f061e6e1c08e08890cd4a4f63d3b8b7ee0ad8ed379612af617b5ee67b9103ae0f543944118865e477c0054cf0dfcf3ca2503336fde78e1593cf6539f9f4436dafcbf6b4968e9528a6b01e34d1ac7bb216755eeb88db9c494dd7104ca6b117e6d45ba251df9e60afd86ceb6e452ac2cac486f2894e6dc67d9a9dcca4857110910f252f53f889b0c679602575844ea71271365520af98adf13952843f88a3ad79f0df52237d8e70aad2f608773d2a286ef22f5b160513ea47cfcabbc2386dbb38119a1a1d3bfe2a3a02df91b025a7e988ba83eb3463ebb5f629d1cf3011447593818f966d5d932a0a85164792905d991f0fa1933379da3497a3ecf6870405686a96d85d0dec2f693b9dcdfca80430b2052866bc426faad92f4bfd588f5faacc69564e714b5795b72a79ae93fc3685e87e3eb09eb2b180a69adc434e7447cac75997aedb399e339333bff245e8f44885614db2cbd898b8afc4c316b01999071f15a7b4c01f4e44b23452cfcd647aeee4308b982c604e58c101bef61ebb1b1b674ade5e265a5db02fbf437a02ee53073f34410144bf1f59531cea920a2355556ffa7e98d135fcf7497c98636e1e161334dbb6a3b7b64d3d6d8bac0e3567fe953cdc4b52920a64388a572045c01b1ef3eceb7ad48a82e5b5ae8b1a5c18ee98500b1624672c0a4b18be3d61eb1410b100ad0281b1f4edd54763f8840931a873d63246c37d63510ecb7d0a0ce5cce502c8ae2230c2ba4c8cc408d9e6d823bd6f0a42478883af2434d5196253679a3f8b7eb3bb0da3f29809b4d5731d8c37e8929c3bda9f85fde6a3c1ccdade5cb7f337d24149dc65dcf274b8001ab129d45e2e22995c5d61efa4474e58c4a338081d7d7eb16a69653007f9533ffad8274f86e2d2e926d1a01a63cbed8d0103722b3543ee6b3b85476c9eb4521f1ee50a55802430fd5499722fca244842be99eff71e8781026e9ca87098591f7f4c872c3702c381de5e07c623b15ce1ec7ef1bd3f0739d2d0c2ac08477c1b98b23170e0c39a8f418953ef8fa3a606beaa74148ce5f96e395c5824b87c16d2d2a8b09c30cc69de14b8351cb923063244fafaa9111fd3aebe983e43df80b87f322735478d86d7d95b06e7f8ae1d383a332e7f402ad1a720a6720b5377c3eee6117bdead481a2168e23a736585615657e2c11d4e6b073119bb5606e169791ce2aa51e035e9d434ae822be56ab07a80beb4935b824543501e326f52a522c8a3fd7bf9feba585e60aabc95fb1af3c29934317f3eb5f5044dda7794659a2d0ccd6a9c44030dd06b8d8b7971bb9e69bd457c5f4ee406f59de8a69cc3430ff62f39d63888948308d63736b9356575e8629adb4abf44a44339bbf28277d95c33f27b2e55250b39118818c84ebce4c8283daae5af723276702fe87ade46294def53e727e8b33020032a531e9bafc9912c157f1b650671c3d89ab6e33b50546366e51a2563a0bb3179918bb92c6d741c72eeba65ae3d3ccaaf80465cc0fb7252760403a586f0b6d371982edbeed64686940728808d361958dba18c58a8f4a63965df36c6b282ca93a7342b2312999099885a715eed6bb32b3ea879a8ea220fb4a04e895b37b0271c7dd7ea0407df744bf3425afaeb4412ad4624128f1cc902728fff3801d62881007f8d7796f231d130a3cf61eca6ef49225b7d5f2dadb607e0a558729652f1c594e4b5d8befe0ea7d8b7bcf84af4d70700a13c8dac341ef92a398d04a735033e2bffe8a33e0a6654be1daadb90e84d61b910128f48db9f0ec0fa46cd1d9c0fd9ffe0839e7919dbe24a1676e03f8afc0abc97bd298b281b4d704e809ad62ecec789ce00050fa79278169099a81a79b5fd283b16bea258d0cd1cfc2c0f799aa964c7377b86ecd99e77964cb02c6a303bddc6f487fa424eb80705300953257762dbea3862293df9830e0d4c877d53789924c5525feb9d9f4a2081c63c6b40d1c0b386dacc8396bc32d12b418679ea34e4463eb892108db69c203eb10806fbe9ec95eddbed73a3f9e9553c07d7cfd1ab5c3b448201da7ebb060b4028254507aaca858232f157cb285fddc044c10459f017fe7ea28a53988946604d9fa08020cf71587e46ca4176ad06745682a44fb561cb48b6c5768918cf62912db324c766c5c9d2a99664cb398578fab9734961a850a7d129ede76b9ace78908705576923455d8c190a22a2cd0b41d59de539f28514466616712721cd945c4e917983b18c92778c13858bc2fe340cd9ffd660d135936d302e2fa829f93f081cda9cc3f0e000cd4043b90133ec26bad9fb97482dfaa08c0bd4573310b832cab26d9551bc85c0c699427bc3dbbd05ce77469a8870221a508b097e723404943e7eac177ac310a1b9c7a4607c90a52e381a1d4af24494fd1cd557df523d987682b9e504be7664fe1706269da6c48180d8f8a6e10626cf261a8453493ec67c7add76000154a00cbd463c38f21e0772dd5d1f0103ec0ca7e6430901b3d06e64fd6957b9da6d66a4a0cf31e83eb0c1315d0aab84949a3e78b5286973b83994d167911ef93735198c2ba029d9f81da8328e5d19df313a59d976b00932e326f756048c92c7c91a1be4a5d3cedb563da27d8da68d0285fb38fef20fc1c5f3eb35fda8cf1c1b073e94cbfa317ee8fbe2a06555c683fe7f1d9e0f37b2726a7e34eeed85b95407452151449ebe1aadde9a4ea6e1d0d1f2475da96f7928e88746e900f32f94df8361b2446652b2eb88a5a776f086e06beaa0d2b81d04bc0dcbe56c32e969030e3671f80267ddc9b0c47023a0a88f2a4b595421bcd35cf2c1526ad2dbf000c44b7095f1639c5d8f8dbfbd03d8924d6394314d456135745976512b8abf956763d6a6d1db6cc4a0abb87a99437ed7b357d468f6121fdb1c3e356319e64de4f05a06a147335a034d14c4aa8e328006c1e27d37eab21f1231c7f797f5b72c01b07b8d4b50c44416150dee9f48cfb06f741369875a4b1fa79408741f8a265598e004068346e8d325a0e13c55c4c0820b0cec438b8525a91c1c787f58f967813e6b5b12c5efc4c4c06a71365b911da60cb4074ff95c13ecb40522763d1ba3b351c08d3ab5b3bb7345a0f9bb0dbc1b03e0f31a974aa56c87b4f5f17f414d292b1651ab3787acb69b2fb60ba3de0eaa60904a85b4543db06bbcf5b678117e14ed1eaa2b7ff05ed72f42fde8877669d3df1de9e80852f8755f2bdd1dda65df36ba477fc036cde07dc862dea125648242b38465675c12cd5381ee8d5842d93c531658ec0d1430dd869e723052db3dad5897c1d26c885cc33598e63149e1e226ccca1979b03c6d33c03b3b9fdcd2f5d9bd19d4608c40bf3def11da47e19e6f82915a1c597d06ad27b5f7690ee39a5c9bd6b04f3e22d1fa409b664e359c53da470e3003eee6b3f1b5ed6347133966e1a397248cc6d5dc7cff0e7eeb5c6b912aa2dbdb2a00241071308555109f722a37892b9987836ff98e9b67b688fd048253e98e3d8429a883e504a5bf626462f2152dade1d91adccfbb52f3e350d5d043d9b7c4beef78c2f5b7bbe27ece474b66ee0dddb75a9ae52892cef0efb892ad1d3a2aaf3b323276406ecda564f40cd2329531972481ef10e0eca3c6345b16eafe8e9bac7c38ac972aa0d43b6f50320128b9aa12ddb2e64fae2cd1e8151b6f06d47694460cc8b9eb0054f1d4d99d4a3359fb41b6fb7e61351079c9a199084d850ebf2afc065f5f4378ece59ef6a8c87c3252b998bd2c0324c6dbf503e168fe584bda343461828e6c01c1978f7c26235a2ec678760a7a8304b246f1b413a27edd812932aea3ef98029669c428ca8defa232227b5cffc609ee872808a3a06dd7e088af89129499fde376eb4717369cc0930b43a5de8c68f371556d38c6171d9e2be053eca4289964e5c6c51bc6872809763a0b32d065a48b61689b370288234513eed427f009c98347baefab4b3c729a96679dde631f354e99871b95c11a0fca3196aa51dbe82b5b0de1cc03f1f3bb603ba741d2057caad82dc71d71d12e2243880b8507bdcc5f5a9f534e96a0c38b0ba9918584f82d0ea8d7647f27624b8b9fed739867dbb3b14c9bebf8fbee79caa395a6d4a980ffe950398263044e6855861da3c6ed9475c37271b9e79a60a4d4668b0d933ed735a15e174cc98e1fdc9a2de90537baffce449ade5b61929524ef5888a96e7e7d87df85969bc4e68e108268c15bc515bee6d792b2d82df56385ab6eb8ac75d1498131f5c145e9a470879c1d8746e532d801e7c53de6977137965f8afaf67445731102010e99d91c8a829b4c8a0f7fa80b3a67e65877e9818ccbb81ee0df9ea195584286628afba310d7342140c167b4c04c17829794144561ce2ed7afd3eef78b39c3250eeb29d09cea0f99a02b091edee9c51047c1cdc112bb8482d067bd6938b86a2c563c95766dcaab9311d0aa5b2e907e122d605a5fddae285c7ad6c2dcbb1f43322d42288e79f17007a494e4b808df31e4676c28d30252b66ec7fe4822324cdb151055cf65aab074040d69ec66ece49b42242e07b17bd5f3ca3de24a0fb857f718cf6292200c40f2f3d1617bda8808de6ba7d02b21dae00306d83c75144b6047b0c3d0e3d6dfb911150189a9723f4b725c802056f8fac86bfb60a2ce4d45aee0514624f8f7d697b9151fc88c28f2b1f314ef3fb7ac560d365f9abb624ad9b0f1063b13e0febdc0adcfafdbb352c625dc8cfb55bf396ecdc016df4a781d0452940c4ab5c7219098d21ef6e65cd626e6d15e61a1c0d145d2a1f3c2ea7550df4ce65ac99953aa1179fd0e68f200659940f224fe02fb6dea541f54db1ccd7fd67d1adf1aefc135970d0e3443dd570c8d59960f6d57833fb107840de6c7ff72350d9d9e696f10f5a499eee43e43dea20685c52e907eee439f0a164eeb2ad4eed53d306544b4cdbfb1add42a7953b677a0ad268542cea556f6a2e647f65f20f35d323990e5dd48330b2643e3a6b0a5fa828e7c4d92383f9795b374b4119f40d332e7be72ff00f15069d301adc5a4c9d764ed7e7cec8119067ae1343fbf8d8c146fd618759830dd926692444075451809d3398e3d23ebc5fb73eb646ddaf93dbd5897b7edf6e3b4db152517009b1ccc89ddbe2acde4f36bb08d9d0687cd48d57522f0fa1bb353e07c4ff7535862c740f3e0cd68aa1d5c825a53c0a11894e962a52bbc914a9c79edb98ff87e2997fa4efa42cad24278eebef4a0c27dfb30658e8d76008ee1069712b7d53c4d791aff823bfa7cc5691de3daa088831e467c34a37b8c42782963b4cdb68514d5234b39c10a3d014e15df89c813742ff3c89eaf7eb09069f6d05bfa337a555a324ebe6efb3a682a6a8ca4ae577659594be365bb558e8a0da5c5945d2dee2fda0ea67a46bffbf0d4ada78e6710c0a02718dd16ff53f9e16e6fb323c639c55498c0d071d82084f9936f2076b30507751ea14d87f79a263059dfc05df09426e7c5a752b916815bb2eb39a3d35ce1c1544bbf57f9a0a5c0f5a4cb8fe4479d17b5ea9123de03f47413b67fef533ba62dfd686d4ac488618e6922e246e5ba43109f4644539357066178614aa5f0b16a3d730a5dea86c9b9db9d3af9cb96e25728b5c9df8c090c79f43d83f672f96a98785af222e560f78485f79f4c2186dce22a1d8ac1f0baab8f42789e21d869fadd2cc7ef6db7fc836e9e7ba39ba973642ce3c7c793792ef1193f7272906fc36bc6fc961737739778b0b48c55403bdf6cd472db35f40fe966934d98e6a82a1b80a351755af47d6506a2f9532ab089887b586b8619497eb687671c5f695b588daafaf6e92bff066017ab7a4ecb01f2af411f9362d71d02e6511c09eb0eb590bfa4237392e2c06ebd786ccdc1107286893b69c7ab9099b54455685548ec0ea88e260ac6f7bb9a503942b956ca7f35a6a0c062746c4e3c61e7323047b23a5fec6422e660b90babf20a5c24bb2bc03e6b120daace158bdc6f1537f1a39f42e92e1e9a44b09906596969897e6f9066ca93187161acc489ae12e325fc2a5559fda80ba7e7f99db14419cbbae4977af912711495a2bec52f2f3b5db074efa5c368a360a220062dfbefe9a87ac35844867659736a4af8d0f4c713b1b9ccaafc78f3c737d00a698cb76fcdf16c8ab5317d48203aad894ce761062786c57a4c3df6a4c8d378afd021d47989244b6fab5150eb2b0331e43fd86a30dcce5cea4d2a0e226ce170c5fb5f7f814f3953ef0975e6657c8776a520c37b7a5508ca9b642c4f5c960185832b3ed9964e8c3c300d267e275191314e75ac516903d81f496f8f319714631c08574f9144fea90430e45c4104d1b5c164685e123024a9355309df9e2c02c352779a3ac8e77a887739cdb8350d68fd26a43cad9b533c3d7004d3e8afa7b9025cd35fc808f1a6ab70063ba2b79179f8bea75c2d13f8b33a29c1e3da90ca6e0c920bedc35208a6c0f252d40334763cea1932e2c851d9bb4f12d9edadec7ee43c6c14c855e45fd7055ad6177c9886f7d49dd04f4746aff935216910efdd604df1c7269a46fff8313447f81109654d1888c0d7413c0fbb4d26988bc02d9fb50884ce7ab9465775620ff3f37d3fc0bfba9e58fa93b94fd8ad90ff24e172f23ae6fa86608e58ed59fe4ce9c4d502b68a7d958a8d629be0dbf0fab12b3a3bfbd7ad6827b7483cf6453203b4e2f61382d20717fe919c56d799b4ead99e307f0c0fc4cb59841f2233c46e3cffcd39f7adde1070e12a8a412b544c4f8221267a5445f6f04bb42ff3c5daecfa55f34a0294610c902b91e74096dfaf91f7a0d8a18782032e5c0f3bc6fb6935868e97f678dd5938937e50bc6a50e49d03e8fa1f5e98e3b6aca82153186153c3a93bc36d52f088eeb7137a0cf9eeac712dbeaf5c8242e85914f83002af315e03719c9aa694861aaaee4a692b26f17909dfaa24ff72a4e9659ca567f0d41f49a8eeb3eec8791a4dffc2ecf4fee770f1655d663064655f687c21e5cf3532da29669cedd68ec6d5e3773f0c42e9a9ba0149bca97687e378c5311a52df40cfbe2c81e86919ca3017b971b487e6f8c48422d9b68cd2b06a4d9972c0c6001b3a69f897f5dea7d40a40a08ca98ea049c27dbc9cdf96c81ee0d6e8c1b626c9ba7a1019ea1246d6777f4e0bfdd9f7166cd21455cf9438df05012eb2109f2dc8998e6a03f785bb9448a403fb5429092e6d115ce03f545ccc19aeeff6214770bbac55d2f2525dced1a1249d4d6510d62026000c3a586deabb744cc2ba006f8f572068593bf6e908ed16a3ca9de22a0793b89a3ba28f91d62d0384d6342a21204b75392b2049d39a3521c247649fc7a1e42344d4fadf396a9763e8c0502947981ea6c6112aef709269f1ba9d2c9751492d821915a3641aa6de39638b8c81b04ceb22bd273427f455eca38daf47b1c009c501b5b6a5ae704029ba97bbeacddf8ad8bbe26b258826ca4db37cf0f0879ac61b5f6e62f03ba846bf5615d12faa72122d0def6c20246fd3479e37b825c6738dbb47a38d17586344b62d2df9ec4a6587cd7f12a08038c6aef0fda2d2ed823bd4b03afc36803eb54c123d7575d48f5f3c991e72b85dd613912151468ffe9f18edef33b9dce622fed31305c7cac50f87980ab19e29da3b7ba9bccfd274c3a74e90c49a66ada2cbc15023a5ed2fb083a3a6bf5b7438afc8ec4da367c98a8fb353e77af53e381bb9b2e2453eda10f9bbcbafa3ba0f748603d830b6f285548ea1c8801f95b09e90b92c00cddbaa297137660e111ad3d87b675705ef6a8e435d13a9c913a12588332f8f0f3b68d3a827c624d2d7f9f8b1a1c34124fea587f692415e82e9a1398989bdc5f8a2ae324156767bb844c4ff9419ab16895f51513f0fa0293672f7e706dedd083951809ff33f730db0e04d9aa4c8d8a32e0bb404316f953cd109d6103d79341f5f0797d24a15fc11887c2950ffaf2388c58878b4d179fff7baeffc784606b40ec20cd9c018434ebf93883717fc2a3bdd598f5c49387058da8bf69db6fc6fd9e1a7cb9991d4555754b506285de6c1eabe932624e71676dc948d6b12aca9dc437c1a29d4cee4f7eea681427c16b7d736752d329174056a3bf93c67078a66ad73fcc97758b5db50ea6c3ca481b597ba88192d2000f1610e1ced176d91eb019b9bfb3fc31b4de2f9fca3ca2fabff3795eb8789631ea789393e96ecc614ba662f8969cfca3953265c8916d34283b526696779a4b02ded65dbf6d49285cf75ceeed5fa5b89b67dae0646061eb26ff402be8088181f8eb2700e34a6ed2bb8849eef0084f6b8ad266a0a3b8c7aa58a2e265dcb156affa45c3c299ebf35beff19edd159da93ed463011427a43220ba85007990696f270d911cd05858ca1a3b8622657ddc37420e44b78dfdf0d96f6edf3827ff8f57405072a8c5965f7f217afe937d7aa9eff4b61a956bfb8a8f854b2d4293e26d1df408ed21cc816e04b3a06990a153bcceff8de0b6385f6a844be79aa29948beb52d0004e9dc60084a328da68d7d5a489da8969f4afc90a438279382730945aa3383de21de63e78b32e468b0d6d20d43db0f6a6725dafe7eef472281f9e53120e282b0aefc61f85fe34b511a9460ee60a504f178e01d6494fcec68576a8326782bd4426d2857f8f207ab836b15d95205390e0f57e8019f6f97ce2f50225f6e08a701ead03c1062d068eb3cbc3ac862e08528225927141ae01d2497423817b7d72d04422928e0b7108d95160ed05e740071e1cf77398460cc0351938c4f5f83814b18b4855836d60abff3f71063ef3b3b36c279e20c158a01b0a7fb8e52719c01aeaecc7fde292606c2ae928355864d114ecfc60b93630fe796c14cda8cf99eacd5bbb74f28c154138a870a76fc8bd9bf4a5cf986f0462159b0a51759d7f58e1c1e5ec2b9a098ad28a8b01936340e943c00b6c1989057dc10cb85e494de76fbd3e767ff0fb972b4410b87c66aba5195db994695b4072a6b2aa9d089d66019724282960ace191641cc7d2b85fb6575403a82e095a378ea07174b9fd9113cc68609b18143fe1575ac904e5065a38d77e69c8fdf69802d9a2e039368d47506f59a2f84dc6987bdc9067ae447f45092fde73d2ef5a18799c2aeb4e8be2f8266d5d6f10243d14c5b0b8e12d92cdd5ee7c6983aff0002bbcba170db4e145ec1cec5b815f81a35762e44ae482092ed4da64ba0555047d79e1fb2b2dd636a62c1d4fd5d71b4bb7eb1efb74a05365d53f1f9c59c8174be7c3a8c0838405e54633fde767e2bf2b6ae198e4d1a242e4a5754cb9088d076ae6f4ae2c83ef54a5ca5668cec86584f47242d84bc65a3e2710f7ea121dcfd5f481d294ebf99a1c414efee1ce254dedaa7a557d33741e22ec09665a01932012caf937f798dded10cea8624dfedce3250215cb9ad48e6c1617f1e522b7d51dc1aced889fee51ac21fe927d1425b80e4ea3ec0bec1a7283cebd508535d0a37fd3b61343e83c8fa5cd846c12f2ff8591c9174592e77f7f8c72671fe398682260242a8e1ce3e3948a9572a1136f2e99653fd3ee2f628493ed2647e29f5c6165f216c32552534028f34c6eada21bcd068d030cd7bb14976f82fcdf1c5c61090ab99037a90229745f6e52eee57bda743492caa175bee57c61915746cb0a453065cc7772c436275f5b1cc3f3019730b35c293a852bf79bdad9cb8a0ff1a8444451e8fa8944d8494c385f5af2e6ca207909bb23119dbb2a62032cbc71c5e9a669c418c159855b1868668f50c716a8278cf8edec9727a34382371b6489609fe5cbd1e536921ab2cd0194a5f7e8f6fabebe793d0ec41c6fb9cb0215ff2d45300f34ec99f8c9e2935421d3fe5a1ea4240c786841176df323de1f33dcc8e4570dd22e51dbf0356466304d36cee1a30aaf52c1842f2386ea712843d5668f77aec24d0cc74de46a77e4b428e444aded28d5a68cfac837c322d1b0dea435591708c64ce239b1ed81693d8632fa7807c4a8a5acb8adbfe73d660c40dfe05347a00786ba71ac608c25406f6f0bdf699e5497e2df8e993bf27a6d56798b3ecc706ac14bb1824005c91d55d2d26ec220af25bd2c378f2881164e568ac016a774e22ea6e10df6fa0ee18e020e372e8f67e43a9fb414fcad448352e2935e13e3e09ad6b3942e182502a87a81946470dd80d2965c27844ddff1c70a21799da6f09b016912978ffa649d9a2d4ae365caded7953a3699298cdafc8ccf2a80e0c38a673da20a8ebec576162af3e6dc8598c489c052e7956e33648d12939919d0aff64fc6ad0a77fe16960bc589fdbc919f226bacfd7f8c1499d37feb358010737f09d05fbf7269ac34c0da64d5318af171ce325c9b9d87d19424d691c77a905547def6421135fb6b99b52d3b3e04de7b674183d0c1c4b537d2a24754b23f9909821106aea39e3dcd99fe5bc9eecabb3f05554edd1d1ecd2948b6c33137ba50cfdb1f6545cdced49cfb0a3c795d5a63165833d84335da723b0e3b9963993959960bfc5006962f5c689d8c621d6f7373cbd4ee30b6654ce5107ed31903daab1a436d2af3841b43f7e637f7efd2198ffddaca61828447d53f0ba061325b152d0be38b1320e7413e8b683ef06c8934a194db976b7281882b7e2c1db2f5b06f017f8f40e7aa174d98774e74bd956c266bd8604549f082bae867069ca12c1f72f39402579762b4ae8daa837de56dd961eed6518f93788bf8659876a8b5578cbd35f940fd426f2ef98f04ee9d75038e35c30ccd4ee209575f551b39d1467db2f4c106c842cf0ef2e41dc46d04ea5de1aa7524a5946b9f82ae6ce7b7ab06a9be925907ded118d4c317531dad76bd38bd35ae3cbee8940c529fc8e4f7643bb6a6a14d25296772469fc10e4257989ccd3bf356bde4cc4ebfb50d9889fc38358f3e200b8323ad6b6323a3f88ea734f06c7a6fccb4454956fe8146dfcfc09812d3b47656875ec347377f2d0a5ff6f55428f0a692c03730f5241042b3afad77b9bf29da36830a003818dd0a9a56fbb4262ff118aae40bce2a42f1665bbead10d2323f481e809290ed8e69717be497a0282527e60a34e2cb593f3e180841f4d3610e71b3bd58c37d12f7b4614b0c90395d1659c7e6fc6961bddd983a23dc9f823b4090988077dc8b5ed4c411aed038cb45de02c41db8f68552699fec5c214cec48b3a3ec203a5ccb9394c7ac7d1b40c47e7d4235afc0d1fc7f4aa8da1656194cd96ce7ab7bb8c976dd49250d8b67bc369a3a2e4ee760733dd0dd1dc3417ffe42ccfc272b17ab0400b82269f7c809b7f8884562f7e92c2662c58de5369da13133ba871eadaf1f2457c51cf9c6ea407fd80df1317642d28909c842a2ecef0ac2202500980965914960e4dfa6536374a127e197679116277474c0fcc2d3c5d98822d6137ef3e23578b2026de4cc909c4723bf17197e26c2b66ceed080caa146a65fe4aa93d62346229c04c2c36d5771eeca0845ff0b7c3bd6d8538537ec34ca40d83d83720a7a48e3379e156efc830429db08a9a38a1f347ca39b1eab8355bc1d30fb66761c1a1dad3068d28735b1c9b87831ec06df140b4e005845eee2d2c4e8e49d54acffe64189636ed60e8746f07fa39a4367251d6269472f0dca3db7b3c081146c92a652bd479c9409eaaec024bf912512f57433804be01342393cc5c33a0bb69ad26d48b7ed360a70cbf31db11d5e11bfbd12d9b5e1e2bd19d57cc816fb78ccbf40796c6ec650bcfa0f0d1eba3a874c79c0ddc5875ac393fbfa8b8e14601477c0674d62c2a7b6bb887130577bf56cfc0b54fac1f01b03d460e1618e403d4f4dcc8d36234b20241f358c8ed8d943f198156e9a401f9cc4cd786d642a95d54d7498d5a1467a7b20587385280fbb2cb704fe17ab8ede35b6190971a3d02fbda0f2d28ca1bae1225f5e24d0ca3bf6e48674fbbd969f36b3f6474bcc63d0dcce27703728f4492005afb2f504918bd25ae54a9f45647425c885b7a22ee6f482914ef096d54a6d9c20682e7024d87c0e1ff3192801029a4f6cc335b4ff73d9ba75e77229fef6b59f5b932cd6bdad14a11e19fe2c7395573a5b3ff75975ec4da2a88e400c7dc920e59899f9fabc43789607347801e23007e0591101655ae6ec7c8eb075cd7af67d008c686b11b67d991db911f415b5de0e181c1c6fb16aebb117a1b7149fbde0f579e79a91968650bb8a9b4c0e102411b10dac82f88b2a29db3d6669d09dd0b7cbe7455febbdd8d7373aeb12331029ef346c4afc5cd7d004da737b90a85ad44b6bf1ea02518bcb25ee8b27dace721eee4186af6b71679e87caf8dfe2904764714670a895451057a7fdc086b00edc582089267df693b0f482e92705934c05644c22208290a846fb1b38622006386040f6de53f7b571221ef1cad08f269d6496dcc5a8eda36a78dc9ce4db6dacdaada31756c76b8e0f9de3f4c8110bb0aa1729475cb95b11670ea70664c4e8d6b6738f055f7929563e0eb12d9327e6eb19ba6bc7c585665986a6e9994baa297624b6b0770a0b7574a545fbe305cf54daeccef7252ce24f581154344887d81ec009e1c9a3643036b8244646ac34b49c3ff42807c76dc3226d49d756ccb956435af2a16e502d802997633041c23f549693d7c5471ac1f81b9537f582c842c1bc82258920384ccc2149aae2b808cca2f04ad731b755057256d294756144ba7f1b0389c7a46f60c6f36b33454bd211883e3221c46d8f9bc7a892fccb967f3ae415e00631c33439ab388b3a6d291f428649388779d5ff16ef417480dbacbae05cdec2f7f6752c6ea383a6941e85d46266fc3b2e4a8edc56d73ca07c9010a622318506458957d112aa94d4f0de58af33d716788e4556fde6babbca376183a1b2cfece61858ed2327033bd816b9d665a7290c7868b061be32b7f7364a1023f415b5be73562aa9b3962caf3cf6f8d87946201663fb52665b403b193bcaf17c7c97e94347554a8abeaa85ae998cdd07bb4bdf03f4b6f65b7d96d0e1d587523f407f0d23c0005be775fb4f252c2c07df92d67a85440658a8a35c22fa5a96cc7a95d36ab5111393007a01002178f18f85ccdbb78953d72d9fa03b8b7d88a545d9376b0642b465e80cce4bb62e17fd9b1ff294266e6dd59ef104f84743ab2febc754b237cf2b20c26480846dbb2e73afc0336b9eaa1b50562fdda79a202fc7dc9d5b2b99051889bbf4e0741c8858f8c6560deb60f34b4dee755dc932ac4adac8b22811ad6203d59069ffb82232c3477b93bdbe269a227607754eb7e39a5af4633eb1df17f6d9cb4227c01db65b9edf88c56b1e62b696d2e1e3fa2e0b8959f58e1d508d9709aff5881de30f74799c8a7529633c8886cee85946573290795804cc53a781a7e6403b16bc56e2204c7a6de3a88b02f9fc340dfe61b0cf7175f4e86f51ec555091b2b5f7959b236ebca13625d8b03849b9fc86161fd7b1d376989a9995de5a38a5cf728aa9fbad398e139a286c73423316681226fa0c85bbe5fda18154875d712e60c876d706265bc56df358b850c9ffc57c7b20955da369465fa221ecb958a7325c0cfda47eb700b5c8e3429a66674ed4c84311754014f667d6176ccd48f849cf80e846af0ea41f51d22081e899e90912692570aee63655a89384c7d14f45a10bdc5e6e7f1c9533f3cc586aa9492dadffc248e0622cf6a5a71395cd0ba63475a64622113a463564dcca784cd7992d30655eadcc855dca993e0357fc84b4efea451400fcd7e67a8c3cbdfa5b4b9eabceee5e5b97026f346c675658ea9e580696034b7fef51d22c604cb97ff790bb6789e975279851e3184555dc8eaab7b17d8f4bb8a0556a0c9e005000cb5815606f542e97da3390afb563062ce26fa3caa22ed31705c4ded6a425658703e76f63c1d50e5835aee0ba6aad64c72c3a3e248c87e99e2f4d9281732ffd34a1a0d5efbc179e60975d6a3c4c6b618fa56bb0ed25aadadf789bc057e3be285d6fc4c9fd45c0820e2361eeaebb585e823521c35d8231bd8b6fcd92e6b6e2272121f2cd59f2875ed50eac99e59ec93ad722816dc331f08ff1c391da068c93ee436bf78c5f8bb9bb08e9492117944fbcc08ffab4cc2307c20dd328a4ae8819bc2abbded12d75bf82730930df600a8a9aaa8434187a694981592e2b383e1de3393f1c52d14cbab05e0baeeed9fc9fe43fd6b588e3bc30dc3c4a07477c331d5f93a96c17d52128c1f6ee2f535eeeb1ed196c8ddc1d657c808a87095e223303562f8fcecf10940c6da6bfc0a785fbd58c23dfedd3ac4bf514c45954ccd9338a3c23079057a8d14072b6e0c99fbcdc8b661c2d5b78a1f7134c1e8e78c867b6d68346e59e5943a6712c6bb0734ffe58601282554d0da8cafdfbc1afa43c49784df271be09c22aa34a607cfeba28796c18bb3106cdc0f7b952bd72f80039b8b896294f9170150a7d05b05068b4ff9f152f1b0dab9d01d89e5115396781549fcec9f5992bb515279bee2286c32be164a28b2201d8b726087a5b9945403271d7ecafdb7957aa7eab984a4b70d9109de90c4b092b05fb027911e9a5485907018d3f576ee85d7ca5b6831a837bca3dcee2b45c0b67f84588a906db2d261e456f8b797d05800dadbbfa9e2ac6493bbb9f902b644fd1fbd7c7efc03c01b10db7a20e2a30528a2e4d1dcd0d56f319c80baf5a1e4093f541b3272ce70b69ac5179d952b16db4782f68a608cb1508fda836bb50157f0fb02e599e5d221a0799aeb56e65c4fed65fd386fd358ed213564f0b27eec5d0d14d3a261998bf76170d393bab32b8cbaac245702aef8ee3614345fb6e63e8d4ae380e08ccccc87502c094fc70be6d078fce18c0afad055d1f6e3f81e10aa114482c86b54ca6134d3584f11b40fc9795f147223826289be107e6999a7c22c29d59271bf894641c2cc0b69199b1122ea2ed2c0d5e4e1aa61e4d1ba68274ca442fba21eb27cae5184a3d5c2073d50611d4e7378eaa62dc7adf7b1d3d1787830cfc00ab841d90c34c80bfb96f59f566f9d02cd58b120d6196ab4f1f9009b01aa39f46bcee1471c8d8451ae116ab558df9f4dcfa65535cae680979c20e84e7cfbe73ba418ed30549f1de24ce8ca5c3c7756a861fbdf80b88b9de294e743ea3f4517827997364e9ebde91f65c0b7010cb2f2380d0f81bf9941bae627be06c83978b4480dac5b4b624fdf0fb19d792da3fdf309da3a13b2b30930a7e68479f40029ac319ab1d6e41f8951332a1c654a9e8595b845813f278536acc56a3f7a13d708af582c2790782e513f41a947be499ae0253dfa3726200195f9a371cb7e1a7a85f6928a3d45bb75a5bcba90bca1d239e819839a910aa51d23c6de63f777cb5ab0cce9bd6c2f49adc0a5ff83ca49ea11b9a9699c3e8f1df6062a709f18cd3eed82b22a19880d6474ceffa04e2edd601cc4730a8042ee4974d5143995212154a7e854afb0084a978f61ad6fef5e5c3280b6ee2a81ca9b75929718807cc7e01917c8579d7998c3a1df865b71b3cf2d1b90642ea4acdc346c8c66160c5b56344152ccc6fa4299b7724fb2d8d952eaa6389564783eb646d81adf5662b7abdbe4b01e648731bab1d2f3de9d367f9ac1caab974004d7ba10cb65eb0d62aefdd8388e5fcb076596dbec0d2737cb157209b9a5ac6228b10b3cad8fe83497f73eb3c19bb9a17e17a2bd3cc430ac8bebf15ad9499a9b3c2a0ac1b9334cd8736177b066cd753db7212041b9f90fb15fcaefeba5ad2a60430f5d384744829b2a68f650305f91c540fd81e87028137977e2561369e6c2b980dedaaa940b0e4fc5f80c4deba09f58ab7b5c547fe866e80ceb69c2043e4d706cd6f0772482797d4cd6ad35976f040b8e984c5fa8e70d040d2280bb3bd7af3484e6cd70639e7d94eaf241b511b7d60e27b25334bf489036523b7cd87266386f7f43f4601ccf7469b4a4efaf275a410c806cdd0245b2ad830b57c8fb85636bffc7c57bf36b328361f695ca7130ab43b5abd2be33d3e1cad7f50ed4be20ca4fd74bdaf8969c02743782dc4fe02a24aa299c71765c508ca517d6db8b73aadd10f499f4ef1a544de306273d93082ed2f88c2a72b699f168e2c974b93cdc4eb328a57f6b95038ded3cc6a3933f275e6f4a37fdaf81f77798eb599e4923d1566b6ad7cf5203442005df8d338e9834815a696d00d444f06d3a73595bf9743d89220aabc37fdcfd902cef37a3f117782ad808712abdcbff53ae228d84f7239c416ab931c1b5248517f4d2c707563aff1fda89a5a3bb545d4009d158131e72bb8b745e1a607c3cde66d95c84af7e6e4a1743c617840afae80ddb5584e2adcd81c8f61e200a645d3ceec369e8b2e708e46d010542a8f31656bb5543ef466691033a4f7cecfef8de26c87291288b33f9006a2445fc4a07bffc167f539e76d168f9a18ae129e2bd66c524086bd8ed0df6e42da5a2a9dfaa18e1d4aa20040e7642e5ecf6faee9b4071b33c9aaf36a9aea124bca82489442240add565a3a2c95b33932acfb4b5ceec9b7a0008941107045372d70082c542b9c290e91a620f03e6376ab3806b4548a5910744c9b0e6897fbf0c9ac0e11452c3a2629b384fdb84259240db834fcd14a7ac0294ce4d88df5a6a6b7d758f328d7c326322873e6f95cc43e64de122ee0286c0409f05ca36e51782fb578ba5d535d6d177df72cb5ff3ba89fe9b2770b26d4ec9e41d9fc93db513b0976d8042528e15c6199faff4104998bd47d861be15ead7ab81753d6cfa30a8916b2017bfda623dad37282380c8985c70525229a12111a33dbbd8b5f529a10d8637c4e40e7ded916c2f8f5d5969c074ac4d6f98303ebc9dbdac9f1a7e7645cf17eb50212aaa32b389dc003bf3059a63e9a2405624b17c21d45dd897b28a09b2aa4569f95a9ca71777aabb1c65c8b4b286a8fcf106bbf92099d80ecce8c23dcf53f311932dd28ef35556e2c23a6b2fa8f59b8e8adec38bc06a223a80eac58fc8e7ba77354a597867f69c0cdd2ed481fee49275cef4ea1b0ac833addb4e6677ea3a2e6bfd51e84c4edf9a95a66b46064bd188adc93cdcf70340e377512523ae94e98a12d158b7cba3141260e015461b8d6e830772b7fa60dd9bb15638d582c2f93575b93731889c4f41eac4fc5e17fd946954dfb103ba18af5dd114ff6d0963cabaa7e20aac720c71949386e10cbf8363687c3a81cb09bd4d0d159acd9309fc50cf673c1fe26ad35849893d36dea69eb7a6426ccb84f9087e41e9dfe63088487f5f47524ad907c6fd573e76d431693cf9e713f35950a4c9d08330b92a3575b9a65898d2de21c2ec42cfa2ea07ffa20b271a805d89c315020b63ccaf3f1177e0416bb4ae6b62b799f45423363c503cf9e4caf632b42bd1282b3cc1d7784a6c46a556add82d682ea4259ffd7a1949ef0a35110c38f5b0f152551b0daa16d1dffadb36e4406ee697018b8a784862a2debce15b71255b5fa86479ad407b1e39f5fc901c8d86df92128ae4884b7341ffc99335b860c30a52f1bc227e7d36f11fc927b78a46cc4f240d89ec3da5379969344b5ebd19e8c0eb31e76d97ebd623a50fa28c62b3e40450a738aa07ea899262f96ae0994c95fb504cf11f27b8373b0915fe8c60eff796eb43a50b788ec077e4001854f7046dec4ea6fa6178ec9f85a353e5564b1ad3927208d078bd967f9151ebaa8509866914c38086af43342efc41ee261654bc1c4e5c07b7f419b84e40c4f35e0150fac2b80b3451251933c1ff7cbf9f3a0462c154c923c55c767d0301e5a8081e67e47e38e2dfb546cf2572069700dc3e22fd3e5901812585ce27927aad44d2a41f981da473aafbc56b31afecf47b74cee417cf3021cd59ff4ad5c89ee26385dde0775e00b00686136fd61101a0f096fa50803d3b13a9c1421af0a6d02d16c0e6b12ff2661522a7e66f818ca109159780780e0fe8f3b834cbcb3dea1238a3d7087f8af16db53c27a7f8053af1fa0081801976f111ea2d7376d5b620b488cd3f60d6aad3cf3e28195a61bb4658cf5988bad249281af4893b4d5b0d9fa08734f2fca3597228326b0b0966a92332cbb271801c4bb3d8c84d25ec79e615544944f2ce07e55164e29920e9afaf5b5e1ffa49acc3cd40d8a70fac8308c339dd2c0f94b8ccf3652501c4f5d9a94741274f0327a44538837cf72d4ac7902ed1a8072ef3e2a47032eea394b63fd9c69adfbaea83baaba905e89f4837e2925eda6d067cd559f1490d878bffba0c0bf890763ad38679c018bc5312c5e07662ba8ddbf63e36d2f9d1895ced14a892b34c5a607f18bca35cb8a88cbc9121b56a0bade660d47627464fe6218385a0198135d4f774279def8ece00412dc94dbfd9f83d837558a11d08989746607c9d2630a4582c7aaf30b07733ca6ebf88e9a409efd84376ecdd694603acf038a7457fd5e8a77c41784c1f530af8c27f04d1370a496b06b246af9af5b3f610b9d9a628e5d74df70fc706b36fbb0b4935d721bcc806b0ae9399fe930a4f45b71cd03a540d4cab16e438b732cbf7bcb8e7fbbe95bd14b9997d1a97fec9c8ad38186cd335849c51b3e3c45a5ff3314d661ceefcd50c7a89c2caf57e83fb7a661e21d57989f3d83e7340f0bf76a928bd499c5675f169c1e8aea94c227c524c9c1c3d47822d873692885ad3718ffe9787024cc806068971b58b04347130385d98e997e5cd15b1e99d012dfe4341c27b438d5d2b4d1033c8e5f5b5e8ed1e58","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
