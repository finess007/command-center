<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7c545be54450a9322fb67afc5c0075d4f4e6961893511c458975e05e4069a1a6e2abe55c6ce535df8e932058a21d419998dbcaf70cf7be7daeb0947d42c898725ca4c98fc63ca7e10e9b501eccd285ea34d4d456847cbfc1158d4142a0ff7c876c4d607f6d202931df71e70dfa5b69c8c6bd1238c70b99d976f0347bf58ffbbb253594d9614f58e6f2dc50543fd00f9b9037785e4571690913ddffd21901b9bf53e976dfc2397adab50687b28c932adcc50a2ad4789b0f0d320b246fca47da8019a8281460e5639a7cefdebde0396c2dd51d1f7a394303ad07f7f8d61a0aae6716fb0ecfec0e00a289cff55f142ba0e7020eeded4ec801451c65934298bda75fe3858ac6180a456ad7b1920f3ca830e765aa3207b3ddf82acde17815c990028d0d48299d2eef52414fa7a98338796dee6fa5c46d83f103015bdf99e46c3bf0b85e23ad69f91732a6a04d325d24cdada052bc9aa9f42bbbe76a03b089472829e41aa7e2146a20ad7340fa37090430c6d2de3ab5e084c1e23dc2cabff39c6193378a8483866e89efe161be7946e1acc184dfd735c6faf0fb16f2f96a532cf32fc2e7755c5abc83c7dd46991f550fd5abf7e2c199da27317f21d445736ab87b20322904eb31dfc93994931c4a1bc948a3595adb42df8eb16070c5d7b3110f83f2db5ca9be68d85e931eae676c606c55aa087af004382a3207f4764983d8a952ccf08407fcfe3c30d3cebc0866bef75274e70cfa328d674c33dbc323ad6ce00737c0c592b2f04fe7d05b78ef08eb5d8a21d7f2bfeab5f37b0ff1babf1783dd8e80e26b35ad4f3b65811e7a80b2f411c3b7ecb217be55dacdea336912347cbe24856f816b5173707e07d2d65921c7d298e9af9b3147e8376f3c8e7869f71aff7cf88637c99c43d7b935713f48e5a3c46ada6a48b18841e2456a77ce480b0addaabf045a8f11322faadb8252228ec8ae6ff238e6c5dcd605da80758f54207ee166be334a1719138013162d73e3fd8365f94ff93de437d4078647094123ca151e84b9c70857abb98c385d5c69f129d7735648564314bbcb86aa60120404d14d1bb050aecd3c2c60b7a2a55f95f4dca2ada5dab61b476b365cc425b57c4692d0b00b18bc7b8945bacdf51622ee35195396004a2cbadeebc386bb4dc6c37503d505348d882d4c29348b38bfc24b1c2c9177df042ff46c76b698a4bd3b6f1371102e7d9bbf23addb687a5c59b95d43871d15ba8570d324b49f193f6e4c79b8690badda93ab6d19e7cb77457bb6305daa14c8b040d013e46ec64fab31876cdbd8f1cc972fc366b5fc32b3097aa5b645b90757e306af75f36353a6c34dd4dd0144efbe6e2901a017287cfd5436f525bda42bae2e86201baf74e82bcb31af7d6730149e65f4bb88058f1d24014c4b5acde7a91b3df6551400e6a2398891ce1284b551df15da5f363edca501857d88c60116d081aac31c0834820f267939bc01cdf404a557a29cd50ff39d32ed4e8ce382d3e8466090843932f5066e481279250a1c94bb057942a4221a53383ecd04de44f0f001fcf51d4face164d10ddd6369ee401f2fd513016e9f2c21fed85a36b6a203d7f71a2095239e65878b8b37756decdc8785043be7a5ae19a6d84d9578109c0e507994f343df17da946615fafc83eb7581fd1751e54daef7ed2cf2547d5fc407fc3c2daf2d0a1919a54015ae84af06bc00d7735e666328a5e6885f4a1d18a79cf9192d3150470c91ecdd6e916036eeb29820ae2d754007969b6fcffbac2f0a1a90a10c8f249ee62e0e8e52c0a4480e29b5d63aa5ac1539fdafc13894e2ebbddaa0432d14164e393b001547ed9448b2adc71b1cda83b8e7b06370f0638003941892f6411ddc7b653f136592f671f041cad9e0e815bf74f1c8652bcd80be25b18e09bce88b1b9f80caa2ec969e4fbdc84b914729f94490c770959078467c7ce342b65b56abfa65cee60a361e3aeb963c1d88d9c0f40df6b851f9a6942344f0790caec780e1035906d8ff9ad727c3e0d0e5b99c1f87204cd96e0ef8765e3e996eb14c29165dcbc7625d1a87daad0e0403715c569df464d6ff27a89667f94af23830ebe8c683a2008f5d3d451ab61c5f931d8714f57c60f0a55cce37ded0c06c163eef8fbaff4d84eb71b4152b6c9897a59ecdc6a4b523fda18bee2b72734cc202a43f37171ee62e4d6ae5b7555d0746c39724523f9dd2cb05ff3553663c9d3d4f3595975a82ededac9cfc02305a5beeede8573ef59fda8c953069e90eb0cfaec99d0deb240937639ae3eb7e5556065eca4aa8d822a9783e88c11e0188401153cd1438082dcb4a946ea4a81090ed7bd1dc639e21f708ef301920850244a05ccd4649af2eaf73deac7798cc1ddb09fc8398ac3306af5a14b4741c1534cecb88bc6ce54c6ac22a3c99e6c87edddf1caf3cec02798e2ae401b648a5648cbb6d3e9fc1eff829ce6c15781ce018f5ae93b2586ef50cb75662e0978378f4f8b925c472e99bb5c75b38bb3843c4dca0860e8b09ab51a9786c75c7227be1b97b354c42dd4f23adae7c9d5c7700d77eb73d98b01abfa60dc15f80600cea9ed7c35163ac4f79b9647b5fd01f3aeeee9a06fc9eedde6b22ec91aa09630cd34ee1452fc883ace599c8f29e9a6876304a133ee4f049a0a22d592b56874a8c517d5ba12d5127cb097b6ca201c40aaf0730fe5a8083e4c0209a9fef153cd2b315b2f75ae83d7ceda39fd4a124d92309d089addc07ba5b1508d489da42d351101651594d07a3f2aad3bcd2e205994c63f55d0fe99322a7efea68adb6d4cfd79eeaedd6c5511437c1f2f2df6f62290ffc04b474fb9b5abdfd776c9cbcbd2b886051100b11668ba6d4c7b0b390aaf8b604e42128bcf1913cf69d8bb0680e85b3aac5fb6dfe8c8f9d76b6c0031abb4ed8c4e12476e7ff3662782fa57835c985808ca4840a5d63bfec9a84ce30834d4b36e715ad5bfe3afb5c80ef5ea2077d63a7bc9f0f700495cf24daccdd22e0be7e8d488a1c781166cdb4922121000d81eb8dc057c7b8c801ebdebf0c849c14015d575cc09a8a6a13d1d306421b3421455432ab345455195b3bb37799c7b728e0360782cd55d590ee0b09eb5cac0f36709ee96bb5299e085dc9d340d1113b9252945fd5583e1dc6ca0209fba67493d895f56b6196f5a0ebba364d4e6aa12e68462ef53f5704166e22c700f4db2755d7d63efc9a22dd623692183818407f9197a9ff5d693ef622ccfb43cbbcc72ef50fad4394e4753607af37d5c9ca6927369ba24d99c73360a42a8172e88ddd46df7d520fb9c9cafb5a31cef602c83f33c4a3057898b6a0f5bb5ea4c9c09d5205d129530415e2bb0e358b4b120c82f864a272088c59dc4d4def7bc8cbe005683196d4486da3aff81bcd1befb929c14106f171f369be2298aba72f33db7374e1d5c77db48e61faeca0dcaa0429bfdbf4e50b7b97832dadac70231eadf1448366e5e3f5ef53547a05eee710e6f4ac1506dbcb3aee3ce26445ae46feebdbe59792c1b03c6ef3913215a82082ed092faed50f7bd252d334ed4f3263887c6d35fdb7fcdaab61c72b7fbd6ac1e5fa860f98850c3191695d01b8f83525220172ab77e9c785077aba7fef5f5ae1b552740ce4a4ff38b1d4af9a623fc644fc6ae7a8effb62aa832d7791596ea5775925a6d55678f41cac0159aa727847ae4499963b00b2cd9f7512282a478532d20d6032e64c0c729b255007087759742a1367c72ca0733d5f34e6deb167be6950aad8a9ddeb2985a93830a185f87cc75a127307ca2ccefb3c0ca5a1a626dd575f9d3c1c5b233cf883aded443f4ab4250d643d7e57f5337afc875d555ba0a3d07b94824463cef3810b712eb5aac71180c154e76b2c7e0914f3d8aeecb0055158f171d65d100829917bebbcd1106d56333ae73dede5389f7e3cc5f4bd535d73bf07d6aedafb8d9565f8fe28e1c294b49e3f424637d30d2e556e31c62b2b8f373652410e32e043e8a981aaf77e718f6af26a354f31fcb24343c7c1a5fd1675660a3f426fd91ec1054985313247b9def8a7e9c4105cc3f3634c3123118914b7dfcc8794d790dc218b478ac265cab03804859b629f10dfe67bf299d5e679cc5e45be483a2204ef99fab48ee455eb5afe6319cc83f45f8c846301b4f4ea69b4a172f3b9c523af157e19e56afc55d673d8121185ee864d54bb69cab406b107445fbf566754067ccadb3362cd47d20d83221840732024c4464296adc04312b271495cebeb3894e144e8f0d250b8fba2f17f4432c240760a9cfbee3a5c2d94c0da832ac8687413c440aac3897de023257d2c80ef2d58aabc92c344c2fa5a2b91f5adef888dcba48828d6c2d49a67959ba0d24f6e0ce04694c4ec5f6312257a472f4f66c560fafe3b387e18efe16132127e2115b1c6e36f51683505b1090131064187024a933b4b71d98ebbd65ce29d726ef7029ee6b7b8b0ec8a2ef4006769271235615c49588b43de363b38fc1d754be82284fb3c14c63522c5270641e1c5a084c0e8efcf214e0b3c077661b4c1315e560e4b1379f543fb973f34bdc833ce08c3b37bf7802a9ba176919bda1a9ec02c1634961bc389d3b60a74b506ebebc1656d3572692e23f3f33f1163e4a9632206a0369f4a3e9919801e5caa063d974b56c28aeb5dde69c20c0bed784271f166682fb4149605372ca890960991093777a9c60e934f10d6355604ed550ea4b219336180aaa4d3489074ae3c35c0e0277d1eb74cda2cfe528dac3e98b36a055b5c6f7f92aff67382c44af066c8cf3ff078dd1835e329fc58ec37f9759f57d15d944dd6d739486f31cae7a1675266f9121dd2003da33ed8b76aa68d373d62f616332b66b3e222a90fefb61d39a0361661881ea76c28035208c49ee852c01489a2af432160b0fef058c6b67f41e63cd7245278629a82948fee8764fb2bf2bfc622af425f839a50aeea7d7ed4e10da9babe8fc06befe34e9f80d2d49e6e8c6e6e333f734db7869d59ce4e4eb57b72e9f3c98f674a6749cb7b7308e9782f5547595aa08e5a4536a6514edf9c1ece3a6e5a9e10aca8545beefeb5b5b97dda13804a0e3879115fb8bdb11515f4019b1ca6b52d943da121c633e6025c36932ce539dc0e1811df8a7885799e2ce53bbb3cfcf216d298a813d04bcd7aad5aaa559a1c1a2304198ff205abe8494759aeaaf178e1a0e982d8e22c15678b4ab78b62a33e8a7c97e6612001fab2db098a87d44e5c66bcfff0f4033ed4a009f66fb19e7c2bbfd4951a53bfe47b48e4ea2d0c28df39b7dfc74a6079b9288b1da588c7f1fdea43f80b46eab5ae2f7c438dfe01de90d75f85f5126c8ce9f08ed13ce5568fe65b0761dbdaec6101c6b4f71fede1d23221b00c02e091a7f96cc4a0e2569cae8b7635f6fb1c981963217fb27772f0d56895627cf7ce29f6cb19e274074fcdce3f6c684c781cb304a8a2e6c7e92adbb58794b524eaeabf4096d8134f14a597a1f583bc1e9502248837b02a2f01928174c7862860aab7a70578354b7a78168abcff4adb62f4f1339835182553c935f54f18a5004d4ec71a6c03c3cc2d48f8d765cf98129445496d3451e4bb285c0224db6f9aa1c7ec21b97f5047221043b6784751903653100526d350bbe6516438aa0a2e7671e4b320d138ae2ccfd36ac1bf7d23bb62a95c72441dc0a5a0c5151958968463621156503ca96a71dc2f4a79a11cb1043eb6d0818928169365e07afb17b80f9caae7fbb6623bad1bdc9b3450f30a3594bc22dac4bd2d40aaed2e03129d1e4acce12eb7b48fe9943f8759e8e3a2b25be3e1619ffc215a308e45a97ead7a0e6ee9bbbfe6325e82e73f4d97d03da35794456403c2adc5536cd261df568816e7ce848f084cf6e91972b98c8e066d2ea6651d538c15b25d12a275590cad889b1d254f5be9c878a8caea9d1cd27dd746d80523493b178d3fe8af47821d6b88bc45c07dbf08b5c8bb475acf7a04097c5ccfb4a719437dddf81ae75b05743cfb637feb1b489ccb7b123c2b3074802152b5b117195d0875ada58935d5a405115608d3c67a97a61a845bf8992c81159bd7b32e9d9699cb8c964100cee8dbecc2010f1cacd06484562ab3b4c4cc24d1ccd6413f9850ad9d715b0c4c48f3db6edb6cbab21d093f4f0269239213c23a25d8510cfa6605a9784c71e4af1b88b83d3e605c8b500fd0222c2c056221e07654e1e49d449c4b6d9f6810a85e0db8f12bde6b4b6f932493673ff250f8df7223032d883d7c95b2667f52334c035d9886677f3ca54ff2f90a20e6197391396b77b4780307c2d732225d676632fe3d35b14cb61ac1a3ffcb7bc46618c7a85ae34d45157c31dd5f10112c755115bb8b1e9ef72ec44c93a6b9067e41121f7703ff9a8a58a47971ece436c41441a9bd8f2450ebd0d5d044007fad31c916360fc544382401ba57246f8a6b78a54a2bf25b26bde8de31de314155e8c71a9a391f6412f0a6af3294f030e93a1a66746a7877662f5dd495dc34a65d4d3c2668394be787ca46ca2f57910d95cbe1a172471bdc93a60887bbf8c55c56bc448391fc16b0414c3a9e3dae4bbbbcfbb05d15997441d2c1738ebcecd190753edbd4c75fbe2113293ae8064c5c4a53575688dec40746021ef3e3c79ecb64485984aac8d3c13505d105b18e5887d83a2b06ae917d6cbac17b05efa7968f9ec18cf969e9a132728119ea7f5ce368e12f2030b81b8cf653732e48d9d47c05f36893745a5ae5f476b2a371e40e299a2cb5c8776d109e3545ee5687d28aab730c6f95c41b1b817e85f8c0212333db88f698f3f2e2ae6fb01c41188733775294b84f67ba02c18ccd42e439b815ba312ab8f012af2cf743eb5c3895918ea5735bb4200e72bc7ca75a3484eac46e56bcb90572dfc55fafeae62de5ab1117d5016c5ad18346247804a13e2351e6e32ed569faba990836dc5ffe1efb81a515412b5005912080ff343bdcef15d26676311005c81a1290c4950078050d3e71ba48e66cb43568e4b429b4d18b905459d588f0557e4168b1d3b7b267138a4d0600e18170748dd8e027dc58485fdaccdf483466d237dd48d3a4a281ca7c42f2ad31494b0688f09fb0d6c20737569b5bf3ecc1d17a0f3c21b6295bd49515b65616691f9d88275e608f16ac16e0c9c69462a982e52c512d40512602baaf2acf4bb1aa637d921e859aa35a5cbc28be74d2e5143da6f56cca174d95c89acacf4023e37a23f93cd5b5e53c7c8caa7a81f6ae8906b91f5a357690e3f3fa76040e513da7dafaf1f79f441865306c719d9ec96457aa37574fbf59849f724f20453a0c79f758fc9b047f6927b2a0cab48ae76ad3323a8be2ae212c809f65defdfe9e7ca596826d10bac61b84891c803b74107cd1bbeb8944ffbb8a04268fd12e9ef8d15c2aec94865a3816d1c6aa911ff9d1986103a2275cdf5e22c8d64498ecfe5f5ce27694a12bd38e05df3c0cc12648f6f05673bf1d642ac2c694372cb7e41dc56489abc8886b5f5c48ae642d28a907aded86717c629aa084e8727c47e9b3f6c915fcfb2bca7f8fe59cd530d68a222eab79e2b6c99ba2e6aae7b799b6940f32c19eea7f7d6b30b30c63b804b86d6dbc010055c3f80a75ae216d23569284451e7ae4395973c5abf27a250d1544df45c42fbe1f07e7ac39066b28bf20f4a81f5c33318bd5fd68ff015e91101997f173b2e4f8517d7339bfcaf8e924a0d214b12cacc62656faf0b5ebb8344a755930f38daaae28bc7d9a5d357a426fa08261a143a33961e75effd62e5f6c91c8daaa439ab19e64977fc1d40ba00c2cfdffb63170de7ae030a4adc70bb32138be5e8d021fb7d1b37d4978879be596fcff6ccaff2898c2d25359606a962a5c089d8635940681cf31149e6b3bcd4e4da8c5b6dda37930f183dec6ab27e9f587fd224de45fed593b5a0f941cadf365387aaf654046b9cb1e976bfaa3fa5590cc37e3c84973bdc258cee4f9a283bbcfd10de2f5d173635448886ac08910cadb0375a90531af8b2d76c0df626c4e65b1cd0912db542b4c9c3a2d500602ff489dae6540fb34f8c378661d24bd40c22907846c317d8c26f091b896b7c020df603204cc19973530672d6bd2a077ceb3d5a14ce3a92cdab3ad4d52b8d2e9b1832f038693e38662469bd17b6f0421bb500e0e5100f93082ebaf81a2241d8d26da97263f5b66bb268fa82c36f3d1cf746773895774841073a424e128b58a9b012cb99d96d03ca2f7c4e400dfb0d5114f8654f9e39cc2b9eb93670f8fb3b027cf2435e963104e2c2d34a44731b37aac526d4884926e63bb168818d75d2dc320e72be3d1a89e5398ca4772f3ead1395ed88692b15dc34563ebcdabda3c7b8af7f46dd6eea4b5fc1272c3b2a6fc1b876619c030445f3d7dfe1c6bc8f66081dad0491cde27d5722f6b7c949288d8778ac591ae1c5e5335b0a0f02911d9b93ca251de5db733b43c006484e08cc64295af11c96a650e314563870863233eed015279f533556b089996dccd66389cef2786e1b48fffece3da92321a1d5bf30c1bf1af24156b55b88ee305c273dfacdf4a2d412a3765d51ad16849a283d1f65c11e8b463616e12072225007e30528f85a3dc319c2905802a2aebb9ab78b0ec5b2e4c454f3d9b73e6619c141c6cd718937fc5eedcd9f537cc408e60eea0a575751ecdeac5f8bbe3c989c5e19baab88e27a8ea601945b1c9fa20835d302b9423fa0ce3c96574a7dd3e68522a1a424de10aa2f86e81dab04a03eba9ab6f36f4eaee419fcfaede6cddeaf770fc5f351d879d4f5fcd0adb5ec87135e34eb56f92c0a921ad73b8bd27981caa79a035b4414c193fdd2218ee5bdbc2c4a7b2c9aa6078a57fd347fe623077db18507fe3eaa161323341b13ada4f92fddd5aa601415c2936a7c277f382d5c84969960b7c20cd3b4a8381a105f6397a672ddafc0a955f54a18bfd25cd752f5e09ec8ec857a8a8b1a54b7045aaa716e239793914f80cfaa742ce8e6dfff0a87c1f919d815e1ae125969bcf607b08f40a1c12e5adf37c86fda3c9d919a8c1a42c9e001ae3ff5c6a4b8b6a6e994bfa8d4d2edae6d4345d6e62b4c2ed7418ca79099673f27d24019969bf34bc084d074ebb6b51f9c8c18b09b8cfbd40ffbae094007f03d12824aeb00b9e24ba58e1581dc0f3f58c9fbc1ddc795b8b1bb795d1eee9165bd708777ee8bb82c9cffcccb0ead28f874c806d92a511d4b2f7e606ddadfb4138c3bade7c121ca96e0c32095f1554b60d9e2fe4998a6245206b237ee0369290e7f8c3c10c9b1267f2b65de4ec5afa084ff81156f2b2cfb3e2d5529e264bf2cba3970a08eeefd0faf448c6ea4b42ffe4ce37d90b35f1f11946e1fafa3e34718087ef6b8106e80e078008955f3506895146acd4c5677b365231f08b6c2a03aa42244bc95b019d55508451f92118fd74bf9a89a9aedfdbe12e9ff042c94cfd8d93e8ca8e813816b01c4dc650a4791a81ada2574c77d7934a4c9c7fc1dd0ec8f3125b26e2d8741560818710aa2ef17eef94de4695f254499f36f85a18047499633d22e81459b4802d1991180c4baecf752eeafdf2b5843572faefc444aa5b7e397314bf46dbe9746462be4974761def68b26646011641ace0a4d419cb90d479612aceef4203bfdd7152c92d4d58952454bd98295991168b58f2eedddacb6c583c1973ffbd5cecbda7df1c6b602757f482ab874c7b27b9c460029976996f547584e5089db36403617936f8508a0faaf985449f2693a92dbfbd906837bb288a8631dc6c659bbeaff0512136d315c23982f3126faf89a4989d0e953151223ab4cf578f81f8d66817e6c0aec886e96207ae9e6ba7ac5b117a988810155470b43f3442fbae9d27605220436a66c6c722c9c5066643c519e4dd0567bea14f1710d57d8587adc181bef55c06219b397b0ef4cfc8b27611f03df2ccbb5f181ab8118951d818204eccd8128557618fd6bec8638b49fada6200e0c9bf8b67cb87292ba5796866a271956eaa46a6d031981073c5a6e21aae47803d107731b2a358683adef1aa216a4e13d0e7dfc6b6e56fbb55139dc96f12f14ab7495fec932d15184deb82b9e2c44eb57f17750a7df3a235e17c6b3d9c1967c14b1fdcb17da5e71f8260df8634d7a852d31362eabe734d17fb17434d4677968973a017c29c5a3c158e1b67d23ac8df90a42540c5f188a657c485bcd37f455a55b50153e365c19df911425c657f82280d7ccf868e5574260aad01602ac69984490bf8c8abe5b9cab73e7af2691104ecc0bc3462e04f44ec1cce11f0dfc4f5f98ffdf823964fe8b41d34d3b0b89dde53084ab5b08c7191d58efb75bffac2e3037e8fdaaed8b8ab7477a53ecc8af83e8349b5664cf0958d968d94ef1390cbe8cf2e0bfaf91b4758d054fd3fa817dcd3b109f1275861a963777780427f2c474209eade33fa913296e644f5d1851528d4b07ea9ffa2083278e3ba845a935f508ae6429649b0532551a8c1df612cb5841a5e0090d97590d78407b25e494eaf362832f7b7344f1942c5fd155c17597e9e8ba12a600732109ee3ef1b461b1eea79f6c019b78b391570ff3b7c1500c787c73af4b87cc1a50f0b7ee534486880d36fe664ab88eaed0fb430c3d5a588f1e136597c354d33f0bdc7894ce9fe10e20089e03ef0f93251c234b27edb2c46588c51dde779f25d05bab50666f41d0a7da4230b27ac4f55801984990a255e5e867a9182b0036161609beae92aa5b20a0d217f7ae6c407fa3e7cc8b3d1d02eea599be539beec79603bf595aeb8eb48782d18d25ee44f437efb940e46c3bd12c6486f22736d49c605b071c7869fac99e33188495190471c56ad1541c25c0ffaac2ca784c3a011533de1939a9081947ba3101a3d44411b65b24274fc2fd8b75d4d52957be247028bf64ac855cc375593963fbe1054a93565b33b5a401c145048617d797656df3f533bd6bbbfd614898a32b61d2e3b7dd70e823dac0a84ae8a3b999d2c108d17b2a54e9f71cdf1cd197b863fe64c270ba02d6e6b47c0fdc6462876349b4125b39ff18fee4ed54013c3d0e0612c6ce29bcd08b15777428c2b99f909979b7fae89ff36dd6df0e41b94f990b2fcf7eb20ad28e5e7d7fe7f2a1a1e4ed701741412104eee577d26e8bc6b9f1096b1464101704358eeac5f054fe3828dfe68b93730a0c6e5be02a28edfd0556f8625c629e16ecb8cabd83435e8acc0beec7bfd23936d17efc2ac9d6b7e6dd8d30df8db6e7343272f1b4861510e46a820473800c6d7ef0ddfe4e8cd626d1a34b7cf25e5b40bd8d16551f710fc61927f9608212bd2a47f4e875a3925e856027274dc6a04b408df68c060f4d8b3d0b9e661ffe2ecd53f32e788a15a4596bf0b7d9f17654297e9b255077bf40caace2a2d54b44fa0e394e13c7840aec01654d378596a2328d1594e8fd229826439b7acb020c750f3a2ae7b7e0f78707ff49b2541a39d082d0d3c23c03975f3e639a25ddabb6883c2ca358caa3173d4f7ae633964035229dd0298674387771392f3f626def019137cd7d0a1cc999ef350fe5874749bb0020637fcced1035acb4765175227f0dd03681492e534203702675f63a8cccb7a321574b60f0e0e35c9759bf3088ab4719cc4298713c321a8fe18791ba6b7606351195b8c6778bd28fd94da4c24c168acba33949aea7edcb8b834c95700e8ffef8f9ea4d67525687e87b03a9d4661694135c0b5f1b484a2f6521352a06acd1520a84fd2e1e139ff16d0a93c59ea467cefa836f4c93318d6adac122fea93ced5f0b7e137db7a229f7d2f3ad19ce1de08a8156972d0a23d2ae7ec2f0faa854e5d7b45dbfe00481a5111999d6ff3f70b2e61db62c1a7d29a8af36a649dbfc8ce9c025c406fb37904133522f1d50b33a0e5270ff29b64eae6c0212fedbe0f4a70527f98475531d9f91b5d4365506cc654ee902844967b3e87ae8a583a4370291dc2b63035ba0a8203f055dad40a797a76700166aa505d607c87aafd6b221d7962d363f4d2bc921913f4c1314668930dceb0930ad05c63347f237febdec14950cd937209995d19fb34be1608a04bc8c4153f6de067ba39e4a75f668787451ce57526df50f532392c51f65a4a1620db5a0883634425919f25afe8d7316f78bb0907fb26ecbb55d8c35ef414a9992d838ea601391ca0b33e38dd00d1f0d927d86fb6711b9359fe0b2e4d1cc60bbf2cd7d7e9343a54bab1d0a7cb29acf668021ddacf263a2552e3e6d1efd833bc9659a29795cd927141c7c64d3c0584da586dd6cd99d14b7803808cfe5b90258090ccdd390667644d2621f332fa9c4d26785f1f7255aa18162d067f885f9bcff02ec7c5a31788731efa26cadecd1fa57c0f2766014b37ea8571816d0d90e723f812ae617370d57aaaa42f8d463de72ba7b53ffa2cd9a2467e1304b47b0575ee028024f583e8300a7d31b9e670e714c589e7c79f17302be9e86f209cb728fb5528d857f18394381c750bde7f2144677d0de5a6cbc7fb2002f9b67a54d88ea375bd62ff1e9d7ab79192085b4dd77754d1c37fc7aa854ac8f688be9602257ef4adafb10d522f37b04b2e6cb168a8a1c411dd98e180eb910b40daee50d4abc992f5184fa2adeda281bb17f5095d952550b4a147684ec5b75e0d94fa52f0b63cea1120a4d741c35aa024b3158944960c3973ae1063806555bfcf0b6dc66b2151b9eef6715e9f32792db112ee3856af196b4a1a505666c331e48bb742b3f47e6635400d7f2428dd0633d3611f6963c70d3d9e12ce530943dd7b0d857b8765dc4790cf824550d9d9b9aec011ee6bc2793008be3c9a5dfa08b06e62c1b2772b66ee58d829dedffe0f111422d2c104dc54ca092e48960daea74e059ab8268211e6791e6d2de1217d28ff07e2e609906534dffecbf2a9da1e9b82b58a56e931db75b3949e5417d3a0786987e04d87230eb349b277afbdfc53eb63ddf35cbf6b64ed0a1f920ef321bc34195438836117631af9340d780c3b2024cc3a1f286d18ac0ad3d92a74a1e11aa90e7d7bb02db5ac881acedd61bd371cb1d4d8f8d166bfb2e0d77efd62229a477c69aadd1fc5978f2db1893743cdad82aa0aef00993494ee2bf43f0ecba3db8e6415748633f4349780477f99f00796cc6fa59528a68dd1fce9bec1ee52b3ad835c1abca5e3c100ea164a352385da4edc58e587b90cea7af1c9540c7188811d03e86d2fa21d7abbe0b70468376b643454240d9360ba5eeb4dc1898af034a4c4c2c3ccd6e2b1ba45860dc36449207804d05eea0be5f1b7a41c1fc642a6f3426883b4460da7d3a4f8d5ba1956fdf7475c3e5ce528778243eb334b58ea9d5e4706ab6d31dd1e4ee7bc4e3162afe98ff7a7ce45a74bc4ca509cdaf79ace8c003bccdf07f366665e955cf28b7cef35d58b90eb98f4360f1b0b193c1bbff431332daf093907d67ce9fd927eca71c8fcfa378f374470bb34923951b1708da3d0526638e12ea491b397ec0223a7cd0b9667d59a4557140b4a402d2fc3b3da87a477ce302340093df0f037637a179f23c351b1445cbd6568e82f140c17c5ace8db5c3cf926d1c1e7298ad668dd165fc772b0e9cd2bd2c00eef5540005b3c590302c465d4c86877564059b9c813bb2456122f3523772d0c1bfca20055a0cdf90e43bc4c951550a14c17b3981aec865778013c42af8793591d08b43692ee0b251ca7415231aff9b4b7f8a655d8f2e9c4a4506fff4282f40eb14c88cac2298ff4c4fcfd041726d6e2c30c36d5f934752aa3ca19f45047ce4ec61f61c61196e2f4d60406fdf25f99507f5f0047780bca67b88dc1838c99ab48b1e49b393e8f4ab7a0ad52a4260d32b9c37a0ed91d721453bd9c21a29211e4dbd388e76574cc410cd29e3d18208007cd956c9ebda23d280d9ee0234b24361d15a4920e0ab0d550c37037e8091a18fe4d391fa8061cad6aa3cf05430af9fc934b0b79771fd81d28034e145aef5ab8de211cdc1728a21832df9f97ab54f7d12fad27df866348f665d39321a95efcf7332e6f6fb0a8b79f9c1709855625c3934bcd6cc1d9862d3ebcac706f21d13588c065a0071cafb089766efc5f5debe6b0ca2f7e61e45d40b9e030bcdd89f5eb4beab5797005faf77a577555a46089697d157f937a9169d8a3c5399db9ac4046b7fa2df3e1189fe1f0f0ff17b6d21d81d4ef6b26872d7f3968d9614744260419343dd1c3ae320db38fbaa139cf3d250858d234a2186105fbaf826d9f291bfd4e7886df4991c6685a6073027ce1497860d009034e296e57e51a58df52dd5b809e37dbffe728dfc57f899d1556ded4f855e125541b2d0f1f593f698ca361d7f4cbb623bc91db039fe4e4249f0b410e1fb1900b3aaefc6b0dc28f1d7aa4429fe243ae65e0f1ed60982a8d29125e016e7c2b2fc399b252dc9101d0479acb0bfa687b5288f7be1634c27bb3d8a8466613f2c3dfaab7cb5d9bf620cd340d03f729e1dfb74e2cd42ddc0665049b74747cf669997d52c46526d8bd617f64b1db6512e85945ef8ea51d4b085855b87dcf6b60aa7d0564d95efbfa7f74139f051b7403217904348e30dabcbb3153dc34d827629ac260e1f0cc44f94eb8d867096cf0e0b1642816d90db758ec8aff32a80fdce1f95f79dd7fd077dfdea8b1a6d7cc9f8c42c44d66d14da703c2c2132ee56b1891fae7cb3727e42fb9a9388a488c03c52e9729a2b0d25cc6cff9884a6170bc7339fac06f920b34488801fd55101e4cc90ff3010951fd7a5af051d582c92453d932d0e599f4a748fc03e4c5a5aee47286646b30d538a19cb3e97ece4ae088ae1b5335315e9e3d40a98aa26b36e805dbb35d96b468d2a3d41b525d893b72d2459c2ffcd10658240ac06d8147cdda6bd86dd0f59bcff2ae4949689610aea9e175c564f1a308989b3a3cd8de42e40097bffb4bc0b8485926fb758e90b21dc6c74b45ed9270dd1caae4850ad09a5854d1d4971c1feaca55c976106eaee9cd292db537f5c91f3b85d5ee16b7991091aa8017ca8d83f2dca2039706ca2d6e1af7894e46ec3e5f35c6ac8072ea543ebb0c529ec4b06651a3c0b9fdfe2804db3a065b052aae04e772aaacbe16f694ca055d1d51765f4915a1d25b19ecbeb1e6c62842fd2220dc51da85d97e8a0be74070693578a69b7b76d0079d503fe4e846df4e24c5d8bb408415f1717cb9e6d7940b32320c367f17e2ac0bba514069e507f6375215ca5cfcb99b8f92cb50095b6347ec5eec6f2ae404f46dc51856315f701a6a0bfd967b48642b22ae30543669ba807666bd49e8ec9977c4440ca249adb943b8cab0a9b3c59fe2b7c0e70f4e5e34081a049dd38cc4aebb0dfd573887e1d4e97acaf8d333cf1fbdbf130fe0760ea23ddd4e334bcb6f8b61ed22d1de222015426970a677e4f85e521b3a8acbe98a4bffbe881e4a45e280663a982a4e11300a8a8af0e1768ad39553d99190c87a71470a9d12339b1b761ccaa923c4e6aac10dd4bf91ab3903455841bee1648f4cf5ca8f7c1ff00175c4efede69ae8566b3776bce04ea2b4064128bb3b882fbb43c1f2c849b9a2b92010f774b7a74318ce4ab450d116c52749432086f9b5d221edb38759275adcb5d80c829954fd65dcddf498c055a702c88922dd84719ea5fd4d88fd89167e06b33ba95a11c0cab5fbff0565e0cea4106b50d41c856e368e4c1937b399d7184c7afe4aafdfa93d6f07202df6059a874601a83f4f798fa249119c59f3baa31dace35e652be3a5d85478a79e74e6eca34bc4b8ba9a93e5871e92d3c69ef7fc677cc2e49f80381b28a75a1d9d129978e9b27da1fd55b3475b72e80b1b66822bb7b47d4889b456596a20d877e847451f09c5ce4f9aa7f070392017176d19ed425bad77b9f0e635b72db4fb9e92983779ae73d9341a4b3c35d38a315e85b96a9b26a78734b6cc569970fae0a6bf3e4b6d097eecaad4589722296d59962bde7d352d048a4d6113a3410652de03ee10b4f143349e744dd8c0231961a5bda9a8e56b69a5fbd0332b9d7ef5d30be48442afd3aff453a8dcb392576505321c5a7e025348fe1eba41c0e354ffb86eaa771c205e4c23e3a439b90804cd051fa25a13fd5810b803e2255fd98a970b18257f460d479482e404f70cba069c050d38512f155af92b89d2e52d146c626af1d343d4ef0475f0d2ada5c38359e5bf2802950260aac1c4d4e039862ee7851de3235a7ce84b9aace5588633b264df74f2762e81a9c6099f373ea5544a94fa7656b088efb6a100e3dee7e02c038a5ee5a14e2043477bc7dca91ba57732fda6f8675610c780b6983522b3810b353ac71f47057d2ae09661828216080cbcb85064a6cfe90b2c351ff6d7d13a9253846bb76e26f5405f4e7313f3ce23e634fcd71d1fc3caa19b90b16e30bd447711f0190f1f4f694e49f343b7c1b38955998efe8a8cfbe6980bdf68eb1f7a10ec906620e6afaf55992f2e13d0c837ad75a75a2253e62ed5bfec88f2fd926a9d65209f0093e14367200233ad1990a097d3fde885b141e6c35b3831d1510a129d5c6b162814aef2e2e049bcba7027a291e42d84f243131e1a7d6449a7a1f24c48f637e612393d8d50c97f1475313e50cd712500b84edc05691b266d8d16e9aa49d72ebc22bcd1b8fef19c52b55ae237ef745d59b81e5830ca109f5e8a8f645c3c07982b1d3c614f08ac7708444cae846820f4de2e9c174047775df99a6b6865978966b8aedcdfb8c4eaacae0866e1c5ca1581acfb5871e9426f0cff9eb5c4813d20d026c4fcc0c7bc0da3af8cd5bf9fec7640eb4ac51767eafe096208da94185b1c03b034dcd3f48bc6718472ed3aac798c44eea1431abfb457f246754c9bcf665aa637284262aa78144c9b290f716371c59612053df950dd5e08600125a636c87ff8b398c764c45686196304f8332dccfe2d12e3538d95b2dd318aab59d6f41e6181ec66bd44ba17d513bf170e86601c107fe83025d006a47221f0e8f6ac6f7cffef603084b2389b101dd9b0dc4175b4f1600f83afbfe11338f55c4004309ca2f230381eb8b644e033ca7f343640c9030dfc6fd42bc697995d07cb3d52ff5ef338f6cfb2c1e3e26e42d6e7328bb4b8fcefe99229f41d86e4483abd1ead470e5937705e58a474233f803a360b29620b7d596371b1223848d4517187790eb34793b2bc7760de0c829876b4a3b7488b2f499dfa377145425a54b357af19b5be3853503ef34db57a0fc793dbc30634a701977ddefb905a1e0a3f2523711ee6ac2fc9ae0c7726bc8b735d20ee5b93dd6eac1b08bdf8223d103f51b992c538aee0eef73c33f4460a3d63fdbb2666190cf18ddd84128d71d58d2fd9a47a1aa97959b8ca28856f218cefdadb95a837c64f95cf813b5b949fd0b8f6e4e68b574b06a2eee3b8927744729e5ffa128b5b9077189dcbf026cc44d0301a553823ccf69b5590e3811863fdb47624c9ea48d226b517d24be5e3231e8447ec771c0359d7b1e19388d6c789a94df837938ad56f8098c81a444bdf1681d3bc4b57145a796f51964d0913583f13cbd0f06229a667d73129587f1151c2d1e1e7e6da54fd4ed536f687724721486f827bdae5409a8fe03fc5f7fc9bf1b0e8e8a02da643ecade7048a7ba350284f8174613a37da683ec6af60871a1dea9dac954477dca2d06c4b39bb0f6454a2046a97ea45ea7bcc2fe7708f87fee530ccc168033256df35611b14e39990827ae3b325658683e3df352f5f555e0975ab0e0c4a9794abce82bf45f444a4d0e721c42038f4d6b63f9d9d52bdd7f360256b7af3c0beef04c90418a45059b9e57d7a6667ff886ba62fbc2a9f5b7e76da29c15a6a295f8386b5e9eae0be98b1ee9fc71f03b4c4aa66307bd549bb09d207ae24757d9ef85b04fc3ef9cf59cefc5ed02857618f93af51d143f7603fc6ca8fe0436bf200c89b15c4850280c62996ddc82fd7e400947ee2e79957d4f1b3dc1181a468144f806695cffae60b943394cdc80849b858feb8a3d279ad05e7d995eeab930396c5af6c2faa24535927cb103aa9858169c56824b9f2f37740b3ca405406f8801904b72b0031456c4c4c2e2bc84b70bb124f66afd97c227b75b4c8d033e09bcee08bb65acbfb1fbe1be0be26a1ed6b05a2252d55778b752d095725c4c672d534affc08eedaeedba6ea0f3a2303509d1502cc43e4cbc95572dbff93f0d31b06d993c8995269b2306d7eb03f3f5c787de7bf64da8425126a6cc87bff204447f0845f35bf4ba1666fe86668b479e54a748f3ca500ae32cb98b60642c24c1940c8ea54a07d9d079780bb5313f1975a2a0e569482c2949fc2cd31479b7f992620d5c808bfbf3d6fd719828a2b8afd7ea98db86e0c7753c10258b610e4204b235de05849cc6de4b9739e37047ee77e5a83d4164e8c5313eae4bc218c3c3c496dda15cd232793eaf4794ade0ce0c38b5646c511336a9206ea89d15010506f52d23b8d5b65fae47e0e1e0ecba53dd222e78ed09cb5c056b7536e09eb4d2626a439408f371b7e832e21ffce09c13aa503e836b26f3b57da5e06fd72e4919a5fc177dbbe9a0a8b86636e95cb8c2e7977e600cfe5ac78c33467fab75ce2b7a6283ed680ae59e25807571df9af9011e23dbbacc9fe8cac8ff4ec0dfcb8b4e587a3f9a2b828669173e566fc2de0d0e253b16b9fe985810360e85b33e47f21df80a44d1f0183580c4531ba47e5f58bc3b1a6b691e3f2522b22e82ac8d43a66e4913a71ec9b47c4d864742d53a9b1f3f958c728b593cdcfe4350839a6ef6a700406bb79e4c933b809f920afe485a24137af0f5f14bca85bc4d9a16b32311cb78e3ada4c483d9583d2302a337f39189dd9c3f4ce43f0b88a645d553537762821a938b0bba8ac2d0674bbdc95c9dfbae346a9864e1c4edfa5f1260ce4df53312989662ec1da08938caacd27fc46963724d7fff82945bbd19b21acfdfe6d42609ddc377c82f05ad1332b24d9515afa188f1d0ec009b98036c0236b4d60379297f62ac2bf50a94233760245ed9bdd7edec10b1c7136a4bc7c004b7b525e4f953815b9a3238cec09a5effb0433916df8d81607fdabc989e80041704983407f64af6e48a77ae16d54f0f679f5d6072fde0e0312addc2ba0564358eb1aeb6633f3da9beec93984d218f25b0f56821f22b46db2ae913fadce7d42a5bf10d5b92726105539f743e72f1a1dbe63137830b126ba19514cf8a6e1a5daa7308d127d5b409334e9379d8a00f1fd9bebcb1c42fc25273c66e3b9cd0dc19addfda4ac90265c6e028d8849f8adbdaf1d9463a0ffb76f82171e5fda93172dc7c3db0321f2982882701e1a983d4f20b831dd8cf6ca1990b21ae1dfdb14d0903a5792ef511246b84d0980cfb73d7b9e934bf968d4fa21ef3bf96c27530274243453b386612de6db10f7169187d4f4b7103d8e48be2df57dba5074e1d95f309bacd02c765ec62becc1eb9839f42aa923c98d70c1ad39f0eb29b414dca43f1363c0d9a9fcbbc5b221e93016ffd6208f09f2c59ffe0925dba9da9e57fc364f630f5fc51c0e23b83998bdb2b52f61865e1a629af4253dc568131645fc6d7d2b91e4bc6415ee0616b3241777b2175ebaf8adea1edc5fcdd90d2163763e3ed635e4ea101c6146e918c49e3caa3abd384284aa16286f5b2e78d11f5f1d0d8d088788150abcfab833b6c04ab854aa1d50b8da678d04c8fbc26577278ebdfcd1f06097a367fb5558b2c9eb1c9eae6ee748db8c74471f8e75149636dcacd3837050ff0829426a80b50906e3cc88140351e996284047f9314421b5f4097197475d38551cfba3bb4a83799a7abb2217fc893fb9d07050f515d5b4323bf08c6e29c7332c541f7c93d58c82c83b960d831e71f67ace18ac35ee22cdb4c813e43e67efc57cc70c82dee9b50b66e2e604a182494da217a3ab77a181be1d6c5193eb951197d71ade510d2d281dd99fb77b462700c6517b12a53ff22bbbf7a2fe347958d1927e3d6094c503cb57ba9ef58792421b2f74bf2c3a762c1cb3884ce1a855ac557294ad5f2852aaba682ea2f591082588b575ff8611944f2b4ead1c2200aee21133c8451760d2d4f49e894c080454077d191a1cdab675779be7cb2380f0e479f698fb7adb57074663194c48fe6620689321d97e32fffaaed557edde1dc894c92399c5711d86126170596f7d65a23b72cfb362748ec56c323943cdb9e5282fc4335532e16e52069bfc404d33e21135802528a950bc2873d2f855558e9c6045ed50bc954c6a7cf16beea594365ac26ebca6d34429e1402a51843120bd46022bca1bc883ab13ddcb0a0d6204f6be72ba5f0ca04cb67a6838a389b27eb9c4c5af7107dbec95b174989cb60bbb3570382d400c870722071877b2732e212c3d5ecb4bd22ca7b2df84b37530ee7217f0097b2d62bfaef6f2dd5a6643750d13c24e8ccc2a88c70035a3a68974bd4d603eb9027d9698be813f630bac42e32502f29616975fe9d70c76cfc70f6d224d541fd53503bfe31f927439486279e11435cbe83f1207f6dac11797d30cfc456443187cbed3a82428d1cc38c51e57cf1dab2289a10ef31d297e4e8dcbd20fac8660c31a3cce5efe94e14b26b3bd8783fb1e9675e004188bab2e9b59b27d5a8208f66b4d9d37f044e6dec6a49a1804d9528dcfe517a51e57a2a45a0428bec377e254da1f1f46c6f1b1b5f425fad6df070d394c2b7feeec48d4d9a21d0705ae0e558c172f54ccd7815af116a69cfd3bc121b4349e90b7681f92119299e0a82e6a4f776ba7b6bd6cce21d8d78f5fb6e4235f74271e9a17f5ea601afa5106c22d90dda622427edb1c9949682fcf2eded6e68b8eb95bd8032f2f312fcce91e9fcf8fb1346a7a496b3b9f8d245805ab6f9c237c0649dfb844e75c54b0272287573edf6dd1dd27d27c1941f38f47744fb239790f515eec7d70825d63ddb4a1caa025ddd6034a5dc72571ff36c7f5c3bbbbe28e058c70d3a2ad00855720459b35d767cdeb377992b05851ccc18def4953d424e91d515c6f78cfd89699e4e3d817b9702c5e2065b3f7ef11231a4ce8b9e75888f540f32c3061145fb68fae4d33b66fb35bfdaab1d8a6012e69f82f205d2e7b58dc32f112eb30df2e234648ff48e9603001b7295a162c59288d185050c9390d34c293f26db3de0afef63a89909ffeea23f7d7715f7acd909313b5dc36a89a3595f1748be41ed2f9082904496ea35640269cb8c2e40249c4e1fdaa3fcd17c9f80d56041ca572df5c07d9c8f6eb905ae42256c2209d7ac5d21e62329443ea21f4ffdef62ed141c25d5294c8c6b4f3c111a56a3c8997bb98dc303304c7676c5bcf5718387e35bb56cdabb0081785189fb865f945daad6600180722f3994a16b67793f0161b7d6074c2628cb46178cffcef9973bd5308f0e4c99217ff5a0965a9baddeca0a2c4e09d5e43095847c20263025d5c649d2e62addd330080194e5a054533757ea8b0c4bae78191e042d1c26b8cb78b4d992bf431e16a55c6ab44d79d4ab20cf88769e59b6bfa1e4eb716f679f48571ad8e6df1aa9ca04260869d7ab84879c812a3f254c9c17912fd84ce0495e60cea581eeea8b9c516dc0b30d87b87199d4d759c5af4c2e10861","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
