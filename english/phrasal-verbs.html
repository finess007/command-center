<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a6758110d7ca8faf29875754a0f0710fac0fdd7cf7a93712f9b4b4ae607b3ec2a56545504498d446b924fb8b7f0bd5134e568712a89595c7d6dc62bf751bb2578030d0eef806fc67d3c4d081ad3c2d3c0c9669173ec94c42fdbee4f2ed45a8882f96969d7fe40b44ce56aaedc44d6dd8ca19a12a29a2ae301f69666a78a9e3c4751e8fda002ed0c5c69e00e6b0cb00040b4dd60aa13bdd9b08106d74dceb581f3f39663d47604efe8ad61eff7b2f40c0a56461a2f0e670cfbef53c099e1bff3fb63f617c88989c86739ddf6b7b66dca05b24c010bc97ac22075f633393f039a9c2b03f7df8d4e332cfe3d0115dd84a8f45c63b4035392198a666bd9ef025d03f01f0b0516b52c8643c0e9be469512c75d9aa186260d61617a1dbc9ffccb887b6fb57d50218c5041ddc88b2cd95e33c96437fc1d374b9e6d2d37417d1192a72457cab4a624853089b6d65161cd573523954f9d0ae5248f49024d6a718caa0d94d6128d6a525328ffd47e7b5b6ab1262bf97f454a8feb267d1569e3d06acafa99c69a9d88d83f72f8a3a89931a4f7d4f27600bc51db9fb5735690310a154109342d80417de254f5ffd85d22b9e68b9a65ab5071354ca362a0e41b98a877a25b27620354de8fed2ae522a0f89502c27c0c6bb8127202aa7f5a5e317c0cdd2f734d84b5be7b16d7b9e85656e9e039ca41e81c7693d5930e95386c4052f20a6abd6b115f22e87d871abf5237f248f6978fff6970c52b72dc31795998af45f26b4f6b5356f87f9ce7602cd7420d54f6fcd6ae12d70354d99aaf51395d7ff0ecfebbbf677b4376a222215eab0aee16b6e445bab5a0ed83af93215056c81d5c90d13e7aa08551100bae55be5fc73e76258bc50d2c99265c7b0daf4b57a419c8ba70cf1d9e80fe15feae1f92de34e64da50ac95d9cc48082891645fff425315835eaaff512e85bf0cd08f7dcc452144862ee8a21b0b39f6e82d5c54967ec41d3afe6328a79cd61ab023507c476fd9383ad95dea93aada7b32a6d8bdd29b7f96eae8e9fce579870aada0803f48f5a19d15bd7beb50ad8e4b5732f9a1bfb0299f5389b2c675c04e29f493900e12fd5ead2eafca4fec82ff894cd142710842f89e8edc0d5662393611279843dbda801e8e385febf9faae1305d5da9c9d7f2680fe89216d0751f53b0c36cbd8000830692c5d4219707e1d0fff032f67332f5753d59cd1952cf25adbf9348b2428f0eace56c29cc2e503cd7f5a8023ee81236cf3b532d25a7f84630ea2cae4a44241847cc1c6c33dca1ce71e89d951b9bb3e5a0cc19bfc5d9fdd0c5c93cae6b95dd96e65dd2f2461d933998b48fffaef61d3286cdc1cc0a2df6648a59077e7643ba86643eacaa25cd3fafad54008fe2ecac28bc4c9505d3c4825a480ad7d3f7ab4adcf8b3ca46d1a56bc56e7979dccb3691c225c3b12c3c22c143e6487a0928fb516d44648c675813e886b3873e3c12b0b951c5e10f683f446afc32b9b30acf90b792e7546049be2829ff65d99ac52e0cd3885e4c43b1b2111300c785918780294040afe8e917a2be25ab4668247567007b6f17c511a625300346ef3e90473339d76dff3263b23b1192e3eb74d0e1a81d6fc99c5915c1d5e951651360cdcc42cb723b179719996fe9321b31b45062dc2a0961bc875817f6e4dcb82d0ee42654dfb8c64d1bba91d81d458e2a82c9045d47f949ae18d9fe75578e9238713c77c6d0fcd3b3b3468a20e46f15dd7a9a484ccee79aad8c1805f610ac483758e29b7ebd2982b0c79616086283c3d40bafb57553a27a61b8a76003942ff2e38de7eaefc2580b2923d37f1ad72bd59725a14422df37d9b1ca8687d197b3f6891f534ba856709f3a23120d35584733b9867d76d10e857ba60c2579de778d5872e8404b87c8106d21a237c39c64fc314e6ee1ecc237b08945fd70680ec8a23d3c13b6d6945308dde30360122cdca847d0b4a20735bf4a64c9090ec8631e4ea419471383bdb7e24248f170fd86a6975725d19bd69568696c5ba8630bfeaab90e5d2134e9847a979a1519f2d64b19e272a27d1e8eeec25e5bab5abaaa7460b005fb4c2ff6e94ab48a8117f34c2c07cf86e9da55b6caca7db88731704d2a80dd6e7fb4010dff6e6c5fc4f752ff070b4b06194d868842a5fe7d648112e6b11fd757d55ef909300c5357db0fd6c57ee4171a4fc80dad700b64df2daebc99a95b0e19176a2d6af7ea7f6cedd84ddbab119179bd5e98b15817e7b50c0a993c3f2ce55d7789cbfa036c680a43fc4ceab14ddf3fa0d0d957f4e0a8d8a856edf92a2d75ff91e58e8990fe9ded1572e654886f96b26f1c5d1aa061c4804707caf11408c6b643f8a478377bbb897cc215e4b006c74b987e121bb4ff75bd654b7c391c6bc59836d5e030857f7ae01df00d4ac3167c400547e2f418017adb09a9b1ec1d5a2dcd78d17eaaccda9d271b058ee3038fe6bd7e1b173b1cfe15e3fc6ff1b125dc797464f38fc65403398c289e405e88f2b337eadff01874deab31db2001f788ea0fd35b809fe792e3f4b422ef94b6deef96ea249275f95ae2ecb7f5616f8cbe43b7fb0967c662aff23066eddd072c71f74b64da21ab47498e94fe833ff59adfa140e85d054fe44d700b44cdd2116f42a3501d24816381bfdbb6a522d461493aa9626b41f25e467ffb4a2eee99e5c8a278664743c1810df996d09b3d94334126b49f90867e5b99655c494b38085ab6353b354670dbab34e0a341b6c3c71c16a85ddf462a45d1cc741a9a3814e8ca6d15a65ad092d2c33cf67c817b42e54c2674c365e554dbadfd5b37d8b1c91e19a7d06dcca83e84a1cd2fde3654b42fb522b78b92b6bb028090a8fb2b046bab5e4d992e33e2962f0abf2643a0ab0be639dcdec98c1b67c21d53a193f816b2f4bfadd1620d91343c2df991abca1f4901612edd38026c85b73d81f41b25429358970fb4e96d13032b71c17515068477005be9d0a793935784cbaf67e9a8c9d0d4d47290ad9161c752cf46c0fde265f65d1b21dce84468e8207709f9069c6fd79368b33c2bf0c1a434fd9fb506eae43279dafe7527a451c7f0dee593a982126b1bbcaed44cba37c0ddd08f3902d9248ec08da12e23aa9d2e2c2e01e1f417bed3ac84df080a6e9c467d046adafd54f1d38d9277a37ab1247ee29804dc537f7a858441723efe31afed5e8029ad3e4c3e194d0b79ee6178dee20a9c85255ffa9c32e0e72434a14319a23400577ca4e109efd1a48cc23dfef7d05df4e48e7ec9e8d9e1ef24ee9202ff99d1c3d615991e2a47859870bf933def5887451b4224abde829fe6c5fcda7f37a7f6d1a584c2494756692468a834b6cbef559d1a04033be50edfbb13ebc9ac055893d567d47e8874e7ecc32006518ab74e8801b32ecf70b1ae9a4ac7ca27e279092d699d717ba12e2b5353d321320b2bec68ba0fbe7d16d7b098276a009488cb355e9de65d320874fba7689eb22a80e87e7b8b7d6db1f694ef9bdaf0f4b441c47df9f556398eff295a5a089a6b920f42938ed4cf5c986819e4343fbed6e50bec6a7856a3775099bd4d5ab583d22c93b2243e3074eb326c680968cdbe1338f27eac235493be1313b2dc859ad58eea80d63e47914e900d78a1ae15157d059b330230abf2fd4474712978b3bea075490fa02552ab6fe6e37bde3ddfd6b0d6ac3524f8060cf86628e8baf546c66d3cd6c2a2d0bbf072651d834b23b6d66fff3a64754cc8cb6f84ed7fd723560c83bb34f76ee79a757d88f7fa7e7dc87d4b3beb711843d617e1890951fb8422f074d42235adf82b6ba8c992e9f5ea8179bedccffbb07b0d20f74e8c8e8fc3e8247eb9aa47ad1a5d2d2e6eb9766f32f20fd6ef6725c14bf6634554ddc3572d682f5010beff14262335d2fb963e067f6d1815f5078f718430d07365e7acdc8245faf2aae49feca126880c211ef7ff4500610e15468f578b10102cd9de52f9ef36f676f7a55fc1bafc07cfe6bf3912c9f3f4b1f26e0ee0f2d489333bdcb41ba765a4b7dc7f565560833febd908e9455781846cf003da56157b7b07a91b6b8d4ee4f8b73226257c0de06219d06da88716d6331b725fcfeb89225fef5b6be95dc37f3cdaba3f356a1acb95e1f26876993f0ae24e6869341aa30275d905052ab834e9bdcef7812dac5057cdf96193ea1f619a8008b2d7eaf6eb0c6511994cc943b710417b480235f8e3c8d2b319e4234eac812d12e6888f7ee364a053aa0a719e7784b89a462c5232cfa434840a6fef0c838d7fcf91481a447116b7344525604b2ea17d2f083358ace6d3703f1dba195a9b8afcffd912dd37dbe7aecceecfca828db44de4a695081ce2db2e3643f140dd6f7e852d74df9ed610c3a1f4bd3e5a0d0e4d355d15a4b3b41eec26daad1aabae808a06fca66a3849e23ef64df5abe9de4a2177f2c28ff0309ce2f2fae089851671f322cf58de570548760920dca92e6a8be74f560936a4a6f8fb44c462386b0db3d8229956391b95d566dc79de67aa1b9be89ca2e7e218bf76a7e781b8f6efaa0573a9d23f0d69a12b9c4c993a21a694838d00b7a5d860b5ffd91649bb738d5e4263620ba8dada10be8ace36b1e1d9d5617e38ca506160ccafd596a537e0d1ce7347fe01023ea740576dc407e6b03790c99f9b870d3cb1ccef4647a1e71ac8f055c8860d2845d0c6705f18c05a50177a8f2e61f2fa6e9f76268ae5458dfd8026d466926205fc128ea7718586d4635f6b9d478772873f47790cf14a2da39132cf1da73d93639370319e7d1627ef124f0585bf9b0ce1f4ef947d73d8a651f93b41ecc79631f6e0d885cfd4a6a8c9ca2841a91b897f8182cad65c684a976af9b5d41a5e44b407e74d1f2b1bf4908cee75e89c48304cae5b26c1c26042b20374374cde070820bff2c476138da0f78ce0f47f76a015b788aa8ae075584d2ae81465c482fd000b61e22fc00b99cc62fefdaf22d25fbf96721d638b152900a8352c2cbb437e184e87d44a647da66ec21bdf7dd6a7345ce77e7a96a890e6643eb1d19c07156268ceb4836584975ca4dd93486e5aa0f768ff0fba3dda4ad7f3a44d5ca3c0b26fa71c092477a9336d88a8f7321e9812d3cd02cc96e498053ef10866ef7fa120a05d21283f74e7e81ce5d85470441ef259e591967fd39258efe509dfed98006a1a8c6fad760a80c01d28d3acaf598f78ab24c1ff80d02621fd6106af634074f4155514770d430aea4f5f3bda0741f8dac1c6988f15ba5710452b52a24a4ff1098b4dc6c13bb39bcb44ecb6f10894ecf4e20f13e054efbcdc75ce2c105732906d8c1b5ea34ec03c087b171bf9ac35bf2964b0683e54b715136da21d94b9f0d3e06903299405093adede6ab5e338c445c594f9d79f55fcb0f2f7c10fb690fe8b024db19b04c3f0a7c747d4126560d3e41b616c50bcea979ee16c8eaeec86ec741f939a3a1522f2ccde5d09732046b420d81911c8be1bbabf7b91459b729719d25a4a6931e287b0e9400557d74759e25723c82d7dee0efa10f34913b05b32a2890a78f84f11ba867fdd96efb804fc5df672855ddec5ab091f815a195641012520d910134cb371135d3a99e4d80bfc614620e8e0023ca8345bfc6ac818296b01af2c0096111ea5e3fdebf3da2a3146e250460e906a2dd955b25f0065812990145e62abb3980f1d6f1f15bd476dad3e232972026c6973f92f1580164dd7c1a64f9c854e5af92851fa8e8234bd06d2261739e4954d5c4d9d4fd6f47b81dd9a28080a988cac64ed456df81a34d11b92d3bcdc46e6a3fe98e6705aa6f0c8478b26f226aea2e15eae06cf380c4225512e828eaaa108c53142f5050059e0ff5925130be4952ed605fb101eb2d970a49e26cd1b8c91fad1c0dc363ba688167eba4a246ccba6e854249a49895a49d64f07214cee0d64e9f36569c8559552b27509d63261c09ad32c5d1ce01bff8e44fd6d82fc6e27615b66ce0bf03de3c2fc14b4e1b4006c7911e155f2dd8fd79a7023e87d9f6875433bda42520dfe87dde7ea431a9cd387e6ad1cdd02a76090d1c06ecb8196899bf9736d97b9baf87c970fc00dc33efb213fc17e63d73a15dfd66398bcab9497f3b74a15cfdb6a9945118900753a0b62af29c2be8be356bb6e941f16bd74a51a29c09fa8943111643e182f514a8a37a36dc51cf93833d8a663e029160eb15ea898bfb5a5211f3765f592870bef45a00eae5a90da29fda06f3048703e44ee8e09daf38b36020ed9778cdd10ca03a01268d70659a083741845bae42c226fcb957c1cf649f07c75077af71967606249b48cc75eb27d16392fc0c1b0676af89984d95ef23652ec5d9d679bf3291648d8ece358687259ebb44cd4ab8141feda2d02df9468f1efcc83e4ce6f3040cff0fdecdbff926654f4261888f1a4a5355d96c007196e05eee9c782aef90d295416b85afe44d720f9c1c9aaa16804b9f77039e9ec448fa6b4cbbef6d3c2383694a25c7828bc347d46727422593fc6fb14b04e9100c31ef73b265468a6c523fb71450e1b8ed403072c6f9fb0e78e64ec533f102683a6ed11d9c515269cdcf7f21f188c2a440bcff2aeeeec460529be4af9682c51a74478c7a20c0c00bd1a43734e8eb1dda2dcd539e25c70385225fe8f32369402e64bb7014e8c295074d186a8c1f7299627013454712381d868cc5729b62583d798cd28988ccd2f1ad346e54c8497af7c4563509eb5240a7d55951181c5b78a027cd996768f9506b8f279d25d1ad5c0fe5228953b457a7145c7578efe6fc682e93609605816d04713a84813705ff4740d738d2ed9f706e0b531c92f131f3d7ec5ecbbbfb8911e36f5ae82c4410ef3441eedef2683cdc2695f95bbacfa93e5e992f1e1e0a4fd1686d068aad3de2dc058646feffb4dcc0718f74ca5aa93c7ba5fdb16adbe53bc3d3a6f8421634820a14328e9f06d7d673eadeafac763faba3e923551ebc354f11ef4bab2e159ce23dca079b5b0b689b15b552457b14576f5468d90d4f327024d93e9b4170079cc4fb0063dc0f3c0cf16f2d24fc17b9b37abfebc49072b0a28c35ecfce8a96e6a233750299f3618391a6e1b68dcaad7c1eb08a64f672b08fb92005e92d7484186f3185a4ddaae5180b633001277c05e683b52eb861f2a2b5f88ab637bb6c8d349fd6583063b1e2d63221eee360415b37ab70ad9baed6d92d0bc730621b898f9192fbe4ac18c57c41d4bbe8e98b90027cf0815f51fa65f48face4fbe87bd1fd8619e92040994e22b5be1f09b05935bef2342501fe86102a80480d95c67b9a4867420d0b45be4c8af942e3be7c1404be9c4f83e22030df6b3c4b134d27051ea8af6cb2899ac5be21e71ac9ef302e75907398785461ab1fb13a4054fc27220047370aaea74ff640851b3609bf9c8afbd1a8204e605aa4e5071f154da2be9fbd19ca192fe80cafa58b801e5f8cf510b1db9ce3b9534a9395b27483e4fc30792008ba69851f47b0b6f18ca2b3974f20aa0b1109d8695cace0bfdac76c5b5aa6e2fc744a9bf8e28ef181c636951bfdd840f693df5b6fd3b31c1f81ec61163260c25b7f0accbbec3a758af0846aff625f58925749519f7f11588ea18adc5eea9ff83a909f91144f7ce96c92bb538dd0ceefd780ac041419ad9fce3189f97426a8886f58177bf1aeaf90483254f645d49270395412f52b6e7cf23a44f3a22956bf8d7cbd9d459f16cb83bb23f161eb7cab0500104ccb914633b17dabdccbc4aa73f4ed102821f9845b2c37c20a7d0a99726c5fd52ceb2994f3f11cc6701d840934aa706752935bc54974ea72ab32b970acdf2c9c18ee6379067b62219b9fad535feb878be2907007e2b8df91660fe011905d056c7fdd4ded0336b970136d05c412804cdf64393f5194b089722acf02d88e114241ac27d16614cada6b3efd2fd9050478ce5904f85cc8efc0d36bc4821166f43ac2e45d1837cae81d551c3811c8da30c737bcb5396f6204798411ff211b2135a2d7ec42e3b7694cf0b42a2aeae7dbb673769e58eb32a1e2c62a3bb2df3ca98376edf5d267569b94a78ac2c0d44597683d2b9cbfe8dbbb4cc72b4262abc782c147d34154eeb5acea40faded30519fd9a178c6e50a95657b092defd87ef38e43e8e11d8e2a135694a76150ed213321c0859e8b2fab4597de50dd356fedcafd6026bf21a4f02f6daedfe03a7263712f0656e1df5eacf7808e8a719132268fb8f86838cf5bbede14c5bae18de678792fe9302548af91ce8b7e3d1649bfbe5e8db3c193cb1b8c90197dcc792ae7ab82b60ce142723658212fa755b659a82495e7075254bf42216ea2566e2d289fada5012798eb8f4cd8b3e050cf15076dafdf32ab1a408f577dfa627103ac722b2b5105c65a3940d0eaa203a78fef19d4e4f89b6b80ee1ed9a4f41ac444a00c8c11f41531a24480cc6d98d62e08f3617a215d3e6b3e9acb4d136dba12c5522e9b50b303a700b8446136c716c918515ddd5aadf791476e476055f4698554ac1dd505898c032bf752e6a1f478bc6b20168827cf8fb55ff87a3b1b94fb18c6c16d7e2491fc524d3cbd0e5f6496e1fc011b8411c85137f7263f53a2ceae57a9d683dcbb2a46c54f55b2700017ab75ac203ade1ea205d89622f59f29ac8b778763b57db87643d661b52b608a1bccf63863643df30a054a8f47d987c6f98ad791be463261176666973ea08b908ebebd99d1fcb0ec4ba8611b669a289334ca2df2427417d17dddd38f25b62a6fae9da2c191bfbc787f97c8e338a047f14c71025b6651f8735b7da11d3961f8255615c60a71661404dbd36ce11412a3e5a0bc6ea794cd6fb6324c694127f33e547065943f769a955fd435ae0d697b80a6c1cc27010c382b8ca23f87ea38cf83c37912dad4426a1c7013921aed60643aad77bc39bae3bd684a4be747f7fe1f02932a98b69fe773dd22281fa5efecf252ccb37c43ad487e5f83094b8c1f8cf93092d2b8d1dec2d063c3d5250e76f1f6c97a59591f6ea178ba991d586c8b90ff591f1921a5727b9b8e02048bb8f039574450c6f4af8c5778c2c501f8185daac2bf746ca074e8eae9beed6ca94f962b2c98d701b1b7c397c79ecbb273bf70660b07e800b3e2201aa29a277b64de83a5368953ad6d6761d7089a45ad2c6d15e18071aaf87d60e6342494d062f3f910c9f2dae733efb76d78996c16639e412d740b4a8e39f9c561bc4ae5f41d64e91da0338f5a77cd293b12e5a727686cf789b7a9c617761a4f5b464c71c79b38eb102e4e83074d3e033d4f062541b8cf3e1e28eb7378fbe16bf0c278322de179fca2dcbb60564d29fcc8a9839e71c8c3533f568685e2c8af8a7df01469585029900f3782d159631015f981f918af603c77a057ad9a166bf800a76c3f485d777f6535979d02859b3d2b2d2badb5c27963e1862cdff78f7037f82198872ca6bb91dec0f81d7c09013f18b02e921e2f22100725b4901a37ec31d35dcf935704d721d893aa10b6218bdaf9ec9d12854238e11be3b586c27cd2c5f724a2f2908187aa0f9fae7a6eb2e8ea9d5b216de7e1be85170906e46e8771abc80a86df440f593127ff8f592fe3785324a6c17eb4acf930d9b81cb19a5f94da0d8780442a48e53ab93029dc5acf044e8bb5dabacd03399f252f90ddf6e7c328188f696dc636fe6c103ea37762663d00438a1c8319c5848873d8c77bbcef255bca66e9b8d834df7e0020e205874a41c177e2e4ccfcb85c1dd4c37b60b1af38e75880ad70a3762eb10d7ee42a5c0c7f093bd6bcb72ba9eb2f7da981f7ffd31a3464925c8dbec8fef72724fa80043415d24a5e879502ad255cfca80b0c861dfc04dda0f9f5d1f848c25790316d069e16fa006f9a246ed7c9fcd42c15958aa03bf93d464a48af12f9022cbff0d18e0e3e64091055011d04c27584e7e9ed76ffa7186af2437d309aef1320766976b004a60fff4ce0c35dceef92f5c0822df4ac0a3ccfc22397f310ebcb4116132f7e6adf8c101805b515bdb1b2e1ea51246a996992f834f4de34c96139072a8964c30efb8d6faf53d7ce95dcfce6dbc4bb9f119e1d6ee381b32df707387d489016b2ab097b36875e85a9a18790f4f9cdfdccf3b04d1c3be8b4c2d08f3d8158f296ebd44390813352d12c51cd7f7ad1598ba8fb937a23f669089f026e18998b56b62cac09538bf72b8a0f2a33ef521740cd89edd1e52fa8c61797d84c6a6d6a2666d8446cb78c15fc6e68d4ed350bd9ecbcca6aeb6524415dd1742754580c87ef18268b250861593634f1faa755b5b6c18e081947f4be97b5e5056e3f29097f4b835b61f09042444afe84015cd167252e15281df1a365aa0e7cf906e390c4628c313b23479f467c946fa09ffa20967919b8ac49b5ae66c63c904d9e90ba09a33f07cacdea7e4d291215d24102e13c3578c08809ec4cf7dff46ab6f4ed74fffe2a126d1d0a9a9e560a7f4b100f47ce3054464f060529ff65837fade50bf5189249557de127ece37827598a5db5db14f89738e0cfe1caa7fb0e7d6120b4fd73f25d32033f2050a9f7da3d19ac214a081f6357a16cf6752ea605b10f43e147158872ddeb283692a870d8930e238a4fdd7fc823f662d2d0fd4962b926649c4f6f066993926fc404f3332a9014998dd33e63defff1ac6a4f9637f0b314330df560246e86c5e1a6c62fe98b9c55a7d7a26637e0b952be34bd9c8367419a2ddd84a8b495b096d6cbaca920780639846c4488b903abb949aaf867a65b8bb253a3122f0708bc54fb13e49aea8e47f44b98ff9d02ed9ff9efe906b86591b8d741d97e70cc27a0b318d114b9e946d98fb30c8cec93cc5c5eece78db8d97963e75433854d9bfa6810e3a1e2ab5a707a7f46106051b01ee3e2ff870bc9d5b6378a8f2c5ac34700e017559bcd204663f3296442f53f1c34b0a18bf3650b1c353e1c27baab0037f279b7ba36a5e082bb4c18ae779ba246ee5b9b349e0c6541afb2540d3f5055da348e4e0e4dbdb5a6ba0a5564a433f7a91b2ffccc744dec967c151ac25f7cc5254f93534d9342071722666081e65b3e93c267cf15c22caaff16f1a2645f83b8dd6b59fa7b6f633c714c777ca412a4ea4e6eeb0b1a90e87f60f4e7e232a7d3b11ff0c71b0df049973ca6a4cb9158cd8bf7a086687f3d14abb49fc8bf7c59a8a57e564e5828b563ded60340742f15245f687e9fe3b685781504cfac04466e61bc341d55fe6aac014edf0f72097931553645ea6ab181da07265d23e40fe25a64a7fffa86578397bee996cd1c133661c6bef293d11927caa24069060af4cf60d93cca99a5725d9a3c2d94b17fb667f039b10681d5baef899eadcdf1c9da11781172519db8d586f78db80a374787602613cc4813317d980cf607e8202f6cad480dcbb32be06101c3da3cb15de06ea7ea3006d09e4cb220e0759eb2917a0edd758ac111771d73ef5393d9c022275f1b7e88a8331a494f977d4c67cc317adf3a2f452e95def57816a11adc0a8a9144bc4883dc53336c7a721c7bcbc2bf47baa5e2b85761770c691ae11e65b42f95870183841d2cf3c8d520fa4ee4b7d5fa91fb76f6a1e02d80893c91b5a210c29a5940ce295ae6acd4f752a754c992903955edf4260f4a8476141f6168f0ad220e6b4a1ba2cc0a80243e534d55ee38ccced7d6a7dad87723f98fcd94de941e50aa6c8df1747cabcba8f15fd2697e74e7d55133344e0ea0f51db5e322a2688bf690ed579f3a5661d9e2e748303222ef9c3eabc19a392a90a6ef9d18e1b3ad965f33574695a63f93142157bfbd98f2a548c85e8c9b9abedec2dec407252ad7fb143aac242c8d44f7ab38a04bcf136dfbe1b66f500a3751412bb3d8d04ede1d5dd1e55ecf8a3ecd31482bc87f8b5cdbc7d84f8bc69b4d5b0cfd9a7e4dae84e495fdf01c40f67307431cba85e72377e4678e963e6c7a249c7e2881a633805c6bfd6719209e33a129261b275728ab8b2cde824330860de01680e1b4fa8a8dfe747fa8dac8fede0512d9d31486e7da3036f28e3f984d5496b428797bed8e042e5bd2fd0e84bd897deac05eae489563aeee502a335c1f0e77256380b9a173fe64de207e9bf1039ba744f5f643b52ccfcae3fc27921c54079c2ae0922d87b206d77625d4b04ce7193e5e50a86b775c2aa591541d26c09211d674539be577e7c224c3798437892ba3c7d8ffa2a1ecfb7c32b087a1ea1938ab850f8caa69e5aeb87d02c180ad571e0ba61e65d2a67293a05f0b18d64dd1543f9d73c3e96e28301493f005021976072380d2ac79d759f48b676e17371ce1eaa92acce4a279faed54bbbd3181aff6907165fee45f5f3d6f23c72ed9e742116d3960ccbba5026b625012dc05e5fbe5726920a5ae5490970cda00db4f7e1917a25e187b156b0b3fcb177b7bc7e61ace405a1e32ed5d097122a66f886664a0b823b2c94201c8df1364b1c82adfe3926eb8c6e9d3b68f58b6be6d6b6eea61604983df54be13b576ca3217f57ffb8c00c8c0638cc11b1a7a2da95555ecbfbaa818624dc986e1286befecb76469650e97505ba86576d37c8e7e18505f0fabaace1c2a0583a897e6259c18590bb20da1b96847471e4aa4b236432c7b262b5c2687aad2a7be24557076c63e54b95fd51d2d1a2e60bd462c907f5b40fbccd907af351400ba761983531fb927384e7cfb7ae49e4ae5dcf19b33e3ba850668ab314d3dff204bfcd4f34167758fc70695baf0d8d24374583417f54eaf725ed68624c76ab8048e1e0d8315cc8d3abee5393386742960d869acc284b86e240180b0eb0ce84438f92da22a767ad627c7da20a828a7423748dcac64698a9168e4e740afa4b2569b607803b92694b4faba80b2b6da877ae0dddf88d5f7b8e83cb58e1da95ad81ea6bd989a4d3c93649b52d8f2b7a184ebf359e875e58ca442deaa769f0a320eddb01eb0e58d833acbe47ff23bc660b38844310eb8984b02d5ba7d24aa5ced32be19635149f0d16ce33f8e08575e7811b0904bd2be9fdcf28634405a8d1c2695da87ce7eb6a45f7b69791f78e252a5ca81c6df422c38b0932e47b2b1f5b1f92afdfea65e161cdaef6c500b1a1565e110b98407c09ed12dfab232dce9b6319ae3590e358b08f395fcc92a9db5a8a782a3d9b94bf00e486d486c39112ca733ae9be1a2e1fd0e64688b529d6dd373af563590dacf37d9d29fe2f7cb195b1a96b5e0e4c59f019f3da7fb7e962920211e2bc9633a3ff97a670d5253ca4f88dbe04cf11d77abd3f3e7f29c55d7391b33992222edf192004d823d14cced282d4f396bd9ddae39ad425dbe86b9c3ae30cccee3c5913dde2a4978875d7e9a771494badedc6ef660a1f5bcad9ea647c5247e9979d7074095fed989f63017aa7ec8bdb34d4b302957f5cd559a0f01910e4c0c6b39ef7f80157ed6b071470164bfea7e5cd774986d94785675b9a2e5a9e8756fe4149efbd3c210ed3f3ebc1d9d91892bda15895eac8f92010fc52b6b728c350d37062475f800126b19d2710e9d148ae531614a86bf263d4dc19787e0f7c9061841141e12d9e23a5dce927e2fcbd6901afb573ddbffa72e1352ff9ebe121a23e565ae58d2503879c65749a4caed33678701fb9ad086da4a2985b217ff0caa670865053195a35ce1d35c239fdf0e9fa147bf5492c7485176ada4a3dc22aa405cfa01d55ee19068db7534e80789970d881d4d05fc889b5b59d0ceef6e8f80e232578b2c1513480e213bca9360b1085d3032f92e7b668e1d28224f5060a6e9156e49055108939bfba68603b9c79d6e8fc719206962742408a631cb1502b8718eaed6617abc234eb76ebdd4d3cefb6934e773636199213223b25a7919114fe15163dbef6735b590a8c540ff7aaf1815194e0173fcfe6eeac8b02d4346665a1c5b2e367bf69af8eaa0a2c0f940f882bbfa13a09fd6ba3b44ae794ac40db9bd0eec791c209af392f3810dcec38cc1bd546957d51786776645ebb74db2aa93e4a4f44f4b70d2908a22846429efb8c2819e6e42c879113314c4e69c682bc786df797defe6c9b7605a0272702dc1181b99cd7cf8dc299d2908213abf84e1511e86f4f13599945550a35f937c5529c925707a3447c410187c1456425182995905b4ed7575a2862fced0909575deb4d9a6416699272a19b2287ecd07d56d99f56e021a59cd0568cf3a18378a50f5e8675e82408372c003c2337b5194a5ceb31bd06e0bcd1a24ea6f2ef97eb6565a9123da644d824b2b3a8b3df938fee2343dba0d56a4ec0d8759b3653f46bf7e22caafb57aa315a374a8b5553d7760f93661daa3efef995a563bbb2dde8d57b4d6e1c14bc83379d930e17c421db13c80b018e570f800c56628f0753633b7af441c2b18eecaa3831f34fbd142a7b7b1254da77e77c175df43cd7ff3b3a8b700e29d9a989e129427d1591819e931510aad68bb2cc2f3f744a0b9753932dfb5fdbab2cf9df39868a4c5774bb62e884f0151c86e410720967350143372ed1ea24595e564eed3cbcff3bd6d55e9dcaf7085b7d320d10d8bd451ee8e665daefe612a9319d18c6325844dbc2c5c5d2f64f7ee886154843a9626e7274ac252f2653fa44d4c63f17e644e683a9125c30b96cf5b9f74c7a7d8099f999799ace28179778a938594552b048cd3f1ffd0dd64ef76ec13e2cc4544a2d7e04127e3ef3b8eed7775b8b8ab9c42f52b5f6eb2f3a47a10f644e5041b3519d724bff29dedac26b9d9b1b694d6eadc79d54aea0769f0b885950681a7004a35ebfb5b53b8e5447a0666d6abc7156d7c299eb3aa0baf63653cff37ab021466916f80f3af642b6dc0e38cc37490063f2e42b2392f7cf750448d8b0964801eb63a94556da700803b3e2c0ee20b2efc3458ab9de88c7db218dd80d735489ce27193ec0bd79da81f17339ba033ce7257b1ff791d7a87b620f27d66cc15e429530c4b5c7f1064afe95b17c80c7b7d0b520bb785a7594d30fcb8fa21e1ed10993a289db5ad2957a8030c8a4ceaaceaa8d5a8b5535f9d11fd71bddb6da1ed10b242f3a09e14cf1cd846db008dbb1c3bea3a91276988440890bdb876c091f6b607a6125c5345c00d0602645d2218e43bc5436cf2ca6f17bdf337f81f448db4932290052c1c52ae727339aee2d943a6bfa489d17d0e465b69ab1263ab11c67b8eef2692fb849792fe9da9cfa748a5fb02ed461732e1b3b1520fcbf1a3ccc749e90feb25598e14325cfbc5a5f025f1e00ebc934921a3e96e157e0e0defeedbba443d7a648cce950280e8a246dd7eba2bd4a706c139850b1604f94bbb10e2a9fdb7647b4c1df790653e08d4f7b004a420fc18cd0f327e1a83dc275d096a68c1dbe78cd2c4fa79933a550c8c0847409bf8463e971b9a7961c7b9b65beef6c6fd68e2c42568f00b17944b7560c997d52331f70f175812606c3bc624284db666d84c0dd8a1d503700b76f1c84b9d2dfdc6b39d2be113400ee74ba22c9e07add15a6fab347481e2b3ae60865375e80084915fd20eed32151ed2978dcaa2766b3b3445d55ab69fdc633feb522ccfaddfa1a2c18c02d2190b983b726a501d1c7450bf9ef8230562ac31b475b3bd0137850e231835f64d79fa0771dec1ed588b6c6b3102018ea4c70915e491a01e0683476c0f354a2834e1f4d3d01c95da6d26ea383e0200a68213f1e4f47665d3a010cb846db5b9b18be9a79a76051ef551c4bf9641b91b6ba1b92c1c5640ad992fee5be44d026e1fe0174513b549973dceada5b418748db3fd6d4164abddb6ad4255522b84c81b4be0079f1159c385716700751958401943342f052797b21a4e12940cff42c2e405b971ac56509dd981e37aa347d06a76a388fbeea8e6f4d81c34abae4e7f283e878bdc2d14df5cf86f29b8bd63d509228cece0a03dec49c209a1f78c5314cbdb9d658610ae78234aca4a0b6a73c8ccedbbbe5a294fbacd478197453d67d12ab4550ba3a3672d2377777643092814f8fe7c1b62c68cdebe20b7abab9dec5d2250c25e29d14839ea1a9d8206e580fa4794349e864307625dc8cff4fa1513bb9f5bb6cf40f95d89f0b245cd6b5cf2ed66f2914e6e809ae31d11c7687495529b47c96184c2d6b95025ef50765d5eb74d561137886a9eb47ecf203e9295d7cc6fe3668432e0cfe3052f6168f6bc6501b93db6f5fec08b14d46c9d9a9ac0bd36d73f5faebed2ee54a742b4dbe0cdc22f7d936c3b5d7e09080c0286611a84a0319d3115771bec8220b081a64329967f9d7cd7df5410dd62869373b9a3684f0cd2e2b04a8df6938c08c6497800bdd9da67bb5b0cb35d909d69d461304bc88372c74549bc2ca583efdba0ceba121defb538049c7f4df24afb847df7d2d8dbf8549ef81306632cb0fa505716a9cf718dc5b06deb140c3533b6a1fa1bbc4f3bcbfbd312d8f7707fd9447b19f681cecb0512f0152126b45872cd767cf4dc80ceb76638bed7158548a297fefa7011bd45493c211afd2635989b16c6f6c5e2c3012d12396700a1c90f579b31c02d1df8275eeef4ef20c76d6f5fb7c756dabc847df18d219e9c233c50342b4b57bdddc81d4156f04dcce072d5fa0f1b4125ea8f8a6b829abac36632dd328168347af7d5190dcf4315f6a1b7bb89a0d07e4a224d53a4a713d37159d994942f653e79987f89f398c23789cb5903d7f7378b63c5707fb8dc21af5a83b6f3019a51b2aedff377238e820dd85e8dd489538a9fb1f66501aab937f29e1722f3b2313d9a2d7332f42fbc3f5c70f53952cd27ecb463fdbbda2bc9b866ab1ec39fb807f81961de263bc32604225cecf3df54390dc7d2be76768be7307c6ba8e54944e3e2836048706d0bcc127ed877355bb8d90c507b4358723c827e6a91f610f58457b918ca82a1f234d1fc212941b8d50abbcf418ee7c21ab3f97a92df12da4b5aa8f4a6b6ed0c93812e527bd5424ea4fb111d078a56a411105e38144aab83e360ae9ee01b6765788dbd1540b9c518de402bc1fb4e84aa22feba43ffba398f2e16cada46e43a1894fa4386417593bbe7da97d92885bbff3a2d88a9e6e4a4d6c8779136c1ab2d078233dc14de7931c58689d97c921797c13d5027d0e7e2f591015449a2f0da01528618a93b8261f7225e35b5512e6df92a1799ac7c376c0138a84dfa7c2171f1d4760288537003bc2d87c16beeafad882df750cdc526793475499c31be2e0b5192fc48dc166976e2d8479b81ad8b6ba4a018b27e34afa1c2a5f50427a449a02167c1d62adde773154282bef1515a2a5abb2ae88bb589514d2d78c97012b0cd7f2f7c060fe3fed9c7d1925aea5e5e87fe85fa900c0c436614a47290867dc2c882e0c6c63c95bd92ad3f08979c1387378f6675690fb54198a82e7bb4fcc3eb7d08b186cacaafd5dac6a1acac7d74d30eb00c0ccb08bfb31cbcf45f8967bc4307f388745ecd9e75f284b5fc8ca4dd9a5e9b27d246066bf171b7388454f0adf2ed856efc333d221fdd1111ab5e01bc9a09f02ca13f4746180b6169d5fa515a79a3e93ec69194225754fe40bfc480b104e003df41e381c6c3aee3ed5b19cb7962bdd4964dd46888a2065f4aaf70505df537f7744502f365a5b4972f8c41d0133d9cb6ffe0f49e643d37aa27ad613a1d7c61df1b22d7eb854daa7fbd590be108a236bce2e185b385594a1df65b5c2bae446ab4887f402713d19f537b9aaf04c8395e1cc31e39ffc29c0f32c8407c3243cb56b862b9fff9870e08d3460a4c587e0d4f4ac4ebb1be368c9e47ad13d1f8eeec59745838039de0194b27e72c21b4cfcf283e70dc19333b983a350d7f84c7da728d9a85ac5af8c15509665ecec448f907e8440beb781dd2719556e0f5a79dc6e058e2723b96c6df677cc88a8ff6f98d6c4099931221f2fd5004bf8fa68c83bce754416bfcb31ae5b85f41cd8631e11aa0fdcf23c9ed1228b524239b08e7ddceadf41e3bb52d2d89155e9d4a0b701f8665a73592eeb61ae55d40c8510f85134538eba8cb16cbe43a78ceb9c7d0ecf2fda45c5b3109c65ff49d9277e6c6f8588b3a3a3f342b63809ab3c9d7ac18a33563363b90517662867a40b0f97d36e58a1cff1611857c2e52970784d9581b8d5fe3a25b91caaa31b369c4e9efc5ccdeab004e2c9d41b9acf0a4b299bde86fb2430fd9fa878ef0e62746f343173c84b2544b23e08d7de5ff18e31e3ef518495e7ea47217965eb2dc4da44d3d4e76d8bf9881624a288f0bf68c3255ef734228080f720b4b1f93f06726376998d2f4039378aaef75fd9d45b6a340b8aedb116438d5b832e20a2a2817d1634a33e43449ec3d12898db733e9f100131671fd0f2ade09d2dfc12aeff825801d9863160849f5cb85859273aed893c695f9ab08879a3ba237feb4cefe46bd4a1c093473c7a5d5ab3d32b398ce011c3f7f2e13c1a9b79b0f9d4a8b43beba84313fcc867d422db9902bce9cefe141569ca985065ced22dd665e40bd8f95660209d364276d0e79f1232af4edb2e0fb5087ee2daa90150d6416d727c32c65f24043f21f366be73698f3b543d3f2c394fd574b5ece4392f993c38e8635a60aadf5dd08c3882ff0fc944e9911320a750ad71282c7f6fb95d76f31ff11720e35810ee2a955a0f8b6758d431f61f1eae2d4aaec9053c049de95dd07048f45dfd0d6d418f15d4b4d0a3a26f6c27c886dc8dcc9c14e12c855f454c51b66d897dfc82d24339952fca85e4b00922a5cb911f7fe1de286e0efc2eb53087f026596a6cae1edb504c50fe5a8adbf375e2e21c061dba2babc9c37a742aaca3567fb795805b6783ebc3c5d854cec5b3b14131da0e4052ba57da3f3a98f36931b00a8ead6c0bb7385baa38f0fa4190d50e527a3275eb8b99b9f35bf5621da12fded3da4ff8a7250a47c3768303821a492df0710881feeed1d1bd3c133f22a5d7cf147ee1aa298a54263e0aa375b02085d9f921b5fd8d2d43545130fdaf4f5572250a222c2af20405af25327f0ce8b3112c7e69b809071b0647e10bcf65a736c570a7b0133143e3a208ce5d2d6bfcdc83d3029b0b3173a2bad8012b10e7c1b56a8ca7c323b5293b80d06ef1f9bfa63f60fc906cbf2e9d09f0d8de29e6d9000d7dd722b0eedd8490c34ecc161756a32e3d1feeb8600b7ae2930ab41c51d874239abd7aecac25bf98bb3ac245286c1f7e700e6009e352bb79904e9f5fc35ad1e2f400834bc19bf164eced094edea0394d37be879409afbb2072c32fb83180fc5713a048b877e38c308ca20a9a6e864f3aaff40d99a6c0602f3a98152ce4cf6c7a5ac098a36dc7c6a7b32a6faec9a3e74a6150f0ec967ab3e34c5d56c69f21998b7222b13429a15fdc91838b2e17da781547eba85e90f15b065cd6424577e7b2123639a4f25f83bbed99fc728a9aab9d2795d940f5f3cfe33a0ee3297bdd1e69e879adcb5e55c572e096c5f797f352e47ad4907ae0f67f4d37f5e64c4dedd92e3384f32459fed59de91e51aecf228e8a1f888d5ab775ee15732814893f310147cb47570ce82ffaea7cf1c4730cb33d0b46c81b8986dd4fd072688281209ea218662bfdd2fd7401c6d1174f8816bdbd96aecbd9acdc4ac4643a16043de74de30867686b75e6f2a00ef8088ab7292ad5f7470631c3d1841437867ec76431cb45473cb48351c1dd05112408e68686f8f868326b5efde4de9ce72799068b29caef8237676ba63ce199068bdc0d29352f7b430f5d808d8aa7298229ca17102eb578ef4d890ff86ad09d9a551da57e7b03388f14ab22f60aa2247bbcb7021324b4c4130a6fa41a0339f0cc629a8d16a5b19f1dacf06e73a11203d6c85f3a772bd42a5ea31880197e7013da214270ac0333bc7a655d0f82eee482d1b47bf9fa6d1df83c6282c79d0f06424e8bcf86c5d7ed130df31bbff786b4af6919af033c5b13aa56e1d37602715cf88fa77a3c2ba91d73387f6faaf74d9aaba037f1d98967d5fa16873a5c20c51ed034462226f13306328993e57f534671d87d607d69b99df83ad0ad0565f984affff0f033d99c74615784403505f51ca1a4db35a89126a0282e8e25c5c65513ada684db28f6e5b99546d31224781afc3677b82a2a7bf853f14cb5fcf0195446c53db8c33bd2dac20168a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
