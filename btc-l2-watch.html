<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"979e83da47f06605a31fd78b48862bbed07e4b0ce7b62f65de48cc9a39e8e50f4f882a85635d2a778b2441af84aeb0e97173e017e4355f17cca6d6f30780df7a2f5be738d86de23589a3e5282fb3000b9e99bb0042a3cb8a31156da167897bdd446854f66f157d718e67d2d010e5d4bc8267b9661a2dd34b2430dd4e41a507202580e797785cea476f8baf8d80ba7a0d74cddb646204213649ec702b136109004ee7e9cae5d75b5dc602eadb22981216847a4f8a853c3c62a40d4270415c74e839e5b3d248ef311544dca1bc6126d546a26ede7e213b8ad4ac4f10db69a7e7c28f27b7cc1a7c80984448704f5e791c5b96b8e9f00ae3e7cdf1b2afd9f47ba41da8ae35c2ece4e4580e6b222552dc6dc6015b1257094143d1a50eda077ba497fb131669b20f2f043f97e34f42cb1417ff7015a9ab58b40ad58f6eb5d85c3d89d536dadb5164b690f97b3858b660762da1d06fa8e6d83d62e128fcb6c04ef5197aab5d52b7b69d6a389ea765f6d18c8369225ac31e1e0c1a56b3428ffc720d30ce4715affd7f90592f435094e23664753fae2aad4d9f3f83ea7f6c7eaefaad54b19abba16eccafe0704d73c8671ccb9ed872cfebf39858ceade44b033e308b6b365c8d0cbae2b8e54de9cd023ce9b3388bd5b7a58a3ca6b775b2f427d3ac6a0ecbf07cb6eb0fe8fa80b94cdb2b5823f932e69fda07427ff4be97a38ea3f64f61036b50c942d3925895db60a436a1a7747a760cbb184236fd4adec283093e9f35d1dbf131f4258bd52229a1f74db69b851d361965d690a0789914d33c6869f271dfb6d9dd8f76951ea9f544608c5c582a5f0a4c96beb9a094af0a9c21984d9e3dad527747f1370738271b6e318c2452b82b29d1abdec2a359142259edb7b4abe59db4bb0e0a637960ab5b72c59aa711449c3f08beabb82870c2d7690fc0798efcd3db67f95285341fd360c746896e37c060d75f5628efd81754bd96e4fa905e863945e0a553762fca769dc9751417b0737acdb5ad8acd5e356912e5b1be5d4bf818ac758386fe5042f21dc33a139adc9cada1713595d23e795b1650dba25e32a72bfb5b9257dfe63543acbac379e9117996e57601e223b19ee3590b45c4ad54e0c7b07d6ce79aea9b0488d3bc513e302e51326731ea6308ae032796f3cd2078d9ea0adb987769c73210b1f3aaa5981fae835dfd4f533256c2aa29cb9a1592aa6c4d662a8b089d7fab884fc91f7866ff2172139ed8b0e15ad184deafa48ec61333329ce51e8b1423ade60627f932d288fa8cfa9b69f6d5b4cc59763b4dec7d891359bd8022936d3f503bc884436dbe16bebb4b997ee03c99b20f3201aa797304f81c5b052ac6d4e304a266f0f6b37adf9059e458b3591f8dde8d113595258ccd07d8cb2bebe00d9a42a9956b2fc7e146cfaa7cd1f06c26fd9c45f00b29f4ac623b9540353bb32b6bbf2638696eac3b8b0179bd1685c136b39ed910bf9d336d5e3d15a477c0f672645705755ada991ee6ed4c3bcc74fed056b8507eb5ec188083dcf8af2dc6e0fab8962a6365ec80059058a59cee79d22d6d8bdcccfb632f4fa5f2ce6f62eb7897a168826454f78a973ea22ffbf7b06f8a8f09b891c075eae114957304818bfb97aebd61af779488230c02aa75ec4537fdd251fc3e499b84125a272f50fa8fe756641a3be7255523c1d98af760f0b22ce2605c82c06d48c74f4c67da2a287f8b27af8862246dd7c0abf75ddd978bd9732b40146f3bdd747c4a14e1035f58e12de604e8d5f4de0d3bba1ef81c4e34347fea4e9195f0e1b07f7186af19f172a305cbf61aed2e1f9cf374b967481f56c3041ab479414462a9733735ba96ded271defad11a5306356504669f379f695977f99c454ab4df9a6173e377d20dc064981b938a020379f30f658cfbbc1d1add6b59b8ac7d569c3966baddbdb86fdbc7f9ea1ef6311e8e7f2590e928ed95d4cae9d1f1295f50abe5ae8306476c25607c5dbf950ffe5420f32d4e3516fe02537f34cfaf3d9cd8b6ac98b09fb259f964346df60e261a32b7ce06c6e0207ff2a96dbe4dcc1e71f8051ddd324ab91a6402ed474d6549c09ababf25c547c774a57e2f9293b02120f8beb589fd3944017deff8d50ea5be582a978fbfc17357db61c70106e8c5c96316b9f188200fa566e78bd046ad1543916895679021b21bc174eec419a02a9d937616887f78da3801df8183f48e62fe5e93d84e68dae26181a1c8586074b2a6c1a1ce3a6e3fe3bc7ca1df21997a537d062ec65841cbed4141d151c1c850783028b8e288a1d0731459d14b7244b78d464f5eeb9057a851df5f2b79cffdda0a92ddb45dd21aacf3761ae969af49bc46fb2c680c7eb06cc88878ee13ee014d3972111791d5d6849680c1e2327e6ab6fb6615d31aaba39d00e53f8c4ce8d8c06c8d360fb9749b602b39f3b222efcbef2401c853031c8910c1b06e78c3c1147f760c5962e5773bf19186d6f68daabe939a4ab7b04e1a7a81e5dd0adb82408ba46fc3c4e504bf006de497a7d93f24af306b6826ffd511da79a2df4175fde64b4a3c176e826651fe902ff8d558d093ebfea1a59d2ba98a8503d34ee02bb6eb207c57de51ca6f273684f3fd599a06a44e9d89ff148128b9d2ee03d49160112f4e8b842f411858ab1cf5252b74bbc0b660c561e0527519b6c710549b951499d420256e03ed3685c40eddbba974879eb5c9d0ca3453336129e7c6a2417b97d1b1d88b2526371e5b5d19554039984d3f833a707e09afc0c69097fbbd0bc7c05fa561f5483d78809098cce054adff499e0bd09fa3eeb10fb00258fde94a4683e2092e2e1cb91fdd14823e60114e5afdc80ed0dc791f98f32e4dd06c227d33c76720d67634455cd9e948dd00dd1210c94898f2725db93af3f32854552f9c11fd4212d2c4bb626be3fc8065560cb97d55799f72decd5e72fc182e052471bce77cd2c58a820512a341dd269d51f5c95cb413d23df9d099656561d20ac21a98f02136c503567a9e40937ed354d7336e55fe1a7f9dea4e03596d4dc5d49686e5f7692d62ba593be12a4e9c5708542c98aea3016402777667ea9e4c4f1a7a5bfee16efb12e191506f543e39fb62e2486661d20d352d0160ed34b42e3e2ae818d35cb336adfd5f678748d63b9a863264bd6a28035de16b74bbec0e5c6f73c671332697f002de041a57ffa2a192c5bdec880b16e7cb3da43bbf04de34d7cf213acbc0541a45618fe054ed3e21d4019a22b7efb32a90d301b4ba686806caaf9c18d67cbdb0d104a766c690774d5569b17a8422fb93fe66e9180880a0df8c59fcc6f549eb7c3404ef66006bd3e6da7a5133e515c1882234a5c7bc3aa1d47f0f1ac7fde50b59d8701f316012f7e6fd2f705bf1171f1857193290ac33f0889f9997823fcb54970e8a96ee887a55e91401bbe460a5de995522c85219fbef5f85a1dc40ea7a359bdccc11a004f0d13af9854deb5d8afb3cdc81a8344814d5e14514a51f5d7823a643fd680079bfa1570a5157afe3500dbabca492a8149f8c49ae79509a4de60de3c208b8694b8a467be98997631b80f37c9964222f9e58fde83f8552b898bb941428e2d21e2b271e729943e021ec2c260273b87cd6c85c8d713dffee42f7339b8aa396f26eb957ce7395717f2d99ae1d3fc990089c04fc852fcfdc54580ebe1ac14f15700b07ab23e2818bed239ec3e74316f40362b5e3e59bb24fa21bf274ca9740f755f21463728a9ad4c5ffc7a01f0b608f69b4da796c6b5be26a662777200fe07dfc455154e14a1183d77b4be5c0a93549d9a7bf62946b76c6fc381ea57d733973f6dd76a48c45cc044b10f0e18efff0bbf65716b93178800ab66fb9358e334311faa65450739daddfecc6030f7f8c3dc812f2d944cc873afeb4fad67505fc76f2d1420a26f59ae1977cced4c20b50aa1f2416d11c4dc07e7eb08126d82907cde63be49b098b3445ac7fe07477bd0ba70fe21da2e8499fa29329d8c6ac8dce8b7f6827c1af1c1b878d934129104323a6cb09bf0b7bcad3a7232b9aa96bbbfce9b128c3e7882760ee354ca4fadc691ca4786a7aacf77a5fc4f48f0c1c1a3af769a99b160e2add54a62b17ce8f16694008ae08eeaaac72c0e0c492787bc1b119eaeaa563c839f925c1142cd51908dee6f75e3e03d705ae6666c976485c0d395bc191d028c34a9c72050ecec2b54a6435535223ac0c7050eefdede72c5998c397d253979c990fcc45a52800b2c4d7757a8210978fcf4af978e38a3d4075e08e4dd1266ee303e5b42cb221d9c6cb7c949b734aedb7544b850fb2fc0161953273af5bca1da78eb3065d23a6d86ea9facb35903c0d45f4473c5da08af5ae68760e18555680a17c0bd77f8e951551b81f00949c2d8d3387bc2ec49e3468787dafe3eb97d7f8d12fcc7d3d64002643bfcf0ca9da86ca6621dad652ffb9b63ab0950399431e5dc0025a64d1e3ca1ebb84def708e5d655a4c7aa2e0f2959cde3032e811a4c7487151d0be0d58fc4766453b5693e3666a07f6ebff04a1ee1bf42988873f3e33739dd8116d79b2d3a7602c339d2a01b59cf981e2bd1c3d3735aecfa6538552286477dd0183f9ce53022321b9b1378687ad677b8db462c6660f8ddb180c1e17c3d5fd6d92933d210bdaa3d9ba896271bac2788f25b1d7fe82861e8b68c8a37a826657576bc8ad729e1e6daa1a9375caac04d7e90322bfbb2ce8a3a99ab7974d14f2f34900072e920fe91104330d1d4ef052bd80706ded5c0aec64457d7e924627e78aa3e67f67e47a7fa92b862c2a84247ba92d46c0558b614bafe9a8e4c2a5dae06c01fd330d583f600cab1b37cef50ace02092420944331dce608d5610ffa33590360060d3b03ab5e3a9ee33048294e37ea727ffeca1db656a5e16bb0dde39c188b06f961c66c4d04a799febf90cb731898fb9e7174fbcfdee600e23edc9cce88f4c5ebf6fd9671c14ba32fea40922d2ec3b677b2f61262ca548ad6192b891eeaf2b39843456c5897f344f50928aa6e211c8b0f1e66eb3e482142c4b21c5759d57efe12903b4ec213fe836342bcf4a915671592fdb2c36c91ff3cf3e0ce03e2bb5c4820e39382e9775c7d414c088a896133f3c94e55c478b57e9651355475fa25e2aea4b7df9edc0e93b1c670afd2225d7680047aa2c0e0439f1efeb60c24e3233c2bf0461dae781facd40734e659ce0e769bf4810449ca0b9be3b0399e45515969d15bfefd58e528142072931b8e75ac2111bfbb4e8f66167c7bbc7eb107ca5c3f41f821cc360adbdebdd62ccc65f402ea0a53b2ea1bc02bce472c479935d42192af0cffe4c8edbea20bef3bace9f47396cd5b8e4df6ee107727d45a5f7f74ee557a81a717c059fe34323553793dbc65f55597f7f6ba8dc287e5dbb9e5ae1a65a762c89d2213734ce74554cb2505d62344ae772186e64d183133e021c5c8c53d1cb6f4e2eb315d8720aade0fe0bfca48d5e086261246d7078416b11ace8af7ebcf15114cebc15b68e5b9b15ef252562e5dc0e433934e4454df9f81a250b04aa374673f94ebda281a3a37810c3c7857747d2f75f0c2d132777e2e801ad3ab803f38f3c2746615cc1d07c36f9e6a45e3a87a0b9c54d648355c74131eb54a5ba038582f970084ee9e047af4ca78087f486886b582e18ce1f197b8646d04c198a6e1f81b5519393e346ef88ac8bfa80a6a71c21937a1d8f33f65d29f335f901bbc9e565163df6d0f72e92c73639e6dba4732f8a023a7e3d98b06b3e6ba8fa68e80205b57a3d39cf5610be3cb0c6849861033d6962030cacd3e5093fc8b1097f7a4473c5ff57e255e5ff9d16ab5c6dee7e986b61b60094f43996fd325419e5955ed14acce0f08b2c28ba19955ef7c9dcd30350909539bf0457f9305ef46a477de77a840e0a700599c349b31864f44a701e59389b4b8f913deec84a69e42c3dfc886ab08eb49f6c40198932b2d83dddcca3b39d1f275efe16aa45b8568a3299b054ba19ed9d1c88dc2ff64cb009bd9be1fd9ad297059c9d75c5d9f0ad8cf6e4f4d3e3b332702b1f6db6f53bf0e2ade962b271b9eb71ca699b1e8b89cd526f458b8e9577944145268f469d75e081c61d33b98b38e029d01d878a67c3832c900fd2fcaa0500d5c75466984cc8e307e49da8c98c242faf5ba498214cd42cd3264777eee72e9a4e9687568479fa8349277d0c21cc4ad6e1dc680715ab447559bffe8d3401121cf0f13646df5a5af93e4fd45acc2622515628bb674060c36648cf08869293ae696fa550e86c39208524e74b81272367365cbb79d6771e02077e28a8c6b6de8e82f9fafbd09073a47bd7abbd13356f1fe4289cd48ec9b25baff39af32a6fab7d5cde80891bb1e74f15dfe50105b46dc63e418a0716b0570ac1a2621f06c915a765c79186da0806c476687bdf0f7a5b4eba9d1e95072063d92dd608190cf52307597bae1a04a62017d314730a5ec0206f20cfccb6ef8d276de2161b285704811557049056d7e50f5e29d0d1b37587e19bcdde749aa9ebd518cb64e27e3b8827d9732f7f65b9063e7c1342483bb840bab7d8520c4b71667be762c6d1495c1d216aa61f301aebb3c68043bf3ba9131a5a4273e6a31cfef785a9720b9e7fdf81e4fb9644d5762839368ebadc869655b6ce89036a4166d9058ca925e1499301cbccc16c9d64e5024df02c4ef6062d9b862173263a317d650f80786743810cabc85e5cde171e9c2ce4974f498e39a9d95be5ba0eb4cbba4d376ef7fb7363efbcd9fbca662090628c91a7da0c1f22df558f6435ce33db405001341d9a9fdf59d403cd5c0d040d7f6957431bfe6399c451ff262c37024458f662f707a114dda74c9a510ab168a4d828a7ff9d9001aad8cec4569c4b6e0be90f879cda1d14022a4cd032294f7fdcac935b7b21c2a26f1b23aa2feea0cb91d85248d2bb2c6764e7f5ec2382a2ad52a7ab6e6a79d8e8016065789ebfacdbe3676f7260d2ae5ab323ca6a78e43f51e243ba9de8d7f45bb5261b61c6cea68c5fdb921b317a5da845d61c8a08427bae4744ef99ea5289ab70b3a3b0b4b26a003194122b6ee277c929f744fb75495e06d379d030e1c16c90b5c0da9d398d2d2a0f85100cf9f024515a85c8ff1e3c489530b37b445197c04c0f56370e35da10c8ac8654ca6d2937ed7daaf2719d10cb1636c9d5bd1db66320815eb6919fd812462000e42c912aaf2e751e7624461dbdf53976f4402d39817d5e0e7d0ec818cd3f06039baf9b7dc4f1842fe8f26dfd258bf70e8cc92de1cd27beb563d00f63d60cd499455a8f41b11fa782910c14e57e6dad81d7a7315ba8ac157370a944c11e400f00171b7bc8069f49163c0d0cbafcbaefe281789d3feb4a2f39f3841cd80aca9c99d4ce475923abad125c572b1c6a4fa237484ad30e5b1516398ea24a7124d5229a3ae84c64125f8679964b5315535bb450af7c426f8fe9af13702dd39a00731fd2354507836ba39b0f69d17bf7a508d6a973b838c9b38f5f5bf249a0e8684c74cb116ce6218527c5bbd22037cb7ab1bb4316898b5c9ff3a849c722a55814350bf8b9213c95c862380dbfe799e7395463e4f0ce4e7599d88deb7ed44ec9cb16f6a9effbc63e450f79f6d3894c2e4dd850e0667153beb87e0094585fcff2347372529ce39e023dc645a67a27a2225286661b6ebe086bdb319bac91e12d84a7db23ea4af95545e536a6079411f91c69afc67ac217136ac96307009a6450d281d54a6e9331c09e3cd4a671921fb3dfa39730f570b084f41714d48463a7e1751b4a50906b5b3b92f76b555dcb8c481d2d6b5c5856bd96dd4d85d0fb2f7124bcfb830370243cc69f2714ae6eac830cb1d93d82e15ab06ecb34bc4e709cb2eb3e1da65b6f61cec9092e5182623f447d04a821fed013276dfe412d3975a282036bf3e58e994cf6adbd5fbfca96db0d961c46afc9798b2e50a8df559dfcd88fcf631e8260886f5bc6cb55ced1d910e42c6daffe1f46a92d44a2e18bb4e8ea6fe804f4183116c700f5e2c5e0ebd9286bdbe8a27c96b1254b7e3ecd35cfc7562073ce6c897141fcb28b92877561257a04f54e88eae4dd13dab614b2f1625374605623d3a501ddae0598647a25087463cf0f424e2d7523e4d5a2b51732ffedf66e910a832666d0f9d57854fd46b7dd484deb870f314a1ed9bbe2012d894743c5686a06501fbe21c09b9ad400175a22c33693265fb56e6adafcf7a319191b39b42ab9cb1e3b83913ffa87d29f9099afa289e0ba14264ba7f87404ac60a970de33dc9fd4948255f98fe3d825085c2ce9a4133ffce7a17015d016e268ab97150b3aa0b4c8045978034900a31f42ba32815a2636f3ed05fdba6a7325d78240d5273cdb580556c3879175ddc273be52a4df116b768d0450d02e3c4d7d47af6dcfbab26fd9f2b8f377bb2f3c8a1d2cf39e23d06aa8dd3c75490d1ef25d6cad787d1f498a65303bf694cea7f03cbf49f2fa7ece432b5821bee62b59a5bbaa74fa5dddad283a9bb78e406d76844db9c2f34a4178257bb0f19e764c4a904358f6718c5f1a286af7d6c491c46b6de6c65ac23d6044de6e071937677e1ec1aa72dc3105c645047a28be52ecf1acab46a5d753674ee98ba9cffcf01bf10aa33f263e554824f671f014fb80c8793423e79854042152c08931e2606fbbbd8f017af353c13e5b8438261850643e37d0f2ae7668b02191a4584ee65d80ac53a2171b3ce3ff44ba3bc10195f6477637c62ff65a2356f96eb1ddc5e1d447d41e8f2e281ea653b1a12eccdfeb5e46a4ee4fe56a03f1ae45d825635b9c7e62f7221d14058fcafd18cde4090512def321efaff4cb2da5e89f3d89dac0eb8fe1e8212ac2c5fa4e117ef842db963c5d1cb123ce101c9e91dd73a0b69006017f860079ba35fc69cdde90ee64e422fb89478399eae52bdae49d853f064f4e4dc1334562df6a52085ea28debf1cc78c661162c277aaf063936afe9d78b370fe291640ccbd5ca5c61d39873e2025d1d2c4dd3fd18030b982f5c90fba3ec38648e40e0857d9ab16c11d72310dd849d172ebadd855b0f9e4cb11829d1836089fc3471343bccbdf85f975e4b8b0c142bf544395a05629e031799e0ca98fa0b660585d15af45f2691f152558715eb58ca1d1204a3acf88a9d7430af07ab77854c9c5ba5d58a284b4e482875c077c1e508e2e028a1682096acefa6ce7bc59863e7b8a50a8135783393862a189a0f66b6b8949a1fe7e3511032bb33fe61d97978b593991b31d58e10538a29595a5ac12bf54b29d0c14376d3cb5f3829d21417adeaa90f1ab6d53adb18ca3e2762f359a8226e5a97a4dada590707fe5147b89377193273bbb898970223d0b819ae07748211959ad876903e81c4b5aefaf588436bbc1ab697c8c6ec7386174a0e23d3719f8d302ad3d70e1a2fe40efb145f099dbee833afd64a3b10576a415855d32a4d6e49af4f11d2cfdfd6ff52cf02e1d0b076898f53a8a9760f5124e82f600e0dab3a348bc665651fcbefb928cb36f2690777420bae446e03da7e195a754f61f7165d5ee82f917779ab599d742c16d9fe3b08cb2eb33111ef096799d5ccc75650fafd7af600969606f5a7050ffcfe1025299f51a9536d14a22eb77bc35a51cae047ba453bc543032f5b545cce8a95ef7606f8b33edd77d79974d2728e39f530b7a0420b2a9706885c697a872f5de4d20b4c3a7acbceef01be4a516f510d57ec9811d834f8d458f05b9011a620ffeb713b0adbba5ee5fb3f174556318bd8a44c96f110f2ca5488465aa75d0a6f9748d89036a53292dd55c4ce4531d1d3ecf4162e3f0186bcf837a6a53b705cf5a9931dc4850245b5c4429b3dbb5031d9c499967e28de4194372eaa133527e64d697017cc7898fb38c5449f1351806adcaf1280bafc1967022ac03eb68609d81bfe8a6b70d904555afdc9bd2574597d4657b18d830c98c84568e19ef20d99cf48d4dd636f231e4898f4d4522a65024eb35537097038f77ac974a99c09cc7a17985c095f10afe7237c0c3cde6b3f1d3fc9e0c18d132c131954a15c0d937756a97d26be6d4d232ee13a5d070969f0704d7c316c7909f0e188941962bcfd6cec6bf56b4d0233ea5dbcfa928ee9708c6b4a08399f3ef9cadc5855b20a64d5a963b27e24dec2e3b67107101a686965f052c200e49b117715d8c9f758614d8ae2dec7e1b262e4ff1b290bd87e5d01d14be59480e96ca7518bb2a081342825b2e00f5cad2914dcc992eae0f793f233292a2b25e144588afbf63eadc933d5dfbc2a1695ba1f8fe1db75b958be2bab405a93ffbb1f6e79336556c987831a4f5df85c1f04f1008f664e2e083b0c80f58b2d12a93bf73a19d445c774d77e8263dd6558f14a424325d33778ae7bee5422045dfa45cc1cd6579cdaea4330a1a26ac0badc50d3083a56d48cc5283d702d475d271f552e6025a46e670c0588b571252f19ff4de72d0eb3a1feb546152a523422aa535f10e7d11a3aea3e82dc13099b818cc78f3d89bb772e1fcabdd2644979feb95340e0768481e2e00011120ad9c964e73bb09a7ef4bf4fa0053a5f5664badcba83dd75d32e4eebf8e46438ea56509000356dc3bae8df7c3af10fdf8a2cc165dc33bc3b65c74f53d00046495e7d3b72d80ce290b9065aa28a0c06318ce3401db981d033ca905383a3997aa0740096a3f1955c6dc740145650f924cae967bbcc272168a63d9dce8486b0d5e98c919f17b36b631278b5caf8d84592c30d0bc21fe44485255fd13c840d9a401b41c2ea785d8a1f101802604ac56964df4fcbb8e79597272dd1ce2490bb767e51c32f2088ed1560bca1ca8af964e6636447c793f3b2fa89e8fedd510e83d68446fead14ac7e401ece158951ff44971ce34cfe079a5fe3cc97cbdee2d5091ab5be62bc0b756ce5e330b2953e19c773613e8795f48e20dd1e087b3cf8ff207aa7bd52bc4c62dea7db78689bebe3618aa9b46822a5ef34411a9a11cff7ac6a54b0ad12051aebcd2db32a348615c2e3a39938995c8876c131c7447e3466d11f900cdaf11e0745a7b3020abf9696c81dc1548d7e713e72760bd528d7d30aebb5056fea14084c25df7ee3060e4c407b1a3637434b31af302cbbd547f2785c2234df143e946506f428065387eaa17e944d5ab6fe8b5d674738191356c75bd5db26335fd1b9c0809c1066711bd90583b40e13183e9e621b0e048cad24e39a441c63fbf3ff86dbcf383da21e821834c76a69b08144455ae20b5fdf785385e7604335ca7aadd004b8aec2afda551597063fcbd13fbeb7dee42d2e7df134d6164e19d8eb38735b3dea6eba42fbd8858164a4fce5d3c1cbdaccbb026da3eacdc74039401788b6b77ea230fbc924eac50c101fc74aa189fe983c28fda5960066b155991022ac8c1ac684eb3d9df66427e12d710c35172ada752946abe59e5602539ce6c9e03c27af79fe3b4dad06b515c4d52d0cd13549fd7f347163aab6da9ad5039d6834e95da577083a411b6fc3d42b4b7a52f48ef4da04ae5463aeab5e2f729e27f3fd627d891732c98f797bb405e6abf678504631c8981b8e1b3807be5f81701be0aa79eea42ec6340ab2f17ea057fe1a8bed04d275140d6df435e14e2188b466404b269fe228674cde77804f753201d0377d1b4139080e0012b8b74c728d89cfb90a9364e22aef7919be570f37d521b2bb86528e844c44b6b9481be9ad9ee0f94cd8c24f7c0eb02dcea2fc9b3299b79c2e9b94214a5b1785e62f8825b924e7198a17a64868be8eb678694d66ba332ef728709fd7fed87daad16fdf2d568201ea0ede25f1bb0e8c6fefafafa73de06430c5f35ce74db16bf45d5174bc4e4cef9d11e7fc70d93a80326e01701fb1f1759aee43bf3adbb60e817e26539c1b265a62e20a0a37bc8e1254287ec7c8ce7e993447965d13892de9a5ed4ec841fcc73f30553b2574a55b4e31170a551a1a14f63940dfe4dcb86b77a7d57b361c4fbbf38f27b5b2bb6e4fb8678804eb57238137a3efaafc83519b625294221248bf4cc5fd84447cc3986e74cc88486e8020af9acd62d7d6f2ee9c7986f8bf62d01135a058996fb546d9728c3190387c19682e50551c033293ee79de9a8fa01cd829c339039df159825266461a1292563ac7fd505a7827f07eb232ce1ee3cef351de69aa9df392b96f5025621ae1ba2d02a29a75b3a7454426b08d995bcb4880bf6cb017cdbb9550ef2aab25ca7d4f4e22e9c04460cf6930859a72ccc4c0dda38911d0857bc5febf7734531a429cda0f3bec0151f62cf651e81056689d92f8d4668c045c18a61b53ca09e778e6343b9f229b731d6045739fbb536acb6573f2bade40cde6f3c75ac2bc102f10df1167fc8cd9a84305abdee624525352f07cdff446fbd1ce23a288fe70b637046d68841104a36276c0cc6d65f275bc616f640f5609543a2bbc97df890542e521e4cfe54461bdb87f81fc92d49a4640ed634903d7854ddf92a99e7af6d28fd892d788cb6590bac701bdc19d0a9988cb74409b2746c1be074c0b68b0a766c8742be7c396021febbf910410e8598a51d9f9fe23703b714390a13d77134ef3f53d8cdd57071e13c83b1d6e247acbca0b15054e4d8f7ecfd7f483165d58b1690e707a83f986c1af2869f5790ceb0cbb997c7c9d2266253849efec11c8a20a51160cdabfa49bc52a33c2c2602a4b7df8ba43712420d2227341d94685b9c703dda5f183d9cfc696bec0256b6a6f36adc800148450caa768f4e92c824a783f10dc42a9da690f7908fa1c9e0c74420271c62f58e5c0b927157ca172a603e8c8183307a7c40fed52b21d1d3f7187da0a3adc492fd6712c6c7fc89108e58fc967b066718067a7df97f659cf950678aebab144e03c27551a5af3d53715c790f65074a5d5b406942bf5b6ccd8678c4dee4558695be28cc38e1fb711063bd043675d01ad1bd0b3ffc9911445d77036b8e48cc1e4920980169c63c03e1e31766d8e9958373a7355b5556fd581b063ee1303bcf3a640afb627823fac9f0c973031389c0acbb4311e2fa87ce29c302ed7f9c7785370937e8d6e0e4f0f893801eaa467e54b675a185c7370f5880eab7deca9838e7233557eadbced9fe8a143dfb8181930f3d33aa4a12596040595d11dff5e65619d7e2665eafa66e996c3fe6ba622cfe00f2c5e5e391137024466b393101d1c64364d3a88553d5ac286f92e4a20879a89c6853c5e9b2fc7996ec6a3ee8d47ad37dd0443c9730b718d863f362db40f1659474e05d7827a03df86312cfcdaa95e16c7217fe34608e1e8da504d52caf7a0f8d0e819ae517f180300bedc332548e84bcb667e241e993e14804096f82bc7ca1ae8d89c44f10a4c175ad10cbc78bda906157da07ecce34c4d65a93d35afbb18fc2e5bad7c87a86b4521d202007593c280e48b35787b55cba840f04a455169ce4304d4597787d9c8a610960dc7327635ef6078ef4c0a765e3a36f9dda58944ab22a63273634acd47a8c26176a0963d55140dae9cdbd1bf93f8316cc6be4e753eb7899b86fa5d5368df3aab7a18faa8b9d13e38cd5ee10b14f8e10e106ac47d83144d8495f54cf3bcd3819b54e62e2097a23bfa97d6ad6701c373fa6a37075b8e4dc46d6055bbb048829ef5f8e52329091001eab708bfda37869f3ff4b8dd107864c26b74039cb84e8ed180d74a571d0cb6056b006297831bd4ed9df43445b6c57b90d1d118c2762dac8aa96732839d4160f757f03b63d0be2886cc30bcd59655efd76a91bc9d0b31e9e05eedbd3d1bb2e90fa99180dd905a3dd944a32e70a473adb33d5762c588d3b2415f82926752c23fe89547cc08cf6a040435999b8d874c39173dbfd856f8fc2f627832ba6bd8496cf1c889183e2a2697c6c4708ccf44638fa43133fcf26b77956ff39562421ba3fd2822a81271e4927250a7fd001d5ac4cbe3f8c96d291fc4955b45c6250423b568923a76ee6d244b7897878d5a2b801fdee1feaefcab297de1b3335e45fd645271ffba0d403b0d3b1a6fcee87a84b99d1b5a68fbc8648e894ec09103f238b9cb0dbc2786386cbf4ab9a268dec958cb3f9e143f972bfd4779823a01ef083023c7d18b969777266ea583c9464fbbeabd150980b4b999c99cbfec5ce07bca1900f1bd5c1e3ca5f812e4e16c01d7cb57135e5fb6502751d676f2f9ac9fe4274015f2cde76af0ba084a513f59be53befbdf87dea0e3b541aba836b41fab3448fdf66af65031e5980889baf488d7c04cbcc6e3e49c9663e161a33cc2dcf4ec79bf92c8d456baeb888ccd17ab4fceedba94730977cdbe4e5d90997253fa052cbf7d6c0a63695f0153b3abf411557fb98b3d4b634a9b2a0a5bbe690a8db34b43aeebc8767fead3fdafd773cfaa6eb0341a3210319e717a98fcb13860d5ea1d0d3f14cbb2ab8f33c3b8ff3d1b324256389ef1e17f38512bc89589f07d177bfc34abb5a7f0c8b80499d44fcbea6047b52e04616081334e03a08c7c41fdbfc5594ea3404f9c0a924e35167f883e5f10722614414aabb01b3ef072c2cc333acb5124a527199671c53de293af50945b10952b98b456db00ecbb1e95c7dbfa52a72001a1633fdd9dbe4df50251806b0126f22443233028e74c1bece652bfd46585f069acb9a2e889d41f55b86af3b662232bd028d8ab10584facb80e93348a02a22d565357848c7d80e7ae927149d6392befa5e2927b2a51102f9c8eaa57eaa1338ab0a93725e77bd6add7a6cba1d4f8bb74e00add00dc16783742210454e2698fc8f25bff2c846716b9d21eb04d0aaa104eed3796638e7d8e3069f9c8f3bded9ab9e2c6c39ec9d282482dba3da2524fe24e107e40b0d6989578a068b7a5ae619cd558f87c451544458c3a9aa2d50f85a2669bfaba4a4a488d4c1010aa0ed68885aae09e75a1cf5bc5269b22c5e8345b5349c1733d374c49f7700b461d564ae6aa5a3334ab3f2dd88271a0f1d820a25e6cf4c890a8d079c74f45963ef7be5689a6b2a8799d37fb16b8b5a8308b0f87a08ccaa23e258da049e8831473aa1023e447f18a53475748df45db84e90d225f4dbe5f78dbacee1589ee2949cf4b1e7683d6a876cf337bcbc1df2551cdef4f93e3eb99efe95b3f192e4f76e1c19395e62d444fae92c52639d515771126f2072b5c95cebe640040270e77bcc251732e91cb08c181d1abdc5c603e21400dc18b9c228f5a1aa90977e84ee07cc7a2f2285a211dbbbee620d4f6a406721d77324837522afd5d8930113f21030491175af9eb71541d19bcdd0583bb4d92cc1d47a6e1af087a92ed54471237d7e9ee032296c44a5b4b27bcc0addefd7cfa1fef9c1656fd80800d445e1d31a51af8d7b4027fa907466a0dea8bb0c83dee865eb48b84a18face76c53af2009e9cc53870862fa7d1e79e0d91671142ec8fa0cb60e544d292505029c5aea1c2bb3ff2a9220ec24be9608b5fb91e44c9473f68a316a22aab19c4292f63698ddd0fe3e4e5beed2fd57985c89768c255935a3c8c83b7e224e3907c50a2463c7cc76212cf6f598f4482176a93df5c1b5b1d974ebb5f9064efeb33d86cfd29bf3d01b3a8f4c4a4d89aa0306b7d6e56cfbb6c8ff9b6a0bcb09773ea829f4907ed32eeaf9e269b39f7e73394733c1ea28ef0677ee8d61ef9be1f5303f09db5d0f1a8ca4a5de8233b405298d47d312ab66a1f78b335be9be795e8c60013a2f9061a0c5ed949f2ba5119c558fd58fc5053c1659f3241b04e62bfdbc2d1c877fd2816fd2a6bb66eca2fc662c0a341a850664d235f560351a7604aa7652b7c9434b14d20a265f30515580a9e0746b79ffd0d1658b035865bfc496273e0e0ec3eb77dd4879d45ceac5a0c5ad0adbf9e5d033710ae8aa1891d221bf3d0d82aa083c756b35d1ffc894da67ab133df54a16dd6cb5f331aa432978da0e744ed8c103d01dd5c0ec83c1f213536ce396cbea1c795658a37c5438cfc67ef998d353d07d58352530871870bae4fcd2d294f0033dcf7236e57d0365c376e4be188844124fc515dbaf65cbc6b427fd64ce3803219dc8af5f88ba9243bd48f23da9c2212a9e35ac5a392f3156ca93320dee77d2fbe2bc22519f68b4ec7590f5ecdf776a2b7a923d1c9428d64946596891c0c724ddf77d93d648d946e194133d8dd4977e8bd97eb15167583f5d6110dd5681c9b42e8c811b4a8f6a099e671c45e863057e2eca37dbc5648f4eb17553e56858d783f24379e0b3b718be26294fd84c241aa2c498c2a3379cba71416f255df5251e95005649e4af2b3d4cf4cf238b77a5519dadea37f8de38c22fa442bad12a8391accf79bb9128ba5cf184511398a2ca71a2174095da87c5a5465268e2915c8125aaa9aa16392b7f505dfb8437ca0004c592894de596641232e2a0e06a501e147f1201200d25f42b4156da7764f2e95f887177f332d74cfef55d316dee1339ec669015e53420ce2f7e0072ed6d4401f050f532bb4aced34335ce3d80b5ac05e59bbfd428abbfabc8c2c2ad97bc9d23a70a9abf47a685d2074d49f7120a11b449f6356a002da12b6c9e20e6db99440bc16e30dc83bbf4f5eb77889983e87119c56d0a8b0f42ea2672168577505bda1c458ccadb0980fd7595405a7f815e1b5aeeadb04ef8d85b54c2ea23808a24890589a81a7e1c17b1f959303109464d719fae0665e51a82593169c66960f85708622310013d6dcb564b1c3e23d9d6bc135d9d3c96bdce942269f8844cfb5c6d96a012895f28d4257398cfe6172204e5216a550f239def4cbb021a35c953b90f4e2ee6dfe04c26fea8f075439d514b405f71b315fbeb443a78b2e58de99054acda5a1980701d50eb47b717d92ed46268d499abe6d4d8f8923e8284fc3b6b6b484dbc0cb39548033f8f1d5358ff3c62f89b807771d4fac07e0e2528f83dcd6cb74c1651c6338c46ab4a8675996fc7345765223f58ea606bec3d076aad611c258e5e0de011b980fdfcbb6ad7d79bfebd3ca1352164aad3779732bf8c4f96b2f840f8d5a15a2f5a3f9706691f3197071e1f51194d452694917f22109e1708dc8fb5de623753b848dc1c98ddd50290393ae9474c2d6657a4dd93253d317b5f2e2c22a115a74c5a98f68bb0d0642e1f797e877931656d6c728a898a387b5151975b69baac2d58c78a14518ee8119c60b2e339d5e01001cb197d1bcc2fce139d71aee6151142e388f4443fe71630b87294f1d2ba9e66e94815989b258905a1bfa6af375a69ab6a1ade5e59d8657cd014f22316cff67ac980a9c349a35f6d73803232d04c71374af50f5bc061451eb276ef88d63b24df72477b678e670a643250de780dcdc2a5635df1f15a0ae99d9d8383cb96dd80aafd6309d0f7cebfa735079c0dc183d69fea26a3924190ebefcfc8f400201a8b255815e78f1a584082641122cbbda9cc73f1beb618527ff9d7fdb494fb63088556e47d815ae53e741bf75cbef02296b8c1b089d1518b42aade416f0a273e2bd7538944e4403ed5ac12836de37ec1d64f673548758fa1fe1ee0b6671c791c1d63635fb7b2989887a0647b113641cf5ad34e2c701a8a27226c1200d9462b07b58e92742bd2022af76f37652776884b0b91894e3e0e67feb40ba07bb0c40fe43650698f1308d60702f05e4911f2b4d3afc43500f3dfa514cbf679abfcdaa18774070e6d8e9aad5f10960e7f86019b46b5f5cd3fb2e33431b1e3f78c24389132207e24577f208bb9f24ea95e4e190e3aacc8ba387a551395b5e90c17cf4b077d56f1b21b8aeec40510589f19f6fc0635cfd93aa8e5d7a2401ab1d077b53f35b98b6587952f3dfdfc98105c966beaf95c0bd9108710c1d461fc84e35399f64f76c085b85f0aacac32a9dcc9a9a0d95bfe41002759d70c8e7e1d013504f8012e65d714bab544d2477542466398c59acd22104b159d2bb6b17535992bfc16d4ebd9b1e25573578ad5c097dc9a0241112e7e1f96ab330c521da700e3b22d8c3438cfffc03aeacda205321c60dd827eeb206d3cee3c85b1f563db31c067cf58a202d1a568cede0b9eb4dacb507cf3815b8e507348c213987dfb4876daa5584322519bc57f97f98c425888b7458086a2a718394a29b1c1b95b6fbcc1c88fd7fe396ee9216b5d00900a0f369d4128e4b28de5a4a435bf4aa18d2883bf57f0bb57396dac8fcc3fab017c7aaaa0bf673fd1b9cac35e35d6552ea5547a62cd8bdd41eb98b239185c07e4491bbfe0af92df422abe1ae89945c47b3c5b5e3f57ddceba86490ec191b9319a2323f0fe6672a099822ce84e412953da1cbd218f359891bc939617a765fe0b927248f2bc9e2566e14d80b4e0c9e6436a65d56849ad2f531c04d1d911f3ed09180eb68ee280b7970c01c61694a13f0e3552427ea92727d38c1822d359f075516576fe0f983f76006eba70fb028633fa1d910eb6450768d9bd139ed3222406f80a138b08e9f1887c0ff89f34fe2ae15ea2fcd42d1f3829662221b7f5f5538ea4212ddb07a5e91460251f8819907f19ed47927f3bac285365df0033f818e0fb3b0eb27ba460ed98a2ebd5c831af87ec5230c33b0c9f59aa09e9f5bc27048f9d9e0c62d17eff9c5fce3f1ecf0972f56e7ed7e1d05a369de0297fc6bc423cac4ecb98fd48199df484cf02e9dfc6df27aad9e7cdcdfad6ab047abf004a7b27253805e8914abebdff79d671bf28889f3c082657dbacf2e137d2fa7d6a2a3dd19c0c53f2c1287b7e5f9e22d87ba7d4fa8abb06cfd63ed69e2bc3d2503671929f3314a72037c9c3cb27e8da2578dbd8a1d08dcb987061f0dcdf9a08546ed2c95f50550c64cc975847fd57a6da43d0293f543ba2039852012ea11ae5025ff20611c599fd87c92575f504bfb9fb97a84ed106ec3c6410a79fdbb8c068857810de8c89ad48a5c1afb1fc6a2d0d4fcd4137bc694790889a46f14554e0a8ce34423b71cb86547586942ba019a908f4b55694ea148d978eec29d1ec74c93cb05625674795c003188bc1457d8943ebf6014a59855aba57c2d062214984b991157db9dc102110c040785362609196dc6444a5c65605bf397d56ad301a06342684ec9b60881a8b3786df7600bd9d250996ddf78f4d8c371c2aa997713e0354afe70f11d82d2e079f395f7d8b533fd225c880deb9408230119f05030f8730755aa288a44c62969adef2aef6538422576727a682c0b3ad6f4834ada963cf90e5ed794decd28b5160de7550e50cad6d770b04ae5da183952a87333028d3117694f9adf16c186a6fc712199944d1e1f06fbed12eff09af2d148cd7b467a2987daaf4697f2ca4250cfb91fcc1b735c5e3c87697a26a222c2404ba65723ff1cb7a6dad140807531c6a12c9810122172b3c2a63bdc682f2184678470d634a84b84b84e52e19a1188f5d13454a4b6c878cef6fcb32bb225391a56de096c151071154cfdd591fb9da2f489aaf174fb79b4fb4560fc85f22c66560e70071fd94ea3b88cdf335e391dccd0adc153cc1de2ad6248cfced8890f14bcf1d81021da04be55c97f886b9349d73f0e18ecb4d05986f429bcba42cdf114602b823fd3e57ea895c22ab41a275b74ad2725979db4dd1d00cc6763228954ca88e48b274787c9610a4c5f435e6eb4c8e63730ddb127be2335485f11b9030f52dc729cc6b007afc7ac7817ad1f13b49b02eb28e8d8138863bdbe3158f30f568d97c7670992d7811641e3d27529b2f500289eb3eb2d60df2b27bfe24c8556502a7dc10d745934f91d1140bbfb7da75624033f259716b19a0313885ca0f3bd5c773e771590dc3cc5decc1a77bdb72602e0ea3609aa009621ce80fe39337c60053f3f26199d2ed736425cb8340eee492c3f0c5d18b1b8b9f5f01b6c0b2f821f4c9864adbba1bacbcadfb1459b2f96bcf6328a4826d5557032d67a1a31fc7aaf61cc8afee75120e1cf177d1c98453f88d7f2e001cef512fce69be4f8801eed25ef5c00674a44daf10fb77208685d3231a2fd5e9539344b65c1093f33c424f2f45dc7b9cfcf91c87665c7a43c7dfb82efd38a9dd22e2774abddea59e2627b728320eee125e115747acbba0b6e7f0fe0e8c9bf5283591648204356c5e8cce131b51db2b8d677260c65020b2dcec4ab61dd7c079ee4608dbe6d44d1f957d8fa4cd8cc0e9c784adb809952d4321d87eba06db5531e4ab0bfcbbc420d9f5a583140a826a51d2ccbcdd9b63ff4798458d3beb316f6003e35ffff447240623412ca371587bdbcc800f2c83f11d7cffa7490c0db70694eb40417127c4988adee6244dbe44e5e4a6a9a3b0ca84a1d61ee6a08221a7a25b7fc0116622e89444bce287a8fcc7e05fd7e2ddd85007dccea65d3c913f7d9bf30a60e5914fb2df921e0ef93db4e3ef8b1e538fa54c89c7bbdd2b44ea59e331d94f94d75f25df76046e07037678dbcd0f66d19f87de7464fc4ab972cbb88f8d84a631d28fd86994686a068e6efee6d74818a3830456929c6399f0f0fbb0aaee650bda0138597d8c23c409fa8b10780952eb43a172bc84139283ec65a970e58095b4d950ce29416afb192a0191c84773905db6b9195ceb17741a0e738a7a6ac1ea491aac2154a3d0e4d87f36074d35204255b826c926ffcf8dbeea6fe4fea5ee97071b33f7af66ebb94b1a9b9de35285a48a98220da4b48bf1f6c581ed7c30d1dbadfe3aa226e90236e85294479189ca4fec2167bfee1c6acb0e50c21b37678f6816d91c1cf5555d03ffb8ad8c09759bb3e21bf36acfe1ac0c396172c78a54e432497ef61af8e15333b6a05aa3f8adc98ad3fc888d9d0f5ffc796e3b3f88ca9f199f14c642d3098a8d829e4e7318be5eac899f620632c76cee2f31cad417902e6ef1e8df5208e455ddc83e9eb4aa9fddb10bfd3306ca0751f629f66242eaa65e67e705f609cd3a87dc95ccebb0986180a9267b51826959756f808d70ed964574bbe15fb2edc71901615f38fef4cea0f1ffce227a093ecc27fb2dd710370c0ad2894f050d5b7989ffbe425633bc1df72fe658107e8a4a0b004c9b98531996ab35bab43d95289f440314200b13937f546b734651b276b4bc77f7e83681edaf121b2698f9660e17ceef3bc6b846f60b9185e97c4e1166ce7f20a6a40f05f0e98288e5564328531a7f6333126a8f2ccef43a632b6f621cb5850a67ca54dbf807ef0f0b5346155beecb1307c1928f0b18f87086f1776085d835cac4dc13332f24924b2894c88448714b510119673ab4b57d3461a6594433ec4dca15c9f307efc9033c2b777d78916e8d135a50f743baa2f0a5c01ab7bf53f44550a9813bb6560178e9189788040be2acc7aef2ceaf9ec64fa455c4aae5325855f25d019dc3be8ab74d067296e76572076f4d157d92b4952e51987cdd1493ae49d9a77b2bb94fef46fbeefba50323efaa8618aef304c27f8a6fd9a36aebe8b9569d6f435c9dd9ff953a4d81822aef1c77653306bc50bb2c5f92167533a7d8efa518e4e0234003f1117c7a5882100b9c571c48ccd7e60244ec223f7b2d4f39017a719ee1e045c2fa57621193c1aae2a39d43d9778d9bfefe9bd59cf6679651f14d696b256351cccaa34e6877d59566fb9dd2b189d305611780f595ec6ff2b8778e1a28a18996a63ae560f4388f379b7fcdb26a4e28c95033c15589eb4a112a9fb78045a9e0097c3d7ba5cb8e75d857f05a5e923e3c85481439cefa8165048855ea62b30f21e2cc7522e23506d9537937eb22da9dc372175d24bff418810ac758882b04f1d1e94b6c405ece15d7c73d746e7dbf4e6e050371a499d67ca5d22e7feb7f76580b285787246467deffbbcb20140b5157cb3a28209f1f09437157b6f5c4e8fc3c55e84657a0e82342e8e8c15f268daed02a137cf6df97a2802762b76315def4524a54f6a08b625e262017501188b262e30650134a6f90e2c4197bd6050231842ec6ed8e1d8d474ab1aefe2d7704f4e52737adaa9d28a5114bd9895ce06afac9e1027b338e3b7f62b307ee8732fbcc0a9572e2a6d72f169db45b5dda81f858d148ca032edc1db9460f423b7856279dab14879ce7b13275dcd4e4a6cb568f6fb640210a3e4cd9b7b77f36dec35b04ba7ab76eb8acae62667e58455b026cb0353f71ed9faba9a1209fe5d33fbd30d4b85b821292809848633e6d5854fb32db46ec56dc6c47838a1b5a711d45fdc95d59221dc7e2f8c8a9656dc0a749ec6947c74cbb122209d340c5b12d60221382d8fa84f0c173698689bfe58f21c8608d0cfe77e5dd5b0d001cf9c43a6349b0d2139aad44d814a37f1392ac2053a7af2262edf92a3e0c0fa44d0cd26075982cc087ca26734d90639369b32aa3fb2d0e05f265af6ff393a3f6bb1a75157c875ac8de090ad69abe26d40a79688c4408e07efaf57fde59a331519c6f6838b0671d5d38311f1355ee15d12999f5fd6b3d239a10be141d54bd47f2e00cc878157c8d10b0292868c7333681859b2dde88e97beefb703568b1ea3d24461586cbc0b1e258594528584d84b4eca52b7aea57a5b4bce84ff2d598cc6b85bf585a226bec8688bc596e142a3304ded01dc8c94084b90a1d65f7ba0e2eb89549385b338230ca06730f0a624cb75ead0543cc48ab5d92b671fa734e31b6d3d7ca330691824f41309aaa5753072959b8ad4b33c4c6971d298d39f830b06a7ac8b8d08e9db06156a8a908be033f3fae0736e90e7cf8ce459788c04a7ddbea9e9918048569310553c8a42f048900a6d5e599fb1f9a2ec7049c96f2b862aa64b466d5f94b11e4a0147415d872c57ffbd2e97882189c71c7a7b21bd480db8fb1669650349792889550d5e1c8927b5c01af1c4dd2078e711751bf41a23ee5d4e46fee12e203ff95b1f1939dd0f20f43a6b269a193cb7078dcdc4154bcc364d869654c28b3c5c00e5ae11a876351c9fb1b84c006a31cd212a310afcfe0bdf213695fff234de7f26d2a6aa803be4f86b6c0716dfa909b4434c0e56e01e0c881b8ddd3ef8935c4cc4c46519b0faa818be079f01f936a2bca74aaf5ca82adf208a04e217a96f31fc4eba28628fd5e3ad77b01dc57","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
