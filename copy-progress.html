<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e0f8dee73fa3364515ac35497dbde326f22bdf41211c855f6e32b7a41d0a0681a6a237855ec85041794797b2968973a542440187cc3aeaecea8ea75490e8b7f130a064638744eeb6fa5a16e5662fce3890e142229b1287995a36ebc309e38248a00e1fd558fe0520c82de1273d5cb01d0a58e0690b82a2914ffa06086627831ed0a546c7585edf5d34455596b53bd79138ee9d11ee3cc2978101fbbf2a0ac8cb820be2d8f7092d61ee043e2fcc44b867738e02a102dc9c5ff7a87a2b593944b22088261908019d3bd5032256da36459effd661fb21b2b5b5d053278bf1922f489a01ee3e57853266b38a9f784ec6b3f352575b3cec1cb4772f954978b0d00e4c8f89de3a685b4529accdfef5caf0b7ee17bdc1e75ab6ebcf8ba82201a979f39d989aa1df71198aa9e458c11e4fe5caeba29eee3c1a86b64ed757e50c623edfaab94159bd2c6845e1720c097ebd60d7a623c3b1e76572e4a9370b537ef305b3742b53a5a7790e607807a58a7ef7aeb75e7319168826b5adf50d1c9b4527959fd009d70f5695c7ddc0d88be55e31bc9fef7f10dbf69e8d18e001888d2e17733c2688f4ee6e396a704045e2937e0f5b6570d56cdec08a34f13f3d31c59add4841a28dbbfa20af41f1c20e3bb202ca789cf3592c0830e4b6711c5fad8cffeaddfb80fde8d1bfb43553690ea5526ba3763b9c8e1c0b218e9066ab7521d285b55b301676fec557f8f3873cb6029407b1af3ec016bc1e0e73cb7986d66996df45366a8522291e7c0344093cab50efdbe36456fd96799db29686c74b7e2e4a0a67ffdbba7b2c90a1ecf0cccdd056444cc4f247fbacb1b15b491c32ab1291cf87f30197cfb92ba18b294bbc9d03a538d51dc4cbee46805a576171ad3aff6b5ebc514859a20d16445b419ed0ad92e4d3e5faccc009ae56a92febaa633ef8784d693dd442edf29ac957cdbeb7bfb3a8f29bcb00d5a99135abf59086949470f7ad333594471e7e7290d5cb4d473d76770891ec59c85ec1870ee138e118dd5eb9ffff07900d20fabdbd18f6a865df1e36c68f980637a9c7c3c913ca3fba1ccecd9a80f1047e55614fc61fe8ec9fd4b587a83ed3aecfd309ed5f49ca9c9c8d26dbe63b73598603646ecf0302ab98896946f24fdba26ac55d57519501f5df4cd1ff36177ec91f5cf3e9e1fa7d4344c523ac50a424f080d340245133f160bda63e25a2a29b970192f461ee01ea16b3a9716d036160ac9e63644262120d9673bffb045303de6b37f756f20080bb4e22e000b53cde587ce4d6bba0a3968ff75c507076f36159d17490eec6797ba7bfa5feacec66ce766671f6a6ce2572c10274131254674688da3f5e2e13befebdb2366b8767fc2bab5639d1ecfa8ba6150ff5c52692ca49c491b6062771818e5f8427f13569d6d1e692e14e1a07fde1648aa9c88b1f0a515195db4813202bd13adacc69dcda11778f5d0818b35b52deec75b6b797b8b16e35502b1ec3069d8d8283b56450edb852df4a1d6166ab9d03b4280eb0be78c2236a60db9201dc2367a46a3f5a436137fde657044bb1b352a7b458c3f2d60e50ea361533e2a613958c6668b1f77740b647ead642bf237134096f059721734c0679d1ba6b3bc200d28852b6347dcdc7beff6b7b03ccba0257c8f7a18f5cdff485842e00f872c8b8693ee89537449748d73555dbc47dd0c95a345255ec2a4bb9062428cee92a60e9752fe5bc5a169a5cfdebf462cd3378b2c9323857f45c56fa3f4bfe0799a32c3e3aeb2c2062d5678075485b032fda26bb0a6f7e140d56d3e83ab2b70c65d4d57624267afa2ad8497e2d0447a5384102e2fa49a37e2a61fe6802ac02f97b43deca16c5a3eb975067199ea17aa90816cd0b573de6e890df6ebf4e46e02cbb737a68dee562ae62682888f7ad41b4249d9f5250518cf94f691c5991b0ab974ec168311afc131e775fceb3596287885150cac87fb81f80309cef34c0d3a3f42336f07a3083b3fa47e59ec9ec7f05f58d32b60ebf0f78916a70275d4453ca7e3b2458893201ea1abd08027772a09a4261463d9a78d62e1da8bf68fba1abc774f21c48e7f8ddf95f00417620def1175045ce6200e7482e25361412ad03f90fff1033b5504193321481c467fbf30c1c2c81c7f3eeec52b4efb32ca88a510edd8b73da8bae692c167853d328f98bdf0ccb329ea20beea08f15500da38d46114130d94568b42b6a85584fa112de46418ce785922580a897b4bc7e30c772bf9a2137e7202396d2babbd91e1491bdcf3b53de2e85f1294f5770ad74bbfa1cdc32724dd8831674291ebf6a3a76a41a0f098522bca21a9ab1983a2caea9af518c19fa374b369f844c2b4bd0f29907d6c4f9e1851cc30ebffc25944c1a1ff902277e12c64eae71b0888e5b2e1da8b04d91658af5fa80f871cb4b06e9d7b14de60166a87c44ef5c223dc262bb40f5f68b64fe7215ddde09a150591d6ce03b9521aaacb0a080bd7b74c956dfd72fcc1a0b2be3a1b8f5136e3a022e881cd33cb0a3bca32b2b078572f4f224ccb77d4c4e0495fa106d9aeb5e00d387408c24713ea839e0c9b12ea6e0359b4ac14856d9072b9555e753cc2e836dde2309ce96386157dd4c788adcde654a0ff459635b1d63419008eb5f2dbd5e945f58fb11a132858e20ebd5ce7e0022db74ad1dcc25b0eff328239299ce4ccc45238bff4e66e4c8336e5ae256a4fc8d6158badea6c3af5b3eded9c4bd2efbcb128efeadb1d248301386b5b509b6abb0a022b1ee03297a9469314303ce86244378604f71373d8553d47d50ef2cc2f0b38d24cc396594be1846f89f53735a3de5bed60ecac96f1905cf5fe498b9f6d9afdbe30f424c40751dadcf499a34598ad3fa57a860611bf67007653dc18909023ed844d35e9a42b882e4b3d4be73d2b42985776948c5d5cecb06be1f124b1960d67ff04a8a6bfeb5bc2a63d37aa23dbb3dfe8deeb7fb85c1f539d529d5bc8b88dae29b9b44e49ee94fc956eb853d02518f72a540b35083682d26b516481ef812c1cfd6327a07d05657eaa9cfea55682437f31c81124b25a879f575272d1d83895c7db3f62d98f092bb2933992a1afa932edacc3f49d51b8857a8b52b00b09b5a42827c190927b1ce9f9b4519ca5cd391baeaaf37efdf23fdaff5889897c29f3311af7f3a7fab5ec2783c4b3f360b1110f9962fb6f168ca478f6e92490038aa2f028e4457bae146d3eeee4a11d7230a8b139ac6ffdd613388c4cf9f1595b41ea12d239d377a39a9c28b6632cac3908d1b9c1f7e70d4ff58727fecafeba7b89affc80fa482655aedd73fff0fbc45b2d90dd2cef4777bf777458b875af7d9376d079c2acc6f9b999339eb139e1f722220224823812f814d538dec005563d327b7bb0f11273f870c368144a61eef4b31d729aa7ca6c75ec8fdacac496bc38010631813d221c28d17e818240feabf0b79ce1bf55eebe233d9ecb8715fffa51015dedd3a8453a9ce4aa284045d8f5441f9ecbbccaea615cbd391f61b93a9420bf9c14c6ea7d019fc3909ab03e4dd63d3d480fa15988733365e1474c9c63413712c92cd4881d39c1d039f75127c1cc7d016ad8b4135c540cded29b94bf1c0ae4dc38f7052422a4608aa13f9e787e85570a70a9709076aa5892ff6ce44b838ae77edea280215cce43ac92c69ee6b08bac603c98215b0be79b8135f9db14f60fd951df1f99a23cab9f933d4c36f374175e8a6a5c5426560e2154bb4c4856ff64d0db01735e47c3667bff9c69ae2090f37cd136f4e256c2d0c9a82f3f1f2d718e7f9f051a54c5978829c5d676e2406fa11e15f21ae62188cde9ed29e224ca741a519eb610a4a51541cfd93481cc320781093fd7f205d51ec54e60dbe6feddf1cd051427627210be16405863c580d677b4aef585a45781c2034c6cf1c4fa07677629ab1dbf32664ef991d49fd2e4a9ef3237c03cbc8b1fb344b1c880a51dbf329eac7dc674173b4a59ae9ef6ca686849bb6ac3a4d0bb4a375fdbbb603845e51486d7dbc9e950cbf37810a5b60e6bb050d270d7407a9a53652703f2c857f0b1559cb4b928f8c2ae243f918f0a089105641785d5c89f48a1cc2d5c1612fce14c224e010fcb382a8c0687184174c708e6d1e141cc5da344330ab97d23558e5461e59c6b58240bd46f6f3d8965c267c03fceda5d7898b93202d2b7d40844a44606e74ef86a32a62133b2de167c33010ff45b11fb908d5e8a33056bcd924c7cabfe94741262776fa820b05d470cfe00fdac15a6ac3a97697bea067434ad2fa5518584a3b37c24b115cdbafa8cda6c4a917cf855eca08465dfcd2124c7868309460543e4237148a1ffd50e35aeed356946088c27c2819b2b62886e53b0d37cfeca2fc4e13a2c32dd3f270b735effc42855dc38c76efc098059c395b88c1426cab228c430dc2711288b124684a2c8fde3839629cdff88ad8bc29d08115fdfbd42688e6908189392308035c273dd1bf860979bcc9097f497b163c4ced99b9a9d038e489945c5ed892b43064fa97f57575a6e30e371cc3ca54ae69c4362bbbd533f667ce00646501c77518a8d5f806741bd5790333d6aef4db77da20c90c1b619d9402eea0ea739dd934ef74d665cdb6ae15d969f1c0fe0f9d779a040547286d4b905fc45f0e6e539fa40a50849128f45d2645177598d074be7c4d15ca1f5a59ce311b1f0bfa881cd2c34a11bca3a1ad8a4986c7b2138a6a92468c0235ae6529c42631947a49994cd6c2eaa652a90aa0313bed9d6251e3ad046cc3c7c285902905780cb396ee0d5e7f1ee8f21b7aa7a0be547e1a7346b662125b7f0cd2deb4e920e32de91a87c5afb0646840f81bc9335cd92a74406586db05c1717abdff48918768f6a3bbf9764775f90e83863fa8d0e8175c2b77dbac0c4ae637b9c5b7e83d6626f28e3fdfccb3f118f4710da091b718488e97fc2f233002a11a766941d64981c7c846e7ab0420ecea54ae22ef2a832d8bb3c7cea061b5cf70fe276591b34114ae86fc827b408abf10ad4451b643c2eedbb0c8e82fe949a6f262c3b397ffc8341134d120253ae934e9db8a54297c48a603afbd56f344d65bd406dcf98605ed495ba14f152c1eff78b1811314e66ed1485a00ab25de84390070ee81da462744def0d52146270b440671bc9870dfae503f1ba6ba749f14ff937af7db44acd2133a5eb75dc6530928b5642b623e11a2ffbc5e04fa1a3cef7d389530d696dd9435d483dca92c0a1a3e62adbc525055556d942ebeed0e51d3be36143842c5eca42c7e37a4a7738f6f169fa88f41209c65a2e0292a51f07cb62f85af57bc2430f5108c456c32312227882fa5c0ea6e8cdc0fb35a524dfe4b52af54459f7c276e3c6debe848718a28e4982c726615e1828c630cf60ef86fc6631887391309c69906db48b6c2c8669c7198b35ec7228f538e9110bf17f8db7f0d37b61a2ed78bac76e8daf72a17cc3cb41d5234fffdcaa731f947b22aedf209b69ae073efdeb1a42aa07c05a05419aac8aadfb0b6b131865289e449805a6c7321d8e159562b1fafd291f9d0c62522d93ebbda16d28e3afcc8f9e9956d32dadea4511bff6b86cfd362db94789ab38ce995478a9185938789b223621aab7b2e5e9bcd034e442180d161d7e45f5e41059a44d3ba1c070c7143aa1602a5dcc2cc3db75b98d038b18353987d3bdba18b0982c23b5b87db74edaa850e5673825007f9a7fae05b6be8579a573e78cf3e848b922bbb0121f32670c2f27516babd4c8a32969e381dc4aa37e1f3084084d2d42ea7ef0f9a65434d01ec82b59a3951e0d62b441999297944cd4bfc006db1cf3f406dd0c5e0629c7ef9063dc31f460b66d0b0f22915f68295adcdaa54af65e2b8357f46fd1980a400f13956656cd7d045255789ed5b7ff2c40950635335f1148859adf9974fa346ec2a35437a6370665866f2c2705a8ceaecc2bdf315b113dcc2bd5aaf27c06c2285c94f70d3d1573f63132baa7248478a0a37d419333f62ebc0d7026ac44c9ee84f85ff9ad7c9da02bacd47235abc14ab0a8f7a29d9ec6199704343d7e3aecb13dfc8fa23d89535e5c1409edc1e3cfafc794b801725df11c15bb37d7441db9ca0a6886d3ab12f4bec19cd8977305b2498cf337ccfd105092375c8ef3159b4a6c1aa8a295471202cef6929162157c6d53a1db4727a68ec01c6bb86a1b07870e9b086283ee91f4dbac43f33f193d7fe6ccc4fa5397c3a0fc3ed1c78f53483dfce0171fdbd0759422bc14a76064eab6c87d54ce94a45afdc1b2b67a50ff3c70404b3c1f9ef5511bb8339e22ea90f99fa5463c065adc23577f644b0be723e047f695c4d324e4ce6a26de711837a1ec36ffff9933ae910922c5b390f60e6cad33ba746992695186864b5ac722fa6465b24d3d495863379143385db8c1b8478b06cb5d0aaebe6928af653df82c3372cbb1b1e5e3d16fd61d7c6654554c83dd4b34a7f48297127e6a9b9f5a6dbb1b31443f019a294efe703299c5be09d5018f7714761f06a971c12d5031a40edbfe6942d94a8677927329651c83043062cdfafdf56c9e59e69213fa8f00e7cae938d49bfc7089ec9cfa174b53a51bf85a23f36934c07b7a1d81c7acf2c828c6909f47108c434ea7a2ec9119ce9965318b7e24f67cfceac6424117eb935a1ab68b75194d96ba2a2cfda568c8819b22f5a42a61a58de7fe2d658fcb07ce3c3856cffdcfc4332fbf3d71e9bc23b9b4b1527aac5f9cb144a53b127ecee2259c92b07f93b5474ede90725f46633e691a9a8a611a17a3e63a5a84e539d03157ea1313d2212dadaf928443df9b0edaa620fcb1614c3efedfaa8f0441c9ade68948159149a91175b7e2d522fa630316845096877bda370c0fb200a27ea0febb0799bd0b9f464720811f130450d126e964d2e693d4f585c9d54cb18e173265dc145371c32698bce32642966835595268d424264bc99a818b8c1d8e3f544d630db2b37eebc4f75ac5247a84e029799f989fc47fd4fec5682ef76d9443491c08970f97d02031da8e66e177326fa9ef0279fe1b8c6c2d188ce316da2a22e8824e1422fd92974c73bb264bb92f8944b3e5f2890db557ddd0b1fc9765776140803b2e8e8d892cc4bb98ac3567559877b1b9646b07c260d2bd207ea0c50fbcce6149b85bc01ece2db86a913f3d9fcb46b7b5084d08d7315113d552f58131934da160c8bc56ad4714d53e25b961c9b9d3a6cfb16bed6a24e3e76d35c7e11872d2ce3562cfef37d1fb17f6bddcdbc881676b053df2569d81598a49b97550539405c6715cefd5c9734ac9565799196eec30da9298ab971c19f624706f09ff89c7869203c1fd7a408e67c8589c028153da33bdc936ce96d185f09c6309f67d90bf5d370203b6af2dd29dedabecc73fea13228f61a236cab625f795b63422a9ea18c0110f951c0da8938348313a169526bafc52e8f8fad3f2e50030075227fed8e1a99c41d01142e39284c94b8dcad06c07265a63c15bb8708ef950d6085fbcb4d25e76fa1e9d20d952b1cf148d445007c5658f57efab2bc3a0833644bf6bdc05adb9244d820a81318e8d0757d3f5661ad6a2292c0d6ff0cec6fbf01f1aa4aa62e229545a57d343e4e0a26e1a67d7e380bb8f9fd2661bf67fa7ff41d2573992013452eb030b67c7844c05b05cf41ac6918607c2af4e950a524813c8c69c28fcf36f8a89e36e36033eca3848ba842376944da93636f2042becbf1be56acda0fe281bf684f3cc635ce9f0f6a95c63af44dd74006081327ecb25db435cee537a73948d56fe4e74588b38d90d3699b10292d1fc664b305f798987f83046c5999f323d67da15b526a314deee3ef40f5401f6498f8ac8f60998687c67febe93bbc0c606803613a95dc6cdbf5d2135f76ad5d6f560fd2cd2c34f301999793d82519a99d45736c9ea062fa9c89c5f73a481e59f433265c91598240dc04c89d8a53fcbc533b22c0a11556b4fbba7ac7c2392b2108adae3102b9d71e0cda1cc828e2e38d0226f1093eff85414ac1b5bdb46ed9870b172722979bc7ee21b41052d43da0f796924166d19e329b06737355df68db336bd5e783c8a34737dbea26fd4c0a5ecc18282dc9566957ea3bddc0022daef224e08b394411eb72e0e3af78656ad162ffdba91483d4030f4abd112bfac99486f501dce225cea8b101acdaab320447125295f20a655b3d31e7449b96ec60fd0f12f8d765cea281e4a9cb4cbc800d95b71508e2b618c8aa71ac344f9befb9d55b75abb98231617f48852fe74c918d268d107ea95a5fba701f52981313299ddd6b7b82cbebd3e1f472b0608dddaf0506941f34bc7ef488db4dd58f55c56f35db00e67bae49d1c808161a8a69b676ceada44b68f2c45b592a9ec855e5b6e95346eb511a69021e883977332c9827bd3914486069b4cefe7148a1ce0fe744d0d51d4fc918474fcf36d1c56b27ddd7f757f2bc01226557666646c1c35b8e51eb704dea97fe0606a629920b605aaae859b788276a5b6fed23f79550a1c2b8f67f1b6155ea67c6bd0fbc92c362904382d735b1702ab07369b480625d7a345015555d71765f245b13bd71bbebd50104fcde01e5224823ff74ba82ec79dca69415953d95b43a3546fe69c1bc612cd1e63ea0eb6c963ad95b5ba693cc8767570e28bcdaa74e7c5e86ad72d9ed3fbffde1e72407d904f18684499a169fd5daf84738e2ee9dcf6d80defbd2d015bbe60abaaf9e413270ab648bc3b7841aada062d4ff5b129beb41d32a0c2d44a8cd261ed7d99280316ac457c2951bf2dbf3ceb7d1f348e30cd0da743c01b268b6c9811199740b23332b093cca159385adcc7b33936d0fb1e3ff432ec3f760ee87c7603dedc8058d6bf80700fd6a5d0dfe6cdba48b7073786528024a01caadab61d081ad0fbb78e281b097fd6faf050a1c80914d8573b914ef805fe32f0f120347721ab4268355936ab2bb184ec886481ea55270756b16e855949b79a5bc96e331c50432da37380a924c2cbb8a07902efc29c991bfd0da8e6f143fefb3602afce59cfa2d0f9070b8188b61b004d9fc571ce1b04b70f34781606d9fd7b0e09dcc97e1b2268efb02a3926600217a371a82dcebafbefb8b8bd4b7eb9f229aad32fbd72b7dd1cc435598017678d71abfc4329e120ceef9f4c8cd1821b5206cf7b46fc2f1334309221e9aa725d28c0186ab036a96b909bb965e76d0cd90cf885e92080b834b5e5e46627e64706a3156bbe40acb1c3236d9db4a7921a0b5281dd0d8465ebc4e33dafc08aedfea161bd28fc6b8731f47e97a47420c23b00bd5b60c8708040ac12f2becdef57bd9e5e9b9f5aefffbd030ded441bfbde6fabdd179849168f23d95670f128e705022446973e59381ddc6fa9357867e956c66ec48b4e466a424b8712b878fbb6452c9c2097c8faeaf1a0dd40cfca60c277d5d501397c56e399acb7d3949fe0b4457072859c804cf2cd6266cc540159b3fa30bf6bf656df532b96cd920d6381cca9ad0214697536fca7e4648b91e4d9fcc4fffb0c008abbe26835aa029255a84b4717d44b09aee3bfb7f8d3935d10abb8719c37c9486c1df490d92e4c810c968a876ba8e391de9e1575481d4bad06ff095f178b61486e6828de7f907e6ba357d5929771d5a1f6305b101346c0c90a62cc44a156a9430ef1d3ea18568c35b15e9c554e465e50e774549b96f8c787e8e7efae63d30125380fb0a28987e9d253492bd1ec3a9fcf123c5d13ba5a9e18bd9cb15fb474952571711f53cc8d4e343afa041aa091718342f0caa8fa7e81faec17b551ee0a1acc49334d98428b7c68a98444d6d0a73ba654b6ca148507d9c21716876e1c75680355e279cc3477d828e2173c9cd7cd3d5b1fbaec17ac42b27f7a00470cb40a567d7fdce768521e846705cb1a23da9c57c9c3816dfb53c7fe0ff1825d000d311ebc559222113fd04973c76b4f8743184c8d30f4aa3e7e3571524d4f847970e2434160be435b9023add7789d6b4eddcd3fbffd470000c9fd6b2e282fdb7388a7bfc899310b00932a8190e65618557303f1b4c3ef7ad8c3d3d403c9091a6d5517d918c56a50d2e572d250f354fb9758f8229e278a6661f0c7c1c6622c8cc6629046e6f06de4d18f57ec3be89d06b54cdcae41c9e556cc81319cd476300d8e761e6405e9e2c9773cdb886f0edacf7253d5d08784cf0f21c7cb99b89a9bb1fd181d9533e0a58aab081049676a371b1cf1fa0c4185f6456f79de7b561470a31863cc1193c74f85b70ba7f7057447d27255023e4e8c570bf3abb7e1fe9046ba93c19e55780201ffac01fcb3e14b6aacf4c593e2d9e8924570c1f5e664af7a441dacc69552b598d49971c0da054a9936fdbb84b1174227aec50e54472a02606e15d9c3b5309e1626a9f4033dcb521625b17f5313e5fa89831cca1cf8a4e0fe2d5d32fd3778c364f0e140c58511d85693d09d22168377d426098803a44e905b4e00585c748f9ce67808febeb75da97667337f52618983543edde6690d3244f9287b5d212b8c85957f314442d074122c859b6a16a800f63d443ea2f304a245eaeaeba24f79b1d0fbee4fb69a06e8c6dfcab8f304c59d1a300917b47b34d9383a26655e0db4df0734b9ceddd4e675100495eb869b43929e8b64a6b05eb026a73064ceace24ffde2f8190d5cd02097bb282f4eddd9df1e7f247b6b5d7a41cda6c6c5d8e9deae59f89319c1203af08801a042c118e7ded4a2d06011d8a845e6856583c42c0f9674e886fa357e84ce6bf3b255e73b7fa960f70996897f1071fd921d6ac63868154db65444af92aac27a3909d74337c39d708dd93f714b441559bf71e3bd9738e907450607bf72f22aa1de7266aa9ca1b0e29bf3df44c1b33106296aa8029092fe5736ec5d8ddc084c4e9cda0a8b1e9ca243198fcdf9d216e22a00f3e3ad19fc57ab2b5241c83919fafcdb9c61e570e9efa71b00495c8fb39a11f2b71f38fee85529fc2dc1f4cf1c5e9e36eb389acb81bacfb8634e99b60db1390cd9a0d82020e4ebbffe8c1140d75174adcb0913762227a4318b893e005be378cc9906bbc8d670a6c3b9f7f28b2103e1b044d48057e875cf238fef076e131acdf3c3efc6da5a241a66ad218147009001e47f76f5ba5036cf731b33931005bcccd1957186e45a9f7496a0cb8bd2968e9e848a0066c68816d53947173fcaf3db53a2fe7213064196416aa07e5861a15467bc369bb4bf1d210a648a02eec18fff057c9017afe1243437ad80aed750d52f14ad29170a5b4e59942469caf22b7c7ee05286d80d471a10b75cb822116f9755fdd9e7786b67b1b9917154e13702b064dfe0e17f3d5405ec6985c50e19ac07ddd957280f4629e9d614f35a2817fd06d94d98fb9302f1503c5f7eae31eb508c667be26ddceb1739a78eada10b300887eb5e83594fa54508fc7a5070af8347a4f57fd7c2b67cee63f8f77f16a4b858a3e688a08a924c8fb7b016037b26b95e9611d72c101fa907efa87ffbe9d4b4f1b632ca6dc27743626029da872c9f41f227dc442dffa8f9d718754e0cf319a5ead602fec0bc88bf09a75173942ea3f1639631912fc3bc090017428076ef4c7b87ead1ebe258b703af50a5f4ca82a5ffb416d09df8b9f2619f4ba2ec9f9ea60ff27d6ed0c22ce242f0d6c21e653c29a765cb194e09499906d84a8db060d4684b76e295b1d9c3922cced6c5be04c9baa682f941d9f284adedc2049495be4d9a34988267c7bed21277398534dc682bc7254e894b176e95697967494f8beb1b5a8d60baec61012741a16f3f3afe86899c5310924c550abb09a83ef3efc3e203ce8d7f224945e3d1ab74cd7969035af42d4fe2e163cc7164c3aa4529d01bad4ce34f9c502a313e9cbdf1a088e168bccdb258e7374a23f2c6eee63f9fde71747a3f15b9cc74e3747a17d93e4f3b2d1b57bb133b82f5cf89d32ba2e5e5b3c4197bad16b82b91e1e24dcb5735f0cf7f21e54689aabf098f1982be8cc7ca9b5d852b4dae840798e0d31d8c1a402c157f0661482c576c25ba71a5d8dfa1ff5ba25bf09db8dd58f400ad6929a09773f1fd3c22a93a2e9901e2d624075fa6f462afd76544f09d01ff6558d096ec75c08d2f4c4135f24a43d7a35f176f548bfdcc22e9e2bfdcac3f36f1ae55e1a8f960147245a1971ebd50ab52703a2cd05bb0f6f87bee73b0033cdd5e22940eab3d67dd386be616dd8ebfa7b47aa31231fedf0f2ad9a45e7bc425048ff3481d2efd4a939dfa36a908c79f508960418227a2185457755005eac6e68962b0f40e1d3cc7d6197159c5d01afecb370161bd1b11a8ec1e5338535e1a5ed61a29545be5d6067db3b63e615231448d5c23d1f23613a5f95ae5e6b8726cdb573db86f9a26c721c73b42524369e0754588dd6d8b5abc250fc838ea45a1c61fc5ef430137791cff99104e798d51f55d4fcccd65104b8633c37498eedc2452c63a25a3641de6b04464abaa2d113dabd83c92dbaa339c6e3aac338f7bd3405243e02628c1372af0c3cabd9359295497f5292639e371b5d72b18e13d5ab1197886d2f82a56a23d06ed0028a05630226469bdcb5a1fdc428c797907bfa102f64a8710ab9ae6fb701fa79ac05929b0ce4f00b64411afbc89dfa5a3b9f01cffa12e4af26ed45c9e7f8b76436f3a5ea48105cd67f1bee6a681216d7bbbbc3b6cbea8e190f13daefeb54e8cf61fd0e4d66a68d8fac45a54419c443c4e6d9386612f6080e7ceb30eeb84be4f98590c6f3805bbf64dbc34e29419df59b43fcd3327c2bd80f0dd6a0956964d8b1bcf7228c4a0ea13cfdfe43faac92adc384f14ad7abeac0896eb3ad3def59b7508203e4cf25a87fd997209edbcea1a9343edb956c669077b3e69c8c3518c4e19354148a31d9ec7b461a926c70ceac10cc50f6b3a5befb76758cac5076c481d1ce792cd41bb8ff553971020a6b6192fca42608a1b9cf378151f017cbe9759abb9a51d231d882d0b61f5136f7007ecf27d1667b0677ccbb0133386786d7d85fb8a6c239ee64d3ae0dad1177b95e7326afc7800b58a50642210ac5586de024272a75d3b9e6b42d948c41f42ce176f1cf6906c93a74fb992689edc76cd14e3272400210eb277f391dc41a0d44ce7025c2eb6b78fa36a6b9c74e48432cac1dc8b93e77001dc1e0984b1e5db98ac61570150bf5af9e6c602e8b673fc62d6d21af1b38b3fd6a8b983d637dac5837b65807692e8b0533a55b5a19efee9d36b54320f13866355292b05f8946d626f50a7d91d5f73e48f221fc301a53801a3ad9c8defbe2315df05bedf650f3ca5eb01df45aade5b82075525ad57207a17517d7ac67888e85212ee46ed0f3d7d34f9859782023d422c2c914b3461038d529575ea5f25388e31e7b52721522ab0805b3bfe08eb332d24a75b621c8089af7e241ab841afcfb91ac21f0a648303a0f28e6d71a81e2bde13b080b4b3e991c00a6b8f53cc1ac61cf4d0bc4a6d7a41233e3c124f5a88b694b4e6e35e1d4ddc7675b10bb06d097e934dbad1ea3a82e017c9eaebb3714db23b8639190ec03297ef89010eeded315fd27326d6ca8b1bce01e39d422d6815148cf0657a5c243670ea3c499c5044e49cf329332c4d286cf56c217f223c550eadfeecd263ea6a3de016f6fb738ed781c4f315a6c9d3fe50107f0879c64a400d90c028c50eb3ee774ec7054e036c72d8791aa63ee9f302af3e0548fa38cd74fe9fd2fb40388f4879b1aaca73f4e7bb0160e5120081700579a93d43988a5b136678617f5aafd88b20c4787621a06cd91e0d347e8272309248e4902bdf550ad5fd898db07aa21f6b009b5ab410a0d96723dbc1f528b40e61e45bf14926da485eb7b26a396baee7932a3935ac0f142de6993c6b6bed7f39e71ffe03315baeaff188e473077f3f67baab8af7aa27ce3877dc35dab9aafd6ccd7ca5633ec8d9e4c71cadf4892a45ed8bb5bd2300d4c0e20971a3331c355976886c58b8b7429d6e3924d7f071a0568191e94d14a7ab247b7d0068956e9347028bbf717d226ec9ac0234dbb7e7af129a62366d4a3cbe2c26239f1052c02781590c6d048215eb1f70e75e272793f99ab9c2f41bb81894934834817a5ea631f32d97b8e3610bb9b472330e5d5489fe9a007d3e3fa05a86aaceab0a659e700aeaeaf206694433e283a410c73b3a36e406c54a0dc22fc3a30113d266050cc0c906cea3ac17d07518f24cede2422e95fa34efd2a642aa95ec40d5f0dc78f060a1cffb65be2a909946f60a3c461ad6cb1e0233d17959cdab2f9bc08fff471aff4ff2633b1c73e070ed569ec06265f53bf143e4ecde06c061bef7f88b2aa4f2657c48cd097effb97a8441e510c4e864a22c8fcff6f825658726bd29be17802a29517481b8de76cd3b3adebed64f6ba642a500fe31e08480c2fd0fd60312ff924c56c2b66c2e669b5a324332a62030c09ab30472d2a64625c36d19eceba15475051e80e93a5cdd06460b091c9b774d011ef41fc6e5d14350378c97123bc9a9ee689e4dfffd29c3dd1712ed30db93628be12e8d4882ca67fb3979153c895a8b55d104197969148d0b0dfecf4d5dcd6208aa854e6b2137751fbee3de9ccc86f307965a55cec994332f89f4a0652781dd31f575e94a301384fce3fc2534e8e4d3d2cebd8325345fef853b774a6ab24550fd71f2630fac20fa4c7f0de751fb26668b2f2d45373765a5ce0ba862359947600a1f707f8cd1f9d4cfed84461f293020e95241e359daec840b12b2d53820d5f18b88c195b76ec9a081e59a16de3f3aef32e18dbbfedec19ec6ca421906d6ce0adc289c3863bf47307968955bab1d45de773a8ec39c95d582faa0e10723923be9ae2854cad09abfa45ab5dcdb569c7fe4b1b4c37c89bfd11a9b9400b2eed2ede0ced99f7937f09a3dfffa4003567f19564044d19036348fd453390363b434228199c7582060b4c3a1ab25dc2e39b1b38ec5efe910cd80523a651c68c646e51836b44b2df93d6d18198f58915509db55dc8e41c48a35c3439600c0bcdd5ffce57be9c0ee2b6789f6a8c35fa5b6a0e2e8a4133994c272c2351f48ecafdcecd68dc71557e4067782733f15726782c4a22bd9ae583c5874d484d0d1b699c19fe4c526cae87ca0b1f121aec59e41a8a5ff04e8ad360999742ec53be6a4c67e5eaa1c800cbd61a4aa59cef9eaf1323e814dd691c534772357a3bfd725a1f8b3f95fc7de13385c45288f7332f8d4c4a7c98ec286161d0c2c33bed728b5d9808a30fae00d438c7242089e19266bff45d086ad7e6a5390e757dddb1ccdecf70ff565a9703ec6ce9b4ee14afdb6713ab049de840630753692541966f0c4b110a531a3d7e489f68cebf28025932fa4d73fd225a287a18baa4b530cff14eced03159d76345bdbab8b22a0a7a5a8ec9af1ad4cc094f4d9890e6ab2153d2b2498d3ee9a0053fc51d45454a7df9dc75312febdf52690806e9828ea8a2be65c01551ac8309ba3ab90e8fd3d201a25d6ea8eff65eff9c9ac9b276cc7a5a96d65024bbe64e10ba51b655ad69ed7a1dae97840d93c59f517ffcad4f5f9354b18d0520870981de7626795d8b6734ae6eaff092a92af40720d56983273a2184e2ef487b3fb52c39a1e5564072c827a47a818cf56451f6dd611a2fb3db5bb46b6524efb1f12a171506a44cd0ca56abbbb6891274a8c637ed57d059c37717166a09551b63fc71d19bab1b002e5ecc0799276886c047217b14c1f6bafbd7bebf466029acd1cd91063f532487c8f0095b275a78c34d9de35a495da760024ff54827a989d928cfb4b1c31a1a37dec73a1df67be548246eab593efeea680d1c297b2a1d584a4031237476c43aa43fa1c52c50b72e73e954f5414d0ebc404d0761433a04b098ff6641b1b9c1431778f7c53e2b3171f3d8d48b09f5da6d9d102865882e4311abcaf715b3cdbcceda7690bdd88f65f234194f809d3161135d26cda13d365aab2728ef70c25e0b8d8a205268580928d9994c3228780d0efcb056feb0478e0c7bddd3a4c3837a213ec808272a66c328a09205656c078300b8e69a1f9db21a9c3a664d2eda69261b088e1ef6f64ba0dba410189561905d49566f6cd40fe1cdb8ac1e9857875b123577d714c5f804d6d08ce5b2bf046262ab5f4d13b184c69aa2950e71ed820ae808a2d7c04fabddb9b65d9d0f7b4da5d8e19ee08e187a17c81e2694607f79ee245af1d96f161969ec5522dcef175fa963eccc6c8e87b5a63a4ec9932a2dd32278c8ed757780ce7e219299341283ee7ac27fa7fa6b0e16251f13a92acdf07d29407465447c42812f0431eb3a53bb6a1bbc01d16a66a3405cb50c68dfe764ced8f73d8616ae595cab42864afb2bb198206392e5932c7b541619919b2a4b47939d76081dc1fa93009571f4f20c6b984ab80918d142d9380bbbf3c55dfec1e7078f78d0123f7859d8d2246ef6df2436c8f69e96e493012f9b261342783fefdec12013070b6c6a895a43f7cd1a0cc2486086e15aedc6f36146b2907a065aa638822b1b1d2a8eda738adfab8918c1e146e7b443d3241ed9add381f731fc2592e51b134e2fb648c17676186b6712f2b5f9ee51083607dec1b01f8487ec63b49a313cd939c7b994a2094f5a3d1eb483b3a125c38813eb46e34f606c4ca61a1a1f58c80f00c3929f009438d9fcb797013ea1e63fe2b349058fa4cd88144a4f654a8a03fb8cf989e2be0d4936a1477185b3f5067dacce67169ac8ea8b4d269c1b3a196692c5c4ecbc25bafaf066810b45008101ebc252758d4714225ba6e11e54c8b6d729231bb40bd27e208308412da847415399493e0fbc8e8b3eb75a90120c79352b15b1c6439a6553f78e850e2f05ac25a75485c46aa7b1ab7f2d6f7361fd1664e1efa5536f7b7729172681f0340d4bef9659d0b6c9fc49325ad6ae3a5641d96c2fe07f29f12bf74618c59a8bc50b214bcb8756e4fc5022b7d08b224b8487d0d48eced85665a25276c3b8979131988209a131f2d4f01e2dd0bf3b42322ff7862b247a05a182fec8a22d72c3d4f4079f03698ba47b54fc782ea4a649f6ad128384567be8c23a2a0b55ac4f8f920dd458b86a114f5772e2e0bf254d4e16a700c867c07467dfd9e8007ab9cf6a66bf1a495565840dfc41c1322dd332172b286637d5c191f94f75d11b6d91483314a94c1eff7340966e4ab36a64caa65f8d0f2d4cd53c9b84a36142e42d4d3c70c2c2677cb3c2aa830687d737d70753e76354ddefd4da0e39a1c10bc1e7601e6bebf50668ca6bf2dc3a61c3b18ca629e97090ca31615e7c2b9363301caa5554863e1253b8a29e1d4015962ae556de45e773a2d3218f91e947ba9623f539f9f6f71b80d68a58bec2cd2250830a107a74f6b6444572010d4660d1aa75222e3f72bf154b82a829948201d94eb41b9135bd64e704d3a2d68babfeb9273845aed31d152e13fb9cb4dabe392013b27024b77b5673713e7603d36615db92c3ce529c01e4163bcd9fe00285a68508264352ef104ef07837b361fc6c16171a819ca4bf5b80a12d3347ccf8124ae1efe74cfbf4b891b74b62a56c0dc36fc07758876012cf336d1ba7572199d7033a8b7aefc3269e0635991fac9f1e86b26e10e0531228868b47591f569f49c342aae12e5828cd55bfba47bf754772fd49f115f9bdb33aecbb8ce7481a69e625c2444a3515411254b58694a82e4a22011e79ef6710f1f613ed75736f9017aec92f407fc1542544cfbcd75f652078e4dc0e9c191d0eac609a5e982010aa6f548cc39726ca2ef13469aca3d9e22481fa41675cff06cfa54855d469f5879ff52db8f9d45a1322d0902fdaa948457d8862e389a374e77697f3878e8f96e3635676a80f89f8383040738e21b61afbb4175977976013e8d8c395d79d3a1e1836028dab09e8e3986341705e0bf310d2ce30dd76c2b54d9d96e0d16e61266ed55057714fe5c92254ec578a14311c0282968a8689de696915559ba6b8eabdf2ce56c3d01bef7e0441fd6677d1860a88e299afab2a9682c8af01471881c8228ee01eb2e30e80a70a860ef093450f2b6f7f5c82004299cb548d925f92284bdc27a54b60e65506b73de100186424f3bb69ce8aff965c82d69a6b561abd220b8770ffc0b8e7521ecd933105b4fda41445d46de74f5e4a022b0634c3820771af8461974052906f6356811ad35f9ddacd4551531b0b2e6e3529160ba09e4b74bcb9afe4cc817fdc97085222aae0b3606e2f5d6c55343150d9628135e7d49b6f1a203c158a8ccba7e4012044b812faf9ff982d871369aaa74a2db4601504e728378ef237ef80a01073a49d08a54ad9e229dd2c82c449a34eb16faa5937bddf5035e5895f536186e52174b14f987566a3a53e5207fffdd56584598fde84612dea81912fd2fe12d06b911b8fd93b54fae8d15be324746daf7a98962cc5bf465790d263e434e6692a3a1a35896e10d6afaee20011e07292120dab03443f4678fb0970ef84445220e44e7219aef56405e7720e5ea8f2be9ddfc411ca58be02579aafaae8af1bebf72553470703851ddeeedb8fa70ec90960c528802f0bfcd081cad232f76361f7483bda8410235592d23fe12591d6ae610c9c3d16a38dcaa60c29c2717c40d0523e5f2a0769e048fcd2e226190f1fde4e05c8c904227ec389f28eb6a93d5543b94485403d4113a330b879c4e2dd0c89afb82192d6b04f4adce754f4a841440b4dd0244a2e6d336e43b9bed60037414344f0d06333ad001b1eba9e68a732736b1c68acedd9434a92c1bbe806f0aa835ddd7cd69cf714acfdda8e0675cfb64f291214cd563cdfccca540a5284c421baefdad9e996036024136dd6ce438c53fd3334d18654564dfb40a790d4e3117cddd3f94a49a83ed608a3cc115ece4c7de08e68eac3dc875a98d350df12a66728f5883581a83e41275607fa0e7a05b593febbf08324bc1967586d7b660134108404fa00ec3f8c7f8f11ea9edbc98ee1ba8488deb36ac225ffc4f378d9ae376e895db3d992abaa3fd95a227cfb33c391a01c0625bdf19a1d8b7c84f7a8daa0cab150cb5197a3282a19fa5b9459b5b6affe761bbb79506ad3ae4ed04991b61145a2aa52fdbee641f283cb6a0bd65f71ba448e625ce0602ba61850fe6bb837afbf05cadbc88c533a32a3f3b2dff2e2d9536bd401671082b2dba87129d98a5ebfc72786691467bfb97511148e1295c02dfd802d17e510370717c7c8317f781ff0a9abcf86694732c75392fa64a19d089b07ebf76f0dc0fba83991cace2cfeab40bcd088bfcfbc79612824987c9e358a73cb4389a6ef2fb7db50d41aa887b4998bad01b47a65bd8be285db18b7d0ca63905c216f26d09806e3dfa3ee659ebc2767b6625f623ad19b4a0fafa508b4952d4586df26c8f8706cf2ba372ef384c2bc48768dfaf78c9f209b793fc70f6ecef5ec739fdb96a282b9ddddf694a796a0ff24e99dff3280182467e4e4e6539aa0593c31f5b77cb2b44de45975fb261fb7cca922e3ef7fb34b90dbcc2e63af0ff31c972162e8c470be67c5a4618c34d93bfa34c1043c762c1f3a6f23c40b3320592638a2f6342cf99947b8c9c04f0d8bcb1b7f4496ae3e1c191f9e405977c4bc6a08f3eed0e59c2614c04d81e8a12c739c178fe914e10e2e41da82b758fe78379aba1bef2b10842cb547331720a4e020ff868cd419570e167eaeb8f945353cc57865219ac8fbc2c98045647ef5160adbe8c2b70e1eab9658681da07cf1e18898de4ab6d478d7e1e86ecc60db4724ed2ce1002db8945ca4eb5807b364d3ef3f58e4a68366cce942f5717afe5cf912da2191c82760dee3ccc5292238f8b962887c74b0263d05a0d06b8123b9b55b5cbcec72c3593843fefbef2456efca6421f146dbc7cae4edf5556e68e3379dfdebad172245aff6bbf3c4c2736904c9f61300021fb321b2a1b88ee6b5a5cf9a5cbcb8cdddd100cc1c073763cdfaa0015cc9fe0c68a31be462e6b4c4fadd996d4accccdafd45f83fb12f55bea57059f22f3004714f8459a38f52bd4227ff3d97919a2064adb8ef54a08602a1ff678bd09db3fa230237d7d43b7cf0dbf6786efc626e31f7d636364c258f3a4c6f417de6a7e162a8ce30a3cbf96f735cd19135f24aab839bb6c3748a015248c30a2ac025a2dd49b6b46f535dde5b574646db0a8f7c6795f1f309ee96a13e996e6bd7266731519a0f7ff447ec24dd9b8d7b08ea7c7ed761a494d3be6f0c7dd1d5d9ad19b7bcb54c8d9840df00a8f3a1d37a942ea851a84664ee639674ede7f0963c7d8598a0dc35d3c72eabbb03324a552454846e5ed8302790fcd2a0e1551bfe6ece792d9b22851b662d9e77415572349fc6a67b6bcd6bea025ead9af03d104d187a88c2e246ad2844819ae1259fe5c0ff5b5fb2d416c2e3823268f1ab605240d28370e2bd2897a8763bea730fc68a1db866efcaec5752794965b55f9bb29f8a967d444345c78fbcc1a63a0dee7f77159536d0c3cb726a004f73f302f8871577fe7935759104a506b261189df67a2d9176ef24de078fdf6d0756bd3e5cadbe0d5440b9c6c3bb7a3cb33add3923b729f4754c815fc60d9adbc9dfa8c8219ec072c44ba864f44ea9ad33c8aafdb3332335d5410678ba66ba16a1415ddd045e5b9464e533f4d96911a4162e03b4684844eaf6994b88f30e81957c4e7e36eec4eec58ed38f9fe7fbc4355052dc8c43528ec39f1a0b507ed7261af35e0e4bc60f801348d11db887865002d791d7a7f3e420190c40a72950fa326a067e01cee68ba2e835cb1284382ff5fc075d80eba36297f9ed5f814bf4bc634bde0cc4f1972379cf074cb685e469ccadd7552d4d66c573ce81f81109c63c901a6b5c99d39621a2179c51a3f4e74b258a2fb6db34846bca59b3116c13e260ce799a455f6a9f081cd5afe7d1d40f7ab7333cdacd14994b6bfa00b720a21760c806f96f2228f25357c0c501a2b78d2347370ea181514d9c60a5f59bd7b00de2a2993033fa0f045b8fd92a9083edd8d8935b4b989a6fc86d272fc0cc62d7033c9130e4b7e05eb1e37ca9427259df88f4fa737140da4aab403fa286e98cc296eecb45f99cb9374661369400268aeec544761efd56029bd236dbc889597c5862a754e2666d62f508338a5d57ca1837869e78a4b1322663527b32b39621c6869323ea6528fc003876c225b506463bb69b00c1813974392a4160fbb4fa7ec6d403aa9b82826a8fecdabc7e1aa5b5cd470447db837e92ea61e5b96a4952fbbd476a452a59eaeb9beff37370d6a791ecf9783085d1ef1b397356adc6bea7e5151350a66f3ad2234140fba5977ad4aae8a0f8baf34ae3c81cb019b75665b49f373c85465b5ae2b6","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
