<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"594586432268c43423fa362d3c3afea32bd3641d9ff4ebd199f1d170e54d3fa3efe6b770099bf808529fa05d04578a0751c4d3278f79f89d6d205715e8ac4731a7f2974d4c49527b2413e7f9e6baacddc15ce2718b21dbc98026a19a1c7337f5fb923a45917bb60a313453541dd31925937a4a227ab3ea0f9411a5d9c48d0053d3c17653d72746e893784245300fe8462f799321cb8360ca1267a7ee015baaa3e284f6cada0ff79a4e8c8ce7e4a23bf5476b81888eb2a2c6ce32fb0113bbd19e2d76ab2a7e52651f4ea1ad97b0e3bd4eb1efb55c46189852d4baa81b3e6a1d6ef9c2cf5ae58f295a60b7ad216306e611ec8d9f36272247b17fc8f7dda6ebe0827571ded84d8a1d86e12c3d8c4b924c3a5dd6e050f9fd7882dfd6cef511032f9b138fce4356de788c8e8417cc7e937efa78ba262d195fabb481fdd0d7c56fbd8f5c120c71e5173e5bb4cc633bbee07034cea34fbe2e421bd648b985eed8de5019f12931dc59f7a7989dbbb5c8af856eb5cc91c8cda3dede86018a1f1f416f0f1e18a5c15db61e0f61c47e51a97e36e9ea2c326a502171508a319a251aabb193c9c9486da5c73c5117adc5891a53d5bfd2361a6131aefebf2cfbaa680449521f5f2a80f74b81bb3d684c67b2a72589e3fdbe7df33174938ea7a6e3cf4c3a914d1305c9fda65a693fe6cc3d128e5844f23515c653ea849880ba21a74ed44e459e1321d347617d990d0fcca480e6e05a5d919b08db41eeaf31f0b13b7ec6cdc72e74a99dc8ce3e3d2534dc57c692938fb130ad0b6ee24b35c03a39cf8d1e6f1320ccafd3630a6204c58fcb086c416150abd3e1c5619bd3481066531a29ab4732de3548189b181e3fb2a62276cc5cf880cbe42f44d8c2d30bbd64f4b6f8d776ddd5beba1401717a89f843b1903b7bd80aada88366b3984b8aace33d2c7585bba7413d884f87660c9aaed6a937c098d45314d1a47f051200a5dd2658a981c81ef92e483c7fcb87ffafefb98e5646f7c7f5c4bc37803975f3f6e926800076cc369fede9d7b40b6aa2390e78353ceb56060fba4fc27c8fd33caf25b3a899bf5932353885f416510c4c810bb15f3fa3f8b604977149fc84c3cf943c723816e52791663b03fa100110a4c449467c99d71eb9b2c5f8a24b3c14f9ad296d84c2d0f5247740a2a1afcc668793277771485187dde80213091f8bebead103f83f4b86c47d334b1ea89f9d701d54a2699072a5bf705d00227d7c343dcc01e545591723fe1218c048e004ccc196c367628fe0f89255e25135f4c027dcaa291e424e8f6f9b61fd9854ac5af098a2a7e0ddef4586c5c998b7e5931bcba16839fe0de9af8b02a96a953230db82e03aa3445b6c90f0505a000b4b4507b37b8dd218dbd8ad9bbdcad240bc80f6170adcfa824d38e3fff788b374eaa5d91176fb2a6b664e5811f8c6117f31bde15212f2a3d8994720ebd7a2e2c448792dc5584d517911ed6a80aa91d1b36d0bd8d0610922b52255dd318a6584bc87f2b6c63197bc1425d71c22068fa7946d325dad9ebcbe58ea72bc41112a102d4c86ed3ec66826cc3f9e29d942a8aec0298f40f124043e26754ead39ac517d39c2efd5c5d0a7f43245985e703c280152d440555f765d4eca84011ad81cbbc635cf11b6b7e35976e18ea6220fd92c59cbe9fa2ed84cc24a42732d84397f9c9d1b3a3f9ac4661e1c512db97e838851247a9e2ae46fd7aad97b2b193ea9073c05441cef8834f0c55e274d8e8c24077820531ef2e51af1943070803a907140e7e569ea6ee1a2dfef5b434549820f16ac52135f675217397e28375cc48ef68b51dadf64ff6915302d63b93359fc4891b3d672b03caa2f213c19cdd827acac102e756261765e78dd3787e25c0f9eff599905ef96c29ce8377ac7d39333381cca29203628419e5ae2caa83d5b6b68600b220df3bdde9ed496b87c7e26d8be08fce1f518df8cbdd2423a52360970d8be5e191b1796d0fe32ad60720134d81881c6646b448465af3192b1db40aedc73159d837fe253252dd5b68dac88f6e730f5c2b6e041acd6db54cb090283cfc145d165f0090aa896062be72a5b05dfa1c24b27acaa56052eff7415ecd5f7a3c2a6b89e92e612b2ab4905b3c69501480852a3fc14fbec6346c90ba908fb3ebb390d84448b8d876deb81e663fd58defbbf06b232625923ea21138a4712a3c67159b141a0fc37a6fdbbce038b510d87250360203906caca9318a323da0ad91b3f0b1e4158e59768934f601ab4c3f125861a4dff93536150c4b7bbe59d0561ef72792fb3d7820c7f49264d38643913de1fd88e40851fac0e1d753cd13642a24b153b97ae9109507744ef1997568715f435ced1199d350979e8cd72ec27ac3ec53903e40d31aa1774c509cdc4f8a4554f87666f1c26600a63a4327a0bd90ebe6dc2486e1f36faf8bbd2addfc2483f3981a9963477994da3fe80205bab43d4303776219208119c1c690c2feef197f339ef74d42fd80a57612cf262b6e30c0dae79382e725a083bffcc3bfafa44180037f0cb7be3dcdf469ca61c93bf4637c0371e9c03b5520c45b4e7cbf97e51d096f5027aa5ca49e2e5f1f7e97f101b50415de3259480d66a363bbaab28229dca1c1e6a660245719ce534a92c977134d135c42b45868124e7128513cac2fd174ef16b67d97878d7dff832c9d6b925f3a20afbc24079267e702dc75661f50ad59fbbb278f4e332c77ac0dee4447b984516983a448d64af6954aa750517827dc6151b9cdc37fa5c8d24d9d6febd651adddeaec4f4f02d3b9b54213a572ca4ea799c7e6b8714076699857450afe53facd6cd680169b7b3fa97a6850e2653a0c681ddd93a192da693025aa59261433285045d09894cf6646d0923a9121f91ea891ff476b2716f5a6165e5b2a3941f60bb6a3d72ff61dde0f8cc52895b99d808b14c531f5991754603128e4c749c1f67a2793a4a80cfd5edcbf179a163d24c99441536897d7098670aa67f85de85234daf59f4486b7d68fdfde4b85da7ef9873446c21307a7599328bb1200d2b22a5966fc5930fa038828bbf17158053f520911bbd75a902dd5be6cc455ca8f1703c49b0ea93a47ab75fcd7f8504024f81ef280afde5784253e66939e1601aa20e4b322cd13662c09483567fd9612305a9c93e78c15d475421c19cd0a2dcb8d8cd6776784bb1f69e0c3b0027cedd14c548f37e2cd5a68fcfd239f591c2bfa445681c63ca49941d34cf27f80ecc04c21ddca61056e06162dc89f42e9c4f1593a151895be2d65246926ac2d713c5da66819a97c4ed6c7fe851150292f2cd69f17110b34c3d370dd24ad78f2ee1d1745c767a77557c600423f8f2cc17438c44e138e55df0823624d4e1ec87adc51f82a50243b2752ec99c30e5f136e4daf189a18af4425f41dec6fc8d3606cc3a31c782851c462fb9c04fedd2b4e9da407615964d0a3bc39bdcbdbec3f1ba41628694421c751b1293d29b61780d552f4707931474e1ed5dbcd1bae77593b23f1eff52abdfae8e9029a23d54b63fdf3e4e6f92c0e697d18ff4f71edc0b5d49d18bffd7f9587c3707e00dbc9977f4a86ef0e3e0ecee347bb8783abd4e2e80ca6f8ecbb998b352d73a532e87b175f928d0de78fbc998fbbfab4e04b786c9b0836b276f4a6fb3ea30072d3106444a8d8e7c86fb570d9ec9bafa43438e7208bc74c98473c50d5f7ec800a19bd35cb4c7d38625095011c544ab8e71d9d9dd0bcd3473e643dc328965cf447f8bac2769cd5a47f54da7beb63b5d8207d2a49bcbf83a9036acbc1a63c6da09ced9411aca4c76f3ff3c5cad9c6b2e698cc9d9c40397112a85315ecdc485a03d05b06bc4dceb6e5776cc01a9e0a74710f0e5acc90ed9deec43841bc8ef45a9694dc56093f81f27af8a26b6586b5a6f6338ca510eaec1f712dfe5ba48baa5048770c2cec87cb7b317f04ca7b307146cb861a08599a075fa37ebdbc959be84b98b2f8befa0af2097cb817ec82ed314af1603b967c28f5a0ea7945114a2f20ca3079b212995d53f6d92632a8f35dd1451b664cc13df8cb5ec96b85a61c72b8aa7657ab7341eb9da3614a901f2ca4ede41dadf3677039f0da71accf8b367ed1bdc6a40596c3d6660db2d5d2dec2fe4f51806f35b012ce972a93f53714bb8f0090a19234b61e4a59bf9a01f13ab91b8b006ab6d4e3ad25635d2cee15cfbf5d3a38fe1a31d3fd4ebf049c73e5e6d6b162cfdcfb26d217a7dd9995b591677db3dd9be4802ee40c058737897f55eba99a1fda05360cd2ef07c3bec24a5111b5e42d8426b02eb9e0cc6493dab2dbb139bbf54d5429de66022681901c2b314154758fb66d11d9ee41146e7a323f00f08dd1e9a46ebc7c3fa4b2b8d887f97e57203c90290cc75e0d43ac70848ecb60feb9b79e5cc85f097caa59c45a9a90515f0209c793ad56865ee71b3bd3241e59a6b6181d9b32d086b29fa2d5b6d1a72ea8aee55fb37dfbfed9ff79db11fbc536200ba5701aa2339e1a71572d20e5783fea7fbeb2f181f73fd37ae3024a4847984504326b6ce94ebcc95bf9b55a2bd2f9473a390fa14fb72c15138044fc0b129cd358ad3421005fba5b3c30247fb650445f0304cffb82fc5dfa4d1189d2abe7d882576cbd1ff8ac69adc87d1e7206b540d6830f7d64763c794924010e8b22cbc1912ad20c700f932753104650b3b4f3fa798613a69d91a229ea2ab9676aaee31ac4d38fad5a415089adedaab8ea54c06ae3c188c7a133e36791dc8aabc70311488d3239128f2c2ed306bb1884ed6edacb72a6d902c9d7a162cceb6dc8f38ef390f624b34baad89c1ebe64acdd8c84885941c3c71e5262f2bf70eea4d30ec4205a281bc0b00638b2ef830efddcb9a720508b70eb33a0b920daf2d1da9e4c66b98adeee467d9dcd118b6a0ca31d26f1d5261c72c2ca48216b56e4a8075053ea02c057303e2591a5a435c93786e893547919b31998971035eb8b91d7ca14f89e249be558f3a938f10e8fb8977180f6bec141b90155a93dce6ccc6af5c9768cc36bfc0c1dfe574cc4c5d1f5e347c0944012bbfc1b41dbe9c55eec9fce6eb2123d81ead7f860ded90cdd0cac4fb574a5440697f5c87d378a6ee79f25de14187896a6e286eb406f9d6f58565d7501212d1cf9920368c045b6def971ee4d1f98b3ea569d1461a79a193a433e49d9816fea313b6dadb8f89f83bd22ee0159facd64e3397f95ef81ac970c37d2ee53eb8f4a3c807dbe4405d2a9e28bcd5a59333a5e145eadfcb3881828fc81e82d83d83683924ddc2b455d7f8ecb200d84e9cc8379f76da71bc4b48836f06abed747e7033cd9e8692283ee0186e1b62323d88a262a0d2213d24a454fe8b67fb69427a6a35e57f289d9e8c78cde7563f5974142e03fa4b010022fe29bbf9ec6dfd85e743543489f937cafa31c3c7bb2d2df5d40904ea56eb9426a266d762e803ea3d372267fb3195ebaf9171d1c3f57a2dfa67830a120ee0678fada1a37018b78f578088cf71f233ab95c3d3b964ac7d6da9c70c5c92efba3600fadf740fe1fb4ead0dd1a80431691c30e1e6526a1f81a4a566f4d002004a397a492bf83e814cd79aac3403bb68b59cec84b3b4ceea7df42ffc5b1deed9f68fb296dbfe3c49ee759d9cf379d80f368a5184a2315025c201d696a3d8e651affdd584ac81e94c6f810ef82bf7a92d4fd55cb893dffe2a5c6d97ec72b4a6c3c26945afa3e375c7fe93b7340f3171b38619d43afcfb5c1b149491beae4af2809b047ffdc0c16decfe0d2b75554ba051471e0a005b687472e14cbcfbdd580483b7707a380cee1e8b43135b156f87fb489db63748c794dabb2b5b7edb31eb2b9a1970564b0c1e929e41190889bdac38f4cc436e2f7d3795b5a877b0b3945b17ddc02e482a4732e6050e6143b372e1424afadafef49967cc3d3d19cd3b1ac5837149d7d2d5a2766d4cb211eb540d97fed172350f91be77f22d85edaf00226467d9e7f55327ca85d93208e3a768d31f6e33ebe9cd75091c515804350afc96a980e104494fa057e15812a9a52ecc0dcf5dc8264f406a596a5e24478b77a51d133dabb6d62b208b2e2b91ac0062aacde4b040c93960698b1d844602011cbf81f112eb1d321646acfc71622031f3403fb4db8239be15d9bc534fe684e4f9c8146cf342a5c1673dcacf063151c50b2c03410fa918153f90a5b4366ff276b190e957bcdf3663819eb16c31d97ccacded005d78ee06d42c2881e0257dfd06c2fdb357c18f1ef11b670130033af074883105c652f709baf69c6ed5a23d23fcdc6b66da4216f42cdb94eac83c710dc999c0452ef55b6f139299a6eb93ad8db66fd9d014f13b898f59d5128e146918689d846c1e0a96cdebb0b1cb9b90da0687573ebc80de9c2812b77273a2641429b513447efcb6b2e068b1c5369e7630997e549055760f8ddf16e64103fc4de6882a405582a538fad8f1a1ab4803aedd977c643a01a3085b8691d1bb3a1a8818961412bdd6541709c023ac09787804ac8ccb762378895feec7da0d611e0957d34b2ebfa11d381547fd733eb4166e3616a70a80caed6a938a0698d5907d0f705d08b0ea3638eb6937f91107fdfc5ce386808cf168dcc14f7b1fa9314d950d54c462e8e413f7769ca53c316dc73956317cb96e527ffe89fc7fef969473a5912a4ea03465d666d23c58ff2f2e7c5327410b367cee162b268c0a034c92439e252093482c11d4c635a73830c47ad6b2cadbb53a5e73019620b575428e5dcf5c7a6d7d3fc1609806375cea998dadec41077d261fa7b182032e54ab89252d76b26605924e3d014fef4b3d70258cedd729adf6d290b2406632e27973a67d2cb0878de3fa82b2f82ca51915342695454026d2d21859a25bd7e51e2f5350dcc982dcbec928e0b1802f7da628e2f5f59a8a8bb248f7d9ecebd84dc935d8e99d86ec1d768f78bd8ee7fb488439a1132335c37c2157bb95252423e0804db744221890688dc10c57edccb99ef1c23a4bfb811d677e3aeb3e7e80dd352599bbc853e4777098af8bada7262e220ca276e0702e98e8d4eb9cedc2f0dbd252519dbcbcffeea510a90f9075b7d9f4448615c63edfa0306d08f3351a030653df4a97f7eed5f0eb269cba8a0dcd9f465b14e382c4cc00feddf00457ac31746e076e5fb8645b711d1e5563a3b4e80ea1e50c16bca7210dba4525a99bbe94683933c13f0214bdb2acdb2928e3fc0f93bb94d04cf4414de488a2e94de29d2dd0b89beee38c312bdd216eea955fb34dc65b8a89a4ffea2e58ba53e7e1ee71d1f44b806ed57bb28ca7582ed336eadb9a93ba29da52790f31df2127d09c1f12768063829bfe1894a26cbab10712a38b0a332bec8fd1699284790396f97de4416cf94e9f3f8502e2ca213b059f4ee965f02047cb5b6cad6485a095234c7fe000fe6c3be4abe842d64dd8f967ed1672f0ea3a086de4b8013b915e931d49e8aa2ea58e5c73e3fe0f767c7e87461e9445ca6e52d24a3357ce9fc45c03a7ab46b410d22e929c55039a6e73720793d69bed409a7131ba39f4e2e726d0614a70d424a6154903ca63c5b3d1f0fd8bf80c8a7e1f189b514248dd3f0451d85805e65e0f8732c30f9a172b49bc5a8479bfffdd07db21c6a966347882b8e3972d1f21483b01797c35844e1900681ab8ef0d481fbf9f0168e248d2530d8a53757ea87cb17008b54224a69d127bc35aa6a5c99458d814dfd7c7101aa54a8a54dd36ae7e6e177aabdf46efbb89b8dc4de7e77ff8ee620fbefd238f00af3d8a278dccca99435a4ae9a6024314f60a39ad08e8f3845746a4bcd629297d8228695fd82d321ea8a0169a745161cba70825c10e8b3873d339284a73ce8184de3ea6ef65e7de42bb5cd5918fa64773c01cb6c08609ecb1713c9adf1c300d02079bc3218ef42cf9d3c09bb49c286fff8eb0b034c4f3a6f32714cd8ce64b7185f3812d950e3b873e880f43d1775802f5877e9a62a6e52bcfd57821b06dc46fbbbdec60ac08b3a24299da6a98727ab13adb08153044ae3a10c9cb5cf65993ac9e1a90f8c94ad898fc32dcd5050bcce07b4b1203dfdb4ba1add90db18b0731025d2bea5af6c13d2bc17ed1763e2371d58970e4fb84adb041e71a5b5f6e88410a39199aa3380fa4e4b1294745004ef56f1c41e969e27651ee889c22fe489116e55485bdf33de40a4b315e27510d4c105b20ed4bd1f43a2fed1c3eeb3a26773664bbed1a21a25da887bfe60bb45b703733403e0c5c19bafad2671a2a02c84367059b5219a63a5b77398945ae6a418b504b92221c78424e741addf3188e20247abeec3870d306e242afe2a1ac98f16dd2c838fb96d5381886f35599c8f8aeac6d3080ba6692c2ef12ad0ae245054c06f14b8fbd5f2dec979d6e826e0469918f1214f0d619e87c60bf7989fcc671e0d1a534461066a617aaa687b973a2d8eca0073b8cfe4e4ba729105b78a06d03f94e6d7e9efdd592fd3a2483e1f5a62920b1aa068257391589a230a2609639c3a368b25a81b6dc6c2d1b7661c042d3ffce9fa05b01a60237acbd93d011ab1621ec60ce59683c330b6b43948272f90cd09965d05046d0d5f00d73f0371f40cc1599282ab11fcd9cb7026445133379d3843cd2aa60500e8aa688ef51cf011da02a48f13f4cc50aab1c91151716b6432417dd075b4e1452508ddfff8827db2d4c2850f1806256a0090d70b623f6e3b7dec1f6ff1f11b6505026277a481fadf60d060c178047ef48d488107195a7344395065af4f82b2151a446040d7d78d49150065190ab29f7663259ec2aa941738ed9f88f65a470f807d345be9a94d530715e5bfd0c4009e827e21207ab5994c0659ae1eda394ffdf61030a6a59ad5a95ec41e06463fb8df695c50e20bafcdcb5fc23e250797a26e267173c9d355af72b3e62188c53885b5eeb3a510f6c0a78bd64a8267bed3469702aad65d9af41e75ef18756c3f7bcdeb1f45d98cf7773663c10b36679349824fca4f9b428b047f67dc6250cf9cd0eeb34f4b1fec3fe1804f42c73ab1c7f94cc1b49159ee5456826b0eeb30be8aaa091235470e5081edf1a197c8268f83d8fd7fa6d263cdae42a3d8383fcf725b06bfe6926fd4725c8d64f2f5722f5d3d7135e6b6405d31d2e8ef88de94dff6211526b1ac3c13efb2ce553961f9179818add8e005f8a6260cc04c64f6313db0819bf7e62d17cb118c8b9686e2c1f44b636f068a7a05672ae73e0864a44f59299dab30dafa87c210c44d23981f47b47461ec4aa5a2efc8c54bbac0b9229514e50c0bbacd8302743e4a486200996e3640bd495b911b5c597f7639e98982e4ae69181c2d7fdc13692845a20734f61aa3c4edfac18961cf6156a46aa77b03273fb58308406ca39c70d0fb2d2252353fdbc41e1e1262d02b7308bdf5dc97f0b1472e4896de12ef3b70b44b2b3119cf6480b649fbaa925d1481004212a8648acda5372728bb8b590d03f2f3cad2dbda83ebe8f32d4e91b81e37227394304cc1e42ed064ed0e2e007adf7ae45c00cf367edcea3c8ec5b4da19eb5afb8a28214f27346f27bfb9c4145a7413a202e47d5c3a97645329c04f0cc0ac696c9360802601866c402c6e22358fb2330a87198e5a1db65888efe62b0df6799c719d89d0d246abe02d15ba6e299a3c697e0f97d1d3dc99fc0bf123136be87e670d5004018476e4ff7e0210a4368e8ddec65ca679e56f198cf4c631d0bf38d8d8a1ee6f3b08bac8d58fb8dad21a266cfadee1e67449ac32d8295f2ec61344690d50acbc0350d85b2a51f5918d33c84f6ed21b5a7c8613de619b14bce113a2af9100dc91706718d8119aad191d9be7d3f066922e21f41af5a28591786fd48ff6b55e94b636316763a86e997a084fc11a6b3f7f8adf178526d96f6623a7c24a542bc7285b425f384976424670f83f692081445877c6aaf79eef0f5918557ec567483edd4c4ce1e4402f1ff7143960c52d78530c7e364db03450c753f6c8952648813d77273897fb82e6ed1f2b17b2cf42e693c3fd6580c365b1ff1d83fe7dd88a9742d03e72fc475c9f61c11a94678b45b8e2a7e50571c9701e54bd0a51cc064aba5e8266d179d59a65a2a58022c32e14907583f438943155c61247a623dccf7378e186a79b2f4125670bfc12fe6fb93e7af53601764ff95d289662c4800106f3d22ecc31f5dacd59735a9ace2ecb3079b5fd369a049a8fbb9f11a836b0179b2d681568c99cf5ebf1a26adf07c5e85bffe777d3db9f416cefc8ca6b971c1f4c4b1c414d83e16ba21b617d6417670e21bb25c82e9ba7c42bac1376c3176d4d1c2b46a057259f0d452180875a7eb656d0e647fb0f82d1b78b6a2d0e4f4291d577fb714f4780e898b71848abd399bc5ff446263fde6cbcc79bf1953a24805af8de9369631c18b96c172d0f090b136d04c2451699e3bd685887ba824c9312d4367a40c2a6cfcab85334e78dea0160257002ca2c6f7e9af331fc8d7fcc1b4a7c4be2aa917fe08090ea11f64d2b9b870ccd6820a8577d4e12cbbdd1b4475664966d2d2933c4d803d5469e9167a3fed1fab43183fb753378367bf4198ccdc2776f54c114adaac8f7a2ee663550fc65dc0b5cebb395284a9c8e75f351f44215daf28f867b3d52dd736b8ad6c541151929f833197e8c623b98353c12f529a61ec8bc9a2a67b4bf92f02279fa840b1b6701a3fcde9dcab6e7a970db129c6fa69cb8972d8d8dae2ac9d9ae2aae733c0e40d6589c4fbf27570ae521809f3e82fbbd73c99646293b198512da7ed16410ff1ecc848f2ffa46da3c9f3431aead09a304d462f4f07d75e203e8528e30a22fd82cddbaea1378b81e4b2c0d365f946832b2fb4295649a138ae2c9bcdd28e0ede46e3caae1247f8720dd7c5b3cb18d19a77d07a29d9c0e286d0d9d6c82bbdf91fd9105e8d2af16e39e552973848e83f180598390f458a65b078ff37166244f90e83eb1ae14966249318aff78b23bc3829adf52002f70d48cb7715e24d64c5beff8e9d2416a0f5c6bc63bde4283c5e08e0e05e9c9ad5320bf39919deac2cd78e45d5b6eebccfcc582f69884122fa8bb4f164ea1e60f3e6e67c835e45ca9a9cb7f7c85f47fd1f547cfe18b2fe0c67b00a1920c5d585b13a03388d1c1b86cc5393d82a525b156309b7f5cce79e816e56f34095b2ae3d016ae560aaeddd8af6252b21454014864fce731694a0a5e3545ef49ad07dcebadcc2bbfe115de21abec0e07599fc1841a4f71b3399c5470c28f47870e08ea57df91c30a6fdd89dbda28b7a90620d592846b1333a4dcea5c9fd74087f9d7db0610db15311192ad04081942af17944d00f3625434e9d9aa13acbd4c04c00ac98b0012fbf1efe97611c14187f75147913e4640a1b64dd2573077234c7fda4a072e86fa614868a9d6862d9896e9ceb61ac0752bd34ca3764be0b325c294a3dc1fab738ec6ef286bf5ba26db696790deefcadec747a1aa455675fcf7e640c26a02a181736c9a213e5c2db1cad12d649ae7f465a21f725756e4e04840e48ec91c28ee2c25278cd800b30e578e6444d6a781f00e35bac7d4610a7ea5a477e1423fd9c6469cc982798d6f0ec516c8069f2aa1b4ca5faeee28ef698812847c9496ff4062c8080ccfc763038c6b59d3c78220fbf412799e5987e71a6add2ada7fcd3e897febe11a32842169d961b978d8fedb69f06531f222d5f8c8f2d969007ee162471b58ce9d7dd6a22df7dcc7358e73a03f4be7fff4cda00ee9bc4fbe7ce7a13a5aa2c3de8cacd954b9d0014b46bf460bb548b67184fb752ed08944b541365c5399a098a83038d32f4ca3853b050fb4cc1ac86df10e567080f21f94b7bd5cff8fab50fed75999eea3f0913a8d07005bc95f8df1f447d4bb672dad7cd47848fcf25fa7f684b587c68d0066fe02382a3812fe73944c350851db54a0f30bfef14da2cac43e11651cc88095b8f95af1f3d99952b4e096044f81d3c7ad9f3b73aba627384bf77de92ff11ab9431b7ca8e9529348e229da56312a6fb82174b1228464dba040751cd446381c0f1b16da2f0e971d041da0c7ef2231efea0227f13e61b767a4a9b62cbb276e4d312345e4e2dbbe5fd38374c1655a75644548b9d1256bd417f217baf6c6a61cf5aa7022a4cd3e325b26339ee64c7ac9af219c2e71940bd4bef081aeba2a53886857815e08c94fd42588d43bd55265f33d2d2eaefe4261a232eab7c7983fecb6b35acea87f6f9440cfc59cebeedef817e021342c54c97e80f154d6a68a0987fde0d2dfdd3d93f40f010f0b79ccdb871d398933344f868a66f0d8295321ebb328a80380ace1f9fea6de476adfe68a140bdb34d9d687c05c65fa7376091d64071772573420269734122b649fb6afb0e52a91f8d69007e50aeaaf83836a6ff991d0ecfffbd7d4c9a7ad499e46958205b392b55b4ac6a33b4d68a7dca17922c2ab514c798267a26d639da55e861dd02f82b4f2f08a9b653f0e1931b51150be55e9c63f84510b113646ac073c8bde44c6a01eba6d7f44c2d7d41798bcc1cbb4ad995794ac2db2e3f4c9787e268ddad9ac986d56216ceaeb8e9a654df8e8e743b9c171419d202168462849f4d2ee0a6354507e1b8f6a3d28c7df17ba375b1b19b6ddf8f7fc53e9a8620b701bd3ee326225888f62af42bf8841cc08ce6af754aad16ab99ab1e1b124ff0dd01302d33f0f4621bc2d3f54c3e6204bb63980ec7649a244abcf764900a8f1e2c1c448093ae32edc237ab027ec3484fab00dc94a9aa0037e63a109ed0c34c4d390ca80a7b3ca8966dae3e9fda82e586c9e5bd32b97da5631effc04252dcde825ac366e66da5a0f1dc1286195804524d7dcb74f05097f7742e3202742786947353a7a92d0c99e2364a66b5df868c4dc8c294d0ab883957cabee0e954a059702b54722efa5a9965b69b18838b3309cf2900699ed0a018b0d8a66eaeac67b0a3f772da12f6a2dac19173781ad7a6b742c0656e2296f5e66af6bd8f73294e879bc1557a729c8dbc671dd2d69e4a1cf7436cc58d475bce12cdbbbd31bcaa272ffd471147c38b7f1e0ba5236526043902530fe029a9449a8f869674c6ce0441a51fd2dd27c6676fa1171fc7de597b7c73bf173b37d5cd8acecc0a06003595138160ca78f83807e195ac3947062d09f5cc3a1c103646643e8fb4d52475e7d768070b9ae06d8cdd5ee350a537c3d901b16d4d8fa88073daa7e63d9facdc6aaa010cfee5a392e74213b8fd3fd5856f55e14daf2599d8d5ad17389dba49aad4b0ddaca64e5875ba7ac74646ce04cf88f441774c7491beff62f5df5a2acd5fb68651ac837248d6c8c9ca9624885c94c083beb93c5cfbf34d07adbcce1b05cf33468e6649f0d61b3c999474eb2c970d395d87c7c7ab3b1168fa09061fb65d123b2cd99c4b28034f8ad147e6d17bab14b309c7f1b6b370198d0451517a8961f96848deff9f4405045da932273b1f28287b76f5e9f8ee0357d13d7f4af9bb2fcc77cea2909b59831d1ebba1ed2605770f14ef7d00ea3b131b05b5fba7a74e84939163736adff588aa6081da2f6f2c3fb5a06d891f14118553bc14a439a3027e849c463f63d177885f8a871de7286e2077a0b7e706dba5e9bb003a652793257e3c02547b20726ef7dd6cc3f0d2e5475758159288146b51ab84258cbc8dd3b998d58928493d0dbf1e27b59a4a7202b81feb5e354bd7a59ace447f0e9d329041ffe2be544b47c3440a29470e568ea5072a54cb772a3ed60b57b862bcd0ca6c69532cd61fe307b048663ba0db3853a58852d4127f9285497fb75a96168534d7d041999e9271d479e1a749a21f3b79dc584fa54da3f845e347f2ba22136050c140b948cb96539821bcf9bbccd70a1cddf52f6833fe6bf16056a8d8846368a218801c504f7bc17fcb7c5735d968c4b00ddd312cec448eda782e20ae6790170ca47fbd0f983132456116a33f6af18f1c74c966b3086395acc22d3057de5ab6954b037184ab74ff69df130879723559e1bac276125ab235bfa989634af9b0ee84669941d6d5c5913b566c08d0cd286cde8cda1d9f20dfea3ab314b4efdfb46fcf4929e453042867be5af6f41be3f141be2c473a5debc84f8dc4e495b8ec94f03d05a187b94cdaf9b0974a7fe1822f208717e58b543f119e73964aec666d319915501d83dfe3d298c5b65cb1c5a033688187011bf41351a19229a6bf3094f690c98657e6d126786be7d3740fa7a8beb4351d0c533659d6cfbaf0ad32122d52bdf798c97d1bc7a27cd4a810c771057a4f202a59f82400b2109edfae02e785ad03ebb940cee8eb2e2b1bbb23e9a6227887b73560bc01df863eee04de6f16c4dc231b5fa700c0761d04c0307cc14255fa7c49d8ffcddb01354f80196c5cb3bcff58561ef045ba4d19d67ff411c8119229d95d37cecbfdc2115fb1863788c29c004540ca744e39a0383e86e65c4aada30f67920e8453044c61a292f9c040440f9bc76058906844d9e5c75fed0385a9b3596b3e0e233b346782f4be694522cea43b80a8233419f659d286c1507d155335ef41fae37e875dd44e035c2b78475215c77e56f2dcd77ef933978500de80dc8bd63878170f520d56952e7954d071b5514b1179359815ed806cd67e67c4417b2ebb18c581436ffdcaacde6f3b8459820a74b093629edc99545b99903cd725bff189bb666476e3338af774b7447f5572ae85f365999aa002c3285a1ae0e1356372bc596f20c766b91d2033b0fe1ab5458e02246021ffb6c2803d15d878b991a413853cd61c01e11cca18b0317299ba8682c99f22f450dac803141172f761f86a7ece166300078c02650a5dc9b2f00820171d5969e13351913e33f51cae2dea074df35b6633a28d1d20e7a3dc13446fb5005c16795a37382a2f09237c15849f4e4be86f31a52dd7ce34cd93dd519bd2f57a1d2761d587e749979beb7d54a6f864156db8dc60fbcb3cd50c0935fa0589acdad7869d34ed03e492beac1c65b6a0d8c45b72874ff13bd35b2b0cad741317b6ada69e531ae6d912b7bebad6a68647de85e24d096fd721e1142cb170680f3e7b36943952aade29db40f28b2fde0a068cb99de0af66f9102d8b2d701bee5ee8cb6819a25b0964ce7afb3089ac169025ad5e935c7eac626b443c12a267d0a11d03ad0fc3b449fd418bc4aa87f7d74e45819c2cdc2796b54a5f45f6b87e37b1b3fd69b6917a33fc5fd73e43b0d9fcbda52d6cf2f0f5b7eb7e0b51f90c636dfe43de2826db5d4403c9c67249059e89daa800acdefd2b4ae209cddbd9ed29c000622a358628e333b6bcccc29111a71057bf7f15acf227f5668d579caf938e1ff2e84be1dacb91904fdc7fcd05c885eed5eadc8af8386178fed6143b8c6f81107cb3f94785287fe0aa9adeab6b60dd887e2a83cf54715621a3e4de001c1c88e898d2541a3a7c20bd5554f31836426dfcc97aa898d052bf649a5df12e63bb53c194c0f2f4eb0050e73312e73f917f2efcb90646c4c35da6b634d6d13113df6b1980b9c9767fa36710d56629d97dcee83416df41aa1f46b0665478f9ed5c5b450df9d7c88000eeb75616dc9a2634621e98bbf8f0d83003199ebc2f07039950e49d20c73a629b9f4e9a333896011ca8305472bcbdbadacf08a67664141743273b99b0b848eb94c8d3a77d6b5605cd810488641922c7924bec08a2fc2649f7f62040c7c64a4d3f6fe621f518024f371c3b24d5c3f2f02fc409af937dcae6249ba3ea6a5156e60509353374d2d6ba7723d5f128f837c0207881058349bbbb4229b1d4bb6832912640a7386ee1ebe36fff072304f11a28c4891aa9e4bcd87b22d28c3da38559633cbc0e86b8b82584a0fd4db04a39ce929b1797062325d4e79274e055917822c955286090607f0bef5b18308331d3f902c09634184efefc9e5dbfa1908a875a4b45419892470094528fedcdcae76085ee3e32d4d3979fba5c48b476a131a4b9e0a5fbcca63906de8873b39893e32ab57fe007789ab35f517f929849cfa606f42625a5d0ce4aaa4f2d46edf13288073d09444fef7c606be900fa863272019dfe23f91d1c4e12bb8e67ffb6a5d0db969849b64f3e9b394a5b33549076dafc35bd05143401c08c2a9e9fae7e27d007f0e4516c002823456abaf36d30989bffd3110b6b57173eb81740cf99a119158eae688c2cee9c5e20504b31f52ca4e4f6b048e3dbcc8debe83cf125f84517026af130a73365772961e693595c6dd5759f0fdf765fdb03f01c5f18f8b934db3fb62ebbeca8ba7b52c857f71949cfb2001b7db5e1761bb122b0061cec61379d39771200fdb07c580ecc37b8d519cc34bf677cea1a4f121fa3a6ba41b0e4f0e7530822a600f408446acfe504fe4b9eec22514905ec3d1ebe6b890e7badacf7e0b9d971cec8117567aae8014c67856c55a132a1b3fcc67dd0ebcfdc18e25e25b53d0e0fd42b6ce5e0f21369f00b9439644d1be78bf5ff13e7072a9f4e9d5a961eceecf3d43a23663208c6505cdd58b67edefceef4f0d4c52afbf73aab3e08b2602d575bc0d64bffbd5e2ee649e4cf392d3eb66f6c949d179ad60d6b912281973c74ace1a0196c0f2696ec029564ca1c26d454268c66e86b0f69c00ad888eb7ca4d33bd6a6aebbc479bf7b04bdfd05ca736142b75c1fefbc9c072b8eb854e113a8b8d32bfc58b9bb45b090a51e69065b58f0298ebde0b0c71e8d2b37926a6f40a336f105f491850b7fe922e94e674a9e38b873f85b348e7fd127851212261e568195f8744bb8eddf3537282ee8f34a36f11ea2b7adbf7cd5a4f5ecf18ad8e4cc157f779025f8fbf08d0fb1ea14b6e6cd37e006786e5f2b9824b44b0d6f69601dca1ef75499c442de0ddd4a2790a7efe4a7e32c9dcca36753ef93083503563338968553b88ac98f7e4436beb105cbb7fc932023fe1c22391eb4342a49c0b975ba7d87c081b66cd2cb29cbdcbdb00b601a31d07a100d6a93810fbeacf764d33239bd7e6b9d5984691190033d8008ae7646f0a5ed641990c20748c37cc31fc1a1a3c9f3cd7de5e1a48cc79209c7fa480d56f804916063c4dc9f68e7b6003c40e7dc8143773acf4aeab14e55b1883580fed8c79248895e27a0e53d0c7cbf5628d8874606410f24c4318efb251b807099b0245f862f6738bf3d4a011e793926ba2861945a06335c202fffd4526d7afc401aa19abf6cc3b7ae5ce30d4465902e22de2658d8caf033ff073764afa231e5a0c849586765a373fdd82a224af978354cfb1c51ac6cc4f2a2b7d8908057438e5bf358ac89aa7d4d376daf673a13149b9576ec9858295785ab4eab6b30c5a3ff950f25fd3c0ea0a2e7a38d3828f1a2a7c130f330d56d1cd10680d9f0dff8413c5029c796f55b66f156d7b8ec57cb40a259660306824fdc248abab6f861c8e3babd1b00a70c83e3fd9f6402cf30d25aefc8d40e6cc2bc6826fda94ed2103db1da94b488137c2112b4f972387278257372cbee1213fb2dd704ae53921fcb810533b20ddb0423ceee03bfb8c1d06cbd9d5e610820a4df6903754a3d2212141b44fdac2258b5037653f3fd8871fb797c6d476ef608104238f16648027857cbfa9b0a5f7c129403dde06dc92969c383aa2868cbd159be5cc77eb4aa550bcc61b5d4ba00fe3ce9fbfc8a572cc6cf7bc9e73339645818caccfea75d1516d1fe83ddb23c1174a4fe1f22cc9ffde73bcbfe8d142a05bb962b21d406d2c120abfbd0d3275ab8f6308a456ba96fa2234fc852686ad07839d111f53fa7dff1705f4ed8f153be130e1c6446419a518752a88d6d79af5af30209c04cd5b583c38e218bfb337ba443135298bdca89396c2096a05941b51d4e43a77cbddce963dc19e1ff67d0f69004f66db777cd31fd361d54b0f26543f58bbf51ba1fd8dc746a714246c8002c2c14e936e9349b0ee09bec4dc7966ba2cc7760bf30d84f84ade756b4b90b0bd43af7d03a95d69a8cc0df0613c919f0de396125d3ade65dc3066fa7866d41339917fc2d01ab4e588127c7487ae65fae1613a0b89684ada03fec6ff04d20c0deabd3b62e0df02c69b200d792ecf00de856352d7541fd1868888421afe85f35170e18181563331062aa1149d352d8fcd756e0373f7875ed03ca8fb8c0b3ffa4a52ee6e1d213ae60801647a279cee9be533fae4b26818a3636932335d94d7f246126d22044a2b8f172259c732dd6411d12dc74d3b72ac22d0e4283ba7d7ac225c2ec9430c2a104e0fc0b50903f0e2230038195b1549a5b7fbb816790ecb58de709036d94e7d411e49436e66a1d6bd852dacc96cfeb3c6bcf4120bfa04992eb74d2ecb3375b63efc0987b4034f790dd1e397b2eb9584487fbb295efa676caef05e430f5e514765b12056810b55651be00ece26ff80b949391a6d9373522617193247bb091e4dbd257eef9da3f2bf9cf94beb8bdf4faa9ba0406e8fd071da74fe67a0e6db27bc1bb26c1ad158a46ee8630df9029d017b89eb15e99257e49b934cb20502160addcbd7d8c21c15b1e3b97b2211034ae114aba46fe61cc769aef8b1f09156a1a8bddf5306348b180752cf8750be2a923108dbb05f4bb9e80e067e6e5ac582fcfdb0e67cb3fd0a8f6b9036e126f91cd50383bf6f548e92b9c25e9adb616f46d6b2a5adc67a9cf769f5517db295eb3cdf141bcd1e2fa430f15e93975955e73ab34c2e48ac19c5de98c731d8a060bc8774f8fb1699bbe8038684dda27894935cde9053240a3a99ff314f642d19d83c7befcea8cb9acb65e460b882c19f07095d70210a7e25171b3cc44e5333002fe8d76c2f6f04dde4f91bb5c60b3b912691b062977c24a73761fe38390b9c7309cb343f6b1d95e28a13c02b25b59b554b284a17ae8a644ddcc5265a570a5cfe28cd5e57773038315063b5e99fd13616066a61713570b48a4e090fd6c9fee22c58919669b64a387a59c887dfe3f3efb002a246bc7d745ee8b94c22e0bf81e4a662d755ab4d28bfe7c702db60bd8978b7d6dbcc1e3cfc7cd88006387f3d0e31d1029970e1e79fd76b6acb0883ac0a6086c9dacbf54bdd37c415b9eb0d14b032371941ce5e355712e42d35bf6a817b05e5c4c3937fe3b36dd8c456025ea34db6de95ff2dd89f7b2157a17e8aeab87f197c9a1eb9336d538ded396b4878b5eb2b669968ef4f111869e23de5177d2f4bbdf27f883fa71187807dcb1b18099b68df78b53329a32b9f376988185354c2c0180b9427e76ab0ef87894f991cdd676cc776d1d359d97e2c14cebc0c92f2cb2c1d619115fd7e625e8fab3d0ece1d687f88bfcabd6c30c5d438c45904650ad54dac4f03addb29b57e25566a4728e83c5eb66a29745f7021127c6e040e25976aae316c126d0e8a9d83e85bcc06ed6c24a98adceabc9543ce7e849e4f446a9415d39f2b809bff4997fc3b1edccd6b71c6712bc9c8db1f550e82964bb7ee0a86041b673d81c545adaf1af0095cac08f75c8af351c5457e2c6a674c4c66ccbbcf8893c550d0c83626a16b4dcc58342bdc2e40076c5b706374d197e1c7564db8affa971a0b847a36644152d16ff9cb317fd6df481dcc21850b76ddbb80d902e10273d8217e12661080ca18c7707f60800ac2f022e8418b43ea1c6149e22d2d87204f7a232fa370e3c1f1c200d9eabada1ec06da790173903be07dfacb224a0dbffe8ecf8698d6a434bf31147484f1df8592df124c6ce0b5db8cbb97e0327097fe9fa2f02a94ca88d7dafeaa114fe8abcdb39b59228cf1a6940dfca5ba9e6dc6a276999d61a8585b6147fcb31c91eb16e3f0f00949dc4d6c581f8c90253fcb9ba14743fa3fdd23219e1e31c941d33359c2dfa5e3ba80ebeb6d46bc4a9dad6209c4059a52ee51725d5228a95f13d1bbae6b8983d9db42b921869c322d5b8c097d131272060283ebbf1b4e7424f4cec15ec2869c2ec159410ba91f827f9c8c1afb7021c3bda68f79147e1c5766bf79ae7459c21e48426f4fdd9cf880ab55b341bde20dd7d62fdc57eb01fbfa11f3cc039b3e4e3ab68c05f4104f0dbbe83f7535b8f35780dc2bc5eacf352e1be7599e0fd031fde66231a28a3c3676599204309be6b11e447bfb4e84e888b89954967ce8d54ba762d17e234a407eab4dd392854d20ed15e10c297e68a8a4ee62e04fbf5307fbb4a666bfaa35f604afe44ccd470d9ad8eaed4171b5a75dd1d2c0d3f2dbc2f046132df9d1eaabe0953d25a5d9579854a15c55f54c92f0ace3c60235dbea3fabb379ab684bffa9829b759f60778557f4d7d6c45a3460399f6041d790e1007197e9e9a6123e8ae3d43f4adc4f63a22a50e070be941d80cbeeb53f367afb3955f6be4ca48e197f690bd949de6ae9f063244c61e207dc9b519802580b286c9de985e2fc4dd714325607d095081c640ae4ab9c95ed3f07ef3f1547d7d96b147fe6b80c4f8620db6122ecf5c65e24a8da8d46603e43ea5f431a824fd7e26d0fb64b1703e2c268a250865ee757a476611f0cc09d3d1fed77e351bf3788e5515943bf3aa7a623f019b69e84c4efbc581a73e3d298f06512ea84b66bb580cb66eb91b348f78389fe5c8d679cdee2c4e8b6b1f8a6fd47721027b0fa67a6d4c3599ec2317e95e077ab6c9c9175cde032feca12f851e040f5b9a38b7aa7f9efbe904dc6fe02a552542e8cf7c2a128c63e75f5b9bb96e280cb82442570c1a01663373fc59ab7f988fa22f12cf58fe324a715ec7e804ef2b304cb01ae068029bf2ad41bac9ad747edbaff83cabbf71a3e19bdd018b7393a3250c69c1dcde73c36c1d34dc4fe3b91fe0e85bb9707246ee6d8e73bfa7cef7abfb5b020abc409acb2254a9eac6105205200effb7aeecde8388382cfff3eeee00a86c8ba2ec0aa3ab9b529387231cd07aeb3839eba0e7a3d6a977c54026dc026500484d5eeb5543eed68275bbebe552e5784711cca00fba8b91b611bd0cb7373b5ade026790e92000aaf3547ff9254c6cd949d82a28dfe7fed1b2653e2edfe63ae359504a28c60fecf6e7284953d5c610dda0f9b71999def79490ded6a41e29a9bc8e43030530d7154f1d12c2595c7ec281048d0f0aab07dd3414a6dc237eaed9ed29f72b71e17060db72916d9f7bbbfb95679aacf54a7798d4830868da7858f935c40b80357fa80fee43bb0102660e3adfea39829616ed744557b9533b976c8ca87d06d1731161ac6d3b77c27759d4357591f01c27d2df484d68bdb86e4b1948ba82ba991a1fb3e666f5138f5e43d317de54ada783ab8b9cea039aaced9f1320d2d7e065f0e0ff3e0e43af0871242d621ef56a93024f8b25e60ab95f8992896e668c53f360d6bb977c057541c17eec5f52f9e36781db9f26d910439c6b244b0c9c40243b5cb4240fd3e6c31fe89aa4b5a7960e8a9d8d4140afe634d372fdb3ae5d8d6a6c7b2a3f4c79db275a5d9d1d13f4dd24e9939e9165ccf8038468417a7b2ecb4531c57ff118d4dc9d1ba557031d3e050413e3d0663eeff05331366341b64911ae1935341e1f46f53074b7784b104d54a13926172c676e94a78b11dcb29eeda2f915316c4903ddda1cb0205a5369e02fc1e9638f3960b99fa4e4e8b3f2682e7921b244972057daeb47e53b8c2385791ab62df9e18594b661d8bd6bcf8b19cd89b746f9535933b679674bf7115e3c0ed39008fd202d55dd5b5cea68a1fc5f45ca23167f462cf13f2b446ed3f73c48766271da7a0ed0a6a2e8b48f1317cb75fa7d0d224298ff3a8cd3b55b425fee9b3c7a3c02c1993d01627392401071daf97a5a6e9ee6612100bf8a33bfdff5a7dc7054b9ca4c1d7179a079386a82f200cb9c2243a7180f55f2ffcbc0e0578d1a230c228cb62eb61cb0b82469d9bde59940f0adec056549de96f27ab461620c0b8d01d355720f98d0730b589417c051cebc34c2c85a118425bb3094e15bf20b204a16cb0e0e40e49deea20a5d9a1653d81033f83f45e18a521a95d1d6d1e035b261b3c72050412d2eb0b40fa4702da9b0fa545e1b35ae92b3fddb007fd1c81fc8b69343195b2c7358168efcdc8bc24829675fa88040424655eff3e4520b980438d0351bcbd2c3d49707d0f4a7c9389fa3783e8167b52b789757894ababbd0876f720d5103dd67110a8c3fd141aefb3be17f98de74a433243715581875947096b75b77c4278581c89713d483db362c402eea970748d7388a76459d2ad7137c3450d54b2cda73128c8d21496b3ea93ae5890b202bdc373255845d6e6be2b115b97687c681a3873a0efb7bde76ff901a1a3309ac3216c15d550825abcb257a418fd3c83239897dc3769d53859d488e0e95b73413cdee1de5f30299f4dd0b8eec8bb2832174fef5febea2c83138ca976b6aa3fddee0f3e31ac082e68a8185ca6017305dc7aaa4ef98e2c95cc61ffe4fa1c25a416672abec25e8d049a7583cac7b0337e145590f3bd21e366999469d3a4e523ee7f36af261e6ad0c275a03a16a623b811dc30a918587dd0483ec473fe410556399e093386840aac5f20faf3667ed634fdfb3b08c9c60d23ecb1849880f796134e89e902d898f99f537311fe5cf8a1196abb48c76cadb7e0d6212cf5dfbe9aeca5de32d1bfa6aaf3780b21e466d665a0704385d05c91866e52b7814ece687ce9cc5f0eecc3c3813e139b9706ecda123cbdc7de92a1fd05146ad1b18b58e3c679e792f2152bed9f362705ad55b3921d87df92b49ad3152a69417234a62b9a6364d905a728285fafa6b52f23f965641e08a0df31971512059dfb69fef32704c11c9be3f98a08369fab7d144fc86af8884595d4f49def5c47275716f565a6ae9e5386fae1b606c6148e67d50b7a4845d25b1554e4d0008e51f2bfe4f01a71387a68f1100f3fbf7f0e50e41ccbbf70eb7e8331db44a2bc55594ba7f939fb4328753f082056442aeefbb65143f1d27d740a6955e2d13eb081a936c39cfae4d2784270471982b2a9a56f6df810b0ae4086ab7a85e57a4df6e5584744db31530d14d11b5c2e9660aec9cb027d59e8b006539914ba039fe552402c1818f5f1ca90d4e044a1ca8ceaa1fb65bbc6eab1a3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
