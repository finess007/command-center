<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2f6e937ab72d659e490d20502404fbae444b8d1c9dfd70d816d649778ace565f8fc0df823b01811ef56b1508f709954cfe7dd39f6d94d2a79749224a7e2da156bea718385b150f7f701ec9ba3e52fc23d7b5a32af89afedb3b1eca60e0c35297c8da7ff15f1c36a1d1a813f7378744f12d36dbba52df5ec3d33231ee98dc5b7ac844e4316de0af49104e982b659683fb4c302a170febe7d9f0674bcdf54ba2eadff55bfc50e620a93543a7624cab914eeeb5a7f15fcfbac5295cfafecda607f557aa471809841d20b476ff5eac1219afade90d437ba945b23a7a196b5439cec377bbc7ff6e345c68a6b417d732d1ffc9ff8a7111cdea5d429f540ee8eda9bb3c7015463533d349bdbd05c09c46a1615bc2fafd797898881686a1f4f39e9eed446ac24f50fe727ac1f9d7d2bd1ac8f6a15836b7439ff6b8a0949b14aabbb236704f80c386619a30a84e19f50ba98bf9352be0045bd7024d45cb301a441ab76c45f82509ea50bbe5e9c9253729235cffe20e341f8295fbbe9c372bbee0ee31900b097c20df8ba196bce18410e02c9bc0bafbce7dad7d55d74982eabf60fa044237f6f2cb421dc9b3984481a79fe1d000d8a78bc598b033ed402f3b6abd331ae7994383f5b3802cdb3ed243420488709e1567aa0bac05f77843c6cefe9ed73e679633a9895dd3a4e46b10fd6c85b7e7c6a5f7cb41df2eb76802ec1e9392662fba6bafb5a870d29849c514df7e2ef700c20fff0d46160534b778f9056ecd34ae7af9cf929a6c3d8e33be2a5acbff8e71aa95b28f91f31f5b1feb9b272c413140794b38780e0a02faf48eb9f1d166bba984b58ff4da76e6e57fdc51954b6d03fe6c329f7a0686ec2e68e1607aa138aad06092a7946a42eab17c1de7e8a719361d3c4bf99c4e24b8da69c992c48c2cda1ff70272727d5d3f92bbb02348341789434f6508cf5e9becb3a0f24ba36f04b1edead70be56e165d752a6921d64a9d3297e9e22e6271e95d5a664a8987e5a34d80487fefecc72be836bb3b58d140e245928c1fbe096708ee3ce679137dc536a6ee9e0b7cc63e5501673cd6fc73dea35c3396b8dc2742b53bab31bab2bc72b61250ba1c9ab75327b42750a99978c1553f9584ef505ceb4f8a7eee1fe734a2fc70b37f48fc8a736807f228d2b6297f860b4c80c5e457b71c552a56fc5efe7e9ef7e617b413eeca7f54e317a3e7f76f37efd179c49dfbd161bf0d2d76c802affa1f5bcd58b9c29df11561fd6b5f4ccce5740affc08db3dc6aeb90d20e4e4c6eb0a222a01b7005dfcd6aa735495ebc56c2d61031e48cfff2bba582d6d98edac632fe804999ed7dd9f4c8270bc1760f58827679a5cb0e62a03f0b4c6ac3609543b5e4c157d4205179b6e26771eada1710e99034b881c13a9c15487cb76a0034472daa459f9383a4589a7dbf77579daba67f58afca05954900921d77ab01cfaad0bcfb250b15119a5eb19a01c6bf50eb449fb8956ec1b7b39eeece1a3d61bc33c0e7c805ae2f90b104c2388e784f7f24ef7f6b7737a6ac690e17ae1a41447b14cd0e0b65108c489cdd5a4b0d12747fa777c7f7022e6c0b53b8724772ec519132f0319791d95b08f37d63b1d344ddc3c53d33afdb2ef7df57a2535b19a1dc5cec2874b78886bc31c486d3f8d44145e29fa1d259bf4dc62e7fef6d81a8372f5722414f9ff37bb10a486e1a18c85486188d206e43f6c68bfd82f21037d274afda566663929731c3ea6f1fe310a78fac4475df1ac1d7fc66c4135c4c1c737e5eebef539b161d860c3daf45166c1680567f957b19e2b980d12798a555c4d03210225351402ef3c6ff8d4ee6eda4fcabed2bd5705b31e214bd90b22e61fe827d1261e716367ee2bffb752d0d2edf45c84062349838fe2a77b21e37d4342ffa99d50a83c2d77ef09ec41bb2f48d36b37eef5080be4837e517df1eba5cd15a2a3585816c2034640bafbd55578b85b1c84edbdf02f9487b9273f742e01465ed40b467924db04b3f895d15811182e316623836cc890dee8df5a015d8a4051065d0391321fe98c90960f5bb5688324bcf562181af04375c85b56cab0db304d0bca1e448e463be214a763acd7a7173579dee6c6ddef53a10ba4fbf720bd27e7ae13c04b0f87757ed4be0554d35cbfdaa46542ab56feb3b58a145d13c5853059f6b01a15abd3ec661ec75cc8a4e8ac696cd745ca060642170bf696fd590a6a03d40b27e549b8f525946aec9c6652d0aea9616c2269ab2a25903b9b4aec76f392026f3d2ac5182413d460277038236974be3b7de8eadefb6798e8f4e9463f775cb22b789009d310930eac64f951c1a9e4b81c2e3e7c86d3d142f79604e4fa78ca207bbfbb69e4e2ed2fa00ad79e690ab03b321c3e931801f9336bbfecfbd299a59c8c999635c99d10a953fe1868bc2c5ad4e62be1ed23029276d16d941b678e177d51f9f217cfee3536b727e7a4af327405bb238624d030baa147a310c7e7d61840ef248b8d8e217c8f52eb8c907149313ce34428fc27f283cb7c72c474debd46a013c80e38073b7da3787dadbe32613e9c761a0ae53f99d802183023b7eb1e0112a12c3e414efc0d5d8a3cc66f5f4db22cdb8171d7f4791d907f77c90b9d1653ebbbdaedb6b4070565f9933174c68369560930a54adcecba1227753a038d558c515d2ccb143e30692bdee533d42a154e6076cc608a9410c619781017cd3125d43b3de79b960b9c150e09fc4547f29ae14e4ee9a3315d26ad6207721c2b00a9e5868f4545e4244ff5eb51ee9d75f91a8fc145dde14b7292c33903b4bf1b55781a85e732ef406328c8578e2710fd97457fb4b72455931abeb8e6c9043964d62122574cc9239e5ab88be0a8e9cc541c6c5dd28e67c454640053a0e96c208c9d98e2150ccccf55023d9e73d56e2f8f19aadbdf950d708f3414a6e237315b998a2e61aae30810ecbe492b297135dfeb481315bf914e388a0918f76b1073c3910cf103b4694b0a8fa4fa8a72094ad865401d66d42d800e955fe7e2525e61d8631ef6de92d3f28c22b598c413d8389c5d5efd79fc1ef0e69da47845b46da91123bb3ecf1a327595777f7e240ed4206166372de64fce04e041f7ee9a352baac98afe19143f0bedf340112e72591095b75a54c231570ed0419f0564937fdf9722abe4f747af84541989922c05151d33d60456db12c6149f7b7172984694604b8f9de8a58709bd1e05b2296ed6cea07b72de04d3f53310cde0b985a49ca4e92c3458bb53d796fdbbf2c2b2317d060743ac1c7f9d00299ea5ee80923f22fa58c28c0862ea0c35bf71827cfd62c9b642a76bb99999ff7030f6c07d3c1206f7d78d6aa9c240980edfebe62207802457047fad0be798073a666db228615f8c7f6801b92c9892d1918e366e854c82f5deb9f1dc7783927b662d4283b3f674560283d3a296719cd64d6402f0ac88ff520c9d3945dc1244ca454c5097804414f81c43633f27ce0a796a51a77cd0178f903f3fdde4eef03bef2862fe08e63ee198e49e9a75b37610ac4cbc8b39b4bf295f6d92c9b8a8b5bdd063c539863ade5dd49023f3ddf4ae1afaf9dcefb4a7880b63310be1e40113f1fb3ae465b9f3dab1b13cc428a6d086fe75e1164bbee4c48766ac1a25b701640a6d3d9464bd00dba8d9bf8d060c2d9e116ce25de375636b77c456de43be06324cce8960dbc0202f5d0a614d059209f8febac623fcb689e7969f8ef460ba8f6b6611d47fb90ad00d5fa1da8f1097ccb532776b21482468c0efc025d105da8f135b05e553b56791c7c8f969572f5ee41212689049ccdf5aabcab47babf61f83dc5efcc21dc6e7cdf9448adfe385864e318bcf711dc21b323faf3ec0671a76639197c3cdfa83d4ffa1f66313c80d3ff915406ca2fc16cd7eea57481d8a5a6023c0883b8def9b1c8e95d0d5c11bb5daa4ca0a717d611f4450d19563252cbe29985a063ca1fe16e892e0c86ad2db72f503f6900f010509ccdd8afe88e6456dde2aa6edafa637fe5cb7452714b3964f8d520ff5a37d64b4817aace00b808f5ad35b1cbb2e7c6c82b36c083adf982891179bf794776a0e5c5530ac5fdb1e7cce5da6c1ad5831094d8a070ec43d8d8fd8d61ad8fd1121464813beeab1642dc29c7dac1ae9f5b681e7e12c096aacee2e3cde590c5a9061a6993417ddfc4c10f6aa8c140779bc798fd3f723967e347e34111b1f610eb6ae4602cece11e6107b6c65ea4e0e2ace3a8e8de4828db9d10e292df615c25c0d784176c643c9aa5a5b6da2e4e9d1b2ada69e92e0578fdbebd7cddc96d7a3961a5fe84b06221a6969d80844f16291f892b6bc4af930df56f3fafcdefb1aa7e67c03a3c19de91d6ba92b10bf3e61f4b332540e1779209f6c79a5b36c384932f573c111ad94d536b49dc4c543823ecd72482964c80014055ada69f2d29c73e90f2b759bc9a44d4a2d025c3c7ffbabc9d988a4264d5b79cc694620c8fa6b7e98eeb2a687315ddaddec1c98aa9ef4ee5ece562b44723b96425980361cc388a1502f48affc2db461d5bb49733f8321f5fb620c596a8890d1f8932293cc90fd5e08271f07322e7a47f4b8614dffb7ab0d401df5daffd610a03b277d18b55e24a1ed9d8d1e4d217663eaa445443f255158377ce5b8525e7bca137c548d03460b5fb27e16ff950107631e03e19b58b4f0ba261c5add646633ee7859ca30ccf245bc3b1fb6d2039fcd740c3f065c60f9e3f4505a932940507eddd58b10e7882d37c751abe8a228c249ddd793319f157b5f459e4fdf81b18bcae376b5d28c0e7f1a7ed1e23727274e0780111052fc8ca1c80447b52411e9f6d3e6140d108d50935fab2191fe60727d6dceab1300c5f377fc19adf8c9b52151fe785bb2a6c5bc826e2ceb3fd03a7222b29a611f4fd05adff33916fb170e23a28001f74c74cdb34e08e5113ae50ed364ef7e51893efa55cc9db492460150e403fd7149c6dfb9ac13de410338aa306114aa206ecfe85c9bcf020b3661f03b5b283ad3036286b3d4f9902fa718166923a847bd57c64c7127c37b248e10f831ea4aaa373a57540e8aacdca2322dda16524a4a8b123ae53919276ddf340551476bcffd4886564937bef178b04e9888183747ee1a625183e005e0c485796095ace78b50f0d44d9d6c0d3bcecc7ad08ad9c84c4621298e65a84c3b1a3287fba8eff30f0ace311d4f4a6d705549770dd5f82839a0cc26844f8af79920e3d8f912a37fbe87c83cf71c5b211c93bd1d7fde18dda170f04946da7363b2375d4047d26aca705ee6225968eebe85536392ee29638b7636aeb065fd26102b8c5abb15bae57a1454a948d9b1f65ad4232c533bd3248ae50a0290d05e36fa5c26ef92c5955d846f08ceb4b9fccf2376fa499c1f79ba3e4240734398d109fc630bd7284ebaa7faabd0f93bff03f8c105a8d68410010d8311ebe3c0adc48d0cb3c1488734b0789b20db4804cadb2fd8ba252ee4a8773b9aa9378f1626d28c44e12e4d72b2de3d3cdf6dd30ca68cfb1bde54c9ebc343d7144e0b64d3ba5751d981a249881806c346ccbe86361712b6f8afb6c4644c388e249610cca4dc1ee50f17a553276cedd123cb59d5c78e306d80750ed136af95b4bc54597b4f499aaf8797117163a079ab1d77ed08bf0ba12645c7a422e5aef7fcad4c1eed4f7d343f78f1f996bd900d376a9f6ea84801969a281f05ea9195488cd1aaa1f4c72ca526b248d62fcb7444f628cea8dd1c78338a8b8d0a37e3dd5fcd5d845ad1a3f1ad1062b6fded5855ccddd1bac1bfb088c3b044307dec67236abc6fdc5d6fe155475826e9b8d21b373bc036c4339c0c60cffea90b4ed351bdf3f732a16038a7c0b7439f4378f53d430b03ac2b2e93a312384d3efc5ba2d0f9d26331a68821db2be2f2f58663b91ac60f4d63470efc50334d902ec5226b2acb47edc8970450da5dcc8f2997b45ce3a18475518b10285844c8c0d195b3b6bdc80f8518f6ffc3e5ef43fc26e5826f1c4c237fc2041a2acc7fbbbbb4dde28d8a3542e5407c79d5af68d5875acd3a7f5a7274db0fb37a79a344b047603761a5d0978967c114b82f01da13794be0c8c5ed59b788a8217cf66b9f57980a4816331143934e5709cdf02154c7ba7a7a6a0bc53c1011dc4f67aea3b0378bc0b2dabec41a424edb6ae51996932b2dda5d5691a3255b639a9a0ef492a80d0bad8594b272124416aef595daf20e449d6aaa374af17dae710fede329d3526cc1d88ddf162948668d8c491c34335040a794d4297fbf5797b94cd0ca03de713529cd20ce643e4d2e2c5fabcadfb98937dd2badec269fed6ad94321de771891e2d749e6695b6a409840a3615d136c8eae6b2a6fa8baddbda3fcdc528d1bb6d958743d596832df310215c7541a72a8d3741b8de42c142f43cc52d8891dd51106fff618353e523240d32f6057563e5e995e08514be482c8b322f755d0633bbfcc4ae197ee636710d4e60b27443c937fc79956409e4b6f3dc9b91672ebf7aa605ea44ea026950da69365b9aee2b013fa50244791ee34b4129d53ec900f394d6a1d467eb7eb43f889fa196d2982d37779fb5d8c0d402d15bbd9e6229a790eea953ccf4f138c515b3424cdaa9d7ce409e06ecee041e2a540b68e2f1b6943b74a86368afa0bc614d4b90651d97a30654a9e86731f84effc30d5ae4a5f0836f9d58a818f809a80ea7f05c79ad5c983f53ded19fe160f26def2cc71d01c9b589d4a08eb2828c9c40ae27228d51cc0e01b443def19ca74a94b80a45b949ed3bfdc47cadff7f4c81053fc525ca639f33dea42531e3a580f2b41935950ed918ac7cc2dd56ed843f22f6a7feda85d8bbab973b0b99ec3fd5f8e63776c59f611b34a4958ef2f8e5510530966080fe75501ce20ac303f23f0ff1fe250992f12576d9afcefe6956ed0b3c861cbeac2e4fc594bd190fcef5db08c7228fa15cd5dad1b46093a3954ccc3a0792fff057802ed848fc8d63aa8cf08db2ce133d350279cf80af7def6844a4e6ba734292f408a75bd8f390f36e2539396ee11d9f9e2e8ea8e3abce60e29afc9bd576460beb2fc836cd7e1cd0c160042ac7af35c379e90152741e06b96e4e5c194dc3cb074f6543adbcab5a0420bcaee01a0fa96ec3f207e72a13b3a7517c5bd25e093f197c875fa1891410fd800da8731cf22338a3c21f712f3ab916b97f130509c11490a42d9440906ac9cdc871828a0815c181a49f8793995d27c8071ee26fdb454153e46adc3f8b837b37fb14e5c623a7afa804ac1da742f1c53bcb3c990b4ba6c08754d033eb760edeba283f195dd20932913f8045d53c9155dfc62f90360bb6dbb7b374be5e8a551684e13a211bd539a00fbb1cacdede1ba1bf75829e1c7ae5495f19be15291c9113b6b1f8137b7f721e5c5192ef4413cdb05a4b351bd29e1aee2f1c888c25ff8379fffb94223953ef1bf3fc90f900f48378ce0a1ad7c42b60665746de94bed3fee9c51cac06b8b0a95bc266ca00eb5cd7339155ca6939a33bfe4181e21cef646a086c58d30f926faef61f7cc2c81048ba0fdeba00276ddd554c7200b200e3dda34f89561f701a9f73bbbe29754b590d41fa98ef6f9dee711aa2383cd5252b9aefef4c0fe53e2b179e8c5b5d94c8e8e4b00477250c05e84ab10440c7bbd66b61fa48897628e5389feb75110a00801a87abd560c87a1044604b9483474392ac0537c90d4b720daafa16fee1941cc156f03a9265b9516857d88b5574d2351ed52e3c21ee3c062e590c00e9c5f8ec792e38bc9cb2a80793e2a115e3f2150de1b57bf1a06e23bc06bd23b00dfac7bd6ed1ba1d8eb6c08cf53f370faad529db708ea68940272aa8aee6aa4bbf578d05896e6991609d21ee17db7e77b032b04fbc116d2b44ddc309cd4e1e031d0e6f62df4f31b2e6118e6a5266b90cf2b3ecfcab72526ebc6a3cce31a6aa582aa8f1759c9065f500f84cd92fc900f13f6043bb23e0b62bd48d614d926db0b98fa3454832267e79cb72100a9dffe69bb5b538c573ef07243986cc8c3d90fd039a9f6677100b252f34a6276e673fcd03e6c5a5616c4a2610e63c01474dd3c922cbbd9f2f6f4415cbbef8c20da40a3e53208bb4cd96ff656ca4b8c3cfb1e6f3cbfa50796ed1557e672b8f5a423d877ee7bb39e15ad0dacf2b2bca8a2d689af24aff285cadc404ad2f74d703d5ca614e76427a255e0f0688c2c6679ccd21c2e57ac9274b8296ac380dd906f6ae345cf52458973d5e38c1e915871b3bdd6bde052b2b3bb65ca8d9a8d7ad0a1236607808d507dbeecd1ea8875f5912844a55b782598447c6fc20daba26b3f8d20d6705812d4a977b402092cb26edd86f88526dab6453333a368b965500ed470ec5163cb6bb762b0c727c3bee6810be4ae94e8f064697f09f38486806d15aee79e4f063e01776e7cee96cb35ef988a11674308b5a90efabf7ec0b5fa7ff9e9d982ccc88c748c38e388f6f6d8b468eef855cb9da73987c8c25c325b02d8456b01adef46122901f735c0e1776a8e4577baccefea974a5201ca2498d0bfb8a44b590abc1b5aef0ae705fe8bbb9b5f32454070521d1552c83faca0158685648a3f551b69b076d8518b26a2be788082293575a55c052e35959f1e673fdffa4460a2e2c014c601968192820078e5431c8ef4c14e5cd60a253edb219970427dc7c817247fddd77a68117c40e67a3ab0934a5738647faef67f7dc3c807dbe2447643bcdc06be819eb4d1fded328dd53e1ff0f5e8dc07c03e66acd23edc6fd1e0faa5bf16b7b13ec4ecd316e3a9875a2f0e80f1a9ed4c3d2206b8bd845042417e29950b6a28121f6c67bd84cf859fef8431fe0c8793bfc6f3a433c228391f8fd24cad00752e032ce8e0bac279137dce89ea551c444794ae017bf2035c853d22881fe28fb095076bba31dc9240f792e73a4cb5cd12a00adf4cbde1676f8e6e2858db7abde511439213ad765bd3bcbdf4881304d0fdca17e7b997754ab4cb7962c38c6e1c20c8e0db4f2b96816750180284097ade340c3d25631e342707b78ce694423761cddad2a7bda99525983c293d285839d7c5c4427ad67db180620d5bcc9adca846aa65ad9583e3b3153956e1f2c29eee70bea19b73e4d1ecba81e8d7e468871a2e0fe238ab81b95d5bc8abe3de339c5d4b3a42e2318bb5f8a937ca599bc3f06506a3008e2ae0fbc4ad2ba9c419e48a95eb4c871b08879ce161e91ba3073f9bbd5736d43b6802af4e76a268d45b76cb216cf7d8f5918d326c86cfa325cdb899df505c385a7688b4a569159caea50fe23d2c483ee0efc86553b8588d85fbfe6b66cee5b95232f96f38877875e189c9dc1ea5a6d5e772db7538efa2f8059b17f53d5638360a76db9c1bf5c21c8f741a25a2fcb49ffda62d59c44168b1c940c28089e015d50d9b3348972a75a361c1383a01625c79c617dea4eb51fb623b54fdf585590bc0a51364dd8f722b29561e215f36d21769104b7fe786a293aecb8ea3bd3dd107dd92d32eed51add5a4f42e30c3100035ce536ed5d8fff3b6eb036c8be17f3f8570990088652132b746a8d4fdefffe3a0119c94a2ef3481c72ee3d8fc82da4f5c9b8373c865aba774eca523471e98d3494d8b79fde906ff48a8f038737b857509014181591e1c8536fc9ff504053f60072b8924f9c0dcfcefce662efd9624856bed2e188bec2cd7f81cc2369f388413e1405d2c12984130f492ebcc6720eff466021e655d9313e6ca4f75d5f9081b858cb784dc196c67c135672fd72b849ce3332fcdb63cf6fecd031463081f431b94801d28937f8df114f3ddf079e34d347572912b0ab8c5294adc8f1e8dfc2d8a36831e04a160632a973866c4b27622e94b367cc26a4ec1cd2124fe04ea3693bed680f6658a4c6476620513b3397f375edb8e6c34e4aa9adff3100ab5f8f38a6568b061354ff6f7f13eb35db21f3cc40768297b3458f462d550f84a8b0b5eae55cebe1d317851fe226e88e590f365d0ce1279d316a23648bffc6fd2207d2f55e409142e67efff89175de1ee120b817870154ccc5c1c25835f68c205a0b93e39e3bba8e89e0d0a95121a6057735e487a461c793601f1552e60c7d31555292ecaabcbd1635e3b0efa2dd180a64c055210758d6c0033d789c885a8126b8158b1449ef247448f5e4c5fb52241f45f5567132094ea8deca892a6c96df8bbde9315d3f525184cc4fc939bd0b2f82b5c99c8549e509c7eba154a19a6f2ca668c159c2cdab42a3516ed0e12d90bbcbd5ec048a6fabdefd95f271f9e2e618628ca5d735e7241b0f7e3bd5cffae25071316455c50002e32b35fa0ab3a99f72cc59315bdb6e0dc9af31240b496312278a1f4d75daa72d5eaa312d00cfa39a389668bc36eb7ab8d56107ecbdc66f21c960622e88e0d59d4e152b79a4afdc23ae4b086d4a98bcc4d6b41d3c6a55ea793bfbca8f6373fa2ea9ee009326e97928e1a646ba195d2f9607db88bd9cb9a7bf656bfdcb0581d7d9e1cd259767370f9dc08af3c40aadcdd38e150e7e67a207afb46026cfd9add99e949fcbaa75545fb9d992f18f77b39ef400b0168e0a85099e79715ae505cc793e57b29565295c04238d532aab16a69f97cd60eb9be131f7742144cb1927537a5d3fc3408f483fc8b55c3323003ce42dd848e266ee5347f68e4ff3afc1f91ac0e62d917d6949df577b02febb0f21551d2991e0b1fed5dc6489a35be407e8a05d525b6d9b317d261cc625ea55ee5df3f86f599f96576388aa631239a19b1bed8ff82c00a7c2985a419dbd02c9a9a8db32f4c93d10570598f2a12936826695595d6c68a871e0f558b0255a98e8e7cfe570583ec1ef68c724b14b355f5e0a0cb7d5c7a9371da6b78ff703e9d5658ce9b7e030c835ba5d6f97b5ea8723ea6a49653ec442a60afbdeb44c8c22a738d99c414a23e09c547ccdca32472a77906baed2e18433736782fde1d98ed49f9f673f70b9bb3639bb074220caddfa0fb2eafab94e1cf0aa02343f7cabc1285d7d2252daaf4699edc8b9309e2bfae340296a2613e8621584f6861eb6dfb4a3959b31ce9e6e388b7a1106f2647774ec36ad735596c8d34eca98bfd7dc0f1877e9a86d293043107c6699a038b8d6a3059be16b8cdfcb69dac38914405e6fb8ec41279c1e61e671cb731b61cc21c967aab5392c46f64f4899449f5592d659101e13af87ae272b2bc420dd0c4758887f55e8e317aae220571b88b2eb053b00fe4038bc38a2b5eb6fc8f026dc8a6e01b6462010da5f2f2ab8e1698fda9034123314c226a75c89f5dc17f5f30dd5c47bff2024ee7e7b10732be0e06ab0a8f303251d99884e871f0da7b458290a379adf3c44ba8c02998fbf9be508de4f4e4091bcb370ffe5ed1025c7fb7229a03459b27bf86a4e25d9d6377b6583f6a605eaf259af74139946c8e397d64d58d0303610e8cf993095b4a2b9861431a104263e14ee5063dc8200692cc3535ea6eb9002d1c132823f3706423d5abe2be8a8311dd552091f5bf0992e3bcaf4008b752825f76298e4e6b63e7703d17b324aeba475fb197dd954cc7ee369323318d9f1f4f56f6db27f9bd6d6793c3a0db1ce8f529db34da2f9753dd6b71f669cb4176547845df6be56aad12919d8924961a9bde1ffbaeeeb6a6b4e0a3b518e7e27fa7a7c4e30da089afb8694722b89f6733ff410f88b581a64b020b93d478460e50a0d80257e27344ca5f6e8f6b4d7f7b4778dbd0dad2e85d362aa85687f149cdeadb999a00aa6fe63870860edc8aa0d0f767db1a32d50c0a5c987a2869025dd84c00682edb2941e0fa3e53d2922b2addff74352aa30ceccc098162b16211b0a67f2ac4743cd216ee0325723575eabe96d300207e20ae92e9eb70544a2fa1eb08bcfa83061f6f56c9dcce679f792cee63f4e0caedcfc1bbb2d9138f3c370ba710da2790126422c581d1388cc361b44e0360e748de6a4fc823acbfee6be3e1d23e7ebe19003c3751e29d667686e6ef609648297e326103291360ae2d4b64ba450e46434ffc3d9e39b57343bd39028f0d1899cdf09266aa8c96cf0e697603c79c880d5ec69b600e3045914c66c105adfc7c99e1f61218f600573a7b023814aa26208b2a11f93af76f7f2914ac98cb931d5dd139886e55031ec9cab23f387ef21418795a7f37f5de1d8a5a14f29d0b472b46146f6959c133d1a5351a074b5586d0de8175f2e71fab499f99f41f77ee0c05da2518ed2c415bc142e790670e3e960436ffab9d52c2a52d1504178e6b31d4b25b5d1fb81c816538ec58eb5bb22307e8be2dc002341026c525333f4480a61e755c613e107e2c1bc34159e2058fba6c9de68fe5cbfae088e4a7729ec43112d83dd85c974babdcc42de6a5e2d3bb81f4bf96b5a43facbcd82d19412b459795c169a6f1bb653e0cfa4475c05afa46677fa416a002be458b28775c2e6c3692b6094e04d509193e4e484dfca5b5dd628b1f1eb37a8f269d0e285818dcf62dfa05e0b887c25a89f913d11e8576a3c441adadba47cd4aad4f0e09e93406e270b6abbacfd3e897d871170c354f4d2f3a9c77101af56f1a6482f290b3de913d341523fc9dd3bae8835b454c040506da2d0a3c83d57789f07929d090dc7a9129eb94ac857c668ae7a97d8985aa8b1f60965167affa7117cc25c3f9672bacfd201d32c6ec94261799ba48a5a19ee4be82736747e14b736eedbc95f5ee56511b1f86434bf7507339f10c6807c4d07f614cb0cc6617edb344216c309715426b090b787d5b6c7a15786b7e1f8e210f5b86e0312f78f71ad2bd387b6ddd9c9948ffd2a653b7a1b5cb19622443305b542e3ff7f979ae4cd19edc1e781542b4cf72e50168662f8bb7e3cda18f824040ddca4df1ac35fbb6f3fea07ae1801a7688ccc7f14abfa01ac695b4f7f223e98fb94568ec5fee78442cdcd8a11694c5218ec08460fe8bd76a204a2e93d0f01586858cf317d2d2bb986464d633298869b679c2b03aa79f35c94592b4157ddfaa889ca1da20a1e3872b15fe32dcbccb0fb4d273fc166fd261fdb7a8fbbba0bdbb7703fb467a86715f69b7b743c31193ab2deebba4f358b141f91b85dde87d44cf53cb7e15513cc0ea8fbe7bd56cb60f0600f49809e51f07b31ce16f36a0218fc71bed06bd2e9769d45fdb4d9628cbc8d97c116fa12506ebc2c3c03728926fce3fd3bbe8957582216838d71e765b3ab9134953eaddf9323ac2f993673c0b39cbdc38179cf134843fdedfe682456270a95a470ec92ff98b937bba0ae1b8dd851afcbf9f0d5b2be7bf339a5ffae25d82ab3eb37b507723657a40c396ee6652f8a3280f4fcaf517d8714212e6a6dd539cfc6af4c6bd4dd04f9d4a6e34c7ffa896cfbd84853aacfb875525bed5dda9f9680a7ec4c41f665c5590d08fbfca7427c0a1914c28c71d11025ac8e61553f13d8b8c2af2ade1b608fa8ad8e48912eb23ff9052a24ac2072de300efbd3d4fc6da3761f5a52e1020af85f96e01f3fb35dadada6571bb3a059f5936154cc7485547cd2a289fe536bc467135e7b22dde3ecd6a1befbcd47288556a8b49aea2ce42f8e4ecc52b74a3c3294cb68308e031d533a171641abadfd4303b6283dd558e7db009c9c98958bb7765e54c722143f5b99caf549eaa96e6367218647e601b0e9a9ec3338a130f91fbafd12a6ce5ccd43053a149ed722ec6dbd87473b1f9f4506880e4bf92970c74e7adddd139806ae1554e8ba66471ae36e9f7597562216f6856b150cb517a5c6c2486210319d3302bbeab9d5f95cfa767f57281cae063899e7e84fa1db4c6bb1114e3b57d9aef38ca72c34a03fb17cb51116e96ee6f2ae1381154601ec381b89bbc23b251cd509fee852634aab54393f609f0f2334819611621cf8d2f89fb31745fb6f5cec2081ee12c2c8f2855761c2940f9d64523aa9d480dc21964ec78dc974074470f4784ec826c60d70f4d17ae264a66f412e599be288f84ce394aa0af4eae40e19ab2928a0d8fdcd43633746147d3c86eac3c331ae84acb2eca446b931420a0b80980aea0720fee6692aab4518d19669b2ed732601543ffb3489468642f896b0da5a63558e9312a140661432eda9c0664d2236cd5bf0f90eaa0da306bacdd006f6c1b49ed3b2849fd978461b4b559ebbc214ef75f6936d25ad4666b5635f39cf15c6a76ee5eacca3944a813036cef0af0e0b7e4c85b47d07d78a0779336750352322155b4be6bff1f39e84b33f8a8bd1ef93fe1be515ca84009a663f9145d96781fb81f4ab205b08e3c350e6b9c6b1082201537db52ab5c456e6041768d496dae79bdc5ac64172747b2ee9c883ecf1aa09d2f4708c516c1d28632bccc4ad5cf74c74f70125b754da314e0626557873e9d02eac3f13b444ce2c40714d6c223a65ce8c222b4074596440b975f3d52cacac05c57999cd463e48bca10183591dc109eeb775fdf6d34f61893419cb68f78e993c01910e491c917ea6d4e47b22762e8c687e249352581a2a9225b619102139a5d1e73c6dd0d4c70ef8557d023397c9ae6a7f28170c9212200e2dd7484eece584e1e3b63df0ac99de66087be3a2614fb8dc5269d9375a5d6d9dbef08677efe4324bf3656c9d40a5b45395b218d34897fc5b94b72532a255cb8340a59098078063a54d1d36f6eb489ee981266ebff5dca045025d6735447e6762f71260e637d716c4aadde3e1f29c6e1051433a77ad54ce58eb8d4c95165d22d21eb09564f4da7b6396920b73da250f43efadecc7a6d5a300066525517a5423dfc51d43cea3375d6529f06c8e5c05dff4dc3465d39bf159b762281901650936d25132c4eabd283c5078b9882abb0e9cdee25a5a105921b02266ad2501dabfcb8b5cc58cd86a909549379dc795ce85b17c57c74e2c5c3918f7b6f476cc55bb9f87ac0002cbe82b82634c97c749964cd5d1b790fe9ccdb89151900134266f2b48965eb3254bd184a5827ec5363140b2daa27cd3262168cb9a4f8762306d37c310930c086ca0f50f697f2b85cecb4c4b713976e01e3c6d5574ff8b0d47a5daca7f71d18396c41e3b9f367d1a29296d56fa439698ab6eeaa8e9513299051227af199c7c56945121b4a1a8ddc7f6aedd2c3ee7479626b80c75e7e9fd02639f80fccddeb0bd8e2032cc45924a246aa935ff2c0b6a785a959bdd7c4735354f922f1c7dbc26ddee9f863bff88a0931784b96ff5dc52e1a0a38f40198b6053e69e96a1c5a8ee8d8987ed3891a3652c28fd362828021cc6d8b7cc2dd57a6b893399c1e8fefa09c7f2837d48d45f2f35ab0a31963cdb20322effb3d51de8d9ead9b44e954be5b02857a67859566cefa3f857e2e293c4b9afe5e8d443869aae90710deb60df20313308dbc99c398c3946b0d7f1a577fe5025946bbd13599e0d0855efbe02d52ff6114d691694ff5bd12f9171c286d820c0c61c0d37659fa660d581b434402e83ecf9415e41ec07d89e1d56ebcef0b8551f1ca2632969189119a13b554da1952559bb4a4fe6aa862afde5524d16078091353ea17c7ed39e6026dead89a752747decd94200bc316deaaf3e7a9060fb14166822a52375bd31c72dd18cef72f7ec95b310d03a85ccf7d54418d7114c7d2e8cedde43583b68398fb165f2d491ad93d809f48987c949f46eed8f0d82484d7751425ee0baaf29dd86d2b251ffd7ba09e8e92b6f9c1020e87251486f9650d914dcef2c6830cec879e969f0ca21c8d6888a0582381330b641eca6c31bdf243d4542fe672a8c70bcfdbf2ed1bc53889f2e3d6f9c38e41dc025b24e1974f1819bb637f10771881073b4ecb3accf3cd67c702d84574481c4dbfb0a52da600c8df37d715db25ad7a67d58611dd6e204722b09ba7fa558a7606102fadd72b62e105cbb4e88613677343fff98025fc9e9c9c1f2483d4370023094e70ab4b02e1a87e981e57e5183fa72d3d2188b52ebf38d468b91b53b4b20f9e13766749736ce99d9b544db2b9cf76c604b6d3e297ab60eddb31bd17ce65bb42ec9297590d40e8ae53c1f6fb13d05d932542b65888908a4a6b19954d5f8633b2c48857d8c0e3fea67593d24bdef236eea90dadf4a7fe77147f8c620d6e046d73d63f3b8878f644c310fa227a183505035fb9aaae6c62e24cae79b319e15e41dce6d2a8cf997b8e2c837c137c18d96c5f200c0b71535b8b5e6588297338a1e67d6394323716ebd77a1ad35499d2b3dc5ac655393008d059be0a395bcae4a79950fe6740ae1e1c0182b718f22e761282e5fc60200a242459a6948688b1bc01de35283b243491cf57001cc955ffe13bb204729101aa901cebd11e99e9aaecd4cb51f656e3d93bed981f7da48b5783cb18161441fe221462de2d8585ffb0c4693e3771723f4f6342249b475a112d9921706321ac8bec292320b7fb57c38453d5b23fa75e009beae0a4215ee1a41502d712dbe070159bef5daa08f8a4582c63280a15288280234ef7a3cdf5395f4618ae0447a424445979954b9ce5f70b207e83c9518f046d174d518ec6df9540155ba75be15b9aa4d193d9a808a38f4677947a6a564e5f9560cee6a3f1b5ab325c6fc2a5c4adf6e7fbfd9c22ce8351eef5239f5cf59a38bfe08470506ead98bfa7b7e9136802b4b287a7ac5e4c242194ffbde7c309ec8adaeaa149aab11ca502d0ed691b774b25db0b770d177e90d3ef30f23c595d932f01dec93e5a48c0a387df410e1497d36f8d5958e726a281164654ccf2c563f6e8c249c332684ccbfa496ea42cd0f11140e0545acc30219b3e6ee5eb72cd8a5b40d4641f0f2ef9417c06c215ffd6f388718c97844db4e1bb2656f7937893fc4f5c30abdbbddc4aef82a27d601ebab217f03ba110f420cf9d46380345e62e4d6180833d1998f9e6a926554e04b179a5fb653411af9056eacb314f35b76a85587d42abe86bf3c840673c33b5741b2f85a6142e5b2cca14e965b694d14b0c91f7f611a52adfe03764aac017b8bf833bbc43513be2dcc67e3fffa291bba6fbc369fd946995d483a6dd0c671dd06fb0418dbd51d829487f4b41dd2804205e8b5a7099839e5359b72e4d6452b54b4a81845d2082d9c1650117b83929393ce405af5368d4dbc282f541c6c22db7d090e0aaeccff5f881b18a559fb878360d3e918502781c1c40cd406572504e78ae44e076b96defa79807f9cacde921cb2c14fea438a98d0ee4684120987299ada603a09c2a3e85cf511231a448707406f274b4a523455e6baa31fe00ba350e32b098b48c32609bae501fa2baaa9edc79fecab66075f776c2f9906b083431ed7bf7bef1d2d929fa283a17cbdb4117ba464cd905c928cfe42330d22830791e77fea3c48618a8faf72f39f66977f4d15bc291db38d258f015a873eec210efe0725042d095bf2a22de93676d1ba999c0f09c41f226be913d1106722e83c91347fb7a1f27ffefff7b893ff5d998210bb788274744cee44993be56b51fa8a1700cf7eb708352395e03333c27940285e091656b41afbc5d2f4978c529fe2e842dd8fd170ff9f8cb24c056eaa35b2ac9d142210adf9d58180062eea64b5e47138bc8befc349be120709a65353a4f7d9ecdd98e6bec7e1be7f476adb6a5985cbd901803841954a806e6af7fbbaddd9006455c5ea6169c4fe25b4e722f86be5fa4edbaa3ed0653e6e5fbac0752480723e01413dcccf1219e20e3e5cfb09a22cd71c15d07bb90ffcf345fdb1b065208426b5cd39133aba77e4ecd50c4e604c03f7fbddb0504d35d870789193b6b1117429026bbd4a979452f6f29388bd51f46e476fe70123326a0d6218a388c29d17801384576cef5b52cd117960bac0aa25f4bd47349e2589cf271316310eae93429f20bd778c451101d7c68e2ea38a79e463a988364a6a27d6e48e82575bb71058c4872cc03d351d36cf0074b76d514ed9d8730757e8114d8edd1e928a729cc5b30ef9171abb5e7312d2b5c6327641adbd45fe231a1da5a10441e59d77aeaf55eaab39fa1d4a3677128f03b7e07071f534460fb0c4527a7259f49b2d8452aa5c78bbea5d2d25c9fec300bdca998838c140da634c6c6c7820a1fbe090893a97bc1eeafa01441931f93f61a316cc2770daced093dc541b66f80da4891a3fdb8739c29e21208a1eb378bcf5529cc95239408e335c7e1327ad7c1aa74b6a87b9a0360b7e7cffecc01addb90c1c7676ae5c28921dc440e1888f05b29a62dbcc32c23c2699dd8704fb468a4d9c25c35802f5f5298063804537769bee5eaa2e28fb038664ac3bc09612a0a67e3741f01dc7c6187823e0c4746ccbe8eb4fda0f6b192eff306bb44c23311d7dd3942f48f32ba2b66edebf529b7ce18b3e0bc1a35dd5d9145e02753c65ee04bb5ce1c1d0e345c66316158cf276fd5de4a7ffc0fb95f9b5fe10f49639335eb049f8384783198554ae4667701b152abbce8fe104c384f7813eed68ffa20df8c6414cc29167c5275b4f43d5b9bd689d4ace5cc72b3d9be32b07adf37511de5cea052f1eb2c7f32a145811e296396a689d6da9074fedf365f9e15c041dd60151b78804dc5a3303ed3cfe8ef3cb0d53e40a1951670ecb99662e1ff7898bd0d2aa5b554ebe628d5297e0e21a48572756933cde37393ac5feb16d7a1b5fe498e97837152e6c09b4caa9454cca0c92995074cc4dad6c5ed29cd028f6d67b333c80a23b0b7372b7db1f3926fba550d48b1db4c46a3de278daa085a4d414495afeaa2ceee75c63cba4aa1148b59bf941f876ee0024353ad71ca410d32d0caae3b3467b2549fc1c9074d4803f1137694376a14edb70e67004c9bf656e67ce64de80eacd43cf3dc6c0d0ed843e0e1c64fa7324ae932bd4717e696c74ba49b7cf7c6734ae6e1128c67af989bd6bd763359ca41ca021f27c0b0d1cacca5c7a747ebd28cb6c30478eeac21e06356052586e67e0f70df4ae52e3927bf108930a1ddb329ff0e8a606a8fbb356dd614c86432752a2489eae436b85ed1aba38dac0f6c1845882caf985ec67ab1729d61d3fd14492fa4a4d914c7e1f8ee9e2ae9efc7955140620c84e11d218407d1998c5e0fb121e762cb4da5912953dc758c19241d3646d6fd0fbbfc2e03704ed868786d88e4239d4b002636d0fea4debc01b4a4511410cf13cadf58467cd6872ee32db0695de5ff0609a3f5c8d78035977bb936c4c61c7343bb3bdfe4549035201bd2e67f1dba720480cde8991f74242d612100a8390fd8543dbf8e081bfdc4481a59fbd66775f3038a072827056d57ea3ecf7a2f79d9bc5eb67df71ea96a5de7e32f616419a0a8308fff66b453746e186d6575325a515d99f09ef782b3c878983ce2d9c954f1d188cce363594a97ce2a5669304d092abd0edbc6153df5642ef23e455db932b2bf8060ca544c03bb9104d8941d15780b05d83b530ef15e7c6285c56682de5d8f865ae75759e0b8e1d3e15ec2d539b61724aa58719f4c93f666bb06bc072302d4442a4df2e1e98df7460aefe45dd5a65f9dddbd8c0189a2b1a595fa3906d870e7ac97cc4b23d4b9c1667929fe284e99b6533073de5bfe3b293d3df2a8a9b62c7e0072569debeda2b3726eb71a6549f385b74d58439910217cc1c49a0d53a986dbaf511cabfe5801e3eabb33102911dab10d8a3d2e475d6ea24e23eb459f471520a7b502afafe07b457bee9e4b81861bbadd7172d90831d840428131498ff1719b98e0420fc4f38d3ee8b0b6577dee4ca56f876cc81f6bfe2c2260b4d98a68b2eb9009ac9e80a347b7807510748418b3c29e336783e52e3c0ba8d94798f8f8648a470334cde584e805f033315766fd1c9e0cf6668b8597826c2ad4432534e080b96b26b5d5ca4a14fb846becb4da9cefdc1c2d456f3a21409265e413c66df76cab02e3702267ed171eadbb65afac570ba69eeda050b83ab4a3b92bfd14ede4372b29bc1893d0943f71a65967c328e892eef37fdf2a8268e5e976acef56df5284c31db9bd15d3c9749e611df731cccd0ffb1140b053e4064085c5239a66428f785223a1dc3e91376d3981df654b0008859f084b1cb9c328b1b19fab3abb222d9aa982485cb03d2f02f32575f203700f1bd3a7d77acb24c09268f940c3b1741d1447b000067824035cdcf47176309e475ce7f69054caec618b57376090f02d2f452c5925fe3e2a6ecc3b9d742192cfc3fd83fd657d46d7b0dee71033ddb90145562ec62624749b4dc9ab079dcbca7c76ac72c1597ae6042c924b97dbf146be65f5be0fd73eefb099eeec2c61c72d00f587e9316884684e52225ded6927f362d8f68d563e9a3f9342480b9955df9809f1a3c85445c7b613df33af8c6f245ac0f0d99162fc06c79db6cc31c5a037a6f156f8f17b3b1b38122e10ad2d4a576dad009cca15a756fe6417c94fa70d841c2e9f89b4c085bc8b5c9acaef649b9238a34f37ef525a7dd69ca71c16e8883a7151294175e535daa4e3e6b1be2d36b8d3ce8e308d1f8faafa8e0a250785a2ac6b6277f73e29782d4262fb3a358c6f47d28b6bf119dd579fc067a6826c5d343725fcf3587a2d64d52579b7cb4fb92dd7253cbfcde9988de2f5b1f02c41c52120c9ad706f11630520c0b0db7aadf52b95377794b62d2f9dbaf6fae46bbf7807ef82636662c9a26238d86b0e479d17acfb804b0b40b98f56b27c3268bab39b33ae94c9fd338427fa14235734cf9675d9f432bb8aba0e5f325d9d3063a62e5786e19aacbbc0f84640fadf376d104a408eb9cd24c0cf38bfbe8e92e768bb4a0984cb3e2c3df261c0cd591235fe1dc181105d1d2b693cc29937a1d00382eaf2d4e1d8d57f24986d125289e6fee33b69a433e8ec506dbff8cdf68604e15e60cfab0f24401ab749ce6ced357658ed0babd72dcfa0697c5f1886e68034763a9b5a3bb3dbed62706077e567313fd2e8420b6af5bb64b1a8cdc34186caed396b60a13721a862025b71b66a4f87931c07957c8f0cdc842912c65395a64f798a9c570ebd5ae2b1ff1841517b7296aaa94fcabf1e51b81de34538200d16b2289df6b6dc9d16fb3a202ed02c1dafc79eeb71ac4d378a722b0aa06070b762c47f7883525a7781c43ad91a99901215563481968819171034d2efd0d1dfb9fdb5f7f785d4937686154d1bb6ef7b1fb0b79616d6098571ad7e17e87401a71ca4716398762211e86d2f10e9624a13b4e82e6ab32e471e21b57efc774b1dfa37a8bd8bb290e5e7dd831e854223513657be6fbb8117e4979afcdd2112b2737a1cf61381a106c93da01fd173793da76f2746a3704d5d40aa5b3ba365415974e1b2ac2502b70b73bbe0f7563361a6863d02e05bd6ca7d2dd1b8e891b6f798825a102add11054f977ed6d9e543be1e3ad500bd46ab2d549ec326df3aeb21ca874e2dd2316dbf838cb0f6a1e1ae26aa2359133620da6e7336bf4b5ca0fd3d08ea398d13a4f001a55f02cb5c0ed279c20f60d34819ec3a55164f9da0703be0efc15ea84354d299016fe5716fdef49141f5a6327dc6b66ac38520aa8bdd9add728ee3b53775389d47c72bd7b3cec1b98df4f417ec01e2ffb8b3b98bbbc1f430da33e2218978e1a42fedc387b28c3017388b4451797156f4717901f06564d5412b4de56efdd7a5d82fd54d6ddd03b507b69deddfcedcde737e2ba00cb9d424d95185793e814aa4ada0ebe65c1f491374339a35529cc7c63b7acb1c1468e0f985731c8661ac113cc85e64b91b1940f5409a5df74c3ae2984ff462082f8b09ea4234baffa12bdb6ca603cb79f7e7ebbbb80fb87580bd5dc2214e2a75e8b8db18bc1596fb9f00d1ef1db971cbd916b7e47ffa0e1c080dad6adb9e4f587afb98c7b72ae239eea7c48b4b175535702d29d383e7b12f09feb2f61d50dce2aaea43f43d238f4b62911655d0ded9e99e8d4ef762fb50fc5097cbb0397b32fd8b583010d100381cb395d166ec86230614ff86d5ad7871658bdb8cd94c29deedee3be5fbfd75a6116c55c1cd92ca98512bec375ed141b28514a96d6b92333577d0c62c276ea6d8d7f80396fe31f3838758a940160aa320d83aa224b17eb22a7e2618f138ab95dfbbf17b37dcb8018464d34ab8a0d14d85899a04d87cb397c72d43c77e2a3c267ddf8e5dabc77438f6267cd8fc543733a828eeb9dae418c37a23ca0945ef58c19e6e378da35717183b9b5a11cecfed3c6b926438faf567afe6362ead39a48c07fb2221cebfc1ec0fd6c1e2dd68fcdd1f1de24225f21c99eb8cc25cabc417b5b21f91380bd758babaeee7d674cc8812ee49259874e27b3cb8170d57f851a747bdb245fbbf4033103251ff8bbcc1ef9a3b32edb7148948b65a16ffa6321a45dff46ca79ba4a8d59ea3916ec2e8839f301067616376025e9796db5bdb43e6acb785dfd2ac19a1e339faad04dc00e6809acf9543998f96551bab648261d4fc43a73015810f7f64b169919ec875c605eb8b40e253a15b3ab9534fba7437149c12da17dcde0ce059a0a03e2a6afa4867a94fb58f021aae0d989092bbd24bd3f50ab5401b2174ac1e6644a9d46d9488ee5d522b712ddb9b0b48ad21a2cdfce34a81708069c95ccdf1633f40c35ed5b17a2f6ea0aeaa9809b63e61f9a71e513d502fe901bbaa5a261c3d0f8cfb6acd3aaf996d4f0c5bbb421002b8eef750049cae1d4dea0284a031f99e1098a147265388f2539c4e3ea9c0cbef9a4b4fba747f566c579a49f4a3c7620069ad9633d3912d155f50cf933dabd6b6473a136e47f7ceef8e1239f840d7ba3b5ee2fb109aa7c8af74e42dcf5cdf1b2d344c3602f66706053677b9ac9ab2bf67c66bd3489e85e1aa71b4af5f14618f11ffc43847dffa03987714f90ef8de42e77c1adabb7bd34aba65dfe660fda70564f72ff00e64fd0638563e40e2c843131127b6275f1aae04ca6b4a535d3ea330910da3e9afef199aaa2e5e7c6ab8fff2f00e4d5d9712cf13e353c55f138d631cab96fa203674ff736a464793105b5593bd4177730c32f36794e3b21044e28ffd27583409c0947608cceb35a43030c36f30098d1a08475b40f1ef38c5d1433f52e8e5c9d25502668a8887ed1b2fd220b0078f0498721910a574e11be8c33a38a01586a7a0e961a4d1dbce2d948e2fb563dc0a4ddbfbe88066f0c868c2f6731ed5d9546ea18f51fbf825b2b4dd873f7302def679d7a609a18fe13440a5019aa67943a7d44b55dbb4a44dee09a1c57ccc3abc1b9c6bfb105f552678156d816411b1c66c8b2bc8295f9f7fc9ff5038d9ec88e2aa1a6561039e723d0518e2cca2ce6a35a61362c3512d8063f33773c4071cba265dd762fe3cdf1299a975f9f302a2798848820ce82bd6b5833fb357076e4cfa475e4249a5218dfa48261c37cdc5212b7ee4e6dbfd6f090099987b5af1ccdbfeded7db2fe95fffc6a718b6c825bc09164ba4afa96307436b45c382bed025779d06921d768fb4fee39fb0e94069739b46439332cc3dcb435a22992c7365abd00a4a65b115248e0c41e78f187217075901530bebac048fbb42858187329f1bbc76f3a84699ea508b7183d156bc6e09e9c60fd1e93aa861bc87d5413f9ac98a76722f040273af84806c9610ae9065a5c3eebabc00879be8187dd65ea1fd70a027687da38e1932cc9c8a121f531bc92f0463a51230101c986cf056bb4b84ecfbb332eb4ea0f4fedee9bbb0b83ec232bb0a5ee8bb2d1b8e62897abdbdf7df685845144a0ebc2c97179aedf4d3fcd5cff4e071fd01c7e319227e30187fc77b0c2aaa68df5261793e4fd0b3b15fc0e1e102fa83934554e8ffeb425a26fa84c637b114f7cab2ed2e4524c50455495dc0f565ce68ec3659e4c218731e89539d68e467647382ba6cd2024034cfc3b269e75a2cdd54ead3de86cfdf9a554bab3c5be95436ff8534f2b80acf1577becef011b9acd682cfedcb0896ce871292e322bdbe3e88e31b995a96724f37c15849ae2fbc4d983e064088538fec6ecdbdbc1636e096ecc942ff01ef401ec8361de7c86336719ecd384a424dd492031e5f6281e2566b550c7c7bbfbfaeeca0b2dc377b84b67314bb03f8987ed6fcb4459826168fce76bc91c15b77a87bc9741945347342d0a6c7fb10cc6f8d2f49b3ba2d7640971895c84eedb3f3e7d4a119f523b834483e851c4dbfcefaed26628dd19e4ab4424c9a509c85fbea809a9c978cf33f618dd36e5396e1651b29cb76cf5060abe5a9faff047bba71e4f1919db2731c6a7db4b9d155a280875afed12391b3cebbd2ea125de3342173ef70155fc14ecfb95751990184bbff203b010ac935f414cc28b99a59d3227460c0cdc962e6cb0e337c16ab7f52b845227df3b49fcad6965a3f20b931098988278960a1a3e49a7d2aea7d09e3245d9dfe6b3b40fac5ff7e4ffbf23c09cbed42ca1e2220e71b7d10fd6fcae82912295f483ce7a7b801e43bfef318b7a6d933ec2c64edf7fabffa8082e834879955021c408c3c63cd8f7343a54d553b919e63fdc637c269c8ac53dc5cff4379324fa8e8dea4873493e51c008c1fa03b2b43c93de38866ac08732bd87a20786facc1aac894123e1e87820818709a798a0f6b6d5962cc9b53d6a2eb6f96ac666f89d64768ab85dd412c88180a977a966989afa5faa58b03dd429509d5a6e6af078be344132797b4f408c25b3767f25a491a173faebc0124e1331cda1e0df152ab95335c66f69cb16789c3387a5ffeb6f7860a44da39a15081863ed272aaecacaffa1ca29053a7b81ee68401c819766556aa34cd6203b6774d18e0bf5aea185b760e75ba105d5a1279324951e60fcd7ba8bfba964ecc0dee66139fd0bc3b54cfeb0e8b63bd3fe20d3af44b5726b043c6c7fa026f42a4a1a67ac70c729eb1070483fb9ed44717994abd8b9a96be8c06849e1c1af2bacb3538b44514836c9c393eec390014b25bfe02dc81dfc2a5a98789b314060884ad656c13efef1e783da0c3f7c45edff34d7b892151367415d4b92531db0d713e392b7aff611da8169cc8e40223cdbdcf9f3b54b5b457e1d7fe82f67e09283ba3d475f08013c9db34b90fa3ac16cb54b0b5b8e7c59e8da382dc6b2943dc836c2dbe7789be718594b2b18abf31d83fbf8b63220234e8b0f952f9f1551d35e5009db88a8f9927d8e36c46c2936a8193001dd58ea5736744da64370de198047b5ecb4a6323208418bf69489b58087837004291fbf21f9ac427902037efc6b54d4bd1a7ca9366a4cde92e32a05ce7d137d145d54a99499493499e409879740c7df9dda8f59ca37f3a4ca81edbdfaa571f42f18c8078ab8c3e73298ec01cb7e615b501ad648f0a07cfac6c705ffef978475f207c74ea2bc33b6bcfeb0c49e74c255931109f22cec0b3ccd6f4b074fc7cf3ae0565614aab0297789ad58e68ba95d2e7793c94122145b6fb476dd2d0557159894d539a4293a4344db6b3dea6ecf62ed92f6500824320e6d4304f639889d4cd05b82ffba034068e8439aa3452e9a14bc3afb9d4548aadca72776ffc6642bdf178aae4134fc1224d6c45fbab3d8848ac0804a0d8a1d015d105036dff15cc12dccf1080350eaf0d607c22afd3f9e8c6317f85383774a3304be3e021da62be1640fd91f281eb9e4a4cb9fac194d817fb43ed378f994c5da0010024eac8fc68b39736b50e9012672edf82b53104002d442ee5853cb36f22d240c6693a993c8763d04c3ff2acb756bcd0af8d905cc9f2dfbc345b647a95711974424c2fe808cad41c59d935bb99d543f7cc8e7d63c17fd4f4ba2530d837b6d59899474289b3474defe5d541d0c213277bc2f2f7bbe676f1c290832e4deb596d7c7c7acc601661eeb3686a715287a997522e716a063b082f739c7328bfd3e9476e607cd9eb134278d4526febd7f495290e7cbd2497b63e74de7b61656494fac0c674f31e5d7a52a1d630db1323e371d17fcaf90053862bf5d403fa361cf6737589b4812144e1f6c203f0bf3d591d57399bb359c0e52d5ac9f6d28428a421cdb2e6cd2a06a25f517a4a384256eebf26e8a90c8d1a43dc4cdebc96a187138c6a03e1128cc01339f4f05f211fe54b9f1896f2f8087a3f7c5e744efe813c3ca8d2940dea79ff51074b4917131eb3ee64c76e3344b5564e4bf4a6adafdde2ca234203d6325add888b50795be8008f2bcbefec0b1adc7f066427abaabc3fc036ea8126ad131a67bfc13080ab8369fdf9c0d6e54e4dd19de9be21efddfe1293775aa7b71b7d4b28a5f37e2f078fb0891bf53a2ee4b7feb80dd8e3a0aad1aa7e7e6a1abbbd4a97df33b2a380660e369eb04ff5e37af248a3fa171365fa347bb714e69afd3e04477d7d0b545d8797ab88bd8e943a85dc9404b7d0d64f08fce7471710aa44db3b299b18ebe94a2f2dde0eec5c6f42d9b2b376aa5548a4d32d8346087675aa17eeddde5f8635e6a6b89508e52f31600a2317cffc7e1d82e2139aa191cf5c1184d7b059b19e0301f7f16ee565caa60f5ac214056e568d8cae86ebe0297363e0373718becde1bbab0039ebdf4b7b8288386f0dfe431e116ccbfcba622b7fa524114aaa3807d1aa5b01c7bce1e1a69408f47e23dfe2fd74b66ec98613c2e26e146e3f23d406c86382c0eb9473df76c096d6efadac8463cec8935ab133a9b975d49654b40a62aa89d03500d5caf45b2af90883e8f69166838233cca886977e3cbdcae4a47cf87ca18082d40cf61e736796eab9c833bc48607141d548a555ffa148b50f5ecc9422287fd2133816a0bacb2bcbe5dc108839b22e06d3bacf8044cae35aa64dd45b95855acc4942082db1e2a31f60ff8e1e354948499907b7507a7c2fa51bb23acc6317c0a7f703c2a6542","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
