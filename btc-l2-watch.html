<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"38d234330ec17fdd2bf0a89a77c548d7ffa80a76dab5bbdcfaba9b1d69ad267a7ae5fd2f140cebe8313243d5603950784b7dca0c60051049bb2de160ea4fbf9d5c3d816a292db0ea08fd6ede764c9fb14b5b16d7bafd94614c8a47c7294acfd54e411068521b298b8f61f183b68395702e498580c58fb35fbde231567d00d553f526cfff635b26a10ff2b01b8b35c37d297d25543bac91eaf304e8c34b6f35a48ba24b35b0cdf5727d136f61a2291596e65b3c356b5e593f114215ad9ee370253ac21b161d45d4c10bf57472345bc629350f55c461ea94c8692d6e55e5001b2e99bd7980020736a97aaaadde82fba56358cd013c58b1caeff1a2d7e91fd49898181e275f25d32d2b4d55dfa318a7e9faf2288dcd09e5a601064ca3eada9871fd980a08e5a5c1687a6ec1f0aba3bfa6d0e11c9379ff9ef35e1843032e9b5ad41056845c48842e0cdf6a8fa3f16a61f981707f7bf19790e548c6a6fb254bc419f46d324d8b4d02701b81324a24d2978dbaa306dd14f32226aeb33b52fd741660ddbdd571aae6c086154655ba26e9b9a55dd63a4ceb2b50a58e063b833152f1274995668e4d31d071dc403f8948a7caab4ea98007f6eb10d003982a18cb8ec0e53791a199153ab075dd78bcfefe94ab4da6fb62d6cd5baca2b92902c2983c425ab62cb57605f8bfefa448ef994e33dbaac5ce46f184b4571f4a2ef132dd87fc09336275db633eec3f72660a91f9ab518ea718ff55cc2cca52c539ee2e851c74d5888cbb400d6276962411a85ae03c72d5151442a2ee6e98bebd3b8d2aa3fe066ed6988b3c7cd9ec71b1a3914fa1c05642e64a82a53c87fe5e7dc81291535c9b23c11ac6ac171d3e90077ab8c9561501ccaca00ebb7e4b34458370dd28cc4a25fca6185d752bb0af4b38739a5989c507902a0faf9dcdb9d47aae1938a0396baea921a2d80acf7141d4dca4b42eb9a7d5c8a6e071b13f298dc0c6860b42269b6b86193766c867e2f59105461990edb27a70a923142a91eb9bb43d200db46ccecad81f61b11f3339ee210478487f669e3d03807a113f1a1a031fb8d506b49d624a6a7e4e58e573cedcaab3a488191cb6c517d63515208f138eb3fefa7959092fb4f1716c6a46882ff259a24b90cd1204e5ec6573d524decb9e436788e81a50b80d5345e149613daef70fdeb65240088fdae8fff2f3d68dbbc496bb0d2a5e46c3e62610a9686a2761e5ec8bf96f9ac59fa090f10d46bf70e66ba5359886fe87debad001965e947c7f1b02f1c65996d4c4105a087acf3718900ccfe102c07382da9bba0300d6b1600be410fef34936e10ecf283245ae91c0683497706b3f81b3c142d6b1a8c89731443add912ad99205d7c11e6e7787753dba45e68a46735f8dd5d321afffda980f4e006d97434b951124738fb4b69c00b98aff453db917d1890061e6a7dfab5bc8dcc64c0f407fdf030b1db5a8cbaeffb5b36080ad92a41058075ece0f6ee69e664846d72c0ddaf91c514c340d5f60e2b2595236d907d64b3ed21ab2b8b3b1959905d9bb658a00eadad42063dc34055d4eeedf93f49a270de28969c745882ea9d4db6ec4d951e387b2b6ec91edf3c1f37c3f3af111a572e99add99e870ef1256a1fea1c5e290125eae5f9432e472f5afa3832bca5c8c59b7b4c3ba775c695a1888f6584db200c225effce3970640224983f442e20346ba78b9ffff5dcb9499deaf985d817c363577d846d74b13e8a01e163221cabc3442943d92de53d8c9e70e63d19f5dc356a33d00627f408ec926617cf17e1708f8e12c5d53c63bc1b40ddfd76e82b5ca0458751ea2649e46dba2857b434cf5449cfce10f035758984ad5cfdf6125a5466db85a8047e7694047777cd0b8d304508e57aebeb8c97f58f6cf6b0a8423924b07f73233f0948f2808d3fe710187fcecc2ebb458badc05cd43bf71d62e93b1a6f230a94c4a10e3ad5e90411af5f03b7a6d346dce1846e647d7a8fd14f29868c10d3d4af67c601298570e8b840d2739d7ac485d42546d2b2b0f37262e17e95a8cafeadd10dd6fa202a305ef238b08056f306e0006e2b73ed033636686b1aa38e236172fc190eea299d7bc151085c4b142cc81f44dde30d78cba174cd4022387933c1ee515de7e367cf2946ea00c27b4e6ff95d6226b522c3cfefdc9452072601bd27cac58dc668d7e7b7d48be0cac2ae48bbc713962a9a1649676a7e6e8b068fee76720d200015e2098e283ae6fceccb6e04398fdb6eb77250d276ead5d1f252af6f5333d33f9f49986ca87293f44da9fbbbcd548524e33ddb438a6cfc4a6ec382787f13d2670af93ca4f60fd5215a0f9abbdf1716dda54a472377b9e43bb45cf1501dd95f5677b1d889347e0f5ab9a971693ac092f8ac9a897202aab799c6d403c91664856c8004f735abd20b2c500945298b96f724d8948737a843f4808f4aded1c4479883bebde383541d391c9caf5a923c3228b416c94259c0c294511607a30f7408c4e0cb5933c1781dad8188b9a496b43bbd7f75a7d86dcbac28bda5e398e796f753120ad72e5e093796f1b1e8a0b830e5667d23ff5ed9eed7bcc5648320f49b150b5c9ac7989ed4cee3df4244bdc43f962763eb27aa569696da396997d882b680dc011936a71d2847e997d9663fdf7c1b843cb926b492e063e775f87ceb04e09001146a1989511bf20c34772e09e77cd5e1721678b039f21ba3a25781da38cb0aca3efed01234a928349a51787ff5df5cf29f7bf6ecdc7b9106766669c37f8a0d9361033037f06e9e5aa9bb3fe834144cf3f68fa03949ac482137bd8245f62e4155cdad29f513642ac39cca52326c8108f27c2687ebd672219a7520eb7293704f216b769940f0d2478c84c95040f1755c465d74c2177c3395c394e32df64010a1b4d301a37fa275295809b1361a6fc2bd1ccb444b8011aaa8e4d9e705ec4e6ea2de018bf4c28087caf8e8df6e54d9e0e899d6f404c22418bcffac359f541d3e8cc98ab94b99e2daa0c5d48114f3d1bf21bca2bbd7518c3829d7e73890429bbf60f7eb13cb2e4192f65dd590c9a15ff4d1b5c31acdc51497ce9ea9a9386b9a5a1f1f29abc15396310c058084ee58e3da87830a2a8c56d49fc43be002e7603a411d6ede761459605f2faf147a416237dc3292b9edf5c4e0f975714f7e9ab3c13fd82ee2382a7e5782ce0f705c9ba9894a0f90c3ecc4897b4846b6b230ce8f8524aa825b21e89ea1269908d29e2b91de1f1aaf5dfeeb0bedd1029893bc606cd050a72cd3497cddb69831088438b275ecefb177246be20271b73c88d15b1e0f8576801420386d61558a870d9e79d34719c47919c88d03c19ffe75cbc7cc6a563fe0c4daa9f4d74f975c55b49dbcdc668be47a089f1e244ab2c3af71b6b338c4d4cb23e08ec1b7e16b3409c30cc03613d02edddf6faa6ba71b7342354097ac482ae8457b76fb905b6db218d74f219e112c423b02ad0b090cc019d202bb2ca8b1f19bc70af59f5630c9150f415223fb696e3d532afa5aa408a2070bda2aca4a69583f2f8490083bb43a89f8998a1bb258ced4e31b7ea457daf5e7d59d79baef0e1092488ac35235eb02418a9c9329e57a9f90eeba54a3421e0e6c051d4581dea6108bf3030fe36f343025d87a6a31f00156e1713838877c3fbf3488d8b8a39a4d62ccfd8629fe7797a36a6211ed71c4677f6b551c5b8141e9edf0ddd334c42285e9c28629330fc9ca58cfe14cd031d7653bafd08b367630f9c4e619bf0700e4237127e111dc764a019dd4036521bec1b8e580d01032d6a35525083e964ce09b59515084a1f93f03fdb2567fa1fd249934ca6bbcc23ce2a17ee1934e5ba3f70773ca26c61dc68bc67df255c3e13c3922c2fc87752d5bac0bebbe97ff0f9207b566d36a13533ab6bba94a1497da0770dbbd5cc4da98a51f764ed9ae0e4c39a406aaaca7e99c36f3a3725d336053993a045cb67b837c72108ee088ac09d24e9263510acda39be681b97b4b34524c38bd7698490b820c3b7757b0dd6369237afa382eda28a6f50bb6e7228b801e0fec533eb8c4d4000deec522660934d44b1bd332a855958b11ee4aa16849a4927f0ee6b8878e197f8449c7d19d4dd525628949f572e737ff3e48a2fffcd1a38188a54da7e85f5775a944721c7f545867e42fa2df980f2008db0a66a208e5bbe9adf1bceffd20eed39a5faf900bc1a8dc55349fcee85aeed1e1cef042ca5f8bf9b5b05329a7be935ec41d0e0454800ad1a1ca89040a808b199e5f2788f1be368ec4e7ed96aa5c989595aedac938ac2b51f901d5055e1b0032f3e2896fd28b9ffab495ecc749ad24574b2cb9a4b37862a5dc8fc4e652e370b97585d510a3bb61fc9a57bb20d73b8c734d063fe0afd43e65d60475ee676195dba42a60c6b542db6959eeda051e87c8d4024b7a3cd7c9ffc0b8a9ee80c3607b1f9431454f5b8888eea946c9db18ac0694e9008e0dca9790a4baa4c9cd7a04b6e070bcf99baf6e7105031300bc7b51d994990c2fd15084ce62c23dc8ae62fb4157165ab460207e3c9a85d5074348e44760ff3ac324d419d969186c31b0dca88eb7f6b704568ee0ce0e85b5c457a921becb97b0398a49e815334ee7e1cbfcf86aeb28e405f9c6bf13e76d954979ffeffdcba2bbec70199c5efed8f30b2e9646e7ea07596d664d90b3787a80c868404720865d5a25b38aaf5abc44a3751360d9515a536918b4050400cd990c177433c6a1eb85b70755d95458c002cb7bb9dc8bb4033d9bcb8b04538bd1fc245bcd4f57eae8179dfefa2bd9fd91399231fb03a8e9552a6dfbdd0c306307db898cae3e5f34f46356d2114f31798d1402a4d01b10ca1e5d8907c9703eb5bce3fd5d75b6bb5026ee74f719637f20bcd4006871a5da72bfc045bb7825370735f9552db42f1093dd29c32f9970794c949112c9d12a048add92d9a8406d5fb7e115e38c39e9d95e2c8e6fd867c6cd5897a31f4b0f9df08cee02af037210a687896a7e7c16eacd391169d2372b425fbe192d4e1bc5d407177f573605eec081fffdc8fa14948432b73bacb15079b2271120c4abfc22674a644f25479ab5d95c79af6d4586d1e9ed6ae4818017abdf01373b354fc58e781ab6ef2ca801815ede65776638359aa9dc91ba654b21616861e92417dac5a94f04018fc0dac35b438910a5e252f78c066b71ba7c3477613630d42912e30fa424289517f266cb63ac0aa3b8dac8b21a2c2e2a7e4b225731474123f71621d7abe6d04925df3b4fe1f8b772183cc48d28812feeb62ceb08cafe0641dda953cf599c0ed08e1322206681d8d4963cc9fbe9e79f4f3e5a8044dea2d86630296d44a1ecfba770550c7f9729acdacdc68a59b75e487d0620e257545cfe115914eb6bfda939bec40e069a93026d147e9c5004daf8adea519ea5144fe89986b70fb92df2fc676474527ae2124ee64b707f64b02717aa245f4b2a965561000280b2ccdbff0604ec783701bf4ab5c917d5a0683a2581e53d144bb761b8115ecd062bcf94d05c846ae5bca559c21904c8e22cf01820aae78d3ada9c796d2c212b8fe619c0f935d3dc534581beeea99f0d3229ee46cd7227ef277656cfb6bf700b238a99855352185cbd36fdf25b2a43429d61ef5d717f97c32c8234fce108e4ef9db39718b22fae7acfc21357b49adc3bd0f252c60769e59a2f20eb1b895784d3898dade902c3097721e6f04e78f6f9c6ae5fcee105742c8b5654a0d5be077d41b86a79735aa8a697ce7927f90ba3f24dbc0f866bd0ecf732c60739e163c7b8ce94deb354b10eb71f170d6e468b6e1edb36b7c289f50c612aaba0f55954169b1901935686123b6bf35c2c2200786c1e32e909bc76414cd111edf601ae5f5d29ec571a307c880f6bc9793522f8b89db50289cd85252ce93b40045ef28d416d9b82896be718b383a54029dc74540c328af6cf876cffb84897c9568069d9ba0e6cc6045779f277573837efc0db339bb6c37edf477eb57ae08551764fccd871485c212f1279eb6f9d780c8bdc171bcc4572f5212769ee0800e627b629f557ed53601f314d07a661766a5d49655cba4a401e731f85d32eaba6020af2982a7e9e05e6f288e34325bde41de2885823d06fe2adf8dda76acfd52a05cc8d0b0b2286330c6dd1a54aad77ef8e458cc83388d12082a8f839cfd8187201272f21370c9d7b4a0bcd95d0b7cdf1e663df4b234dc180e9a8f4eea1657308e08f27551ed4c17a2cac40c463480305810db5ee39bf8f5b64b2cf6278717e433d13c33da4537172b37cefe7504aad55e84defb0e9a418329d4806a61c8e3e4785ece976434859347b0c05aeddd3ded57d3cf218c2b25418a2ac05ba91b662274463c83c528106e28087fe0244d64542f0a36b1fa788dab5102dd88636af02a191ad3aff93fa20cebb059892e654d8a9b4693be4fdef2b8b986a078fa29eb558c34a25798e7157b993f3388adff68b525fc938e52b96af0c2179a3c583de5fb60374f07f11a16a78edc254c0553679f1f6f9510a256b9e83f18e9cd2b783a89ff34c7a1d1481f284bd9cdbdfced6a4998569de0a7719436d14fc362ae768ac61614103008c126964147256579725440000889ebb13730ca0dda10a5f2e4fcef33089ae748d40bd82f1ad97c699403b834a1ae5d1e6c11c452cd62a904a59088a450083e0f48aa211d7052f6744774978629b007060f15d2c8075811fd037217bd91195a26c6ed34fba549bf8f436a1381bf8da6eb8e34dc9804a00cc1aad898003379ee3dd71eb34e96caa49f8b8f5986b01f16e3da43cc0cece745431905005d962a8ea34fdb1cc7ec16f01e61061e91da080d89ab132f70e1f002ee602c6e4a3da5d10454a8b97973003b3a46ea5376cbd4cb28b5ba59341ee2327be3ed19b331e637d07b8d67362c63ea13c2af1ff293061fc4f2bbd87d94ea2f26ee98acde0d79313f7376d2b18f6a7eee523548a9d9f39218d9b99589049d7eb13243c3e7dcc20f7fc67eef6065b6edc273223fffab619d915b2f58fdf12dc4f97649929add4720302fd0ef0a138b9c9d9884fc776fa519494724d7a977ec2fc2398bd1ed444b0923c2916060a7bfd73aa8283671ede8a31f36dafedbeb5b7a05133f1a822ee5c92559e7f6449e1501eadea3830546aeac069a0f70804b0f20d31f9374795f8a200720ace5ed33f45d89b0b3b59d54956447e974fca951d7b5290ff8dc2eef1c7f46ebc7031c94e28de4672d9c3ee7b5371484b8cd9b22222f0e6f8c5ca76ce8ac2cdcb99947a247536f7192bef049f45b91537fef6aeeb1f7d129752af04b38b92a2cc7dc613ad62c3ddeb4bb47782a41a7828efaa33c178be4b78cd25bf1080ce84583714ae3d2e780b1a4c7a523d77dd5359272eed78901427666b17809d53e28520a49b72aeac68ffa1a10d4c4b46e513615d17f9f9f89438f9772938062435b47c475db9db8e6b61d097417bc2d11f0edaaa32eccbaefd8af69d89da70ce93d5000d4a183c3cbab7e87fc22aa29011aca16b505a19794bf13257e957bf6669321ab609d94a013422607d70dc671354006da6fdf6cfce256388e00cd32c9e3d4f10a7f97530e7a60ee99cc7a8ea717e9bd1d0ef40a3aad431787f59b26bba0134386cfb854f4c5534113335286745518805f224f17303359c876477919754f058f5a80331bd7a91284f1fd138d032714704eee970b8a72324a6ba9d3ebb8ffc49508fba366b64b3dc542adeb4a4d60b12e9ce2e0a235e10dbd5b24f1319c78674678d2c7372f9e978047c67f61c1ff6cfdb0b301d874116693b0005719afdc606c9f59d1f8c865b000d11672bba5bf716a3115450b6ae5664b5e836abd813411870154da27688824c9d876239a74f4886588341738659bc53a355ae0a80a10475510d7112357d3730f04c32d680ab93390d6d1d2fe9a81cf6f7eee9a8ed04b9955072e12344c8cef2dd4ac5b41ab4637868b1e57ae6722bbe898047f86fe85c181ec0c1bf6565fc41c701bbadf0e0b1e240c7fef0cb61c5464ad29a5c7bbb4dff0f989c6e0f17f7a24cb5ba8cc9153934f0fa74d79449c254ea0c80fa3836af24323e7a1aa16a0dbb35f37d34c95042f8b223f8325d3e9870706c3948c3184118b874179de0b08e4a0128dfae672fdbe098437ffc60532cfc9ebfef5535a46d5e1686dee107c6321965f057fa37fee3014e97ff367681be16a26bcc0350ce6529e33de9005cfcd5a925954373c4ff90c9126e3349bb6889adbed6ec663557d2fdfd0cfb50fc7a917ca302d94758b939e9a475acfc49e62c3c1538de799304d22aed252443890c9f576ebf1a8d7b7c6e07e2e38c3a7aca039cdcac96dd2fe548b786be74118e5b5737bca90d2a0c09ff5dcbe3a3f43a2cf27287eea9415b1f94997b67f638ee06dfd83a977f6a98b280f2836092122de0c1da72b2eb4b272dad8773fac59d3e1e1e6ea587e147af6a478b2a392575ee4e7312f6b5ee15a0bc3bf5b1b9002466ce7bfffacdc52937f971cfb17d30045e22d1ebf04c9c16f3c01ebacbd5505f054894d12b113e20b584aa66cd44b679619af18d35e4817242606acc5adae04ac356ef84ebb1e155f52c8db6399ebb016fc5ed5a40286559c09de15e69ceaffad9cc222c9b4c9bc3ac7c8afa23afda962a3b1505cdd23974faeaff4b47324229b6a78643505610795a0107bdefafbf9eec98f7c31d0db04bf8a66e0b4e603edc163844775eec7abba0ddfe584a20086f9e10b72e523799d3b234d3dbc69f4605320d23fcc61e6e7957c4f523bb15d7185d7be62ee33a03e28917c7c1316ac845d9de92377170f190a51ac6edbde01ee68e04c8eb221ddd9532cb5d15c1f4665d4585058c52c73d08b79d4627d029ba83f54b92ae56239dead1451da89949cd9984f4dc67591ba5e644c0644f496e1b8dc7224204448ea3c7f71953b6f751247ccc5e9f4030308354ac1ee438f9929003566d7ed16263cf2558124d6175ea517d502d7f65d9e35efec005e4d22ff3eb01a27fbb9b92f29d7a226e02261eb6499673f9fba36d6b515c18cdad8754fa67fe17f2f302930c0864fc8a287e59a7b8495cb106c9fb510e9516fb7bd9f3aea73e4a06a3c4e1726b0c297b3182f34b367d11fc78d527eb86223c5552fbd2ac4d651d7721b68cae00a7a679280596f0fe66f774425531117d2766d51bcaa238ac01235d5e56d1f180f6b76d4f37f984c9a7864e8f6ec3b85aab91050fbb264647018d89ed8d38698f55e3747d9b91fb632048b7503646082218fe92862662d49e996ace2f94f2a52b6f8d00b9b1727913d63624747709d25e5bc1b38cb7a839efc7576f6419ada2e4dd27301e7cad17f2d41f6f0b571c9d05de048adf551e861fc960079e1bd25a6d028f38e9990877a8c5217ce7ee2cbceae24754fcbf77d700c2530ef3ddb8140fb4fdfa4910103132c6c157b2f45cccfb70416ee7f08a922e96e7833ca9d1538892a609749f699eb0a4c5b26ec94a636a79ab925bb8000d37012df99053f11c192edb8b83cb1f12a8849e558441916caf762a59398b87245048e3cbae2459335c738ba78573dfc578d597d419f262026a541f1b7478367c311605f977e28b4afb6be89704b3cbfc668c32e137336c870096e80674c073245ac1c90945cbff02db21f494e9efc67884abb4d4ca6bcb83928e1942d7672ca9a795282008a89ad760e0d108e6e1fee21548ca7c285233f3896d15be059f5b7ff15894c18ab20890c0b18acdebc9a96a764558edfd91755c8003afda02a706fa62ee6d1d4f8abd4d89be2fc6fe39243577ea1b4030d588ea743b10ab412010e8e3eb8a804638a49eb5649e3c77a8aa8b5bf9ab9021ace902a20f99146a08826621c8d4b3cce62316b27d4822d696a8eaa706bfbfef216c0bfda95266d8ecac9c176036e56b652ae12b37ad76760ccddbfd37b6c52a8312f3b136d78f086dba45b38407ec4386ba19117a6840ca76d609c4b1f6201c4a433138ed6aa51edd9cf82b25526a47ac6bdafc51501f7e9b27022eb292a7d4fcff4d6f010adfacbba985564611d8aafb6f662b2e412d63787ba1df496dd150c15044b1db03a2e7246027711aa90ac49e6f3ed6e7d1e72e8cb8df8b418c978e5ef801a613a6a699da7c3b8f3887d26f38e9750f2e395cfaa927c37c5c46cff41f872a321c2c59c6ba6de322e2325677a8e8738c6e95b2af3ea350a2379c7f2fd4567b72d45f65969171b539fa3311fc7b2372ee38f61fa218459270d4a3566e2cd108d4ed3a0a0f484d8635287d782bd2f02f985787a4ece5c639bb8fdb78e13eb8dca59966be6b4e611bebc3840b1e8c0bbf8ff98c3ea3c685753f4fc32049002af59ffb28e7db33e724a8055ca426824c67363205eb150db97bab65391c87f223fd62c5370226b80fa847270b3e1b6469bf0127a7d7371440ebded2886acedba4677ce0a8ef342438e6166cdfcd59eb69d1adea40b6d11193c22790dd9eeb3e598b2b8998e59c0abf7a60dba749361634e1e3493504f94ad3a282f8dbff38080c4769210f8eccd2bb6ec6a9fdc41b39f6904088b7ecb68e96468b97f4c8ff62bf752ffc662bc4faebd7dd13aee840366441222bbd447b593b7378bc8bfadc1fc5dae56ca5ae60c0d89e084e347784a12b427a4a3c8a1f54f3613bf4e384bee8f01b5e3bed2a8bfe19bc2f8cb13bbb8fade610fc5d9f51d53ce866297e32ff8918edfe7a308b26ee6921893f86d40fa9fa11f957408d2f0a98b92ea5b652880de6b0326088437ab8f6bb916ae200d5366903c64843dfe51dfab7abad3c9d0611749fd5d9d001eb5c7a7b5a225457cbd75f54132a0b48f3f2b0f8edacd856430fc4cb4cf1fe42d2cd6c412c411e1d32e7e8e69423cab5818ad988f8f958e05b75bb4fcd279f3932bf7d31d02efdb55eb33049d7dda2bf4024be7a48fa79a806d78ff29240dd7cd6983d859769dd83895577c267d7bc266be1fa269e23df3a0e0b045a9ee25279fb5269724ce438da2d138fa480636d0efe91b5144ae0658d96750026a1055badb21377f5a6da6ec745cda28309a20b32eabfb4b972b706c813d587024cc31a9b657e119854b9c08da79a869402cfa7589d70f14ef44751d451adcffc9b2cd04d763158cc949ab2faba0c48a4d609acd68879d137c241b9ab4552cc441c9b8937f815a1275282e4b12a277da1f74695bb4fcaf274688e673a48fe37ae27c10ecae0a39ee20bbbb350b004967e9b907a012d597f4b7f3bdcaf1db6f779fa03db21b265d506e03f3d85a7bef6ce7f5238e13ebb3b8317ed48a7ab9a119e6a630a0b7384e818bda8d5cccd0e08f86bcb960d96d380ccb8d1feca547387f82d6aa7f2e954faec97150fb0ec6777c154a0593a0dd317a11c5a07aa0b60a33d69ac765402576611f6b7616036abb20b4729fcbd271ac5054143b506597566bdff83ac407ab2b66a6b8f6881ddc39732ceab24a067a8c0093c20098ff006a887259bd9a25cfc328008ef97f4356d886952f34ec1374c28398aa8fa0954ab510f6e1f15b4d6dc8f7c87eef33f518e815f44fd090e19773a743aea8e8db74c8d66c01f79e32fd13815f797c5af365751693dbae1a7caf78035a3f87cff6b56337866ca30624bf326a8e31becddf1618311e202132c18f146ea6ec60f35b0bf09cb6016556cec9aa09137d3133191731a3857c0c3da65394b4c731c90aae275faa8b7280196b6d94bffe0a79b9828d4e5ff689619e1e649ae517c76bdc8f916a46c661f21971579a60abf364a15d3223adec59b4a47e59fa23c55257d7bf67f1d887fdfd7afc1e2c313ee1ebd29d9fe4945583577fb4671afa64adbd792d0d66f6618cf10fe5e9ff65ecdb9f62e953b055a62701f48f4b6e084157846d37f37f9f54632d5d6c02131d8ffd3302e237bdacf3ddd0539c32bf06f61dc81a5bf29abf8fb87ed32865a7ba73e98faa130db680b6984f00aad3961abdd91c206d63b2e82c4421fcb6112eb5481e75dcff85dac89c9467ffc204702a3aefead7c18e779ca9c70c15342d93bd5a83296e04b1b882bc5248c54cc2387a0683306e706bff85a5338725168d96656b9bde44380fafaba7c93941ed77170bd9cb1283b598229c086a3e8938d515155b0bf37b8222f2b347314c6374ddfbab6fc18907649c72f97dda02b7817f55a056ff87dcaef5acf86711a0e28d8561bdc7cbb36b782c4412f5b7e44d2a8ce1111668682d534f6775d10471df881fe8dd4c46f0a993458615ac99c2b08e9b2c1a2dd37cb70659f8ff9120a6480c3020bf2cb37f85881707882d86129c718ef298773db133c47c61ba6a64f27334883d7a029335a8f30498b6ad828d90ed407b00e29b89cfcaa3045a5104e5d56d7860f1565f83ab7c947cd02a82ecc8ce341cf4db21e0de0cb29d16dd68e997ac30b906bff067af4b0c121d528d9027d922f3f14100ddb1248d15f14f230823e874be351f8c465a6888f62aa313ad9c5d4567b7c1f696f08fa1522dcd4d1f757b6cdd241b24aeddca6eefb3267709ade86a5dd7cd3fc4834ee2487512d7fbb0786988d3ae22aef0677df123752d1c11ec0a532bb43d016421124e49f48534c3725b43b444895e1de0989224ab83da28597a4a7584f5d4507dba807edc80abcd97e4be050e4b671f995ad1fbd8c1c652cb75c0c1eeb9defd217da9f50c352eab394a455114c58ea082507b9e3d69ddf33ed82f6fb33ae551a87d08f28406f9e57833568f2a64573e30da9521c226356f689c8599465f7ee26d7df5fb9d66025b096c14db7cb40bfb75228410caaf588b375874d92ba114bc8872ffe0c4d70d879e39680ea241b7408f3284f0c5a5083e735475ea4d897cab884bcd2d7ea06476e39894b759d5c39a3890d84cd5cf88409179e71b096f29060c2fa153c06a76ac52bc96ee16f2f14cd418b48293e92a3e97fff9e84db32eb6ec787909d0b747b8443df64fca7c7e9216d5d5a4021f84a12b40b3c9721ec7738b606fae84f3d1bc59a8e28e88192b983f503138307d931c49cd1b2cffb58e919bf74a54a3d5715013f0de236b008101aafe255ad8ee84c9a430b24960d3ccca7d6cf4a5f819971c892177596fb870a8e6b8606e60e09e4655e735dd3488c67b46f115209dd5fc943a52cf58145d896d418e0faa02f1761ebf3c09e6186f7a45674b1e6888aef35b5e8a1885f81cafeb83533b3c7b0c2e6c832231b49dfcebf29532d29146a1803c444986a07994799c37d70fab439147a0ad65982df7346b8f53f17137f12962039ab34966bdc67e1f560f5300fb041e0b67dbdc2ed53bea92001678eae77c1b199dab9b644de425039cd087919298ec1c8df70d74d87d1fe65c05f7c3ae659e50f1be4b08faa67601751f1bd6132e6b39179117d7f71c6967fe2e97971bd901d7b7de02a94692bc018cbd4517b42e928df520c3f06b1db4dcf19642be7e2f64600832ebabfe958e4533810f1598fc7d9db6eb6c7c422ef8247a325f49a7b15309a7e312ab7dab122b2f25105124a517c81a96713ed42e0977740a8771f8318b49fc3ec4500defb24e582d1138cda36d8747476a6df7b550f484dbac261c3b17cdf21f13460f2dbfafa0bee6d959e29444c0313c3de4989aa9b78a0864363d3144ed9dab6ef0cab2e816afdc2c8a261e9720db16500316bbe3d037bc3b9fc0024d2a8fd05667f3429a7edc4d3d87e2183e6817f55355ac4ee7b07824d5744523a324965e1ca708abb6bc2ec2783e2bb3e81b980319b655beb2104d305bbeb43277197abd09974edcb2b3dd4d91e84bb50bb3b3c8ef7000a8dd5171754d612872057e02ab849ee87bb38626e5bf8418af1bc2d0bf1c947f4e2eca55c99ee214c1af0313d18d0397949dc1518ca73b27a3be8faf24188e82020c7e953d967d8a908a934862d9971144c80d0f67565a7dee6ee9b43c0e7b027159e5adfd799213b0344cad1a22d772bb23ad45a45814a30ed8d8c194a45fde9608382140a5beb302bc69e5fc0bc1ce7e2ece873b5e3ce8e2979cf550a9788354dbb6597dc50698b806fc05e39d37c5cd05cc1b43c85c777089d4a9e2fb6e43c7f7b56dd778c8a3440142323b40553c09b2c37e75931700788013ab7c63eb5e418414f07a72aa57f7170910611d54461cd03d12364feabe5f8e1be17f202df0a5e11127f1df69d58c1796eb883c0715a5e8c7379c72029e55eb7cae1dd0d737ae81ce6cba2a76d622b2f526cd7a275a5185f90dc2f2519db8723a6587821165289f4ea9f791892de584eb0436f8061e52d366a5428c3f8d38eb505d9e9e58fda16473a26d931708f136958e0852eb03f873795968addc6de33484ee0a1301ef4781ae19a9a3e9ef86e15a2e414b5ae792a6d20a930ea8f407a73d6405338334dda77faa433ca701812aaca5058fe051a0d6aa078176d48014ed56d55c0e3a3c936e2e0a8208a028e783a554368549461d5af2cc73b3e1791e1c0da65800f99ade8f1cd0ba2c9f1edca9d88fc6d3d0fd370cdd035cd9a280113f259ebee180c2dabc71a6582ecff57fce164665fd0f6af6e15f6cadab44002d24993ebb4f10ce49c10df661b7a74a16be20e38fda6b4f764a43fe59b5cac68d4fb9b86d11e649ebc46e25af8c949d562d54978b7366db58cdb1331c9372c246a56cc0f5699c5a363c1add27290898a332df5be35dbb0e49ba2a38e234a5604be4298216148dc872944ee59c9723918620e16da88e8b803464b531b0361685a98da8fe19c0fa349f73f21d71cca1b84a43bddeb87243feb7e934d301247af98f9ba8ff2441390c32ba983afb2d7c3467e06563a85e5b28d08b313726ef6c625fe0e11846b6441c45ab5808573219f0058c3298d352e2f2223196d93085412e4f7f1bc9bad6a820ca35e07d14530b0ed72f4ffbe85a1c404e4dfee5ea11107f6b23dded51a05f3fff708585edc339db01bf27107daeea7b0b589f6ba080ca23d13387f35c953bc455a858f843d65a36546f46ba026ed211da89ac5f83dc87ae36d1ce4be0e430ee54f18e7abddc3ad2339e6ce2a8f7c7e4a6fc91fedd47e28f22d4fca74402644dddfa16732773701534ff7fe4b1ea512e0bb18e3e37e8f477aa2b3db6b57d3eb1d7bef42008461ca0a074312d58f1a87295dba34a9289e19b07f3583635bdee4cc81a6349684cf2d3fb6982987b6d435ba8f06e07d1a8921cd64e88b1c974e8301f30ee0017da5de7b1e5d56b8de8c1b8aa5c0f2925e10e544f2aa9d1f093e26b225252daae7065b5177acc416676b537abd213d571d55feaeb2b92f2b8d3cc4aff6030599d1632b9a82ce863083fd30ab6e7b5175fc1cd213a1218d9859bc34d6bd7f84fa8ee1f14b6d0f1f314e8d25646f14e59b7613d7bc2bee00173898ec55bbb27e7a0a88e6cc142c756b37d17fdc8abdf909a9f888012af7938736c08dfb4bebd6d783d563b343b64369b3fc269d8cc9bafef3a4beae7065edba43c039c8a01ab59f420ec998bdba52f105edec934a6aacc0c30fc8d26e5ca567c25605572dee6298ae4329cee01a88438ea63a74906763f37b30ba17c168c10bcd4b2358a903988ebdd8db41019fba78b6103b43f55315768ae5f0343e54c430d953ff27b4b7aa26021ff08b5078c23463a42fe5d7ebc096a95051d48c3fdc44d37881b83fc4e44233b962e811186bb1cf8d26d7cbecc0aafa24fa568d2ace96620b4e7dedbefe9b156a85d04ee3cf3f02c602cd6bf1fc138e08f2a5c165854364f5dd2bf4265b8f0602d60e3643ea28c79ed78a0c4ecf08e6c1dfaa8befd809ffc8a27f22ef0861d20f57c5509ccbdcf39c450313ebcd95eb731d6cbcde3634095b4e2b2d667e75ce0303cf537b6d8dbc368e4cb28ddae71a7ba3b30675364a3af24d2f0faa02922290e9717ef5f9b45172916789088b46a374093e9752e638ea87dcc3180ccaf5eb5968058e38b73eb0ea7f70078c0826562ef4f53c3c2f739065e803be244347a8bd0aba2612b25e438cc865c1bfcb2b7aa685366cf2bc26fc2049cc4f596f7d8bb782f2211a4d35c3ff82c4b3a07773403db84299870101a4f9ac6488c1f79e9a9b00742300357b7e2fe5121799a3a03cec5d4e55b9f042711b8b75e0c73c24f153f823dc2f477dc1b7480180f74c0d00cb8fb612220980937b6191fa0e40d2088badc2185bbd31850a3dfabbf000fcbf85b947e7bf378797c81f6984e1b6b3d4baa7f3c4b5f4519c53182c695d719a9569ee61e3fe9d1cf691403303485b46385cc90fce013450cdf7548427dd76e6a1c341239844a5476b910647b0cc750a6b521e4d3c8469124d9d972cd9c5a2ad3b680a52e93f23af8559ec126ae99fce6bdd525fc6cfeb4c2ae06135a8acafdb6fd0a52e0908a7171763fa435950d81ed9553af93555974b372a71efa57db5aadfcf3a81fc7ab1e21dc7f91c1fe30b1667f03132e8141d1145034b9795bf1d44595e27f0eed0ed6682e0d9613ca431591f5416bd85d22e4577a410c1dde2ffcd43f9bc425aa9c06536f33a819630c119e2ee5ade725c99f4bdc45ebb3e722373bfd78b895c86177b1a4e6093ed517969b0b62117b4d41aee8dc1a8873e96510cecc2ca14c67868f4cb5528ba22744c4a182cc7355e3e9bf8967bcd556927c726d1c1d08328c0351f88925e48744452574c9f9e9c49e674f678725126e870d8321b2c9a769b855a47c16500adf0539dc6b6cae03a8e723827004494dc202bd4d555ab8adf3aece3bdbfc8907f35f32579cee05b7a65c1e0a3ac525d69fd1d8220e44314db98c3e0aa633299f6ff4dffcc5a7adc5cce1bb60a86f07dadb396db94e956cc9d9caaf13233941dc8770c1f151f54799a8c3b2aade99a3761169f855e9ee049965c50209633dd274cd40357c7b11f164b7284c2ecd51be2e6f3fbeeb69d48b85fa8bd75bc25a36e12e33b98a5cb15fa5b6d7a480b551466ad7434a43dbeb8489edbb6468262628b3147bd8ce33181ffec46927732e80048dfd6a08db00c7ff78fe32d18f20c34dafe66e83e0e975bb5e2a0a31d0de7e4c2665a0ba4385c24f99a77569c845f5cd7e1c902cdff287c2dfe0d3889e92fefefbcb550d5a8970ee08c173d24864ea3eb5397f6f180d0ae2a356935cb9b7f02e2e84617899cabbe6d5a363b658557d2f42c5a1763146f78f74ac545a1e4cf1e618ffefdaaad7f8cee7c8af1178ff3844a6935c2568ba77fe593333f77b1adb854abaa8a54947def36aa51c9f88fc68b41e47b0f678439cfd00e69f0c1d38e879b7bbc62184b86aad47c8fd73a4cdad7f0acc1d79f1a0593929be4c13b381e638f7f2cb505efd1bb48d1a2d75c2de8523437156628718fea733092c78e8ab001015af64716b150a6f8b1592bd585ad733e28ecc70eea846b2e9bb0ecaf812e67c51b5788857dd25f7e583ab823fd6dae506045ddbabe190f944662793b402855cbbdc19e2a9cefcd89ae49647b182cdcde55d61ae1e36224be187a283c08e50912f6f217b614193a15641df640b7b4af6408dd8ee455948948704d099cbb4ad33fffd1855c34956c04e133cddc0190a028205a2ba3964671cf15c170605af641acbbc6de07d4baf4b1bf026ece21c101ebc6323dc61dfd4e7b7a1d8317d62a732925f6d5b0748e5996aa4d0d07c95aee1f4ada5a96f2fc4b99d9cee060f5174ca0e3ed1a5eb86e9b55c0b4a59847ab3ada004d5ef85106740791f635ad74ca5d3289ef68102c81105369282bc0a6ee62ac7ad9b7cc91ecdbe62ee62ad25b26b4a284e69dfaa9646d3de9f634b32429ada8a37546a7ce84a85184c09b0909ac0f0b80856b4a27654a538566a9f727d5924d525587f99325d97e07d10a1f14e17a32df3fe00107df4080228725e2ba7427cd24b1bd90bf69f5532bfc6b026339bd3ce0b754f6b247bdad3ce2c08c3b491de3c2678028a0409da51c22b1e74b37450a42bee1df918b360633c82989fae2e1c4afd4fe9f29ec1469fec35cbf1d2f666a526631430b125f6294d8b77e1ab1c680770743238792205913d7f334f00a1056aefdd71221aecc9138406d7aae8bb261758d65cc0643069fc49ab857bfe5dfaba181cd7e4c2765536f575ad4caa134edcb24afca559e9aa1d4ed7f787ef3eac6fb96ee087ca577409db5f8da96e2414d202a8dbf7ebc4359fb32b2c6fe5dc3e825b26997d34320f0007ed376584ffa3d33600e07667679bd41095b861b3329806bf4e71cd84c1aa2de0b5f61b32eb786e0be87fab3a9cbf76fdd021309b87c9d9a23ac841bc971af216ae3005e26304ee94d9175e6430e185c5fa4385db1aa5fe20e4ed07b291622d2db5e346e099c4fa3065fba4817e975934e320e5748c3fa89a5dd1f3f88b535d571b28588716e26b3ec0fabca8c215d73f8fad121fe15123071740394a8e3eda31a9a6612babfdcc212d379c8d8abf12247803503708e24d9cb132085e58429bab975e42eb5bc2a700b06520692cfa4677cd2d3b9b5f84f0b27b6585267a2e8d657775d01c0af0597889a2429bc7ce18e8cd50f1ed6b4a83a395fe259e48d6eb3054b6efee8bb2d037b7671850d15bc04e226f12b26c0f5867524e26655ba41213f218a8be3cc16de311aee98537aa1134fc79aad2a951a512b29c9b9d6fc0cd20fabdd2b8670137ded46de6805325b6d1e43e84e360c9d96eccbd87febabd08b414fe9efa2304902c5d4df046c726d4173cbc521f87622220bd30d04531b101021f26742581664c62382d39166aa4c93dec870f66eff2252fddf66f58c943c38448a0ea009fcdde2d0a99c4cf401d1d1657c90bff149877fc86e4b143f297c7e8722b9bfd60b3ff358653b7812bdca06db20c1c8df639d5c1be6c4e72f20dba17bd0026aef29e8ef5646b7d845378c8b034ae6e24b7feda8538cb2c8a637e5728b81d398fc9c7db58db81675ffb02e3e031bbe9995d851d315336edb7cc815906144cf4881114e77329cb52f65503cfa156ed6c144d255164396725296a100bf09c1ba1272900fcf00e1b146e103bea6a5e20de402f10c0a6e058f123f35781c3bb228cae9f90a8229161d4378b62487982e28cb5e01c9cae73cf0810644883290027681373ca8bda45f91fb1537dcdcf92217449b30248982155465cd781be449af99e3fbeb0e1f5ce85732b06dc6bde0bd7f450f85efe697b658e6f1f1a29da0c3bc76fd45229c688933cb247c26f51fc79296ae269f2d5d0a9037b751a4e2e662cd633eb14a10d6984fcd70ebe673971c03f11018405d23f320163c8cc48092b8be7accd623ceabf74667b0f9fda6a57fee891ffbe94f1cccd6f0839e1f18be2bb30ffd21911458a92c83d635423e1b11a8192b612484413dc9e989acf9007c9566377d8fad6211cb0a6572361aada6be1f1f9beb4a75e82462335b85a72f66882b07b9ca67bd1564b0ae79fa970a2d7ae51fba57bca54120b2067022d17820351533d71e41239b3d74c82a9088de1e8ad6177963f91ba22f0a9c82d6d760d45242713ef175f3c0cdbfdc6870fdcd883c24977185d921ed7860cfcf629e21d7a643b4e97a846602612afa472594c184c37fbb975b763f5c1cc7e42f0dbfba6800331f4d9a1db225e813411dc02f64c50248a1227a5302481f38c499500009eebc5aed83cab05cf4a9665c8e41c1e801e7cab376b80fa56b067d80c95ee4f033c9173cf66c35a15ec57065fab498debf81bcc3a23e51d574d65b11f001e211452a66d887470da2cc8600f0256c5c4926cad35ab715d4389c05f89a4c37c67c696fa2580e27f24d53a008a31abee7c0f73cf3b09be22ad9baea6e3c067f0cf9fdf33f725c6f8ceb53a7f7f7e9ee928c390fed35420d23edaa9345659fa7dd9dc71022a9f573b8c97a20e58b9360714d0524790c865dd7693cb5eb52e438acc3926e3fe575502e1a4e933dc7e87327265b901a6faa6e15dabd5e649cb9357f72c2b78caeaad11ddf9ec3126e9750fbfba8e6896ec8f999be3fee01d4500eb862a3e9fc123c8a1f0174cb44d647d5bd7de005cf225cd813b5e49cb760231459844d0ea11de328de4136634e43574ab8e3d1a6550e7a2e9f7f812bbfc1cea9e7521726f7c2f295cfff9cdf74cca80841ba8d4190fc94afb6db4ca56a3bf075e6224300d5f78e1cbb2e48810751c7d97ea780da4361de72e9fc32d8c7ca241d913bd97516f1f3dda2bd684c636c09794fe07e6f354fe858ea225c43a075695f664a4870f661580a95171455e0fc4f539358cbc808fff355d4c314959e2f2f95c0b0af8460b95eef13bea113adb54921e65890afbf99c658aac8676c349caf4852671462e8cbf1396d7b85f9e16a53ab7495d7a681f4a1381747bb4cd5743812cf4f68259326031812a56a0fe72f6c05439a363ed62f62244ff06dafb31f4ff1902fb636628dde717c83a04fd605380274948990920fade9c922124055971e4f111c584759384fad4878d8b3e4e9bda43de03a41fe942a0ae695ec98f7bd319bd83ad895a43eef909ee983d45cbe2daee4125521410e6e18bede3540cc6a9cf6d5faec88572ca22fe0cbc8175038f0fd9ab786e748622827e8e3db70de2a87a8b858623866bc819d4a374937adc2e3cd11f24b3adffdd91ef717dcd00dbe6738c2b2424c7392a09984279b4874579fa9f2e615573a69c673fc76a3fd6bf61d2627ad05bac179446eac3ab86c0c11fd305d6860dc118c3432c077093292467dff5ebce245e6789fb6a633de6544f26ed8d228b25e7f863fd58a830ae2765d6f1248a1e5194a3f49d4c26c9b7d88b6444d023747d05aa66ae938b5220b19f2dcb403f16382aa9e06b974bbc50eea535e27fae47cf22e21536e832fb1a888594e2b0551552896e29f4d96c825dad3d91383719b8cf91d68b031ec01c46796be89ed9d3e811acc89b4c293f17120ffbb5a61fa37a4fbb4ee9c323e87eaf4739f50d303aa0fa4deefc63ba98f74e65ee72894063a2369ea6d1765208ee90a540fb693356bb20f75b75a9b8b69c6750535986b16f0d3a1bac7be74640fdd60306d7a96dd87c06fdacfcf3f40c27612d8f9d83211e6d478f603f64e3f46a876d14015fb4f112bda5596df88f4a6925ed3bf2731832872345a168c62d941bbbc6475e6bb9402313626f6b4755979a758f3f5a6a7d864c3acfcb949e52b0ccd874beb9ae21cd89038b379a89d0773e9d7ef54f8bf428e6c8a37cd9ffc76f120cb366d42148f79c01c008d6754ccc2bf7170b7118e41c2a63b86f3ffca54db158c5939022c764078ffac12a83a390026b07cf44ba4316a4882c37a57cae375032ca19e5e08100dee8ba4d61e59c997dc37f539bc42a99595a2dcca9ea249c8fd758d41b41c25dced301273c5f8dd3c135d3997d558d2ec99579e6aee5d8093997e07ff465e81a92c6686e939239b2887b2cee3a5375cc1e774e36c882dc75cc5033f7ee5b1b18ed8d90c1334f7ffe92982c037628834b541cad9667d9b79e69bf340203e64996f20981636c2e686954f134949f23b503cb5be83eabd85b04bd33976b98397b5d590ccd8740ba5f5bead6b737e3b1ffc38b0d63b2302ede6d8204eabbb4c02a1e7bb37e891e6a34d0d3fb25527777c7f8ea8c899f8d8097177e5a389ab133de56347848b93a3744e020d8b23c2b7cff647ab07cd228d07856a36bc63024a469d94b506edd2e5aa5da03d033292853c55c338048088d594c29782a56fa3891a749fb8b03b0c3612608b846cb5d1eb76dcf9cb49bac00f2c1ca2282c99967f2db2b58e9ab6cda1089030befeba3d36d9443f95d619eef09d3530f9f92fbf997d70ce50e6de062fe7266154cc517958ffa6163a3d7eafad6f5b184178cac557f4af3fc0901be816a9c9f58ced17abd582d9c0ff650ef42b8e7f1c62e8caca175c4caa3003c797782daa65862ae66cafcd2b2486b93a2341de585ef04396148d6cc43ffa7d0690335c07387aede822cfcc8b4ef3088d16d25f96cfc742b10f13e8f8bb1dc5cdceff8e9a56f936bf6990590f4fe75b7831433651fa011c6d36c82fb9670299115f54482e1a9fd86bc43c13f019671a8d0c1395de7df08e9e9e8546c66d298b461f1fe08d02e7df1cd0309f18e9213b5e83c55a5cd68a67e13c23bfd1290e18daaf5413012a457d2f794c7d8835065278eb37e8f49802c0fc2f593e229e315d2c876fa736fb9aaf16a7a655da74198567f88e9bb987c2eed4360c9fd203a2a0e060d3f76590e2adfa742a1d56aec0b0ce185caecf95deb2620ecde15912c9ab901f325ca52a6f533ee99258531e91d2ab2dad5c0a07c91958b989c2399c39543eed26cd9d4e019b90328c0355f09eb0c16f77481a2d9a920187df8bad711f47ff3c59a9d499e698dfb7e687930f233b48fd014e9a2af1ed0f00988c82b7fac6d18927afdb933a68a270d7ec63497f0d750b8e64f782a414a21dcfc0114c0750960729f8d92fceb1f7aa8c1f1f6f65711d669c4c06da1e08eee01720e95408c5efd5e7df3d2f4a060f23456924f1d6d81175719daa22314e3b7ba91d9f21796a484d8050c5268f28552677e7c7f54ac64628b88b8cd6325bfa85e47dd2b5c7da3a0b3f1f55d30a252c0fb2ea86f2afcdc4df8bbe9f0cb4b17097cd3bd18b41441501de40588c404252a6c7e90022f9b3030e805e6526d1bd13d849af2454fbbb2382accb56420e78d3ddcb7b699f8f565bd4a6fd39a414bc5dbb5edf58f30212972d780c72df04c9d7b4544c1423ded2cc49b02d1ac320170fb2c15c81508455a9eadb5bca8938e2702c51773ee5456dd7201064e6108b198992745d93bbc6c54d37dcfd53084f34198eb1a3a21f638c1910c33ff6509210afa1772cf2bca9f2d1c070d36c12ac004a0b1189dc739dfcb2ec517d3d328e154d1fb0e16be1e963c8b51acd555dec46d3d45ae9a8e1c7b135296185122aec01ade84284cb8c3973e4b606a9f41e529f055db11d451308fad620988dcea2800d94d634183eacd24994fecab65","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
