<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"663325c86df26b8f1b0531b6789f8a3e51ade71f196c4da5d52aafab534dbf8b99c2e592719b004500e02d635a8d4e8f10bfe7c4048f3fd99a9561bb1e07165184cbd5ad70d2de67de87af64022884e9d575409fcc788d26244b07503725108360d82fd1455791436ddfc6b9c96913b459c83478828830bfdb1600f4c9eda566d096fc9a1a41ee1f5a8ae025d1b4766c74097f8e0d0104e51c8bcdb27990f96d884686d86715fb3efb20d5720ef5e9db5ff3fa47cafced729914a71da081ca1fba4b0f04d917ab171868142cd22110759317e410bdc7e049c0e506a90a18f3b81250a4064b657306ff9bd7d995e3fe78c2a255a70344dcc81f3456dfca9608f1e0c1731e00fc58440720f3784ca326ca7b6a91da41135f4d04ba835937d0d2f06b43fd497bbd84bd8054f96eac2f5bbfe69d6c622a5042059879a694f5a4bf078cec0d9827df74e8c06cdef4ce582a87607f9893b5a6767528a1cc8a045b00f2b500f45570b6ef028d22cce865d38b8a90e9566482b46a349de4e184c65e9c461e066329fe2b884c54943d77f6bb678664b54388b726e3d7d7d873646a1d9160126567ee476a8140ff115cbe69291616029c0d83dfe1a277ec941b3fd9d93a50e87d7e235d214e0f6dc38a7a17fe92d1607d8ff824dedc74304436e61f59a5babc6f478485e123d7a488ac8ea33db33d188efcd6fc0ce88f0cca5b7b959a06088fa194cc8d560c30f0a7d659ee8acf8275f836abe66641adcc78519c3a39f1de2d99fa889e7f8a26f225245fcc9af701966e857aa0fa39585cd45978ca939cf6f271bb6a09d254cd2a692d7e3115ff4f944e95babc23af9f5df2ad8ad561a8d7942c14cca61d4e15362afa5b6c30959c28d192b59f4671b49efcc6587c407c5ab1a07a7f59ed29c49755cae8d499ec2e39e5cf47cfa5b9d43635d3fc2434779d5c2ed91259272c7259935824a86bfbc62f12922efa5caf90fb7851ffcb7adce393d674ee62e6ec2ef7acdc4562019dfeed0d5d8e1059d21fe31a68c6c84b93abbf0fe025445940c235f8a90d247530a43d5e0de4c8759f4ce5fbcf6333d548a8aa103e41d7074ad3e39bd4e4e162b4d0a0a4599581a75b272daf304aeafcfe5e9667d3cb7a9737acfa5502479c2041f49c334b9a0bef9c5bd9eb3700baee4bb578c9b4bba94c9bbc613e6c2c6917702874186edbe6ea2aad8c141e4a70728738626b4addd2a1b1074b6fc147a32a12554127979c19b793dfb05e163c04e0977ef2deb48e406aa5e0c52f5eda3843d1980d67853bf3fa7dc8ba0899598f304290376fcb18e998465c034e5ec8935e82ce28ebddb3f8aa5ae759969015a388a651a5b083cd4b62e33b8448942b2a7785f5133c95de6ec04a55773a9f37b3fc23dd2e6223c8fac2e538f1e1f468ad05e120806d3b2185ddc883786c02977d936a320124abfc0a416a383941233fb8106116b79e1e4b2fe94c5bc686a772ac6338f44d99e5d2ca9d4e9f836d1c0ed6e646103567a416dcfea792db31fa399db7a5b262a79660f22954f1578277dc5e4278d816aea1dd1f4c8291acf7ae8c1676a400b585398bdbe6d856ff9750bfd00755207d81eaea0fa25b9baee93d6fc11ab0b7466a1c4a5e8fa3081dda43bb68094164f4f0b5928b31bd5b3cc363c1c9b100b81e132d7a0d6baf953b44672425e89bca0fa58faf858cbc309886cb3287774447fed5027e4adbcd878ed13d97323b5ccd0e79e0514f71567088639e0f228822f68776be9012df40e6b7c244008b99ac8d982e0e571efb061823c314f51d666695fc023f8201452e840afdbb84d31a1e2242f12413e53d60533d648da670e1c832ca07a4d8a3f0b2c1992b9e37166c31988bd4ed27e0db8054da7edb9a40b5eee2ac58ee848562cf737b58b54e3534ca9caf61b8072b2b15001916587239506d30daa5caa2775eb4472a1c59dbd78f4fcc7b5d1ada31fee9130c9d67fea40e495424362a2594776f7e7287a0e0f74f4dbae4734fd8e6fd99cf27f26d9d43ce260e149a89887049b372df0ee8662807264ea302b6ec07334bdfb9ed1efcd9d924e4585dc60a19de0e9b64457f2b65deb0a0f6e124b7356cab174c29f83270abe2ca8d3d984e3afd9368b39230e41383c2c0cfd5f8502bea9544ec5fdf9459ea966a80f8dc905b844e176c9b26ea3cf2cfcd4bbd37afe68797a4218aef7d25df1e497a2d98db18acc69ba8c59ad35d4103b24ff237b7a64cd4544d77452c586bb889a6fa61132b43c258f673f7b0c4844b0d40d00ca0eee44ec67a6571629d559bcedb153b40410f975857168d4d045de4508583893f68530bd62405e475bf735a9741de3537a402ffbb83c94847422a5ec57a9a7e6422a2c53130431305b55ccfe1b6fb85aaf3f09362c99eb748bc434747034a7648d82a1af1728bd4782f2521971ef60709b7b7529f7fb78d20e21f2287c73345a961303b8bf7465c5b08cbe07c321f36ab19faa5b0053dbfd1986aa98caa423d08ead234d577e6aa9182b716ab00e800fcd5158c5ebb86db940264e55540af8989113536ae65cf2ec9a4a0d1ddf4b18199f8c84aabef7fee4c128d9ca1589edab1afb52c5290a8afa013166b6cb77507d09534415c9331b47b8a84e3af996b1ece324a8d504b73d52c6a1b92f02135f1ca68e25fe8d1446f4f0fdfb739f5f82e4894c605f2c505256f335e09149180bbdf0e520fe43c6b0a780f793711ebbd08cd14f2ada03a6b13805704f29190581d21f47ce53b68db97b1f9a0904e678c8e1deeba154729f96b0d992b6126035072c72cb8ede414595da1fc23e3785fc71f3f9565c119bb3811dda9039b64e69fdfd51cbf67ffcca36ea3901244aea4dda7d720bc67198bc432a80ca0e223896e0993ce43634ee28c08af18f20953b57608503256e2f338f61a26195467cdac8c14e5255939d6a81ad73755dae070ab5a49bbeb0b4ce1f2fb078fbe6783fd20efc0b8afbfb1e671b4348deacfb0c78ef0dc22659cb9ec3c75fce4c84de2596bb52b3df400e2908036f45ff6d7c922ff900bead210a9214a5b1bed255bd99ff28ca6d8e418bf4e628e4f6ff7a96653e3b9bf293dabe47b22939467ca5599c87228b9f2d6dde7414059f5336e824301355e0e4e585babc41c3f4fa5df8258b66f75bad0139a283d12747d2a7b27855ca3a16f2feef530d13ab268acb6ebff42f29f56a4e5ee3e4b4acec99c24b70abf675a8150f764cf0b0758f541dbadc61f3d214852b0ba42fabe4dcbd5e2be7ceedca63b48b61792409bfffe3997fbc577918e564a29884772f6fa449b787a20a91f625235a2123af7714eae3165a37bb585cf06cc56492698edb31b458ea55a5962a1ffb7457b37610d5c88db79d92608e6c0016445febaf6332dbad9f3481321cf912e03f30d0288a38510c03991883f9f7e3af837e258dc3e5723618b4f5e2586fca0496569611a2bb98ee99a272c3e221f8bf4d742d16358abdef02d6e4cb67f9181ab8443d891c3af386a6b6a7073899a94ed1e6740e6f45b8d7c8abf13e6a1ebc4d8a0d0128db490180a51f6c87ca857fb9c4e3908762009a305de8e8388badb087769f649e980800605fc405fb8aa66b9c031101013403dc8f7ca804a6090c58d30ffe3398116c50a7f24c81ede8215f8593218b833e6d4ad3137d8c4ffc75c5ea601f0e711ef1f3a50de3f3285157696cb63fef3e2f6859ac325b2bcc22fe25f497645e781e866efe506ced1db3ac9287d5ae0df63acc2f554bbfa555f86c44e4825a6a5addc8eb048f6d85c599cb2e515be61790223284658d6ac60175bdfc0c2e43de265b9dbc1eb491645495cefa37fec557e4b12bea5140579db96a645a42c12dc8e11562ab1d2c6a47673ae36e8644a5b1f40171f456f5e8d7961366287fddb7db14aa3a8a9082465def28fbd1d046be7c8910bf212f7295ebccddd1dca5f39df36d2b581e5120c1a8d203bdd5faa2aa0e78ae5e4cda488aff8daafbb64c3de57c3e4d6cc2abc5a24dfdd63a71a2ad3018e2b68d57861ce1cd71498bf9c0923c354f3867c0b406adec288639e0eaf6a511d8ebce9d5bcdb87673bcd8ce6a0c5b9b5e25a938d1efa9b125862cdea24d0b2fec88146e692ec2406d3e71320ce33c4210f0a7591542aa66ea958a4cc4a2908c46a95110d99de738c7be434d773f1708e160e948b4687ed75044993f7ce424c30db170373d76120bcaa8993da74efc6b81a25af3fbdbf526511d5f8ba0ab60babca0d680670bf06fa64f3fc6f9cc300d4c41c489e40e45c85425fa7d8e8efe4c816df69eb69061e17123c8667843e27dc9bb1f9d221b3a1ffe9dfd68e6ecfc287cf7ab9f6e2c2222d8bc1f830d9dff9ade777b1d4c329ab37daa840e04e9a710348725c7795c2053bf364868685d2987791deb088e6d35177490e31a17b82c1aea71f5bc70ab4e87c8417f101d375db75a5ebeee3b9e9a56f80a36b85bd8d067c9ddb8d952e807eb18b85d81c63955695401e2886a0691daf53df981dacdfb645a589b1ec52ed0b406943b75fbd22536a5dc8cb7c7271575621f3f0c07fb3aae42e40d5eb88e3a9130c5798393f55cd538c81190e1b7a58994e5e06c79a4ed22548b7819c8f73999c058b6d694ac2cb697d8d0d72a9c1fd67b328b54fb685cc9ac147d95dcdc1ed68ed6dfe63adec798458d038403950e50a47fa73b977214e5d772e20444e5a414e31014897e2e1dd1fb7ac3bd124325450ba12f45ea549b77f8f31234a9effb1efb6479c4ab08439bc75694da69597403c6346f55fb4465608f257ea0fa7fed8a09d4fe9b1d80abfb8294b98a9cf07ad159fb03a603360b9d0ccc4932127257b80b1fc1caa69979fda5c67444078e073cf0f0f4f1e779110d25a78431ad4ebc4dd99c86d1b1adca0a26c9845ed015961026be9937f6a6d1b15664e93aead2362a232aed449800c16dcdec06544b08f8f787b22d1a26700109ee405eec41b07278ca55cf444b6150d947ca503d7bda2fd78fd5d5fee6686ef08dc92bf5c966b4e382756873f3ef8c0cd9e30d9d62f633188ad97fcf62e47b8e4a8f8fa23b39466f15f176f4c95b9f6a4f8ef4a3eac422039be2666b44abf2f86bbf5523c2e2e43e4cf5b6295050f3be08d6fcf6396de22384412f4be86a46fe8c34251226eeea27903b5bf4cd53b0a4c3c3ce76688cc738301b407809f18db2173d28588f769515c27c76a9799dfc50c05d2595f6e304b7f57b71d0e4df2d8a5b1c1de4a5e3b6e69005de0ac9840756c9b2074af91a1e7f84431946afaa86f57a8e17a4eca712d4b1b13f4e2b23a97fc79827cbeb14bbe11c12cffde9c8ae542276e53a617bdd9dd864a58dea97767839d7e8b15aab0c0aea86d8aca92a92387ad37e0c46d68a9cbe687af50fb4fbdf61f0624c1ae210491d295d949a0a56148dce2542c1d958b0511c534af4ccc47e99124a4dad011f087b7e55a2ab0ef7ee8b32b7a8c20ea28bd01e420f3b408977b7bc674ae67f1941d589f3cfdd61e4df54bd034066a07f5f7fd514ebd7bdbd9fea01df65d5d424082bc55e588a21650f2a68a757c82b3e91180f47a9ba15576d104451b7aa4c7a0f3ef6262b035d16b0ff0d3f02d275e70bfcc63b91bdd2c6ff2f108a4ae13b2c9b37a650b51bfabd93457c02c85337dd58b08202d38fbc91bfd7d92cfe7e7b569ca6b56dfc9de9fbf6300a9dfa8488ba8aeca34690c61a891ff6ea54e237504c2c18e66947cf86667e44a7fc804781ac54dbea1ec4ae59c0f360237d70f06f10d30793361fcdcff8e1ad31463d1c428f4431f88cd47288ba232de419b39253345ce9be6059b04b56c9bb7151387bd94c9c5fd6f364b4e165b4cb8af63f4b9175ad55ac12cd75d28ee6c259988f012e2369b407d2f128a823dcae40a5eac24c37a0194dfe217c6979c622eb41078a4e52e23492f50b3cac8487d5cf2638e5c509ce4e30c91e202141465f63d7f08cf76df0661842b9989c10cb8cf31c44672e88ddcd5ce2ebe870aa4f752c68d8112195164a0b6d785a8f9f5303ae8081d89676bd7447b20329ab57dbe3683d04fa72692107e5f244c2d453dde740c64a1b2ae70f8d757cef27c55a77b6766c8d5bc76782a26f6db52af786a83f9458ce75129787c729c050d673cb08efa8ecc639672d4078581fb9bc2a4f2f90ba930451e214280d4625b9abe68d2d2657ddf4f65e6830050e6394baf4cba540c9ab9f69ce62aff44ac1a1ed5d0f0ef106a8c58efb0b31dcada9d8e5e607f545bbf1fe4e1e4c774c6e92de4a2c58957692d2495c7e085e8134a941f1978d5c2512db91ea001fd5adc4dded5823c7d1a4af4725f2f236e61233a7edcb793d87f7a31e62ca895173ad36d6b526d3e76b89228cef16ef84ed6b9119fff689cb75d2b81bd12c6b3754776cd6f88c5f40c0b0c6cff1d44ce17a4d1faa954c38040193a59e2c3913652d5e1fa5f0440ac305975149a15a265bce3963cc8ca8f92917cee2ff62bdb49a3cc3cf2a9f691b76ea775a1acda0e5d72d11469f8669fadcf1fb78cb76e397d42892be34318ddb9ea597c17a497b2773d195763bd05f7e65bfece7a3c6a24725c2a492752d553b068b1db40fd933601206540e5d704f445a5c708a4418fa5f2426375bc26b37cd5bba400784ebeeefcdccd3d5edfeab8c4c5533e8da84a5bcbd97fbc0527a6bf755aac003e3bb181f0c81683d2c5caebe7647d15fc56807e90a82c03a7207d5f08a66efe89a43c010e2fe45b06f150cb980e5ef9ce9a51fe0c749cb61403d8038bc7e21161c2d77a7bf48e677143987981070c826e1cb5eff516c566dabb1dbb4ec14267d22b6923dd8b82fd59f0a9c6b4392ecb4c5b817ef2acf14915813e6b0ba872d558ed5f00f01bf29ca295c71755eb0a0a2705c62a352c27dbe513b74b810f1e80823fe6bb389ff3949e3f0dc089a842e02ec73626b959c8f83c1c5cdc30922014981c57290fede528467b84a83d0c083d3cd5e98b623257f4d9b9ed43a93d05d1b564923bfb75e62c387bdb035bb1e39d74739250cac760252886bb1d72243be776e7fb546293627e81a2602f8d95513e30cdf74832204c2604a912b0183ba7eb23a19c32055746544cf2149d07077ec11bb832401e86751757d3a8b100caae9609acfd00af2a6d845ff2753ecfd67f1e6aa442512a44ae49ae2f338a985590f4be184bb695c0c6f127eabd1e8e7027370bc1528e3fb49b5d76c3fbdbfe8b47b326f8c9e172f27b5fbc2b0422c51329dfe991a02c2ccac7a4a0187aca7ea9d2a6d2b0c05e11b204cb0b62cba514aa7abe9a1c097959500e72cd85735d8b028e8385a78629b81aaa48797d9a408dca5d2ba628dbeb561983cc5803d3772e0240e8a968a24861136650ea08457b422d4a8cf3c50151dd99cee3081702331b4a047da2bbcf9805cd64500346fe429b95f15ed679b08d232cc8db078fed9d7f5384aa7b127006f059ba5015f6fe55719e2f95e81feab74e755fb5cb27343062ee267dde85883fa37b892ea776405809a85aea2b42f5cc930963414efa4afa2a21ecb773c44cae8467902926ceee7e3dec54e130cdbf43db700014a925f4e1bc09ca9ea601af592394c5d0fe45f0ab45d32ea99c541a9bca7604aece458006386ada12b282e4b41f7f8b17e9cba4cbd273eb9ea047524e30f6bcf9eca160ea59c7b70bc0fe8fa4aa8a15d53daa4596155b4c870a45e21549f6f3725e404d282862fc1c1454ff42a834f546ce8b084218fc4b7a25883741a121eee1211763bcbf813dbb2e46bf6097b3bced72bf1aa1a6a80a98bb7e60a51717f8ba4841cddf182ead2179c594f9d116aab68303945413b7e6f60daa9532d7bdbe6adcaf988bbcbd15741722ce78bdab1bb02a1a0986678a3a3f2821396780ebbb84911615e398e6c48d2ead0fca26eb61316ac006c7bfa2854cd80184bdfe6fdf27128344c949d8f3a743d59406d474f9943331374f3bcda173b53f8ac382a63c30bed2980b738b2eb4c35117082853a45c2a9d56363d78f4596ced9c73700b4ef4b212eec2bd50995360649d520f50b7444ebd603368ed3934f62309cb60fc37cf1e5e0aaf7bb159e7f1e44a45cb7b694f263d096fb0c7945993ed85dfddace9f7fe4261f732a4718fd66d2a301f6ac3977ae59e176cbb2a5707688b77ad9348466926762fcc922a921fae77ba7b27eae03f664dec471bcb5d588400af6ee8ef3026f9ee72a02e5f21dda1ed900222f925f0d9a44e04b3bd693682e66df94f7ca0f9c6c128ee4d1f0f5251af2e6cf215b559cbfc7dfa4e1e683ab01b57ae3f697526ca33332b217c14768738158a4063ba9dac87e27ccf8525d7f9cb530a745321629704949270bda412a706f54b7fdf4f0af20e4afcba60d9e560967a504ca509eed710dad54df5e9b698466d9a7a8b97cd8329b982bfd40ad821184316c57f0cd33d217bcda2682966abeb08026098dd87b32bd0581b45ab8b61cd321cacf798608e42ab67079aa619f5a124c60bd2e5d8168811cf47a1080b83de6dbdecaf20c41aad1fb7b3e8e12742a2055c171316a5d65c52967cc7949d8edbad7238331c0854300d3f700bbf259d1f8f9785f6a26866acec0eaaabffd6cf9ba52255fd8c1d4440700019ffa00ab713a03c56be1bb48ba03156f1a6c512fabeb06bc952719f4032d85478743b46fdc7d0291d6ac6ddd402952f70482cb2f949cf295785541f2bb618acd1d863084cf9d150d032b6e5fb7fd27816b977e35843b80990e212da7d30fdfc853b2970cd3a6fbd1db880b1c8e4cf76f305d764569d68901a63c3b662cb6bb79e33babdcb261835efd9086ba5efafbc2d07a84b500eebaff525f6964bf7dd8e57208c98b8a36e13539529961b0cde294489f9c51f1e6fdb15ccbedd078cae2e36537f07ba1433b31036126945f54cd3d4747fb6c45f0577d4ef7f9274976709f38a91f8e0505192f55e1c422bd725c427baeff869beb6599a1710b7156d76637578e938ef986675a2cfc9f6deac6343979ec1b87be26084fc55c725824374695ab6da99c2bb2c0fa7924494a06ef9bf251716fd5a3989dbacbd394e3e91247b8ab8b9368270ae75e5a11b6c6cb626565b6196141491a05e504ba052abbad90028f62d99a93b60e5ee0cd3558ba207de06aea19f3207c6cdaed0593a242dfd58479a7e1b9ff580553f42553daec191b0140c61771b34cf085642aa969c36c2c47e2488f94a7524db6ccba3e5d1b16ffffabf25e5083bfabd506e45b6fa667675af1e4d27e897f9b8dd95ab24a6f18ccaa9bb0c3fe36d2a84bce1127d5f7a0ae85b29f27f88e56fac147339d634954452b915419412c81b101fce92bed284c145f10bcc0a409b001bc7148b1dd9c5af07c159be267b9ef00b2178442309f9a69405e1da8f2ab3e5a1bf44c00aefe555b24cd15fff51b2e5298aa652d6828b3099ad8a332c90de4354edc034709076a293a38044bba0c8a4c5295743d452cf61b20bc15904d6ec9479c971513eddf6b666077d79c79522f4cb381c995fd849eeb05d83ca0e4d6472941a2a49cfba5db3bd88e38c5cde92da6f015f225941405026b2b2408576b04e124b4b58ac47d0c44116615f2ccfdcc047ca3b48b40c5a56b38f2a129d6fc50e3e3ba8ee74f747b01f6ecc30fc17cd476ab18b89b476900330384038953597b77d56b69639176ab8ce19b8b3100de27357b2a8f999b63a444f77452b463b5a16aa8e2d7582373ba7c2a56a18586dfa42b6e082e9bb3c92eda193426843576bbb8c3df0fa2e50a1874ef01a20c30d923d1ec67c3c7e9547dd727d1ec66d67fd54410822e640bd6ea6be00800ffd54f583f996870f3874545b19aa552d864597e9255f6b57133b30326f4fbb46ac84c858dfb52e8df9530cdd228f207029d47eda6fb26b54b54ea834995fb9514a44e65148c116671b4b333a0233f45b6f22e3f20eb265d04ece31a7049db84bd5ba474228c32835c37039a12cdd6f43913d52b6ea57a58c2a913462455a1f5951e8dc5697d12f3e9b7007ebd3e037df8c7a468c8bb333b89a4cbac86cc3cc5816d4e4d72e5c4292a451d7f7b2ab7fa440bc90420db91d2a6484830e516adcdae16bb07ae8ea4ce8d386b5fe1d685b83db28a3011ee82f93fe46bf0a91d379514a14604545ad7d832b23579efa5d6283bdb52c83ed2620186dcb8857e237129e0647a54520ca50cdded464beae5b0464abed332b770b140acd8401f36690e5f3233c88c3fd2ee39b70501bd3cbcdba94abc42516fa5c924ee4910a7c1f6a86b4b890a604e5bf424339ac5c762bb02d3caa669eda606a475d965539a2abb03f6c12b5b464a3e51b5dc735d592b98d0c8ea8941ef7a6c9f7d9ef9fdbedc851189bce19638b9a795481ff3f2ce392b31372d3ff0a396fffe00d4134dd615781a3e577ab90131ea594cdf8ece8c9d05ced0f42d27d4ba7f223446e534821fb4f2ce46fb573a2876fa55b0d3e41ecef49d750813b395795698a54c174ac2dde72b734333adb07552fd947b21bce20d44193701acb55f36bddeccc0e25bc2cabc2d7b0045d1744578a1d6acc65feae5bf3fe80204eb0bdcaa6fe071dcf9012433e39f9ba9027bc9c2346d6526062f05df52974f516cee6c2ca35b5defe6ced3a52a0f83881ed398488474a610124a3a65b320a9bae8a597255f18a1c6c02a825ede135f8a03486991b06d2cb57bd46e5289a9a49ce2966be83ef55180041a366ec2777889ac0ef8ebeb451ed2e5515e7e419720983dc3569e4e0910f353bc8e4a79554c4b1c59a2c6dd866508e09a4ba056e2d588c5b43654605ef8ad4989731197745d052b564a8bbb1ce2802451c2321ae5f06f930f3dcbd2c61555fc5a3e0e84a9551be8891e30561ba395f2e074f96b1917d0aab1222f29ed4933f4472f7d907299068df7f0350b4afd7b0509216d8e0181b94776c937538d07a9a1548d73a8677c734f67804b8398d27e33e96c8262c3bba1cc56e40300e2735fe16924c5bf02a7004dce3936a00064bef6fed6cf0b72491e3e2fc4f459bb7f957d33916073e68b954c8d5095f993b8ed55f90b4f06e592c9026db4f2e1ca11693f11e16586388cba45d71e0537280bb863d524bc1cde501f95a6ecb4ff9dea9f74f290b545f66c5ca517259d52db729495b2b3031e700dba88119f45f1bbcb3140170fae0340a468db955d7749174110438c482312c69622d371a80918d08b1c318b749d6dc52dd7cbcd0233dd03747832041ca8029d0dca62ae69a2aa0263aa95ec4e38e6505c20d0ab1481a4486874478217e033b140e72816db5a1e12b6b326ef22708f12b8a7521439316fcef8be75e06d5318a3077fbe57b1a2c7982e6a844acdb965678a0ec90b869a51aa82f9095c943f9fa378ea24bf1a3eef116fa8836b3487390106d4e6f698577f1d470f4549df8b4e9061fe77afde2e32e87913f353effea1e209061707fc84d8f723ca5729d2476139b26875569d7822153c6cc85ff647da7b316fc400c7621c77236ae49db14d784399e97eb51a117fdae9a11105942bd349e52f0012c1ce440b3917c012abe0772ce7f59d16ca6c6be24b2243875b556192cda070342e5eb650a1342365e17b33069f9ea817a718634026eef3967df9bb644dcc4780c259450ef571d490c8c74539bbf454534102ff223b2fefd6660240109779f31463be29a5e75a83af036921d54aa543fd3097fcd9ba665d0dd5c6f4f347f3eb9885fc67d3ca5f71ce0bcb9357746bf593db7352816c98c4d8d2e727583df4fdeca180da5a8ccb0dd2423895aed326044db08c47e4be81ad08ac5ac6b018144839b982ab1ace7471e5f18c5b4c8093fae5fa45391160a4567b31ef8c5dbdb1ad21e6544fc8df31236de7a8f1a3bed9b65d66cddfaabaeb55eccd1752ad36093a0909140429f8ffb2b0d31f3ec605ad36606d738d000723532a1df8cb785d5bfb9cfac2d6b63a64300d45ac56c72489fe5f0e72df66e8a9ed60da5883c0555004d794f2fdd7089f3af5e2e58af8d32a80a11db84fef7ba9964a1f7780d93f1bbd893db0e2674b661bd8805b2544479f1541865f1165d808a5c14c3aaee0755f0abe7e6e0d2932b4064a47b518c940cf8df1b8dee623f3d42ae57f1b06bccbe9f264406886321ef64781ec4ecb67d4c5832cf61e694cafbc089b616ce645e0892925f88c5c46350afb80229971a003f493873975d38c96ef4391ce947208ad8cb0c347bdaa112c02b86cbd9c5c2e53462022e07fe71252e30844bc64dec8dae4cb7acbf24ff76cee11acae8638f96df23f4b9384849113e78493bc1ebf98bf0e6921833e180d78eecf6bc0cf58c7db6bb3fcaf5de6b27da2f5dc6199155deb1c61c7e340a744c95f5aced787ac5ea2f8d785d4ee8e50ec069806e5955e2598dc3432585fd30ba417d0296d8cee41ba2c498c1115e5f94626af95a1b26c21f3d83b09e249a6ba2578e0773b09057acf15c7b527df8542852b6f6f0d583952174f61075248c3194ef2b7e426062b20ae2f15dc508209d0bf4d331ce33b9c5747bf71ea3e804f59262daceed565da9c03969dc2ba5d23f961d46a3ebbc6e2ee36b037efc6328a35dfe477197a50ce6b0198f77184a8d335ebdf07cdb917a50b9558f862e6c787c8ca8ff878318b0bfda03d1fa0d2a58c530e067137b7d0da5a12c3db2d2cf5ea0353e770c3d4dc88f90eb43c6e6a737a6c23ed6be8eab362a294cfe0e44fda2e2ff9e4b96fff9a4502eef523d80b5a0225a4d6ec6e094ed6f6c277d1bfb7339b6ee70822528006391f9402a308dc9dc734e819a64d102c9e2ad60ca7cdf8ca60f5f4535d7ed2af1cf43dc557974a675f84de127719db95f84f10168238df0a12fb2070efe0bef060340495861777d874763f007c4b574fad12cf879cd48ff15ca52dccc7a92e309f4c78922a40beef8b08641affe2e5c51b79d0d68ba955d11c38e1289c459234a0dc73d8b2da09f2592ac9659cb278dc9d7bb8f233608ab8dccf7e366a98e2a2b08679a91f00391661bd38ad33ab7e9286e921bb89dc240b6fb2f23da875680256b6ae9e44cca448a505476e04aed8e7a610b04b6b10d3b175b073f1a1b6e90046ac4b6e54da6c95f59a0a72c61a140e01f0a96568f8f26c67326bf027f218e5db5fae3688e8dc64b12b08b7bd3fc2d5277610e6a8c10241120dbe12f2702af7d79f07d331e54d7a9fc3f7325025e062b82066e316f12c944604d7bcbc2fbcad489377addb75a207fc89a7c2e4cc07544f544f03ced7745807b904052bee7cfbbfe2a7e23fd98c67af4c8cdccf68e948f3a902708a347de4ef5f2fb6622faa043f37949147bdc7bcea8c72e856a0ac00bf7cb92989d1e25a20d0a25435eeb0787002f57e7dd854c9bcbdd30994c25aa3e641ce179a9d401ed5f0b5db51ca6411f55c27f662e3d911ad453f08b7a142f2bb6b7982dedd5e4383758ace6c128bd12e44c503bc330bb14a08f11d7fc0d1132b9bba83ebb100faa2509f4f1e3f66c93a9c5908490b182b1c94b636ca624e79871c04b37def7f58c2e268bfc82e1343e365733d3ef7615e9c3b91796d9bb62c38edaedf70f47cbc4ed8fa63230816dae3e0c9e70170124cf5457ad8e3fcec8249617cbde5afa3033455cc2401385997705aed36aa9928b0bfe94b231a3dca675d744451b213c3249370a96e16ed18051aab960f72a2b494bfcb6f5df593fc91def8c67b4decd8099ba7e424a137b79e092082a7e9b01e327715142ad3269082b7c86eadecc8fc6645b8f27661d6ffab2a50b4df51034994d8bb811a1565ee1ab4cac162592c67f3414586eb3b9c0a78f672ec0a98c24383fe99bba5f4c3c5fb8a2be2f7407f471f426a6c7ff6b86b9f2b0bbd620c21c14b287e06db35421d7de365e06924387f7ffaa71dfa2c242eb52e9076d42874fd27e4afc443201ec64c6abe7a5edd7a5bcc98cd65e73a16cdb26d423781462f56f3abc11426bb7fd53081f7502c31ca6c0f7a84c195703c419f2be4e2e2d7d18d0f4a6c73b6ab5a9ab6e8313972a42041701b1b47e4b60bfaba6a1105d036d9ba617a405ade28f65f1171474414708e6ede5d55e707270a198340ae335f2da763cdb4d6fbbb97b76417174084e13b70b00618030dffd3f145a1c5459edd001a4dbda81eb4385eccf4a1d847e3305252e278a3d66bd6035ecde14f204b12bc4bad267a631e41b800f5dda8eb7ab42953fc9537e59ec526fb9ef34b284015ffa042a182372885ad41432519776eccc09dd81afd67bf8ae2eabae2ac3e71e9adc051ea7e4b93d156fd866424d14625b96d23e79b96706bc6c1d40a28fef18a1424a27381571f0b1445a3bf407094a2a877ff90ecdf1203f76ec566a8f1f458a2e86870f4c2e628a80b8c6f4d76d26e40572dd5bb6f0e9f046c38a853c0322e0d474fcf7b327448a9c29acc76960a3c69c405bf9bbd7b88ee19103ea2189b8a8994f4834ae3163f7f78c612c07fe31a7d2c6b6bf55d8c84a3d8a95c1964c1fb36f494db3cbf1fefa07c3170b9393495c9d89d8b9a96126503a6d78f95aa359905af7e749892036b15c4674b5bc889d84b21c4b8fbe4173cf925af982ed81f2c9d1d4b5337eaba6d87f5126af5adedbb41d78ad6d112275b0885800c5b7ecd8cdbbe5d1c0613b41981a80b4cb31b64f8aa4eade39b2dab28f613b12e104a8cefa2a885f179c63ca59a89f5a3cf6c66fe9844c071e03b0c3e59ca36f0d2615fc98eb6fbac985b8710b6df204d35d601e5267bbb3ba29718efb4391b643fd41ea20b2969afc37e82a9c23c3202da72def88f136cf71febc95b371a56b4ff528d361d1e2358e4b4382d442ed28b141452e07721c2a140d812db9ba0df4d6dba57be8df2b6148d13aaf8ff406c634f520014c01dafcef41f970b067863caa5ac2a9f6bb2eb6a32f0b465900110edaabee9f385e963c7dadee5f56ae6433e363f88cec85c8e60349e67f729122118482ff5abdea96532bf2e64677292f7776eb1f1b8edfb7253495d32b8d93853e1d49f6b8cca9aab527f158a6601a789ff9b878c6f4a5410dc18838d4d9c7e75248ddff50721a22eac9ce3c8354619988b23af336e9aa7df22e339cb7c58e12c9ad6f252d36d25dcae7221ac17751ebe3539a48051a5c602c76951de09b0cc1339cd604121796321841d5ef9da9845ddccc6665ec287aada2f99d3732a47ff0a2f5e1c2c4776f712f309255c5701ee1acc145fc4355193c4e4741d61f4efa23332f945d41f783f24e45d863676aff9bd8833fa409060dedfb423a350cb1930d70138f160212ef05bb40e35b55787840ad0360388da9a2daba6b95f38eba9b5d720792786f45baa4e786985e5721960c3cac6a5b5b349196d4385cbec7a52ee359d35492fa2b8ad226e7deeed9d185aab17ac3b70187748fe43009aba5e847887ed975f6dc0be03d0c07fb77bc81bf6bd224c8a4f9603ecbd641e8e20841309ac7ef46937859d6287e74e6914d8ddad89fd5eb6d941a8f5f65f26d7c699ffc38c8ef8eb8b2a666ef49f70b2ebb33c51b8dd62102f667814339c96546d57bcb7b52264ab4537c6d93ff5c691a7bb918d64ca9784d8cf7b9bab91020897af077221d0799f6a979eb3bf0f08b64427d7465da8d46aaf2988a67ab1d1e20b4661e85f28f6b95814e9297a4f77d1cfc8205d6e4e25bb4992831ec9e26834c71484ff28efcfb757b375b90f61da41578691a308ed67fb94ed241bdb2c0fc5b021a1422fe73edaeb0fb159012caea5e3c84ed142ddf352c03facfdedbe1daf4cb0a32f2465d0291b6a7e25141ab167ea8bbd400cd6bbdf063fb0d1b7aa9274e4266eb2bced2db7ef7b7d557fd68654982b561e2be24b3b0f221ce2921226be591d7c5f321d4f82c90f88ce724f94941704631c84675759c471e167fc0c1d30c15a7034bd0dc5234b70ddb9cefbf9ccfe70cf57a728212f405690e48920c3f4ba83142ff2bd4e205fc03a9f56da8fa7c831a1851f6d54508dd510a35c8f9d8309019fc13f2d6a3c31a777e625a22990d2ca23e1217791fd0f873cc181f414474bb76a0ef227c68ff100c9ee33c2af565a1597e4347d461f10bb7c7eb2f3bc5ce333aa8f65efc3dacf02861813224354d3bfdc1615898957b6b8ae1b85432f435e1e99fa49ae8b53c0edc5d23d5796a85897b47918adc0e58ec41b1ed9f810f598573af70a98cdeece6ed6cd0022a33501e3ba6c4dd940a52779c1b5ce3d44a78a86d84f889a6f9ae9acc63e30f610088dbd4b9af74162bf09af4a7c81029537c7818575f5f9ce44bab7e47063ca0c5c93ae509f48cd75019af83fe81a530aff20717c047fd041a2d1210cce2872ff94be7b5d25925b4988752c1e77d466ba94b8b5c06e294894b8b8d99eb0f2b52c6147ee1e166f130c2867794305933e4ef4e304682d1e53d6668fe77a22d439dfd2a9d926e5bd2042c092223f9a2ffac3db8b3e9a8489c02639588a5358c948315fd3bb15be2ab574080d2ac506dcc9f655eb9482ce753e96e7fb3e094089b303f829a1af36846597d95176eed74a7601ed0457f50717f32bc7b37cd749e361727843413d1585d3d04807edadb18213ce0055e69526a84868cbaf45cac197d7d8e0b03a36c483cf5e005482b2a013981550ef91fc63afaecdda9680684917dcac74afcd7dce0ad438363f0588e0c7910dcdf117298713cb323468fef70370ad5c2f00a596d6d570bc08b0996a0815c76295a7f16254d127b42fb1bbd4e4e8741dcb19818b5d0d479b87b81af0888e1efa3288141774e19179b340bcde40e28249ba76a58d51cad3594b221e41785f561cb861a00f32eb09679d4a9db430a9ef5a38ad57fa0d902bf82f1fb4cedea82d8b48e56d3461550cc467c607d6a35ff8f73826d8128a839341ab30c1259188cf46269e9616fba0439893bb7afe72cd20f024551cc60016dc69442f9cdd7d7e4a012be764c1d62fc5c98d081b2cdb41c7e5f4fd7ee85a0fee998d641676b26acc5327484a34dbf8a403b26f6ea067084d61fd552b754dc4675fde8c833f61acd48a91e35ea96a875f451057648021f0174456fcaffb9067997185ddfbd0b33c7b90ddeebe7a596b68b692eb5b25f27850b312420073f6aecf18a3b91972de15964b862fe71a19548c8220287168e4f04ff59f2e9f2473836ea06176da79d69dc701476671c46475a0f6cc274162bcadecc286316b3f1bed94cc4aa9fd99585f8854af8b6ac01b923591cb889ad12a2ec552c20bf2900242aeda6fd5e9b0e6e6ad7c6e38b5e87b23457ee79351ab393e4067b4f4b543924cce3deb0d4d62777f81f6a2577282f6fa5452e45180588a246759dad8502cfe20c66cfbeb9c62b2cbcbed79019f465696d61b91d32bcbca62c77c50825f1e7e179dff78f80fb3c85a619f3c458a5cbcc7cf4ea0a4aedeb9e7bd44002e3720f216e1568275240acc97de00b9845d7500d70590d885b6673b124a716c5bb5b61b78689a6c874a63cfdc8665935030c368233a589d4c69d6fd55b2e4fba31ac3802748f7a142324d1087df898d45021a5063917a2acea0d23153ea7a3a8e0b4534c005acdec02f81a231968a948c8a3b5300117ae83bc1c8ce758a06d5d448473bcbbb21dc75536d4e8cdb820ad3d15ede18918cfe88b05d3dedd97f90d9bcaf79c9ac1ff36f53f781b5d786a03d37b7b3233d9020572ebcab540cf0c859240124a82802d34323894d8549b6f4196418e33e0930a16ef72205b5dbc0bf468f85ea5fd03c680550b2f15d6a15dcc7df2709a116d748a004d46133c4fdbbfe557830e87ea33699d5ae8d08b7aee68cf198af8992266313aa6b113a3897227e4bedb71e814d3dcf424e94eb157924194da08f37ae0f97c65ea4fd6932da9957c025c0bf834fe4d3cd4a1b2d7be041c505cf7ada176d62593c07190fe302570bef50d17012816a8c5279b9587a77987edaa17c44bbf9e25f7f47a8d2e37dda93b3162ee32d3c76243d20d7f7e610f1234f683f2f4a9ea6e7739370c9495d1c4a2f770ec8c1ee4c76490f78b9fa239f172732af5067f4fe3286abf69a4a1a1e6e31162f0e396dd6dbfaab303f34506921be5e8b74e4ad751b0670be2a949ff3e57644f0cd78e1955aab549dc53b63709c4939b94618ee96c25c00de07bc1cea44f7a9f12623ab54c7d9802b51c1c8a12d035f17791bbedf64e9933cbe7ab756b86f3c142d6b406864e385b6847bd087e242c8b3652b0980266b41e1c356a0e95a621e927870f028ae85f30baed7f28e4f6a0d2020a73434b7f47230449805e0b65c6f4fec3df84afb05aed44932c97516c7b528be077213db50317da5cfb2a86572287b24f0ce7321c56e38d419e835ffc64a5d5fa5f72a85408c7fde54085ffc0bf19f8d3b71ffc8ea656d0441115247dabeb3d952027cd6280306d5beca5a667d8e6bf1828c3b8f900c74b87ac8e469ddfa34185ac77016a86afd6cb65cb26f44751144be9ec6200d6dbd5da564f321c0eaddd95e6cfdffa71bdf4aec4f47485b480ae2461f18f99b3dab31c898506be4e7b2e9a1f2c601bfd4d9fae18fe00a4640fd4fc56ef95bdb30d7362250a8a717b81e09f8214f7231d0a88f240cdf1f4dd8811c1994e0fea51b803d40fa9af7acc21c75ea39537f33fe0d532f111c94ba39618b488be5d5590db9b28c3f7c0a66a191dc7b7f6d676c349377a007ed3e2ed5c455736ed2deb8e3755ca9dc8bdcf9e92deb1e57c580f41a1d978e0fdec97e651fdcf1316ffd18df460289309a4cce4f9bfd4e97ce35c26351a0cd68f22a5512027e65cc535e6ec87e6bea65cbdb1a417a0e52861899a651b7c4d35dd9db71a39fa5922e0036d5046e86e819f816346ce8b6d6e9762f6b394ab3885cdbf2fe2369252857d7f93f40428c03b308dc8619b18e36f04d672210b10ddec785ce31815837d53deda36e002f1c5eb7992e1f5b917310ed80a871de7f1d6fbaa922a8a079d791c8fcb87105785dda8243376b3c6396387d9568dcf524a90bedd239215f792f653942d5fded7ef3c2c36f1121164058934a06ce11ee63d122c0aabaf62ec48e15368db2cc3003645952029426bd0b08d74b5b1544b391e43c7cb0922bec3dafebcb69c82a3ed5822e47530331e0c85624b06e3624e15dc869171e91480451b55a6783bfc3988b95e5791845ada75a41e7cc6cbb0c698130d69ffff56e55fc664c4517c0cb16467394376af9d0eba10e13e465ae949609b8d9a1fa6ec7c896bc12a725bb0526363c4112ece9bd4cfe769897069a96d547351c999d83a320d19b1ba1e9fce7994b70519a52e63d610f00fdc9f446e00ab2ddc8a37708afbff1beabaf8fd419e055c1883e56aa6a595c291d157aad0f8ee11f620beaff6c8ff92d2e56ba61c7b68905b71827c15d56dd312bff2b66b30686933be20bf9058fe17cd8dd3a2c0121b0e646b73e5b6a80eeee1e8fe8ed4a3033092ff4fef959b2a89caad440387a05dbaddb3bde753a95b26473f83f385fa445ae8f96080bfacd447471f5053f2dfb70c207de5e701b8e8b2fed23d52494ebda9780f6b5d1d301e8b060870d40f23619515632a8a85d09e2eba9f2d3d35accb14a13f2fecef638bc44c47c7baccc8a4f1704dfa1b1b6addc11ae088ad6027db523d9a8e808a958d72d1e872fe62f5f210f39430a41943268741794f9c8cb2d640d64b00e16ad1dc9e016500fe326fbdb189d695aa52437110d3a1b1ceb61ec665f2c17791612ab892506211aaf1c3f9e6403c9ceb9db9947f8b7e1834a3097da4fe1b89f2054337c54e076a3afca1c1e95375dc36bc0dc5a3d907d3c469797e549d0b943501877adee249cfcf64c23a884da87514fc47765782a40f1efc8e900357123c8ecc79cdf1fb4f11be115223575e339fc4cebcdda60093d3d0305ff995088b48ab13da3e2e9ea160fc5098603ad04bad6f6749f597711551f42e69f2f69196862e65d38166b18182d7c3f583e5e80b99c634771a4307c750720470ef40a13b43dc8c28d93245cd6607bad02840eefba63cdc8175bb707c594bd6368fdb50f8ecf8f680a391ec24615173733bb8a31ae17012e2b98442743c645ddf3f0d0b9c40d3ffc2dca588a24a5772235c2219a6a8864f32beb2bf2bef9f3ebe37e85cec047f53c41ba1bfd056ebf4c9c2c9246f854c036fd299653b2c298e62ba5619cc934f1a1aa3b48278d514fab309ca1561d4aa176bd47ccfc71d7531f7b84267ea916daa1922d4404d45d80c15c0691f0abb31e409023115de02d6eba3544e8c25604544c476e07a59af4da60bab59d59ebcf963f7fca0b859a68486ef06621f0769c178e7246f859e7b826082caec9d98cd1e214532232c60c5fea866cdcf1c43db851bcbce994ab36fff53c3ee30e7c0e9d03ef1bce4636ec0197a63473e511ffc2d109918c92665bccc97d822c837acb3ffc0b48d58685f5aa2b62fcd508183fdb4e19d8883790a2e0a931662e6110c383fc17694236b4c275a5b2f5e2d341127143382a86e7f2b92a4a7174ff176bc12633a5b9e5e33bf2d11fa0691dab493b10ccb52d8e0e3e8bbcc85327374279fed61788bffd5230f4604ca4c531a138139aa4cb697abe721aea1cd56ee36df9a74d731f4705bd478030f8eaa427d6f683406200bfe52e75d43f78985d6d45a8da4c05b920a126a2990ae3af1a3441e774334fa723da35bd248ef0996273f7c84c027c4859fb2dbe22606604ea3f491aff85c32c27548ce832b3bd91fc2812f7b8f0d3defc34a7f3d7f522178c0b86baa78809261f68df4b453f66023791e63cc73e0acbd0da53ef8d6119fd4018dac640c25dc9e24f0dc8aa7888873a01b6ebf42fc37d264c02cd8c630a99213a64e64771a831bc17f1ab0a99d68f906f0662743841a12f4f48281ff085ec7048d447f205039583a986d7f328c85cfc5957725bed413168ec40c683a949325944b33f14ea100693c7a8ff4fa1a9f3a55c966d7789a794cbffa362a8145221056d91935d874d748929671b91e407cadceef54d1b738b3c1605d1e6b1ce7a76d3cafbb92ca57dcee72c1e2dcf74476bdc19e50c85cd315d71863fb4a53e7ad3de9c8c8fd4a181ee60b0aa9bf497ccbefee450471b6d9763af59c9d8e740b4673f2584a2217a1110b7385fd780fd9152c9322bd1b8af7f727aa73ae782ee5ad1c81afda645d9b4f0f130a7ac99a664221de3c0de15b58a8824bf03f2882af89ee6b7e2a7fdd6aa7305718943a68186f5e84b57191f32f8861605d68b99690caecab54902a6fc381b39ceea879e1c89627b4eb45e2cf1eec9b15709cdcad4b8c65aa273e15d02220f64905c42e6853e66ba8c90abd51efd55d8fc63381caf83be290c4d34d5cf7380e765c44da7b5594ef19f9b94f4bf62e751333f0c1e31a0bad9f4a8dfee6415880b56427d16b416b42c8bfda5b1b730b66ddb9f0911c3addac5c9e90c4b6070fac72969503bd99eb8fee59177ef4fa60035a40b63f9d1e1713352d13d04229a2f9aabf79665b2b1df7a5375906405a9351c90c6ed91ccb95b62e0ab9614848d6b1205cf5199089391c3c681eaadd9134092f8d1bea1ded413573c0ec4975db8b5f4b8291fe6c0ffd9f88179093d0c2a7a828e35a811a3d49aa8ae7952c2fb12e504ffdf819d83b0a0b2bf721d99b79081512aa5e77da7f530235141efc231519b07efcccbac51de70c77ca9c7be0f1c7c0c8bd07482143320c6e5894c5f6c09b5754350d119984d769cbb874399f586d80bdee7bd92eadce01d03cba329843016ae1889a439ea510ae8cfcb9b12c987732d0269301c2241453dd7ebfae1c84007414e2a3fa0e9ee00162139c8ce7a690c8b43e04d009c5da4058d54f213852033151f4048880ba60c8b53f6f78fb9fb4cea42eedc14449ca18e89b7e362f9ad4b5e01a1fd563381a0da7dd79ad79d41b320975ca2d17f6502909c5e46db7a6a2c2ac5a8153c689842913e1c96ae66d7a51b1b2a8acc9ac531b17aef9b2c032b0b0ad00027e9da9d9e718e671d787bec4c48dcc7369baba906aa3b7bf9019cd20f6ec5a5158959c10193fd0ed56a385f2c35e0bf395eefcce01bc442882a46074a7c33ba0f3e5f9b7795ce8b353d4f4b8359abfcc246b93493d735e8ef3cb883b1058ae767e990be77707d67ce348392e41eaa7dbb15489daa6d7b6cb4ce4f05ebe77f96482461c867c0278d26d3915c3bc6730c6d936d6b8d20fb0602718493e13e73704a087b333c78660584a01a2ba1142b7e6e51e424509d7b70c6048dd1e263fe606f110e70f90839ee3bcb872c425073e4d214dd37ed981f4a2a4f865eb23d07144a5d51c755c70ddacd371388fad34684c1ffaf2568ef629958485147f4af8025d65a6e81d8b13a6619929620ea27b8972f27e56cc3d156159a6a28a72cb152ae5d8e3cd9f90aea0ca2b94d9ae9d387f36e47ef789b9d5ebefe5805b2d5a12663e7b260012002b5b28141c66ec50dbeeb133c677500367b799e4bbfde11d6c2ccdd40cf882419edfa92a68656be12b98edf27f28cab99f5b438459fb61e6aeef6a73479c4a7dcb4cbdb408e014259e75ed67feb361e99da5937924fe329ebed6e8a3bec06f64c8e8a661239ed7eda55d3a6cd1d4005c69069f2749d8ba600f0d03ad60ef8cfbcc06195cfe7415f83b8b03c5c41c90a606209c2abd95f73eea0babede8bab30f230a5bda651d3db53270d80ea615a3bc1e932f3e571915ce0b534c8cfc41588083de18037ac28cbc9342401a964f1ac99919f012a4a19bb0f9ef0f7dc254be1f2f21cf461bb95bba73d110a761773c37e87e950e92d78e3ce9584fbd44b22ffdc78f5f7ec8cfd1abdaba5c198afdcfe3c62cee1f658c4e74ae489de45e08ec615906bff014230f22987267fdeca2d04a71b099c31a630c2ecce2859b5063299f50ae21b6827f4107e800d63f794f2a657669635afa875ea817bcaa64453ca2dd06399039a5b8056928dfe2f7fd5806188c9290c8a60cd3f5a01b071a646373c8d163aaf39c38fe0c1158a2d95a29689f277d62e892436ac9c477952368ad34e343b61e719fcce251ad99057ad6d3783baa2c395305835db3f9589f3c545bcf63c13dcb0b919439c427a89256ef423e23368b5be01afa19d2a02047e24215b372655a9445028e1b8113006f9a1109dac05a69bdf1f768eeda67c4e3c45e2e6b913a9c91ad3e85058a90f000c9705997cdc357b4b7e320ccfc6de22f77daaf6649998b94e6419bc9de4b63fb79ac8c8b604f1632f86ac4","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
