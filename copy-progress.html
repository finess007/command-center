<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5f77829d853214f4964d1328e504a4972fe971a90b32e7f128ed03cf945daf4100511718370c0b5d6a52b8bf07d0950b1e8441359f8876c4f16b7c251fe341aeb70dc6af4a15bf587f79b7f01c6c987d69f2ff95d7fb4644348b6b1488f8502ef030d7684482e2afabbbd3bf926cb81d693fea0d54afe4f2c2b9dac43d89373f902bc0d62133ed4b943678a0538c26f682efcf5ffb63559f00486fce2783b06ce0858ed4952722a65f95c062ce544f91f99bad3cf9ebde6c5202dc0c2cc82b0805fabafef08a9d43ce29a46d5d436e9af1e9273513fe54fd3d575bdb58bb68c2aa4b9887ffc302211d58f6e39b436647221d57b35759e14340adf1212b2ca98f1d27b2ec9a392a703d3a2933bcd1108a2884ed5945ece319671a5b4f3837fdef4bfb1c631cadee0f24e122aa75e89dbb4b5f5b29cc4cc7d6fe7c52f4af752eda99efed745317ef66601e8ae866e928e9a03c7014b5cc308cfe865dc2317c3c8ac2272627159228afe55ac1d971da2bc5ea5b243dcfa2c64f17f52557e4ce714377ed66184c7f39ee0f7eaa5e76305917a655d86946ec02dfa639d4371419fb38db44573682d419c36baf214b21cf4920e6708a08d8546099fe48f672f92b67e8a68587a27d23be013ee7118e696c9a08f51422ba4f5ba052794c4dc2cc5325fc73baa399e6752961541562ab52c2c40658f9f8f2a2b8e3192c2d1a97fc01199a86ca81c782fffa117306e44c52c0490eeb6697c72afb18ad14024313d2a63ecf14093f560d1a3861216357a62201367b730feed62564d5e89672bd537137321429ebb447e7314fcde903b5857936058477ba68faef5c1f885224ad5dd81ac6a25b5c9dbebfe8d15963cd512652eb798e8d0c8e3e72ed2fa691f74008bfb5915fee67c87b59643706899acc159d46de45d81193bce9518cf0f3e7e568ba3657bc80b1767289c38e13197e3ba8b3792843a3018de2c22f7ae4814e4a2dde53c426dad5d02cab56423459f6158ae2c6230e564cae18403479cc3278990194e9387bbf4b8f4573441db3c073dc1b31624205b8aec6151282a92ff45f3afd8bed8dd5c588ed797b4fe9bed488cdf5b9265a587ec908290e159cce4e7628b776dfd3c590c8faa8ec9fc4803470315d9639a7180f16d0f3a199dc7cf26806d19ce542cc4a813f459e9aac33777c03db9a5cb2b1c945f48a9c4228d4a41331a590f871ea7af335f1d66ed66cb2dc0e97a9fafd2fb82efce22ddf1d8763413471d6ae2b948a1adcfcb8f2d58f32dda39fb8aed66a2b5857b476271e3c3ca6f038b97b845020d2b9d3f6ca485524c792aac70d6705153eba6b7d599fc32b0e11408ae53d71dc9e83e1612a1cdd8da9f05c49c64584daad4b5c4d891c92419d2ee0932603d37a8e9c98db6831129edd335365a82eac0bbbe050eaa19e1ed847204779b5cff3aa2df324f23dca66afa61382503f8e74aaea8773e74dd14b7438d5c36aed7de79bc377a9cc8ad776c6746b5a32715d45ea6e89ded6a782d9a429ce624fb146cec76a7722657486c90a7ea1692164e68991f0e6579fa22cba9a2fe515b58e00d5ffd0ba2622bab5d15af8ed325aa4f9a06e3d02078f7e8b3bc895f8a317ed47e2aaad6bcb4e37b42c01eb7dcd745d8dadaa1f5375e670693796d4a6944b4c22c8afa257851cf3b65cf6181a31d270dff38e81854124127b9823bed8d5ce1711f366ca42aff9d881bec14d8bc3a75a0a4662007c5f60c0f44eb1d9fb58746f66d30c812ee8b96fe3ea44f44522cb383c468022a099f5ced3679b743c5343f0f9eedf717ae812f03d9fb06e5d476ae18982b9044716ba39257f7a2f7f79ba6f8d4c26c8089b8dd770b4030777a9884f896d830d1b2ef96bbfae2a1e4853e54847cb07599f050929d1d086c846747f6cdf874ed1ec84c2b4b32ddcc180bb7c1f0351ee7757049091420a1ab8ea8b8f4c2c3c7d2fdc4e149c7cab3c8b47333716dfac9f40d11a1ea0c3575ae7a3a6f3f4ce9ba94dc9ef12b5f2b2f68eb58f57eaf0da61a3470b71ed677a0c5e715796b6dfd6c043aa0d1ae14ecbd2a82670261dbed689fecc79523851a72ca6949217d51d8201477e7e5fe7828e52bf756dcf040f272aa0c718f5355fce025316898164b721d5cce5b57ecb5ab2fcbc8739f8aeb71febf3c8e1ae0712c8845acfc46cf742f0722257e26bec1661099e87aaf4f778895c2a011047b079fe2e6c96f01f934a29af297d40e1624426d1533cdaf1f4ec1ea6fbac94ab0dd2d0a4cf54a1c2035bb83f3888ff46f635107ad52ac4d58885ce3c57ed45221751361516843fd4b731e3c495ddaae9f6cb37c469747efab013cb459d8ced81d45833b48c0214bd0979055acf7af0f5faf384b1c6b058e4c0235e59a8c490801583c65937a6803279d9067361f37ede5aefb60621e02bc8c6f456155735787933909ca26cb68e78887b30a2458d0927eb49ce494095e202f73dac5e8fcff3d635c710bf69c2dec816711989aeb354ebb205e79e4d8a30931e0f38b01f5024f6541f15f80c8504f3de7e40f966b04749408da774d2e1b30fcb9c7c5168c57b0cd0cec029801497313013c1a148971b5c63e71dc8030ad27ed9ae2cd6869ed7da9b2452d08a4550c1cc68a94444028ea14bb2eca9aa470f9d0f8772b65a6ceddaad022f26086d96f2cfad7c229f276e8694bb6fbb4e98f5c2dd6135684297463447be7f13a5a23c3c8d099f33653f6c9e45c055d1d4867255b0af1756d09d5216ceffc01a43fa90f720a1d6b55b06a205ffd092f4979a33cc047c54a23f42f3e8b2a205552e7b0ef002d503ff16ec661f7c0238ca560c32b47b0e6770631590c17958da2dd0523f4f134f59b1bfc5de9d7e3428af94e34cc387c0f965577a827de0e5b8162d2e3008572a54dc1393b4546198c4b3dc25b6defd77d0d3fff5d1e00116078e5ed70563a9593bc28fc9ac2346e728d699780b8c169b733ac0138bf7bee220c9ad49e2a9e6295bd095e4ed6006b0b724674a345778996c197c4517a0384a89b19d6546994bad7db1c0882d0214a4295f5715e79a2924a4da3d293011c30979ff3441955f66bb21d90945a9be6e08e3d5d84165a132c009f92dd02fccdd259acf7ac073df24a6d34c6565800a074149c625da8e1afea638d4c7c0fcdaea3411d9d2bf4b4ae3e7a47f22a8f2c347a4d7802e03899e4c777d73916c54fa927a35173129b8b6ae351871c63f648cb21253a3b5a08a6368327a46f4e73ad5242f554be67b04ac607f7f3be37db94bfc854a89aff9f55a39b13f83f0a472308bc0dac88662c5bc0423a05db3ce36d9bf5c67ac820d1b3ab3acc1ba624d605706251dd82bcf9bdf85ca5faa854339927bf4f881b645c5f5e1780879570ecaf3419f0f5c633052917f992fff7dd8073ff56eb6ac46287fa3790add0b3bd4f4f194b00475cf7f21a2f8c0aec8d508b66479bf0086961047bbed253188d15e616dc414ba3dd4c3fd004c932bf821b8104b9ba9d1903a065ddb5751ec161f63a573d78f4f7b5b2efd99d54dbc1a28686f391350ee8c926b900dc1e0d6d77ea0091ed34c7dcccca09cbb42db34e0f85c7b48249453eb585664cb54306dff830eb1558a1e2878f66f17f87349043ed8ad744e798227584320805c01dc86b6061a19223f44c955babfd31e4ccae1734d3efe5773d1ef7d2e0ab20a5bf1b41417c0c8398cb1b116fcabc6b464cbd7e84c0009d7873fb6846dba3f2ceb0cc64d04b490f773703d7c46d7293e1a8800e9bddd20a34f0e64fbeef208af8722e3fa5ed586ec9949c6f4be704dd0c5d9047b6f6c0949f3ded07b6cac243df55e6408609265e88a8d1b7c027783c9e8623ebbacddf68257705b1548f5032b9904c581effdeaa046f5d2b7c5e7168872b701320318426595652d098444df522f2830fefddd83fa0e76c111c9dd3d63e9723eb98fce87f68845eded49413090226d87dbed85f78aed8d490c9ba78285561a61c89ca6abfddb44c66fde5ac8def3838ca0274d84977c148d68d8edc7705376401611000664ac398f2c1074e95f55c14afd15e204c19d2b82b45fbe99b534d6672e1a0481ba8f8ee4e03c437d2a246448be499782361cd4aad537a4b6a76a970ba914c541a9abb4a5db74f13a49c5bf49e56e41a6bee0cfb1de2ad68e132c9ef0848783d16c18722af3a4a407af4f8e978445c0ecd168eae820eb11a54e07c0842dbdeb8c1a9f1a2ddda64d265476ba3654f730468a7baa80da0e8abf1d11be46f9a3e9500ce7ad1d507ac189704aaafbba84880b5b9d12a635546bfedee9e1a3a6d665274a4f46f0c4727ab7b4f0f81f0d4eb76f66e4c72cbb02411567d1d9b42add8b1892c9537e747b71ca0378805da05d0d4e165e5573158babee16b872d47c425efbac230fcb217ccc8146033fead7128b19e3c7369c12d9b26df8f47282786998dfe1fa52abc0b2e3f34fbd86d73df379fedf049bb86dd04d13aa4384ca4d4bb2c8d7ca5c3158b082a38ff131fd8faed518588b87486276888a3ec0a0ca010f086746696c48f59eb0dc69643228b8c1f98f75ca1065b5c338c1fd5433a8a4247ddbced82b268ee6568de59cd2feef8e036b182bb02bb331deecbab6653d8d044571073339d0c16a40e0eea38716f4525ba6e99e24e8ee58c7fb72f4a193522a5ff3e9d281422a1850b0a6de0c6ca2ba10a348bc9e003c288d61475954c7151bdb73bafc9211a78ead211c948a0f13a6385c7aac405fe0a6fe32603f6816bf4628bc0e5eabd29b5979c1974a5ba12a76127e39aa80d102c74823e42f2aada45a84e0f76f8fadfd300ed9baa953e8c5a6a0e6f90d0e2ae5bff9aa53d96bf34371e5febff645afedca6ac74d1541220c1c85984dea23bd4bd8e16104338115338e92d8373303afd39d2f9926dcf737dca2e73124f64b8efaa2ae999d6cc96b3e12d936b6da0438b0788b21482a0f6a13cac71db33f641e8c586df0958166325005e344fb4c59bbd8e5b4ce1c36bffc9fe7d15ae14f42c8a454781705a4be85c2aabf611d37e68c1020d719db494ee90ccdfe40e40d025aac1a3257ef9b25c205a7d3884964adb9efe6cb00e507e9453c02190150d0e7fa265b68fd9e2ebf09cbb542a451d93a4b388e2d5c20663995a299873ead39424b48fdaa9650d272939549e97a9e79e0ddc83447809b7f4c85ac87781cdfe5bce498e691b7d0bd48fdfb656653fbe0a02cceebc15c978a7ebd43ba49bf94440b0310294e9868ed6f778ec7e1ebef21313050a9d4c3f12fea0835eb01c6c607366b416d3759bdd96ba4e8ea115bf444be627717eeafcbcef6c1cc156745450a89b9300060ee5234eb9216753400cf2354719fe7a54ba557f967ee6e20df0653df6cd9b40386c36e48f7b8cc7c5bf2b7d8eec9a92f73b9dd320294c8ba3a8be15b78be9155c48c1839e342d41aff1fefd09e9561483f012f3fcf8ae698c777b9f9da64b04c6ff75105f774cc54be3f46ac287889e8e4c98ce3e3aa4e0251d57e6eb83f5b2e930bd8f185531336d914a85f924c07ee55cd6de530e903e6b9e1efcd0b90b31c7cd3b40914f06ee91f90f978ff1d36e49b226e2171f55794ce3f0e072c7d853998d4451cdcba027352294abae7911df4cd44f2064bb225fa24cfda2377ab507e42ca16052fa284439d30718d4235e7638ba698e395bacd9034a635aefa4a8314e7982e7b29b7e0bd075ba363a07e1f07a66f3af4b132670d84f2a1cd47449fdc0313cdd775f5dcffa7550e894d5c2bad4af88a002b2818fbc64d17f1f02865b71e66735150f5afaa670ab67b87f7f3ced81515627e107aef81dd787ec5ed0cd53869b6208152e191523006755a862806473ee327b443b2f4077d69270581511443c4eb8706f2ef25c2653689a0eec63575fff8349fff5f4878551d7e37e25aa9e2045400fe282426d54998308cfad91acf23e6bfabcc89ecfe154729ebd3758bceb832509c8f934e6a387c1777b24efb7ea04706ef8ff72b072b9e9ca72f0c60cd3c93447dc7435497c26d3db82d41418e06b81d18fb120888556a5a5c695d4bad734e75cca3bd65e2c940371c9f75ebace1aa075c66863b387fe7a38cae85e7d0104c23d19b5b6aa7b362c697d3454d6fa38a4f4dd05420dc30c9ecf0b03386dd710b9fb1dd34fbb6946b1b674bb0859039a81eb47ea1cd3d4cc5f35ee085a9197307ba12f6fc8ff58d801db4636ecc78532211b17b6b0a27d5fc7d58fd29fcf3cc6b228d2f7d92fcfd1c34af2aa737abf3447bf0e037fb6c38f4695b5552ae1462f432e05987751a99e7a01c0ed2cf8c300d3a88388f019b5a25fd8de5162ab8d04ba4fb00b2f21163f3ddc6fdf5e697d7e8567bd1c57889abe20dc0aa1119a8b310a9940729a9ecf24fb6e9d6499bf4c6c194a1e5ce2a8c8553048f363941702e46fcf92092bb9776be0fbf14f4545727b8ba0a18dd428e67a0e0fe2f4e72edb9e8a7e72924d1805eb2a2fd826f82a23240b3687ca089bb02ae39958ca9a1670efe485a3edc1785d797797e67f803460caeca5348f2716f8becd5204e161bc6dffda53b8660d5f33292a965d2dfac6dde998964574625f65a9a996e3307063644b1ed6f878dc67fbb5578eeb57a9d61909bd9702f5e1e275e21e4b5c3b89d5da79e2c48f0a7725e114a555e65265cdbfd433b8c768eb8ef125293597f1d444a93a0b7c721031f50250fa142e823bb6e0779931396dfb392d02c79bf98a651d085268f1cad85aeb74f6ab4786a119e24ac5aa19efa59a8616eeea0bb7f198aa8c36a3211d64a6f857891ecb9ea9337eb917f8919b67455ca901f08a2c1d125e06fcf37140778e2ca89b88a7ae635b612f1c886cc3dadd2ad50fc217364e2b944b3971b8c467d3ce44794a30752903bffcf185b6fc20e3c8f72d376ea01f9f6cc486794c949e9ee251d5e4ab0d487ddf67cea4a470eab4d37e4d8988d300fa134e8ba14f03887b8a9fdf3b75891ea5c7719b990889363a789713498f6a05d906c1c80d97f5f87a3aabe96e67b5346ae42a4e63a6b44bf9f4796cbe7c3ff76dbecee819476da5689a3295688701c9a5b9558f9867f61cd564c8124de246a8d0c0429554c6e6e1c654dba7e750c6170ca8b6f209342cc58a405b295a35f51364e8041ac2865d7c19a30d98195a1220176585593a342e89b66af84af54e41b1de782455c43a40e62751c2a1263ce354e7be6bcc7a95066432d099fee43aa1715b70eab079d949d23461b349435f6b53c5e3b3f5f0089a86515d1b0071da1a523467b4198c446d24fc0942d74e0c1309a4b4154b853e0a264a0e5714114cb0de7c3af4d3ef929d1977872dca8e9664b351533cfad3ab0eca025de658c9e7357579b5384b77211615b78da5a7435edeff0c5d290df444209fa2950a9547982622a3d4e0d0b9e94481da84a51d61fca0613c3cc7629d21d95a3c99065b7c394ba21c0b40adc60ff61084d04b5768d4caa4425660fa7e3f1a814e45f7391592cd2d8670dc6d6b1bdf5cc4d25d278c5c596159763c9946771dcd4a986fade047997b6450c415ed299617f490aa1b312155ffb9ee306811eb443b0832a40ad87cb317410268fd160507ec3aba118a15a1e75948f08797376527c17f0940ec999617288751898d41a8a63f46fc77cd31ac993678093e0d921aed2a5cab0b6fba73bc1d85520c8d4e0757c4349cd9714c1eba6e099df8b9e1a45e73d153adb517ceb0edaee1bf93ad5b665eacefa06baf6bba3b3f2d0acefbe375efc593ea15c68b4667c9833e3f377bf32368e08fa828a2097cd8cf0297b3fa1dd7ff562a944dc40c1b4555197a3d80c6760ee3233c755b56b3b4410f1fbc236c115023cc70bd30bd16de47554ec8677abfdff9c7436ad8eb0cda50c99f8fee17b5b00a65983afc257f6d411b9b73361941151c744e449057a9746231998cda979c0ed951b3549918c28a08cee470607ecdb3ded869cef1c0748180d327ef38aca68b78c07f6a1a8dd17bb5b8f8c20ad1694abc26cf0cdb1f47ce4f36416c3ae191869c4c00112845b8bceeeff47e64c0d1e7644588445eea6a09052367140b97fe20722f3270a4773f661dac16d55a1f260a65dc68ecee00a0f1cc9f425d7a0547be89bf734dec38cadd5ebca729003468af28a75a610970818cb5fe56afe4ef0224e71cbe414f7b6ba53aa6d02e81658fd552160e26e6dd166c179a85c96f3d0ec5f3906f68e2d80c717cfc40c4f090a84f6db052fbfb29a90bc968d5b25a2c31d17e1a17bbb5eed3580406c0527a0b34881ad1c7de3016bdb85d3ee2c43fb9f0800c0ebfbb09433432048ba14661ca6e44c8b2ad25941b7c798deeca14d4df50607d88e77455a301380ade256f595d15cd96486444c59a5a97327bbf991496bd8504d4e01b538c3dd90464edc1d481393d72fb71c7afc3ea4cebb22759bcb218015c15631441465d7094df537927b6f421c6934128fa3e85124434a0125d8aead982a3c8aac0142176ca59e44840e5ca7b5d3fa5bb7b44e4bc1704b9d89b217377800d5735419e4c7accde404ef56a74c93c73670d342db7f68de14703a0e7b27d765166c6a55fb8d3dc34d469930e0568f75ced88ca0c008cee0c77cc904da6c364ec1a12fcc05d19c8a3edf049db006bba85e57de0501d5ac619c23657535009163672258dbea6160b965a80422ab94883e30c79beef576d0250c57fee49c5b8710cfa98e38a698b81de82038692ebff9e16cbf4e2345eacf9886309dd1c66a04ef4b145ad145bd9752699f6e55c34bed030c7a7b3c3e96a1cf1274a712c6fab0b941b8964a67d22792b9fd2722d68bf78b0befdc53fd7a1521092bb495f42643d9c339309e507098be940f3257f47386897d868753317dbf635fdbee4fea3387f4bf389514ce5966d5520379e92e7d3e8e36863a8fc6f135c3c58d97058e2cfd3713a4112c8f603b2d8f3cb542e251c070a098b51fb9ba8bd1f8fb69c17e75345f7184599ce188d10d29496ec924537ff947eb4b03f0e9cd727661ff043cfaed9d5656c903ca9cbf591cd8a766d67ea96c7d1fb147b7132086a17780ce9397c755166a228bc774d4c469e2e965ace509f51b98bc1e1892fa8064043573bf8a105dcf3483dbd34aff6498a6e7d4d39afd72359b22f84cd1c869cc376accbd7e4c9fa4741d3de0b30ee34fdb201b1dd58d3a2979536bd9ca72f2ef71e92c0b7fb878e8a13690bbb2c1549767d974bcb2498a7585d1f5dd58cb0579291d4147823dd9d6c8b37a4d470949c7755b6e798fcb366c71101ca264c5551b5e9cbb9fd1533439e9985beb9bfe0134e7b60eb5580c78c56335d23f9220fa23882d176022040f0bec873cb42e6746b883119970285e9f51bf15de09566b85b11a70a550ff9a33dc0bda32938fa957e00babe86d94ed43d247bf862d2ef8321979d50a6ee7538f51d8fdaf333a94d1a6256dc9c0d8abb2885fc336e7be937b3edd1be42735ad03072d43399177a10a78b595c7a2ea4a03151e8c83696aa4d82a4244a0641b516ccca392ae092efa669c38ea35a76915b85b9bfc999f26a5a18bcf602c62f2b6d6e99dddb72c91efce4dd8837eb5670d88a142211ec3d62b70908d08eaef34cd5d4d248d236127fbd2d781cbe72cf0144b41eae42ce479d192fbd1caf3f270b841c51517aff02fd05008ae1e0939f55fe021e46abf1c74a10ab4dad8d26dd0966114ff1a30ddb48bdaefc89b13d9a70dfb6e6bf88d51788644bd371bb2111a1b25ebaea1c00faac581dd32a64560111f8b7efd5efb25934199be8969d108532768d5475e65e63426d2eb4e6e71c83531eaee6fa4478a5bb500f230c497d568767798c89616ae59f39d4325313886409a79dc9ea6d2baae75210b4c1471f5140b4d8544a84287d0b8cc9632f2a6da83474cddb7ffb7fd7d098ea816757aabc5152b1765429b9baf23dd9ec2fa85f8369579cee4fcea25da72f9f79712ce2441397531689e69af32092f81c670d15e84946532044565fb2c0220cd50cd28618e53e7208d9b44b3f935fcf2b78962a9377e575a77c09c3683de08f0c5bf3210ad937cf8a8a0bb3879673799775561c289496893e42cc82e74725598f84c8e345ce602e0feca248dbfcaa8bd7e85d35bc1e6d9deec3b88147a558d839a8f3094c2c79de8450cc8e84c8a743e3c96193ef4819c76f38411225e8980abb1e7a27a2ee8ad54e92aa3c01aad2f7b4c3c38e475866f72edf7130f050644efabc077f49a68d910425b60be4f21a99989bc8c42ffa0b7cb834507d676791aa1b1149d0a8839d6b4ff692d669a50b37f193f38c6078799bea516c345d2240767b0113b3e94f84a2d2ce2f4621827c1c24942949cbd36c639a631c19e61a07393583bf867ffd2adf427f9082170440f30a599a3ad1dc4b70d66b30ee70a96855ec38093360247ee8aba5d17d127792872c07b884bac859c0b45edf4d2e3f3978e89aa012edf0bad34c0dd6570365ead46cb9cd3f538c963f6d8165fa3f85f757d8503f9b54f725f004e5be000a4f3ef416084b41a3fc86ce7ad0f581e81d096a01d4d74dd52e77c3678459eb9b0b92502d6b20bd98ba5029ffc35e7bf93488e83467c003a1a0bdbcc56d307195dab7bc790ffae38505dc079bb0ab7cdfecb46f5085a09ad27d140a1cf2a15c55f081b59b4cedcd29e79d7cd01e5d7a20d581a07235e7c1ed197562960c9f34ecc1863e51c55cb22fb472734cf4372a17da5d497708155c137da7fe3519e4d1fcca25773149682d5c4814b504cb62b202ffee91088ba4aeedcbb29610d8c4533e11e3d456ba8f48fc2c1011f33df2382b3ed73217d0db2543f801c377e9e2638a28ac6273c34cceaed73fd43a0649e0e7d57a30957a1bd9bf20117ab868982cb7dc5e057d9e6ca8808e832cd4188696f217857504706c3335d4c11799265e0437052f8f8f88da9db6c653b827cc637ceb5343584c00d1c5361878118f314cd6dc6b87bca254bc76519ba9ff6629d15ead6543f584c4640fdc314c929958c6a2852fea7d7935f3a4ea08e5aa51f821a815149cdb21f86a6abc278dcb9f1a105aa8fbf3e2ef458ed64f6df3cc8c7a16d0d566fa140d284d263011e8e834da67aead05d7c45e2477881fe28b2b2b733134548b8ba849305f2e299fd7a9e46870a772b9c11e4df48f7d17b3fd492dce6a360e62fc5746811b910a08ca3f96c06a865303622d6a98d962deede40f2b5e91dad44b570dee3016cb651d87bc41495670a12e8ff19125b5f44aeba0cdbf359477d3b7301fdb2a766ddd1f9e070fc4cebf45efca2e67c13ee43fc7395228a62514f41dbe247cd10b9daefd5e68ff015ea0a7dbabaf3b4c33edc468566246899e363d0ff2ab01f028de0ce9395d6990d84816b58a2af76974aa44cc43dc0ca44e0855ff9ae7ef1a3c116a362a5028f04e27932705a9d1a660523e87937ee2ae2f7ef4c51606efb39679a2d13376be9f1cdc1020d5122db7a69a880a2d306cbcfecf18de4422ca9927cd0aa4108a9403b176c6db5bd53a48cf913996984f4e578d2061d2d3ad14c7fea64ee2574e7b833716b90287a6a1793f5120ba092e61b18186450e2a8815a3af4d242f3ac73f889c67a0ee87e1a28c8673e1d60902bfc37e652bfc4c1237d241a815aae37e363040aded40fe42eee24ff92f17e6020bece51aae84edb851bd308adf9f869e16fc88edf1f3f233ee53b20bc1ce9234450e6f8f7d0cc8d0692a31c28b1f16d193bfbcff7a9e11e5ed3c09be24cea1ef2ceb420b2e58787c9daa94864a6933e40cf8f168d1b83dc5f1349bba7e454240a2d708fd51fabeb71c1ceefbc2e9f9188ab94521c47c53bf457c7504f972da663a7e785710abf8a4c5ec9d4dc08b68b6be35711c582553c69f1082fd15dc725e0dea4726517b291220ad00f458287f2f8f3ce5119d599a9014fa2d9d8fd7691b5450f13e3c49b9b4d3ceee64d80717497f438cddabb3ca424c07c04043f08dc51e2776c168d1133efe801ac7d8f156b53f56fd5f47b40e216d47ed10856071a76c4d20f51ef56fdd3d78749def384feed879bb3721d610257be1d0e59323a5abb59764c6896920e121c4975193e12051f9d71ddcf40929e96a86cb809618723c358f6630c33173d5c13de020b4a4d23ff7ea10937d7269606a4105b5a949f2ba5c878968c93b2e160c920d777622f103adba7b0d1e7ac458252b7ff03fdb32579ebab1a7a7d469051fb7b864575c7bef3da201f4868dedb1c3947d1d08c4b2855618ddef1b008792175b8fbbd461bce8451ab105f67e93473fa841036dc1a08a239bec074453935b1b57740b8b822d3aead948ecf689319eb8b8651ad17b7ed3870e7bad29840b43bcc64521590f55c3e79bf0c01285c7d777056b953d74bd2873ae51959be46e2f04daeba1afe18ec5073468acdb32392641fa9a66269f831d3e23a8314fbc9d72286eab3e9f892b27d01aaf08e1879cb5169e16efc02cd95865a20ee25e3720c6a5b11a9b7dc023d462d3e7d45aba75ce20acfc8aa520b43c79b830d10dcde54eb00c73be7fa3ac98c91fd4392cc4e1f6d89a507ce9efb4b77486c655a4bb348b6893fae05c5797edb409602a35f8a4b464bb05405bc11ea5407df2d07ed2cd890272f92540f0e8a0cc83a098436af83f6c650df376e43bdef9fc735c9ddf907a4737ae68e3ada2990caae9049ef71992c9e4c8db72fd608a1de1e8344e60cfd9d6928926a5010abaa3435893dfe86de5a84dba560c5bd057acb925051957f129ced925fdc209bfad6d43b6ea032c50df14f2ae4e193fa1e1325014004d78b137cff75993cd0675f644b04054f8f28e8f936a4f8ce5b17392c80dd7af8e44bf392b765a46009d9e2969d2e4027491aa718b0ec3f8773fe434c1d031ef0d8ac2ac796c8d4096eff30383add97194ddc6666e485de4857eb1a53a76300f9e38a9f66faa5032555ab2839ff8ba755a043b4c14552577f702e6ea37eec3cf8d33f042947fd957be42f41662e759c0a7cc828f7834e4f1ce33456d0c5791ce53a1ab693dbe465a5ac80ecf3a07623ffa20eb158106f7a9cd7f9d9b49e9dd9a5abe739a036c3d9fa3572797721c22ff4569cea2b7bd52dee1377291394fb6ec271992a75e446a042bfa1e69fe77e0a5f4110dd7d4aad78aff1d9ec51e39b129e66dee57055894c086d69d4b0242e2d98866fa81cb4997d57f5440abfc315b4e27f83fbcfb9d4e7b0339a9d096c7362705202d117aea4b9dc9d5818731ded20e84020e5a2473c01d8fe942157e5a5d5aa91ad809cbb62cdafdb8239c50236f3f8eab5046aeaf14fd4fad3b056278376edb2976da914c48b42d764013ff57172285389b70b95ace3faedf5bb77cec4edf9e46a92f09cea13288e3a37731f20610ed80329601eacc4cca02b94ace2f66c2cc68bcaf4711ab4f4562abbba8f67617ea52d525470bc1d5091868d2b33b66199f59b63588b837d926fbac84fd76d28a193a1ca4a0b1d8526574680903947249e3d7ca429907bae06eaebbb302df38c4a3e79df864d8fd987ee769f3e99c29c76c1774ad2ede48fc8b977ccd7b2c1734c24bc08843f9e702a68b41a0e00fe7bd67da6594433672eb95469edbf974dd5e5696404385bfc649b1168f47f2cf3202c913435b0eccbaa7cf576a8ea91299934d985ab4f1e5d073806aecdfcce2ca7e372283d63b3ffc9ab61c1fec21f2c4671cf4bf8147a17482638782a352b46111a7e0fa211797fa6834fdcc16721614ce863908bf06268dc6f83ac871b02e82edf41ab426d94cffa8814a4d9c3e3fbc10b918f9b00fdae54fa3da3bf82110653c367aeb8a2e282813ea8493bb622018d2ef1c9f68e45446be25488deabaa48f69d6ee63b31df788f9bcdb554e8b01805db69748621c256b010d321a1d95aee57dfe71ade1055b0bcfa856a04b30cd969c5980ed977e89ab89f38f6e0da83e6ac9c8e2fd3e06a5932fb2ddf77b940f20663e357e12fede10193cbeb0b4f58be23e93fcf99d35c296d7710257efe916426a2deec61753d1511bb375ac15877e9f1d21b32b1b05b0f69b0445fb9606e530e8785eee7bd34a793297e07a0991e23cd81c85cb543f27e2c529575f759b624f4732dc73032cf9582fb8638be713f3a15d4738936edffd8c8b62b0ef7bb4b71d34b13f4e32b1a51c943a6ec579199f5e29db5869716207c62bf2a06e08bc41575642df0186b448d25c896c4e52194c6141d7b301dbb1b81a0c2140e255039a8e4e6944b6f8e6a8a4f0c6a62b22c09fe09878cf045cde9fb283a70f3a98df475b7fe60b38f9d49c376fb89c4551cd218b852a7dd7b7735de023858d7a9e11f9b1ee35f173b8af2334b4876d6021f3b96e5063a005c2d8676d67d97741be1dee0e3c0f94c2f278a9f0b3d1744ab32ad6412347c264a3bbe7feaa82d2dad2818bf46825316f4007472be8781be8eefe7728f06377eec1e468204ae6e901e1852c4c0e5bdde36a63962bbf9ec09eb436df18c38b2e71f404ebc460ae976ec451d9bff1ab4f5abb2c1aef8875227fb8a2366f11917398a69f0e677403de6aa06175a2c34f8bafe87153101a280f266767da2d5808f0f1d005cc862b6dbcd3a905322fe2cede7168bd87dd35eeed96e7780ebf5529180afab0f11fbbfa2ab06a638ffd46e34ec78cf8141d27a872b1784202fd2605151c6a694693910cf0973f06b07c9a49b462381dbcd88807628d4ea271df758cd3fcd1ef02e5b9b09c11b7e1893eea17b07e64fd58c4be7cdcb084959f44cd697d45f5074e724d098f38d43142a1030b96a0ee2c5130530e431354d997a09bc72a1f671ef8f4d803fe7dbcf672fe8bae39c53bf04691b4ac5b66f4c2a5f1e8780a70c2b575a4fbfe6957ae7f5a62f2b28420fba5cd50ae1662c61831b71e960926b9f679923acf00a56bb3225b82f21ab79fd22ae07dc151fa839d74e774779494541c784d666d2f615e19d008f5b7bd877143dcab3bb7353c81c57ae767480f6c3d758cabbca970459e907c76f4903dd9bda5b636832a6ee7dc6dcab8aadf0e6bbe35118bbaac6377bf10eb1cd596fed7336a8f8d9db58d906ad9db159abbf725860e3737b849df156c4ece8883c3ad4a356f4dc61f6ac199858977626170e1eebe0b0fab9a9ed02840723f6ce9b94a643eee296231d35f65754579d449b0b481f438eb38b3fcba38e496315a34cf95d50ccb323523e4d08e2429c2ca0949e47a0fd0a3a9c8ab2d473ff9bfda436e1758edee93aa900070980c16f7d220277d8e3237819091308094d65ccba9cedb22b0d9fecb500cafc74cd725c9697990cb7b2cb678e170f54840725067033b435f725677950f0b9e3acff6285a1bc742fe201edb88b0ce1c67780400010810ef41f77bf8a42489a0b0c8d0a5d5381dc8dc1b360af1c7c7e6040e31bc710ac6f4a85e22d362e2115c81220cdf38f18c02bc168d20c15ed1b3261f91b2aab8789cb00b3e7d46187d0306ca6411e22f0f6c0a1d5eec50babe71dd378b5795514c69c18ea62282bc4d235f51d5ffdd38148ba7676a75c6c1a88d5af0be203e60b8d7ad3b1ad61ae3ae128a8e346e5b0c96e0567eb6be3c9c1c8ba3e55723f31610230139e1af2ab7f2a832faf2d0df908162818461e8c10e89878a612979104d718d92c0aa35be170e147ed3bdcc15492ff26d1f1078f98c11155e2fda4d9a075fe9667e960b03c3a1b029833d41997552eea0e5587785641fd1f20a4090db48bb76e44d8506f58a73fc7606b810bcd094017e7489f2c937b1759d66b742011398942f3ce94e90188900e747f9ff09f0d420ae09b43e93f896cd91f8ec20c16625410ca5f53b5b6a8d921fabe69a0ea664d3b1a0e008d1378f8d62dc37a852d28e60dceba9963a2f86bbf532b1e85f4b8c5d46081c2aa2b4edbd8272d82047d256f9f38b10e4b9c7a609438003113c03448e42aea80c42040ac97306aacac4682ee24995bfd6f1496907da74a4e34d66c8a5072783f57b0b3fa1fac58265519e67f9485a76d3135d32cac1c74a559435a6505bdbaee6d6ff7be13dc4b9b52bd192e2670ce0fcc3f82ab4165e4d686e8ea2e1ece5575e155248f81e8021d8ffcb54fe3fd8cacecec6f62b8da3f7fd55c8e9dc12ecfaff9e6454eca1a387f4ac568ee035faee10b3279ec896b20641b50e97c9a401da76a10f8eb7b40603eac18afb23f24bd3ff3248661145a5a0976fd7fbdf5eb815d1cc05121131f39afafc040b1e7ded3bea1f3a5d395981662e24179ea6163321f68d86218a49f50bfa03bf0e24ce5ccd25fd94a5f7f2734b8cd1f782c609250557fa7fb296f3847472bda3ed36058729785b93dbb9292b6ae462443c687d5db01e68c9c0956da40cf6349894a6d22c6f61a5f77b06671c553393b7f0c8dfb4f1614f3c6d306f4def7db77863cac8a7a28e32fb32976ea8da25eb61c2e4bc32f06416fd6d29d228c270f1fe6660e0625ce0b23d2c02d5e19b59c8517530bc55b0523c3af7fbffbbc60a90e1294731f93926c32f498005a9c389f9cbe32361e68342c85de55d99c7af45a1eac83b27c97cd27624cf155d464827c8503c904c07af7df490c3a3385f7c7d2cc9523caddb663bf191e454066e4ae88dab6570e3c5de4f01848abf95f5520d296b9f96169b565aad20a890df2713ba95c571bf2983665c0d6685afc200ff9f6ce096e705a4f49fe420866bcf08f2d230c8d358c9063561c5aeb19892a0ec287e2a34bd8428f5a8d8786d3854c691ea7581393c41e8e3a0115597a6527d667db73d3368b7dba852850c6e9f707d290469b3396276968e69f35f8f7f4428714ad2050cb25d4ceffb2ec68dbf090cc7b2643f7cd3ea26c10fd6ad3c0d62d79db99c1915bb638b623db47302b7353d78910b60e85996edd35e484d670438372cf0c74ab54ceea14e3d6988c1ff90fe26b3c589c296287683c47a640504864dd4ca45e489d95335dcb9f78e1fef2684a7d69b3eb9d0e7dc6c43569ead29bcf342850da0ca9eb33ba23a732fb1242242522bf0e6e771c131559caaef04cb30ef7bed825886c294010d7fc8930b51d0f25fa558b49746eef414a7110d9cd92d54a6487aaf9a0fc7771fd59ce56f3833aed7c6d74e4e45ff6dc369b1e514add720f362a39036daf852ce3b4c911aa4853cdd9b53d16890289479195a79cf91d5840eb1cb559fca27d9d4dae0311ce1952db9fc822592485cebefb2c665e8cbd38e2e8a36c423ed4f0637f2e1b7b7693ace38cb07e8ddf16c0da89b213aabd99b54e0fe144f3366b928279c8df5ec59b16efd5625f38c5d4fa9fb61e92753790200113992c7671cdf13a679254d7664b329f3d0ed208f938fac169a5505883245145b738b1cf72c0352812b8ab681cab006ca5fd1957a55326f5c07a859680a23c7429fc1d6669bea541e09d2b0f1134f5671eecffebe94d4ea9c14b6ae426ec9db6512137819cb1d0c3e73d7309b60ce76161587599636bb83af580464c5b25d8a8a498e0ed8c6b326a9fb377cc3a05374093245f831909d24082905052ff0531a0e855263740f17e410197d30e682acd6aba313210c2e75ba2a687eedac7ea2546588db4e683b203c2b01133ffa9410756759af995973b838cdc1a6a64f34f223b1ae2ce89fdf8d8b8ef19c6dc7ed578631ba4f1a843e92968252e5f78f3677a43b433e8f757df24050992c41fc3d035775872853d492c0886d64c751c7e1a667ce7872687868b93bcee586474db4cf03eb616800d16d2a8aaac1d17b134433f52b31fbbc1cbd34591221e0d97a16863c644b04dfdc1e46630c009434144f0292dd82bd3d0b3b8fa28a703267317abd4a29c59dfa84905453d15a05dd0ea65feab3c0c3fd3c50a3e58d8ba4afc001c7cd882b45666f0464fce5284009d57d6d54f7f705d4bd0ae50e2876ef74392305d54ed74bf96d2b58d2f6e49f42a159544d855549395bfb6211bf964babf3287ea9b5ef744128072cf31d548574a1d3a8192c9a295e5ab9b460a07e6a6aa6b7574e45da64d15f29e2a4ed0dae336a8ff7ec3f005cf09bda39366873c87611d111d8e7931ce701c9a5edab259352d661f85689e7ab78d380f888a7bfd47fc46c41287a5976150e913f90332503395934dd0abd4b707e86bc7da26a0261adba4a1679a56345b1b7996efb69ce3b9154e62cd598232e76c55b135dc405bd398f0f6da7029dc21dddd77e3819e0b6225b647b0e1946f67eb02a3c8cc1d50977583bd18619ea2873b7682f81c9bcae86a1027fa2946654b4cc161d94d9225ebf10f3506c552d6dbb2c2bd4692c1210f6ad58202bfafa8adfbe27560b32200e2fb1d66596d642cf6661614b0d098afabba8f6a96731c81bc15009b474a51a7cb639222a586f479f67a8f9c6f10bfee1960178bd7b96765b7c2b3f14117eb63bf0de07663000add99a0c7a651e9a19690f4a4115b67bdc4073bc44496483f95141fb6fa95ca3ca21d54839c38eaaa7ab333a6f1f26c553bfc0a7af08ee6d4637095d05d7065474f703a2ffc40eb56c57265131c834b7918f10f9253861698bf4d8d821a443e39039fc4eb875ce4bec8ba4f843c25a80585b66e0fc835158fe9484764a9329359cf3e66fe35a3448f2bc8903bdd437d727097cdb6648665a298c593f5efdab2923a723fc4c9a41d4407e0c15ae89037f968b71bffcc5370f9c2e34e3eabef05f54ac80ae863dc391471309606c01f37497f7484fc3586e2d39f0a9170ea1686979f10c992eecba189b89cbee5b271828e8b16365c09e434535652b9d532976ba318dd7523b2103a67a177707d7d1457ae357bde7f4dd1e505318052b7c28252f1c802005e495b9653799f728da1e6c8966705edb5d2057285259d78b85da03ea3fe54478ed1ab775ede1b6442d24a024121e37844d9be0dd551d00b60406c25bed585373b220ad5175666a1721e85dc02dfa434c6ebfe5a63162d4cc01566af5f91d1d3c321c5516bbda34be80b632a698dc1ed1a45756c86e85ecd61705045ffe9604348cfaf8f579d48c60fb2df6c9143cb074e3728dd3d9de3d758eaf6ace785a43ae8d859426fd0d57ea871b9db2b7c802a901147cd82f542358cd1a905c31118e1c97e49a02fc905ce0116b5ab142ce3efdff4806d2e3e4cbc6c192bd280d9c43bda4bcaa9daa3aa895c554c0325ecb26b1e8403bf0e382e9ee926c85d9402c2ab4681eb30e41adb4ba50a49fea2af444914d1c2384449a9970dd273be36c6dc9d1602c99778c8056d022be738590486d8cf356817596826d867a231854812c9aca05fd3052df97068fd6f19bae82da1f07640a151afc1a97c4178492482b89215c3bf17dd0d7cbe38c289d831d58d5dbecaade434f47bea3dab2cc9e617ee0f75aa4d6d8b567715ce33e59995f75b214696cc4aec46f5553b316a0fa7ab6a738bed2b1d5aacedbe13a4b2ac6b587e79dd050dc1d59a163649a238910f7175d2fda93a15edb3ae3a2f3aa9b2b4b2395c35a21546e59ca555f6922d9fea311e40a40d8b9a3c5d5b0b958a2c1731ca99c7c062630d9befd2681d02dd918b1613b3c02b152f91b2d207b1686175c0b79c32a9302416cccd27253148489243fdf9645ae343fb46d43b2695cfddbbfeeb914d1ce477f709d1cbf26a66094b46321ae95c437df31a0be1b09b19f14e01e4e10b083169b9b960f0e21436e40b71d6ba48802104ef2337ae31de5d24bc77baaa3cbd599c3a6aff7bc24b48ba23db713a0d7a2db7a0efc09e24d4a7655205856a0d46f46c7cf182b125e69e039f2b6a081862c6662dc73ae66ed5fc614ac007dfdf2ec233a78f95fc588f00b268ddb5c31805b769e885aaca033fc0bd3657813400cd8bd4957aaf6bee5f6d2713ae33412ac7738f9d1ef12c3422946630e661a8322487134fea8f5487ee2f3f50fff1415b7649835dd0c6f901b7a532662217d5b141656cd097ea9f71690632947faf86707955709a06d404bc61385617b25c794aed8a961b00794cb6b3bff4359904c2c6c89b7e3446fa42e14520383100a9d3086391f746b84510b36db6d1e8a90b2e972b770049dce9a688f96c7c2bb91ed05504f5b50adb4c02ceacb7c13f3496318b57700dfbffa819d0a4e141fb72709a4c7a5ac3f6df2edd97343b9d441c8d4d4bae4a0a25c1195dd1f0f270ae21713600b653c921ab7b2d578e3fd602b71056ef8b46c1c497c80b2f3109d9d16e9b3b2a489adef47ea1f7c81882f3891facac3920d1392d2de78bac40726eb03bd2c9956950c527e1510f0044eaef890008501af62668702f9fba5992baf412e8cf9bce1f49cdb2168883bf64e5b50c1b53f838a10850b3894b6b068fd1720fcdee6b119d25cf2ba01b49edc0c4286b5788f558cbb367a8d2db3c28f5f11a12b14177b82aa7ba87d11f1fc32bf576b4714da8084e576d8c77b36463034a656ac149537496490664a22a1f4a4901c9fc2ded00a20c43bb08e6849a91b6cc5be7f2ade008fda7f096f456bc5ced05c3ba98094917d01351012738825f68e97c7d9eddb994f847ea78e3cadb6f1ae41fbafda42616016539e9331b6787c52d001bb9deb1a56514b10da5a14bd56bb5df762865b87d9ea73992bd657d8cc62ca86f0cad6feaf716d0b186bec93735f1a58b25d5a948bd6e2136ce8aadab69c3af09fe4c933bfc615fbd8fd05ed36e179ae6c442333020aaddb87d489d88063da57b6a083733a234d2e339a924ca9238ca10ebc6c5c080ea9c10be3283d08226127ee533b07e16d35c1bd9639fd47ca957c2c7ff5f3ea58bf5385cbff65d372552e28cc6befeb085a54817733736afcee5704a3e99c82cee1ee44ed2d1c118a865363ad4ad3dc281a72859b4e77477820078b90b2ea48fc58f60e7d022c3671ac0d4e466b79424d612a99e465f03db7ce3e01cf30dd0567a09b98b1721d8a44545084fabc74acbdcbb94f9e93468ba2e656be3341f6176ed3fcc596278ab211707050dbf72960a3f0ee12d725a43d7d1fc2e6122d27f3ca27b137fd5bf513235c79854663dded7c9c65187182daec4cd3d13d437c9b911672e22b56c6395d76fa214bd3999bb1a4aa10a5125026cbd90fb92b7662a9e6baaae3151eb8ab33ade03c41f8389f77bbbf6d8ec1cc7572c7f56e9d1e1ed6945e9f9dd44dff7572a25388f55ff3a401e80958c42531b65ff6e45c5a8e45503746d24a8789075925a7cf2591393888d7ea104c0317a878811b8b214947503223b008d759ebf49c60947691a76fe81de7e26ae7130768e10ca090be0b9682129934c19874bba999d379c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
