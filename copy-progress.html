<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7045861150dbdc868163cd8f2ab6b45700435ef8d63dacb622f6907b89273ec871bc67421caeec960004988bc6f31953f802bcf238f65f88a039437335754f969a47b97c38e6ca3c6344643d9c9430a4e5855a058c576b57e5ec808a3795f1988b90bde4450014c4ffbec3828f22bbed2ab99ed6755e2b6cdd8d8ec938104912e12eb9527ff610bffbeb2a1d4713ea5c8072b4dea0c746982539c7b647f292e6d1ac6c14896d1331f8f698981ec90db5a67a6b2d6c9055219334e4fed6babf9883ca8f2dfdf6ae1080fbe7364c46051497c540c3d499a0b8d37a74be204ace6203620e7199ae13adc76a750b5894545a10ed549b47052262be06c73f242032cfff2a57c2d1a4d480b21277f3317e3b4de292a6d5266ab8578bf42e0f417b762c20c8a6d07cdebf35a07b70b48326d142bde68a60abc9795396a66ffb66636eaf3b6388fe4dc78209fa393b214681eb5ba212ce8c226efb26b2da91550b6ddd3e30f0509ab5169ca54062e4c25d2571ca425e7b7e6b488fd9a929bdfa43e1801f175a8f6fbe2566a672b680758d8c26bbf8876cba57d07acfa19f9fdd4ac225e4a36c5e64cef1e59473a0f83406d159812cabd1d4fe7b657cd62f43a6cc1df825c338d6ecc7a46d47ae2c5b6f90ea6a9421b860bdc73e142118d2afdd1711671b1b7adf3a1925256012757c7e436b1c245a50430a03ebfd01bfb99f3772f896b47adbf3dcdf08ab724d2edd2178e0844cf683bab98e4d6049aabc2f642683165e3da9b34cd0106cf317c27148c823ab63dbd08e79ed124758fd809d93fa402fb17e273c2ff6cf340dace721535c68600da079a8f106ee1be5b3b2cde6d7905e013b7dee25c939f6f9ae92b3dedfc231783c25e8cd27473904fcba29c08c88fc2b99c7f29740f878ea3e2469d8abf036727e2559760c3514cd51eba62b9aad6fffdfaab00fdaf4c3c8b46eff794465b45fb7bedf30aee255b54d4ff891a569d3044223322451b6d7c4c573c72cc0b017a861255880782c3bcb72def571418120d1f5a813eb6e521b732e0833f87f939561759ecba855ec209df2b25721444bf899eafbdaba5b1c21cc1bd9e92ccdf6e31f2cde69917a559346756698450da1f2712562f1d9fe51ea736ce9403a946cb7d5c7199fa64c9846cb17b1eed09274003e047d00827a823a763656e8a81f9c705da7a184311ac7095f40a96af884503ea5ec6daa721b099591b7044759b4cad357afe9d6615e02727ede8cdd3dc56164b6fcc9adc8e5b298aedc7917258aa51bd80c5f1c9e4255d06b44e4f5b20c2555bdd9ba23dfd54d35caacf45ba51e641a9358bd226a0f820411419635713ff78f1cc61806d090fe979b7f1a732617a9dd655fec4df75d73980c2ec4ebfe99a70990b1e5023ed1637376f0bfb2deaf0d342e02808157399a0af7fcbd2688b8cebd38f4d8c03e99417022e06c10ccdc1c9dc8b72f9c45cc730aa60156e518667cfcc4c6e9f7c65dd11e5b3d8042caf30b8e3b402be4b0185bf9a3188d48f07da3063c57cf79bca587878d2ed67ab8744d9691da81b943f66a5e069cdb986ce8c08ee78e8433b555a8ceec46ea3e3ef3dd8ba8483036d96a184040a89690b1db98f48f09d5045c5d3af44f054dd46a91f1c8eeec309f4f3215eee72faf0d4eb497693afc9f70f7395094d8e54ff478547e1c6fcbcbc67ac46ad8d0e05a9798b8d115ad25b607b1bf55ac47e50468091f734c2b5f2b8468b692bbe6ae4dc211c314f3322611c1a3e3453cc713fc052ce2f88bed099fa3401fbea1255ca3f74dcbd0f64cab399ef3c1c3ab89344239db4b8ae398453120c8ed111d94a9c567533a109cfe609e78d0568a0b73c2a453109344613a8d52a2c19eb6494b9aa1edb1775776e55f40265acef1024f32d5f26d50ea6395b4f81ed2a502ce6885bbd6d72f024852b032e1fe351a71e3f840c13de5cd8da27158300f6b1d37a19bc2535953c9804e3f97a8eb61bf4b7f1c45d1c1a4b31771c5e7cd5f702d71c31091839765ffd6ddcbbdd20bd7df0852aee7cd6a8fcef21cbe2b0b373b446d200a5dda1087b1f62e16cc156824f286413003e1cfcd3199c1f514550f6ae9e12634ad3f4a14093d2f9334485ff460144e025fb46ff653d5dd98158d7ad79c8d100f3d9a7e64550a0383855d837ae7b47da8edcfc3ae7cbb4d4b311ec7ce81b2f7963d89cdce42009f684e12ac61354bd57bd0c702bcc18bc5faa0ac4cb24af5437e4bec8743a5842b57ca8c18a71021e7c3256148880f4af578013722f2eeb6dc6fccd3926fce10b6d9b56551f2d2e6d6558de73d2d1c100b018eb4ecbd027528b1f7222af1f2c52cb04dc23774d18bcad8c49b9a0465e71c86a76f354873ffaa94499602f5ca0e50c10f23698f961f6caefaf22dd32b29d5effef31922d1b1053e54cc204a42ab2082caab97e0a78f3924af5d53bf63701d953ef5879dd520175ff2c7b2b30c98ed43f86279b5ee7258db849bb7ad17cd7a964e47c8208c8dbdef4eb7d7a90a6f7000d096d32a2b5074b8da974b313854acce4e88bec2c5e767b8d325bf20362b84efaf23465a6700e4dc4f6b8b4e039d544fe171cb0c90fc32b4b9a3e3d1869c041d892568021835eaf5acc16043d5e9f0ca79d8d2cbfd2bb9c51c24795ece7b6930c73693fe9020374d0720b95526c70808cce54853ef80f445f23d03f5d1c01e7dcf51dff8c295a4d551f6d593e121e515e2b5d2315aa17d54c8024efae0fabacd3317931733d60277122cbf9dc326296455302bcc4d15d25c8277c7c985b587c167b85765f2d22d94529b6c0b320ae79243d9230c0153a49d99ce4f89baee0568bd0ba8f9e72cc8f3713eb8b06103dd142242cbb00e0b92af4b52bb5f0cc1bd21b109a9cb5e9bd946a015b510d7344ec008c684ccc4c66c7eb69c19205394554b1cd33cac62abc7813a2282ea4b419150ed50164d3582b367abeeeecdbe6afbdc8593efb76edb7f85c2fe3be1e5af42d7a1e57d45f894d2ff8abc4e02bdd6005c3ee6eadf007efc23b13af8c406ca51c26ea91982e81a3ee8744ce2f00bb41e41db643addb18fe2e0608f81e7527392a5d3795dc230d2519cf0337bedd592e877587b06afafc6bb69165e6360dedcb5f9251e3546826d46d2e1ec5e764cfec6a60a41e459680b424ee2ee0f72f78791e19273bfb6c4b2e71019ac81a43af0e1652e85980f93ae1090658d2cb4823ef5703e837a6e25fc31d258d8c7b565e708812a1d7163af2e4993b39b40bb9b56962c92f013efbb09d569e0d9dd32b524037d48384ff672ad43454a4299d0989eb4c73d4d5bff0ccd44244fc82c998fbd7eeaf1f3e2d9d8ed651ed5425cbc855152b2bc2f79d37643c306d15c4d91409e58acedbe9086c5c4c29de6d0022dde4731d840ae1c509df157c597058814fe02e61217d7b60d5f708a12c7dc133f446396798e0cac0eab4e8cb999039e24372369b4a68d42be05fa6a6b5999caac9523665fd6ec047927ee0fad7fa2e48e2a0d4c88f4addaea35240a79251ba2bd5aacb41403ad8416cb66928fa5a60f9ce354b6b4b59f268c3ec583236d053d77040187d45ab34dadb53f53088330d0095175aaf017635297e7e84156b987e380804af9f9ce7991379d5fbd0aa659ea70f8e7db930e23e6fcfc1e54e0be3cfdf07ec318e4edfd7d50fe6910841c6d59b0b8ebe04e25040e6465ea0d96d8a779a85cd0b06fd953e09ea49a9487c94bdce60ce3638f70831c73beb03d6c9ba34818fa044d920183aca388ad55d54518283544e25c1ddf89414c17926efa2b6cb1e9f6080f015e8ea88cba549dd7dc136c19db743bb3388c04b93feca4717d84078e180991fff4611768304fc0519668cfdd36ea80ddd14ac833d3a5980f49a8b2ee4352910ed1ac4b0a38a02b83f0e1f2993d2006e35bc3c7051e0bfd649c6832f59e4901dc68841a585b044d589dd6fb50a9ab0fdd1e267976f4aecfb671ec5a0c7f9171dc6151cb31b960f6878d3c0b3fe4fa1a88ab96c3e07fd9abd4ed7b2b8963498720b6eba5aea3aede55eb8b9375afdee5e0ec861b845efd64944471e505a966ec947a4e1a09e9c7f2a76ad2df0dc4f87444eb50ee17e5b3ef3227fa4afd46fe07ad0e57f26d9863e07f5ef6affd0f14fed77bef23d274d994ba2c5e6b18ce77778897021c8fd3821518df655a5d4e58ed844116cf78fdd2b90a8a0a2e2c4458e650e419bcda7995cd08bfe8ecd7ac9ff05f6e3e1cc861c08508f2847eb4e79913fac02fb8c6a4d270e3066edbf1c674bd608faab0dd25f43f1f43052fb03ae1bbd418ad729144c1d622df778db9effc72bbbfb3c77387915ac94de58fd6c8842a1cdf57e47cfc8582defce9b04da422b64a196d103bfeec0c01d913844d4e8135580e408ecc8cd5763f308a6169c370fe8f93ee9d70dfb41ed2962a9911bb1609c9ac0c4ed770eed253eda60cf4d15eff32fc3de806afa2fc47bc2d5125a7f686818966af345d90b566f52da3ff090cbf05e13ca2072b31c6ee01e6be81220c40b9fa1fba7f88f27ceb66e7e55544636f45f97d126c2f21f879ba73bf44538f931c240bba095c6e3506d5fffb99dcf49c7c6b03ce7251223c0f8fcf585abf70f6a1f9f27836fea3d76af3f4e4c173b6bd11ddc6b536c6f57bc93d60c4b80ddafe820a5933722521d7e44d7984cf46b63c346493c156762a84669c5be4254cb8ceb4f9ef13b2537385d374c825a86fb4a3e4394d94429be03865cf899bb34a698904e17c0b849840d537e9c7554ea6fd279a135c6531c344b44895cae47ed989a0d2f9cdbbf029bbf19f1ad16bc01630b6dcd2487e241716f07f699b8f27bd06c4147029544819306092d9f65d5537351c2b53afd692e3837b6576163e3872c58478be199deccbded3110498fbee141f7cd322de9d36519309641c81981265f5f854850dfb737e825fbb9c1d6b7eadfdac459d38dfc0264cd4abc8792369cdf5bc6e632d7e56ca15a89a501d3047431f317b73e26ce85236a8efa80ac57191244839a1f8bc677b1631ab80a4604f86da6dae7419c199fdac2b4a02288c733cee38396d990ba26376c124f98c6fb6f01316021cda6509bfbc25d45b50b08bbc3fa8d8ec78464e12aa75fe1d2407863dc4adf636ed00dc882d0a7ba5b8dd111694d8a9b1728259eac68098e5bf2196221149730259aac4eead2ccfc690a97d34807b69ba0369579d0a93047072236ba11d2fb594da3251184d4ce5ad0d6a8ca765cc491950c45381c4f5535b06fd763c6d7ea0456a671d5063b040142791fae6f21c78ffdcbb700ed699123a385c3dcdeb010ff31810ff55b4c6f4cbdf86ef7dacb3c8f1e9492606f6df060477e3711b7df812af07053d4d9129757d901ea6a9ec6552d32ae625b1227b1745f377f5aa6ca1a78c04d354f48447c7f27662423411a2bc73a38154229f539b1ac38f37aab044343d12e4e14215dcd3bb2c004cf7b9375cdc0834b99fa165920522a2906de2a57ec672e96b6509c71a62933aff14ec2d1d8fbd8c4b487014042993647d29349a4b3fe183db052ce6a2be969017a1112c24396f110e93e7c7e548193c98739417fe09b2719248a9901432c11bbb6f64176376a62026b353042dbdf0cd9db56a04781a480438924b296f8779ac9938688102fd2c0ab8e116678a097a5697452add8ed3b01cb6cca3b09ea9a81552b1a377bfcfa744ad40248ee034afd7ea2b59f056d7da30f8e508d5a0440492b238c5a59ce20fd69cf6fc6e5c35bd47e71c437503ea09e08b0bb260a9e1dbc7ec1c794132c48af6d3bbcdacc58c3c5b9a16e38b9862c3f18d2beaa7e250fca54e6d3b95f3f6d7fdacc14c8063dbe613a576f22574eec87a60e12df97ef29d7988194359b6e5d49e13169c5b66e9498ec078adb4222a7c3bb11b56f7daa9d45d845dfbc6a594e61cd52c813c60d0dd190850702e156f0574cb6ddc212bb03cfa6b735714121030c1b5db8a098cc27c5623947471f24bbd7cc878be095ea25c94444371fca35d26fc6b7ecf1cdf216c84d51fef81836fe5dfabc799cb09f0e55a0e14fd64f8b8b62154b47438188c325f592983fb709344408bff658c6017c1918b1da5ef2c3ac7f716523285c946933da1b6d1f874cbf9f0dd283587eec0e1bad30b7a690c32a26edf136927ef3099506b63a7b2a4e87abc367465b15fb9a6eaa0c8917df9889d50069e41464a87c2472268083c9900165119dde07cb159d32d1b9e6548efd370b20901cd9ab4c7aaadeb585f9766d32ecb2f34930e834bb044c6288bdc6b82f17b8df1e36a2d035534701cf6835f879c68c073f9e9929cf73a1ead4f8fac0084b0c869424e5c3e2c87359cd3dfe38c2a9565ff4d054843c233585a00d21023c859b6c3c3ae82b6aef516de634cf35bd6c130b31a69f6bbf159a1b6501016c2ec98621d4e9ef6942e45a4fe0cba79f31870150318d389509dff5557a29912ffbdcb6052a14325a77c0cc01a570809d7d4d21d97da664c72933c9d0e186e3a7888b54bac57e561bbcd0817fcb855eeedd6cd6f01476971e2b80b44e53412a2fc8d7a8003d56a17e10daf3c12ed3315a9dbcccae1ff9b6869e56c40a8fe781e25ce5c230294945126f71f7488012883f7407b13616c76d9566a5ba1593fdb3e7e0abe0479c02d97f4be45599f2e913d9c0a2922a0b63a44ffaaf9d192bdbbb013ac31ee1f5750e84a376f6926cfd73b893e4887d109016dd94376314f8ef4f34eb2aff79fef002a8ddbd59e519dea15c41549924fe0e8ff75784412f18a8b5f1de7c7183903d02707ace7ad40277b57206a8ec335985bc8e01a0e3dbd83f6cf2b900e37f2e6b2fd27c4a22767f69d228f9d493945c732cc89240e7d1ed1d0ae0d325782f97bae67a4b56da582755b92be1369b40df82d90454bc0af88f79f60532962fa13593fe5e50835f65a63c8d5ebeda1e24cf8b622d9ec1d092e364593283d03d6779c63a78c5a1b27f75d8cf8cdedbbcd5e34bc131e1a1e40fc0ea174c0fc95fd1aa5378bd9f6c005cdef8206f1fa606312a9b7230d7d7ef43760ba50c46ad4b0275cc10b1632c6e925206d158078a3c1bad17d7cada1ce63397caa26af960ac535af6811fd0d89ad92d5c31e769b2520448d2085044199f3a23c686771ebc871dd77c0d624aec10073c2de4f85ae31b69d2f4d02629039862eabbced329a3a581aa4735d24b8e7e9f9a3f9c7dd16223999ca76b51254142dfcd577b3a137bb46672125dbd5156f4a3da860bfe5e45bf26fe443ddf60dc2cabcf270ba5865b65108e8c9a69cfb9af758b2452a90399ded49dee527868bb48c0b6c04e13b02a9e21530b2d34539bfc8717b6bd98e66e2d87bf6885f6dececf18f93d339576dcadde665977e20c5d84ef73505bc52ecd343864395d9fdc0272dc11d5f77ab04dbbb6979278cec4622adda21ca706bfc0a21ca104db81f070bcfb15d2914d906786af5729b68ee590fc3e90d802ffab95359baea5af0624f5fde85981c70cfaa908f69d4f498c5d56df0d3be6afb7263fbd94a4ce2c9ac7d23676ea1c871bec3497f83292ed192b870b45fbeb1adc9a122650018d2394361dc45d0f27a4f3169e1f09308314ed38881f96133593e930121a520536270b019813545c2e6b98024d4291d105a7195a8656ad0c7a5ce853dc1f1e6dace556b8013e3dbf963fcc59f158122ae4b27ca148bdffb524df540adcdf373be1245fdd997aa30d6b78c4dfd6ccca8ef6d65daa88b61cb7c7e0b325edc248592521e4296c5f1b8b767aeb6cd4f7d763136b05afd3a0393984c39528315801dbf16b88a2bea97e5d81ada2d1a868c35fae72a846265cad485518abfa694414af7f72da59c2ac8a284d4eb7413c567fbd909817f676a3bf28c90b11b4c2c1cb3fe2567a05dad210326ceffed8a14aed93a73294592f95fcfb6cdbebe87686eefcbc1a147cf906690e0aec38c190e84bf8c563eda6f1ced26189411c1d3d9afa9054eb8d25e0480a90f61b9ab79dd962ed41d62dae92c8dbfd96d40010b8e06d6d518dcb10161bdd34315f28e527f684379dcb6b3e12da259a82fa75ce106dfea5f0e67a21fd4b017d324d2014357c2408b86c848c6da1659bb0ac200cf2f22c6f9488818ae6730113e250ffb91180c936bd3a3d542b8681facdd54db32b48c34a2dbdcb6aa0b1f47c898c6f00d74f05077eb0d493d9f8efbf1a7dc07a0ddfed241cf61b679cec90bddac1c9caeaf192688c6702bb202fdf42eb27b7e89522652e4527a15c1213f295777b9bdce408a9f9cda09fc89fa4194ecfdefe30406dd62eeb47f7bbbed8313abe55beda1561802280a4e2fe45954497a79daf243f7bb8d5b06497e51dc45ad008e9ecb909ffc3c9df6dab25ac49667b7b609f1d84ab4ad7d4ed1de1db05fa514e0e750e833b9ed83c57d98a2ff14c32e27f3cb940906be117584a30093155f080f0bbd8f118f79342066ac1ca875744f2dfc30d9d4f55402101281eee48fb009b8fe0d869249c60684c7522b4ac39dab99838ad05757e7f421ae14be00c179c9ad81bf38ee75d33f4aa87a5c3b0e4cf364c18a3f6b37bddb58bb0bacc7df68de6055ce35eb6851c375c8b708a9d1e4069d9e73674a46d54e5135a8db9a7a88096e0d0c1d9f887c602f50feeadedda646841a780289411a4bd8ccb393b79f17c8ba15864bc0b138e4b319b746729cf26fc0109f9f9286510e0aa43a262eb241b98af52fd6463a7ebd2bda4f2d045c141f723ba7d68a6846d7d90b7d1643e454312ab36ab3ad27a448f23ff6c5ab44a0c3e5b3e4b2289d2247b0aec98729ac5b05d3966f38e06b38d8567fb7c9c9589ff6552b27bbb67da96fc9eca8e8f2630a33c91b2f3cc1b114f72de84420f9024958660c52e6cc27419a1f9f0d8987a62395d6cb2aab5ea85e448a3d15ff712511a456e5be21c2869bec2ec34c7fa56e4e358c30284a7a544bc2f1d9186198abd214b145d0776673511e6ff704912b0d7e4c84ca196ee01d2ca4a7cc9b2bf11627e5f6cfd9a3d4dabced0fdb905a7972be547310703c6f2f991ef802a41467a4203e2afd4f4948c7c78841bcbffba4ecff40fd2f55b2a81e3118ab6eef10fcfdc3cf694608e2bd1e92ad1b6d41907b8a2b2314f66297e400d585027829fa3bc1526fe7d0b42584822207b135d27423f2c8efe03fc9a2622e89e31a811abe14ec24de3d22e16a5ac0cd113252c194e774a8597086e8eafcddaade9d3b673484fe3cfa0e5b0f5f3b3e9f39ffd2a3cc8c0d22e609e8bd009f1ffdff8785c1d7340b54fb0210d775ca9343de347efa45b2e4765f211bed6b298bb7fba5c145f9df532f2a0b90cbcf271a092785d9e8c75d69bb0fdb75fcf81b8f0b6ee683eaa534671ce74b3f2fb26906bf4818017eeed98c93d10d85f2e5b377e78c1e3eeea0a7f5c3f1a53e0b07347f679cbd88dfffd7c379e4748a03a50171ccbfee244e4a908c33b91ad2a4426c42d1154d4aa31e4c3b2dc8558f790743b39578de5bff958e746f3cd72d5e1eedae1cf74ab4500d12ca98d2e6e512ba33f59056720671b78202e52ba59271b47e19f427106e2ff54c4ccb52dfc176ddceb88f4a086b0b009301554e03027547d0213ceab0df737b5fa710fd829f07e3376aa7a83b675a1e7ec9f8b2fa4db1d2544214d5f3f0839b9b15815cd4b31ca5c41ae668e344b651af2c4b357845cd67ed13239e82260cd613175cdb83f48f22334bd028c619d36b326c17f92db4cda8a96b5df3d7c407b30dc61340bc6fc6ff43eb00867a6129dc11cb26411fb0bdc84a5efd491b449da41e2cf9e0be3b412ed14106fe393fd075df20ea0e6647b21f4453b2bda07282af94d272fba6272f33a46601ddb3ef60dd9b26c66ae50bbbbce4036f5e32d19cbf865421d886bd3555436034f1c116bf3d286cbddfb1c6ccaf3c64543a663a8e393367dc1081e92d8f56b48d5cbc5cc6fb0288942ead3f0e786dff2a2656eaa24d992ca37da4d0e8fb8c1b6d846db950afeb122e1982bfbd727711f8da838b4134f5ed18f1a964b8ee1a7b3e13c693317029e349f62d05687fa5ae0d65eb02e0b27e186edddc2be88fc41f830db89bb1e1edf532ddcaf0f61bb7ae7c539273b668e58b3508cea5778fde6f25367109b1bc4e69f4cc81c1c61d48093eba50425be1ae6697e5ab400dff6d5c563208d27d20b101ecf3103d4417091a5436b322ebe710cda19b5a4b59ab934947c9385ec35b8f9d3bf2e1c45aaf2fe4b109e6d6919a585a43828aa44c999ef972cd66a7ce59fd1e9bbf96696c426695a519c942f62492ef9cd0359a459e20b5fad680895bbb6d7d2ceb1fac8c2482e95bd6bf06394f4eea6551a2e1552567f8874e128d52f62bce64d6bccb812d2afed85867d085c7c26b7d756ee719a221ba5ad5b32952326613c177fb84f7b0f59807ac2eae61481efaa776d64059294ce1b39c8134bfe4f1312febf29eee404cc87f1146e00ee826e2087e999e70cc7e5024a3fc66ccbf00a3278aedacbff4e1bac987fb183a110839d5d11e0d26c47b2dad62133ce8ea4c2cf9c9b9014c4ef4dfa8f0e418954a4e67919146851aeb01a9612ddac21e2e460d7326361053d3b856fec3bf7421b4a32bafa3f1e61e53e021879ff3af40b5b32516ccc702bb98bfe2a4e7e9b5420f64623682cf3bdaa369a160c928eb1896c812db708806121aeac5beed19a85a8094e19ec20b1af8e66c5b283dbf1f14af6c517aa9d697c2e227f6b084ed0463a4bbebaf18ad6bcb1e22e67dfce8c85e06e0d5ecedf0957e80903566ff2dc87eaa38fecbc93ba9a4a40018791957e950572d9a83401c4ca8f55e8507fd22b2e963f969bbda2e18ea143e4c3ad427e3e41664560f71e87b1bdca0123d21e5f540fc513ff11e4989780179c46e5c6ec44dc4c17874c6866ab459c69b6a803c0c42ae40ac0e915e1b15b1323c078c7cc47254d0f86eb45d043ba4048600f1c3233843828d03a016b6fa111a8eac855ff8d4e00ca140778064a7111b49575e684e868aaf6251d0a7cba182ec938d11aa716e1a4d0465c00a2dacf96a000e4a5594e553c93d0118bc13143e0f35a5c3a5195b1a0ba4f9fd220a8d8e9b6cc049679742cef609fee597aeb4aaebb229b718dae116dbed13dcfbbc08f9f42041b01da922a941489953b5683613f7b2629f85d144135f5f991754890d29ef40a5be10bb5f76bf52f2ca45a7742434ccc19bc4b6a42ff5c207f5b9762321d4bf3929ba94d64220a3ced7cee8db44259e75596cb3a1ea6b4c2108292bbbc2daa45dee150487ace05dc94038b101c197e700d14e5844135f8ba17d3f3241137dae4df69527527e86d3a92470ebb8cde01149df4ca97e25ded7675ae92c99fa7ad256905f9d3a8326aa5cf239775c1150c9555036ca9085dc1128335d5f889647fa9816a0c95ba2dae791167d0612bdca07f574695286e9e9f1c3bb30b11e5e6ff915636289c92e899a07439d66bef503d8fa9edf51135f3583e1dcaca023f0e2725a1b3e2756b4af47d66a5b557eb214c7c20ddec41dc5b063701eacaff8a26ca632b284c8b5ab6b9a5e44edbca06050429f9640b1fcbffe45014b7b715bbf4cd084fc8fe189bae339bdf18ee0c8e69a71adc10ec9d98d3567ad2c900a95677030df2c46880038439c055e437b32e87394e71b24034e4c2dd9560341a00d53e5cafb3773bc5353bc61930ab25a9d81ef48f4baf357b810a4f4e2b3854be6b7c414f530aa3076e9fe5981cddaf0b20fe230ad2f7c2fd7b446ca8ec23416be4bd4773bae119a296a9108c5aad1181d4d2b8c87452038b0977e69039a98e2e01661eb05d505191ee3f5a127e98db89ef7315ae9a9ed6ed836246efc719dc8dfdde1a149650b38bbd1057cdf2fd9a997e946c557fc4a9f618edd5355f5e2db90aedd6ecf6cacf8a39ea379212619801b5e5cb890efd81574caa76351c8a233f591f5dade29071766fa583977f3ab38ff9844a9fc961bf0b043a0538c8e3cef3911caba12f87050ec2e2b21c1a735c1cfaa92703e5a6c9584cbb83b3dcb549338fafd93e038522ec99bc952ae370f0043376963ce8cd16801ee73931a46d469cb023b3144ecc5d449f557492af5bd71beaf628178c0e9b609207590f150efff3460281c76b825935a74fc40642179f98115a53ee080572cc48374fea366538d0f5c83ef8d3c62033bfec0eb7d0e9844b174ad8bec1c3339290a65056635064aa151e9e916983b14883a3bcad7560f0d9d74796b962190698a9f7241fe8dda08b40124ba1f22097a29a8ffe0280254d38ee65e926587d48606bbea157c2407d95f02a657ecd6e902e28dec5beeb75ccffcccf8d7798c5ca0d0d0c203c07c06b7a38c911994311153f37d41e5e80ef4a4e627859ec584805e27893a35b95bbdb5f03fadf6000e2ecada9b0df2c3867e5581742fa3e72a78c055a0dcac59f3654557f51f0a254eb88b11c233ef23b07cfa70f7154d47810a44cdc70e925957280289e22677fce3c826917fb6a9b5c596448cbc4e96bb269c680f2a83f4a83821177630bbb8f8dc568284f07587e5263eb89f0eb2910dd54f663533531300b6a5ec0c667a49de1ac575932c858f7a9e32d278d93c0d4cbe92cf894404bec903b447e1c578252927c04cbb2f2b0dbd0199d26f5460b5c77d53129e79fb1c8fc1875fced8d9ff2459d0dbee753b7b4d92987c76de6c8a41ace62a3b5a9668f5ac446457891dc1dea2b07641de0117a72be28ec21f4df6ebff53a570ffd89ae8c59f1b3947a656fbfd057b635c76e87e14965b227e8dae0a4a4bc7d804aacd5abb91778866fb764354f3489f6e3e6cb1edff99917dfd702730676195d9a6590804c683a33b718cb0b570e97f2ae9e1cf79b3a1cc2736afa1ef0471d64a0bf597bf0c5619d26b7106652f3e23b89e108a6f9f539694d06d6dccf54020d1eb5625747f3882918bf6259d7f368a9c1979997dd274ffcaa818d45d4be7ff60b216342850040d3f30e9f9d6f90aecc648cdd5036fd674a1e3b20ec73e949f7cbfdaf6194a6b1406e6d2fe04cbaeee6505d263b1feaecbc25681551959c539b9d174502057b106ff4c79ef744d50ecb939d247defa30896dd0cf93f071384c8531e27f44144068142d5e8ed138dd768577b142a42328c14be9668bb5e96cafba847a55638816f5ddc5cda82eccb31c74f5d2280a2a151e0da6b156c6190b895288d5e885002fa22816e08e169cd1801de7298838f653d40a5af6c15e036332c105d71380d9024fadfaac6302338adacd09d2a8612445df64c2dc4939dab7411448781874d5c39d321c4b66cb3c6120ad8b1a2ec482406a220d6465140c8f26714ca599f1f8d0f54f30e164f0b672f00be1d3b7e76f5cf57f62056dd4fb03d78beea9d2a865ba78cfddb6948da42bff5632e6e8d21ac137c8e85a3c7b851e99cdfa5b7f0ca7bc228d6fbf057207b5e2305d571e4e5954bb57f6fd68978866a8955b669747868cdbdca306cd82a6ebe50be35795b81acbdc8050e53c4b360f0b4c322913d8236164ba86f4829485cff89ca775d07dc93662241aa1c413700c7fd14fe5b81a1c76e23d8a0545b1399edc533fd0b013ac9975a497eef41b356f134936a75288d9587b4fda10d2758d9188819e2ea25957be4b8fae604ebe0429d3d02873c5ff053420e7868b1ab4b247a2f49a2d0f61dacad8cc89a79c897920526f475a91ef489ee5cf6ffb2da6eaf2c60ed11123c23716e2964cad6236aa78e87dd323dec886eec0ef90c889da9094dcd024a360d53b6311802ad7502f01fbc529b51779ce942dfb6b7799b07be5d7d1dffbe3e8a92282cd4994f972af6240294814904ef5a8e5fac809dd112f7ddf40ef7b1ae36f6fe4ec242161f3b918041c20d308deec5304de644a44ec82398de8c3d745d0424be25ba5daa0f7cd985a6830d6c2cf1185f519e7e0554dcc5292ee5f6fcd52aa3453a2f0863f45605a8b452585f0ac842aa6c7cffed1d17a7a47c097ade0354ccf50ae1788758c06df6113c1686eefdfc6331f55285dd7015e49d68d483822e8afa2c3fd7e6972dddf965c75d4ef161c244141a5eb800dcf47f96cef7adb13739a6d89055b6bae63a2cfea85afaf53dfd603043456010619dbf8852745d9cca6942182def2a7ecc1a697363e560d3d0f909c372de116936bff44403fd877922887f7db94a5e109175a8bcb43e1710daf1b06a15df936184f293e2d3875adedda40b1913a0bad2b95f4c7f331853d2270b566f40ada41a3ae808c6b974282acba50a6b048987703eb3d95ab443514bf204425baf7e32db06fdeb750e7e17538ecc4488ef840639627754cfab3224673e8e4846caf6a55d35ba0515a1ffc4dd08858dd29236c73e3a7571ff82f0b31fb79f81eec71102e80daf3238bc7e5feaca894a6570750f47ed546ee23acf0438d544bbff205fcbb69e80092c15bfe3fbd15eb7f0cea3851304a1823ccfac28529d2805d99ce59bebae04f18cd4306333e8550d42ffad0cc2f6d95269606d6619dd9e33fa9f02b5b603e251a8e4b9dad3fc8bf6ad8695b55f2b30b4651965975f3027d47283e1ea81fbf36977732e6b384c1d1182a0547ab3882e81068bc583b0779f72a30278bb3236011532e7f2a4e9f054e14ad85168ce1db67354fcd9eb884499f9c2f1edcd3d626c467e774b977e4b381f7e53a6498c4c858e5b0808ae3aa6c3921027aabedb7cdcfe8515b3fb854b9217e8b99b5a5b67fdac43fff041b3fe1ccb947d507f4409dd2ef2f57ad50edcc95d44d3aad7a1954a7be9c3cfe9b3e3c64204ce2c7b787291678f8177bb6226f4cb829f6f29ccf6ea8bd8ba05a78ab57dd377ab227207fd22bf415fcde885c5af2712a14ff1eac76078754cc83a74e078fe03e533864e68b0515757abadce614863aaf6dab4af48b07a2ad74c4c10f7a3c3049ee7aa4673e8dbed529d7f30feabd598854340883f61ad10054c8386690fbd137fde8eed21146e2f3d948c4252c37d56183a46e99a87016815dc6401f974f3c60f24a97c089633ef8a8505daf59a48e43d0323091cb3074f1d4fb7049be4b253ece2b51471215b9158590dcab3bb4ffe6b5002d617ac1bc49e518d8a2034c073c725b668c1223e0c4254e699727eb51b6f41a8a8575072f029960d78745b6123b10d81419faacbb46bc1af4794e36805c85b2d4c16dae11e4f230a0f220825366cbdf741ade7c965721e1e854c04f4422c6bdd0830aefcf9b64e9c9d1502b7b098478c55775d91222456f8b8b390c956edb28b46c176d90978b17e7456df2a3e04690aa8cccd1817088c6b03fba7eaa483ab0a6f0d8b4381783b7794cd0ca0d5e60670563e0ab0064ca9971fc3141e070564e7e42ee333b8c001f8abaf6f818c63ce4e5dbaa7f97122d2cf73f8d93ee54559436aef72d615886e18e05df326c7bbe3e27dc1786c8a82e08d26cb1684ace8f17bc89662bbbf4cec59c0d70033f8e96c64c8e6c1601636a32df66cbcc095693a601e323f8539bd9c566e19d1123de8216d805251cc85a013e6af69824fc5ce93874b03c939e122ed0886ec5ba7be943040b6f776394351c6bef73b25fb5ef1aa55e27eedf68d0b28d136fba8ef7c3eb4d1273bd7f15f65b67ffd14c85024eaa0295f8d3eb39582d9216ed90de51e21a4325464d372acedc5f3b7e73d9f9698118ffb610b62b7ce8d13ca6aa48e3587d1f0d30746a8880aecc89dc8d797b10f93b6ccfd5086c22815b723b60f7579ada58cb534b5bef6c2680ff4835989fdf7189a1df46678d1828e625e17309e075aef8b1cdb6ad09dbb5ea6514d78820556fcd3a36f16bd03719975eb84e0c6198efbf79c10c073fb700d28103626d9a5cfe67f2e567604916b3dfb48a60c0e16b354784758253f9f052751847b7b223c12831d93d263c4dd8e5878cb1f124f5c792c65df92c6d3c1af3be1ec3b25e749958f5fa2e87092be75d06fc3163102bde7ac666611634dd33943856d8eb61e273f35c825a805ccbf4899b70bba0ad0fa22474bf8f425c89d1f347d4c14e2e7180ee666a485ed479e3843da715635d4a551f4ebeb9e357609903c41ea9bfd05aabd73e19fe5c983ee1fd23d30c82c87acd62b29f39d9bf94ecb660b473821dcbbd52cd9b78771d33586d273a4f4d3b465dd8c4c05f4aa400a4801351ea347aac28c78330b30904d416e305555c725f473313fc3818e878c9a4dc1e37df6c1dca92d50cb961b0d865745e079a3a466a2fdaa6ca143e424f439d299ad9073fe6020d0c5c56f3d19824b1be98dd53c72a9f437d706a4e75ec72ab24b2ce67e9ddd66c31bdca98db1724e3e26abe5b17099911c7c0f915b8d8f48f027a38d7dc946e211a3ee581cf30421361000ba1e740f75c274e3a24bfd6bf7a506b7173c835c9ebed5144ce688a2610259657bdf8d7410db6464e1acea2483d0171834e54a177598268c3d57259d11de6955fb424e8f302b563182671c2f7e3161c058d2d4a40c6e1803323d7932c1ed31a54383ca27ad24c3f675d81f01d4cbc524e076a73cff618e207b829358d469af6af9fe51fe026ecb6e15b7fb515879f6ab1d68304479e41cb8451a768250174402f4e2f3ed5015dd7b11d3f2f027b1b93b2237c0df1d35525bde2df641626577ca423ba05443a5849dd62a844f8bce6a16076db41017ab1132ee6979d1d9ef11a3279ed489630131194c2e5e87fbf9a28c2b98dde0e884d60d1078551cb85b02dd068d6f7f6ef139aef06dc565813b94a2726bc78d3c9c64fc4afd7b12a916f7a1adda63dd9e46e273d455509c917233a3e4f4303bb940fa22e022e47d140112b73dad88d53c65d74695223d1f35375d74ac7854557b09d2e2ed388a77f739d5728420bfc98c63e846292bd3a5ffe23822f3b8756c7c7046bd9d1dd5b964f431b7e8dd1706d9fc461df10c4508cf5dd4e13b2736eb1e855b7b65249573294274f8b147ee663251ea444a9b189f9f2e867eab95a4d2ba81a15d06402c3f2e551efd411f206c9f520542ac35eaf6eccac8fc5e168adc7d9d36d2a29f1017886dc347c0c258ac77f1cc558fb42161a29bde1e3ec9eb7e5c464751a8566edcd8ef5150e0fcb5c6cd50b0f422300f04428d603a6866dd82a2c9850e1477bbcc36e5bd03b5ebb48ec17c8aa33beb06d95614dbb328023ea360ca43fb94ff68df89545da5ac42278059642edf96da541581d88481d803d28fcb4be00c13e589b56fc096df470a2dc5f76a8bb3b35a176079217fb941f5c8fcc29909215792e6cfac37634ce2b7542a54896c74185cb65b7b0cdfca743e55491ddc2a0dc38330ff22d790a84e8eb10f3952ae8617a940df31a9a3244127822e3b8be202ef48edcff3a0ef9647a02548a8f2e4261ced2aaaa0c4b8a1c27b4fc7e2d084ca94bfea40466f4b97eaadfa06e3a82c94a10f6321523676b4190f078562ff27a7bba30f20cb4c391ce52e21930869132afda78c654b8c87b55144555972bcc4611a89efccf9ef187c5bcb9356f0709d40a83eb4489f13368206fb7913caf59c5b5193e8552ea5fecda41db4e8139a16391155a5ea28d5d20fe9c40790557e2856fb800f2dee36aa69b596120aae4036c857bd4c0869e13724241184402c32d0af68469bd4550da553ce7495e07d9010f164fa76f6374297789e419e40cc455a025de1e01924d04d47d1b95e56039bea2d4a98bc3b7671a19c04c6aca86503316dd4e72a544ace777c612f1f2a9a14496e8e6b7067e79ab6f82399081bbc280ecf937072861862f5469412222a7dad2be4f83a49d8b02d2c1f2031b7fac9ab7ba8e5967b139b98826fa6759c499d531b0176fb5d83c817f700aff06f9f7aad4bd7c5a56a7ba07ad3b022eb3dd700a6014632af52ccc08d20c522eab6b4b685a14a95b190a2c11974f670f16adcc32fbbda62c23ac784fec288fac8c5078dd476fda16e2c77ab7963903f6884c89eeabbcf5488d49e0a2430c3f7285cd17c56ea10037538df157563405099b961e89d6c14b0fd07bdae1bf2216032dc175f139b7e330787c259a287b7aedaef1ff0232551a83c5110493aca1e10f50ae1991cc8f6ae9e6be6a8fcf1ea3077a1cedabc9d177cb692765118fe73b84ebbbedbe3e95c7c48dbc45dc1ea2eb26cddbf5daf2bd3a9ce9e60f93dfb84d8e60943c7ad36f262972f04e045db6e1b8f54d861fd2e419a9ead0baaded727e126f177056a9bd7116190c985284ff6d301ee24db2f0384cd272aabc30007548507f535a4775b380294b194c2bcf770aa66073bcf1c0fcf4c5cee9e2cdb6d954f592bec9ee7e965e727690f2a74ed75c689f8922d1482a7c6ea89648f1f8187dd9c04a75292d6b9841e7343e8477a20925374e61248e8bbc5747dd6255d1e95f89cbea61ad71971116bd86074474f2bb3c539de933c7cef2617414969e4730709597a6fe104e2df87b50e7f584ab05fe5e8b5780504e2acddbfd8fe94de63131c43c000c8793adea9ae3c322f18ec44c22ef103eef965b2f8f557f184081879493481c729b6b06ae5d4b83bd924f02d294ef5e02344461fb7b4da7e59ec9797ce9c2b99af31019db16c78bec645fbdb8e0b5e0eaab12d322bea0bb1aa95c950dd50b82caa3c931fe8f983f2599146efdbeb0a239ed9f0889851223fad49c73bc4a57045f6078d4931738e951392fb0e7ccfbec12035bf0267d1eac8e4f6523c22cc1b95fdf885af467a051e517b96679f38faead5e1048362b46d3af7dcb31fc884be3b5d04af51f34546f29c8de010e5848f124d92424923e26822597a80394815160fab6d429e30304d4032a86f73aa2f6e94b30b5558106245222afdd4dd9f14f98053f5ab7bf7b52250550a2a4dec7cac2c008f59e3e7d724eaf8a53a95e6901e14506ac8334cc95de3165ab3576780142c4482c7a71ddec9c4c49cb43bf21219b5adf3959e740bc9dd096f0dd1e7b8e900e646acda04c83861339293582fb7e5630e71f1ec37757214018b2d014f661332a707a8c661f8eee260a4c9faae5bdc670a9df85d3c84bc85d4689e3fa844937b864970232b1a8d8054243e7b63ddb6a05970794258cdf8aadba7f79d9330565f50e2436a60a38e5d0c8999e5f29fb125dbce8d625d877e801a5487d6e8fc0730cd52baf864c5cd78b607da8889a7ab486052251ef0f62122d3bdf07d3b5cfb55dd22a530a5cb72c0101e2eec1e71791525b566221514198cfbbbcfe0bc39248954e86691b55ea7fb48134be6a897c99ef8e21b2fd4117af2e4393f2183dae4da515a643138508fe5bb7843d392afdc57fe0d54794fad963cf734e71731c0af89308a50a6877609be147e1f2613a632fabca8a457fc54ac522b30f201a0a883c9eb8547b00155a0e8fb423ca116dc7989851cde0a60e12f9538f3e189b9d8b533f813acfaded7a88e791040da863e65f5ebe4a46b9e8d5635fc1edd0838695ad16bc67f4b7d6c859c59eb8fcf89ecaac8def1357128683ad10bf2accd65d478dd3397f6b22b723639e793f0bc93997c52bc9dd337d482c944f57497eab96ab8822e224d9eb79ce121ce4cd7f0dab816fbc59ea3a8775ba4bcfc617b61bc4b6a65e2f9635405e7c02b4ec830899d50859fa5610ed585b2ba286e6c74ebf72ca5e9654fcf3382a936a7482e52540a2ccbe7f7458b5f97a480750e7da6c69d286cbedee4b6e31a3c476d44bca7ac01001815fff9be3f8452b988922e1435975a1197681de9c22ed3e5c563ed67607efa7ae91d04db22837672ae57904cc5194dac1dee8c1173a0bbec1075459a2de4cbbbfe833aa2104a9aab39e2f284ff1c2840a8cd40cf3f6f0198198af82ed4d9a4091e25c1271831261821a18ea31d9fab9879cf5b7faf98489b25c86c6cd51bfe66d8bc9cfa4584e3ab2f8805572fa2bf635bdd1110f0b72864b9ec9cad6812be923e1418792b987eb4a36020c20f4100552f9697bce7d122b8542647fca3a7bf79669d6cc74107d6ea51d788aa9546b13c00bb87719da560b0a3d6fd9938d3e7f6690aa7735b9c830433011621e2b66d710b173c3168c21e4aed62eda9bfbb6e9f7b4bc72ae1488fd65bcb32e26eff0fa45829c7eff6837e2378e44d7c9a6ec3e198b7ca159f92428a6fc6497f79ee310c17e33f03d1b0f950e52de47300cda46d385f16555f901f50e81f3bb9ececa2f19728907b16ecf4c55da9eb1d6b0773f3feb2cd1320aebd1c327e1e4850ca7a87bb4fb1f12e073debf991af032d8b62dec5c6ee96214752e9f0f90d0fa940af2813a2b396f7154b79e5f1e672cf4a86bdfb6f3098421d89e66fef6c391340cada1e7fab27c9d4b39fe8b66edadd81dfbfe4f6154d847a84c422baa47121d9ca03ed72255ea1bba878b4f1963c3d9d800fd003469e4cfba6a1b7963a9e99e56a8a3b06517e5a06296eb402d179d6c06f5265ad0f2cdf2807bf8cbaf9e04888173b7f0a10859c378670f43ec66eb61c84c4051fe1835fe71eeeb90c133271556204ea26bfb7d30706e26f23b8031597a33730a63d9201885a72e5dca9a0b3c65cd1adb9add6c5a3c5faff45382cd1b4fa05527e8ef1da1a16452289b8ba7cfa4e0c2239d9d308a00445e28638f0d1a61ba6dfc8479952876f75955e8ef9cbc0c434c850eca74d9d72282745acca9253963fe1f748288f319212b32c3bd96660b9a561bed5d95204c3b368425b789c485c86e9bc6efd0f975a22a960854b4b12b86a434a11568b538356fd7785a8bbd0edc5feb1859f7cb6b447ffd3e2876d8dfca698a1f3610dcc2c61a11be6fcd8473f5250201915669adc81f45da6e2788ff5df5a460baa9b7cdcfc75d73242512f9562d8fc807ec4ef8ac99daea40ba917854a744a8cfd227203db0b204f0bb5b81467fd35b968e1a8948bb3c246f0e1e66b7bacb2d2737de60749815e84a7d7a71936c8bbba7448656aa8d8a18aab63324e0746cb65e4dbf8a8ab50f72305104694bdd83673a54cd02b9610ccfc1fd85baa9aecd8a421f604418e25e49a3ead6eb19d9d836708aa673482959f5d95b991b394c8a9c1f52fa81029cf6701a5ea222e9ac4495e95a274111129dcd2544d2c55fdd4ed2b82be927d47aa8f32df663cf1d13d91bb16b8c3da9b5f2e4eb5d808d263f78938ee4d10cac22ddbb06ad730a08358bbfacb403aadcef98c2e14405b37febd027fa70a032aee87edef198127e2c69dd401f5ec8b99cc16f9dcbd20c60779a01140385ec9490ce41e8af1323722e775ed09d621892e2f914e4944ec0bed61c0fd442c71a3b4a99b1da5f96a653b522","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
