<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c11d8a0328a39f4308d8144e706cf398d866178a4b589227f7735ab552aeb54e0bde341fef95a5e1cf050cf458ecc95da3b42d267e3ccb307903bb142d72cae10e4944a9566ee48fcaf0901880894b803db62ef5ca1b6f4efae30a7a5ef7b3e7f5252a6c721f9e0111eaf3e11f0fa2206e4f30309c98fb922533657ef052d7eed4952d6d9a54de3cae030b2b48e472720790a493dc6e3f70ee89d3400652104e5a41ddf8570e9898d1e482a77b97c620ce61a30bfffa86b646793d15485d86ca2fc9ce6cb4540424609e27e5b05b8fe9b6eccc927cb82f9194f32b133ac98a0cdd7f9ee610cd78a5223e31dc9cf0c239f4f58fd5c9f3b6ad784f0f27d689d83945f1239adfe22d1d22c9b2ace0e7b9a92c23cea66e0dc9ecc9c2b4fbf2d1a640a5cbff2111dee38c509d03243375f19317452f5cbff8618ad9208104721bb7c7331a6ddd4b130c0bc5f844fefe712135ca8fc0f2fec0baf50df81f53f15a5f60374f6c4690c413e9330fd342bd18a91a39cb8516852ef1cde64ba4566a284cda7ff9772fd298d994b709f4131ee01f45cfbb18c5ad1efe1832b4d79a0e7606d120a194fd172cfbc68846620c49b3303290a46c2c7cc77c2c16066e1a6287113a5240df582eb283250fb33ec9f88ea3981b34457bccbc37718b3da24cae051b30814d8deabd109fcdf92b559aeea0648f4b1107dcef51351c79ce6f634423aeb37d3b64e1eeee0a35b796aaca923ee79f71e6441d2abbf252764b425b593fdb7c09c0158490f278c0645fc35b3e6dec3d47d7477de1657428444be20cdf5d2afbf08bb8879e2dd967d77cd06869333e5c088c4040a2a4a2bdf050d7eb39d231447f621a904921bb0bfe68ce179387e75cc0a553960185b4e6f09c799824a72f80b78545d8cca99a91f1527abca20cea6960fe7d22c96f1453fcb5f0e903dce284b96c919f1ae7e8964fc008e599622a3537d74d54b70439723aad0f7e0abf6030d6487fe9d5055cefdab4fdcd87f5bfb4cb4d24a63f9dc1b7c478c5fc232f82bac88c55469529fd743b41fb89d546c8113ff8a8c3ad21183ec337f57bfc70ffaa54a309657856ad063e2d28f61fe5590d83f9edf9f0410b6777f1d2ab210d08a12f16c1ad914745d203d514d8134559f1e4f9f225dd0e56d08eb71401290fbdc5da8ee9d83714bce24aba62045ffaec0d9d0e13a086f75048a35bfca775247665fc0933f92e4df83ff4e8d5835cf11c3b7e4e44d76774ce3de4984d7a54bd866eb31ff282b76c06b29256ccbbdf13bd5c56a044564fb4a814c8522435fbf99157386a4b77ae54323de321edb78315c35cbf4368e5358abfbd70f92eba2dbe9dfa14c78f2a423817bcc04c2e6f333cb5d197a2164f2637cfad23b8aa5c07ab9fa9120d01a948540469d3e96143f67a4a28066dddaac5dce038aa7e310ec0c73eeb7456e2706ec4c71de7b0b8d124ff02a64097ccb286ffb55a5a2dabbbcc43c7e63dec5d6f74a7e96f172f21b3c693529d3ddd244662d4cf53ca60f723a24f4be51947d0529ddfb5d4e3bd5dbdff36bc6fe28f8401f8d8840a44253128812b1eb72fc1786ce1359ffade833a98ff09d38d3aa7d481fa7bad7d928669ed178275f60f4fd2e3666b43eff3fb496ccc66f098584a0fa55da291390cf5136dcd6ffc136b764cbf6994d72feeb4b120ac218c4e4b1ead47543bced03cd7d4e1e254aa71223e182cf11e2e78307b50757108f9ce30ff87de3e7104152b09219a0f87e0d848a5f7565d3ecf42f94e7994b0266becb652f6c5f0fecfa30c7855cb5f0b22a78e56a0672d84c5597ba3390d8c19a9c5ea9454aa11e98236de4dce6447774660e5baf0c6d620737ffbecaa0394c487621f511a20ad64cd1e3d0ea4fda137b9277e6d5e0f88934aba49c7d485f910bcd9903c23008106bcd89d531c5ef8cc3bea67925d85b86fbe8db4eae11043c21133ea44962da94208be899f184ae83e5d3a089369b62ff8a985f01b62094e7ef7f6827c4845b09b4ec325c1754cd190fa7735b99d8307e375fede083e081550d1a631cb3d653b65244398a092676beda41735ee3cbef21c14603db9a9587ba6f51f80377baaa93cf3b383a32e435eed0b16b28a2ec698580727c27d376b6df7f3e814f5046905617fb5e09e426f2cf600aa5740134ffb2964d1ee679eaa517c5663416728e2fee150d76964fb76a517468281b4c96a2804af7fbc57967b137a7806185a017f5517b3a34415f69b313142aa29b906e744cf52aa7dfb08e4ff00cf3efbed40e17f7d048fff01f2cb0be268d845a9de4d1b904db79bbf2e456cc5d61415582ad37e20020f00d35249771abeaca0e96d546cdec9c7a59ddfa3bf2f59667b9a496e2a5bf529fdffd7f277de397bc6f35d2b82f8a3b30c873d1fa347225d2fc505037917afeb09b48fd715ab8b31f39bad6c23b9a85b4436162c646bbe050a35dd5aa62def58a1cd13ac666b3e3b1fb93eb786befb9d9d8a9b4e1f5831a1803be611dfe3d29ae90935944eaa700da31d271a9a2dcfa9c70310ae7c416c960dae570ca2a61773d6b538178c257bab79b0cc939f35a8a7b917f98a6348928888b0789f1d4382f264159d619c01e797ad1031664634ed3fb3424b8ac541c1a526a5688b2687769584020eb1d12c1d8c6a2420c489c3f02ea1f2d6986284e955718f6b00683cb5b7c0272eaf9b82e59ac86980a5ff3e786e1a7ea293d853d7ec01a078319c0f4f249361b11dfa0389a0f2a1753a2d55e927f8bd14d7a8764a10690d2e11d3ff638bdad3ab52cc4a0fa60a0ce79918d84636068432238e2fdf2a8942e90d551bff75ef9f46c57037c8714f75c114ab89797af18ae594ddb06ccd088812c3396706ce7b011af996d2d924a91f233b06354a40fce7a7a9c31cf139d57a38ccb16ed4c6aca7286d3ad21a559a028970f042bc4d91bffeac52c9b5bf7f39edbf39293bad424152670ae09b13ed23bcdd5343a387d6bf032ea19d5559297b398cbc5fbbdf3433d6c67018ec3c95f89f48acd74907cd092cad19936c8d9232fdb793a238af459540d06d02d76b93908e83f827769305f69cb73d47e0ee0ab13a2861c4fd0e7b9afdd9641bd263e078216fc876585e72bca172f1f0fb81380d725476b7f151bf8be9f0ef1e32004835e1d65ad49ac65821dd2c5384694f0e4b4c6143bfdeeed694cdbe3995512ef03fae82be51180c38ce9101839f04f24906b6964e1b86bdd5ecdee5bde59bc0d3c4abfea6672e6e3bcac45e38fdc05066011ff3bc998a33c11d8eee7ac89fbec358f0b3d114cdf4f8e1e988832f718a1c02fee6d0d7c29f218b874d39b2b550e00107339eca8feb759623c6cf11accd2fa8c7fbaa07262adfc661100c443daacc6aac52e511de55b6009ef7c401a6c88d901bf2ef3ddd78ad552064b7692705394ae38300390b31f788291cbc3673670fb0010b70ea23e59ff3a7b1100c7eef161840a9653a5ec40c61e367a5e6d6161215da70c0a590971476f91cc659f4baa85de30ff5086ef5ffe2a717b1c3aa20d24037bdd63ef501d9714f353ac60cf60bc2dac253c259f45c81f46b7e634d71dd1721b29576705ec887ac49a4c4f8b5ce15e841c7ca7e1910f8c18e836760feae3a46ba81412dfcf46e97c3a7a005c36ee3a14341ba733163f6de6b916008258d4503f276fa144f931ae088143686ea61d029a15118bad2761a06740591a03ed6d88d92ee5c581298ad4b488a91b498fe7deea1bc571309c958efa1eea737468b52674797ce834daa1fd68f53a8c1e6d6c1458a1bb8695e4ffe96bf2f7b05a45a776ef4ddf6c8f51db03dbde445fe1c4470f84d27195ddd0f52e8336b605e4323218addaf5c315473fbc8a1648ba3fcc357727373bfd52fc7e493a34371689e1fb4f44e4500b9a80f4f9c50ab0b94f3514a8c186442ea0873447cf1fbdd245a6216e48d4680d62f8e562839c0d919c84911befa357373d4211d2d9fc1e5436b76faad86d72c74e911f4a308dbf2ac66a8c11d4c8d27c103eb8cc331f7324d88ac4a300ea33c225aa49017895a24b0731805580d1129d8bfec801a8fee7b58aa8d66a7699499b668bf50cb47ccf7452c8014e6cdf70095769a7eb807414fc3ca516d90572e7d10826d9395eb4e237604f9a3120b21ec8010785b53c07d75542066b235872f8f7f717125e9cded94f9d42fbc27b29dbb2e35161bb81ac74e17646a599d264a9ccf4cb28e6975b7db802f3082de4759867a1cfd1ac355317ffed257a3e418aaf374f7fd2672a27eaa29a86862f73903f45f8c8ef97a2b3d4faf31af8d174bf7311cf982693858bdf42460f43d85fc10cc69e67aa0f7e852f8757cf8826c5877bc35111be2226630d8a7d5683afc5dc82526881dd2214adb147987f74cddc30354df9084aaba2d58d076bbc7a206984178f98eb1440cf3b1079d99d96d22b4c9a89ff8f8605d10b73759bbaf960d036e81a5599b1a372f5e7388e16a85a02f7f674424e180adc0a35fb2f7f892617bdbd82773b1e31619a03b8ee6c8dd24960493925ccba0dc5f33ac1cb8e8e7dff2ef2d4a10bd9e9e69643553c8ba8bc816b073f130933ef4d1c6c603a5506fb43293f1c5785863e10d22c3e97e746f8d6a8d2d07d0fe2569d6e05a711640af57926a06173e9d1dcb17de029ee3594e1dde7ea68805b47cf3d161d37a7f0c62fcd41e38404d10e75878ee7b72e7233b58292e911f5f1ae553fce7a6261c21a428a3cbf699d656ec13b52f29cd97b79ac707fee9b48d2840dd45c2eeda35a66874292faeccc563f94a9514d0a693f21093b97415dca19d21c47ee5071f9f0584d80c566d2afd38880cf2ec21191edc0103bbeceb4bb676aba7e0970d38f7291140844fd9e0a0aed0fd29c0d50c6a1628d406509598c14550d46e8e39b780d804fbab34ff79e153e22bee97086826ee658f6af65064eda9be1f7330c8a89d9f3b29b9942f3f826126b528901e6ec1ca8f7aef278754f61b021850bb0a75948e329a9ad2d52f25d198d7b42c069f805f5e706b0b3ae6711f68d686b0171a05f37d710f4bd97f517b4dd92e05fe69222e39ce602eb2e035061741a211c96d5d988d3418d043afbe911511e1b278f1b408f21f28aa15b5bb44fc88cc4f32464d8a1613474d594d46a8c6497101a46f539368670f94f3123bf97898948cbebb5dfad0b9b8578897eb64aa66b4c9e3fb9511843575e452d0186e73f114f0ab064799740b5f7587e68708646203f318c4df750d38ee7ba9db6166eeae52c34ff604dc25e9fdcc42cbd4d6ae18648846a33aa84587ea4c6170512baee0e80d1eb6a8838880f4c5939fe0c369b2cf980bdfadbf1daddd92c6ddcf2003fcce2e06ab11e3226509c0e4a403f73028b3f25f6ede33be58310e703c1b0114f13e89cd44a5b79498eb29cc5c82d0514e00c79b7e7e37292ec91fc3a09e836b25dd061070ac32da835408a33bd5790370af66c770b34f4ece3af6f9df2a2673b943944d72aa01b348d43f58b7cd51fe32fbf45f0acf7b105e8ac3eff318e54c50652f39b99e1a5b613a99a6006e74b230ba343db9bafbf794e8b4090d212c12f33d2ee018e4ce8bea4400edc9b3ae1dea2d4f4d9fba7565e4632a00387068ad2b36aa0a99a15b97c9019648a276d758b2b14bc94dcd10d1f34944aeedca823de24f95c8886a8c88ad4f17acb5afc7907731714a1f331f66b5c102b3cb3717fed78d8b28e5bc95cecd129f3e483c81dda9452d69b0a439eea05a19daf176313b28327c7664ef9587b21a615f577aacbbf5becae9f687d1aa94522ef6f3a398dab2d04190a548f51dcd103e9e03675253989628a7e9f3a6ba7d0ea86343562a9b773c0004a07beb073cf810b985597f5869f15c14b4248d930ac1a265b80a2d70d31c22646ecd59f5c5844b5fdc647b8fcec8ee0959b668825318136081a7ba3761c6eea7e556058292ddac9bc6d851f0ff95c5b20b353f077cd8870f35fd9950a64a790815f7c694506acbbed4e8c29ae8c6431a225e3017f21fabaef2f6ff438d25156147b04576ad823cd0f18b2e3a0d81352570ae4048247fe61b7e080afca8c7bded6055bbccc5c93443c753eb1aaff97ed59f09ff9c478dd34dadd1640ce3c184caa42c6f247ddc2a02e43a109d53fd3e2fd4abf4f5992fc0ef5761de2ba44029e07ed80335c7fa2095d47dc1331bb8620766ff624a73577f7872bd69f9a559b5c765ff60131480d76423d4ad3bd092d6195a1eade131ddbfce0e310c4701a9018425ca385620cf7506e135d817bf094dcb769f09b91ea134fcde8590307c223a827fcd70459f685414c9d6cd42c5f6cdac6ee6044639b0a9da73fa811ce34e09270c351e3abd03a1f913c6bbab80721dacbf784f159214af5b0b4e76807d4e63cd6486f62da312699e3855a3cd99eedc72d4db8a59a171a631eca2fcb8abb492e86efbde94dd74acaf30e6e8f153a085aa38b6d8758fe9357ed6a09940adf7a5eb2e3782b351c102cdce39f7a39d9bd558f850944beb7f41eda5dd13d3e6df06fb4cd2dd1a1810af55b53ad139acd6663054e2b322fee9f81955f7ad903e50cb7410e00504429760d3a4fd24d67a73e0bfc28e92afccbd448e4e58ec8c5047a4717175ec410ebfa9889e0d76985cc0c7aa4889ee0009da0f5dc2ffa8e9554caa323bf5bfed47b674a32085f9bc5d9ae7058ff195c3edcef7ccc33378d8dac613728c5372edad0293f755c83dbc36db80458796759873067dc1b61189885a6300a7f41341fabc650dc5f116f260f4ab42ac91dca7340b0e5561840b9eb987cb663add1f5e45469a5550df5ab992a59aa9cab9e8c811d0c4bade2f9d4771401df34c458545e0843d4f19760f5f4d0049372a0a42fc61633814173fa302b5730f6eb274a80e51f58ad1e6663feff2eea8a1a28c51264f375d888aefc3ce645addad797df6999a702e677c6a5170ddacd0743a8748974bf001cc23804c94878e276e6b4d2d63d3eb1e68eb0feaea8ce8019eae419f0fe8032e58139f4f73fd8bb201a59e2847479647decb3256b736f0cd195cbff97ccef2923451f50eaf302fbb7ea1c636cc8213dcf3a8741883b1b0b54d18fbff91a6850fa41026932da3d6ca2ff96a424d9eb51dc3c82dc8c157627948faa7cc63daf24f5ba39b56c5b65ac100e79f9c12669303b6d7797d597e27f8ce782a861157557edfa39c29c639d603a3fb99b47e3ec96acea136e30794062126ddab477482d01f91e84beea295e4f090f7d9ce5c63c4cb769851e7f55abb5d6b6e6faac90c8315fe60e0c79b05a4ed452a0f880c79430aef63a7564b698ecb7d3907365599ffe75d9bd08082e57291f549348a88d40008c0f4d95962555c97446771a04acefdb0e50e60b78a90c1f3a61f7172ff3e870443d16107ad545f6fc06b89aed3b37a1b1cd72e8e223c993ecce843ad0691e5608704aa99ba8c4e71d0e75abb4bcc3199a59808d6986b3bfcc05247c41d507a78bcfa8ce6d54347398328418a54a162a9786f6b0b6e0808f7cb60166b58d8f29f40ce1fbdefd455b20806c85e1b59013a86101432a0f4ae98c6d77d574882c2e5f1ef32eed9aa49f1ab1d4fafae498e1d02aebcbf180181bb31652cc311fc6508547818aa832382aec13b578db2def022b8237561c38e6dc205de5ca707bfdfbf1a7543331ecf93715bf0e3cb0efcbdef7ed26f1873fe51c356d158a185d7e7953223bd81b4385c70b1a16917df42a92ec03b06be91745065a62a5f4bee1210074cfafa876cc086f5a14e8579e7cc9757a1d58501ce2bc4528de89c877d013bce8c638186a4d2bfdcd970ae455bd40d11438df4d011551526ab5e796cb79f8438e4f82cf8d93a3554d1fb6688c5e248b97c5104b7df6a459e83d8ffd7f4ef6bb917f3fffef22c7650b3f278d6764ce9a8c94548a77c469e147727a0d111cc59b9226c7a77c950edb74e0715a572b9327b23b66f57fb343ba2375b95dc96c44ddc37d1325769cdd0a2e4657f114b21e3104550f5c9164069e1320f0db24609397eed3d94dd570efa909405a9c63015bd53e6feb829f21d392f87baced391cb983e7e3ed084b56b17bd554cdcabe1b90d8055acb234f28c30b02504ae8d2c064ee33b747d6b81ba486ed08e372a7726b0598351f60bd8b582373f35de722cce0501e3b225abb90390fcb7d499a4a4812d9380a990c43f02b22d5a2daecf5fce0c030fb64d8f61ee44f3e90f592218127f04599bd4de39684fe6ee2a81bf67940fbce525611fb39e1b2d5b6873bb0d02ddeedf808402b1425c81a405861bf367288d498ba7c4427a5604f073dded5b032aaaa20e65f6224f95ef47baea2561e172cf043d80ab6b17f9d009ba25e2afdc0b7e5875b3056b36fe62cb102d582dab354308c95a282a52ea94296cf4d752cf5167f0c0b7e87dee35333f161995e431b6247df77cf601d289f9e52ac719343e095f5201e770c60588dbbdfe3429b65ae30ba5c9fc6cebe973701f4fa6d979d6f6ba3671ec966dc38a5196c55aba606c3a34778c4fb8a623f2cc3b387fac514ffae48da85d301bffe10e582df09464086e0ffff8f11e6f320cf15dd81377d226521e3d30659dcf08ba57798fc4277cc3d9a0718a8e36ece3afe9b2fd15953524541057e94062b339268cfa1e2e247614f913aebeb6970f8d8b13c733fcefbaa17721006c8027db3e226b91489d067d688468050c289eb4e7dff2405938abfa3a6ec1db8f660e44a4fe2f1c4c074705c032663697e6dce6e1238711d86d8fb23f8c0063bb3a167ae467fe3008251f064315f659e0150bb960e63a777c1d64c03943cf8f6324efca03698aedb7cdc541ec97823ff486174396f07d04a04e8051f45df02de0e5c10dbb6f9f277dd2d47b5fc5513ddcbff4fd72a6143affe969495e193fa0402ae9892213ef8717a7f23688eea69cbea4e7b1775ece46e3ffba147e151608d11eb1521868dcd839fa0255c00929c463eefc8b6b715c1a20132407da58ae883824e2b9fba1503b234c14df01cc27d87f50620ccf073b982174b03971d5709a2cd4a3458ad335195627184360eb7f63e7d9281f11866459e596bd6058327275b38dcc644a2cfd4e0ffcfdaaf91f8e581b92546a1ea9c39eb292e161e186eee8abde0628cad6592a1070202f5fef9759fedf1820fbcfeabd76a2ebe898067ee0ef31c4d385e62a496f0ea371250af5f3ef963b9d990aebfd720ace9439c55e76d86f7957053026fe5385c0b9b43996d5ed1399552efd498ce46718456a01397022c0c7e34ace85ab28bc1e1342956d340739393746fbda7bf092eaee36334296b874498f09ac4268cf6dfdae3593a6254b2bb3c273cfcf5decc5232f734e55d466bf11421359e61202fa0747bff31ad3bed566025d674c9115e8d72f4ae29c50d5a99e73fcf3d0d4de58b9cabb7df791466f4ae7ed23f5dac023f7868fdc0e0c74de09784ee653434b4ffa58e6b65c0c9a1c1c0d44a80a89ebc9e8952d8728e6514e032b496fb1330642d456856cefd1e68c0eb77793c4f5b8b447f519a0001a3587b32ab252b759fb523f32eff60d403f27e890d6175242d26a543998db16f60ca1924e1ab3d17cf0bfb885dcc7d622a6c0442a41d278d10890b9198d86387a5700a456e9d342105d99932ccabb2145ce844d0a7051a4ff25fc0e5f76662dfd133f3679765ab94f446a8073aff801bc08d82590827a34bab3ab46635444dcdf98f536f5c3baeeb778d5158d61498bc05411b50284e5fd15e5cff6973d2667d6b685bef1a3bece8a1437f8cc3b81e7dadfe1bca90eaecb5c2865b8a20566f2979e4f4eec4279b88d467fa189a1a8cb68fe79fec071c1a12e342af5838760c79356e30f70e09a1c97f676dbdb0ffe1bcd594827af075300a00f16c54a50595cf6852c765857955323baeafc3c2d1eaee6b3bf679bc20c7cc304897c10bfb2d3c72ecba7e29fc0e181f4ab716aa28512b094d42aa5dc9e40b5d786dfe3ff5747d8e00f93ac58af62c7aac6b830c4f2f6f9ac560b140966944903b41d573f3207e7ba67d1bb8e1a3c89a4928059dbebd57744fcf45ca02fa185172dbac67ab3a933f4658325536c4803e6a41031ea23cadc9345fc10e2e466541b25ea96f63a5b288f9643544347ec0da3dc981d6baa4d7ad2e633a3434eaa8290c494184d6c52046ebe7e008170768f559bb1489a7ff7a49aed9535de144c7b993bcbc0c75362e3fc105b081aade70d2463de1afcf20a024fd89e363596679ebbb48b745afeeb4b0d35f84564108fe4906ea253b4d0dda737c8cd20e87e5ce8e7705119d0f975b65479f7a6b297f0a3eb67c0c95792d6df040de56268f2c4ac436049bf0c45540feb2e88c0aed36a8367b375afbdaec0f8af662f06f4836d3461270d52a97a50cb659e754538d1986c5b8be01db23133bb6217a78bde549bac0a1c2a158b198c8f25e0f0cb317e2bbc67705faa2ac2f91d4da342e9d53e6b2ac98a77610cf74fbf9aee5140ed5f61281dfaf5f38f28b1c545993bca8403fc6110d24a9df9485694ad38b67e53147ab725a888480c49c46fbda26429132ed7504318ca2971086c8ae91250d223c0fa8e3b1d40ae5e115c076536840b36a2709f668fddca16924827f40c3db5a062a67c1e14a57c23798725eed187e1542e775cb649b9ddb833bc7cc0054202251dd0b1dde444b23e157cb058d34776148eb3ede5eb282d92652640763170d439cb637e8e1f66dc1cace4a7682aa495f76ccaf3ce909963a5c68dff974cb79e8225f4467b5cabb7624d2b1737c24abbd30667628ca63b8d9db3c45a9b4205937bcbd9897879a4fec2612bfbc21c801bab20b7c7aa1becb459dc7561e9048b08bb2f7ec49f8d0af791a47286456adb3b91f62ebaf051f98d4fdec1efacc905843be0a1eb35c320871d6f7f3f7c09daffd879c41f15eb3c040fa59717725efb2dcedd098434145fcf208b2faf8a0546ae66f30e92eca6e59091189b04be475861750ce71ffa6da3504e3105487ef026e160d94413de1f71d9549822aa3775f93f99a7dd2bbc3d62ebc80abed99b7f96fe94c7c0eb731dbedb687b9816a8cbf2e728e41d7b2990e55783a6f4a54838850bb05b6c72598f936abc1e983fb3a34ff9635a27324093707ecdef5ecdb1380ffba0dd9a2f3256c9614da6b02e36e768bda8192b379f473a4aecf5f0450a8157095b1fd101aff4260a79ced950269028152bd2692acdabaa07385e847f00a9d4a4b0e8988a3a2fe6f47637d71df0391c65d57a55c44d4ee356c480b9c5bd4d1ec41da1e97c5b98dda00e698d5449452bf6c3d558ba463551c3e2c74cc74248e607b0bdf76da1936f2949a8e6781ee9a73c3b90ea85be8ff52dfce275fec5fd5f1de3d822b0d969fac03e3da4d2299d49f4331e9d7525ff93621a0d9d251bf1a50b074462030d4abb803211e6a8928f84e9bedcdc78029e1cf6e626fb623c44e572fb344b31cbe6841b8591518886561ead8e3618719ff416701c9942f1d8f6d08fd2b01d2dd4b340f48ca734069cad0ac3a8df0cc789ceb561fe7248fa23b581ddcff9ed585999595db64e8378a1b4f921ff2678e6921028214d31204f2f7473f81ea0ecfac34deec64d444d24997d7670fe6c857a5ed0af6ef377de0970ccaf10e8e8f6bb1e1f9dc06a48218e1c8dd500381537ace5dfb4b02da52a5a9ebc6d977b95107527fd1577706d85a07f35132198950548395bfd36461a33abd24afe9c948389f3946cb325b4659e165a524f728513a9c447eaa1eed14da1440770cef3b5dc73f93961346720700837ab994e02bf24a07ba33d1e033b7d50846b28d58f5a0715ced2128cbf9a007b5d4351bbc1aabce31e38583f815f8b88968fdabbd0d3256183c6154647e03f18b75842d344d0075ba6e68296aa5da8d0dd8992fa125554e9e13a40a13dd23281d185f4d01725a37a67677b2f245390b0297273bcc15aa32755a921eda341a4579c6f9f5aadd516d5250684fa0f55d001decd37df94ed68cbb74cd6ba8208ae1416d905b622c4229e9ffde4817a89813b49373234ac887af0593c1874b24fb982dcba9e8590e94d2706c1dbf2a377eef4bc64b74a4d8f17ab3e388844ff50818af7ad1cd05682d7ff5d3392b23f255a7c9dd2fad28eb0150798121515491bca564d4f5eced89a80d9a49d6d83a9e835d9af388e87517392e9fece0f6348fc660f8239f16a5258cd7bb5ac22e3ee4f8a005e5b2e9a964c29cdbc43870af58f10852244ea036029549ba96a67d83e922fe7c8da73499db2e638c8a63130946d6a2a611f80a44bc4ae4207c7a0525f9ed944396f850177debec92c1c7fc7820433f7950bbfe14f19ba764fbf1673c7d95126f7abdeb95ce45ade23932bc84cd45ed9f97438e1df529639e1abf83765a19564b5807d02e498de883df7c17cde31db52e8de91be4fd83d9f0e0470c17cefc037ccbc7b3ef9956c2a587e16f1080030aea5d3702fba99efbf3ddfae38ef448a79502010f938de65fd3d3c011c9c634324b1e0d16629d521d85dd3c3db3c24e3048e98d549a043c26b040d9e4b468847714f736c6fdea8bc3a4821ecf903fbc62f8ceeff7fc94d3068ff64b8add89648e0be54d0e2768295173a6bc23474105030db6aa1a2a6f2492767f2ed34732ed78040ed486c6732dd59e4d1de6e9f5de1fc834fa642fd8978d50bc4a2ee0901b4838ac26bbada115c0c365e0963ca5b10b51c41dcae8cc4038089062e8dee47c805294667b107910d4452db734e6035be6f97044b3c9a3947477847ac96333cf2bbf89d60d742a7e2e3c80567021cff92062ff3156dc7a5cc3e12f47b0e8b514aeaf68e22905192dc2ff830a19a1797aa95581fee19897d64bc6401a42a864969889c6841b27731148bea12ba7cb31986f4861e41656d6ceacde0c9c378e86b4e8ec3e4883177dc5a47fbbd882cabce508e741cd53e5efd4d198d9c727a1564e00588402085b088c688af6cf7135fadb47912ba70e3d0b23e17870ff153ce2ad83ec16e1b94088489466a02adfc3860b1e776c57d824ce0d3784cff5224acf2d93412a9b21ca871d1c4171359a6d845c12a0ecafd7a37f2e48b1177b8da379addaa175731734ebf186427ce74a73949d0320482c49cc032cdb31897a8eed0e1c719ce9eac97584aef6e14553ee31051f4de0c515cb9b42b4edca24082d4350406e99df651f48d66357f77445e481b3e5d5cb8af249712f6e20f36e05fc89c2ee8fcf45346b4e17e196ba96cd58ff9eaaf2d39d6f08d545994767e91d14eb3331a72c0bf2d0ee35518c8f0a46d70e505da6efe5bcc0be037f7f0b56fabf6d8bda0eafa317225f3d62c40ca8b815ea791e006a26998ad3d7c69ca00242497b0be75997411c7dcea47ba4d16f64149d01bd9daf658530605ad44e879764da8e9da28f777cee662e5a877ac6b83afc51e28e4eb0829ae4d5811ff0c7c6fc29f22404e96bff2aa6471745df4c564bb747d0a474f60bf683e2d646b2e3a0cb62f4fc0625ca4138e0ee6d66111a8028d5a54201a12890a587878468c369ccd2d7576252a625c822635aa9b876b52f6f4a6eeff91d3fe315e4730dfa55e00f0ef774195e2bb63496d45a9f9e0ab54ace92049aa031ef111c1b2b9e52568a9c0120ee52d9aac91d344577311851a300c6a2b59ea3e652656c01c3e63ce054dfe46b65bb83c50aa0431530818d9e75104958ddc810e641772e56682a45f504d8cd89fb26e41f78e4626bd111eeeb174706da8fe422c60f48e0f508f7b2b67e18f5c860b245771cd79f558666866ff3801de7fd29aa357e6cc50f0dddc482b136beeab510b2508ea5010584fd4436b0d9147f380b4320e81f5dd2412f5e7f0875c26ce27b65137704150d6cf243011addb395d032b045756913efc89a2738ff4a9dca927e4d685a38fa018c22978c5561c9c9beae63a35242ccd9ac059f7ad93a0e371cd762f638d9791e00a3089fa4bf989aeb32ec093850b0c02f3bae9c8859466c09b38a1a8a9a91716c5661abdc9a0ed02c908dfa2d40ceb68bf85a9a17534f0fc3e08f5bfbcac7758c06dd55b4ba90594e4d8a119f8a40e45f42ed69066af7898bdf871260ae3185728384d135e62465f367ccdec6f6a8381d7021f7ccf12f912ea1a4fb27d7e19d4c7fb4e9b744eea7fd1eb1cac6ac1e08ece4474bdbf43528465b4094a76121d84977410ebea135c14490724b8f579e9c263fe2057ef51b916b861684473ffabadfa8abbe239f8a95551ffec4fbb049f66eceeb79220db455591bbb4f001f0c91b8860381dd0a3532d2e1e5865d57fad4af8bf40dd245e23989250fae3c7eed86be6d4999ffc26da00e65bff5ad665c91e1b03dbfcf74643dff70a0006c82de90d587242b6456e4d9bef6d0c535c401ecf87265eaaa926c707b834174a32f484bf750ed8bcbdc729cb9203c8049682b8eae82171352c1b4790f5a2578324888b225b7745687306428b3a98abb5bb4b0aa870e107f8803a00cf7e9b5d184dab19ab45b91f2d72da52a56663786a8e5dd6de71b90a80030e5c8a25910104c87ecc41188e95fdbf4843112dc6f395766c060b68b0d7f32b3802ce89c42cd6edd1b4df5453c0efdce1b649f251e2eda931dce3b3ac5ed464b08a6829ba0f727c3fe22120b18fc7335bbd31a02825957d6e314030717522f9fbe557a5becb0b5d48fb52a5d0f8afcf9f1ac11910cf3300c224ae0b412c519dc150e3e933ab567675d634279458845ccbc45dbacba96ad20d9a9b82436ba13f565455838e839aad2cbd467f8abca81436001b3d841961c6e4039dc430b9d1bf90d5d9c958d575671d345d6d60d54bc74b77ad6fa86a5c73965e0bf793f7f4f7b6c2a8b90f5c9bf89a26421363746cc46bd728543a5c5de594b426e34346a8d59cf8d99e53c671e832998e5b98d8bef63bdda7a8fc589cd915b7ddf539f05123f17634ec4367a1c0ff1039303812283763c613b5f299b3c928bcd421c373a04cf98265d5154030940f2b738dd44ae704a8eb86e730e256052031814d27f689e571f8842f955877b8c40dd474322fd2ab79b82be7cd9b867f7414d4b7927be51b6fec49f4664caeea99caf9a6a7187b8f0d8152c5f30bb13fd29625a5b270738867abc65dd8cdc1447adb1c0396ce798d192d5d05ce02c139a846e3be262d638f31c2c8091bf063ff74db3d5dee525311fdd442a8852a2e96559b0dbf10dc8764098c61cd382f10d04f22f8b944d333ef474b852ed5b56c9e7895c3e84a4f3057f6fe3db4cf2eed3f8924af0a8ab722c453907b6d87e9c1181329b498d150a1ce987b1f256445c9afaaa3ba495f7799de57539143e978c63025f45b65770c585fa85fd3592f539eaea6981ef115ae63d9fddc0aa06db11d551b5dd5934970b4237d7bbd9bb19e154bca6e7d35a0c70dfc8bd6061e40d49507bb1d4bb9a0713219993a8b1fa6a1024a46b68ff44ff42e38400912b36fe6f01e403d2b59705645b689b87a51ab07cfe29f363067448018837c3ca60da1cd5ab351d20c0be001136f3031ea50947d9907ca2dc6b8f829827874ddc88480ac3908d4d966003748c9fc0b30d4ef54926661f2a5b592c7e7191f59471d993e1a0b66cd614c30b3e97f9238321419bad8ffe33ba74a5d4ef326bc2bbaf32566798157ed343c2844a014950d0078dce0c292c88046be78ee669a1985041d3d0eb49b31a6c36d69670578e4a98ea66d6dd74fc010548753cc63ceee489460c96b03d38077ac3864c94e03e9887fb1220ca8f4add93202243b288361d708623e4c5f9911c18afc9a1f8786111d842a761ec4dc91360bf6d51a68bb1449ba49dea57023ea6f8351489eda5c4531d05b15bcd6342da0787c5d1f356e1ef4bfb34e615567ccb836bce62ae5ab0c2aa69965c5d091e96fb25080fbe9b2242e0fee9d0cdeff6d658a94e2c50fa73e69106e2985c738169c095369bf044eb71e6672425e43246775cf26378d089f800424e3d4fa9d6232634ac5f9e8fa3425f360ada0774b2f98c04a8f1218e6be87bc852b4414caa748d8f381b274884f02a7b72073e7351eaa0e626b5b6bd8da6dc15f1011928b2c92c691a8f0e54e3aef7b3eec22a46f0e87425b5026bc91dc3e20cc623d5a222f1f3a34d47b21899fa99104db0f46382feb2f39a611c115c26bc9dcacf14afe2520a5e8b5a733163afdd0a442a0a48148b4d0151541639b3575269042dcd3d5854a8a614ce9576d55eccc62eaad0bb156aa345448282857fa4d7c9a3a38f202f1f0af71d2858a48c7c3d2e75640b9ac2e9d1b2948ed071e7fc443668890d39dc664c62161e6da1b3d91c4bb28e20f6b6cda0de835352a49511449a2bf1755dd1d7125f86966e8ae55b98df81d0a45fa6e8605c37d23396814b06d63b3aec0b987de525eaee91e2dd99f511eb7392e132cffdf1f3569baac4deaf12a678b8aab182efbb42343cc7325538f3b50f3d11dcdee205e484a5e67672810c73d1f58980ed9ce04c5ce5983065c61076d1470364d7bcf07c26e63eff75162f7030a93007df14f8810e5453fb305cc2301aa4d449fac529a65c4e76b8ae6ffc017e3b19aa293b87d0e9f46548ff5d40efc196e4457fdc6e7d74f45bebd269d082dce467a55de7c50b0032aecb2be1aa0bc44d92ae93fc46b55427af237fecf859374b2e75804b5ceb48cce97a2547531bd6f95d2745b6ad6ccb16d5bb1521b6dd2ee53334ae96b9c1422ea7edf7a17a0c9f3254126d51ea324319c2c6badfdbd3e7e9a5f5b8f9b1cb5f38dc5d9d2d1645a66c3d91cf568334392571d92a35f34cbacd3187ce0aa28ff4bf36a810679b8504419a091b3c8fa5ee52a27165882f2939d4da2343c14ef3d60ed4b562691893a153eff03a1d5758123d301dbeeae47696337ea07f63ca1083c987005ceae1db1e59105304792fdcfff9967fa8f0d0c8a1a51468124918e95f478a9132a8699604f1c3c4196c7af2207ec8150aa62574d895a23a537baa8e5b819af316032ddb1ede09355653242b695863a51066e93d737b05795e69f528e089b5b630ab2d6ea00c371cfd510cbc1d79073ff9747c2eeb82d8c597dab59a57ab9674009cce82d7c7f660c88b22820431ebbaef88ce9f35601d5a98c8d746181951d9bad572f2b76680e679b4a2fbe7ebcf4998b5cc7ff04c0ada69d16ae3da232492bc721608fde395c3dafa570d9b5a294ff2a296d5cb0a2b4f8ec5e4736444395614a31d793ddad2335ad0dc4c6498a47ab1384c927e88305ee4065f9a75823c481db20222713045946855b765c376faefbe9be54dcf494874e7565bbf96c5404deff7b61c69cf77f0ca37009a8e87d73dfdfe31b43ab391fa32b868814e84bbf55a85e151075ce7f3fbcb37e8cc7990b7dd44875e60d64ecf8859cb56037e5926a0de8012ca50c74f8713e5ce296535a4b986389b52b686638ed85c805c713434f6aab89be8d4f4afa717f6e14d1460dc1481cbce02a9c10b80915c3bd044a9511db5ff1d67d68e32b332c21c61fb5cf6738eeef98374e5cdefe8306c1a479888c241c8d732f845861016ee9d0697b2f06891e6fb2ad7c3d4e401682df7aae26b416a9e116111518f9eeb9b6038bec3fa85501d39720665a5ce0b49b337748f46192d9ba804951c8859f603ca9aa658cab769d40a2773853bc1547a1ca633745d6e870c2dd35a358bba2831296d3e966c6aac08f329ee9c02a87ae956bcfa34942bbb68ee059a7606c9fc76dad3c81b838e695fd40b5d8311f01ef7405d6247a6642f5ddf744321bc320b47539a94fd9bba411a1c6cdf01b44d7a168ac9e05e3a9aaba00c432cd5dee5d4730fa09be77bba5e8f600fe3cdcedfc5bb730fb32ef908520ae05622c0db81a5419dfa7701db61f1d9fe80003b7598f0f48b574694d1e5d43ed1c6abc5c40a0dc616a0584da3e62336097f4df561817f7de9cc2fda1f8922cec4b373673aafbdddce96c52dfc3bb9129fc4494de41660815b4bb2c79f74437870a00afdeeabd31c2fe223de95a7659a2b18f7e575e522c3864e87fd591c697c9c1052bccc0df74b91020194db0d701fc16946309770e674a85aef2443708364a8d419fe95e4ee1110f568590f4dee0b15804bce45e918d52e6f2ee9cbf5b2c4a98d04b69cc0ce1b08c43675f480450ef1efaa975de6a0626a70f3be53d2093ebcc79bd10cea312a72ff57773adc91c7e0416532767447e12f1853dfed48e0618dea0df15b138228a463893256e57653e4f080c9a0163680ca6c43c396b7e5f72ef6bf5935d01a4476eac106eacf61f0a055b35607c8c059c963ceac4ed682512b39a7ab9a427acb3ef3a66d2d12c702f3488cef62d81170d33bf3fa21895f5ab9e5e4bfaf9b8c254c8f08c6ade0f4660c296b5fd42bec8c0c2d2dfd1bf3591b58fcf3fa989038d3e8cada623d8b4240e5def8d45e183466986a4217f85f1df3a40d567ee32995926996e4f92602b25712eb594b5ada2675cbfe752939dad1ae1ede6d74d63ea3131dae4ae07412f8958127615ce2f9d0306f914ad259edae4c4fc81e2a528812643e6d200b74686ac39a5c6ca80c4d86a96e547d1ca58702c022f002a6f9b168286a646d2df6b224d5f9b0439acd00b5da639eb30e3a501a983cf68aaeee74b0f987adc8991ede4c045190cd926bd546e839818c0a9b3c8aefaaf5deca28eb8d175bd74ed8cb08f2bb4b5b961b8e74feba01ec4c34a4978d24e5295f6eb6dd5119267f0fac2af22b9f67df1e4b807cf893fe037f49cb50f910bd26d51a8f6bcc89b5726cec1b7d66e3ad6a043084e07cde51662afed0d4de29fb07776958d856f5ae9c0be347fe4b9177f15dd5a7d9cc921254eda9ea6316e153ea9fff6b73da233b10772dd944de30b6024e5adf4dd6ce438d97624c8422942d37012d0c2f47e725ecba6cdd948f802c6c84ffd35ae1f0730f16ad5437b442a87f617c6f9e2eefb89144ded8b97ab0a1d0160ec4d84403d436a1c8b36d26420ae0addb50a2b4399124b657c3af5595e0f5a31adc28a8410fab37e62a0dcc974cd425c89379680e35682888fd1ad562576caec3fbe989e3d1fcec4a8540961a7865c4765d3d578efc325eed5e49f7a011498fefee78502ed96407c611d13e84407aef2a32b74fcf6e6de10b97211976cc92d30803331248958352d4d0f60b5ce65f2496417e6f732f09e2be721a683d13383eb17e5ff6e2acaf46f56009a49b34a22072b9e678200e129542ee6afff9a2df4b8f3eeb7282a14f0cd49abdaf4ba4180310f31a27998befaac2ac6d1b708fddec543d2babadce56eab3b13004d8b5d1221395098c68d9eb6a09710b6e9e94bc03b1eab15a08fc4d6a3f3a8d90a2fa45adc0c08538edf71afc21e849e25a9f2b5fe25eed2cbe3130a151ca1eb69ecdcb37aae6ea8096c29aa24da576a8f01be785b4c69c6263d1740d33982854f7e1801bf88cc6682ef430ef1e4ff630e7ec18bd4babfc8d35eaba8754be5bd05159752eaff497d46443bb35a93a1deb7e1ece0ad4c80cad9e1a82bf36d65eadff278a3565bde06a073af72f1b80af83be1466893297a786eef1f25824767a92d350d0d3f4e95850836eda84be93edd305a1f56ea0736d41b5fa587171e1fc1d3d99e2cad7f758787527d33b3592db251be558734ddb94d4242b2b8ef173baccb90fdfff5cc9f1630d808d0db9dbfb3d9b3f1bcfe21c6a30fcb2902e7cf5383e48ab5c8e21e0b4eef61dadf546b8ca8dc6f292114f54da4963eb464248f4a1881463647cb51e3184af377ceeeae2ceef0121f3c982571f9a9778c8d2d3a81ccf57de9ecbeecf8d35362aeb5e51ab4ecd28d046ff0920808fe643cea4e9255a8f49aea0956a3510620ad87c36d373996b0a35e63798d4914ee1d6943ea901c07197b4f9aeeb28d4abfcc00687ae6f0c4bb8b8b4f8832c971d32e0ef587632f3e6462de388e7db7b2275cf80e95aae6c01995c88d53981d5ac1d824fba245b47f0a20693f463495d0b9e1e2d1ffc14c19854db915be1fb82250552acada98d9decef6e430c45fbc7f5f4f571e620ad083e2a10859a71399e340e33fadbdf6e0f2896729e701683a3fd4f6fc7124b77ba85c2f54c8a096593f684411941c3590e0156e1f008f1e6ea5f74d1ebec46613638df2e14e326463c94ad15b821a8ab7bd75bac7ef3c11b49b7ae739d9fe563c1f9b4ad5f489f6a997fb95c1baf9466ccea020b00f1f960345542e1580c4c5240e3acf798394fa6076c911bc7cc10f2cac792f37942bce358430928a50624ef159eda004c81afed4d09c7b15b4d20bba5f5f292bfa73d83cb9b59e06ab7b0f91f6cd63acf4023b28599d26853d6e4d43ec204df79c6be26d64fb75f9d8abe6e7f79f36e446d119c69b63790bcccf210f90dfb785b9a3c04fff4d47614b23755c3cf42808c5c402a14d6eefb208e09f09547f14fa7c8d4bb0126096b2f630ec2bb4faab4aab0f0efa2f3918f1ff970f8fa7ec268fed2382ce656ab20c0c21ad99a24f3bf2d850954b39db43fbdd97c08b107e28c4d287ae5366356a5c4b8582d21b5aa0a83012e69121652615fc329d51504db0212b29eaffac59e27632c96114ad2946fb7352462c438c609f61a97f0c0c1d4b4b64bd95e0452d5637166def6f54cbba63cab50da8ad349ebadbc15b2997cdbdebef91972d91954905f34c2536d0c2cd6f138ba825ddb41e1947ce58a7d3379296690a6a2e517913e83bd548e4ca6c1e25ce1d8618cec6e201ee9e944878ba984a7d5f79dee612debcd248aa9929756bbc7e00587819976415b439bcbc3d2196779464a478fedd6bd2fb8cadf574c7b1005330b588bb9732a2174f66afaa512244fd68314c52f34c3a211ddf79bee6ee67a136aa4ef9118dda3b0c658eb92560b38bafd9b6f1803caa0042a8c5d1cf92ac0be886e1f6df385761516f0ab4ace404c4054fb65df64718d23c886613fc6dfc9e675e44b9404eddf1022224c7091b5202589bcbb3f5a9b56e62021209ed34535eddcef935ddad7f07ff32c1e3b7c783ea2223f6e07dd3984254f3f96f059cc588c0971a22eee560293d46152e770ee19eb80b25e791f6d177c60424cc9b1eb3c9a9f94d90ac695e823d89c892de7bd8f0ef3fe5ad6181ba22b11e0d04f1f8f34489fafbf79e950f0ed5229796e2b31d20e9a1da39785897a709ebc4ac565eb3d9fd3c2e69d7b2aee1761f29fcc39e67d082dcda5ffc8a6328f6d480d9e2f0c928e048d6368d92540a94206238b44b38f25ab00a34af54e69a84f7e498e1ff4d193b8a522c3468659a41015f633ae0264e48c9074ee13f8d07f9ae79d8bba6ec8ca3e102e3a9ff05639fce5ae248a055d7f993155fc1ed0cf0eac9e75c87c4e248bd02561057fc8a5110183a5a9edd594ac1a9ae10106a7b1ee6fc6c061c96e52ef2c751c22ee386799482b22fada75ece009403be855d4545b9f7b4639870e318dbc177a50849c71935364fed24eef6cdc4fa7e44278f0aa1c3dc99d7b0b6a60276a3f2a5224145ffd3d501313d1531","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
