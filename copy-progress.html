<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"beea4fbb214cea423a36c0198a2b16604137a85ed447ba36a3d2e0c2a44ae7103c50fbe02deb15619667b486054575e0d2eb8a624d4c2a2f6ef18a999d23b777e9a8e13daba6dfc2d70946138cb5ea13a364efe37b54ebc4c8a57d7265c53a9a80d8d122ef39147b486b50f78a7f78fb724d31a78ce45b6a888175b237eed5ced80c981e307e0ecbb16c208189e326dc4aee911c659a9925d2ff9b09be72bcb05b803d9ea4d359f99146a9a33de0752411212833cb3e846bb75d2e3711b148ba0f471857c7906d7f94fd1c41dc9692f307d68b2654c1fab54ca9a502f6de70e3e69aacb3d635a6e7c475f6bdc1c6053cc6ce0c14c0900ff2ebd5a4d29459a1cf11dab94f087b5bf623afa7ae3bea407907f15dae28caff79fed4076e87700b9f1936d25c084cec0ebdac491a783eec50eb3c40c8383fd955239f96077a87cbd14a47bb84400c14d77a446feb79ad3fd30bcb1051d70493e2fc7e5954179cabc3c50b1b90cba240054c47a44d5170277501cdb56eaa5e63f1ac50f6bd577b08aceeeb90ac1c3955deb829f9499f3faf40e948ffe42e144aebdc45be83a40991da1bb5d7837a90cd7b50e6d6ce843b72bffe12c06fc30e3199b6715f8f852b2d97e3764a127b1160feabbb8ab8f6bac04f0f0a4918db893d538f1edc6d77bf21e545992cb5487fb9ee39d72c0917e9b20eb44b55c7c876c5e7e3ac4a45f6683aaba9f4abe206c0ab7aef51c54c7e17802848e76ef78a4dc2f9087da9be5d7ed7593acf41cd1209577bc8d6ac826e29d3724a54ef7de9bfd652954a238f7f60fb9f95fb14ce3210ff4c3b5b67ce3f5839c984a496708d27c7e8dd7b4d63067b1e817cdacc5f60c86dbd44a47774ce0f5996d3367d43fdac4df41e6a0fd097f114e8a8dd381b9499f5eb68266575b7424dce88878dde5f88d57d31f39ed4eb6332616fd4bef69b5674540d5a2ca1c862a85dba13aaf171e677c8ef6e65beacc75e2fdffb1a39465d680a75e8a4e6d270b871eed5c501783d2de43c879fb3cb1fc4498d8db48a4dbded8ca62f496daac973a434f5f08a2a0f4a31491e9a86d61b40d1bfef94ea0e1d06517f470a83be68b99681cadf3f5564f58cb1c7e43bdb5cd52a80311b45d16503e0b3604b7c0028222dd4c3b94c61db90eaa355495359ac02f1e17b4e0527bb0b03a0b410099be392af6ac261b794844098c38e9239b3036b8de6b01fbf9322f86c0d92dd1d7551800790ecef343b40b96550caa2dd14f6ddd0fd8992140655c923456ddc17630a5a7c316829455e6f58d65577ec4bcab5b07f237d0a8f9be9bf518ce777c095f55f1bb27e80adf9ae2857517872f627c0aba34759fba26edcb820fdde567bd0189d1c6f213b9e4df1a7fdd82f7ce3b1d38b8ca998c5e5d9c15526709236ef6f859b12c20d71e5ab96bd58db782d41bbbbab922bbe2b57e2f0dbcfe83e99db73d471944740a6f33156f51864e9589a6cefbc11996f0aa529d3c741b38a2337ff347aa3ddcea9b865efbe7bbfbc2f6ed51be051181ae6fc0a34e83abc9caff639bdd4b9078933c5140f06f45d5b6deabbd28b6c1ab8896701ca09f5eb79a354b0656c9b3d66582d8dd50987ae5e8c7541c776e8e6c8e91c0e14b237c7b89562321fa550c94d538b4ef15bc1c1cda319bc08f1a07261ef2375def52fe60646ce54f6c6e5345c8107f42091696fe81c868c1887cab69f663dcf94c49b3429c72fe02953a76b3ff3eefcb9daaca8af77abff9bb7858388ae98e334fa65eced8f74e568eef850f8ad5332746852910102731e9a573413d058d44988810a47fdaf873cd7abb93ebeda0bb04797cab04024ee6aee065e10c1892d3bf8ce6bf46c12bd8996bc27a3aca48e1fe3fc56f190a4b3af8723bbc964b985af790ffcd923f40aafbf0eed63e30b45859956e873c229fef47008683ec71ad7d14c7ff627d0984574c8868154c7795addf00c45abe970fceb4bf8c3b6694730aef36b5b2aeb8354c0d2e1ae67d9870926f77fe00d745c33913c93a2d261bae8723befd43bc78d40c251e1e4852493f43d0eb951c9b1c9e6ab09e1d9bf1ce9a1b0b33fd8b2da822f0301f2e0513784a6e92dd6415e3edcf49343c8fb096fef0ee4cb9de53755ba87c99233d5cdab8cee8a25f58db1c4207d145362efe64803d0146d586962b40d2049fd6d86b48220fd436816d700c5918a280618d003b2c31f27c41423effb63834ae1197261442a5c2e83d61d20efb863622a92ebf8486e2eb900f636da39ace10dec3118e57948e0aba0236c952cab1843f6af320cfd6f0ffdfdd87fe12a588a2aad50d6b5820c885145903279e793a742d48ba2c4931a2118864d0ac0d8285575428c51927c14bc7f336b9dffc7208368aa65f6e45a630f5fdffe3884b32c5bfecae44f9643954e8fc4cab5de110a1a0c97ed5cb931f1c1febac2671f4f8bcb095e4618d8cd5f5f2e5c33850c166cfb507eeede3de188b754634ac30aa20aca95c3b7351872de693a13178ba4fd37ca7efac4de503362ed2ab1c7d20330ebe23f7e621f3292533c12b1ae063e8589c447371b6f2c1af0b89c6dcc243631afb6d29c7225a315c3b2d91ba8da53a0b2f7b222adf7e0ebd93240f5301e413a9a591d18ab0151a2bc57ee0fd18507b86d1e6799ff746b4b01eb27367532b3632aaded03c55237b2d22114e5b3a72ad10db0372368f34e3025205c1a6598411ca8ff20b828d1425290c6788da82f26e60c32097d42dea08358a42ce87ec2012ec809174ac07aa42f2b0885ad8b0c160631f3a1db72d6f6186480a31f93555f02644896c02d208bedb74a42a80235cf35e517344f597fb433b9f99e958971592304f9ca6c8c8399f111955d7b98b77612695dc3717457610d6e43a436a54610d464ed3b5213582374b327544c8b47927856bf2e816227126b00b298c9526e64fa12e7f201350bb7e2a55927e781b1cf69a2814244bbbf3d09f934f3220f7ce4b08972fc0a31a9a0affd48b5cf18e85229260363c41a5a8e03ff1e779d234237b075c6729ab4f82805960363ea63e10de4eccbfa13c19eb1e3b127a7ae38e84ae14de538173e86dff28793f83a8a9b9a00e25152af1ea1d87b470492cdac2f760ca1bc3b99c7a16627b373c6e668672c968dbe1328167386be2eb7f68024d36e1384a91a3e536fedb935511dc60a925c591463e9f88f4506c8560ca08cef66fa4be831c5d5c14982da6062f070728f5a75b53c1d59569aa0786fd5071fcd162a8fac5c597b3ef4bccecb558f1c50f45f45c368db0ffbe9a6ea5c2b79aec1b9b57f8a795a39e1976a9fa7bbd0fef8d6741d4bf90ee46815ee333528b9eaed3034dbb0f85b290e31b5f0d0e1ac3db2b24c88ffac1780b95fa0820033c2171ffbf2da153c831ce9290c46d174ee008beeb18dd4ccfbd2dc2b4142543d2d66930598dc0fef04d26bd40fe17726d9620b17c6aca616ea487104d49d5c25a7389def6f1459981498a3f4020371c81485c155afc6a34001d82bbaa904156991f1b322c48c0718542b907cfc8f854d4b51aecff4dfea40feda0d2ba78f66a8c6ea86dcab67c61d09bb71deeae2978366f19650c4ddcab970e263468d6a7b7c8e17906bc336ae44b8200cfcdff15ebf19b3f70df2441c431d3f132a23c7e783b89c6ea42ff03cf0b0f91ab68cc7154b548c2eab0451b808b24c6e33cae99bf60518393a09c540865eac5fd6b593ff662ad78ef4e33e839bc1c84dead10ee252526cbf269570873b1752746745de67c510add3ac87586ed7582c81646a503502a2881ef167cfcd74e01efeb1cde66f704c93717d34dd1b0de49525e7e2abbdc894de0651addae3262c3289b5586f703cc7c3cd358c13fd26f2760893ab1ff93ef6d7d63c14908f3530b1aca2bbcaaaf1360c00b99e4c7b25eed6f8b728ac4953855ecbad13c3543278a0e80301e1da125a9430d793f3670ba6cc64763745062665029b7021246c384f8564892c6de9f6c8ca2df4caee2c3820c491d6b55870f7dfdeaee563b6cc050bf1856daf6587bb46282cf4ef1841051fb1956fcf3f519591252ca297b05cad7cbe9864760394a32d322819d2caf143181f819b8f1d279629a634e3eeee4cb4f5d99e442edc512aee577180dd3e2e83cbe996ce691c4744364de932c4047adbe6c7dc514ef73268f17daf4fd635ff360cadedab0dd47523914bbdfb4a262a087068e91bb2b9d7ffafcd9bfc7987d1873aa0cd01109dfc762d594659d937d972518a1be6eb50972095e134fea4b25bacbb318ba9a39455e30e1029a2013f10b59857d3dadcb38f4071b5b0641c39b5a5c621794e6a56cd2796090f941ebe3f4c0ef18afd743c57e645d4b642d37aff0c6982d2f64704aea978862a635145179d7435a7f4cb437f67f0a44e9af038e25ad37e305982bcc7e89ed171a6d0fb89f6e8cfa9ba66c04bd353680728a3a5f5cfa0236e07fecd06ef96090ae7ae204dcd241a100cbab705fa58c8071af6c409cdd7d3c27b85eb54671f618092b76060f23239d569ea2a55276a05a5e5cfb6f691aded173645ba4c9026bf5e1c62c50f051f48cffd6a61df72801b41ac9d50802deac8c5b844eddbb135f67bc8ae45d99f40a589b49cf9e5996a8f755552cc80b717489d2244e6b0cb1b791ece895283a084f9fef1bfe1a6c4db265dcded9bdb49420dce675b9e3975a760928effb0c2217d6c8ba5daddde3e413e48c14fef4356fb47c6c349199b097f0ebeaadba946bec7c6f1b2049f2bafd7cfb592496314e539dffe846b28fc9997d2eb7c9148dad2e57cf08cc8b3a56dd2da08a4c718a3d1c5d5860d35d4873aad4ad3c848515ab4ea640d3c548300fef9969117d8ccb5c252adb69f2ead09f88f6004864a0913cbed5fa0778659c527c096f7a060b77c4b29ece1d9dcb703125bc8243dbf8f22086b0622bc40acdd921f104acbf2ef0d33e2d2966f60d22ba85482539d269d1dd4585f1aac1e7fb9aab9d031b7b30165fd8026eb1b3c6b379e0e5a3380addb7729ee8ed44e6e81b999ac6e706401cbb3d21c2c0caae1091fa95ab32fd45af35f5e21960d0a540a8ca67ef717b73755376342c4afcce249b5b97b934400f18ac26ef33ac7dd1f03cc13629e790eb89a93b86c68b43e3900784836e8a145fa54aae40a700c9996d4ea28a81e271e33949b2084d732c33c445499444d067d3765f1a1992692cc1cee41be0eb22fd549e3ada99462b71fc8d2178198d95bdf9219611c133dc1835a6beb4dd4045e291b76a4128964935aaa4c53f2ce176801d4d3c10e8157631656c1578681463e019a4f6f0821cfc0c900e4d39a27b857e1f5bc50e7b0172f5eba1cd8d4e781d910c94c5f37b6fedaa7ea771b0c677e52131085e6f4761e82d6f8ae77564fa7bc5708ff7aa22b66896cecdcc34b49f3d8f4a9adf8df100f42cb47d2e0eb745fcb3731704d9ed2079fb4d5bea8b53c3a3dbf4981cd77bc945d6adc48d0110b9c6e826d613c167e94a5a531f7abd1d90d9af0220e5d2196ef22187af1e9616c880baec7f530185591f590daf5aa9a9d1de906415e65c676905e8d094609893638be64edeb6e7909debc345516d824834fd22bc8950c6001aeb0e497e7bd81df273e42cd8fe3b71582293ee8c68e10793bb2278ad936d85256ea8dccd4b588d39749a846c06783c88f01c554439d0acdc70092e447b4e8d67b05c1f9bf7a218badd74de094dea3069c9b8adace997e5621b84bf7c444b32a3c236f772b9d7d0abb054c2ad4c9d33d039c51478c77fd2c0796f306292d29613fd4447d32b23dd8d785c091d7be9c36fcb4abfcfd17d00e9f7cd97ec3b9fe61533ac350bc7b5d024f9a17f6e10567fc6104b93f6b2d1ec032de2932b5e190dc21e97cdcdea1fbf99b47cf02a5f7967cc885c77d53fb422b21e64304b533d9aa1247b213b218ffd1b689403febe676fdb9488633bdc574ac53ecd40c6d3010c87f1d69481c5b09080279cc2acaa1cab93cc8098edbef2d66e58d485f304b068598b431f3781b5f60d4e23e45524955f74f9e5e8217eb5e27cb84375e2448f650af61b4e89e6aa38a3edac34146f72837619df61ec779243c2f25f93d1092ef58789f65ed7023787ccf5acddc602be1aad281e19ab627c35aa66626d6ed85eaa901989da79027aac3b352a698b476e14837fb7f5743fc4e80c52a7be8a4a4de0a11ac1c5eee18d10c82302a8dba1cd2ae78f3d3fbc5a335d39a1c2bc55952965ba83ead14f42eb11564564ab9a0f314f7e9026669cae3652f2b49d918674fe33af92c7f866d8f3c427624209d58679739b65ed1631af6db7faf73c990dc0bb006dc8c64a90f92d53f3c3c98e1b52981d4d13351df2e2e573daa402124c60747eea9cd8999af955880da57151f8b7b5fa1b08da73919ea3a094986734d9d1c5f66ad7ced1d4ebfcdb751931a1d98308cf52bdb5b6377ec1e79d2337ec129f59063df596a1192073b27c6541173eb5519f2c1d66a19666afa7efa0954183ddba628600e5646e336573970aac16c08d0f5d55e88c3bf424aed71b3c47a0565dd827f67c368f473c82ace375a271552811a1a888fb19e4cb5455112e060aa642aee44315452d01470b9729805f2de7fe9a640eb49d2434b4054ac492fa8281b610c3bb11ac25288ec9e91c4980b44b8efaf1d0453e6baa3b8a6dcad1ed1ff19cc993d999dc64be27568ecc5eacec05313257dd95c69cc8c0f0d310b27fae7ce07dbda73507263b8ef264c8bfce867a139c42aa4d2a4ad92fbcc17cbfcbb5fb708532dd3fd27d3ecf17a02b1adbb2ebc1a8b6d3c9005ecb25182212b9e3fa1297a2e7d7f67e5e9580cb093ae6ec77caf54d5606558503e0ec7677696287a73ba2d9ababdb385ad35b79913cbf684bb844c68ef49ece791692cafb4bbb0cc6e4c0446a335863353eb091e35087bc677b79d92cad88305d49f42d55fbfe31f029667efa2e1e519339f03478a385f839379afe9da56ee1cc5e07beb85ad749c1698a60ca0909178ab2dc243f8d0476c4f4f5f32f30a0cf0f707ebf5aa0c913e8cef7c7c93f8d62e6b496428c4bba52af1349f0ccce1ad8ef643d89f316ec54af2a966afc789e50bd380d2376391e81952b0886a04cf7af3b181924b6c3aec038c3a34f1d53f9e7edb47bd5c34980b9dd3fa995a937fa1be343a9d591668aea989fe3663624222dc828658171b56f08e55d40b0ce74ae8ce34671f808cc591504ab8312924d4f6029cdb302f167e222eba0c054c5524f3d24bea3262303ca770e9867300b9bd7ea92cb16f919366e61bfc26b6d0820d9eb125596a97156670d3fbdd3b9b40c13c46d79511c4f580a711fc9547581b9a526927bc08e42871e17e746e55d8d4012b6e61ec8a9ef71885050374702bd4e0259c2dab3600e6bc349fa1c4d9a273f68bd17c5ca309ae7f16463e33d5f4ffbf1c0420ccbb5702504a37f653caa2f342e3afee46b747441ca3b98a8167ce4292da1e4a9978657ff921032da1bcbd15be30b3125b30218a192ca9087c80aa1480e2d6e47f529370bb19543b5c7c577fe892261b333f1f8cf8aea2f3b47822716e7a79daf376c2f43bbc201a4782c19f8658f551aa625abdfa3cf0076e96b592617610e2bdeae4cbb98bd836f6aff658dc7be2909e4c098a6df4f386370e7a3ac581fe59fb9fbe3b109904bd59d9753c2ddc5405f14ec7f184028919dcbc562d55ab088308aa0f7cfdfd4aa21fada66019b169e96eb10afc9fb239c2d43d397cce3e747e9d219a125841835721ce610b25ac336f1d96537c068121d1ec9d88cc77d5f35b471f1ea91e978ed9bdf1003c96ac38f16026b911c34d78b7e10d4f94d6d53a387c26819be72e382bf7d66906477b2860c2e616145bfb2ec511ad8f26d216b3bc3ebdd46e993dbe16c0862e53d0e9fbcad1c2d736bfd1cd04420a807fa4d0b7a95a702dd39ceebcd6a4fb1d0e331c28460c015f49330493c26b78908ad0f283b1342f52118a22fd688d545bbc221b17aac863c97fe27aa68005ae4a2d53d2ebb85666545b8419ce5c5581e43321c7dccaad244d2399da37385c28706da572ee789a45815603a5e3302a96625b6473f26943ca768e581393fa7ceca088f5e813886f03a6c8cf50212b3ab841648dd68c51c958ab521cb99924e54ccfefea4f53987d8694fafef6a9bcaa6dd1d97049beb7ecdb6e73c9851af96db27590cfef43a86b34965712c2d868be387e06d894a8d9024b80c824c9e8abd4e70f211b88c2c0e6164904c724c76e47cd75d5f134c0ec04e4f53f61e5d38b87ad729da87dd4ad696be04e3dd0949bada2efa1cd9de1a60dbefe06c68b7b6f333857817490b81f02e85cb4ced1cf2007308799b3151646d060d6fd9ba79423a3c4c1051587817b0cc885e1294133b703bbaf9f5c0035f7e36e906eaa39178525f794bb8d8b30646448b764215d3d342a5f9bfa18565a1d24a88e81b6a6b74e265a0ba20333cf11ee2a2a2abd37faf124542f98e8d4a4b6e9377170c4cc74932286cf6dfbb847c4c2195d18446b6a78f78606da3df3d0fa3db6b39652e5a3cd055637219b6e02c2195b4dd9d8ad04b109f04c3dbe3a9a3ef76721fae4cb47cd26f9f42a9a8b18c9d674f0cd911d830f477eaee582b8b505c85fb01bdeddfde2ef5ed0cc2f3616ff4c8c071615a8a5123062745ad35cf1540e864f5fddcf57fef1e896762439d74d6af86d49ab1b06129c4ef72892a089da06aa5a6db6ecbe1dc92606845581cb31dbe2ae569b851f5bc0ea15f815db31e2f7f92014cc82f34dc1c4542d16301672bd680804c923a156938401586253f916fa871ca2123974addc36ce87f66247d63003f8a6ae652d2fce0a89263b1cc53bf5de70aeac94d48aa6c7d7f67156323863e73b07ac0d277e99d63b65323baf5de3754aa190848fd5a59c23e304ef9a80f557622a4cd5dead6b1121df2d383aef0e857c42987bfbcc75025af3789ff9b1b716a370c080592ad3d89b8d732fcc47a9eeca644d392fd8730f49560fae336e4571c62ff76b9e45afe74f0b5d572f9d0b798219e1e6bcf243645ba7d3a43ffa0a614902de3b5591d561d80bb219ca945e49f6f43f5ef5004411330cbb8faa0361ada0ceb61773999fb7ba2e8da1d6f005ff1facaa725c15e4da5e76ad5b4a07ed11b91c16454111ad28dd06c22cf564526928117337a227f36a7376d3b68f3d6abc812021782484162ceaafa7d97cbe1aa5ffb9e44428c26f0b5e966daa5ba7ef2f726d309082ae4877cccbbc23d6155784a46ca4c7e9895f249a92a0e745a50a204ac8ed8f8627eda445ed8c850eb9eda0eee6ae28833639a9ee5b57dcc90c1d2516db48a50e5669fd59c6aae7ea0faff885714138668fdb5ba477759457fee3dc2f3ba84664dc8064dabb0b50cf0d7516dd77b5c32b7c2f91e1c9f882c37962390a5512f33c53dee8fd666c167022f0cacccc69e2731080bcb7e1209ff31c1ec1d6dd6f3859246adf8761a1eea799c0a8d4373e57a76967b7dc2f4bcbb7a0f2ad57435609ebd816b983ceb45521846a5f450a187b23e68294a6003f28b06d7bef42cec71dcf9f566937138f8955336c07577b73715eb33ef1befb2711777ca6125f26f3757b8d93e83d87ffd324225e2906f7fecdad596013242d0ac71eb6eac4fe97a09c4b2026a2ae0406f6cdc33839b69ad36365b007944574a75101f82f6468d7126b2342f8e1bb8cbb56cffcb6bc707482ea744ca1f26f02186457a965a862c2e8f5b9bf36d32350c6fbaca922f29fdee61c45c770fa3fd23ccc315e64c4e5f386339ad07099abe97b2d6964a5c2ff701523206192e0a83868820638d7fc7b4c34814d7b5fc89b26c75059176e6e95c219a85ab8ed4d6da378cb098d5b2b7cd8f3b525398aa00106b41195fa828f2b2fabc4ac1d4fac25b263442b6d92a833ffd6f228d0a40b8ed64efef868ea9ae0cd1c59db62b3c2ffe5669dfef54bad97d3167127991a95dda39873f084e10575a2b1da88b4c604daf2ef46fe91f48557d243d3407eda803b2b125643bda7fd173ef3a67e7fad8e7e7d8affbcb0b55350e8327d48eb19f618f9a439514b6b488d53f477b6be648c6bc54267a7d348289f6da87e1f4edbf5f217a852f19192dba0097fba00b2e782ac4202461af2a89b6391b7bd23d4885cf779624af4953cf3a96f6a04e0dc856bb0a6db457a2d032bed04e403204122c7a346afd399a33a2f30b06e5d6d2c6d68636f483a2988ba9a84dc92125f38e9345087236eb297f92bde28825fd4a5345302e2ad8f96ba1d5b11e9cefdbfac1f79182c9c6086f2e58d7fcdbc20074750b26c4e3dfd563aed52db512341e2eeab08ea1566b4938d39a7d94e2b374a0edaf1f3b0fff4ee3f5745ae173628444074c19dc14de96b425f2a05479c9939f8fb521984b4098cebf7c6007b692305ef3086f8148c447de50d6bc1e4cc8f1a31dac9dce2e2a88d625320515ee8b52dfd2afeb90d5b585b2f3586d1aa88e533dbf1083c4420011d253b3d82069e1744d20a0fa61c6c99c2afddd4d413450018fdbe4fb90f675e46d6e9f44897e2becd0cdae7b29b4488d394193900c9a3b0ed04fc14011b4f0cacd096d3f20835bb417de56b832df312da34fa69c03689c47e4f5ee330ce260bffe67db1a0328fd0d4097a5eb1fa2f6106d1f9580cb28d109cc76ea2550cedd15443da74b6b2bf8c4b34e6d6583143949f0eea0910834d23035d6b629a417d83700c5c01073f72a0ca6ab935216bfb6fb1e3060f2a781eab6b2fa42e167ef404c6196b304d541de2f1d918e57742f5ebd97857b890585b498193a8a5fb642acc3c012ee8f1942719d23b7fbec56672d96228d46e1e1c20c6af739f00e7af6cc03605601ec71f2ad414b959d765a4e60d716f7a9e858d1e11aaaf6f737924063e52576d0352a5418caa8389ddd0044681f4d971c102f5979cfa8db72e658f9c8e17a94115736277bbee91d0396fac6961232e3e8a3125492a7afb74ccd6ca7f2ce9ba987136f9ee900ed3cc682f7c599fe00b38d2de9627f679d4f62d53a894c6fa0cfe8fd484c88da52cfdb57e6045e6f1368bfdc1681fa0fd944de7c8859933c94e3340d3494e0d3779d77508a2ed4399e30df60e68f5804d2d1ebb1273be4562d6c85056ff46102f66263d80197403e478931052cff097bef2b5df141034d420e3ea0899a9ed2ccc9a61a0215a9506c19f8c886d449f906c933afdca105e07884ccaf31985df6c039ccb6761532268f06dce571482da5852c2531f27c527ca65529a3f95146aa8a93d89adb5839f3c46db700d274ff6f1bd098362385b6f44bb35527d43fe543b7d165666c222d509e45c37603f8346392a21880feddec42ad623bfe7d03f7e374c54328a1611e572672361e0e7f477f4037380c694fbbd611c02f5865983cda06afb529de303a6018f92c523dd5bc62662a263ef47bbc81368b6f0e69ef80bf5e79e6700feea971f23e89a3efe25dd7c896f6715df810acdabb6b2c37e7cf20704cb0b048530820530cebc6376bce438602e0447985de272860bf187aed520ea6343609b9825e4d63422304341a8ba51046a993fce9f5c3f20262a9d355d87dc155b532d57736c915509fbccc1c0840fb989c798cc6fc9b3449121bf92b62c520e4b21fd0ba60e8d125278c261baae266d130453c6f617bb39bf580011f49c030615ef65097967a0ae6b369daa76e685cd41f4b09002df6135fc9b30fd4163c80d2bb4ecea927d1b5b2c357a32686f9584f9f30616518d250af71dbe263c6b6f4245a70c5ea5164c32f33b63b21b109c7d124f85baf74e7b9ccb18f8ef94ae63806daa9b1b21bce10500616afa197d3703685e33a2c45d0acfedc22d55347d7e2641ada56230a1a76ad43e5b32a1cc4c76d38e00dfc9c459d1dccd486b8262c1cda0d2d7dd24996d9259ab7a7b5d451e599fd6f6223e2bd42a838c5a86b5aa5228eba1e6d5848e782c45066396c6206f9343675c61fe7caa1f2083fd0b7dda160eec46c63ae3994bf26eed5e9e6362e29d8829709c4f8d0d794f6a349888fefff8a9b32c17a0d85fa93111714b83777a640259512c7c7e99cbc58d594cca07c038c6b0e4618d3c88cb51744eb3eabf23d849d10af7be4f2adc9c41942ca98b69a6ca46a9d13054710e03a48abb92620d8498a806e57a11a8ee07acea98bbbdb710a861f9f27cc9e0bd5a5a6288d926987d2d94d0518cc358df627afc80289d7a8a1ec7403c453f786c744dd06fd22c822a82152491da90ba2372b5a6b852c6a40ae045bf7b9e92b840cd7d74caedd75ba5d552981ce11115b4850e46943efae93c98f5ae467f9f8a22f062251ae508773940881c942d3fba22dff945eb940efe11353286176864b671f46f0747e7b28f1b17f3de8435fe7fb5f33b3b7fb3aa21ba9a782d05fd81dd6a8b0a397ad061398151ea9a3126c446288badf5f89421e2edd1ba362482d4652722cfb0436eddd2fabac74f09d3acd8866df161aa7d03490e905fdeccef1ad69a3759f9b15be2f197f2fbfb00932f55d3119d515e7931ddd469c18e18c265e15640e1264c2bd763c4e09d58695c73b0af61086dad731541feafb88a7e2ff6d0e123bbe051126dc0755038cdad34ffd9e417ace4d23795edbf9ff547941c7d4f74376d0876d7f8b81e5b2eb9cc1508641d8fe5b9c3d391e5b43fcaaf7e9cc47c0f17aa2f10cceaca6d733c99a1fc69d16b824cbf87ad36204e6091fb063bcb9bbf88ab4c41967d1cea812a1239774680790e6bf3cad9f2dd1064a4ad3806ac83a04a109d6637586a8aaedacc7a296e1e1b773a2ac4c8f9361d751ffcc036f97621c79e312db9bf9335c3bbb6417a4b101101e53af4129f5fac7614f8f0b5fa333c523c169f79f67cda0fb39b4ecb09a304402565e1ba746bb153f4e8dab6c7b2788655802ad53aed5f428959316b4be388156caf5506ff0cf04b60bbeb5c705792e8a6371f148bec97ee1acd8b2a35a5771704a58d1ce371ce194bde14148f66b0f8503501333ef3ccf891ac8c05b4105099a242b6a03f1bee6e2d490cb5658b173aaf43931adec3fc01d35e5a46913241cfcf0287647e40966a8e1dce4c77d7fead9da58060ae06edfc58e71a0e6e82655e3ac05e067585ae07e6b8144a7a27b6a833bb690cdaeb6a7e6d8afd48998ae717b6e0b226babe3d91af432d133afec583596a6dbeb4166d04083305cdf837150a7646b03d49d0cf73dc96508e640551406b942e6d0088603d4bd22d3339c8c838ef66627e25d3448242ef25167e70c79a7556c2bc895cd5f4809add6278d40ac9dd088ad2f843d1893416c54059c628b2de1585e5fcf7dd7009244c1881a201a11b7319f855589842420e3dd8bf1427bf0d5e1905c69f7e4a730c7b29b703a5a75b23f033614d9d7f7c98e40521f065d44caefd775f4f509d6b48aacccc70f22a0720d008e2235ed881fe7c51bdc06a18d946a533cfa6f83e86313568d34421483f54a08addf0996034b529a0e1a4cbad460f7b9fd3287a8251a05d01d8f766e1d09378acdfc4ef6d29c3a1e82e9257e7d58495925f90042762f01f3eeafae914d6458f25641bcc435f0f8040b49d93643a7accb8016f45d95adbada89464b8fafb42882f8c5afcca428d1b0096e6527d4de86c99c525d009b669423f42b14d53cb520a2bc9cdd4ec704e08e181caec5bc8d7b28bd063587bcdec463bee095426d55a245193c3be050d9edb27aa75f5a7d51679d1746ad2e7cd241327306a050088a0faa2e5317a4152f534e5991c044e3a507a36ebe1bf049919ced842a8ba80bb497d5acc2cab7a62a933de7ba90223ea19563defcde1955b44d9f524cd52784ceb3ff74e82b94961efd61a7c43893c2585f768cdebbdbdf9d4dc1ba6cd7ed7c3f93b0f8ff36fd0379e3a586ffd8070182aed2e4fc2ce29ea85386a76ae25ed658dabffbae22f497f88a312ce45cd9eab1d19df5e84c9136718e48099267125328cf3497635eb6ce0fbe94d10e135e5efe719f46cdd696b89eec69c330c3f961ca67b8048af6fb2b437818c736c1f4153046a3807fa5967b28adaa326962d82e53b0da4fabb000d930163e1086bff293b556d69db2e53bc9e504127caa4ef138e9bc55f1ba67eeaa773376447d67fa790db51d632e86bb6bdeeaf6b8c086cd47f0696ff78834359adabfb1d6d0da62a91ef8748b5a11a6bed74f1cf5d255e389fb6463dd36b0e498288c61c44ee502c46176b6632e35781ac691a7e8f75b73251f31afabbddd09f80244a986ae246a3b51be89a5cf318916870372a081fae213d7245294e920e7076d6c5a76f6db0edd8c508a18de52a2db779af2e3dc2dfffc7bde03a4881d6641836dfaa311658d38cc576f7c4ef0413298089dc8f22a8b0de007dd7735b21e623738ba83509fbb82c8345d0f8c50277c306ae5717c255321270801f0f2dc904370a7984ba65f0c50ee89b6e6ad7715d676a71bb32d453e6b3da4d081ae66c501b4f5ff3a7a91e7de393b20d5c53e5e6b28ad13f1ad3595becd933df5df21595ff4fae0e5503fab0d6ec6e62d364ab81b40f1d958d089af5468639c9ba6dd670dd25a82b03e92135fc69b7f810264d62e0509e02d4c493900cc72cdfc2c34cf52486e52fa5152006f55c964272c1b68363d9b58b670c2eb61f8a298cbe3271e659423cb5657de68918febc2afb954a54478f1262d97953bac23f1fbdddb107b4ce55ffa5c947e3f37e8c7b0ec0ff66f39506515f9e5d7b8511d9c3ef6246271e70037948842dabaec6066a8ca05fb4fd8b314c157cb46cd61c9cc9c16e654909a3d8ba415bdcc87833b4037b8393f85ecf2f02f356815fbd798ca8fe1c91d35ea00a5f7303d768a730584e4f05f003466cb02f70ce281c75ff6008c64e8e8375c319c21252d24c56dbb17463474f3e68c106497e33c53f6bcbc8704c1fae45f303c83af08f08b8136f6174d63a80a4fe2ee6c8c6bce7934e210ee730901d2c678a931c71d590e18d017673b69b19f604e8f2171c747960e29c9bb5a251f22b2b55e25fededf491831c5991a590c3be6e2548fe3e3ddaf53b0c1b4558231a75ac17f2a013fe2a6e2c2b5bc6a210396aa4b3c0fb1fd89aa9632457d51b196fff6e71e0e3d7ee50a331d6030d88f139dae3ed5a117e3828f714a40de978384b88773ed79aa54fb4203a1098253726f41a1d9ca454df6b6b9cd12ee18fd8a4450ecfd1417b1bf0ae04038fe8f9ac626684d823d6cd3551aa927ed9d7d0761d85eff6de7f1ea4c24b63c2dfca22947aa1cd5c576e65279e17c507f23d189685d5a38f6d6799ce81def01c8ffb61506d04aa0cf726c7c681e209e0948ea05e83370cbfe827d26f6fa19e5eed812b6118a7379bc7d3b39ff2968a70c31f001a22b9a8c56a26d1ce51b98ddb25aaf3e3b0fa4bda7cac770d0607d44fe89c60d0d5b503200e7813be0511053d6b12a34757bf5f7576aab99f45b0fb5442de1795a24777c794acf947b912f32fe5cf1a3946ef090e4099f08c5eeea5b76d1537f2725157302ba80b9971bbf1cfa5f2be697f97093709094d16721eda8f015f7a5148ccba872699d94a8248ffecf9e9d52886d66f3220b27161db76176bb58fabcdba82c32d002ec4cf376637e6b7792c59acefdd9aff18a0a5d64adf17f404c917f180414063f916d29d5160c1f84e67547541bcb805b6ef48d65c0e8bb67f69b765acaf443eed630ef4aa76d37ea310d8d0e540d39a79e03dbac12f55806aded3e6ee350e314082f9a732bfb82a42ca7a4557e16a55297aa6b2b7a10ea28592e80319021c47dd41f901dcb89796eb831d9abf675af9b491cad0671347970f5a3b777bb620ef84ba10db540999f69be40d562d0fb7f7f286b921e8c4fb31e14ac009f5ed08cab3342910e1fd30548ed8fc92372aa34ceff4dd0e5d746d691869aee8b67f1a3ccadaebfd7207d6835e56882fe1f42d7761c577b17659ad330e6602d82b1ba675f2da4e17fc5c3c032ff0517122a1a0bc8f525fe0ebaad08c418086821cfcaa2406497e82a11d5054a91717939b564a01c6816f13f1e645901757c4f08dc5253e37c378e532434a29a26fe2f7b1970fe256bf2bb15bec079000c855401c58ddedc8025d657295b9121071bdc8511d25551299fc16f886d228de6639cb9326f47fac052246a6027fc88f671feb265692a492e61b557a3e90857548a99672e82cc2a3c3e857cae50a17c05b4889cbf972106ab7382373c624ac7b261401d2a6be3676c26d4cb336644bd476bf0006f1d80a612007437a4b25b516b39f257418388fe7ee206c605c3d9df90ecdbfbf1292fb84a3c6c49e3aa8c3a1c4f3168cfcaf4a9532e60354b92299dfc4e59812daa67091653b1e55a156e7715cf6180d594516cd13fdcd80336f3ae02a1e67b49265a56467272d046b85dee292b731052381c2de71bb9ae0776c6e28b46154e667b22ac1a3403332919011a7157a86098c05043db61f13aa17d696990eabce7c07bd3cb7c81c0b18d97b458d2ceca4a2b54f5d9b377b41eaace5c9108f9aa76ddd1d4b1bd0d80401cadc09f0470dcdc31fbb82d444e635ce96d819d5d481362b75813756749510161f888832f33b3e4b40717aa5c76638ea5acc4872d99464a506d5366164f78c7c592c43c6e7c2efd7395c68536e9a03865648765b653eedf5458799fb6992f69b8f7e7f0404ec4c0f4582bb967b2c6af04ccd310ef272987954d2bb90efcc11564bdcb0c8026d330c9fa51cb91ef468ca12c1efdb97bb945004ca3216763ca7da5f678de7e21eb5cb309a950a3e65d2b09c3a2027febb96d5b51c2c891c22ee638d10815b7e7baf618ec350efe4c8a791c9a0d22f7b064877f55d09c2b6ac7eab360d162347744cd4fd41263e6c7412a3355dbdb000dacede45350f014411a0f97f5e6019b8dd6950739520a3e9f70a66c6f45f79da9d6fb17755ede49e67f277f630f187d1704c6252e38799240f56825dc566d167409669f26f396ffae6bc0662a5ab96c368c8749ace172278980df381bbab8198dacd9109068fa43d28ec8441ba1445e2047894ed01a4eacaaa2927e15e14312b4a4b9bc37f544b301d77299658a7c7fd95251e6f459f5505f4f6bd45d343332fe019329faa161b7b884e415c85fdbc97f0f8e9c416bb67c86303953c95af72d9852df215169546c4505792555efe5b0b0dead04e1f542f23bc0a0c50b4b47f7358e32c7f0792e58da44bc73254a526ec0bb214a5830a54c87d5f84a033b35fc67ca71664f6caf017a17f037ccf37ae1f0cf5d2bc56448fbe4e3dc67344af80741532c6d62240d404e0cff7b2e1a369a6107e735e57c278322de35ebb55438f293d66fc3edb62d52fc2f984084492bd60bfd76fcfc5b28eb9f98ba4b8485703324911c4a8b5a69e360a09e731b32bb0ad8458bb30e1d2dfb5953bccee4d19df89b63c50e17b9444f0788e364dbfa94310e331e7eb8e03ff6aab26a7e00e8022839e2f8daeb2a86a3c7f98213e7370dc2812d1aa611d7de19da9b35d8b8f355aafed3a45c6d3c3e59564f6463fe89d57195aeebf80ad5ea091cf5d0ce12b4f0f7ac2d1d6c7c706211615c88c188a0b06a7423be1e6db969dc0e141724fe50bbe2ba78c153ee4e6e6a6aa66d01f1e21b5dfbead9564e52f5a3b25d62400572df46e3ad44eac04e71e4360144661aa8c351bfb15a1a94a1a64a2b56b93b7f4492259cc1bd57a4a0ea3543bacbac66b5d3dd8162c963d10dacdd4ab9d4c475344a1b1c11fea5b09235eb8031c1c6610fae23f80496028362ac4ec4f5a2a16b1d98cf830239c1c11cc8fa664c5de410fd2cab028f4bcf29f11bffd2a5deae20415ff36d678649cde8923e6372930bc4b107e0aa7caaa38d0b52027e0ea462caf7056030f39fde6adbcd04b855823946a47c4a726753669fc668d4aef7cf70c3bb5412dcca83df79ad792c6e97d6e24bc158322cd6c904234ea946167bddbe83d384f4c11e2dece5992608542815ea2d019ad374483cf1c7e4a7b86dfff8fdb64b62068076828b3b8d5b608089100d9230d49229eb9591cd438ddc0ea143aff63a6d0b21071995631e9691dec08a27a2a9d8b9aa1e80aab9ce7e2e3af5361f48ed81aaef9d06474529d4cf25cc1cd55adc3ef34caa7497d78944cdf07b02337daeb89ba8232bc39a228c88c5620e17e9bb6f14bc35c2841574447208d663c270c4ae2de4b6fb5f0da9a20304c69f8ea3c01cdedc4b6730543127c95058d5052336c6e1304fc4d4e230c0ff4ff83dac5fa1452f20a005e79ae9eb207c1ae551a31c2f5719e12846a25e62fb64199a5f9b57e6db976180c84dc1242cbf0fb6dc0154228c99f372c8cc8b7ef4c6f4f516aea86e60586e83e1f1c28796c27d23ed530b6373888cd8ae305453a5fd25b5abbbca260656a4bf274449e18e3198899b5279333c5ff2bf07d97e1a21b497c5dbe7a193b102448124a4982c0dd4e728208c86e8ce630a6da344b88ccf503ad2d97aabaf38cdb6cc72eb13796e817738fd6b5268c4fd8cf052af63c3cd6ee669da36650a6049b4a26e6b77a1f9a611308ad6b588448f5df083ef03f87829925e82c8ed64f72d33ee197cfb502b19bc52be4d9e5d626dfd9bbe6010b1b7ea26edc1d7e6905700de3226ff1b7fd113430e8844efbf219aec70ebc2b0320134494ca72d420adaa757a5194c7460bd12d2d9ac5e90aa8dc10481c6cad7038cac70fbcef03caee1915c2471c8ba2aff25326886ca04cd3062dbbcf601032f510f2d205056766349402a29bffec91370361746de35f0474e14cf05d0b7c20c9ad8d41a1ab5627965726db431421040f9889ac98f756ee0f9c20e50fb334e19e1b1fd06db9ef79971d3147385045e1a258f8b3de56638d7d61fb0163d3e4f8e5cda5c933eeb3a77ab3bea859671352dc2788e5cfe08f8c69cc29686138ff23a8b5e2f98fcdd2b8430cc9c3e735591a98d0486248da6bb53bcc46a9755dc663a938da6ae07d4dffad60c5d3984a5e5e7705e5ef9aa69ec4ecf57850e8eb6a97e88ca441e76cf37e50168cb9322fcda5f4c343dcb274668b4027c709cd3840e022b82910e20f3fa5a4396b3fc5a49d60b8541aa158b875eb4f2957e983b800f70062c3185245bf890b74b1152b375eadd054835402f2ad111133023b632cdc086d4c5771891557c052c2cd9f554f7c8e7275bea5aa2c7ee6cfd52be11c7cfdb8fec661f54535812c3877ff2df87916abb1cd7c25340fe52f025c79d42a2a1d138fcd42bad9dec1a5a17841b67e26a4d9d965abe747fd02cc492416f3b43e1dd204da55d7c4b4a130aa6acfe053a37b57711bad76eb19b5441249c18aadf3634d06ddbc981448b575977605cf5309f647008109c7559e7633d79eef91d2dcaa702ef42b9df3fce1b25a021734707ed3af79236d98ef3b0539dd503f5394c16e45b6dc37e6dff9ce953657462ad2a3778d3be688d6afab93a32164f291cfac642e09b23470ebc068f80ebe0bd0c9137e96a485301ec36f69ccb0e21bf44d2b524356ad824a7fc38782036b45a9e8131f9ff3711586340a1e2fdb0431f71d0664cfc2008d1b03799c5be3ced4b2b006e31f3d795fc1a7ab35a6c27d0c632b52aae0380b825e3455e686ee2e16d87b7c12ee29ef2847164053d8367e9264193e4daf8ba6b0e1b093d0d30d2020e095abb62978b99daf01784e33e26bd81af4a1ffda8d929e4ddeb4c59c7830a34a5ada90391e1cd224a0a861cc428ca92a22a503fca565aa02b3663ed0487292f206976d88fe8c2c21efa15815d4187c2fb76d451d3950acc36c963d094e4cc579cd78f4f477733ab5e7527a36af1738c6b16354d04f41814149ea9162a6600a21cfd3e1600df5125fb55e651084cdcf980ed61cdadf82f00d87e29ac091b81f30129e519270929aae59463ac51ced68c72aefcae880a07b22d743f5c30d3e7fb15aa4c3954e4001d7a733eaf0df54a2f45043d749000a1fcc41748d5f0cd00b68f1f1170c392211727ae6b79d267b0786088fc4295f74884eeaf99d4e5160ebf0d419d4510367657eaea93b5e7f6a015645bd1785f1f026c8ce9bfdc28a2f41d893cf717c2913ad489a88a580206ce5ec462c7346375ca72664c3ecb27d16238d8abc3158f3ba31c380a5a19a38659ab81ea0e7510741de4fe4a0fddd70c100b5262e0fff3323675d53ba877586a2122d3f041df5effdf29721a4300ff340dc27980794c31df87ee328177dff0e804edc21e7f189dbac866587b159db60dd8bba06544a436d51676ba4bd2453902e5a90ff1d18fd44326e8c93fde62307f0e048dd2f49e93aef30b661a75fee36902f5a103b8f8aed6c78339e040b5212c2b4ffe0f77f162316d9e9920778c11bbc90e6710354be5f9cb756117dd201f4e936e1f53f2fe0c842ea5f6954f0f1fa28b3f87591a284f37fecc9f111c989fc093aded80d500963d96e44d8dfb407c56b755b2c3f4f18e14db2e6b9f153671ef125ac79ed84b9d94b6fd230e287a594eee5989ec287d01671096e11ee5ae7760298273a419ea49a9a38d45690178c03de564390603b66381116ecebc090760e8d9cbe117abd571fb71056b588d5f9b090fbcfa8387c2715ca8853001b73aeee901e800ea974b51d23766edbb42e56a5e13414b7eb7bd773db3153a78674850fbcb5c3fd286139cf29982e989d3f4952619e15b2c08e5df50109806b997717c673afb4ebd0c69f02904975dc40d8c3a68df300a646dd5d4cd086e8cd73992294cdd8cf010c21f2106af35fecaf37a8f37e6c18071e891697a2e4fc9ef397e91677252609925f3c5dcd87526b9e49ad9141b57406f977a2292a711c98d8eab1fe61e33b042e09a69b8caef3cc4f5d49443ef1d62eef029c7ab92de8c5a1d076d2e14c8a3700e5d17255b694c42554c545ba6f8119a0880847fbbdd12e0d24809d81e124c8a72a711a0067b5498298a9b8c6d75af2fe3acfbaa59a2645dde4c597ac2bb9df92004ed1a7f079193982b7ef0cdd9be4987c7f809c378ebaeee5e5dc633f387bb95c80da971b0a2ed764cf15a56b5ada26fdae0c4ac93d6325561f9eeb21023d91e1c47772a62eedef2aafb7018dc499bab395086a84520257be3d3ba1f33d414626b214dfdda1769ecc5237d144896c3664cce8a40ab3506e34ff89630a8319079e324150975baf736e9910e6f6313266f81cf1fccc33d9f020ecece4e7ce3dffeb5c8e7647344665bdee33582741a86fef8066b6fce34b0fb87c50b74bafecc3edda825af313c88c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
