<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8d0a0c9da27dfc473b2b4cb8ac3124b0c11ef7f1e0b2db147b8e5f3d1261385b59a7ee1df728ba95c5e2abab8f76d7e0432ab50485f4a36fdc7881671030aa9d62e2d24a6cc850391b396f67357bfc1dd00227fea2911bf987bc1496b18a4d1a96fe057619bfd972f950d9ada0f66580cbb4912963a5aebf189bbc1cdeddc71d648a6b04aa45f70570595eefa3e20243bf76b9e0c01d7cb08d0a27503059bc243334b86f5550d98048409d489cbe23a39a9cb2621859c252f31aa0c494724f98d9b2304cf0d2bb6f321c89434852446489a6d2a7780ff39bf006189de1a11abcac8c14c5c0e66acda2b34e7e4ec90b138b9fe0d2d18f90e4372cfb55d2b3005eb1b4b4072bb3b1b83c57b4753f2d0b3f1e4c5b72fa68c09278582863d7dfd14de0ff3e16b0246cc7be9361655b4a9c548bfcb1af8288126aac290bfde3daa1c5fe1a2c953a58dfe8064abc5733af6b52a8ab98d476d2cb7ddc8f87ac7e9f9756c7ea00d5428c48fcb4a88ea3c014215f9433a5fc71483e70948d206a3e760af5008df6dc14e7c033c626ff64a808079bfe3fe8db193ba5142cb7bda99dde923fb1d33658f01ff5df2779d897163f9d5842025ff5fae7613319f5086d362e90301e69d4c73967058aa7e191c082c0e039c2e913f190d02cb7c0c604c1c0bf47b04885b1eafc20de5be050ec5a39cea32c5e82480f63f8250740edb286564968f7666abb8050951eed4fca9a6b2e953153ad6fde0973a11385c72d02a6e9b0d7e69f60421b355485c823fb4ff77e14bb7ae579d48d7fee961fedfd70382fa240d13bb35a48afab0e70ef70f5b2ad899c500cf5e3bdf6c25e6bc46b96f2355f459350dfc3d0f416e29b69b6fcccb7556a965cc0ede6d3c8f120d3438bff8a2a54a653997e1eacec84121d9f148fb4c16dcc428bb4a61cfeec45573a17107f1cace0eded0f50cfc505d12d83dbd3d6c92fb4b8c37d575457bfd2d2fd1082ef4e7734207511c045aec0f0889aa28de000aca1bbdbd857b15174eba0573f25fb66257af17995e6aacaedc771fc777b029d035f73d59707b0dae8c5982fbfc7d0baeb6150a88565a1cfc136add28199d6bb1c5324679e31b45b58c173e8d58b27b2116912acc0aef51dc41d5814370ecd4374a7cd481ab3c2c9a65e2bee06d8cf42971db687086a54a0a4e08ec289b20cb3859d5eea4928f5eaefb5aa27f8632968a2637b7c0e81f07844ea8061c148e1a144883f5ff9685a1d4229a60c2b7ae98b59325d6ab384ab64673123882dd9e710fe1d6d5533f27a31bd1358a20d114abbfcfddf13e7ff348504a1ec157ecbc78e0969a1f863b698face9dbd1cb9fa004ab95b77ee4c86cffa6230b6a135eac960d75f42c1c189130f40ab3ad67a1e3cab32e37c43bfc7d9ee08a5dbdd85befa8338d800dff07d7777238d9d075e41e2b1fa4029906041642dabe180175e01593e67f9c6eb68cfe9f0876783d515900e75f35007c3756220e8f4cce4b9799196dfd6b9002d803d6b43f7e5293355cdccb1e1c344e139a3ad8dd3ccc9ba7fc10ec141b3a4652a011d13ca4d4fa6afb731eca43ed552fcd2cd255df20bfcfe2d2953aac01dea7b7b5d6aae424d42076ebc5046c6a1e3bedd53df212f25805df866c11bc456d324e4d0dc2e1f9cb90daef989110c15f892ee76f1db7848f1c252b9280aee5fb096b7f70fe491b8da8407ed8d7007fb0c7f0e2373220a38038acdafa207e75e82aa8822580ce9bbbed4c3340dac1d44edbed15c910f7cc320a4bb6d4dd711b57f0088f8e0f366e7250463ac3b57bc8459d3e7b440abfdafa4329df13a747069e976026c93e2290e47e52568c9f36ab41b06a8199c3c74a5ac756104af46ab2ca16558083a19130e83b407942e71e46c9ab4b90f6878303329e2c366e38e4bc2b317ed5dc15ddd8df479d922a11596bfa7e9e3e53dae61986c8975b6e39b15b893e7dd9e4c43b2d210f35feb504b4c423d3218f28465744427e340e9538f3541fab6d07e64a4ce72f44d4d7e1913f18f9377aa287498177d93970d3512d87e897b5f16fb2baf53606fcd09b87c7dd151b2b328797c85fa40c2003a87d32ba377f137fa6a850afd75971283c06a3d14ccd94f221a80bdcda4fae7301bb2629f4076e88de9eea64d2391e5bbca506e6afd6dee11ce1378280f0e8bb74068d327224edec3aa3efecaf4ce248426f78b659b61a3c279fb381a7afaf06422db74f1cbf531b8bfeaafa768593c4e028ba4b1092b32f2e160cdb6f0f1c2bfcf5910dd2c2be5ee779a87ee29cd1a842af44e9e3e03347b4b16572df53a7f6cdadf51d3d73b41c9e672d073876e82918c4f0111e929c5744d1dd8e1ee02c4632a4abf59879507361be230507455efea6aad9ec7d6eb15c86c953c9fd81b3d53f1ee61988c013f3a77af4eba53cafa779818e31edc5d771b6c71f07700f051abae8062c102afd8e85c81bfdd7eb0d7988bb9dc739a27f96ea85ce226386a73d88cb21eb342388fb2b037bf6df8c11272825dcddb0f3384810711ba966b99fed0fa572aea508942c1d17ddaa35af845537e84b0cce559d23072aa18499bb76fd739e0a3aaec86e180e9dd51b6bded7c95632d59e500e5d7ebec3eef6c6ab3e676ba89a6ee4c9b71d52a061ab33ee6682e1462a9fe203c7b57db962cd810bc7892b4fd23aeaedd27aa396adf781cb4e16566d476bd02ba94f73debad4e70152c54f1bee56f5635546c2ad513e4a682a685f1ced82dbe2096efa5d542c49ef494a4f93b7bc367ba5afabc50ba054f76e7341e3d9d7a097a068d8f87a4c5d52b10d537a15e3249e326f60ffc6385326a6aaf32bbb3021a17ab7a69dbd85205925969d6268b2b3e82fbba7d1e90fd2edc55eda2577db3bd2f481b5f86a31de0245b08dfbb0e32f2a16c089c997b7c17c8ef38581d729f690d91bf753139a80a93f15645cc4235e4a2b056bc755818b66e478398ca23eeac4a5dbfb0139e4fe80edf0accf312c5ed633f6e60d46af281e8ba6a3fc193dc79eae9b32169d3a9dc9eb5d4ddb84ce7f1dd06498e286825ced6e8cb963ca07d67e22c4cd8653ec41478d14a092b9ed691bd885a65fb1ddd6dadce1fe889776b61db58b85be9cc277245e8c125cc8e8ccce20e4afb35669cb89e854e7dee7ef9bd5367e09ec23d4ba705aafd44636d480313df6116a877ffb594adcf57025db85c4c5465191255138f94e66f88fa21c360c41f883f0f81295455926452ae76d638081e502f895bbb0813e2a9f3656ac2c3f1b6d41ad30b4077cb65899cff266e58556a52833b21020b5b6effa5ab36a41a09d28ef1200a8c46bd3723a0a6d43e09d4973f80391b50b2cc689f7e1269b6454717a344b749578cc7e1feedb92307dbe00ef8df4891d707f93ff738b8618240e66419f6cc4b888e7b989f37c688adaa3a66d5df0f687b3aab589ccc4eb2e0d786258a461aa44144d74a0478907e2f157bc4947c3b009bc5be4295953b020a10186b9cdae2e8483ec90b63e1574f8a9b3c9c59a10e685450b3f6057ac89b3b43ead60d8444db8ccdc3f7ba45ce64fd29b09f9ad821f73f4b74546402cfcbb845adb795bbd03d089bd7654241f9fa955190d9590860612d3a84b4e019dbfe28db3180605e5339e488ff19f9582c356f3f8033e39709e76232b7fb3d666ad5c0286d032eaaf3caee299a514a34352355ef94fe43b9e95e42b22c6338c60fa940d55a535d6aad77f5baee7223d9b0514cc291d5ebfaf874426b31358d1f3a3f50711b58c027156d5fd0ae794b934abf325c0ac404e374261d20bf934806a5f3c971ef7f2ae422c540a89fa560a6d8eb5219b384dd26da079b799d3088e5c6bc164d4dc4642edf4f3c6ab9400bf2a6953d470f37926ebeea2232cf8ab9017ee8495df3d14c43457a94c0d74e4e74172d5cc546374ef6ea0a1044a67494ce65a17e8f79d4521db57ac2b19dd534a3dd7254486e073416578f0d6a420b507cba830131a95009c5c6bfb692d1ad03e0ae0d13a21b2e179de37226d9a842f9da768ab7496ad840c5e0b7a95d42696aa763ef2f804fa18e8272b03b4de4bd8ab9c49cbc159e192b6207c0cd9bafee87d8bcb95eabf90a2b7d426c9c78529f34d8bd9a490c430bbcd6decd8756442b7c67bf44f4a077d7d0174555b573143fb06f42abaa1d17c46523410dfd901ff1bcc64b3e98240d8e78c18350ce5c965ea5ea56df9ef3a531b10680865a74243a7aa45fc3b14b90a619a2401add416c169e9507b3211f64f2bb55bf1e403b89b50f7bcbe1c581ac18fbd251d2f07643efab54e339c871ceb01fc6649d3cddca850d5631c51b321f1f80581ae0bd3d0f5ad4fffaf04bd6b85e018fc4190714e51125f2ed2b67db4802b82f437b5c7457f1a35ffdea5797f8fcc2b10b21db96d89d960393c078a94ad51d9fd9f8dbf20ea4364507c5391190fd11c4b197af044b979fb6ab60882c83f6a37a15bd07a0ca7b3a631fd08171bdf2966313bd6731637af1561916094b882d052df637cdbccc3b406c7107e936abb74f025b7610bba4ba262255609fa43756b9905dd6fe73ed2d2454a8f61a9442be135c3c162a4857e8a80ffc7f018d2692a09ccbbc05174f98c3059fe544c57bf281a05d4df727b751d9c8c7e3669fa775cbcf9eb4c4d3c6ba388031f9e44cdfad53494eab22623ee10943dce71f053d3eaa1cd6c5fdcaae29c401e8722d1b5e42dc6c73a59e452f3261ed6188a4749cf444a0495f8836830eb49eff3bab5a794eeda367907b2ff743da6b96aa0488fbf9c3e1f9f39962ad0fb0d3b32e14f2b7aa1457bdf40bd53fc2aeb7dc171b1026496babc2b31de347f7431dbd20be0ebebff48fc2eb8e788d8207c056ecad6a83e354392e06a374ee1c69f72bca4590a0851af9ff501e62c3624acd4f55b4da01b68f1c8b39222b46ff95070689d19141ba5ee235cad0993a6b64883111604caa242a7613d300f9d4ff279d07f05a372c8696f94bc7f7b172d886abe8354f071c1d500e7d9d6f448b602a8355a8efb4e3f066cb90f5dc3e1b7a861a91a11345970b57df9e504618268d462f519bde5eb6cee9ad335c871283073d9f91f0a59d7b3d8074fec4b2a463483192c80efc8c8cd0d6a6fb5d5bdf60deb40a855cfc78bbb1782f2e5f01e40a7738004dcae14bada1d86bb7b15d9a53d9c4cd239f649152f706028348c54b3899b69c54ef2e58ff21a4b744441f69be656b836ee3f5c2f9b4ca928d0a0fb462aa0a7ee72f8441f0ddee291ecf587a42e69a9252bdd6ee6e27d43ab865eff829a23b29217e64067b4901760b034d70c46e86ef791f422db59f92547da243f27d3848687756ceef31b3417ebaddddbdabab2f1ed93b03e27387bade8d3891a5e523cc71987d9f2aadd3ad574b0738cfd928a9c764aa2bfcd60ddcafd3b694c6c50e353a4883bf91e1103bacc07323d55a7a0879fc3e616957ca7bb34e63d482b51fcc2bf3297392b26d77325e486baab270e9b7a75b1c5ca87d852bd3b5b4b18b33a26df08383f2b86b55cb188bcbbf1999b6d184748b73558b10915a6e0389255d2ea8f8c132e3f4af31118f9757379141d173f28d24c8d09e35bd6433ef6e80ecccf432a31c7bfd066088a81a0dc9f433d97f702668bcc453e2f6df68d047e485c4ae456ac3f471868de8562162c9dcad7c670a4be5880676a991d5fdfbe1aada35264825efd6a0f71fdc4ebca5866c695cdaaeb65b25f4110fd0ad016b7d6941dadab92a577ad759e901f05e0cf97dff8b7c4b2369041a45a0fef9a96dc151d92e3fd0a850c92245e441d896b196700bb3c28833a7901c1b16223188a1b63cc0b82085925c423900633fb488ab8da83facc5d39eced9edcd48db0483d44a290d487b2bddcb33b91efc217c1d86039d02065bee5cfb7acebf5f83b574c5642f09f7977431c17ee9ac4960a6f2b0a689422d530c424167b463e6946939d29aab84538c641af5d3914ca7cc1b20f11a10bb4e7b863c20100adb12a79fde5c9c8bc56f02269ae1a86c2f74425541c595812583419fd4b25a2260fff5641ff6f6896d333990e6b433caa3383766928981302fbcbb4bfe4dd7e9938b0f37083c861f9b09831cca56377e36a35b4da1f0e016cf6e5e8856e1a48efe489605a701a52b492361b50fca2f4acb48df4e008889f04057954255da46dbe21ac64cad9919ada4d74b4a46913591ce62438b82c84ed043190e876a84d36f7d1fe954b761c5e1f45c9972e901afaa1023e61ec7634cbd81c027754e6c96218bc4ba8a6f259b3ce1a44299dc302fae833c4bbb8cd9ce098aea469fa81b460caeca6c108ff0af8dcf785ff9a4b261893f0a5ba97424999a90d42b3ceb2a576132de8920158aaa56625e2ea1d14692eef9ead40aacfd813a40edc4f553eca34ac74ddb133c6ec4ed1bb9b18d08defa1a11d77cec743c6447d3afa0a14424eaae69a1c339fb3b177e70fb927c0551db4b5ecc16a92b128f71851cf188cbf8f40128b05dca6b187e74891af9462aba2990286bb2a1547ee015afacb262219704bfd90227bfd73f3fa8b7dd1c88f5e295587113546d891d56f4ca22ae1cd34e0feee491cbf25adaa724c565a0635b9e555e1ddf790d87eb12bcc5a933c8dc457e2b7aab65520c913082192cafbddc2947f007922744e9e5629a2dca36d6125eace41abc24c05cfcc3049fca90f214b295e266c829b9efe5e274dd1e8125e46a5b237b05d349f10649842cee589fa247d0b41ccd1deaded6200e4499d469e4248769793d9f89e598d92d1fb77bf7211277e159621947467d545e57431a33246e7dd7644a85c252a4066f94f4acf33da3f16bc39b1d6f42627886579f901df6165aee3811069b9c1ffb8dd12946dcf3a4843764407e1bf7a92f6eb57b6050e762ca9592ac20297ce1ae5fe4994d923f24fc21bc5d04f65cf656058833bd90217646f667cacf66bcbb01c4c3e2595c2aeb869f128c08b4028e27d5f1cdaf0cc5554467f50027a822be1a72ba76afec77c716c478a4ce1383df6eac3e2240625b57c0ef03b120819668e0a283695a7606369e1ef7dfcf349b7e7d03047097009b2380c7de2ba8c706364b22ae796d86043587d2e2bc3fdc1c3a44d15866d6e0665fe62047b0efa4849dc01c4e2c6c47a045c2221a176a59b9274e151d382ecc057ba88afc246af95a9889fca26d44a83345db2787c8e06eb6ddf31835ff49d8dd00dbbcfbd610d69fe546c9d8387171b2c457a55848260a9fe232f996edd3a41f58720a07775ff1dcc019111605a718b35e82a27537f63f84ac96c6e6fecf3e689a45171e8a7e0e1fc874bda5e1c95fcb0592daac858fa8e56938e5b846039c942ea84958698a761828bcff2ba9351bd2c8c837f9c0f8b80f4a9f4c75cdbcd056c7c07c75299164c90ff23ea800daa527eefe46747e701c03b6ccd8ae20235f20ee813a3b8bf37ee117d7617aa6612fa488119a27396cb60820657611da9b503c8b8c14cbcc50afeb459d8d4d13c26093da20cdd6bce6178aadd5f0510ab865839a2a725d5f91570659b20b378de3c8d58e1e896bc53528d2c4d645e18906b8dc9e5f4443b150c956727d5df2e8b9e536808778e4d020dcf1442177fa973277291f0dc76612ee0e6d1c622d66da714faad427f15f2a6acf4130bcbd386c6942e740f1935618495e93d58d9b5d53d0f99f4c7fc653c74e94f089e1281d42ced91e6f2330f96628641a4fc3b9edcfce3e8f9e86472e1fd7901fe5280d1cc1bafb47293ea23d8c41872ab46420f52651fac43c4e66f94069c44155ae9c9f6d738da09fe98ba5226b032385aac4c887469423af9e3d76ee02c55ee1924433eb203fd7aea395b5aeb23694147d3f396a750cf9cfdec18979ced0ac11e4570d2a243e991910023b101d88ca01e2e3157978e42412339edc14e09c447f48a5a568735a3e441bb31923c9a9b329c3e1c606cf4f7245e7888e0031f38d19737a1c27b2a2551d971d420afffd251a948eb2c0fdd33114f41ead8ebeb80fbc28afa6efc7cdd982bbe7081437b394db653bc878ea1635aca61be5205f6cf6b1d04557eeb42bbb746b4a33ac3a230f953af67d898e698f62331cb56528af21c90bd70010b4c3161a351453bb75540f5cb9caf586e1abeaaf360f05f950941f79d4b9450afe4f391627cdb67a0bcdb0fab84cc6c4211b9eb71acc8054c1b880a3a49887a6e85334e5375cf3632d5a6e656cf25f3dddd5d38317ad4fbe20264a0c7355aafecff004020ce1ad09ef0535b09eeb8a8474433a9f2c8e543b4f927a43e5032b8c635b44ae8ca7ab56dd6946a547ffbef98dd5ccf0f00f0c2a402668b080bba8330ae15ba13b4bad0bab879e65579589886e9b46ab0216a8707de0ce4486852357bef00cad8fd923bf75095b95383fd8f788ad7124899f6f18d9a0c970b6cfce16b54e77c8b0284574136dc17a8065ad69576fe7de83a1e2623f26d69974b5463a0c23b2924f6bb28a15b33a48eea669487f54e6b6544698a33448037dafc8fd05181c89f505ceeb9be84356d7b92c240ad1d08957ee184efd911c2951b04fc0249dabad215675e97e2e6458e34cf83e46e8eecc26291569398750f0610f7a1f9816b4e4b52f49195291ba0ed99a454cb0e16a1bb631286fc8dbbe288843ca5877073ec1059bc46b74c88a79618097b4e0bde004cd8bc63e23db85e20faba2f56c6a1483338a81d664a1014de4baa62e7f496e0bf45ceee9e22e91e9790bffe9100fac7e23e3bf5aeac8d12522fb767cf3942e99c77dd9ab2c3f21281bf77e79421f93c0ce5882f1a5608c63380553741951ff2bca4662d950b8fce82d899b1e1118077e2ebd1df0313e227445061c249ba25d640ac620b719b762ae7cf293e9691159d98fc8f194edba0dce3e9f07f203e7d59161fa9768fce1a5538a955ccdda1d750b510b1928695d7153d2f2a53fe8a225bd9b80dec204e5877cfcd5c03e0f31d07deeefaf39e78f89da9bdbde291f84bbbb609e699dd1c0eeea41917e2323f76f83d7620b51958b3a238073aad2eb76c184d98581fa044bc070a141dc3fa15d3ccaff5fdda0cab68437dbaeab504b72e498b7f55fa05ab127f11bb34f4225e1404919f90a5fa6f7b6bab0ea1074ee726e6e18e2e7ba022135f01310fe38f629a835c57a48262cb7ab9bda2befc66a631c8ea23b5fdc425ccf873f0de4563857a4076b01dfe1cddd07f79675d69430c07f4f68db271ef59043082aedea12ebabe5b0e006166db694fdf1ca0ac23c73e04230ce07237b150a3309848b95ea1c9b8c17eeb2397dfdac4946c022ffca019f73d306929f201e5f7039075cfbb1f96d5882baa09d01d14b088fb1ae693101cd3a23125c60268a55e44b4f87ba218714bb5f066e70bf6893723fc4752fb881483b9f03e63c546b3d7a8e1b017536d969dc40ae39551864c9cb28f3bf941c79f3ac7ff07a3d296c0bd309c7a59eb99a9b4064a6891e1eb5ac8196f14fee4f70400b34a141622e45361bd8897f89db514e34cc1dc6ff37f62eb40912864c4bd2b3da6c606314523b1931805d82b64e1a148cb7e88eee7ac11b8eda258ddffb89f6cf3fc1890f57d3ef097f695437d1aaed0067c13b5b56564319a019d4a36b9ac8f83a04a4465d3029a7ed898211944ccbe09a56fb85217b5dd4297c5e504aa6867900d4860e0b6990501452b9dd929a26805181b604d561f79765af82bb9284d306c60742f3f6387f75c78bb04b52ed46f24df76877f1510a3b150a36d9df7663fc5bbbc11fea9bfe1ce882a807a260775337685bc5f61d5990983dc83dfe2925c8a0affe584545bdbb32bf7da66e81190a1a990eb406051464606f10e828d5c2b9700a594bf7a80caa1c5a22b1f39773dce8c4e82aefd215f50f33f1afae24f7712bd0993d1cd1fadc23b6ef3d9c0f57d85071fd4a9ec38a7beed7371e5ec9e05299de98086618a8f7a6dcd23d3fe7c38329ec284d4d8ef2ec53219093ce4d5e80f9e452ddd9532549f84b39ec2582807a76cedf1b6a96c3715fa8b79f8ce6d5f56c2bf6a71fae78844810d92344dc704d0aa0544f9ee468f722d47f26087dd4460356da01bfbb1e235a4dbdb47a97bbcdee782e65386ea7d178ae819bed8dbb8c3991bdde8cfac9458032475d7eb42ffbb5231942c91dd79ca383369b49352d5f0945c6c6c2fd4b4326679397c28e8b29aa289adacdea52988374c27e41bf18bd85702b4b1b952b5abcd1bd840ebe007313b7b6a7373e0eb12d7f6e5e7574270fc5fdfd9491711ee69eef2878f9d195feac1d91110d747e6e0b40db2d4036f8b5fd839c46a42043daf105c5cc080df43a1273b907952d15079afe60de86a62a15adad9a99d8205e5bd6215f5a1f0d05e52283100e79310873388ce10455011ed92eed1047da68280246d74d5ff1ba8f84753a38c35f1d9da7e0c7c8676b5f77728cdadae09658e68fac8c20b503e831fd180b452ef177d3fc418872d1f90f91dab7c2f306c568d9531fb6fb50e5eaa616f1d76e7b01c0094e5ca4cd6bf53391146db9c804a902591842e2226bc2985f759ad851a8e01db1786c73573ee050586b177952347fb57f81b731fb56fb902bd290308a7e12e60534c3d9eba169d81c65d7971bbf5adc9b1ebea2ae4c2b65cef89da4fcbe4f5b47f351a0a59804f264f7e0ef602ffd4b27a24e5c899d7ae8e0f158003bcd101674a352108721dab13b4e6d9c3f6c98aca4a186ee455e3406130f18f750baf5fe89ec09e8e53fe845e298582ec68543cf93a884d2a9c68ffe1b9a1558dd653e3b140c52eb192bd0c7c917d88b133e3b59fab0bc6bed0c880df80ef31c04255f3205fa9bc975d03dcce1695b5d44a666c713fec99c971ad03534544ef7e73e7289121859bbde2e3f8b6e907b522c8b65cb7aaee50af99fb397b0cb64110778b0d965311b532197d999fb7e14b5b25d91d2580c10d999f3e2605233f30f4eb4b524bd1176100a9d1b5324b0cf4e81901d95483a622f30721e66842be4fe25880fa308f6addd84ca84f97cdad3189d42030fba9a0e76c1eba334ed4afbd6d8b1663033e944244c85f71b12e9f0e18d94eeadf3b1628f7b2266e5cfbdad1eca4bc8bc68adebcacda7679b222868c5dc56b5154eb4d4542d23021e774ac95eef4def29c8048cd51d5497f6a491268024febe6ce604c99fd71ac14bc68672ba5573b25ca67fc955f255e5f1f0ef015b0bf0fecaa16914737eb76bf65375494c5541b15fabaa056e8ab35f4c4f017bb4c48e70710a63f9908cdb5cc6ec92e575f8c981c65fade690d898c5ffd5475e97b15e83d7ff0d08effb7194665967b8e0dd1700667b52a5e299b5bdac59f707e0fc50054902762fee9534d91136e2b9d70819853e1e5fb56f8b390fe3e671d17bf95c429bf40d001e712766185934e46f63a65366e0bb365ed65c55c99054eee074b3feaddbd0c20970cee295cadf4bf880372563dae901c9bb85493b4c911b54eeb6decf32bb3790b2e219f4d7380a715a7b0674771cfc2038ccd47a65f7916c709f39fa119c39cab1a9963e3a5337af9223f4a63779b2a697c4b38ec28696173a0a539116240cc09d6984f4b4590279eb0823d847865f7b198c06a9b2f44cb4e761d64527948bf011cab3cc5b0dadb14506047fedc35ce26266ba72b2cb496e46b3b24b1b91e02cbed530492605bfb955fff7877718251e71498bf946f25443855779918bbcdf339acbe6867a7688827dfabf724621ed5606097499204591dfd6047636ee8e927df15478df1fdcf5b7f320974ad43f5a4b7fa177567ed39dff0b51eb915ba152fdfdb07ad70d1eb3c66bad7fe79040ea12f76da16b76dc3c1e8fc616d31830197263733612f8152613f6d64fb1b2aec5736b97ea5794656b3de737e0b165b2c739788fd25b89a93b8c4425c1541c845c0bce2b83ca586ce5a23b398a646cb1feb92f3f4a45211a58aea26b02aa39c8d1a88266190cb5d0ee16183ea0d304c217072ad5f80fa3231d8d07613243031abbdbaa8cc555bcbad6ee32f172da8a151efc378ef196ce130600bd5cbee878eb0740e5ca290fa0a5217b814fef1b2125f6d940d616dafa359524e2fc55e889238fef0e962bf8893b6d5a08c81e8b616e1e208856ce76e6df974782e51354bac829850faf473c29edb6db125137e12f376654b80baa06236b3456f3ff647fc5d0b7785064ce2082f936254a7aa9f4621e7ae5aea90d3adf470ff65dcf55301a1377d23b13eba904a4d8f1270893a4f989a5b7b3548e7dea70a6a08054943d55acb128801f8cf6df22ef211b1d5f6f6e3d6ea86524d04081f49fcdecf9562ba2c44e35e9dcbb3152ae406b9af3469bfa6827dd1d67f43efff7d6e55e0a15edd6ec49e190ef52c9968dcc5f4f6d5a0a529158a5762a7708cf27ab75b221ff68474a3669ca3226167f083cdfd981a0c0863aeee7dd0f2359815b65c20b865408b49d004d83229a7cae387be589a321c32b6550daba1820ac9027615e1a46c616522090be36808d622b4a9133c540078a099852e5db9794505cfc7f70230a21eea893855acbdd9fb62d9a98afcc1e9a1565fca8ffb68b2606196be5e3401f0f0088eb84292b1faf1e28c7b47afdf2792de2227972774fe3b721f2181eccea2d194d4b4ec4748ff11d07d042c12913a26dccc5a617b28fb9240cf2f3185361c984c7c7f68d40106269c38b0fca5d85e98d55789552993febcd2a6197eb19fabec44e67fc5c2945004673797119bcd86453215238cc069e3005dff68a61cf5b65e8b935a75ab8a9e367a9f886218097b4a22a49dc3f596aae8b637937e0857f649c2da362272a83a3170174ebccc150e0737067b9039b450654e5b66e39772614ea46ee9b228fecd62564ee533212448b04e8fe7f2dfc46742ba56c9ccf3b5e5930c4ffaccc23fda70b5a7f0ec496f6124e9332012ee1bd83598f7a5b9fa1bc602bdfebd61d05145f8e0519768253d97ed3661a61f1292c2f140aaf03a8d0522ffc9780a25679a798b7f2d1503cc2de9bbfec13cfb6630b8a214d4ec6301b4bcc7fc1df5436d534c8d7b87183f74fd6b1bb15dd5257c6f69741388b947e6780ff4e4de4ffb2926bd817cdca7e98335f21dbbd905ad5ca846928d6f9f8cef8be4a282eaaa98943dae8572d4d2986e321c24271338ac1d772ae82a2f29f5ce96791c7a51d27f29be19f142e80dab2db35a87ad4f4011aba4cc40537575f4714f9c62249d6f24404457d8bcc959861bef4899a5024010bff5bf7b592b348073d0935e2274ba3ecb4a87e51d5a98f3b909bbe21a1d0c23620626268de46c5422e65329aadec84c9e24ac7d0e79713a1b3495fdf31315221528b6f6f531984aa4b796f10f49782cafa6f744bd618795fb168c6587535a888aebac6573690c5f50216391372c4e5b0ecdfdbb39d46a0a0c01263f9d480de969298d0b2cc9929d9e8b8a5d9dd431c70da97c642b86cd7d533818672334eebb36a70d6c16ef4048453088faee7f3d042b654e45c0fabc52e2c3eb67b81ad72e46e96b3746c25c69cfc056f73898f2ecf94db67e41d0c67642232e8f7f0a5b7da3703735fe153ce521bb561aba91e6e1622182fb3514e981127c27ea095d8483a1d57a849c6b1504dba5263ef46ed5fe630e8062d428a1ede2beacf44fea0a4b7f65b184d629863e3cdb942640e2c1760f2529114ae23657990447722296fdd1f41b16d180926fdba629879b54b4235a19735b23d7a4c3d79c5acbd9e4cba4a6ebc6b5af3d9f4a5fd88904b5b47e41feece3cf49cf5fead959fcdf835440e74b426fbcb80070ccfffc9b99f384ba4b664a9264abdf56457894c61c94b946edbf6b701b0a618ff205925996d8a44b1b91148cd3d7822281974b0746b99d4a6eca0409655dace11f9188ff24e149e528730831025b0269dbd54826ea260b93501817972e2f98e2dc71582287cfb34abe9ce61a7dac00559ffc1387aa0d4b4739c056ba2433ded197b783cac62664a516195da384948e867d579cdc30c136ab1a1292a8d515f670030455be55acd976e674f588bfb8b08bd21cad70a430c82dca3ed86ba3a212a17c30676371ff66611588b486032d1f088d0df380ccd0e4b479369f99641a79a50ef42fae5656a9aaa8dbb0053f3ab0b212663fa9e2240b752eb225db938a410feb1e384db327d2b98ff7b7166de38163b1ee59b9f7753c3f5876af2a4274d90269ccc94df0560c6bb95cddcacf393a833bdbcf3a88deea03d18627f54086f2d12a0d42273e54f2033fe5fb0ed63020d0c0dd974bb9f62f12b0c445b709971dd1d9b4870c824f82c5810a27e553c137af2fe75540a224fdfac0fce0ca19ddc6c2ac34a207d4b06fa8797066a252d373188a3f85c4f6f44026953ce39f5f59ba92685e2ff88f070dd75f2aab6eb470346934515d940d35dedb155e625b7994e120cd116288d225753edc00fc94db2fe0553b9e1edf142e2f4d171637a4113781a62a1ccc9c1e7d431bf9cfa567390e5feaca9f96e5113677dec6a41c18faf8485e11ba22285dfbc38fb1551cb1c10bf56aa406209450a916dbd2347ee9fbba14bbbd7a6f7637ac3ab30bdbe92b0186c70c88b7098ae65c9d2fab0300e43273f6ed5226630a9f18d6257849c02b66d3c2ba056d43a5a74e95ba8f6d40328db2f963a1c1fe93c099de34bcbb94961141807197d09435b8663aa00f9ed62a295d3de2385f341d0d08d635c2e9071e6594a3d9e4e395b78305f76cad2526a73e25dccf9d789e6b63f7df5a7f064a9759b1f1249a90ddb318fb7111b8eb8b07b014d472e32e087f86c0f210e5c7b9cade2624409a9c415e0a99a912788e5f82860799591739ca836d0804b5d14fd5fde7061563435a76f689f1c81931d9ef7c9e85c8bdcd93636395e8e23cd52d9bbc4c8d2568857859ad2145c9941068ed09e28715d71ef302b1fc33797e480db882571e709d2fe47771fc515bc03255673d7a32eb2a73d18071c7b9cc4c3cdacde49e222b741e572c253c15835710fa9664f399d72348c80442d1a79393b1db6276f3636705afefcbb6ac89c885d687cd899e016ddd13acae4af3591ab7103a76acc87ce32fa66a2997a99a444ee55f98f524eb89882c981df49757f2338b7722ac1d6ac4bc6dd7135f6acaa93dbe8afb3b04bb5479e682aa78df5ccfdd215ef6fe6dec6a5ffa672d6613f874cdc804c3d5c525ed04fbf939ca2a33107cc71de64bc8506c4269b64fab3d028d7a8d016832c94de9851285fb2fe891586556fa2040d227a118514891e3c32e1d5f037a473d73c756cc6deb86bb12763c18afb6d74595148d5f2832887bdf9979c045eee95766288f3885612dfd81715632d2380032d7b59b85dd9f6af97ae58d1ee0655c0e4b40c23a8e2b7c191aee49ba3e9c1069c9442bc1ac321e8a1103b5b553226df8ea1ed3c0fadf682ca26f8b2822cf114e1b5771553e248742bbaecc17858673596fcb700caa1c9bd22e70d9c057306eb0c95b447894165906dfe9e2c6607d6e2ab35968dccbce70d1bb55116dc8171c418f883d84611c32baa541f32f6aecd73bf52c884709a761c673b1f37e94e4ac833a3897f0d296d02a92facf971e187a2eecc39e884d4d40fb0ff4142853e311b917c8d8a4085d853ba4b9b3507a4f311da1ec0ea1a94d2cbb80a747f7ad9d727299550c12d2c069b5d7dff8865b63f989bd847d69079b96080d6ca4e137fb5591c6a94912a1578a2341b2bfff3411f62ea646aa6410072b514100880fdbb5af713dfcf8a2c92ca48d4668e137aa5d3ac7cc8b4c1a38ab6b8d7f300ac1e903df98240dd0d0ea663e1c8e3db10fbbbd78093bbab06646ab5b1ad53ba280fff13d64e246fddf7134f6f9fa5402c5fb287298ed1a50477cb14a768dff76e05183695db0751d1f00c72f48d53f61d1502102ece6369780c26aad1f74b71f20835a4f9c2a9ad5dd2ffd101df8783fa80d79ec6c8d04c3ca12f708e388e8440a4777a09738a72f5bba146a17078c42e1236355a6872ef05516e8c5c753dfca4db3f63ab9aa7e9a8a5f5f90a1264f2aaa2f26652619a1b66671a059132981c13a99b86bdce640d44676f94da6a691c5ad980769b61fdadc43251dfa6d119e79ad60e4f7d778c0125f489ba473872ac4bc7de3a3296fe4b536ab7de1846c7e62b2aea7a8fae3eef4b8191ba6b056c33698249bfc7e7b9d4e9eac4a8b61e96299090e3888850ac7481034212a48bd89c35483c328f2edc9a9a883d50e5eb4611c0ba7ea3e3cb20ac310f3bd5879818bda7a60b410028922c45bd1929a29b355c52b89c3677627f7e4cc73833102af276b3c35356d4cbe7072e0f66dc12c76083e468bc32e3cf0a2c5c39353a3be7858a1e482d9afaaaf7ab0bd6fab83f53cf3cf539d8030b5ded4d8976b1fc044c992ddfc2f09b71f8fcbc942589eb3ebd295a833ec02fc0e1e8ca30ca746ff50c15abeb2be45634b1402d45b02c416b3838c9367d64ecd62e0717511da1c137a69217bf655ff8136fd8894d222aa21e86713a8a88ec725a00769f907c372e06df7cf6595cb09454b86bacfc7bb4951f718b2f670404f1517c4502e5b27099ee7b80dbf8a857d3798eeca39266e09e02446eb6d95e87765e27ecbcb6e4d2f9dc5ba296b0da64b0ead1258614288aadad150af0b648c8d9b65d0f75c641afaf643bf7edbd1dfa605ca2a554b30e1b144cb377b12d4a36624d037f0cea75b3e1ae9b71e20c94636619d67c9757aafb642c2f04be5ff0c49742ac58cfef3e1d672688b947bee937e3ac7c6a464db7d85f23d00bbabdd3e4fdd3c0779218b2b52cadc84f2c3b939bf9e3ffb74c7b149bcfd9325e791930df6ab6b948a1007d864329806abc8d67bd0edeb15fd4976b152dcf0bf2a3396f85e55fe680f7ae6faafbceda71fe5069d3b371349d5b5b0b32fdc2e6c595fd8a9ad5068395779bccd208ac7f0f5d91b0ffb51c74dfcc893a414a84381daeaf4da6945a0cb25946550e50f410e6ad3d3164644eb7558d2e249063f5dede66e19e360070e8bf821a245b2092d2dc2cd7966f2af725d91f9b17bcfeb1467cbd8da43f17adb0b53ff3df4615d0859f9c2b0b1ae996fce06dc1c5fb3cdf4fa53e05646e870fcf012be9f7424390c2a86ecff604d555cd745fdf371f92db0a24d6ecc51f1899569e34d23e8c82bfaa616a1b9407544fbeb40430251e29ac8c34e02d0a33fd6c67b3cbe3b88634030770bc92ddabcad216f27a2b46f62c2e9b7e96d49bfba72b3eb6b114cb31197279c18ae23eb48834cc90f9fd222f51d9c33d9a6132c62f534deec4a5703c04e3d71c2420cf589bc348e16b72119338d4a697baa906e2a2569a0fc50ccab6d7d91f5f4d4d0a58a284c9a48460d005d5a8cfaadda1a6b7533ec9800db80d7217e0540f31c905652f50041bcb510b55e7de09be62424533f9435c21732980c252af6fda8ebd16088432ac755b5fdadb3e35202b10de16bb4ee4bd190d23976bad51e8cfa340f77931ea1e7573e95cec4187b6ec5aed63dd1251593c40fd6b7981b7d4b993a36d364ee11718d1d71e8e0404ea89e02c49c55854d7347b5a22e8566c4c7834666f4f7b916d47bcca2c17c560ca4eea80264753174a1f9d5583ab64fa75ba86bf81b4da91610de9a1f49dd0b7d5c1979b3392ba4d4c47521bacea9465e1a08880483151ed9ac6efb633399725f243b8c1e01e4bd4a6cb5dbd17cf235f7955d6b4763ee2e32e5d7749e29a0dc2de0c805ea738ceef25f179fa93356fcd499a57db01abc55d2496f4d3b05eb7e66172e9c16dceb48658c14c7df51ed975a032e054163122d2b9b1d97f5b6ef5c5abd57c587580094a899cb6f4c8d128d54e27fcf52bd2ab5d423d8b8c1263777460e56b3e13bff558d2145d469c69d85d98d457556f92691ad3b6a48e9ec838e56e97d5e7d03c389db96d8074facc67a19562810f04985b38fa0e6123d38d4a3d120ff3094335c599d3817fbca9723ec05924d173708ae5dc2c94122c4997a3ae3ea00aa5f3d1f8e7777c8a3134c2c3585e08b7d8cbee1827c3a66afc834ee3491706888451aa759b7b9ee9c8942bffe83cd2617ec285daa6bf3ad949fb60f93fc61641e6f85d7051e2856a290ba82b44d74c35323347e19744825cd54c040620b525b51dbfd5d550c91044ec18737d06f4c156a6ae255c665ee23414c2784e86ecc496fa243716b407e9e5edde1f5e4ed6b4ac5c0b34b2c5ef558cea83a0bf0a92f23d13f80e8011a4f1bf36f10074e384595cbc5039216b93b08973466aa68101cb73c2a85d35345daea62e8ceb0ae6c24a9940bbf4de3bc0da9932f9063d831ab251393f7a87adba14df9fcc022a570a14472291cabe5541ea89036eee5694d446c083a13cb294957569c7e0c3911b5ffbc0641688e833d76158e8915bcd47340bfc24eae5328f3127258f68a0ca75b888bcdd9d540e7fde3fddfa83a15d7d45366492eb5757a74d6289e7f77d1c9b5deb60e64bb54027441c8bf71b361b77354b42c6f4d0656c587b4bebac10fd37baf5c2d410be3636f4ceedf0263026cb2f4fe4be3b73ee1b6ff9879122d03f42458ec251e94f9ee2d9ad77d1f207ee704bcd0032f2768bc4842db9c28b007051b70f2b65d417ef756f8c853618aababc628a8b4fc8ddb4c7dded27c8055dfefd38e3a88e08579d33d8b7d6ad95faa8061eb752bdb21d7ddb06765334dbb2cf88b12bfc44964609874002baad263852cb687471628de8f1b9b4b0685a21341a59ad25f1d1190f286040ce2c58a67c661a6cc4081599e688a4c2d601fcc81a460c6bda44aa3152cdcc11561d161ba556a1d556fdf98d5fadfc2f2770f9159a4bd0586300e739e3da894af57ca031433db2329d83ed4affaae626ad671e058544f05ad9156c4158a8a55d06a6667abd64ae23f078a438e5060b00194aa90a4b6433e82cd3a3af6d42e61955ee0c1cf302312b593dd8c247129aa9f061dd8d8cb4c6b5eea36b66138ec36f7e5fa1eac608411c54d52d9c8703032ead987aac7d3e1975217602c1a18cb6e43b710f688ccd4f884c956517aa768e1e2b22bd0dbe614af1f16e5f427ccb5d769d96756077dd59f0324f6d4445a71f48b5a36c97f26f51fcbb1b55eaaa57f63b66d555a272223c851da50a5342bd06ffa3d34ab0099e5309788631bd9b19b719b2e3255112f7b35b4da8f8b876677be9e3f0769c8d677e7246bb222692001ac7655e38f593cbdfcdc959075b27c2573f68abe42d72430ab8aae69d219857e5cb12403f0b2bdd3ff5087445de1563663d1cdc2f8cca16310acfbf93379fac09b093216c4a3dbd744dcb179349181c2ed40d63654835d47a38fea5c74ddcea34c5e960738948bacd7858a4ad106b6b3c70a9fff87fdfb5f904af639c6db2078dcf93418b47c0e8b11861dd67908274760e0ff0aaea84b46211b3e6f93f3d6fb0985e5771ce49d9b234a5785b6a46b1e268d703ce30b33b06a97e79eb2b332cee42656d4c9291b2e19ad8f1d865ef7e2938122abd8af1bf1772b018122f0ade745b2bcf3b7bbb3eb4a31406bbdb088b750107e1cefd768cef7c61bec476dfbd753da30fbea4cca90148b1739b5e690bb1c2cb0abf3164268169a2d191f5cccad5423d39be998685c7b22eff9e8d535d0acff34e26e79abdef4bda38def05697aa417d1ee12f87a35591b7795dba870af19f9df436a301d422608e026236ded0692d88e15ec2ea432252abd5a2d8ead60f6ef458bbb22450e48555f165b39917c908d6cf275374664caefad0fb7e5546cbb31a886e58d3cd71b8cde7039128fac33493b40dad94cc1b3fdaa08ecdee884527485238f170533ac456a0717e207dd76c979a5dd39c018f6b002223db20b45ffc533f67189baca60a0520caa621020eddec2d34592bf900df1f903a7505e0ed5fdd525d57458e3ac22957f53b0870f8e54c34e512a1f74a75dd9a7d020a4f6bb615cdd8d2ff04484c20ed41516af1504ca754d73b4778e1bdd034da534faad60da15d577b47559058b2b70ea31ec6fdc8dc78e4e200b70d9c216584cee18f9aa358abbb15c4f3ac351eb94486ecee3876174dd1c0a25dcec3fa6e68983c63b137e88563d303edf14eacee0e60126e4e5bbb343b8372df640513d9a187f4c7a61045edd14e6945f2cabe62fac8e6363f2d34066e0e7d4461f85dd2b69fd6c06269c4d41112ef3d53267a3ab7e04020ef2c4502f683888222b021dc82ea9a9b5c4cc21b7c2cae56b680d6a3dc0fc8231091e1b4f58cd101b9c9c5269844ced83e3cd0bbc8784fbe9d9013d0e276f14de93f124632a5a81bf461f2577581f09b7d22f7af7b30c07ca78cd9989f8326129d1bba682e55cbe6b3e0a53cb78f70ead049d736bdec83540e0e438aeac27941b1a8841de287db078d3694d328139e5a1799f3333c009eb2d15f15e0ac312121960a96a9004aa48adacc1a4ec7a80072a85f8e915459d5414d0045c84c00ac0e420d0806b99653b1fd4363ca0c34c2ab29239d664ab6dad2aa7b7fe945e8c8bc88c8458da66a7296dd9ed26ae50629cebfdafd848c3158fb1b0d4c5a4b4619518d17d4d3db4cbd95b7d856f0978ab3fc4f1db4d841c0caf0e89afa42a490e433e88e39f7d69e47d592ddcc47ac3cbb2644f355809ac2b096f8f9949aad7f77959b72a1d8c7fa03e1265c47d739a022d180b9420313bf68e12f2199fabd9e5c57c981d6fb07cfdfc27637ee85ee5d5153d1c2588e1e078367d74d2498764583dc2dc72ab045cbfef3d714a8073f8c97a65c3b3d9fd60b802f39c6890bb668aad1838f9ba5e5946e347e17d2d52909fcd86c2c0c36266dcbfbff537a515484bee3aa611923da9be058e043e5d81bae09062f6eb7cf276217f2a87b1dc3d97cf21ff5eac034b417c7810a78d270f359500694f2f9f437406a6f5fb53618e137a2a55af56e129dd4de0b252c6a57f7fc21072ca0d9174c0ab4b47812723516f401220fee4e23fcfa17b4cbb5be9e00df6b2237c84e3ef1082c8aa1d9e9f42e6e6b488f76061f46335ca81e19576332caa817489e6f2e0844448a60709b4df68b5c8ea29cb4e170a8e230467430ab7bbd50cebff147c66e9d266dddce692b20dc41ed4292b190ab9c9f5deccb8d844738ebcc948f154d0753cd3d697d76a9c28d8d0d09e5ad5b2afae1094ff32c52a7d9d67f36bb1f3436bbefc5c29b91d52c146deccdca20c71c3ea6f7778cf343ea59a7092d2393b6d47bc04f6b7adc6c9ed9b3a8712e143b6e46435569e92676244e0921105d432085bac4891653a6a37b2fd42a3450352c58a9ddfa8f9714a9ac84cbdc987c894c3bc7faa855c2e54066e54897a78e7aae2f616258f29aad1e88ed49e678ea03886c4b59c1e363a38271c5b165bbeb00332a4b3b6c9d86ace0133aa9af8ae94572b76bdb510dafd0a4c64e13c30818517af89575b6c5ed6fa14b92227e3a2e87201422d5c4cde962860d1bc8587ba4bd631d6125ce41d83ef7b6285feca7d72e1aac2687c7a183971f0c352ee2c6e8944184204c04f8473776cc69c9caa7a1d0ff093507aeaea1e8b822b1a29c6bb4bd862c952eb896cb4a89b035c9fd79fae4cc4d7c5e307f738565f36a0b5cff099bc46cbd604f3f4e0031b39de1d64beb3594536e8a6054bb563a22043f8fbb70fa2b50ca5b0cddcf60014867109ac6736f6a0b099bf6e1b726881d396cfb5e32ff133ec5a466745d454d98cd4ea987d1366b441175cb5aaa5ef731e5a78b424030aaba9d70b3690daa66e527b17bf3315d0f36b9f4e1a9e33322dda35139d8942c3b0336b584375141a34daca9808a57576a29e1c4ffbbaa3e8f8b466c5f5a3b745552b57aaeef0db205d272117c86e86e9f8e2adcf889a79238bc3d712d1f5d6a7708615c96d714491f2e586eeecd938d614be0a37f4854297b6c1892a1c4dd6dfd73b1845d837602da72ef51c0da4a2464e618d6e4384be777346667ba98e8e65b97400cebd6298a4336f0eb0b38dae5970cddce331492d3af56aa6773a2362295ec3bddb44912131dad4a71cd768628f0a38dd53c36f356e75baf2329ae344f00f1a403841e8ae8406b7acc0d212145ba4ea2b7de86be06f9973221873fb77e1a7c8a34c44fb47e83c48f790db5ae4a18490989d0f98349d5c04ef1befdad34e09bdc9a698eb1fd0a499ebd4bf5323cf4804518eb163ffcc1d23a5a566aacaa21375b50d2984fcfeb3cb5ca288e99732fb67f444d530640e8587dd433551b0709ae0ab739a5338e54415c639ed01248bb41145d1aad7a7bfafff8d76dc2c044c7641798a101f8315a8a6db19badf2b04392b940a3c89f5abb181f85f4b61d36579a88eee7f1ffd81ad67449d15eb3e48f0c6b3ad7924e054074805101850ffa63cb36f3230783e58d413fa407389ed50c9650421f3f77a75f9de52b4aee5e122dc9ec6e37bf865bef725243d6fd47a85459a4cd8c4742f83ace2658dd07b668455482ee510d7c978758fd4aa3372aee0c8a280e01381eb5a0d190b7eefcbc5c236b195c8a8dfa3c629e7cb71299059472d430e7bf6c8cb080372d2b63459ca14d90f2a4c39558f9d9c799303f0500bd0f0b4337cabd087c39f55076c8444ce9e3a7bcc1d26d303a547ded580652706d83c3dd05be3c580ee7df82b82cd3bba43d6fad56ba168e049a77622cddfcb05848f656d69a1be2fbd1d3492fda0f0c93dd848340f6fcc8d6ec56fed966b2c139ddc2f647a2432aa0b05f4f14131316ccedcbbfa93911b2798dfc5bf4b2a8d0ccddb27624c9baa082dc59878922778cc569bd02cedbc00489e99b46126247d2542a37789fc086f2a407b0d9e33678695ccd19c61fa70ff545b15cd77c2e3d6d7e5a157d6d06b0ab333d5158b17fd8e36dc2f4a1385cfeae20db55c9ec4a5798589bbace12710b60ad9bffc72576163c016da451626d65028f026d159e2f30eb21a111e4a086","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
