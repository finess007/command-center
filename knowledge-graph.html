<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f9cd9cab923699898fcfdc4ec8939b1836d8257008600550fa343610c4e78c9432112059aaf6ee293e1f0980f51addfb91cbc42dd778cffe4fb7ba2b1a5f492abb87223079c1a59f652a149581522861f614af485ad1b4c150c0eec75652d40bf3ffbed010309f3e0fe2c256816735b2bbaf6189b90ced7139c4b082f99ad2f0718d25fc8c150380aae31903224ccb44bfc59b09ef0887e3d0305ffbda8c3bc08e73d64bc9d97444c685edde89785c32d83d5cba6e19aaca0163e1345bcfb9ca47f2273ea4e52c45411552cfbd6ef085c52e5a42ea8b2b26b8bb31fdb915c91d1ee0b3e457333dda044f16275bcdd80337f2e937ea649ea84cd3460c99f6193d844dce77fd17367f702433ee5798449d430234814bd66fabdfea68e24f386da2fc515388d08c3910643749203ec4e2b3465e37b4ae229b58b987412826a4418234db61b4bcda9c5f3c5f4d23313191fbe2901e6719316de769f354b6a6b11e1106ddb44445ed3d8077e8247d060b4207ac9d1874d62285b6db31968cfb0fbe83ca5ebcb6598211db2eb086d7619eb5e374f8d361e78a4c14d4fcc5e79a5fad395fe36a300f4fba920f428430281b9fb6bcb5a67cf81c73f8de0c15dcfbc19e697268a5ae4f3491a720adafb4344f74a34636982777f85ed736000bcfa57ea1a3da342182baf116b7c09ccfa6745598769b251aaf2f5a0978fd61d5ee776a150847a2f1b7705caac2237d3a4c2234a70e893554232e9507e0a1827f18478df0c5dcf791c799aa8e1a5a55a0e9d2d3d8e70c5cff8f2b620e750446d29015be047637a864a0f9c0a01de27fd20cea58afef89244f699a60f574c0053612e219e129e6e807505635af485878a8e70073a101b2735123948af9ef0925a2aa43fcec8f86f4302fee0475ac8aa3682a687a1e7b5a50db4dba55566821cc5c6e5dbe37c348511a0d71988241ce7d9e8fad483f074824953b58b652634845800f04deaa9be18059d115f6d432ccfbc3abfd49139d9f97701c7fdb197eeb183c49516ade5088a3f7c33eacba6efc3b2c18dcc4b6eb1989fcea1085a9e43c165653e961b8faac4a44b9cbe462f94de8ce26e711795059b194cfd9e38cd8ff5aab31d6d0ba6fdaef1380c975958ab0debb18b0c71cc5e46fb8306dd7e31fa005b7b0d3e0c7e00131644194620909b43d087c438c39c1678147880d1e292ffb12d05932ae1cbfa66832ae2649d8b1c8338d950fc377e15e0e7f093c02fcb73fac941b3a6cad136037aee7b1af1ef7decbbb6b92b598be13233c62a258a273f66408316a9ab58829e7fa3419e12004a7ea9060cbc8af979fadab489af23c8139fa5ec31c74c19845d9f071a7e2f58d3527b106ef1c0be9be4e926ce56662033a80815a35bdcde09ca39ee9052eb4d4dfe391f3dc4e46fc797593723156061984359c06d5b47d1948c5baf0c48975e4a025b8b9ffa3b0b548bf02ef877dc509f2fdfbcc4bca4a5023ebbf3d9f3d15bc250671d6a1c1da2c41e20b7b6fdd787cd74833b43a9b820db9aa05e31dbf6779b282a64b41cccfa7c8110bf4a0586590b6c051caed25daf9be7a6854c61578b0f2fd2da52373ef9347012ae6064f956a17faa2f821280e246e27970008140ec5f26eed6fb1b02eda8dacfaf5054df557007ba37459f69010a58fcb455857c75d4f1279887c101f299d093d9a6181475d292834600f829047ed2fe3212c4cf02077747a0aab68bed40720fdd37e2841a9eb2f684f4eb5140a828521854b936c01d3eab911b945936eda0bc3f957d933c32ec17d7794fd670f2192b6f0f4d9e9c1bc6aa80eb23fb2ef00fe6e61efd434f8aef558dbbea3b4d461ce951893e794d70b0613ce4cc8069c7688ef7f54e87bac1413692e15ca1a378a025ff35006437fb5ebfa88838dfe8175a79bf58ce45b92965a7cb1189c335dc8bf3161ee7a479ff47e35a4e4eec30dc538f92e55f9f69b4d504379db02302aa949b514f9519a5cc1deb8656f9e6d481928b7eb6b000fc1f45129071bdb7d0bae40d1ebbc2dcdf8414f5e18423cfa6e80589f6c63ff46bac4ac6988ec2c76fbde3a6ca7311430ed9d6bbde25376a1dda726d295039c96b5674fdafa8097d35847eaffe027d3cbddb6ceb335487ca53ab19009a14e51ff87d12ad8fcd85b23f4ed8a6d047a20adf58debafdb2501a428278a4971f1ea2b6377dba9ec0992dd05223e80e143649210c15250083f32a1eb01bcdb2a74f7e6053e9ebc930ed29b8ae6288eb04d4189d166c87af190c68fa52c744f0ad858cda292f1756c42fefd4daad35633b20fcb8d4c54f3fbf4bc8028d4ea0c4b17c6546da5350f1c5bfbc154386034bc75abf8ec62546c55edab410d87aaca1581a4daecf5a64d7a999824264e9c64aaf9e2ba23541bb2ff96dab118d6d6d60c4ebf94348f436f843d21206b56b662be155f459b5eed6e52bd7c59455b89321ffde3501886f74e173dbae3a3af0716de5be62293fa5d8c9977370c709ab8da3f1f622fb843d985060aff97b7595816b90eaa493ca79b6fffa5b4014c75972aa9f90e802e9e96618f4af2225d3455573ec80658d34e3ed1ac21d28afcee182c5967c5fcc798d9a4bbed6ebdb66f39d90acb58db7d57cd9af6a696b3d373cced4b2ddc9cd87314bedb58793f7a60c55f64c43e8001a44c354df1bd8c5bca23cea126f4dbab172e28f06e453cfd23c89d27d6437f335d8c8ca7a3fef1128a8bc07a60755370a7686b0826b907e75fc054042551dc8aec7ce69d1255444eb7e6b5b2f0929fba88e5e7a77cef38d00616758a74ca9b5d89d63b16579d3fc18d172857f88b997d6e103054c617616ea024e6ad5d4c35c7a173fb22c81a4769d80c44524d1465ba0c88f136c5e1f5ac04d6d08ff2a5a31dd500bb0af08df2be33f9f300f077b04c36326f0b1e4961a8826c0ae5190d6ae6b3d6d7555473cb3ff9f2e4f8f5c34d05aafba5382768bc76e81fd9fe8f1260e6216ccd1728f2a16d5d68dd3c22c58f0533dce9f22ac77b5de46b90b94ee3dd7bfeda723366c6992973498dd082b12271641409805185d582d312a49ee64ba4c4f7e61d272793bbb2451637630c3e86d4d177a3a67a7d7c9d5a84d8343b5d5ec2fbd458e6759e9558ee7670824d7104612e8a193801c91b5fea6ef31615166d68e65f6af6cfc6a9b7ce35022ac51acc276f0eded4e0cdb154b9842ec26ea3d72ae2b01fcbd630f577665f8748c05f89bd6064d037153c4c6607e3b9f68e0a78797c19e40a5da1e69ef1a9b120eadb3f1bfdc96baf1faaa3d26d7ce55342457dac493253d1587d010e684287a5044351e00a88322d9e49fc0f066e2ec68d84e2496f858053bd3d57dbba3495f2b74b40be8fd20ac1724d945e721abb96e82615349f6f9bdfd521358755e8bbfe1eab3b4a8d74f7f703171ff033055be5e7a8b3ce9055174dbf7b43478fe99b7a67f3f0c89f3c0fd71abee7396215924b7a8cb185e3a3adeb3ee5c4c637b6e09ba0bbc0e88b6eba0118aebe12038ee7fa63d50e819f3c32b65866c07de40c00a7878b39324250565b84594b8cd716b0d4bb7d43c703247db43503113240946e705016759b4971163ffceda65578d5cd1041f699978b68c27084858a474d957e607e2531883080affea5cb5d93f9f3c68308d05b7c58bd146d32a7fb582cf06a489f22a5c98978057fe18cc87cb38f0ec59bd8e9c3f2b80087d85f2e604762c1ed6e4be2c7f015d9b2b928002ae2956f29422d0288ea6c76cc9a092f5613568dcaaed235f4e8bb116210a931c7c7709a21c59ce3093014e608536ede13e4937a1549f91ea58ef6dae5a4b718fd986bca2706a65ec933a27ad4494fd987fb65e55492f9714ab356e48133959c43d5739f7db475f9dc9bdbd7fd9b41d5a514aeebd2473d008bf38030927e2d79872cc356e4f15dfd27728f0eaaf0c22bcb0bb324c49608cdd11ca03203ea05b8cde66d7cf049ed6ff90f982e967e5ec1569be197f6d9f6e2e6568140b456a75b297e40cfb5d5dcf56a4a2312b2ace11ce2a404d9bee26661ac2c597224a72913be0485ba344d6dc8b56edf96e26213b50d8fc81e351fdd6ade36fec89a19d52e39c8c23d9535adf7a86ea0b130507fe44bde779faa833cdf00e25219e726fd9c817495669d716e9459f77a15637c7ff891996e404132f94504be2e53469bc79376bf9b1edefb6d176212631c136c563cac6478342b6bf817c35dcd9922e174fc32bb1c5d8ca6abf264b1fd243ba2439a0cb9fd0d22120d58cbf5f8e5c00064af5a9474b372bde5e815311a66d8099aa356d728d325b035ab05fe7922196e6c1be73da34e1163f37584b33bf7c29a0b51cd0d9d2c727abc794a4f2cef7d9de0d9583d47674bf2c6f57c5b119bc1113f2def7d91da2c46fc822bfde1708e89f3c0be3f0a565f39c624e34684b6d8022c2faf9f4d22fdc9b39dbbd2fe11488afe21f5a0b990236c142a0c225128b4901f37eb4331f75ab3305b9b773c1fc392ca81509b93ded9147a2393e1aabd7e0584f6998df8897ca26b3a3a009d7c6deee563cf4c98e2bf5e55a8101e233b70fd21535c9da3b1cd5f4ef9a4d0f9673b755e1ae2a91046b4631c4cc32281e98fdbd89cc1229314cf557c844bdd97d2b6808af891fc98e66e17248444a6941c19e9ac2ee96bd45a541235f9355ba66228de9c95d6b128480718ee2037c79c505d04e0e693c0874a66b6614e22812a01c0f8ee2c19e28bf5ffdd6798c2dd1c846277e9c879ef6e6a14b375fe95ed56222541584e1629fb01b6e9fff642fe0765f95b41f783c86d15ac7f2939855d2c67c34f8a2afa437cda557c7eb220500b01fdf0b5df86c36e14c8564de37cf1b65603a8b9f880f94693d4e6ce27a5aca288f64cd60c827075439e675bef8eaade585c49a9a5455f765f5e08d32dda0eec4d0a58d37699c28bd67618adbadff3e5d8ffc55ada084ec340dc6f7288a7c7a95bc356b4625957a7c70ba78af49f2cc5fb581f12efea3bdc398d9e405b0fbfd745455464b9a1393793dbb0a606cc2371c3cd213c5891e8a0e34e89334554c62aef270c1cd0abd5aa97176bc1d7df120bb07274c9838767ffb06f182c53b1038b30c567ac7d0c75e73ff38f6efefb1e8ef15ee9d292790bb0a35e9907eac6f8f15bb553be9485a51f82769b5cb64601213016b5bfac2eecc9a28b17488212759902740e4c0dc0a11df7537d02148673d5be58911f1fecdbe705c69d96065762354119d6c64dc17e36df4b9ce49bd906e91067e18e7a3a0bae86cec6ae4bfad5f442e3e87ed90c471dc0f4260d2f190a3035966cfb1440c72caddeaac11f5e88c3dd38d8ffd3714f17aadc89e18516f0e7e8cfbc1ece6f572b4345708783c14469e98f31b527f18cf55904ca792258e033d1b50baaa6746fe9b831d9085b80d6bdeb6a9ae54c2530f3a33a3fc460aa89425fba18f59b1596e4af207fd77f0912abac5b457bed7004cbfff2b8417ce9a779d8cfa1aae479b6de345f36e504030a2cecc820e249bbebece74f0f0e6ed692de3866e23b568f06257be903a9345450be64b3bc3c757552828b3f7b7486b7e7eb380015e5273f4448add0598f8f4b1bc0674c0d1bb8eb6669aa2ab06a328a55f403c30cb8907530ccc4d81b805c91713b216a2fd01cda3410e1880ef37286f1f4f50746b640c9a97bd668dc23d4a76b8b08b55f276e6ee248bb924857e7f4b46764263568f3f6b484f88f888f90a376c2c99f5adb2cac9fb99347b41a026e10af6993e8e666a16f74a77556b6f47a3cf212670b55f167a7013426bd7dd82d971e194f513841dd4cf03b6f6e739deac9ca83757ca3229c81f9f1f635ebc7c52c2057436dfafa86f7f4d7606661843a3bd15fb5eb953cc58f3007af826e94f146342bd02797341c3779280ee81289f671f959d85a65d6b85639b9d133297e7283c3e2f44ac406e27d62a67c2d3bc0bacd8c07bf4c8b1c2706b4ef2fa59fd1f9faf5c433318a49b534d957d0b89cbea98220c9029f8bd81c484ba96bcfa4c3e67010ae96ce2b3dcd57bd5f8b1d2d1849d7739a6e1d102cb28552d29689d5189b4630eb0e7a45c891de1137264236cfe8a662ae38201d72ed0d0d1877ebd819c0ac007852aae83eb9dfab839d4c3b1eef52d1adac6ec11fed13a57e527715d8e8cdaec3778d232b3525d8a244571c0de3afc5173ac0c63df541486d152ebb0ccc79b0a323849d2da1b2db48e9b83fc94b5c40489746e2c1193f670296723e953b1de24138211efb8f6189bbbd652c4ea851511dfcf7f0e0c5fe7e2bcb2e9a525e7bb43d2b9b5084d5725882eb145a7c0185abed27aa5d76fb71046ee3ab6cd1903a51d8c180f839cca25c375cb5d66f29c3897f7382a730cd00c73f97cf327b3f70137295027bcc38b191873370f576fb228e31f54086ce2c37928f720701f071bc33979c37ea3b50fb0b5700ca4a69401e7daf05327f580dd5936a62b699063097460a87262be93f9d3f56f2851e566d1ffe440addb1cae3790d5c3981f62a28c593d59f1d9a3add1688443925bec37e4e0be400e388599361739019569909d27455ddb502fe580b723062c35602226438e09fffc253dcfa6960ea7bf93204a6e296e6ffa67e23464c701300fd9df3db83eb9a80513ab20140822300afce0bf5aaa843bb2c9b58d3b922f9fc5783693731bde4025c97a7e6ffcb4fea4380597aa5db0ea8a2c4adbb7576ab5ed6aceb83f1786be4beb3d9d69eb6ad413a882c0667b72e359ee8ef5dc3fd5897944db832bf6160a0de091764f1d40e19b86b3d70200625d7dd38cc2bd72b45e9e515189f9384fa7b6b661981b44306abb616f3b9719413177a2369c9ba886ee9d52f1129e0d300eec299bb509a4dd438a111696ed09a682046261210ad2cac916f7ea06993dcf2aa74013ffbf54f04517c4b424a66a585a1212fa6c7d727fc43cf15020f42674b6700e127e23895bd1e4e7afb8e0e77fbcce29fa6ad5439103aeb2dbfed8c8d6488246342b550960eded6cff9f67e0c4bbd2934dddd2acf3a1dc09110e38f783ae4de128eb0a8629a80fe8d398274b8e939301ec97c42e07d05d3fe8362aad59e6e8e766f70a54485e88da628b71dcfac2eb38b6a5d49dcf0b270ab261258524ac6aaae756780ec1fdc15d0e9b48c22c7b71b6d1e8a6cfc4937d37dd8648484a265007f2bd1a381cf2816e4cd90213a907fc7dc47de87772b9bf74496cc2b715e6f1ae10d42ce9505560ab7c1fce9b2acc069e07f5974d965c5ed1ecef9eaf28e36b38a989f8c5be8ae578c9135a694e3d170421ab1e958c78a616d82914ad1a316f70e24680af169acbdcd392593d3f3feac0cd8aedee5c482576968e116b7f1268ed3d575181b96524c907df060c58eb2c10c77dd660fcf2d58bead674a26fd6f1ef70e3b0dddd325bf833afef7c629084238b265312806a1c767da8679c1633a0ac6e629e82aaad096775a45ce281e0d97518f19350573e57b2758e4684276de52ecc09d36f4480e0ff19154c06b7c71c45e32712f55633c8ad10f6d7f98f0ac838cb856a9ccb981f358ea48479d47954e060e1e3ae52d82c031e429d27b75802f16905737f5c5d3ec04f4680410d95a4826fb367a45681d51f41902a24c24039c5357718d093844662d0e292bb59801e35d89f32dcedd56b994164a01bd9f4c4dd3ea0c8f25e61139519b46e17542939e6b3d8bad1655ffded73f983ebf2a89a5b95bbd0b6e74954b3615711096e94282420f59cb3b12ec4fec02dbc04b7cba92f4e9cf55f2b14445bfbcdb3fc03d27a818360ae58fe5e8666c31e8a9af4c16a495c5543aeb752b3fa5c720fe545e9fe3d58cb92f87b5c68654e6080cb090a2f4b7bdfeb0231f04fc8380cbf7d4e7a7df49b3d873fd51d67950b564363243e0d3414f481e832b6e901c063adacb9c34d85dcdf57e8b6d5d37fe65974b1c2c1cfd4d2e07527153152e0959ec7f19658763eeb4685748fcf1b69c7439fd55ccf958536512b3e1fee996d9d872f94710519744bc90df7989b7d293149c74e15db3ca0bdaa309857c5aefe2241c442e5c20fbf082681164195d6971028942a108fdbb85e0794af6508e210927a011c6990d0f7d9fc8f4c3e9fa3133bbe1d8e369be4de98122187fca4ea8ff760a031b39f4eb676e91ba239983ca0b7ce2369b9807ec647814ede74ffb5cb7ceef2409b4df5057b1c9aa240d5b314d2ff4ae4794c5fefb04e1c7d72d69c25954c644cb95105318b13739313669af30437cbf071cab0851f62ab7e903d5b97c24897c634a196594195d7ab1e95285791c930a60e72a3094de8584bb1ee4417c6fd149ab7e63d89552775032a2dd867b7191a8c02542931be133e83ae02b615e793a1ca2dbd14e4396bead30a40c84a01e98f90794cf498a0bec4eb79d253a1af02f787a305435922a9b837166b656a0f296f4136c014689a9486f4e205e40228be44314057e4912b381312a29c0e548b0b7d39255f74026b458fd37576bc66b4a659cb93a28b4a9c484a76e88c93bd7c5a1a0536bf2d756ce724d0687ba9dc1df9a470c5ec99814e837efd00572c6dafa6df763abf560d17603546c585ca566f16107a3265b83e84adde14d8d5bd99dff0bb41498e9e0581d834d043ab58cb83bc28c0e7d3fdffd6f29b6b35e815f0e613d2670a7354e03e713395d345571a2bd02ed7563e18fe88f7ef22ccf62ba6b8937a04261c5ceaac57583b3006021106e0dadb9d1ff7f6ffc516cf6235ef8a17a05bf772a3b229f4a3e57528f43e443eef22483305fbe1ebdb9a158a3bb85ee9473acbbc685785a4c97d748d5d06d965c2ff7897dc60ccbcd5c336ac147eb1ed684ef572029e25e57b44840f1b048e45244bb3a3b1f3f020b71fa8b159b02dcfa9f95b6101e881eea9a7b3d7b251fd468e8a4c03f239d31a580b9cc4c9dd3b662693a404a6f846987780d3afda3e765d80617722c7e26403ff7f1acd2df1bcf336044243d2ad5cac01f398b74da80b1cde18016443270aeedfcd095fa8548e114f043c9b6bb32e0d55da2ba8b06915da355bc114f034bcdf0fdd2763d90003dcb6545039b92c663e61dbf8acfc1934533195c03fb785e2bee2db1cb4c9802651ab9a39e65e4df1f005496fd63582156c65da678797ecb28f9d435cf8849f65ef89c7e73179af0746f0d320f1adeab0b4eba81a86cbdd4a8b0322a5f72c776db64e56ed51cc6139cce00eda8d590f5a789553775db5b5e6ec484756885c67669331551979dc7d5c4f2b8505872477332fd0a90a905ba7d4ffb1a0203efeebff952374890ab721eae6922ea67cc8a4132926d56d9c8320cde155280ac77ea2703d0e2371b40f53e15777f13bffe79d8a6e5c1f4c3736644c8bb90a35764895d520a8a67fb8959a1d78b6e998b891ec16a7fda5e3e6b885eabd6a8a2962e82460b709a690cd33dbea15e7cda05e941d216e2c7820ae35aae728f09899a073fac9fc85ff224ce9f071889b368221aad6844bcf3ec2b1ef3b0d3bf4d9a7e1e6c9c08b700a7bbab5d484f4238ebe0f03faed4b8d1ee95d490f35295ab1f35af88182c246d16bbbddfcb4d15ddeb587455ac0095fc8a191f5dbafa62c8143b5a3492338506dd279fd213eb4c2253e05459579d9171f5cab51b3bfe9eb31efc95d03a396cdaf097884faceddbd5c4eea9a50e1576536ecc10a0df881799df96c12a0ff56b977c577dbe04ad8305087540ea84ca7d956edb15e35378b16c2866e5d07331a04e61bc32ffd9232390184fd71e8f48c055871f861b9d9782fc8bcb9f567350882d50b6c4f84431d1f14ce3f74669584bc94b88143a84a0f7ae3d7ae7067d7b173ce14d5e7c800349a40702c598771ee2ec9d9a5ba92f38492a7be10eddda3cb193466b51789d3c57c0ab20d35963bc8377e6276c87367e2d6f72d5d51e29e0805a4ff0dad2d2df012512b6cc898657ffff3085b9175fa2f0516b456d93b74f0e3997cd074847dc7a3beff5efb45df9df6cb54fc50d34cc0d7b8da2efdcf91745ad2b80d4eb927c41476a574bf63628e560034538d0b52bc4dd518f50cfe63386f8a5d85725b765aadbfc4f4454c0940c241e53573c8b020c049066847ab142c66be7c5b13bb0e08cfb284f9d825db73f02ffd14beae84dc4ccdf065fcb59d726ead249046822084cf926e738220608540feba9c5706d95f2215553b73c8cf8f55ef7ed056b7802299715f271f66296f75e31ba3600fff71a6b23b888d115924193108e781ddc82e40780893f594a368bd0ed9bdbd074797dc79cefcea55a0c94f8c28c429dfacf7e37bba7567b0f33df4cfc4ac3e6dd303cca70dcd59d59e6e8016bf5033c397d3a70e25901f888a78e786568a14106653047ceffbb9f70eb7751dd261af5b719b98f9bef9df8bc6755fcb01d74f308288dd9717eccd40a620cfcd856e9c015859c8534083f8beaa7a514eb71a7e7c023425d71c5f05b11bdb96481a67a3570b98f913e2753e7010d8e4f76923b485523920605d648d1c30ca50554608f873faef08148ee348dbe2869f6fe6c87a70191c150c0f98b8878a1ba696bf00197e6f671e93f2dda25fac7eaf896568f96c18492868c98cc4617a0623504df83fc83dbe3a1c6a066cf502b8d71d6b72b633c4d1208689d432589e69f1f84b52c1bd4188043e41ff0ca699f1444ce6458e8d67826fe225c382ba4a8ddb97d8c9f35ddeed66e91021e25553943cad3cff5cfa08a62dd3dbce37889f98cbea52351f2e985024b3c9e9cd86c6afcf4797d3cc34d2bcb9fdb3fc96830793298ffdfde84d190879664c472237c3aacd39d2ea4a93e7471fdca150dc603b187c8ff5f4bb04688d957f3ac558824546b0974b073b76b3b8148eb3ffc70378137f4c15e821aba9d12939d2ba0f1f7fb9ae769123adbb0aa8ad5210943e1711500ac8e9eddd53b56eaf72c5735888e54e7597eed3c285fd68c95341d0258b5d80df2893c8e0d16253f9244ed2eb3db902d752dd014117bef306f3a8021377fd8e1741556a1f1c2295311c65acae5b78a6b794f6176535c2ac4b8d472b1910161b76a380f7c955f8a041e2032710a2bf695e4ae47f4b1a5577434458fa250b29b505a2a896bafbdbbc840596435291b7f5df0ff00448ff8dab447660c72bafb2495a5a5159ee868fa73121adc1f5819746cce3f9b420c1f72ece859d04219a082b19164f5047fd47bc283b3a94018257c3164418f26ff872fa4f08430b8d2a0c1230eb249c43d6fcc8bc9fb3d58062097b9da999f7c5ca2df152e7d905f16724e94f73dd42b358eed36adab9708c1e87a5556c5eb91c6a5287bdb2bb1e0b40f928d445b95344a38838ad19ff5f63daae69ae576c5acdf5114030413c9dd3d490d8b3737aada602ff9793e3612ca26b23dcacd4fa4dc136cf507e7bc4fcf3b75cbcba30a1a538d94166f3adae236793c517da2270a030d68fd2e9452d05d37a033883bc7c47d2ead5c9f48e831a9ef80725a64f75e8e7d24c33fefddebd6da383a2963bae16e781205a140b50d95ef693717bbd97aa5f5c140af662bf602dcde1d46a8d8fce51a769989cf85ab8883f788b9f79b5f081b38f6c0fb0885722e6f0eaa09bde3d80fce6d12e1820c7e6e3e3f375dc9cc631272b73c0e6ece860440c0a15599127a7703b9a63e765ddae7d85cd1bef84f56cecd1db0fb3d91b2fa570351da6bc639f71af2c64e4210e66e833fc6a5de8cd4023ef77aba9e57fbf09c1e91cad6e96a76332dcf22cff29add2ab1da2da3ccd9fe61262742991d81038139f44717a6b5415141c9da0b7fce7f9a2486748ba5ebdcdc37c9db50d5162adc76ce301973350a14cb3d7bd4b1fe65c777277692dd1e763d603282cc0a87b70ed93418c29480cee0612b1f43cd574c6b78497df9a91ef83462a5e58f7b2920d83d49586613750205ecbc37b1de6ed7e603d01eb1611145e265759521519e037fb29e54cd33bcb5f9210e3cc1a0300847f504b3ede7ad2eb4d18e3f5b2f8614ed1a504dbc208e104d99752d7618e014e4dd9d0b926d03f48f2bcb55ecc48738888e8eb786959b5f281ef8bfe6ac07b079d3e3dc58d67a5872630610a99edd8d4219a9d83933e1b4e65b6c2c3bb4289a66b23b1f1fc99b9244ef1fcba77b3a95d5a5aee054d0c2558bedf77901c594203474de95d64c74a9e4e4184f508a9768565fae7e2e54638455c69c7b3a3b7213229c82020b418aa173f02b419dfb20401857971ef2d0b41d8dd9748fc66cd00c12a5d3df9ee4bc0579f7184a753f6c28720df08fd9503dbf3a2fb141b60c544964f96c27e73c7c8d499076aa3a414a6478527487c3a2df8464c90728a76674458f3713b8a9304d5678ede3000f60783a318cb302702e1064927645f5aefb74c04761618f37116ab6cba6292239e1de5c0f5a7ff1f04847685222c6a0d293a48739fe46bd364be1f074d724484dfba81b93da87a250bbcd5dacc6dceb64a054fd5a6dc6fbfaa696e071c4bfb3284fcfe1d11c4fa68f18b42f5978c1a2b6b00a526ecd5a7545d235d8b7dd496f4ee5eef9d585ef20467122e54e7fd2091df4c616276efd0725ec027540eae94f815a6d808365454d1be4d8e7cb7ea9629ddbbb95bd535452f2f03bf665f27109dcce53df42b2833eb27a4fb1ad3e00e535a877ee781e3dd77d871aacda1c8955ee80ee72afe6c2eb0aa4e69929131f043a58916e486556d183569dd0fffaf999e386042ab1699fe3c65f398c233a5bb941bfebec817a8ae1ecce5c7c92ce975b7e2271c967b26199a4411c424020a2bd654b19e5e740d7736178a538fc29a0a18ea60ab70f2756cd50f793cea5233cb4b59009cf6cf36bcb26fa6993047672b109bb97ce477eff95c02a4e01782fead061f243d711d25ec582a8ae06330ed966c35362ded9bd6cbbf9800173a956e192ad9169ff61b9de6621faa34c8545084018291bd7889bf396ec41eebec11c79055af51e2f5e2fe5b93083bc8e82b18186e7074cd33597b75c5d5e4f1eee67e680d773b217d4164c2588f45ba6ed24389242b6b18ba3c4bb0d01e02b95880bda324a85a92da7f446c3cc45a95148ca4535716d3f5ec6142b2f5b6ae653d9c9891f84c2ad3d4134d79fa91e2343c74326cf249bd2723b8778a3125739e5489cfc7c5229d699f07db4beeb26c862455e7455d250f6b091dd74a74b66f5807ab5c9bf168c7c6ce3521e8e8594d6c7cc22f23e9134aa9912469e42129ea9bf88bc9bf2a06fc48d557e55e6e92f475e1d98f6c2b4e09f99a0e1a1678dc25166cd603927f7c3308aeb3cd7d58e15449db6684709ce705398755a7dfea3653e6ebae60f1c9279a23bf64c0872a9f1bb53023d3b8e1bbe2d38262bf7151ded71ac0a105322ea3f4f45a46bc25e4844d351a74e429e8c711f0705c695d4f4188502031480b263796832b81065890cb0ab5b0f178d7aa7c19a21584adc27f1102d57f21af55b80849e2e14906e1e47e522d16202711279c442ee2f6eddd00951f01a344c34f10e668f24b1c5b03404d7fca040a88ae340a0f968f12d52fc539c08e080f44ad807b7d54c632108589eb889bfcd835152910da64a64a54098f5d3d726651e2c9d591e3218079d6829abe3ca7387d2c5a9eed8a7996342cd0d466f275d815d4086bd398becf131fd85cecabf31e5128f18d8445dcacd8201e5258838306fc6c7310469398e56bd18b7f9ec578f241acbbbe5ba8f957c5327b9fe975468b4e9c3614248ff3ba8891b2c0c941aa55cbfd0ede3579ae85634c9c979fc42fae9dd5700155145428ad92c0b26f77212bce8ca0729fe78e55649286cad56e116f596f2e29883b341dd3b4dfd3b0f8414e7d45f722c08f4dd0fc12a0aad31b72e3e2478b394e966d5a430746c285be2745b02b6687385ece6ab06ad2eb067d6dbf1adf7364679b932ef4567980bcb9012efbc525b6000611cb9038069da19ff31272a397073386630f9f8dd2dd00d8edc78fed2de709c04c23cdadd92e9b05a34535d8a5c4301b4490f739f912a08c6a5076439f5f0e09fe52013b0294370bbce6d472ea2734c09cc313aab4e18269f690b0532908ffe25e6cddfd301f8c83d90c1c3e0597f6732276ad49e78c54d05a360b4296468dddfc4b900f145aaf4367ffddf4d8b419300316f2aef05f075cad86f883292e84a88fe193be04d27c9cc750e29d511a7907c1f3ba43cdca7bffa52934fa54a1e74ed639e38cf8c54a5e8fed56e49d117dede29948b0f78740679f1ef7f66b0de2253679f818e7a6ac78fd2b702432433ade628738591d0371a561283923c7e3a2938f2cf6aa527bcfe7f2346e29c135495d06bea1af532b489343ab0717b4d031a99da6fbda9c39ef6213d9213a493509d94e508d30792e3fdcc5838f2ac30766514a64ce583af929ef3f30a9411eabceb2808aea11bd5db44cca3a747d40d3345008423544abfa563899050bdfad55e02bb2bccc37e3f4a73c532c0b36945ac66b297a58cc29aa3afd25f46b63a86f27299157391b71fb3dfa20ae34de78644df533e56884b8e348d093289dc2dd1a5b8572fa9eeb09b8b53f3c596448208e7777bb9989be32fa044ea31f5b1edd404eff63946757c49d29e1309bfee2be87f40eddb37efe2b0a6b4e7814b332103961b485b4eabfc67b658bebcd660839bbc7ec93669add4cf66e87c523a7c7b7daf3a46894a3ea8ff44a8c1013e2897ecf3c5fbb76a890ef2169886d88a95f8970644c2b57c40024e7a8d13f826d5173a0ee4bb99bea3072846525c4d53e608cf6ee937d4c49d310016605c23236a930c44198996e5e4ed41f5f44cdc8e24b6c64cf36dec02c661c3650d8efd6a8837982a43e1a00d5bb2dc8553093afc1d0127fb84eedfb2f2691f04a4b8f0da1c2f3b11cf3dea53fd2bceefe98c93f800cff19ed01a3956fccba6c9b2a89a024d78a17bb037b847a1cdb70adc9f583345404efcc1cf343da2415fcffa4da40f1f22140b462c325dde69fe0d536db679d9379fb9f586e0504f96cd1041d00e4379c51d69161ce2e5ad622cd95d151bc71c89b52afd17cfb462bf1c4071b5c9e97be614457161df49c6a8215c309bdaa642831ecffa42396cf1f600b706a7bce065b283a4806581a055dd43a12f210c18516e42a20cd3fdb12876bcd28f2b5bb1ced985e4d8b2c42f9705713959501c0ad6b42c649a49bfb42dc66579274855128b3922f37acf01f0639159a60bdf5ec8a3f9c0f99ec2d05d9c37147114ae607698abd20439084695a781a3da0379ab58d05d4c64bf389fbc27fd64bedddb7723db1eea2554f9b5b7feb6d9d555d622fa18c1fe3cbd0dbaf34a201f110ff64c8e42d4755df4ac7c5eb537d73a89b0dd6a5257a837e4d796d5ddacd7763d93b97d3984c5285c954a29c4e31d110a5c5bf28d21a6f54071a48b34a39407ce349fbee6f5bfa0e143d88dc753d3db00fb4b805deca1750afa65e906e27f01569d6e1cb80fbbab34e273c18522ce90f7d5a2d484f312b613f3e69963f7c2ada5fd7e12cd4642f524866fc6bde1df697f2f25e96ed1b7a62e226ce3161f00c11eb7b1ab4389dc8a32fac05b91f8c5b8a2da536b710e1fed8c9157aaa34a001483264b13b7ed6287988df353c17c57c6abd73fa8bf5d35654ff81a6b1bcb8d9667cec973866656180ca15b7b6aac598aa95bc6353cf1df970284b5d130a09d61a52640c3598dea29bb1924baecfa52c5ebdc4356b7e68e54a3f6c62658f252019756721c4fc6c87d443a0710aaf6373ff4c33f8255ac8dc1aef25e0a7290f2f1c1e995e72b07000636473871ec47609b8140a3fd3a058fcbdc074b6c12191dc08603f91ccfd28107ed052196d6400c1a76be21a01370bce87baa0ba3c3af7338720179dfe09fcb20f23340855e1113c7411df5b7f51fdb334405a03e3adbc001fd1f8d42555fdb881cec7173668c399ecc7fe5681513cded9abfbc77b10a243dd10bd21f44f00bbeabeec62ca17918497f8019a8071a00eebc27ab1fe2783f5c198b6ba7082a89ec82e8ac24d030ad45e3e05c3a3a01b5d03c0a59030eb27607df328ec03ac54176863661ffb1227d4380de9e4c37d34795e90d1a05fa71e55b59f82a55423c323f83325d17afd1ff7544bdaaf26c2fef3c14725a3d7d121752cfbcd181acb653e1be110ed9cb97fd1a54539e9565e5bb60376cbec1b27841e839c275437e09cec62a130dec5042f402c3f90f187505baec4b8a9379f723fb133ee2b4cb2ca3a41d4c7c33547f21daa0e438c4bc090f7180f04c70b05cafb283396ad27438ee61e95246c4dd9d70d207e5d6f466295a7328254adaa5d8a150361091888e6cf3be3ac1a6e0f97eae1ec069e62e70264d1e3b91b8839d2598490fc1873b125de57d5528e66ab59bc9671e4ad26602a9f98e807d8f753b40685117d732a30867e4e2a7d4028565a0b2833d4d86f964cde227dd2b65a3d4d59c4bbd98523d96eea62fdc1dd3dffef5f08d361337dd4407267ce3ec242c9770751a1c399c3a9c487cc94e3fba43ff1253f393292d599888fdff068911d9965b173dba3b7aab9514bea264f94ebc4caadcf71d320e69db5d1021bd9d34432113c8d64aea4e34a39ea5d195c8059a7b4aef68c5ec0e35f27df698924a6bdf3026ad8e069bf919a6b30b88af15e4979d4e3806bc8f94996716224d9a1ead17aac25573bc8814a70e26ef3580918324c3c369fb07732cd202c759941ab71480f7a9ca5af6cdafed9e74a4bf3561926c12434e58bf40f6e6930f613ea051748dccbfbc1910b0ba214f042dfbd137257f0169781c020c7e5558ad9cd695eaacddee858bff1f1ec819f00f4e35f2b034bec6cb14b525651423a08a4f8f8a4523d20813d7355c3578599986811f3aa976444a9e891199b55a4d09f9b57008cdbae7cae9f446fbc1e4a8dc313cd3e51ac1a6683b5402079b0b9b15352db863e8c21b40df40d1a5d01376e76b57a90029e66359a186916b0440a3459538ce0cc01e3406a5179be1f0b85ee4f4fe9ab2fadd09bfb9a70e55691bf8e7c91e93ab5cfea57d542ccb6a2e532d87653aa0d558a505059a3b6cbf7fca9255c1045fffacd3ec0b61d72348bc13dcff3bf5a125ed8466d209bffd2f7651e5e64a22d7c5f1b6c24a4db0299a5e25b57232bf007cac51edbfd7e278f0d12791765523fbbda917eba0ba73b8faa34bffcc2074657670951c44ef6f0917112b9e44313675fcc844c08b503086dd1f9e35ce1bd3f835822344f976101882b8eb8fbf11d8b43e0257afcf2444e9b614d5968ed01d1970d1f6b885e6413836804d7fedd4e591405302be9c872323186cc27219d1b2766890dc4d3de26a55f5d64de85b7d642729b7432e78e825943f11ffa1f2726c302e96a65b5855db265f6d503d2550cdfd2bf81ad6f3d010787024279559950da27db8eacf7ac7e7cd1b471bd58d93402ab726c625e2220c358fcc1798a2e1f3d094cfa3e4488f5a0877d593fcf1e9db6a326f4a159a00dcdc39e264a0831ada0117cb56723d0d9ff6e9e42117d791e6ed2c012198cbc42bb0876d140603a417de8464a7817124475c542f6907e42ece8503d408b0025166c600849157e0976ae45ebfbb4f366280367d142c8522b48b929a7aa160e56e3ed70f6eba549b9b797b3334bad992023ba90a30a17b2424311700ebd4f51249a9949f829e6c501e7a8a5b634203689dfcbfcec76db149c90df187ef78ff3212f0b2adf58bb95085c34023200f3093c0a1f356456a23bf2c80834625edfe614d6fdb0bff54cd912e600d5dfb9290c8a9ca05b501e37ae579e1d3a2dca878b5d1ec50ed49697f91f16859c80ec121285a32a699cd4c2855f0b7ae4e4091c2a8d152a9e243efe28fe83544cc525e4f7bb5c90f13f9486df853e987bd9cdbc832286e1792bc36563e913dbe67ccf90f64e31ddc1f6435dc9a6fb3328a717badf6ecd28fedee14d3dbb272a543fe56b7a6f0b68aa2637e020f034372869fe70ed482157b80e71dd195f9ec972949a91268342ba2d4d0500413684f8bb510734349050a6e013a083bba8f55b071dc23464887cc452dcc09fc50449423a254e017927b1a6c9eac7df2cf33b1eb41efb9cb2d73ef3acf2b85a1cfeb6f63746c2aebe3ea09da999218b9907fd7cd88a606d138c094fea1161afb6d925a1773b1372569a74511d153573e4dcb2647f930f6020f19b90c36aa968435add2f4ff1bd21701cf92cfec4e8bd3e0b7b66771d831cbbff4eb0ccae6514ba4188a9f05e2a8f9f51976fda79122dddf09984aae45ac335ba276d1b04510c718b7dfbfd78a961ef63b3047ec9ea7a81b77e9bb4d9050e4135e94eb6cb52b414d9474ec066b69184eb6a1ea281fa617618b4ea64cdec05a38bbb7ce01b8eb79915d8580f1e1588afe3ae13ee7c8b9db54b2a3307a1496b6593bdc39239bd64ced622876ffbd277bdf7cffe84104f974392f5352032a480a187d53a05f273ebb75f49eea6fed6d666a3d5db0beae806c518546631e5dc0cf66a1990f4169714b5ede626c2ee1a896df559705781f7cef30740207ab335b62035b8067456ba578dd0d56b075baf89990e37faae1a4a91a80fe938678bf278e8f6959441a5bf09143a322b3fba89637b773920a3e51a60c6bd609e7e77d2fa93abd714e4370121adca6674795501f4ee758336bca7a689e422a49656468a486895b91ea1d447b23183c2d0d95d63cd3d21f0a1236b8d1132c73e58b5418ed3665ceeef59995dda7d847ecd0b44356a8e57fbe64a721d02e2bad96b4c5f630ffa1184ab56cf09ccc2dbdd4006ccba4ffec8a7819fefa7fd51ad189c636ed4810de55680b13ca10ada76d7fd71106fd795bebf6b919afcdd8aba1f24bea44f376c3f133ed33ffd95f3f745d565ac6adad6b26721b39195179a7c4913318579dedbd6e9705287a6134f307a624eba50eac523a2d157ae75ce583a02e0813aaffe2746784453ef06585e0ef895cc97d4efa653ca1c4208478dc079f840950728e1d57c8c3423f4e3950ebf42c13b269cfe96be2bf0f7e38795cd8c3a5306bb7c408b1ef8519efced786a096147ab04f18c37dfe815d0cb2d844df7931f0a183fb8a2ccdf895e0577d7b22bf41b925a797b7a9534feef4dbb56fa44701efdda18ecb8db599bcceb0e9f19f74b6ecea121c0de03c1baf625f8064422d3a6c9e87813e5250b62b2417a4a16a8c81d431dac20eca0e7afd8ce38968f558c8edbe4c47b52141d58b8c83ed07f1f9c8a99ead8f19dd5b3b50b80ec89c7bce18bd9bdf1b7935f7b6dd99fab6989fd6850c53f1780aa1f7aa3b4efe27ffea06372ed37888b9bcba37df481ea13552f0e6c9de5cd7b392d623cb331e85e0f731d77a1524932e9715a66e808569de87f21c0fb802702237b3a1c909f795c827b9d2994f5b7b2ead7a63c9dfa3431b35a70a03f86eade4390056a226ec4eaa7b26cfec29729a8e244fd02df845c56379a5a76f5b7d427c23643ad39dc6b330316e985b93b6abc92039264ec571f9c3e2ccdc95475526d90dfd4918a957df2dcab0c5799a0ecd3d173c2b4055e2d70a5e5ff6cc8373e4274f42656137c25f3b3d77077a6924e2772bacbed1215f2d31520c7754cb467c42262860327d717bbf2a486ba1176e3c4e3bfd507c41b216fede04e07508571a77413f93f14e55294c4afe52782e670d77e4ff750d1dc4da6b055831186545b85f88e5e95273adb512f10cf6882533df9008ae4a5509e33962f36eca28c51309b986b3687d8ce979d63f6f7044e67033c92d3d763985033d0171bcf95428ead2a7213e667ac0ca719af6cbe6299d52cdf9d7f73aa9daebd7ea52fd1c51eb5012eec8cd8eb82d8b08e5f67a4e0d33818a36e522f57336990d01ffdf6b15ca1ad2a34930e3982a1dba86319c2a70e87ecf5d6289f6227eebabfccf6beac2552ba22b01fbb274e28e5fe31f9a916094bf0691bf1845de07433ed0b9cc87cefc30c71212e5dce6aa853e9b968d159293705a6fd7e47d03acba288e4f45d8b3abef5f723917e055c4d387dd61350c918ef7a9b5eb0ce8cde1d4e4de90c46b30f3abaa06119ab60d8cce5c84cf3b94d346e4cb911fcd67da23c38dcefd1585b5d93627425f3dbf2e6fa3c9f2e64ad4f025b5142fb9cd0b18f565b86adc5a040d7078ef434e45c7656e4e1753846e0a5bc54b2c1570559f21dc3d56e3de7f416ab7276da3891cee071256b302a416ef921aa11047f43272e1a426e295dc2dab0c78f7dde1f37843f1f601c8809ee8c099b16ff03cee8a8bdfc619a0ea8a3c704500aff1206989d8bf15a97e843f6b1ad4035f5e836a15d88818adf71ffbe5c74f792cb07c3e2c2556926045217d1f066e51c203269a7313da1cc45acb8651aa7e81c7910bbcd3fe49e7af9d30c425d268cad487b0fff473861a1ffb5e9ef4e43cd5bbd232ffcc3c5a6666d086561002b66d1054fbd43beaba98dc08b8f979bdbde7ded54c3c11808fff609f2c602ae41655c427691d7bad220329baa8ae942659d7b66c206a0e58836fecc4923cbbf7f9e2a5d500b2c0d911b529d165bf86273556c6c358854f116b345a13d6176ae2aaf747518c93b10c8a998626c1df85d115f18b0a56d3f16da9c682eb09485cf984dfd35ed0860036c0244c47a94c4b943bc59c53f4256040e9da5313e8f88c5bb635233c2bd16de06efd41645bfd4b348a77fef1ba2f5534840f1087f18c0b8f733a7de653bb098a9582f2061f61309e0d0f3d5f7843a23cd07265aac04d97de5aa74f94a24a9d66eef1548cfcd0842b7a075d8c3c81ca41e1c3b533756056311f1e5abc55cded41f90795e9f65a16317bea2f387961a4f44ac5c06f3c822a26526027cc0ed694d6c6c6764f78ff3d5534b9a51f906b480c9227fe2bcace6c21a2e644af28418c6a388fb8420a8a083bb18002d7d0064c18604f576a587210a96611ddee003882b84ccf17e237a24af93b358914944978165b2b6bb122f3bea58407fa2b07bae43429231ae82fe3b6a6ab377e33de3946bce033c51cc12571ea1f35e2a8dc52765584144e4350c0b9a095d55980c3b9fa2dbaf2c26d4eca4df2b59bd4d17738fae36713fd1bbc2c0c11c1a835ff345ca2ac30fc4ad8567e3274dedd060b2f7ad53bb9b7a5e7c4611ba0c5111e93b88cf90a935a020b0b55830f4c8c0df375a823070cc4aa8a8cd16c1d4d237163653458ad4c0a2f9feac463b23dd8153e862c3ce660a19c8bc37b3433c47ebd6b574c75aab85cd58ac356f635746fa21910ab83cdb8c6c0e7c87f0d8d0cfffa29030577787a59d7234a8518a4f548705fdfc7610a6e897c6336dcd44ba44bc7409975e13993c899ed72145ab05216d17196a658d7f653c7e629932ffc5c2f79cf5857c880610800011e95514935d4add6c44bf4b3abbb697e2a9451b3b7e5d1fbe2a6a616ccbb6f78cb0ee95a6701e7d36428d6d1b45e8855af506b4ee383be8ba11e4271fbb542503d2abf302e0f360396809d34d935fd8b244b0116e0f0adce9f1b18fb64d232280dceb22026538b8bc3128fc40b75c769241344e035a7b71283f4a515a012fcfd9de924eaba690617d552643ca4b169559b094c6c1a63dd90df869b5060bfebd26bc91c6a9d0170b278000573da8e14d78f9554e50b3284bce3ac67a6118191458f117327409933c8d90485e2a3bf643dac609a376325012b05c76f76130081d4c02b1bde6eeb6e8f88b816148d0933d44155912a0dd5d3780eaa95b09d0fc17a649ce430ea5378a27522229d9fe54928c434c562dbe61e0802475a11f77b2fedc9f5109a826c6bdbba021e39654cd89ad3102823b7199b06c41ff331170784cc1a28c99031d2bb12c2d1de4c1f2eb05ee58d6c6454f7e067021ee5ad3e864ee264feba427487c76437355beb24bf66375afffbbede171093d27539ef0944e1acca1d5546a7ce2f551d4f7b43a5dd3d8425083b1b9285e653a1641bb7b70c656300920d7c772008118d72c92002fe31cae8341e39ddcd7b6e70f626496b22074f00b5eea20b36c98c0e586ddd3e0d64dfe529be73a5dbbd1e022a18b0934f2e9c0de421cbbf6425bd5d9de92ae8a6b2672151a8b0631f4c45f6a85087c85494c0f08df95d73745a8c4d56d58fbbba6ad11a53ff7ed63c99d9af1cd6e8690a48d413a63dc9feae1888755bc64baf986764f6ec742040ba3424f7d2281b34ea1756ca827a3464bfccc70f9d1e350d683f94d91455eaa591c24b8fffc8e25132340c46a3c38b4a1349d387d25b6f6a2ec89204574b4bd8d61ee5c6293fc2160460d7af2f5c5bbd5b8cc0f8a2897429cea1503fc3c1e144477a2f8f24a6736ce62d2813097f3340560a4c92a04c1b10d1d762aec8cf98886d936b1e556cfb80908ff7a2f624bdd9c7b46adb211479537ab6b03b7ea3f26c6148a90ae529ec78a342f020f16f5d4c28ddc4b2d66670f7171d287ebe3095e5f6511b0734e7be80a6c97d5bc4bd157653deae2f27eadbc0bd2cb0e4f612fd27fb271f9abf4526e9a77390011914419fdb95a2ec2d34d6daad1c59274cecacce14a6b80fdce9ab04da62f29ef81aa4b683f2468431df3767906b3195a8aff7704c1d31725fec25cb955ee12565cc18daeb19f28593a005879b065d61856dff6451b8eef306f2a138fbb4d96c6647bd5f0b3f464d21992815a8c98f131d55738d60a65bab2d554bb0e36acfb993c3149ae1dabf6c4ce06ed33a627c243d5ebd2605be070834f29f8db5a44435ca2fdb2061f29890fe731dd0426197db157ed46ac684b4111d9e43c51805ecd352507fd869c91fb49c164fcd9e5fbbd230a90e9d48c98be393e124b5bea52a7bc0d5a1d2028de7b6a87f257481a1c23132164447a8e721c6ddd5fec57db22d560a2b1416a9fa3904e5d84b963cb8cdfb974a67431f8e43ba0c57a49615cf3a9ce3e09a7f17a7969d037e9f0273d18ef72f6c398e7a396f87bc5d62cc81e1325f4709ed627c29c242886ced7170b04429fc1c181fa3d4e2acc2a2dd73e8113223b4411a561f3b406b275d8998925f09df1fbfd3eebd48ef418b4ea9f43ee55e3227314ffb61b85d17bd52ef7761db1d1cb26b400d72ab5f337326e2a7438474aaf1e1a82609491eb0cdb60e4dfa30693d5e5b6e26a0a3a80dbdd63e9cb5040db6dc473e3ba33f9ca1dcee7d69e0ae9d631df89ce64bc8f9359cb3179f42bca452898ba22ed8aabac2f05dff6eee65e85b773aef68dc2ea92c06e9c75bb43fd299a2ad2160654b612fb1afa28d380f101376d76b6204b5f9c551a5d08459a95715c6bdae551b0e7e5e6a72cbd45bb61ff45dd52202a740b5e6c71f8cb242d581158542334ff6fc471e963ceeb03862db71c48a4a6e1eb06a234f608cbc6e18edb8f3dd2ff7b10bb3d956c7fc3700f041b2c7b5c458193f267272051521e9ec94909814f90a296767c5f254cdb46c47c453b2a0d205053000bbda0c666ff23470383c36b632dc2159b430f3f873f5d2562a24b5d7a023fb564a6666e8efbb1cfbb2f35048853936b83c70f76f3ccf0a4f52c5020345fb9d2dcd6437ffc5c1ae1f516e72e534d0d8de8f4bbc0ed0900b04f9b5b35fd907a8968139966027f994ec28acc5130052aa73eb1da9af7a6723ec593f69fc30a4e9a553423fee35d25e7885727204dd0cd8713ac4753f7dae0888af593a050dc0065fdf50f0c885a145d24c1ff4075a0b1895a180797cda47e88eeb842b5469e64929ace43b100818634da9983bf5edbf909191dcc1faf807246d25d6ecf1fd51a247a0cf82fc7f38647a82c965c5ab4e4452b48280635d432fbb055843059e9df303ab961df404587b9736a032adf0282f12c3137503a1c2ea940e01c321803b0289533b68e8bdd6502669bb71d58bcc30b7c3597331e168c141ba94ca62743e9ea165be81cb47053447db459b6c23d724ad146692a6dc046509b7790c1367d6d7fd7e3f38ef431d5e2893ecb3e7b56e6a92007f30b87f6add22802664896533b119d6906806d4858c66e0e8d260dda29b5355c488009b4bae1698a0125e4c70fccb775812f383aaca88a56b9461f761622b67bb041373058162dc48c55a0189108202efd8c3f4c8e4b1f90a4923542623d6e37ecff98855615327e77dc4658a0f763ffd0b4f22366e2cdfee895d2442468e7e8cd26fce3556296a7b324c7808d590063b9e82a6792299de28eb1a37b9202b5720ba249599e0fbc471588eded1f43f2e7f54a9a2f49cb9dd50b66c1804713bd7c798b597a2decfe4bc4a57aa2a8fc67ab051dd01dfcaf3c0f8c810c59e97f91fa17eab3e2401a3ba1f72d057245e5bffdfc8bb6153632765543b03c76a03f91b6bf4091e0e0a241de18baca8f698f4a1e992610007825a76c6f38c7bd6158628758845b0b604c64dd4b71f1915044852d647508453c629ad7c366eee7cfd725b16d1ddae32460f99a70ad972858bcf1b47ea5a07ebed62c9a7f407a1a55494cc8ff420e3cb54d0d4628cce53049508ee86ff4e3d3f493fb3ca2fb7b81045cf15593215d3c4630d48cc72836227c89645f8bbbe5cbfd4789a83605cacbc9a758b3b1b50aa3105594ba5bc697cffb641997b86265016608d4f95187c08307b831312902f4a48a1a0e3c29ac16d9ca3823745a75faa1f8cad532132439f02ec9d31d78375f6e8feffdd2b44a60f46d931f38a70cc5d21ef678998c9d65373f2a4a72fe0d8abeb184381022c514b3fde15a5f8503de1c9ccc9bdc07b4662819a53b499d1f2a206ddcd0d837b6f89f3025a98dd89c6ec4a9cabf2bc05e35babf78b188ca7ab49289e385a0ac48a09e6fee1378773374c5017093693486d26917faadcb0895114afca621e79a4c7e39a6297b739f0ce2c0e7ff8bff2bf0369b31712970db2be06fa5a2235fa242c0e6905071b507e3f10a08a5d5d94aae9fd2ff7229ce3d9d179046a94487273ffe0d79908c8ebdd26094f739784ed540a2b6e79391140a9e9772b78cbfafb60ec47f211feef7abfe46b2d70b23939600303daf7a79fa3644e4dbdd57252be33823213f97ff47dee4cb2d5579ac91822046086773548861f985be2dd804f75bfc7292981096399d136f1791adb3e60451ad59bae7fb28824a52867362ef03c7149c828d2c9ca6fb6bd2b5786820ef65ea97c59c90ea9ba2636479e7e212d17e69e428aee5634ba8f1bab947e3a90389cc28529f1d117745d6d6fa543e10367725cf1b3ac98ceae3d943db1111446d33f809b9070f69c6408a971aee49edb4c510ca4ba1d21bf4115135773bd2bb69ebcb3cc69653004731be1982f84790e31be3267452227236f1a189b83a1f4473163436e17be23454d045c14bb57069fdf1ed16db9b5c7418f4543d87f8d6571ddc4997ea05677a8ba79b46c0c1962cd9249b1c414be5cfb9c463cfc5f6a6211bca99da46c7d706af0e9033e0f00a27382441cb899ce86d585edeb75db863352387796d64ebd1677702dff53c2e6eb85143ec2bdfad706a154fe2ed7b125de25de8e03faaf73761cb63dcac37d7c9f9440b6de18a05384e50d9b4b14baa6116b02aeec098a666cd3b24dc9949a8db4419740edf2ea629c0991feb9c297b1dea3467d06d60e1b84049f402f8bb6069782436f437147f04eddc4c97c3c9cac261d4e22f003312927cd9087a7d452a005b8e5d02df90ee557cd2b4bec73c36eccf9cac8df695b47cb0622c133e28e0fbaad9258bfb428df6d27725d5cb2dfd4b569b1820bf506ad3e996cb129ff7b52ad8389f8101664cc557683172f1ba1841a05272c96449d72fdca8d9b527c4334416069d5ae5404a268594de66530accb09e952a2d2a2aa9c9e48754e91d354b9e2c745a23c75a51b02fe8e448b63d8005662e4e61c3de3d9ccf669b4e55b307d9e4a2c89da8a33e78c21703229061f6087d55bf50a63b909e5eb5c4b3067210c7d38f7360b783ae96e82e7508b5229689b30fd89583ca5bf6a6c1c8631de11daea589d13cd44ef7e5cceff7d5b396cdd6bb54857efd3a8be8f119e12fbea9a6a601e7fc4cdab6aaeef6423f31f68fdf8824579490f7590b6a6433db5abc7b4d9e475ca693d9ea41600ea85913683780106a95eb9fa97cea350e8e0e828a093e2410aa2f7f7f212709bf03babefd48ecac5583cd190152602e454547676a0473069e70573143c17ddadb1694ced5c422e3022c96f06c3a6fde0c006a106f9227887c83f595f03d11025364837d909dfbdf712771ea846c32be674283a946e9942966c0e027ce11b21bd5abd61d8c801d56fa39327f355caa57918fdedc96391cb3adbb109ba6fd7aef0bf750f581b7d45bb14228486d59e1f120fd657af6dc25d6029c21ebd21","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
