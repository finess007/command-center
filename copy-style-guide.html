<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5b52ce4d97a911faa80e29b618ca911dfd256df8b9993f78620db33dc4557c220b4d72714eca75c8440a337ba1c3a437e5bf491d2cd7399c0139397d34840bc47748dca0f3b9952565d139c9673bdb7236266fa66be6e898c9572a1af1d4aab11578ec51485846f89faec101a7bf4c62ea173250f273c76d8233c0b6bf137ef282f2583b818e138e4a80a534470f80c68c5c4104de5f9e7e4863fb5a45c6e30d4460b65192f531753663f3955148904af6edb891a47bedf50b93d712a7bdf7102ea2a1a92d24f33f8ef3a473b250886e3019f09783ddb04d624ccab740b25a305b267ba851a8f0d7a8543f15ba385ed958cc39f8da9f832f3262406d1601c7608cde5d035279e5d8421688131408d6b6e8953d32a0616614ea3cf9468a735ac43cc9d3968477b28dc6ef410d17d65d522272e616429c96011600f62ddb057e82b85386842c28af783d609fe53e7709939270bfb343314199a832b03176bf4c7a4c3247d630a1e3319b4b3644e936a53cbfe713b3f12c2514b82610c45493214ed9a0219d89594b2c783f3b5eb0d1df8fb0a4c38f98ee4f2df37780fd89a176a13dee031e0c7d9a8bb38d0a0196228be7e0c0d5f97b2eacfe61a6e340f847d6c3dcc24780421a97d2947b7bdcdd9b7b5347ca9506d9c680c0da1954cfab23cf4313c042608cf2ef43c664ed7ba591da7525031ddcf23db5388a27aa16b552fb80908c523f86a413334e1bd057f2aef9eae232eac730f5daba4aa921e10492f485e9adef0748beb0ab54f284a89b56ed073bbd614473206968fa400ab998f250d493a6e4eb78e48a5b059138550a8212c6a50f463b985335148ed49558b470de2e671b2228f3fe567d832ee6f3a059fa6fc34bcb3857ed62e78ba08210f347b784d09f114d2cf2f1ef0a863794764e453f2f529d2409ff17c20b85c010dcdff8fd46de444e25476177d8c1c1f075f64efa6a530d4cf25b4041e814c846259f57c3e88d5f39fbf72f2fc5896127b473b37489c2b08eaa250ebdf4a36489020fce78a262613060f9610f5105cda0356c081655969b4fd728fb338a927f8cdc5c16411ec385fb08a60dab7671c5a0d716ac8f42fd0d3bf4eaf6da86b23dfef8ffa8d1ae8e904a0e96be72c1b7de11d4b79ba4bde5114cb5532133ac0604c8d4efb415772d7660df3e18fa132f144e14e348925c9840e3978d1ab370ae1e07a82441edaceb3324d35b57a9055e448b95edd93c56f071315c6c965bcb4ca1b380d00e24df82bc08ab0c7e397171721320e7ab7c67e7f580ff79b9879f55d5a1632e0001fe0f1ccee357bd00aec9b3337d98560eb44a6a5c6498ab97ea3b1f08b54e3bd289c5265ec3ca33928047621e7da0e56afe69a320a9e742eca9664e0449fbfd6043dc3f94a52c3bdeca2fb4d91daf4982608630ec3e03eb57e3d88df3b3817177be2b2a5fb3b862ceb323d3e4bf6e7daf64dcc705a072dd4c8170f7ca0bdcb390eca0ca264d9fb7f82bce192d55d149be3a351efbcdfdfb48b6aabc2c7bf84c348106e3de82743b4d45ce08231838ad82b1dcaf39b151731df71bbd8d1969c3069119d9a0aee983033ed8cc45f46cf1994d8b7c8efed23e3a5586727c47bc2f29dccdabddc40b3b73b479f3c0d14405ac20bb6ffb1d4f26698df7a7cc02bf35263d85cd91d28468a885d53b7d053cbcfe7e43ebfcb6907cd3ff33dd1763c0c5bfd5cb10c65f3600dca6752d876b6ebd640742a9b46dc36b0abae4cca213e7e82002dc708aba09cd352095de987a30b54582229dded69cdf95c6617fb806b98be957f90a5a516269d678268b787c3d86e21a00a0f1ecd37f0b2920bc8e1abcde0f0dff2303d3bbc71b85bd0b8e37cd9ef52cf4642906a6de8a14a84dc77645097c5fffbf2e27bb37f3c5fc690d32c8244a9fcaa6c62d2a6b811dcfbc7aeb4c498163c16a43f7bd4b139783b5fe596513e09f50b0e5840956f7d13601a3206dc32cb916e79597255760edc668e328b6e78aec6fdef78f658fb132a4a5267014cd182ee3c9d453ac59b4f6275bb5132a2eaeb2501977c23a3c04417ca5edaaeda6f39a84f76bf601b252d4b9dc61e2e9c90015e46d95fc00e277d7dacb50afde885453f4783924a88c32189abeb65458db597cb1e45aa9338b728f5fc0f05631d7744bb9e90c06fb6901a2a6b3606b6c595fb1f25bb67948ab0830ef98a9108de25d476b2247cb27bfd9954652c783dccbad8c5483c936c00f077ba1a44e68e4b96c87f969cf5cee5be95e186bc3ab763fc06733fe9ffd4585f451b6117f8cf6bb2e2eb260b6d12399b04dde2f5e0030db73f8dfd051f071d5fc5c9a6b60074735aff7e446a58dea651aed62aa5fa4afddc219e75102b1f7db06ecf157db326913b284be28b08bb02a3b5170641287c0a9a46d6dda6af2ff4094e5367c1635deb06ad6fe94362df957ca6db799084614d1b3b60797750e50283b194865cf636e0bab4b359ac4efc21f9b49d895688d3dcfb0404efac6e7d313616f1a6236f8611f2fbe5ac393d60127baa3ff4928bcc29277beda3b1cd1181866efac6158f72f2d2d0a5b2c3ed9095d222140dc36ab1b86b019a3520a40fba0182438f7bc6589bb1ae0f144c4edcc156e6940aebc87647984f327c4a295e2a70ee60f1ae2fdfd876e48857c74fcb69f45b825fe7df1ab327762dc02f7a065ca308bc4d2d38a1f7892e1ea7ee93914502d459434c19c1e0540458c0300ab908fdd1bb459d95ea22ccbe31da99b4a0642bf38c65aec60456da9079cd73f0aa312ac13476510d64661d4f855dfdabbdd67ecdd962345382ee08854caf85383ef89142cd5a28c876d451b25d1a1cef34585adbbc75c085ce9a8da189da93c346e54fd2c8cf4169ac8c2f5e70e22314e7e06a4bd0e37b4cd290b047b9cad940fabd764fb9f295983b14577c50d9ad77c0d3bd89dbb03412294153de852ba12104419cfefd49055e4f3ad484cc044c384c0ed087b99b4918c24c9e154537ea810461fd57907699f7a554eb7646f12ea515c007c0cd390723293304371fbf853386cceb7d73b1081e9c96214560ddcf20d98da6392f675a91002e4747e920889e8f85423956917039f10d447052a7c81035aaa4552fbf794405cc4666a5ff8375bfcc041bbf59502e82d28d5e28df078454af38985108919bd508593db643dc24b3c478116c829cf1ad800de6e12ce252c9f7c57bafd05679adf4852908888a425426f4e0474075df14e774f387abd00d2bc0137ddd7dbcab09fbb93a7ddc0f56ab45050a34e1363097db0e3bd061891650160ca3a02bd13cbe1f497439f3c8393d88a9436cd481e193e0168b7445ebeb3c71b218d42dd9276eeef824db25a2f714ca52fd2e08ae1ddc7f523d6e359cc4860f4e53a2832dd9c2e2870375474f86fc87f79360bb40578dba2ec6e616fa452486458ee6a1ecdb33f6ee1ffe78740d5b887991747edfa11af75985ab5504b5d346536cff3879fd37aebd348cd815a2d38d7b88df53050f8f5c49dea060bc5d13d71973cbc94fc04b74ce9d0eedabfc09ebd38b338b2c36a2c727e7c1b222869760d2857fbd96cb150d7604e48308cb1d2447f74e947e0cb0d69fb70abb0174f4356e5c585c95a03aeaa15552009da6f4106eb624da4624088d2a71fb317e71346c892d8b4123f8cca96fb8175767917ae273d445ea452c057de2925feaa85d7d2bf4cf260713568a846b800287f1c6c8fb177470efb25ef23cf470f28b41f4e3fd81162aae381adf930a4fb110f663a78d7a83a957e2dd707c1298fe7f07e0ff454e8b5cb99c08071581dd13c99f09a438625a63c7bd9127ea35451372ec534392deb00c9c7296a0ca36390918e017158aee0b7e13b3c1e16cee5463acd09a53bd90b2b0f8da65fea38f3884d652b245cb33a20858e02f0331137b14a35afbbd5f0075156683bcc835ed4d468a5e72a1c476925ae6e1e1751d78f9e2cfe80fdf96f5b1ca53f139bb8a418e4fe1b1c385e24d97b74924fddf4d95eb70df8daa34671937663af43121f2fac2826a07d85e96abbab98f5ccc5da5d3b5413349027d6d22d6b59667d76737e36776ce1a06bee46b702e1edd440a9553c3a4a5000e091875c5a350d91001d4528291d96f58ba79f8c5cb838234b3f49d1fb32ba9773c650cb1ec2c0c2d19e80337159ad244265a107832580e9f78ee5882ee75b21dccaa6b605003ee9ce8e5e3ec579ab56723f12765cdc0581590af82daa7dae9a2c72d18707b460acef1fd225619dad640cf65a115915149cdacfedc93ecfe8780b2bf750ef7190ff338e8872bf2c27d94e5e99d5d093f044d81f9d7032448f879c8fff57f7c8ffa7dd8e30a2301200bf4c2a16181040fa2894bb33597aac2c284e601e204e4d9ecb0a6829fd14c7bc7a79a44b10c74e83e8d7c1c239e1c058b75166ce43a5552cf94b28e022c2a2d6eafb13382a3c316683af4860c6c66388d3e094630d6628578f5d65c7630cc0505ec715d5ff7b8a0f1c4bf7cd99785a044f9e23cc434f7453429c071fad81ba8f62aec0338f7bf57e3ab95b675d0edeb8f18166ab52f1eb038cb2e0fda19ee7ab836186dcf7eb452b9b1692606ba5b015512cee850fc8988486005f2b7e54558f3369588ae147ad13788e4d6c6ce864de5ed1c8d568c36264f471ebfc900e973da885bd74da56c7b79ef8187e9694a0f5371f6aa55a019181d2e8169997467ba21570d3e809a6baaaa559fd716a484667d0d8473af15a7b9faefa5ca40ff15df54a9e6c620ce57b2ac92dfeea1dc543f15b8e8352532bf4695ae3f5a85b8a60430efbad7d004dda04389241f393ffa389b69ae811a57c6f1c4c89bb78868e3c0ffb3ca790d37cff5ae0cbfed7ad89e2c92cce1844cb1feddc99150947035de66872d9418349b5357034961af2d275731eeeabafdbbcd6df035ceddb33d8a04847c781d73a95ab262031cf0325599d0a86795bedc4aa4debd8d77cb249820043f1e7c76855141cebe431f281f9fdcf390c5154f937e704002aa2d50aeedf4f6cc30965e69165cd7463eefc42e1073cad62aad6aeba45765bb9727acc22aa88fed7f6ae54999c59f439aac1bf79e8cd74279dc6f06ca2e5437c1687c744020dd734096b218f88bf0f7de78271937a578a10ff04a07196e7236e383a6b1808f080808d2859cd9eccab878f0bc06e26d065414a2d7be5b78f8a8e88ec489d2cb11ff95940f26fecb9ee17aa20dbcf8b2153371f90c5d7be3af56eeab7632cdc1190d7f10c6e13b111047d58e1c118074260ba58b03c6f95a138a6dacd3610754a3a899b2f8047e80a8cbd176b9ed3bba920937f622630567843f3567dc6b285d94373ea8d934b81da36c0c1d6da1a2a724ba8462db0b702a18d333770b9a8136dcceb4790d109c7b4569108e2a8612cafdc06b05cbf70120db4b79290179284d61a43880fa927206e0ed20ba77178153d072688b22a70c88d4e7e174784de231a9862644cbddbcaff02ccd48ea850726dd726ccf6a7888bfe21d65f8fe925e06fa6d4a70ff5c09ae33bfc597c4f9542eb86b73f18b96ded3ab43e8ce1decd07c210d5395864d9c368e167ce1fc6cde6f976df0a830564a3c894df2489a5fd7b262599cee3ebab3399970f42331abbcc268442eddf16460abdd1531949206a8abf61cb0db8e97bd6a159d5023488be9690effe018d635fd1755d5d7461f7b2ba2600dbfc5c0e360b56c414da01b61e9f57a68dc287db5b83bf72754723abce6a64c14fbe6eec62c36fdb011c64634be4e3692c7212fd83bbf94ce6579e44bacabdb44bc89ab6429ee3df91f13a9ba71bfe6dba8ce46807049835bb2493caa28fa156eb87b2f5688b5b7978ec77b4f3e538022c254c480d5f8d673b9e3296def9e643498fa7cece1d9419628969d61fcb2e7b97a56743356346d2f8bbd5f67c7bcfd8609c36639bf0db2105e2266457da3777a229c7ed9e5154d72d831cfcdda79ebf1074cfaac82ab1e2b890c31a5da0eb58b2566497cabc606e21825d1e690301f7fd9e56fedf079a3d7c22a05b3c9a612aa1aeddc33bf375f4d8837d34ee0f68fe334af979e0318c4e675900c486f77cf35d00925ab8191885b3752e0e4d4f836752eac0b4e27af165736a775bdae7f26b22fd018aeec9d4036c8fbfb07ccab086036c9350c805c7a800e4a201be45eece3ef05cd5b7251aa2d5790a74eb4f2aeda1cd70c626ef836bc56f9730975b7a1456fce7ec29250b82dad34187655aa795b673304f6ce975e6b72145dea9a15b2eae8600152c83adf19a3428e900d5704ba5c4e1b9aa839bcd7f62eeb56c6529938cebc44adbed8d4304893e168ae0169264d051221648c3ba2f27ad317cfcc3cec4bcd3971c612fd20c3f144aee54938f229d297bd897a63d9836e194298e0a54071ce91e3381fc0f35d182847ad219beb111d69a75350fda91463377c16d9f0c5de830e59e23cde2278d2a8942f77cf1135f18fbfdf0ef4798d350ef6f7ed666b2c57b1fd01c3f1d6790595a9c2e82a386d093ddf04c58e5d550fd084dcb482fc019a0792787e584ca4a3617af2d3116870bbdfa4de18c87b299123d5d01571541ba6b841b050e771ae7119d2f19bba2d0f5a01fc47015159a1888cf84fc6ddb25f5b7ddb09dbc145b494cce31044b580de210ced2d12a89e400881df4bce249813b77f8488cc38b41f3ac8c972f3a350bd7133a09d243dcd6dcec45e736e08deb110aa268a0d73082cc341160c05d9a696498a8ff8c6b9b8bd11f2569d84370ef0274105c864564469c3dfd6926c18bddedbbefbbf6a5ebb51ce1b41dacfc36f080ec7b9e83402ee8b05e89659d708269d6195c5eb0a916b70e3073221bd1f344a2c62516aa10b6aa1e51e27f14fc608d54d826d3469e014b3d82187a5adb09176c3fd258627ec21dc6435f391a53e99649bac053843255673c666e1750a511e661a7b027f8c5d033952e6c1a3cfd87994206decacaf26ec9062b7236d027f050e158b25c4e52fcea252281513d260d15bf866c941992a4e7752052b1a30072182b0ee01ec021b7addedfbc8a6f65cca6522f2ac3e5a3aaeeaa2f9472360f891857aa206dd14e3eee0960dc8558dddca199e02d81664e2168daa13cfd199f2a72ea71933ccc8b639b00bded6cfdf05c7818da83e8a2d8606395e8f7ea0f1fa66e529daaca036e21a303960fadc8c0cff2aa5b8607b3dbf95d3621bf743b7586e4b33643c2c33ec697b1a6b3ae96f52f0f1ffed6bf32f2c9a188da931432fa5d382e3dd8c60f510c3cdb58c02ec02dbcfc14d224f5271fc4173f36732a0549ab3fa509f34db105d0fa5753cf1b5c0cba742420d7c10edc0fd2ff46bfac0c78c4e95a88c50671e760458c772875cec0a03df4cbb33ff877483c8c78d14f75d9039fa863f14d5a776cc5f807107ce1a12bacddf786215ef6fcf232ef72460554610138c89ef8b69657f2a7e102e0eaf3f28f3134732350c68747f7b14757d244ca4fee441f3b4bf5f5f321692c7ceaa8fb76c25c7d5ce25dc70b9ee1bded0d8824f8b2512ce1fbfd007a739bb76136ed5d3dc21b7e58c95846c4dbfb9365b3caf0db4d861aeba8b7339407d817d20c15a3edaf8bd5344fc8367decb9e8b779019443a1461342cf5421f1bc924fca04fc4c57a68c74d221cada4f460f8fba9e6605c406dbd76f4141a68ed88465ea71bea39681e7b3b55d7524828c2848744b1ff14eb0961c4a18b4913db9bfd70cf9341af7090a057e1d06a64a0cb2cf384a52d74eb9b405c6594f02b6ca13d33b60d48230810cdff207c34853137c29bd70599dd6c3fc192b457b6ba777b89dbfccb2f53eecd68db324b3f70d17e6d5824fed0126f06fd78b226444664752e23e77e7a15d75a4525514b59f59441bbd97177b6d1d6b3446608e99f280414890393b35b8a229257d35fd2c1438dac46d3a758196f46286a25c2a5ccbc99708ee6debf9b5c95e0925fdfbdc68725c6f907260d1faa34b4a80e6c61661b862d26372aa4e603a25c705a6a892c474aa7e401d4246f6099a59089ebc961d080faaaf19fd5258def24d52fa313f555885168128f721e37903c7d3c4a02775030a7933df9455265c4e55b829692a8c2e7179a53586e8c2ff95411e3d1f63478528a052b64714b4ab4c262b1e63d66f822b72f26987c9eb9b2713190527f7f876ca50d61bd79f9a990373e900b999b7f15a61e2a3bf46dcd94b4b462359cf33fc9180d81ed6095d18c83dae36db25c33d56a8015b2d51ed3bddd88aa8b79882c5d469c7536efe2b0691de09feb352741705da792d21b73ffb18a488095828d3e4e1d4c30675649bff242cc10a029ab757b99cd9912982cf1a3947061c56a84457fe84a8c98abe697ad15d9b259f7c8cfe56a7e4bcbe0d117b034177307160fb23398602f1110ec81c84f71cb96fc3c2498c72ba4fd68a19550637a7cebbe2681491417bf55fa45172b5be2434a1c6d7717cf0c7ff84cfea9bd5ebc662e593135b9e0a9493d396ae2d0a8890609288d5c4b2c82c26662a924687ff6fca86fcd4f7dfc75bf5cfe8a2ef19540543f10c9e449ecb005c8ec98e56d4aaaeffc567f050b54c9e1aabff69ff529b8e002b14e703dec7d1998f70abf48e7225ec52455a61f1e0003cb95ec8c7efa4c6f893fc74613934e9fd65f1297435db8008b22491e6f9acb952cbc0c11a04127896deb9a4775580b5683004794415f36a3d2062932aedea50ea2af616fbe35c84343c3ee4e74b1bb8d0707ed316cafddc0ca174888645ab628a0d2d1a23728fab3ad9a14d6882589afb25f482962ba69ae208795c50fe1df09814b2c760286697ce12d9129ab027a969940b0789e481029690ce26e91ace765cf9a76f274de19341ca0f969c0391af10f67729c0fd11da2c7f76c21af49a7389f3a66c8b16022417463354b96fb3a73c6f4f8624c68a23e54c4ef6808f2093aafce26b213de249f60ab0c35a06a69a6c1f39a15efe1e8ba4cfbf99c73775a4235e7e742e889d6dd10295da1c978c58e3604856ec0c87de6cc1aada87a40b35988aa814b486ce061fda0ca67aa41ed9c6c30d32a83ec7db91c2d78a76469964bf45ad04bf0b05c5e67495c1454bb458956b63338c8faedb193352e30b848cf84d9552fdabb0c923a82ba1d9ab8d118ad08361b489525d5d4365b267977af1a618097f4591ecafdbb40140910c248364b68026f7bcd585e278273b30b8744559303894b5fbdd3ca528e801edec6d889cc0185609e4b39c046e91a3263b7da68f9a9692c1d2e651df38bd07e1e67ebc921109f50d830a15c454d11d39bf93aab092d6153ab937882db9b3b9a2bbf701784d6b0f0ff6a317678d70561a9b7a47b3549d28bc63111585d0c715419df9a3ecdc7ab1fc9e67af3ae9331061f7bce785eefc6ff73df904c09a1be24d674a77ce16a70d0501a60b861f4325b9ec064746ae393c5b89ec70c9052ef5618594d039feabec9686c7d5365727bf5d8ba5abb54d626d04013d7ec165a90d256add1649e242fbf3a2b8e5d9860cfebcb441b43d4230e8359051b306636a391a562d1af86b58a39cf55cc4725c5fbdb0ab9535e97c2b9f246bf5d86373edb9aadba6cd0c7f0fc5b92a757bfb46d4d60f6186e10fae5e1eb301d4278472cbb7defd113e355b419dc3f0bd1c2e2a142144d5cefd0a7ba2935645947b3588dfc196ab905e2ecf88d41cbd6ea5ebededb68fc4bfb2ce70414982f50d25387d4b67d74f6618c02749b3627eb94a33cb8043f331d72a7f4bea52f2d06b16bfeef662ff97be95cc2f67aa4f46749b151b814694000025b0b8f3bec9f22e473522679da36eaf1118ea84bd9db69ad59f9796d1de8ada2e27fa2382d7a24a3f573c7b24aaac8e803b588011857e149c7763c37f157e41a9019675a6750db3e053be2028fa584890b81bb4876ed0d512089e258549e996dc3817e810a38098a4ab54aca85b270c69db24151db63e42d0ede6a5072426407d78e3ceea9cd7dffde811150dfa0ab2d9bb488ada4bee0e6cc47d5b87f9790d80b365c5366f9bc44bf7e058cda5ee280d701fa943189eb05526aacbc81c03f15c27599ff22364b9d90e6203dc4127f4090c1d1b0f4ce978dcecab47a89411876eed18d6b2f1ffdb380b86e90c59a1ec204c5ebba6903b2dee466d73cf5bc13acfb84ca99394730f249ab937bc33f0fa4f5ad847947f499652c6615f42f3df6aff68fde955989d9aee3f0e06902a804346e50e225d6b9be42b21a04a1617e8c7d969797cd306556289fedb81fe771101050bd3cd19269384e203dd6a2c794394683609063af8dfc4dac3072236a88725a6aa542c8e20df9c8edbdee5e0c76f51f6c97747c06bfc855ee20ccd3d3cb75efd503ee604882bb34fff437548f080bc41de0ec55aca7252a5989d465d88169f3f196b14f9ae0652d426c145107ed2c728bff54833b5e6f199d8ffa5ce3067ff475be4a972bd56d68e111e43e1dd8ccbfddae57e8f96e67f58d47cf0460787dd58eb79744fee8067703b83c97e472a56087e16288bf1df12b282cf2b9ee716c183a151ac9758a2b80d631e0779cb0b6a0d2ad64fc5728be760da546c99659c2ab1ff9baf58448fa5b82418b54047efbfd1ee68b8b1ae31bec49accd287f228a6432c4d270ac9ee1f9ca195baf3401a5d72bccaca65f0c1c54a7ea7f4ea93cac029c6b999dd478873e52350f723d098d8a7debbe08b1e0b1433c6ca3dd673888f8780276cd861db368b595a8dc7863c8ecf89108f8b740ee646a0baf4adac2b48c7634d74a6b0c3985c4e0e3d60415b5b1d0bccb3443e75a03c848d3f3ccea28c849e3c253d8721f66ad5822a02210b81093c25710a5030e41807df346efebde36f020c0dd196468def2a7d550a01f3e7d96fca3303506e06aeb915ac2ccf450353fa3b95e8824b81597d1f710997b1fbf2d23ab11f181edc45c2a13f19d8ae3964f2fc0bb22880604c39102e58ca07df3b489ffa20a22c94cb834a1d56ef22d43a3bc1d4160ff01c1721f79521254ff2b82e13c9c1be9b54c3a418e730ff82d1cfc4b4f621e3cc1a8c539a3a6c147ecf68b2c12e8585332e05ef74071830a5c000e9817041fedc8453f43d8de7c12ffd13215d9931eca9b75f6698f4a86371e63c917a145f28a23bf34c797619117eab024d8ed9503491654d69eda1e43b68b78d6929c5928bc31956176c247c6b340f8ed1ff61aa26b39ae2fa0ad5551abb8e604fd9fcbac588722663c853442ddab3913ea427fe03244cfdd600da5471b1f352c3fe5d94b940fd8edf879017d6708ec240d27abb81fcbb8c68e66a2d07f1eee903ce5b36fba28a4d78e6836ec6c0d1de3b69a34e6d3692ce58b50b3af2ec5bec54d2aa8596c8381c70df68355a7327856653af477f790e75830bf239bf980b6b9b97949cf0028f24a0f1097f2846202b2c1a4cdad917f4dd9141d427d543127db3d2e541e57ee31d1dcf9edd24be2e826e67318ec368ac14e397d43fa738bcda2013efcb165b400c7b5e276101d5fde3e1bef66cb493e8304fa8fb25e8dec7f2e37bcfc971234b00aececc8907f49ce4a512e4ec5b6974657c189ab13aa02adfe7fcd596c46822e2f0a4d51022c2786139a5852d3c0db2e664f5178429d899bd840cc288a39e6aa4853b9dabe07f467f061dbbe660069d99ffcd79c8a09883937b38d6415693b0a1bd4a564b3c42fbc62330b20c3d54f271859b53894758c9318380e43a1b08d92426f168454a36fda2dc2ac4f09923a0949f8815cf88b5ee03633af311bd2f153038850070ba32ea058b39a837ce25196fc762882dc8ed086b6ad203675ce9629f3cb47044b53366cde99f70c390fdc9d66279f2c9d7534224bee3687e52b2c5ab59a87aaf6f5427b261d59e7de78bf16699f72d4c271bde2e06ca038b0a7378792f0e3d4f41630d0297af110160021dbf69100022916ff5af708d1d79135f33c33bf1410df61c294aa3c7c99a0818e581a5470f15fc0ea670a1472d3c835f8f15b6abd605926b53105c5f42c7d57b3746ea13d5b65da7b2eb26fe9a36e633ae3c2e8a96b5f116f916c57b3a22ff1b13b5332740ce9fe598ef56c9fd23d50ea489f838909d2255b8f1dd0ac1b602027a188a7a8f38829574a5a3f98b5d92889c311cf6f908fb63b302621e1ee6a5d37eddcf953c552b1e27119dfe6364468523f8cfc3dbab43563b902ca24f6d5914254b9599622cdb1d90d266c44b91b3d65f4578842998166ee47d5b8ccfa734042acec82f6222ebe90d026d8ba18f482c960efad43b64f19f8988c9257459fe5185fae18777b70d3a1b95566fc309fdfdda9617f7f498243ddbe078fffb2c9090b1128501df49bb5dd9881d69ce21e64147d9a25a6ae45c0f8a80406542de9820eff65956e072a32d9b3e6b840a7c570bfdf747496160e2d0b8c8b8e8aa9f0cc016c7c2243bbc3cf3ab5301be8b8d50c951446010c1fb5398d4bc12cc891c78cabc8a94f30a575c4905bbe2f34e37edda6cff5752a932bf5b034b679e6755376b9391ea12af5def28fb8c9d1daa3862ac1cc785fe48a294d5bb1860d4ef173595ae111fb0efd9203e123e1f7bfbe3ebb71c99c6462359f57afdd0a38a2f0bab885f0db3add6a1dcd579a914e21a2731514db22153195f30a83b26f465dff100dad1e16dcbfe88def46d86132caac8b8540e54a6752715e998966b815b1de323ec678b40aed285dba500d6c17bd2a5f8eb8b1d1f021cb6464b6da522d59febd0e00c22d0fde55a4648f60d5dd547802d676d6bb2493fad0e971662447b032fa7bd6a16530a514ca55628deebe57e587de6e9ff7caf78367f212f54a845ce38009c8cf18857938c72037995133701dfaeff6914c8a40e3f12264be3a6fd38db815700cfeaa76d0c04967157f146a1985736799351117ebcd8f0801585be9cec2c536c9f538df8ea06709227d64bd732e755f01d6e3c54292af6c9845075aae5eed90d6e694dc0bcc01648e3f9e1e78eee5e8c6b85a1782f75754dfd2542839f0ad6ebcaa13afd9371fde21f636c1e86a458351fb8deb1e8c5d7c6ba2f1ad6d8b0c03e662aceca5303403d4a383b70d92823876c8986983cf9c8f905b3194529e97bef16055109d475279818703bbb604eb5c9507d23e9c405967bd73b897509acdc2af87a9bbaf0119ce65eed7cf160cd97b2f36d2a594916d1c66ce1bc922433e3ec9122390f4b0ecfa1832f9a4003592485fb6279fbba9bc9c04d2ba3ceaee193fa538f709c222054d917803f73709a6363a243051220b27b9e88a451287cd58274de9eff9320666f5f38dd5cf7307fb6b4c0a48ed6dfb334406607fdf1416bc8d079121203596f0cf05ce35f869569989b468c314855a2880b02b5f39e6585b1cf9125479f8e73dc452c4438eafe5ed7f4f3c1d68ddcc11b856c36b4c2b06ad422498a874598e44b39a6a802f293b80d02eb00412673c2aa70cd157aef51ffe70ec13cfac92e4c9307f63dd23d2d7b09491a385fc1e0d8f8ee1ca10156bd885a2d700b5a41232a9c3cddc87fe238fe24e07bc5eabc3049ea29dc62c7a3f50abce50ecd680a32cb20df2849b24a181cd442b361bf558c131e2a5dca6f8b5bfe288d74eabba27f0b5b4b851b1307efbee1c587a04cdab5359d17793b6c02281cf9c46075e247f74ef571becb70264f6bd0d8e5a79e4491306c2fb56fcc9038aa4d2c3e0b27408dc6e5aaa505b82885975aa749095959ac09ae83ad5c27d5dda35a858d47745e50791530d392b6a3ec511f6c57b4eb6dd007f35181f22f4027ef2f84dd1066076b30f749615d0035a8fcc05c8d63b77890dcae78d944220a4131d88b750bf30d9be19538cbbe859a467759648a78ac45c4fd553937769b168baa605b61c87e50f1a0f09e02ce3a5729a593cf03aa7683f40e396c320a886169961c7b3ece0ada4d08f3131f2d854aeb5f0065467deff59da0b3cc888b44f55cd1a5262230c3d12fba5d07f2ad7fdb0b624b11c86d5f0f1d52fce334878da206dffe702c869b1ba6741fa3a884e565f9c096ce639f19f7c2c94289c033079867b4a25ab2f8e94e60048781ac17861583482554c0a6abd46bad5faa25444c393617f872b153eef9831b71d79b5f1311d000f1b42a776310a090ee7fd102c0765381110b0018bcbaf1d2be1bc9d3c4becd43adfe76e01e455ad322ec7d20056e036fcf8e6ef75cbc3fd4fa137c37f47ba5fdd3c0e3ea57dd94dcb007d72a944ec18d128ce0cd9e1f8dcf1aa0afe52d7a1c290092ccda96de365b4da741de81108ca00bce89d2539be50d95ded00e421411440ccf561f11cdb01b2aaac0c47bb636e7121ac3db382fa15f2668d0e0dfb3b437bb01116e2add634b1a9a3f85eafaf04614fe348a8fa01c0a9614dd6de006c36a62deba4873b05b1492cfeecae968f60c89e50484f6d11342b250540666f9f42cd3f9319c2a26ac22a3e592b3507b607d652bb5803a0ff91b4983384c29b001813c9e90e3fbff566e99a6e132520cae108e1803bd8b35a01d7220a93b4f304afbffed9645a6543aa908d67fee3b1b08bc24610961377d688a64a3b88996e4b987b80269afbc7a293d9a7d28e217b09e2f7244e089e442ae02d07b1e12fd8110d055c85a1718a6534e3641d6c45074d3fa451de79c38ae18224533e6bc698a1404c4d8484927375ec6293ab77196c9b9e75b69b40b800a2b6e3087324e3e7429aca21347d1f600d48da56453bafa80bf5983afd09ecb17c71aadadd069adb5e8b53ea8f9199cf4a5a36882f659ad3b9d73a4bacd9bd2cc1de3d99960e6fdef354c7cc2f261b077ef3e44638d82e9a43a71ded3c813f9058f27f9b2c4b070024889b6490e14e364f7e6bba91f760300eabc3e315cb83c687fe042f8f35ca3fe5977ae37af449fb9cee4c522fc8136780de0c8973beb7bb38341b06315ffdc6f669da2a3bfa9e0901bb6ff4baaee331291996767bb378a19d973ceab3d8a42d47b69a08bff3f318f85a1acf5f466f91d77773d10bfcd1c478d70dd740f14beadffc059c546b1eca65f6d8dcf290e37a7e603f49dc970c7d6da4d4ec83a529766f8b37fb1bc8827f27074b233a2bd7e063fbd0acc475d0c46dc41278268332cc3b56b40b4c1ef9b477cdacc98c74b65c987818edf2a2de6ba8b9ac287406c4382e734c64a1aa1c2c4c41eb528ec1f849279c80d404974da34e3e23a5affca5da64d45a4eae9bacee9f3b6513b8313fcd0ad1be079b4db1e60e8cd0a307ea72d4c38507c28ecb891debb9f95be88ca4030808289257b49122b4f09bcb4b7af09020c1b92f4f5a35be0e75182633390101e60e654cd1fcd89d87583ba6d29efb0557acc9237d767d07b6c8bd6b33b93f92189c2c1005ff4ee35a4cb68e49833545e40ceddcdac550113454bad37cf900792f27643b5450f3031e5c167d0171f9e0154760c11c5159747c838f31cb3f99d1a20c363138dbab613f4d265527a8367428feb7c571379cc1c79cebb96a0655da83e521ba4f43f1e191aa9320bd90578583972567d186828a1be22d14636f8b357bfbbb546a55d337236c69540019945ea1b96b9652c48b96a0819c74038b88d8acfd918fc3b9f63110e1f5bac5645eabdd4cf910bfc8589f4faa10a89108d2f07ed5e3ff98c399d9e1176ca8d2e67af706a51c9e692f7e784c1d3da600d2d68ed878d9befc3b5a6e12b9eb1d156d2898c17afabfbfbe56a5d50517206533629d320dfefa69a3cc9017f2f67f2d341fa1d3727eedb13d53ea10026e79827403eeb64ce668559a1e4e5d5ec012f3626d89e2c09cd66d3f356476a42c507fb59f9b67d024fe1a6ab64ebf8d378546413b343c9238186fbdd44fa4c857855185d41c1e9f1e45d70081059edf9fc5cf3e3265888263702b937eee96311a430341e3861528817a3716a2734cbda4fc474976d8cf02461591587109a9380730d8a480c00910c383f0cbaf49e06cb4cebc443bfddffa876ad759e5e1e06b79de57d9b1af8ac16afa59fc088d3ad288d33efcfb3f17cbf8e17fa028f53b05b738d9642c0c6ad642826947d7be0f417fbde5ef2cfb27681e165c95ddd5224ffd66cd99a209abe54c41eb200b189e4fe8f41b7add05998ca81f8bcb033e5868586fc183516d914b7ea4adbdd4e78e959da212e5558a450db5c3ca78bf3ebae762ccf89c56122e8910a586aa800252ab38ddcb90d8f44aba6d2fe4dee9fd68b360a3986957efafc209c89b959ad7f6d5a561d6eef72844958ef65953862977d7e2b281f3088fd0fe75ae773af0d2c435243adce9f5ec7a1532f8198224694fa7a88aa37e8bc3089243db8d9a47d7cc85cd2501ece6969ad0afe6998df6edc104f8ed64f0230744f0fb4197d0b52f703773cf529187b61f35494ba8fa58c922ddbb0b36371da73859ecb9ff89dd362f77f48a21c2d59888ed6d5c9d710ff31425f82ff84a4ac7182c664cd8a29a92d80900c572b18dd98e0505a90369cb2abf50784c8d6432405836878e27d009c10a069bc3e8d2b2d6b374ad08b7a4a7ae966cf3d8efa547e1384965b7c810384b2709b289bb1809ebe3cb5eec6325ae26d879112bb7baf1db355028d3bd7a66a31b933b138f1946d296d2df652e0f2e1ff6c520791a501c468b48aa2892b56b0149ee7dfbc34162d8d5331e7b3f38445c5c06a63e57de0250cc9fecd146d2f1503232198afeed3dc3238e0eb2ab1fc01b2cf0736e0b2748a7c9342e8f33ce102d6d9fd4a8396cabdc0d954e8f554e04b8b201e232f75f546d6e627762bea616d659f20c7be1205d12286f1d3888e05b63039250bdc91995a21993d363dfd2a364bfa2d285a1a4911b7438ddfa6407e00b96c6d3292068dba6e54ba6ce880a705061e7f8d5652dfd92c2e13cd95bdf85a925ef33ec93fb1e25edcef3d112bb6db46a08ebb82e97c281f53f9be3d5902f259706d0a989fb90b74be327c53b4dbdceeab00d7c3ec18a88c90d9bab8fbf93aa7677dcf6a7c38713e1c7adb2f33cb42354e3b799c57bda0240f1e4ab3006f43b01c90b2bbf78f1d88a69374824bff0e795424569304769c4dc1d0bea5ccdc4ef5cf3e5db9ed6205484b74f616f15b10a2eab17b08c971ec3c4b1ce23bfe3bacd7499820f2207311bf829d04a9d6b6148c3e38c11bec212eb857fabaa2af5b0d1d5ba3c2a7a79fd1ed392d2b31ae44e7599cf575e12aaedee8512b4117991cbbcb63dbf6612f50d8879e15ab883e846c2b645269b6206b6e805413bb6b44527fe1a4c2e1a92dd80bf608d1faa4e6e91e0cc51984d7c2f391cbe73b2839a614d26bbeee477cc1f14632f3059a4af6c93faa3207c034b3ba056d45ccf0642079cc25b1f863bb46a46a8e684447094be02a2a579b76945c6538df89e20f10bb8feca4ba67eb23cb7fcc016ac560f0e6fe973ad10203c115f426ddc3fc244eb2acc819fc8157d113b0c68924bae555a6dc7bd3204d0bb9340d1bf39aa8a09d919f8b0d838928d69c57936040c1920203129cb6f9dbf8cc790e5191aaf1985ccb489c0bae0aedf526e15a9b8c9f6526e44b60d90ba2ac3267f9a846866307f8e94c8030a4c260c37431b44ae9680b5dc2dd940616c1a34a1144de4404ae06237a51a81cf78c4b3d1917deaad90e16812cd48093f237b7d90a2774253baea07de5e82b386d41333d8e128d9efa7931dc278a32dede942648c4ec823eedc7ae3de7e9fdec8eb246d1b26c9e02d6488e020c93d12961785addcfbb913796ef365abdb3ac9305632c143162ef1056bdac928643b88bb493788a3619c90802666fd7aaa994a64bb39dc65a49c771544f278460927adcf10d124010e07b886d8f6108842c9d91fca28a52ec97e449ca5bb7bccbc0042111b3aa974924ea8035aa3172985666bb0e54d17f072c0f9d6841f8bcf5b87714aea2bfb434133648b45324c7b6d010f562b4cb1e57fac0ac57bc6a6997b109a5468d2c342cc6e959c0a70bbb7bccdf827e0eed62e6de5a4219b4eee040e941b0174f5ce7a323eca5207ad3018f0d72100e5b7d6503c8168b1d2cee6f59de2e0efdbd59d90097d3f787f6033003ee460a6026d3456b5ea403c789b7718f048313731bda90f00efb31ab905eb1b45f1c6239d9e91fe70f7af8dcfb5631af7940452d8d7ceaf937ff7579c2d91874f67d216800a0cf875ebf76855194b79bb252a315b05f8ad7748eef18f38648002e404a87753a7d77f5f18efb2b9822a97edf712e77ad13a83094e15d3061b69764c8704621ef0e8a66d573d9d96e801e363cbcca5bad428e309af1d4c7595bc6a7d71a7b2773c9d4913cf1f125b78e9f8604e306e1d7f42159282d08c12ae465fdc33d416349b5fa09a023b5b3aedb8de6631947f3d5e4339cf73604d15d92f2452fdd04a98853a375af2040c4248f98006ba7de9b62c3c8db7b15f5464da9e4dd68bc5b4d1c3e9e4e76f5aa83727525e575233b1bf9156bfdf2f6ea2ba1530b3de848d2319b5fc1138c1900ae063b8c1d7f06be887fe987cc9d32e61fa4fde29f31beaf90ede436d3f2225a63c6dae0c0da93075885b579b945267edba95cec287a35030ed3b9744609c9e878e160af81655c20da082ca1746617aa2912e1c09c5ce91e9e970610a14f7a98fd51feb3487d523dc839d5ef6149a374ef88b458a95252c38f16d70c20573d29354d197dd812750bcdf7121fafeae6912845274fda5f38d9415b60e9407b692505953064aaa43f7735d693ddeec6013314d641e82734cdff6674ef63964898c5fae9ffb0b16521867f92b7aba2dcf9f8d48743043c003cdf560eac06cafba7a780b12d9cc8d25eb90a2ce03048cfd8cc00e7cae1ce4f8e11cef4511a3728ed8e8db3e33e2d4159f382d76ef31650d2eef2be15c383df7b00a553a5c9e34fe09416ea95d06c7af03b8d9e835139b06cb120fa8c9f1c9742e0b2260baf6db0394ef94869a989e02e1f9610f8e110f40df3f01d4c1ac21f12fc31b1e5080744075ba5edd25c916fae2c2a2282c3a3889894734631c58c3f8df7f69029c0ebab3714be7ca4183a3e1d708318bc7bec64d340364bce527840f13cb331b2cf9ffe74774ebec5e2d66a7cd18b248788caf418f4c57ab9dfdd22084f3dce61b10403f635e990850c1863a60d3436dc525a9fbefb116443fc770f2575d8d8403893fde3c768849b2b840023621c57cdcbb1a32a83fc66dc5cdf566a50a26cd1efabfe75a6838729d486967ec597fa375e62756a3f724087df35427062761ec7a1e3e6b01410f70730c43b6b30a26a39aa2782a96c74306f384d8dc9c636a99c83a7578d71dd4a3e10b64409cdaa97279e1bab55dba06c9b0d0503ad39d5e54327233e3efed8d57d58ae575acb7e42dfdd908bbb371e100ed9031cefbd56a4fe07555de2db8045dc39620b7b2fb285896c93d5a94efd7b48986c740ec71f418b6e396904d1d8f0f7e8cea0c92457836f576a0bd62e5a8ed228e80dc1c63fa1eed8db091f41208d28323398f4f8d4f37ce292f5b2333250088af7badadfacd7628ce75e48fa32ef47d1ba22cb75cd1c3a3fe6b5dcbfd64687d9794f3526449cf8d7da6cdaaaf4599dd0094a70204e5a3e1480ca1879b5eee6d17c48fe4b4716c96a72015f857ec9399c18d7ec21aec758c1493a8ccf6f98b21e6e15f518ec7335d7058d24bc9c5d5697a90816a2423c6c0ba41169f959423d7b32d81bdf4cf7d59be3d1d1f779ef2becaeb21af1ce4ebcc720933322c5b3e0a46a821e7b7a7a4ccf2b5683e469820f6c99e2337990b4c3610063d1f12e06ab84cd20323a5c6b99cb0377ed9eddffd026c799dfbb8e38fd83b51ba797ecc1fc0fc1541cc46fa4ec5a0a21b58b27cf664bbfb171c53ec9f5f8afb96a64fc27d0dc3204016d73bd98c92e755bfc1d936ed0e6ffb4dc9f3a1f402d0e40cca4c6e1b14186f5026a0ec707653aebc6febe74aeefe1960abeaea7d5609620d632c6d58d3665672de3831e639d2f0f24f51759692a523b5ff54168b540dff8678db2830dcdabe60de690c6790b7cd0b9c875db0846afce1630815ddd7fb718ecdf260ccbbe91f05a4a41cfc62c6bf4ccd201b72941c30999029fbff224c07a3be6ee6be7945e3f3047d44af2156dc1d390c0d9939adc177e1a3abe5be6a0ea333ee7464ca55ad1bde05cf7aa636e45e001bdf6add3eb40b913ef89e2a2d78068533795bf26ac0d67c6c54b6cb2fe356e2272ddebc4b35ae0ab695854fa32855a664108ef5cec86c7de0105d3f69fd6262d46d9d5ac275f3d7c9c9760aa800b723ae16511c08831dcff7e788f256f89123657d2d4ebe6cf6a1ccba80bdd5935a8ea85dd0554166e368ecae77fe604ead55dc0de75e52ba76566bcd19d089b55679badf33f61dc9a80d73dafe2d1b8fe891b8233026594f32ee800b4986d56d514806dd98f8fdebf4f5301fc23c82426fa545963138443ae5b5c1b73e93b6eb077cacbcc645acaebb2bd0ebba8cc2cfafd29437cd668bbb8c590a200b65d34b7ea74a4117049085b96bf1b6f029333f100a50953a8418a1c589909b31f90c726c00df40cd60065f0e5edf430e1aea63cfa3b622dd25d583a9d6128c625ca9dea2944700ab39e5ca9ffbc8dbd12b234140fde7e486b618f53e40020cb1df4850b015d778739f99687bd1cf882e1036d9125a2372018e8817ec6b703c91a43cdca9f1e5ccd87c29b411ea87202ca41e41e5b7bc62673b95ca58272a4461a158aa2ffa90e870dad554fee7a422a2959f8e98394b265849ba6421498728315f2c32a1340eb0cf2211412e218c6253f6ea26529d39bde07aca70108b0d48117a422a7bf63cd18d544a2d43a958aaac189f33c317625ad5f17da64203d7d6af8efe467e4b60c508d441806a147841800133d226764641f91b205e9e67180c5e2340457161d99f03d293ae4d40417bf37292c0124a256e1b8cfa6dda6109729e6e56dd5135640bdbe6307bdc29593ad4dc833031e56e5d7cde061926894ee32bf4b17f272ed2fd9d07a7386e64cbaeccfd5a7c8d8c185d04b124878768de247e0667bc6381dc119e32bca38bda9c2a6dd3781ee8bbdfc6459c9d27b889387db07768d3383d69fad24951357e4d735d96f872de7d70a45f3a3d67adc2b72d2ae6911ae7a4879afd956430450e891d9e467f5c43212c09a40a93e8e76d7ea7bb8b3bc6e0ea9388ed01425da1696b1e99d0017f23574750f48af9a692847f10f0f3e0220b6b9f23c3f5a044175cdad978ddd8f8266f40c08800dc842847d7a458f0f8bd3e95321766b5430e1aeac69932e9563ced95cd2cf6673252e8f8c974733e59d5d394a19e953c91cbd88db2c93a8fed1427295a9b82c2a9f687317e2b393944ee3848a7cd02cfd605ce2cbe8d24f8866418a249905b1daba23cefa63ab16163d569954ffacc3b0a08fb39f2cd7ed7f4af9cb01a7b203b3b27111211954817bbdc27db7431093af6ae4113126c43c40e1e1bd7449ce222f87e9daf3eb65110d24bbeb175f17bec3aa6b94e3080b5312b1a6a0ca1dede612c6b9ccc7105f2a8ece65a9","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
