<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dae27024e9ddbcc580f0fe162f5d89f8e2a6c199fd714efcbc2949612376218b577f793de37d0f490927feb31441d9a51bfe364e723dd385d094ccc3181363088b226a854568b9d73b6749e94fce11dbf3ec63ffde9567ede62fa0af1662de95bb5ddf97fd1bc1af1a0c6324774c44ebd06155dcacb22d1268de4951c2ced503e73eaf36e0850b2dd6f2292f6a5d1399db7d143bd0ec20c6f298ce8f28294ad5b8f1e3ab6218538c0b9260ac877eab901a0404a7dc62759e2435e7ec77caa45947ac402461ecd7190181aaabda2cfdccebc91d89449740c99106d39205664b2a51e93f64b744d47534514f7c797ce08c7f9a7dca9d7a6c7cd829e5dfdf9663409f44ea06e8757f6a584837b56ad733c52ed6ec85e2839e32a9a4494a5d851bda511b13efb5cd8bb1cce20b2f9ed68a5d3ced876ce1d2c18201ab5f8f17ed2d85e6d3641303d6c93c1e61048b12ae9a65f204999d072b0c427510088a64842a8196506ed7dd9252b6863cad0736f8ff92b2572cf16023af5e410989d5a85c14a1d1e7be92deb5b6ca680e06d2582ddb5fa9b5a2c016a6aca40a1df383932b2a3f728a5731267f7d2ac2f085bc3bdc6b8d4c7e31967a874b4f616c40b3c02f76652359aa83f340fb31b6d6d313234e61483f934e8c510a545f666fc23009fdd347f7587a26a6c10433e196046d05f174e7d504a763fcfb7d0c6bc83eb523fd59bb3b86368d3e38694c38a6ad269f7905f4498cbb9fba8a1f6259eeaca194696bd8393075ddabbbbae209ada2a2e9af2b85a44cd82d948dac9acbec6550f44b70f068c73e754c26408b5767efc639a490a3ee8b6b5b0248f2ee49cdc9985b02ffe2758daee612eb0e07aa1afd08457a0709560a91e13b38d9be94151dd14b7416114f207940180cff65e58077ab44eb8d984a84c5c468226809bb1d543338de03cff086ddbeab8db28835b0daae6ca0e8b81b649e484eb9292666fd9376c3e75d3a7860866aa4843c31ed5a5f04bdab82fbc6efc4e49c9e3edfcc4182de5eb994109a0d175267ca161b3afb1297b04ba77ad155256e65c69b68711c2dc6958eb61cb6840e63a86bd52b019ff9721bd85d4184e354ec82fe1a973b496901e558cb0c3f50d8350ba36d7938abd55e74923672e2220fa9473073da14778fb8db91adfabc753b2c156fb00380521df231bdbd1b8e7c5fab48e2fc7e0269d71232bb4606fa0e90d0a01740b44d77ca617fd3e08280250694f2898399ba062f39c22271192333cf2d48bb53fd8189aeb41f168ad31e368c1f180356f1073b8d5a60e0069fbd721c44fe620db313cc5ef3ca84e363ab7c5a625d8dcbb03abf214b642c329ce02742eecab3506a887f88276423fb08fbc0af3ed08701d1c39899c4cd767930d7e4678e3a70ce57d0ac78579620c1890a9aa9b7a3e2b8da9e7e17033536fa2c4dd184bd447bbf153ca0726c86161a869c6c6d1a87331ddc9e91b981add81e1e9070d9d901954a0d08d970b1601aa37c6100ed8910930cefc067def8f3f99836b369208e55ab1ae700f8ecad9c542bdbb0336df33821ba5a9d0f636e4726509452d8724818f1037c30246247fe8729cfa95f4efbcbfd17f936b11dfc6a9a49ec326783c66c2ef2405730170604ba62c771dd7311bc72444293b9abfde9cfbd02e22b12e2a420e89cd05af052066393d213a59eeb9f4d8cf10225399a6be5f959ca00c1241e5940814a138b8c54e6b6a391a5572ec162a169563a37f123c863966dd94cf0ca626b2ad2ce87c5e230c88a21a4ab4d966999a2a68ea35a6ca36c31d49f1ad1803e5c137edf27735bd81b0d8738f274fd456c0b2f4c5c8e320b1189870f95babcecb847f950a23ba355e7bdec602ed967f097402307f57b84fe51ee4226979f6105991636ecce8863acaf92d06bd54423e3d2332aaf02e2066a7f325ef12c1ab528e49ec3e1d6c5d6518e9d266a362c130b2780e526110b2d31db81f1cb7ab8f8a755c8f7644f4ec02e32492290e976075f13d244729747a4fb65a49c55758efb32fc034e8fd15f93618738d0ee35b78acec89250f8ef4f50f7504a0b89b68597848c06ea32709ee957addbe22bd79bc95c1824852001a7c239016b276421dd49771ea714913ec9d0a129aaea1211e344f860e726be7fa03e17225385c306c65062d4e24c5e604f23c32414c6954550f6a8f8f24b422059fc523392183d044b5708fd3c731ac8559b86596fc3ab95e5602a3000b9c4195f53013d9a4f7ec739ccf83c1583a3c8a3ba6576252de3e95db93bfa52aa0fbd7aba9cb79866cd5f0167ece6ce7fb3320b3b641d42087d4ea63d9726712353002263361c5484fa9901818ede3f4babc0b36e203cd53aeeb2b23ea58215d20c8fb1167e1625159aae2750edf4436e9980e990d95067e7980a7485d379a3f999dd1893a74e6a8698432b6f411f23bbfc0afe2dfd999e9e3d42df9254f8d10f800934f0b876b9824459b5bb29ead3ad3d8b9baf7877c82b0bb05f7bb768f6078e5bddf5e8c10e9a8b96136f0d40475eda8bf406295b9446f823375423062f422666600ada356453bd233cff08b0e583b7b4c925ad13016905b56834ba424d360e15097ee7272f465f7d498455995e187ce8e8bea234ab322a26920707f9289c28529144a3a9ce74b27e0289d3df48a8d672864478f9ccca831f9a068dd93f99de545aadf0ec43c0a476afea2acbbbfe5d1993c0e618673edf5edc860226e7ede6791effa8a4b5619cc0aca38b82820ffade61ee1c0f070546c06c2c487ddb82198000bd8c916a196305f164e17c052a591a2a7871f285252fda8f7e73c58dc1d124a61ca6017d64bfcd65b346a51af4cd88b9853babb768f89db1dbaef5966abebd25778cdea495e3fb490a828b1aed8103b9a3d66763fe11cc30a4c025fb16c16a976ef482e694137914a0023397f3f8b6a36591be97679e560a87b67ee0b261bf23443e37d3b091911ec132f55cf6b8ad70491e898bb57834acdf1a051ec1e59c5b9615b3944ebd7e421dd59e0673dacdae4a15a8869f20369a44b781cacaea811431338c5af939da1c35cad7fedb1eac20e427d580e45d36e0d9cc5247a35fb630d08454544faa90b4c87a2fa60414b36375335b9effbaed3de9a4fa6d7da8e953ee5855cd265abd110bdbccd3fd199739cb668ed10a2b5823b7dfb3c69e1333e5bb3a75a837a6bcc5783d8a647b2a6ff2c3f4b42a4ae002067af995854262527f700c8764e52e19cec1211555b5c60f08af0e9714031f52db12687deb26dd9aef79d65c22a2654a3167fbf84d1b8a87762901c542b9883c1c2904d294c333a1af291608235ef3943e11b9b8a10328868362d894caa162b1702f307430dd6df175523526d61e0a564b735f92491236e6a51d996b075cf01130d0049862eb964847af81eaa0ebeb4b5e468fcd8bc328ef413617c5bf995df8ac2e4fdf5becd47b7dcc1e91b74a29bd5e79ac76dc3a2cf270b60bd99c96eff8ba7b88653c8b9033750950746d3de3f5c8a2a80893b8cc944de665cb9cd1e380ed9b384d0f3fe830c6ea6cdedc497b0e6dba7e826218c26f05a20260e95e71fd15ffd91a360d896bb141d657c8ab2eb50de04139d7da353f497f567fa50e6df1c1b2faa23ecf3cff222365e402eb4eb38588798e811e8ea8fa4f54b652bb454c4bf2aba0f61cee4828ef75cddfd6ffebc0df3f30ced2b842aea9fdc14a20d3ecffdfa82e9e7c06edcca4a617373104a0b85de09ce5c47fb4ee2ab915543e5ce43398efe7742808159d00bf5cf7da2af94dfc2ae45d88bb8de065c44b479ebd053734706bef59964f017f699a4234a40b394b89d240e5763cc6076c25ebcdba937d0331411159f3ce6c2cf0d55cc89337ad2b025378ca82ec9232ac465fabeb0680f88f9b4383d8f0782c70727e0feda548fbb8f776c3c695a01abdcc79615238d78c6279516879b0978c9778ab163e9dc59015b65683e7e461ab4081a0a7df3ba737097121eeed5c16a1fa34e79fa5d378fa1bca9d0e9e570e7afa8ae7d260125e62c5f43b82afec3e6914bd6c94053bfe3d40ecba201e51507ed4e56e67952abe53fdb14ac9dec175670fc645e135879012942aec7957aedb19e5718d3cf519999850d539cfb2b395e865f1660eec3f8f8b912aaaca8f8d2ed61d00fba712507637aeaf8458912d0058f4209c9b972b5cf15cbc8fa3d7836c87e7218d435be79f3273457867b846d0376ba85255fac68d23b8c07bec2a3c8eac2b87d3c41580e179ae7966d067317d1d42d21fee7e13bc942aceab4de10af4dc3f77856a03b1db187ca42f53053bf40988a5592eb1a6430e8aa1c59abda5d152fde82137fc76947c843763ea7d082fdf104e2868dd6aa0c10a191082220fe3ddaccca72e430e618884a83dec1de6cd2fc413d6655aad3801cc09da18ba60945bc3fa2aa4a23f06f02f914aa4c1eb25b1b2734e84047b13eab930b1c66c99cd2008eccb42545e50ce15e8f4d989163c81d062fae28642ee9589acff602d72a6ba0102af4f52c07160cf6c706520bedbbdbe1cf2c7ab17620dcb49eb5fd2207a0bae3a180158a921ad006820d901fc9bd24e94124edbed54d3a51269fbc5e0763cadcaba8082196e7156675ac7507c91d6d0cf6308b9cce090f9b38dfbf8ad3be10845ec2260bb6a5174c1ffb3c3e33cc683dc7dec4829985e5cf9eb69efe91a4a4c61f51e69ce22b688e8aa36631a3f9485a3db3d3d7143e820ba3af80953f700ee13bc1f5282ced86c27d2c25e0fa4952a46d864fecaf484aad978f3be86b7129daa10583fa81b9ae9b388beeb36038b8227cfd51c563fe9b75ebded7d57b7d09727250f87331f3e00f132c98022eebd097d9edba66c7a6548ad926058054e1f0e15546f5f90b7a925169576ea851f379d9910c33d088ead9b3a08e843c25a20001c3166ec6bb8b9b83a23c8084ac42513ae81f6abd7b897a67c0419bb1965f10eba6b37bf4640efef907d1914b870177bd76adcce744c2aaae8343d86f613d551c56a7d0dee202a9e86b5c536758e5c7cd8c2eb2d2aceccaab1a026610e0dce1aba35d9a76265b72db75fc23547af5f088a68dcd2633a5fee8c29efaeba8f8b67a9a23163187d28ab1d2ca2f4a1ddd55c3b9176933b7659209efbbdf6590fa6f62d5927001ebc4184a7ca9257916187a15051c416d6c1f52495e91c7286cc79716fdcd38ab93b1b887489325035983f15d7c31fff4d1c0764eeae77cb2c64198df262f016c358888dee5343846c0dae9301c72ee9d19774c5f63e69c8d0ed75fbc4587a381009b7f4fff2fec61c1e8d1917d796057c18b7e40de7d9cf9ac7bf8f23cff84280d61b603f9bd4bb331b55ca8a494c483159a8d89b2b840ebff5751a22e4547b9fcbbbb88f5e361fcbbf2a454c88bd8d37c5d157d26ab26f14a46c2c4d7c654a69db289a22a6b19db60d94b81e1cc5944adc606051a8b283a26f8ae2491f5becbb59bb4ca276f5c188799a77fbcfa40e983148229ce6154d481f0c899b6bf3a173e22a6ac03d62dce5360fb5083dab5f4f2437f7b42f1c5f6241282a159d4827172fb7228902e327b388dabcf71f86eecc746a9f385e5f530d21ddf7fff9627c22176cd212e728eb9292e82ac84e8d4ef1fd77c1a046cd46f7b679e223767cb6cfa0e8d19fbe05a01e63d867da51aae06262ad51242f21dcca492b3f06f2a7e2121e691c53752f53a93a3cb258ae2940626bd2769fc788fb0bed32fac775730fee0f8cb211243cf8527b7aef984dd50fdd34aeb45070711facca9da10902ee86e0c1325dd553cb6ad198d88e3bc46151c8bc0c4610668ad0b48c499c3503364b86703a65b1f1fcc92f88c8f9daeac13a7610d1bac62c0b1062a62ab2dbe2629ea501c00b39f805b55044d2dff4e1ed661fd68fa8fdb71a026f6dd5a8197a08bb4007c53980a99774b1bd51d8834630c13ff9979fe660ce3bbbc2f8619ff283a3eed4b6f69d57c856c2c2d22425f0db5ed0d176f5d69cd5c33c6cdc68f974fff8a447cb41498cbdd04a5927feb24d3e2fa33e2947631af47e1277388becd6617b3c462c42e0e7c5b0fd349423e90f60e0bb3626aea88bef9f58ac6474f2d5d49e4510c62baad0b3091f7c6b7334454c93cc29230e0de3e290b70a996be659e10dbb25e68226a78c5675becda20e2605f8b5c0d1a475f6216d00e90f025bd04fd761cb06b6ece2a8e2036463364645e76e1b748ef6e45b02b717ec43f72e5e97aa8e438190715c6e4e0a3953d6061e6646b20124b0d489496198805ac39f931006ddb8f088b1459d12a8e220a2290234631848e00e53c659be6a61cb2f6bce125b4f815214f5b9f6e5eb1fa8e89d9cfad315cf527a6cf6ea07cd142db2e4eb7d3147fa5f6f3d7918e7addc928815828e3d6b5245502a20c6b21f7d1d4e96fa44f5a5ae9a7813e3d51fedc0441a08db4873adb3ef53d60d8cb7a0e21a379331beee9738c9562efb4ad611358cda7512bb2cf32b475d9bf1862125a403daabb31335dfecc294a5dde2cde3b5327f411d66430742ac51b46fe9c284aceaf4bae4a3676631887c3b878a9b40d202aec2284d42cea2454e8e5ebffb264b55c7ea5b15b8c93114c90720bfb93bcdbbd0859bf47c32d5a49c7f1a003e16578c065165584e7ecac9544eb5866238520480c7da8b339b6ee109ed1ad63c9b47c22c20516589145916bd4dbf611d6c58beed50d96b4e1a41b5556e01f19a0cf07bba3b77d089a75c7695351b6a0743f69407fdc375640fcdc86120f53ccd0dcfe4a7074f88cb312dffdfb69d5d58205655807ce8492c03b06e3afe56dd818b0ef1fb14e3c42a5200ec7a0fcec2d3b8940af37e3558262f6ab8b980d784e690e365bca099f7ea4b3d0609d4277a195f9e13810136cbd485bcb28a33d55ab59bc10df7ad983d244be173ce6aed74d2ca9af54cf22374caf7760ffe721657f9e18b6560a0bf3ebd451f37d8402d91279ae9a8754fa2528a0ec5ea10afffe6910f44320824a637b0b0974e861b292d3a67ffd57aff9e2bd83956a85e9be3d6be05ae41a1725ce2f71ed5a67710c90ce2590ed4d8ff421f29fe6895fac02e8f67df1307fb37a4ceff7bb1ca71524749ee1b6aaf2b216edc24aa44b7b5287104205f5c57b0fdbb34c1226fa644d13a8a8b3e77c8d274b31f72880a38e46eb2ea48b9e64219f3a7d813956e9ad446885aa7455d86fefced41f6e06cc599c6f6cb77bf241731609efc37149b42e625a8b0ff7b9a0e6fd649dbf58a0f77fdabf9359129ef1dd1f6f91b40d9caddd5b84439d722c5dd0402830f7f2ac01443d997fb27ddc924759573a1873605917ba1ea76ec0f90f47327266d2910eec794c02c3801de5dc4e576cf478ca3bd30af0d6320b95d1ec297fb2713ea897ffc280c3e60f4a1dc55fe97edb860fd8607c6122d6a7c02b425f94dea4bfdfbcaedabc4c6708e35e20f766c40cd50a2f8ef58cd78924815f3e3fd2359b1923eb8c4cacc3b30c8b5fcfe162c493a01e679ddbaf66365cce7f8708ce7c8bcdce0dc9f95f6632ab6777c89eb238875cdbb120cd8c68942af80e10c1f73b4259705f111ac6b327842722534b0f3859650430cf506beebe574c6c9c776fc9d954d53833f1d75227a731230cb386992a830c81b025499970a3f92060bd5547321c17eb446ddf57c6fc0d7734bfd04d3490ea354230f96cd5bb4ed55005411f455cd6eeb3394144c34035c62c299c46a80d69ecfcaf4f1605ed09fa78c3124cf65f752b0977ed6fe6f1a5f687938131a9d2c40a2c29e1174f71cdfa94cfc3c957f5816f887e91cdaa9a9b415fda174c484049aa7fe7629690a4169667487e7ac30925b8d7e51ac578892bd75bc9f9c6e70ab89994268527d2528ec7036bbeb014d930829f217437604420070012e3ce31155c7cfc25a737e956faf4cab0e650afd93111f9518ffc8795db6df9038e0f31d20323f958bdebbe4cc70ef83194750c3b102b61e422d19d44d6b6edc39aec6a205228ea8152e1e6f16334d6f82a0aeef6dd0703dde5eb8c21edb2bd2f27504a9d39f07b64d2b9607aa108b93609317467e395240187f694a631c4389c3a96dcc804071d1b7f24cc0f9a899167f52c1d0166eff213af6cac41343fe744522f489e055edb7b8fe8899398bb3ddf087136db2d236506d1eee157000797df89dff65fc03f6bd051dfcc6782f8f4ec3a95d9642b1378e8f01624230d21b5e598f52cef809a9dd87df9fb76e8a9f42854ee78e2eb2fcdb65481a4586f8a7047fe781b2c4eb52a71a0254a9c2749007a91b303b37a5bf1b03562105c2fec58973ce4c26d22d4b8cf8334a86138328283484d21779398afc4486a8ac5ae8ce8eb232369bbe21547a08682b569366695d0bff5e1c0f643c7ff2354a6d3cdb683b6ff5e36c7927566cb5b8704fe5abd93c5e9314df76c62186ca8533763b7919f609bf5b5b774e4147d13af4b94b910be03cafb14ec8ef54f2a6ee18c6f2408e3b9952a9a9f01b6a4b565e94f6f90da63b1b4028eccbbb6c6451469fa3850238597281815df019e65fb26f5c91680065b6b1f86fc5673cb775705ec9ce21c624b7a544d2ad5d4c9ac4dbe899c2639a0b8376e713d3e5544222b93cf41661c3b9930bd5c3cdde25f73fa3eecc4b4a9ebe50d69e3958c1e6dbc873e60db036d4cf10e6a48269af5b01289eb22dd7af250e5d568e9e03165fe04afd046106f8c5ecc6c8d27076e0acdec6f917087896285f6b7b9f0436f97c5a03930135b75bcd466e03c443d92deb3a02691129527054970f0217be8be45ff120cc0e47993fd8bbd904367dcaf9081715662badbbd9a91be43e09a98572a2f01deec3337692c9e5e9e65928f11cf81b515826004425614f22191af203679f4ea66f4fcb5d230df99164888213e3f0f9f775b3834ec52d6a2cfd60f9ca7c838ebf565bbbabdfefba476397355c4ed60e932d0f0711ed1fc90abbfbfc4cd8deb10c9c70cf1e18bd8de524ab97f1bc058ae1db8debcf4d107310c6427ac7f4524dbf69f099e6770e86fbe44eb43beead39e18ad25e1cb78a2378eca620de4aee0a134991102f24b9166b2864c3774f88f2fcd09b41f3feba48bad8b8bf35235ca3e439a2a6d26394d21d01dc1c9743b22566070aef1d2688b51dc00b9c9c1b44d0f21bce1c5ee87fbb0c1d4dc27c781af4e4554b662b27efc0200aad2838d1701d8eced1269c1d80731002f9eaca899260c41b0327894089ae8dc8e55bc6d7ba47acf0ed855de8edd5e161b72d85287954c6cce77405b0f01a581dbfac247f2952c48d5f52af8e01502ffa6d6d24e7c513a710108a1484e4240d99e8406156e6e2910f53548d1af4960a7f89caded12f05650f25377586e2e4794f88707c36ca7a94ec7be1edea8d40d78ac5eb48c507804d30e7cceea87ea5ce662e455c79d6dda6a2deacfa90557ad3ee4802062ea07cfacb5c707214b1563627e518c291bfb82e71a04524bb0cf34fab6de80fddabc436b81d2aee9ac3291201ad9a5210db7658dfb721057cfcd75e9075ba8b4da2097a7f9cd51bc4be7585f010b55c3e8b90f292de64db69202506a8f88d3b36dddb75aa3dc7e161202ab91941c16c41e86285d456f0f4ed75966ebe0daab75c43e662bf08b4269388643fa66dc3763bd5fbacb290b014a647e44e10a725d710b08d3a7aca4159fff7bc90afd3460c613b6cb1f0e7f5c8f208bfebb2cac90fd61c539756bbb15739432d787859a417d09943d3fe7e2bfdc462438aa4f4ce97d76aaf0100a12571d7c362496c32cc23831e8719e4c0cd8508d3b15da93a0eb014c86a57d75abdbaea17962015fb55cfb229488bf1223d83d32bf8ab87e0ddca6cc3bae09234bffd676c12329ad6871483cfbf84e561b52256712b2a5ae79829579613bbf2985fc2f46d02eae7a0dc4f82dedf47eeca22bef3a6c1994bcf55596cdcd3958daaaca5a8b3d1f4f732e376750a87f71c75ee6fef3972d1f07aaa49bf037cc52d91d91eb60bc93f120b6ea66d9c77f5bf8a482c03677d5eaaaf04918fbc4163c616a37501c3179c02883cef40b3130fa84ddc0dda6b6703305b37ad66838bf6b324ee27e70cd1eecf768cac99c54164d504e7b4a5f003d4f6cf87eee7c596bd0ca8f88f3bb9b1d392d1e52eb4125f4840d9e91e8def8c7ba2ac1498111dcd61ab580805cfb31afd1f9114a203a9194ac5c438d01e9cc8a9a953cca03b58230b98a9dc601dc78a7d1fce8799c29316d4727cbf5a9093811e6018f3a3f55674aaddeae05484a0cc7f5832fc69ede0e7dd07f4d15bd6000a5ccee5c7e1211d75ccdcb9f7571dac19b4f6d4494eddead812d69510fa17df741ca1d4acdf2798792e8b60d295504e074f2cccb4c794e430b54522cd09e4ad7e26c622b292af091557a538e5251b793d296988fa6778a932bf7260c199b086b3dcc25a90f4cb11a00bf4e0776591f47960ee65b10d464463cd314a637140ec88892ace591673b8f523165d55f6f19f720dea4a53d9bc23a1d90de3b880c5c894e14cb2e7a88eb80908291a3949b4720163c0db9b8317508465f0387bd2f0b2d594a50326e1f77b77adce1aefc9a51268e5cc7d357dc729295753a1c3ce7601c706f074ee347d450e1132644eab7e6cd69f19d299d423146b343e7a88cfe68cb9a9c1b5e7c49d94a7480c63406169b05855b018d5650266a222f0e8d50790713f270d45f167b23a1e15604c6f22bbdf66f74fab4efb78d0c45c2bcb05d5cb8bf764d1afd088aa4067244f6e5c86ab8e8e66096b8628cf400df47330273505a8b05160ba77d3d824945cd6aea9a94d96bf49c2d91e350dc4702d423de605f26a1951317c3efb26e9ba153de76c16cb885f158ce4dc15fa7fe738f602500b82b409e1ab9ad4c4caf3b2cd6e9547422681332ff510d04316bf64536c5cdd7a1f8c04b1e04cf544babd8c602e301aba1b0918e4e934e8de9a1ef5fe6a801634d9a5ded84065494b2c402cb98838e1c91336d0ba9b8a20f5b44a66e0c211080ee87eb1888f8f12fdb986332a760cfa3495633cd4f47115b5812f8ae1ada1ee4acfebb6276f38f6aa36c3facdfc38f04972d89edfa09b6e68baa481aaec9387d29a1a3ff5f758d85a976967afc7cc0d500e95ce24078accdaa8e56deeb3ce81f153440490c8af73f2e20f7c6edb494611a76266e0eddb42651189e785324f6b9caa643f1ec0408ac759c8e9828ead578f733b6e06e4198f1729316ee3e40f9e57c6473ac6d71953b16fce94a7dd49105bb0b86a2f73a40af41baa3a5c532b0f21d49aee3060bf192ab22ac263c63b32361950beb1e7b9ae818d6677e5f6ec0c2c55b34e53b561a37da2535a36f3c166d27ce9ca3f7717cc8860fceec5857f7310d6303957be03481b318d045b8928978cdaa8d4f7eb0c2143231083371516f6dbfe837d47050e2e667b0de082969680b020dfc18acff75a1860a94a8beef7d002f14fb992c349286bab620065a2427d160a5ef1b1b22d516c7f7ace81f8853c5e80dd2b522161fe9ff2ea87bc06e3a1ff1cd4506c360e154029379cc00adedf49b100dada65c868f85a47bdcee8ffb1d410070a8d07375fd64bc403c07053c95ed94160f8309e9cc027ef2a0df8354a63a95bcc66b2d5c6063c3f128bb14d62f668464bbb54e0f0e7f7a02482e473b35b2bff5a677744d2f7360cb97e48815a35932cb779eb2f6a834bd6940d411b72b2384ce59c622cba499ed8ce5f02cc45136a46b6cb21a148beb8add6f48b9fd7defdcd653e5f8ac6e7ab6f2fcb32fb7b47d49fde2b7cefa47a391fd9d9a6de82c37a75f8bfd0bc1941507293a73a0b6136729a933862a125a51997c950dd8513fb36ae3d549583ca697f7e7079ffacae8abfbe1f0d737420162ac4cd2fa06101a2c1bed7271da292cdf1e7e839c515c07c41c69b40ae22b08763438e442b540999b6e0bd1231ec5e9a0bd6a99e45aaa9f5d3bc83b5cea694fe4a31c303d5eb604c4c24ce36297c0bc7b5e707f0935c0daa58a98347ffaf062db689ebbabf2dc2a2e759d05b9a3cf82aece094941bf70ffc39dfe9a420be0ad21381b5eb8a737e54b55796a03e3075e9c15bbcb7d08a863d01e19d9eadb2b1b8b349d455127121d323b22e40b86fca11fb76d9f13463e97edff90e6b1e3bee48782ee4e1cd93d3d9c320d2cbb6927eee842e8f253930d17e2012a9f995532bbeec21edbd5a7833e6bd0f559ffe31c4242412ca232ae422a59e8de77d164d26fc2fa4b223c955d196291baaff6d1780dc5f728a8fefec55044ad83ee5f1d020609b832c94046093546fd7382adf7eedaa6b426c2befd1f9ef6ba5cb6990e73995a00fba49828278be79a6e04a9b944835860b6bd2dc2d2c50b3f61d4ac4e92f0a3877b23e2d5df36120885f9c615cfacd0079f0669874623036d4f26dfc735a8c22c25c18392e2d89a5d015915bc2047a110086045dbbef798a7b26743a8afb6a43c280ec8755195557ed0457aaed22a500b3e30425f962078b24496de6d4513f4a3563306fb74d9c734f8040170754ff52de29380ec5c0bbaa9f5c43c875e680cee532d893c174b45c42a44cd4bb6f29c8c2868dd6b75cec4ea5613ea40105aa4fd2ae22b1876bc22d1e29568096f3f404d90b7aac034863d75259918747ac702149f9fc8a0e9775c3113a7372b9a915ffb73d8b7751e5c65f954c3b7751dd9c67cfc106ed98323f4736c7c619640f111b1b7e5ab21a11f1fe2eee3a0e1544cf0c9ea608d4b4269278017758731d0babc7670bcb7c0bfd3baa1b68b169ea59058e2e85a8fa96a17225b7894aded20ffe1c6c345769a78d3690e9b18073999763c377897c9b9b16a778368c0b07bce4abd7f83f32586b9e08b56cf62a795194b575fd314db2930027f2de86bc9abc988eabaaf325d96c4d3cab8b052b7fe723d6626948684b5190f660757c5dc7c6ebd26d0d3a738c5161e8443d5fbfdd3c8535bac9123b5860100ec66478b3c4aaf414705c81c07454eeb76ff043c51370a50e270530f950ab6a778ef22b16e7ed803c24874ce245c518af0fda727132dd0b73ea4376434b489bcb74300dbab8443f0c0a1ce6edc738f1ab989b325694e91280ef26fedc6e2b7b4b4950453ee8002a95f00a324cbfbdd8350472e98665c4349ea6f555cc7f9a71bf81be5bacc4484c1e15439888aee875802ee0613184fa245206b9e96915b2c0e3df3bcce8ae056064b54c9c83a4c2e5d5094ac87db153a4cd5805ef48e0cdc3bf654b7f923fc35c779c7f6013dc3c9975ed6d03ad9bbdae7b703f5eb030b0ee512812a1b2f7902ff364f108c232a7d6a628ed7cb905afe8bf4fb55e3784f83a69a6313624a963842652f3e3d027d0fe65dc9999c8697168108f0763dc3199eb71fb66adcf934aa9ce6197af18d55d030afe392bf89ff0a09d855949e3175e593b14278ab508ac7a5a31428011bda987784643d899a44ea384a7a81535cd006d90afed1cea2212fb067ef731daa578c9555979d5e2a9cf53950172984b0b30e497ec944347cb7ce2e2e796cc3d67383c154ad22eece5599213ec3c26894ba5dd79039bc04c0ae71dcecc455aa03e59c8950a51d903c88a495b8c2bbc2dc969995acc034f765a1aa2ede160a17fb4c730895261f4ca35d581b6c5e45792c84e00c4449e7496185fd1d79e06917fea1b83118ede29e7ea03d027a4657f79e8682171d106cfcaa441c45090e970cb00b8b944009b33e2395474f06fc4893089ce640bee6590d9a79554b24036706299282535d6ff26ed059f7824490df9a876be38f71093e7d346fdbcb2fb858ff0360b2caf672a0f5b5bd728855876f3b87aafb7b2eca2c5ef7a1ca714981415d3b67335ddbf85956dc8f1349ecf92f81d62e089d3cf1748bc96b7cfb30800dea0849453796432569bff9f616b67f7233bf39abe4fd7c2090bbd7845b62ca081245ed91669c889d555984568467c4d7e2c0788bfd86bb83a37365ed1cc660ab73d93eeeffef22975787b00b286c923e37fb5e470bccfe824849faf4cb5af16f9533f422b3ac328272f2a32ab77d4d179544c3d7d4e07e034771f701913125658be5b54f4b8285602652a4b3b162b0bfbfa4eb462186ccca375a8a8b6dcb3712c8eaeef00755c106ddf6fbc24b1a92842cf210d8917b54c793397b980d262918e834d20f1f27bacc864747ed7a6056db2d59b0889286926adefcb3561809a197a5986e0fcb64561a4fc6c9a3f3c5112c5ce96f0e5565f9bce7f08ff808480b1ab1690717974f74f3227adfcd9cafad8f1eea0566d2bef460babc40480193e9f1cb6b347be9b039ef564846ebf19d2c81d9a0354202335df37f17ee1e51c7d3f13191c2fa11f3a181915e197654a5c2f775ad2e26db8b4930b8a01716a2b3d2fe8f5136918f2f0a87c84fe1e65f20197411051a20fb3ea4a5d03167f8274dd8651098c3e55e5589dc9229a12e1bb451ef71310fa26d976705a64059b4160df603f868d28bdd571fffdfc898880d8ad332212dcc89bb39a6932898a3159881c2a5c88e8bb698a5be5beb4a0e1945fe8c53470e42778e91861e7481d187ce131a89b37bd8b2a33c6af124cafd3bab98bdc4a110c867bec4d43d4785248241b1cd5480a29c97329419c22e9f4e633d2af2e2c23f6a0495c52296965780a49244aafbdf69d1525d520ad79bc8b3eabec8d58479b906c287ede380095323ebd0c14c6fb4f0ca1904e146ce91bfb156436ca77549eb194a93aa344d9be7e0db9728f9a8ed4ddfd82ab07e4c00a0d878083d8f1a94442c9a22ea5d608df58a169e65b0f131716e0356fd1030953249d9a8137d3c8077e1351b02a12024ac1c9c13ee0034cb570b1b9b56a15499c1b600347f277f543df49bbb7fb444b4dce8003bc3f1837b489c3b82a237892bddbe5a7536aa8bc2640fe59989656b153d4f9866ad4247101dd50fae5a06897762862e9ca01ee6fb67af42531e03f80d997a928345af8b02af7d5e0a976a40adcc3ea7dd23906f30a337eb8f9358439126a5748747481b58df710b03d9ba51664ac561849681c393e36124c145d57798cf22276f3e586185f4e753e4827e4691c67639b52b9c8b7c368b3e23c9781b9d28614723bcd3bcba730ff44a5a59b47639ec49ebd40177e2e1570df1733f6ef229fb91718f590e0ebed530fa37140aad472dccbde58d014b7e0f860c4071b69bae111243745c8a122072e8b281a4561bf832d9b5951e1413a7d4afa8c12d00e5ca3b0b8d1b140d89ea024e38f58b2f1602b1c664122ef83bd1829c5d149ab7cd6535deed00056f53a8bde9d6223c526eca3a6a85356dcb8bddf761adb14e91cece37ce0b70547b03f0219a72aab674620adb1fd035f4972abd5b1fac03a89c1caa437da4d663c5c765f2052d0df21f53f2c990bfed562ac8f2ece4e61cd6c22b11b607d8ea3f081160d3eedfc540cc348b391ccf1b7559546fcf71f43628bacaef8eba2df70c424bc22d6a393aae1aa3bf665ea307d9b042fa5d4855cb8bbc0e098605d8d270c2279da2df7a14c97c7691171c82b845ad64ee2dd052f6f3fdd0f0dc1f3ce9a775ec1b6697a71e1f866943d5c44fd3399e371ac1f0e741a8d298394b2383a2d28fa75eab2d59efc16198f677bd774905cf749d741bbe3d264eea0e2655a3bd3bffe74250187b11e972db6abb4c6998f77fdb8e338f68a463a0412ebf522b04d12cf52d21fe59dff760ad49440d037a98e12d2077321b33370d8a2ae513f3b98796f75da465de1838ffb203977384bd8b8fdc1f43199ff499d46e441897a9bb2401300f6ec0b7addbca53337307952c2333dace258648d65694d391a554252b9cfd1d9fe09a3c2eb9473acd5fcdb3ab26d2ad7902c1b8a27aa5b4637cf6ceaf5f30607669dad4d5c2dfbb3aacba90d13aac90519e833524a9c24ed4c933337d2aa53af696c04a0c5ad1383ce066efec7b0979661dfe4667ab068ade3327c41d344cd9514419a506db1eb68f1929fd84fd71654085a24e800def0cea695cd95bfa40ba6c11dfd08c3c87b4f3dbb6f88ac9099c36cb092ff17d44d51397ff9052d27b26ac4e3921109b54a5ff2c4f405890d93b699b2104829167318dfa7bd3a11059ec8fb2976fb7e742579affdf4c1ef942cb339f9f5717f6edd460bb6cb8700c7883cb1d5b8cac497f2bb35f36365ef2c0db931b1ba8f3fe40a7189dd44cc5cf7442cbf1eb6149802b48dce42f19a270c2ae457d44cb5b7af560591afd5db8740797a8d56118e6bf491dcb7d9744221ccd9e8121504274d446ed11ea30a3025df6d6a59ed76a0cd46803f9d49e2d6a4d858b7a89ab0367343d2f00bdd794d58efa737f0d47cc0a8117788ccd00f6231549f3aa7540b5f007ecdf80716801bd7fca7c838f5444fb36eb4fea54f422d285919025cf2db0c6327d828ca13880aa01b5d39f38b20c5900218ba503e3f194db35040fa15d657f9e87882653076fdc6699efb4805f426895b77d607ac893022d68926da5d7ba4418f94b690de83a2c5043e7eec4b675f9353aafad97bf344a8b02e9bb78bd8c2798d008c13ed9eec22a5fca35f6098c35ae4e40d604f3631016cc68360631fa2a8c4183cc1333caedcdac987d1ef8bb6ea6eeffe4b20c5afdce943cf1cd4958a461f3101a9f1d2f0d78b5df49f5f15a9b3237b0d8f80fb6384bfe7e7855b08be4ef44f31603d5edbf261320ec4048b3edc5922013197328a05cedf810dcb314f905588b8a6b89ceecd0276e9449c3f6be3f9d69bfa5e382d191653b712829701f98249ef72dab73027dcde5c7f37e1071738dccd05519ac1caab5239fdbb4554e97e3597c917795add09143bb57ee4f935af407018396c961632b6c7cf6e106d2d0ee88a3b2bccfa20f92242408ce5f60a071a7211da8f9520bee6aa4c50e3f6323ef74142cb971e9df27def1d9873a37a90bd5f7878ac514b77a7f53de14636dbb6a0d403310662726e45dc6400dcb79ffbd6327311babc1cfc016f5eec379c689ba97ea285c948304eaf68530b42a29134e3e3808a935521a98d31753ab0fb9a6148c3b8d1da438db43c770b68532e1a27ab3c58ee6080f54e32d609b77f98b72e35b11a787f1f43c467b010bccbaa0753d5f43ef685c14187bead69859e69ce0a0581d04e3334c06f40e645207ab0bb0c2cf4e2f9f79e23cc60fc3247e6839f0c504bc0c95d70a788431b9c1fa855bffba20d21141e0cefe83236d3247d2723300ff87e1f1b488d17b5973c02cb7270a7168237863e7e9934529d1e2da10c5274e17695200ab1ffada598a358b9c1546e548735df7ed98d966fb4a74b22011fab514b80f65d132f6519b1eb40546bc19c07f0f16f50209ae770ddcd2249400863be28387c3f97036f962b98cb079df4930c3dddcb955c10056bb84cfc13fe5af583a946f4cd496ed79424d65a5f617b103c8eb712b8c0aff185fcee7a984b39bd498ab89e9a457f5610c3d70ebc2aae96d5536fa29ed8ab2fbe6e8f0de93a1a04b1c97237fc8a0a6b679cec79fc20d67c94caf45a09af942276e36896e643e9e08a4e6f3ceb177dfd30793a9be73c0a3113bca083d15d50785f7f89f84d0a3d1b3016386c46f4053f9f82bda70fcee7889e49e9007d4f64b78efc59a10da4eba6f04e362eb0418b538df396ecf62dca5849483937ecf168f1c0403491af6ccb6980aec0a3792c25a05b88fa0535ece2ab1d5a15f83032601a8f4095f659782cbaa353ae94657fda96ad98fa8a0bd5fb71e2c6fd3f60af06c32dbc4a4cb38013fbc99930363ad445a7a5f163661c248b6781933a0409340e1aae85459e5d103266a35ab8acb6a290915c04696d3475eb15308527348307bd7249f867b0cd200332e536369548926ea8cb2732baaa7da9de18ed72465f9350d5ccc440c6097ae1182c61a3a41673570c8e7f0004416667a9802bf6d26b5952f7a31b34bdd455fbf301756e19340eca2a84e0b8871a5316baf2c6ddd5513718cef00d665db2df299f7928d14531d102d02e096ba7148ce7388dc01e0103c4bf54ad4562914a4da105e81920073e0a70055faefe178575c536a109b68739eedcf5067e769e434a8f4b6b0656497668a69f1f2082dff7042b5e347e29c363e8a6f2b00f6d26895a54972c41da8c1940d0853951bf19f3af716c813eaef7a5145300cb9c96e61e28d03fe9a4a7d8cbebf1bab95529d32b227396e431ce1ca224d22026aed3c447e25b5646a1454aae63b214938f8452e8026f7ce82e412101f3d7a3f2d93e8833bb72bbdfca69f5d9b5470ec7e696f84c31993cdfc180fea35b17675d083270f0970129ae758047a3047566e4efb1ca1aa819fb7fb262eb4f3a018c2e50ea18252a260a292d310cbf75b6a6761901b4169c7c8f03443681a9ff6761cec41b52094a89997a48662eba0fd12d346cf934a67a6d10b58ac06bac8851c35f56f8f11a511b073141bde7016b6a5a6eada52d1cab519386093227d09349e0229c8d2f9078b6f3fea4460b08daf0c6c68b22bac3b6c20e6936ab556fcb84fcae469a8688fb07303a3656cd467bbd4f6b933d50c8c3dac4d7406b1bec6980bb461b3f509502dc6ee60ea0a97505d6bc148b82d921d2aa8a0405640735487e70edbbdd5e0448e1b17e3fcc22956282ab4dbf4cd4d678560b5a5b2507b0cf7acd3f70f8805750cef0cb46f7b423a2cbcf9278eba475cc260aac213d62a4d0a6e17543c4705bceebec84b43dc42a24994e13802f5e7df75d3f9b31a8d13dd25ba190e198d9a6996a0b8f7968d2d31dfb1b2a25325064bdd0d9b18aa8d65b9ad6bb94375c27b8f6ecb8b18e8c82fa0ca1a1106ff5d6f3366d0a3771b2203dfa4543f71d97619c816c7be15afc49ecc0d7e7555250da1301378d5f7a4f09d59a4441904f8f96c236634313291643198336858efad07c68570ed80e72db8be3fd2491849efdd633893132f7f03f380dbbffabd501051c0b81ab9e54eedfab2dfd70438ba4b003413131c754d35c3d80c9f78181c9da7d663fc541f1dd5e767e529f28c1f22b762c09b57682bbe7333565372f93e0da50a899fca92e69209ba94b28bbb96e9fe435ed6b99b6f5b5917a1ed0197b85c5b65d0212f00b68fae50b5459bb3a64329da22d34f2839e99cdb94b3f628ce3099aaae8a2a51e3baa2eeadad4494c591ef8411efe5843d573f0462ee670f734f86eedbd3c4015d44e963014a0ee1795e8a371f5097044f8f2e9c58b1b280d3dd4286d7bd863c71c5fa089965d3ad539e045d230b3c05b45381e63f7471d06e94b9030e21dd21e5ef1e48cfca6b3ca485cca1c741b367180a8152067a0974af72811921feb8b6573fc55e9e2942c464c58403b7ebc4a248c429a5c35e8811fffd6f1081423c9402202611c9098161ccd4ddd748c03cda468619a1895266dd5888fcf5edeab6205d92dec6aeb649013f7b2a7c9de1eed230d59fcef2cfacf1ed1045cc6f22b0fdd985772e3970ccf42201bc879c441741a88ed6d8df7bfb0fa479c814797d54c92c57dfd62607183892f2ad2cfbc33c6308bbf46aa8bfe73fd55c50e9210238de506a3de737a4d22c451fd21696c462df7baa6b77c5b99ec7b6c8a50c87fad4e38ad1a0e7f6ccde9ec98d16546ce607ede5a52c9913a690bce561cd5f3b0857ce0496e496d3fe7df7dd13f4b8a583112feffb7420b3f77716847ed51adf150aa7d9a26265c85e8f96b5204251b34b85a9e2b25db1fc9c71d2bf7f5c1f837a81b83fd3ddbcc7a18de5ede9f91ef780dc17b7bdfa08cfd8e36958fcaa783d6a874f4a3d8e47b7461bb14870e4c1828d6e5a334120a91a66591e89a667d24916fb86c9b4bd9b7452ac2eedcda5d1f5e0a02a65137da380de5464502cd32b8a6edae13595a66621276bfba475aac5b76bafcb319207f19e7ee153cbbb56e88c3e820425f206620f42c8461264caf293efa8277da3818cabc56f4157df2df17133827735267959c86bbcf742bfaecfbba39bd5605d8453b6e0774be4e1218175bb5db286a8c4e9c86c0770cd02af08b109d7f8fa6e4e92b5719f9f6c9f4e2f8d668de2c09d0b30db599c7d10cb38b2b42a16123f37f7b2e63ee11280fbef3411ab36701f26c7ed111385ec6ac5c0eeb152dd2329c98072d49780bea572e529d200807b9c92cd5fe0a92b97b89b86aaa0858ee8b98c74607489314c7fb3eb60c57ca0f20c8a4c35b5b2eaef79178b742093cad583ae1a9ab66eebbffa6e52749566a443d6570f89edcd700fd7099dc0cd9549c985511c06a28f71ef82698dcca965837050274639635a51a1f310e82466559fe448fe4aff5253862596d700f45d4ef3dc02afb3260586cc77b92540b1f8391352878bb7c748bff6ba58094efee67f57f168b2830c3d47deb4c5cdae112c7cb1291beb3b1230d6410615a2949614fb83b952ab2def93270bd4a9b0847dde869be3b612104cd3f092c3072ed570b681066f6170b839f7724dc5bc26121981a1089294fa97d84eddef72c9652b54b31f254578de3224e1a71445335375a729fd8eee4961cd2c5788ca1ca569d3823db82c6c8b18b714d92cf4881dbed2bb5ad074594afa837e9c06e8643be706c2aca162da8529dbc362f9b381f267ab5ccbc576a830d887e32ce95ddac87e751e99cedf42ec5c289d9bfab3fe48d7d508ed334e96f8fe981025d0129bac27d4cedeeedb3da1ea52637e838806435b040918f956f56ec6cc6fa55c318b9c659510c787ed9583a593689c04509df6597215a0ef3a3f12969cad483846dc452c2a14e3303235f99c308221565470898daf18bf61766695699b91a64b81d082b8877b13eee848ea8364a453b9e15f9853e37e60dd9e3fa29ac58591a0923b3ff923fcbfc6baa5ea5eb47e0e6d081dd975de23868e46da5524ebb15499d8112ea781ab36c0a71123d4e14951a71fb564f06501386af5687735c3801234ea62be6b38ad9ab03494d1cf024f1062f77ddafe176df6ee1d191184c8f6bde7fef00cedbf6e32291112b498893f125ac2f26861a0092310c12767f2348e5a420e22bc969f13c39576451158d8b48e5c7b4d54fa5c8a1d941c4c98c0c6b908abd9cb100f56f043aa661ad13dd59607f743b1b93f4b9d354bdf749803be7cd8df51713247b5ea8f6c42f757264d11e67c92f3ed835bca26310e99be0296c23e250d75adcb489fc81c1d2ee315f8805b02cd967a5fccc2f1bb79f22c683b0c1e00d236f0b45116888fd0ea4779bc61728b53560bb343a8e839d6d41a0dc27063a8e3682ec6f23409f8ab06ff7c33a57","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
