<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2a20fc05563285cbb6ea95dc8777b48e4d623f61b0f8f017d032b302c264acaa62d1e04ba7074abd3cae652ead1036089dccb66806bf80046a79e644769b0a36715fac821a35c24c18f7bde00bacf177de2294a559ba3413badbd632c55ab486a288f56a1c675bee67711fc3b71b06b268590922db2672d8374d993b38526a973c846bab24e5f5f8b2cf56bce7f4f5b6a43aac5139237255d4cf1e2006aefba023557d275e53819a9cc57038cbce4981448707a38bd3dcd70421cd692b8681e5e2c89d85d0b743a3b0fb8a943d4540464138655b5f2dcb8304f13a35fc65bee86b227da368000fc23b981b5dbd9b608f4cb05b5ea26446807d2c1dcbe5211575bf521a5d4f7a73bd5066927e0a264e0435c3be9398faa8091f74bdefccf5c71569b295cf113c61d55e6f9dd8b9826d4f9c18cf7507ca59b66e20c8fbcc6f23e6fc546b20171bc17e48a08fca806a74ccb27ce5d2e5be7682b4a623b6a7067d1d371ed9e63959728b25550863a519825cf749ce13c698f63b846bc7c31508efeb8532efd6dbc01714c9dde8c3f8627f39b399ebb0f4948f7dc4580e390117442fc0a841beb4c101e6e4f7cd5c9abbb952a93d05d6b82e4b34c65e9fdd2a9007881e23979cacab8b2ba9f2e08e20d47bbc9bbaa4646c3199921d78b4bb8b87bf2ccf90d6ba0ec8a02899a4862a4f899e42f8977842ca198fe47a4fcdd253a6033df98b884f023a4a7bea52a547f1a7d853d48cb36d2aa05766e41f16a0bb85e94c1733906f91aa88427904720b97b62a6de2a2244a9226f0bc09f75053337dba7c1efdcfde9f70df356c82bece7d8557d17e517b214a9b9a5ee448a93b7832b2e54ba991f92f2004a1c168a4aae22f2ef47a24722b543b54c8ade273cc0f7d8483680017070585e99e6a6bcf8072a6f443030f8bf0c800c3471768feb71f9fea79bcd389902b72479a4ba2516c965c813fcc944a0745f0aa272e4e17300b9379b57e1150200880affd9992e46bc18eb120050182b307c14556a7f81d3cb61de0264ed5bf2331e6ad007f6fcccc7641db614e551c10b3c28cc72eef57aad21c56db7f81521f6e7ae08f9310dcbceebceff62b4784a1e01eb5729c9d7c046634638c4916eb3b4badad4daba732c99e0c8ce62228c376ae6c30c57dc88c86dc19bfff7e3f19536d4f8ff1166f9c1292456346c0a06f9dcdc2c36c7d1e3dfa641a0d82212329cb7b92d66010d69e0ea80fcb9a3a302e5a84f9ca4063037c3207c6ee3654a1ed920bbc05223cdf11f905a727fb1f89b1244343327e5d0650fffc25641a5775079473719b26b2a57c4bf6b4fac7133f40073d23efbbdf616b8b33b77817d954a8a23dfd2b24f3b093ba4ed33737d3ec3baf0647a50bccb6580aa9894ba068f206762740f95e18c7c0a94ed66b3ad5be5eb41f3ffbd0fde27bb502aecf63f03e6935436730e825d1089ae23630993c64232811e4dbda79846ef5112f22bd4370b22e42e085e6ad0a5c3c75a6dd5a80da11b4b5a80cc04d8fb796e0769f5b3ce7dfab48b19bbbde0f485890d12fcf6838784d959bd6690369e9efa3956f4668b62bac9493dbb48c4e527a91965d1f1e4bd1d06d5c689c9da268468da72d4f58d11ecb1b7676cfa70a8c8a3cfaffb637894660447ca4b2b87eb06d91d6c11827099e6f3afd482b619b1fd20f4816a1420d7c86956467bd5f4d5834257f18f78375dfecfe7828f21241a773fac815ac7783a1f71694330bf8ffeb805dd8e809358138b5ae8aed7fa307193ec5c7e0d040207cc1ad510d692d6c61d29be678ff201ff5128a11fcf92958a4cb391ec48f547eee0f22b7ed00a8f9e3640b772f3fe3c2cb0dc3856f23dd8c91c2d945480fff6b93343da90237b200190760a2bce4378f83959d8dbd301468be77b18b825a0f3584b36dc2e4bb1d9cb1a72d5cdb1bae1f2e45f5d35eb1f08a1eb8c509d9a453544b7b96d80ecac49477229614a4a1b50704aec9efd05dc3ce9723dbfb4d9b340adcfafbe4ba78b80f8ab3e30c87c0d08e177ef6f85185c802d08cccc1fca28107e01526faf07ce5995e526c8321bb3d84b3e7ce51df63662b5a8b9bc27233c10c6930524c4ddfad1b06a69912b47127ea364694d2109d86d14b5fe730baa362c1cf2fdbe7ca17e50c5f216ae6578c39aabcdaa6b2c34df5bca4bf19c720394d76154febd6bfb8c3e6681b271e9d42591dad88d6dc560a3f16f584ca4c98d9e8511327acb6afca3a329913640ca8289f1d0039085c2039ae49b761ae5db6cae413632a6a56320f6cda7b4aeec583d549a2f4c6f209e0a1e4f452ea7ddac1540228d538d6a646435cd5a54c657ffbc4503fec2eaec96987bd81e6380afeac1c657f6aaff271a50ddecc142e84d207954aa4d4654821fffbc5b0c7ac40dcb4fff8f4c0a1f7648e9bc8d1f9729edfe00c4d934633d8a40e0f4e641f10443e3d879de574140c2b9d60002922285c033997f6387b288b875e5118ffb9751332bdc272657e9980fbfdd5bb8d6fdbb841bcd283f2bd2988f2f20abf33d7b3574b655624de8ba69b785304e0e291fd33b7dfab95f6525ef17df590701d035476fe11e5ca830b1ff9ee065565210bd10f2b026fde900e0783ac73b24fb778fbc856eeb6f47be886e28405f6720f9b8d32c8e62a8bbfbfe5dee4c46bad5fdbd4707362dcce4feef7d7c285fafbd17ba538eb0eeb7d90e0b3924a308c8297b6d4b20671195f00353759f8f87f11d379eba338b5536a107413e39113b67fcd9dc493ffe2842540bef52fbd0f5e42f6a4ce50a097e7abcbaad2d9e7ca6a6e5d117df9712d3f3463c055b69e4463df1351be497a190502008bbe40a6632136ad3591ff1f5128bec68cb2942879e5f64a83bd4521c353dda363792fbf8591861434a1b83eda2f280a00211684e10ca1670551bd2e0a05726bead16138a9031cd1723d2a84bda111a666dd9e6979bbaf8a4b00b9f8fc9ce6035b3ba00467a9fbab436df584d89c02f96715fc465ef404dc422e239044565e3b5064e52b7d7f14ced91a8375c3ebc3ae30759a41c165bf689693941e5e5418309c3e2dbfee4730a6b640f6c16caeada00da234d9f61e327e7b9178107bd3a9866137b5cb90720e07512957d4b892cd406464f30434891d76055cf0bc62475e0d360808d8ee686c7c87dbdea6fec6d84002393a3ae0707142aced0ada757fe695fd04b697c1cc9df7acdd004f12f7c2a073f3fda978dfb03a82a443568a714da5be798c824e8bb0386b312cef84f2b6757b47cb1359a7f7ab4034403a047ae4a78b8220bb8a37b633670783a415b4a7dec723712786971102b9edda4dcc24d16cf262eff35ea2223a1ae9c5231016399fc88eb0bfcd49c82f63738769e0bdf5c3653485c4f69797d1cb1748150d3f796fc25084e42b65d11ad4742ad74c9d9f0fbbf8b1f3ec1a0a148fe1070fdbfc323b73af73996b2bdf36d20c6b882618322dfd049af3323067472a3529cf70ae3daf3577107777271f94b7f026ff315c24eb74556a1ec229564563067441717d5557112629aa26dfcf37f65ef930091db08137055ecc95c5933c58f7591080c5566269618ea5f7645bc17ea8a77b06deabfd30bbed45059f86b8acc261f4e6752a4466936335cd0eea9c78c3b434391a18865e02c184dee146936d9a02220a71e6e44640bd686d46b2f96c565e842026bf3b6deb789de7f973773264b12dc86a5234a281b7a5eeea6f3f88b21bb7c3dfcad586246c01b5d4410cda1705c0aab4fc1da70c2fed679b081d6cabae836c8a71563de3e9d0a8afaffd8449c253710bbbbd98c554a7a62bc140fde25474327f2128b7e91aeb04de42d94580a6c051d6b25e286dfae3a6074a1e612e943720ee96523d5c9ce7f89b217570d6c6c3bc5e63b4e8b706c1fa4b50fa55e620b6730e40730184275afe54a0088dfdcfea502826e88a1f3c0c0e4ccdc097411c492ab902694e75e5ceb2a10409d0b05d834ebaf49277ab5c9847f346fa5f5c077180a1330cfa79bdfb0b100dfb8a11a33dabe665225171956a5e9a723cbf0630ec7782a7ad24fa6018e7a676fcaf3c03adf243fc77989f0a3eb846ceab958bbff9a02dcfd69f6886310c8f68c4df61cfaa34e092518f2bb49a22d9ef13552d8c1317f5bab080dd94b94df52fe965a86d75e733ceab472d0e8b571dab37a5d18713bd00dc10ed976d71792f26879e0a9456a589740446c48553341288a40c20883240c74b58717a4749cc6061ab287a367c9d7a1be632a127728203c2537faa1f8944b7d2e9122b170b2ffa3dba2ebd4e5c32bd80dfd30121a7099bb3809c2a6d44640adf41fd1565137a4cfd89c2fa318a985935df84fbe4eaf04fa0ba7a6b339f0e19b4b1538149db28f889d86c6e0d8d5467d3b9c929d0c5cee6dfd1aecab14fc1da72d842fd6d55184a1f0e15db9f8f1a1ce9380b5bd69bc5c0c868559ec1c75ac556d1866938c40bcd7615a3f6695502beeda7590f9339b2bc668ee80d98788bc0f554dab757d7f6f1d1ce4066338c30325fd3161dfdd29f03685bcb570d675d449a2eb8688cd824f5634325f0149ff131f25b4167da34ef8be1f4e0140e1ee9bc35f73a0f45fb3760573e429df4443ed82cbc432efd52cfc6ea18181312d3fad1c71c1509c8210baffc2adc8dd0230fd6b2cb275094ac275c75ab35cad9a5b9fa7949d3ca8f5e802ec35fac285276b4ee4d18074ce816b483d3d323f995165280cd7679062d3df4a8120cafb2807ad5f0fb28ccc2f84edc4987765ce2d244d223a065a909b6ab0b3c3c36e3feba90eda4ab47897ab7e48ba809e2e27d298211201091a80144cf447033aaf27d253f26215422acf001ab9673f8673c79ea19eee2b98267107ffe3db2f1b0b5dda5a1ef73925e05cdd7a0203244b980f81ec67cf8441b1a45a9d5036d8bee962df6ba52458bcb87d0ed2127466b74acded63311c452c6367d59185ed15ce2d6ee5a59548ea2ed824ecaea9adc6477c8c98a9ea1462169caffdf955319397ae362c0ff06bb0de53cbd7345261a384c09bdccb5d089b51e3c8032658bb6ae6c1405f47e5b88e8172cf268cf675b33249a6287b673007520239c6b3ebb6a4ff6144cc98cdec613363da609e6a08661d90806b59f62513956f9b8ed40e59bf99a5e3f9b75711707cdb387ce45e2f52fec260d5364608bf519d191320c3e5c3b64634c012eb8c8af66853d1c98ec2025b7d34f2f9fd1ba95dcc06c61708eb412b39364069e55b3226d252441b47833c18aa7a6b1fa0413dfef5baad27f1de4b575144bc86ba5e177441a2f00d08ccf90b43177dd8a9d24ec45bb1104c177cf0f38670ba2509658029cd946b40b0059152ab8eae21395af49cd1dac02a30f86d605706311ec17e4d1c0796dc47b76b5aee6fb711603177a8d3825bab159cc77667f280f0c4aef50d28102b3998fdaaebc913278bd96404eaa5317e79582e6bb521c12bfa1f485698682119ed1a7406efead766198996f36fd41ed773817f938927d8792afae05aa2e57f9747c1c484144b1c2b3784e1f49ebeb1e1a981382e1fed62f62d3d548d2ebf217f1e78bd38b6a7d795c2ccc8330fa02347716570eb177543a05a544ba6a67d9aee831dbaa50bfacebf9ed5a2c65da91ced2360b09a755fafba9b8bd09b07f65f387bda660be29de13ec3e11e8d81bdd79466b2c156598db79e7e7e83fba43b1462118782ce5433e6ede9a2b2e1f1073179be460106de829904dd0581fc5df7a935e57277a4c64791f0cb030def3271c4ca6e1360173e6cace415f0b968bab0aa8b578526c861a11ab267f99c94f579850d0defc1e444fc47e1079dbae86b41ee3bdad7a41e443ab7d41bc6b28bcb612adbffadb2dbe8a217395b82425cfd6464d78f365b3d54f4f30a931b5993fe0d5c05b4edd3731624a415bda1bc453b79a4fefa116a30cb8f48f7141622cb754b2a7d9f5aaf8b34a360f4bf522b2713321b1343518444e7577a8dea2b99fcac78a6f72bdb331f7e2597511bea245eda44a6d13a8a97f2fc7ffccea4bc53ce81533acf6d685438c7f56b44de5baec2dcacaa6d378000aa2614d8335077cf79a9041ebac4599505bf7186817fcf22a8075618d1b2c2b122936c1bf825520aa173b08b16a51435b13690fd8ae5a1273e465ccb870534490f6c22636124bc1edc7f0bf3f19a139e3266a40d1403a7c307db8168a7e86158faecca73c8f3d2ca52337ed29106c7024ddd5a74cc9d99320c0fee574c9e629a7e43f2ea20657ddc0e8f786a3ee2479864eef445a9a6ba9d8ce8f094d42a7d8cc5e2926b1ea57dca56a4a41d32e2cac1589e958d54e237cacdeecd895619bdcb4bb52722101cc238e6eb8a4db6405821d90ce16fb079dc0b1b61f172e231c6bc9b5a056ad2f3b5f39ddeb568238eba32f036a0cf6365c4ef780bca107ec64ac52982b5c699835b570ecf7e09892253e748a3483c61f12a254acc4295ac726c6eebce9e94108a165578fd5ce4c13e69a5e689151409c6af1a213f1e2b4e339860d2be94fcbb914904e029e600294649a74da2fe96c71cb26f39c11b750bc3100b58e9ea97ba2131040093ab5b636919faf746100eceebc513b6ecca1e8b67696df57b8caefa8bdfcfde027550a1f4929671c7c29e6620a2baa2335f80eee1a84a49b373a3991fc7a1d3c00d6c46c9b80bd843244024dbd2e827911da2e98fa2a827ca6caa373e6462e179b7d12ecc4ef5935b415ddac176d60f6934337d87b731c3b9cd1c9046cbb4a0a17fbf371f80a9310923a9878fe1a95f088622ac02355016a5f31b5f98ef628135a5e0b0889463224848fd15a16c0dac52214b6c9a7edb9998f0cdd576c5b6844ae4dc6c38d2ead110cf303fd30c3f432cde1128e9d4460b852b7e5e676f12456d0a7d718e15dd0a8cf30b0e5f586edcf86fd90724d95d08ee0b27c68e80d6aef7298edf60e4efdbea5f65c511b4e1be465f349c3f527a579f5b9e6ac1eef2038dcb9a8dec330e8315135c59f798a7b58662e3dcdfb00d4717182627929209cfd4b848f941a4ee98ac0dd2261cd587ad60a3dabcbfebce4da4a4658147349e8c990216fda8f7e81ee246ac7e70517b975785e360e281f1583ba6fede2958d30b42084a017f574f1c11a1e829147ef63d5ff32858977d91af9f4b933ae8bd319bfe4be33908864d3c019803bbb64afdf07ff1e8442dba3523b0c9700dd901cccf5b0e159021487afefe938d238d8e238d2b2fb451ca2ca4a028f0552b8df0af5929d0fa87cd4aef1ec2665b17de0fb13f0f717e268cca67a40cf91c286a76eb82029516e1b8b90e460bd0ec3608c98eb00b443f92ce50b54015f5afcf20d004e7c4279039ece24d1230a678c6d3a5c82c110d3df9ce53fd3ef96a503dab4db915bfca93304d483afd3442da5bc65c2f2603ad47921f17e3eaaac6a232ef025c75156300c32f1bb6891d6822e7fcd0c43d9166e5dd997d37929e57fb4ff41624dcd33fabff02ae91bb4b063a214b4743a08eedab130a6be585151732506922b25a877fb41309a7afea60e7b0e149e1e5c3e8919acf67cb3a7cee6899411eca22ee62bba29aa486a1b01e235f14adcc488b27b2bdeb498c0d101c70d57eaa789719c20afa9336628b1dbefaefd1d33faa30b4629aaa40e3c9fc217027321a5f1752ef7a0326903bcd6672f66b0b9a013bd01e94b588953254c33ba938cf2b17f53b93ce6ed1e001cce75cd987a6b559cac8499e0eb991d8daa8c50869fa75799cb1e3dc8ae7addc3d53ecd91dccee4f72a157fd718bce9148835e55e0780b4376afa8de59a91f77c9d3a78ac50c34dee530009e514a3dc483ed7f5a59d52f852d6aab976c79b7da052fee97578c0aa376d914f1f6f767c2b9e6251c91baadea56ff042729517f944ced5c7b18dcce4039d71cce847870948e50f03bf15068945be3eb613728a881cecb7cc9745e22ae223d55438e3b2e7f4aad2a486920a5134700b4e1591face39df348e4f3336360e593606f43bba884e1a0c6327c9fcb0a792709bec84546d68dc64fcc494ac0b2164318438cb9c591d42fce6a17fe760344fc1c662c374634dd5f3de1a3b7efa1e6e9bff93131626f41ce1d1b80a10896f1ca232834528428ea6c48b0a7f972d15fa6efdea028ce423eec664675f49964c6574164232fa3aae9320c27cba823c7e72a37569a4609354c54826c9bbcd7691c7834afa3b3ddb8e8e6753480576fb9f57cd258c924e92247cdb989fa8aa14445427a24121d29a7978ee0524e20aac640cb2c5c1a24aba3a6760e1c3e2c58037601ccafd1bf6118511fe725c48ab2bf389e350ca1790b0ea891e97a7c5b9ebe9dff0dce36fa2d630c8f95fbb91c6a58fac4f0bd0cb56f0988bfaf431ee360d775b6a5538a5a13d1946dc9dcc6922971fa9590c9c2b9feba1952acc5dc577623a90b5ffd3f0bd4b0e628bff03cca4a0a475332fc4e2f7c4ed92bc22f2c4a941a2680a564d5aaed427010744db934e150e1e295ba2eefec0751863573cd69421e7bc486c393259df10a0e587b6226497b411a90aaec391b453e21c6ce6af24af947efc6f4ff908fdc71613083f8f2658bc33bea704376932565a7d6cd52247570e7529bd40a37fda15eff349f47bc9f1164c6194c2ed265ef25ee7d2eaecb7d9298fc51e0ad69ce75dbe23fe443c09ddaa1fa64da95b2defc1215b1558a88970574ab0d6c6f7ba5191aaa72af171bbf81bfa2bc6756d15191eb9593c3d67ead991bd6c6bb35419c60b8d72874fc07bf24357dc4f3e35f4f41b25c55b9802a47972aae5f28f7a2a19555668e0321bcf090f25cabe4a6074c14f8b3e97df52dea7a4e0a1e6ac5dbb445727d20039f47934310e5210f4bb9c83abe7d2b664935a6830b107a863e1742c1bdbe646098c43c1e35062ec2c57e51b80d61ea3621a5f0a84ee256ce8da46aead68fdfb6bccdf6a2fd3bf877e47df94fde2f4a7594a4f72469979ea73a607d2fddcc369caf2e51a3a462cec8dc6f539fe5d83f97c77f397046ba20afa52559940cf0ab0b42f235c84fd64bed69b29574709f03cbe586bb56b33f582265cd82e761af4e49bc46690d48b1032a931c18af785e7681d874db869f895c8af6469e0c001a67a6716c7379c2963b38c84c167d39a60560edfcde7e6fbab81f77842c01269067d0c080ea6731e909e3f824c88e49bdc89f9174e08e0907875f7e183e9603939cbb08885950fb65222ffc47ffd0b769f80d1b84b0db310e0f87a961cbfe2fa2341152e69bc702fc146b50b86e20c0b84f177f92b2fb5be5d992871074f7ccf3a115432d5d54c9cf8205c8b379f9179402ee6f7db1e171041878ae3acb23085de000f6ec62c8c64c0fe98c467d761222eb06d3b15fc4ede0bd014182ae2606152ac9d29cc721a3f0b4d51f4ae9701e127b6019f0b3eab5b29bf4c61b4927ddd18db91c0498761437f8f404f98315d33877493984c0d6c00a9b761e4c0af6e1151b854a89ed75fdffc378303fd19049819db3121b3003050a598a321b9002f2d0bb37b6eaed745ae41db243dce7e6e2ea6b744af5e881fa390410338d74a584a1d9e40a61103ffd96aac5149c9492d000c64ebbd14290d82364d7b54b2e19921fa7d3d2c3789d9a52084d7169b480278cda9023d3ad4d30c0d826c812cdf697b80499a172fe6ac28e3284c740d260270ae47bba0dce315e7e3761b32696e31142f8ff7abe24281052759a9d4e864cb58a3b15cee677a7e5febf2c3d4300393b69ccabf1489a4a490ff6b6f963f2eacc949e70670f093d11c1dbef46a5bbbd37405651df1a3773ff6559af3f79136dd3c06318b4534dd655aae7ab299e902cb5c3a86d3c33adcdd2b9bfbb346ac37204f72e5320425c5c5a1bc785e11cb08b24fd064b77190c593d889be2b387fe9d123b696c5edbd0b9e68887d1bf1dd480736619e4af04d11a6fcf7691727d4479a3fa44de275cdc35ec381a262cd9c8c0b6e0c1ad5952d1672fb6b4ddc7c1672699396227ad3fc27283ea4cf1f95b757c84d306bde83e4997c1674a9fa89c6323dd6f57c5670f30aa22c5320a2883831da2cec65acf4a496c84fa3db44086b7de143eadd853b21548cb928f79ce1cf63faa9d21546c1f4b7c65e19fb7ab754d028373e479ce2e1e3eb01b2aa45ee899e5e84da5510a5b1a9cd77387a1a07714030d85e05f14243b9f94f9d03eae989e975ec38e2f91c7f03e6bfa54d76a5267ff5d28839627c825dc52df0e31d70f9de0c67db891b421a4d99ffddbb25383840aa2e3e76b3cecc4640f140731436c713c1c3460022c31412e8198be75105cee99b787bd1d493580e39bfc56e9b034509fa3a7b16dbe41f98b09d8c3238a3c48af0ebb95bd97279ca79019387a383f65dff616884bb4f96601ad155985c3bfbd0e40e03bdf76403e8b67f66e2adc12e963a1511619a5f9d763be06a0f82db79a1bfc130f4d17f098130eafb83f36cb148c1415368fdec2927c1e7c49de1fba0563d8cdd324f2d8017667147873cb29bc5e456ab1bd9e9762ed13e4eac4d77265517b2d3de6fe68ab98ebe40d8a2b8181dcd8728604430d6b21a2be3e3eddbf0666b2b6e27e6a8d96f945d8400319c9905f2f758c7b826aae19dce67099b25c108d4e335e6e7da1bc4a06ee4a5016adfb0f5bbe28eac92fc0e2f34ce5c1fe25caf6805d19ac0907898aa61f556360170fa7689f92b98d65877fff26bbbd5b0918eb4728ddc89e97935e065c0ceccdee8338760e65b8053a095264f3e359228cc140034c2b3c29cb98b407e2033293e9e143b44fbdf367258b93eb7faea8e9b10fcb2c0db7e88d010ab3acb88112e3312a5f5e4c21cdbc74a156d799a3986b0571cd9a597310a1789405c93e475e7c97f0426f7f304e5e9f9066fcdc20e63a67f7fe97910b62ffc28e9bc5f1ce9b72aac0b7de4c97db5e5f4aee0e82070869151ff174d3104e4cf12999cf4909100d346a894f8e549eebe6b91de8a2b065610c0bb15c34db33a274aa47a2f3f51aae22919b097069ee16a2b267d5e3eeab892043b49b5e43765a50514e1408490e9dd5171a8d627d6af353eaa014fc44b8633322288888e34bbdefe2099961a09a3245e757d6a2235b9464cbed7d7ecf1f311e7ac093362fcc76e8ed7158dfaaa3689e45f18b08c37d87b828b29c714a4cb2b793a3011873254af8b779adc12d2296e2705bebf490c9cc6c52db3a07d0cb73c4b723d620b621bf8562499ad66b16bd19149b6af5d1721139a4a8eb8b4f0c56751761ac082858b22e5aa7ca8838b49b6bdd62d266a108fbe8386f23479f83025c5c8ba7a8a1022841b989c213cf50a67c606fb3670cbd07b664160f13f8cc8e8c27853d50f15f1a1dbcd906d24eb5850e4a14af45c651d61cb42ea453ab5ad6c8ff390e42590ce8cfd2fde75917b7c308ec6b56744c966813bbeee03431b13bd0c54c1a937eae9694c96dec16f49ca871f843df65ee69e036cccde82aa53c92412f206feba499fde468865a4ba44fc7d5a55f71781535ffe40543ccb0fd5aeace4a47768c6e7f1a62ce193d317741ac23a63eb21d45a5c03f94ae30659b59169532853afca2af207af9d0d50094720c809ba4c65afe7269910dd09230d52c3f1081df34459b2b9cc1a08d6b3c16a2bb7a9257e067ea8a415f16631712979dd4d53bc02660c53bd439e91664c397215126713d7893b9587b3bb85bafefef5ca94cd90c071ca68156e4dbc3f88b64fc3cab347477f0dcf7a74ab221dd8c65b91799f208f8810a9d206f8a952572c8ff9de19415cd2ea2f3af646e3dc5f62a3263cf57dbb5e71992c2d9e609a5e1cbfe0eacdfd26ce43921c19b044640f947dfe3ec9cd594564c445bb53e5fd2075602e45c8c83eb543db2e8a49562f6ab5ea38d0edd22ecbaf33bc50528cbf073148c9a55d018595239e5c9de1732f7d1fdaebb2e6942e1b8a69bb9761231a0d8dab7e29109ec6f9d8c0f65c6428948b358b7d29b963b54f23a1e0a8f85e9d3222c1cf78756962927e2c29d3b8edc89988c667cbfa323ffbf9d9327498e9f04cdef98ee5f5a14ce9083a2fb1a82aa4cf53a6bff7606ce7644d53e770e8a4a37e5593e24f1d83144a5cabfdd7ba79ba32f90868149f1775a99c4e51599d9f5436f8a729a7491186f2c66d9617295364f7cef602afe1bd5f2bc23c66bacaca66e6ea650843f58015009ddb9702472c3f222cfaa1783bd86b5f65e72e4f036990cfc5cfd3c9a434cbe3aba4a79e2b21249c38f8729358e30ab6cdb3e38468ecb7b4f995b35ed21c3b35cf1a46328a9d992a3c236b254d95c1e6de25341804bcd39073e3ad8ead88177de3ebf1944c14645a18a6a959f298e8fff69a600114aa199e0141dfd9654f58c9b2312f8314ebe7b5115197a86a07ac1152297bffa6cac80ff669a8dc54335304e7216d2c92172d321b12b9019d50135c0858ed8cd66ef3d80e7ec27a2487393231c9fe64e3e0fa4d1617afd4f03c59bb440478f511cb8ced2c3daacf2c0149ca42194db9389f9b11cebb31224ae71463ec6506d4448605d6bc52c3aae6508cffd141e427d3f541e3fd4530b68f75123e906260e4a63655241b8501b89e740e8973ee33963f58ca6c223dc8d402b04368d0ebdc78b29ee85c7eb5923a7a0e33be41192a629333733e417c2fa6e68ef964264df05d222372d322ef26f5d97b30d5489837faa22f48a1c48eb01c74e71adfa0e7ac0602f6d2dc821ae4b534a4d790ca05fb893b92a38c365d26e33c046dbf69557fdb2f0cc587112d107795c70078d1984e2314db1b8154b1d8ce9dc768bf30ffa42f47c03bbe9ede3537ab286a94711204f3cbaa37d10033ec4d7dfc427c8d17ad000a226c10995db82ef77e47ccc3acaceb5b5d90fba546b0cbdf4e08bef222b0cf3073c33b0196ca834fbcb12b41b8e7ff3f2f6412b0ec9871e8e034d909eafc78e85b5af0440de9383e09300bc31b56a3eb737c18989290dd4821a09760e0e83d7c2e0a4b957d58a1d35e46b86572dec70b9aec2967ac6d3f7b0e7a122f8bef1e744a0a4c0f9ff688dc725cee65b0f216cd1ca39d026303eeeead3a5f9f25d95c15260276351c87511ae29438aa4d1b801c46e2956e93f4a6a39adc079e6b87724e71adcb6a40de466fa55305b16aa85d48ecbdf45a8875bad767d3c6dc1f1f0b50c8ac2e73c5b5ed332b290e4489e50f6c2c3b536e624d03b3e90a69ed85327b072dd557a3ccd6575891bc301638070c41922bdac552c4b52e3602cbcf08c75d7fdb2ce1268a9b0d6cad0a879df63278817a09033f6fb9ccc853837ae4db50df8ac35c3f8a58fdf35c0eaf7afb3f7ef24371821336c5c1d1508c513077e3e41e1fa8a7e9af9f9e484147f7db64e8ccfeebf8f13fae5a2606323e816a45fd7d79bc199b5ba85e23a9eae3c9d07b23ae53a9967cb5728eab9254231a7542713b43454a21e2262fdca58657fae37a9777940df689f8dd062c8127e5e0c37c1690554b40c320d273e9a57c79477e1dd320cdaaaed471550d48b77ec4dc268bdfa75a51df295bd38fd070d888953923048d2f0b14cb947e8f4f01d3efb1e089c5dd7da7277de1cef254f06967295c708f90c1b5366a5b5f67278435e6ea6ab723d5f0cf440d0da7afa4a85fd5f280cac890e65a38adbbaa6ed69bcd884f09185dc4934e1185bd0270218b46f0845ed96e4c82b8f0de67f72c128373461dec199d06676d4c534e90ecfc51434902d0c221ee1418326efb4216b386b1887b8606984f87c95fa09f5844a8ac1f3f568fd0b96599c17054566598b8571c58f0d52609178c3978dfb805e16c88b5856107b394458c7ae85fe642dddcef7f9598f3c244e5adeaa3ab8ceb482a3dd2e60c2f3490d745ef474c8a3d754ecd4374c37556ad926f9c308c2c13babf7087d0878f53bcc436f770a202749f215d08bf673c03914430a531d8d481d143166d1af3a0307d3c1369930ada02c0b51928e6bbceeface3a0fb4bf153942dd3ead6b4a6eff6474741420ac696a8c3973f95fa6e136c1443191f80821f4388ad3705d7a6f378bdac54dc9f48c81a965c9cf97f55582d9d00ee36b96cd34bc969fd48d518505816c9e2edb9eceec2dedd9e90f406ece8f3abb9e3ea7d39b22ea4b1e32290957ead3816f43a5b7340588894c9e91e81ffcbd0784af03e63db915fe8115d6a50eb34c2d7b3f03d9e801c700c1e6dcff8c4aec84d306f4bafb2e8fa6f4b8fa16feb48e4368bc0836bea4a653e1bbb2e9fc1fcac581ce62d762650d6f6f85942fe60581c3d1c629308d37a6367621d9acbd0acad43c1de4a2e7d729ab0a9b3572bc82de9602a79951505db6cfc711e2648b14e78deadaf5f9298b29d08f2ae2a21a41fbf5d59a6f3a40c9703360b949adb01839cf8bcae6212a487148f4f8447505b6943ef81f432d58dbed684095f4122f45dc12e505398bda46c76f9733280c9781ebb59601e3965ea19f9670d58b1a3f63ff6c4776cbf91c58a7ca26272f348d278388e1b0b7b2bf06aae2ffd5f62d1a4ef4e782516c052d81aeeb9668a6e1a5b5adcb776dfc0c99726527ee7dcb81ae4b05bafda2b52d1f1886fef9b7bbb5f40ca3d25407d84d05c7ee7eb47ad174a01b00a5103aaa391c7bbedf98ce6bc8211cdaa1c4b39ef907b51a3a4e98f5c3ab367eef1240963fab42d22bf7609bfb76cbf193df29218bb83383bcfacc387c91dd02c2e543e86d0b8046ddc16d2b5a1273c24ca9dcfbfb68c6b2d47f0d1c1eb5298a09489e3019abc2a1e66543da9c082917f0e92571495db1d2009479a62a5bd6e32f7b2fbf1308d2ebe0e815e996c7b3afc1296749a30eef2104ec6c3d4daa6640ca65f0ef2f1e0d6a62a0eb269dd5e151ed203218bd03bf0f19dc2b4d3d311f6a11c5e2089cab9da22bf847071bc9d20c90c110e57dc4e6d917affbf7db2ebdc73dc69b710e8d56d15bc83122351477850c271a03363ba3ebb594b616e146cf8254473e1341b1a171903287ff5bcb6c5bfbb7d924b9fb72728c0b57dc2f912bb63b7537ecf70331888a0a46f0f3ce4c7da8f857325d482f1ed6c8e497deb4e8cf140a2c1e3e1d6e53bc3a644e8b0d6ac43aee35ea627a63e5e44ad48364e4a871045673924931e710db70430c20443af4dc7309c290c4459bab2d5f33de3f141914962121e805219691ec5d6ce099e2e1ca8d021d6cbecf35bdc3036793341d9aaaae64ece1be4eb4fd075279a7be9fd5d999966cb479d5c30d73e01e635aea37dd426ee1ab51c7a5a83ba51a190f0826aa8263670f75289941eb55ee2fc8cd604df8907feb837e34cdb73081b0ad0ba1d29ee953797db0c8290fcb568435838557f8d8c92bb122d707420797aec5af66ce156ff5794f3aa38ec80a92c701f75bafee705de1a8caf857890172db7e135bc75e47d714d7f1d3a0ee66e47b7bd6af6c721faf53b5290d667ae6e35c38439b3be8e9cb3f65b22db4374983c2c4ef267841e83160de1729926a71f1990634df1c53bc0f6844b665d149862837a28af447dab11d9241dd6849a113d4d7d8404d8a9ea9af2c3cbf03857f29a4bd1c59df718acd26f11d349ea62dfb418adad28291a7a7b48ead25c6a9d367bad61be805fdb22f1323068bd3135bfeea536daf6db3fa699369b2fae6af636f47a9b16b195a1f9063e7965dcdc07490be5d15e90962f2057038ba85202f9b20892e8f4d2409a2cf1a6d25eeb1d1f4e843a74758e75e454bf53bd3e38bd335c78ce95210a67c880858e3779dedfaa6a60b5633aea9c0c442a56f74b0f007c88e8bde149a586f8bbfc0d23f3943223779f7a17afe0b9dc586e266ea54b49162a162cb0f4be3be1a68a8e3f885899ffeddd13b378534d8468c5752d49b6b835642f6ca5740716196f865d644224e2259689578cd964ab12c6731f10c26b22f02ee79721cbe292455a23f90bee4eb62982741e6a1d03e9ed47c422bd06de94ed842a041248a5cc5da794eefc3c04939f47e5be3ce7b5dec4aa33ee5bb89b0875ea43027a898365c5987cd55935c7bc206c2ccf4dbc5ea2874a57de605c3f2d33258ee00945fe07318cc41406ac0ae51287b19bb3b29bfe3a455dc642a205584da6237208ef81ed6497e62e6c0860bf68740e47e70d0696c9b1c4e76c8340a2a3853390502b8f2155bc2ef1211840ec7c1794b276c794f279cea46af3ecfeb471e0a2c6a41da22f3997cbf5133fe755294ab7070c427537d1503368d984c1ed467ba9bc1242070e2f51850fa69fe140720344a9d867ed4183c94c3d3263b2e9fa451dfa12607ebaecd5cde81f9c60c3fd78d0431c8e6b8970d16e47974b9d908d52c8359de60d9a3b4798698693ef0e9445f3bfbf764c67641f73419fd22be9bf8e3f712a4888f18f0f970667abc59b7b5f5e203266c0e76e883f5fac4146c74fe171f0bf804d932254f1e05a20a70d0f0268ec06a3e2d3d7f3a294f7de86c91d5fbada6754e9b45c65f39db1869dcb9f5627112ba77dac2e98b0c430149d4630ae58457a035b5ca2a8f693ba18aa624f1ae9cdda2310e1c9696253e15ef2b83f77e9bbf5b56972c14094a1c4a7d749fde9fb50666f9c4252ac146538e0864ccf08935803ce905ac29cb01b99e5a36390f625db7208d02748922c3a73a6e89820789f230eecbac1e653d27c0b06d21e0bdf8b0d797e31cc2d911eab476c9af1256a0b0957423282fee29bd6b0f2ac1908c16409f88847473032135cccc3939736a671b9715193e5abea0faa0ea8db90295e1ff0cc0246366a154080a0708ab8a484644937b6b4e49a8c5cbdf1e8dbc9ad2014694835eb2ce1b0b36515506bfddc73acbfbcb7af51efa73930fa7707208f8c17b9f6cc19da6b1c0a5398b3b345fd2a6e3f4d7e70657c12a7a222e798b7f8ade83695b6bb75d8f9d703e7e383fe2c8c399c09119e111e85d837ff405c236276c3b1c03803054f79fe0e3c7ca4f892c51033a58f86e62ac2f268826b57ba8f3ad667d4b1ed963b2bf41560542e559f43788d8e4a2fb769eccfd89f8a21d47f0254c2eddb69078446f3a931099151ee0104f6f0e75e7bca35f9457881e59ae44f69d2fe3fdc066b9ff6d3a85a0800854796962a1d5f9ceff78de4dede23628f29c15cababbc9409db35ef157aa9ca1f00318152bfe19b0d9c8fe77fc5dcb48517c85fc9e6c51cda0f4628bd6c719fb9a265b156430d3723147e1f4a5fd8aa322957200f639a1d1e7a9b9babd0c01385adf2b8d8a0944a5779d180274d6924bd759b3953a5d7dca31a8bd5602f99b1318328345a9d694789b15772918c1690391973cc018de29f8cd862e2887dfd2cd82980235db6ca95826482e7ea1f82a7bf2ef4623b7247153ad618527e72a9dfea05d212720458e68a0c64e8f895fac3e9616df8ae8b072dcadf386e387c09ef1a5add1ec288960c75e1adbbefd883a2f8cd3319b8871e9fb034331456f81dc1826b51af154a5c7740bbddab4476d07cb3acb772a95fcaa1b5192056cbb7a96d0bc0495786cc2ea0a5069b1189072cd8a98810176aaaff56f51d317d8375e8adc90e8a4e334e987d323827af2d70d79d01ff08ba91e78872d96b5e456d896388b9870cf974a717768241f0a0972faa5ebaef0f14034591a74f95f11f571004c1d4a4d171beda53cd4ee402bf70582e5659e50652602d80da4514214da4b7f946b19be1979ef79747f0aa47dd37d8b14c44d9a878428ce93625a60cfe384afa3af691eb6a11003c31ebe6758d090d90c61c1d82dc98574e4f4b0d149fa4bd1696680a1d944ac3e5daa4bef739ec9d85b1bfaf515f2764dfafd04ad4e371c33eb2f098cc78c74ee3ef3236dc934d26e1f3ae497a127da71119cf05275ed9d7baeedee6887d564064d83af32765cde0c901368ca78051cd7d1cba1b1daff4c8f8d1a06c9e41643c1260cc969a171e5c9ba6f6417b1022a7f42029d1c7ff7de466c78068ce6e4815467891a804e7e808a774f1fb0a22f23683a6022860a1b2fe51df367677bcdef71fae514f3e1a8b872ad025bbbc2768ec898e1500ddb7699bb50b954e62982e2d10bceafaa6cdc8a74d023804b7804802f6baa9d7ab78e3d7ed475322ce7a43c0daf65ac055fe924322fa297e5e512450c89d244207fbd560e4519992ae36862ebb8c954d53c62d135f821a2035aa9bc96224b6128e126fbc3d2c069e763468449f65bd5d40f25f3c3dd1142cd163d1ff121bd630204a381dd87a346f420b7f3096e1563c8456d15617fa296ebb86ca369a7645c5dd63454d89010e61c66052f2802684e6fe3c7ec78c44a9bfa46673f3d1d4661c190d4087c892ae92fb1c217eaff95af6721f8aa5bc1fae31c511dcde9b86adbf124e14d16ee6ed1b9a25d165a11816ddc85e58971f54efd6e4114cf5e46e584c5a98b8cb3f15890aa26cb0449bd5f0326c20270a3e1cf73203675f095d3fc2f71dbe2502a8d6b500f2ec0c23414e301d49352d40892d82703c29d895c0cc672b85c602ee30779bf36b509fe649bff5bf11edd69dfe05feb4c6ad08b25dccc12c27c6d2f5d1d852c88e4f0be65625cf4f0e422fd062b8a27aa01247fad15ec13f8fb16e4ae807936f881c2c66a2180176b17e432f0e61feab23f9ba783903d51ae618406222f212fa6aa1646ef240290637d4136706e56dae6ee2a6f8df413c454247969ea3c8abbc243878ff87f6b97d03ebb8da16687fd64b2baacee6c686f278ee87a9cffc35ec710e1fc3448fb0802cd5ec500b06d72daeb6a0acba04cfce52b3bc581efbc9013af691b734eb1fe4bdc21a5760c5379b7a328d1c1cb6801407a98dc6cdae68163c7c5f73e472dd0f8db66ae2bb901ccc45de12f96eb21e54dea206af8926308d75ad9c927cf88703ec0c0c92e8380c75b3044b6e6065718216fec9bac92ab8bcb2cb63396eeadb5a4c85a5304a303b250a740e14aa2b69e262f22a7daf00bc458f94aa8607201772ea75c959707e70e5609532ccc14727b3944d882b28a9d141a3d93328fd9eb5dc61e47570e546841b98c640479cbae3e44013888c12c21dd76f44adb393f9b3e63e75ffff094b0eb442ea1d68c52fbae25dcc34d74dee0538300a34d1ed1203c0c05b04a246505a4ecc14d66c7d408dcaefedc1e51b6857bbdec001cee4944a37249cdf2e60fd4b5c9e03b4a15b0d8ae93de4316bf8efaa59d4525a161352d25248bcd0d2cf2a171ff8f72b6b0e6b69b65e7bb21cf9222819876403daa92845c32f0823f34f3575ad9ad913fbc987baf7816dd6220e96a540f741a8ee86a73d00b494adf47bbfcf14293a6c75579c0ffb25cf42009f636129579a65b9a30e779e6fefe7dca3f90d291a13d2add18331a79398e7c8ae00aeb27b3aa46f4059f898d79dc7b658f66af3204f7c8dd816f63f95ea66f600b320f63ca7464cc093cb336190d9823b02f94e6b68f3792195199d6592e5d80ec391b19d695a0b7b8b555edc28189f39f3fd70d9d874a7b16b102a790a7033ec74eb767eec395b8a3ff60dce0d68932a26268679e5b861f7424a2db134b04c8a958ac1bd5bb24364bdd67045ec4505d65f8dab604dd808ec135fbcf3ef286853d2d94aa6ba495ea77fe973d36ad191e1e92e0b470090caa921eca08195ba59b786ffb975b48c8747946b5341a939df81e9b0539a693ee218497ac32356b3549d2595ede43fbecc374914e19332febf833f1abdf5afa4c7c9cbdae7c920fc0000bf517f028f6ae7c862428f9e661e0890cb52caee687c0a70c5b22db917c474ce57d123c147e17b8397988b6cc063a3e81efaab79b91044b1e26c8cbd986e726212567687b4603825f5aefc4ad813f791d72dd84d0a002ba56a1b53096db0a64fdaf65711768d983da8e8eaee377a7433d9f086ca528c6288af1739e52c113824881e4d38d357102739a15e7b15cc82a36f1b061ca22d07d4872398efad1b526328f287e0db25a32a633e383e6bbf92e94fd2585c59aa96ef11c06b001563eef8d3c35b792b3a35a996bfeafbe3a10fa96566a645f63c46c4073387fd4f2d707c79f06e3c5f9e6c377a750b0e41edefc4ee5f1b7b2101b429110acb82639555ed1cc53c09808c88103dd7d2c2631b5016d666f5d48cadab71266a793c1a873baa6d5f38c20c31a212438f7bc4b9b64eae0304839845dcc3b00d69bc70934dfca502d254b0372dc95e2246f829e910d379db64cc7f156c5d08c964ca86dfddc7aca9f23e1e418104474f6f5be422e34bb386d56b1e32a8e111aa71af8b2ea35f2e7cc402d17d43222849136d4e14b0ececbcad8e9f149b0c39ebc6b832f12da650f87424e823b05a0eb11b544560c69ac2b8975d26e8324266bdb98d46493875be22b19fc6eda5969d781b3310984248d79ae8eb0ad444ffb47adde2b15416eecc3800ff0e5269d9efda3dad54529d0fdd8b2ae7fc5525488a904c8d2318edf02f4998f4992eab45e1d7d3948cb8785d1623c6aa5c1696fc6b88d26273f8aa4a4cccc28beda9c3736a3465eb95eb3dd7f0f18279e82ad6b2911a699c18e971bda354a2a63b01b4576a18d1ad9f5b1c61cf87d87d18d0cb441a8141afbc1ca02ed72d5ccc2317b15f14d2398b0b4bc48cd99e735544710edffc336d6ccb01429d8c6e7a5b39794ba85b2dc7c1147b44a79817fd9722485f58847d7da8863573e753a0ebd06e0e8570a28622267996981039e63981aab0fca0b6433bcbe037bcff1b094d690f47fb11be277b19427d840b93de88410bf35e9ae1e03f4d13d0d4046a656ed0c6273040fa2a0aaef967a7afa84f501e6227710f650f2dd70499eef620173c8b601276f0971b39319c39a9fd2d6a144ff46136f56ddf7eebd3adabd674f0673d8aaf48c47c7fcc2549c3a13d4c3e58d04a0ea1df24208b116ed9ce0f018dfbbe2f1ba77f99018030729efe6b19360aaf2f6d696e96eb09fa1b8a383c298d9286e88b3fa58170c610a67df06b2f2ff4e01908d947200cc64325995d7f26f01c58766e67fc8f2f24d285bf8e28042b4e71b3d697400a437be154cc4d1423a14fa4cd24791a3c401613eef7c7400f1d661b4ac7c2407f2e96d9dee2b7491861e533aef75b9d9f26bb2b3098bb31349b013958306e3217bb765b976a7607e0f3e305beb2a2160c5e76088cc8da3d8f722a129691c205ac2cc6c5262fc314975ba2a108959c2a8057b2d177c22954147811182d3040ccd40c89f557237568b7309607a0b52b8572561fb8f92b6d4095f0f8a29a147a347f61c9c8969bf29fe2d73d3abc5c9a6ea6ff1a68ae3c5b30cb0ac4ebe4caaec5ad411114b2b98cfa1741a5ab27a3a68e073d545ec55cd666f314d5d185ff79b68e9ce7a70606f69633df6ba7a74d052a2e18ac68e50787116182f224c3973c8c2a13513c993b9624844b2c89d45871692c8dee30b586f465af6707520959daeafc2aa41e002606d1b98bbe8be16210f46b8d118909f57acc4d7e49602a752d018946a5cfecfeb509333c85b6f517be2c7fdbfa61b4295a4c54334be79970060e66a290b3ab4df0d44adaa87519186e10a83a1a71080bce61","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
