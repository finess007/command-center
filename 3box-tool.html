<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f83cf1634daf4ce971733f857b7ac30c43e6c34fe38e746ed09a8f2456431e4957592486c786d744d712a82e2b383bc4c11aafaca354d629d9c31af4d84a6b26fdb2a1129ea0f7860faaa465075f76c00519284bb971dff15347cc702c65d59ac858b1391d2dcf23688a2dafc73aedeea9d07ea831d68fdf1611f0d9257fa9af3cb32ed9bb175274042ed453441338ad44f9027a17f6472306b5eac8aee2d2ceda6e9cd3b59ea985f0e051ad170bcc8c87df9e9382b2c1af25b710238f53e29c49c381dd07b4e2a0c2264f35e080d8e3b9f190102fdca848167e33b7b72f011d1b9f921113afc062c78ea1b4f5edaccd0f0937cfb3cd921619f38fc6a55ecc8a79453a3ede9d2cd797715bcf0a0d1e1b1d7e167484a4cdbb817152ba666ae33424232af419525bf035d6592d920be849afc8224e7bdf5eb0d5037f0a8e7d79b5ce423e810abe6a6fe1eae56bed7edca43c8e3de95c687dd342a2f91937a28e8c94f4f76be5ee52e787eae7c003bcde6b66beb42609e5fded632e3f0d31409f0c6e6a68344374396edf1ba01537db137f7b6158f3d1adb8e45f0021828e98ae3a7805353c57acc9d6f8facc4e0453d6f6624e1e65308945b1f0cfd4020d73c0f9200a5c4a5f39397f876da16f2851402198df83044fd29f47cd5124eb652407ede71d8500bd8205a8bf27a3daa789e7395cf017cc5eb56313503a40a242446e7ad4c31e67ee83c0cbc799eb049079bebbd7336db5ab90dc2c76ae457fb798692691744fd5e0d941f3c7338b545dc5fab2a6a8ea417b3abe08e1488e9da046e8d934ef66b839f0f02acaefb29c13ef11adaa3dce6c810eced767e409714ca2b0b1dfd103ad4866e287bb28c5ddb5051db69008ceb4b356350dfaf39135de58482ceb305d3f346b501aaa9b68382e1bac7da3181a06a0472744b618f2525adf7f1143988049b45f1e7216fbe39c5edff7fb258b3421ce673521e5d62e8dd11f1797caa6eb3f11f87f3c4b6eca72826d903a0624d0bc6d5c90f28715611d3618bc4576f0276f510304e13873ab54c79959c23e3f02c5ab18679480e448ddc9bb87827c45f59b25d66c797597981d04a06af3b4892f4df9b427f919ed8bce82d5a41a989c60a5e5653351be3c08c0eec92a11a14242967236de2b2eaecdd3ea66722e3e0b24968ab13203c095f2eafdbcccc3699625f7f590ae322c7ed2c8e37171da571b6fd783216d247436762906ba8a3242ee28fcdcb22bc34aaf816259e84c3e5d53a1be31d3ce37ed2c11e200d5881a5e62ba69ee414528429e2a2a0889398bd28bf63cc4d16c512c0e436c80b3cc3030a44f937d6593ce9589d0906d24bde3fc49326986fff504c17d106d56e067eb5ffe9f08d8d3c9a6edcacf3552f04235e7f263e352620e336376d46fa0d5c0e3415eafd10af7d09c64e7b2782ae8fc483eff44d5cb22c201d0d6b5958b582ef1bfc254250a29c6e754937e9540f5adcf71e2069f1c2c1add0e678c003805aea21d58f6adb0cd2527b45a6cd0fece847c64ad5ceeeb11ba17b081f1d55a96defb9bbebd00b2918748cc8012948b4d30b617d61a9e028cc935d1ea6e987548e08a1c810af73b7bdd2546f318527ca9c68b86b50e9752109f363fc394c739f8746b5fce336c800ba46e4e6e5611b5ebab47053baa886b8ddd6aef8b3126b24d5cf9f6c057455daac2acc9230c41ff6572c019199960fa73eb3f99256853655a3962b8427bdcafe8a83f65b11d82aa1a0d902689878c15eb0d60de6caf50d8837ad68404146652eced28e07f77ee0b0b04a48f17113969f40f8c085b2cf0eb4e1b4fd889d8241fe5cd352f639ed25135709b4e1d2e1aeca2f0512e6fbc852628feb3f426c3f4e6744419a1f5fb21dce5602b751e9725f96236ac5a86800002eaeb36bb58ecbd435eb2b427284672b68415bfc0f1f77069790472b7afad7df0d7b67f2f80b5c068aa6cbcf452832655aa48c767156e8c6a57f3f5d3d9729408fc0b8b9b339574b3272158f29fd5e0b8fec3442f5f127c5efcd247be9e1117ab48629dc03cc733cfe70d70cbfab6893f11e5c566beec85933e959a669f66614542b01ba7b9ace46ea937c15dbe87257eff76569d020c903ff4d4d0fde1382fcee443962cd6c0ec063f5ce3f7fae2a72b36616a4560ef46ef0ad7f005cfa8ddda0700405ffedea9f3d16d1982670cd72ff5afd4c5eb2b4877531510c12a1ef54b23d21a5a3d53d5c30b48f6c42484c98396812d69b5d1a52be85cbffdda7c174cd1284e85d800b18c3d614c25eaae126695c4ddda65577a4ce4f78af11abb5580a56b8ba95f393cd5b983903b5ca88a5c116de78d41b1dd933893aad52bc549b60bf1fa3248252a85bf950423c09437d130318c13654bd45799c07bcdbf869272f070d79aa3f098ce3075573ebdd028f2c9432cfb9d9062f563232fb36cc464d8e6bbd07e8d9040c2c61e08232e5793a2a980227509e3c32888197fa876a348ec3e069d5e48d9ed6025071ee08187029724dda328d39f4125b71c23e22e6cb9f22846300b38ade63d7ebecf607195049fdb57e3de0fe5d0641b62512be3de6df7243b43eb19cbc2bf010d7b67ffbd579bfe1bd21496df4f63b3c1044fd9ed5e11bc8c5f88e9ed7482951834f9e5f7b1281b8d4d440b8fab3e832079ea68149d361a9755cc37d854beccb714d260e18dfc6806e9c8def92883a8edcfd8f7e4a7b9010d9a9bf05782dd4b9f887df7a12ae6d560f70ff50227f3d3d85211b0bbbb1099f2862bb178a3b80770b341d21cb1941cff059098099f0f1fdaf2d7c0121cdab76fb587eca7543f6af4eb693438ac71b530b34be119e7746b13a7d613aea3e4c3cd25059f7a66593c5b89ea75f15cb08fb01b69a5e7341e102ed48f30f0c61516ec968479a734b351e3f64fce898c254af7b6203ac04301c796f53332f16c3837ab2aeab5636431136ae5ffbccb243fdefacd9644657271cd3ecbc7776e06b547ea21a29ca9412dec9579a1e4fd8bb236bb2656512b12b9944bd857345d685c19d852aa5ddba547b47e33678b99fd2e8c139cb01eaf5504194f15b209d4bea6eab8b919b18384dbfb0da1bf25329b43ee3939ff22e02a3bafe5fd446668cb3208b524f9900ce07d85bbb6cbc4a0a3ee76f82d77bb72310cbc69f4b9b335b031c807ce5273f8eaa55b574d8811dc1066515b9cc6ed8fcbdcdc172ddfff5038e75ed978a708a6ae03dc3f13811e6791ab5aa0adb52da34fde0c1f415f74d8e70e745cc4460ba1c1ed392af06e1a274676c75e867d7fca2c29067fc464e26dd087f79c89cf68aa934b83b115b0e8a89622934eb0d6e1af43d5259911348013b5a0dcaf68bf5df1c9f5b1fa741ae29aeda6213a158af6a29dd4bbe5aaa9858276de816e52a60417472762f39612c44c5a1b542090f394b32a476fea3a4b109f0c69767c673239bd7745b592f35b42285bca97270f4162d4f4fc66a92d483b2a520f47e93f8bd0505d44c1362398a2323a32b759e23e5aa9b4b87c458fa697df7b6185d8626f9464687d146e86e96009c34de955780db27e456712c46d792744df911c84bfbb2ccc33aa0055a053c1c1957d78eb251e9cb10c0e6323df3d64c71c84c503387cf596d482a74dee9457e607c8ef337f12f1c040bc30d4a59337c5904932a331e5979bb560523f7d56d297a34b78b6eab93beda4b86a4a9e1f084b41d8e268f2afe85973209cb6861c76e6129db347921f0b607128821c092140aac78a474eff9e4aa23a46bb4b14d6091b468e2e3102a32eba8c4d16a1ecc14a2b64f25374e85d6320a405354f8fca9069c07872c60d4444b65f854a1cca7933911e61c295fc5b53e371c1954112d484dd1ced8b4d2ab782a4a4569029de2412ffe4c8904414c2b358afcc371657062ac86f99733b468e3e853bb3805bd33420db08c719a53ec866816a67e3c26751f80ff208bbcf851a023b3d76a1c25f8747e7448bd9a76ebf2ba7a7dddee13711260cce2adb87603c62105c18c5d11e8f2df0d82d09e608c37d618cd81bdf99417079dbf2a79a259e599e1ed9991c22d8327bacc3e3c6f99e557b81006c5524c94d0b78d33c6868299c98f414b606887026df0c8b2c582f2ec092f0c05a3c3c469f6e4121ec2237e3d243aa5411e759176b61edb6a74e4ba31a79f000c4ac7b40757f9f0aff2db5ddffbeda0a251d82f5da2f35e6dacf5b71bbea39ad824f5d3442000f96b9e6ef49a90ce692c934d89f9b4b499d9c914d0ca0e4882ce0b2cfa82d4dd8fce5ee3e193eb2244e4722775938173091ed28c0304287bfbb4d3d8986334e45176df7ebec47a958a1e61ac625fa3295dde92f219d246e3c4cdb4c9b7e5f902c569864d05c3cbc3df2ca801d52ab6ae70d35614557d0ed0ee0ee5c81abf9ae81c30d501684b9e50c4ca3745fdbddfeef7e628a4e72e4acd11b605e0a2f57ce1d0ce36177a240d75c27f6445e69054e7bbf9c09a1a78c083803ce66db3b1d6ccaef2d608db10443fc629a33d1091c062dd634368ed3296f46fc87a737824bef6d47c8e9dd47a5b568a38b2d0027693d1a4daa9b70aa9adcee6400bb264cd0d6080dc3f8b8adf1e7fa2dfefbf1e1c060461aa16ffcf9fb0063ffa6abc5a6e1150d6eccbb2f1083ce4d75599713d7d433af33613b453021c37338056f442da3172f089c7cfcd95a623cdc94de205016092a5dd2f1266c9f1907e667d0b28fbe528fb2a6e280eab7e19b39260304e7e8920830009472ae779d4e849ed77e42d9b878af1015a2cdccb57a9058a6e606b0e7db1c02863ca056eb97d1df5e1c8c2a4f4d5bce68e404d1a54ba3f865cbabc453a61b5894ce0dd202a9d517c26c6b3368e75ec45ad48d434e02980f50c14171caa4a44ae894b187dfb2058193e6d50a62e191fce36bfc55f26450697684d8d15786dc12228050ca2f7eafeeb1b0310b2a57ecec38af9f8a67ba489d51d0a2ec6a742596c1d88df7bf394c84a595161c5b12517fe4a1afe0e8830ff5f2fb12c14e227a4a6342e74a0e672d338f70c8d7dff2f0983bc21a1277afe84389275500b7068038e3c72584e06d6ba13c5419e25365ccfbcf619d9bec45a3e2978f5dd4feb80a6680d540badf41cce115e8f72904ea7d4ba2342a2eea150c95c598cb72e4aa323f8022ba1f458b00fa1b6aeeded885adfe8c226a1bb8d3e859c97d6c9723f9a63e4501f1c1d002a8fbb9b4ecc1783526f783e3c042b14d3e8cba2074f75d0f27a6340529d78eeeeb6736ae9936fc72866798f2934603aab01c3b56b07819de74886c3f3775f48e0dfe82ba390255811e462e2ccbf3b9abe3e708c96770152939c1c266f55d515a94e84fa66d2e9a26022e01ded914d8f80bc0c283a9e30342b83f016e4ba797b9b7d1c0975a3ebfd217ac481a1b0e67942dadc1977a7ba0495db877687b732efb7727377f13c9806d5b45d5169f2facf446c33e3e71ce134f06270c143e26b2b537a6052087002d10ebcc51887729699dbd602dc453dba5974b89791f1d125df953da75311c85fab6b129e9563524b77105c2d7923ec908ce7167496a7f815f8b553a7aa1e80e3523f8ba066c32c7c88d303b4d414e01cf3da7288ad38eaa0043e005ec9e77b644520487233caa1e793dca829d78ebd112eaf3356a27c0a7b79804cf2c190d457875d2ee6a1f0a806e038be34f2ae7162edc04b15cad672ed3b8664d2183547eda61f0c5d9078ccda1509a3b91c6eb2c84c2609672982e549784f5f539ec7c359302859fb4d84d6c3a04d7b449aa1190f42a75da6579d0e25a9f1d012f501a78769ff2079eb95237bce9b5bcc8d6b5c965c24feb4962ba2dc8042ab0f4fff9904072b48eb88cbd74c9f9a1004d06161f4edc1fe7e871381a05ec48dcb53dc1757d662d57352a02e645f61848dbfd8bd062a3138f17cbb70a17b209b692b4a3d2b6c6e0ab5b578a5aea50eda38c3c5a2a8bf30ebf101c1e59e461d55982be997fafd993c3a5ca669140698804f2419a4e14dfb54fd11b2b5597160235b34e833ca1ac87426d10227cc5517eafd9eb25eddb5815578666ad2d4f3f55ea9e75faf5a0e5e555462dc1f64a861b51d706df757b437bddf2c9395d619b7b2d1b77c23f8562ac94208d5225308f25dd3792286eabb6ae58a3ea8a7ac40170f38471ce9eeade8f3475f2137f822bf9de8457e7707d0961743da85c16e1d454aea97adab544a6d1633a9cc81d12e22cfe252c13bae3dc88886337c4dd3fa3cb2045108e63838106a23cef2eefb4db7e6aa01b1a2ad1b2454101ce093f9bf04f2e77bd39e00252c5c823742c8aecef36cbc3827815e7f0bf86c4fecc099449910ab14ffcffaf82394c29efb16b5c2695aae63bfa178e8e9feccd92c488e96c04bf2aafaa5a70f70c378d1dea2a2ec9d2ea78e339d0a574c546bf4288bdcc41bfcda3475f9c8ffb8813ba8c0df4dc14334aba9cd49989d0f9a31099418f04c5895558967e868de0be29bb81b928bc7d4f8e2cc681a38c885d3007a9cf66789c73b937bc68594475de6b8a472b34f7539c4e231ce3d6c2bef99604ccaed741a3a68607508c5cf0501772a7a8cafdac9547cbc86cb1bc94ddea58094af3c486af2ef34fed185d3321455f2d1859ebd0202416e88076b57d97124b6e1ed5522de7f3455c99ebcd6ca3debd3f8153a6e70cf6f434c2bf1ebb9e44a4730447423eaa53d1513ef616ea83b72d05d15fd1d2ebb4c93af985bb594eb4360cf3f20f647cf1b37809bcf619d357362bb4a01b63613a2733da3781decc10a9b912ae0c75246646313ee425de4438a9143cfe2ff234de94e790d19750a8994366bb38d062be03d89330f232defcedab251c6aea85ecfd47e0e24134a812231d2a0c2b904b32660bc1095def15559c80adc9774b7bbd4c72b2e1165b289611f0400862860e7a684a90add3dd2176494482e3b6f38c23299ec8190f1bc379cf91a308c8e3240e56a68b7f132e054b3d188b80288262318980d020244a6b862eeb42a3878957aed304e363a1ddf5abdc0299d7e3de0c890dab1c481c9b572b92c82eefdc71e815e249661cc216735f4fdd193dfa09ec56c470a0af60d0dd3adb855dab73352ccf74bfe005b9263bacbdef7f27ef58c8eff975c36011dd24edb270ffd5031eb0c49bd12d94763d3be47fd3054185ad7d0e038481b20e6e99573f7e6f9e46fdd0af4db4c87860f3125ef4310e0324c104d9e2bbf4b3467025ec7cb53bbb961aa2dc5efd4a3c7fe28254b91db717814f3cbef78abba6b11f6d6671b27b664219e631c1a317a65fb973a07d0c4c6db8415bd32155211a96897f9bf23e3bfc2aea40c0e945ffb0d13862f3a04bdd974552028f0ba2b23a57e56a7a2ba171ae7f9fb75a6a0be2e9fd737a3b29335b74a0efb017e80451c422b9aea0674d74d1ff227a78a98fb7c564c256db9ab831071a9b18a587a425228766bf33c097c2f2b42e1dc3132c42f2a2f44e9460a2f1226666cd79a296a58b5f7122fd2b8637a5af12970364c69d4fc85945541212468021b215002e8a4cf24505f125c3b45dd41734811f83093d5765df62e98d288958201599e9c49d0ae503a0c8f4fe08ea3c3a54cfd0ffaafd3e11ef9a4b29ab6a67c58a9a60449dc4913564cf0138b7651e7bc57369c8436aaf559d6447fef30f0648969529649c1b5566934170f9bb31dac034233d2bf784d4ba62d6fb4bac4930eb406633e481681a25587a572857dd47a6903ea9afcd3d6eed52fd5fed200dfc3af64e82a9719340de85d80063ca66f6fb5b629836317183b6d5a517e85634e1ee35feec71832ae05039c05a9d0cc9731d2282786c873beffe93a7b51e59722b60fd210f7d0bb3ce1aaaaddeed9913ab37feb861ba8bd8c7e0f4722788ee0a5cd030951ed4a362423b0ab969d06b2eeb401e5f2d15d052ecebde521ce59c1f873eeef753bd794b3681ad31de204e55cda3fc236281bf99b06a8e4b47f44e416398d1599b46d2a27a50db946a6b31e243dacee387ec221109e2c3b969e8e372661e78d2a6be64487bb58aaadc0f0aae016447062ad4e9280618782c9063d833be6b4d528249aeed5f4b3e1988508e64876eb7746865c4de61bdc52a2a580585dfd23967e6f2e997005db58eaf889220610e3df7227a01bab086d77c9091424c9c679138d1197c99d403ccb8936810059f0fa7b4d78e0f55be84b937c78e18ebf552bc630ef8d7912193fc028edd760b680e6e00aaf25b44991448fa9879e48ba596cda300070c5cfde844f8688a01d5a1faf730390d5188ce69bc6f1ee2429fd0e4d0ea203fdf43b3365aa36afc6a85a4dd42328331a3fdca10e2949ea854beff1ca941f90a05a0d8a17a91956240e9246f53633f4c5e1ebfa410dcaf45f188ae32befc91075fcd5270d5921cc1b0618733f9f42d32804d52a352b7d855d7cef7bc1608e08a41bb79a3aae54724effec419fe4c88305cb85694719df63fe92c73953ee62a7349842f45ea79d4b0d2b619f13431c3553ea662defd126c7bee012b77258ab0fd5827f2b2f7cfc2f812d020cec6bba4405aee92ffdb5a8bcba52a7d9bfe24448b7b261977557683c6b3151e6638a6758c076aac63e8b5c2c8793ca87805cdfb354a29bfebf9760f0c1a306fdc7b7db77551a1302d40691c74d9d289b2e3091bd7a4cb821d04cfcbd8ee1862a2277cc1107248287289f996e875c7bd9069e21f5d8070715721badbed693f6159cd454db1146b7848437c5a3f585a3e2f1a499b36d446aebd0cb88a741e753d994e883769c6964dd4bc4aa2a0d5e65a19f0559e47f3cc3786581258153373413a2ab5105e7c5bbd42c3f140e235c0a00acd89a2bd54d5f5d914660dc13a23440beebbebef1291a2677a22eff75d9890c59d85ad4033490e59b2d1a009cae79244ad690aaed549e03d13fb8faca267575580dd5cc5d04d43ccafc5b674e6c70744c3326a546c9354b8cb805bf9234ff2decf3903d2dd6dd8e9eab486d8fa2d136cb4076ba9eda38531f0f3bb3ee4e019601f2079dce7a1c520e527b258ca2e1975aed5e1f1ffaaa47d7f902be59bd890d3f6ef70e2cab795578361128561efce6858fa85f25d0664273c4e0641fa3c413879ae359ed3358bec1f64047661408dd297f8681a191e39c94004abca58747f8f859d6acea784d94e01c09f79082923368e8e2fd48a748f4fa755082a045825cf3478533e604a6d670ef79078fb4cc29837ec860124b5e1d7dcc8f492a3a8b1452a8cba79b64dec4a8cecf4d37607292c6c1fa9beb87da7434dd7e1c5dcf43436279881180c553594c89d5810758a0e12bc5d35218eb8e27e0eb65044fda6ad322135a9f9bd37d24eb99af6189f98a1355363cd32320cf10dea886e865caf77fcf9a3cd111def999ef795d886adf85ff37e4312ff87ade184b71fa445ebdb99d9953ec6b5148b60f8f107e8246b5758f59933a94762d76db491d1ea2054b686164cd19ef2d579ce79c756992d12599afaaa5b4213f448c8d28a2eb957653e0cd955b0858f730093dc26fb9e9d166287d3ca4df6f84e446f2da2279f009ab3db4f5225f61c43e426a577b2d0c399c382b6f4b9d3eacf677ccc25e1f98114952d9db44746fac4d0d212ac288df7e77cbcdf99d69584f0f5dc7e2372ca32d8a3777c4ce35641d427668b61f0e3df61e67bc2588da0d281700b45283b11f7f7168ab80196abf2daeba379ced6c8aec8c1f51c912342c89ae9d5511c5a6a04c60bd18714c3059de5083497ba7ae65b65795dc7c78f4815acb6b0f71d2f1fd27c1db872287d92c9b57235d26d0cd536f3c8a0aed3882b0dac6348568b93e73b81129796cbe1f444d2e3303374899b928e7ad0423c5aeb3aae3ed8712ead8c8318465306c4ff3f511cda3527ba503153891fb20ee10b85de6b386e32988d4ccadff10f33fed24e659e473cb9ea6c44adafa468643914364fb061b68a39559c63b1acdb037bae8b2cb7561dffc1246885349b64eba4e0f3781a03f447eb010862a11491e85247148325960c10e3d2a740c75590e65572ed8fb06669b366f82a7de21c9edaf40c71841e777e8f5bf84a84a41039cc03aaf12106884150e466e97fae682481f65a518babe04233bdc356aa114ac7aa7720d1119e59f7d1b77909b114136847ea70f3206b863d8cc3d786800ba9595a453fa3cbfc03204899d7d2a12c0e628038db359227edf7345fcdcce4e857e2230f86fc6ab997cb20550c4f3f9db740149909a9c6ad40faba785ec65c18a1c373dcfccfd0b8558a15a2abd069b02494b9389dad745c23db9419a27912e0d574e2cfeadd4c3f9d0d043af8437f373b56bc67edf9b2cf8b56115105f390dca46d9af66478046682555cc490912f3c1f9295954106d2686b106e2b995c9435032f9f17346a2262981a3b9b61f8190a21ba61fc66bffa443683d9cbf2d5ecd41f3435bfd1686ca1e11302b21b8fc8b5e0b17560b5f6f9883fe61e08432a13ea12eebba395a7bf2aaab8d444959447e43e44688f29f3f106f600a8515464af67e300b70347f46aa44a9b487c00e17970ea075ec6da7a29662901e2c95294afe2d10d1e92c14c7365e6acff7bcbe013c89a7ebbfbe92adc48722afc1c5999e63017689082d79931b051710787fcd5f1ef007a5f2f9f2d90cb6c8aa13d6d6a89a6e09bb01be0dda8a12215b50bc1bb2b7ddb6cc159a1abd19b38d5833756ee6df5456d942a8e14fbaec37ba9ac1d5ad05c360b7df2d6ed9e5c555f3948126a3776d85bd4805188200bf65b639e5d65ae152d8c9fafa7955ef747b41bca2a342b30e99755dfd99e97ddb4b00bcaead9813f9dee6341de2788d8eed2f11b39cf3487fe897a118121db40829109eac26684747f7a98641f7c63f27c27c5d7ff7685eb885eca3aa4134cafe75785934d9d6203e5882fff9c400242281ba54d46453b0511c54aeadaef8044e31bda0f6899ca381c89a3b800fae597bb8ec0be642c329aa0a19c86a3ff990f56d8fa405490af078eb9ca9be759ea5fc231ae0e0b531c151f40788ecb15ef30a9f25e5aa00e2c50e976bcae9ab3188c2c11017c8b45104cc9aa21b591bf059b003ba109c0dfb238859f07e09e707de1fb5fb16d30cac6b62db67e643d197ab53472c12501424e6d7dfa848e89636bea1efeed9f247ebb811d65981a6f74661cfb92d71fcd926637cc75bb6d158f12f90f543c7ac7d72d57889c33f6fcdc62f0acf42c32994934e8de7f4882f2e6d84ff238b472858cf1492b4f115d98a67b75f6de117e7e7c02a34839d3c4aa77a96022e953c82e51149dd843908983c008b560100037dd0d55ad3059bf37648a9ce0bc05b3ee31c278986febb505fdcc547835b2e01398592a765ce16949ba43d9701a4f56c2e9980bfe984b27b0cee421a798d55a3a4ce1d7b84f6dc0b9d578f7140991bf21fce5dc58eb976d37169fc52b117a315982e0d41407a67bd122930600afdfd8a7175aa99694cd721f6ab3526c4e50b722a6eca75fda70b7b32fa027f91e1423d9be1c6771fb5a215564cca284b9cc1b0f22784a135cbd70368546357f5c8244bb4680adf5f9c01ba177c4eca0f4f76d7553c2a4b567aa0bc79c09653ac4a966c0ae3fbb7862c405038a092299fdeccb8a314fc935e15b91d524d84dfb5c7da9623f43f082ea0ebd15163b82ab4df755189ff06aac65191e9d688315b5f37042f6ac45c48343d74d1f1e70d4705f0a8caa250b67fa48bf4dd203e5a7aecf62765bb2495de25c298a0068db4eaed923d91f36afbd4abe8fbd92159c8b9e09c3ab40aa09cbf6772361499c4611ad82b2a638d85f162743aca875dd1d5730244770687390a6b6a3c0665dde06ffdf1ddde71f5b5f9fe8d4c9174514c3abfe22d0ad0e21b6f0d2aeaaa9e9e39bce50233e63185a56e3a7e31d3b8ec95292b02324f487a5be5e43e8483b767da8d24c50ec02bc05cd9d59a9384b3c1b0397b8e2d73b6d964963dc73d6b660f3e409a354f4c00870ca1d5a0bf1124e688a22096693d65d7a9351f076a7f1300dcdb493708404798816da320a85507dbf4fb24d6487ced99d77cfbc2b0703a31ec77ba2af49cc85c1998c5fc67b1af5253facaa0115afba425354929149fa6ff53c450b5141d7e3a2f45645de4b0505d195b2c7dde52b29e11d28662cace813078dad5d3387ffb81e0d6a76b9ed99f3329cee5f6e4f83fc5137961d7443bc77d1ca26297afcd439467ad4b9374fe451e7d3bda9e3a1df737f63d501adfe421afe0c40529c560eae7f5e4a39eba7dc2f5ec0e7a14a75ff50c7ba61fa40adc6a01d991f9e37959f7dbbaff57cb88ddc3d60fe6b7d1bda1a1454479d47539c418233ab500272345fb8911e06015c6460b25bff44127f5aeb67d088ede11b100665957cce5d0fe241a9cabc7f94e56df0d114c922396ff53f6b0662ff51081a8c65a2448437ce7677114b720b9cb6302ddcc437bbce2baac04c1a7ffc537ed74e348cda4756c62cb73ca472724f53f2a438cdd26c887043d62e5b32613246a668b2e69479f02a38fed459e8c36a05c2b5cef39acb83179112b036e0f292f692012180876c8d37dedd7826d1b66ca3d7eed427aa40a0435918342ea7ace303f55436ea8683aa4679855007069ef3cd8f594bc1b453ca17e0f1cfb8f4833f1476dec74b9cb10b53507f592b0679a98304e8923986096cd423241ca9088122c6dae4ad0d4dcba7f460b21ccd27a82e5a46159886ebc6be0860c6b38194ee888d8032996ebd36b501d44a5bf5628e0b07771a7bedf1ec4a18fcc230c665eb8b3c58c7aad20ce32867cc63d1d1a5ead80a5f919cd199ab02c729a3f725de7e79c97c87d8beeb729f3b024156eb5378a2ee842a57685701d449ad003efea508520ef8c3f5cd0f7ad2971ed118211944c21065f0dfd268eb2166281b1c31e68a6b4303d7e3e7e38a2323b5ddc7a51159a75ace3046a95a4fbe5ac1ec64f125e6cfb1902fa95aa2403e3d25d5ba43fa50c89a72cd689dd9d262260476abe56b69c7826368483514e5e524f9e5a16469c84c1b58ce72355c5b52a77f289ac1745022123b5d440cb3b629167c0c89b9f1c6c2812a685d18b816e4a4786c132379a220ba1dfd8e6eddde341193c26315a822c531408a91d2cf50cb29591e6ee50902dfb71cb95e1a26682a7aaaf36a1366080475b3e3a1751349d6b559986c0632e97db3cb67551881de13508e0a4b584a563612d787a07646f6b278dd73099602e88e535de99e397b18c9a84d7f05d8f12473ccd11d604394a5fa7c63831bac39343ba59f04871459d42931e7562b47abde4f1e50cbf7a82e34f59981c5e63bbd866e48e157df43f9610ba15c289ee32578a795c0c225958c7718a73be46633d020d84deee3dfeec7c2c14a85fc21cd25f1d95d7e92c79df7fc32c21fed85df53580942354305a211a8b6e36557470226c73d2a4021b0098de8f0f9359a98862527fcc2fd5dc43baad770b49d1ee1330b7439c9a04b56df8ef37f2c95d41be0cbbdb6096171f2f46e80da9699d7496eee72064f82c026cd054eff5b4827fa0cf8ec8cc295207911544d1ac6e84f5e28fa8aa62c0393ee4845a594ca4053a5f29353b165de6bdfa096879bdbd167d0b82a77c1b4cc416c4dc0d7d85d12d3221828b1a38e3fdc067fff5210b185772552dedbbfc08fe0f8293e14de0ad53ec10f2888898c9c1be97c597a1d21f744196d93c3b4a31e7e15f351a74c902df50c09326b03aadd622e83e0f7d2a379a62575d219a60b19ad1e0c398633cbc295f54b843b69deb59535ed0de007c5aa0fc6386b3fdcc55ec0462e2dc07e952bcea9630d9a651ba829ffb900f257c503845d36135cd8ad635caf4e0e0b334e3c2cfcc95b43991c9d162a90f0f1acf41de88832a8a98ccba19efba4871f6ae3c7bd31523753e3ccba8f2866fed6db51e230a9bcfaa1e43212c66db9881f70f96a724ae0df09e98c2b07aa91e8af63722cc5341cf1f5e82ac7c624338e9064b2845efdfc942ac36f1bc7b9c6636f20038fce340757d073c583563137aa1dabb79a0170eb7fc47366c0f10ecf437c1ffcaac8a2a88c7fd90ae8aca6bc90f932614e5692160c09bbc6cd20a99964c6ad2e302597b187596f618d218d52569d4d52a769a98efc55ee847a48cd5f51f2489e8ef8c630e2eb3de6d195a80f99ab0f4dbea9f7b17104bf3f81b5352d0da044910c0a40a4df8e226266a280c8cb76e2e47801e8fb0eb6641947ef4922c745f22800a34a206e062adea7d56e2db7e203219edf03ce79138b6566f23a75cfceb17b3cbff3788a406a185b637dda5e39c7fbd0db73f22e416e5ecc1c6fddec0a64c2cc9b962af17f894ba3f640e04ff917ea20d9c3ea05cb1a721ddddbdd83dd7b7470def297774159ba2c02078765fd8a11523858e8e5fc81b097b6eb32217ad1c663d6b0d78e858525b84eb3614a640ec5948df59f1b3c9dafef89cf1328c2a14f757eba27e513aea71f239d37838104800a75cc4c12d155df6d2613fd25fa721943c26c766db7f5516c3a0accad8b55425e11ab7983252f4cfd920a4c6f38e75d1ae0c99b6c271b60ad14ec2edb516b928d8f5dd804734ce289d06e6f35ad24371a999f9e706f834ff6c0331d037163332a7b007ceff2c8378b82999ad459d2de76034b5f829aaec03690e8b52cb3d04071b36ad15ce59160addb9ec342c482c5b12518409f97c3dd2f140821aabb13a4ad17657e82bb44384f984692e0ab205abda67846a062dc55c6bf259d34e052188e186a393ae3903212fd832117197e3928489b122e686114761cf3204c3b55412a33bafa1a79b8b892c083a07cfac9000c966e890268e9b2a06bf88d650d1a1d351202b9aca495e6acd91388b3d228881d65ef765f8cafaf23c5b9637376f992adee36dd1c423f7ca87482847b712b2cc95fb1ada8f7caf0cc14c48676eb81cc889c4070fe2bb2002e2429cb61184b2f09f219232b181ad5abe8ad5065c132dfea39e9f42791449b2ab6e5478ef3c735185e5341a4bf168d64686bcdbbeee139a319b161fc7df47f906ee7035647063a5feda50a97213d2e2d9ec2049219adda4c94a7a57219c3506e6ed7de151ea9ddddce38a9219daec244038535904776fd9b59dc2a99a1f356625599c1eddb5b7a7f5a533a2db379a5c2306f6c7e0799fed9fbbb5279ddec61b8f328053457fd6502558d0c461b4cebaa2f09f6cc4f2fdda968c728aa0903c0fe808b7949e011bfb675b6a6f64b8f5041294acddd299ff7c6988ddf0046244a763aa838e6f0a5a26f8d03e7db768cc8b69f546e59f778a0eb59f709cd8aa0738ec6dc9894784bc621dfdd4512441d3927cbe24de8831848afc5ebf23a85ae7fc39ea45b45c8f70a91a422e51f55815beb3fef0599467245e24ccadeb731d89685b7c0c969331a50fc9ee81f653aaa3dc0d7e7329a60843515fff8916383ee7655c553980ebf0ed1102e980a2a9971591f55a0ecf676fde2fe87c59639909ac9ae3d53cd6a02ac08f08bb2b1971393902787300261b084fd26b5ca6c4de247f8a659ead5b975ae9000031d6db98c606baadfa30579d9159e653a1f9984a83c27cef5898474ec5c9a578f4db7d86f815dddb0afffe6d06973394237ad85109aa3c948e38bcae286ef3ea505d8179aca89ddd4e4b1d2000d05401a7a9064a9515cfdde78acc323880cb5b3a545b7203673fbdd403333749eeb5ab91aa805c7b526c2b6fadb90400e783edb366b08de81491f2f57426e0401430cbbda5cca99db9ce83c62550640be2b533c50290c3431b6df0069658586283a392463f3d76fd524cc0527d6fb638555a20a67a3202577bf4cf80cd1f32e272c2535934731c46dba6234bcd78fc2cb4be13180301d0ca0b26a949d71327ac52cef2990a8ecef3a800ca6ad8a03db0a064d2256a002797a4094c78238db52027ac195bba9ea560cce4e38619e6fe6c2e1037234b350475a9cf4756be50928d9e00e3581d6da60f2018f818ca9efb3edabe6858453e67e565d17e28741a3b54d6555c7bbe74b49152f6f64eae3271529e0a3e0eba084a33f07e1f555e95b2f680ee24843cd91a26706aef270689b7a77d2fa9bf855451f37a39d173ca10cbbb9309b86d90113c232c311c366896975fcf45e887b514f26dfca80a1233827a789f0bef8595c10ba93dcac36955123dfef8904f55d99f3d0ad1ad102b4d90313808a549e28fc2f8581eeecce738959aa4f7f8333336188cb5d59eca126570f841cc0b3ed97081f6bc47c0ab957726fb9bb9173d9db16294007a9e89f6c06ba1f93a6fec460535f6656ac42e9958a175d800c8787cac51d0f6eb04427c3609465656964d38225f9f26750ac931544db5405ca81e30abff15cb46fd70be405e8f015f00849a44886a6b5c3b4f7b574de2296c32d77f063d6ad6349d67d83bfc9aad47f8ace37df8236b3b821b7c2a5164f7368961a873a0395ff94423baf40200389ffb5e7e0dd86c3f428860a35c9ca4d56766047c8faca33ff9d4238f092a174c4557688e42b6b1557808860e038f54b7f5305aae188513fc9ab9e8432db323a0722ba766334ea4670483947e23649726fb15dcfd179ce17d31d8e3e5bcfbd73e0b590b7874568c1921c1ca5f09bce2541d83fa503dfef54b73e729f491f8b0851dca6b485c400d4bae2e45a256cbb82ff6cc774be8d5970be4d4326b8f9177dd3757540579da23182960190ab1673c424d5c4678b5590296343b937943ce9516c874411de37ad23ea831ad8674df83e7b16ea8c1d13d02d533be85ba311567abbbf31b8cebd7783b44e49daf3b88106898c7c813a16660d0f89035194621d0a8fd399a7a6af62ff7ceee7e779033eb0e16a987b243e8cd244ab73ca03bba8393fb5333caad5d6792bd2acc3d37fa220b55567f49e521de94288228464f9bb3fcb7b3a9db8e160ed30741b2a5d341879022d3b1a5eddad7134c0fd4f0c97f552c465b54ef61b3af23dfa3424785b326a3883fad65e5fe6c136247d784bf3e2a6ad439b078d1da5dc8988f9a160f9a9949332ff279a7746ff47b757f633057c2c49e91208e2ec0abcc74046d31f99adaaa525997d8a705b57ebdc77cd62f9c248e254adde4eca9c183dd8bae3a7e80f3ed2567cd3b6e1b5065810236e907e2b8083765d1c1e7f44b89e13c8c3740c9f730be5957678709cb108fcd4e5a898916af87af0e5cc1d278217604fd4812f1df8495972231703dcaa021befe5610b06cc17ed99f8156244d00c76f161d62c5cf92d4b58ac318776e035c25bdde6171ef7c4bdb35ab662d0fd5931fac0af7947568a330766ce65801109aaa4a0fcc5c3217783bd6b73f67d7e511d936eb6933ae8f2e2072c59b34224c8c7130177b8e5e242e62a76191a02fddd775b1f4435bd7ffe43ca538a3d2e8a917845c9a4e53990e2ab68fb9045d102259c2b06fa8448ceae8124d328cc02559f14cc50b687594273d7c1688dcc6ea08eca12c8704da437b9c800ea5713196803eff971ffeb3e35b64ff57b6a2e5d7d46b5ebb54c184d9953e185abb686e112b13c796419aacbda2fafede1696ac05cc1840572ef4a995e7eb5653c7390214e9c39f5b4645ec939f5c0b0c68fc4b65c64d0c8ecf2939c02d42acfbd4d420c00bfd19d978566a4ba7f8a7d7b18e7aacb3e55ce5e6aa8ce23e43e4496e6a35a36cdb23edaf4460c86b40fb6a49069c891f39e7885c74adcd1c9e6f601440f73c8c8ade2ff6bc66441bfc45ecc217332d1a248783dabbca1f3212f3061981be6c5afe074e84d0a97d0263aae89e6027aa7447a6c0ac315aac9f8a49c564528c5b1d6130dcbb2057aef862b4776a160ab0b9ceb710fd1f7fe9b2af55989cab721b521ea458a857bd824b44d3ba1ed2de16357eb8b49fca00207b5094be96753021e5b8f05bc100946f5743104f1d76b6252435b417b4998c05f2c12425b4ed18c1117f28fef65c61deb533ea5227e206426e2469eb4e9285cbf8d70fee42546b82c3b2be2318c0bbd12491a4bd363fa070646a3eb0ca9df0d263120e41fcaaa12accdc41b0b78d31ea5f72bb9e696412ecd652529aba3f6813ab89f6b3485a642e6a906b694abe7716a89f3ac1242f57c60d6c2fbb09571f453df87237e4f788951f7f6c190d69d52997bb9ba6f92407e9215ab7d2b36decf00c3cb3eae4b4b0ff8d925cdfae4269bd09e95574bbf57f99ea7810023aa56f02906669335d689a250b57b3623369ff264568ae8b41a781073af9c29ba7afabb4f77a3a8201ec79046c5d75df46ff2564b06418aa0ff4771b89feeeaed18171939349b90da585a4596f917e910a5aa2e372d5a7ed7fc0de7c7fa02abd75b0622b4222a2939868e0ec7c929029fdf05f75162b59204a781bcd67e5422da175dfe4bad1023c83a295c844367ca907f8dfec9c950cfef8bbd9730ef592cf31893858a8bba0d6e60ae90d81b96bf4e9ea5c873ba0070c56b0ddcc3974766760cacb606069a27d205afa8b0647cb63d7e2ea45d8b6c28a5c8aab7202fef378a93786c3a0526d68946205c180f9572860d3ed0ded91200c9eb600dbeddcd19d21261e682572a23122cdd943a9e71d138224f4f362a8e1693dd2b86744b971ee60302dabfab3410a0f1d006e830a5f3965227d69880cb7eb2f8fc864fb2740f5c8810c00d32119752effb3d90e80467c92bbb4733edc870b2a01099be3f10708457b2b9d61378a6c72d08caca68b95ebd59f29ba7a7cb17681e37438b6c654b6b697f9bc60e9e60b9397794335ab95dc02a8fbc6191058b7efca37bc3f041c8b9f600485395c9742d553eb6a4b462264c68cfaac98d31dd5ec949dad60950ede235fd41e78cbb5ee57789e45412b0dce9848fc2b5ccad4f12c0de77b532175a1746cc069a41a894e0e4ee0658da171c94b0e67dd5e03c22b50e158175082133503a3e20241dba0d5ee20fafb53c1168583813f62990c63ba158d6c0ca8eebb296b0c45601c1f341550565c61b51a38c76e4297616aaf312da87613a050502a8beb3bb4363df612f075373316cff20e8890c0aab27017419d10645c2c6ef7ba056df469cdfed185431f54dc94ad076f35e5d83f26267406f8b27721ac9b82cc17adbc1aa69c47a4eb7a057438ee6b887291adacba058b01198a29e6fe3498382d1facf885d0c916e7e5337b8bf98048f3629bb88662b3fa631a6c8f808dd64bb87a9c3f7434f02eb3fb358c4326c091e4254b91b3adff1a3fb163ccce775d0c083b20ade43903cbcc539b45a333eed9f063654ebd4b4db0aa46ce49ab63aed863d507a3ec09a9b62e6a72d89f8875d82f6e87e90d9a7f9dabae76cc6fd43bf1b0fd8cdd452d3f16237a5f9d4ee85ebc1201701ee1e129cdf8307b85c01aa9772be2cb7f18773209fd9d18c25411519b812b6decece60564d2172b2a7faee8c6825b5997227788b8796f4a392e37ee2b18d028d24d554f9e741d69fe14396fa694f33d96418ef339adb95ce6f3aabd9fdba7150dc775e41b2311d9a9d49e6bb087c81f3f9905d05883f2f7c8c42d3e742be628abcf2f09a24e249b854c76bd98afa58f38325c77e1d208f195b236b7900fe1a0b60777cf4691dce56d083831d449ea9fb17de68b303e9e806c9a123c7057b9f79c68184c830b7874f6c5a55c5464243a6208e2dcf0c0ec7f318b1445084ba93bf36e1db9af93ad451deba5519f4ce010763e2e030ac6a2efddd55b8deeb56df933d3f7232aac09603c3f48da4ce16d409803b3b3b8efb7ef55d58e1e479d9ae73ff2a05c450b6c3fa911e4495c74004f2cb612b4f59a3546484429360daaad263f8fa1a662e81a890d94458067e7adf5760a409aa9f96911cb761358c759c20aedbaebacc24df01d50a953350bc8aeca9e64a632221814fb86c847367823cdabf60efee3f8a0e45ce88307b7e2615a63db7b42a68c02fd0044c9269c93cfe3d62b0c5b9762250b21df902d54640a669f87b533212f3a74f0b6a237e88fd7076dd72d5a1dd7a28938f611d7b0f5ba8a3e446850153b535f014fce0c2d8200946137e4fdbef11dfd91646ef6dc8d5f22e5b3148b1fe94ac98968201c6fd7822f39572e4bb09308e58b9ed7b59271c3287d9dd66e6939b12108fccecbcb1bb7262d106c06059e2516e99307a014a8e32090023753c28ee36be5a2e093d257ddd862e526c1b185947d7794d1cab2d0e974578c558246ddf7d566c66940b172cfd1f1cd01a25f52456d35d04abd73ea90f2154d9b3afdea6a1a08f8bdf7930ef251028b8c76e60473324537f0b744de6320e0cf4870910338d09e9b1da0aa943e36672e99c40783589666b3d1c74afbf8e4e42e4f92dc2d70f214c89f3aecbead07aa2182b93cbefaf24e54a61b41e219785c7bd37c3c870ca3cff302a71ad1dcb164c921dae03cffd91b9b6c68227f712bb09da033efa2a5bd1b6d0e345841c5ac754b3b4e8493eb69e3a7f0e11809e52e64ea4d2373c379c178ed8f993dcfd4c88872a8b422f92b7fb477f567189d96cdd67b77af2eba2d32bee3c1fcafe5b3f635fb632cf70c5ec60ab4bfebbbb4e874cfe3ec381587370d1cb0551473aeac3da9b5614230c67416047460422249998a6dd9042dd5da9392ade21b7ec022f6c62e1b5dbd9704c2b2019ed1abd2c8e4916de62cdc488e628866b9a4d8ce1864165b83c773aef22940692200a4ff7c0aee6795daf314950ae3f96bf80be6c44fa0b1b0a2820636b4162bf59fc108ed06605140464390a4692b6c4b989e040a7763ac4376e4f17e4c016d7378ce1f63df339e3d2b9bc23284028b8686d4e26266260138032503b385e9bf5cad0dd272401cd88200cc07735b9f15de4129e4e2dad9c3eb8c460505cd79b705cc904f4363a7e15d2352911beacd746ab57fe2d040ca879baa52b25167030c761abf55faed9c2f4de9111d15bd786462b5516dd65447c048337d787dcbb45486521407c93f3ddb253d4c6cfe4a88c25d3a523a165d70c8efcff3b40a53913ef54394d25ea6b7eee9963f14380092ef4c62f50ee29b9edd06a4ca5210c0fc6ab4b354584fb28e9a77ddfda4e47c42651e7adac9391f84e0929cdc4c98f7bee091f947a2098fa57d5b99a3104df3ca7c62f403f93b3c906f48af4c665a03674e9e1a75b9eb55784d3e883ad89b3b322380c3f7ea747587473eb0d4adc10e687bee41ecd7e1aeb3e4a35e51823bb670608f0ccf6b8436e9ba8be7c69057f30f1bd94b678695770dfce6b337b732d431c72e7934eaa7eb775fd9b5b66d690f40f3f7afdc4ab60f9d017510f7e539c293699d982e16bab1abc877586579f6f408517a5f7ce7ed9cb0f917845cb4010668945e6f0583af9d1001957203e7ad1a0f68d0db380064e9c1ab09d668457304019066a1817019dd664bf298e1cbe2cb93ba4420350341891d6c82c3c29105a6f10a49610cb7c3d52215b284c23fbc79465c8304a06c97d760c1db8c7fc97f0f570c27e214f8ae8a600214a6f7f15f28c967d6d5b8ad24220d747d270f26b3c5b9f7dc5872f7d5c019e87b2f4bd280a9ec251aa8869c6180d44167fa2fb4ab9e8067dc0fe5d0ba2c000f3da1ee4380d2167188c9d7977943499c068a3d27db82d259b0ee38fd19a49b82eb8199ffe72369c4a4c00bae4dd0517b544d27f275deb4240e774f5b8dd63583cda8d6721a2abbbf3f3d4d39d31d946e518d4750b406970df58383ced9e5d39f0f951f5247684bd0e06fc35e77260a4c6838549991d2aa2fd6989f0512345eb496b0bc75ba2a2d3fe47af9e56dc1a22f927bd19c4103184d1402f9279b6ff8964425a18041e6115127bda45354fef9f3b9ce2fae0fb752cc4b46966526de008d5f66e58b1eda11984d00cc760d5","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
