<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a082c49e7de41b53c851848023d09d46144f7c160ed7807fa642d4313cdeac9c0362e469931297037d9f479e6fb0095cbbc9e459b1b405cfdc8dd263d7c6f04dfe56c4f83461ce57d48550a3245938469a8734962bd8c14248f7601c8247408b0b94199afa96920006d54e871d17ec88bd02e32509c6b97b892d8e378debc154190dd0bbf837c0b8c110a09e4c96ca6ca5da9b14c9c1e9566e639e4a4f99330192a12d6d8edcc6670d44735a40508f1fa74a0b72ceb478c363c05445d059e1841473c88db541d5e64b4e0f597a30ab2c498a7fc05ca4dc17e2143c5dad2ae813bd046c11ed57996cb62d7e7b369b8f8b6bdafebafdca4c9ece1757c70c33a55b3c5319cd7f325ed76cdcdf0c75135714aeb675c58268acbea7db5801e9b609a5ae67e23711b8872af7b48cdade0211d893ea34b0f3cc3c7db14cd50c83ca249dd3c86e4f3371513409192feaf0ab783f00ebbfbe3a6dbd9ea0cfc8f773a33d40fefe9f7b0676770277bced91d796613b80ad8410b3eda64740d3dabfea5a9220b176365dc653784125f29fcc3a1854197c15f340696b9aad9caef16d41d57fb028a4f6400b1f2374dcdb184629824c68b488c21bbc64c9ad17116f6794f089a9b994c6871d41fada0a49551c032250396233a2787ec80ca90e77d323501b0ee4c344035d98610ea3cf265443e1713278025c835629ad14150e5f8d5e93a58b5ebc106ae4dbeb3027800dc13cbe3f05c1780f3b0da6d85928b1bba83eb4a397938d6400a1d3d801bc840aab22aee565546844bb1909f21bb842154e8533f590e5e366b8c82860b89dee3995c1ad8bb37e75ab5896d3b796015cdf913587f9c2122aa7fb4900b03517064f277918d82c58f0e649ee4f2ac0fb5805c3527097d841388049c293eb3eefb7a74d914f34ef9668fb6616b1af6fca2618501a0355d76c7ae8ebde81482edb8ec5a5d9661194cc92cf759da5c261c6cd6e0c9cabcae6f0e4042a7bc184794f8e73625ad6a6db819f9073bd9dc55afedda8935b63c15f9945eb42c05035d5b433cbce60dd3b395bae2fe8a9e1211e461d9d88aded977142ffb6f661cf4813084c41838235d6aaca6eea7de468a05292548e4df5ee878f2419331395d64436307d7268b68c5b5d6c1d528d04a5a073010918f8af7a34bdcbc3078314b3e874d3724528f4a9e9139c40c174be7d84caebca2076021ebfc1d540033e2109fe5b9ff1ba5a52715b6bf0d11e19b431eb7dfa8942b0814db19c2cf8036f17ddf1d143d258bad312f7d8818ce3d7bc8e6a6d00110c8e6f943478f41cb614fa349f028ca977c772e0a1add6a76a36f5e1680ce1f32e905fa827ace25731bbde2b5fbaa6e0c9c644694dca964ce1d4bd2db2a7555c4c5f990b4d0f93d15361e7cf61e3bfa823b5d32c0b3ccb2a1c358e1324355cf12f4fb1e184d3d9895a4822872d59dc46879eb6a15ec50549e93ce64ad371f2721d3dee94a6460e0a2d3b4d3ee7a8a860f420585f483c9a6ba8d434445f50afcc5a57d78c9895762ec817b7a0b1500ece6fa91a2be4f0f14c9a4977a2dbb06c3ee647d34750e79103ceebd165752a101b2e69525ba1cbdd662b6ec6a9ce19d67554afaa516d7cb449b8e77afd3024f0fbdbecd560601e446ef5960d0e831e537b7bda78d02d6fb8b52764140012dc6ae3a5de52f4221ad4ee2e2de3d99b89542d2d921d37053b3c25391e3515a5fc5c30a388970b6d4be283d23951c61f780f3d9e665b953de59a3ca8dc232682b9dc19ab7804cae4d13c5edb37885d532cb3bbfdd3c49eb87f6fa6deda2bfec247ed6bba58b0b40b467643f1eb460370be38433eabb23f6161e4e5fa97e280553d265504adf7f8beaaacd6d4ca0d78c973fbe06fba97a04777353a4da1b27753b80ba93b022491f3d89b463995d4c88b958cb54ddab349e4601625e2e0de78ba38b865e9b7d70cd8366fee19c0c3cfc57af53460b6f37ca9230a70a3aa4af7f0ca38b8b97dd3e26da5dc227a423fbb818f88c6377b08e4702930e2691d81d3168387389b4da9601d6d55589f5fa45050324fcf86217ea8668282bbd41fee034a8f3b87f1d92ad9eae3c3d602c1fd57948bdb237ed128eee1f17ca22bb4ef51868ccfaaf7a52d4996400dd99d16bd6c4cb574ccde540542850a2c3900060370d30c6aae3b286e81d8cd6b52f3caad0cadbddc1ddd56892a433871f9b73395159e4bb1011e0c8eef04992e642879d65576b2863bf4d77ba22b2f8cbe0164146c5537ab8ae60d7a1e77086b3d04c10a63e58d2aab0dbcbb87c75a750b10c32bfc292ebde592f7526a31aae5655b268264c77b159bbc12dfc21ed3a61fdbe3dacc159bfb15aeb3eb1ec9f6941152967584664527c687efd169cab55b76d67d7941a3520c464ecfc9560873967416fad4eeafd45da007de8ee4d87fa305a8103f49252635c667fa6ab2df653dd32d922b48d2d1afa7797c84cd501d6e050ee0401c6779c713e3dee4dbd261efe1ec324dc5b4cbda8bb073beece36cef920dfd32730896d689960dcfefb767296d4b4b8889b9b79e821dd708d106b0820a26995571a87c431e36735feeaa42c63850058af9a30d046798ff4a0874bd394e35d8f6072ae2e727d7708429ebbbd71516ccfdc53a148fe42b1fbf7efe821496ae307e6586fe6199a6689067e7ae43c574e19c0b511a50b3e310dc018f040657b03d1127a550808f72daa5fd454660c1881b43b76545b7ac9495e96f8cda8df3dc14ded7c6b4cf3e702c707bfc8a10e46ce2578b0abfb2425440ec0e66609b13594f4f9f60e83335bb8692d991c09ef3fd8537089fe1c3a2f85205c19c5c37e6179786354d03dadbdb61c5a6b098866d78b5c47caf4fe3bf6d463012e720f30de02b0b496f8b77ed427be2060ba2fed9e79b35e8fb40866acb98428d75873c7a25b629bb04cc6206a11fdb1877f176b6fa573d2526eb319205a9d08f9616eace161e84b99ea500db23a157c853eae0db0c3fb16a2aba66bd45b86946931d3ae3c5b365fe03ce96125ada0026aea067d4507fa4cb84122b2af00c58a66b422e5d589ad538d20d61dc81d3f16b9e67c66d926fcfae8f9e41441bd37ca6f45cd84631de1e15822bb50e6fe893d92802a9a62af3175538c562fc0ba43404d3bb64e40e51fe53376c2af984d0b08dcabeb268852bbfbf347a0ca8741d9e404c0af633b13ea05a379da1491cb10af132663b9d6f22b58ca6dd7fd9087348bb5a98fb74c360c6388f40dd116bc125bfcd33a4aa7adf66a99746a729e2b9b2a2db65f1b547ba8ccbc0f6926aa5d94a2acb6708964b6259b497aff254f11d5dd412fb3c406f0ca10e5580b7f864e387b92a82a3b9a0c8c2f965481ab64e58dd421cb8b9eafec4f16976a85bba5dd9b9eb742aaf3b8132494e884a36b1de4e701707cc0f49166ceaadf875eb429a1099407253515fb8c91864269280a442800f46b55eb9833b8d64c0720212a9ecbaa8f81feee7ce7bb89d538f793a7cfe80f850b1e74b6f25a4f9f8c7e0959922fe13e2012a62572ca65380873b8853a1e73627f79fb5854f0ae202b6c64f89dfbf65189a4f4bc6f83ef366e8504b529c890955325685be6258bf2f0368f5d5d23db2f0856e22507039775e5ab02bf0a053c79d6e8939721f1228eb7436b59ab5576ac2cf18dbf0ecd386f62f3cd0dfa84c29ff66d100fec4bafa3b18081844d14cccbc60b61f30f38fb6a76634758afbc00c7640adc55c1300b3a5c263f35461cf0d87bff20198a1c3c99f6a55b1f63519aeb11d1fb619c83447d38db21d2bd72f03bb8379870383e24d0a1cae1458896e67cb010ed5f5f7f8878945592d92a81c6c98ce11bdbe82cf2ee1bbb65d2c9e06309482f5482ad394dba267765dba27d9f54a17d0c83ef9904e1cca2f7b8b67921046f1f601463ac42edd373cf14d8636dcb388f57fef90d3fc98a0d229e848e9c8932970e3d66322f5fa5b2cfdb7da3d4d9c2955fff8996cafbc13476678903d667ea9524bab683a72c501826c2d81374f3cfebc1918d45a5390fee525e384010a673bae4548a1ecdf6611c402ea37c68ba81d414add4f317e140ba0bf6d363bd7f26d288c37ace8038f9a2d90fa2e37ac2492f729f7ffc5f81274e922da54c0366ec7498981cdbb7fa6d011adabb4f320d9bfc095cc2a1d7aca5319fdb96c1632df364dfb71fcaf1fae5034245d91a1f7f72be0858a99ffcbf68aa1d17015c354b6697ffef9482f1715e364ec28289c8b9e575625d4f7dfe228432b4688973e5aea05533bf01725614de3ff0d57129f4842a2c1d90e576e812501ac8c866f3d7f879a596778414915d590e93f559f9ab16f421931a58a839990791cda3b8ce8b8ace7d4b13261774d2f0c6e91a8953c98e8229a8cb0101ac2f1cf2395c511c75f2ff34f5a9d05e896a297da77e76d9f5f503bcf87dcd3305d053dde910d5c8ed0dbfae0dc7536195959768d50002ca3f8a45f3ff4ad59a33879b1ffdef213406f91766332206d78c071efe9253d0326d6e1a86591a71d6db7cd0e251e0c4dd86f24316944dbe2826c74920cc7b36c6b338db616b77400158c2b6ee455330df32fe170e604acb25a443794a5b341534749faefa23e904d664470c303d1272bb5ef013dfe5a76d01d004b6d1c84a563405faad48bedcb5ccfd72dcd74a15135bf61b39404fd478fa5aa4753441e2eb5c1a897ed24f0d94c063a165bd330613b18bf9319d25a61a6c3b7d2120b7d26f98d2a979b8a87805b5ae25b4a8b97d8938eae31a981483c112bb8e7a362ee03e3b77645c10780826c265a4e07b8ae526196bee9e0e10fa4e08b80b001b5cf82f1cc4a5bf3b0caa28d0f1efd9112540399091f66023fe749f56042bbb88b5ed2576762297a328f67d7e4979b0fa91929e27d4b892d1502bb596fe6e5c3aec03d415fb07680ec1c83e3cc143ee5d15caa545744378ffe18b05b41154b0d08a51cd52ec1259f2edb6b06ea888f9df57db8ab2ad3acb2a604d441bc1e9a10757b83f166e5e4273a06e21bd9314976394482993aa2861a78014332169a7c1067edaeb5e53f106896cbc4cd3017894f2a2da42ef4842975675b76fdc74b20caea56cf8b39c94ce80e8ba5cd20951add6af80693eaf2ceaad3572672cb3939758888cab1309e5855399fc308433502a91759ae757cf6d06494568bf2d7b78d767bf7995d932e575bb431587ad3852cc2150a8bbaad9af838641fffc310e83ff5e6baf8dd54d22a31037e946abfa9666e9e020244456187c61c63f132552e73e4806abd7ceb92420853ba31fb7a6b5c10d5ef6031ceff109f6288d7652d4085af606d85ab48f2976ab2e4a50377d938b527eadb0d0344aa23a811c7fe09a82ee6d7f13845e5cef718b380f5236d57aa6d97202ace1e50b1fc7b1a0928c7757a4a6a776d3634963b955b06a3b35c107a30c72d572f898b772ab9547f2d60066c70c26a780c4cd7616f26de55606a0eb71733b157fcbd2d2a5650d6ed862962ac661ead958168379070b0f878841e47384b227de19279222ca038fa973be60435bdf8466b3d4dc6380b952deca5a2ce8024fd0b977742afcc5049bcf53c3f3f419b0ff9a26297babe01498fa0868860b738a8e986f5b0ee3e24b673c3d3d546a5d4ac8406b04246759d8eee151a83b31a4431c3d55dcde50c87463cd7e68be23f7e56495e02f2703d45095ce9e266c870a68bd8496a4d212e2647654e9a53709a67b2e2e4ff0dcff883d923334eb0ef0fe28b0c512953802469af05b36c946f19ead49b17c50922b881a89ca6f0341ad67dc7f602ae2d53d4388b824033e4cf8082fe660d7d6ca5f34b504e54602f0f287d662c3381183ca3d510e014c808d1c381de1da75c8abc4377b2d595db33fec8be92dfdbd3a4b39c79d88ff6df2660e32509c8041c91f5f054a30fdeb35930ea6b7d9906d4d158df8d838b4f33b2d1ced07ee7d04a25ce8533bff5f483fd4d9f28878a95fdbd1df71640ab67f9df1972921d92bbbcb6524f110c015e3e8ac2e79267519ea344478f16e20dac7c10532e6bbbc6a5a89076b125e5c3044bacac24ac7151ec2299cddbdb2dc9762a4b3b8bc3fe725e4ae3f115de357666472a88a9ccf2dab139fdd8f7ca6d52055a50ed4c4d462c160e5c9d4536a8b0e2a1468e0832ac3ae7e9e47aee88f258304eec150f9bff92606c24a7296eb0e5e478916165ce23797f1f090c15150db4013b664b97d49835f662941c2aa2721c1248f633207f81c83ab4630e7fbb5645773fa84162f743b615944f16d85c73f9a54b534626d347028b08543408f1ebe76ea731c593ada791354b400550e6ea1f2a8e7a7c8f9e47d86b4b7b878ce794fb2c9748910de2bcf478fc792cc6d99df9841ad380f593fdc5883ccd7ada122400278dde7bf700efeb26a28970fde85317c477bd2f907702817d7530797986b24c07dd999dcde47711281a64980c156fa4829fc0994f907a4c2318e1487f4a7285fe87b5d3a36c03971a6b1be57785e4469d8e143a01e2b63a43ad87f667d555f9a56df574b810e701fa40b826f909621efc99ea8ff69a0033d1ef875bda059d685e866422e780a35a2888c6c9261c0c1d6fd4c562d8f751ab0164ae8a649bf1bb129bef54629396ca6a61a71322a2e3b1a6230aad72c69983e19d50b3084b01ae9e8fc32f009a3e0c6a39793418afefb6ff2ed25963c819a9900b774f0fc992386b8a98e17bc849066b539061c9929c3f4eced1105c9cf6356ab5b9051d3de8f128939b98c6c4c93ff4a38f55afacaddc6d82233751ca144678bd1166cad6f335798c1757e936241d037170503d487f01489761e2043344fa61566c7bca68bd7e20895e585e20f90a0c431b4277803f857a07f762273ed8cfba1c4df023111cf75c1781459bae096917be838bf4d015bd199a22608fa2c8ea71710bcb154e86a5b509406777e730e217ec671e92a0555285aa6653245c2d1531e0c5f5852d2c69a3439ae3381d05a815920a0510048f097d66c03cd2805e843fe08566a9d7c6d50f42b5321dba37a9c0b3698e7f0e1fd52288724439ef54bb7c9e022c25602cb22da14977ce828da37b87d56d7c598468b7ded3cb43decdde64186b6c7c3613705f6f3d084650cdd94fb17b3d1907b17a5f6d1a2be539fcfcbc22b44f54f2704eb0db8f7e8d8111e04149ce6a0a7b3b4a4cf2aca8f20f498170717c9eae3650c92a9c9519abd1c06ae2bef136532095036159b6fa413047f111e99fffcfa7e9913ecdca152f66141b9af98c87d2e456b526ecf23d9a78293e3fed2267fbbefc948a06240c2f9ad607520cd49abe35a3077cad138a9fe7539a381f8cfdbdcb1332b86781b2878521a87673d55dd5d03b4833abc295156b36ea42e976c8a15506dd92853053662d20fd61bad22da29132fe619fc3588d1ceedefaf44221332b8721400edad86f6abf58b4521aeec3941e3df2148a1fb36ad36ab57d035acddefa01988dfad7a58f1324c62ef5a7c26d6e497ecbdb049708da403e5220392b4538a5557e0d38d0d79a02dcf2459ed655557fd8c251344df53842d9abf92e7f63693bac68e6053a98937db82b6e9c5e707232bb3e581e3655f7a928dedfb13eae606d3111aadadb359159d3837c157f2e7eccf219f6d27c2408ee20ffc66c6e25cfd5833a6eae4626f0db08ed2d215f0f6441c8d8c39fedfb3b15dfa53fd33dba3033744b8e98bbb598f36a8e9a5e4de59cb44c4862f79611ac5fce8f87b5ef91a0b9ce45e3068a556a0626dfe5e0e0e2b64763a4bd0310dc6066c5928f50ec62a8d399b8faf8f17b281c4ebb0b9a97f46db04326b9bc6e980b29a4886d851b2e8915b82321a6c99dee983e504a17581c01e60a1206ea650113ade4cd0d26ffb7afb8e8a3177d4d12f900eee1f2e8041bc99e8b6d821d5877664cfa1b84717d69fa17ec5569ca6c33f5dbf5ba8e82ebdb268f4a3d3d66beca668b7929e64cd01b5d3dc6a1fd47fb9459676f08618983f2516cc3541594598e3929505c9693d110ab2a501784ff45f43d2580f8b1449dc7060f70fb5c2440e729f721dd03167b3ffdd9013399a083d5a2fd91f69e663f9f9b62a4f3109f50ee03a51da3857a980a4891677f57a98424e69b23e04a7cf3ce1f84a7b85a4abaa504cdcfe4e1cf8b050ce6c310c6cd48ac4636afc8c7b38bac47b10562e4b8dd8e51e393c2dc147a7cd149094424f640a20402613889f53679123561e2567abb4cc5b4afeb1a4bf5b0aaf6d024f76c185886867addaf7e003581c43ad42a9b0905cd6d877eaf09303356e9195b37b1e5ecb046dc937cd633b846794b7a9d3e3d0af17db9b61410d654e528578766ddd23ad86487a1030cfdbd1ea11b3a0b6619aa322bfc7e7e18f14b59e638ab2230e7f376eeb6059dd3bda35f4ea5d926d9442dff3d3357fe5590cd52d5b021865261182dcceddb75977b12b67e20f55e1a71737332153fb6f593cc5fe001d49898779cca07dc472a1afb5e8c0a140f9602ecb029a51aaed092dba2dd957ecfebd871ce2a848ec5188d9b29de8d1abbf9db16eb4a6fb50633d53cd2be407b6ce9830eb0600f8c16e613c38c5b0b8efb00ce026ce9490b82a535bddf287d2db689e7a7c667f2d89369e660781af515c1a07ff8b9f30e4c41ac0856bce732f06ba2c18d0b5f6d41cb52c2cb34f136532573eee8230453997c7de978f08e1c5f380982054e4517b35ab6c98faa63b1a67f1d8a9f4ba05d9b11327825bf995ca9900bb01c836608e02cbcb0d3ca5fd363d91621f1196dd08ad57dbe8a8ff3d0012e623085550597d8d5a6f310fb6457fd375b6458ba934e3c4db7903f96d8e66cc5da8738cdf6fb6d215e19b1003704bddb81a2ceb1df68f9785408ee116d2e56be0a51c6976a10728cf09c5f94721d1a6140355dc12036f7353efe36bd330e7a5b82772c20dca6ef46451aad96aea34acdb686284c6bcb5875f0dadd1b9c1c7cec76e57ec744d508a9dd0578011549bea09f005f271c3695ff692b5371a9eca7661869e97f138e8edf4894806615b0ee1abbef6aea46660e6ee8f273350442e9537ac003834c269dce13331662412be778744091df59d2db12720d881cee70d1c703d64ce932b454e18c66f5afc614db27e74d704406f5930b3a2ec82e877bd937a5aa597edfa2595647e9404dd3058e3e868d4ec200162e37f6165d522c95f76bfc963013c676ab35d47f01df741c30893aec79aa75bfa8423ed6d14b886f14f5bc8aad365d757c67a926e35f526e5fee42971fdb7b513d6fd96e53ad0392946c8f38eeb64e4d03b6e87b98517e5279106bb723f123994c289639f054551c44f7ae204db3bd22f8b94467d6d806105b247204eb5d77dfac4e678e5f3276eb4d811f81b289def8c85799ab180a63af41287dbebcd1b10f3879cb5cb0f40544fda655572c4aecb09da97463985bfcbc60f937969ad82311422be77fa6720db006315103cf334b5ee879ac25f22211b04cd9ad6e53ab2db0e4050d62bebdcf3ef922fc40e8ad92e13cff65dbbc71744b9fb60fee6143216b123d3da049abccb8f599a3ca68153c022899828b8eccc18900b5449597879eef3c982deb2e8070077527827994be1114ebc8b505ee5e8557c16df97341c923ed94e8ed338f8d94ad451f518beb946b340ed8dabc1410be2fbc8a8ee0779d88e776a5eef03100c57fc3c4ae8b68d32f3832fd00a1b0e4af3b3f58b611336e79ae875afc72a1476311626df95dadf9b22cfe569bda81bda2012964fe44801301cb4b94c6611f4ae373ec4e1788a9d2d8b3c0fafa4ebdd33c425c37613e5b046ed8b51c75b65e21b887aca5b2d79dc1f2217af1f4177d932161d5cba5398ba609fa80aac6ef3db9373f6e7960748f710e3434a6c09f0bbfbf82efaa36f5303bd52c4b32b118cdbfc9b3abe17a16d8315c488929b665f18ee4c6f797cc454ea4a28de75897a02627c26472a3a4ed1683c5bd37977d28006ada27e3762215f87a923ee1da475cd986e92c0d10abf4cf9fcb06a0a26594d963200331f9d549adbf503c2484b43018c6e82d178decf44bb872c52d76577f1f7f31fb1b7b1ddf3933d2168c4af4c6512dd4451903a7958388167243f45c7eab157e87c48a390c9430c47abd42c21d5390aad1b49c5955bfbf57dcba5d26367b81d9a0b2714fa76458139ed8f189f9549a2302cd3405d71afc76adf120a98403a6a0f3c95366bb5607fe6c2c776a16a09bbe8e1ed034582bd637376968397e67753e6f05f9707661120ddf7fb2c173bd428df8fc1df298c6ed44a8848d6f56e8df5e0ba28b098d7f4addc9f622e5cea1602677aeca8a33e15907afe2cd9ab7810d22ed6e9955bfe5d8ae57e160f40a7ac4e5eae7c067917bc721bf9a6fb675d382551b5b5a68626d27fcf1db78adef02067090c28e5f5689f250adbb91fb5597dad937ff7077a4445072ef58634087e9ce14f59fb56d2452d2de6027d04b3e02bc101a300b99043847acda54fb32ec8ff1b06db9b6728c47c3ccbfcf9dfb3757c8669f625fc3b770b8a8861889c7725379a1bb81c2703613d4c619da3c3468fca9b3e941f279130c6bb518afdda782971f567c858a5c8b65553e337864dc69e644ec629086d112e8e8e8f5c9cba6eed432693fc2fa0ab24bb0bc1ae637009b602c195a8b0020dcaba8339442981da6c94b61b447981b2a037840e29364177ed27f3bba32f4b13a828457c99fe64ed245333921c1364aadb64f601661a03b729a42883ec6985821271ad20ab3a1346903d51b6046539d41d14eacea0b9c90e60581194df214c27bff4d8939bcf080a7e37aa7b31bd8fb9a8223262b9ee79aa74f684946b05ab0307e4f855941b5c452136b5abbca088d8bf5407f87b75f7c852bfa069964210cee963965af3594068e05c151693fc3fdc4b1bd51bb20fde2cc6b8a7885a3d9c9186b8dd3214b792dd8508bfe3b69250d02d66ac4d50fe41de53d0872937792a452d0de566bbdf8b4810d5c4672897070c6f17eff0a1a4bfe1708f332e574de5c574af1fb0cc6b78f6b3d2050f406ebbe7f9a7ae54d33caa66142e0ac03425096504f5bd6f36656b42717992b8d483508768d79fff7447855135e7d080cfc94b75554308dcac3895be727637bdb3b0672cf4162ced7fc685a61096ec186983a986901d7e91f34b48fd536431dc9fd246666e4fa9a9d3d30817b478dbefd4c07cacab4204785d77f241ee193f4413fe00d791e5e4e67a09bff3a4bbc27c573e2e93285beb0596414d705e34f49b4d63c57f665323d2329b8d1884902ceef8a2378ae1cc630735023b853917041ee8eb535a28b12fa737a24b98e947825ae8154b448ff9ae27f2bfacfe1fc5b1a50dccbab444897f7acae10d63a525527b05bcfbb5bb6e65345c9ad71f928c13b46b47538dead73c20ef2c0fde338145a2b9919d49a5c3659c414da7eccc3b34e4466043d4a76a0874e76904d6e7afe9c71f7ae4cc35d8f5072ae1967137f59f17a9335810055e80848722d9a68d12135c3f9978a93c0447c1ccdbc58b369586acaf3467983717f13e7958fc5e3644481cbcf3c37d6134c7a53bbf26b908fbe98a8faceb77ae540ac063c103dd760026d752c428089b2af000d17a54ff35c8f743cc79d4fc1ab25c4b9566175c7a4a575ae800aee7cfe4de2697acbf46f026045850bda0732b646126b8aab0c9a125287edca6637ed15454455d7c94a3263588322a6dc546619c8ada8bd31a6e36ca9ddeb0eccfaafdafd90fff494a603e992902347f9f95a3815802705505045e8388be4994e1da3f375cb13302064c60f053b8a1f8a5a2399e36bace06321681e6a111ffb587fe24760b10757ec158016f62927a614b6a2bf138bb18a954f2cc5a1f4b4136a97d1a0170bedd837eeca0482d76288089f816e51c37e3f8c040380c68aa5e40952eca9ba95b8193bb8076a3f1923d787477416e7c480077cf956dfe2ed384b4fb401d8f78b6e17dcbbed956e05e4b928fdc9b6ad87ff1346e7b6f0006680bf5c6783d02fe44e5a07bf7d13e4cefa909184ba598a5e49d2f0e5385ee3ba77213184166cd3e85d4554b4dcea4c6cc2fa3694bb00ee6da9ca40e2254db996f3ad6fe6e7da52845986defa6b1332a27b06b7bb3efc7b5cc6ce3b00419a48989ef0c5211845043d7a629bfe2a90a756fc1426f5a3b28ab2f13d1419846a053a5acffeba694c26f000a31ccb822dacd72af247cf08447031f35d9617ae84a46b1d416721980647faa137c04bf9ee48fd408ba3bf651f7bd795f622b1ece2a981c0b743641da5754e1549c01178f672f37cc79ee6f51fab9e2ec890ca9c6b63ab3f83d000baaee04960b4e05488335e1343dd36cd2d9d03d7e4f844a1d2fb9b74279598bdda6431e2ffaf6bc8372893e5fa37b4f147ae6d246dfe04570e50a30ddaef23b7203c8aa891add12338d0c354220ae79ef36d2f66e342cc5a39047e577b9ad19b7f5d474ec8e6d73962e93167bfb60751f646c12cc4ccacfe24384361488a1e76ae733cedf55a4aa7ac8cace78df9f31f89d6839122ab7988f165b0c5d0d14aeeef5453ef3e87f15deadc9b9d207590b0ef62c76fe57558546561c181204ad0878df4e4030fb5bbf92e9de474b0ccaff738e1576589de5fb8e01b3868ceba754295bd3601bafe245c04d560315fdff37ba11e34d3726dfd984710f4029ec9ef18b173e2453a5d760e82dbe0a58f5196722490878862831ffaa38d1541263c83c5426a657ccfeb75a2b59fa743f8496ce68090d54b1db925719acff61aca8516c355b49d81b6ff29c5c5493b73d7d73490e2c3d1c27cbe9d3e8821d80b27eca1c5813ad4a00a350f2a7817bbd5b7c2c21c336a027e013a8260270eb0973e3fc84dd5f03f93c241229f1ee828cf3368df12c5a4e1bb1805a9c01afa5c2d13d717ae478273e50817b5a671c27ec722255a1be1f99beaa7983b7977acaf4abd17112ae017fe5c9781e3ddedaaedba7ce39afd1866a6d2f072cedd6a57ec5adb713e4bc5b5da47cb0f5cf2c87622b813f3851273924627096d824471d813cb2d0cfe131f6e1731de2fea0a946c6874a7adcb42f308cc42fb4b2f83f544a85d98c6b71aecd7bd69347d07dacffa7cd51d1683a59028d859dd3321d2076992650d6efa992fa8063355a9c5018468699aa64383065c34f0dd0cfd711ef389d9f30245bb3b26ac04f3e4042a331309ef9289e720f2ff791cabb645c7336d91f8d1a7d7594179675b9f06cb781a4cf7f4a5d395662c4c6f626d647bd452c4137d1d7ab559858248a38444a85a5df7a3becf6f75239e176c561acd95b3fa88f6bc5ebe256fa070602e17fb2f1787efc68c77bf0efd94b48ef29678bcaefc4801142ca25b6da07a5ddaa1cfd9f1db05f4c53b4be32f0314426f87bdd98677221965665a8b4953bc1cb56105919a56f2398361611a9e787d4a0e9aa3393fc657f38924d97ddc442a366446a7679e30e8f5a0390865bd89db773af6ec03890283e06a2106da820defb665363598eaccf8055faca87664aaad060868a2ae5dac3bf47ddc936aeba2eac4d57ce4612034e3230b690d50075d9edf7887db3d77665ae5537452a8eef681f77e76378885b5b4664e5899828f6bbe8d62c9a4a63ae45a38624c1e2c1816de0d31eb1e8f1aca2de07b5b8ba75191d92a70149674b6be18e6a078919f835a52f0a7ad00c8dd493480557c5431c9858c3f544c3af0f1c2b02489aee0a060746315ebe272a62255874349efa5ac217359e9a6d73dca0ea1cbd1e23ee350c4743c1c244ceddc86f76353afcb5251235eea25f3b6d3893a0f312c43be612c1d6cc2af5470465b9a7993adcfcf0ddbd8202cb0485601c2cf2aff62bbca6f12a4bd9a35513cf87e9fb00d2f37576f434c6c27a2318d74c9e8f5aab100d894a45113a2127ac28cdf4095cdae6ea65714983daf19a6c240b86f0b06985ec46eb25df46858ba33902b1213b6f34d0f4ba7c10e0dcf730b61014416afd569ea069622b1b00f653c1140c361d325f3cc81ecba9c21ebf1349a709bd668b97ef1c1efbe31bf1ece425787e37d873eaef222b4414bc6287f13cb0a1ecb06818e4942c3a72057d1867c49f9ee74bb7989932b0961f3ab2a9a6123718eb6138bab889c060694b18cfcac616afb090d333878f96d93b9308b7b6130ced80e4c33c4c69d65d66f51bda0899b5b9b935708989421aa129460031622f41b91d18502c663ec412c9f2f9724f85a97d23f1a78f4caa79f5e3870b6404aed354028cfc474f4b488115fe4f30da58d86202dfd57ea658bf444b835324973cca140df79941fd7243b22a73d9c1373850ef7d0e253b4ea7050b8ae88f384238b7433303b7ba953967f925d4841c478dd82a4ed1054fe9a9f46c5eb73007b018a56e5555b61814bc766f384bb4ebd7367d423517ba664252738880ae06c60433256249b32683e42fbe36ab775e8a95ac50121b97eaea1ee14b86f26ede1e6611267159612ff790ddcc441e6dddc582106e181286e30501960f10518c002146d4c79d82c6fc6deae03655e6583c19f13bfafe667d29917294b5b386a4b3afb9de9c7853fe6eb864f8060e58f317bcfb940aa22c8b664c7ce7287d0661497741b8ceaa64f52702fb366f225b429a50dbebb5f8703115740cbb5cc70efc3254de447bdeb1593cbef39e1953cf05927c28d6ba5fee61cf3408e8dd07d48de5c0927723f4ccb051ac8a147861a3d7bdbe9e4c4cf3f53aea4d7a86ee31e3b157bab4c83976c1e58e8b43fe68ffa31bc99de167e6bb3b7f9b709194cb57d7adf558e80b3a91bde557a2381ebb6951bf65e6e42d0c997d46ceed4aafbe8f01c3839fed2908739b8cb3a2e5e826b386a03c95f50923161dbd4f00e8b946230af6175b5bf98b57843b7fdd925f22b862ba2917e451aaf13da72340cf5647a3c9299ded49313f5f1f5f15f84b3d2439d5f072d5a1b70d4dbc675a464b490f6de0dae1a3cf3135f53d9ad28860e0ff1dc0c7045446c9d476a8ce3551090ac96b0f90954c87d489f3da1a1ebc14f4317badcc9cfb30d1e4a7a82acf7f3332c051d9d3a545d8708d6c714e739428e3f512863b7d90f860ca96902565090ce8394054f897127782e14797db9773c205af84b3863c3f636dd79cf249131c9edcfeadfe2b222c7a8e97dd3bca9a6e7ad44613682491fab1e57d852185e69425d923b8b6bf16e4d8a138ca60c168fe4f06cb5f02895b23bbdd66c51f6e7a286ac6c029448582806835b9286eaa63b024ed288b565139dcbd7e46560438f7f5d38a7eff16c7d94836d226825ea79bd909467537cf643b565465fc766bf2fa1c0b39dd39ea31b4746f6a9e9ec7bf6034e2db3057396df7c4490d0cb26d2210b03bc88882109931fed7ba54799d1b479e074ed82c9bb4e074800cb3e2d25afbbb8dcde4cf3d8264659e9c398072668ddfe4cbb75220615a31cab2b40df6ec0c764a5b5076d993b95c0e28b0f7d149666a1a4b8658f2271dffc7b4d59909113af1f5c0eda7c34206283769b1e9ed47eb6b26f0b24bdd4ac167866d27fe11aeaead73ec2cceed9deba414fd15baf26f08d6cd4adf73e14253bea952b766f6d66c865bd387fe6bfa42b2dbb43480d74eec651d0dbb5f35b9638d0cb5777a0a04ddb9458c614a38dd34bebfb0fa9848fbc10a1cc9354c24be77bc58c954d659a861923ad7cb0a0c184ac7b8033a63f18b722fcbec12edd89140909a9c3527c7d571d2a170a60f7be7bab40d31abee5232a9afa6de0f00d3d057f0c00f3b1478016e900c6c275ab37871034768561228ed5e99479760ddcce67ada55421655d5772f5efb3310885b0289bd20f9735d16bb59f4fdc88b7d48a27f60ea5e2ae4007569722a65275d4f18d0d6f61fd84ee8e677e71cec5bdc530eed51cd7b28b403eeb477661e3402b02e2fc288a2b569fb774785c0c2468ac19afb0c829494a4409da789d09a82682073e6112ae619c9a0b7f07f8caab9e16d198cd2b7812b24507d008a502d5eb16790cebb26b97b477dffe52b26044b1d09eedce20f37dd0ec2995c17828abe9b6208fa2b67f8ceb70c8b52560dc665fbbe6d56fecaec4504a4a68316dfdbf8b724f4547285604b51f51f65ab93d1023e01be3fc5fb2a98acafb04630e4a45a6d5ae96a6ee54c995811b9e6c77c56d93d91276c2c6bc9b6a1f256691850f0d9196d33029eb19fb024af05e6027f5bbe8ddf22057aaf78ffdfa14fea7f3d39fc3796575663d96db8805b1f2e85c12c20c4102d40b25edf6d0349f06e546c82f229fc5f879f6d9e3638e405a7fe7698d42b723f543dd7f9abdf651514ed751247733a6f479129222bdbfc5089532b540f0d7bea3a0f07f77796867b7bd965f84108a5ebd69daffc74508c62b2d8e7997e6ed8ec36ffa2b6568353201219231575f48ff717427ca86ea229bd2bd33d55c96b652dfc350680486782205a1d4893b9c82c1621603ba1ca209183b55b5d329d38f227e5e167eb2811c2d7115dc6b85fdc046fcddba0556d7a2ea5de030b9a021c2029de67493746eab453d3cccccb10e19db4929f400337c57dce53d14f1808bbf1b40bbcefd77dc05ae9de2a504da389c979e5950bfa18b9134cc2967165d641c6725fb06d3596dfdc8066019167112a18e16f627a9a82112bfad16b453d230ac28fafc4277c4d7f82d9a058cc5a7fb0cdc79bad72e5cfd68fd6466838650baa21f1aa8f0e17846dacf06090045f8a9e910cfdbcfd6bccf89e0b5661e5050c94202e78d7e0adc0ccbd56cc400379961b9fbad2c6241bcc2f5188912cb6de39f1576871d147728f6a4538c950957f56357a108cb748af9fd28c0cb6ebe768da6b06c2d9cef539e05831a869bd484d5b4052c519451a98b32273d9e32fac46f2488cd5f9c473c78a0b2da8970ea1292bab946556f09ae8267b6628293829f3860584dd0190938f8a8ffbdc0a0e71e6dd5abdb3cb067eb6bdff9a2a881dbf155489cb584d893b3a814f8a735c7e52155b78a15d2fdad1e11e8eaf66d7eeb3e3031a9bdda13d390c16359571b66324a77414df22677b2e82f8bbf83d5b0f15f893bbfa6ad89805cfdeac7e1633323dfefa530bcfa600ac28206819b453904ca31b40850bb38eabd2ff74323404f4c5e55fac2691f950fc9a0d65b0a9109616437eabe6342859cc2d976372561751893a4b5527526fb57db918240904ca5ee859fd4d1a6e123f0983ea84fef1bb6427c912eed1d6d5737a019b14d4f6b594e07c6931cbd09f35f861999e3ca677f005bd43675a5a0bb3085e5c5d892183015f49b136628c79c4e36cf3b087ec086b7943400bf6896d78ac87a77be18c754d3450e98263993d6cc65568821e6a0637990f6770fda3cd7fcd8707144130dba9bfe34beb3b1d81409aa712de47021d25c74cb75a489c3a706d2cd3a2342618bc09a46ac26f73767a59432f1bb12fd63f133fa3614d03e7c711602350258e3690779c81733a5f243eddab78d21e5ddf17e21bf8458966f93e2892ed543e1c3024ca73ce764a80055e108c889377d430c1c31afb3a498172c2c650b6192fc4511eca011b6629dd303484a6beae5d172b14eadd96a40654194a3d4d16ca0b5140d6b739ece6c6ede1f953f1b025f519a5ed07d83901e990842597af88018478fb6811966e3b8daa76ff96443ee47021682a0cdd82222bf9e6911c11a8273ce1ada344694e080ca658921cbd1c8e746418ecc701e9a992119629aa022496b06f4b749d51508a404972e2d47650d209bea9ba2acbff703f83454b2001275bbc838d309c3c4bd2253cea7311d5fb41edc5340778f73ba481f73e7d1a20619871578372638b05aee58ca7cbe56c62d40e1fac9bdcd3bfafa6611bada14e7e5c54d9471a24ab19710bb94fd9b5c338b3921f4f89c5c193a8744c915bcf00762aa5fcd25b0366a453f854260a11a5ac786cc54d91606afb2d0adeb502c6dc75b3ab8f4401625a552515f9727456c08d367f1af2d255550f6971f91e315c52b7d387b1092e8053dd521649850421124c31317ee97d49e20c8192e057df3f923b24485dd233ffdda936ee046d50e4aec47c8a0eb009563119e22d549542d5707633c35eedc261a53a9d6144747e17304bd3d908f3cc717a3c2fa06c0d0c047c4bf6df57d0ba6fbd9796ae6222bab1bc1fc2cda34cbb43d00e9ed7dc08be97e9d48ffd29606f5b4135c332fbb8896203c0fc543329096d3b0bb86136fe2fd9002661e33afbc9329e54ce9bc6ad277208d3040a4bc87d8d3d7873ed120d8e087ca9bcfa85c224376e1a3d2e2c6dddbc9017bf97a002a9597dfdac6c3601070c4004a26a61fe634925fd0c678ab1f6c35bf32ce3ae3483d291800c94c71647cdcee778c526827d779af1844835b35d9827118cdc3df8c2df61436eb3b1ebebda9002eda0018050636d52d32efed0524ed490f776571ad55e531688aa63f36f6ff709079a56ea2aacd2d7f626bed208561e4ca8c809f51df4e89ae2336371087c28c258ba4d329d30c725903490e2b4ded32e88d97dfb09ea2fd45077390796ffbf16f93b0dce5aaedf198fcb484b62b2c290b1c83d9da1fd29708a0f1100a28b7f90588f463c01bdddb1d59b70abe2d7510ae449bcb37f55437ec21345a3573e70d9b9e409e0a878ac085369385a1bb00c5bf929967b7c0247a7a60bd20eb8f648070aad44b3e532b1e279ad8d0ab6249dd0d3fa4cf7157713041777b6ec7b77c93ce2ece403e82957bf57bde6c24fe571426a5c5097300bb12598f4d0702fdce16bd95672eb7b83461087136462fe85ecce249b7f41538f548eec81967068c141751d66177cb651c93c2a9017de0b8a0bd4d7330cdb812f6863044e454726f84a74171c0ea6d7b552a07e8f837e51e0fb4aad8f0f392bab18855e0cf49e52b09465041064b8495f42792d55a56cf88f546dbfde4c8531bdd4737725fed948a22e1603a8ef67e5e1caf4b453cf77569f5f4ec6394d0a58913d5ed46a65d2707c3e8016517e9e419685a3acf98d158b04a03b243db85c6c84513483b76fd5ceea5cad5178fb590168675c00b836c0a81ad06db20cd5d49de7e1517583b577d7d1b78a13767e7068b8228cd071acf19b92435eebda4ffa8bf58116dc72cb01b1e4014483306259161c24ed72a0bb3c2cfb1bf0e0b0cab310219c2419849af5afe27cf4b8d998627b76da1d0d1d136d6dfc1209a8890d056f9102a9346f4eeda5efd0fd3827f444204889814e898a94bbd0316f59aa82c56c07a4234e7e2f29889f7e369ae9596bfb8c47e23d183134b3509979bac693d3fa84c86cf951a8e59119ac9cf454ccf307fa16d9c40d67b40722a6c74861c4ca4d85f7bb5ffb3f7692872059fd3b29fbf9acca53c78c1d5780c7a0187542665d7abd92b4e201876e4d701b331c7014db8518a7487cf5854b01b0c887fcdad987d3e21bc94fa2634d1cf0f61e70139a13971e71c2eac8a40ba1df093a23c22adfcdcad6842357c304c9434fa7f4f1ad42f964ab70919a18d473a4870691486f6724b8ae03f6bcbc86c239c6454683dfb5cb61f57a5dec33f104c783ae65d2366edcdb2de5a418f85a2c899819fee84abb2494cd8eb0d2a19ea6233d77ee1cbd4c475d18c620df23b064853594aa52df2ffdab4074a2114a7dcdbd27f27635acd452bff9a57cfef8852f64f8e2f9bc3ea3e32f6ef59a76740fd87d89441ea9f821a79b25d531e5c8457775b3b5dde5c5da3158eece9785604f83a4f181b14c1f735b0ff04edb3c32088664072110ad1fa9131f5764abc58b3c5d9754064b0fcf8c56ca2a2b3360bdce241bbcdb30ba4fe28f2034fdfa5beececa0e850df17349b9ece25da2b06acc64b1d19dae1fedd7b2a784665a634cef5c486edd7104778645291e0ae404269a531d9b4f9d5c917b28c67db7bec9c6407bb4dd48a23da285d66eaf02621c0df6629ca545b44751dd41801daa0bb23920d5eaac3bb0ee1b5cad7d123620eb9a66add5cd1665f5ef69b9105f70cd21fbd6db2924face0068763c85dcf7f3abd749653f4d8440f818f7a393939394c2c3b4df5b6007b31f72241cce6e75683e44b34f771683f878a9deb68d9f7da5aacc8cef5c068056a261094b4b1b5f449f63e551754623ffba07f5b4cf5f6aaa4039ed0ec97fec52c970c302e2cb4857f86fc34cdd592b5f49e87bb00ad160912bb9301767dcba15d9588af66b9b46dd84eaf2f3715c00a3306e750084ef49cd0e6671139853bf7993d9dd25445fc2c72345d0ded0bc46281c6122606bc7992546adabc4b6cb5333370b512b510d6e3f8c33e93ddd448b1e633154b4c90143c20a1b63c3e7f683a5d02d259e64dec9aeacc0875db3a07c74041526ce5c8f822a574e66015c51efc2f26d83accb25ac0c20a211dc2e8bd78efd4f2e8c6d6ab1a9b60ff3ea2a09ab8181bd465e79320ebbc69405486a86510928a6b3cc4348c910d005020f5295e5b2940c5e79a3e3f78936cf30e7c83cc43621c0be46f8fefa34068930f1d4a2b8bb1ce838ff4a4f1a539e8e0842e2a6393afb96c19167fc3df2d0975bf6c7f36108e460c50aca53d0146682d32582f4827da2fed06c2301cb550892b406dc0528a861f48b833712c6f769f078e6cbecd896b78add6ba9be148311b389cf6fb0a1650ee7a00f4c68c1af0a6771a11c06750e45d39a71696da8155935d5bb9d5010e832540dbf904ce7fda1bef7625cb00a165fdb1080ac6bbb8df5140106abe9c6fb7d1d14f2b0fc6266f598fa3305d620a499b2167ce4a7adc8d6094b7fe4cc0987ff2d7d1e92db404382b76fc92dedac423bb9dc28c48d60646550ae4df79eb2cd6e654a686e475de0dc8f82ba18e7939cc23c1dd4d48e1798b541c081730940871f574e0859f254af52f3c79e76f5cde907a374483dbce9709a4624e015368fcc53fd3344cb9dbbd00d0a78901c14bbc2974fc95fb8a821d4474513a3ab9e7f7b408ba345ad23af1fd098bef8e7b4b1a9f50d243018f45330b351d79c3d3e90b73c2b29f744adb8b9d8d236156a8c016fc760e3d2b8ab3ad824797a2d25962f658ed270a2d8ed5fe8159904dff4fcd04103a7a02322f297bdff065662072712dd82709ebccb131612d5d668333b8d45a5a91cfaa50b3359009b1ef7a3acd65ae68893435b283fc13ebceae5e8290af2cb9595ae3553bb77b06b985bd059339ca30cd128ba563593d4cba51d28d291550d023c41e02f53dc78d5d9be4743459fd8c64b2330058746c9ba5678bb8a194e9d2d61b22016a46c000d12936b9f6940ca979c5bd9ab24c2e05de778a624e916e80a54a456ae9dff9e1592fe27ef7384f3c6e78d2ee5742a6d8bd6602b73e634f51d2c0a4dca64f45abe4138c1fbff8075e346e0d754f1aafa475bd2dd86548e24d11a178a6126a2f0497ffc9ef24d75e27ffa39d8c63a0b8269cdca4813318e9fe2b0689568b14d6da0c34d7b62dd96c48e67913910945a43b6748e5c6699fc6610e2a5ad9d3f2cacfa254d565e0ffcfaa9d8130a59fe1b8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
