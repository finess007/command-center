<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7ec5d42e3a2c0e35d7e466f02d6b64fc2348cc0191bf3cd03f4bfa23bc2586ec2a028d3d8f7ab5c09e95088e6598e1e6616a0e47681142094d80391ef9213cdabaf59c44e9b29b1ec55f0c1c6353111f4ae774d92e4a4d3e3b0c59ce89ea6caff2ce54e02345f8e51ee7dd45f153b373db22f19b8cec62c7fad82af1763190a1d4aa86e6c8436bf3c2e72dfd60ac9433972e9dfcfcc7da95f8b1d777779018d67a53cf5119532743cd467199287fc4a5d6bcdea3f0b84adfd34e15d5550e7476db3c45a4897839f4dff4f0ccc9897bac2b53510cc85c7534cace65105029f5bc9cd0a4ebd1f5521509638989e8481136bd9999f953734ddf5f715ae9416c17edf5b25d44d211d82f76b62697ca8867fcfef94c5b2f548c048355d19bc15e2455ebbd98ab6ee373db0e88dcc406b478ac5a5ba48ae2c956511930781c70bec13d997ef5eadd264e241873821bec44c4c2bde8aeebac8d44ae7fd3ed2e3b71fbbf07efb1c215d8aec502482962c0deb87fff4848e09fefc0bfd859168e61b0f0fd21918d7ef43dc5bb8ed7e92f20fb518ba96997c3c3c0dde8e927d072adb157b58ac3941b7b22e0877dee8967bccc38c4236e2e47885691bce5b17685c500eaa47594d14edd8d2efe593e02fb8587ad6de069dafc26cd29b79cc738484ca2989a9d2bbd1038bce8ffd4644e2fe0efa060a7201197591d3e0bd9ac54dc7998bd81be56a6f52c5031f58e38558d93624997d9ce2ab8645a1a8c00f4d1507a9b34ae140f9323dbb9c3342c27e2ac70270a93a5879fd0624350ad4a9a993e551585a8b4271eace6d1406cd42c9843a5f1d039398670c885d718b56f4ff0b0f137ddcb856a8c641ffd593f73c393240c40fa236e8026c3c3216253a889ad1bf90a12fa591129a7fdda2a6d24793cce6be5a25d79467922914f8e15870a110c548ff241fe3774a9cf0daa81aa3b30aac5f217c2dfba4112eb0ecf0caffd89ea62e36ce5ef6c5f0d96fc134b080b08c0d0fc98831a9657a0f0f8ef2009d789206b4604a5ba821a6ac814d077416343fe984be8c97b2efb036d4eb01d3e5bbc0b6721842aebc4b31e4b8fadda5eafe32267848455e1e786ba46519af4ab6194a2fb4491b0bd1de6b39a0b7b3623e51372df796eb75a59be0cc7bbca664fb40b1e941a128e76cad30de74ef37474de70510b621f8b5d91d9daab1c4c43b44e476b7ad1676175a9f875a3a351791e80ee1ba5589cd443cd077e06acad7923f1c5e367b5295417f18dc22e97f79ef64f5d4efa19598e540d66446a47e1dff9e229d4a13be06d24054dfdce9352b08f85cacafb2384bc0cda66a1398d2f79a7f8d4fab790d7e997388141bf3abbcd0435cf13a41c643b637dc4e390ba50d7b4b7ca57c97870f73dd33cb11ffe9296232d393cced7e5afee0ff36cf21316501613efcdef67e7ea85b80b4c44ca8d41be9a50b86468ba31dccdf3e2b73f31e2abfc7d11718d8df88e627276e3511565128953c91e9c810ed4a3bb73ab69c3ce93f319ce790f5aceaf129614929298c0d1a6ee1f5b592f1ca896b6aab734d65653bf96750f39c26ddf89261f0c334a94cfb4facecf202f5087f2599502327aa8b60383f8034c3a1c2d60163b07a560523921eca1aff38b1c2beaf689a13fbe80963ee9d80d27dc8bb8f9450b15a128ca1cbc27407bb0a76e34296dbfd02b8b922c7b92c1777e481172070fe977fef65b1984d69b8599fa475d831a8c3eb04b382dcdc58c3c4460519247a5b82dfbf8e22817598bee84e43838c49479c939cbb5f73594367a61d6158aff408162f8212a4ca42aa5b4ec887781d7addc477d5b4156694e5cbd71df10483e267fcbd1c6491ca62ebe109420bbed71528dc2cf554118affe9e500edd7c62245cabace6e2e0fd218a9bf72de672573f5e6985655b30bf3bdc28e3f444e3c4d6526564846b3d541e61a3e1f178fef70cf9575ae938edd8b5a1ba6a1c139fcbff6db1b9a4fb6f0a6baef543e8ec33a74e034c3a390ef104cd6faa36a3f14c1a0300d5f6660910bea48025b89ceb84127e109e3211f7f93813c982588bd59db587f0b94484f2e67ea81c220f66d1afa4f19274813966f02d40bb42cf3382052511dd74c52c6783df38b78070101c8fb4961367f62be7ee21ed97bcec8a4d5702a62f5881208e36a9b0b9c2b3104fe762ee8c45306f880c6133002d72db42747a2a87c06a1192e1642c4c33687a3987b35f29a72f47bf8a9ab3a81cf8b030d0a0741d865c8271d952d1b0813804622257e2982210c57bd871bc76096bc5341c52eec0b7d44ce31c29b1cbac1320b1d13cfcacf29be4c4385b06259cab1a258af10277dc560b47a30762706e958d49885cfa7443ac7168bccccd31cd0db8aed009ad7d11bf80d3c924c90f97449b97d1d588dd61d5022b2f1f5083b44f76f69785cb0d8779611027762df8111217c207dbd476083dcf4f00d9d192fb3a7b3d51b4213bea0916a0409ccbab12130956bd9867b7279f37ac3fb8d6f299f93406434498df9d1b84be6d08111c81f130580568e08c7c547a394b67a42aa04dea8aaf5fc94fda8484cd2893bf653175bde17a8df9c9b2378efe2e0b3412c77cb5460aae1553ef582b1e2e94b8ca081672b3a4f2a44395c0584cf160b817d05798be7d2e7336804905044c17d3e490ef1446e5c3718689a6cac793518f2a027d700e0098778c1214ec9c7fe3e48e94433cceb592eef4b2ed169725056175eec6b01f31577b6b07714835304b12d9b3cfe6ec2f8bda7f2fb077d4d415958a3fa62d39a761c07160964ee8b668303c0b6b27004318159318e3c2f865e98da0ae968de1889d6a2d23443fc1ddf5291ee065ea7d8f714f3eb6c5cf8a27aeac44dc35746c17c9b80bf585927c338b120e0e00160682de98bcbaf680cb20408ccc08c5e44bedaee2683c029173412eb76aabcc4b8a235e277ad54744ec3838647c5bbe586c5ac5ac1865732ef4b1a9771fca6063ec941d2c7192f6fb8cfe6659f6a602104babe7729621b3de4ea807edcc735f9410df53ec060b1bda7a2a61b8230366e0f9d6b352d1bc39d3c9932c99ce62f1e1ef2fed3eeec9c2479589dad03005ea51ecbf2c70605fe7f6a0f2df4a75ffbd08e4d6bff8fab2d72a895b72211692f39bfff8210ef0329c9a1296993cf94a04449e188a6c00f56c1034e25426ec019808456558e9e1a46251739ba6a3bce547f66f9fa4ec3b1abb8f2a04bb59c3173eb55d8838b763b07c9c1c214aa38740c00d8f61833a8ff4eae799204bfdec2876ce0ab1883d9ff0e3245ad2697cf5c21753a8f01eacfcc351b05e5b784df23fd79f792f75ffa7d15c42247fbb23844306a76185e5700df1c6c04a08fcfe68ebcd742669fe86990cbbcedc8343cbe1e4d26ae6d193da8d7772d43699abdba701d7d75dfbe2c1468d54caf21b8eb38b1498ceed6f8284de0915de3a3a9c65ac7849c11cae829ecf2ccd5e287da63d593f961dcb74c1005f1ae28ec7d3833fce69452e9c47e8d45b13a872515223cfce3b220dd9861d096c8eded67adcd7f49d19d338037d7c518d12888ca14f6723afb60c199c3c9de715c07251ddd29135685a8727529f65239887efe33229531f609255aa3dbbd79921d73f8b06c3db2f2ed07e64a07c4918d6492a04efc729df76e05a100cd54c88c2d89f24ec8f43e38c4ef941d96949ddc049c1911bea00c1381c5ed904e8f7fe998eff857de62a5cc6f19e16600848933d5b3ae52abbbe2add07ff34c62d0446991532fa972790f1d579d34eb8ddbc118d1ce82b547669a38a2fb390ad634180f9e544cefc3ad7f72ec7fa6e0a7ee70375a820cec65f13ea42a7838efedc15e132f936c734d4b36c8b0f689ae7480c841cfc3e44a1b86132012a49b4b1dc0896e9bdd6d1da230a4c2d9068385d202cdb5d766cb7b40c96db6d19294dd4bdd22c174ee9482e401616dd78cf02bebbf1ae27f07823fae302c48402062fbdc205cf0c216a4daa8cdf696ce7ace401896527819d4f6849e000c234738407b808e802d0f177b42713d774e207481cc7a3df54653406aa73e10adf2ff2f9312205f27a49f14c5e0228fd6fd29c65e4e9d7e8b7cd2e7dab27390f45661e13d0409a522381b81053e092062d8268da2fb4fbb1c2753d082e52e3584bb8e1744e3b14baf81de9bbc4fe5dc9eaa57caa55e1af8c36dad1c2805dcebb88f49e355595206c4233df2b93a41496246865e3976e5f5d8d2a1dbb1381c9153083627c0e439baaa9a4868b44ab0e5bd3cf984f5dbeb5c46e5f0264a13c4fe79860e2deef39fadfb3235f3636e32d6c52abc39ec4b082228ae41eab4baf2e943952f30a5806945e8195fd358536e8bfd009cecf1c7b60425d80f4505ee091a2df13ac3f20b7bc9f5dab554310b6ea64c51c907df2268099f93b24fa76f59d8263cd124fd2788edcd50feeedf6a97c3d8414096d3aa37fdfd58a9482ae99310b04b2721964106941bd8cd71805c23fa3d45c2c000137babc3ff9e96be261b34545d6939a79898bd96323e53892b0e443782606a2b1db50e3836c9abae2cf3ea92c7206cb8fcd4e7fc8c773968908821e5782e4cbaaebbed72890b5ddaf368d371d35255560d739e5936e72d4cc7e2d2a42a9f895980736d4b5f8f1e024f97d581c42e6268ef3a48babfff7e7eec828247dfd5b0e0e17db2e6419276074a885ae4398c23d7a50e2cee3ea0e3c5d41f8fc59c65fd26203c2e57d84c4e01c32f404a1a03d85c12414182a094293a0e00f46c1aeaf2c61a48a3509d4bf169e8023f5742d99c185090d1aa1f0b51b39ef679b2449d4b994d8b7c2e0a04e2bcd11a213ec1aca3e8e12bc27cd544971e624ba49d210a43ede77b8fd7389ae606c6509f54a0721ea61a251dc7231fead17c3246833429b1fe4625d907bda8d3a889a1425bb2fd86786bccb6257965d887e9690f39c7f352b2369c2d8bca490647ebb96341fab2c12da1ddd842c82934e58a43b8eef8b39021271b348ed8ff3e0634c225afe1b3dd77bee5e49330348ddfc2845de2e1c568b3be0fc2ba5d2d210a00826c6ae2ac645154ef0dfbc8fc8ed1d2cb544e224992909314b53064dcf231b7ecc42e75a8051f26e039e6cc2c627348951afa861ae4f5da6b52f00ba3e91fcb0b15974aacd7998cfb3987e5e3b219598d75619614bfa4a4aaefd728fac9ee37af91dbafeff9daf2374f0cc5bafd8c4480d1825c8ada210d629d6b1ba3b51557e81ce099be20a7515c1cbdabe4ae11293f22b1d34079f823a3abefdb873108e99709b6dff9055c4ff2d153d53e0dff4773b69bea8cd60f54d48d99ddd0b55b2cc49b8be43aa53583e30d1b956cdebdf04449a6f86f0e742add1589ed928873ac13b5e3cb3efcdb51dec05393f02de2abe39f0c01faa962988d6dfbe535d2a59a3fae018af951d0c8836fbcab048c8aa3a2d0010d4ae29581de7fd526f0081a9e9ca121af89fba321d0e5e47a6a8be928c7f7ea7bd308adf72b360a28fe9f050466fc903773c7e093c796b890340121b84c0e7fba1fb141ff8e7602145dd5c38a45459fa9f1046f89bc1bf32fb7b13f7753f97eeaed9c9f4fdda120dc17f8dca23cc4fe582050ca091ca56207e542dd26840323149a805b16f626f0d83886474be716233c079db948ae5b7824dfdc2004ab7fa8b6a68926f7db507903576fdc19631f78cfa3d00e01097a5a6c5fb86c6d0f2121c5653d38e3550db7d0b6db32e979e04839f17e431358b4318693037888292d7bbec68758ed15c3402d0d54663e5b846eb5844eb52df7a7078d0669e5b61013f5c273352b5503969ccae86b733e61e9fe73423e531f3682733fff8bfa537676e79070ae6ab7a325b409454ae5d66ea3324d9371938b7f50d8ce735b5a779ad356528761f4efbb87e07c21d2b0ff60552b8ef6b97c5d98549892d0fedb66896d6417d3af7cf4d2b0248269680dc333a72d8f20a4022a8c62fd4f290b0d067dde762e5cf394b76f0b3f34b94c12dd34724379b24043f9cca8ef919a334fb689e671e90ef58f6b1b5f9494d7143a45fa38c008beca3e74f6a0faba5ff76bc5772e382e655f5dd5af6053eab4874de649b98bbfb3a0b1a72cf311c9ad8d25f6d91e67c6116468dbc99cef6e1df7eb199266689c6d81b21b25dd7ac4b96303310bc3f5b5964edad3a4d89a04fff6b6313c58837f77a495825d6d443b98781538ea7098a24b6d1cf5027d45acb7d616f1173813b532a94df9ebc94807df35272fac594d74ab37473848a450ce64c1ab8f69468c803e59fc3cb182fa11209588bd97d055b2e899a8fa54581cc85b9f787fbcb3b8c53acfc56fcaa61466ebcb06bc6342e4814ecf2836a674f1771cc1849f95ea55f1e25db56a47e0cc0d8df31da0e5af00ee21a3df8508a93d7d6009c25ad50c0566ff409239d682c477975f5e64e83a6822dba84f1bcaff99636c9b4820fc07f51580c03984a21660ac2213180c227e365a1fe8baf5c8bd99df47d9bfe7100ce3cdecb1b5899155b4c1fc4b097909e9e7e5fcb54a7ce2393cca1c2849af972d7a234948d9ab23c19b01d8a2215ebddf1cd7603cb6f7e3114026ebb5a430344e1efbfa1867c841353175811b6f37fc78c871ce88358d3bc309c28703018467eac597b6ca014518409e877ff59f67d17e5b58436f5447205c8b0397edfd214d2db433f6932a212403fe84fd88b74d593e629c5f23d0fc6ed0cdc6ab8fa134b3d16e31641ace82981d07246ef2fa57c73f3d68b104fef33b3e2c3dff07b98e1422555d9abe5597ce047d2c493f34f8ffd484d8cec7048234e0973bff428f44bbde6ee56aa5ecf502203a7801b4cf55ae99b2387a9a15b5e0fbb11c01e5eebf181c9f25e3b90bee391beb4ddb98e191f386263d81400b366b87634207349702c36a3fa0c198d6a9c5272b40e1f51620ef6845b35f8700d32d9ea557e8404b526fbf296604258d93d9e45ea89c39ee05d473d8691cd6f6e317e391ed45b93f41c381e1dbca2a5324457e0331178717a9c2ede49fbf2e90ef019490792eff84746a383e3ae94e62acb430af3440b1c77ca0893b21bfb3e4931c71a1dc65fe587d5d6feb0d5ea4a30445f56c0aeff4de9e4d9619542163aa0ad6e3c43f21287a0b54662e283f2f5b4e692f24c404984b94d526ca1ae542a303de33f7e588f095dcf5ce1bbbdbfdebaae13ee6a1cbf22d94b3edfe09f1caf6456664cbdf63143ed9c02044d2800daf9d0756e66517f6bff9c36e216cc00e4a49018aa83deb6e620f4e2d444ce13a9d128abe2b6e45a5a7acec30f7c2f2f83024732bc49f9811509921fcc94bae30073bc21180a60a020bfa549f9dd97653320715c37d75ff8d713e608eb1718f79c6547f889a27da5c97fc3e3a70f16279e0662dd680f5ce5a3913faa285b62a2cd58c79d8d4ff5c8d9c39e08b05d45c74a381a68d46739096b3ca986b5e66f2a03539897e1f027a04969d58646e67aa8702d22c901c24f5232415114f5d0f9ecf65af2b24c994508d61a73ff18d49331201f645ac878f3a0b1c0ced8d0781055d4886b94cce56e22bcd14cfc755e8894eb05dad39f8c6c930bad43fa287a91c24055a60bfd34170529bce81e6da9e62162f2328a1c3646e4a34ed6600ac7e7bc905a25188aa925da0475a43d147ad867cc56dfb4498efce11dc8cd1fe2c62fbc37887320a15d0d3d507aec5e3a951e0b6c1ce9be7aa4023e3b29bf05c6f473b0fb5afc8abc1f9c1332071490a5e39d7acf636a56f075fe2367f9209338d4aa0799463c33b99b262d49c908a9645916c09c0d7a90d0c12b3b6dd3f2f51bba4e50766e45d44c3ace56ed9b6ff1516d59d1ae0243d613fab3a4f2273eb5bff9ac7f9e494f771d90e203ff285f9c7cdd65b3118e7748993fa0ad337b2943a7977e6c4b47e7bfd750c064ce9e3081741606620d4ed3ceb3243b049d644ecc1b1ba6e795622b61564cef066544669514340df9df147914b9105296f8a2c1be99a075c346d44c0b037d10d6deee6d7b5647d9d897b6db3dfccf4de61f5f37c833560e87c3dead570afbe99fdf924442de2b33eaa6debf42d2e35028ca5538090aff7ae48d775f7e0170be1f90d8e0b055e5fa8dd95cdd7b5870cfee78df08e2bfd3f3b2bbdc84bb31bd19d34e69733839f07fc80cd387796f21408429ce64ef5fc1317ca410811bdabf919c551b44a89e0a8b8d18ea36f33d7109b96ce5961c5dfa0255e1bb258ebb87fe4e1faa5ecab890e04603f01956e41ae2a328833115984dc39fe30606441d3b71127c961e482be919952145a91b5ae6d382e728efe659521663a8ff0d1d78e366eee16ded394a2baa7af1410f9ffdb45264b64d8324360bd1c49499e355e2062cbea88e77f042a1c19320a46f7612346958a3bcc4f139b3821f01b0a9a5fbc72410b187ad47fd1af2e250f52b349a03068f1b53d361b5257505302ada85aa23241646c6f8f9421bf3df6997bf7632d02b18896d8d25a4b1c4144bfe6dd396891e259cab6baca02d42314d550d05553f1d3aa34fb5829d4503c35b7dd0d91ea1ee8b8e0d12ce29bc6fb2172014daa715ae99b6dd3a254731fa5815c41107183d09f578ee77e21e7b0b535406047634d936e53aaf7431d3504d75d12cf0108a843ebf9350be3b455cccef05a859c2f1ccff4c2b59c9e233ea43d20bba2bbcf6cfb2f3f9fabcec0f44adb415872c9867562fe03aa68c097383d0bdf06dd443067e12eb372f6dbc7c9b48ec919e4f29017d8506c8b2d29539aa4c2f0d05a0ef8362e31c69b2998900288e29984fd80a30230539cadb46b1d22cc3a0ca8f6486fc3e0d9ce9790ca331200d406171edfb3bebfe400bd9e59c6be001a056a4496ad2d8f186c323c63ae08b27be060afc33e10b9d94577fe08b8bf3d518565823e42e470657623f7826770e45b633b3af909c4849d1e02758b0c42cfc053bf7e72ebb7974f66788bae228307d06247849375c033b11be093b4051bbafa1c8122c1ea08abcaef9e155a6f18f62d6b0c78e18890791b9df49be52145e2be7637a336736fa1cbc5b35ed666b393feb7e70ab4f099100aba4d5cf5fb209493f64a902bd47260f565453d83509a62cd0a0b0d6c52b31e46766529a2bbdf631bd6b2a424a7b9ae6dcc2b723bf9aa3417c3755b5ff0232013ccee7cb0e148a869ac0ef1ff8712d454cbe724d5e4ed04ab4400eac894101cfbbe3c8e64d6f45755b3a5f65afbb05c910e3605e84e6125bb73c75008473a5fc3e346a961d17079b9a49e452035b966fb639ea84482bd6de18931b7e8b77536bfcf96041a30a40dd7ab8a43a06032946c1238372c0a0f972746e851676db974190023def9a567e9779fc4d3a2f8cc0242a7d11222ddb98e67d1b6894b97dc9566c451e124cdd130cef21a9926ceb925ef9cb29881788133d181d387bf132bcbd0a0d69c054b9926fa493b47fc3e4eae160cd96b4f775864ddd8cec6964de0aeb98edacbaa1cc39f005902d73ff2e7e3366c8caed5d38db0fc469bc8991902e149fc11c58e297da296aa3355db16b7548df238057ba62dda854dcfd877b2f23921aa82c914ffee48e3967c4dd3253cdd35587384f4728f4e79ee3ad8b2986b5f855e1f173fc3ceeed4b90536ff3cd97bcf992b7413889f646e0559a0abb634e2aca4ca44ab09d4007f758a78ce7506a48aceb31d798c0efa86752e11246ce1a42d853b48a7b08a6ecdf4e7355254b300fa9473c7107fbdd61e54d3925c1cdd96416c1eabe12a48b7f6bab47dd1511718d1177eea1b650945e97364f74620c3f0557bb42eb7fce74e40ba90843d67a55c733cbc0383a91bd0ab0d5a106749c75c645e5207a6213eac95865d5e6f60e1ee7059ea89c96b6f5bfa468246dfcac1ed143fcb7327cd381c8bdaeded57ba9f7dee58295236fcb0e0bce1e04d8f4b99caef896e1bdf9c18c09aa3b00b48eb4f0f3d42213557b085be9d7c4b83b9cc565d39c9385898331ff8b401a5381e8238565dd963d31694d6383a947e30b71e815ba16913ef5dbfb4192ccc6e1b4a22e99fd490745a6424f2514edb70c7f35287705b803e2ca66767d042abb82e375bef6def86cb2e80f273203f9c286cc52531d9d30c28f4fcc8d34af92cff1996eb3d9af555b01a1ac1964b1a4e3e3c4d63f3b458a9cdd9c6abe6a6d697b833c7d6f026fa0e7afc01f1182f799906eb321ee912558e433bccbdceb41a6c94fe8c6e0893ca2754d79225be2608d44d55c36b21f57874f0ca6f09cf92dda8efe90c5f6054a8868971203641e98b6e4e8cba489448dc9d538f61e14b6961722fee252068b8a2a3e520ff3ab267ecaba72cd06a11a655d352105b4ad1b78c9ff7480d4bb16604982583a09002e7b9677f35570f255932407152083da3350c00d7cd70dd23dc0ff5b2d744a61454bee1da33fa50ead3cecbcd7726642f0b9bd9fe18ba8f4008c92b78d3b66a1e20f1d2f7d0d28701a25c894fd57436acc289a85f3ba47243423f9c274b16379a7db8aef16c0bf95a2720be654b354dc0ce9cf2bf64e163f71df33555cedb877011060fa7e4a487d91c8d0118221884b13d1228fd0d0e0757381c769ca916e56f20133a586a2038eaae0cafdd48bb3400b10eca3ccfa56f2df58f4eae2885c591aa3c1fb60e55457ada01449d44478d5a5729937270febf2313601ea244ea172e300dd0ea90723e78f486c73616513e504aeab65ea0aab043505a328ad820982f34ff616fb160518eded703c56ac84cc730c4e59d789c0821661576d053ef96cc4905b5cab289f1a03134e1a2dfda107b1d0a69204cc79e476de0eaa5ae467c698841ceacd8068005dc263c78c1ac1456e7367c829acfc4301c003db936937bac9edf66332904704db340e8ad128d7bed62f76bc1ba88da25757d69d81e6e58ff948da5048a8bba2cce2235534bdfb9310d94c42ef7c5c9a66d4d536c8df1d8b68cb5f7783511015187bb6d99365fe609673633f4c32d6def13b7fc7511e452d298f0ff2f3acd667804107922bf132865ff8243c95ccdfc11dcd0fe49d77564cc0043331e991b539382f670c8ddac4504245cbdc7088a163fa6b5a10a16e8406407749464a63279e429bcc1351e4eb7b7e4c76719888ac9777973d1fd2c7f6e5ba3a3d4f70fa68cd152b0c51fc53d53c182ba2b0076c0ea5945ae0ac8191fe23f0f0a5b1a5c3bc9336a174ec6b59faffe64d81e5c21fcb38ad8933b789c0def898769d2c12fa55efe2f13c478679119f19449e419e136c99458e5334529bf72747cf668c4af8e14f465729eed9d6086fcfcd9ad2c6005d83f0f64591f50452e2a7b6bc69f675a9ff13e142dddf66d573d22922ccd18ebc3f709a78a7dad93427bbfa78e611cdd6afbf2d019c859deab2957243f6056719abc602c3db757e2001409dfc59e908435d23113ebcd77ef910ab59a8fe67adccb8782f71afe5d0b91e281ac7a056774a90ecfa7ee03ec6c1bf4dfa502b3332a777f89efae514750fe024082d3248dd50259d7703fe144d86221d1083f99d6b91b4ee464e310b7aedab36661a195dee744acd41e8edaa9aa43aed1a4c2ba2166bb684e86d55e3fbaa3ee391accfa255ac9236f7af6951743c329284161af02a95f333a6e932ab109ff57b282798e0f69f91a5d44b371d32e982bd9979b076e1009528f052600de9c9dc5ec3c1067fbf2f0fdc1356b9ddbe299422161339a658fbc985aad0c5fa80e083b6c15b4759016c4dcbe5af0a0efbff473a38b195966285bf21667b927df58df7814dc4c5e12af066a2c6f382afbafd05e5f13f79aa95ee8914712c6fa7bc65d51e65daa7ee825ce738af6814f59248010119191907df761ebe6596c42a90e19cd9f132e368fa97735f4d01ae4b1c6d41fa5a6421910947f39337fae719d0308c9e463294a2977d772c7acd0e8d8ac92f80f147a4c13ec58ec88eb1541361d8d5dd9c4f8fc0496fd2e9af5dec2332578bb13aa1a4849fc402009bc29caf48d36f5b26fc36e263ba0a1287136c92476cbb9ce976d4d6114fdc6ea86e89bebf0a5a049cfe5886482bc168a00015b6a9de80fc813f3ba100893da7b08e29aa64fa14f627b3c0787bd090200da5b29985d5990215399a85bfa521407c40f943a83c60982c8558a3ee508f97a285a65cbf30b3fed68f7adcc9c160151b18cff882c2dcbe152a21a49bd5b10404dd7914e5ba43bd84e1f7de52712cefb48d6d4608aacdedc314bc56ca8b214a442b7f6b23194182cf869716244d944d7c3646784131bdc79e8760c877327220f805ad21bf0eb684774505f9b59f683b4ac5121a9658e8cd702abbe7eb427dcb4a2afbb74dcc7f4abae0622e1d0260753c8073d8a7d3bb446d60d5633bd2e13c55c39bdd7099947ea784e60228912db8fb9844c39b501cc3b15975e6f9e79b79a549c35ae544e41b60118d61909c0ea77d34008946d3c69a9f4a590c3be3f9595d09f90d538f8756ab83f73114e1214dbd7eee906aadcebe0f1b5a6130ee9f7a8ab22c79fdba9d3a3e48cfac340d86686988b3ac6b4cb8e42917e8c2c07a9f48ed26baa56f45596a2a2a3e00794bf2445cfcd70ff5e37043f3be9d81f1ab27ed4b2c68b9151dbeee8b12302a81b6d711952ef9ccb47893abe4dc557a4d9215e7aea62ccd80076e81282200dbb97386cbbaa84f891571464653a5617bbf5517923a25e38ca649fb358afc9442458e2fa4e961e95f7b2cb706601c749362bf95d3b7487aac3216d0b0b1136a8b1349a05ea56c2a9cfc45c683284ff795ccf2dfabb9dd23e71db3fa40d31a5eaa8d1341fb6a9f8ef50d4bea57da7acd5a076e056bb4c52c96a07b3b3535fdb3f3ed315a57694105c16c186ceda2cf498b8e20f716fa10c3f988be222b86598a21ff9d027d7841bfc18be639ab8befd1b9935fd71824d5f92a451ac6f07050494ba3c04ac8b4d9c4efba355e6d366b6fe7bcd4f97c71ffe890e96738d4e9c135c5a254a4cf0ef0e18bd0138d29f67fa88c4c11a44b933b7b126db909b1cf5307b16c548b91457a13b8cf779bbd8e5a25e883d1cd6292a6b8ba39a032f63baaa0322ca5a46cc03696ef28ef5697a9e7746ca222a41b8e3f6bd81529769075d04bfc33d8e832896791849034ad8eb09bde1869166525f80fd7342209d00cb2582e2982652e64bc0f5d21972da8ee18b54dc2e711ce06549557ccae54b4bb34ea5ae64416c0ce35817f3ac2f8dd57fb5cf8ece2d53bf11b636df380b88c9092e449ff47e35fd95a6abe8898eb8e7a535f1d944769eb81e9b4eebd3ae2ff2d81cd01691f7b35d5da061f86667c66d0c92ce2154ade7f1decacc5e1fbaba421f4cc4e3d5d3bd618f1546427ebe88f7e05af19aec99f0f4a6f27ac36161da058fa0e755e25cb1fab124da82c9124f855a6c8d61e721ef04ecdd7cd8f1b73a287b337ac8930f1214553e1200b6bbdf32e1e5624483dbab0a279b78c0ff081cef3379a29f5a95cd8d534850a3cb966c6813547902b512b5fba95339e11fba0be1c0cb65cb11f19f4875c701662dc7d90f2777d2e771251640be8eecf8f44e73272296c7abd16aa4476f0e070af4d2914b4426e7c7d6eb09cd451737f298d86fc6073fa7b5ff92d600524676dedc6583063e09d9af454a9ef0a4e16f652d9ec9ddc8265738b0b43221a93e2e3bb84ae93b100800ed19751020b2810000881784726340823a725b54e56f0b139b964af421f9ff04ac744360ba373c20cbf68da4a8dcb46ca035e1176bcc8be43856467af9421465ceca937058b460888a50d018209752079191da06209c60f2826d15132362d9550be4937e25c9b100dfafb3486e81d37794c52955b14493d043c9b664be584fb78255ef99f253fedfb58d47ef3ebc582134c6e43ba40382d6b041e95c89c2a4eda001f914eacda18d40b5e0237400acb69328f18b2f458d3936a550a1b5667460eff03db56e500c6c574ed8fe2b59c7f611b4f2bee0cc5458aaec1586b47368704e1b7b3d3dfd444afa5b503495f821d26ef086280eb03a3fc889565886f40496afeb945e12951a3751b97c79a0e5da1b835b8ba9da8912e4414b8ead297616f5ea3f980e8c8c9720eae90c82406afa6d4b873a0f3fe7eddeed5df40b3a8e7687623274d371236aace9da0e7d6a4c57bd751d7ff607af37519c4a521c87aabc4edebf8361c14d3f6759742eaa2bfee457c1194980dbc0634d1f5e818ea0f8216bf7688096db3f560038d530889cc79e8197098d1fed017c451859448f8b36d819cc9915cd27751434a509b8c0b7f9851356cd11f070453c80bed888c6f10e2f08b5a915c4a5c9d3dd643a6ab1265cf7c58ebea76906e212f3e704b74b7c6b9454e2aa1f0a017c915d3868bc7b2075a05b32b327fab7728cf83870b159a4deb81fb694bb57a6510e07c9196fdd48f3dc33ac5e5aca7d1b69745a22e6001077ab6a63fc9d3f7c9d8e722356861fb23e59caf5e92ca466c1bb02a69e7d915ab67db045573740ff4570a949d7f02f3ccc3a905edef48e4ba1b00bc6ea8cf42eeebc9d4f067a92d48898264dc1388cf5cdd5b7ed6219d635e79733656afc3cdf0d819950f2252c3ef9a2c5cabec9eac89bf2aa230b444bcbb1f9d2ff715e157b7081c2cc50dd8f5295655d97460b8525280211d0e68d9591494cfb1d322bfecd389cb4bbaf7c31945ddf7a39dc84876314ae0199fd88af6f80d6cc4fbcce5fd7ad98be214f8021f46702f60b45bd83ab9a8bdb0ff5ff2b0eb45ae946eda346b9a1e381d8e46025c211b44fd2dbe527c471ded20e88dd13fd83dd2dde95f03137d30e952af7f40e9a69b5667427c99dd6b4cb29ef8b54c492fb0f42d8be1d34823ce73e1820f2424aaf732f881a92e2e1eef5d6811d6842c174fdba8d8ae92e727699f930e9e9e26771e6bfdbf52ff925e1bf3f8019681a041a1d0deef12df1796bf8ef132dafd3dcbf5c613a6026607c64dff1255dc42d76a02da68ff648453acd0e61ddca218d3d2320b3b8739557340b25bb85d6a671337800e387da7dcb5544bf0fca8c7acf9dcbf390ff62720bbaf51c355bc0fa4c0fd35e17aaaffc7260b6e1f07590f0f338f6ac8e26e946309b775c35b6afc0f9755089409eaf216a62b2cada0cd9e0a1c09663576d75b4a4e4abb3ef2d90a61342cab2644a8d0ae84b5e497922f8c082ee6a607d3a26f4727e93d93cfe258413084488b8c7663d7326506e099b8dd336df4c04612b7eb65a1bf4ff77cb21e3b5d6146f9a406c8ba2874a1b871af79a38cdcfb19c572182eec10fa2222aca7e58b9083db50d38fe3819766f45ce222b2e2d4e9548eacc80fe532ce439e6d7af1e27827574dad6c4b90a4024c658e4e52087e99d950fac42abc93b15ee24dc9370d6ffafdeec7cc8fa963671609e5fc1247cc480440a9f73c1167f9d74da787ef52bb2d9dc984c9ffe6eb0ddf6e96519b2f6e451b9b69fb879b4c1b849b454687dd1351d440bc4fd6f74e1084e2bb7798ffd6e7ddb0126d6a7cacd679a2942f1b0dbc66c55cfbc6f28c9587487527e33a6d7467817e0a5c2221acb7bd9fab9e5c639e1534d02e0469867e8a95a2ab257132a0706894701f1cd88d8dd9cc7200e03b5d519d38698b2373029f087b0ff712e5417d776faebdea2080582b5f555e7ece0254dd0e1c79210fbf678f3edfefae14b7dc481e790a790dcbf4d6f4ce7e837b39ff54eec7ab8bceaad4c5e1f1b3e72f68a43e7249effde7e910ed8d13c02d6d18541d68e48ee090b94f59bb080cb76311bbfa42290c2b7a7c5124d7640909ddfb9d966bf473d19f2d9699e10bdbede91a72d9bd4fc33e6a691651142ef67acf57ce1d9e16640f075a3e9131737392ea0b8ffe8a3c1fef0ac13402ddd4cdf1bee5db63ded82c18c5b7d0a6702d6887ff6de68e691ec2cc5f88c7b97953d28afc489409facbb319adc31c92793ca39c9118f0128cc0ff17bfb8a6c6befca4b1137485d4d2812a268c930fc7001b00a956704a60f4f84630b4782e6286a1f7afb8e677c3dfe695c4451944079aa6bbd7e50311b05196b5acb70a780b910eea56da54cefe83ba4954de894d2ba42aed3c5d5c09eee0fab64354077f6aaa7a3a6f76db965f490f72db660589e3a327f45ecd6b9588b19869c157be8ec1db30ca142cf56d293eae737bc3b594154a9454b9fe358e341f4b6d8cb18f1c31a5c6b13da3736dca8c14206abf756866fb9a06e2b77098b6a42e4141e8ff64a8396507b4951ec4fce57687b993102da77ae1f14a19ec304f5e37716a8b2323783d86bb320d4a9a89f696d04ddd150ca3b5b3aa3c1d1a29726efa410e3e8229030ed664d0aedb4d50f62b5765c762b6ff2f3bbd1672378d3cd21c6d56d05cf98b8338510c510ff3dc50a85f34216b9d7b291955666b4e8f025e8b9806af271ce41e6c6a026df1c9856ac14b543f668a3956c87610a57adadb6866302ecf3c2912624d8220e9b61841447e03ad553a6a4c049aac31302e0d011f1af3a62e6d82b7d4d90bfe1560ed99b259785ce58be09fe66d6d0332eea4b77e15cb074bb16109b60b536266a726e92140b17d20f8239f413bdf81daa90a6abdd337dd19679a801e2f831426c54082440c3753726237988c3c7135c5aab22daeda9a5cf6269bcb3faf90cf4fedd8afe5c3657f5775fd4488467345b71435c169c94353818a75cfbfe7057ad5e77404c58f2def02330ef551af45c7bd0b56f70ef9d614890da8c480c7254d0e905a7b37a8d175af2f5ca4a218f3d9f907e22889ca4e80c741320f18c597c713d9f962f5782859bfc06a54576a50524abd960393b0f183f113827783235ad015eb325ff548f490a7bbfd69da4c902c375d544be2791e32b379e82460066e13a2646c7b0e66f8b8a99c9738638c59b0b3ce5424d2d70021ab7b8aaceae7718c8beed2289a350fef40c9967731eec0295b3b4cc0edb1d0fc476ec04c6f628336224b013db1ceba1217f4f417c0492abba73bdc5fdaca1979afc538e5412ac96aac1b354ed5eef0fe1f0c285b15568d04cb3867f85eb717f75de11c38ba58d5553a15402c7cef5a7806af2c9efb66b038ae339d351f8852c4d4eea4c00cb9ee99fc3504c1759acd62553e61fb08db69041a527b7a10b7e1b556a3888153fe1df0a30bd09be466cf6f91b24c0798b6df02c08ef9da21ecad5b43a7bacb3bef14e4ecc7fb620bcdf55c19e45f151ebd41f91d111d5b2c49f56ed4ce737b40f39a3fc468d9e962c676783212fca6864af76b1a23e246d4ab0a7049f671a02dee09a7270eb0fdbfe10d8703792ccf4f57d4223db5144405fb602a7ec681ae0b0e0210a626c21ac717b4fde7623e4ff3abc13d96b4a480c9b8f50493d2b60a9538029d7af6c490b4d20e8560c342ee9acd87be48f253f05f0886c6baedc3321dce68315094715afbc39b7e91642301526e25ed67e6a905534c54f83de994b02f4f98ef820d752a9262ad95df8a08469aaf315fbeed17de61614bebb2b93fd99ab4fa88c07e843ec8f6065e3bad2e0759b3bb79cb54cea0ef32af1be42305073eefd75f3065532b4789d345841b753dd3418453f187f02ffca2b3542557c4cdce9ccff2fe4124e39b4e2aedcb7e1019ca3ac99100e5e19483cca8f5837c2d0ab49052cd9e9ec4aac592a43aff3e5e4b14339ce939ac806475257ef2bbf5883f068f4ff6423e5446adcd01fdc1327c3cf3e85c69bad72be3a7c712f8564cf86e2bbc9c86bce800e49a06472ed9923898a2298e3c77a84802994ceda5ebbef465458fc44cbb00f5da64f33f312edb5e7eb33509b00774dd97f653aa386849c730ae3c4bd298ab629263d19b0e6e04882b3878c23f78a4d6731c47ba0859b147e52e41f92d6c8c41d5577ba92e7c24fc9fcc2209a068cfb1a6a3a7113bfa7fcbacc96a914f34bac1df81825ff01659bef21ee412f58541f45016f6008f7715c4bdb8a732ccaab36fe54e1c0512088dacf0dd628f160cdcb13caa0ca8b4e34dadeabb855a323ed74c61a842fac0789ece6ca60b1a0a888135a7f64bd846dd77c988c5181a2c7daf8cbd0c2d48d39efb879fa02fafd5727adf748a8ca1e9a2849ad233b3d8b286b897e9b4981d95d88acbb06f71499908ae9e77e7a1676f56fa9bbc58166b7304ce8dd9115a7abe93b1e71be9eec3abe8ca35872c7b42a58f1ef230a0d6b5537afcadb12eee2aafa8a80579525f19c941ca7ec4983c962bd69d716168267c1674f154a8bf1b20c6e9c52ca5503f118017d02bd26b9d5ea7b0cbefc1a084a907b3436bc12fd0e673f25e2dbdfb914e3a089c00ef58a4713b18c0c4e04f3f5391ad8d6f64c4618077e9796ad715dde02a02b69964b9c1529733a06d8783434a9a25a29e61af3bfa8d5dda3da557b6b37bfb40a3aa022f1e38a8633c48186cf50654a22996300bf803a5810e39eeb110c62bf235d1d223c498a296b64157c5ce551410b4280b01fa6c0b6ebd7bb028e3c12e08c68c65353701f287b9670d34d37197f9bf9ff72984ceffaf9297d18ea22e3ea32a5a7a0a57383399b6a69db9dee5ba31067df80a87390f2499cd2dbe77827792c454e0ec9bce85291a11c3fed6e84eddcea215484878fa9ad01259bb84b97bd952181f3746d923e6c623ea535f9d564cf455b8f39acc5cd25672864d63b295dead3590a8c1b651967af42db2675fc53e1f7cd4bb0603a72504e865e72d3232e5971039d24782cf74663d91afa560c1de84d496bfd2e9f724a714c72fadca315de51d7efbe058b9cd3edf45926d41f75ce7cebb506df850c5ba365a00afa4748a7b2f3e1d058beb85f3cbfbad725d4decec46614ea9c221bfd227ba6d4bf22e1e90313d465f1e1ab8cbb0bfc829a6c16528ee94f93f74dd390f41ec2bb08cecc52fcc7909b30d765996663a4a17543e6aa4f1b369e96b273ead0912d2b737c15430a9daad28465d3b3d0e022cae7814d9a2b8fb22f45cd1b52dd1ce608f97f1faf57afc464bce52706bce33d021d889ed687e24652f9ce9c15c39a27512998d1c8a9d191e4c72707575f4263b038a35251f20dd42706402b68e8ca37fde0dbb47592efff5651ebdf3caacc8bdc3ef23bcccd436bb4eeb0bfbc54ff07aa4c41575e68b9bba53d39a47975e374d8e7cd76ef38bc6d87b7fbc4b29b707bbdb7cf90748ccb835be839edc5efa54b9aa657592203bff3004672dbb5498aecc04bc140cb6c8df579a3ae9857cf018dd87324aca646cca33ef86b71602937afe898538285b83cfe9fadd19fd397dc6379a56b2b0a7aaa52e1c187ee3b94a9b88dd266e6525c678d23d1b86fd4764b84af86dd63b08cd3acc54fcd3f30cf9e7bf4a9705dd450f6acfd15af69be7bbab55bbfaa925c8887a53865ed1063f10ad970219d493f4e4e41f7be9b29c5731e17607279efab2bd10953386506f0b01dae75b752272e97e0e383e691a5c91becfbf88fdc50b832affe8a3a04a908e50867182835a6559b16dd498a7937dfa4c2e74cd95781f94c5a06c2c5b2d0e8eee249be8fb22e9d0c3c81631bd586f22792f81aa6e6d28ab07f9bab2bf286335d666ec08a556377b0d018f3d52fc9ce0edd1315f2459a1bc0332161855d16c5ac3f49d9dfff31863eae6dee76456f88466da893de95b1acefd7a7e3263d53cbd72718fabcdd9c5461ee592b714bbc2be6b2c49c636adb6be5daf02395dc4ab2452fe49f9405b2321a59fe05274a6e643405dd1d3504b1b494baebb70a3003cdaa8792c5682725f1ded0e4ecb301dcd24ae881257906c7049509851110af986ca4f43f3b8ac81ef51925607f9de5d2a994e3f342d18d87090b3c22168c47c98e945aff23da8955bd4dce8784d4e00d4285fb63e59a0f8516e4c26319d79fc4b6c196f6ed070ddba09a536a0a7b0e1e9e221358ea2eee37bb130b082291dfe2857f83d4ab0975d1c72e3f4f0e2f8be88f3c6d72123fb20a459bd2cea4b796bc59a2d4b5a7e19b9ebc0cac12800a5450fb3c59a158ac2658589e92a114587fcefec2ef71fde133239ad6d35d8c1e81563a6cd5909f87c","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
