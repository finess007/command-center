<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f5922196ce39120d607de9f315c832c484d844e01081bdf6914af8943f697e36b3ba2745407dc09f364449beca004b7fc776a38bf502c7de37d326ca8df7c5afa6bff98214648598f1cc24b6d1ea08578d48cbbc495db5a6f9b7b81fc9b4a3529057e3c1a5dcb7b238bc86b6c40c213347c95340d89e401fcfe786af25ac316c0cb4de3e1a509f3f1e1d50c040048b4f63e46c47bbf00858e458f2c0abdb0c9f134d6a039d89d90d809c2eafc38cf0f33593fbe0ea7de2c223d2a7b250cf55ccea0ff54435df16747cfca94c55d8655afba6bae32388f790fd5e4a8a2f6c2e83a1fe74adc3745d3ec123354e4a88c5f3f09d28bc83628bbdf1bed68ae6a58fbc52248c141b0c5b6ab8888e780a90d0954c0ae88d1ead7703d671ce874d4eb426113bcdfa0078d8924af7fe115d8b07af07a706eaa53ea7a8f65c69b2e45dc9f5bd45b815511296f156b9cfc4befd5ca8ac7beda8aedd0bf2fa2872b7ab5180c14606f3e2fe282cf0467d8a8d81d2a233600fa06ab7971f72e2f0d9155bddce946e3829bea9d5e888815251cc00bd1ac0ec008d86213a8f473b63f9eeed099baae746d42d7da014f0d5f1bf059891a5e8217405bea2dc3bbffe47d3f8a1cb1a14c60c83fea4e69341eb81744b0d823659d2284d524dbe90cb5582d919397739c1310207af775143be67c61daaed9a6d483fb8c066b0b36d61bdac28e52a3dcdb138d15cb4af89f62306e9e699cd1e9881e68e0b294ccd17bde2a3906c7955395449cc166d3b10ce0adf346d13d6457be9c43e2e15ea6092a20eaa46d2a0c1f1b9ae7e002578a5bede15f7a05e8f47ec66113c043b07d646af584f0896b21a827be29df8b053b908f3416bca9f9f300f4767c5152127b34932d131a3a315e9bac66b37a70be84f2456f5871ad532441098adee8bb140d08a36b9722e300fcd7c5857a4aa98b1e674df5bb6fd81c2be5c4109f827bfd35246087f2d05e9130835171ad9a2d567ef9c9e572f579a5f4dc7fd1a2d4fc1cf9bf4f6029e6127e9cd7cffdd7b0de62ecd4c742eabfae4d0693a8a81dbc7d20432127636783dd20c759d615340accb171b62e6cca1a0687c8cf19d0e59799325a9d39b7ca0eec937e7965ca6328c3e22aaaab4dfb317db1826a65ec73ecabd05b6de1baf2f2a74418f20f7234670e29c2455360db60b9d0a597ba8257047aba0a900b0e452c6cddb8724639ba2169ebf85c0e4b49483a1777bd0341dea7e735e185a4fc56978c2b3ce681ac08391bcf7c215113f269675b7d735f2f118806129d23df48e985de441b8646ec5edfed3f2720371e8bd319c4e98a95cc6f72228f25fc587fc8da88bb360079dfe10f3258fd5c93c488fb959599b0ba643d4dcebcf8823487d910a1107bcee9266e6864d9dabecf6999f147c33fa6e08ed14642ac9dd2ceca1a2e9e28b68b0294c6928c020af04fdd599f9015ef11b12bb42aaa4772ea10aeae4e3372526a6811d6cba14ca3a47dbb3cb36a2f61c9aea2e02a114c01a7702e03798dc79ccf5277c9e3e5a7741e782e41d4b1a3efa852d99e4a65f9779934983fab19639a2ff6e51082bcbd3a05acf9d30281a60993ed8a1128eef563302ee22564d96a428e0722f7ece79e936bc7736b2935cc1e7e630521052d9dabc8fb1999e4043e1dc087d54126f44b7c75f32c8ceeedd54c7fb6b12f48135668e276c0986136a0b7ba539338c26fa3162a4cdf0710d37175b6a20b7f97bd7d106b6f578502bc64af71cbe11596b32c460f20055365e3992de3b303ec5cedeb020e97d03df55f49bdff829809a47e8078d8c39007c2dd10be5946a069745bc7363b6dee41fb50b060efc8e0c3da213282a6a46dae49b0ddfea4240462f86a8a858604e662ade8127580261508d11f0bf730eddbe85e6bc7bd1182a051e9141c045f01137b5ae85423840d2c4c753db4e9fa103bd42ddef6772291cbe1d4f13fcbcf563d4355faaf0ff789dd1780e1802f9308aa437e01645b4c542c323f497e5180e62da381d2ed2964b12d72d2a38611b4d446edcd5c2bfcd7aa6321df28f7d73406254c32e49864f1e8fcefc69b932bac7c8713509a3107d33ddb2c8ebb4c5ac594031a10273476b6be1f53072f7d5798e2ab87230439c63a8d43fb75ad9259ed8bc9749b7ded2f991c51bf79e9f68895a7aae9c65a2e372d1db911541354e28f40fad7c4eb0b424f68fdacf9740305e20c736c4f43adda810a7e45fee81dfbbc08f00c0fba5cd0c7d6324c40d02aa6a297bd4c8370dedc35c0a51c6bb2941cd12337aabc45c1aea3ed53fc38db60b341888b8b432cc7aeae9aa9aa1380aae419ebf0e86940f5903df6a14c5150c5678205ece9e5d79485232ff41ac09beb7841468c9c3e4556294a44dc0400c9512869eedb4102484b7841ce6e6fb3217863aa86370968c6281a8a2afb8d5563e120f145972129058ae27de86606177c7c090023594ecbc2ec26a97b981031aa06adba091b61d4bca284dbf261bab67321c5944aa7965d8fbe7b859b65e633f43726cfeca477e39912b700746b8220fe44b06ea2e68a335e3bb774d6324c014e9edef210319571db17d2ecd06f1bbd162e9c5be8cafdaf18cc296944d82d4c93c226b59538c7ba257fc19063d86d98adca3fda35041674264052caf208b77bceecc9c54bbfd6e510c02d362ead92fdb3ca86093f732a954b6b69ad75f9e9bd303ee3237debf0eeed8a1b6af6e8ef47058718e887378b87573ebe2d3ae83248fa70b39548c54f1c6424a3740888d2541a5462015ddc64a5acc5c26ebd3b6deb3b19b6acfb89b114423522cd30f59e76d31849e739b802e92a091332b90a094a7c462473e275b4db8fd443f40d971280f8c6b3eba8be6ce5c65d076a2d08c9a268e14b951091c2ff30d7929b460bcc9c891ace5468216c01d7c9242c7480c836481902b55edcabe60724b22d5ba198d086a2f895c043f824e3467d1cf09cd4b6e29bb43cb4f9a13980c90457f5254047357aeeb01889efb11d02aecaecbab9744db1c2d9188b001513276e18c1b85710342e8540aba5342577b0e24b04c1166b916baba0c78c3a51a0ec7f69e98e43576e74195429600db8b56006451ff52fa0276498d72c54cc7143727b3dc0748d68e2d4ef4fe25895678b3a4a36bc5a52712b5485add46420103c2e6d1f89322a1bebd835032ccff690dfbca2a0c8af6725f3ac33ee3ba907a30626d485877d6749f64b7f6f40112237557837872c61f77732ffa9669544b43d9d77be1d57f0b4ae97f8bcae5119a1ef7bf7487231c8560de2f2d2948fc6c3f9f584083143135a6af2e2398883dc1b186a48081d32895dec29a558de26efde16122cef3f98ff09774eb4a9145f4f55ae5ed3f25b0f644969faf91236896f9de3a4085360b6f1be457befd5a1578eb08b02ebf349c4eaac2018598af9f13143452a785e63cef85da19bd9cdfd782420d033416d397822ad24c2223fa93bb255b240d9e11135eafb406761039cddaa623f47aedeed403929764b7b678a1527f54d586ca597138e34ac60472e4ff7d058b01ecdfe0508928829e15f90498202156b347672017156a7b7e829f62611fbf2e0f9483f14ad2a3acd3d4f10c2806c3d4e7cc32dec96f015741edffee8d427e0c903cc2853d4dd7fdc26c9fd6ca69b6be9b4bc5718b211c1fbee247ac3a7a9c6c3652ff47f4225d1e63d5328f3521b8f39bbbdf4e4813f613082618e9bab4e49801295afddc55b5c666fd623323e32b6a957d954d9f73fac64d145452333a4a258973b2adf9d576acf98de57dcba10a0f93fae0805932fc4d65ba3c5f42c403c0b7b52d6f8f17b80517a35e581437fa87ecbedcb5404c037dd94e5c8612991d5d8ce91359791b9a4ec49c9920569591d3e549e1d664d9686ada0d9e71fbaec5a2d1265fab0d8a01a1b0d55a6b3fb049dfb8cbc854a4475d7317d7b6bfccf107a7fec8bc114cebfb2730b1871103ccadaf6dc863b69441eeb5b756261f860286b47395768ee557d7912134616e18519a31ffd423d34cc231d0add2e0394fc190bc229a0a76f33e70f3c3cc20cfcd32b39a85cd0d69941e1b93cc5ffa76ca7c7cfc70a017cd359ab6d654051f94f87a0dacaeb0c467aa9ef30b360097dfa5c3f254d8672c6152904fd74fb979ebede3a24b6e6075e067e1d4ebaba2899d635233d0df8df0689bcf48d0249b137f9cba994bd12e05d6373360c625a77f86aeca5d6b4ca70bf592256ff2c137715c36dee17b97113f6d2ec3f8b193cd9adb7ae04646e5df9ee11c623e1105fced16890008ef1f420125ab7a10ca9374763a2be21ea9cfaf646a7eba2d872c81448efa1f29c4f9ca5e158ac9441ca8102fe78277960f1cbd95ea433541dec9f8e8aeeaf2cc86c5e78416f6508aa3bf5306b1292b48f1f8c07aed3aac76f6e08083f915a37f203d5cfdebc06278d910d7361b2d0e1d66573e7961b462b093ef179a84c6dfb27b8a83c5baebaf9902661bd3404469fa128b16ebc48f460f6198236fa9893c52ffa37e3258ff3ec5ace2776ae4f1f464c68979eaaae57fe4b83113f5c0c6b4ee163832297e30d49d9c9c2d37f9818f71c9c31b602b2faa57ba24759192fcdd814957bac64b115f44b2f4cf2c16f93349cbd2f741cb3954bd7166fbb26f7d79736a525e1e8d9fb740d1e8d2e1f1b5692455e4754540056549a5fc84ac05f0687c2235c8789b1b2160c068cff20b6d7a522011dd8c1cbac36c9d1d03c85cce62740d12b57eac47ede986a4dbddf4c291dbcb533ba62b80bc06c18b350eaf1e5dc0a0aa61b81d749f2c182ba6c094cbfb434ff71ded960bb49f653862e554540cbca8c116603354689bd6d28d928b18b9a9fe4d1ab3b7a2b897a7e51c56ee22996cb325cde9ab9a335c3f4796087581921627ca8d676ea0a698ddf5c8660ffa73b52867bf6b39ac5a0a1bd8e523a4ad8642ff2962901c11290310abb07c60773e37922ba47b6dc8e9d25fa7d2cfd310e9d5ade0ccaaa863a2e74df8e7d9f9a7748e5d100e39f7cbc289c1485922d76d25be24bf3f6072592d3beb027d297fdb45b8bfb3c1093b00b7d0c909766258f238944d27903ee5aeecedfe5e8c6c897103ba9634259c2f7888607f75f906d08f0d886f39ab9c56bb6b7a98347d407118c1d0ea324ee0d8dbcd0230c4479781e8f943d5afe066238bf68792fb82ebabd77eea3bae7fd22ae7320d58d631762918a52607c8ac910c35e01649feb7f1c2691660e08c5493df75ffaa7255ace7e3b0f7874a511201c5b8a95a65eefe02d0aae1e0eaf8bace1508f6bfb33bf1e7c6a426d2bbf3f5734559b41c158e33db64c717c7b88e29a34cffe436c5fe0a361e63ff5bd4862cfe337377be84296927e51910d4eb1c1c255b4d86ff570133ed572bcc11971f2b0894d0a45a8f6356fba8c0c883ff5fab33baa52fd249f682fe106325631b070f574de8abf31856357c2f026da069e47327767608b864e4cc4afe36d06afe2263985a25f66a4432b67282137538e578a323b83f6732cb12541173f2a9fec55d407ad0e1ed0080af8926dbb9f7c3aae3fc8b79a7bce1984154fa8e90cb5a06b5ffc7beb6d7b946b4d3012a63000b6a79d1717f53167d33f31a32e621159526ba62c21f605810192d3daede14334f962c35e782a3c2450a0b8b01dbcae3bff2f54cbb5bc5712d984db7d081064aff291cba041be40c4b167fdf72790d7519d1c3788ddf1cb3b8777db81673590f937858000ed3bc340f810e1ce41fe0ce481feeaf8a71ccbcc227a965c7902cf430f5d5ee2aba0fe4f13ca2615a3032360108f592ade7e25ada7d246a5f5a023ff7859896e456f215a29343332f95b8d6ecda05d722d1d81799487c441efd1c6a22b4e4a01883329e0cfccaf446595ade15852c67712fd8f361362c22f23c011439e7fbebaedf532e3784a9f1a95bc68cfba642894d461eb8c05d028a88c9ff535b0c7961f76253f674627e0ff1562eae13c356ab205abfe106db4501f2faf1c64f21663b3b42c91c039f825babe881d9baad85ad86978abac246ee9a1a1d1150b5cffb41687743a284959033c2e3ebd711782610040829bb00f107779460ace31282acd0cfd4aa895cbd4cf0411558a22a09dc0b89d6aedfa40de84bc776c1b50d5c455b9d51419e45d6e97b8c2fcc89f308602a82cb9470ba70dc36b29ed101067af4c0bbabfffc7b17706ff4745535e126ae30888ee955abc0d7c4da93e766332525214a1504e03cf383db5945ea114c233a062eb3006c34068734ac9057cb2d44a515d6b037f6cc83cc8fd979d82b57292529ee90155f1b3d17ea092fa87227c5251a62518bf1b1b05fc06f8ad1305eb1e466382e35d778e8230042b760e4635a676a408db3cbee92cfdcd2df84c1e0a8ef795950a21b09f876676fc2a0db4dce0c302766f76b9bb4b2901a520c840d6667bf267fed07aeb6d26af36366b955f788d66e2acb8c99c57af0fa5c309af18281bfcf0b3d97ec5c5f9787f3320ec9715f8bd81824997f8dac6d023566264254114ffd6f950b93cf97c8522933963b745b3b9458cd694964ad77df43122f6abe2d5d17132a242e6899864a876c37301bb77cf30514ab81b25fb7b9d6b760a394c8eed50051c852e73cb14468b39b0f9e6dd1a963de8c6c0967365b782e48ea42f13636d164a04a8904bd6f47ba6eb52585ec39751fb90d31bfc6fef78572bbdd0d09147b8d07fc90ce06cfb87159f58e794b13fb8c756f2db027aa68b6be063537a725c196ccae5adffb2a62e749ac73aac5e77a879946e49dfd96a92ca3b00c6474d0de59d6bea3fa2e99c5592c2bef3e5c7d7e59046cee68da94a1d5e7e67249c8ccf2e2d431971cd1f105f6280a8cea935a5266acc29fbeb66a99e1a3153dece51940f80389ca3508c4a38019dffda4be655bed9f471fe154ec2e5866ff639b964dc81954f23008f7b704704ce6c644a58e3e8cca3621c3055138c92128d78c1cb387ada26d5ab17c762a335274c865af8be0f59388ca5850b0a21e803affcd4d08444f0066fe991fb39eb129cf7413313f392dea850ac421487d6bdcc09bea514e6bb2ab9f4109de50ea523edb865d90e69070c157e0887dc66e6693a5698811a4e9adfbcd7d17a857e61ef8e9767aa8d467184f4c9cdd6be35920d5ae8d6ab5b316863fce9c842af79d2d55582d9a58305a5a926b7902f231cdd66653b3b383bd0ecb0b3efeb83484fb022ad1d2440f04cf5da10846eb830ee83a5b7d87ae1fc3ea69f6b476b1bc78340a7854219103a22106f435becfbfb4cd961836ad3f9d18eef915a126ae2cef765a154785badf7f62bf46f7a3807d00f3a40d4052b7a2e1124bf105a11827236a10025ec967260f6aa8cc5baec4850ed0f8ede1299a80c3a02752b3832632cae8384b6c2fad3ccf1f9b3be649f18a7c25be0bafa7d9ee4e1dee3ffdea20ea323728f46222fa316de3065683b14fc9569c039f098217586cfe040ecb15584654f010744e0fda84db8e8333879dfb34cc763d2f32c21b8df2334d517fd14ce9ed0b81838e9ccdfcc4b9ff3a151faf72aee143673d409fdd5e2e45927d38e920319f3b34e290d8e29e016cbf0124588ab8f86b36b8c88184f7b16d24537d55599e210a7f7edf4416faa9a7d496daef6f27ccd47e7d40e45e3735bc8ad30a3c037b92b7048529622511349b20906b266a9c689bf84992338ba2a2baba7398b097029441f121b58a46bfcae36ae7fb982f2ce638f47b31998b6ce737af3bc61fc2a6eeba4f630a82488101cf7a7e322cbd53b7c337763cee716934498ae079392a5d11720a1738b91b8ef81768a0132b1fd4c6db8922aea276fadc952333ba3442327ff6b97cbc37122420737a1026437994d8ad0309b95c544db147adef11abfe6abc740c2b02f4721447973d2563b24511c95a29c961cde4731cef22fa8b06b7746a97d1a3828aab3e11d8458014186441660671e3ff568570f620466d3a434bc41466b3b719ea2c3ce2549f89eb6c0ad238b3d02b23087addce80fa11142b317cdf44533101f063dacfe4299b983b7a75b45e841242b17d26776a22cee1660b95546c1b7e10158951a48345cb85c7c169025802a0dbd3dc3faa53d36dfa424338494a063cc2904b58d89fdb430cc95686f6505d554f3c01dae6f986cc81efc761c341bb2edf743cdd5ab87acef881f770b151eef99c5a4c35e4018b6b66e2d584b3edfe5a2c85987f659bd73a6da55b8172937af317df0160ee904d64a51271502c4d0ab2bab0e1662c7852f7918e27e7ea64b50c37940ddd0990a8cc457423f120f62af3dbabab266181bd6ed9d038b8fc3f276fd37502162d6ecd2873157d729e90edb7d8e668c12b19cb9f50e2ec0b0e2d6973541211dd7ed0963ef7f189db4c88eb0e3c17d4bc96659297c6bb3331c97ba1f6e5d30e6ffe5751373cb630aeefd046ff9dda3f79748f65384946bb2c1e3db51445e2eaa3a7cd2366e7c6d6f16d4e05f44170260b6d48385efd34a106d949c39e506b127da1087b19364aaa5b1da50c259bc18f62704cb4bbae6321d45995c230e38edea384dee9d2cba1d4c8af607cff57d559774d49507bde6a88eeec47a05065fcc1a0342276d6820c8c6152cd463384759b5a3e8b4204f6dc9e3ff18694c046b34c2eff4566920fd430e78da1933307454614f8c3540ee3bd355c6ba831c170ebb977e3310f907ceb2d1b37bee53ad42af8dafe6c32166f8e057ed894f85066e86d3a74d1c1925c73fa521dd46966d04257358b7c149e746f8fa250cc59931bbda4d33da2417e65a7ee99dd34db8f74ff321ed98e753a7188d547ab2243a42023da24fbe7f4df65373e26c587abaa80ddb3ea5b9ae3d0b100178975443da3496cc4f8c2084540bed17b335ab95fe14f463511239f79c1fdedf8d05a5e15dfe7b5dc2d8ee75dbe84dc30faaec07f02a6f4757b63c54440b1d9b32692e19c175299e74bfda7087af184aeb7169dd747b4946e00c2ae1e7bb0e52e10217649cf0c3e1d5dde8e6bc9513919e53ce1ecd5b21ac318f9a4f3f5dfc91b188070012792ac0edc9f53b00fbee25a193fd4e0c6550a0051ef17a79756761459672de7b08c7381dab38f93b5dd1b4d0a61004d6661d3052dda32376b814a7e699d638fe5526f87180a166f8f109980f8333d81f640e3e1e3ad49c4748ff9eb0c2c1a552acc048f77ee87315e3f83f2fb7948ab952d72b89831a57ce3fe27230bd7ecb3127b070f3184bbd8acdf2fb6d0b825a178468b0a8fba1c2bef8d0bc7b7d9151da7af54ba8a89009462ee205117e725a27ceb7c6fbcbe949f0b8ad1e0831e4984ccff69da31207bf1477c79eb3675b78339c505ba7b533f424a723b030d9a8af18daae30c268bb5ee8702c92fa3cdaff96af67f6263ec1eec8c86a798be481cf7211ca5344d4d04fcada6d85cb4d334bb7b62f416a90e4ea1df752de298fbbf654d787661455a14e68a499fdcd895fb6fb4d901fda25da451960db17134b0537fb1bf760804154d92fc141bd7cb58bc5248488828a6a925aa384da0fccb70d6ef943c5a49517f8ce71d8e2949d1558158441df7099463ec3539697037bab7b3f8be20e3a54a6aaf6c6ea4fa51ff9cf1489847b23bcbe4260c45c0b5b2cf944b6269bd21c61d03ac8f6814e849641a9afbd93bcbbeb50ac98b49a3d8e045df4723534ec379fc8c77840940f7d97e20f9a460b2e2f1900c2f42b64f63865dd350810df40f40fefa618a6341619d7fa630fd06fa60d94608ea6bcd5e14f7602dda0965755a63a88a2f0832feb52d33a8917d66d2dca8974a55454d22530d473fc121ebabf8289bf510c20a3980a905aca60abc50d9cecf66b3216a121fdbd63b11cb41bd339111e3028a1188bd5a446f05b07af70a4c038b96e49d078d5e6e10715b52b5753d4bac44830466ae45d67e8c2c31123efea9e1a6e3c75cb4e7be60f508f6d2edcf1d927b4cc80716841ed2ca4e82562325b87935cb382dc0c5caf4b274915a3d19b4c2aa00b73fdb7cef4f74d9d460c93cc2416c1d71e5785536954ef4dd9fc43add2e4644843a5cfd12da5d7ddd280cd922dc212e593fd949d4341aaf7d7f2cde4cd5240ebb9c41bae187c75cf3e7a6b6f92a600f41f8b2d0ceacf349fd48550785645360797f0452175a54a795c49030bea13f18fc586e02f7cdb8ceb08a559059d4c5c22964ecbda437823f6607503ec00f0c8929e116fcb20a594e8ba3cafe7bc187c7dfe885b288684f66e6702fc4024331694a0a8858492646e931fa4b09ee4024088ecf8e32e4f26eb2cf16b0f698cc1f40f4398c8fc751828d1fc3b1b3f2a1a926c39526b23c4360d1f12b3182e3e1770c49ffe19c7ed902b4971872fcd6887cd9fb69d287dbd14f802d29df59eef01064e9946eb7945fb2cd64033be73e3e874ef7671d319009569cf6c23b3151f2aa6d3457065345e426aa91531e808a33587d215b19f2da5bcde3a41ecce255abd85b89c147a52ee0a90bfc89925deac17f3909976b4f4372aa7a1201115ac129a82c08d486a9928e8b26bca89a924a902a39392812ac4eecc3f63cdf4e3f45a377c42929f33ebb35b3581ec028499a4a9b4bed68e4f8dffc58e37b370f3022c8367b424f721a49f857777030345a50e5ba76b5eb7dfadf0d9a6ad5a2516047d1b93707a59254aa80baa3e9954500c89c3a3fd916b13c791ef2db5e8e14c891f04728eb2fd2df5bf3d6cf6c3cfc9ec63e57c6d07713b793235f658d9f8893663d16093b167a1d20ad9dc3d7065754f58913beaa88385652fa5abb81ce044ac333eb311fdc5ba1cc5bfdfe121aab56888d45f2e492fc5077716e9f6d4e48195aa999122b2bb1bd37e6a2c31d30765591a25cbb428b7fcec37a0e08b9b53084c7d93fe4d9c985559ab77ca56a789bd024287b66e040fb011f540ca7655283509ba8351b1f6181be5b3d2631645f57e57fcf65423592687537c714b90583cd20fd3cd98fce1c5d484eabf548b0ad1dda99d8b4cd97974abd75c0d2726cf2011c12ed0470e09fd8782f7e7aa70cfcb2ec4089f5623075866a21abef7c5da894c4ae44461c47e11a03bb7e45d8545df200f33b13803e371b044dfd68120fbf3b252edc135ff5a609f6798433e91a24b55520f218ec7a8b6f5865bafe1724b7fa34e14b69ab745e74a4c1f29fdd283b40a7ec91b8b36aa566427d9941025a33246c3569f981a26a685d8fabbc4ce1c89a954e798f9f7f0dbd0f9853f070c0ad9a32ea147cbb045fc44630ce141e36affda30c857b1acc9c145d1a78bd3104eb6972d05096f973cde10c383d234da193ea29cf49481a4ff2ab57879b7a4374f684d71623ffdd1a3397561a47f9ab0d0b7c63829edfc4119f6d3cb51c1b158ac784400b8389b3a1829a2e1d8b244b986ccd38749209ecf40c826949c155265f434bcd693973506d6ded3d1e53092bd6609fef955f427c22801e6c316b434510a12e91dc62c02974989e9470ff349ab80d933936f9332de096908df49abb1ac9e5bd07c191e56d2110c1a05f3730a586ceb04850da44db4d5f45dfdf1855c21f1a4939d89a6ea6a0ed9c509bed4a0f438006ee42a441e1f1de49935c0ea9c9904fba563b1da7e71f174fc3ef43ad8600e67a7875a1e41b1c2b92615708c3dd0b6fd526b3ce278475852b3b63e7c200620ff21f9ce2c26b731a57476f77b185c702c4bb4b8dfe0adfd4f9daed464d72546fa35a2aa551bc7a1e91e128456d3c2e36c484e3efc8b75e558eeefb2074dfe02167a125cebc4b83bdbc8da97c8fc4e1a763b2608b08c75a79f1497a1c83f091bc679b4671f56c192bbe11efeb4e3f773b2aa2ff7eeebbad649e92d38ac901d00322a3366b0ed07c5d7670e97a4d88392d47da8c70d29d4b613103635d748c4429e70b7e43d2739a56688b8ef57470ba801833add9931eb7e43fe4f8fd61bee9c1045c8dacd3b06e2cb521224077c586c4ca2b305f28fdaaf03eea2eccaca5e7b5624549bfe9abad10b171b55c1f72e8abc7d2d4e5e19992a2184800e197bebc40736501ca31720dd3bad62b1e99dbc1833468263d0266477f76946ba2f419cc2428441a07ff861c3e9e91e934991e982930833f7757608aca17b9d1930c49d6e9806df667e058181aa117eb4c9ce7b7aa92524983b96bfc2c3526151aacec76cd59fdf3445263e0d3cd0ffcf2b479a5f3b13a65deeafe2796a6c1d40d53beeacbe3a22785b912da010e839f52f447c4c520490d4127fa888b2dcf88acd1cf444f41d63151bc50178d12eb61115111d7b697b0d3ae39bd666103af9db4f439fea42858ceb0896e10798de640b62782c421ad66defc4b7e82979c956f05c31bca02e3787f708d7779b96de4cd36c79a95e2cb4e2f15326c22183572a1b2d22ee57fb828ba6c71f3e65600187d5b7aa60077cee73d1cb8c9e05c15a6ad1f4792bd3a2535832c88398d97900a2150d5af2b4c9b426b2afd50538cd7569b7fb5f4d47a7435c7322ec14aff1d93b74dee23f17505d0c02ec8ea2b15701913695a8fb83d43e874ebbdf3370689d8cbdf910245aa2dea280f8613a9c70e171ba4d4377e4cda1066e5ce25e6562829a939fa3528c60b2add68b1c26b27aabe0d937e81bd4147a1b85df1071d416a407f4a1a3c6104b38ed4ca9e0f0e32660eab9c8985608caa25f60e8c47bb5e67e85f28f34db567b1c38819a8ecc2c560f3bf6e54b37ee4a2fad6abcfc6dd41e8ee17a19484e4ccc18539b392f42f3ee11a96485193825c32944d0c650791ee8da3daeabc9f009ffcb6e2a1677bfebf97a8ec1037bfd02d10393f7adb129a69940e81cd9855ca578553200c999f8d3f3736ecc5d0793cd990e1ba06057dd2b2e2cf00f82def83e49f1a5d941763f4c92c93bf2e3cac0335d8f68cda5f6d3100c39cb8968dc6ef28d8a2becfb6cce9115c435a58fd5057a8bbdd5d2048f94442016be39b56612db065b22f6aa125f6159eb8aece48e091db5075df0cc84041fd92033b8d3c67b3cf844f8f817695044c2c12a700885fdd4901bea25ef1dfff980a93b11aa76044486c9e783a04d074356ec00dd43f1993390415145a4e848e558f4153f3ec631a2864ccd33bc43e0d0c1a150edabd7fc44659b2a73a9d06f2358060ea77c7ac55248079a52e5861fc4089eb595a8cd21e0c9b09009fd1da5a2140b7033aaf16d58a576aa090fa742f04f15b59e0a076172b32b3747e22b685162239fc466b947f1cd2c6a313d27687faf4a1c8e8ffd2b5cb2effb8813246ce937be81f871cda8735add360faa884693fa7f3457460df27f745855c2638978722f3bc1df6ada6e2ac411de77d3073cfce43a13f395990613f0388e29dfd3e64ec3023846c1e55811f3c0ecc163f3d8abc7b301ae3d3bbe53ddb87ea3877feab3e753e99585ec21f5d373a3c8d1ff9612d7084ecaca421024abe15dbe30e4757fc0d2bfbcba58c1f599a6cbf0c61af2f89da6a54a620c47ba4dd52924271ec304e19d5b80b642c2ab795ea77b653de5f61bb306ffb40dda9452b024b7156d5a204cf8b27321dc7d8c2aa3da78578f007557b8cfa57458a4c2475ab0c239d98a125c8154bed0bc22f750102a9ca193d88042abcc9294cc6f937f34f7ad89d7d2fce998f558dbc447e9630bd70b0b09e9fe6b0c5730ebdedba847ead4da2701e221bd769b0cdb193372690830085f591859aa629ce396b60288f59d4ca67cec76446435f012139c3960e8b3e5b7d31dece1bc92a41b2f3a587b1f5f3e06ca67236223c8ae99a361499e8c107dde83c00b454c835b0fd45024d45684adc59cfb66fc160954999188b8c504a46d1bd7b5ba81d64deb05f64d18542f98715659c0bab1de71cd0fd028501339035db90424dcc513da72315554dc5b51a7c170494d0a3b6e7ffe6ad7b3513bc7a85a9c861daf0131940894f3d4961d8063737660a89a929521e31ea05ce39ca98dd995ab3f2a161133652926262294f5e2a137c89e30319ac068662918c513741d8042ae6bcd9c1ca3fe615adab1b45d5e2d43080c754d78241974e3d6b75ccc10b8e97ff5cc403325107474011617b1b51f677fd3a9a4e0683e46bfa16329f16029b0d0a6f7cf8b5a556c32699fcc4cc45b3b83801d634fe28d51e59c5e344b5e7ea87cafd6d4e95b6295a668b4387e17682d95c1b9eedae6aeeb16a3a7d5cecf018565e3eca7d344b557b6fd6d72735d281647fdd2b9cb2a4398902741fed973364b01a61a8bc164b99235ed56d15d2b7cc73c006b99ec5117dc9d535c70fa21fffe6c5c1726fe9d9dcea010dac9cf72af0c637225ac604c9875dd97475bd9613500e9854a161a32728d816a9549a968d5f5cea3c80915f45a7eb6623d292db4a9ed14fa6194d3ad1810640710fc22f8cc5bac0ba59233f1aef8c51ccb2fb2c6a156f0dd3ec513944f2792579a67364a291b06f12b726212abaf62bd0a6c6fae8e1b78250da815522ffc6540b7250d371a6ca7b19d2d880b9fa7bf23811c93510b04201b38ba92b8eb43121e027bcb6ccde0348b617770da79d26bcc3488e11a809c1bc6bcff973337a0c4f3e28ca833a36061f28d6b1390ad8fe2c3203ee3113a956fb769a1639e108bbf33992b789b18dffacd055e00daa15315202c8c2a6b75f04b9924c7abb87f55fb9946910f2439bdf427276261f0a7f69df19b7742109ea4012fdca8b85c6f18634cae5c3ecb0ce91a5efca726684b61f735068655766df1eeccadc41e1f9f304038575da5f82b157f10a634666812fb403b9d97423b23fbcf4efb58d8e51d7f7a52928006f7d6fc8e166e1e7a5511b198b638396b2d55fa7995f805aeeea29bdbc7dffca72f44953737c61d0135ddd15c8c6a390000db3f828316d541343f158abcf5c12c25ce4223757ee45c96b36dc408e185b82610fc6897c92c5c8e4724b36ac419d9aaf0df2e25fb122935688acbca13340fdb10d324741308777232edf6c72c6df68a5d5881c2bf3a31b299db9b3682b02c833e07233f2dce8b06c41e21a2c05cb00ccd8d739d26801fb881f347315f317ad1916165d889b0511c7afce2343a50ad59b6acf8cb09211400fec6cea621e1df9c2f875fdb602a68c6c8bf0a8bb87baaab9977ed52d85c8aa6f329cfad6b7c4a692aea553e4b3c1ec40610ce49e5d8966bc0be7aeea5d66130caf17c612df4281e929b97b572d9684492fd7b3b42d44e6ddb98f8b27a54e540ebc842555bde3871d999172e4eba06f368db9be2c697a19ea382407dc372fa08a9db902a7bf41b61099f9701823619a52063af25b19f1ea67fda4e9051dd1a12ef4a7499257f492a4fd9dc667238d82e761da5fa16669862a9f349377a4e03c16647a15be9a1cf424af84018fb6aaea035488a0acf6b7d2cbe578278b801b417e4876d9579aec19e22b7b0f8eaada659b79ed2890ec69440c5f0efde70ed491133a659eed67260425c1d0ccaf7aad2612c9ce739ae68007e56d5720ebde1910b4c58419e47ecb684681ace0c718411f59c32588654a9de392d2680e272792932d5117cba6db2fdaffe3640bb7bdb995315a08f1a267069e53f2585174c1803df6bf423f2f7cb42a1c80560da3bc87c0b2c94c71c63d85f3fb93a34a7db6523f475464812d673b3250335fb5d5f2e774c81f3c4f6834dd09213f57c8d0ae65a733a2f32d26afc7d1c40bdda5aeaa62afed3819387324e2dce75e749ae7a1775b0ccda99a712d0d2ca6ca64560b1353ed1c6aeaf884be2f319e81e2a5d904b2257b4aea33314fdf272f38c67df47160c614dbf5e28c288acc94ab6404b71b3ef1ab4b2d51126c012e9910cc5890bb81239a330e3da4c2902f621934ac875cdebfd024a6fe9ac7dc15af5b6a47f7507135a0c5c2da0fe8a953a790a3f9d44ad4eac7640ccd0b9784128878d5680f366980c6ba0cd6c3c1bd23e953c2f8ba5c33948eeda65c44a11eae4c453cd2c8e1b16f39dbc66f211c1f5a4c6b486a998e2dcff02490a2a51e8437b2370b2780df0752b4791edc2a835b04ad1668f9a94c7797a7296c034456cd5da09ecf77b80167f7bb01302ad9df8af7e93800093d6b192a04ff28b36d32cc4e76dd095a694366a5d3b24662d2c8d33f8dcfc05f47fe3667bc558629cee671255c7ba79a41510d50a2c051aea85e7f12dbded4f626d776da3d44d9ff523b40b9e0766e1377041c0eed46982811b04139f5309fa1e561199c069327c21c61e3d4e551413904d4383e9a3f08ff48fcbf58bfd7186d0940f5f46ca7be4cd238880a67e021e161d0c0478a6a5cb4e7e4b366bdfcd938f9764ab2fb8d756f681e212f67f507cbcee8d99cfaf0baeac354f1b2585253832532a70016d4d997784c6442e57f8d197917eca8ac4ab0ca939db25f68819487d8b29c75bd2901e7dfe7deb79f7e9d64818801870dbce8999f1b1839b37a991907fdc2ca38a0c46b61f818cd8bd8ea2ba8f77b2544c3709fb2ab73e1e6aac5d2129415566532ca24ec721716c96a1370e9becf69eda65106cc97a34a38ef739e729d1bb5698ddd50dd266a02a1b7854885c0c9941fced1f120a8b8e85dc67e39527396111f2556a1e4335ccd1efbacb9ff082deabb5d65c316e8c35c4bcfa193efa01897ddde8999f437f9b391f67289a59b4ad2713e240ddde9acbe9578ad1c8289409fe580a0afe5c9f3cda4594b7e650b9550be93058e5e02003cfad8ed8a26a11d052d7dfb064f56ea33e3185bb78c9ebb47c290beb395aa3065ac932da6ac0a6ee70958f55bd451f04639d87c862436c545847085bbf8f0555705c50437dab90f231ad7d9c0209b8b930caa4a46151b21fba20d65351b5723809aa3c25c71a42a5fd36d8a2cb9ebc13ecc9c310be35167a5c44899e8a44659353abb6a4fd2b1243a9380220f12fffad0241f06eed84685f7cd18ae5516a1e9aa2075f5a432c8fe71f536f3f1fb4f924cddd4c44d222178e400d06fa27b268093a4dd58877bd638def3ceb8eb55b8c51b61a719769ea371513abeec7c33a0a26e996489733633e4467414ec7f4b02363974c1e90ba539c562c768d6c87b617285494d541c6cf88ace1b8cbfb637306458197e21888ce6637f275ac617734a2f93145cb1ecd0f19753d2190363198963b4423d7de34b387eed33a64fd9084993fd9c67249b6f8caa56b823d310ffc236b0f32ee9002a6433a5cf7b888c775c45b06a09b72a3565e682a5f78a10a6321987a35529cf31fe5d7b8e4d36d6932c95037cce650c8ba392336d0b6a888447a258b66e32a78358d5c0fea5b5545302c35ff43b223fc5395ad08052681edb09ff5cd24feb6a879795ae6821163bfb27227fbc08a62ec7912625f1a36be61c40a023f71535e9c2d00cb08ed03d05fc079d07efc49821500c0ae1f1a67e35a236a10d913511950ca177e4e3cd24384a79b49c40e7c80eebafb4667e388ad11298ee86336e4b9797d266cbc7f0ec1d3031f1bac5e606347e7e1ac8492618ac43c94afc49e04eb1d59b2d60c40421febaff5fd69de7968db4ecad645e37be0cd713abd098b1d9a4cebe159a9b841da7642aeef604048df4e2f65db84ea0b356a3241353d3fa557d78c45f3c25f4282c7266508ff219487a1918046f2d5ee81fc8388291e50c3cce5d92ca95459c40a2411a23bcfb5fa5140a16a96ed72c56113a80d3766c189e4764b452cb5551173f65fc4e544aead499558e5950b41d41743fe6857c8e22adcec18b86db1da133fc1b86681a263f29455570a0c4dec5af092dad47b5280c0ef45a500bf0218a13d4f5deaa1988cc2ab8553a848d8d1564e8d7653ad1306d1a9026721ab9ee7a6803b5390fb64519cd151543eb230b52b34a2bd9f0214503e89ff333021d5f9c6134b15d40b4f0203591c74edbe1745b1e5b8c3e7930e15372a10d89678c9f3b4abe167a4861099940d388594a1c8a58549067aa63c708c77f3a910733db7ac30505f1f12963838fc60c27188da64b3d4278dc1b1270be000383ff0532b725267df24a84e83b15ea1a10fd0cd10afaad37aba742cae37813deadb28663189ac2fb4e47f0de9c555a4a15bf7f4a23630bf7110ffa3335add3415cf685b6d43818175c49f4c6e60dcad8ec7a62e722ff9759ec8ca811c5e9bc7d5e0c23866160bc1afd33e7c570c9f4899725d4889846d911223d3d12531f4cc4415319b5f4aac7a3a97704cb7363dd1a760654afe2ab27bf6100db80aed7257e8498ecddd3059a6872b2e706feff509f85e99dbe6e2ed3ddab28e53ae9221fc7d39d89c2d4ec726c3086e4426a9edbfca6cba935d148fb3a627aa3f603c365beb3cd256100c6ded75609c4af8a5639f629fb7f6c301a8c3e55dd454d9cb206fb5fb13016b958e09029f367e0601f68acec50dbe25d2554d18b2b920b7c2ef0d159a62aeef1fb00ff8602b74f3d5052b51c9f55812c7be19a6006af5272ec6456fb5385174ba5c701774ad6c406240a81aeb7d81e55c2a67c318fa47912c1fb0995c6a9c9301d73adbb5a82c2a264a9292b594ef5576c902ba7efe77b72a93543b5da44d4e95d2b99aebce7fdeffcc073ed6c91f2ccd76bb796e226f0c98fd9ae12d814e754be5f6c54a9bab87c9a655a8e5caeea4bec2611043485c47c44fbdcbc3ab832045cd826e708988b2691230deb2233843d77770c34698b75c8de35d3e8cf9be9f14eb4581bb87b640e5ccf6768898447543611e94fdb3ace8269b02d67fe63a411de15c4f795fce62377fd8de18ec45fb44e9d6dbd77c21e626623d39b4bffa0a78b75759e46e1c94200095725382ec243f09bbe56e84a6c6c962c06239677fdb67494ecd0cf7a2f3903fa61b6c8aaec6fc27059c8e396d961dcdc9e474bbf61fb14d91917aecfa805fa7014cc7bffa856e9f677caf51921406a7c0715e617bc0402e11e32b186efc9dc33b2f4e011fc85e9cb22be5e18983fbd950bd4ec2ff3255628867df08eb3ebb68f2f1131c9694441c0fe07fde9a65f95ec8d26532ce56722219a9577d1174a785c67108b2214f0ba5035e8ef4fc831fe19e72fa7e4b0fecfd5f88a0b519ad27db7fd4c8330f60abb5d7ef51a899d0f054d7dcb1592d6cee4c26ab4457516d3a1b65bb3e75e5325273cef1fb54b8325dbccdee526d3acc27edf2a313051efac25d896b53b40dd7e4978136efc0d519403ee794967332aa5698e4546a22d54ec50417437b807f8487d2a7f56ef632607f2c581b1c1ce427d2f51e3a3b109bf5f7821c4eea547a71e72333ad889c52c670cd86959aec1c52f71632033c634d97ebc4ebcb93a360a5485777345ef94fa6c06bc5ee6dc524d926799a2c4f2c23774465081afe00e7c4f8fd4b120f73c35f073f20b8c1c0d392729a66821832162d7ff342b4b8401c7dab10d3afef0cbe19e3d633a2de92dce33f3887e07590757f6ae4a3adda9772553eeac5e7d72e170a07c9004d618d6474734db1ef1edc0197507b48623b2741e58c15554fd3e1c59488cc3813a1999270fdf1030b1002d3610b877722885839550233388850b28317e8667fc07bddd28693b82c0e91898b8bb4156c8c8cc6be68dd7d858d66140081d8f36923c16c32e7d632fd349ead63f52e406cd988e2867cef72f45fbea60e1a3c6184b91f219be60c76be2c8b60b896547edcce523ab93fc59c9adde165940f3ae211daf4a6dcf57cf9adbc0345cd5f6a00201c0608c0df6d07a2951d54359938181914f062f98ac3568fb39c9113fa6ab760628a0aa4cd13bba7ba03c650df97a61755f4e7922370e979a959820a847bd175fb895a428733990fd675207b6c5319b6c1515945c5e438b9cedf82faf747337030b1c23f199bfbdbeb277b506489d160bc50d37c40a93979636c426bfa22df35fadacba8d91bc5f8de9626d8b54c44dd51be197f4fee5047ddb2649ecc4aef1122246c496ab10c6920d8d53f39c48d3e4061b8b6cd5c50739ceaeae85df5e2aaf1e0bfb8a213a724f6ce47a6b9aad9d929ab283cf9072043ae698cfe2e41d7e1901429395e76b50e2d71840c43eb0b56bd8e7b8cd4bf84eee3cf5231444cbcc3d443797f1094570a3cb7fb80ee5b28e0d6731c501c9a745e17dddc647a691ff4062ad46a5a6d48c808910bcdc3c3acc8fd726eabccb7e51e9f24f986e3a380e0971c3be4af7a4afef6142228865342af5748abcf76db840a99a9d72ae47ec511e2c965cb5a7bcb7360036c008aec6420fbfa5832ff6a0982b276613130b9d714a40a131591e51a01b167e5409ca211f2349285a74061e9bf6c2c0b2e166687e972f998c310f23791f0ba6e76559b30d04df7fd1d21f74571b3a89fb4b91d656eb1f63b53ffe2a321e9c1c08f49622b08d5abc9df5ebdbb8b9ea6409cdbaa090b1d17a06d57deb1ab38d3dda3ce13c56c704660bc381c091989dc4ce3a352891ba4817df0e36e7a7a1a952e1c4da7616c03a218723a109c047eea63b8406e432c333b8855aaf253574b59c7979cbee225f62722fb9009ac91e44c132cd2388f4326ba0555fa49d17beebd6c6c9e1802593c14926999221e087b4350cb4884a0ec67473dcfe350e22e012d491099d512f40ac7f902f51c78a5f07b0cbe72c3ee6a01f9a790af6f173a61f688f1fc6b2482bb53067b3698d0425df2c3d4db0e52f0abf8881cbd0c21007c9b24977d4fa21ce1a47c51a22b1b494c3e742eb8d9631c65ca0f2f976429be571a3795a2f6e4f9903f178733aa1297d7f6ba443a7fe711472621cd256f78de9bb988b29b2e33e3df25bd2d4031d98a50f4bb182a214500ac01e20b2c34aa750efed049d344a9985eda17c546f4c213e56157e6b9cc8fdb3334bd0489058bb0e3fac682a2689c5bd76675f0c5adf18f9ef76c6120cf071460db04b0b77ca90aa4cfce9aa6f8734e74bcf62fe5a0c8daf68a3fc0cfe7cc40a8d38837700d693d9beee83fc2a39ef4acf2706bdce2d6af5d1dc71255ac4ed29ef700a31286bfe16c7402e9cc17c4489cca97be49b9316338c87f7cfde1950b35b91c5335bed6135cda9f6e0eea36e87370ef910dc85e41d079d55aef58d60b2dc40141bc922dfe527cd7543249f30a626470a92ca8823c4793a1c13267456077d80a07e9d4aed98a7e0a7923bc10ceb6ea7f017b429557eaae1ead018233bcbb091112700a74c2a6ec5f5ef29881b853cd67ca563a591280e9fe1ad8e4465ed1bd87d64dcad1f40898a94fd0df5585e52a7d22cac288df23b9a67dbce63265dd44db852cc9df63b131085f4c436b2e1781a6a60460048dc7d829cabc51eb389b2eea2d96ba702a4bf84dd5a57579d67509c1d09eb3957ef8bdbcccf7319e210e9c49c1136856d84cecd0684de50118635108ec6ec201ff6902d630d725fc95028d6d110d0622da0ab068f73a99a02e32eafe429055b22335d5c0de956884e07c3d9575335d22de8625111ee6f6c72908d791c5bb6d6979e9e7bc4447342394de8805f4793add8104e0dac61c134764c965ef4d7d137c73e0e8e39c22d419ffd7e41e4af0fd4d0a3c0b212bc25917ebca91c27273e36553f099fd55680e5288b2a7c06764d264dfddee848060d194968f815af8a856de0fe8cb84d65a3bbf99a3e15f8fade5a2145219ce4e40f893a3ebc16a0320067d05ef4bbb771f6d2080bc5c6304d2c8838b0913f76b3c34796db58bce78b63a87d37e39978daa6cca665cfa4cecec7fd0fa0f7a593e489d747eabc27f86dae0575f844cf25e59bbb3c8d2dafcb69782c7328205204713ae12e94e8c2cfb7bde1420319531b57a112b9690d809317241c41280a174951b6d57bbe08296916c40c07e2bafd67ea80840032dedd34103c18b60a8662decfc0244128e9205c6bd46582a5b039cf57160c1b03921755374c2e283dc746c77c9192a49ef94c956f68a2e93917b9aa87ebbbffb6f246ccae795d95b1426f47c94af9b4e267bf7768eecaef4239aaa50e6d63727a55ad2c06679e49f2b418604faee386bace52102a43d99bd2ed3d99883b16a0bef1d881b035cb4ab5f6b62c8d96cba5f74a27461676db377f220573a540a249ad32a4e5584ebca6189df86d3924745e957074d84150dd356dd71e5b1653708d1a1888654936e9971a7b21e972f87f549bb8722787028f4cb30db58057aaf49c1254a698347ece7d7208cd36839eb3365bc1c4a850250642f73e91e3a469612d80f495573d8b74b3b534561d31b4a931c7dd38faca07f14d01ef7e86a9b85ae5f3f87a2594e39fd90e775cbdf95c3584ae36cbf79986ddce9c24b68fd194e427b1ba558fbf3dfef847d03bb0ed64f9581376851b35c0356e4528168abb1065fcdb04d24b7690f7906d6a34c6be13863ccb6078f4b505844ee34e88f88726ee1cc87e69937a5d4bca3c7c9fcf79671c592f42735efe7af9aca2e45241897063294169da37418dccdea1d72a51750f84df4d6c8452318f022be82528917893fd9d43c88f3f36222a9bab3f443f37f7179f69be7d6c3d9b222d8584c2a820a3bf5930c9ae1cbd972150b80070ecb97b6949d01e893457dd7998cca92450b7400ed0ec118b79dc7a54ff9010aaa90215df33e421893273a9bfb39c574cf4a762979008449879faf2947a64fe6e6887c2add16c11a2756b1b052ad206d6e5b815802a77bdacc1c3714d803970005e317bb61b92a5b0e15e6e5afdfc6cedff064ad6d29e6a924fabce01579eba1943712a24ba2f0f140ee7a1e40fc8b440ee583f9d54f4815b24c91f48c849b6133c71daee31d624774ab909744d22a539d89c5df179c5002560c7eb144219a949d469f7512afa3d06c896bf9b8c29d1194d008847ccb3886c4117e39ea4a17efd6332a6f627a9f8101dc83a1d46f8c59cb08919a58d4b31be9f550831352c1ff7689d9d0f1644f5b57a199a20bb222c0de4b14eacc547e40d1295268184e0f9ebe5e227817f3d9ddb6fa5e3a17c6c0af0eb35bacc2deed6b7caadf2409dab5a69e90ff7a0571b018a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
