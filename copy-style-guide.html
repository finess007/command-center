<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a1254cc69933029365db258b0d1cbf928c0de0345fa98b063380fb57a82a3fe0dd276ea3e15c183ce165df01a070c8a201fb6bf83ec21acd75f0a5ed772660392836e8e59bd276f01feb44f389666e74e81014aa0ec656ce7a445fed7515b660539e2071dabb25ea82705414443bbde4b756bf5a94dc15f5e2cf415b681be06749561386e3d7a6c9b3141406fd5d4289491bd5f211134c4e6d17174d2d0d71388f5f7e28a24976257c7157ad93769331f99bb70133a82a30a70905174cdcbc7cafe8c81f22b10a257336a090824b81d44115a8dd8b406e20fe7cba59e84c9aeaa665fb88cb11d80cf85a6abda3fa6e32a2b027a259a4029baa75e9b58e481c2a053c699c2f972fa666b6ba443059573a7153aaaeeec12e4b7e853833a185cc861712c1e3e6cfe5a765b09331eb5aedcda4ad4c7c84e187740e269d5c36eff9d1b73342b549e24a6ae55da1d5bd21ac439bd5529d3549233a2e8e3f5213a2883d7d2456395ed3f330f54c003552aa6603a1f390f50aae21ec54462587cd50f7013a603d61412bfe265d0c4c90bb8139791949273fcadbdfd6f7cf3d922cd9f87a444537f3bff4c88c2442babbe5a27876287308b06bfb36569c4f5c96ac5e6e3182aa07925633a5c19c1e973ae37f8295b21428985b6d853c286bb179c3e781b9833825cf1a4524dd8e045f2f27f76776b9cf94c1c8ec8057363e4038c98bf124c49d46a63837edb084ad98477467bd4a6618b011a0e3c60e9a05462347852c70bb8a58b2594129573b0f31c8dc7a444da704cd384f6581687998b08c46d9292d3bf37d069e66ae7622699fd552e1441ee590de15d8a27aedfdb54fcb0557d0aba5e85c55281552f0c2025d442af470ad2f793620a2234d21aea96da093e61c7d8ed9fb5c47f3151d3da1430ff79bd6a5cd8d6381ae98358485e6d102ff67c979b199967f1e0bbed7b262d85dd06bef00baf494ebbf73dd6b2faf06c3ca32379ef27da0ab1c54ce8e1ed6658c0aa2193d20229d9c666a75ba2250100692c128b059996ab5493541875b3db23b75d3b29026a591901867be36468587dff01e9cbaf519fddbefa0825c36b193408436f9ed1bf64c216fae20f44b4378b0e6e07b75d49156bd464364388945f65d2c733221403e8a0277882f11f8a3f95ff950d9d85123d8915400d415c00a708a9b731bc3bbd9ed8bd02f77e312c444545e71678389176256809e6b20b0601aa407c98cc5107a6ca05841490914b169a123002936a463bfc13e3a25216a86847685406aad259fbd52e0c588017112698e67ddf87bd443cf1c4c8c6ffccdfd5ba640216f2c69bc461421368dbd9cf3f66920e009abfa4ac83b9e0f10498554b86f0a4349e1a9fc7afad6920b7d49934efc1c84f25513346742e9032ebf196bcd1a2666b8cbd07d0c41335f6c6c6dfd169b000730b08e75626515523c3e01171dff4f54f8b90ce941eeb200c4bdcddd3c71e43c17d1ff2e5eb2583709d6e0a48ede2e09b91d46729d5a46c2959ae0b1d5e26526d18db92183d514e5e664f97606928550cd686ab5411ced6c6f1471442d083991a559a4c6cc3a05a3eefded6a87e5daa775d8a80892b54e3eb3869261d84f463b45299a972491fa66dc708b2deb886d8230f2156b5c55d86972e3b15a9e925fd686eddcb941cf81e4ab891d9fc252dc497c67c5a2b9f1a079039fc8edfd92381d72e9020576e04cba305bc52eec54e907392964d1ac82a2e8b5f45775d9ce86a9d4a8d1afe961f2a38b89e3f9ab486cbbe7143532f977b84dd5b7c403d7d5925d0ba113bbf5e6fb3d33a9c1f4a4d2d1b3da08260e6027b5f75fb21ef9b47d5f4f723e86dbd683d0b6760b9e6589a7ba2402ec922c28da7c766ba438ce6c8be697ce048fae5fccf905ce492cf9646a35b647f3ffe9e992dbae63afe5c1de3bac9d63907f2c4ac9d851e9eb10b1c9533b7289808df575b6cb8018757b14b926174678d16fd1b754009e98b7a6a53de9a8dfdc50afadbbd6fde31c525bc9cd2bb33361ff7285ee0f74da94aa27c69e3bceb45afa5ab88e44e9b8840583907294193a9dab8258f14f4c9abbdd92cc31f70b76f6a4eb672335badee51486da11fb1ed0f1f1c7cebbccce5fe9f2d1750b3cdc0f66c119851b4168a448934edde7ac1d0bcb75e16fe3df94633a54b59ef03770dd01ffc8e0ee2b3be0dfea2dc65bce6ae411a16f1abb0197064fb0f31d9ed2d1839080392cdbd5ec653f0dc5d7c040e688a785e16ac94d5fd2263bfdb3684fa9b074a0a0fcf484ed8114a47c6d7606b27132b7cc51c453591e59e6d8e0aa23ee7cb42810795b934e09c175b22cea996dccefeaa78375d270fb43941647b130ea1c121110ae12376ef3cd3c0746e58f5e89348a3c57a8ce3f39955bd47a426044411adb43c58a667811d6adcab267ea32c156bf3f0fe0896d2a007f282cdeb4297a7db3b5b0664c3a3e1e87a29974150a947dd2df0756b1a04594dd9bf624d0c5f199ed8d725f5c459861710993c8bacd999dcd700723c0a5cd545e94453d1e1fd38ec1048aaf7c1f9bc0c1be05083f3ffc8b7dfacbce68da261ae41b5e27c0b0693b1c540d0f24755ad7b1170722cda415c63936a1f9fca215da6958eb5bbb2c79e94c2d97c6d90ea9c53fd0f53783f591b13c8f0e79eef75d3bdec168eb551c80a8339c8ac5f68b80eb9a0f0d8df1c681760f4e5216dff1b450d42763d6577b74dddf967cf007bef5fa9ccf87f4cec35fb3d27584bda8d09d2eefc14333cc60e45311ed2b9b23315c29cf0ecfd0722ccc327e2cfa3ac3de76fb87c65c23a560523d04a47bd31b8c5054795b89e7cac3e38c5e3e19420b354e70323adaea01e1fa34a125e8133e0890e0b598864ade5d2d365a037a9551cd8d366f3f5ad4016e1a27f58436b50123410e3adee1970434d728c641cfa8036f03fdcc8ed248922ccfde3b9eccee80fd82122d14a6f9ac9c1d5d26f2d24d7aa6e13a778fe3be388b7b730fcc2e910ea858284b44ae00672548ad23a546f69d764f624d6ffe2d2cca596d57db30c5481b2fbd88400879a94aa4b5ded835a0c9685b0c277be13f1349d8b77158922085fec624bc3d4d4bf1fa145ea8ea6bb9d21cfad9c8bd4e4ae73ca4f33ad06834be84b9fffc57a8fd95c156e7ba3204976ff33b6913f5c5bbaef6c9346637f70fc90ab1da872c079c160e6d5304f201b74453c80c26c37fd22b0167b1261e74ded6a8a381c2aa4700e8b36b8745b57b95083382e0caa04ba9708764f10a13e452f5c414907ae08a3e97078c2d6b3898b6b8e428f8eaedbd26cf6c59acca26c7830b02c0692c82a76811ff2891025b10a272701a8f3b2c51173b2b051103b19a28fdec199d0c282dfd1daac2ac02e3238da5751535f653672f6d37fa1d125e8738439063bc73d98425be8ddcc4dc8ee0a74751ad0742838f0d545d787189cdff849c1a4b5e5624a9630d6966e638913b8eaecde95883ba50aac0d4e5a1c3e34b882d67f86b3dfcc0422e0586824fda4f832328170aad5ab5be5d710686b7f9fe80e2a8d61ff4d93b52c98de62b3dda6280bcfcfac0369f8a5676cb92549b490dd63dfc2a1cf9e8fa583d67d0a58c2c5133f09dcd4770ae12651cebb58abde6e478067f3416c4f99345764df2a28c49a5be5c90353fb6ab264466aa6c091e584c2cf92b7f6e9b69e473165b65571926b62045b753fa9ee8615c24c78f2d3c5ad682d3cc57e70e91f40885f323e6473f96f50ccf0534d0d364e7956980e824c33e7a2b3267e44503a4041ac1edbc692aa63698aaf21cb9a780348c2a7e6535f81e84bf73beddef7383ffa1bc5c01f2e6e79def4288687eee817f6d72502092c3e4f852837c4e8830866dcef5b243f9c453faf07e275b3115e7eca6f02aba0125b1f1f6de485bbd075c9598c2e919b8a1c2150d4318adbed3b16794d088e59d14b17dc58baf630d68576ce185363331af77ed0e2327b2032c9f307009737cf947285a7420b34e1fd7fd47834e340e992828fc344e9319fe2d90b12ec6c9f0a762b0e182c7fb0a480addbe11151e7a490ef26d014e6b74896fb8da4c6fc18f1173210079388f093ae267f2c40dcd6afff58a1d22ce3bf8fa357e3ddc4774180c9b46135d9d978b7ba3b5291a9e89614010dd774d40b997a7aa4d249e2d69e4d66fdd52d58a2d4fcef844bf97bb9c7e74a927f7bd37e0c8abca1fb96b5d4193a5ec0f3b6e93b2c7aed9c9a1e27b5e08dffa62cbc08034b0fbcc7227c52539bf2b3989f405d14c99e7c84c5bf73ecafffe3d49bb4d6fba52b47c8653bdf46c27c9322249ffeab5b3ecd820c5494326a68ee2b4707e90ab9795509d94690cba675545293e90f72cd52a7233043cf2665c6d3925354ed91cbc7df79de6b429d0a96518d918ddfb5a33f51b0d6c52a33581c97d02d46115dd31af160bda425b1513a03b9f51aff34ee77baa31b1cb30678b53b1d3dc9d6625c71b44148c38b9ee42d8c9ffbe8ada23b9f31808c53dd9049a99945edd281e3921c2ccfe3b580074dccbdcf02de798d62dad00746bd02e600dc59db1333b7930024c3b22b8112662a661e3e7b4adcc96bac211596089398cfb8a453c24c14638bf325a2c3fc9a7c1f092d1780724aeaeb633862e4383a90eb28abec00f5773a4e32e87297ce3005927536f79fa47efefeafad62d8e123cec1a48560e21822d17966cfe879eebb5d1a11aac38680183acf586c21fd3c63237043b9b808cd227c47dbd989917c18bbbd4ff598b780672741e8acdf3ff82d0edb73f506eba1a3e0c6e2e3ba9869a6cf67bcf9b785be8010bccfbf93ec1b125d8dbdd80c9d11d13666e4d894f56161717ebd48ef9d3ec5485331197f831857067383f167b727bc85b070bd89e9a41f06d741b01a4328a69ab8277db5d41f081aeee5280b8565c02eed2bc7d447768c842d96247b9a304ed6e1ce66135deaa6ce15b4b82abbe2318aeaacdf4718a0450452cd493a199241146463dff47f809dc92188da7c89dd14d9fd3d19cbb4bbdef02f2623a9b1b9cde23632ebd74bccd79f85b94c06a0fda8c57863924f9a168eb760015f5d7d8e1635832a8768538ee6cb55c58ac526a0f7b309ab982bb24dd914427072ce5329393d4f668d3e227ecde57325173943f71a7d3df35641d17320d887c59633702785e927cdc6ee88141ce32a656a08d5fa0d862a6575f8ec1caeb4d698ec170cafa63e7bab39a2992f3027a04a0c6791f0e28dd9ce0d7b507eab5d85856ca4572b68b11997b9413512f706e471456d668adcffc0bf58b3a8390b2f799b03e9699259fea0aa0804f981c2c420b08174e505f1710b797308e67e0287ae2b8485678d58c00a018e26f37a27b019e69f36c69e611657e748350d1ac29e33267cb5b1523df785e23dfdb5dd8b8056a89b123f06b075f6784a828af32db249bbcb58bea4d1af40813daabe700d3162e3581332ac0264de362ba8f4530e5a7440233af20b50364f8ef36cf8351d833b208674da3af768de26e2cfadfaada738a40d8b3bb38870a3a634d7a469b17a09d1bf233319104d92e29b11ef9f5d73ff99c70e0c51155ff294f316a08a0b4cc90b7f32e39c3b2b8c35596c16b8598f9fde142d910c967184de3868c30e689225b231821683ca102f586aa4c51bfe6afda96ba949477b293e936506e22c136f1342a79a85885cc53cbbf32c27374a9c6bc57c9649dc064e5829cf376e29a07e9d1c0a0e2409d5ee2cb761832e6eb7a8c824dc6ca02ed6519a08c6d1cf17ba57c50e0844855b76debddcba41f88061949f6a5eefce011cc52f01b23aa5871eaa3b126e0c06625fba35021ce37d12c8afbcd7c845516fbc71b6e7a7b35469aaa3d143d2c85aeab567cd2bd7a0b819905bda8ce5147a22b843915b64c27c01f0632fb24c112f9ed2c433da9534a557191ca131596091ec1261eef66c630b3baf3a9ec944d0dad5e108020b98402b6187ec52549dc5f6d6e18cb21201d8fbcd774e26ca5be005f978dfc521e73964f2e763ffdfbc9195d7bf9d4f60dac10593f17ea0439e9340d92810eb80bc37cafbac83a97034bb4b4e452cafa9d568431685b842df32d5eee59383df6b9a718f294a41b1a960be6f9a4f3d19718575eccedfd6c7362bc3e2da12370ea0e31d486d7bfc63b834869990fcb7116e861ee281184796a39005f5b16d713a9fc80b9bedc3677cefacbe523a19d4c3141987caaa735de93ee3d03ac11c3b016da21bd043c41080a07f6603af5d1ffbe2adeb54cd6feba0962b8edb0913a9f213d512b3ebd15ca8776af5f171a5bdb1ec449724de4aea29120c048e249cf241674ed811ea4014e84b7f0419b5290ee5766dc24527a6a1ac4ba4ad60018d20dfe20ea9de82751e9f0c6ee4ac17ee0aad738a8c308585b4d1c89c221311d62e460f38be23088ac80f19a4706abbaaace8f9d5b4f75d426241e417bb1e0ba16582e9e2efddb220fce3ce53961942a4127ea6a1add629e1648f8562f09ae22c475b9fbe2e78ba675b51a0d4f35e787d79153ab5c782ab7c4aa8d620550a2f6a7c6c925edce0dbbea8700dc7d68393738d4af982cd39969e78804157253595f2c49df4a0466b282c4697213f1af085121e31c14fd0398be1a63a6d286ff4ef1cb073753235a794339e1561341a72afb5231dadccf00dbd0d8c5a780d73e5803189664ce3b2f8eeb0234b9e27d473f7d1867eda36586745326827024290dd9576b25ad989822ad2ffd6fce56ed6eca96990ec3a36b22c5f9bdcb2bbcad0fcd83ff8d619c14f7cf461326b18cfdbe388baf258e0958cfa3e95c430a0bb1859242423452f91296893a9ee899cbd1979c5dd0226a3223aa4235bbd6e9f122bc5544ca4204f6b95e84a92e51d92d411c496e6bcc98422b5f1bcb8699671cf012dd2aae12645953484b83314bfc4816b781cfba8c364f851aa904199e9cd1a42e349ddb8ec42341a0edff7e7762c9cf1ec986bed13b32a522c21ca765883550449742d51db5f07ad876867155200425c8829e9a91feae544f1fe56b6c1f4354c3d853e370572cd4ba572fc3c30db7c933fd62a10a43ae8226a96652ef4c07cf234182cb4aefb417175c3f0b92699aace262b824ed7e950d42f7a64fa04312682391b2690215e1b0235d8624bac74b269b79387544d1650e6bcb711d4131b042809a909e897684b542f346fcbba91d92bfdc37b2b1dc48bc7eff2a462ce5c3a3711d3c052f43e9454794b75207cbf12adf65fe3faf3bcae71c7363a6d4dd153e2717867bc07343115139e3976904c553ad048af0f0f026c6d37c5701040b7f3801fe7187698ca645f75f1a5e7e0a1bd0e0dcc228eae33a6acdf9dfa14429d2fdd9b086df98c7beb38252465e35634f5a18a6634d72fca338417f6edc2d18a1d564171d6d5887b8206b6a3a14cc02f2044ab25d08a0c88ee28726062bea91cd159582292989d52c6dfc65e4f257d65f2a7942a60b651ce08393a98db4595a8c3c9baaaafded52a3023343776fbeb30ed1f50dfbc9791b0df333955f165806de213d9bc056fcf5270661e4d6f30609728c12ba68bee5f1952032b9a96565e6c58965d43d49fa5ab315ddea925eb4de9c1c808b750687348b13671f03690408dc82e2ebcc18f2913c85c58ab0536059ebe12ee9954e3c596ee471a43b08531cef9b21b2bff221d5dd2e844a87013b995b6f83e788f0b32693eadf8deb95a27713d7c4e992d2e2aa30d0ade88799c02788e29bc4f575013c4d23008fac076a7cbee4b9e2965066ea52695d13a83f3da7e2a0deb33e8d252930373d6ca79494f2954a970fef8c9adf61e14b45c6a0ca66e92a279ab07f2baee0135e59970ea4e85ccf5305453c8af09e7540449070581b014f0ee9b53c7ce57a7edbb531edd3c2538e8bc06a781cf138b568bfa2e69ed197189284024183930fda68d9cce5b5053a2c8987d9286b7dc2531b6c3b6f5532d56a0983f4edf678fc354b06047777ebaec748c06302d71f2f094a799e7de528480f7d12171e9646550db443bbfac1de2bfff6425ab8f6d9f8230a7b88919d3d834426085cee0c90c1f95b410a5d102cd9e5d3d15d1b68424d1b4f9ba2608bd1f8123a90b260d038bcccb1a6595863d41d0eac61fda481b294832cfed966fd664492232ce0093b32078c074e46e6d9cc8e280f6050448300b4cf2506b7db9ff6a07931bfcd575831767cc87a3f96b0ec33d97949c560c7b205d7d060b396d35855fd0e19779fe2b16d12f7439e2bdde2af51a938014c3ea6f7667e6bedc5b090440dfa14250379359b27dcea0a50c13c723b7725e4a1ba5985bb36f29264b254d2cfbb6a52eb59ee70f36ef8cb76d40f684c837bd73c85aa7142fd064cdc3d44da8ed9a11de9d623a854e7e1e33e9586547bbe365308b09fdbc1f97e778ed82d4999be8c28def98ffac5826fb8a6b4ca2168fb5b708aae83ef65afd2e95f05c2f3fec5ad9d71e0a0d59993ff08ff940643f433756ce050164d43ea8ab944576b888192f3c495bd82fb4302fc4a3043d6216370a44116a848fed81da8425814d830df453b9bab1f8215802e456c7bb7bd0e752b7c919d9e4676510199da596c36afeaf419301196d1417e5e3c7ddc6c5655ee7801af7233b6c5c0a4f1154b70531666ed71baae1313371ddc17a09fda8461d5bcf7b6a261f0691637a55476e68f95a69fd33f917ba2e341f76da6947f81e6e01cda5c20936c335baefce74f699d5318294d5f415379f51c61799c2d47d8d47b6ad7161f9d5205b76321369068a257e42c72c79a4c692563aff39dcf1512be4389999d08013b76f14b1233d89d9214d49816d8c6c60772e36e4cf3d893ed821e652a9061239f5dd32d4199f6cdc66cdbe22be5262704142b60c4c4349c6f1b4309786c81598c9608ad0ba75e7924aa1dc908b3d6859459359289b9d0ddc28b185bd1885f93f6b0c26b8df92a895efd16313333baff14af0fc1026ae37693258b9f72b3d5d926964028017735c611614fa26ae223b694ab4d7473e86d9c97ac9a83881edd0cdcd2ab632a6b31baebfc54677e27ef490b54176485feac3e8e7b7704649519c2ce5d1fe51952a68b8b85b58e6cd3bf92f06475875d484906ac9654bf83cd0c53c774578062ab4473eb1d807b84a486f3e2d44bb60130f6ac3bb593e6697183910fc83500138ca63f92dbe12549498d417438d24627cacf5166b8e5b2b3281dabc35c8b1cee6cadcd1656e4338d8826ddd0f2c4a40da3c2f829ba7ccb518809e9544552adef26e8db8da08022f12f5f66b566e5bb69f7ec763b7c153b9b6740241fce44e9a58229c75488946e1a0666e48913adf1b0addb968e531e01da755781e775be05b5dafdf9075fb6e01c5f96c685236b72e9a34d95c998f1542a23d597b8783f10977d90314a6eb7fdfb347a30c3efbbffc526f118558d38ff7ce5756cf83040f94e14d5ad85adbd3f690009eeff83c18ec9a22e096e92085d64a7dc238c7f2af4b46009cb896856839db9eb19abcdcbf41a9f2741b73c70535350b8ea18dbd14cdc694e0ce52e804a3768c4c6fbf040a2bc17e48efaafcb11040e25942bc3725080c77c9436fe453e337a927714c249616b6f617d1b6bd1d60634bc1922c565da7f4600ba066afdb44b1fb997ff40c03d47b351e271befd89e02bb8f845c3af8e9ed1f4922262298c139e1a208c870755496b24b2334df0c98b0b780a104be079eb67953c88920b5d011e7622fecb7cbdd5a4bf8b22df95b1c566f1885fcce105458aca7a84280896a3cc384c9a9392c969df2864691369d6e65f8f16b36055f57452697cf4b4cc5acaf5dac9c48fc662999f116686dfded2d60c9f2efca44e160cce1f94b5502ad998cdde1500f44c4a7c36d2662f4b6e7bdaf4702b9e3c50139157147f7aa3a44f4d755b5c1e98eb3eb8aaf6b5f626643b2d7c6513ae67751b91926dcc8f283ed655bd53a09f39254393ba18a85456bce6cca7902e5ceabbb42bd1aff9c4c65fff01343ed22cdd2eae2dff32dde2542378154e22abcd9ee65f48f88e48257caa40d2bbb43d94b6620a9adcb46f3a86b24a16e2c129020f413cab4810712044288d827a71b31c1c5a1cc3567718e7367daaece9073109c160465c03e80d602d979a27b1669cb521d128ca6ee9c4f44e8109656435abe22881dbb470b2a4ada34c4bcfbb5378c7358b63bf499f9caeb801d0a250ca7886d3dddc5aa8d9d8f1686a32e0800049babcf8e962a50474911c406de4358f42e4c7ed330f7bdc7709a71a916c078b70c997147300864ccd4453375657e5a97935562cce48496d6ee0c7104723b912cdd883f737551069546b1278ea00807c531e86ae8c19bd8cfcdd7dafe79d9e0bf865838faa4b3a824a6e42462c336e2252d1e47798067772977b38ecd1a727f35256dfecfe0fd8742d262d5bde38c4bc77de34a1665a802c8234d8aed50f918dc7fcf44654a299752d588004fade018151aefbbcade422a7aae112a3b8b243c60425ece0e8c2b5cbc49ca8d7b468838ea8c3dd9cc280f31238abca1af82eb3d1fb45beb7abe21c0b1748b17908c428251c4bac8801fe1cc5c021fc4b6bf00c6e59036c7c7b243d209db1f2e1e1983a1e89eedca2872c02bd3e777be811825ab51cef64a39e8d4dac2be45fbd7b79ad848be0d2ec10aa1634ffe3851728e36d81dfa61cf9060ddc06cd1cb743d27e70e9922fbf455fd4fd4e16df6017517763a4214abe55ec65d8af01ce117770eac26e43ed75269737e2e09e25bf1e553ae13a2bf55acf2ab5b38e46346df04245815fc1ecd5130b86253e3af4d07eed410d71e35b4775812980155ae174738dda2a9b4132644826366a487977041a28b74538628223c9011bea33c95617396bc8ef776d6c6c06bd752710ddc7b01e8a0f9b505a1c7ff8caf98698546c117959dbdddbe8d7d6b5b9ae7a37d3a5c53406bf629e0db03d9f84da727cb493e02cf985a31dd68e2d7ada322287ccda3f6e0cb8991a57eeb1262f6fc5e0665666d71745e25900c456bf0a93bef21628f3ee3ff7b57918e3ed0404dce6bdbbf3c03592ac2a2464683068fc384f19eea5418eb1bbd05180cc1d6516bbf08fa7e2d76a751918e47a4b91027858593d751b87357e85d0e983d05255439b1a7b84030983d308dad8155e587ea86628ef7884e811b7c1e46ebaa39a34a6e8cdda86f4eb8be6bb54de1a3f198ff93d1b626c7f09a0ffc6b3fc05532e1a975d44d45c06ad8d6e73619af3fa5c21b410f523d8cc3bafd1c87d64cf70b523114b4157aa6d8562742f10bc76a3396238fc5957b573051761610c9acee83803b8bb031a2372897e5dde13dd89c05ce6db1b90225e436309797a32f4b63c1295ca4c2ae31dc24d4216b0730c4fe9a4be1bc1fdf05e5385dbc8bf715d88e47e7f905691017abce2e7ca50a9462e2640b507993917436a751055e1d7f7c6582a3bb1961ef2bc029d28c66a0b6eb36ca1d856cd5f26d0a399d691e0643bfe5d3f937920abc5ab65d5f75244dbccfed63382cf966c7ac85944eee8946bef36f59c99dbb4b33f2a49e281b4c3c1a947f53a73501bd222795659a4860d55dc332bda05e0be8d401e4e84bd5c7cc564d06f994a5ac2c70a5df381f782635a8613394f2a22c46b5aaf03ccdffa8b6457ce750bb655428d3ff3d2e89171683fcb8ca9bd507b8f3fd1d16d16e022297e7aba98977af864cb8ace0ab91ddb44f28481a09fef0b185dbf29382c46d31005c9476920b27fb24ca020967e04c1fe55bcec5344807b2466d4dd134013e4fddb74d3886a287b0facdfe0bed75f898d178b9194e119a300269db0d3a62fa290d98ee406d8c90f3173bb3b7388ae036011c899cc5456f106be2373f0ff0c79d5d92593bc49b7966947fce9e8fa58b8830e56d4c4c9807e9123c3802a4f32b7fd2c5f19a6c9aab54573cb24e78e8d15da8a9743491b08bf83ee10d9cd2ef2fa2fcd3f3f9fbfc0d01605e8f53107332860e155cf130668910456f6e8347c30f1bf31cef8e9d383f37f8b5a5e1d7a2a6001febcd1906ff47f93bcaadfe637473d70e5375c58bd54f3d169d6d43f27e9bbf33450149d0412d912483bb95f4034a4d3539207141ced9f6d5fbd834228791e913b17fc02b50043b96d5f57a345bbbc44458e4427683428b5df795897154d292a1f3bd3ff1b4208eca3f8df8d33b2900919b956310ec04f487cf1c09f6c8aa5dfc3e49e76ff9ee255482353c279c08b57f90d5bbd1cf7392beee3465f5f16fcf18b260df0f8369f74bddff1e554601168e0efd76d1016bdfadeaab9fe461de3b98631e478d52b3995f9501a86a404169f73dfbf060c1e87c89ef7e6587272f9489117e998f73481ef86188092c51b80adc334c56dbdf74db96c73b569d73331686705d8debd57bbfb08982e8b8de197d69606ec2f9900c3594d2de40bba51fe990c491cb56d86ee3ef3277b3489d2bb63fa326617c4d5496eba7fa620ec0596950144d64f8071cd74dc8d452f370768f68556ac99ffd011577b0889dd5d79cecebbebf28e1083f70e16ea33a29ea8671271171e3105d1038ef9259a0018218c88aecef9db5842e9e3e03d56e9f93c73c5d358d39b16373390b1791676cd7860bd6935509ef8ac4d08c642c7401ae8bd45e053bb982d0dab3c506bafd5c8645b874c736e2a10108d277d2408c31f1f4402d23f306103ba2d9de09e6dc175eea7d069a1db37be0c571e32162bbc2faa7c4897bb1f8054fec189ef8abb982db8a26915acbc9e771c6b19b433158f37a11c4e8871fbc5550fafd516fc426f46ad7b9b935319702834988b96e87d0a3593e0c41b51af0fb8f7e5984710aa3cafe1dd9925830a2d6b46224bbaa38010bf4a8b4c81fccd8700d7822b13422c091d3a1ca6bf7296ffadfc607c1127809887f32942ffda7b8ded32db9d263df1f1b00b939630f60859e98847635c43ef8b0f8d2c20304889994f2cb843275b7e8b776235b6176d5c5d6440d2499b1d58828a9f10d4b11a9c8aaa9d3e69dc52f3418847290c2db0d476bb676d7ee1e4646f5e039dfc448eb8d5a0e3ebf45ac15e0edd3b9536b50317a8965c28bc90d89fa60d35ffc942ddae12cf0d450bf9be1dba68afccec91dd866fd2568cbbb93bd9bd76d0eca8ba80eae14a852da15e4a0ef3cd98414e1a02612358f17f0fc9fef9a8473415097bf8b6e152b577c35b3e800ffd4848ccb9a51fe8863a7cebc9384ac5b57e4d77a7a14a689b4a729bbc6c941721c54e64178a62a4bba487e121921e39de4d07680cc9cf468f94826b117ac21917a61e92119469f121ba518aa061eacc75a2c08ea5ec24a930852398de43db2fdfdb3a27884326d46ec0d24173597639bde53e4088135d25c2897ea3a51d3dfc6897a4855c7ef7c55fed1112a03dd160c5bb7f532c3beb27984b213cf06465759fd128b95ba87cb2fdf62d7696e4cc9af3d3e14a1122dc19fc32b5f3811107ab4d8e43ff267ff11b66c2876d45ed4f54d109694ba7d102d5f5834fa7be429395a258f8e0ac7c1d54f070aeb82535b0f8001d39849054d1b0c0d5011b11874bf0eb2f6d84e9a7df803601b6310f782a9a9da7da0d83e9f6758fef3666305aefbd05be4a890ca1a45cdf27b637f14e720df14d982eb786f17f0523b2037134f38ba082ac64435754d3e78f185c8fcc5117f4b911ae31166d9301a1205ef3ab224fcb6ad1ca5cf4315ffe7f814f42fe87bee3c80662b64767f380dfbb9ff4fb7bf0e8641e4a96d75a36a2341b953917dd71c8b1685250fa6b432534bad5a01f4ed25623c256984a65562d97cf962d42ecc36ae5098b8dd6699ea42f5ea5797e4c7dffd5cc603f005600952000c3a7bef117b6572a1d0425ed009cf8975128829de217f043330b75adfd0d633c291545c43a11b7023b309ec385417eecfa27026aee8c0c66248fdf3bbafa1c4458e03aa120ad33ff29e182d53aed9cd3ad223b5af4e839ecd771103bb06a16608a8a30c38caa16b09d7681e2095e9ff754edea6d1e91eb25b033663e6bea3715aff91aa93c261fa262e3c32fcf26453a42152fdf2f92ec96a186a36d55a65d7af7d4c9c909802aa3ccbbe1bfc00c4449d8c67a297ac5b1d0472267a0cc89727858fb3d3ff3a37cde14c8bfdee9ff6e7a3d2eaa9153629d7c5bca56545199fb4ed472f5e33c5856412fcd263fd9b3d9a7df379b61a5a797793d4bdc82f9866c9116629605fb8357ff6113fbb76e5458dd1aa1d37e49fdc2a5fdfa2274197643da19ace28d07e93c1e38f49bd9a7a002e5bbda350f6dbf879c568d00f3f1cdc4640f1fe7629a8230c574509ca24fb2d07340c7e7dcf3091d7aa6b78d6b5ab021f5198ebee0ebe61a2700758465101f78ad2ca1c90fdfe47dd0137f02064137c4391f113aad05cb1951aea6efa5516cedb47cf6900b9b79a44cdc37992cea63e214f12ce70d1f66b81a0ad33fcdbda5e0798385ebc04bbc00e62c299564ec1cc7475fa125653e786c32241472f31f0525ba23b6af370d647f5527e552a5738d2e3d303788b19b93f8c38fcc9ce37a510d3df88d6602782c656e897e12e6ac2e5e401f52d937efedcd12c5e3ffd6d32b7fac892f1d026ee2562a080c392f76b36958fb2b4c7d771a11dbe9e0bf61c723e3d23267edc0609c017b9b93feaa35dccdd120340d1c845e08bebfd1b2b56c03a2e3d2f401596b2f4f08504c1ece0afe1c2d48430aafcc8250d97b7bf5e832591a2b6f2de4bc41e0bb9cc039ebf8d75b3825eb68de1a5a5ca5a7113dd10624bfce49d390c379a430112dd9373730dbabb17b2bc00009a0f2659d314c1bc56aa20a74b3b73741be60bc690c23b3e587ef60366550cf2def33e01c6da53b89f2c8d8fcfccc8ac70a5e78447e84a722676c7cb74cc6baceb366863a929a288f593f136d67a2ff5849168457b4615585673c618ef07ce3b48ccf4fd2c533d95a4d2555e0dff1b1dbfdb10e47eb616b36751edd8b1e03eb039840e295f9e18c6fd6aa9abb3ea9badb0b38592d92edc9271bc718d8e4b6e825c70fd832290e67dccd6986a5068c396906c060d1d769d5465d8045c94e3812dcb3b2d3512953a196f9e33f46393ec8b82847f3429c433e5e25e92161e67d644afdba7ce2e015c664267f27b39bc50734b4468943faedf2a3fa5e15a6c58efb7a9efe121fa71869c9f25f82102f006ba2080963d8ed74aa0498d8e9fcfde6d7c930b0a13f573a5653c1f871a6c3c1a3939e32e1ec9783309b395e1b47a444297219c5c17ff3e38615bfb50cbb2cb3658249e86450d41cdd25a2c6277e500361d2abe607a295d141746593397d37113b72e788f56cf4b688cd74ee71416f9a881e02d45d34d1d57b0a2acee7104d8410a2be0e6cea0371ab0a4d8ee96f3f51ee2af7d62e79a600fefca1f6cf4a0a0debafec2fbc32414a59bec46f943e1508c15ff8def5f1c79da3641d7588a2fd1eadde73027578870ad5b78d52c20ee9dba5281357ad4d726a6ce528a372d886fb308e7e931386d7e727c8de57120faa920dec4009b575208ca10cfbd626843867b3bb152b5c8be1c5126e1443b6d3d94e90446a6b4ad70510b98b2889d692c9cc509b0bf98ed0398d8f1f320d29f607a57d6a9c50a84d3ff312f62703abec3c8997af750525e505fe922a1384ca2e461a5f16439c265f0ba7d9d5adcdaee1c092a7a5b7c7a6c60f779577efe8eec1214f182a13854129c50f15ac7f4dd8cf045401cb7c4629cc32ec7c009bff233202a6e778a0e76c3df501a3fd2fc9504036cc46743803f87e2c58f0483a4f3feb00f7a7ac9f045db81967c8787ce62cb37f1aaafd068f87467ac34edeea05e5ff4eb30cb344babbd7942aaad106c13fa60e9390466537d16f3b78204f14b566817a0f7303f500840f9834b9c35c139fe83d6c52ba45709f56cc496c303d45a0c6751e948bb2db19371fdf991f96d74f0d8fc05f10eec32ab56e7a74d4d37f006788162e1219307532db46865f5deeb7b1345d268541d63ac36ec2427d111af01c8778adf986340844fd8cd4926c3872e97b7f268e549b3e0707d24d9e6c9c1f6fc1192581e998fd1d883c88f90c681f13dd275d9612076ecd4d227a6ecaf5a416247d80f8a9bffa15fa6a30a5bf993134e5c5d78f7b3ee55c1cbb3a0fd0860376461c32b73902c1f0e6d0999743711228fe2b0638d7c8d532edb4572f752408c2f64247628eb202a166aa5f995d7f9384439a40cf6929b0b625994ee9066c88ec6aabe8e6e282e300d25bfcb163b89f9909761fef4d8111cb2918f48f55c03bccf1155584eb951a32791ec405a5a1c653db029a8e1561f723f598d3994e252ef869480ea99422d635511da5be45e78139a6ea26358dc9451d39ea749a52ffd83248fb02b48890d086a1a0bfbdb788c52954f9060839cbbaaadfc13dc6f33a46e6508c07f6d3be0be3af1f12bda49b1897010e0902f52419e61627acb9802a10a98eeb3bb409377a0bda00fec66d3ef6e20bc5e1d6b0f6c6e4ab9f364fe1018dad883576935f97ee48d4f1628e6ad1ab5dc448ea81759640a6b61a2f9f73a8ebd9a4c07c8b99c7f6682a5f44f1171c8223a6aa6772bbd29811b2c95a1ddce77f2be138aa21d8e28530b724f233d609321b625bdd096c10fcc810cc49352d25b711d1abe5d2c5d0f908d27dc36f34ba09969cf0b6fdb7a74c4aa8d976dd700a0e0f0e81caa8e89324c74d6fb5a97e5d653aac7ea36d70db88a0c428ca9ddd8431039b53c5b41992c5436913f2f3b66bb1678fb120244c64945f19646989f5fb7d8c7eab24171c670d6fc1ea74e25698122185fc6a4c602d033a895fb70a45565fb7b0ea58ed3d40e7fcb6e0a12c1476576c7794f5ba994d762b6fa6c608b1383d1c2d8763324dc8b11b6660b1cbf51fd3bdb4043bed46008410d3b992da7f98e7c7faafc0aa9304b6ca20ba4259baa7fbc8258d8968898dcba2f5a3fbf470e734c259269bbe88af8a67fb77464bc68acbb19dff5b47edf58283d2999de64bf99b6d390311a4ed7a891cebf8e8151fb608594be15b13e56f8c57f9092d349d0800776289edd6fa8c93d0a057a06a769b84218cd378644096844fa71f44c8dcaadf6ea16c61418d2ee9ff53508852012be464722536efc7b0feeea4dddf74bd4689d56480fc467dc93ece7f6a4e23d13341857cb71e8852eba15a09c77a370baecb3c53c8615075660aec37b77954e820ae20f453de196860eaefff8ad0124bece042af41a9f29ca7ed58571fe91c69bfccb69a413c375e290d37ce004806cdbe498db5a2e437e173a9c6229e571471e5ada42885776dcbb69f9e8d2b52de7c395045fd170d1ec203b76369a828c23fdf36777d5355362f58d37f53a612e3ed384f53d4f7664488fdcf8d8b0770fbb4d9dbe5d2d86265c4f31388ef1e77ca71528e8f832f6524da1753617869724c7222d89d58aa63ba5595280294ca5d83ee5c3f0c9a1281bdd0aebcc9dcd826a886eafe4a2add0e924351685247759eca3a79f2ca4e2f016b3129eab3f7f1a4aae1b2991c57609d3412acd2ab29c23cea88c88ba538a7fcbd9fd97139675fa8453c750c9ecd6a8ac6f2b25f9ef03d1f547cb17c10d593949e6ff4c6a42ffab92790d6a73734d7b3a0d473d749c440826500daa001fc1db751589fe6b608625b5e6d050625fc443391aabd6bc1daab1fb66a0ff20ecda5093d3ebd4360cf36ca1f440d0c25b9eb3346b53d1b545c425ad81e59670ebfaaa6b853cca5f1f03ad43d09277f3e86d7315ebe4883a9a6994575e12de6a5150eefaf328ce3f461a462f130f72b6f1a5b3e48d0aa6b1e5c0c31b414afd0dca3f5fbe06f586e83db8415203a7b05f6f8cad3a59400e8f928efbaf6f59fe7776d69274806533fa2e500fd4cd763900405d7bb132e57555265f31a0829aa3f62ac3ef9e780c12f010eca3dcf3d23b4f9b61b471ca8e10d4a61a9db236c4b41428c29be86cfe5f91c44a3b4b1e0744775e70ddf1fb5308d1710987a3e9d4d9a13532ef2115f7fa8360cf12e143b06f7194f72b114fc057c2db55d81477450e48b606e7811000b1a7f35ca2b1a442f1dc1399e16009090eb2812ca0e908b07cbcb32c182759c65ed3ec1b59ae7158405db7d2c5baa94e012fe1dd0f3f09f76d4d583b1e24bd51859a503f4d8af5a66237023293cd96eec2cb29ca1f5d624a8807663f6d1840adc909e0106aa8cec9786c592980c56cd73fb4c743d9bd69f63ea60e1cf90929262c9b643d1378b81f9877b34351df6a95d7b9ff0695d638ada7daf6594a37d1fc30483d6f7a068d2ecbb1ecfc39f06c757c23cd7a107013d1b306a4306a0651a4e7ef4782fc97f54fb6e25ff939f7ac0667bb4e2f53925b8227a47345937c652262346aa89f31e040be4bbc3424d8da876d9324a1e1c3d9ab8c54c4816d31c975297b676e49de94e83aa040b5dff12ab8439d05be926eb77900cdff5b70a395ffb93ee1c4f39c0c568d0ada5e8c5c0e945ae36538d9a433fac6f08be43e3c4857a1716ac219cb61361c21dd8f1ed7d1dc2eb554e11f3b855e2ae83cf3bcde5107cd52b863216d63c798faa9096aa220d4d16821ccea58b6acb1aaeb16881fd2f8b50637b3a58bc2a718a56f5508cc1aca6824b482c648f3a5915f79eaea94c01c5c46d2e52cb5892532df828634508dcc34801a1b929e7e7aded6664b8222d6f15b5836350b4dd9044151363ad43d76eae50e7ace34eaf8aa8e5609b744f3f4a87cf8dded309378b505819e0a2903f96a1a300bf000d06e456e40e2fc4a8f1b846e7d7b6a8c2668ff54f998f50976b039b17ee061a50c5aa959c1344da30ddaff2de582944487911275313bcc1f9545aa3fb1250db3ef0e053ab0ee8598c305cee65bed41521f3b4e77cf217ee8be51d0496cec739889e7c77d654de55bf19bd2d7f695a87ebc78e0563b20bbe86113c0226adc40900749cc36f3481a34c72ccb269106c8ce9379c7b071ac9b63c55a06bdfddb74700c17d65219faf81505c10dc0896757997c7a3f736eefd650bdeab72b04c47e96ed3d865a0f2c86f42d17ebae633071ba36f50e17432c65b2f1422ec0758903db10e8cf1b8f797f3318710fb2c5d77a0c3e4a4761839332bb388872409e20c65ddac763c3f99a70a64e95ffc80c8d12e4a52807d09e9d28b1213edc9eb6260efbb9f55fc5dfa7bb2a17ac273cdd028c8e1a1129b4f8bd691a15355a79058f9c9d16e9ab35c58af9aa5d63af81beb06d1dc9af3a81abda543abaacabc39de3b1cc85054bc423f6ca04e7cef042f8da6eb8511020771e481f629eb80dddb34fd06393ecb051ab10f8150afe3928e3423c967b59e61b2d49f30f01dcb7ab2ba6867c18e0f183a906270aca1579fa80d3a49507e9dbaa6a4aad856b42fb3fd0025aab5dce881e55eb74324577d139b374b1594f96a248b1e2cfc6340ed60d0ea94e640c945e65b281a02092ae77aff31fda7c9a5badbdc08db00221d9b0954899c63dbf7363553b573561e1b0572ef99ef0536853448de2d65281beb4896b88161bdd082e88e8aff0d26d85e738be47cc96c7a6343b13cb67f15c8b55c1374329b846be7120926ea88d0c00b63e92495c72dbc54b673aa65ed56be626bc417a0c0befb34631f640bffbbe1a876f3d10c091c9e0a61d54ea0f4f64e6dbb477d3ab6efad897a3f879d30bf487a2473e439df2fb57c7638b1fed39699cda9079bdf869aec254fae0e3c1dd0d98a3f89d4ba7893fa4362ebc98ceb974cb499633fd15e6182bb1ebd737ab05e87f34fc4783734261df58c868e7f2ed5453a00da3e01c51c452eeb6d7cbd78bb5b08bf28dba39b10e35c2626b0cf76eab860c112ac6c9dad0c8a80ceec1bf1549ccb142fd4c97ed89bb6bd8175c510b0fe85614dfe28c93a8fae7f88e7864f9ce4ac18f96ef264f4f06cd5bd888a78f4f4ee5ce3f6c63903187a7b349063fd665b3ea56dd1378c10f6f75748138831e12767ba1f75837d3c5718bf177805013f4d8d0e71e60931207d6cbcb23d2e518ba32097ec9a27b986cc85f8d1470d9153298dac612cddba6e10f05b8e6a73086dfbef0ebe8ef06bf59bfc9edf0a3403cde9b27322059e58717be6ff4ba632469cb5131f66d0e0a9ee78a7b9e4a7d8390ce68a89580fcc3467f7ae41bddbfd34eec977706d8da268d6ca895e7b1d5f9ff8cae08229a31cbea5135b6c809c4a49753c3d3a5333e0304b13d262265f664a3dfb8038830e9421507276cd79047269feefc5281be81c88ce849653566eaafe356457878a30f4cd3a588639697fbaa890b2617cac8002b571d2f5a31627ab9ed6257c2e3ee842a048f9ff1e13f81a3e320d10f3cac6e1c820d46e2e8ab1443be806161024806ff78793dda8d5b6796c70ccb570647968e32bc04e7b8f045a703e39e98475af3ebf5931a519199286d7c144c8ef444d663b4ecdb99385d817a5559ac8d80dc9907700d12fcf9b9d402f9e6d2d274b1364a3d4aee06d711eac537d16a1dea4519ef807f19631c4d9c93c4871eb2ffed461b6984320e5c2645b0c68de291c9d80aea89614dfc07ff17b57fe56a40494b0bdd932246c8222c746d2c09e180503c9c8f5d18ddd6f7ba666e9d1ec21855eb079cadad57e809178aabd98a2be27afdcab5548068b2aedb479092e9a66e39d7927645c2108f24bf7323809f165e60b026ca867fcf734d6e221b3ec47dc73b772abd29cb349e40b1cffeb8ea3184f2e98081dc98596dab35ec3f3620a6859c9fb4f98b00775c7fab8bc97e03438b01fee0c1fad8c9782ed08e40d6142154932c910f4d6203bb3dbaed726fe0865f839800a3d3e1a60f28904ad6af5fd499554ea90917e614c03c8f7cb6c008dd1254ac28f4606e72a8d883be209e40eb65c92ebc58b8afe0155faf915b8ba1bcf57d0e8d58b489485c0f2a71d1d685df6ffbad825c7726c39a168b25433076d8930b2c277352e87f416217f226c68658ca2b8905b0cac94ecc0eaaaadd5fce6484207684b1bbb87789bf23944d1bfecb27c60a4475977b380f0f7862ca7f6f026ed6a5b4ed9e6ea20dc86e0a5bd4f40d30b32a409508c98179c04b630d145d81710ba1173ec1025324ba2feef4d4e2d72626c9f967dbfd4a2b03283441b3834614ca94791b5151cef4402a407ed4aecfdcd758edc2aec8cca4e3fc20e8d7d1a6d42c5478640891b60f22b465a5ea39f3ce40e59975daf113a4c4129773b32f7b1dadd0026170cff2e62c635c28282d82d8a6ed6e408334afd5185fddb562c637e0babd279e29b5b1ac265f0861af1a2e1633f042d3fb4ade3d6fc469b2631a1abb80c09522519232e730a4f7ad2a4cc2a8afe223637d52daaf2dd46fe3e5cfe4be17760fc0fef0d9d457756088c32e6483b58cd89a4312a89cecc35008c4eaed4ddd951face25e73cbbaee71db35202d284a18f8dc946dabbda830b552e8f46ea01277572cc056722c08733a064a46550a75b72fa98e4e3a59c4195bd84bbd4dddaed544636bb6ff0b74effe956b4f28e507ebe04f1a87c37fc6cbfe2e1b9e8b744b3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
