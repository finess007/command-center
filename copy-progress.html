<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"78644fdc6fbd29b9492d918c5bec41ef83acd513300f91db6d6d7b944606ad753d40fe2cefbcaf7d7200544c646ee1b4115b4d8b36673b4da1c24d86e76bd8c33fadbcebd3ef5a2ed2f4b304b1c3e1ef6c3701036a31d67ef152eaf541947dcd9aec23e0d8f6ba54e3901351f41d92cd83c1a6a76525f91ce646133cf6080dfba34a7a8091e757675c3f51b1db6b1fd1d483a3a9d5838e0438a8ac5b14caac17b525f5a5fdd8c9bcb6a6d3f55657cd7d1d56c99397f861ca7884fe4848e5a4067816dbd398616e1d3cc105671cf6a97384351acc133cc39a442df807f634007e5db79e2dfcf6e740139433ecefbe94a14879e341df1df368bbbe7054814766dfdaf938f9c585a76d135fd5efbbbd4e97c38af68bf842432fdfc628bdc0f55761329a7e29cc03b6c6a4edb1e9f33b707694063532ffc35a6c87be587e035b474d0ab0a6400934e7e637d7b2700df1b20bc8b0a491357507d246d1fda65d2c054d9e0eb9be1f9f27681f9489fd509f19140a88ea1e330a7cb26a6441ef7e6f3b9dc1a2d69cc12c6801f914b1f09d105a4fe7e1d2e6c6dc79e9a16e960bd3f207fd4d7b7c32a151ede0b05186da399ede5c10c0392a87d05989bd03e0a852b865c5e2fd5fae9c3249d945dc00b76f08a450670f7fc80120b3a3d043d65d77f90292ac2417d8bba71322d1cc7bbffc06f434602e7186f2bd21ff30066e8ff85e3fb814aa0b17e552994e80eff1bc5324c5cdc407579d9128b62687af18a17173ae1de9aab383574ec6a02c469a21c0241981fe3dd1f34bc6cc492fb16521d61f689a9110e17c8f7f99729d601269a25adb1f5c4c266d6ca59a509229cd284b99a171095d75ff50d09de550b5f6cd45ad2c590484ec83a9c685609ac1eb6655627faabb1190e9d81ee677e838765af30cf992d3f82bb7ae208c49b5c5abf306cc8ced81628de4f2c8edee3a7a38ece941746ebb840ff4ca3aea4bfa89d57c1ab1f62d817718c3144e8844c569c908c01b7fde789c528a4fc49b90b40620a03eed8801e6709f9ea59faf5ce77b478a70370cdc6ab7b66c7789faae34f4f2fb7969877c746c4642c6e73f50b50f77f0f4e3ce30a146ee0a25b399ff8316f3be22b15bdc378647d9ef086c0f4214435aac3878cd42c742d9dd66bbd781a6387823ca9f09b150bfa2b2a865d467ff35c31b9909e9dc22b3ba1b2c125356d9ee94eb1d36ed5d1aebdbb82d0c90f0b3efcf8485b2b98efb05fe3c5c8c6b1ed11ec59bd55984febe0cb4e8cc51e06648e8eed94fff671b76cd15ba7c194118c14897ce9678827e37286235278744f6a4b8f93f5d2bd794b2d0f9aa5cb4052fd536468aa7bed5116f78370065879ec9b4de13de506507a7d83ffc0f7bce10741bd31f024e2a2be2536efa162d5871c8c81570d69e929fde1a0f47caf3dfce398a84f24b8859869042b2294981a2f62bc8b09f050d6a37a6a4d9bd52acb2890390376bb47648a902c13462c36b20b7b70af0d6e1eab586449d5ddb11b8cc8aebda5abe81ce54101ab392ec7293b122aca90774898b51b6abb7057729cb2f292d4bb260572a6b71b364a2814b7d081cc8c1269aed063fa9bc53fd31c62523447112c74342a03a6ef42fc3896e4cabc4bd18da3527a0a675bf5f0fa90abbeeee3e98ec195816ee1b1ca33d70d9cafdcd79732752f234fc69ff90a9146c8b781846b58b8942ca3e6fd14a37536830b58d5d97de1870bd92e549d9454088106601118f80b3f63dfb79acc4c181defad43dbe5193834d546cfccaa9e3be2694f2263ebc16e4dabe338cd02f285bd21e4f4b1c4c2facbadd7b70cf02d7504e9769cac7250e33e0282801e0d873ee1a581d19f01a1b825b49a65f0aee0a4ee9034a2b3aab3a07596d5b1fec984baf3120e7ec6b4ef6d29680a3cc66d868c0e33c82de38edbd5e3e9f4fb2aee268339ab6551b2c46f7aa70a421209fd2db8f01e7741440999a875aa2ab7dc04724864b223d565b3a53936d924a1cb9f9f48d88e435ef2cbb3eff8356f34be65ae2f20924caa597166f5b1d8720f59d7f8f7f023537d1522125c1aa8a760bf6f19ba744476b711757e1925638189034a928ea3d5544aa8596bda7bfe23522cca8ca6be416d2e8e6331b26fa200cb0cf414f6e918319252ba50e6c441c5fabff163db7a2dc910ae54e50a8f82cbf8db685705aeade1dabc0cf628f12bebc49fadc6fe97542786fe0f09fc655f084b89d914bb39d8aff7f67d74d11022961f13b255400668299736b1ee34838858aad5350f435b91b20f9928b554298b826b4281f8134175956e0ffcb7ba13f493b32cf4d0252c8ffe72ca3d65ff0ead015b7d1fc3b792ecfffaec91f758a1b16bf15f149292402e728e8ba3b5b2a8e1078440628ae18e6b2cef727881b4403f0b539ebbd07062f45037b5b39dadc77c7f5175a73d8204ed874f4ee58a5f05174a59a058e1e0316636ec5c7724ba672cfbbc6ebd53d4d71ec6b8fe78d206d868fedd0a8b011a1e320a53547725ee57fa82f7e4fde568a32019abcba7a7466bdaa803b6153af0759d67ace28157d1ff2065997376c1968324b76034ed2f0b4aefb1f7d8e3f4fbf8dee4d8869603104d1edc28c3aa8b0e550034a8a73740c92eefae5569ce4c91912ba827e19b185172405f1e56b7346740f4cad15214b666f5fdf65e23f1aa9f0cb9b333afa5c237fcc84db13da3fe23422c5f4edaab358ae7769f71ec592d29d0925399493c1940cdd7b8328e1ddaf661f3c6d86a3487de082c49d364f08c521dcf15fbb6225ea3d3279bdaa80940e53427a670dd1a6710699a6f9cf5d1993285531c971ff3a584b303758552378756a66995bb6a7e896061604ee49b32ebb418cd917315bdebc44f60f1374e224e3d0bbcd785ed1f6467dbf4725b6bb0e29890a95d5062f9b75db806d4de2029d89ed29df1a47dd5a726943b34ba61605792ca4a1efb4772e8b9d08e1e99eb5452cc74c50fd2f41c787b608c561873e83bb8ee0d8412f7155f633fa1b4dfcbad5476115cbbb2cd75d894eab10108dc7125b166c07bc1dd5bbad2aeffc7e9f6051d43924dc5a05bf012caa760827eb70626c6a42ea05d1c58ec6e3b4f92d84f5f216b771bee6a70203a77a499cc98abd54b04e9e5da2f5ac486377df2405c167ee7cc259b151865c2f73a184902c6732099115333142a7b090b4766647edf0f056f9cb5164463cca894fa48fffedaf8bdc6a343c0221eca2c6be7c543345a9a18b64dc0a2851d07709052f165b36a66c9cf81d10a6f28f39df74deb155745744990752a7008df3e6f0d0607ace3b0e79d22e0d908d301fdf3fc3867aa41f9f96989fc9f30d83d0aa678e3f32e38d350f91033de88e0c8766a186dac1f001b5f56304c3265505888b275c09c9518714fba761c328ead3ec38dbc223117cf2bc21a99ef7db55503470d495fab1efbd480ce8c76c0fb34bf85db4c5a40bf194e72e2cada03d00513ab5620a8a41d04746b53925acffcdb887554cbc56bcc1d412685cfcc71a09b13451da97eb05ff5762a5ad59d250a71aba3f6af90ccced385fa9e94fcbfd7ee7ed937346c8d22336717eb90a872c2d1bf44c2e270d260c8b1d2ef8c323f545201941d3648ceaae5ec7901665ebbbc11167079ed3c6c32b2a427042b4ea20d4bce482f8f262342a845d6f54033d6568f35b46eaf34abf7f36675f7b5592c4fea041932f9fc72a57089112a9b59b8ace8ad012657a4b397c6876320b4850dff79e54fac46ea86e89bed5fafad372ff143aa85937f75a8741f03049e3f078a39e4d26347de3b408627934885d2cdaeca29110dd77a832399585dcdc650413e5cd14b7609d3f5b98bf4111ea0124d6dfdfe88b4971491f735abc9d4359039f7ac344da879a2c542506bb9f0b9c24a9b01c3f637612052b5db3c57aa1eb55b494946b15503df8ff730dfb6379ec54b32d9b38dd9504be3112f1250d10a8d7c90b9089efcfb785deec6ceb412a2620447c5c90363cd844f026565c7897d0233ed19b95839fe98ed4fd751ec3e9c5fb40be97690d646461e781eadbfbfe5e2e5884135917e4513eae138e4683a2bb20385f25920dde76b2843365c5cdd39160ad514d435161f7371f2c8323e99a82ed0f0d6d1a9f5945156e7ca328dfe6acc27d630468bded596aebb5cc26f663b2dc492ca0c82b871d703263bf178b14e8f125a5b14246cd2548bd5d616102843b3ed76ca0e843f43e9f0325fc9622b536e9d8508ef2d68a713a9cd588f7c3a1c86466d2a16bd120845f98ffadceabbe5b5e0e50f00b9cd95805792f0e1fad3cd0542b153016a3014d653eafff0ce9cad33a041411c816d0b93ff8202e414fb2e85d9b9739e39181acb2e081c65a599f20d015638c58976087e9257736c670e4a47a5d3b0783c4875c801faf417d2a784ab9f9d82c12f9f828e1b0571142aec293eaf2847bcf30c910fda76795a914d45de0029523df496024a3b20aa2a0d344b8ffa282ef5cdf5a96a96dfde023ba0b369f2308a54e4637fb2bf66804411183f30103e6cecdf75c6f539b43bda251939764db445f71949c5c65d67d0766ef1ea666a9a6dc8a393fdbaff20c29927955fae47e359ba76c290f600dc29d86f8892c2e4eb7271f21aae7097690e23abfa315f4c1cb7588ed37758774f90fdc4b8f2b0c1c6382da840a000fd3971544dc8db5439c4ebde75571022614ee1def395126da00c396d8807d0026e78406062cc01198b28c28be77823c6d524affb09e3f32fc5840c0c135a294e158f4f45988c2ec9cb0c89b45dc19d664b7729e38e901781e2d5b5845710c90a7023c1f69818e9dab07fcd811f76f5ff848dafe46374e254302bf7d5065b702ab37891459af385dbc9f3362c070627e56dc55aeb42ff9dee243a1fe3447d9b0bb5dfe7556d6fc958e325d00ce8ea3e49018806daa513ec07feddb89b2aab737c92ffcf3a2c09a7b976ff5516f7f7b5b94037b962419735c01af5aad877117adf55a31b8ff1149d223ef0452066f0f7a683b2b8fb56b0e764888ea1255544e72687b8f494a4d6ca6a5d0d644449aa0acb4fece7bddaa80a11341664b41e7838253b04dd77e96b427cdc1210496dd9a4e04c31f3a790ecc3c1113c5862b8cf2378cfa2d901226fc7157edc9240742fb6ad1277b9b640009ed70bbeaf7b6bcf7e87ecf3f25fa667fc35f26dd17a6dde35e761fd56d3bd7908c2faef5e10cea9ef4b0ad440bff78a63086423b23b2d3590d79d689d35be8b5d314a7df6faabd6c2629a1b912428cc8105c83f263989b74107c6fc76d492616c10f2aa81f75085ec94c8892aa4e9c65076c1f3ce317398d89d55012b1b5e0cbc1abf6559d05b645a895f6fafeae134450ed42105c30798a496e80c422b55f35d4eff06d5f1d1a7cce2db3a8605e5b1c0075ff7502aa0ac15170c034271bcdb52f304ce4bd8eab00621c24d3d4c6e931622f2bdd2c34ad2101d2a967f8deafce56f2f2e9f877c0b25ecacd53f5b3b541f07660436854da30f7951f3986d58f69d33fdba66332a2ea6eb96149065dbc87b34fb491417f38d6100de23a20a5a9cbbded73b0b4f5b46ef5c4ba30cb44df8e4505a4131af10161b3d505fc1bb2b12546f8dc597ab0fa1891b45b10635c46755129a256b6bdf9b595219991caa43a39b29cca76c51ae3355cc00323be3d280d88a73be3892414f16be7ef11ec44a4b043bd2fefdb840ebca37d74926551e17e3e0d6e6d524cf5c110cc4d5f389ef361f0fd0ec19c35eb02d98d43d205a569b5f8e31309c5602c3d5bcc7443cbb8cd627cdcf997154fd100ec113bb46b8e47c16cbaa64a31b017d4ad9cb6a0b561a8a2282a49e5caace32c6f33b70c7b7db3b3121cdebe47af5f0bf250ee02f35538deb2510d031cc5da4d0344ceca49d9d8be67b86f1267771883d99b58da6ea1a0c3fb01a00f6d5a41573744ab5bae6f1f7eede522170c03a26c253c0630aa75083a69ed0bb4ba15afebaac99c9fcf260d54ca4d92142d6c6edf61d348e6eee3b9a380b75a469066e3fb967861194a1e72df508342a2fff8395afcf98df28a514277b671dfdc9431091f9216c5fe64a6de0b140dcbcb1a7dcffbb5159d79dc685eadddc4aadf5396c5ab3e06e0f8370d9c7a28f653cabfd013bcc90d456b3c0aa3a8938abc7a2b71d64f99503027ff1d8012a4d179d4248aa6389410f3ee8adbc597d477b5d0fc6b0be09572e65f91dbf405e5572d3ac4073e33b727d7fc5e442320092110b09490643a31a3ac3eae663a1c01e414bc97cbcf17254d0e3c03b941fee3c4e47086e396fba45cd3a2c261d41252f1ce9532a1035f74b6eaaf9075541fa6bd0899b2e395b22bd852c19daf1edd9eea17243e89fcf7f67fb553f7a9cc04e100365bd78e482b19ba45023756b11c11abcd665ef9c00009b6305389919caf5321250f356eebf1d64cfc077592e2e816cd7323bd0202efdf678e972de2578d5142c36c8a009eb7396fe2ccec8ea9cb90e46b2093e15ddda1f0998aed366e4becc4f8731588886fc1fe1e38f56501c2f1ffe7b812a376b56ed8d34e961baddadca231019b977a09583a956b2e65bf0342d7a7c751f2a0515308ab587ab2cacd366c5790e0640c55d096fa657988ce556d876d38219aee3725bd28ff3ed629f0be615d242d5f80d1b1de171297003d1227efcb0330e1b615bebfcc241af2277c27267932669f7feae610593a446ed71358b77f494ea7015456a90cffee940375494d5a259e8a652269d546d43179eab041f46af716bb7cbccb27b9fd6ea8c707722814632522bbf06dc0bd067bdd0aaa43ccc3113c42be9a9ba28402f43f3a62eb3a6931732e4a313ea0dd5ee038214d3c8766826c1df5d78128d7355c7527c84cdf1a6daa2fb7a6d666e2eba6bf917ba8ad175df1f96bf7f6a8e06a45b5d287e3900ad03bc7ce588b27190cd741c6a90d122a9d3a4373d0ac3216828de9c42c899f5b683c5f9ce48ba312f3a8ac0f14ff24a50f704db16e6f5871c14e27c470885297f44f04b11750b34422b5b5546e38a633a89835739f81a2a92ef748cff7990e6c6b647f3f032157ad8c8e6dfb5b7d3fd534f2db6a19931abb2aa6dc9f984c9d4ee9e054015f0882d44790957adc17e66e2ab86d7801bf90b222044c6d1dac745b49a027661bd7756d39176b8d487b499ad6457c13c51d6f7d474e14c8f17539489c8c361b2d73bbec9ea85daae7744962ef805d40893e214453a43c0b4a26b57dd3dbc3402c2721f1355d99520c061ba9d76ddb387589e129b3c403d49a76c16b374b5c21b42b116335e12499a9d7d71d3cb8c120183085e788a0b0409c1edb79ab3a708fbdfca1fd1aa181cc220848485d1661b3ded98d23b81c17a25027dca2839a4c92b144e3f8f8064ffc0b6e49b8e8a167d1452e06b82f3ab6ba4f0ffe877a4e330e9b69f049547a2fb662a99c052e3475c1c7fc1949e8e1a3918c60f9720e07be3120949bb317fd21154dcd8a88fdd1603a371edbc1c42061f6531bc5a4a5b32309a8341a3941e27858de5f6af1d4cc902f7b9fcaf0d87185400164cf99142b940cac5ce7a72b2e5ed17ce6aec90bcdf178bd1513c72ad8929da841ae60390f5d1db6474e09222bbad35b97ef718ab5a755ce75d468ab59f953ed67d89a5500569ccba6cdb123ec6eac2ef9315233485f1768c38309783c96380611a4509c450cf80ae6fa5ccf1f6614800613053cbd454ce645453a58c90ae12c88c0e0defaf31621dded8680349563e6bcc74cbf80d2b5c11788aec84e67386d1238a2e0ff23b5917ce55023455f4f38076417a5870695c4010d5f62f9d15b340f2c9c5b25f71184e57af7b17e1ec9f72bbdaccb935aa2c0a55ac2975f1e5e816486108d4c2792861b7c2117e30324d6c5f85bdcfaf32f958a59e8b32f965c9a2ceb79ad527bf8e691e562eeae0e02984f82f3a8cb1ecdde264cdc4298a6416cdfe1228ec59618074ede85a92bb4166287cdea9d58e01976ae30ec4addd568a7b6233555468e1912232d7af33e314a94244ff7ad494020f938f7017ae0b5e2996834181768b711e6bff2aedc61c844b927c942a856a076f188b2d85631f54a658fb0a1572940af094643149b93d9e43f84f0f6d689304a104fd59d5bd672a5295baf5ff869e35a1f6b125a5e9ff24150f4368b6b71f8d25a55d397bfd487b4cc501ded78f1771af0abd890e7b9611ce3b53a970b4c10f6a9697c7a3442cd3ae15be8f6d9e5b30202a3a208e9b0dc7b749bdd9b4ed5a5f5f3328646be346b3715abebceb01f2051dc012d22776c6f08d521ea224e67c9a398e8229edd76cb1a975ee733f76cf66f7995ab260797236869d0b4c534bd185fa891392dc4b661767f074c792793c3ed32e8498b5dcd886208eb31e99eb64258bdbdc47683d01c6aa9405b6c2b415a8fce6c58fbe52a6350307cd5c45b4fa47155df6804c30d82ef0e2dc3c1521000db65246e15027e33e77339feb71f0828877a1ff62f76dad1b831f161cc7bc116a8cf47020c39899cb5d16ed880e1ccb8e019d1abc562aa4e9d5298d69a5403aafcf554e7ed732b7a32167dbec34a348c0f331a7275fadc243925c6d5ccc94b0bb117b432c17c7002d741d5bfb013c8313497ccaaa479c80f70379a9aa2c9dbb129fcaa50cfccdda4bf4290768f455434e8b6b4a103af385a4b332fca02c89dc02b4aff715392ba7f757256c95d8c6bc26409901d8f5fb18566f4d3b2e40dae01b51ffc4a2e4ae770eda417ddfff4250ce3ff9d95ad568c7c397f0f816bc8de6c14edba29cc8c817b406a1c3dbe111f3fceab63d7ea5da44b95b13c412313a7bcdc0509297e012ba7a6f1c4b5ba2db2e2548b2ad41aefdded2999460cb2686d51d239d7ee36acc912be1b0864ed3886f5a7ed64810633f7193c64b07dc4d3ea301d461d33ad151e8dd6e5dbdab937563181d55488b2519061d1aa04a2b08097eb444afef46066734eccd23069d23bbb0cceead4337896f23809036d9d6f1a33c24db116b10b30c64ef01b184870569968546672ca052d5dc8d94167e9241b713f7c2e04c1669543a193199b8a7b695d6a0d99fd79eb1efd5c19bd23b29dc15cacbcb412e434807486166018cac445e40752ae340812f9add612370db838867cc8225e5864044aa8e13507337cfd6326252f6d900f93e2c3e7b652ebd727a70eadbc05c6ca2feff16f6f2416ab2dff8d38eb2aea7310585b1923a2255f053c33a9e16a79cf91552dcfbb36e6fb8ae457fb8f97467e6ef9d619768f3cf0eafb1fcee8d4ab2e3561fa9461bc09a4c51b63622765fb8539100813a36eea3091fa8db2b09dc2221ea898026125e499a66dda7a5a903604ad7810f1b2dd3c07c309ff9ae6cf13c813b54c6ee50df56d6b66c7214fdeeb1e6cb0c9a44059877c0b2fb75379f9e1bd839e5dc4abf5438a2087acda70b316fdb3d768277ed6591aea4cf6ef201d841e458a9dd234e094e66d07bdae5e90592fb4e31d96f990d847f8c454048ef1e0bb2727a9e79f655001b9f0099f6c37f7cdd967aa80e3bd117a38cd833d94e65766a31c492d8fb35f7f5dd74f929927dee8503d6eef45a72182efa77b375da5458e31b2a7cf04b2e2d3311489ab914626a9f3973544951e7f3c838878c8d3f653e0be5310691766096a851bb24b4244ce863d6997a7ed32f646c3a7e16352739b1aa7d60d433741041db64e9fe0c2bcad2c430549a1e577f9bca0dffd0fe73ea2d5d355db5db8c976e1d519ea564b87d940afa0d0f9290f2531eb054aaf62a77613624d6f37095adfae2281cd8192385c2b665a1c97043c2d4a9f49a588e398fd3fb801c146299624834e284e8a4cf73d4c5b6db26b9a0737ffca57f5f96aa39fc5da654a619717617efb7c515be643da47f883aba6eddc4f321dcb5e368de0db141888c720537e921b3585ea165f5b30b9e34c6ca23236db81137bef46ccadd5179342c9925033df6848a0063ca3569f6f05b859cd2c7a5f644e4ae0908804d4c108753b3f1babb772b174d44076bc541df6b355ba19a03d956708e265b2d7d8086fdb2d3330fe095d6a3974a2d25ef5aae5576eee4c98cdd1b17f7def19f1c4853ef812c3afdecc967857c810516a7d138766847dd2eed5342a796b1d564a5b0618311cfd116a53797ee78468a8f24e7aab0fcc4bedb7147a0a030195767059a80967cf9ba6978e44e8004da41eccdf682490e047a73e34547ccfc0a3b49264945358231edc10a862f4798eecbb4fdb307be124350b17b8d568dc6201eeefaa26990f86b341b92fdc926dfee726d6621c25ebac74a696b45eec09f88366140ffcdcf0ebc1651ae804577aa6feb535abfcea5550c1bf19ef408b566501d0192fb6f3952112a411ff5c5abb192000ee04d059551d0c13c684f5ad71aebcaa09c9108ef3180484358e182340112d5f27be488401ecc9c22e8a10b78cc248995289eb6e21f9846a6c1dcc7e84cf4df72c2f5ea4d2916337ebf9823f267d3a0c3008d8956103b08286ccdae2eda6a1f0ab6414c18dcf07ec5245b24ced8348923715d891a7e984e1d68fdd545dbbf53e887f585e96fdf58d92b10f67e44377af979abe98ee7a86f81113d237180508b743df9d9bb546e3848b872f9cbb3884130ce1144061706a3bbed885929a5de08997b5923e19b75f20da468d5d772217e53d96174deb1633d5754f8d33c3fcf701b7449a9377898cb064d8683ffd5cd678e606367173acf14c1543606b676fa92f916be07c44d883a02a8febbe828d93d1ef8e103eb1af8c2a9a24c4739fda75383b5a74ddcca055f80580976cb8a51f99f3df07e72a8ae7cf71424d43d0fabe0608e8baedf3225c355292dd14e527d16aa0171027174f5d0dc2feb484b6258bd6679e5622f1390a2521a0c793959f325341ae3fa26153a183b6eceec81701e27e09ec48a3f86c472176173d0d9d2de32536ecad597ce17de867131b10f0c84639fd8662752c3998104498a19c7b0a89b31d4be30810388276103928dd1834bd61a101ee5d1a9eae5ed5454b7167267aad13f223c28ca7f214ae5ab0124aa80b1b7ba18038e71736d9f8267fe58f660b78d1b37b6b6d4b1a8d443740bdcb5fb4f1fd92536c0293b7d1b46749fd0bd743ac1cfbc78a62a70a52b3675940ccf7d66f95c524146eeee593174a56ae0f34bca943fba5b7c1d2fc07fc8d50ced5bd3246bbdf43db0f7c22e238fb2671daacada493d65cb11c98cc8ab6ffbfcb22063926b6b8af5428fdb6cf3edc97e734a7f9e4e845f1abb67f3e2f3db23dc124faa714dac06f6686827e55b911b7cd9e595b14a7b4b9bc37b50f34d2e46288b23da0ab1c07cd20e5639139d7ceec14c5cd02b8b84ba1cf6fbe7b703f02e5bc581a99c6ee7ebf49c69adf9d210c81196deec09e1a65fa9cc408b46972a1b584a7e77833d7cc2bb5e3111082073b3ac038b40f9e4b9720ca085dc9141fc59b2a8505a191c12bfcce5e6573b76c26d56e2963ee0125e11a7845c243c75d91275dbb301fe02b6d97d8174c1b914d3fbb1ca5b7c905df3c3915e1d05029cef820c28c4e83800fa87a0078f667e9efcc69d2d822caa8ab0e433aabfbb2c7342e97c81d32bbaee1839e969fe6e98738a1971a947cb0553acf4dd33cf92215a54819e84c31de6ed7b371475877528fe397867644450f74386e66f17f47088d7ca7fcc3605944319b187dec3ee67b21985564e2dc8993c456b5a3077962f127573e35fecbca981403487b144b29ed65d80986866026938c2e86e5874a6c34a56e3680a9303d22730d376f090da164a3d48e27b285b37d2f7dc1409af087ac414f8dbed2f3bec30fac4efc297899eb9f0f648b68a1c471dfe667ff21222acdfb37207aeb671945a44e0a6f79a57388b1489b6f5bb90d424578ad093924de9ddd7650730bc0b1f8f933df80becfb8d23e887f94e9236b04617c4a98cd26762d5b5f127b46148a3435e9366ed48a49f1757ba7cd810ec546aa38ffad8abcf16e988559242dc88ed6b11459db05581776b15852d03944c9b63effb7217da580258751de211b21f84b822eb9bc7b99cf5bd41ba19fc3b60db1de61d2a76889e3b96b8d7b2a559d1b726ad94c0cb067a584e6b02049ade0df5d557b6c5f65fb58c208d9baf2588c8c0c1a1f76e8f62f0ae66955e4687f046bcd15ddd2d70aaeb6bd64a9d610ea3d39d1c1f7cfd61a40e593a9d16bfcf3e106c2a74353b99fe3d510ce6067c133b9b928d78a7ba8085fb9473aacad7ac272de654e7b908f47afa2627ff68918779d268df67c041d7bf1a4ed2924bf2638b22f6fac3de3683ac92b57c5ac2910a8c660405c0a18edea17cdb0d29d1f0a74117ae1adbc57273214afb9af9296da26bffe368ee4263838d653965d122d622cc192d738807a50444213a7c160316073a404b21eeb3fc1562fb54c63f87248f4c65d8800959e0040c2907e9608979e38ff55affca659984d982ec6de6f4698c99c572f9f16167f72e385df14a92685cf78baa828304948a5c68e662e501743f38b317faa0a3175be3f533e16af23f0a8ab3b8cad245d9d50aae3cb0e29da1923a17a4b9508e286cb6dcfba2662fdc5d5d88db8984404380698894ccb457ce2203e41955978a13ff30638b55ee695eb49530bc3e5a6654816718f06f50501a98548133532de24be422bfa5f9597460e82a19df414daeeeae1dff9dc5cef39d88124c0e26e41dceefc2469e46259fbb40b149a97b16d5a560218e7864a20af1d1ccdc3183d2a82e36c25fc5690ea037671887fb1b118b84c75d2575adc9fa5d3095976042d47bc783caf696254fc69997ca282e9e0ab333a99ff93280b082309fcd7a7a63c415f06d5bddb868470168914254f6f722f71c7eeb35ac98f6b5da9ed298692485e43962cb9f123a30b28fd2d8ecc273c8283e97d244c1bd4554c285e41e0f6f1c2d75ffe69860a2f2f8285fa335a14399383f6d30bc015c0dba2fcafecdcf07f417a87e82c982c0942cce127f50a7a0e3ff9d4effeb224f8525657e5aeacfac817bcf4e10688e45d19886799f162945f617bfd2b17ea2d57c7632065bd94eca26e05d6a37f24f1a96418aad6ca24450718b5df839cae0708d7f5e0b1004749fa3b1326b3580fa59859835d889a0a37bebb542e44380700acb48265e1d475909dc9d1145f82811d0ae9a2c1e67c4c966200b44817bdd80ed162854e62970c984690aaa67c6bb7404b820b9eac029704c49c81c6bf12413fd5bdcd6b7af05b31a42cdd88f2729eaaff0fca82f1e617e814eed25a0d0d2a300a22365a3d24ba42d7ad6fcc5d1b631611530c2deca3d863ed62eba479b8cfa88914071cbff7c360bda5122b89ba25b32f98e84e50dec779cc57812982e3e8bd86a58587205173dc7529bdc9feff493a5a3d7801ee0c7fbcd69be636de1fa24c06e4c127160e2b3e85b769c0f476e2c005790abe41f1e29d5c2eec79fe96cdd449c20eca9654d1935c3a04482e35042bdc0213183c6b4e70693bb0051f29ccc9fde952a62abb4b4d7e1c4b3fc563551b6c45e6e5b7bd9b036ed32ab6a9636315648133b83a9e52b33a06377664e9afa7b58a099f0084aec2342eb02bfd46676d44fd60de5696469299b0bf8a99cd536e0d119a0fb6821e45ae935b35bd8956ac8ab76e0c0ab07d5d11eb461f0981b24841e6b6ee3d609a403b62ff693edebcd19ff5237eadd7c92e2dcc0e6a8acc357e8ca6da1672b7bfa9f80739e9e08f9b8d84f30a0a1df60b1049eece74b13e3f26fb7ff58b57280215313c8651cb84e07b002bc7ef76c205a902f82ba4eb571af3d2153289b8aeee9de91ee8b153a661d8008f60e727986fba164c95c856b441690b4c6d09967eb69596a2e38e0d991342f4cdc8a16d582c8b56184d499abb3cee74e61cf951a6a81bc3869d067846fbb908ade99cf5cf5a5528e5aa3ed2c5ae1cf7c6fc2fecd5ea9e1c346fcc5406c9770b1f9f1bdc83c0ca6c298273db3beae5a546a30f3efda8bdb60fcff3a6c3beed9b916fc32340bfaa90cb1aad482fab9e43236b112637179b76e6225ab2aaf2ea7ea3a0b5d6e84a1c6212730ae8bc54afcc87b8682e7cc6bcfb29553801486dc7100e6df745c283ba4699ee136ca64bafdba0aa29c9b21961e4abbf990bfa660df966b44734b9a7ee90bc151d00ad3f036e0590f93e9d50c3aaf85f9fd3c5c6ce3814e7cc10d44760390ac60cc9af0f8bdda4c7ff5f32cdff6fdcc4b4d445d2ec5a354dbe3dc676d83bba18b0049b14056e0eda0684406f235f4fcee607dbbeca22e51c900d49252944cd69c675f981fa3a952b62ffdb7c25e77cc234f0f8e9d5b36557cfad265944d322cda09e0362a9e701f5de5bb2c21b790e7a878e6bd8376307b5cd2681f666d084a4a6938667f1733d5a07803d5ceb5785d1d7be819b259c8642a922afb4eb06698ca02c176356a8279b04189fe5d3bafe30e892c8de8be2e66d0c8bc12888152c6151b53de229e9ebdff52f4974f3fda147df424ca2114b9c91d2547948fe1615d937b79bd7e702fef39b3502330a5dd25d61f0a8088a4c05faf6053a862e59bfd64cb9d8ee04a199b31b66efda1185abe402fde32ae99f909244098b3c3b84fe8fb3e802ebf02cb5e4e2d46ef08cd0f72299e0a6db5c69b4d02615968f194dcfc3801b08f9a4b6d1959d184c23c5c5cd7b329438c5f43908bd4786d178f3e1bd347690f66baa4a7c35ab04428f0041fd2af45c2e8592d7b867b0b4ee41dada7164354402a2b5c239d0b1601c7d7db81d74c5edfef321dde6649777a110116e0923b7ef1b2f0be158747b0ec13ca7d2855db3095dbf3854d2b3ab107e8ef2afaa3599873ee47ed4c104d98d22fc03b0cea3dd367ddd1b699766a4490a1b9c7ba0a47e40d3e0401f7a4cc0340b5ec1eb3d893a9c53a14121785bbd07528cc6455c80c935e06a112a3b836c4bae5471595d8c159a6190402a96150baf0a91e93fcd295e412817c12e75fc65dd4f3c14883352cc9c9ffb623ea70adcaa1db9adb2ec048cef10301afc880f55ccb5b8219c5a8dda68fd13efeecc1efd270ea19773851218c3c260bd25605b2f79e4818851e5e10cbc179057f08a7805d777c61222a17e2c204c5e8aa67af65ff4d6e0183b1c84d9e32c09ad5dcba02f9004a68f8069cb3f17c9fcf394510b5b87c13072f401d21f2c7b3a3df7935c6a4b3c10e0b91710e778e27257a2caff5ada5ee0107e5cbaff9f88f5a4a42a97a05da23126706b58d6c6a390339b4162f71e7f298bee2522af2460d05b554c689c4e02cb1c591a132395b5181442c20db71d2cb39376135242b883e2b9832eac89c674e5687ddebd5742854607ed3ba99f14b280c83ab7055adaf6d8f7d51e83318026b4de975d6da0122cea6457672134a9bfe6d86c8dffa10d67f56553e9532497bf7dbd021bab8d205b806d91aad9866697e896a672bac98f572476b1f36cc0f0f96500cfce4154a06c76519f8e0bcad0768ac6da3702cf568ab3b995df675508b5cff4cf0390ed7bfc4042b674399527bb29b0e4e97d88ef288f3fd8aa7df3e6b6810af03c1f38851218437d2b28e10717cc2e1e40e37470150ac600320c1deef6f65a9565bedd6b09c067c112f1324f864d30cd1d0cf6a29ca9763e157de9dd734363166d5da1f787cffff8ae4f3417e565d4b81d0324d972fc528159db65ae5effba32e0320ea86728f3d02e32205a4a24c1f27a6784e83faf61d8d8ab1dd4c43b926c21728070130c567ec10835d611289a10945c1715443c671c8cd6949e8f873b47b21d12d5084422481efb1ee2575613c53dd1382dca46c725a2b9fd0e444771ae8a41eaaee96ed21c64ceea239e68ec3f61dd22abcd195bd607ea7d43208b53ac0337175b465b929358dfe2b9f241cd937927259dee4dd467c2ecb20fb2071d277853037579005ebf7dcba44895eb12f4d282678a3c0c9e6ffd3e6619e35a321131cd8c1e506855a33d368ed24d5cef3961e82fa35047dab3906b562f82a363a420ec4038ab61c04a03792fff42dda3f15570082837573d20ddbb0356202347fa4caeee1f576811f9523c06b1f30687eeaa697b3db19e0235f33899a4c0be606ffea10657a622c3e309cbd4b846bc3f25694176822cbba66a3a94334007b33d09ae6fc08455acbd35bea240930328d59c89497722070836b7a10cda7a6bd74337702804cc718c8a26e78defe38191cba0b5565bee86cda9ea79207a76ddf61de086978e177d05a90149ea9b877df889d324fd9467539e29fc942088ce110727ebd0bbccfe8a42f6b679f0539b697bc8c7bf49e72ea61d431c190768bea25b0748c853cd537646ca3cf8585a2ee9bb7bb2390bbdf685a07092521d4800ec6ca59fc9b0259e3a2de3ddad849a30f03cba2d5824bf85f77bd1d37c75312624392f76fd0323d2f69cec50b8d864c0a11ee602ce9e64ef6a06c38fe7bded481b422dde98b731e5d668e8e3482a92422ebb842875718779e0f9788ddd06e79861a7a926d0d853453e2afd42f1415a1f3bd24229c1bfb20f767d7a3218da3a6877592051c4f12c3663dab5038b0207751e1692b584e1d7d5c835835ae510b393cfd44aa50d6b305ac725da0f4ca522a063d8a4ab96ad4e93ab3cccf0362fc3c84a04962df521c1c92cbaba39000542e3c4f448ca5473d938f9a57eb80c12933c80c7142986495a67c8e03ac7647ebbe3557bef3c45aad398153c8eb1816fe36d73d99e3d227c88dd9c6f7be4852441cfb907680ef905de3f4a4696c3164b7008fc4a58ec786e233bb0a31db0b039452da836a9bb01a34a075a9a81618201806b08d3668b01a4dcae5f3d34c0ee5795410ced37554f054f129f6d601c151919a9337b3fca5256567282dfc00cb8df2c109cc5a7f43cd6b1e7fda8463e3b6ebc9154310db1f285a65b567731d45e404449185e0defad8cc5f0779483921763c7dbc03a61240de0e89f4a471f121e7e9ca642a095ae7a86eee459a187538341c4a31c2303d40e12feb8c36dea4c1eee2cd1f3ca1179fe6144d515468d090b9da015205e1f4e19ec10ab23363e7b6935408719e6df7545a371901a65ab764214f7da93f1d75187e1c44cadd0b930e0af5cfd9ddcf610c968018f7a20d8ddd2eb2bee09d0951e0ab46e3b67c3b32832d3404940f6f22079f9e1ae01295ab9152f0a7626c850f372bf8e7fb33881adbaf7f6850dc24c6600c5f6b3456001159eb06db21f8f2f1e61b109ab95c1dfbdadd86c74df106bf48347146538774e36dbe6b84eb85a07bb10a50a4cf0e0775d39e89e969936e0fd6661b5b717d28158c1deec6c8a5873e576f466aca34bbf716a4bb76abca1d399ddebf3058e7124461e6ed389c3d196f62428894cc047f74f75fd1e390700d6847ee134153d09d07964bde89f33914813f776b0b4555b1c93cbd568b38806112bc8ae03ac413b16e3b3427474d34fc644f78e43a3829d5f239bee09cb39b43591a70cb430df16f61504a004a12be56f07fd8a2495baa2ea7af7eef2f85ea0fc8d92b14b9d57a8488d2da942a18d28d89f432999e682aa8297f156301f0a52c1a7e218044e0d643dff3aeb6354987cd1e7871cda7adc0ae01173bb624af6976b3372580f1d288765035088d2556ea33c752058a881b759284531fde813ffb26c1d037f5ff61149f7886ff51a8de5d32fe29bdfcdff7d21ffd63fcabb7bf51674bfebd3632591cc38fcea7bb3a3efa4b6d43fff3a30b4e2635247b589d8cc6f4411ad06331f6b40a67805efa5627169c94ec3bdf29ad7ea546398012e16e59774b7193d2153435231299e193db6491c5f200f9cebc2d29ca4c6a8763494df63148c8da7a7d12b9941063c07b43cf61f8269bbcd968989374e51670e456486d2579c3461b2743ba15d3b6358c65137b9a3ceb8e265b16b422888268b4d0686f68e90d160f8c036fdaa1e76a58b624d87361f5f2cfeedcac015ae6bc998926b558b1b6a77ee9cdfa79b750ac9e37cb6d37f0c90c954afc24b64fd21e58e3a7a1a720c7358f9bc385eb34066e452de82cb60bbc68ecca0a8571a05d2a603fe6402720d90a5063b05baa632b54236c4219700093e01bcd9fff5add0adf99acd5d1e4a568566ff0ba9b891524e5323e1c81973d09ea174f0b3d520d7fa3e0688a1b3e50e76cd7156ba4bf1891477f10348b1476a778cc41ef73075e2671141df18613102503736fbebd0c9cfc78ee3fd068095ec994ec5ce25c0d50ea984cf28575fb3eecc11d637959d4dfabc125231c6d3dbce42df55c55ca2325485a72281ae727854366e2b740b7722fd596437806eec2f195d3101472611f7e111c49aeac1cad322b6a2d6054e6ea96f6cbe9cee2d1079cf6d98a33af9232c208518a98bd889a1fc2e4324851f9af6c7e459560ccb94ac6d94eaebc26181a07d6d5eb259425dfc53cbadb752bb888bd264859b8b5db1881e8bac36367066f9620774c35fe255662a7216e848a9775eb338509cb3362737be2ad5e658bb782921536cedd606c65a8935da272d7a507498f3a5d49ac201cd1377265f99b33a5ef4c2a27d9cabc7119b53a19535f05196a39443b809d083ffea8500634a7e95dad4f5d05ffafb537195f0a67d12bb67232579c7393f729f8852feb2d2f78cf0387dc5efa0c1b204b0370df91a0bc3aeba892979b13c6be24ef675a4c17846b59081e040eabe2d406fa7730bc3601585c32936e6b13c8a538b3f053c1387a6b120bcff19f6b72f3f23108797f510b0c0423531d03a7f77f83cea4bd733a71f33e9de425c5faaccf5b1a8eb7067b91763e36e4c0f7ef4755db61d2d71875b64a75caef563aeecaebb0fb030b901069c6176a67a23ec9dafd209c4f75936873542e3fd56e442aa3f23a4edcbcfb109bc1c6d5536dd8ee32afad8df724f53d3afdf8b979031d567539ab308579f0f5fb2aff14ace14b336a068a74bbd057ccdbc80a1042645e943a46d985e8fe0b5e4620d3983226d80a27481985dc11118b9450521d70052fb45b0bb93b2fbcb234f0d357eff0e05d14bb2e622c47ac29e38594b195bedfb3c2cf33bc88356622ac5e4b766262e096c05f42758384bc928a6d10393cbf52effe80c85e3bc0192f707a317ea8a71a4d9fac9318501649badac44acfe55edb030bb404396456f8f143290be97999b3cba6c75079796a4f4a0917f53eb8084d343d3492072ed14ebec796f7565f155f4af93e3b6256ded67e28140bbc8276f792417b0bfcf5faa675592b7510702c3cd43b499785844213dc4d7deac4757bf12bf8ba4294326f92dd936675dc4ebda8c0b5b1a9ab1b3bcd5d205302a9874f701b8b083874464dcd70338181b70c65ff4034171c0f04e3dfa4d81a79a39752a5975c87b87384c2b5b2ea80962215d0ebbb0088f0af715940098fec65497e22bdf9504f8b40459a11e5a656296f35a2fb78e74020642ef074050adff8258fc113323b6048c23a1537103da35d2bf1abccb50e7bf095a71a139ca5d3cd42e076b4457506e7876678173c8d700f8b7e6a0aad27216030e8e4ff17485f95d2dfedf48709b7249971b5cca6f27a834d89af5b554e83991f1b7f91f1e9b18ad45d864daa9343eab71fe32e90b8b967485256c31b0168609d5fceec1c7f5b965570b172d1904499878190e99b7387847d09fce1ef60fe4f569d3548f6cbc0aca980256f18404a6bde550dc7b14c07e9dd5972dd3b4bc0dc51d214919608cdade8260f3cc6b0c93212eb59422695500d2fc37988f7d10080ba036755f3587587a015d1d29ef0f35de61c18ba0ae4012acb2faf0d4b58c822f9e52cfea196096a6316f90a4e83e4ccf43bb5dfd87a69daced2fd6366a693746e5afa9dbd83f18a9079cde4db168328387398bd70d225001426fe7aa6b7a13f12fc909eb13b555294a99eceffcdabf75880fcda5ebc8526ea1dce6cdf40f1d88464b3a182e223eb46226671573d9f006433781f98953c594029710a6595cc392a70989727b734380f7a8fe46884109d7514995b1818c2aad0a6c34f38be33bacc3b21556a7d043f5c9ce22436846992582a4d32c71c82e3daf2e1fcb3d81abf7fd16c38c7bac16445c588f88a16d0baa5f6b7d7ba3956a22bbd3824c8da79dcc42f13ece1a9861e880cd6e9306544cf0e08678f4ac65d758f9a91127556cccd0aef0d6be7c3db5ae2f7389f3094dbbcc41514b381eea00be4ebdc9c7c9f027cc8320b9f87a1c7185d74c73bd28099e9e8ffea46c2d55d7945b6708793e93ce5e76180866a8139845580cb3218aafc0a507dc2c158227157e3f1538cd3d7d96c56d3548ddc1409446d16b6dc942bfad974a9bc366a4989169b1d18d2add0562c09241fa33306a57ba96dbedb23e76d51efcc10814729e47d26dc08913de537a27b44353e02eae06a029c9a684b76172e15b98d28b920df01e9cf10bc830198223b14f5b8ea4bb61a440e4523f4ea2e3ddc15cb4392d7980f58cc3a17ce480f3e29ab6473bc4c0c0f565a8ef60e2e586ed184e13a1d983a996ce2cd875901d3e6ae5c85efe9dc2202f26f5e61a5a0581eb32907a57a7d53dcf1fe7e8eaf885f6a0dcf221ba8018b565c92f45f33a852dd06595116a6fa30914de327a40864a78768f085fe6a3fc295d179156340a49cc866569c17caff7563bcb13e41695f186fee6b13582811cb1c3e47d3c61a967efd67f34efdf342a2884b4a1c258c02aae90e48689cb6351f3cdbe797dea039509463a71713f482ae74c65589a8089b1d3b98a4f1ab2108a8b22d952e44efab7ae49c878cfeb8e3d4a0de92db5e35c298979d0b0b42f2c615027f4471bb13b0876e6428f96f5f465b8fafa2316cb2115681b92da16a3ca12a50793b660ba6749eb2d524eea23092d64562c2904a69c64ac367c3ff774ab7ae557c44d68c11ed41bbdbb03028833b059ba8c201331620ac163bcd756c3f94d3f01526753d14ba4e1a56130917cb74ffaf501368939153d0b3a37d5f5708f15e0ed85b9b1d048727000a1e0025a71e272b4e99eed92cc83c8754cda24cdaf6f6ad31fdbadaa0184467240115e44f60cc680b0fc77161c7c0765aac62b1c66f8d56eb755b90eee389027afc09c4068de70fb9b1bcf24aa5bfcaba1e974c0afd0a47d491e4986dadddfec93bb63321d50b5593e5933a0c0f605a0bacf8640ae6be71c817025692ce4990b116af640635085b18522fbb74815fe1443c74461b2785e9f22d8e9ec137812984fd6de095715efcfc830cc85ffaa03aa7d48dad165a55fe3d8063c887269a13351e545449df693a3d952","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
