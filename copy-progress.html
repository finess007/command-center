<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"58d22339d5af96b06342f68406bafeca72e9a29e69695136cccac04250bfd8754c736b0335e6707c32b47c48bb499408adde4c62279f38035e0c8b45729f1a1a84e0908148eb8784f7d87830dc5e546414e0850a417ab96c0c45074a944a5df27699980086985e90012d85dd7af1182ab700b3f16a3d8655cef10d2579f5f521e0015d180f4c4a7b748d9b15df7aa5a4fe7692f52e8a112de0c677a797edfe97d91dc99e8c4506af055ba9ae17aa45b0b01516be441cfe6f95dc240eb5482a325eb047db2cac1f17f588f966dd6aa5e788ab5a5ff6348442f95177edb0158eb56099d395c1bc58d4e251ba92a64d38cf1da352e60882fd6ec365c942199784d5eb2abed7e2357e8bf0fb96a7071ef461d637c18c220fb3e986f5be6aa165240e6b8d735541af4853c83a2c82ccb4b363a7e9c2c0e7517e6abc1eb09ece7bf4cce2186aac205e421a22e03ca505817f8c1691942dae91353a72bf3657e21082e8a992afdbfc358a8ae65df149ade816e646a567a82c0dff6c62c9a4f73484ded77325d91479f586c73a2d38490c36c3eeb706e6e70dcd42530e8be2f619a4fe7e706ca5edcb097c091845db458298303b97ed23f40bd4f07d0c519529aace7fb724d591f61c515944c88ea47e4c3469493770da6d6c2a5f712fe12f4a3a47cc0811300845b5e5126439343b1eb8b9a9bd2da731e84914a9e0437290d9aeb19006143006b48900f4a76aedab3cc5d7da97f1e85c2de9e9837976b6780be869b5df7a3fe607a32ae81342efd81fd5df7cf6f509c2dfb06007e2c8d2c33bbabfc9a404335d25b24844eb545fe58c159afdc92c43b3a60290232bd5e98e1d655f0f6b02514e39b4a915af4f66f8fb3b0d99f17b3cead4a944471c825de7ae63fc38fe34901173dc19459c5fc77a3e3bb44070f539a6ae393c48a4ec1291f749148e8115da9a9a0e5c3c62a44b32963e793aff9955f98a6151371e389ae5a70617ecb0aacb6ca0a5b80780bc650de6ed3cfb546c7e7267af8c21ffc079cf584e4b58b093e11952ea7bc96b2285183a0431af7ed3aba31043d4eb1fb532fc3d2925947b4866781b20ec16affc734b0c2865c83114921a610a25090739eea42cd6c68435c1bb5662a44e479d306685bc825f11440f8ea0dc9273ffc6ff56fcbff39f65875154ede2c902608982f2cfa542d86be2df2a38c606210cff7365bb2a92ac843d7f6922c6df97bc9641092e80ce8b79e507dd075e8e25d3dc9c80b8ac65bf1a5ec806d849e8b95bd01779e1eb934c947b36f0e128858509f0b67328e55edc43c0b92971bbf2349a9a229fe0d682194e14b138ab49c5e42caca1a1d465c0f8a13c90a8730e38c8ec7c15d7b9a9e75d149121cc21702644eb8d8c463943fac026f17f06bba574b8797c20c654dfa2a979c495784d74308505c8cd43f9703522ec5f395183d3a3fda2d30bba1dfcb2f5feefc3ddc6273a106a2121339ce50225ab5e66a008119aa8f44d5bf76eaa549973d297f2e8ea1d8d6345dc06a8275d5427eb6e9f6f12d3f0350bf38f84900175432714c25bbdd358af8c0529a142cd164e669eee9e7f541490a05e1e3aa63635923a4aa8dd2c474be0adbff7730fcf572d040bbe99947b16c8cea514a203da1221669c5d2837db77194fd049bc780bad93b1e0cc42d1aa4e8880a9351a8569af67c71523303ed850c30bfb054a82b8463cffbc9db081abafc7ad83e15e90eb07bc7d09f65d1ee094574889db080fb319bba1e3c595ede8b2b6e577ab31ec35395a42fa170581a79edb70ca237b72d310f1b04dd6594c59e5b207cade1d108d81748ed9593b5ee2d072a3909f1dfb18fbac7e8943461ed8aeae10dc335614d45682a354579ddaacec62ba193fc45c30ffc1a74bea802e140c8db2f0ce714158ae109c87a30519ae28608cb82f76ddb187cb100a35128899ccb0039d3063960a620d849d42ce00ac31874f1cb2440dc7adddaae5a9d4ee7a8636302f27ebabcb37f31664a406512dcadc861e2ec703b3d8a995f4dd27e4b03b9286e7dff307b6029d891aebce0ad980831d5bb545498bd2a12be739e5a0b9c1444bef82efdbe10bf300cb7a38587955574d74fd636b1c1e91eee83065a5f02796a42614ad59ac653f6a2871b71d12a3705cd164966160c0a11e8fde51b635831398b3966fa34a4ea24fa494b86d8038a5a71d15abbb4fb099b76ce341818c31dfeb5bfa4e428babf85fcce659a29d9ce78ef0fbb429c4a7f328746189803b4a87dead3be6bb555582ffc5f9fd72381c500f12069730a405c0ef44ebd986f2dccc0f8fc58f90644deb44c1736e121aacabc99a41ed18dcf7f09051c223cce1681139a6755ac181e5d179112b9cffd859f5d81d497f2cfaae09780f8c53d34b45427381bbeaf80735e2539394e4fccfc882a13f561a3333dec8ae41e4b119da07515b2e969b0f66e1ce857efc81eeccf6845fccdf43306ebb477012d0b25c6e7ba8825e200e29450fcdaa29103a0fd7509c34b78a2246d790cef4c8059bfea3cce6ae2c759bf69e0b26253b4b609f4880114491b20c241d91cdb1043d4047ffa0ade6a8a7988c29a1426620b6f159c8de08d8ea76289294a60bf7d97f6a921336db78b54a0d4564dd9ae124aa932d9b27d1957b47a4a7d76c3c800c4afe4916bb9e6ad483297c4e9be45d6cec61b440198e563991417a402b49a04f44e588a0f9fc73ae39c6e15d68c5b3fcc72542989f62795144c7e6a900d6ef75268d72cbdac662db32bf2a5bd0f9589ee0d0e81ca5236b78e13157e661c81220db13789d7d726f48c2927fc3f596b3325f94ec8494ce4ba01d9f908aeddb27155a65c024b0591aa59c6470ba8a7674c274d6a198d9241e7746620feb5862945b5177f57dcbce4f4422e8e852dc173cde0cdcf4ca0fee36f771488d75332951027bfe62b9d9d585c565bd9e17cb08ea46de9206d873f952dbf0c48af6c24f28739a67e24b1428b09c0c58cdf1c7746c77e173f12fea6408465718b3b4b59d8c77067858fb95709323c547d26d7d19cf690bc75f2842535a3a83b4cc1c205e615736cdb9bfb4bde62075275fd491c4a316a4e4333ec9fd5e57fed1201438e7aa1d3abfd98f6c34d9cade518b903c193efbb78f3f75fa1b60607cfee557c40f04f6b1b63daefa719011c7bdc7ed2762d9c9ddb984eec7100297425ab0160b80a16f3c045a530d5e71aa1236fd860c58b4b3fc6876a654d8abb93bc3899601a3b73c9d3fc647d1b82adf17e7a3394b46de56bf86cb099fcb245027f395c8e8742eddcaf1425db3d133f510fbf18442383547f8c992e0d2107036d5556064e469f0433d0995fbf5d91fa9b3bfc8a8e2d16d677492b340c162f2bc832fcdbfd6ed590cc98ec3058d2fb80fa30ea8588fa2599da92e3aa5254b9308c52969fc981ff45f519e69421577825fe2f1912b02eb08e944e70677d55e081c243e33ec4821c34b889e6af9dc4e432232907a54e01e893f6eb764ac152ab348e6e0dc17dc93eae89696cf7c6289fd45cd9eeaab6c21cdbb25a7c5a866a99dfa661b20e396a95867396ad24b54fb966ab70c1019d3983ff382ae40e861ae559ccf53da2e56d29a37949d2eb85213f539956d1ade0a85cb45fd298e099edc2966c539382611ed0caf6ce42f96e3ca813dc88b1a51fa5c26a6c32dcf521edea5b5cb2bc79072fd9e9287b8642ef8e38600b5015bd8e5ba04c801253626d90a29a2697400fd5ae236cb04ba7d6a1b24a03c3a8fc5c9f3962ebfc6d0e0e80c8ae4cfc7a3fbc033387f7aabbdec14c127ff44f086fe7ceb5f3bbd21ab16ae4824ea39e43fd95fdc2d1903b866aa4957f3f292cbdb8bb94ffb238e8517cbab4e945053f5db85362f9338922e4318fa4852be3f87a7a9971adf0dcf641cc74da101ed064e2239c6d8fc80e55ea1979ecf89d599cc65a1a6dab03ed9cd6c21cc1185a42a85b8ef33e6adf543f517e476b962e3f60532c856187bc542c91e475522ec02ca8b0414de5cb5052ab5536ac4d219c7e5e0f74c6d4bcfff77b0d31559583ec297c1461ffe0a098080396d48e39ecbe239f0141aa131cffabe7536922e8fef00e01c7bbd8c4fdef15d19280827d28bd0c2fb892c6f845be55eff9e8f8bb761c61f7d2b0bf459bbcbfc7ffd7b6c705f5a878fad9951e92dcdcabf2655a40a64d6a2a7f427f686c32ec3a3a7849b74aaf3098159c43e9edc1d3c8958885018fba35713ad2226a7ee5930a0ecfe7451df25f19c3c49ffaaf515057dfbdeb7177c27608a58435e72ce41655d0d65773051987cca413c7688e8d2542568681fff1d1bd5aa0b4d33b39998c811590cf920e7468e54f586927ae4694cc1d5546bf150cfa5b9beadb201a3d57ef1aa1d37d090c8d4d9afa04c5f2eba031b6bb920a44f28b079e109111a6a024f3b98137c66fbc342f8db722d7e55114bf70b37c2ecc04ed2c4a44cdebbece3eb268cfde759ae99727089e2ec890ffddb206e7badb26ea8721eb15d16a156587f4830c5d6d53cf8c6c53a16e6b28f1b4dd0b4575cf47f8342e372adbea35c08948318c6f4b045ce44df725f2daea36302485bcc5115b1360f991d3a481336d06b8b3a29144e3ede943dacd3ff49b4933ac97eb3932beb6d0219bfea684f7eed621decadb797ee316129cbf355d46859f0475618f440b7238c3b63d3c5ad0eb6fb3ab441504a3be74afd56fc85552d5906723cf57626eedc8b6958a71c21431cb3db50a62250ca1115fb0424a08c753218b94b423bf001030fbee19b38a594459a85f3b72da64ac3166c434727eda223e25fa6b48e14f62b5ea4190ba3f455f09ff64c8193d58f30eac62ab0dd7c9f8cf70002af76e09029ca9ce8ed85d3edd9e8f4d6f6d1a170d90ae44fed0ee07a15796d6b28f5552f12e29afb135b01740f177a074f49f062ddb7a0f422422d7ab6ecc8fc3e5f15f0b3df81a8bd36f825dbd1ccacbd7ada40e0f63b3c237db4d8a939614efaafb4759e034f695d588306bdf893a5104227a02700c7c6bbd920087b6655893bb29d671e9fc04855d5e7bad787b0380ba3ed44406a5fb2cb596aa89ecbcb899f1b5bd828f9a110d68a90b13849e4f60a58929771e37cf537586860a0e78fe36934b51ccb3dd737da1097e9669119ccee5fef9307299a2305a4946c0dfa858f58c05cdff9c17c7155066ecc7f62422b04735d12c3f439871d5cbcd732093687dfc2a87a8434cdff1e2ed46f1333a07fabdf7225531bd12c794732c468ca5e1bd9a9927986d9dab2ded527dade35ba8c06d0875a61cc879bbd49d49fd4d55a538d1d9aea4d058c48d1db8354400ac1b01c241617e3e4c2c69fc946a6526582d12076a1bcd06bf153fafff5461e9109d4a806ffd660712ee748d321daba5648049d77cc74b3399eab1fa319fc70d274be84109a90594d79403a7f300bc1e190c122c98fed87565dae8ccb44951c5c4c0cefc70705bda2bd8626d58db229457976b18e046ccf9e3116f799d4df4705967be29fb14df4c2ad56bfd3575e56278d137a28c0c7d60bb6a46689787c120040a0432a532bc93424ea0d4dda9ccbefc18bf676d763d732c0c72062e3d0847ef152b8b0c0eb0d4720f15a464dce9031b151b223ff344434d14c6ce192bffaa9fe7556092411a79c50ba5e2a8059520bd5b7005132814511501c858e31a9bc1e89afe507e3d202c14eede99ea9c4deaafab3061cf3ceb756c3eadeb04141e4e064a14f9f27ffed1cf0ad7345378cf825b2da7e8ebd04bdbdaad702fee8a97d0a2e602c7ba766ffa030fa93bd3b10ab184e7521346d0b2fc94d155db931df5920889e030daf4e41f1941224324615964324ceea552ae70410139ff464c47e0562f93ddf375d7fb035453473b20078c7e0246de386a586e5cc7504c1b57990d50b969d6d0e2cf24a93fd57672dff0bb69c1e949f69590e6450dbddf9ae8990091e0cdd361ea83bce494aa8a4760ad94535b3b3feae4ec1597156a4bb23d5ca5c796ad9e23a5b1863fb9aa34ff680419a3170feeecde116553cc5f410c55c7e69de32519af1676aaacebdeb3c8c06ac1b73aed8c79c8d7f8a12ab3f6f1f613d7d6898a4b934d7721937c9a60cde071e30014cc4b2eb1bf41aa0f316d434cd8119442cb53cb60eecc3b3e5c4ed3f62a52bab72cef99ad3390a37920c13eaaf116a2df8efef050f17f4b9b63e4a58e9e5de891b8c37c44556bb22827243fb1917c96a3b052c0e393240ecb2c835c8073c4e4379b19404b7834b8a319b1f554a0d90313a5a4fc6d4f319774a1ae951e5ddd2e2b20268d53742bc91dd6231decfd3eaa419e02b9ebd335481c96ebac7d62e2d59b36561a4165ca8c7aacbe2524d4dcec1ce0f9cc5070677f319b1f3ffdc81bf1b346e51a5afc03300b717d0e077334f423e68fbdbcee3ad7a131818cb6205ec0996f49f9da9b5189890aef12caafe1c352c17bfa7f029347d95310b2abcf8714816c2c79969a2a1ac2aa6a95981c685f6e647c896b1f87d937d3b9c987c6db2352078c4ea939c4a7a0c9d6af5158d4cee26499c9d42077abb9c6ed858a51fa5fd9753015b3299bcc37f163afef525cc6803c424c3975aa5e73a18dfd3410f026f71b5eef3608a9ca1f93d23c561e9f0c2dcd00de895a4cfede8af8bc29e8e8d97d2bd1926c4374d03534b1fb286d14692a805bc682845b0839784b59483afa285b9aeb375a6689bd65bb3a3a8a7a2ba1b3f27ec6508f83d166207691dfeb6c714822f09c59895c143fd2cd1ba57eb31b4d85def419b013a50cb7677df8c01e4cfde508b0b534d5ff77be571065fe0e345dd4098a1e572cd851058c4321e74eabc6a5e0151fcb50579a9f9239882c19fb523a523fb9cbc095f17af23ba904cb5bbd0188eb032b18bc7a294c4420ca0d0368659c21d1e905c708ee90aea23647cd68fc005aa3d042b0128f0ea037999f38fbeb85c3e687d764ee5a1f660e4b2d60f4df55c0387f74976cdaf95b1fdb30c71ffe4476b6c8ae52008742f608435695ae5b1ab834c62d6eafc4c51bea3c749ea2b77aeca5484d1bd6e8938dbd27ac3e0d2763707b9787e3907676f1e0acd197bcf208b37606e8b359f5b46575fba8f5a4c0194ec2fd88cb65522a349d0991e48346987bb8cb60ceb4c9228de4c2e125f78b8cc3eb3eeb1d583fc3c03ef5fc15d5da488813e582532f7d7ee6d66bbbb51b54dbbc691f262563ae97cf9f89f683f21dd690b1edd8154bfef93c839ff024fcd2ab7a3d10525a551e1fb490bcf7f0f5bf404c899972699743fb61152fa325a67e7d1784da259ee27130d057df7c28214387849b829f3ae1a8b50850197dba560ef8c44d121ad93582fb60a0299e9aa298fba591464539f260729749b7a931ca48f42ab67983fea22c7d82fabaf5e98f338b2a553e9d93b428e3431bf0527f6d48a419b37ce8c95cdd34364be9aaf22753d3f79074dc871bae703a33fa052f6efbd20c772863d0bed051e6e1f6800f5171aa4e2bae56831a040eae0e0238cd4fb26d4192af47883e3a9c2feb2abe862a576f61a9c4535422789222e1e7e76d72790f6c024bdada4f49e2ea35fa07f575e3ab838deb777fc7199e489b795a2b8228f677e89ad0b0b12efb97cdabc2f38ce9a04ac1171549796ac3719618eec5a5b36c42b027321c0a40f37a218e737155b4a27a920c5e2c1112e2a7c4b97c57187b3da59d102145f0229aed58eb5df35106bd01fb280a26a9b9162caabebd365bae812028922128d8af392bed91fcaec714c863dc0e7fe6ec45c79d2f03f9d2f60a645e66ad91779b9587f809e5e8f0d7b908ed7db2489f67cecc9065738774175d008101976abd3a272a456f229736c44bf17eb2bc19dc86ea36478ee2e5e36cf9b88e885f274dbb152e6d2840e2757d0e2670315ac1b60f4db860832f1df72a73f060fb174cff5a5273e5df1391dd7e738e9da49cff72b19b4f3c529ae7e9096c02ae44060d7a805cc3cf92887dfea63041f07490ca3443ab8cbf39001d58bfe77becc87f5fd03cf0c5c4b0674ec87cef288529b23557566174669071dc6cc22b4c1199919219fb572d896ecef5743e2d7a6d1707409d9a81410b18d2959c8ff3ebd38ade74870a3cc56a3c1def011b4a0a9a6203e10e794fed84e8f25f35d3e5134c618bc0b22328347c53d48de4d814c5f798cae1818efb550c269552451cbf338a8525f008d52022faae52ee6393e26fcc62943b5f733e3916fa59779f31f2587058e86f8adcf524a1ab02368708721880ea3cfe5d226426590965a3107a18400929fe936071c3ce77f5959751fa6a5cb7e350b8cd65a26b180f3a5c2a2131a1e2140f27353973b1e42ec83e14bc8c6d5aa3080321b0abef8a095d62e3e6d6071edb6d380220b4b534accf853183050a6561f6e63a2182929f34bbe110d160f27258641283000732046853022c009fc21303c4b5aa2d8fd1fa2d7ec106cd155d4954ef380e9f78dac6c72415cb50013ed6e235e0299a7326a28f058cf3b8186522d3f4ffd8dd08b6e598f6f5c285a6c62117c77aac11d6dcd7bea5de6d4031bb05d9c6217d760afc979e853b6ab37f4a9bdc9f9c893e13d5623f797abf52c9fe7c1514fb3326916579335b49e2b6c6a3d97922bf1f00419e044f78a09b34df5658bb33b4024dba0d2c5e834cec534f281266631f6f5ee524ac06dfc88e3d75ebfb01be7ab253a1f6710b60687183567ca9ef1aae6105d71eadc9caf88455359b934724c94548a890b8b95a0c5ff0f1d29b02be02571d8c8c8428a107466c252a42427733ad528e406f912fcd27095edb784528f5e68779a6f566aa9d620a949d03059d91a3a9dc07baa92980a183d89a5753c62ad99f13ef3b9cbd47dfac0236a36a5a534a27c46939e20eb3c8a2bff936c520d3cd65915a2e986b0b8bd8fb3cb16280fe6ae59d4bc6a88f6c4003f4e20affba2746d39e4a31e3ecff3f1eb5e811db401ac27bab8c5628a77f0c6900afe1ca29470216bf4024ff186cb0cc8a19d8084d95f27ca5ed24cd8dcb96ad53ede9d019177589c4a7b1c090514f667dbc23684f9d6728e924d6b179802a0ee048aca43f9dbc0ecb409e76f150fe64f4203663bf4e1f22df5a62c7ba018a28cab987d3212603bf75329ada9cb0b97082405f9fc06af7e540762a2c0bf1e7d52612d8098d2be07b8ccb650ac8cc809a17419d7d14c177d7c1cd14b1c3f285bec50b81e33a35fdf4014718caedae4ed1ceb6f7cea9473ac8e6319d0f86bc091ccea94b048661e18a4c52980bd753cff352db8ccbf150fbf571ba641b6a7e172253406aec13269b17022e6143aa828a02c50ccf5cdd9be6bc9a118420e3a772222ad65233666756125324a53883b368ef501e8af7ce5a9fc84881a028255e3ad33b30357dfc2e5f4e3e0da2d015c161d3104caae7dc5e34ca9e435aceb0663f0869f23f6f90e2b9538abc501bd49f13a10a3e74cda7d9c0645df801b0178ce77e37d76c50b433eefd8e5945a0a40a9d008dea99230418a4c91b570859713194f237e2884086f866dabaa34a602210989a93a5f6920045fd7dafe1184d333d477cb380877919924f22a41bbd4632886f7f601ab2967a8644960793afa1d58ddc37113468a8b4584c37942ec2ed980022d79003259ee164fe93447481a73ca6db4416ba730a5906138c3234de62fe559bcab75032432340b827f434c35fce51dcda4c1bcabf5a4f2eb0ef73a6b7f7a84ccc6807bfc78bf50afa504b8380b2dd39b5e1de23f49c7554d168277559b24dc8d5cd1af64fa003540ee0298c7dd6f13569db681d05b6c3b1ba16662fa31a032841314bf9873e680226d95246016784fdce0c9cc41d54e7de43a1e3e5415e244923415aafb44597354ffe2f2d831f4d45c29b7cdc5bc3c9099320be80177257ce7bad84cca092b6632e4b62ac1e34d29b647346398d81041b88a80ab78d6c3540e4c8b7195ac6f3cf8ee158cec19a09941d1d9551afdc6062fa46c1b2d4a530166cafdb6b1b64f8f021670d9b577bda2eb87d18c200cfb5169e4f717a30b70c814ee11bf24ae43dd407a2735600369ebfd9fa29e657b8f32542de11ca373689096fa39680eccd81d81cffaef8b04b122a557bc13355eb28b2e5e276814ba8ece94b58d68f74d8ed80ffa5033468d5f8ba66571e3f31c0e0eff4221967e39c00aa05dff02d917f384e743593881d2ed203ba7fe444145fe6d13135f26e27059d57e341958f38c4ad506a7b34ea218d49670919b0feb0d13e6e34b8a987ca6244cf9937f26d2c3a8fc1932b5158c95b3376206ebe6e0836697772ab4f4d3682c6ceac4bf0b356b408ab11c7191172053b2e0a7a6417c4e0ba4127fbc393e3f5acccce71c74dfdb5a7751a0ac977c7df7fcb2faacf2642c15f6a1e6914c9ab9d2c0ea200d7dfdb8b608d59122f8d2ba66b7538fa3eacbc42f92b6f25f6138d1e2901d0af8a0be968d3122f0658513929bf0298340eeb176933013446ff31cb41bb107775f48712bc1936c539a2f30138d6f2c04312d026d01ab4b0440145c33a4c8e6ff554dc9106dbd624c63b6c3147e223cab7bdcf7a42800a6ed392371cbe6fb01bb782a2421239eaaa6a14bacd7e5522f6b40ae4aaed5be82c20a1c369e08f3917b5ab1af281f1afc7552de51cde6b5ff5035773d78e76e47937e142d6fe0130a7bdbe12a7f16c0132cb9d27966203b7f81828ba193cec3a5ae477702897c8649e65d7316fe75ecd9158a99a6b0e3726a3db1f8468549f2fa81e38200c15b7c4b8f2c84106df4858cfac0b124d3b4aaa23c52c811ce482761bf05cf99553cc186636cd8d4b144b4dece2022d51c8bb896cbb380787f2f0f17e5dfef2b5ae4031b9d516e9c50f351bf5a348773d1db4e6be6595a52ecdbf9637673a5fd97df6faadb8745fed408acead09e77aeb449a5c47ae36065364dab65a3b7f3c2f476b5d3df88c64e8786311a32df3d1196bb0ab39169ad432732360b51e12031831f1e79440bef3f5a3dd344f9ef28e543a881a7556260a5fdf9c2e889ad156263d29eebed4f2495bcdf7d64e8120dae45ad1525b873a57762f381036b3c9eb50975a6f9e1e78bc05abc70b35fa72cdf1dc5c92b7c0221b147973ed195cf0e985a5d4b9e87975063c18d98b9f586f60c3d7375aa469581d7cd07d056b5d49e47ea7a825916f33d2212e4c648bca99cf3a66c40f1c8c6682cd10e7bac24fe0c23ed01d0da0894ba2f5caedf2b64af5de15687df2a4a99bba8713021a8db3dd531a990400b207aa1a9aac841abf2f1631e5ccad09ea953feab6173a1ef5f034055ddc3ae975480c5c4ff60eab2002247a5f2b789cbb38cb07ba495ca0d056286de288a75ce6725080e4c047264221e657dd99009210db9e91b608ab5770f3dddf61d3f448d1026058d6b37e6a10fb38e793c061ddcecc631cefae67bcb2c58005cd539fce8fdf0f5e97010fd348257f823ca6f603081ac6a06268b6f3f901cb4e5e3659452dfcc4a327b414397cf036dd88ad8c0736305f51622b7809c88ffc2cdcefd68c7e55903b59bdb2641edcc874f048c0567f37b620bcf5c423b3ee14a7ffcffdcaf0ad320059ba4efd6aa37be3b59732d8c7460a193290f27fca1d6f02b51037323a945c5aeb7a84a21d3d91415dbe2445c6faf5e8f88a672e71b9007a60274585d46d39a22a8eb5d21f9584f2c6f829757be4d80d23a9b8bad31d3b5690d8b1337d0d033cd9edbc3d1e58492bef976a944e110b54175da6ecc3d93f4e7227e0aee4f3828bf077e6cad2d58919c9787de2d3bd3a86e9b0c12fa254b9775bdb9e8086baa8aa70d22c9a079d556ad67fd81a5139442252b8e13ba686c2b2e1c078c16b8afb03c983ecabb7eebc1fdf1ddc1d69a084c48597f6b3fe452757991ebfe14a9c27e5654009203e1a041390501db089977e744d086cdd586c19f573b1c09d1e79ddb724dfdb72a5c443276b8076d7ed3cf0bc3440c8aedeba48c9692476600fcdc6d5d348a40dcc9f17c2bc870aa7cd472f598ce9198d919693fc57a81ddf1197e187cc226d8a1e80cb067b9d7c74e49cca6fa7c16ebc7996acec73d9f8879da12b012a4f4aa1bc659e875c2f37b619010de73aa3d0e56938a3b35ca28018a7b9173cf184ab85146e97841c7c44a663cea9d7f20b5fe68be3b8ad856966f83157e84fc55c1e447d8d2892197ec857811e4bd4582126da4462d448e7e9fc5fc8fb6253d2b654a6e822af0f5181c0a2e36f9793db7062c5070260f2ab71e82178ce457efefd83a4000d7af7796dc207a139798414423a72356734de9a6332790ee3bfa10e40655e3a4aed6ff829b3e8160d9b827c0de57284223119e5c1fd716c6c959a6975ba254b0675b3fb15c4f17ef83f00b4ce0d7352fc9e82485f947bc7a8eda3a2f58de33b13f3ca0a1267c4e4bd4f2aca78508d4cbd5ae5a07a7f5c5d84c7d27f7986eac2993183d4bef698869248dd6aa961ec9e972234e1d5ea4d68f601f76ff612c6b580cb14b86a6056be472c12f41cc5927e7100725753aa2a06f0df0db5515f8ee48d1a7c513e4b424c8dafc002832a7c138e09c5efb8a7013414820b534bf7d310a8d38c4b043644d7df48b6c04df7d906bc8d59a84f39e9194fa365b6723c986446eeba77a7906cb5efbb7200014acb12d708b067b88775d3bfb43f85840db1aadc2c3b611ef7f248ac555bd40f17c774742ef9caf9cbc8ef1e2524cecf44f46c2fbc65dda15c47d1887776ee3185b1c281cf8e4f1cec0c47690d7f393fbbd8644f3449c2f768a7ab4c730c873e66e8f00214bdb9283e78e3fe475da7fd751a9d8aa8c42f0de398ab37b6a26e5cb3d4f4b75e5a3b3106711a2581853a0d437a73970a85ada9f3eba10b9fef272f7a875fdaea134d41caefe60911f5f9833f4c0f2c1e83865bbde81aa786743f267d8532b407d36e9e80716322c1c05901565f637f194ed8ddc12f8bfceae8c9756ce2cf4e9c7ddb50de2f3e0ea50cd40cd370ecd2608569c5e419e404e983c202f666d0562f2d1cca9058438ffe59ff5155a8265d8f03c684739adfe28e7d5ae13d5a63f8e9d7b2aa25ab912789101e7b9666c396e5587c969637a3ee44b0b2f9cd626c1a786286ff4975605f34379fd9a18bdefd8695e54059e968f59cae18a7abf28bf80d5ac33f1ca9ada142206d93f21c2551fda2c4b08e4590042e27752262fabde2a097db8910c0f375b3a25eb6189dbf5df9d1517bd3c1823e2dfd499cfdb1fd94f6e5665d5991cca0ab8bfca5d53fbf5ad6386749e89a6d90e5774b692d35b2599cc20ece675a443ece01cd9f7f369bc9a3a4b1e633051b857aafa23ed57b57456eff2fa805590ad0d46042c98b49d95b09ebb8ab681a8b76c97be436bf0c9e62b4610dec2198c4d55638228478bfd133494e53143eba0e9ab404fa46d41e1cbcc9dddfccf3f510d599687444989d1dc862bae2c171da2b68b10d9d8f3481acafa5f4fe7bcdf825cd1d09ce4efa5a9a71398c7073ed4d2315e59e6519320d82779afbe5c14c5f80206eead2d3bb5d7407448e338a2c971f4f378bfc6f617cb84c5cdca018d92f30bc9380ba5367b1a68994a2ba9188e172dda23934bdd1475d610d5fe55276bdb115f534623814a4f7e51b72112feb0f5680e3c415ee14effba436032bdc7d19bb1965416d71595828a1d74f7fc2d0f3ad7177216e57600ffeb0efe26a8074ff4eda6adfd246e226a1c2d42359732f251a2675e5cbc3cf56994671674101fb27ba4d6a30ac5135a4064e6025cce286c2612bcd0b4783693d2e96312d20899f1c96a2ff6bccf6d1a687ccf5b5686be6d20411177f74db77e3409403b94e53eb9327b1505f46609bc917c0c6e7e132b2719da2b3b7519a19e678e437e5bbd7753539beb1fa9ce8463d073088afa4252727959cbd9699ea9c3a823ae8724b6894cb32455b42a00cccf42a740c0c7a143eebead81b8b6d182571647eadcd8cf28e782d9110ea2b6d03ff37e75af6347275a435dd395ec442c5dc62945891603df93179ad1dc5cc8235265160c86dc34343885e27f0bb9585daafb9e0283006fb6a62a83bf59d90baacbfd30966c7d645a1b7d51c501ffd51ddf647eb7e336f85ff6a20d81db21a3e98aa39e03e4daf476a63af1beccbbe15d18761dbdb4f5e80a17fcbd3017a01d2b00e46521f10950800caa5ddf65abc04644bd8ba77c39a30c5ffa2d95620208088b14d7524936120ecf9b3efeb3c1cd16da9f72e0081927e83902b847ef2855de6e8fa76f813cbf091b56093b8b65400ed5c56961b739edcc5c5015919306614860fd97a1d4b8fe0279a5f369a82dd294ebce961bf1aa0219479c537967bce96fb08b0a37f171bee34737dbb098dc5ebb16dd9d92f3356aae20cc39083312945d991801074ce97122d7f4af803e94b6b295f241d28e25aa5ed043205249f40ce0d4332e7b755528d8c97ebc5c2db1fe52f37234b840de44a9175c32317e3c272be4888f0e4933563ad995c50146e91165fbdf04f934044b2f0aeee86a2da991c371ee1f28bc94adf6ba0babbb562dde4c67e25d122e02d63f0b01486f087e33e4dcd4efd1fb95223761cea643dba78e35926239a64901eb1ded3c61834af45cc42917c268c6fba3d5fba005d93074b15390421310ced79943c3fe5032a50dcdc9fa21b21a5719fb3b97a03183d16325c0a7bbaefddf5c35a1a85be2ef27ff9a378be3fb7f311634e652f68f784b5d6d168b45910041695e8bc5eef1a683e1be52d432563e1d8fcb1ee8c19c489a7faf65f4e4a0dd44e0344dd7969b5a2cbe548c2ef153323e8f0288657608cf3e996b8aecfff17257598159da5fb590e71fc6189ebf5ae1e64238ef93bcea62274047b40ff28115f911826a213cec68c19fa0e8d4578af49acf6a8ec809568744a58919dec5b87e61ca87ec6c7682993b357f63f26be6abb323606e6a3178c2a37f2c51b111f46e9670fc603e715c017270ab143425dd5295f1882c18bdc26dfadcb2f0a74cb1bd064b50d0bc464dbb457815fa3acf1548b17828dc3db3707f7d73700652715bf1a597b5d5a0fda7f4565719b36cec676d3d10048d0cfe7cfd2e2e7958aa15eb43f02db8ae2ba9f00da5de102d3a93e6fc665ec25a5f7941105a030f058097bd72ee68090a841fdff0e82f15f842bc9a6ad2470e82ab2b4eff8df9330c6ab5f3fa9acf800757d2f6b2acf9fcadb13bb75f3d3fbaec5a70c8380ec4c83a70696c480216f6a8a846961a9c413ba909eda1d16d1ad2e11c50420b62eb8f0c7f8a19d06e11bcfca21f7d610ef45b69af539baaef6b8c8a02bf65b9436a8482788299eb3d16c12a512c62786abb78a625eab39089aa5c2b725b58ff2b4bc3ac724575b05814206a05ef1861c90dced01355361d834edb8d3e87381266658830324a070b54202126879f66b291d895141037decba8a5b51af8b2632f8a255a3afea46b6c1f6ca5ce64e18b95851542a12049b76d06c2c34e61879a32f799ce36975f168772c4a1adb9fcde27a24e17e18dd916abde72d2f9df6059bbb7e3b81ece4f06d6ac7a3726b1e43fba59c0daf4f8fd205e8785446e07354703bf0760a0d068c6cf6f82d8569887b0792377560315dbdf2ea6234633961b9108315c77201bcf04a606799c9a1a388f4bc6da72e0355fe72ee2947b38b36fac0707a5baeb630f7ca3f3f098607fa965fc816921cb20b1764d4c816966bf7271f1643b1cf58b6d0ba09fb61770e4fb3bdbdd90ab120aa9840b343983a56fa9567f2195728b8b601ae2a863a162b9e77008ffcf73cc4a4f8c30d5c029df35f0717434a774070dd39a5ce0dc2250d0cd6725bfbe1d76178bebd6e193683cc6fad61cec827fd78bcd510c53b2fdf04951db6f570ba5e6b3ade2d2739dd3b45654f9931e783adcf75c60c365a668614b8b97157e11db1d88ee477571dcf8f4f622005c9082b49ebb6eb927bab3a84cb80d985e6ad3c6619c0f2ad1cdab673194d38724252e0a6b06374d7eaa970cdc05fed5213c8f9dfa1be804e56d97ceda394c8a7c2cf974edc343bfca31d05276fbd7df778f049dbba130008380b18556f0d4fb3331b9f2020a50d9007204d5b984c8f7dc1660352c3ffe0ccfa3cc4eb7f8b1e0d5eb06011ae0397f3288534854cc09a4e9c3d931f1c35c877628c4b2943a1ffece2b28544aa3d8b3b9356dcdfb9fd6fed20e8f389f4a4f4d735e1e2599bb4e12baf501ef27c2b0c69d76f2aeb104cd27d5453b256a9bb65a73ad0bd2fbd7ae400fdaa1806724e5d630cfcf268128d3608f06cb9e0ae9e3cd20a9f2b2868c3df261c629817e3ebf5448040a57ca70a0b75437bf4348c48bdfc02d5a4f16d90a15ce7d0f30989f70ed69c5d4f3f0c03041c0066591696974e2e1d27c5945315b475be62bb4e85fcee6506dfcaaa8717896e5b2f02ad36eaf1f3a67bb7930485f64410965726aeb57f8b6032c7b4f59d0fe5e92cf79005035b2a787adf38e36804d87e4d307439b612aef5edaf57c0e1e69b6a9e33981a808b0edfdb0ac24c24e6865d74cae2725b60b4ab60ccfd0c3214690d821899faa8ebf875c5241ed696708a1c7b32dda9a92944a4f274f7e6ad3b2a3d679372537175ee52dc58015aa1f68a428ea54d8e96f12f89a2954099b72a48c36867ba72fea12d16aae31a13cff17f5c91e9c2f6f15c4942ea99b9988aac15c176c33548f568bf0d50af2cb2c24537fdaf823e7161fcb89de40f336a1735ebe93060ffb5d1f989f3cdd19ebfaefb0508f79768caf3412a1d4b200970a9d8772c62c77cf3a1467288c4dde8fbca5ab9328380cf71239ef6356ba526552c0677c76803f2adc34ff49247defc5a9a43412d4ef3c1c8c04abee4e8bbd164f735df2d7801c3820eef421a73c7b78cc50bb93f38b3bf1ca7d0e6fe753f212d6801d07b00c7d963de0dbe7184985caeeb3b16229a7bf1a246612fc7a6c5b1774d6a4282079dbe3933ada52504e5122058faa4dab4917b0ec2cd223b3455bf55a11dcf26b00246d50677f433a7aaf693204104766eff870461ac92c24e69f992886ac5e5f45a9adf61f9d4f622cd2d8bc916410f630cc3e9ddf661e70e39e8890f2d314bff939f1e5c765d8792acd4daca7904725c9254d16c5d2c25d3deb1fc292d9b702eefbc86d900f0db394ed4b23bedec8b8b0c70aedc9707c1e96634971a18f753be7d8f6c1e987664549580e43bbd8891394d0db733d404f575e36321b7801c7aaba23db201b841da84cf6d758228d35883ec2a09f7146b5512743c89459ac078105ea0bf5065201e97cdbf9bd63b21b78ae430536aac225d532e0b73be57ea68db6eed194d9451ac7bac2a4c5c224a2efa35658d1866b705ceccbd3053c1c9c7ddad5a1d9e1aaf2bd93aa98864b3dcef8384c165d1a573287f29430543994d6f66f8226f1d7156398d905e4ba501b6b559592b69f3c1f0d72253eca053826535c2ded2260ee6a347cb8b7e3c4390583fe1035c93fb1bb77a59923fdcc784d5aa3f7c3950725009775bbdee934b0db1cc8f508fb78e4f7d458e99f10a9878386249e987141cdcabde571bbcf32b889c640dae4350b723678c2f02490b9794997dfcd6fd67c98965eb0a3120bcac0c9f8056c09c20d5fba8e611f06e63875141cf2bb72c93f7b8bbefbc86800e47a3e233978e1f97b110500401ca6734fe92ab8b3641f5a77a486c03c99dec596581e6ae80d15eb6d61b52c66eb3cddcc6d245042894faeb2786991335be649d640afddb7e1adba4db2f8f6b59410d6e3175c9a0f0de3ebb3cc095eca356f72b9a6541d877a6fc9b3c7d19c175bf7750c6b6c8a72abf6ff22ea2fc7aaf69dff340c530a77de55e594f236eb8e932398b7c115a8021bc04b78c437b876ee5a348a0a45880758b27edb5cb13da9390f70aa9deced31ecb8b6744c62672d8e4bc25a689f72810655eab03734ccf9bd894859672a5039761a02cde6c0d573ae04fbb4a3cf456ebcb14020268b1165cbe25787ff89c0effcc4d5d153ddd325a0b84bba22baba8d5724422330228af474249ba646cc8c85ff587b89c429606dd358857875e15d7adea0b48138e10363bcab8250b2ac2e9ff3bdbf5f5711774327452092aabcf308284367680d23158e3ea7d1a8332cc494bb550bf42a94f18427fe50058097354b3e3e7b1159ca71ecfba2e80666c447c29115bf0f28eff9d1bed5ac80dbcdd14b9b8b5faa6c369e5127a940400dd59f182cd20556872d0bbd5d0bdbe9837b91e45f6ceec0a31b6c93b0c70e9a2712f925b38f1c4cf63af64c7a795beadd7bc919d05321cc2423f5ff648107faa05b30654e64e73825714708e44ab1f14bcdb3f1aa2eff1110bc30c525d891eae85e311c2e1285818c5bbeb324dd1368f51548289af5fb702fa56e87f1abf1bff15c5b6a807d0611305bd722e9bc787fb8b4ebf79e240551e679a6758bb2a3f2b4fb23af8c62cca1af92a7c3be9da00e2bd4cceafab85b40e0f0578bbbdef74c35a139aa8020f7ba04f8b6b1cc444d6c39608769d6376f98785e855d2cdcefcbb839a926508a9e8bc738b24a51d32c0452f3765e8e7c9a6c3948206f81619d9756b1f2710bac58803725f87c901b09badb55df6a57e65f0f72bb2db3f266330e9c3854f9d40833ed2cae84138de488aa2ab293d928152f75ce28e63f2d1845df6210d7150756b7a6ff56ddec38e11fb6765d17a7e17da9a3bd0ba4a17ce0bea9ee6687e09d44b42663fa8758018a23709ba5288d5d40780ab3cc02b64bdb7f26069e5ebcfaa85ba2a986c7aa59ac031eac3379e87609508dd6594939236bcb7fb1246562575a8aef0a00f30fed4a25eedf4a3f9c936a76853a00acda25ef02f212879afed056b7c14906791bf1e29c1056f82c351867ff56823352530ce460f7c6dffae5bd23b5fd1f0c15286fbc9ee722a0c2f76111a2ff2ab8afa5b5d6a0da3d6c197fdbdf4fdfc7c591bff50f39cefab096baa6eb799319b7f00127c15be0372517983b28743779b5d1a5bb17049cc17dc5188de73babba55d96d8900aafc45b3622ee601c6f5f2e85429ae9eb983e623020cfe6030a9c48f4ebdc1bd0b5c8ae989e30d19ce302fcae722a6c14fd2345da39a307adff0069d5231924832578b7078a7da169ea2a2d32fec96240c49ef620e837a85b0c0a4984e5199c215fd7395c882cb60175b3e79e2d4095f7672a264e6b7e03b1f3b94002641c13576f47bbf0622758d74582322053d26e23a371b47e7c6cf59d0bbadf243fcea21bca8f4beea458b60109154f053afa8da732250a6d5e083a4803a157c50687c5e371e0ecec893248f79e21145daafc40b14290da71b905ac819ab29385460c8c6f4e2f8ca5885d59395602d1de0decc2946b862c2149183f002b74158208500f84cfc1cdaa6d9e0ffd2eb31b5ad4584b02c5a77936877e554d90ce54b7a774bf747a460e6abddaf5e0c515b210b99e69561dc83a8e313f6f20267aa477eb73cfb9fefeeb02024268b7f1217fb23c888303614887560e7ca863f65faa1b7ae9ddf5acd7815f601ceef0189ab802b6aec23448adf17e42050b1f15aa4509a1cc803e9f471572eb61d6ffff3c48c7a93c7a3f197a712b6cd2f84a15a444c8120168e3a7cb551145c3f406d19d78f5e9a01fcd649c418db318ec87e9ef41d1bad44db30c2db472e4a82c1c3690fafdc8cb540123c5927beb547bd6b7942e7b4bfe0b6aac94a9cb65119cfd64de683b9b131da6f911afc3765aacf7b519c69613de3ea02feeb87ebc7fa7e788373f2ea242ce5ce3f1da091e84946af55dd9d02aac50b52ffdf5af0ba66f70d55be41fb4b5eb5875b112c75d4a5c03ae322fc819747aa6f96a379b43b3a5367a5b44bd7c745ae2772a94d1e50eeb612ba87c654e7d28132281634a16f7898d13d0d3917244894e983169bbb5d2413464863af8129544d95f9b0765527721365bfadf4acc0911d3567cf4a47a5424a136ea54f24b9cd814e0f6a1bb623c28e5b4c43d4ab5142ccb443221d3b5ab442e24721e92027ff3dfe6af2764e86c04a50ae2118403b95773dcf58046d9e7a785e0e3fe06844685459909c14e62364c16bf7720111b10fa23457c8c69d5261eea077aece59081b5723d2703fc975c7a9dbb3ab34b6925ea353f66a8d3da105ed899d5f2d72690465074ad55e6d3f920211c4f20fe628e13a2e84f75493a5aa57f7f8f431fcb6ebb4d2b382c69993a3076cf2163ab8fcd5009410b4fb3580101c3aa0822c5b79d2a46d45f9e3bb26c4db8f5eb7b4cd759cf4c632e033d9de341ad3deb293401f52bbbfffaf91de1b7f6b6818ef7b0541ed306308d62558dd296a417936a5a9d0def14d75e6f287c87c451ac89cb58346897af54d3f357d7e3b277186eb083ea19d65b89ef29cda164e3336756bd610242dc5c42b3b4bb65ea06079ba2db5865a67f35e29d927ee4e924951725eae25faa28f520c4be4500c46de26a2fafef66c8323832a75ac425afc75d89cfe627fa11dab99b4479b3211bdc9ea129f421c3b294aaf714c13f49bbbf9088ca6054c9b0acc1634cced9e890b1cce3d7c16a3d8536dd141f068ffffc820ef5f7c54fbc645d8afa0923ef943dbdca7cb1ca2ff105fb712c372be6eabc0f1fe56fe3509fbcbfb9d35b19eccf889c9be56726cc0dca7201328500aa8903082f539bb9ed63456d3da3bd5321e9f48da1bb91c5684baafaeb91d70b677ac71f550fd20b59a0b0647004f19ce287baeaa499bc5a1f155ea5177027e4baeef38e497fd07f0acb7b4b08ff7f7205f5bbca6a397e675490e8779dc2294f15c7e00c97900b4d5c7ae26b6c951782978f4df397c160f22f4bf2856bb1f290a260380d7756ecb50022f5d2bdee75847386593ae0b71c47df4d7d8341b315ceb1ed8ee27d44c3bf519309a43850b63d3f865a439dbc7074d97b04e407cc23ca2566578b26290a636ffed7223b394a8caccf67bcdb46da865d7a2e1e99f25071214944016fd27fd0b81a15037d2818a0f1c17ad54c06ea0d6a95af4a12cd9c4e4fa98101c2f69e725e514f7d08dfa210f93f298625e8ae692c9bb4ff5e492bc443af73f983ee5bdf0d65929a4790eb73502944229fb8e1e83796d2cd8d2afec8d437e32c71c41e45605c2fe581d03c0c94e5a7065787a8bcca2c543f41caf9ce611cca574cb10a2d6f01eda86d8635f4a45ae3d722d6f00e7fadf25862db9a0aba86274b685c4f589504a9a1b74b3bf1c1a022ad3e81200306f37781fb09cabfdec9d4a5c173eff17b1298e1ad30cf25be0a756b34eb2f8d3d5a69af3856e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
