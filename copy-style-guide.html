<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"96d0e37f44f78362c67fcfc204a5387e5e9fa5880f4cf6979f62bab80a05328564057ffd9f8a18e201a0b702703495a170ce698500648a9e21b8cea8cb2ca9b25bf14bf4444009aeab3f28906e74e123e5578a75ef0fb34455babafe1e810a665b8eacab402158113ed99a798e0809a8752e751acbfdf5745ee7fa46bc1e46b1a8b803bf4042a1fde87fa9b0cb21b9471c7294809fd93894772f54e3b4cef13d84e901f1b3930673ce03e1f584e7bce0f37644524d8ae4a29c3043f8982bc7c49692f6afc0cfdb0f0a5329e87518987d7b01279e0444ac275c632d8f693c22023f082b7b3d821f7e83b5b6167f6959786b641ff0b7ad704dde48d09e33d837362d170f5e823617be0d532adfd4dae7bdcd1d77bc318017929ab9e612472bdb4e696da34533c7640f6953094a17d34c2b85cb4c3bf3ff796007da58107299f6cbe2bf0b72fade8058413b0b8112800892500ff8a2b4be326afdd64713dbc3d4d10d5d81228fd5ebef7757873a67496ae2858201dd148599584c5a3688fad96e1a913b08696d3a2ae6c5003ab4904138412eac3a3310270bd80bae4c1ab031928a7b4e44b64db237325267594edb127f2c3a3713e224dc513a7a61089513cc5103c9959af212e15312ae445e07a93c561859d9eab50a0ab874da67ccdf4df8ebf3296cc5d7ac08c540160158c924a7b80fd411e9dc0d2e8adda09157889924a0eada54ebeeac0c7106c1a75917fa1d767e17824c9c9b6f66b73e226bd54414d813080632d0f6105b44db1b2c77426c20d21cfdf1027df09ca2e38d33351098234ae10493c3208f536a5d7bcd6fcca8e2d00e3f3af6b7330a7e5cf068d08cdd32b272ea55549370ef2df34635e2d864cdfb250f2c5638975a89bad7a93828096f1a4888688cfba051926ba928dd3060a5870b7d885d097bfca6b104108cda50f20c5209b2106d772d2aa57ab36f10b1f7643b3cb55d025d286c3a157b3f2f39eb08345c33f11964b7f82e30afe2d029ef0d58faa9866bd2ef21cc8baf80e84e58ce9b0f28cedf9e7bca129f525a589e0e27d314d930047ad330d6571956fbed1e6d7127934b541a54652dd7f72b6f0a6159e4546a647e22b16500032a7c2b920fed74741b1de033c4db2b66e06fe43271dd11a61287d74c43295b101c7b457acebf2826e6b5614fdc4d61a555e3ac5690aafe4bae6acab48f10f7640f7d4f09817753a91121d87bd850a6e5dfa35ff5d0d1ba809761aa9f878b5af26695b856221f7747906d454ec577828096e91782992938d3333d765efe3c5dda06ab5b5566522bf8d447107d4f59ac36876abfdb548599a7d11193389dfe7eb7c54cfe498c848e74ee43762e342071324446f783811ea5a1adb69225641739b49be5ab816715f299bf6026b902e3f0d705d56c634f8bc910065044973841a04e77c0e70b800f5138bc9fff6e6af48ffa3d3eef517dfff5f26c67c35bedb3462736493d2a42ca47168a6dd443f35e80c22ee59a294d6b22223139f6174ec3d31c535420ecb69b8c7aaab20d2ed7943f7e84d4fde3cdd1366e59ed580b5a5d0bf966e79bc138d8a845bfba790d9db2f2fd9d65ed641c1afb2d0a7f44587662590fb794285c6d7f51d078ca0c4a93f0bd91c5a0e61cea9e1aaf8341815c98a76cb20ea84cd44376289e0ecb2fc676a8dd154fb0741c2d3adb309cf1d37bbac83f4e81bdc2e0073b4b1b30e8452573c18853140d0337badb3000e7e65f5eccffa9bce0a9b285f87c723b10c50e936ba8a8d938bd2dd72ab850f72768e2894f28a0a14f40f34ac959539c49d8b484fc548c39649b16b406e27fb1f8054bcadcb0e976e4dc57da337509723cce3ed37face83a3bb585cb8b4e2ddaedfc1e90ea70ff5e4a45da94ca1204ad88f4bc15bed82a630819db5ce10d85060ceac0750b50c767206d894a2a68f75b135842116d554fe7878f5ded6bc8f196f58f87649ea7894c48f123080bbccfba9bb378760626dc88564b02599b147d7ec0d09f4a9e1091bfd55b3db755f31a657b8b225f618c0209a6d2ed40c31ed88b13fe20f4901ec766f2ac8805825f7a5c690eef398abe4d37e0b34bb1ee31de608a1d208ee06537fd00fd1ca3476ee34414a8c162ca3397977a7af08a7ee7af0a7d8d97e402786332a9fd535ce7ed9f77e6ddc64c7e209148da0a47801e80bca1f7ce42ebbff0988aa83da895b831be6a196684c3c343c80b1692195bf9afe7de4dee040784666c480eaa9f3fc58912a291e32fc7ad089af3c05938b35a762bb29610955180d1e0d386af3b8397ee8256334369291bfb9ced9e1181e81843f99ff386e4dd4df3d9ee98a2a5fd558adb2f91c78df0319eaac33f0bf7078de1b8278f002735304ba4f8564c456187083da4617e02588aa0059ffb23a8e990f49599cef74a0aef5d0210844f3170ac329f5aee95638d8374d5a6235692077a13489f4f78e59fd285c040d712d647836e64d8ff1bd43a523c62c85d104965443a5927be6752a315cd0bbe500b8f2effeefc0b061502ff343d455b7d480d05949bd3536dfb8718b65ad07e1a95239a226ecbab76ca4e3274c7cdd4ab30bf3977ca706d4e8ff5dae2adaeceee9fab78d6024959b1b2f8240e65cb0ade0083f06faec88f94feb6b5ee808b82a0e2c94b65881b5213f45376b96754cbd37e3962a014206400624067d9a24727174d33f1d39c325bc3ccabcb89ce5449c1fcb0ba538e4cb206753271e1f607e98af11efe38cd05c5180e2061646ed785683b27f12b7b26d18c2f5537f660589eb6eab68175333429406f133db97026f9f81691dbaa0451e6381001cf0bea15f82fe888fbea10075a902a13e948c4d608c7549b0d92364634ea92a7fc1409195cc3ff1c6eca32ce7ad7d62a24ca2f046655b8a777641ccdcba7d4c98c0a95f310ae8bf9492450f3f52a6c0e5dd9194363ba5f771f5619299f79fce7ce9ab2f63cab60a16fc90bb33680f57035b9914ac10fecd645e9243d72567bb1b20b3e186f94be47414987b318ef1d098b8a2498330e6533a5a43e693252d39f52901b10ded84b64d79b426ceaf29b273de811b2091b836a8cdbd67ece08212bcce70be14b78096372cdcb17ae935389cbdc0d56f3098c8d2351ab2ce654d67e1853783874bb6f9131dee1a79937915c96f1248fe7cf33a2004321599d371120fb0481b16de6ac0ccb8b9f2d6acee340d824e370f47652a3b2cdf5ba0b6cba5bf49d1359e723bde8b5e83230a289fcb5d865cead5c6cd25ca15889ed7eabba260633ff163b8d975a873a22c1f8828e482d0ebf01e7aeb960eba737cf7d243c5aa97000d059d56436d097a003581985ffbfa6242a0a8fb685034bdaf2e12299de17f132886c632c44fcae0af8c2c698952a21f6b7a06c75fa2891e08ef70563debc9ef79359c18e6c724eae65da7acaa91d5fdedbb79e5cb935de7a9f8d1f935b910d948edd2a369399f28c1f62ac15b3bf4ce5f628ea0c8297014c59bcd1c41611c4874dbd0aef07851f9ab6ec11dbc4af89061b31ce4d2f42f559e5332f03d6d778e5e1c5728fac59b5584f903b59eca92126d2fd3e0233d0d6b010dd603d1ed90985935a6478433fd16482160d6ccad07e3f3d8cafa567c2fb2ff29de00822700e020347488e70172dfb399517eed5923c343f2f1ca614164bb4e409f46335ea38dd653a0303db2a9a61b01242db7dd484fc3091e0565adbd65d2d3340e833b929bc8ac5dff261f901a7aab9c3384d343d797abeb86ebb5f0155f4c041ee578acb000a29ccb52a7d8155624be41bd1ae85e722b9b756889464c9ac4db05c16a3f40c22ca55c68b1ed8860b02c36bbfe1254ae0802ea275668d7d335454c6cced299cbf46bff7eb0d250673d0384e38e564b741720f33744d795f1541c30fbb01f5f380a522aa1bc57d73bd4a99a568652958ba6be858ef23fef97e7a85aff9461199c67ed4d17b762926b66d54f025a53b7ac0aea16add35f486a0d9e3a3529d945963d0264410945a30be61a4019a9e4e08656fb7059a1b4163af27220a285991d689cd4f9ed659329394acd899c850f624e7e0285a9cadadb0594ccc72088547458af3012446f3c05512b56195d6864474a54b0c92a9c7bfa93b899f1bf2f995da4e76440dde4c5ec6b20a24cde184e53b4fccd13cd29c09646bb1dd39775c3b7102029ffdddfa0e2eee8746f367b697b48ec40a04b53ecd705ec56de817b7bca98fb8499755e683a19efbd2524f5ade9555d6bf019cc0009cd1f2453e2dd4e82334138be2b6c55b2502ecf34cb5b3a48201c18fbae40abb5674a6c9af364e8db93170dd5d8a1aeda15c575fedaf46a9eb7f10d7084437393cb766170db36577d7a93238867e140ad493c252322eb0ba0bd8bc196ccc26a7532d7f0815881345077091d7f729dff7af2a646a972696883455721569de90b20fe4dfba164b896c6987fa8cc9ea8d61dd9d00a5fea3b06b0fe3978c31f38591c45110b5b918b6945ebb9be2fcf7521765b8c561039f42be65b1ff47ac6eba97f76fb6e51b49e2b6bea2ffcc45f264bbc08993aeefc5a232516a587630c06d1e967db2532edd1a0056a141acd98a60984b35b878fb2b2bd0c92ec5b370fecbc5d51b788676f0bd145d7962eb67af569a63a5ba72ceb216b9479213f6cf63dbf19b06354e5e82087807f6858745a8dab050def714239e014ae06771c2d805c21aa30ca6ce6d270095f4191f4c8f9e0b70882661e0bfde3085848d08ddf222404bfaf58befa5e14f7bc101de21493bc415efce7d110f0ed5b7d987a9085759c4724543b1941480df12dd4a5117d74d0c3367e25cabd931d6725c9593474cafaa6fa5fab4030553946c49a0218c963777cb56565b67395fcbfdd529d965d578290d6c63820dd359b072d4dc7175e96118d4a17f4590b7ab52d3cc29896bc5e0fd3026d7d659b489e815f9a96753c65ed59f9efee4f6915278540a30c8e190901f265fd49b09794ed177e53059f38a91c12cb3c2663cd606dad11884b25d7aae21af21e7fa51d1dd12ed35931310230f51409155fb473f96b56187330c00ddba6fe4b907a902515df2ef97ad6ffc4424ffefed6bc4193eae0b9d452ae5570874f050ac16b26f75224fc8ed905644ad9296bcda388c8013eeb604f65801b41c1a4cde8d2034b52078159b821f466576c84083ad69f3f558334f4fe119d5a9fb3af76366de3634f4da5f64c749127d338f9fc06c0ec13c4539ad7fed95be7fb6ee6db11eff3fbd13fd394d054d954840879263b79dc373650c15a2e45694985f9bb5a6ec7266594cd581ae86fcd72cb8cd06d9d459b149f509501c3a3e358775a5ebe06d9af8b16e842a798c2808eec1cac9e0ac843454b7754ede7b1cb8f72deb312022d69694ee451e58174543746eb784e1db497938ce905ca894a52c6910ab6f605e15c84d8aabe315581be99005ae310a6d1c22c49fca260bcebcccc4e510dd499040912e9093f6dcaeba6631544265905f1ab1949681f5400d9207738241309ca5e7ec47ebcb309fcc134c5ef3410610819036127949a1724dab0793daa817acc2834513330d937bf709f1c54a5ca6aa947d3ca65468ec5388dad02bc7482346c2be2f1a63e2b9cb57130b63f82350a0e76ad987634388d3a7ba9620bb6b95723dddb68c4d399fcc324adc067bb742ef76decd505e773f6c03261eeb2e1755bb3374ce5bf66653f4019fb741ed9d51a32b023ceba82d427abbdd2cf1334937badaa216e9c4afdc7c23e0c3681e93e9c3536d26433cbf93f7cfb275d98153da4feab3682e75b01995248026a7161fa71cf028a0fd221721b85b1486ad70eb4b5f42f14d429546b397d59f20b3118e7a49b116b8433ea05d6aff93e8c77d64a3b6b895f25391bccce4be158ac2e2bde402bdf6c4c0eb89caf2ece327cb620ad1b3fbe61b1a461df4b31914db2fd65089309193792fd0530496bdc2c179d29981223589b2ccd6974af02f0a107eba3c59ee26bffc1cc908d493b90077c4bc4c77f25e32f2c37ea9a35e0c83ed7dcc3fe10265ac95c5da1a9862ec4ce1b19c29c645d541a56e57541d2f6d0527a5af38c25e1639d125752852b7d5e576abcb0639f8358418668f4d623b61a2c2a934286a34561c63930e84c878b8849629bc9a9a01bcbc74b8743c4df6201437e5439da5c066e1c43f8bfdb59aac6e6fd238127a529f8e362879cf734160bbb48430c2964fc99d444f37508e09b27e19dce965a276c0e9b3c1dc091908e5075f6b77085ee8e7e5c24248806bea4d2b9c7f5895fce830053c0f621df7eba2c6b959b262eda42e3ff6fbc6c6f88522125e25d670728b58e01eea6a299103945877c8680348551883d375cfcb80c9b4aa830658a9ea5230e97dd12f2367ad7d7ca7f3faa87d3ea79deec38da19b832733025a36c52a0574b7d27d415960685c8bd96ebcf128fdcf8ce99b72f74e48c6819c9928682e22ab75c77bfde3f78d5cc0124d0826f1d9bbd81a7b41942f2f94b3af80cad49c47fa7f93766c06b34f44c7621cf440dfbf81be3e88a2dad57b73a7495d23e39eea979d15dec84d2ef301feb11d66ce1aaa9d0813277f107633ef25dadbed15918841893788219cd728ecb8e7e65ee5d049cec6141dc1cb895b2960db10c8e6df6c3463bc85ccb22914c3e60d7d56aa430bb176ef0cd8cf01398d2529c5e23163c30438ec2f1b69989a4634c45164a09f154b7696de1e03b77fdd1b1bfce4c554e8bca7da06325394932456e407d939ee67b76f46efb70c382222ef4b15cb080142f32ff396fbec88d11560e58072f06b075df2532e0112661ad5137b8c606f0fd2ebfb46e970c60383c27cb5982b0bc000609dd0cb3cd81d67d612aa5d0d9b6cc6e661dde9b16f93de228621fbfcaf2bb2e4e2b88973ce119f691225c911faba46c8fb885529d2d6a26e72f810a88ea847ee81896452c8e6357b47adb8949dbe47c6e2a148d3b142160d8ed4889063c5557d639b12f248166e33a12cb9bb52758449b4ea4830d432b2e90d6db30ad423e6086a31a2c33c7aa1382f9a7c78b740810ff2e8652b359a5bce816c84645b4c0bd0f4808fe22243211e2a502bd98a5cedf84134c899ce9555c68ec10e0edd0156ca11bb30de35c701c9722fe18204043bcdbacb6e3aa81b0ad2afc3481e7c7b6002a35e7479736e67357678f6380007249d47d5da135db9926a4ef2c03650d36ab7d1723d5d01c2f73aa7d3ec37aae8021601b0a1371f1b4f8d93f7a25f7489492eac0cfdfd576bd1d11e16646ab881787d349c32931952dbc71d5d860cb777058ac10dbc36f162d38f7c44ded1cc56c903fa6b6ca355dfc3c0e9d0a51a71b5bf7220c1ab6adb8282079519b5d65dc7ab42563c84a4ef08e3c971d975a9fb0893cfc28f5a488d09c9b7f24d5e9c91f67beacad993be196de83ff3954aa960dc8300bbb3c08eac7757eb8f5060ecc1fbfc44e1bd326aba1712e91e17e3bf2d214246073f3738e1abeec1b939189c12167a0a8a50246f359c58def7efba24ab8f9d6292d765bd6a161e2567bf12a1e6d355f93bb995073bff9a2be8d3b9e74f0fec8fccda2f35a4332b84d882e4979fb714597052054351277ea698edb0dc2f682a011927ed732aceb807876c460f054d72ee93453d68f8d5ea43466f47f70fd75ae1ce8077a570d6c31aaa42f82db9305be1136403012199d99cf84489dd3f1fc019f6a083dfd0524dac69614dd5839bf8bff4ce41bb68175bb098930997e32c0d6abca8d24dcdef187e8ed569b5a7c105ea1059c72ca42557d27543ff37b18f799459b48f9a362d1158061ce66d495541e5842fc8d03aa09c89f8da8bd8b29abb12fb8e93a9375aebf28da1f7801ee1fb77dd1764485b2ffc4db2337edf76f49f08545df1efabd6438eba9b8187fe5143e3ed04ed101bb31c1dd9a066e99573c67d2f6769dd25897476e533d6472ea266d8b69526293513e248cb9c53d312bc0efa21c4b7ea2f50a3572724ab3d1607398719a1be22d3189f6fa93bef3b99296281c480f8ba08de1eb45df9b109fcb5967a350351f85a1a85ea2783717f8740a6adfc19668d1c001e6e4105f8e7c8150c3951b4068d14796020810091a431ce42b63cf60e10907633ac8adec0c20ca8ba3abf42f6771c8e02704f31da2f07f373edf1143b9d256e5a8afa1a782db4c2694cdde423b6c1667634162f60579096e4e2da0d4fd37e090266b16e8c494218309e2a1b79c43bd73ea64b48ddae1bdc82e698eb1ee513687bf4877bc040bdffc81c8dffd162f00772c880836586f78a6a2526200cc407b90591f66d74278f020fd9be9a366ba9a8c93b824da3579ceedb3305c968babde96142ea7f79e6b766a17dee33acdb442a5b30f3a8b0a876e9e0495a4d357e54dfc8275b78d01ab7ac9d77b5f8261233d946478f8516f0ddd2508e0d5a0a0960d03f37804441aac3d5c634f0cb2e7e04e41011e9f2403abcfb56ab9b383930477896477b0ebb38e5fbfd14dd615a743bd8ea8ac0a860ec3df22dae1196dad1e843d9f78f09889ec60aec10c250484a098064faf54565cbf7ae68a496fd5d58295836fefaa5be2dbd6b1beba8cc4d9e1e07bdd7fe7a270db757540aa0ab3646e714b1ac4e412ea953075fa7915dfe4cbee1a7f2c4485253610d7ef2060283991775edc20722e8d81942a163f212badbd05c1baf12fea69f831100cc2a247becf3d149d8515e83a1436aede5bc25530aed4c2035a5dbba417edc695ff2cc9e3ba712c2427d664812dda47985a86c973b97aeb4300cd94401cf87e52780b4c172cef858b8e5703171f019331cdd890b288a3512d99a27f4264d6bfc7501faaa7f780aee7bac9845b4398a3ea734e48c37ce1238aee34db0f8504488546d038601b80899dc7b9b61bb2a454d287992d42324ef493d133f23bf61a0e5fba3b88621cd82f8d61aab78fd7e68cee92efc7a89d8ec617c30776f86b6ffd19a738e9d9c502f13fcef194e4ac3a49868ab0b19adbe86c6b6839ff068abdcf8ea2571f2f389a2e4d4859f617f0ee695b046c0f8e903ec8997d8e37a004471b17a09f4aa7c51f814a80734fcefe8a592e0a006ee98079819a7b878072351f20cca354bd555f2635747f308b9c93eb5fc2376fd3274dbeb32b95931700556f71fe52281555397fecf46c19e1d20346c0ed737981cb8592b5ed1539e60bed76bff6a0e90bb78971a4fc4f9c1f967d31ece95de25a773d083e8e9a1f1fcc8579737b7a9b8c3fdc324863ac5077bd1ff112ddd8621ce0046ad0633f4adc2d0d5728c5656e658e1e5d8ecc313d77dff9d7ba509ae0fcbcf99cdf388bff6acbf8cb44bc6697a39616a2e6ac69695ecea8e62d1650bd5b98005098be7907add26851251be6396eeddd19070a4a54ba0832e4d18c0f76527c82d9beb5309ee5692d5fc198cf1e0b3c97b239d0c791c647639b9793aa3ed041dffad8ece873c005ba05f328a094fd1238d1833add400e1652578188b3cb541bd3fc11b4f53271b3691ddc78b6ea0042f2345b2401dbdaa00dfaafd283dc9b741eb7ead361e63a377fe1d84d13b0f179026b51dddbf1fa028ccd89cced0701ce3fbdb0a68b89a082f1f5d5c9d75e6c1a4e81fa887e22897a31e72b8e511e8e70491e7e1afdae76feb7f6cfd62e73a3054846998806f529d3fd8faab930105348e7ca5ed094cdac43564c1762a878012a57f342e2d31c31373fc354d414dd8621be5765c5d109b276c4f71503681a4c9ba03cf0e5a2243a596bd9e169ad662f33d05fef4ac0f3ca86200043d79c6ee52f73c04a8f8e3ae03a57016c70ee982a4ba10e978bd9e8882dce539959faec234c390cad5f7e70dff491b702fc28c8c0b1e817e88a5d6c55187495a5dcccc848f8911f73f8e8b916e674788b66e71cce632963829b33b2723f8fa06bf4653c49bbc5919135e6e673e0f7d4257d38fca72a9c668423c98d09c0c9d7ee636328722837493c5fe5c186998328fdf537f71d8236fe1a61223849d30331e2756e0d2c5597acb2127613fc58911fbb57c8456df364b622ca6e5b8c3b5a5104bd3a769aad78ea4a281cf7f1fbd397bd6970c0e6f2c01c318e5b76f3925fbf6d71bf7bdc27b00dbd170dc4b852b85f0ef884568c4437bfac179ddec6402c89b4e528a56561c97dc1daf18d6cec0123abc3f50591f201737b9768513a9dcbf8e24ca5e04e6862ef297208c3fa446f3de05df10bfc069806e119411e2d609a4460bf5a1f13b18ac3c626ddda268cbbcad260a81a50a3456294cdd9ab02bf315708ec764d024ea158cae21562929034cad130e95ec75fb8e6eca1372d09fa0ca2d497eb8873b8affc350b03e9b7a391f11174dcebbd2770366ebaf5aaaedca9260e599abc0ad1daadcc46b4bdc7eb22373441b2b92c9a8305e372cfd4140324b2f11476a23cea26d4772cff21c7de2c0926aa2520aa44e9a4e16806c27e936eac12cfae6df0ab6ceba8c50a882d54c5bb19b62f774db9652f636486c669f8d92a3f6cceda704452360c123697d831d614e3641c08687a605be945e2350769f09d5257b0353f51bd71501f2e055825146b593e44119174a66cea7bc9eb500eba4cd9929ba29dfcb96a91d83024654943c72b5b94fc7200387f52bce5b11ea45384912c1781fd9ca1c06b34067acb1981a91e58e6a049f5b27bc0c1fd50211dd0af8b11fc927e54f94416d07476911e8b35476625518ddbb9517e1705d5b73495a7f10c865559c7bb5d9fb3c9bc2aa3269a337477c6ccb22364903e68a11447a9a802a0cbec99aec0683b0e5794944547c1a19a5be4b69840b13f55b2b55a638e0e93ffe21398e6482147a00fada3d24c7218aa827cb353dd39a3d11570c6a01b6a08f41af2af8f728e743a112524049c1e4b865cafebe7211641474589f2a73eb4567f20c7afee46fc6c291d224ed38aedbee00259621efacd59f8da56ca6a43d84eec9fa8a01e5b1cd751501824550a0096f04d0f28b2c28f41a4748654498f598b0fc51860f6093cb4b39316ff53e2ac2fb776540808d3101c721e5c4a4e3a9fc2aac4cefa187b78e65c12eef9e8dcb8818affb823de6fac3c386b81993449df332541bedd3660c32a900a9481f78e68623f5176f74898ffb1678e96c9c495071d7201c8891c1b69cf9649bee73ec667ea9a046fde2d6ddc45cc0577035d959a6152e1946cdaf44848a08bd6fec433588ce559d580dae7e703ab13a45981710fb982a14d38ced5d1486167926636ad5d0405748219e8c07cb747e11dbedab4178fc2d7fbe80cbfa47dc9579dbc465f05d80efc3e2f38b834dfe16bf086205c5ca32c35d5877c3d188ec8ef8c7ccd64f681b41fec19678d66a1943658ae0f4c9e64edca19006a17dda2ffadfda2478bac6086bae4a41f653dcb0d42bbf3a941836f35769ec656cb039e380775c0c9ccaaa3058b6920ca868e20b01130682e2db8082c1a681326dbc46ba92f8a4d2884c948031aa2a3764330b81e85fb49c4dfe0e1966ac510dd392a87db37a2506b0a5424315cc96f6610cda39ec7bbc5ba9189689e1fbf21990e89d37c1727b0bd6c470ff4c52e6843bb5a64e352883cb397371d2423c76093b3219a0c96f99f6f4d9d519df349e18e95e3c8589f4380782dad987e7b4a3c685acd78e22f4714307bab76bb8686e5c74f49a585129e4c2dc96b83ad89d830d62f9af4d3aa4f1168b002d137d19e40c02c96c6e983954f052bd41167b841e200e2f570ad8b496145d676b2866adbc384bef44c1c1cf70f255d7f92550c70309e41b920dd6d7e3edb58f30e1067b13181ee9651e5c857e7d199af082dbcef4644ce021fa6321b942c1819adb36a6951e9098d580d45daebb22e70501c20461ac6b2e0718de1c97de1b38854c1669ae5b5813e58577323dec8c9ad779a74193889c7f7748aee580214c87f2e4bdc8b20a379e4f2b8092efb09b745b35733a672cff904b46c5b2edf3a402fb8f8a8432da6e663c32aadf0b2526774a1eab2e3f22d8adf5f513b7c8133182d644087e7707025e7470e4ef283c3b868abf24f22762911dc684df29a3f50e14ecba054273975b67bb2aa3417cfa35c801ac6067ccc6b9dd1197849c4d02cc29512371f3d1943f2dbe0d0756d871a17d750e206f5f056ca6c582d39a156ce2199e882cf47c023769864e25ca890de24b0b8692602e9b66be577d8756d349bdf725a12660e0bd67b58cc82fa3d61c0516c5035d8744c455f2e37ac5f6edb4b64df5448a19cb238f44ba6d9189d771f6793cdeec025ee992e102bbcd5810af6adc40742f912b4da3677f847f16c2cdceed0b3eebde983fc93763bbf5640889871ccd41651f976cde6c5da44adbead431506f41a3e538beddd5973e4e856b4ae5a25f70c0c2e203a01b628fed1cca0fa869ccd48f8988e94a102fd2ccef0c3dc036b08bbb0ee2846fa3aa845be549612952d0433a772ea5ad3b95c022ecb530de00a4a4a721af537f980c8698a45292645aca74d879e281c4e1f4cbdaa94317199b81d8cda71050ca554e15b7fd64e0f7e43d4e3fb3027bcc43740d138423baa6482fddca87b5ecca8a82ce96725cab45f0245373ff3b20304ff5e3ff781960e021fac23c18ccea7595c77526a5e6d6596c6af34ba7e80fff98d2df7b8a7d83930c77dc58b386204239e53516062a73829cc28de80388db377dd416cc3e032402b7572b7c993f5648018090e4ba3012c2e7a50c04d4aac2f97605ff66d8815b0be5eb8aa84931fa6bc1abd47657a8fb3aa1af0c5980e30075dc05efa46a8c51d33a56505f5163a9bd9644c185ec234b1f2ae9fb02f0251d328559f5201c9ddbb0b449ebbf9e24c0b9e30f1dcd6721732801c98a391325eeb8263fdcc7567cff2346750916957b50ecdfe95ebb9ebdb130367f9c99c0c99491089104d8caa660a15710f9a6314ef83afeee6798c9b6827ca5fbeab90a389167aa5d555a7e4e10dcf2825119e1a687551569f58e8c8ee50b3ecf289e4b1908df71f894525394d6fc93a263a7af64f6e44da5941ada0866e6a8ad685ea1cc70b0eec4d78460b73da3fd5c82876313812a18107f9b12b7092074a4e651dc876ea3df2ec6ae7e115717d3c7db6dce6de1eb59ee2e27c9f7ad6ed86a533811c20aa8968399504f8039f1cfb747bdab409eafd075e5a677cc32a57a26bd9900ffc09bd219eaf4e969be8344f821ca114a6ab2a5d136b7e299bbb98e8530ca69fd77ecc3a3ed05265e79c77de557e43951c05d4b5e8c418c68a946a3c59e8d63dd46a931e4b316428cef7bf6f45a4c129e7803cecb2e66f32193481c22f7a12916c847ec9f2b2d3bc74c5ac3fb5bdf0f92fca741ef65826455be39eb4cfef00bec5ff6edfa420e6a8f09848931fbef9bd87ca05465aaf93c07ce6cba4306f0ddd8a8740737c250fbf75e753cbc1ad4826ce56f8e61740a49e5e9e0dc55eca1c421e4a0ebdff33b4a2546585c3e3d82ff7747de6899bbd7b5fc259f418c8f662ae3d01a5e02bd9b9c2f852d3e88d840c7960504b4c763680950c5e82c8bb793a28c6f43da1a9142dd30311a5b4211e6f00632a397c04ddf86ef865f740d942537e5b971787d69f2709cfd3c3eab66177c60101190044ac10266cc8f7d2889438c94ef0850a7c09dfcd3c92dae91906fc148024a1caf0febf7647db535d9c4ae94f484c7b17a94ebd9190485569e8565c8a93bebb553644c4d4bc351b4c98c1f09e13c9ea69f6dd265ca8fbcb29870d5f03877e9853efcdd63c40255a981f42afc9f23db5264fa742081f9bf313d1a002479218b58ee388d3f093dc6281a225bac098191d52d267be2848a804124ace363a88bc8acc8b508117bb68d61ce8cf910afc7a25be5ddb265170c317f14d7caf353149d09c86121a14dde537468d6c611b93df830b436bc15e80338a31a21e5caff619930c902502846f7ad3167b7d330a969312a1e3251d05ccd3b210f9285322fdb2ec06c9fe67cf99d859f74a17369ce8c9061880d6149e2ff604b8e0d8d4078cfe3cfbcf7e6565e13529bb8a7fd8d7ce5c86505ed58daee7ba06079d972b10e54766a1ea8bfda3b3cad4fc9413fec572585375b5be8e3325b9a4c20fc6b25a54895dc2113b8c52cac652fe7815dd0bd30e09adc98b41451c7c81bb3a85bf1770b46c8b76aaa26ac955e2461b49b4a6e54a96f99bbbe53d211828afb6056ef338a915cc1f653442294b841cf5e75014dcc3fee5aea41ac507ad40afeaca3b676954a6f440ee4a801c1355e103d687c4ee5dee10c833f27e3abf0c89ecd08a42e24aae5b428cd88ecf0fefd1a5ae49a28e42c47e2ba67735f62ea5e7698a38e05301859f3a0cf940d9f814ce451dcbb718082e882a3b249e9e19597b9cfb58f602c584638fa9a82ac7c6dbb0d9b2398b3342def215295a58233b558e6e5a45b9af428a21a2c6c8c0a6f745a12f6e59f37230d15829b82ebbeb5fb04f9e46c160daa0dbe588a2c8cb4b0f955dae1d8e8123c584f0d8d0319000faf8eb9675fff35bdac653f4ae2e66448c17cba82b6bbcc4ff843deed6ac317f0b9012dd5d128d43cfe09c075cb056fa7ed12b2e7b954e4ac233a3a917c65bd44bff7aeee02667ef4d986e9143088116b090f973175c811f6d05551e0d2af612b6e6bbe3c78e957d13ef8f93d1fc5bc5b4f0cd5ec8056bac9c81817c144008aaf7a884beaf2f5bda442fc78b42e3ad1de53dd43d1247f8941c2fb5628f8c478834574db866c7e09cdf6bb9010e3c383568f1c29f44a541f8fca198a01d15f99837d97b3c6e4bcbab33794b03b327394b64d83a81c6fa4ec3b04e840f1b8407db20dffed7cb5c07c99a09f13e3c7b184476a7c16b4517d4aa968d9b0e8f6d5b3d37e0db7e9e3cb2414b5e4f0714bf6af3967db6ee856ac6e62a534294b9f8b500c1ad48068712cef95f28dc674b6b34bc1019e03e16fa386f589778a6240dd8a98d937cbea282921a75018b8e0be26233e2af02bb72f8dab51b3090d3fe4242eb0ce54b014932fe7d951222a1ef2acb1f68834c94f6a16dbfbb0f25eb836570ae48a89841588e5b5b0e779af9d8fae2608682bbc1d6fceb2b8e5bae30a17a51b1c50a9d1ec9554b5fb8454cd8931fe8e83d71cbd71130125be0b72815ab1fbf1304d5ec928010b816466e95179a1dc2bf9876936cad3de6253cbddcdc19b6355309d4d3bc5e6cad00bb8e6554c05ecfc300d15f1e8b5512ee84668c5dcf1356e4463210b51f09df2dd6c33bd1814e3a993449124b04ce3dcb3e2862429a0c1634e23c5c42f9fb62cefd635cfde2e9cd991f62ba2d2ca91615f9dce2b1fe6af0b8b0468a7067bfefb0351845c3332642539e66c6f92f2f36979649b3a008d0cf59090782f14a66429a42fa4f80e3b72b377fde0f9cff85c761cb47c581751b1de8f791870ca6ae86e64c5ad4187d89fe8d90878cf0fccb241253dee26078fdbad8a28a518344c3258ea77a5123f9f281742acc44444ce21fcfa8abcf3085b6cc0ef479e0b7d09613ea46259270c634151262368fa657bcf67a848714a47ae62cb3298e7b30193bfb4c3fe364abd2eb399cbd205937b760eb3345f3d4d7463c3b130f610140390f00d7cddb0f2765f35d5c47168d5f1286c94a104fb8d0556ed7526a36746e1e20723dba26b1b4eaae7251d3b3c8240766240d6716cae0d63ee2ef0c1f65def837331358405c04b3416775b5ee566ba8fbfae83140d0560e5dd5a9824dbb06dc9f6683577d582a756e7fdaf72d20e9b4eb68e2889d94236f80ececf57a3b1c920a02a55fc4a78703c856c9cdd8eda30996f256aa638658a6d951c632eb59a000894bddfdfe198446534a198376454f8f9db5a6e109bb77a0bc5480513bb165ea1e1ea5bfee7625d77589243de355a584d31a7fc695ab04ed22e47cc4892dfd29cc831ccd207424ea639ae8d88aed6a0c6ccc968c1c2f9de93793f3928ac3b467e144c106771d03da53c8ee2af60f186ce330eb223ec9e2d9ca0198f0baf455dbc10d50bd89b85e12d8b1208c97e00a3cb1c2e69ba2c8b67fa653a2de8f54d68eff55e7886eb26d2032cc4293ab88e5e2bcaab295f4deaf89690d6f200f3781750ef198bb6bd20c35a1b72f53f7888957e7f37655f8568f1a551789961bf6e29b094362107f5d8853e3dfde92dc9fe3fd6293a0ea99f458688c8e4636098c6f007b727e33200fac68d59b8e0cad820960427865e0c911dcedd2e252562a5817297053bffead93b96f0b24004d95e1782f9165fb72ea8b00a485f6650645cc9feb915ab3b3d55ebd0f56e86d86e1abacd3d80bd84a1e4c48b021a2a6ef109e6db93a5d39a39bdbec2bc28dc3cdd82eae2733a9d2da4ce1435ee4b624f833499983271e5c81a583c7b8dde039b3018740cb93e93d9a1ee3ff480bccc3d7314e9c158f68bc7c759c9e8eeaff592ff9bac93327c1f7f6a935b79f836cfe0a15ae29bdef5c1a2c3cb975ab945b99157da43c8f12f125e03d2ced426e5d2f0a591878f21aadafcd4bd132df81bf019290ce30a659b38d0de6ab04b242c83937e79f55b085b511287c9701502f39d5dc51c044929fde1443cd61f18302621351b6f5e8a14daba748d0e509cd278c9d84bd88238ebe57e6ef2d9f28d514ef783e658fb8bb5dfb5b8206137355260fc57eecec0d2fd00356fcee86cb450c5d54de2254efabf7ce84ce9a96ae49befc6f20ac00a4c6d844eb9c73f67f98836e7ad75e89fb4dfb03fefa778b3cbac2d14d384db6eed4bd62248df05c4192439d699febf531e50a6f0053d44a3f47c590a772d8f00815dded51bdfc76822f2cc8d49a6cb50aade61403f863c93863c21503f8868329a47e655dcacb8db1a5909a2b4f5e163975aa0066703af20b86baa0b40532d9fea37c13c2de95010745745fcc7f0419ec9e37b56ee50e1573c5073b3e5d6f0dc0707bde0ad72864ecb3ac7413f3491767b15d729e51d132577c3fec951a8532344fe499973821f235ea9eebf4989291e55a3c556adbc06a30f8e5448df7fdb9cb9e3d211b7077d9fe6126eb8f6710111f31800abba098ea713e8a85a3a4c52aac2f8321dec5e8d004bba465e012e47db0d31a0807364b71353d261f6fce57b1b531991b20ea75483f5de094d94446e0d45cc5dd416ab05d8207215924685bb12598d4b4e5f53c1cd290243eaabda74c59e40530be1af963020684f9668891daf0be608756b6c67f257734c82ed7d6fc8a937aa902f5dc937c1fd1e6a908c124c9185e70b3cff8b05a228e295982ed0e2eed4de334a83191268c346c071e7918edf5aa2bd66f776d005727a69de4f80876927b77921ef2802beb136377be5abaa6e463e66177e2f08bf5384175915d0155f5d433b35e6992adaae65fb91cda763d6bbd9328d67240ef24b1e238848f240a7391510aa0a81fe6e11e2eb3bedd33a7a50f086c970408fa64becba6bb051df4fca4680b0179f932525f9e36a8fac60dc670b715208a77547e0f168358e9873c7d40d5909cba751c4bfef1faa559a376ef0d4ee3955d4391beba6cba0becd7d6542e87a6914ff23679e1bd66a6b31f510b2ad0fa10e881d311129d71dcb66b6310d4d0e1dde558cd38c105501d32b0a736fd1e1505baca80c9e223a9179bb117a604bdf78bde9ba165318a449e6c792b128c70fbef7be60d4a6acda41a4cbd149082dcedb17a5e81d1c1071affea47c4a86acfb434e2e1427b6458df92ccde40218891536583fe6194a220b11891355e403353a2449724e17ee6dd97d5efceaf5518ef5bb1e0225a203a70a2a44a60a8409bb69c366d8a61de9d5cb9a22ce9838f291a7b3c12e1eba9c17f9a21375f3fe9d0d58c61871ff349963ce58bab1a1bdfa6436532c393807bf2fa757b2798fbd3eef6776c865a0f532f5ac7b5f4c15e555612e47af53487b87fe9a970b1746a8ebdb3c5b3d828d442ef56b47a8166fa6f9858111745d86222abe8ddb072fc9a99eeddda02c2bc46be4ff2b347ef2101a4df953af3a5040c183998fff712a33d2570bfeaebc48c57aab82c57d0c6db1a8561632310b11a275bb422cd6decc044c1d07c844e084f2320228257fe744685784b35c5f84089f683952f61a5f8e787bee501a6e6204b39687aa0d5d76f711da1a81310d5640043dd4899f381cf6189af42af6940508b8034f95dd8d675b5343e64d18479a1df37f7f810319bcb666fea76be7495ecfd9f52945e7736b726c13ac0a680fbdf6f875e1d9ddbdde2d504242e5dc9f8abe42f6eee0b57b10d6a51b35432b62dcb9ff7053bd77d79508d287c596bcc07a15dab1ef014cfef549cc1a974102b37f70a1374a9ebe6d76560cd20a55911da4cf4167c673d918d26b584a62e913b0dff0da309c5cc596bc699380fec88d5cb74c11a459e8a7948845e52c6023fc33fd4fb2f4a9837b402e22220809219e63ae71d3b3574dcc515a633204389b53e6fdb6c7e327e0ec38800f4c52350b3a000caed2d79afeb2efe20c501bc8e4a18e9a008eb2c481dd592dd9e46c82a46d7b07b59552e2b085ef5f0ec6b3114bf4ecc55e7ac178b69aa0c90526b16f210d0bf9ecb29448da87e270a615f5d7e71ddee8ef8ca25b1b8940cff4e012ff09600529b6f3ec1cd6e2740aff735eda9f74dcbb1a046b2af05f8082c938b026f81fb8a7b97569dd3c5319107d7a15d4c09999c6b801c499b28f2cb8689ab04a85d3d69061b72bd9da6b7aab73593fc3838985f81afd9b8b542775ba0358d916490aa125ee5bd09ce439017128a8515a91b6980f1eb7dc66636703910e2015be34c65c82ddb950adca5b4dd5c346bf0b700e1f9fab8a7fbfa16db000b4fcd2de4395144589efdc589c574aa660aef4a39c2416bb8fa9ac03b7fa587cbc8be664c973145452f3081e3c986e64f15421ed39adcdc27f20ce6b031e656ea5c2ceea076f75c77d7a089ea09a1c091457d336715c3c5f1f19b89bd37dbe8c373bd5e9445b06c02ab4f03302a29bcbd544592f3c3936baa803615040e028d90bf0780ac4ee100c5f5beeff208a40185ff5deabdec7cd4bb774779e27ba1706ef248a23f8ba76c2ad3f7d745c031cf3f31311a8f1759498230d7391556f89fd3e0395fd0b2a69d46062cf10eb00baaa3098d8ac0f609202967ac731a58f5bdae76193efeccab1f6ea262ed807f3c0e22ccaad4f32199bfeef64ab2656b6c21b9a1fc8e948a73f7d5b73b51fb2be1b4385dbe2c86a244957c168e659caab02307771d8ce59fc64de090828b025c3ccbc5b6663b0f8c84c0a824c7d69f0e4530d4ec11859f8ae6237a87930a9e00594eb6fe367e1ed83c83dbe9d0e16f35be3ae383138c72693b990981fac92124b3fd2e26d392cc9206bcaa832ee6476c3890d4e79c97682860e0d9ad8d87c804597a925bbb127a1553ba9441373cb54dc57b8cc4470fc8232cf6c9baa1fdf93af285aafeaf84c0c6b54375f0c7d1b3e88801c3d7b9e94c75b5133caca63239844f5750a5b301926f65dbeeacb2d2208e5a3199527ef19b65f734a1d466d818500d2b3e7191518b8f879c8c6ef389c16ed6c9c2353d1302cc7f1cf1d4f5c47be790f4490eba4e2b9874aee5b0cc847bfd83f70714ef21d1977211be71c876e00bb802b12ab71d25d0e8470fff894f536e45af806c2755f4f52f136d6ccd48e37117a799b97c5b9c0b396b5ace69164455d3e0893813ee026be098e814bca38f8337f07604e1f4b5afd876f2635f3d7a47b58f34c25504de7a94da3bd69f41a151ba970e20c8ca17bc4c26f300852a3302fce9d0797bbafd1ee854e4595109a5182786fb247ba05572741dd5b1485d1fdaf46274fdf0266a77009727b8cf34c539e8fc87eea8d046a50f743427658fb192b37125e5bc83b28e3a73b3e157a4d05279300369a1a4441d1bb3e122592677537b669dc12ac75abed393dff0e928c82eacfb654f4bf3c0d524d1a4b4f3d8a7eb14977c24485fe910deb1fa3eed92e54f0d6af1e763fd384ce9bdcba2f5575870b5eab3cb96c1fe725662373542630ff8462504a34b1cf7e823357728c0e9d918ee56d43c1f0dbeff12f5fc3d087d3f02c72f1dfe39bd30c983fbe927bc049c0ff1f549f34b9587e091af090c5d048ec80fd8fdee863fc4497ca4803eda4a96de56b7b4d03b9abc84f3c2e16e357fa241daa280cf339a333494a62e9e701e7416b83a61d8dd24f6e86afb14c571ea3ce2d40536841d01f03c45d10e88af469f94d2359a98c1bf0667b28076103f7a99362fe7d05f41b441b2faab4cae68938a289fa1bfe73e6daf93fefe77fa610e88c847cb7a88f6896863c4148df675c2269851c49c8c0a70fc82eeaa72bf32699aed45224ad563b0b1025af9893f8dd65408762f195c00f80b4b452d9baed446bd9ea3f9b0c80e864cc228e8766470b2306fdb0a902cca2ae02086685c85ddb60b724171790c58b66cdbec5406802bd832776590e6c82a09bf539650d8aecc64341c9f392389d168d4e586871f5550c7b23925da9135d7c039de869278c7df1f9905007b662e1094a81e6fd038be75f6a2453eb8317ad5a8f8806b56223264af0d23cd0f15372dd4af53a3da57e5a920a27d01799c63711920e5ae588902f84eb7fceff866b54a11de877fb2d6aa0d5c09e11e57a9f5445115bc5830a82f4a73a132c0eb1160582c5cca4ea1a1b5ab09dfdffef5aa80fc4c551cf8e91c733a29e132196d860f5fb60af3dcb4c4a33ade574b5fcd719ed13f922fa453af4af90f9f138335809eed534191411a41218f64df573951c1e8b0a97bdcd8eb01cd968502be0958fd3dcb2460c9b822986f52539983d8565964e037fd79aefe9a79891f72230962b50c0100955f677508e4832d73e147ec3c689b6efa7b1671d30c781e4eb3a365dd178d296133cfae593a93b6ae343f47638d26ef72b60717158e4616d07d23c73f578bbc168c86880c188c2bc6c71af83da11e56d44be3fbf2dd2ceea4d7d31970bd890bca7929bdd5762c955f75d205a5e2e794ded69452f4bc7c72542c2bb7466a2d22be9a2ed483ed4793210baf7568552baa014c449ba48badc46fa184fe572e5f223c9d4ccd7481a8876c348a5d84e923c644434f54a1b0a700e2ae6aaa3103bcede30c07a757bdd8fcaa91ed7449d3aefd92f8f3fcb09532e444e49a167712690af44e8cecab9e803653559551a8837197fc62c4799768fb38c34b664ed4d9a74cebca154db8eeb72f19852c01e73c0adf47961e483a2130ff7ecf387fbbe9114fb113eeeda9db394068a6fab2da4ff62dd67d16e0a8dc2b746b944186bdda20d1eeff8ec85d1ccd780cd205cf00024144260e74d93adfbb4314550edc0c5b1a5f9af7bd6df98cef51e5d86f479c76e2fc30576b14d18c66ccf2af163a75ec81b3ca74927f5f7adf8691d3e6b641a3bad7f462884893da61bf07c5400c6113bd1350736f2999f78ffa339089e361c915f1e8b063692a53c5cccc973b0f2860eef6db6d7d8dd4b1d13868f4252a73f2428fd8bdefc791ef77530939625ac26c7f548e3a92532d818edc4456d9909f4747b7b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
