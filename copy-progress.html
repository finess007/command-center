<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a55ffd8d0a7ba05b148c4da653689fd2f555be2be5c2fd67e3a182ea0cf1f5ad5066ca809edf44103d1903388f27c1f8bacd4c2259f23a2551530a78e8b4b659a98bdb54bd1a0837ebc8c04ccdb403b800423da621b87765088665cfbf2ddbe6f7dd6ea18a54d1c0bf396523a3426d017499c0d10420214ca60d3c61a8ebd0f69fd5c3340bf63c5c5b16bc715e5f844c2549d974663254dc7b02da9ff4d11118a5c5a0387b77552dd4199cd44e8da0655afb0b26f2f907b43da6638a595c52b00fbb0b96f3e1f3fdca00681e76c5393fc0f51a5ff4a9c0e027e402a7bce2ff483298f03185e93250a1b9269d72e4ef7cac07d4c440452f5e8b6445d01b9b4912045b4f76e40fe67914aad6962c7959458d19dcb6797aa14bb8b66c95c5d56aad96ad6d1f6a1fc7eb6522bb4e6430fa04379995e14ab02c47fe53f57da74e1cd9648695b45539a35c0bdb0e82ad2dcdfde883150f50ec4a7d230294b61244cfbb905e7ecbf58981e32790263c2f6f88e26e2d6280047ffff6e038beee541596c6c9bab79d454547f5497d1d8b70f8409b0f36f25354c9af80b084b3cd3df3fcfe54ebced1048e5ff1bfb4ab528e7916ce2b0331a91bf2203bb637120c6627da9f78a9270b639fea795b201baed67c9b62fef4edaa492279608049037bac5db13329d2be51e8165a5ac47b764e296e548843ddf3e762315eb84bb092c60f20eab00ee5e1db1b916b61b9778ae7a2e1533c5427ffeb616d09d0ecc997c0d2a29b93212797de25e5d1c729ea689fbefe017b0b5be96cb58862f527eba17dd74c1f3aabd9cf3be39bd08479a7428ef389906944559da88ba36bd3dd1c8750a309bd7a4e2657473281fd149179e7699907d2c9e87fd65c2f6be99ec753815a421c5655e253e88c9f7a8ee96f09ae308a76b94b4d0e253ad142ce4312068586d86949fe113c841bd104246d0cd83198b91cca212b1f14947765f916acc3b4ac140d0ba7c615d0b10631dafc0b628d0e3ff5b98aed3f98abe5257137022c887922eac85c0ae058f516d54c4f47d41a00e5346d0a9872ffe844d5fac73055d73f40baed5b5ee749389778366fbf9069931c01c18b6b74478855cf7456ea70960ab0623f5e33e6bf0336ecdfaded0e801073137e0d9a1c6170bb753b976be670abc9c7a9ae111b0b26ec1d96d28e29a3a280f83eeca66f6669cbffc41a31748b24dc78d721552feeb6c80e9e28f77f768829c3152449b0ce0f07488ba656e25650d2293b8d3f60c16e77459e4c8392c7faa15a218bb3221a510b05b3762e10a245ac103ac603f3d598ed4b24e39b6217b1a677a982d7a3ccc25f419c5be97ecb271af274ea6bfb41a58cb9be8b65534693a805655ed8784f799e329e447d5ef4c4215ee06b49437193606a97186e3db7a9d11741cdcd8fce1b0172be9c2e0f7a02b70b4528314a88b9f35f07cb04d5fd685b41b1aaf499a06e551bc8c2f42c56384d08cbc86283e37e7fdb2f54471abd455c904f0b83864415acfbe508ffe1645ada38045d9d3c43bed7764faf71b4f73570bd8e56503864262dbe09ac40a7e06114f8eec3dfaa1c2d37c71eb0aa78e48e39c1c428849901de8287d26e139eae8b51858adcbdeb8f63747b68de5ac1de8d09ff226448d82ce856d83832af27eace2d8bb8d27c73c8f4bbf4419a7b6ef369cda7ec2817597c60405dcd2635b334b7c58afc90b4b2e770ee14743294911f63583a636aff3d415b85688a474648ccb1aebc0c1c622ce624a19d36bf317888dc06972af296945c37dc54a31d9ae18c5f1e61ae6fb0a04745765afdbb1ee6ce09bd077472c57923ea01c47bdc7f36409da2bcd308ae812351a11a18a30f4e9db52b6ba0722c97bd5e2494c5b6ab00940b2cd2733c8e086e57af7f868427a05852ba61ae8c66c71387d4e256e2738f7727305ad1f29301b4defa42897bc4fc417bc8a3ef26c0438713e1c1b52019dbac012e32eb77e5ff7df08a30f173ce313cbe456dd84dacb2b699007c660672313056be0508b91b232d5c09dfcb4db9422883f53d7878b8c2aa497b28d4f6996cb5f855d6a12f8d9cea8a8bfdae15ea0515c34bc6a1aabd46dc898ea1e09a736cebe73fdc4e46b0418e23850c06521c6d20e644f73618136c41594f5000ddd26ddd4501418f4c0fffd7c9ff91976f721f0bb6d59880ad454cc24fdbea7cdaf9609c5a7bdfb0e12f23f5b6e75aa18b7d34ba5e68f9a92937f872c89b03b1d39cf97cf5d020bf26a3d2e3113cd032392bf9750340aa6e17b9874af5e49e26d12a5cb1ab4e10b42a17ca6c302497912eb7aad4361d8baf81cce8432a5e670d92103eb0d544b9c7dd9f93f517ca6e76d55f9922f2f6335fa539b2e7900dbf6ed4c45fe72b08fff122b51bfe8328fab9ce0a02d13ef08b98167febc451db1a9d90ff2e39619ff2b144a4eb73ed1674e25a7e11eccbe9fd7415d7ee75f7a6b7ef756c349d0a2f7ca26d726ebc595f84139ad8ed69b1175bdf19eef3a23ecf2218b8566607c773b51ff49f23e81ddac31b62e905d83b5a004adcf7722379f76fa73df010685d134cab0410e20ad2d3420abfe581bbfc20b157884425b4270b3f83ba3922d66dd6e7d878136613cb95f86845d2e5df08b80b8d72d20e72a0cb762cb723dde63fcefaba99ede090b2b24609abfa1f8ac4af976254711d9d764f29924cc34d18da94d4734a4190f6151dd9c668f0e7b80ad9a49ee494e5d9583e7262239f8efe223d29fe6c31ab86c65dc7ce229027b64e37aa93755535fa94c34b63a423996e61db1a6c46f8f9f5fefee4017fba6f42818306b1e3cd987ff29179670845f8295a2c3a5b01754cd853f4aa9da6a829d9404d519ff5b222b748e7735f70a68092cd72cbd1a16c34dd7355e9f522b3458e27534ddd6f8426fb17034ffb7b8101f3f1bdd55d2492dd3c837493c1df87b6cd400abee8bf21f1ea164f2432e11f4e6f3fbf00bdba84d8c92e7726ae9bf5658ce3cbbd1bf3ff801edb4476ef034ea52d65b50a713b2d8682af84128361a48a4f21db87603816854034ab4bcca71b05ce1afb3631acd51ef05b24e0cb40808065c984cd49cce971f87f5fbea39ef7561bd5f0e9da41753a07a9abc6358665b14dab5a7235f1422b01a7c044579c99baa97acf872e2fc16fd9023929a3c49674e35aae1dfe32925ef2b320ce9086c3fd24d97a77087843853b095ef427c07b96f0b1755fee4519cc95e7deefb24e584fd5543b5c51cdcc64eb6647cf1fd59e9a4db3ad6d3a42f2bfd5cd6842f5f708fadfb55c42cee2dbb6f8fae2f453828ea80337fd4651733529455fc992add778dea88967ba0c749a1295364a00d60a7cd131faceb112d9e7e2ad0eda596897c537a562e7355148b224ce6b91dadf6665a29f21ca05e8ed162e99f1ccf100aac11820f8f5749f25ea08a9939bc8fbbf6664bdeb95570e232e9ae9405a27e1f578fc49939e43806164fe9fee8e8a578379f9c12b33e6c53d884bf21ca8b969311119012f18cf3f1d305bd302e00507920d717abf1f2ad8f74fcdbbc46be1a973184b406887a13a2344ecedb8f0c34d6da0457f9cf4adbe6f11c232568eae2ea1eb6e5dabe13ad60b3d544396e4b23d82d0d17b32639c07b4fa535223559034c143df308dba6ec9c1fdc3ede70e8cb4f5e1ef1ffe6f4a751f76baf6f8a7e3ad4a4f71d529d568858d69c818399975761b749d3d85f702b44e462b30815a4c9b31ff9c2d1297e5761d2418ccd54ec39dc7215b2392b83d5c9e431c79a0174dd53f85efea8ea5986548540f496937af574b8189a95ebf361f9c6e1d7d2b09e2024de91a86a112085f4a351a2791d5bf4854ce3e1c48c82382014e3665370e47a7a31d4276c2235b9a28f2e06d0d0aca4b39bc04b74200d5eecc068ba8e3b14b9d377b020daae128c889fec1771cd82007fc6ced1ad2b29c1aa732638d5c4f6d32a932c8c3b173b25845ae9932dd56ebab73773f4dd079c5ff7c438e3b5ac2147596b729852eb6744cd587b254c3b746cfdb957e7cbc84a656a5bc2422a3b097f92626710e22415c2f6f9143b8b2a7cd2ae759f503e3cfabd95debabd1da1765cb6cad6ae347b16174d602f119c6e1e3170c178f0ebd18ee20e2e4ce16eaff8bb143f75c19aef85781e613bf079320118672ada57005d031370a7c8e68745007e22d12da7c502f3aa280fdd7e71dcdc9c6d8e6869909d7db03d26b6bf6738e5a767f6cb79b76b885395546a3b9fb9294d8e07fe18e44622392606ee255f84e7504c162be1b6a3afc60b27e58902218afb7424474b880823dfa36a9fcfb3538cef78805ab4866174d3288d88ad22a750b499c75c440d45fc7eb0f03a8d2e030b14a0528c941f98fed66b421ec54a092d2eb37aa4a62e3e785c1da52d09c3b5483b82e836e71202467891b473e2a627987d41ef6c684b893c8a2f2509324dc2baf7c9030609d0e2d35380a3bc3e7c992881f75109012af45749d885f0698e44e0c79c9b459392cf91444a1da78536b02d976ece640b72fec150906e45771b2ab50b2c05702fd786e37496fdd6aff1702e0d01bd91c9fd13bcff64a6d27fa7ab3d9beae7cff11bd679748aab55072e1ccfb473b8693fedda518c77d99eb8bc185cb365bdaf5ea98000cce68a8d62d7dc20a3f6e20fba6e8eba2bcd316ffe5bce4ab733ce8d5d2fb360e137a453167df49db9e20ceffbcb6ddd93c41c5e0613552e472da7a1228553bc25b8c5775360ed45f4aff146f169056bc2b2d6dba480e0a81804cbe5add918e67be7f2658aa57d6774edef5f25ba22bb6582c7bb013bf29d6f9448d8c1cfa4bbfcb194d2fb30a620ed36e18099a96d560be19984265663da7c57239895dc0436d2f06693ce28f2e9978630fb9099b42227c73be3e1893fb14778b91136e4cdd45721e898ec4af7e89f6955d35da414da1c9242de943edd26eab5b59205108f5f8c2f98067e43739db549fdc9e205629ea10119d83206bc3fc332b441172d3414480fd0b6814c5efc6dd22a00c4f02e6ba70fb2514c4b8fa4ff9af33bf66c79c18e7e2c20628be78557e14af8616206d8367e209d6b947c10fe35ed1d7525e6ce27f07d19c0c421ce4fa5e58294b0a79a68a97910749530cfb587cda639811bd2319df04f60ea01329907eab87c4c5f82fe8da22d4c62949e4214458a316de803ccd3e13d0d00029ecc80c9c1e561d6a43496f8acb0ec2642a535f3d9e2ce766dcb25f33d84a1f38c1a62b05cbaa575b0d815ab5eba9fc1c0201d66acee7430fc09f7b605d1a0cfa1cba1677fb6d9f229c8923835bf67f2f6f7e524df31d8713b1f10dfaaa59c82fe3f9885c2a0153239ca339ea0a18f9faff86ccad1c6849a686de482ed0b80e179701395497be0f89c605ebf7c1775c2852cfb83db8c194e8d8363893ff1582f4470083dcefa10c3d047eee6259aa6a87bd17ae2d96fe045d5c8ccdaeab5d124d57846a82d75804c9d2666715bed1ae4419527e6f67f84bc907deeacc8f6ee3ac87d9c804da3496f4e4694b7429bc305f9544db919cbd762f4f324eec790ca775d29111b2d0a40ab81138d1486689936b2d0e1439fc56cf0aace63cc831318ac44ab5ca76e2d97323c5a88eba05334ca065c665aa0f1d972a51a66b7def4f5cbda569683a8654363738224715611359f367cb454af0f109a31e86bceed429051b7986d4ef3de611f408e6381b1ed8b99b0dbbee28cebf8344a17cd57db1bc6f151b4b5e689bda584419470616016065808bc3995034593b7e2368c5fed9b2432ad0627f51c7d7f1277cf794d11321f280f2784325748ea29ba91339e204faa8d6162ed7aa6c1b30840a8eff96de8981b41e37840128ade3aef8e6c5dafc80865629d705e692f7d0318bac6459af96ca6d75807f066473305f0c3e867f36f504dc29c2eba93b20911e073ec7b2c073b81abbb0c7dc6078e0d6691f5f0af7b0b439aa27db881b18d7607323cfde3c24186561b8d500059f9bb28d8acde28c199819261aa552c726250a519ae2b41e94519f73fe72eb3eb5c54adb6d046ab250aca3980c9045b6a702c5c6c4af7fac229f592b24b520684fe2b3c5e82037af87269e9a37556b6f6a36f25eae13430cb247d571809516f6671442f585d949d0de4017e7f181f0babda0538f735b3c18031c10cd3b4e9f6b3aa55140b8a5212d875021822495ead45d70b3f0c6e06866cdcd5e3e0c81c7650c7e7db8e8384fcd8a36f3ecbb8511bfa7dead3e981282aacf5d39ca80d716e04e9c0b1099002c3f3c44aa2e3c342e788866a6d268511709abfbf296af11b63d3856f8ac708b5714c77e8e38d2e9398573cefdae4b28a500faf16bff439eb462c0cc3a5711cbf9af473447445433964a0831b59107f42a74dc54ddebec4a3d0634d2ec15322d9281c4d8ece9b5fea86e93de00ad40400729a60b151d58fe76ae30dd1bb773fe7bd7c3fbac013bace05b254ce9e188258d963003832ac87600457163a1bd283dd79004fb91806221709e4ae6f92428bbffd6e86147c058d48334b927d7e7ceb2af8077d94f7499b349d8489e7abfc3d9dd8e3ea5f183c4f436d0769961a5aabe573e376f575a9145b62c2ea3a4e0caad68ebefb19a18bf66bf62572141fbdd0cf846262cd7cdd02f1841ab5c2e3f66694c02ce3fe9f38059c477150f609d117b56910300a40cd3cce1883696c6938265115f489145ddb4b8feb959773ed840c4f0ff5e0dc2b3fc8767afe0590d582961aea4f4ce07ce600b416512441a4c2ccd62695b4f7b2fdd1c32028b7ed59abd2992eedb45c0ee16775aaeeca357f9a7e4d35661608c501b06bf1ddafe1abf86f6bcf96387183f5e9f7ac4e3cb81220d0ee33c8fc9310c7a264995136a83737994da7145b5336407405ec68e1e165393133f1d6008d1c87e0e153fa3eb0682d8c33f1bc6d6eb38b89e2305a9a0ccae51dc5bbb88d2ebfa9e99cff50aba0fe25287f59d66f4a0d8db90fef41ccd7e15803f9a8f61f4df19330641961fcd3c206c76b77b1b96ae1e01dc1f6968e34078a884ee5ccce9cd7a440e04312ce4a855939b37203866879146e775b9648722ffdf3693ee4222479d7415f1688d0603e27aa33ffbd7f817fbf00cca3f225a4881e3a0b75c636db2c162a4f57091b860a5a7d69b30bcaade88cb582ca77d10e2cb00ccc7b0defa91dee3913be969e9005df16fca4b20b073da2d16e4da69409c520ecc6594c7ce2d5064aefdc2c93d4eaed76758e4d7fde0a71cfa0448168baf7f35596d0a4910a34460f765cc2560b0d3799cbae4fd2386b4218743642e91a185679b92e1aae909b18685665f005ee14978bbef6028b08eb606e1c13f1995b6927ae42f89835983f690c868035947835c4efc9a8b989c656ad970859628e1462637486926ad34ee6c182f4494188319b1810b8ad9820a2ba8babfc1b7eb8dba09f5928f6a77a8b90768c32c7cc4725dd8a3f7093c1e8e334e760f786d4dbebc44a2824fe51c45afe9f377665eaa7eff9435e4707f28fdfc2031c48d7f0ca8c74d6e114ff13e4e5e3e28e9d9bb5c878cc93145dc4fbc81c41da05ccf3d8bce18920796485f55720720f49c3bf7364b29b9be59d78be0f09293dcb385f2929c82ee4713b5247e6aa2ef2e27295d0ac96ca7ac71b90366d153d06a2e6ae1758a638a015e43ed8b0e28cbda94759dd193027dfb3fa110cb13fa2518139c82a440bac77b26f958e07990b8fe9fef6294d130cd69ba166100ccb6cdfdf51a5d36b3736f2ba57ec48962e75e480faf4065bf1b6eb01ca34d6ac0d2aa5630131dadabdc6696182bc813792c69acd9f25e488b6a3b73bbee5cb6e0823572bc92a081902f139cffbaec3946a998b3866ebfe9b9afb0f423d54f39874d67edeeca824051f60dead5246b3ff4fcd752d963ff04f875b09b8478b2698ac6a685bb319bfa15c77a54118acd3fa978e98b366d4f0ae0e6f56c5a988fe59744176de58933041772521638c4d0ceb74c3bac56fff675938b4bceb2450da3ebb6d8082dc2634df9da517722f1c08f765405a3592aea5bbb826c3c0029f7b964d4a9f3a6b795c5c91559b94c563072dfbd865b3c076f01fce4ea58e50dfb2b8c60bd56675b8f4b24e5a2d2a2f9d778ebf3e5596c7a546182634993853b8c2bec3e483f868f45789c7b6b437e2591c9282c2347d01b4c1cd20c0fbe75772a72bb27e6b1f6027c0dc680392de17ab227d26380a464247b77b0ce7ca1151b8dffc98b93fd0ece4b19b18a4eb87dbe9757acd8c0600f730295cbc551ae1d3f5f2a5c7a03461b3d6b1930198638c75e534e40f73f6e9fe9a87f195af3ce192a693c5c3ff85e6a4382364a93ba90fd1fa60551e05c804b2a0cd18cd6014773dfa5f4319b69141d642324cdbf0e1ad59a76e4366d69944b227ee09c2ca577641fa018f89922bf0d88f5158e6c1af4d3e4bc125c3d13e6ee94925482d3055a01bc9f79fb2ed6f98e5e176556a36e17dd531b10301d06f95220c043f38b0c947459baf75d6e9b6b1dbf13d4f86e9d4085fad885b696a70b55f5213a429c8b570160b3ee7e65f9b3cb1713c98dc77247110754c3869f7af2e1a479bbf79219c257615a26dd183f97635fce1280173e2b5ac5923b2a1be4afc499251e9e9ab3db50562e0b0f78d6490adaa04f0656a0cf4d59582f7d0794e6acacec3ba73faa7efa992cc7173e4de7cb5153767218182288cc0704ba727f80171f4c0bf23665ec062781551a7d5be746365608d4c1dbf7f836f7a99d8e15728fae171dfa0773aa12e8cebfd4b84546e1b729f8cfa19db115113561b9bdc4520e2ca7ad5da2a41d9934c63b239a54d7caad48d36ba8a1101e5b7c8b801cd100a846dc39612b4395d84313d2ae8257bd1ceb726b461aefe0c133db451d8363641e2aba7aa0c4e23fd441d26a046f6c71f32fa8cb3e9fb62ca7ffcf4582e43cf2ba881248af8a0c96b3c3ec06b7d6c015c7031ccb818d2dbdbd3c08b9d948531967c7becaffac5962f1cdf3a88a63360863bdd3ceb7bf9e4d87897978dbb5bac2abfe89f1484e7d617b2bddcd1a18b40ba03bbb13cca24fc917ae9e4ff568fc42fb1a00479aad821359e4c5b4c49a9aa5e51b476b0124624ae0e6be7cfb566d4b679efd5effa68a2c37622cfa7727d15b0b8a9436319e62f4824e9d35330297946b2b4128e7b5f08192988999c3268e0a62dcc53a3cc1b910a032fcd830790c8aec13fb99a998ca83cb3a76d77bee7185840170ce26cf969b5e7426bf7289249109512a104b85b1194e492fa620746382b2c3bbb7d6b42baf64adc6d6dcc2bca4863655e82670aabed84474f12b851f758f776e5a68a01458a96fc2a3eb0407c9fd7423e63fe2444a98d026fd01fcc429ab9ff81db723b6771d776b993441c249c311e7aed4e375bb84b495c813189e5aee66612929a560216256c7e0ff927540ca5ff107389eb549288e8df3880e4f00fc5573e72f05bf3978d80f6bbed9e13f5d8858c2774e82e25cbe3a040338ee47dbd62599433d71f0e54e562c27635a6d70a865fc6da5f613b2a50195adbddea4c3a2d0b6390ff428069a9708b6f1837bc297c07642ff783c96a5153df721d976349567ec58c5bcf4d05072622990aa5d3831e23ccbd9e00434d485294846841727e87380d5859ac8de929a1f4b75ef27ecee72a0ae4257a386cb46655a741c75aac25a295b510cf19dfb6af12c2dadca2b06876ffcb8842d3bfb2e9afd798a18edcf476acf14a8dcb1d9d59e1e9135e8d255479330b7d6ec83e6a316985c6a1f8f3b8f9d8115bb8ae8a89087270cdc9619f4a29d8162f11cb65294bd404f799e9c9a6a0253903bc0a09e9dca87fffe20789490617075ec5e1418387ce96eb9df07abf893e80318636a3351c92781026749c8ac27746bc0a673d5afcb39a2df3accd907937852ec133dfcc1e90b04041cb256549cc23f26158a5b3e5e0feacc333fd82bb4b14ded96964638775271489f96873a27f30d9dae435d78243a58a2e38265d98a79f590acca9d13e7c21963174f5fce5ebc4a1d6e16d7e3e506be6de2dd449bdd79c62b84904e582cdb1580af7d5601120b6a1b7e129c63d936440558ed021e66f8809ac4eb310b9b502560a992e2eceb53fd50a91ffe955ff3500a9dcd132fcf1a8b2825733a5c3e56930df4abe6e7151f5fa109ed5785f70a24d6d68f3e71709963fea90c1427cb882701aacf29afdc8d0bfc95c2a71166d4819c70e7a7db840edb2565fb624b1c97db20b5695b66c64117d53f4428cdb507874743e45b01cb3a16c8c194c06258d63fe8557061ff18af0db378813d6936d824c5ba67f1d3486d1259abdf14d46ddfc5d997c189d90430e5e61af9930278bdeac9703820a8e18dfbe0c7731059465bb942a5e4c2d7538bb5920493cc024b37c379b26e21587e9f4186cf703c664a2de38154bb137d81b06c3fa73e6525a58f1f1ee4fdb939b65e09eb69eea80624150b722ca87a9097470ae1c1f065e357463ca8e2b3be44c55b1afe2562207dc38dc38990d65d8667d05881b186b62e407331b79d84e5a91d23c6fe6d6f4cedc11c6610a0214030c804b19448646855fc031f86e54624d380a01fa07f2693d19319dbfb61e02b5a1f32c36461e491fe0219ed71ce2b5226ea1d922726911ba8bd7017e0df2c3c1e7538f0e3ae917684bb5a12c98997f68a62736c8769b2e7244bee0b9b7d16e17faefd470cb7edf8a8a0232105f2eb72ebbebbacffcdb1860b1f386d63640ddd1ddc1f190b5d46b6c14190e3a1e059a9c6c1cdf0ffaf1fdb789922b3e603667420526aec2f62090b2018605b7fa5ed004360f4889e9555cf19d726e6dcd9ae94e7293f3d724aa5d5227483938a36e31d46cc879f79c172fc8537eed042a7fbb7f6643ab0b0546a230bd7d0fc66f2602e0ff7ca87f2b460c65ee1f819556cf26ce0b47d8cf1ed61c5e250eebc7f3702f543dea4cd6ead5c3f2faf96e6490b5b2573a2a9bd5a83ad589bc9d416254bc68d2ae634775cc6fe356d9dd67fb5ade8dfbe03754de045cb52026ef61af47566bae0051800dfbcdf6259e4b1a9606dcd4f10a725e0747f1a8242f2949df0d7ee7c3256d240710da83be1d1f61b189753449198fc5b58884d3254f91648f175f73ac7cefcaf913105ff6671e422faf77c34bf974ef54fb70d11ea6f10a6869234bb5b3c0cf53758ff69b8b80f18de58dca064c6b07ccdab3036e068b4a6a56055a45a1c4d8ea54844bd52d4b8339236bdb8996e9b55bbf0464b074a08ac3901add7b698a92e35cffd00bb5779636f18ffe948822841c1184459f0ea88be5328d9bf9341f16b905ae3581de6859f783646390fb9af5268f784abbedd1b54ae332223c65e0976b400d21a1075f00493e0eda445ad68d8667299cc16de0c7833483ac56583b1581e6d3baabb4b8e45f9fa653ce5c1f844f2c3cb959d8b2cb78a82273202d4b540a3b2ac24234e9a4a84948980e5197fd65dd80ec63331491cc5cce630d344037e8c86af42683aa46733860f89f47d3632863ab1bbc6496194b1e1d39bdc22d9109a3bf53e7d4ba2d5c67ae5a46d5b11d6651674c59a8c39d70606571eacac2e46e42633f88f1bc3547e74e3320c9f3b16ce078c34cbf64374fd9f5df8d80c394275ea26c04909565cb79d37008eef3649b542ba86f31d1079d06cc9e6fb4ff659fcdf2e836ddee3002cd87484ff1301e67796e3890cbb2141029136d2d019d436847b8ee0a86c63dee18909f7392d08ae59b5b22ff27e8dfb1dbeae44af2082325ee8cb708e9246c203abbb9446d943fdf511451a5f8441ca8cfbd02b5cd7f848680ab600a20c97d534cf58e0c00d9ac2f3d3a16ca8a9c594709b3b8120bda70a5714f657e91df46e0371c2b471ef0a89568d429128803b1d344ece039a4a3560af00665b26c70a6588b70eb66c4e5fd9bea177e699f9f9c3b31160695876530b435922b6104a78d3f2f05dc32cdfa36d5c484757d3b803a8a1bc81efcb2400aa01684d4d185586996a41d121fd0a370234c76d11b9f22d110670acd3606b9ea5fd0af3ee9331b87e022fa5777e4494fef94265e879b5e9a5efed2ff7d9215a154cd48ba8c7f722602a1b10eb6fea2a847cd480640a1a8ed13b6e26052341d352a6de97f71064f82026f86f4592ae20e7a5e83419946f48602b70ed25d6508c64d97b75202f275f34cd7b15b1bf520255479bf1b2cd5139c9b4934d9520e0f9193c47966f444ed7c633191db9e7f4c470bb6246c8a80e6beaf1c51b205f7f5e4b77427ac57becc09f8632b3a02b5847d827a64a3567b9618d96395c3a9447cdd045f84779620dfd31f2b16efe44089d327eda9505c58afeca138dff2591c7320ff8ad80a76106ea3e4f6caba0c2c20158be741779f1cca9f40dd69323664b6933299fe772af4b0fb7812b5d8086ddd1f9f2bcd952172b6f61f63f9d525d9f7b9c283d7f73cfcf5913ecf3c603de191a4726d5e1465203538fe42b6d7a08e6c71d66e55ab7a1dcec3b6053ad05e931988ce8435342bdcf1bdd7df70632cbea2c6baa515d7e46fb227cd129e9f35ac40a0fbe05e9c6d82e3c7df5dcab089dde3955ea8f9b5e499955b102c530adef989335458f87edf4472ec129562852cf970d29b9bbe8439b5b8a31bf16b7a2c0fb5e0c37188273d58b27e1ec1730da415d0de02e04d584a2cd5d895a5bf2304719f6f31e441333b90ae19c0a76293b96d473a8a2e0a2e4952ca0eae218489f6c36c745b163c0a14cac6c457902b752c80b7c47a74084cac90b631034fac0af69be1042259bfffd7b1573b342f2e3b3df9e241c66b682e479a3e5ba0f5d87851b18d8892df30713d468a293100309d65ff9fc97a66162db1119cc91fa6cb1c7541d26c4c53e506c35ed8f75e7a44fbebafdb1734cf306dc68bfa70841ffd3f695003b61217d180f4e4c2b1f9b9219a4abad964da037406025ce9845eec7cbf498ec9872dbac91080824866845d477255352c336248434bff3404fadacd31cf0b0b5690eaaa7656984fe20752cda51175bee7c3452df551686bde5b8361c8ebdaa2d10d53dae147d2b9d46d4ee36ef8d7571d523a77c98519566a6cbaed1300f0e10c27b6bebf7cfb8cb4aa3b07152baf80b63b3faf468b0889eba622d1b340744b1fe480f6944ef14a7d07c765edfb0f319b5e53c0b36e936d2097b0b33be790e45cbfd2efd8d7bfd7ce2adab431ca6fa1d632092c39195c785dceb064995ae996120e826c13f65b66559936c5da51b0e1435552b2ce53e9924b4d740671d05b37b11ea1599d0a4d2b2ead8fc9d346e8819f85ba6c4b2decf9067bff65e511e9f343704c0862f5b9944e8d11f037e9dd6144b61c1a3005750be9b4a4b397fa85822e04d73c5801b1175bd8fef68be6f470a08e2dbc2548429e96bf18fb6262564f79e3941a05ab069d78faff7c7ffc4794a5ac6383512873125d8b8717a95158e17402edd40a2f30f24405e196e2033b12c814f70d9a7e3b7ef56f7ce3b39e07e848cfb225b27591e96deaf7c9e604a7a26efdbf0f53e26690fa7eaf3c9816e49700e70dc2bf9bdcbecd5119245c477f3b6ab0b675a9f28b9ecf701f915b198a1a0bdbd1bde8c3d0a8008c45912a0090f8e5890e2b12405c36060510dca24b5d6791700a3579b6e3474e075f275d2876c6b8790ad93a550a956a9dc750ad5a4b83b9a7c3e915e7257f6ca42b15d1ce9455be5f955f06bceb933371490ba1a3743f1c88ecc772540357a1bf57c99e4a72fb6568a0730da1ee2a7f0ec75251b40c336af7fb8f033336968ee19d9a29ab6e54fde359b177154672ecf629101b6fc559dac21114756b78e7d14479ed492723f02f16ecf7cf1cfb5dc77aa25b24911809f4d738acb078b268d74af94b380a776bf5c37fcb33c5ed0b8c60046f566339da33cceeddc6f7959865c9f5aa17b5956cdc5940e1a7abe9a88cc745528d1c352f927e2f22b537b3e90f22b90c380a9de8cb07258e0af458e73d013cfeb5f525e2af66eec739deccd8eceec352e8de1d053a9e1679e2ad7e5cbe01a452e4b006e07f1d2367918d3187c79ce32742d4e0eddb9507530ae95a1a3123a37484c4eba2deafa5e61a79a1b9ca8a7ba2c654ffdd8e3ef40ede3f235f99f6c73577575039422384a82334dfc12ff1e162ec4418858c009859a6aaee5a94885c036da2f82c2325e85998ea7693cb7e2d1caadb30babe29aa1bd41bb81117fd1666534beb71eca67053e60337ee8c63758977899f6d9cc3ef8cd7862ab4df6370bd83729deebbe004c8f8d61bd42571cfb73dc91d5eaaa012793629b21756fd06cf06afef765efa6631bae05a01d1fe8293b6aa588dc1bbe76c4b30784008f6d5a0aea9e3fc77a735d45cc5b6cb367c21a042e01d942fb58805e9b8d74ddbb4c726565ee872a6049a15c5870a0fbfebbc9124fc4cdc73a43e9fc51810d4a9f1cca893555f3a2c5464305538499e0e0ecee11b41dcd51b9259f2b945eb2391f9d55193f3484559cdeb4f1f105a941d176c9984c984436905617c187eafa4aec97726a7f5e1080df7efda21d08fea133481bf561ae32a3e07b1c7e8aabb5e229522fe24bd121953283adc65a81630bd07affca071e8495570bb08460ddc1ad25beb5598fbd1a66d664eb50ce9c773a0c772ccd6dbd07815ad2add86db2be645ecaa59720d5dd45834b9c46beeead401f2b6a7469e7f715e1e8b402a89325bbeb1ae76c30e6a8bf3e6dd3a594d118d9c0409aa9dc7b56fc300ece292b5c42d1891a5ae905c47ebf8b3ffe06329e8a1f358d7e1221081e7142af0d7c75d90396189099b54426aab0475b13ffe730a8a29c95db739379c8afe6bbac7dbfbb466d4996acb8e573876211438884d09ae1c2423565359c9c16ce0b192053da234af8c575f22939c635bac8fafd34b1c1c8525d83ed9b5823b4fb929655624d40b642925397a7bc458c5c5439a2d41f0133d147dea2fa63570a9ab6adce5f985eaf5840e4650226547e9e059cc12f4bf1c9c008aebedec889eb6b092483d47e9a4cb8a946bad81c74d02d368df4a7a1e2fe5f0e5434a75556a91ca40a87ad3231344aacb6400d552f6e3082ad87295341458451afdaf8077ccf7d4a69c7efa56369bbba9cc23a4a8953debbb538acbdc5bee68c24e1676a421b3daf01c4cedb86694c55191539d3f393ab428e2e63ac12c769026315088c6c86f3c8a3bbb83b97fbfc9b696fe46c9a1c253f90c328607d64a2958e45603a781626e9939b582103b005e6840bc4b21d4cc86669d14ac9018ceaf8e8fd66ecda77cacbdc23f33848485e317d9e65da1775bdbd4f1b168e686a946b7a512ba83bf98a18e2a1727c5f2519217d34fc593be8b549580679c94941211a894b4641c3b264231f819832acf3eb97221b3650c8902548aaa53a60969fbb223ec5479e7d7ef4f3d5d93e5dfbae1b9eb650edaae195767c0b5cce6bc02ee6fdae76e95de100b78f012db7df0bec6db525b08a53f35604d36d7881410fa1d852625c2367df21a2accf69b20863ae82b8571a0951d01f3f212c15cbf8cb24315bc73ca3c37473cfb024b40931a794a8655f6ccca0c71a3c13eea7f44ff5fc8f88c050f4b23ebd8b1f51c3f84dd0910677c86a9fd3d98114418913088b6881cf0a26ceaebef4b7cdf4705e4e81dd42f586b8ce6b11a9c11fd0eb2249c118c6d2386f992f77fde8da00e9bda4fb44203d467a4ea5124bd1e5fbbcde8b4e185169c69a93990ffb14c3fe26510aae2f7ed7f5fa0200e264ece225907d094072cbe6f4453ed87870b7ba19dd5eaf50e22672cd996ffc435a737e2dd35fb7d43672e3bf4e233c6cc4993a31be6a2f3ed19e40be17581c69cd5fe2e66881ef16fe2135bac5089a33124747974f08418b97eafa3687cb6c1f5fd275cc9f97c11719098fbf955cc96e805ce11730a7afadea70e7f73adc43dec520a75fdb56a97559500f578daaaa0585fd8902c4d4e91fab8b6399517a8fd74e21102a170f1231cf210205101d3d1744f36a8146c6020ee40fe9635a0017d0ce4173563c169726192dfecc6de5b743e3715561a9dd53ce417cc3e55da2fc19e91eb01df6314e40b829d759e899f1d786c3776dad17eca21c66aed0b53d105d708b3566a0aecd6bfce80e468fe9047fc162d7eef1eb915753ecde33f845044640165426453163eb73f908bf771609c32cef5761198e9f2e2a186b22bdb6547ac969c4faa8eac2f5ad5edbbbe4862c7db3e3f63101ca7afafac09a766ca13f4c55da6ebac89d0d585279fc12e99f4c1e6ebee9563977452bb2ce2d3c93c7c0a968ce9ceb66c05349d67ce15c4c737cfcb254b6f52c010695123b6af99ec6a02b5c3496d804f1aa28b9e286898806e817a916109e3d5cb2a00a6a564c646cdc2b5d66bd63967e1ba16e2e6767bc93602f6fca76d63b7e7278959833346dd6b9866d483e57c88eb9550e8880fc297d84dab91eeb69df70b4814ce1670e10dbc1d480ed1ee755096bbd4967cb7b505dab5ca411acda9d1338502a0127bf3ff56e91c6ab742935db307cea6d96595c8940305739ce1eb41521f2025c4e1eadf3c6234daa4dccc1075c99ec6b929fd3c9e955b4da474d5a0a276483718da5f0c211002a84f07d1ad2616b4f7094469a788728c339c785daa7e29ed943ed48ad374fb9f51dcf6e8276afa1c5d22893686e0154837c87ed6f4642f99e591f01d040aab81d9857d1a2ed22ab157b72f91f9bb31621c2d7be3d27fc8e47e0d22d979c9a094fae549eb495dabe2dfa88d844fe9d4ec49775eca04a4afd4063b53fd2a3a3647179b0c01b7acda766e20282a26dd37f1fd80d71eaef4c474788f1ee2a3ddcc36fe63a9ccf281a83a6ab92cd75f83c9a4480150b202a90abe2e4cbc22c4e72aba48345c687aa4fa62ba2ca7301673363ae8a2b70d148aa82ab3d3195d9d530db7723fe87a181e22b1ac95dd8e037c1e6565ba951f8b16606590028137faa694cf5b58317552f33ff1d06a72ff72e94e524ed988229dc81a8719003f8c27afbe2a616c3fc6cb0e15eb820855865de69dd36915a61d7c5f561b5b485f06095bcf6465f6990ed43676b0f01bf11aaacc9d50e35e2c4f1af4302a351792e222942b82db14ea4650cdb4029441ca11fac63c15b91d9a6c389c6044cfa8a20621642b339e1a31b271c76074cb2b1e8e0b5c91d8cff80fbb1c5ebe694aaf3e270bb860b8561f44b05013d93a07363b847a17b0eb22f5a86e98c7c0d903dc162d3de293ba8ac049e058e7076a6560f99f860c3a87062ea67c9fe399267c4bc2cc623945816517d741a253d43ba5053208dbb56a8faad3bb3d1826ac08e7586f2532581d651bc0b3be5547e4c774fdefb94124f6483da458593e3744413a5a8b5af0ad18479d6503415d701addda35dd4f85d92c4543f18ea6b2f339ed12152fad904dbca945338d1f2e218594db9fc3d2f4884ad12c8cf3afe6fc5996255265f022e4d54003ddd4f1e54ae69bdbf1f6231d504fb04d162c9ed8ee64637d93b515406f10a8f118f902a418b43228f243a06d5a8e41e2ec7a85bcf633738b27e2d1e097d827c6fb2b43bc2cb9c01ce33b49211e50fa0b66e19bf910f47fa20bded890a9d51a085bd01e561e3df4387afa715937d26c45c82e4a92a7bd4ef056bee5b6b1d368c1764084ded62c5584790babe79f903f7c13ff9aebb8ad0f586347641b2f29a49fe5228c1a756a22556f39b6822a8cea6be1ea7cde59f34a5153dd67145e1776af9ead37f7b0b70bd83ff13631d08f4a9cbca28181e87996b4d58135e83d1a432e3cebe680f2ee72ff9f2fe99d20a48458c8514d699778d707cdf61168a6a9ffd714455cb6b8f6d2c925f100fab8480dabb9f1c474f44d9bf286b0170dab59e3945cb2b2c5054211a44466a0bf24ec4b63026542986ca44adaf44a833594de3e28df34cc21c4524c94c97b7297374749c1746cc6b82a171d28479d7571d29c9b8e9f269e5f8a02500d77ad92f7f0e8152c496201b8a6a642e1cadfe1e769adf8f62aa6f92771140a95bd2d71431d88c403eee01521388620d856c198b931ccfedf0ec12bfb236f2174008dfdfb05c36ad7ea0e8c9b361a51a364a8397274c90eb6dccaabbe99d580dc05ab6b812a51d426ec3cd13baf8056ad52da970447efad6c769d2cf63fd8923f14179af6d8297c62a681ce9f45ea36872bb6d7da072ce52319dfac1cc1e4362722e9492be18ac69d1d370ab0fd776e2945f36c9d3d3dc499dbcb6e3ffcb07de1f79b3287675465d2bd7d8b92771ccc7227e56b2d4df5ca4c677b29a7acac5927c4b9f4bae2cc8b09b9b9e45fc29e438a1189dbb5828bd09d5a745537e3c40995d742f565ca38230df0a47f167fe7ae65a182eeca38f8a1d85fe145e9d77f33cb7bfe70147639b5a39e5c94316ac57f5a9fdbf836650b751fb8ab374445a217c502fc3766d515d931330c4b6c7ae49edbb8ee4863dffd543fd25e8f71047ee2e3286fa0d301f838fa09ee4d39479ab444ba0c2ccdb0e8bae7f1dbda4dbae606386f25cb2c11fddc62753fe93ffc8f8b5aa1d842729cb5194c3d37c909cb6af055023594c660e8e5d144b68ec4f473082955890ee137fb5089a7fdc6a46eda4a7c98a43db9ca7bf0b54e214e7a8536a8f7c10db5da5c2772bb6cff1a91c061d13809ae86014f8b70b20b8d2503cb8a58448d2176a64c5f267401a69e91e68ffa3ee3b612857e3083bfa6993a2ff7d67d285e48e92a7b8e09a19cf2373418d7273d1e88c863913cc0e27e881bba52c1b6cf2cb3da6e3fad8dbe11416ba98a6199b689d771191b0debb3a1cd6e919520b6fbf3c320c81e4e11695603f509efd41fdbfb76da37d5e0c1e22698d83846246bda58a71579c2f596718e153bd7f1ac0b4287fc73d32ef83783469bf39fdf926535b11624c0f953b1a44dbe538c142194707cb2df11eed355ab2a048136abc37f7d89cd680e362f26bbc4f5361b7303610f70c4298842f55d65c88cbd410d3de918d7c19e90c98b33f402706a04545adb6d4591a82b12372eb7852fa8a0c69c670fac63097ac2f8ca04f18de05305468ec15d07ca87739e4c307fd56c047b809b60116d9da8ac5458e73e13d26fdd8eb860ef6e8da963ed17804ce6e9f06502ff4b1d14cfd9f563e50ea5eb2919d1492a819385b0c88677b35103de74c11ac724a98a0b26637831f6b2ddc9963cc2ddab694d23d5e87ea0f5fe1de3afebb2f00d3b65a48134bfc141a58dcf8c1ebd39f91d6019649a66525179387a371c1122c00ef4cf1caeae81906faaafc80d84bebb7457573934e85d9064a0bf29a5faf85a1dc7bb8dc69d906be51d3bb2d32c57fb94d9103654376459ac88eedbf9fdc478aebeb566555fefa7d6f73b1e6e4e34d4d00f08ce2ea067581e2706bc89f26933ba1818eaa35b8fa5e18867df2bc9f1eba15117348d90adecc1b1c4ba7d0a01eaefcbf0daacc0f4d4e9ecf8cc23a90d329e10b5bf31726c64db12955e4647caf827a8c4b554e713748ee3dbc68ef035c8f2c09ff91941782a710fece985edc07b02b303b12c18e780b1482e6585fe320073e96b157e4eb8099bc41429677c4c724050dfa9424c0c6f8fa3d808ac63b28874bbe936395439b95b74848d319da1e3342771f82bc8243998234d9518f2ac2508beada7b60d55bd3c2a02870b7beca834e3ebd80025148082d9181f89d31696da9ce208a5cf61c703ee92f9e28719e2043ab8c02bf19fce29b4f4447e87082b7741ac4ae61353af4ea2d5f9b43d5e1f841360a7f9e11e852185cc3c83136071796c872dcccdfe38aecf0175cb8f42782f4720bd07171cbb5e90b34d09e7d95e719d9e851021e6a50f04fcff26d6159802b6f053ed24fdc79669fa5dcad54924783671c3857dbbe8392ee70c45d3fa276048d25b024fbea458fade8fb96a43257d17c31e12f97411a616d6afbbe5c9e7705e42e979578e6d83671f5ada6042069619f687ba1c7d9938608ea0720ac7199e6647a87d16ebe4f2609c38a74b19ece9152306cfb94192fe0af882c0c493bf90c1b3b89213db29d8befbaa4c8ae8c680ea7c470e447d312e2f108e9ce184fd73d28b9a5b9e07add5048907da8864585a63e96295279918fae896f4db3823e6d50282fc0cfc4016806a6a57110da87b3a43293c7851261ff558e5074797b4e2bc459c794d2c3d17ae94a82a98cc4f08b1a76300d39eefc660ac6404375fbb9f60577c983f2f2d9d4c77c45d3b7f3f4b1c59b8e80ff7d5db0a0954e025067edacfe883d2e95d78ed69dc995f4049a77c58dddca62bde880362ed4346d367d3f08cbc9b4119729c9cd62486bc6fa2468632ee666106b34e9eeae974f1423080dd5ef20a0b550bc86b6c8f5da3af4876211298238252a03c8e3bc6a3ca029b0e4dd8fe63733d7e049ea4c6adc8c69b18998cb22f715a2ffdda594fb07e32272a33130b8122591aaa99d6de5093e977f3fbc9238c44fbe86bd7ebc33e12137b1c40401035ae7defe88fd9f869cab7f167111130605424f30c6aed43e622d03222232d4a04d4d96ec69b465191ea3fae34a153baf87bb7cec8d7609d3b2e388cec281906fa2e7dfce4172a26f097908676845a5a10a0a7e5548f3943dbf8a02282e072baba7e18d6403eedf8558f266436841fad40c22dcd81df5842ad8c95f37e0ad47b08bc7b90084398b936ac1dd6929143e31b3a0eae86bd16888815d395882c1173e89d6117e7a62d2a04b54592f6a0d34e4a9c658320622bba5f8527e3aef97b4978b2b3dc81e14113970ea1af7c836253ae4df81aeece21ee5551c04ecf3564a486fc0836930f099ea72de721561bf60e7940186a0f665892c86b9ca98a38609d830915bf436d93610a8d43bb7f83f588fb3f5671af278bb9625ebf29d152a0ec6606ac0139c1fd97cb6acf0430777efa336ab996df072ba87a7a4d0bb80d218c0038ff528abb95581f48949b8048c3fe19fae3de24a6dd1a30e459eea78cdb100b2c97c19e053751f7339ee8446da480edb0cccbc16ab67ef77d3be419c2014281a64325647bc9f59b6641b34bcb51a1347b5c8ceb1368a6b65c139bdce4cb46ce390589010db361fadf13d02a233ed671544ac9a7fc08b0330114beae77e71875ae9e109461a7a7bf9ae088639fa212fea6b3879f2c649d4d62f36dd04748e58b204d4c347038c677ee1d3a2d362f9028dd2ef93a46c67497fdb765d0dc2800f5bd2181be4e99ec32f2f3e1ade42ab5be8fb5bd549498a8796bec4a65bb76ceca6d71b08d16fae828904263374","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
