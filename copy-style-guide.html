<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3bc9cf19d81aab6fee6a05a05019aba88e038a476dcea0beac577cce53d2fc1d777d644cdb271ce51f2e9e147a4dd1f352bf474c7300a4956d67c213e2d20520f16726593a18edbb32b41b143f87d4798f9c418b88b27bf867f08ea01241cae67a9c4f6830c095f0a6fb57655237ac5d8446629c6828c7ccf0518dd0107f31a244ab80cd557f412dcc05f13bfbd038f61d0cda01df2b447d901e60b4dfa04995ca4b68da5f2c037ac8f115e420ca42418cbac2af3f1025e779d264f7f64088d02d7721f5d4a687d4f3baccb554601ddbbdf9a922d4c7e5fb310e12bbf1fcecc79acc9949397932bf5c43450c6757290fc224ff191c3cb6c516265fba878334759fc583ee900e338f4bf5f2e7f67f098bb66de421117e7704c1d236e3b05c5eed0d578fb6befd5e39130bf81420dd34ece7305dfbf4c66595cc1e78a259b59a1e1946d65ec74707c5f35990581a0036953bef04b476240049273e1348d03ed66fb511d5469f35ac9573ed26fdae21d73a6e2a1ab6d41770225cf9cdda28e47f9f52d6cd833cf34c848b179ea07e43cf0f74f48323859769224cd3605dc1a39c61cd6b623d4fe625a25484a6488adfe9077b3b20431619f7c96284ece4c8e0ef4454095cf29223e5579ea919f34331ea9af82ee5759664edb3c2111517aaf1b9cd13621bda5e768d1b11b14f8c71bc2f6236345a54da2f23f6dd103fa65d30caa80adfa8976a762bf15958e84d6e62d336250e53eb36604b6b13a07cca48a81fbf0cc0e6f026861af86bc048b91f92f125276a65fb3d7c40bd8284b102ed22d4ade54c700d7419237c893463823d1a0173ff4b6adcc8fba17310d3083317442c2c58fd315ea7ab552703f4071586d8789bb50f6385b8887ddd5abb9df0d646f13ba60fb5476b908d8c7073ba27b9b3de641f6301f3954e5d2f3fd1bb9abd3155c03dabbee43d6ca85c7e9f9839f4176a18a518b107275e9438a685322a9dad3722a3f47fe650d3a02d248af7064490a154eb1f66dd9c387984f70ae45530f7d8e8cb7e0f23e6deeeb875ee9529f22d37423890e044d18f60ffdb7b36f52a30fbfbab7369bf8aa740578209e2d050b0167ddafe9b3cd56d5c48a85e1790a3c1a90cf87495b7242e0c63fa562c2be3a9f2047d2986f430753a701c652fdac7479a0bc78291c6316b56346961cf3e726f8bce79161c599c305adaba36bccac032f8def7c0d5897cdbb91036ed5688b93dc80d6251d13f719d097c9ea5340290a48f2498805aabeebd38e7fd7f603d17e51840445b6955c46e40aacc81f6cd4300e4498c98de13dd5ccac2a21f2b7cbe867cb416582c0700f77649b22d28b8dc794d5172be66237e1773d097dbbc4b2323a0435a5605ec5b17d12f38d518ad1c422c4f6df925f950765c71d8612d573ea4454bbb937c88dc31a6874195104dab1b93f0e120e5ccb77c29fea5a66d2b5b2ccef54479bda2a57f83c97917691da70ea5a44cb728daf67a11a96a8485aac3ca4d10580269e0e916399472cbed30e78c4cddd25f29cabdf3ab3b8f48c936ce3271c21f62e86c316f743acb2456f9147700c0bbffdb285f10395114f9145d33461ea5d965cf435b5168cadcb0ba0884d93467e37b4ad54b8d1fbe20908b98a68869ea516b6c9c619c4d12187bad2d66ca5824bb9d9020a1f4607f55f48189b3ec11a3882b21bd98cf85148c43dd468683785a83a884a436650b9a7d6555b3e7f7fd6df0ae218ef15872882b63ad758afe593361b5842273797b5b074108a09db91909ae8fcedbb79b9a456c7e4b0fdf9f67598f1e763a5e28e6308dc206341cd12bbe65226a99dcbec77ed68c052fec8ca50a4f528ed9589f3635d5c7a82a8f26d92311feb8ee247eebbe10730b19e761a9a0a48c4ff29155181539d731ff3d077bb834dec16d713ab5e7db3ad83d2506ec489442c5666fc6cba02d127a5c0a4a6e10c6d7908187615fbe37f1eab7c8c1b76e1bcad270a267078f686faa63f5a40e3c993e2d04252ca6598cf4d1b74fa85e831b8fb330d9852e55d7ba76a76ed2620bc1b5816f431c847e63181ae52409009ac52a7d4922484ab45db7ea73031947c4b2cc85c5f28fa1c5bb9184bcd0842a6a701e5aa06a7a3650e1577f271459978265b8a6e138c3b8eceff1225b16e80753273582012d12919c188cf554c7f2498a41933c43500390f58bc67d8ecd24e3f83fe7d5b6325de8b134f005f16a3bfa16353ba2e3bd31fafc5ae38a2b0426c42968bb8bbdee0f573557321cd5aaa00dde8a6e47355efe5052d9d6a17b1809ae35a1c0fc1abcb00175bb8ecc876e932d10f7b4e17d923270e1a7fc345ea20d8edddd94e8c57350538fd8cca6ef852d49fbc283c63d1321723fc201daca7cfe87f4ca7215e2c488f171263747d97f7f3a96d23c77b2981b53ed7b95e57c269e8c16a8f06681bead2f2d34052b90ead3eaf8c5439cd0e7a1f9798cb3248cf22b10aae886cc8f0eabb442e228f4a70a8aa9154da17f3dfffb274cc0b38c52f0a7d5b256b96cb24661f0496b1b30cd172093e7f973517d4d7b044ddc8225e97a578c3186583eb54e39c4ebd09e1764d21a36971e77bbd1a1ad7fbc052666f45fb60e0d42d9223a6bdb2a17803b77753aa9daf6ce94792ddf13b9e39870f048f602afe298a8fe5a389f120ec78e65fc897fe4b6c43f68e261e94252611cbb17b2c764ccf4779f40ad6f7af7dfa688f700bc61d62a0eab2261711203750284534b46bf5338a1b2cad57f000d14dc77358f41337d189f45cd05046cbd48fdd67e05341e834f833abaca963fdc324ae5a5f431d84a0bb79cd5e95550e8fcbbba0d911e0de801ea467aaaedc36cbcea0a6304a765e06640038779465a8532257d00fc9becde4365f092aad8366b89d16560421ab27092e112aaa3717ee6fc525f1df94346781d5b5c5cbfd35cf080f5536d42c212112a52c385f47cc3856bb51bb2f8943333632cfd3465e5acb6097e10d22d7e8ff5e33f328fa4b053b10e0d19276a9bb725c7aaaaf49b159431101a255fc15e42b338ab54b9d3fdba68c6775997b81f197c166e71a4e2daed68fd4f7f4d6b0f2512725b56bd964e032f8bdd3a3755fa0df4fef4968f9499d28f70f8bf95c3b03dbe33874c1253f310327c690be2fb9d3486dc9b79e209341810959e60da2b227c4197d99ea9ef1c73614446c4e3dd919ca68e506a6a2d2de65c06d132caf495c45c9a31337f4f50bb5b42d2d4f9ea07b4abdb24edc288d55671d51b6a28e9c079fecf2010623837502573f72f89acc1c06a1bb27af93eaa68d0b302d24e9f5ea2edcb9edb718f12109076bade4fbf3c8bb564c08d44a90aa267d62c7e3d39ca206bb9e02aa9d9ecc6ad2ed5ec4d4412a63639bdae0cd4ec5f34928cf1722df29822ec2441c2087650579e3329ac8ca1fe42077286976486d607d5dafc254348bf73a29e49a383b7f89f19893ff2c512e6db672cff9b45c1504321ed61ea0c31fdedcec887ec47c98f277bdbe99df9876e3c73caca45e459184c35588b265d3bf411b58b056ecf5370a71c1c97a1c2b579bb99516d58366d1984ae3381d8c4d1796c4f3197bf2c07910bd507d7facba400ff29855eb9a420f18cc26a042a92f212808610f88157e979ece86b1765682f97f33d1d192c263037753aa20452d5e03a18cc1375f431591749d90b5cfb672795d5728c69b7e461a76067967ba1db1ceee8ca8b2a1e1a73fc20b8ee4657d721182073f1781c66deff2ef36c4264fe013e4546840ea07ff4ae98f1bbad22b88be29e4884db7df44df02e992e24a4dacd1b9483e2c046b240c9e2762c6e218f2046ab19a405a9419c52681c04640ce330be3cb804f2b7baf73345b4ebaf62910f9a103bbb8a402be6874a1e4aad2e3daa7a38ccc18a80b709b1cba4d2186e148d00dcc84469b581845fe14f5db21442e851941d95b3c670ca53b0d5462cfa41236b0bfdc23e871e82e4d52d9073b0947b2ea0301a4ba1a43d363fd6318a279c80f63f8b32c888a4da876690140a023ce3151285fc052b2e85b1f20a6a34e050e93bbb93dbe8a2ae4273c04a9ef9c08203d4049de153ad38079c977f29ecf1c9f7f32a4e240ba1d4f8367b99d43f67521726b067aaadb1c03c10a53956770e937d35e1a70c2134123854f515a3565d3698f9036370d7b8a601c46e83f22610c262495ad2521a2323116831c13d8c1bab80f89e68a818cfd33abbc44b1ca69acefcbfb37bcca4dd4f6649726185f38b43bb66608338954e6f12186912ed171215ad683c79ebc7212e4a5d1aee8ce8929fb608aa71440c3b0ca11a8e0c4081cc5117f36cc65ff01f7491b632102182b6237a5bd2c92e83743c56282de350d9dfc19a50c2dd9e2c9201c6ab5e315d0d8c0712723a97c7222e35d288b2259084292a0c367de7f20a416f938886f679e17cec3486176fd9bec4d825848cabb935896db4ec685923659692ca4a93d3b7511f54d49dd970330ef59b24b4fd8f3e195916c92c3aab248269b85b0457c8d41cf5da35c0070ff8b45bb0a46ed3ff14f8eba004a63873d94b60f0465bff2e9bcc6c6df9a6bf6f06a8cacd05e0b4db5e7cd834433391cd36c5160dfe31296a1c220c83bdb057e6ce170cd0e8e6b2bfffb5ad680a8a98a95c2b2f0b6a3a1b3f92f6feec76a67b50f27df8ba58421dfeaa6cdce5b819dac2789389fc2210bfde7b130d5e4fa3092f38cfd9b34ee1624b3f91959a7d5845411d4278b0a7a130058b9c76703de23fe2a96db3f19a989b16e7f2ace98a80cff22fcd073d95255fb266099a34ba8e5b4dc5ff67bdf22b71baccf886ab83a38d3aa95c8495315f42f06f3aeea1d485753706640968759469fd0b179ac54f7a816def827645e39ba447b05c9925e424aad2de6942f3b788558e5129bace24d9b71b44612e44bd8ae13de3871800cd9583894c5176c6801aeb3136a5d9689a0d713903fecc95c0af4e8e576246dc880e496b58e66eb888be3224ac67e06cd4dbe3f4b34c38b8cce1543c9ef80878cf913f2eb1ddb4789b890d892591c8831f0618e1c8330f832f75ccc1790391e3b963a4980999ecd98682910c87332e9497612651ad5bb0a9e98fd3dbc2ff12e7877636b860310bef9a21dd3facce5a2ac07ea79727a76c084994b9edf02a29f0770cfa4b94cda8f2614fd0666ca2739d5d95fe9b334b5b9013ec8bd682d25cdf7b046abb0b35b7bde51fcb8ff0cd1402d035041d07ecfba4c5e2e17296f2e1363ebd14264588b024cd109ae3d691f66c014cce9998142a2f64bc7611abdc5678cf3f619f1e869a627aa558e719839fc836fdd697046b5e85ef34137f827421e4a1c6244a8762b00119388df330e2c8a36ba8ba50ee40cebb0cdb288d0d725e8e1e1ce9c1d076f7d2f8c01e46066bd569084d39c12557fcb0fc4e7ec6d903f5f5fe58048a22c30c9f39da4d853f0b2e2a83a650177fdd834577dfe08490f85c2adf6d68b2c9e07d5baa35744416e950fcf057ec98b9e88af1ab206570531e6d56f61c3e05efc600c33485855a8a84380bc30507d5427036d433b3594742bde53f92b0d57a1f4d0fc24c0fd1dc415bef4f2c6ddff392ab049ae0ff04bee861dd196eea79d19515d8248ba9046d85e6dde895a85557e03ef2241d371d60b0e12e8e9d96bc68557f4c0ca674a60756e7a13337df98b447dd8f9cf2852734b9b50aadb8fbec0b491853bd2ba07c68f9cd57da993e970b3d7d4f869f80566c4c150d53e3f2a86ff27fe9b13c5a55e54660f9f579ce3c878c2e742e22db6b0a933d83ba64a463a30a781278ec0884b08eaee693ef779e3a429293f6ec926242c8d8a34ea1b0701c5c0adc31b26b691074fd067f7de08c1b9cd3e856c15f179308c09ebea51bc7242aee581b05b05e21588edecbf8d82c76558949fee3d4cf5aed077d36c002720ae5c46c29c9c2143bf74730548a9a71006b331c47e564e232dc6809031d5553577c6b53ab728259fe7b22c385631aa11dd1671faa80590a6c783aecc42bd7f023c4f6a8e74863cb0219122a27a91b7a9a2e1dff7d15157e4950ac0da1c47dc982339472ce911c4360f2020e0ec28a9f5df937212e49027cb9ac4dec0a96fb1eb3f2d2ca671945b0024c980f8dd1c74f8386b42f9d49fe54e378a2f159c56ca9222aa1c0768e442e194bb6b12ac8730709f3c8532b1d97eafd5d96cfe3ed57d3c05c91ff14eb3193051aed886cb9b07b94779f2bb873352bd21948d18794e551ad195134b86b24ebca598336b6fffeeee0d30ac5fc168145c98247c5bbb20dba6e38647a1d670c2a77d259146eaff85725d6b9a466b68c56ee21382dcb18076993271f2a1d399095e2621f87d33e4719f91e119892083a9d7ea3db8055ad36a58dcfa80f182c84ae2399b13a7a0e73f836d8149939fd10b5839764d32bf6970503427d7988d2eeaa74400caf25607d20231977bee56fcc59365f512afe516fe2e567fa6419f8c5587c7898bbb25c7e09c29f592d159c724a2dd196e814e5014112a9ee220e31319ce9bff2703ea02a8227ece5442e7f6c74feba8684fa9c1f97c50580d7726e572dd5f237b58dd60f486fd6bda683ef16adc41197f50f6d8124b252cff2ad3aba44e1818d66335d69ade21e920f7021506dd15437a7f237aff294fa90daeef00ecbef05831839975dee9e20b7431f98f57542be15e6382148145311deea3d917ce60cf9c76970294b7f04975e356004b796739259fbc104ac2e77886ad8d8812633e7723800234d2f0f616f41140cbf5bcd17a989e8a06f20ad0e757cbdcd0bbb8747f41d2d9b74186705c1103e6809ca4eb3eba55bdb3aba5fb91a3b710ebc0cb897f5a2c51dda4784c31fc206ac7b24058079e10cf3486ba039be7b282ae90fcaa82c6c7df0b363ffddffc1ec9b4912c7e321016de5759a9e0ff6eaedd4d2b32be9a1c2ce06c0f9c85b1744b902aee9c6ed1ce00304f24cdc034da7619eee685cdd5618525e82dd4ecbfc7a9cb5adecafbd192ecf55734ca115f09bfc95608a8bf08be3d9f069e3228797d1604bc78003db250e676c49b301798d168fe18ba328aca09d8c715ec06e9c414b0aafa3c3662f6569ed1e587bdfe4011df00ff8b00e24c8e45cccda4f80e4a8c706540e200fe78d222774f8a67b17e342732a1bd6f1e7138567e7415bc68a7983b24fbbd12337ada923b876d271bb7d7163413a975a933764e9481033244421b7a1d1de1d2767571cba1a9fa29012167f342516bfabae6ba91ad619bc2bf541d38e58b273524ca36a7628f9d06ba05044906eee5f3241904005605da1b0ebefb8696c3cd2542282cdd53f193eb0354a5eab8da9fbaa9acc6f19b8fb739931b211acb6cb0e88aee43ffd80e554bbc73e9c076a6a6093a5ac43052131ec96d35c5db91b825989ce44ee00d58ef3a7b9fdec69d67d29124f0d88c20b9c7075ef805621d204c7bafe340ab3bfeeec317ef6315777402ce820dfa2d26c9643b8847d9b5b3b73e9b9a4bf45371753967d1fd49305efd3808121de24385be0f217a33d21508c15fae8ada61f18c599d58f82fc3dd46313e39c3c96c010f992923fbbd4cb3de9a37d8ae81944b0a4daf507478e1d0c022974788b14d6ac49fa01871dc2ce4ab4c8ed3e7bb0c2624d8cd9520d484d07d65ba74c27840def1f426600ee89213c4402f446ff1e4a9783f2a07c81de5d53ee1befe2fe6431825044902cb483ab083c2cd8409ed557a23947a7771f4236ee80025a5f721b4c5b035c6bacf3f77f3176d42bd76c4d58f50875dfef67f431432aefd9cfac412f7f4bc8dff033c98b2b24abee464919ff7703bb6618957970939f769663959a7b243e4cba606128cd994c8f17188391a02c0e3c194889bc847f78880cffaf887d388ed3df40de6fde30f3998cdd72890cf5b42a1f5b2b83a16aaa5b8887a679f3859d11938c3b9d939b0979b445c08e016fbe7c0a886353549338d0ca4031b102e008a59ad6cfb6bc917f65e4fbefb6f96894a5ac6207c14845617bc8c735cbb0dee0e3211d356e227f5f0c33631248af0a50f1314b34d06a2e5b14a66efdcf2007a0c6ef8b37c4fba8d7615ebfeadb97386e5bed2f072d0136fd3b130d3be046867335b991a31c3bee89ed021fde44951cf511375e1fd841a965babd5b70addaf9e26e61fcd513e27d45ca51b339b2135b5066cb6c28fb046fa8e1900f80b9cd57aefc8b2b81bfdcd9b6366e936248a1ec0390047e6a99db9507d12ebb73004f541bd51c88601e9560d225ab2ed31dde7c008982917c0b3aeb00cbf3f85fe8d03e86a068cd41d32402d079ff28213cf7412f665e2da111429f97c3b79a0a81d0b47d67b9cea9ee0726e89a1b492dbb283b7560a1493aa8cf7076f8fb57ed9634f7c4c6201fae3da8dbfba5cd543f253aed27c6db4bd8c2cc871629aaecd46da54f43ba24eb24a4f436bb87c603ee30a12a687b1199e54e4b6742eb8d2899df65b6b53a8bf993394b9b6fe511a6e21c5fafbb7a77ef9a0af8ef99a03b7c5ba1cbbc9f3c58e23b7c5113e96eafda4af3002f7795877c012382432078805e2af17eca006b19bf92ff45f385aafd1574038a25a1cdc9d269cecc8b805aceeb075d5112b3861cb4c766f22a85db67b4e6ee92423374e02a920f709e1b5292c4decf462faef3af2d18c8ec005f5a37952b41b4ee68159804eed0b97caf3d71b8bfde99ff01a92d764f64cbc1854aecefa02db6a001adcd4ec9ca09d09d8e40b0705b56ded249023f93375fcea761a2cb9a7f9741fb827a03e8a1c7baba49defe418414c8dc5888af1396983cc537b69a89b3ca3a0c47035e9dee0f43718be84c840c6cce0911c3c7f0b77573f7b90e832957174f704d259d1539075a911f203ea85ad9ed03839b3f3ad29bd067d6cb2d2385375cee8270d239c2b3a1f86ff4ab56a5680a30280160b534d330a321aa5f48f58523c90aa6cda3653ae5a757ee29985f5b449066c7d2d7e2fd45f3a536bf87296f4a94b4947750cf07e65904ba82f3dd62cbba74b078cb9e0a7ab8c2c8803b1531b757cc832aa98130ca59a20dd8ac0c9658abb179afdb02d52d54d93958b19d39bc1a0c6603d563ae7170dae2ba9d73f56b183e917887bdab5f7d169d9be9c61afb014ed43022213c2e0e1a380fc6ee97520ad1e45ac909ce91ec07f008b1040afc8498b84364a4c4f0e3fca3b77cad19d96041b11ed35836d6fb945e0ee1e3d059d04ed8b971246565521648bdbc6022f36a5356c846b757441055efec41509a475a2102cae2940a60f372ac13d90211fb99e2a17b958100cf53bc88933ab5613d82ccb722337728d5141f373ad265bfa84056ca9e6aa764d2cf0d81ad4f81aef4ac112c52756cbbe0a1629bf96ed4a3af2d801564e2e1084b178c534e872dc4ea3bb44c994ba101fa54c3185a2477add05c083465ef8f15ac66990a4839b6b7074e333eb870c57254e720bd4162cf640e657889eb74bc573e479e772d1bf965d7362742a67846994085bae31480edbad2961552b5fd61a95fd9497b35c3b2c9464083d7499ecc7a03605d5e15c8976323c2cb7cd6fb61d4ec08045037d7039ad09fd0127e9603cee432e834f2d243b1ae203418a54f28bb452b84f61972e129b1dedd8facb5c6d709ebff7b44820657982c398ac1eb8e5aab15e3ad9dd63ed3e518b712ba1f3d79777ac013f05631bac3fef939ddb92e29e1fe66d15b9afb88da1ef7fb0f8f7de6c72cba9b58ce737b98fd367a4be4eeee67a59b4a6d3b90a18d261557742665ebaa978e4b85d3785f7e17c69fef54f83dbe07bdf23aa4b3dc98de38f292fd2be6a87d07fd5e8317be0d84818b33522301001f0157baa7e1f949cfd0f35398bf62a896fddb04f19cc2f2960127805f4971dfcb975f87f7044522d2113b9dda0d3395e882b03bc342b9c856453eb1ea97702a65e1cd8d79b1bb09cc89def3ae0e524acbec86802392fe4648287fe84c0344fb387f3ccbf7f3f422f74ad2e993cb66e3125db97f729f663cc92a8a508a9776c65d587bf3be2e88b87e2cf13894e3a83cbc9ca2657203207aa3115b1646bb7ddc4124e211ab60c0e0e1b5fb8764920a2e8785023943be3691f6dd82b6264ac3a04ec35e3cd2273fb6f3b33fc7a3d23e8251470e7b089a68898ab459db5cf665ee530c171c677372906c78e770fe31ad81d2683f458f5014699e795e0bc8168bfbfbb190b77abba66f9c12826067287f7c3b4bcf559ac6c0c106a58a80cf234d1ee4ee760c5f39e816a5c7382ad57096345991a0aea3eac7c4e29ad6b98aeb1a59baf3fbfb597536ebc93901217e7a8fb5d9ce38b71b129b82cb6d3f08387ff63bae29e0601a12e78059bb3999e4300b3ec6cd22a6a2fd28c36e0c3d59c2382511c91bcd140ee97758b71bd535f4b07c5dc46a0edfa0c00fc7b70fdd8c33af31096610dfc445efb57e96cb4a344ddc332498b4589d86f0821cf6492299789f6085f3f2a7fd4651e640deb54351ceb079b35b39ec235e2728a4ed40a41feffe7c32e71bc739a0779c92843b3e1ecabdf83284604f942937314521dd606a7fbf9be5ea1c47e77075394f74e76ad0c1d7f60953b33e30fb13ff9afa8026003156d0c69a8dc83b85ade849be42f1274922661d79f59afaf425d366f4f397b6a2005f8bfb8449fa0bbad49b4f09d5e08865961a04187a852a617739b4829a4c5337f91a3105032c8a87201e7c51fe701b29d6b774e323dea645b73f101f3e4019a3dbbad07ada79e7585b243b6998b745ba8b5a71e13f3c7c2d41ed408cd21132c092a6693bec9d598f68561b9286b8e90a4a95892f90dc97945f83cfe645184523a97042cab3c6cf91b48c6ffda5fe44732b61f4515bc2ccf01f0e30c67a7e5076f5f080156b3c84752bae7fcb5e7df46b934e455f141a3dde3208c42f85e59b352fa629030d5be31da9f635ab56ec89a60ef7556084a16e1e3fd96ef6a35883f99479a97fe50709fdd94cfabd3a52f505114069fdd251b3ddb930551b087c7ca34ae1a80f4765fab4710c88eaedea54b14ede55711e67276acbe0b3f630e86016e1cca4f9a7c8718a2f4d56015fc8735e223b9645cbe8c43024fcb2965c3d354f9bfde34f2e67d4b7d9bc556523f685c4d4a334e99a7b3772f4b01bc039f2ed5f72bd1251d7a47df49dc1b1da0a1fc5a2f597558bfd345e670d46f587e88b2616942c921c9658346516daa112ad37638f85d11fdd36fbe14f3a801c3e8a241d74279639548ca5a8f5dd7c6fbc0004eb9d07a4fc721b3d4e0087896bc5ea892bbaa06f719691d6967173fdc764c2e0d874478011638b027a0d485f41191e14c066609bfc2deb8544ee7387b82aa4c2c44fb450a4c0face0a6f094bdc3f41beed01b9ee21e5765eece07010ca9f2ee37fab6e5fbb544eddb2eab872e961ff6017ee1b73d60cc357ec80efb8f73be310456cc29449af77fca49052421b9b5009f4b0db96237744a0a4ad910321b2a53382f15301d7889d80b7d0b939506dfec3827c88ecaf51dc15f5b0b5b4a1bae6851b1577eb4ab3b1c4cb472709911c2061d9686342ab893a8cb918f65985a920623c91560d0fa9a6acbd2daecbcccdfc44033192d1a627569d44103b3f12eb6d8bad7f4be88157e3d4b02045cf26ba8e510c84f76b4e0a42f97a9231fd32bfc1824880163c1674d1252eeece3cab076607eb520e676104ba1fb4c73fdf5f812093776f8cb3d17f7d7da331432711d7562608d65ea9c87f3c8069fd9f6e6e2136f8e7fed7e1b250c400d4e785a6ba3dba7c7cf103a5a42b65100e44c3cc42a58cc53ee543604597dbe071b02fed2047c990307a8ee8ce6cd91331e2f0a530cd9b2a83cfeb38252bc3bc66caf3ff4e89ed9a538a1c27586d2f4383ad22513204e573e8b0ecb58f2e21fc155c637cb976e450ccd5f177b62598534abda08d5922b7c6bf124f7f5643e980641940dba42cbd980c32220fee2f657ba9a3a0dc487a91783b6d66863b6f3bff92628611b6ea1b207cc70c2e5b68bb831e9764105c73141092eb3a41a1370f5bde14d2c27a7851915c7b92214febd0a9d78009fb056b74d79d991a893fd09f24f371428a9a0928f31be663b7814ccc8125ba34f9d41dedb797c1545ce0d86ec2f6d6340d40e0a7a29f3e56656ddcf92958302d282b50241331c91dfd645ee567b1b2dc5726bf4b06c90b334b9ff0e309f9657dc4421fdff2c597cf04e4729233f7011d827e65e7bd779d99015026c59644106f6e7c68db3565f8148bda4ec0bb1d24b45b3a0cb02053419a0c6d996b1d56bdc200b0b975d4029229d965630135acb7df3267231a0afe3d171051d160fc136b2af2df85b1343a59d0e3eb6e7a0276d41713a045718214bd4e16d891dbc9d87c7011f30a999003a3d3d2ba236f58c07a16fb62b104870882506198e12791c1ae7d41d227cf214149e8a3b8f426d3ee7972c7d94f2a87097af11a4488ca015d4da6938f86cfb2813652d1e56b439422ac04b9aa8fc7a3f0bdf7c54b182e68357760f9edd45476adec05be9b67d4005c1a3b1887002eec7831c15f4000e151d691a031b1f95c5f0e9a3dac61bf9d2884aaa9d846fbea187fd3bc5dfe7e57259fe6aed6d2a2ed0fcf9597177f1b7b502caef825b7a1e16f8d58b1cc68861b70ce20cf09fb6bf2bbb21c8703c8f26f706c39f746db1f094cbf5c15584223cee42cfceac2edc52b0dc6ab3d01d129751cce82c9aadb515b2767976722d74bfc3e70b5bf4a5ff40703b5a3fb68d0b4ef96e3a40b3ca514f5fb9c5d25d378e00738784362aa6c87039c561c9d243330d19844b9fea076b94ca20dff534f0ab0a2d46f82c9c4ed580d4f7f5fb12c43d45a5ef3f3037a581d9a0b4b6d0a797b7e896f0dd77982816b704eb72d52acb0c237f4b84c8d6153c1494788cd42fb5e8ed4b4d3bfe996fcf9c5f433e4a4363b203c0ed18762eab0c592b58c619f818a9eea2620919be292960ca21c8863dc05379e431dbde2da725ae8424d7f246831e8bdd1d98f759bdc619ead55a235b8e2eee2322f67b00df446bd302220b85731f4f047b7ec99a906fdaed26338bc3a21a19ce08783501b8b56679b55049ae2989a69dd0bc0fffa02675c64d13daad81eb63fdbcd2a1426921810969166ef12915fa4e0679b0649773e54197ab97df77c24d89c2332c1f09f6998e17d422742572d61fd6b315c1685c6fc09098e50cf302a13054d66cb888fa6b2a4bbb503385d4b0980c9e731798a64028a321f43afc659a5e27ac523c1c357adba135b6aebc099e87701bef53b1b5855c0fbdc674665ef3e5de9035958131d919e29902b906d43aa4f021d219daa3d235f7ff41c8482b7ebe868cf27af36846a37de34641979dd9eb5a0e2dfeddf5694aeb4133cd96f45de14e371c5dc8450eae89296cdf7e385a3ba2e203fb2d87bb6fa76f1c36422cc1e1aa161835d056ce4a3644c6800ff9bf221162da6d43ede04486ce8bd564e46e90bfc893f4f23f29bb279442d4d2ae702bcbf0cea0dbe7c636661510d408d33f7a9bd165af7674c1a2d3c54c128dbc21cbe5b9fed47ac9438326424b668f1ab25b96dbc86b76ae497fa9e906d1af0e07feefe3090609b1e148d4b5765d75156240fded9fdd007191b1c86f71fb10941a1247ad7c23bf0a76f3c4f6250de3de28992508c62b9a87ce9a7809a0545bc59e2752afacad0751ac2c52ff3de55c7d9ed695d3ca9e399599f228c461315384201ac983b650eb999985af1070c8ed558ab3dc97f16e3b2b5ff473359478931b69c7beaf63f480848f14a7167bc3a1f421b243f6ca0fff33dcf319a9bc7d9cc58d3a85024e68e6d89b7c3bf0db578165acccb348cf06e551362bb23c2ec903fcacc58d1ff2039dbeca8736ad16ccba9a12319dbe0e12fd1b859b4f80db36c45d8b0a52f959ad728fc3be70cb877119a122bb284f7f09c59c82fbfcbab89d350edd7d528fc423c7d29bc5ba05881aea0be732974c1ef4008766505bafcf888d5ed676401e790d6dab9422433f5fac36851e59cc9a33288b7888b0e5a6a7e1e40739c90e4125c57645a623ba15abb5993300c671b005f13e984df557ed3feae047d03e8c5a3aa72238c3700831f6914128d729ce85d9019722e7f18f096da712e90f724391e6388161fc864358a157145a6b814dcfdc1e6bd34469e9c4eebc685747042492d1485ce7509c2c37ca33a21adadd50c394af47de67987719d6ed48feaf8d663511230dcce9005046a34577d077102adf76ade7255f28ba61708244495ad9df02daac78d212e976d3637cdf4065c6273398eb9ac322e6d252ba9e935fd65041b19ecb86e6aaa5adddd59f3ee2ae917bdfe13b25fe5b1626717416fe14257ad794a97c71bf9438ccfffc7e3fc7863b8e193a9c794228c4e85c1ab59259c56139ee7cb6b064921689553f8b2eb54984e69a0814afe9b042d585693f4b722dd221a5f1474cbd727e716bb6707c326bd5ba745497b643887d4af86275fccde88e0d3ceb801b0b6c762661e95454a71f92c440e3925adc998059e4670628c6d8ca049fdeb942701f8259ab08c2eae5ea5fcabe24a2554db142edf2a0f4b3464baaaa6d6f0022cd302a5acfa7da04ab05e5fe890450935e981181672907714f908dfd728f4c0060cca83b069c773c3efa686cea90fab27d3c794a27348ac8e6f8ce35c3e17baf2db88eaa8783fe2a5abaadf3111d1853ca299567b4b4aeefed4c6d2f8bb79110ad3491dff72c6f1bd3c7727ed6043cd17ba7787d9b142acbbe1a2eeab14e415a3fc45483701d9e456f4d7e6059f06ffc14197e574109983b13c99f4d0d65b4a28a3fd77a46def6dbd8ff738094e05f93c4f433bfa8928fb3c23313c73d25b21716222546e3960c833b09f4caa6ebb0fe6b30e6580900bf31c1c2a2637c78069846d1d33cd261b03c241860d6910f00c1ce449f59cb12ecc86c4c677c65588dae8aa42f9362704db65fd6de93400617d91220614924fde5f8485cff21643c51b770ed91abab3d381505c872753de6e0d8c705f4868a714347b2e96c38dbc7a28ac852aa050c1c453cfd695dcca09260c6a2ea9b207547147812db6d4603293c31f14b6e70e2d1607d7e6c840fded0735501bbe9c954ebcecd06e756c0cf4741130f9058aab4a56b0d5976c0b43ddc417ff55a77e328da3502d324f19c1b5fc192d346e6331418b17d1d0783c27100ab0d316be1a33117d33354ea26e2016d79be3ff1c02025388c30b72d668e9b950cd601ca9d1994cf917300f62ff4df6c3782cc8daa53939999f817f659dd5dc1f94ce86d3cc058911fcc5097c7b6204d0b629c6c9c7dc79602395eb2fa5f102a6521c25ffd27f762043458ac36f7905a740eea0bdad522e89ff15418e221c6ef73639af1d446379da870d672775c326109a322780fb1dac37678744bcfb4140580da2d3de1c9147d8806fec327edd6ee94cc9d533acca4951de02654905d6fec9cd4bfbceb28ed9dc452b077416effe7b16905842284f8381413d31ab99db46e63743315e34b02f8cabb9bc54afa09315105d1a44fb29f6631fdfffc1f79ae58a305d1e00c7c99d61ffe6a559174cb89a14923f82ac045fb07bffd2787832c7b91cc0a1166755ffb00717dd4a998ade612a262a38d90e77a6299be04451a9827a24d1d6b5820ddea27986f629240732d2b4c6934aa8fb6353e0dff14b1d3a664f0b398868c6e5af6b80060d28980543c14731033d13702ccf682dc04169a89c77773829564f556f3f9aad84b299689c4b024eb3119d91fe7668ba1834def8295eb5d46b3333083a2ea3cb8b486895912f4441ff51211feaf89cf812cb53818d572911ef44ad61918bfe3787e65d6fbbe6dbf4f08f0931438e3c4ea0a89270b37b38a2d8554b369c2c9bdf28c7ef2ee9997d7f7e60a0c2510739a79972442fa04a850ebf99d3801587e725a8039259819e34add9e8990f2ccb9a0cfb59da8ee918debd0b3042f63dd0079a2c7e3f0e2d0b6be52481b3c52039af2e36c9b23007270cc93d17be5cb5e4499706f9317f1438a49bb8f7ae357990fab4c758bb712bc9040a6cd0336f3d2c0028cf1be49d61d450c2416b2e2c1312e47de226d81ce6ef3bd39f2825d6ff82d89dc7e1b722a00d20dcce3fa100d32ee55ed192ac265b705ae6fe2f0e349c368d6214936bb0b89d63e7a8595b0b8cd1855a93ac4bebbce1ee9bc7f34004986f9dc1ef1db9e74ecc25ed85d127c364cd0f5b6c5d2e75b22722c4a3b35913bf40b8afca906301074d326543fd5c2d78611c822c24839fc075146ed79d1aaa57ea7e5564e03262eda419e0bdd42c00fc60b0313716db6ad54eeaf58fc883a8c0a6e1bad6f5776fbe6e1b7106854582a58ba99d2f29d38895beb165f99257ffea49d51c032c0b34b05ebc62bb49341f0ebccba2dd2f8ca8c30ca490f509947cb3f77d447ec56571668196c47b23f5c78a4e9c6debf41747030e16c7596222ec74bce35bb0b2e6958603873024a4b7a7091a30a394ccaf050715c0d3e2b02a6f3ea7b2025b1bcd528c53ab8704c5020ef8f80d035b4b86a94b5a048ffe14ad552aed009f420458d6d3ecc2e1cce273d10ada47124d1ae51de0a6fa18016ba65f7ca30d492b227dbd2b427c9c1350c929047686ae8b49c0917a7555add2d3d55ff6b7877915ff00c3219904d18c05622c7ca9ddf44435e009939292ef435068e43bab36328bebef7d271d3d1b9e01bd8a8e215d97bb3d170407b8e7809a8d95e7250ac5b6dfb73445d63bfcbc1e41814393485d9d4cd4ad9a429db73265e1cd91977b2b340f889bfa6259726e56fcf484ad4e8dd6716dc424d13da54d7bdf21226aa267a8295ee84069b8eec9f6b1d0915d6675258ef0806c40d846ab09c7a1e0e0f199fff2903ac10d75499695d1f0c5ae71a363c428f445f15e356926c2bf497976cb996b1be13366b9024ac77511f00ae4134007ab1739eaa19e6b814e88edd53d59ffd6f5d6188ece423bfa720906d56cfc4aa1dbf8e80dffb0e15e93226ba4b00c26eca117569c9eee29d193d1544fe8aadb99231f4d76852d154439b42cee3f587cc1886266df2fa1da76af665beee959c85581275e957341460876421a18d91e97fb168500a38413339d1882ac47da2dcd2044cfb88e5e3b4100d863ab491f7553449b2bd99f5d04c08eb70e2db5e4564b48f01aff6ac5e85980157386d83a72d853d357bc937b4bdc655df8241948520a8fddf169b74901822d77eab11334aac485e90ecf540d501259660e8bde5853f3eaaedc7ca8e17a344d064dbbf29648f707dcc39c73325db78abb308498e08b02cf3d14a115f09c7af9cfeddef2d801f57e26401d1fc75e533e7678a37f268e644b3b3346dac28ff17e01236c14471d0278b49679b08fb01d9b41ab3cc6ac6f51e635b4145443bdd5615d45c2299d316c98615c28fb54e7445bb6a61002d58420d887627f7981067ea24b589f4801d18b375a3c58b7fb84f7f2b5a9388132e62d54fa072075db3aadb02aaa1366abfcf3528d93b7e6021a64ceb3113df16bde122bc9ffe2c2f6160d3011ed2d0856ce237d98c8dad2ae6ae104c6efd6f72e7da1794ae99433ef7ba9b41e8ab2b3dc7666ccf583fd4d29b5d25f122a4db2d399b668905e12afd9b2f4388885566e736ee23bffee3402f3372262bcd4160ee89cdfea3fea5156e45bb06e982127f6057ef3fc9de4428451e868567a300642e86dbf047e5f0ec9541ec83376139e2bdf988b818ec480338d5a40547c9ed18ba3cb05e6164fdadeefa63b3b3950967cf6d3fccb6dc541c804b24941d8a2cdae441c9ce06a40762324d19a32ead7848f2447559dfcdb4e1e2bbd229513d9070793f99e638e8c746b91e822afe5d070513a1f9f70d4e0682f82540a8d777437709710b9f48017833dd187e6d2ee11a5438aecac2ae205d0a7064537fcce2a4e04fd5e7793bb5df58ebb3fb7c13f0cf06da47d0c07a4a24268373918a9bf560eda8cec75b9a51a1279cced239624368a7422f67c67334b3550127db65155b3051dd4f3f8afd88c4c5248d62baa4ab63a9a154e2bb1702df2cff0e32729cedbec8847be9fa61398e82dc0bb907cd8932c626654d5bd45b501da578d6a46a0b4168960567730d9603d5a22a8756aa196acc39ce6f7b0615cbe8c8ee09bc5758abf86fdf7f16432b39d8bd851ebcc34ed2bcaeb02c27e11d5f4e8b10c997f0925134a5dfb8d935f08f37ab2074104ac4ff8d4d41b8facaccee5ee14abb6b39536f26309097eb97d3cf924dac98695f74a6b64ecc20074be6b74af1b6ada8d94c9eaa1381f7b6d2b22af9e04a37eac8e23729d243550d2df3c0ce1f55e67e96124ee158527bc4d00da80c8287da4c4197d408c9c1f3a2e7ca7609bb87466c2c3b4d1b8aa564ecf58e1ce2cee24366638941cae5f7988e7d55dcfc5f2a0d4401340bf3b8acf874e2cd9180062991e61de15b9c60571a25f757816943705491b9e47d17956836856c45c30ca3b8ccdb3a86d12056123b88190da0bff60cf0e694221ea8dd05088ee1b3500a59d22526f84b44ce773e825475043bdf0124663e08b399308050311c0850a32eaeb4091e889cb86623a81dbd632521f2eafe19589ae6aaa374bcb641bf35920203688da21bbbaab3c26ddaa22b856ae2b15bde52b365a15ead263ab1bcba63b8c0ed26ff04b8a43c2931c5040f4b073708a5a9321730cdf203f84e10153e0a394e556a6e2973be9c833c1a9ff25b7ee36c44bd850e138787fcfbd3f12b6d0f38fa87edeac6a6ecd50957a171617bec3c24280653c5938248e5fc6e45ea4459ec273862dbcf96a7453bbe1f25c718d7baea6df684582b522e03db97135036d021698b792e485d59fcfa90b5a5a1c1e8492f1fea2894adc4525337f2eccbbbe1e824d6e56bd050c408350ed02115da84d6851465659db2af63eae1712ebb2ebb7b14de864c5f146088f1865aac565f0b17ee105026c39872b7f929ae627ef1f87ff4a30683231b3897381edd01a2acfa702ad60e74a72d4b355594a1c13ebe47ba49184b47b461195b82083c4ab7d1f1257d71a8b05ca5976b0d1330be1be8ae7d7899cf96bb2788111f5e11a4f2cd526bd2710bd0e039b9e2f2fceb17a6c11205469b14ab86902e6cb7deda33e830ad5fdb4138362b5df6dcb1246ee4b053d6679d4cb6a2f7365c6583b5dffceff040f068f984c69c91da1de68775ca034ae38fc1a28478f012a15ea5e39500ce549783a341a8211a8eb7a7bc5d740b9b07919763bc56ec70d2c18b5e69e375b685f8283634a4bc64e7f49e5e7f1865231f1eb65a2901e7f93069823355bf8cc8976a0860d70844164b801d658217eb4e0c5434ce1f4bad6b3ef70e503cd211f191dd12093ac51262bad6623e7b2cf441c6974a3d1cab9c1526a052c25415ccafa537acd96336cb835e1f3de3cb889a1db2de03cb023d22c55bc695a7a9c26eb70a7fc176ae92cb27b9996f3971d17d6fe8c0039bde34eaf0d25fa6de659b65a6d089c9b7c06b1d0c546c5c65a6d73391a80264a154a10bc6ee48688046dc368a796c6ea6a54b0054f7e70cdbd2494123d5c364bc4c0643627113f90ad4b1d07fad5ad36b9276d2276d82155bd4784d594e115f17d617c2d9c1453952d38bcfb4d737915d6aff7036bc4877d5c40e1713b9c1544e07d14afeab24dff8c2b2d6a317fe561cda5a2787c0f63bb6eb2667cd19b0682a6d0b0490af1aa52c5bd2fb08724ad9283d5381a53596e659e5f50b852035d4aa3579393c905dbfd4e779d04c672abaf8b4b37d2453878ad2f60a4e95cb8836e5dcdf18020bcfafa77bfc4ede9c9816ee35b65dcf33d31049826332c5fd561589498efab07c98d09e24345004a3fde9d2eab3dd2da2758a0a23d12968f82c35c272b253ab2e7e4c8be9189a0b10763ad777b84a55ebd6e47ceddc0bc5a6ea8cd37283a2eaf0ac3c2aa6b1c53088e8c9eaca62060add04cadfaea2bef27bc8b2986736737efa0b48de50ca4d2151dc756040596ac853153f07e9191cc2bb21ed53a80f64f8e1d4a0c82d8062158b217ab43b5f0c684537465686967384284875814e4991d51c4f90177da6cae988061850861f04334ad666e438c0ca392c7a76975f0ae719aa99f83c8215cb8323d7611ce07f45b92c74b57458116f738200be18920535d21567a72b800fc60ea3d2e047d54be6799bda7b6d295dc7b197d398a5851268747cf1b1dc902c66f06cf22a32ae4e527ce9055a31f8563b1743c4b08805d5eb132de6c867656bdd0cb479de71694274237f893a7a1312df3ed749050cd14c7a1c5a61da512ffce502d60dae0d4906597cae31f0aa5c9fa213ed031fbfd5244ae2290ddae7e39cfd0c62aca12ba0c13b01d2864ecbc5e5790995fe7a5e35523766507d8dcd828eb4ada495a9b44dc9370a86a95da55da6b0b1658c7b5c4bb6da7a21f95955bbc57c7a1a83b7da51858fdfe327d47d7872db225a84978c880e3506a983dc20d1c60b7c10eeac5748411cee12b01c6d26a9a0792040cb87cb5e8aeccfb3bffbc86b5c70b81af1275984ab9a3f371df4a98409d5d7138dfac14c4093fba4ffc1d1cb262594cd65e30b623461185ea137dbbb1bdc95e978492a722c2f7e8dc64fc184a53e4c5852457ec237e43b1a33e28daea6d308df438eb60a489babe8b1d959ce63d62fd50778010f82e794266640618d87cda079c6a4f8dcc88249523d5ce9bc469a89d859731ccd2f313d9ba95ea62c4178c811d9b5ba338995537ae38b533d7ada61583a6fe9b2636ff1f2d5367cc46a1127578d1dde438c9b46c9285d6e0d0b89209cc14160a568c24376cc46fccbdde7b727c456e00ccef385b7ab14adc0510cf38a20a5404f147fda376b2199c5093ad881da73f30d7690f671c2ab60001317c3068d87d728cfc588f31b015e46ea1e96d44b6fc4bef94140164113df7d0089d4dcd51acbb06b3c0412ad2c40216f073a29d05044fcc95ea69c2f1f54b6e20f7cfe1fcb707701d5825300436ed868d31f2da0d057d4955c03a2b5aa5f54f7e1feff3cea6aa295782c31a004f690a0047162303eee4ad363bee0b87f90bc80a4e959a4d7d2d1276b36ae63065aaa8afde59d54546d26063faec9ef86da9ddd4a311319ba0c3128861f999b92c69843ddf8f527c27f2232dbdee26ebdcef98540868bc4de8f2a287228f6bd7c11fae087882d947dae1420624675b9f960c774f2b5113c4bae7492580e2d9142428d5a09eca0ef0fbac87a4be522e273e145662e159ef08b2cfb088e33baff36ee989410613d9a01f08c9b33bc900030bb674f37a221f2d16907b6ee65fafa3f5b0b35413be7d0bda320eaf14dc91d6bb5e1292c72b00ed370aa28dcb9b020334e7bf9fe8008c77b53d8c5316676fade59d6d68989d0d64586f6dd950bdee1bc92317882c6eb3a1945b8e891ba6007d861fa43a2c9b9c288eb38d0c388f0620738b96f6426268cfe15a44b3cbb347fb46e389a1e211cd5528cfcc7c023b72941c25fc5200caf391a828ea154d7c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
