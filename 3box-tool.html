<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6e9f7d4bd21d7b6b0266d9eaeab6268a216335448d252b4cbdeb63a7b86570973a0634bb10180d026c87ca4f2d0a538d74e06e48c6ba8230f3b93e76ea5fd898af091da8c0a0049fbfb375c7339738de6ed077a71f605fddf9e38b1f7e2942d2e4636362c4ce7129c8a243d218824b076f046dbe9de55f1532cb6e4c86fd1c3db673c23c07bb55fff8cd36357e9cbcaf1e24419321aa01d096288ea3a1254485deb2adfd4becfeade9e5c0e23428b9340e5c29c2f6c1f87523d43c866c5058807ca7132702d260299655e6322728fc678b7494bdb91a35f30c3bb65175126762be2313c9c84135b3fffa545815d699d0c3af69818193e3f8ff18a90392e38f9dee60fe0b814900993ce082265073b729e74ae65ae3d3eb5b08ddcdca7869369de14ada0b57101bf6f7b53e4d0398603e5d0684b0cc5b1b26e589654174d9890edf6b2ae4e4ea6f71669bb1138d38014ed4971d94eb65ba0039e6ae06d389fdcb3c5e29ca079bb29a6385dc4e1e1fff9fd6c01589adefef5bfbe571766edf315467a55916dd25a3cfbd72bd85c8fb5696200c77ea68b172340e92a12bf0a65e5851fcee5a6f6916bbbbd982b127a1da92d9db22af31bcb6de501667ab9bc88ba80f97c6d2f3cb3fdb129213ae9016830dcab5118d97a9c403744e6fd25acbe468ac6788ea698cf488962ecabf010d0699147dfc4b29a884f6b3ba5fb2efb295281174b0d4794885b3634ea7fbe4f4e52529f35eaf40091fa9e22bb90dcfeae74f514b815133472f042b99a3a3a02738f68b6fcfc0e73978252c3064f3572af1246ebcfe5c4b408b729ff89099ec4f3f690849d7d7bd9095468ea675a72cd0791fd560f814556a346a196d69fe3aa69c2c02dcb1f9283eb71a7c4e5418d07a649972e7d5914d229812836272a4d83e933b3d0053eb0e43c5fa174e2991baf7986291824abf361395645832c6985f634f1f37d20801b8334006e0c3762823654c41f13fdcf07f58931d5aaf31d46807d63989b042624312b371dab6733ae66d06cdca910e276baff8a259fd2a1ad0f180ecf684d653eaa476400aa26a9b8e120e89d6402ae9098957744bc9693b8687e98f4b5d9548fe28974dfcebef189214b81e38b942662bb0e26b27f1e8c430e0a5451a26afe846eaf1f320d4f4c947401b182aa546937363b6770663414378869849f930014e7a3848d2db8b6f1b4408a6e6191f444f392f126c6ca81a3a444d1d305bbda2790689aec67e8ae09f0a04950f071a9c207d1ad03837c290186b60c0fdcaff1d5ba3e762589a773586e141e1a7c9d280c5ca2485c775ec8a18212cfcb247e2eca0baa94a01fb5c7f4f8ce969e9c17d3139f5a14d4cbbb8d3da7414532ae6fb03c7bb11a82ea8abf3482c0af0cb48647e14ff7cbf69907d2f442f89127ed864a643522500d21301d5f4e391f6abece95f880b7aaa425a73ee29967fa3fad02f5b3635a1cfc968188f49e7ab1e2ab2418477f45d2223091003a86362c6eb0831d2c57b77099b7fe5e7f6269583d16f5dfd42435199ae4454e28f41018e59effa93f87d79de059c62c17b708d4974c21876a0093729d7710da54bb72a1a74b145c73f471e66995482d7d12b0a644167a2055255064c119cd0eced6af3d20196d473871f4f74c44a47ceb57d786637db9e6ae131dc6e50cf3dd8bc46995135e876dfaf50d5dcd1a41ccfab3be765d7199eacc65ffaa4924808a58cca4de7272a9fc82ef935b859dd7bd4e282b095c4c055160cb2b63a6530078039739b194cb247de2a7954d01d0eab33367b89c1addfde81f4b604c1f543715b3dfc7e46312c44bada25f76db072bc932057311320f59d3666d21cd414ccbd0cc8a619b187d6e3cc4d216ac3779b577fc959f884a0b269d02aeb0a8610da884ce628b1d1c10d221f6edf97361146657f9a445acd0f4791bd59c3ccf8e2ba8dab98899c29afd44d51781460d16f967a1eb2456185b5fbbd0a5fc0640a99596e1da919ac475ec06abdc400b8be7e6d3106561349917ea35277bbcc0aa57e3b6a0e6a11fd94b30e4b666e3c41e560e6c97c70e6c83dc19fd3bf6ad90b220cecfeb992f0241ce25ec2dc875fedd2cb24f74f649a6cdd0f2bc004a3a5fdf0bf7ce4c41115fe2f16173c1a0f02436eedeb241a79206230db37dbffa65e7e93355f344227d7da488bc5841bf25d62e6841115011aa04bc373245c03d208a1d37dc03f9b7b92eef7ccdad947a0a8bc589deea7f8507664fbc4c1dbdf1ca9abf80f0acfc86871804e55e37acd2f2b2f2b2bc7ba19234788f64d819cef02cb46766798316074ae439a74d4efbb319b80fa8a02f7c7e60d78cacd46c547c85f2d57dc7dfc3201b5296fa4cac139f59abfb97a44adb8bfb56e9b50abe0a1af8da47de98a7a78131a90c6dbcf5d12262b4e7b6ed2fafd1fc5c9af6fa887fe8a9024e12b8ca8a1e401555a4bb82d1896f2f457f931cc787c99dfd33c45ba57be0a187e20bd0cb48ae938e1569a37a6eedc4696d629f321e467234d4f7f6c6b426f16e30568966deca51a29024c2070998c5bee22664eef84ebb3c5483125542537f44f4b4b1bfb08ff4806d52690a9d9f4c88bb3aa1f5679cd023b4dcd6211625481939c6e1eaba79f34601a024673f8766ad90988cc8514ef48f438a2a36b9be67e76fed372a9392cfb8c0607448e9b737d0c365d2b03fee6808c0fbf605c9ea52d73ea91ad2046f861b9b8e43f2a9f73fde6d01769b8748d72696760d1fed7f25a85401f4d618a00b8ccd16b11b179e6ea197c181d4d9113e9ba629fbdace0ded7877413b5f21098d324df95b99749764e9ff03ada8c2df1eb23a343e3ca2245542f45719b31f173a83c69b1e7c14be560ec273215b1d19c156eeba4d4dd17a44f77fec29701c6a4fdc52af253da4b441584596f007e05adf7bd289abbfe4baf3eb70126437366be08d0ba80f260a8f2cd0170039778a40cbfe717464d26ff843b6dc39efe85bdca2a3a3c226345aa1e9f87a0387eadf06a2317ceef156e01db357c18c967db9daaba0fbac6eff276142f26dd55097f7ea5e9427c1ce7198a44c13a6cff5dd997d54a24cbb73625821f551c50637f43871851948037a91b91f32fbef222ba4093f87ab8f08ccd023c2bf06592214d9845f6020fa670a6e08e755560204f68cff30aabfc53276c894637dd316e8c778d63bd98b2afdca592f5445836aef1f9de647ef88112c67e74f7804add923a6329be6a3a8adbc58c18c08d96c0bef3a15fc341eb4efd5d5257b2a5418fe5b029e239a68c9b05e9430805cdad60ec18b81b53a8b0ef5148b1c6fb980524ffff5eeb8051a1a0b8507548163398ffeb6d75ea1bd3596b59ee4d96a9f7e73cda87b0f6fef18d256a4113c86b99a3e0fdb31ef5eecc7d496ddc8c79bc48819dc79420ba277897195567fcc95ab23197b0516f08fe32e9d7704b771a57a03ec5eee5d9fb706200dde43f8ce404f180d0a9567d70a4d0f8e590fa0d56e891cd7881e28f29cabbde8b0ce100602538fc27262cb697c1fcd5508679891bd8f341cb11d4bc054d58843997cadb22c6c747c6d318e6a08918dd3517a2dede1cec5c62cbcc790d9cb84ab401af053490cf22cc3daadb64fd56fdf0476799e5ea460772f5941061a5675c8c3d41095345f7127b9f17f5413fe5f8e9509ee3c745caf7685c4793091b60fe8cfcb25f0d9b0f898ac288ba28f1e8eabadd9312138d5e3ca190cc4c8ccf8e17ac236cf2252519ed20760327b443b188f543c6d2417d60e05e1fcb0247b93fada292f89f085ec31114cb16836b5f4f7f6a786c8adb9eeba9a101f0ef66a3e6974319ab3396052fbbac9644513e97cb4d87082c8574162a6c52d13b82b0deb467dba7407f0403f597427ef56634fddf98976bfaa6bc23b70dde0c0549d372704ee07b88aeb5788e6ac0d39791790580ee419e6a8ecd4f101d725edf27d8f781ee4d84c03382719b986adba7ce5bbeb0e1bdaa6820d54b5d0df3eaf9a10fe8ee463917e9ab9f4212e9fbe9548e53f23ed69949955515027ecb60776399c29f6ebf1bbe4ac382e4ac2f992239e53fe55fbccd326961a52fb9afbbe14b58a6c194e1fa36593d982503805afd0309a607ad54a6cc1efd9b186eb2d30a53fd53683c275c5daa68ce09098e6dd3a4c4fdf13be35bab5993d649ac6204122ea38d81f36864996c291b0997b81acbdd8498cade237e1127ea69214e9c4c5e8b3ade631aeeb53d05b7ea81d59c8bad54f54a55b748a8f03f2ba4503761704c2a8d96f3fa6048df28ba206ac2de83123e66750fa96d4738fcba2388f6bc4503f754f9a6cfdfa9433f69b6d413e4f496655464e78c068d51a4ef68c08df31915055fa2923cbc55b4f33f853896174237db99ed32a18cc2f9a97aa998409d1dd40556a1b80745e8172b1c8ceb0898805bd22a15c544daf44e79423a851e985e85f700a7a235297319be218af0698df4327f4ce38645485b6178f3055449a4a5e298e7267e7f6159cbf5183ae9eea0ed6c1f5e40c7a625bdc0634ce3ae8d42770ef3b3b607c52727bf7eaf4af0faa45eb74357dcc155d74a5eaaf9246fccb6d79d5b4dfd94be886392d6433d486f89bc95e4cd44cfec4119350b4b3e972fb556bbdaeb552beb03fa7a9ab14dd96ffb8ff000c15a694b77deb5f36d0b05b1ec8bef2cc08096b24fa0d27ef65decf41667d9896f0079d1cc06d107967374630821b3c18ad37dd7619af619ff86c08eddd45c3cfd14415bc042e4aa1cf6bb8801db94af8c6edae9efa1f468d83124c04db2cf099dc17701a8b77408528453c750300f80c54011b4e6d09549ba4cd4a37e751ad44a791fc5e61762357e2c7961354a976fe057fe928a6e81504a36d3a6ccca7483a8a60531c2721f20dd808ef94215dba22af4f0257f64d4d9865ceb55163759e6ec795f9e3ef593d4b3c279107ceda629f8d81d26a8f9c2c8709f454f241754f7cf2ffd770143aa36623ac32b4b61d9f4c7fb11b4345731cb45b9881253c4ea2ae20d6e35aca6138e6a0fb48057a16f65c3792e345f9a072087cd0f9df8991febe1d9c18ee0a4efc57e73e2fb5d99b7d7a655fd0e0c3875f82760d27c8baffd98d1cfee434e68159fd7ba76348414c619a321a9cc7028c27bb02eee65ccf8101b3649660cdd948cebfb2fcadad105c678b9ce4a4eb13c316ba02903e17834210726a8a36ad83927a20ea64f17c11cd6dc2ca5febe0927e92457f70c0217d425b3f558b777081dbcfa4062e9750c2c40e7a8b063ebb329814735c33abae6c429c98e2bf9da1fbb4cc61c1c196a18fb2c0d4b22a16ef5776b70ebddbd71c07d32580787c8cbbc96544d16b5887ff4852646557a263808ed0edcba6283ea910b76a6a5c9056adc358db2cb035750345fb1f06ee7d23352dc7b31e72f580e13f3fe37d3f8873133e49b07c2756b6582ffa8ac9e69bceed06c9c1a080fc7330e7f2bc5749aa8e565f0f82c687134ea9d73a8210462588711471ac5d8883f1406874e602848b7eaa1b19c03efef8dfcb943181d873099848d19af5ff4c2fcd0be32c65253da09eeed40d585f17ff8f64c84a0be4af7b657897c4ddcedf6c1e81439036fbf7c057c1e44777ed465c3f02ccd005da95b7787b3e0f16ec674c558be7cef9b25337f3d3f4b08168dbb6f4cdfeb242883b649b1452df892540dc6b9685dc50255b1066ae0c00590439e2c11aeb136f357eaf471864a8168927516086e7af350b09352103e6476960970a405e1ee01711a5651bf6be10ca73d99da8c578e1ca3ef1928f1c0f8570a3392f04f41d9745f1a25850dc246f897ce9efd9b729233c9a0189602f3294ce640e92c815135d619f72e07f1f52af8fa2f3b83719a2245ef4f7dd0c7c538f9d68df23f009081a595f2eafb11fb51b57cf9184013aa1164d147f05a591072c61ef86f9b83b8af1e8cd989137be2df7e76eae7860dd694e7b7153cc648f928ecdca049676de5edc458d7a5609a77aa25e67f18962d4f41a8348b9e14ae3824a8adb1588068d620efadb55d411e27af6e4fdde27620c20e8aa95ddaae65a3ecea3b8294b84deb3b4ef79d3f8b36ff873d8e5fc4185c9bba0af44f3ccee986500a47bb71e39126ea2ae3eef4d56572e2f4ee3494ee342842e2c1f4689847c23863466c7c4e19864dd51e9ba0adf5806131bb4cd2cf7de2350e98d78afc4439b05fd8edee991afea88891758c9824f22f44a7653a66b7de89b5bb6f5ab0bc5359bf790886aced465195738852cab1bc992d3cd066063e796180e9fdd0934e99b543dbf83e6fada6ea5b8614142c1c0079c590db55e9e3f8b7d4cc997249ae4231aa24584642e9ba96dc85d2be3ec425ae3b4c7005546941af993d50c16d492eab48ab1a010d0b298f9fee281f6daacc227a74d0546a5f5eb59a17780643c6e6342720fc214291d6b4934a2a6e7db79fa91ef008753837a1a30330a193ae50e1d6e112249052935a6f441a15dae32713e076f551c8e4dc1df876a127f5a44c9e6d38ff11a41d6b3ccdee4853ec9a4fe28a3b4af19b1c29c921f9bfec45a79582a305596507b662ad2b43285cce8d44c4f1fa89b1333b5300dc650aafa3b33c4950da4b44df295a63fb0af6caf768052abc710d9fdfc468f2a2809f93c7c82c5e745d92e386c9216b666c82949fa58f2c25b27442cdbba9d68d1346025889f58943de9cda12882850d7e8e189d712f380f6fefc319a0c27751a073972467821958ab7660898cfc1c93d0f19d8c6c10bb544b527e920ab6985ac7b6ef185962cb78526ba07bf6e30760559f6f9fdf970cc53e657aee91a7c73ff8b98fc691822c0f271ddd8afee7f86ff10dd6da73df58f31f06a555f74c0f06f16ff35a29a08a57dd80274ed3339c38ee316ff7f95ee6f85d24c5b04a11ddc48a1b0182b517f9e8ff597097a09226b38f8e0dbc94727a7d4c8cfe0c65e86fad40464bba389f181e4d6c85f4a8cecf8d36bdfb2c7af681457fdb45c31384aec001e95c5d9d2eacc96a1e043c338706c4d810eae829956819c963c0e8e48536f846720c13b785adaa1808b1493f1b1b56f576e575992758e3be2acc52925ba50bd2457d485e5fb5e0f66cec82c203ebccfc22feb0e93b49b371d5663d2ee8b9554844d5da039e48c3fd9137a56fe58f8522281a36754e77536ce66ea57ee6d0d45eb362c3c305d2ac29bac332a568065e40b4a242e18281d37bfc8779928af7a78efe576d377298d9f73d95bcd37997ceed2b5e21d6430ab783e2543b6dfbccd4ce76f24e41bccea541a8eb1ecddb382d89b30dfe7a981c399844d77796f903c42c723921e604e64fce6096babd88283866615963c9837fb9241960f7e264f5eabce272f1e3e5ca3af1034b295a9ef3aceb0476ba4385f2e51fd7a384cf886b743002df3dabda5df92e6583ae71aa2816163391f36cb1f8c6889c730ba5aa8e184b1495c8a1cd722ba9e96b9d2677c6c6c260777b5a2878a5fae0710d319a23b22e614726ae1a38ce8f253b611a2f12374594a03ca0ba470a0ab414e751d9c7e96c9996dc79d83b6a0b405a5b42ced7a5de9a3a4c565a569e6d679fe4dac07f31a583c8450ee2f0dc523e24ce49f461c248c4b75553d26986a5726e9eacfee8f010016f4cfa34dfdf2f8a1764fbb435ad00eb96106a77c62d62e0c29edb325a97e4ea1dd78afd13c0365a43eb589387755c35d2bc10f84bde04beb2879a92b33a6fc3b40ea9e2ca5b6a069f5b0816d04bb4bb87177e798b28f3730837b7f904ef1cae5bb028aa07b669a9d5c597b18605dc3ebe2a4973a3aba49b92a469c3eac9f5e0eb1b3f08e0b1ffb593ab59e06fd477a8b22a61017d1238306b7363baaf58b22d407e064a07e13c8eaaa64a634380b30abeafaa4969011941e0c63cb16bda93620445fc59cb6d3a59e4e228796d50e2fb5bbc42e36d04043d89f1ed75c494b961e0eb9c828ba2cbcaa569b150fcd178468abff897eb69bd4da1702fefbd0f2cdab700443142b1a93b76340db99a464dd3e0ea8f392564df86b5702f07a56bceead7fe8a32d7517ec32055b8f1788f5074ea58c57245dcc5052a99faa845d4bec4bb8c48c03965467e6c434e8b642b04ec2919edc42a36f268549c0d5ca3e779de1f71ac46be40551588fef5f56b61878f18a8f977a0d1bb02fd20f136dd2dffd3e923cc979d949db14868875589a78e4b0764b90aa1edfdbc07016b413259bf3310cd0864b7b04527cc4f22572d39ff6d6223d82528011eb8e79ea98509d4cd305fee030fe834ec130236b5bd672ddb99fe6e77d434f3bbc257cf5983184fae37584aabf940c3d9a88ffad689686f82e76e5fd2554cb827127d1bc13746ed64027b0d1d419e6daad2d1af7b96495cd4d7b2f892358ebb4a7af9040d5b12ef19cfd69c8a86e97524a627d8e0bdcf89dfaa4b26f78eb5f450b5d4f18ba84cc362ccecc468a3ec64c6fd83a3ff30194005ec515e0392189be7fea74d5d7de78dc79ec916c6f43a9317b429e62822bf3e0416ea73e85db86fdea948d55cdb6e5b99b70683b41e6b33252f19e6a6541d44c192af470dfee3fad2808d4ad81e3758835e236992bd816fd4eeb3b13f0ae82098c73903afa29a204f29db2fd4e57b08474830c5f0ef6f9e95d44f257afda675643814abf9e9fd9bf78bd12672184f99797b86f1e0676a9721ce598f90daf538c82119e3179afc1e345928627710c745c1097be6fbb26c7c6223bffc2aa99b41fb6ff5edc88c9e57787b221534c7b3a5ddd30242356c2792f91a62a028c5c2906799665b41a502db728df656b1b3f3fd67a53dd1c5b2c2232e1addb6e57b82b91bd2ecf69cfc0713ad5f0222669b449492368b6aa140d705f9d28f8f2f0b48ebb66cd015a0ec6f97b079b45e632d32275f602caca65431ab496759c62f6f184da63360eee71d790262e5b9afb68b81941dd1ae64d119557df018b001ca2f39cb8c5a0b76f958848ba31290ec4f9854aedfcadb8498e5613151ba19578637b233b9995cc53b540a7a85f1e311f18a5353c521b7e38da8de0bd750922004a47c20cec8e8a7b50422309f5948f153ac55e9992f110ceae5ec6d7d2d888767522058e90bbe6ca05d7a99ed3c699cd5de8736e3c16a38e9a6eda18eb0fa31b04c1ccac20ce169dfa7fa36b79dc5bcdc07074b9acb2eed395ce76358d915e7dfda0354e4fbbd7685cb251f55ebdd6c115f9830c3756e4ceda3f7a935fd4768d04089b37f64a9eeec680a77c5539ac743af55a87572d9acf47bcf11d9bdf73c7e6c6bd70ebda72b3b58d0e9b33f1a431f49b6628b3576b8e4d07f426c70329ba7e5cf9b80f991ed9aac67f38bfdeadb5e0be3f3c239679cf71d0450a7d34e3528a2c46ce485d7afa1db53013b7f4402c94fa14464e9fdbb222fcc4dc723f12548391e2c38966a2bde0e38a179fe6849a1a1059a26bd1985c475f4e46e1a6f62d357ea8a04bb2675bd8cf1e1de6124d147e92b64ae842d9efeb986fdfe93142d36eb276a20f063d1b7a378d96617287440823f51babe100185b525f3f5c656f56874d50f32186ad9ba8a98228c0439066d151749b70c99652bcf48997b28854d1af6d4b49d9f3267c86edd6a90feeab5a1f542b6e7747387f22cd62f60c2089551e720c2b861d40d8edeb95f91fa6aad64bd90df97bbff2a1b53af9e650be6af49efb4d177343d71840de8dc04b6fb162139ce6b26ddfad9ea8a4729e66db974194abe32d24e46afd902dee03b3305d1c452f468fbd922a1db5e42fecb73a65fc55efd6c82a8919ecaa8f3b34549d260ad4053bcd0bab8f6a85ddd8fc58ee96232b99e554f64c1cc7c7ec872dcbabc8908b897eb0382225270d9382ed434fa43c1046dafc80f3102dd37b9df0196cf5fb17b5b060a63bc3e0964a209f1bbc03147f3a4c592fdbd9b2f19ae22c3ac08c16d03ed1ff168b0a72407c131db3294970ddaa3a980b1291e8664f5bc7f2ad70a1dd3917f09da788e67510ff5854ad7d577233922fe28d7c4b301d29df6db86a7fab4844f3b391cc785daa3d3fdf4c249bdd6320097c78c7ed684432db31b930893add50e78bb445b30f6a940168f776e17b10a9d1ef0b9d21459d5d820889fa6e727a40d5783c67303024d5fe95a7d1772238b46eb53ff610600e565cbb9978967addb9dccd88c020ee44d2655e699cdab74eedafed085c82ff74284e10b9c720984b4c218db719e2a4e2b3374d935e9491e4ec38a9dcd4dd065ad2f56f807c2d6c3666a08561692fed5a7c28859dd1622f3e7902149a90051321cf21cb1bdd9547efb55702b01579496be047ff56898e849f3467fdce3691c73a67f7ded296290002d171759acef7cb0c06e7285c0c2962b40c3d539b44d20eb7694a78e29baa34ced648ad9937980e5e9740a420b58682e28b1b2105e3a39c850c2d6b862a771a71695f9eaf2d7812e0a301bda9e480113c800baef6147dac0d865c3b6f1be429b34bd13574be4af1543de71139f8cb41bc5ecb38facdc830e04fdefa6fe48a06bdd3bbcfd28d2c55224e1f7bf27d45151345864d485f7d51a63b5ed6edbcdcfeb9ea855df527928faed518b6ed42df58e9eb91a3ffbbd4aba56013799eba2227867492cb8c65fada1df672001c735b79499d71df9485785ea91b769fba111f14be8dd9eb9da6f9ad7464a6f44632364ecc6871aac2442e6e1f2b97f0855d8fc611704fa9b572bd6c293499ead979f35cb1adbf8eae64cb608f8861c93471ac622476d2ef6a71533073fa031342b2d310698b780c612642799a06789ec91f60698675fd8a4502fbc9ffd82de72cc0ea44b6dafbb4e6d63d75bbfc1cdd5cb2b09c4103c8996ce49ccf70387532cab26ee0859de100861c36a09a2fbfc1d80ce3865c4412dcf366a4a2a4344d8a44b6b2349f15fc69fbaf2a633a5b0fb2ec938b1419c4b35ac410ab80b7924935260ed2482416ff0ba53ada62a13b40c663e08f65e18062373dfd2c4b64b51bed70ac7ae5951d94736d917d23c541d7d077c084ebc47830a0cd2c8b94f81dba6d7b1f95401c91693078425d175ae6967916a96df90ccd8df51db341f02d3059841efe4ed30095395d984909c8686b73083db7f8fa3551a584cf8e0273a11284f05c6fb55c1c31f98af2906fa248f84e0ebc2cb95d289e8a0d57e2e20b49415ed75af02de1ef1892a30d4d58b094e2af81c16e2257f35f754f1b91088dfcfc47e03780ff5551e4491798047cdafc79a9bc10612d11853f8a477c89a9c45432e5daed81fb13913d68d62e6ea97b13a55c5fc161a27afff006360afbe8d5a075987a98bb2b5f26ecb4a896d9b1aa4cbb9ea42a3da1ff4912a80ca50f39b9e14d6317637f5edaea29154be6730933d476c298fb9551ffbe1347d1ea6579536312715d5e8308a6993605bd90ac12815e21239d1c7b579d630b04cb8b39201140ae6183588fce9ff593276bca7052f0c18a9444e164b461fd2eceea672ee1d0c5fb05ac3f1a05781067ebc8b82251cb1e0447c045cc1bad5be6eef05a9032abd3cfbedb638fc8538b3188d70a73d54b3857714084375dbd90a391284041e75eb41a91bb2e6101453e393dd9a754b399123f3d2e034c752674e7bbace20cc49247d58ac87d3aa4982dc88104386805715baf92a8cccb04e1559eb95f9ecd79347d436dac1748105878b0b6a21657542c39a079062b1170e999df30d4ace7cc5a2f28c856e3839a712b55f0df89e12443fc0f9690828baa534a4de4502ac05f6dc98d45285fa19f83965a033056341d2dc053e4c5cbe6e18247822a6d8ea04c924fb81fae799ad12d36826ce8888ef22088225bee575cac6598e3a31460f636f8ef0f1c665c3443b86e731e0e78c3df51136cc4b6be78fc495a367b55f842da6ef41e8dffc629b7a936e3dae671d3b745f9d69e812fd839481707b96794f1e15f422079d1360cde2e72ea50ceb3c15ac94c3f70bba169c80b16aa452c3c24bf3c6cdd8b1939de23fc9f9809c5b39d4c4794560e4fa1acca2d2051e9a6f584636c50ec3737543f542210c5b8e51ce4490b6a3b508788fb2a7090258f13e14cc9da72d78843752810b02b0b20586dd1e0f3cfa93de06b8391a6fbe2f1cf42ea17d25719d626f8ecada40e1d093cc12971359ce1e4e01094f6e0cba0965a11a31a58a5eb07bb3b69c48f2b02f8415bc2a833edc93617bc06901d32afcf82d7ec9b2456b17c09fa871c33ecafe91b3a7f9f814c7a2c55bea80321dfcefc12e3f9c226326a94bb136198ec64e7479d5deca8301fea32d7e032d6b32bcd44b86d8bad6a353adf896212f1a378a2335aa780965de6ee81071c926ce7ee9d6f60ab6440aea5346b9b402a134cd7719f071efea35f142cc63b07c861b46685f9f7e3b24f97769cff928c14b4b2ea2fd3a3bff82fded54fb4f76d52478f21dbb92f129a966eb64ae1588e51549b1323739b91c0ffcfa3882b3e4a4ca46c5f112268536ec62fdf26a96b5ccf3ea915abf96eedbd33c5eb29261fae9fb5f1b8ebded1728f91a0bcc2367aa54d7fe3470405185c34d0d58a9261f3a80d203ac527f4875c31fc08961cec2970587ae67090b4bff76ab0978908838cafa75d70495f7951c00dad08d65a2e3445970fdf68ef15e9cd7260a577cf529919ab7b5375512dce83d15d78a5bc25446e384bbd1c977df6c925aefe67e400ecb4cdb4235bc3f56691dbfaa914402488be9e8bfa189b0958907f88bce30dfbf49fab1f09b5054c8e56d2b324e9fb23c2441c6f88e41df0192e2a4c3ade8a537c4ca3668dfd1e1189571b81073c6181cfeb8898717c593da4090f3547da1a6c5460adeafd1ad413f0cbe024cfebcbcb569368eaa73e00e85c9c44c58e906dcecd2a97cc739bca2cd8f3dfe5aa83b8c4a2d543a9eb30cc1e20b052727d73bde0f2d5607a97acd67db3118b47dcc777a9a20de58f43b4ed333e2cde55839e69b08bd02045876a8bdf93f22a56634fd8b5b27eb60218a1080f8f8845c69fa52c369a861b959c04e8b45dd34a46aa2b181ea44c30d0c015cf0951a89f3cab31cba5951b26db94d6d403dd173cb383d94b37480e86ee3d4a60d340a33b48cd9b0bbd2557f4a7217cefbeae596356fc396676e9fbfe6c3a683bfb6b9f9d01fff1168d9a31492861abc11ee1abb5bc8e910b1c7a80e05b116ed1c79db32c7f49503df4ab549a0cc76dc71d17ab1981f3914f4f5d15728624ec6205ec7a7899eb06c92387cebf273a465c0a65261c932304fa508a78e581aa822ecf58ad0fd1acff5c92f1d2abac1e9dcb3c98de0b7e3a8092dbf18715bb4818308b9584814cf1a8f51b16a65ea7161a5ea0edfc95f114f00975cca4af8eff72bfefaf1c0acd3ffbe05033cdaef4fc833c9e8142bbc38c7c20016177ce1625aa375c90b4b0c89ae4880c93fa45abc8eddae6f60bf1f2c62554e9a4f6ed361c18af5ab3724f83aa6b9c6760e8c92b6ace5bdb3a9411d4756998ed66cd9da27e4916f08b54cfa7a9e5220312d50120cae764a5c98763d61d03a2a4750465591ab13269b98f77c1db08b6c92218c5a8a9d4d771f6e6979e7545aa5dd5caeae0df966ed55b322df078644d7a2cea9ad873271a40fe1b4b5902a861292cf9baa79213fa41db92649329a434594cca11e4fee280f1e4216af3f0aeec5ae022460b1f73368a50e7d0bce1ef7715d73f7a7ea72c865cd91949d35b089c38283da646a4b4066a7aa0f2f836f1157d59b8f4a3e8e2e34dcae9bc77ee6776445f4ee767a88816b85c004e5f1648ce6d1085d8215ce25ff4d1cfcba7c9985f98d7a4fe4c9ad1b51a929e36b399cc5c30980786527ac337d281539a5601e515ac2f55b8a14cf64a10140dcc2850ddc2ee179cc6db3494ee9c7679c83f1a77c46374df1505000928af36ea59a114522ee1d6d9850f876fcf742b7106b60053dc5f54104562df6cbed6762490f5a2bc2cdfaca1148cd3cf9bf0a21095acab37f498dccda4268b8ff5312c0640dba03a007e7b79b56217430553c6e37b9af9fe5a17105f866e1fece2239cb257321b0ad475099a09704600529dd682e2789ff2399ac094378608ade4c7d318de68bac319b65ca0e413efff9635991905f8ea438918b888ab47e7ee723d92f0c68b96a2f2dc6e4535d313e4fdbf342934e21a4b00f8ce1e26594726b764d55e07b5bca69c1e8bf6327878db348b510e105a58a87385b5aaee09cdc1d6a3508c884c1b820eace02ab79e6d37428a8ef7634e328c59e65b93c70794f45565e7c12126102a7572314b6acef9b86d49e183f56aa8d76bfba7b7826983caf265020a60ee220d3126ccafbc3698d909d993b8cea0c318ecd80ed1c6536039f3f9370f1b7272c93ea86559a06fe89ffb13de38ac59aaa5c70ef8c4e12d10332b7f510d34c1633069b540436e288086d976c7ed85db2974e683d76a2d036fa5a285b145716fae671814e6e272f5f9b725d25aac234d9cc573cf44b5b8708b68bf1dd6ee12badaf6a4045ab48256f9f1b8df61112dcf18ea6cf577dd130a30623c2f6aed38a9f260f06000059249ca1eadaed103b4853ea4e197eb5eb034e5f5a55f1fbd854ac9d32439f99ce77fc6af6f4db418f6dbfc87fb21db2ed1ff44377f98c20e64a72827500e329ac643650f4097f8e7eca53207c7fee1525a3815da81d70b858c13327ee4c70c8d07290dca42673572766dbb2631f7dd92ea784314d8622819b03d94ab19e2a80ab0146c5878d3238589dc2c10dbb55a54f2d85f2962015c72fdb85584ad96cc17958f77ff0b6555ce55e56ad0f78b34646a3524e3386d731b94a09c4f0405cc0aeaa308a88be1c0ec1c9a693371679266304925f82e97fe3a372a6fc64b8d56fb0e482f840690189f793cb04cc7b4e8c2796713466575cb07b0e5304da591d1871400e1a18f98727d1a52e311c85fb5ff11fb177640d055bd52e3fc3cff597e2f28ab295ccf030e821ac3ec883a665037e0b619fc7cf7e041266288a1c09ec4f0552c1f6055ed233d38d0689527ffca29167127d42c444502ad83ade4acc13f86cbe6e0fb9f3384fec77ef431bd65109774500123a16b78740bcf86005969494b06d418acf902067faecef5ba8d6e33f196312d338ff1d5ac718ca64b5478c9a01aaf56b0554aba6e612810355498f7dd5d206eee501c4695454827011e945755951cd299ca1d5024af7f5568b773e96ad67101a6fdd6045ad7b6a53ce579f0888fc74881b416bb31fd11d269718f992ff01ae3e349e0ae1702e6b6c9fed84be99dc0bcf370de825d94956353f91214e45d7128bd543b7d3272aadadd16e546ce62f0df617ed825520fe45a40ada39a04f2548aea98b273dd511ad39e5cc1e822feea9ad600f6a09f9b2bfcbfe1ca60777b5047a1fb75a27942e6fe5e96b66718446ca509e828e6438a5b9a0968983a4c564a93a61f6b60890e86ea904c7410c53774bd3c3e995e088a842feda50b18d9178bfd4b3df5ff874acd34d24e1a8d59a27112446343faaecf03d0557b0c9b88ee3f760d863ae51f861855a92913ced395bb5a1c0ebecac4f687017248396db1e6c808f640c70f6948840dd94a073e51fc46831c8eec00673403515e52a662a63bcac083b9f2274e9a04b9d531f44c7bd55bbad18f020b929b4a86b366c3f05f2ec76123e62238ea48158c3dbe75339a4ed02d31a5250f7256851c993d551c6c117c047c90288fd7ffa963f8e6057f2a5426c6136f96076d2a0b43c369bffe89dd772e8c19d476a0a9b2388db263e17d81ec866551cd109837ac2ead99deb1b063b91db518f1dbfe3152ce6ed7f38e6cf8b86ff3b9a4ef6b5a435d92badf92c0dc2a4191675ea543ae4552eef5d50a769165188f79e852b3539ae38e347913aa3c451ef25bd8d155f9e2f169a0903442d62c1b8550ac76cf317b9b917bf579d1f024aecbd817dfadb8951025f09b8e930ab90bb6faccd081eb5a00cb62c2d26fb139776582b6548517a58c3b50fd116f2272247684b6f3f71cfc24f018b502a56179a8fd6fd62807b623ce03b63351eeae93b1d1b17be0cc34451b216004b11923681996bbe1dfdb3983cce585eae84a2fb8e0ecfe5697c968f61962e0ef3e23cb1e928fd978f923f62f650462eba56b338500fa683ebbd781f0babda31bee25451e4dd4d0abd6d90f5f482cb5f294d8f5a2e879ce1bef172def2e061073ffa5013ecd2741fac5dbcea7daf15dbc2e26d261fb319301fbab0e57610795189ebb3e0037899272271c92f73475d172b8d9af53d22f0e6fce8b1299ee856957ad6829e4ddaef508f6ceb411e9eb0e3d9557dbd521bb9d9f1d8c0238515e9f28248e1454f319edcc56af5f0dc75c3b1809f76ef05ef443f7c49aaefcd74f303cca7c34a514740cad57810542c2b1b5ed1a05df329c8f45d685e5f473cd59883e0c7bd2ec9fa2d5b1a9430a8915ebcd875bb190e47d86c6da2a746cfa489069a1d702445d448b408210e2da3521e2a2dcc36a43d0041075f0e9b4eb329dd8004b51875f81fa9f687a44838bae3bf3cbec326541a6de129bf60bbe0042a5efab81ca0e9799e9218088076cb85c1445b9c79b8134a9612fc71e3795e3c2702ea6e0798e4e57636f8c2d9cc3882a3db3938b8582a48d9248461b693c6fb65c4fc396686a28dfd3b3b18b71177af401d2ff2cef648099e421000adf3da8266fe4444f22221703eeedeaabf5dce212cc6fc0bc3f20ebfef562df3222fc6552f00a760b55f8e964111a53cfc072a17e16546cfe7752b85ba3d223d6e7b3a71214f4189626b17ae8cda568dda50e3a2a1732f6527adc86b0f1989038cb222381a19f86223f95ea2cb56f995739c33ea9cc3b40fd25f05dcf51a200892ef8b97ed5eb7afbd526a9a470404b3602129d143a88de6e202c30875158451511cd5abdce839a30381e04e7ca8b0f97f5066d117adcb6112725305654561f82cfb945a640e091888f5680b28f05a41c9f09eb258c529d6414416b6906d41cc50f27403637b46c57c18b1884567fd242ed59168c672b306ed0547b9d7e6141d5e6b4981f08e38f6877c3a3fbba421e4779abb0e96b6b2f659e3a261308bdff8d01ba5da8d72b39c0cad7e7535c73699bf36e9f3c4c72b375b0ae56dfafdba61e15ac2b7f0aa03a50f8dbdd25ab6a68aaae09da3dafe2e7fc3084bbeab0999fe752b0feb9124b1bfd856eb75c9a04e0a5dc6a886fb7049814b1020d9b7c9a055877d702682c8f658db9e7ae58b75bdc4b8ea4e07d4e8f60ce100c4949ea900ec92fba05045994ec2740c1c9f6d363cea1b4ca0c438782ad07a097b048db70e47035535c1cf6fa07038be32b2e22603cee27e8f2083582a1049bf61816d668775af8f27cc63eec43a79938759f604b568f01bada0317228fcc0410b09c4050c112725918ea17d03cdb8857af53b2d11683f45e49e58557e3bc5bd97d1f531f384a7580b3c6317f8b0d2d6cdbe59d6da82cb51e9cbb21627a6298fe2dec34d09ca2a0e181b62389348e22efb4861df552088c89e880214f90b38874bc201f5e07084dd89c56ef88a1a8c44bc914d0a3c61e672f4cd5fc13c922f370c3d296544a6d9883b682c08b41ad07e46971e898cba6f3ce3721c42585093a54d6b991f56a1907a55c8c27993f779c7d84083fa9ada486611b794519ad34588cdedcea21a3926ccb13c5d40f5679a45d4fce00318288cbf452eca792165a9ba6f289a259d4786579c9dd44ee0152aae19b8f263d71f2f5f63b76348ddc2907a4e5430e1b4f89a8d905d2dab379fd0322098a8b2438c71f4b0968b1a8d0176142958773712625d10e13e5cb61a74fb4bf1e21c077fa361ff4580289e7a3eee58bd0c5194e67b6b0a8699e99e26d08596423fc8a22c9e186901889a82ccd4d16b8a4fa7ba2f4cad8f1e85b3c55a4be27daf2143e0766924da2f4f1c634a0d21fe593d207b8998523ae5cee214e9a6939b55750642a463993c57d1f91389c9168303032c422d15cd474af8a6728f5c38a0142dd57dd8cea298a2c4f26c620d848bc14f0d0195dd71d88d6113dc9f762cd895b6b5f7a7d13226318aee99b5af5b184009c44e0dc4536cff71e6c6437ed31f3662b99ce39f2de2fd1c29c6358c893e29d255a6f4c066ff512a7d88e6be35d425fda3d5890353efcaf1ddf7f6d523b8e2a454a492b4728337a7c840ecfa3a9e0a505ed2d4ceae0fbd575ba99114752d903828dc4f7193a11347e323a5912e2e4ed71efcbeac4b46a89f1c576157a185ad96d16aff018398d3fa39d1373f2f452519b301de617e07d3c0ee697cfd301313a686b9ae107e698346f194a719d7d6a40b4c1daae2d85f11a101434ac0733d15dfdaf38a9db0a571daa06395aeeab7f5c952eecf0f9c974fa63d7442fce4dae4dcd42f651343667929eb82d39480e0728e787eab9c82137158c90c047957afd8a576ce9a8cd5ff284fef79dc5c5c5f6c9245041e1abff98b072c6ac6c46b2329440eef801d0afbf0357511b13e8c0263a27d4aecf173021a296aa0e3f3ef399085d19999db2cc22f7d7cae686d0d65b71efa07f364b50a8503fad0a6d91bb4131b40a23403f9ad27bacd4408ad2c3522894dc0202f4d71245bede3215665ed28cc3b5386e381e57848d5080ce50d44541b7678c43a12c9febe6e2afb1955423633f23e3eca16b1bfd46adc523b7ae16452bc9ac6713bf83702640164b23ac9f998178c9b0ac4d2b12451af855be6278c73c59a15c60ec52a94100435e05fffeb47bbb866d8703b96d1102dc232719b8413e96d8746996e9cb762bc86ae90fb9b674ce0df8004fa9a19b8c8430d63d022d33adf63a9de13f08e38ae433d4719a990a169788f381f45a81d4499e971e4bac350e1a24eccb1ef894c3d80f78267243cfd4ef0d8b66c64f281bd8b28071c5663f1939addf953d4d2ebf7d1bb339115d895842cf7d4fa5cd5ee3a6b30b727f224ae4933fcbc67e4c74cd08d1c8ef992561832ae0ef6457b2620a6c5dc238c6e489d1cb521f2de560268db9de00a2f46660b94db04b393d9080dc1c566bf75bfa3d08c7dacb9cb6d54578f390ab9a41c6723e6526ad020487927d9fcde636ef46813662a48b2b153279776dace79b0bba34155b2458d46677af3de248661188024aa34386ef049c978ea74848ca5d119a1ef3869624ec899ea353bb4f0a694aec2dff23595e0edca05429b0a51c0653845510c057b9872a53525c24a08bb9cb7681257c9148724ef930275fd7ad2ca3e79bd3b1900a5af8f962d26ae63024c774ef73b6ded3c6bb7017ced498f4acda18433089beeef9f9d51a3e4fd3ba3ae37d59b8a9e8b1fade14f2d6575fd941afbef8152c80fdd55d2b86e3e86384089e393ece5b23a76dca5cfe281a94ec2075936bce1526a38d5a26e35651bb72959d8159c389538ce97cb477aabaabe8b11c088e274bf78447fe3f5a36a0f9d08022c69dc36f8ac60f60b11fbc4169199be26db7b23e41d45231012c2c367207ece548c213c258a539f2656745b3c28873c3e3cdc88d945cd34940511dc9ff9316ec901fffc568fb2c2e41a7d0786426c5959085abc0ca650a062c9c3a7d5f638da7a6a09081f196df3d14c2e82874269c80d897045587d1a00232600b90d74759ec8262f22f2a8d08c427c02f3d5ee16b26c9567e30318fae8736f8c618017efb2562d3003f2575dbafe2fcc6cf5fa66d4f5267992f88180db4aad18e52651122941f64e2e87fa7fe18297c8c9c7268ac1ef5b969768cbe6762b2e742dea4a7d0f42956c3143b12163d66d35b280c37f32b03e44b246c4e1b6de2152682334742b773fa22fc297569b299142fe598ab4d297df7bf3e6d33e0f4da1b4783377ea7bf7eb4b8d520d04f1ce7668441e90204615eadb29a135666a5855553782b2a66b047f66ed6db2aa4beeeba42cf5966a9c0dfbc6aa4f7aa8f95b7b34bfe7ff6bff944f0c0a6987208733426958dcab0b4e059a88e5dd739aad8d35ca6bda3350ad5a131fd67791485189f2cd864b8a6213ddf94fa1ce393f6256eaa1a8a9cf918f731de9590995b73e32360aca114ff9b0fc2ec3c23580644bf97620434dcbb903e08c6382a52c6a458514d7c25067e99d1d9bcb3ee60fe83c4d0886ac455789210aee3cadc9d3518fe314aa279d300dd983b8a88423eb1d2811bf77dc47bc6ca4d7cb7c16db262ea3529d04dd98d019aabb3ff8609e453c474407b23f76e5ef1a1e3b32fe4a32f74851be566ad8b719cf4052b2499feb7f84e10c8675ba2b0450b838ceb3270beb9fa7dcbbb642594c8bab073601c78d43cb5da93bb9457be7e11e8604726e90245dfa033de3106fe03c85c78c90daca883e38a96fdd1e33fd2f1a25179864c795d57afc632f0c1f8ee2ea94cf734b19b07e96ebcbd822f00c9d06349ff5f41370334a749bae6e2d4add7ca5643f0a57abb96322f3858ef0c9118d576f23f6868dad9a1a02716205902943bdde4708ab94ea914db79efae7656b0f3316892f1fcf4c8f22f6ba77a923ff073487a4c6ab23000e014b5d12ce0714cfb592941cc585796b13e70e5ffde0fd318677c8e48c61ad5ee2bfd7ebff77c0a52bbd9775f136b0535ddd042e467749591ce6496620066e20248d13cab40fa773bd8cadbb8b6b34c3e2488228d35f7edd91f3af46bd09cab836779e3851d10949e15e31a9db1fcb2b29a238b209534ddfb2d15fde4177896208ab25dd100b3b31f1357122e2b7434c997939db33debda5942e6a04120494ffaee3246eea14cc70e12738c6d10238b295cd6ecd96975eaa72a03905ca4b36b2aa6a10fd4af58ad2e46f13a5b805973b1246c05aa576b90486f48ee8ce0e9e20704d06e30c91993f9a4aed5945cff7f93819cdc34195711759763ec1c48ac5b0730f82a67de6adba983d521e601e57d27740213f42808a513ea7c8cd57c0cd4bd091cf654e025fbba823238a82006344c6d5a5a1e90e7e4811c01e9e0df0f2e8b34cd2e0dc33095d309e15607ecd61a90dbe59bbbaf117a490d1e0f94555c8d2b293111d3c1fe516e1570ff282ecb3204575cdeb05dff5e516dbcc21ef62d6a5fcc2999d51838f5c4ce9a5a1aa96f597278a37f767ff83cd2d8a331034985517359eaadd778d2f2fdd80b7f80225822cab7a17dbb0725fe2139179e4f75a57d1b212b6e7a573dfe9a8c46ad35f6679eb686dc7a1ddbfc26d4cff16a10976273c14d66eed480faa80535169e50c428737a1a4007e8c065ce0dc1cf31693f038a96346e1c0cbcc3be109bd3f344699dad0cd2fdeb7540a04716ecf767b1eed210d467e321b512106f731c59b225311a6e96730ab27d1c276a9f847c7ed7ff537e96b21d4ac4ca585202b6879c1e0c8de193d990e1e21e25336fe879cc12fa978fb4588b6d246cb7d4194c98f47703356fb78e9a0ab354fa67b2d577530044192b2ea1277c5b3f27ca4bb17750e43eab53edb73efa9578398da3bc8d3548ef9b0a217b2f751590984f48abf77102081a35cc6485161fd9b029a47140f80678eac93dbe6d90d313ffde92ec77ca37ff153b11fa840dd6d05246adec4ac72cf86177f316c685d4f548bf0c014b832287183f9405d0285e8b04e32060c5e7efd03dbfd37a09f40c9bfef394a8c7fcc58c74555544cd04b016d2833f25fa2207f825f77fb18e22b559ae88a0966a5bfe55a8875237b0e6f1ad1d4d11f3355ec7ad7c61e285111095ec9a753dbeb62b17bcbda4ffcb9274fb60190cf21e20cc923f81f63ebca893e9c30c93d1894396ed34134217817f8a2403f7bd6204f4b9a105caca86b1ade162efacf746a1a2bb9d4590444e2a3ca3f5b6f60fab6226a13354c083b3d7a8f452d8815b9f22d416e38fdcca53eafd8eca2f74b9088df4e64d8a6d613bedb33f601d75","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
