<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"32dab1fad94b561639611532c819dfc0f2c3dfb1c0285c9da5f1eeb536c46a1d522a59f5e23ca24c69cd7e98306763eb7ad49f4a00e4357b754a5a52eca45e373d1de47da8c6b30bbcd29f176e030009014f7ee5af859f48137a2e5985bb3820d6ce840064a3e742d68a1f61ffff7fab8aca7b1a5dac704016ef6b051e082906fb77bf713ffdf620cdaf34fbb66d397eec5c25aa3c7e9061c4a5095f1b66eddd2a652585400b9d3e488fea21a5f804348bb4aa4a7db062ec9f82a10e28cc5f3dbf70120707c137e4494fda97f44a02f078b68c5f5601d7cae4e79076a450ec44560063a60b94b929f22228c374a2d8bb3b1e84b73f13f8df5f41f92007c5bc3386bd21b2666025f9208667c9211ae971fca2699beb50fd631f80622b0faab1c76e6c7f6a9cbf8923445d3ba1fc7c0089ba88a88d5c0ee6a47259ce14ed5787d9152e2fb97ff0cbf278bdda7f53f4765780dbec52206a08f05f2c55f87f294ebd6d790de6abb5f1614e1e79c63920959f7d656547b409ecde333c6afb09b6916063d94be4ca14e62128e9708a213526450f4b4160be93fb609694f868bc3e4e8e265a6b6e0ed3b7055c26fd76da6c78a961de914405a4189940d9eb3ea96c06070042ceab2289014ed8be3ad71581b0dea876fea6dc431bb71603a208ab911a8406f6891c2bd3128a7bfe39cb48379fd73cba968009cee31bc2ebd3cba7ff1ca8340c856f8bed6b5569d42f6e7de7a92d7bf8b5a66d61fe7fa47b980cd3b74fcdb4bd30d4b40c6f82196a502bfb7199514c4ac94c6aac3cb51c40cc48e997b3ace1f4724580d1f0eefdd37b859e11da5bcc9d9f65c9196cead44084c9422576e70d4855508ed9d5e171837402dcd922c9cc098827674358b3b030a41278819a0a07a4586af1c70cbd805581f627300d51befdc163678a49f28ee1b709124c418c6d8419e4ef17e4dae150734ab9b8aef66eda072b9d34e7601b815441bb3eea8667e0064039a1db7c3164562eb30024279815f08a4384826f118386435d27fde5e2265eff81661a6c1c328961e8207337e0673ce42b6dfe8226ac0fc031a160f872b05a5b698a42a79d78ce085d15b62d4010bc1dee17945e39d9932603c918118e396668f045f1cd7c71ef3340af73d5457bcc488e3e359fb7bb197e135006cf069e83e90fd8b65644357346f4e01ea2ee13b55ab5866b7813095dea090f2127d396ae4398472cee7fb107ef8704f8d6012d156ad3a6be4b3bf4484d9414744d60a9ae0c0edea0c30114011c445b2fd3b44f09622f4cfa986e4db111f0785347394c78333ed121e69b64d704684d41b02719fd6c724961c8c6b7b0a11b21ec71d3289b233a1c23e7ae9efc4f7b7848051a7f18c6bf205d1929f3cf2575dbad8f054086da111dacfcfb35e1894afb11eb7545147a23ecd9092e5c35e44f80f96afbf2c6046e9602acea89e3f82aec9d123dd9b87071c5d89bf46726849f9e0de1ec330b8e7abce67e41eeeea3af50c1da265c4fb046cd30f17322e75e704353e612dad310199bb73831424506f7e55b5dce87fb11d6106f3a8dccbfcf589117417637f5e759450d2b86fce4344bb0e75e3d48438590885fe7bc8fc67aab8e4e10a3dd3697dfbbd9c4d6985f2f8f10c56595c8e33f86d91b618c94bd15bf30581a1e2937b2c16705859c43f791420163a2113390a8ee3f1deb4d082c5dca3d6ed31ff4fdf49277c2e9b25a99cefcc8622f1242e9c2a4a4cef810495459a56bbe8ce50178c07a790dd7338bcb1e8096bbe9e65102da2d7f8b79ddc683c881e3a00da2acdaea9019be444448cb605716ad9b99ed9f6ae15e2ebe4b822c6f02782e9ae408ee9f04bcd43d3640a0c0f51e8a69fafdd7d2e89155161c2948f58b64b31132808e66ce168d226ce39d5b006a6f216375a5e92a479b7c236ca139d7575b30bf2cd79dc07afa37b10a8abcc774ddd4b20abf21fad60e0522c485aca4c445ebe8a11d7c19bd21fd45b05f7a0750e74c5bc8b8fe59323205fef6a3775f967e34cdf3d0d6230024e5162e27ebf491d03ae294348ee738485aea5f7f321da3ab055a682f4a2303e3ef817e8d10cd2005b6a6968e9e76fed186ca41e8778031f2027919fa40501dd19071e146a3c3dff53c2dfe7e6abc0b2723bcc29339bc4b3dd97d70b1430a839cd0f7909188493e06172858794ed0f7bf2057e93d092fd289e59e96120998d3568b08399a29c718a948378d55512fb50b9ddab731b342ba6799b530d9b929f2273a671e24d6960024fe349e376ac31f92175ee3ec164f65b781dbde64951ec36170be2b67e6fb862a76375564740bfd1ff87172a21f079feeeb6ccba191224faf7d1e9bb55d09856c183c4234fa6510d6648c6ac4b0895f21651ce15cf433f127a2aa4550c85b12e06ec7450f068a282a10b71d481fd8331ec4139276a06c72f7ff8f7a1c5d335454d03e3060b56a8d7a963c347df5b3acecaafb733d5cf1f55860fd6a3fad843437329f630afcfbff45fc5f760681a47eae9bb480c966abaf23f55fbd960fe164ffb4d170acba2aee7895e96e1c6bf23f53bae73267f0b407637c8c15b7bc8113f5ce79ce7bc0198d57196939389c01df2d33abcd96aade172813418b7f79b4378e0856598591a4e51d899782fafe95c1a6afe09965677ae801fa370a4a3ffd43f8ae9e29e3c5d1f169434cddb165c3dd1211912932b07400fd2893d75e0ad4783102ede77227a37653aadf3a972be4104a119eacfefe41bd0fee36ecc0da3c4a729dc694a670535c4cfb7b5d815992b55e5608da504d175adaff4847877a9526f76f306c578dcc4bb79a8b4d76df8b1f6041680bb0ff0453925002afa79ac2b3b8270bec201d43a37caef50c63dc79b13e8632a4ba8ba7d2cd6e82b520a342a2ca2d4a20ad0ae72144771cc02eeaf4b5ff973b97778d4a6492844c722e53f53a9a0317acf217974e6d6805112f8ca4ef64e20046f767f76caf286e47bf81b53b91ab70b56d25583ebf169e9947691ce687875206ee8a2d74f82079be9584394693a051196a2c2d2c5c9d83cdf2740a3f6920541691f338d9ac4f127900233cd68b9ba97e0be229b8be386c12a1b5f824bfdb20826de2712610cf56d6691f052b65c36d22030a7913c885f45a211177d1e2aa387a11d6e78fb488c1cd76bf6ff6f22bb872dd61eb446586376c1b389e51c9a6363a99410a25395b86e16f7b0a0e523db2a8c34b2fd053fbd026553c4498bb2d68301cfe196e2cbbc21e2c108372b5088460c78640c46f3a8e5bd5b1d2bb2299ddbf5426aee27e8abac671ceadd46851552c81f96a14112e4d392a0d646ac67b7dad4d4e023b592c73c3908c07628ee5a850eed3873205e48d987a6d5eb3ad4ea0be1900ee75bbd91978ec16d79f08363e30e8f72a3c2cb5b2a57c38abac67f919abce44ebe45572fa04db5c574cacf8e77deeaa9d798f0efbc1da90149311f1d94659085c6b9e20b403df7c2367a4fc55533149b8329f34b1bc5867e1b0e3cf4cfc7ea1ffea5c4f1be9e45cf0e34dd1aa628cc2ec4b149d66574d70ecb338e65591bfffb6a8ed0bd5d023eb40edba8de605f212bc876e16b118e673908df5b48d34e6aee7894ec6b55cdc85a2645e7a018e49f1349140fc32b2272d6a3999c6d0215a76331d04fb85160e220e1ac6cdaf1a6484d4af016d36c9b1695e2a48c4c090276fbc3eecdc4b50dab71c4bed4b5d3a1df235b1cad1d3ab85339b4cb726695bda671c2281c680ceaf6381cd6ea39b34ba8d60464fdb68e7ed015334f9763e1f28d5b5497b1ce549b79dd7b96bb3f949a40479c4c55868d56fdcf165422b2027c986f376fe574ea85638c51eb3218edf8ea918f2002388e918c5fd4175cc3bdf9042134310d4c5b6f59fc85149772d5390aa57f5d09fc656de8375f8b1a6da2df10b8f3328b89deb657b7edd83ade8eac42bbd94a7aa6252aa3d276f1588e87abd8995f61d7a811f5b1a85f8a649967423845e9a265f314e475e73dfc3fc5f74530bd9076e6edb18b300c53eed0ee4425d79ce1a344a7c098c4b6bdb8ec13626b334ba864bd489ebb5c33b9b4a0c47e45a2e628c1efc03250758e24680477f94adead01d744a764c992b6d1b9b01d91347da8d724d5ecdc242a91dd036b040c5b53bdbee8221d3fefc01f66e402707f056da2df7e0d4bdfa966fbcf1df7271e413c3c0f81db8fdbc33008036b3b54846ef8470956a696205090b01486c43c3cd2ba214e7f6cb53e8f78e45caeaf3986ed452c0a26dd5846d8da033986ea473449815ba57f0ff6cff0ddb4cffc943565e2014af8f218d71fe43e57c84e8cfbadfab29546b386eb0cd6cb9a99afef069364a93c4e7b166e37dc72db45116db7dfd6a3dbba7fa0145627e068eb840d15f037528fb9bb56ba4b1f4a729b2d8c336dd1743c5b5bda347b251552048e3f9d016f3cc249205242e5cb1065d23576b98d8ab015a4dd9e26f67d456262ca1e070b11ce54ef16b9ad5d22eb03e15c30e5770284872f3c79189724dc26248c7c57a39d57ee0c075366a117761462dbcccf27637e61367f4411df5a7a1b6d2961976f99a43383f48783d43d27a44a1e9cf0ec16af2d112f09fdfa8eb2632fb22d1c7aab0fd199dd608f759bf3c7f90709a5983cee93c75e38b6004deb64911ceaa6dcd10a443570c8161d12bbed6e84ed783cf53e8d78ed9916fede3c4e29ae6f0680b1e4d52b4ba4dd3229a6f3de5fb74d670e5b250ba1be6759c53c0f495751aa11583c75e008f1575e006c975b9d1fb1326b7b104f897320697e86327d9db8e453df099d7dfd7fe4b215ad506a7d836e2cace881aca47d9df738893f691890a7329b4357266954c883fdde2dbff9d0978eba68a67c0d806267fc6c601c4ada0a2511e19490a7a665a690a7b8f0b626ed79c068423159e2124e73a40d9c1bad3fbafe51bd5011bd6ec8172284d7f652e6b3fddde08b6eca5455c08b6ce25dd15261380bbdf6e2a70a528d845fd7bab90653fdd67539e3dbfeef04ca66215e3c670f9e68ad7d98cb17cb0347b528ce4343563c5a466b3733b9a11a839dd3ac1d492fe8c0dc8710aa6129caa835dd833758f8359dde7b3e6f97a540baf09a08fd1f2121f89906ba835552c34795dda45f79d41200856b9110a4bf4b24cf55def9135a20f2feda82bf6b447f13b4d72564be69f89772b30548f0608c2c5e68ddd5432d728ec578d2ee8156e306722af9c71c3e4d6cb2d80c7107e48e8bbd6e384eecd970c6af02a775955255e86480a052aaa083c5fa893d7c68348fa6c036df31f042c2146981ffab266964f018a8f52d7ea6584cbd74b137379bf152ce7b2ca20d1455de3ecab37f0ef176c776b0a0951c4e7bc6cb49f3afa585a516ce286e9d7708825ce6dfff36d249efa5921d1798a9ac4fb2a1d7776b6ad13c7a2bbc2dd970d327a37e63a21ee497baeb641b9a1138d97a263d773647ec9f2c95215d76c0010947efb5fbea6dcbc8097287ad583e8683311281989591d356324fe30e01508556929ffdf1560d05dae3dafd7c32be64083258216c1a80693422c438ae9a76ab23ebf9ec7e34ee217c159e85e8b1551f2cfc4b07e9340940ad02fee28c5541236571d2b8f14cc465c611be9b0a847a848177704326bbfd531c52a58052e8420591539972b6e51003fed023591f97b2c03d17cb012af13bc86f29286ff4b49e4077a2e340b21c231f7178e28db9bc8b35a6f98f8debe597ee09b13258dc4bdde5722e8f7d0a7ea85f3b7ec7248556f751718ccb896639703997607991508e61d02b68b92b1386b924e295e834f21d408236547ffe3e75e5d2f43b7b4ea5ddd19f2f4144723024c151e8fa7de3ae2f29b1052159da9dfcecb53ad8b538675a6a331db4dc253ebaf81389adba83e495f3ac7338b0f048b9e1f3993db29622dcc294da229d13b91806f8a0e9693979fa9e8c3229930e8decec9a97d1f663f9898e1f3c6780e17401b1ebede6a67af5fb82a78c8d6adb733e09ac2a3026c2aaec16b61754b1fd2123d5f36bb5c1b150d3d8ace50963b18545c99bcbd39ba2b919bab73f95abed7ecba90b2b05e660dd68165242f03053c1ce5ce0fa6afc55d92e14f6ee825b05e509c7d83411088723169ad3d1b7134ae6fcd7be3482272c4eb7489c5199381dc55bea9a95202d0f7a34063c3f6f596bfb8883948416c68a72024b89a581df72cc9900e52c716c66b7c5226d88242b1217c3141f094b801ac8198f3fd14fbbbb788ec1b6bc3477eb79ff0b4a643a37a4514a5cd6958e2e9c51cfdc14d2c139e986eb8a7d4b8b1a461a83ee95c2cd237be42e5110b7376af33ffd0ab2c52e42f1917ce5c22db06438051c8a4bf41ba9783b08e89e79b68c7a6a9d388cffe6cb7f7fed02ca07a68e2d25a652afa7a165cacb61cd9e339beca1503aa3c115ddc84b8ca254e22c24505d18266782c909ca5891f7685de725bc049fde5e225f1e29aec122e9bd102b97dc394e5e73511e89a458319bd84db757ed1e555d894f7a27b8818e4d276a74028149b2a5d3b460f25a6358836f34f67961ba92da79f4280fc3336ab48290b215d529f4a22318a29187c59d9f77e84aba5f7d6ace7a1f1588d888f1b8fa22982301de2c750d3bb5b7085a6ccb034db45b5db43d9c6895a967df1bb590585a075003292edca8c6078691ca0407784f6869c89b7dfe9ac3f215723bf770a2c101689ccd2ccfc69e7d6f9f62c2efe2bd3b0609393411e2402e9afa4e09f93d6a375d8925db60799e6c1e302f2d3f2d52efe90f4071e9b3c8338e1e2523653c74ccd14c0ff3052fcad5f8d3439ad56e83ff88262a3b4c6b83d1664f578e731f9383f18635f94bbec2d608f758b3fce1fae26447d570c1ba29a06ef7cc913d2eb4b18aa9ad5b1de1f2a0dca93592679db4ba1bdbf12eac50f8248b844582e08a9b1b055d7f1ebcb2839c1a5aa736c8e792be941dc768f4b7c16226bcee18b2db1a148e68d5fa124f476540e6a7b6618ef11a8d84528772aa11ec26324a4054fa483eca271a149eafef2a39f10bcc1a276da7bc15f5eb50478963ed962cf2d7a6d00776637ebcf548df546d3580f2bcffbb682be047f50fa5be8a4a38e89f64609adb2c8604db24bcfb039ff6ef1d147fe6a3066db976c708834f0855cceb513db5e40d2812333adfd401f4a76b2f57cc8409ae1cbed19662de5539aae390563fdf4aeb29656e1c2ece9109ef25305624a4d3061a4562768679694d269ba20a2784f6a6e76cf45bc5826f9353c97a705863f2cfce6e77a6767f635c8bf2c90c5ca125a60f25181058a9b8d1bd771871a51664d226d9ce7270d54de99e6288a8f7162f6d69a7fe3dbe5f9bee90c998b7304d84ec3f8a69fc62accc3f08912cfc0feb09d5c84b3536eea375ac68fe8f8c0fd834240d97b79304bb0f95f47068dd6b04f0093628b6bb3dd91dec413e1ea6f0fba61fb19c70e1f0016b92c8baf8a9364b6f681f7c1e43403a69a2e9e99837d3f151bae22e4c5e4ea10fd95348ae42621e51eddca705485af7c4b63d73f5c44c2c155897bada24443edbc5e3de7793e3517cd4148e7affdd5f2d13188614a516e4d6211674c9ee8417e70a8184572bf3cd5fd1e9838d6131fec6498b30750d1ff564505921109d2ebb01883b37d308c1fc4b4af28c0274a4007828eeae0643cd8233d018286dce761407efbbcd437d9a2796464589a8c1ffa1f8e5f7ca3cd6338da8f5f3eaa34e70131704accb84d5df4c44262f81cbc3481f0f92acd466bd4ab9ce6a99f2baa3ca581ad8224f33380ec89e3d01b6e136ada74a80ef6fe3a66a9f9df2f16e7cbbfd9139cc3bfc5ac77adc63846a29ef0379c1676b443c7ead45975ff5596129c1ae9ac27f48c440f23dec21ac76a3ef2f82236224ae9d36333b410dbecd8776ccb2b330a7c7bf64dce5135e6519d323ec4886ee0e80765027374cf3011261cd67ae096c94ad3bdb21c7a91701ad76379848b35192dd988ef42b14cfdede705cf6b01f424a72a0544c95cb8358bad3b2c430f1a7bf235c2785038d5e4a8eaf3cd13d472c5535a8a7c55302027fab0f122568198cc1cd637b737c28ce6c3a1fa0102f9dae2d9ced8b88e91d44393ce511fb6a62012a647d04fbd1205db805de388fadc80fa778f978b9a9fa43e82e2ac9c8da8e840b92b8c7372847da7beafb8c4a68c295398e3f52ea80e89f9838be518f33d56ff8feeee736d92fc4b8b24614cb66df5f99fdc91c1869b1da24d08628e932ef252c2ffc17eaa5b17f9d9a318ef9587c572085649d503c3bb0005371bdcb466e37e5e9bc74cabf0462523a7b02fa5f013beaa49924f881842d2ba2f1d8bc2be17bd4472bf6cf64260ceaa22eb89c662a239181ba072538b620ff1c6b7a0afc95c82be71305c8054572f7bfee6d519233c1be33b3e4c56073a5372765e9b4c11af24ddb44038792803e22d221b53e3dea6c7fe6a12e0a1f7485691ab1fb950ff83200ff7ccc6f0cf8b9686c16ccff3b6bdadc5c8a1bfa1a4a04a337ba2925f2eb5ce21a81391926e10b6e2525a419c10f3c3426d23072290b91de94a07a8b72d05bf89a17338393a9fac69af10eba814b575e1f2b56e9ec7a029da63467c5001f08577dc4ad0980d398bb6ab113536ffce5ba35b18dc6c012d60d3a692be208d85e41d81fd18ba1eb68a0d9481f3c350fb5ed6508adca3803b4d072f3c86e9fec323b23ce470a04d0cea6096146f6771bd6d7682f2e3a0bb9cc40cff65c0dd3390dee622c5d7e92069a085f1364c4ae924830bdc9abdd6b59be44aca860814caa2b95fc0f4bd28bdd68bdb7e6bbf9c8903b5c795dcbd5948a745e72e142a24069cee5d49611df484054819e2a92107f4b87decdccca70d6db2e71ab5ba6e52595c4e3a750ccd2d59cc917c9061cb6bde6e952fcb97a4bed32a68113e26755752cfd6597b41a52e88d1f240acd77d9ed2b1420807158a3ebaf11ec0dad725c121bc22a7eef19b04762a4b015bfc935ac6bc3ac1f14b641e7bf12bde41887ef2b636665579c187e12bd2a3b9ab1463ca22d9104cac460921701ec4afc6565b376850ac90b44164191ab49a34c9021c83a5d0e9e6fb2d61e273e9f2f9141748541224c76c683928862dd250f04430a8c992963fc4040001e62d213287ed4f5696b5e364d4ea454b231d62224f8ad74ddeeeebeea3413933a3763528917150fd9ec53006b505078f01511bbecf8c277bd1fb77b3eda6333733d6e3d67857349ce48a747d3e8e5a31463cfcc7225bfd95636a127f6afc49fe1eb2fc9ac6cf7449d3a4166dfb67191a7ec4bc27216dae08def233c148d6e761fc7014451fe244c27b86a72d0b8fecb6abad5920708d00dbb0345d49a6719d7497a2fcb134f45db102521fd37759d07f9e9026951f487cfb74228b7f63e58f0ec69abc510f82ffc12fdafd51f9cceddc311cfd3b3ddc3c90a2c4e0ed6214735a3a462c469e90dd467c8d69838db77df021b2999f2b7164b7de4068ba03685bc61220f525511efe75011cd869c4244fd9b0a0ab0e23ec0f87f58259d2344a4a82550e685f93731f3d0e03f68a1c2b2e53ff93563384de0ece63708cb74617150191c912f1512dd3a426284dac5ee50f50b86abdc18d01868e5393964cb7a6712f4801cdbb0fb290f46a6b8386f18af6a179dd65ba5cea0c84a9a500e08c7514bb453950ca7070daa4871fe209d13108509c9d260e8cd87855110703a295e0e2e82531023b5234837954f9751967cccc6adec642b972147b73ca1c53130c2bea210baa353dde09b12b5a7ded5e248c204264fcc62c862f9ff9fd0255010ac2d70cf0d2b7b28293240d739f5c3e9b7cecf821f0fc4b48758548e54b4fd6d85ca36facdbd096e946c4832697964a112464983fdc0d21269ff929d5c32776792439070839a519df1258cabdd3eaf5b2ace7ede3cdada8917efa16f4e141f5cb3a274762f02e1a83396abd5ca71054a11b0eadd5e2a77900df63277b003d065d06c56ee4b3817736b9a8fb4e588a36e0a8313cfbb710c68505e293cd3ca0af9a82095d0a125c70c5f72751911d32ee90960060e58d086fcb8e43eaf0f662808dd96962defd08e209da9696a9620a7bdbe95dcbfa63a030b891b29f5a8d106e52a76275d5aa94a42803510969aa847f977775bfcc1c815362158fcae7684767f0db0cc78e35f31c5895e46dd4b27313d8a89713cab53264265a31088b2194267c35bf845fc5e8a7572a02740a04a2bb9beb10493544cfc9463940fc1838de8362b5c249f73600f94f76d836d97b7effeacc8f52b51725e36592e1abba5a4d9ee3babb0abcf4cfe3f10a1154e76faca86c809391a7e2b69c8daa75244d19d314240e59ad2d8f080fcf16371622f0af12c3130aa0799b92dbee9482d86a10f16d8e9ce1c8bb882d095ced3bba982348ad59e573deb500236ab7b74fa215aca3c5fb6fb0133229731944188bd6eeb609d6e9f3ba82be5ce102647a66a1ee910b015af856572f9762bbd8d684f6641182dfd822b37d1be9c9bd9885c2f1716a5c0130eaac37957f80348294ee34a6bfda6f74475bab880982341bc90d2f6c0d6b3a8f48148d6e1c34b0c6020dc979b962858d1b3de08fa0b93b65b0188cf1a788abaf52f91dc6df118e9b6454105ba35cb49a0c0b603a41bd0a4a76f1c818c41fd823bab19badcfb492ad01816dfed7290b2ee10ab66094878fb03afdb965659591a713d89b5987862d2bf5ffe29c509b0498b650ea9fb2d5e8ea206b0570ad518cb19d1a473e077f6898a34c0e7b9ec4f6e0851f806d4bde352665e15356fc3f6beb638b481d672fe150b847e73489629866a5f9177efab25b9d594b0b7c29f501dc84cf641c98174c3eff244187c0e45c3cb82cae6ca56790c462b4dd0cb37f7fe7b716d760638d4c1567a1dede26047b865e8a3bdb7bbfa7e8502528643466baa35d4d06a563c02db097fd61e9b4f3f79c601fe8c7cb32afc8ba9531b8916f8d3e1a4e6e8775f403fead45a1c9d42a2bb5cc78c8ba6d8dc006cc4a3384eadf9846a14f06fa04612efb9ecd3c6f17b8cd6c32ffe3d84853fd2486d57f735d2d3e1a1ec4fd252116e910a4abe821189e6ac9f6ccc525d466e150fd804f994bd192f4aa1b6754b9ea0568caf08df7ab43a072296a569826fd17f67653c57d5c673678c9efc4a904f8350046da4d7792a8f2bf124e18f4f9e56596338451f4b90c2a6e68e4be774e0bef882e0106a5bfdc4b91e182ad6b1438712ca24f6e5f52efe4a8d1bf0461d124fd21c5739032ffca6530bffdc0a20f8d8496d69b59ad7ab70b50413da451d6912d13972536780a355985a088f4e7126b3af8d913a49b78239be07f07eb290590fc343889791a19aa9151b88667afac3de1c6132d4a4461d8c6dbafa9afa8be409f64403a1db95b0ea4be4faf9f33af1f5deb00ec044fa488758c600d8130e0817642378dc424482dd428e6db244ac996f1eba722ae38260fe1ec4fda423c9aec09f9d92563c18461f2a534cda99dc9737aaa74046034d4c4bd04b41541ae7579d591a731a5ba3e49611b8c0589a6b4ba86608100251b8895da3c3dba842ecfd068e598889ef02a6873fd321861a2a60b521aa8e78c6b2005b084ce9933f1c233f57a26bc4b4ac65a1f127ff97f955b15081efe5311717f2fb51fa46a72657dc569921a53307afdea89fa45290d728e38ce5fbc9ab92fb04abfea7bf0aeddd4cc5ea9f5f2a9fa5020b1a3aa43f9d781b16d65b3e52299875d47d338074efe9068395f442ae854b5c2699fc63d2e88e2971ffc0e57bb2f23bbbff1aa2bcbe95a510b097527cd5347350efe2c2485a77573467f0361cf3b78a86c0c4b6a075a6633a10c9c3818108c195337460186854777db89f42e51f7912d37a155e9fb19dcd68a70e198b1e72ec2d7a032afc2e10f8c6e8f334d3aef1c9b14d6d3f6c8de931c62307e47cbd3847280c946b50bfe3dfd6dcaed0d6f069cee64fd951d52f88a7fa65ff7b2e840d03494f80d19eb9ea642dc7ab5dd092006f72182d673a128b915736027de0a56e0db68bbd870731e4ae496e7344ff1a7d6a098a679838587eb9b1a889b7e131201598e47526e4a6b15209849a9cd3ed2688429e09f27cf41ef830154da984d54fce1f29746c88041263bf51e0f4d3507ff1bb31b6b08a7073209d0175645dfa0d88d4a9f4ebbddf9212bb9c7ce1d2ef91ed9a2955e8a54bf37895faa006a334e866d69125bcd36bc850eb1a198d0b34cf0d42148ea2abed62420ab1e65d763b02e5214be45d1d4887f66a86f00272549b942850d2f911e9950fb3c529ff8ee1754ea3aa0fcf720b7ed47756178120ec773efeca546376906126d372f21edd0398a0b1876d9dac2f2cd686afaaf8238a5fcbd15b107b43e4926c3f4d0b0f31425d685b80d4cc6785c529405f087baa23df2141585bc9be5c3187515ea0b36b190ba5e0a197aba31e165595f907b4c49eb1fd1d99b8603ba4276ce674e154e2bfee95355fb09f0cb1edd78c32b27a7d2551318bcf5244d79884e124e4f8db2c9f8f51364dc1aea33ce5ce021a4454fd5d5dec69cc2c861f3323dffeaa8ad34b84496c37f6aa8556565736252088a9f5a8fc8c556914038606e1b8f1ba1dc2382975aed0ac86b8226df05c0ca2936e681c17868b78480e4868db047408c348f0d03908d0f52d92cf419062a7156aec17bd8cba206308588a2c71288f52d51988899070443d9c79f6af5758da64c70eb055950c165fdd8b4345aaff3396f87805d2ac17d331e73f755add006c3e1a4079e7d0ebdde90cd697474c547d517bd41212ee7541b588902e6dc00faa1dc26bafee0b05dbebfdf44347f1598732b2a79ad737ff22723a6cac1301f9af00a363d3ee25f8d3cb35ddf75eef4046aff95bd1d3abb997cdce0c11d10b6e2568f9847aeb898d4b4bd6fe6831295e302884b6afd6688a7662d5b9976ce86c336e8ca185b04ca51d8a0e9344aeea2b7765e88387e4175ee5507fd371cd3320da4d3c85c3e02917b46c33b0c8364839e81b0b9fd278da29dc4683b1b2cad8fbdd9c9da344e5387e19cce144cbd9511edf27e6864256098d4019f9fdc6847dda21014da31cc7e61c609df56757a8ccdafc59b541930f2c2c3179088beb78a666adbfe07129a6061fbb7a5801c44d34043e2c51736f233733607a6bdc07ca5fc3a56f764808552b6624659bfdff6bcc71c36e39cb86286c89fd6a6e6a8b3ae8c640db8b092576a7f17b3e23aa827618bbc0b16410a84f8f0fd4a9c3a44bdcac14ef1e3f38d63f3fa891cdd1134db9f0b8fda368a5fd78e12fc21916326420097bea81605c36b1e5f3749426f2b9465454d513626a83999cc49a416a964a2600ff369603f888505eb7153ac791c80afca8f2f60e48aac7302c812d4fea2eb70bb232b281c0f32807d565db22d8b1eadfabd217f7d6fc24f6667bd5fb2d964a602a5ea0ad400be6e2b00bef1865d42ced17ee8326d98cc6c63cfed6b4d2702016d62e59c53d0b683a076c85da36b074235bbed8c85d282c7bbe72c1cb33a8f112b042bf08b60cef5bc771edd82e56ee1b90bc9b883c7530e01ee8b3fdfdeaf06428d7074fdbc6c7bca3d0988a58f0aba9d02879257bb288d1d1ed8475996a17e988e73b9d25a7340377f79159398a9da99ceefd58759376cf4e6eec930c02a40d285de8c4bd2be1e979f9b90787dbb307eee75c2c42228406a390a562c83996544ed49b4308e1532c42c29090febe398c9e05d79e9e2739d20670a7ecb548184b02960160accfa0c9e2138c0fe5b7ac5a405f3b60bbfbea8f7dfb15c926d274c789a58dde42f9cfdd2f938b06779983fd0302c7a822425479b88e9280544a60bf7983c623abc0dab95aebd212e289b140a2af3aa8e9369760126a512e9c3e5902604ffc2fd13fa6f767e3b2722e0888d9a61011a0a1c3ae91f9f24b1308cd7ecfb9440451af8402345d2b0c8a99573821c347eca488428ab861a54e6625fff241fbb12441e5349ec821e7831c434d5e680a8e0b74ad9bea4d87e8d7963717898eb7eadb805b01ccf0fdf7d2cc9a30621480dc536c01182104a69daef4c688689f70da577ed42af79932b4eac10fbfaa28a28395579ce656393d43192b64821e3d734ebc656a7988030b701334bdf8eab47cf3363c700637d73985c396f3c5a4650f3ba1dd1770eb69856c805cab9350e70108b93daf85eb07813a71bd6db8dd4761a777f07c9433b869c15cd8c3a5157d78d928adeb9883b22364a82cfe6e138d4380472e10ee05d5ae4979c906803abe34a2962548a2f6f7f3f138e96c2ddebabed9e86becd658d642c5139f61a0321871a13f96fd5e5f230ac557adcbd28360f7f08e8a49aa4d47ee5d1e2ee4789b890f8cc329f7bf83002010a3f8af5e41ef12200f486b6e87a6c48467f97b38850edcc229154bed88f04fdcec836008e0051ac85c09db8ecbbce6c8bcade7eb83c044d9e1485c20d6c26103c23e7f94a8851b8d486cc4b8ca9cc013c56a4df8be6f2a298052f50917711db2be7ecfa66c2f9180fbf5ab80337c946ef7f6fe67b8d08588ee79c953edb1a6f03775a5dbf6ba40f8763606d2d69911564aa4ceab8abb1d6c98325313e693eeb3b8817e659ce5c63c64e312b89a0a7d5206a44ac9ae34b3a5a418949027788642369c455c24768e047179d76133675c44f90de6f93a6a3130e85440d9d9e68edbcaa6ea06824628f4c7acb82ed7837c39ece9323e04a916b03634c0a1218430688aec1f63c5f520f53b32579aaff468606d39c7c1566175f330775ab66d44be6e0af7f20001cb6ae131e1271c5b8622f1ed82a1f1eb41eb682376148a4dd60f22a19ad3c1272051c66219dc73c78811f4f7c1d69394164b1e9452dd01baa4e33a8607beeaba6e5b03bf981a3714dcf1c80c769f77f43a7ca20aad27a7b39a17d490ceae622f327ec5b94ac2810a58356ec136268583e826b39f37829bde7ac10bb3cbc390aa237a41894afd7768f8fc812d5209ff1e6ecdfd6e30aa981a3debc0323e9a79e119fe6b4f53542e8d54f06e3a377520e8e9a0c128bdcba967be96be06391a74969fc6ad8cb99bddadcf1c836b278b99611da5d8542e893966671fe1cea7a98cd28d42973072ef76d49c9c647260931a7d833152a2be9130d6ab05c76833077b25289204cff721a9fc47188d6e24ff62a7a7ea09f82164971d2881d2736bc5caa50afd0b8e82c62531fca4b18ff6e8b743d61dfedc97c610fc48f8a229d24e69463fdfdb929bf614eb2be322156a25bda855823af6a8e87699f00cffa3e904aeba108a5d580f105ce4e0a86f171cd8e3ef291171c48db5c53f00235df7f84ff5dab3a2ac804dcfd9789b3cd7b779fdf4c2bb68329a1baaea417bf8887351cb625724e4120e9f633006b9c59e8aafd2d8c9cdf16d5a22791b37b6851823752650d58d19c0229e4c21fc6e9d4e298ef022e97d0cdadff64d8f7e38ccaac4e82369bf8f73a4c1e292eb22e85a87e7d1df1ca9daced4c8a46380d3a65563c84de31f8d02de76b85f59349301ea136ea0e699130a3a9e05b7787635583b1919337077130e5d0c170c3df431b35d09c8e37af03e8257223630c2305059824c3499e1f6fa245736a2d43992fa286671f04a0439e19c9b4d92ef82c0e8babd1e1113c8b973c23db201076505234b010026c8e9941a6d400b4b5caea650c01975fe27215823b867337750de6800f6d62d11d7f1a5959ee4768b3fb78c3c622009cc7ec7ba1c2aa1418a521ea8c903aae6966c037a71366d453b17f78ca1c07597b3d1e8d6280ff91789da68dc9e27a5c6abeb48941125fd4147e252507c8ff2ac836c399a7ad9e59ae958db4af9c7984ed4f94a3ae27bd976cddae9f9d3853bcad7be026e7853bf169220dbdbb86987adb76bc7ec2412bc3dc2cd3ff6c9e82ad91c7d2cdccc587bf61810f39a6c5ca6284d49b8d00d7355342b2b53f4ed73cdeea6ec649840fe7e68b6cbe2389cfd392a03d28f0b53a21f7bbb2e0d6d967e37805933264bb8ddd08070bef66eb03ec3f77cd46da20e09c30257d08e0974f5aae1cd1d33d0da863e2e6f2362f53ac83b28781580bf9b0ce9943440c8b70c28bae1d8834ee803a931a539dafd415909d9e6daf8f745d6a98f044e337e49a3034074c7df6e8e511087ad54ae5ab730215345e5a463ed5ebf8e4c0b6f06fbc0a7f5b35eccac2721850d91506140b94ea18831ae91412bf31626d162d93c81552b291497b26b6646c950aee06abb45b72573d11eba0154554878bf3c987df3302e4a2c1876e14f276c47d9ada915b29768ff50bfcfe2bad8ed2bae90dbe9c973f783a55cb20d7f29468df1004c855e6290bfbb0e398f393550af6f0b5daff9ecfcb0f17d05a88e522f9d250ae81c2f2a52e2b2e575b60a49b02c3cbbdeaac60e8d33741273e57e003ede50d5abd567f8884f4f9ef7f7225f635c059ac0d2796de64fb428a0092c2b9a95db2ab5bbe613ef73783479071f9966d356c7a37aa0b9c32801be3dfa1a97c67f6041c9d445bcb37d36943b66f52e0c5d9f7a11c3acbb5c23424cac9c3fbe16ec132c7407d5d6ba0c34838035c3a151a2032f3a1ded2b0354341ccb17103f3daef59dc8d2be8916ec71636aaa1ef111123b82c8ddd352de498164bfee508a9c52c634395173af3b4d31aaabc929eb69d88c250d1e4ec300b81698ca988bb5d38d04a91a92bc69f22d524cc58c9c58a4173265dc62dfa3d5bb5e7f43c6dd001927d15ea4550f03839339ba22f5a637e56efff57a1ec55ebad74eabbcad3ef92453caf4b9452fc84a0bdcc69009ef0991d97f004c85bb84703419e12a64f4188c9544a904a1d0615cd0ae340833467b8b4b130e93cec7ef5f3c7018e8d576bd19cbdf9c82938399a012418601147ab0ff4779d687fc589ade5e5b9b0653ac1aa29c721f57c089a258bc4448f6b2e6101411f1cb048b59cfb3842c6924f73f49c302d2a55e0c3537a92cd95eff98059c9d945f2dc841b5d6cdc26c6fe60d3bca1500f8dccef14141669ae35b6d596c2b108c8a9dc15868eaaea7e1c62659d0606ad04aa5387a05a89df5d2464319d50009c4c65aa777cc404cef53318a1388e38e1b2d6ccc2c201f1cddd97fcfba8b461eba60092154a9d1975a539f0416916bb74ebf9015d7a17e4e233fa7fc68156677d62627f3683c1ef5903786bdea192d8ac2a84a09af95dc9d5c171e3187e256cbc7b2ec811b8a6f756fd12d380035b445f580abbefa2cebdd736bd37c5867c4086763ad1888676514e6f7f1e53260b1450fbede86ca8135e920f3ad6026b0102885f8664e1730f2251710f32c2f543adccf2f2d222fa3b14dc713ce400b0c2427e73a404822fb5dcfd4eed1c327b789e0b0ec3e9dd124739a1f96f4e43e15393a02860db2b4864927982f9ee0dc86b55c97b1ea00045acbe9f497e1c8511b6e6dbb99b225a4b9e5a7fef2547cc8ee7c5198199a68f17894d25f4e0584fa7a265264e45e267c3d29132d783b047861827d799293ab0c03142781b6c583f498df226b935ddb4c8d4af432e425f36a3f0100be30e33130e83bc80db894c5f0d495af01cd9d47d77b8196c4a97ec7502561184e14d3c13a61b6537aec3d5bc3bd8955a6d266763e46fedc2c3391293cfe70a5435edde884154986f3f46278c78036ab5e759069ed3ac85ba3a8222c32dd7c1632ef50e241550af712a892c5e3650e7cdd2f4f9bb805a68ecd921c95af83ba60e1cfa013f16c5a93871c17e7055718c05058caa8425f085423a5ba1005e9bf6e8e2a37ffb1e47a2f4e0c4321b970512a49ebc51f6da78b4516d297efe27389721c6ef5827f54214d4680a601493684996da3e31b9d42f55aca323bf9fe29f07afc7ab369f61b9d1a34400821a39d9fadb461ffa17b99aabd3c58764e6562fcba2b417a365a3c008b28c59e42939db4b7ea2c7d4916f5ace5b4f7a58954f1d9e0f934b8cfb2140e51316b4ebeb33e7778b153b71c988801c282a057ead9c4eb6c017ca79a785c5f4b7218581f068ae9ae0bb041c8c9be8c05aa6d4c236eefcbc49edf7a28102dad14d7f47b340b900c5070dca0147887b27ffcfe7b77f0c81a8c2933b475ee5a4dc3929476861ad8f20ea601d1fa725b630830b9551b86130d90bfbe75645c8bc0b9858dcdcc294a2dcddee405c1393ad1ed226240883e887bd62520af1b26a13dcd5570ba6b4e581d15efb3f48ee3e8e2d05fb303649b64188a3633ad8319f32ccb5bc34432e34c75d70120cf5a1c86b9581f115cb7e605c05242815d1b881606136e513269a8d3fcee9a34c3c8f8907999209ca5206aa23fc5e077919d0dc5569df5e84034aefff7da7df6def0e9421f7a0e0bc6e34fed971c92e9f8931a6f73fff2f51d5a463c638f1b0ddc6e3f402fc2c9c5b714e5f830f4739c253e6f80ac01c4f59a317cf4a31fcf94d8612c5269f50a70e074d35145571e71573f43493c2b6881e83e24a076170d054878320b2aa17a7b48b865d4c1e972bd52e4058f9ba703f47a8952944e3ac1b118eeec83364b9bb3b5603d188ed3fb2e4ca305bbcadbebfc9143d71a8c184236d6140325170fe801fdaf3cc47e46f898060257bad9799e9bbc6435693241de8384552eb6a36114c6342df04fb5e68a5c066d2a40e8594357fd2ec4cf2f73a6df4bd9bc7fdeffb78fe1f6f4eaeec321dc9ada10fa27968dc222da403f2d76772ac626b003b35d8af2c15e7d369d65549e32af57347dc975816ac7815433795270480bd38cfee148b821d946534cdb3501c5904918d1f4b7a589922092f5cfa8f2dcd17fb533c1947f5c54396d1a03ba474a0665357833307927f69661842eb1e342325e642700353c23f2349e6eff7a2cd44e7b299b75d852dde8567fbe987b22ec7d9703f000a59f335727b669016c40245e92581c3d2a2931f83464a915b0c662fdd7f0a870969fb7846e5e818895fe1db8672e6d6ac8a6488cd21d45c4d7da1f4265a6107d60d769f61f4a1eac9b69b5898152bf6d7e42940c5aa54be12564ccaf81782a01c34e952554f9960dd9cde9541f5f46c0085f3d8830190b97854a9672190805de48814d69f0af26814695091e9bc0181918e12d458f33d2ef6b23b068145bc58debaf06bfa1a4b0eb79fece0a40d1edc6d568d66b7d3ab28a62257379c064797aaf18f1cecd5b636f3593fa12df6cb4afac1bcffb3a22b30a0e17e18459f6f0674b58fd25b6c6caf88fb04f8c74c0afeec693548b8207c145ba2e7f6be96f0772573f847162177ad469dd302c454806da50121224c208f1a372c8b369e3f379f4d4309e96b2014e0e245b13009df6a24bfa96c54b12412b723cbad8e99faa381e851c4a3672eb9dc2b2a5195bc1f1c3a6f6654df601bb4530f4cf758f06961ab692e9886ae95af958c9b4dcc831bcd877cd36bc3ff3954c4b97daf57a7ab2c9cadb6b14c0225fb823532fa2506ee84baa574786390cac6d549c6c3f137e69ee649d509af8051d663f72f82af9dbf4f31c896608751ef754f536fcaf3d75e9868b7d1e4ddcf65726d8bb841817dd9f32c0411b299db62047a678b2d2335676445f29ebed9b421d50693903a5d29e99b4d17d95e8c14808cb5de01593eaa217edaa077551fcc18fa57c020fd10a49a827f340eb520058d5384ac13fbc3ac533089e06ba1373e478f0b7176647143cdeff7078e8bb68b1e196157d4da014639f66d8eacad6c837ebe39c1302e6418be11af25cf1e6c13a2d909acf410d58f1a944ce2bca99e19428615deb2591c32185f22de59c512fc1472494a79251959c6483dcb31a4830b42a7139eda0ba88fa3ddcaede0eaeadc055785686e412957981658e3cfe1cc8e109ffd68601ecc45f9200b25249a01c6d9e9f35cf8300340a27133b81e2fbafd78cbd2b20e439d5bccdfd9002e5165a2fc638ddb29785bca5045f46ecf40973a5d41e812e86eef6985850d4c0792817f590ac7e120dc90872cc90e7327b7abd2879c947c7b49108a34b50d51066014daa6b71a1cc940dc05804ba12bb2e29195f1b0c114be36aee516d839ae9113f0c136e501564f133c621dfd4e07a71b17d7b21332ffb70aaa10d29469eef78d164e419ea5751e02dfe26951f7200f9cdccefbfcb981cdfc736e9a3d3ed5d8f31aefb914a67cbdcd69d00a116dd5103f4336cb07bf483dbb45afe3cfadae9e4843a9bec627686d1d6785befe089f26cd61feed802fe7ed41be81a5799781fe62002bce6505f6a6935ae588b9264591ba4cfc30d6a1ddebbef696a94943015dbd12950573efe10c2d47169e58303382c2076ba9c29a30518c4dd4e5cf4ed69930b0f4219753734f58aa989fa4d3e748f7713da0046cd0748bcac99da322e3ad4af0e271d9de8d62c77f730bc84e3c6ef192ebf2645402bb4424b6422593e813cbf4a42cb7fb8a51e58a49dd14416150c914543b744c84c2797a64a9a1de96cbc0db632bf6e3d2abbde48f41ed4194b582dc5ebeb718ec0a5358ce30bc2a5c499743911eff79584274a215447333a833bb48cabeed557dc3e5a601a61ae05feaffd8fe62249fae5a0524db80ec7fabe7251bd0a543a550c56b4619ede9742b0a5a86f34d2e8e8bafd1f93590e78b0488fe55c289ceda61e577af033a1e9d7f8b7d733a52d66735b769a379db9e824e1e2d31c56dba5c9a0e4a90559231707beacbe2e10a176f6bae0ccaea49b73b6888117269e1ae3b87d6c65168deaf0753c6a0cd70f3cb662e3f7cf43d5f8d466842d4ea20d5d94a80423ef4edbcfb9b0c30fceee5d59599e89793d189a5579f3844290648ac12269c875ce5d9d9fce3494a60af0f3ffc03b43ef555a7be50d0871ebb683eb1c91d222247165144c298f8b2c0fa76694fe674c3b9e7f8d90dcc58c066c6d80e18df1cf0d4ca35062a7c4e7ddb3d686440bdc028330f6895d705d52d1f512b42c780cab5f6871566a9923aa298cb51f87f2223d08ebf809062256d6c0e4f8d9108ecfb0442b217c21630d797fbe2db0c06486c51777e39d73688b2ce3b42af36d6a4fb9a115c61699fddaa08ddd6dc4798d202431e76c03bf7d46abeee7d18203fa65c20aa6425bd19addfdc76fb9485e894a15f035c76a8fac13998c8aa7f912039905e855876264966a9e9692cb2aade7b7b561b650e1559e99173fd067b6240b2d67554d26f7e052e2bb2c41d5e5a4870eb38a2995b995cca76dfda4c5af1e6021bd010cf4c045ec19c7b4554bec3077b7c91efe87ee4146ebad7ed46951ff0a39fc0b9ca98e9a0c31cffdb9939e1b7c3487a8d073f6a60f16f649adf717163769962808c6e943ff97403f7e8f895ce577fbd012a524874293407e34c40d15615932e7cde885bebc94ef93d69667c8571299f163034365b7188ce9b5b41b3d70fcb692f7690b68789de9e7de25a90e90f3b2d0fc1535c6b0fd0f2aa22671eb0870d890f780aef9f4988c041cd0d31dd299dce48e0da2db025030e11542c6e97d79c47799b6c63c90a226b31556d3eead2c3106a29ab327017","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
