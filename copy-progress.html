<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3c973cbeac40e37b1c4b12330143ea2ebf77959a4ffa6051c2196fb1ea60882eaac2ccf0fa177d75ddfd7e1bc77feb44130f8228cf2584962614d2de5eb20f836da55a183f770d0edb9d286c06b3e562f3b54e861058e251c5469fce65734ebe3e31619a5cd15d12e61873c4ec2b8682a409d50c3f083dc39e7fe61b3d2d98963621365cecbe0e87128443768f1be0d7e2fb701adeb9752b8c0eb8fb488f470e86dd31008faf91ecc1a70ee8e845a03cd4e54e7aded746d1c4871eeef2468281a6350da7d9eda02f61b47aab0e0bc56aabf766ecc2ec525754d918bdc72c9fa6e303539c4d701c1759af550d5f8b013babfcd425e5eb109d2b05e9b692cde5be186dc11d5906a4a07d737791766d51a0c820b05be4c978d0b95f5275ade88dbddf50bc31a92b2555a486ef4c56a162a0731af2c07334750a2dc9472fec4042d8a3579f4c8ed7a2108cec0b876bbc87f888215e1a02b224f3c2822e32a9f5d38be8ebc99e7868928413a6094e06bd43b5b5dd90d26b9c55bd167013ec90b7cce8774cb6b29cb758e41ef98c3cbb85dff50efe8eaef6d7b70130f1dadd98df69770f74c39700d40d2586cb21659900cb7dc54a1259b37489f0ca38db6e37f86a30bd86985181ca9a839092cdbabc8aefb4b1b57a76dd9d5f1b3e2576143f01ad2e988e6750ee408024a84dc54d2e3222171e01bca7811b64dd9fe93640193b440bc5c654ff7dbc6c835d19ad8f0942cde0f45ac63780cd1cb6a28f1c7d228fe3bd3f33001839a6bbd5405568d986bdbac14be13c4cf43864df5b5cad93fe15a98fd97ee85d903efae136f7709a5dacb67b6e79363bb0ffaa78c598155d30a75de37dbe03ea9e73d946cbee7c7aee7c614511ef4816d73c630c13f8fa3eed65fb1de555b47317b2d192b8f0c3d0d4dd1ea17043d723d56bce20bf27ab8a2d71a7354f2bb04278b0a9772299198fdc1cf8e3475a02584c632b89bdb208f8c108889200d189405073f83e9547f0df7bda4c27c1337268886990d7a8b2f0a5a7893edc753decdd014746d4d36b6598a80cc6bd4bec75f9f08873649d47559eb15cf0bd4a7d7587c3d3d4b931ac012f7ca3735a76f2cde5e83ba3398d1b47488db049a6ce6d977e9da2d26a02c133004ce3106baf253e5893970238da3a790ee24d34bcc0d0471ded12acb7007ee059325320b1a1dcdb6617beb2790e5b5c1c620fc30c5b6ab1c95a422e588bb66809294ad2ea87c65b3419b1ec7c334baf9068b1eb1bac15b8b23ea1f5fcf033eb994866ff7ea7f451a38570c2ecda1921582c8cc6f45b3da0de64b3ed723d014235a359d0b4a940078d16afd782652343ab55304951bc65b584221175278b29116fd516f9da621fe943e0c7ee4f749fba8a18ea217fd52c2afe6f9716bb96361d95c911fc56550470c4a7705e96984c252e6e6803baad15910fbea6b8600cb116df43710c8e1eafc9b8556ce47f52a85a25cd1408793435fa1a9389b0d4072c6dc0024e30458dbe92ac26dc167046fdfc63f669370bb5545f0d0e523e860aaa265adb2c5c76521e0efcc8d6f5002615616eaea4249ccdead2a9f176248d04ae9918eeb107c3a7842152133a2df935e184b5ac98c444e42e74969a03181fc81872a65a1119c355f7eae691d32e7d72f19019b0fcc5b7666245317b4930cbdc01db095eec8a6a5a76e197c5d118e8b6b67a946573ad7871a478446058c5be44481397741e915b27e2583c5859195b890f4b292bb0fbd51f6f13507345a9a5d5a1aa603b6cea983422264f642bf6b820c50eaa54eae96bd46bc48de0c9fef022d07557e44a9250dc50fe48d61db3d7831d7334ac5623ab57a8fd473c9f88e67375fddac55861446b45168e669114e85df248a9ea11a890e93f833244945fe7577dc0a9b79d93c38f7c07561330a4bf06a94d933e74746984362bbfc3bc918c8c179fa556de9515cff6246f7a314a5dbbb7430e532734f05145fe8d9e6a13afd40fc6b59430658158084d320cd1b37e9e004f261d4994cc550132eb8f599761a0ad449dc17e746ddcbbab57052cd45e721301faa7e9eeaa78accc53c7dac6b4216c6a486eb734d55776e181eb2fe4eb4f79a03966e90c9797a67d9ef1b0ef9b7529ba8d386c3ca8982ba9822f77d929bd8e8742548b6ed32b85bb84239290879910e62818907c37bbd50bda4e2e68d4f4c76c572b42461355f9236a5908aeb692dd9fb3b51c9cacacd62f7c550730b9b4a75009f0b12cb6cbc6033e7ac02d4bf4b018916920ad8970edd3eb3ad55c75341a410fa417cb9d56f676da24fb711a26a2cb0cb41d7d0e130468d668a7de0c8f1057201176e372f58b00c8aee9d3a323233deec0b8bababf3793a24b3f49cbad1fa847417866130fcb7112f96148e6a08aab6c77e66dccda049487ee7bd19bae2f3288e6ec3f3132c2aeb37d8579893470fcd398b2d92663b6ee997f7c3080f428caa0a1ad96895e0d00df975cecf2ed7f50a4dba472b453a592b51d81c691ef32c99f8384c693d03a838a00a7f68132d400e5c26da2453debc89a10a8bdb9b3ebf76ab896a5d640bc833f52701fadddf8040778564b2d8f4d424d9bc059bfebed975f70b48862ff865197ba139bf5044a4cc2d04e579da54241ea62e6057b1e5daae94fe01871c737a4070dc0f06c1e769b3b2d497262c199b7957ccd8ceb8665057d44dc76b9ec73bfdab021b099a64791625a6cadd7a0614decc158d1b1176b3b255dde7454e5b224aa71bc8b436e4086acd1f8657839f140a7b03e984dd3e6a7423987a3752ec4f31608ce2543d3782020526ed988c2ea51c2fe77bf3a474b912645c7593e899491773a1acb2cf66ce6099ac8de3ede8d3763a9345fb6eb020f056ea765bfcbd92d90459f094d501c0dcc3d2ac4270c3867fe9aeb8e9a8a697a700700fa9e840a3f5da7efd4508babc7f45f8aea695b49d5cf2a3945ea35eb8882b99fb78c5753c5ea92e5635eefd2411ce69f30b47ab3e0fb7efe3ad9c0dde5b1ab35dac6574896d6b7372c9db3ff295a89aa8c0678eb3048124212dffa911c0f1a14d96fa264a9b15896a48c86f1f50584437fe2dfb744fafbdb0e50e3e5f9fd90aa791fee0f59d5509cb9d2fa9ec1eca32d2f42def8efb3d4ad96ada8a48148ec57488c0c7b473bdbe26ecbd191e05dfa1cec7708cf0d0f43b00133b5d1029cba2893210e68ca02a96ee2f11013132d65b6e4b861e82b7f9161a22c14058c4eac792e54291a8c396a4f8dbd4287f23f52ba0b96b675e9d87c9855542f833a2cb5dc86570204a5aa06ca81d70cfdc5280ebb4a783c50771936816ca0732e8a7a7148acfe5a88bbf38b433a69e8028ee742b75c0ad7f18c8a5b74c2c5d2a8c1d939db281c6fc39dc2ff33cb48c659505a335bedf1161e1ae9e39e53ae34f120423daaa879a972488506e6ef0a54634d2b1525027d5dea9470591e9567516ce3caec2d502beb7b84438de9104f3d453a83dacbaf58f143671ae33e19b1ea0fc5bce121c6ced139e8ec47d65e535978262cceb1195b6026d4d28be3d19c3e23cbb6d75a8b981bb19d83b7f4e19d91748dd6f57b32bcb146d566985c1c5ad207e53e7d7be26fca127a073b4b4e6c472b94ffc967aca19e3055279d98eac42dd1eae067f4faa5720cd3cb2ac79eb4129e902e4f25751a45abf1efec6348b56594e2a218dc795adeb0cdb709d9d7d31cad648cff75de0c6edff779872a19c8ed0311c97ada2ba845f490b1ea40a08a4047421def5203e2c334200f3f596f646f6c2372205dc78cc563276840ae48115f714957ef42da1bd965f236e9f38509734948decdd6cc9c5785c47795c5856c12d0b82e26c338210b3ad454450fe229e49ad3ce6f25b14c101a534f97a2368061618e5d7315988e1b30acd9dfd675dd9132e7ccbb9c019e3779359bbe20a17e0ae73a2296aa252ac2398819f742c9cf400c09b17f16a5ba8008d287e4cde6bdc2d7ecfd13f4918a76bc6dc9ea254ba7595e47a602239a5b6b4c24d25e93ee830ff8feb0ba5313b2390ca7b18523821e3f707cd0934d70a42c67d9219737c6ba87b3799dd5c728c4218beefaac4ee0ed8d8dfdabb0528b9f9f885547ceedde53e0c38fdb4832068df27d09365ad6bdde5f4a61b5788236ded48ab3fa12263e053911392b1005d395ab8fe5203ab310017763765bc585f6952d3e76c6a79128ae7c038d07a33d845750eabf662f809c117384fca2d54059261c8b898d7b24c394d373c5a5eefb277f516d82531ecc4e81161997cad3322011554de3eec7ef796553a9f3928344fef15d358768c04dcb41e14a430b18c1720dbe72c382355fe1b6cae14d6e254c30932f7cbb94b66031d66de721778c6161dbc10e28896b909efe7b46f3aa553f9fee348566a764f65c880eb4a1f61e6a862f5f1654130b6dabe6b3854566949c9bc5cd3ccff3374a2b952a6a2e618e588129e8bd28e4c9c5786c54a9f6edf1946be7d930eed99b46639d7d0a34e3dc6983fb9ccc7f9de6f043bf71cf3577ce8809d5b6281c98125fa98eb0d6f6da121f63c149e11303bbd8eb7685c7cc8ebaa2013c6a833b84e87957a0dbf0e1f927851b530022c80e1f0abc7731ec13e34c62f9be7292db7d64366719707bd77e9440f37c5495fd60b3843e0b0066384b7fca9a0b4725bb2082f58bd2af7069577213e210361a2b7b9709ae6485740423a51933fb9fd229f96e5e9858266011da08ee3a448f9d28f0ab85230c9c5bb13993c28acb7f14b699e7ed14155094373f196eb290ddbf74f472e933847028b74216bd9fc03279e7360841ee5e4100ba7ecd4862af357dec13c67fb9dd9b4a5b78314f161002d073f4a6b1df02fb8da05ad3cd6c8e2fc2635ea7e7db7da792f50a656360e57bc665ca2f62f54d70940c2ca279fd94521080619a348967e22f235ba37aff1a5690540f783befd5cffeae0807d84514bde9f6cdcb5554a6ad21ef3f925ad62b2cba7ee126af967bcf83112c7d63076a34b03ebaf4f0ef440b30367d8ef9f4e3c460e54ec3fbf9fcbb3359e6729902ff07155f6793640e04752699cfc4f13b26f7d73a8d06302319c1165ab6567f5a1c9f09a522ee44acd390904872a55f17e00f2f59339eee7c4fbe2763db70a775ca00ad0bcd8c238dac8fdb6925da51da01cf6c5d8bfe1f8c564e23b345e760813fb251426be47e736bb0e7481b36a42a336e05bb41a3758a3741fc39c6bb42886bdadb73a2a17d9d16294a710553330b7a5f3a03987d9116bbf0c150c5951d60c7b96438caf50effe86dba79bb3d09432e5d7c3b03b7554db98a1c49bfb3f1bec9632362d6b0b54abf153107898f7d8edff8cf2cf4ddc7e248bb0a8b0f1e74e9a0d5fca97ae0cd0a743b002fc3ef961f4c129e7c590eec0ec9f6dec1cd2a85b111411d33b45b473378a929abd05eebe0364d5bdc3189ed27f73ebc23513f00b80b15705c96b02c5f8b1aa327efab82c995d314491205fd89f891fa5a53106fc6dab6daf0f900193042a50bb08466ac66ab3eadf28ae45aa3834ba9f9ffd5cbfb6cfc8c2f8a514c60e88ecc9fc55eff0a5df8766b12643db520b9eb497c0ed5d7818c932dc1d53cd21540c87bffdc666f105f2fade818e17048204937b497b1d69f46bedb8375b16aba0acc01cecfab6ad0c6c940c76177e2d8a941a8d74e82cf23d756b03904af7fcd6a006b237093e0125d65f2a29d467a68ad0de50019c8a517e1f59d27e4e8d436641969b92e56fa492763fdf62517a4f3d6e370cda718680853bef82c4c47e5bb9b148c526574f32d61561b1b77dd8d2e5efb07e241e03a53132757e4521425dab7e385578ec20717d7d541d8f64ce6f27234bbc7b07da2519dea3bf167d83b54550c397b81196e4a6f7c807a1c1223f88f13d6fc82bbd3f1f78824122f529df0fd83749f2afa79c9b70cce24a8afe53758d6311878a6ac206ab1b7a91e55d298a8def9ad31bd339ce915cd198aaae5b17831e2221d7467641ff31f692c895412260fa0eeff751bd353d71ef1542e866b9b06406b90614d4bd4a118c8c6eb549acdd37e6b3eb916b4c97f241ac2702dc1908dc9a38070768c42e844ccedf16d40a0cb9c39504780965e2da5f514888910fbafd729cafc91c0037803475d6724f036c1300f82c38892934e5d4abcbd4405368c8ace0951e57de4a5977399a42e41c324ae58361d1a77372f987dca813391f8d10f56c4ffcc582da96f0f842cb6f86597ad67134e4e8b5d7d73d04250ad8c265123a09b1ac213810a300714d0d96c02966b9512efc3beb2308d5709dc557902e5bda281d8f90ffdab73708e2c9e3d86b5a5fa3df620c40a481a86834654f06792a4bc487c2bd40a5afa78e7002cb219c63105b177e5ff9f69f5c363c0a46a8fad871fd6da8848d2f54c46ae48339a25d9f16d6bb9b3cd7e44fa208c4681f4b7ade9c2a4576c167fe6b166ce714dd1178eea83db5b80824c7df08b222b2194e47a073104a628bd3b9686f6801c0e79f79ee741b9996c25348d9b4e66c915bbbe852c2be29b3aa5c1da8696054740312b0e89a5a9625cc48e8300372799b76691d406bbcb833b2231c57ad4316179a6a4dde0759b712089b15cc8bbe8088b2b2803aff57cb5e846aba0284a48c3604e2e5a057dd893b5b32d4c60bf5563c04214ab1094c5c1ad556e196a549bcba7f4652fa5ee2b75d16f121530947aa9585eded73d0e48834cf6aaff49dc303c1168a9a914a7ac99eb5ca44c240510cc2205b931dd6b8c7f70aaa5cbafcaf7fa6313f6aad5dbd1a951fa3cc14045b563c37a722739b85d02e439939e3da2c719f215b1641478ecc123a8f64da00ee5b2676b95146a0af652a8f7539ec774da3bfdb6db977ef2c02be4fef9faf86995ad6550edbbdfb66f99197427b3091b9c9909c96b1dac57b6bb6129f2ecc2227c20e6b8b6c15973c372232d5bf48b5ddefd662fba9ea46b7ad8d118faa6361e1a64672a07e14a956ca80cd7139c9850bb582512ba7ce51a74fb35e8976cbc6b309f5c8245cb1f6de819cb9c7a6856f31374bb8a0e17512332c91f05ec83f7f4ea9a516aee497ed7174b51b265b617995659fe5d2212d7f06301ec08f92c93f9e73110254f925908d792f3d61673bc3142c149f91a5f5d67aa37d191261cbe0e97955018bd4763c13b6bb002e0e68ed666a48c8d7ee8faf5a3796dd0510b6b0152e9b23d12ed6ee604141130e01d9bdb6ca69634de8d7db9c6b39af4677c917441528103644a9df854a762cccb50f8b072bd8d2a667ba278b77d7169d3037fe5313998fa86f9fa3d7ad51b29a85c0561436500d2276528dca0e756b1ad50db58adea5fe46f192c61b36340df102d8dc97e9a42a1cd9a2e6993d71cf9df5e74ec54ddbab423f1bf436b630958f8c476754feb41fcacbe865e734d60b14103bf68b973a1f1fde5e8bbd6cf31ec864e04e30c1a674e0f0264a2edce98ee224d995cd9b220b1b0174898ba6da5dd85dc07a823850a5cc96ca89b7c39a00c5c9f7ed10ace64490824245933a08ea0bafaee1b83d5c5ba3bf5b788e02526c9d0755919c856c0ef04a01c4063c631f6fffb3baeed6c79d8df5d28ad06fc42d6583ec92c0f3f4aa87076f794b6773402bf8bc4d9fbcb4c78c804cc8abf04fd0288801d91a130d430430daf15254d863a19412b1278ecea0380bf4e4a86ad960c7e8916357852eea50b0498b64b2003df5380b11639fea3e200b6f0a142ef598acb2580f7386b1970c492a9b8367ddab905861581ffd6ccc153a2f84b707a8fec4d3e29e09ea3e68960de1035b91892097048f65cf3838f980504686869cc8b2e6127f70fb84b131b3bff4557b7f946e84d3fb2ea0a898a5722edf2b4431c345401aa3cea7550a9a95b25fd731de5d3d460141eabf09d4e49be8be9e51d1e4d5b3d40aefede34fbaf08bfd88cab581a0acd3afbe9652ea7d7affdd13477c37fabe75bc6f9ad09f78abc41b97418e977a7ba950c3def992c564232662267ecea030c985abe2ddfdc721dea0cbb2209b2aa03a1eec4fee4584b58c029df92da5433c1fbc1ed1ba72ec7e836cc56dbf7f97a189fd76e4950ca9ff4b6c6a96be90355d1ed42fbe46d5263fa96c69f29a57e28e4a61076d804b0ab4f996c985a7c885c18edc68f8227964fc63ea5d4c166a640201c5cd6b2987b8960f54811105a8a56af1bc6e66d19531b40a2af0e04751ee6e28437ca777e6f2525655c9f11976323ff901156da5d7bd4147f7795c8db5c1bbfcf92129e8860c5cbd3a8de228138f7abcc6daa8ef43a20c44caa2d7c4c31b4740a9a818952fe5ae1cc8b9e5e9da79942767a15b2ad25e763546971b243a09e39c6d2f80ca235b2fab1692804ce0068a21d1fb8bfbcf2c08f626af43fe585dac49fcf1d9d528ab0827514a65db82d6d0d69ab8d6faeab4769004941e33c36ca4185ebf69640f2ffa04a6c7ab80a7e568fa6184e3fcb526bbae720aec9e4e8a2ab6020baa62c894c247be6db80db8cc1c809d7ecf50d50f8b709d1519a64204bfe19ee21642fdd0ae250f0c497e080482c6fcf469b30109e467dcd296b41118e34fad65ce65ac1d3f33ff4692c0a1a08ac5b1728e7e9465400a936ec738c2ecb014f8b836668ebe2e1b8ec866211e465828fdc5933b25813f7f1fc8a01fff77a3a950d26d13db27710f5fed62af57dc0249454c252a56fe76bbc57491f07e86e8fccf81af5cfa1775f0b05ee60ff07895f76a87f6b76759db1387d0659b17661515e716240ef85ba23bacda39792aefac65e0339562f3b2ad170b9f92f13a6b91ea4a0cbae812f938878b3ef51be77021b50f1c7824e549b192c501a4883314e88958a3e1904d161beff08bcfe89e313faf0dd878d217f3f9f152f92be47184d7427695dca9d48697b2a4f004854474cf020a42a0db5c883a448654931fab432127b2fd2f5aff3057e82ca90f59a1c0a3528fc1ac432b26c20701c47572001b20e03bed35fa959d601af4beefd9cdc7d4bf57cdc8e2e02a6516d1d1d4a21d556cc7f9d325ec98ad31ef99f5124c9aa58dd572cf0aecdabeabc39eeb8eda0d9584eb694734f95446c85166522b490cbabcedab89cc65715459e902ce0286c07eb2d12c0f25afcae31dec50da0225cde86fea0206be7bdafd0045bd3f06c6d53979a7512a0c75d8dcf19c4420e5f33bdeb41c6ede8782fbc81fe2f3e02bb139b0d35612af226c6d7f0ef54e455e11b7adfaf06ea809095b40d65c6ce7f33543b94a1b10d9fa9409c691eba54c99d20ee415a42291293b08a5d8b9da398894faf94c7a3c058b96d65ff55e64cff391a9840cc0e81dbec17721a76a0f48793398754201df9c4b5ae33d47ae8528fe597516c24fec53f9f9c6b11cdc8274efc754facc8539db540ec83d22015a8100271fbdde9a5638862c738cb5adc1df48c06e866a79ad665e753b74dc799b2ec76b4fa89b44d7471211d2e0c55685f1807e82a9d84e2e2b109d4e7059543cf8179c547947144c7057b83422f398b0d13975ab4c82bc92040b0e76fd6987d321c8c84010b29d8c47532f495e194929af1d8674cc5ff3ad8c8afda602ba5f5d2d634fd77aab988d4c6f1d091796b3dc9d4ec13a6a7b26bbd602d40b53b25b8d7007c9fb46c588390de4dcde997f2a599afd5852c54508c15699ba33e11b3e5a7bc1f19380e22b7a3a811185020719b2f5fc48f8be19c0d5147de9431a939d3f9d1acd5477bc01b45ac258a4cf27591021dcaa05c517dd3a1696340b6592c1b36ae6be819831ce5c246f54a9d2f61fb88257771a225dcbce70ae32deafdaeec4f12d10ced02305605e1b80155d507f74a58f3361fcf4960277ca84da92aabdad1611ce56c052553bd687b9cb24bf381cf8d211325ba7028fbd1f0ad232c8a25ca615e44fadd096bda11eefdb33bbff88206936eb99b598aef9f199f665f35262962c2318b5c60ca1210672d22294936206a46d4563922f061adf106d17173908f772d9f1c0af2ef0f58b37e5866d6401eafde2027eabf768e083b0f6303b5ba0472c848313ac0f97618d6e622d70f46fa1bb900fa2f1dd63691ab7f06e78881e7913f606a7a6c48cb9219547df3d7ac5f4f5c7e74073da0c4782033f2815792fbe6b23dc644d1e21c20e4bebb1f0d0a69aa0dc035576013395e4695df0e1fe30f1a612ea705cba53c199fee0e460815938a691c7a52e805a56cedf5e64b4281d46440d302ae4fe943258c548cda87cde3f26e056ab3434b49346731b615163603cfa3bbde93c83a5f55183763891fb78cdf68b1c24e010decd35d1bd1e7e909728da6f6642d96022cab849f9b408e27da648083ef03f70fe95a6fbab0990ff2ccbab27079f22ee1c9ee596acc0f40b6029b6463e5d0e5288b3b26bad5a947fd2a9f8e81b7869fbf35dae8b1d5bb6318dfe7a6a202213e23cecb9e2d3b8845980b13e6947685ce096cf7a9bbc791e7bb4c1e46566324df2a1a505300d19470cb06839b3e78194f39c333fba59883a47c15c5b91df02437b80a34797123ea52820c6bbc0d2871e620a528762d40b6f9a9edad242cf837b866b83c08e83e53fec50d308da37cd273b9e5e3fab4584d01caae242d7523a87e2f9627943af357c978182de94b58aa55f1f8acead3faf439b345078f18e292bae0dc39ff010dbc3b0283b2b737cac911ed687fe66445ecc3360cbe841231998543c969c25190366ecf45414c7785557e94f4f51b22da94846e0b5c0a40e620f88fb2a17f262dcda4bf64d44fdb51da87a5eadc38eafaa5f16e40fd8f3266d7c02a260ae6c8338c986b3e96113da06987ce690c7c74a4141b8990e2f0af2c7afdcfe11f61fe18f4f6a6e0b68f801517f67e6e1003896fe3fd77759c94cec5c813a26e4764dd9f11f1924f4db16a5978dc474a8e54e1d128ffeff2aed83487746e9bd659239aa01e187b63aed152bbb51e340a5523d9c5efc2280bcd3905d4cdf0936799c301bf50fc8d3c4106f52a3defc3eb40aec150155d4bb6e0fec0c6783487d17ba39e49fb5ffe6b07225673b6d4b8f6c5b8f713e2dd24d1cb4c116e8a3a988ebdd01f083653c24e792b0d175af4505dea8a586850b4ffbf2ac3dbfadd270ffa54e0fbcf8f43f0d7dfae27cf4e6bd37b00b270e7f1f08f413ac3b6e5b0d7fd328207d018525108a1e00ec91c912590ee2c57d60a5080c4e4019e92350222c06cca26aa9c50322b5b18e4de2bf382b208b337a6e2dff10f08c1c31e0041cc3f13ef0a7b114aaa9cbb772ec0f264732f2df35faa958041ee82fe0f056fcb88c87279597c563b0aaf3f06a24f131190bbc7e0c60ec4df64afea585ec732a880ce1953835e6ea09e3875e03cdc34b38967381abe2ad2157ab9edaa64cab466b8099b65616a200f3084f22c2fe7a1f359fcd920b762e61c61d5ba55fe380ebcf2fa8d8483b61c39a7fe8b8853d5f5249682c1ab9c367163a9bf5f48c47ad804149840e5f2a6f0bde05426aa2e58bcdd2f82e5264462a906732ce5273ae2a4cfe616c462a66732cd6c1ac851c153047ba5c9d0a43ab3c6bac11680e94740b489c72b608635094af9dcaee6f63cfd59bb4ef223b56970bb9d48a84d4dfdf25e74bffb60e29987ab309ec9fd04c95affe6367f0f91bdd84996d07045a461a8254d9edd726e1cb2322de7b02af6d98e13f00200df63c8ab31b30f725191697f57b011d81e349972cdfaea506e8308b5b389777a1905a322f14c9182b3cdd05beff00fdf286a1c72cb1e01c024f03d36a3cd872ec3483eaa7533125a4ad876f6f317d51f9a48527071062a0dc0c4ffa81167f9b1b0dbae2067409c455c0e60fc8924332845e39edef2c7b6bcc0eea65f3fddbf9fdba0397afa752db53b74e43f6bc3fe02217147c6c992074e54f9b4845f0cf5911f6875ec52836a01c983f8db73318d4aa3d9fc761f310c3a67c2cd3042992a27632cf33203904044256f9e22f8336f1c01941c61ad5926ddbca8e00bb4c775c9a9d62af054ad7c6f2a4ba6dfe4f8300ff802e3d03a19a159e463aaa748b44e2112a11c592a2d7367c5a6c9e1b038e3fd5c08a1cc5a1d8b78a0672b1605494d58f3caac017e9f027a5aaff08439842e6096eb4ceb1255bb4a68fb34aaa170e00fe7943381760a2d4d87cab0483e13fcecb132945478dc7c72ef43dcf47470716081a5d99ffde5d932f285f9c306f53a296c5158a51ad392308c31c3e0120ae2b7559b708dc060da475aad769db5e28701117683e7420b83bceb93800fc38ce297d58d4976940820780d94ce16b2218565627cb24fbfd8bf1004bbee3c78b6faac94346b799c312462a46bec07020c1733dc2f579e7e5e9ed4fc5e5511d0a383a98b8b70d7236b467ea412f2c6a6a939cebaa1fcb0eff0613d6f94a467f44b9d363cad006729202800d05eb88299f3aaaad4864613b517190c437dbd92cc13238e0b900e66894b484fb756722390357569312003918961f21f60345f99c29302bfaae5cfb7ba2d9db7d4a2a77bf9cc31bd2ddcdad2ee863890bd57d75a1bc81815680a7f7523e762113a29b91b6a8ec5bb52240aea6b55b545b1dcd3a46ae8a6f2943dc4851ddb16ce0efba56d794ae8acf90a487864f8999b438fc7e24a488ffbf8c2630db63c22a87b767f9aebb3e8a5e6f88dca06865b74f313e3d23fa551c651feaf3460aadf1e1e4d0b0dcd836baba8ac61fd7fca3cdaaf447f8de36fb5fc32d1540b0ae4106c284233d6160d7af99700eb01f6f596ba965b623287b50c7a5e11fcfe9163b4d4b8c5789cc670a1c9424a42118b87b71b5f9f52c30817f1ba90c74c303013525b6237288347098e933a9280cd8da8c2ca5edcc3c2e1f167756bc10859ee80f5a7249fcba4524704998ba531892dc060e38c96e518472c96f5d992ca348b50beb2c06c5c0d0a3178f76d3a1cca5063454cc3f3f1a6e26d8b572c441726106320d7d7d782a7c81f43f2a18d197306f92570738a47a2dad0ad0752a162a78f4a1abfa3c2cadfe9dbd7f80821f6c6b49ddeb032bc89fd73ed8ed98ffda5919b0966b00894f520f2b26f2d59dd055d199a150bf062a8dfce4c2277455d590ea243f4fe552259fc4fda8a672d9f857c741e97be4de35fa82f5e6eeebc59242985ce5b78bfe68c3c4a0b2599ead6af43ee286eeb1dd9e31495f26c8799c4f1b90ab745317b7130454842400e443ad6fcaea33fd926c76a73e89ea52fd1007ab47dedf82571155f7410873158b62546fbc14daa6ec69de076ad70200b41fe43d700409b2f8f719d7e3dae9372a6ac58080708bb0c8cf856b176bcb2f122bac806dde385b8bce3a96b23646f98c5de6286e9600170d0a4c82b87506b608651c0d7796470d836dc0ae02ba81504ef71bf4bad27592ee65e0651a8d487eb3062b01f51a8606f24dba6f80b0cfb1bacb7347ea860fa2703fa53bcea7a070ccf9bcc32bbaba8c54173c666c09f40f7380c0390b6650b5b7f951427bb77f8c61f54ce38e2043a0cad3f57d0568d7b6ef9ef39f3bf829cbdf16ab7a2dc81cbd44ee851d0a81035a3b4b8776fb26dbd43eb0cef76c0f05430a341769b422ce23a7cd52cf3fb4928c976a5efa399d4e8559151a2c83c3186acf404a24809f65d06525ff5800da4a7920d0c657bdbc7ae9331fbcda9656b4fbcff0a65a8fe4b90f66c5c218c793cd49355c3880c50b5d188d24513719c0e9b050226bab13cd1b31041475ba3f2f3ca7fd84614308d9f379d78a773f8bf858a6d774d86b276ae678fc6382c88ff7ff588465e6bdab6f05bfd9ea8804c57cded43b663b69961a8a911739b5545b299a111d9599d48ce068d98ae483c1ba25ea7bca62a9065b84291decae889dc14889cdb5a0139a11560bf3a5427c2a43362fe500ccb56004832148dbc2f2a48ac909a7e2dfeda6d3b1640ee1c7b0277260fe6267babf0b6ca18833ac075abf9e9db560b6274ed5cf1c2b1e7f0c3865a44c0adb81467ccab43a252ccf63997da11dad2bce1746b94cd858979d4a72482fd7a20466d6fc3bd4e572033cf32e55e17eab25b480af8a0ba5eacf3abbefef3ce4139a2107d1a3a0efc3be8622dcf0b93aca3892500b44b02bdc62b0dd04a9045de7afa8b56855e7eb424524443e3d20cccff34b594701bce913b444e239f8ee063d51ebe61a9419bd5e8cd9e2956beaea55befa2350a7138a3114742590eae0e53a9f7f1c22b8408292122377586a16c758e587c8c3d0686dca19be5748aaf3ade5974bba06e418c2dc5e9271ddf515e120211e2ba999cd4a55c0e17d79e74d52877a7b893133d2fce1cf7f388a5cf3b2180be326e43929eb0a7af5a6e2d8ed5992c2404bb3e95bcc44df7c1ce75a3cc7645f0e2142ce2bc94e670fd72945d3394cec5307e14e0b4b4248fa61d268361f04e64fd42839acf8881b2e32981a1eb3b8f5367b0e9b2186b7ebab1fbefd7c3f6edd72059c47843b9a0a0889d35e7a5b42c6da716c19300078765934e18bd13d2602d0c8e059e5a0faa04abd2849d95191977a4b5d72e92ac640f4dcd46f8c725607b39e0f361710bb063dd90489787e0a3aa7101f1cb40346a888d55e0e679b0fa004e6048f55e2aeb7c2ba8b208bfee7aa7669f92b1ff4e55b9ab3a18faeafdd21548ad9e0d5c7423a37a1eb5f53d94f241485a4bb8cd99d46e269d36333edefb9b3c33c55d130469e1e65a4893b7b4949e3869a429dd95944e9091ec6bfa9d12e9db829c98e9d43b25cf54f70060abe66eb5b34d72b6452b489683424da9b7fabf400588cdd83240381f24ebaa1994e0bdd08388150020b70d0755b02d5858424aa6603cf8249b572d43da153e0eb8769d6e2751f7bb6771cb32eee68f05764f0a6eb1a3fc2576450b9bd9fdd79f3c38b3032f29bdf0e5b2bce30ba4477ae0f017cc7007447f1ddd73fb6b50ed3f860133e1bbc8cba6c214710630a0eba391cbc00c87fff5a893d4b4d9a56ce26fa4a62e1f6cbe5df97833b98e72ec33683ea92697d060667ad6417b8e8054895ae90daa6c382d23925978ee72575b32d936835f84104eddcd524040bc3593577c6c0bd89223a72af8195c571ac6c7861c80d4cb94d51f2da75c5d80d5d39165e47308d335b8a12d3284058f545cbe5198b75b0d1b3c49aae4b5b89287c52d8a5b718a0d8dfd0a9679d672d3c9842ec50f0dd41926a75a14eea8631c150da3729f10d641576a185b537b70748cd4ceb095bacc7b4dcd1be72cf1c054bfd8038b516ec56bbcb8e0b25559b83d9ba5ff69c307a99de38e548e733881bf0eec57c35932a49e8f2226598dcd5d9e765945ec7c2a717a31f9e17fc092ced5793fe75169c37c647f9eb51733a78ce37d9b0fca687341a6ee57b3d74402546caf8f7d8c2e1c75811dc3fdc6211399568de3aa3f2b5d47d6eea474ad12e0b571b3fcddd4c7f9907ce58adf999328c3d3b4dd8fec126d982ad9f01cc6ee06acc76bbddd313b7faf810c625993082a38ddbe858cd30d6857b4a2e14920bc231187f99132551b3b8ab28daa4aeb6ebf4f1ae7b51113120c7e47e4c4781c7fb65d026a4df12b412d9ebae2cf840ad56b7abde0558a7e41dd8042ae2a21ae9874b97112c48234385af85a0e3b2dca135975b95209c47b3655ad106d3fddaba9797409e1b6b0af0c73586eaa659aee8ccb8c86fc5525314e35dafe39bd5885d8c5958af79955a42a6cfc2776ef59b379f7bc37e6e69edabaa06edf9de44b1928524459da7280ab594eb9f3488414b27b037104bb32e3e56d5355053e23bb1b3ebafd5e66f4abf0e60649fb26288cc34c7fd5a9b9ece9a9c46381d5d0ee650cb4646243a7b4ccbf6d6f32011339f42e97a0b3a13e30872e312ccb76ee7cf473f9a1a5719578b5471c1ce27db9f8780e0d05dd511db55fa38366918f604c20d517c780ebc70dec19a75a513ee101cfa14fefc36be53487112a67042ba98a3466a4ba0a780a7a552950985ca865aa408d9de781d645305037a5ca23ba3faddf1b435da0cf585361a752ed58f22a5203e4d22a149477f95ae0bd321c13ca69a16b7521512379bbf05337f70f27ecd1cc7aba6bcbc6a2549f882f2ea401e5620054412cb50338c1341e75995ba228747ae66af0bb04fdb532dc824ac7b6de3b437db649c94e88c6cbac7a77c450bf9624fde4526948cc032aaed61b5e7602c67a49c5c78f9639ed69aa136638b16d01a46dc6616405e2e3e6c9ce9f1e03c79cee9316e373c59183d0d7867ae68baa482554b0535d82f5604c0ae8d7a2b0f8d153bb9467c513637892f149b1a5cad2ce999729edfc8ae47a0e28a36adb4b55e6142deba5b82c95679abfc4926456f3248ec8021715b8c5b9663c614978af4c729d37ef49f55b1610f787391c5233ad8081905bafaf5dffa974b796beef1d366dcbb22599c05ed12319d35c226938d13207e3eb407bfee3af729329fa08928276363b732803efb4ce1bac337b27914da7c92438bb2e525c24c026429fd09165ab541735f2ed62a0a481714e60966a7142cd4ac88ad853828322a4e104d3e89e3b6cf327a9678219e4d8a9434a221d771f9b7d0ef361e0c85dde8aafc04443ec44c1988df9067453a3acdc6102425dec8b4fd971a080471921b78f561e87af1fa448d135555e97cf76688675101a80151601a110519149abb729f4c602c767e1e5c50232cd51e4ce8bc013841449e3069b8782df4aa3257ffcaeebd3b2ba608e0e393fc07602441f4f1887e7c8d3c54c3ce685b8830df3dbf900312e62ba70d28ba6c07d59b4fba62a6ded4c3a4f0e7e32f47f56b8e408b87078846723c2bc504a1cd3c89f44a65c19dc56ab0cb47824a9d64c8376957266e4240917045f75183edff9a498caea710319cf2a047f91920ec7310cb5ae8f61db1468ac4cdaf74380fc9af7437320a63881a5c7c56987241fc203c96ea6dd91315717fdac5dee36bd2167971133717b0bdd9c4565cf3f7877597463739895aa49264e8905a1f47d73bbde61bb1d0c337733c88142dcb0c42e477020ad755db900cae96e0a7479beadf1dfd342a500700b402f3d82dd46eaf40bf9f6255e4d0962f40bc098f0cd5e1c08f20613c4539951a11df2876a8e592a94b887247722cd395c554b79a7f9e861b831939fb93f94105a61ac221325e7041b8118585fe0547dd19230f9907b473ba903c374d40f0f03a4e2339bb41ee12676c1e3150b031927cb223c587de32ccee830d46c2fe6b6d635c05c442d77310224a9155399b9faa5488c82b60ab6f902ed41b90323953a530eac778a7dc254e44ff2bbddc64954ed87cd4156188170b4abd999262f762c3a863e30fba276f03b873f3dd96c44541aeb40a00886e4508c8d820c2a6c6d53d31b1701a6492333b882bf44417a727ef50a82c883ff9edcaca4561b6fe60b61ccc2df37cb70fa592354dc539cc896a239318ec20d3ec980d4e67c68b72f7e82e93bf63d55583810a782ebb7fb4f41cd03220aadb7ec20e8c15d9060f596305a63285a7d9f0bdf1f0463b7082c39d0f92d5a7b76d682695a8355c86c6fa8efa8d25d12d10b1f01d2b119c8c1ffd16901f1b605d3b05837c18b764ecc72da3eea1ba4da63fef25b653f1b0185ba02b35fefa74fa69c782c414c7f4049055e36aad49a043482310b954df25dd18ed6a8d40959e810d348bb187c44d626d8a877478997715e0fb02bf24f0c13cf0a54203d935cfc1fc519c5c12c47fb0546ff3d4dc7b281495023546f09388c3448da8269541bb618e6698c5066c32aa9356bcc7fffdd09d7e09e98d51b3a4f72492b42d89ca4fc4b49464fd9de12582611e65c9348bd0e6d3f49fdcde87c4ff00164f65ebe02be3989387a34a32e123046af38c91326033a1ede68859f44bc576ade3ea27ec4da934468042be64e9bb2504bc36279a08f3c70a29b99aa29fe5d1668d7740550ea66ad7426754ff6f72b15376ce120c7da727471b7bdbe02808fe3b8a7ebabdc306b70456b47079e909134e89e17503b6cedbe6949edf88f706d01270692c7a21fcf7c3e1cff10245324ceac074f852ff1321b4b338878026e6066ed9efc3774ceb4dda2a8719b58d8cb1a6394f728060a7087ff1ee6517137c18afa659eec81467dba1342fb042e9f54bfd2e2ed1181dce34409977a4b8ce6dadc9942abe855932f493a91f377cbaa7a937f041ed8bdc422de4dc05d46f37e083757ac01078bf6f981d73930dd40218f331e91062fad3f984a9a5e0f451bfd9b9c2307829c30b1d438544fa69ae9b3a813267cb42c5b080b7f1c491cf38fe57c0074648bc7e3bd75a1d0a3d5b58e7d907cfc14c1c63dccce3849314ecc62da2b160727abb659bb85cb5159da1e75c445f3bca4875bbbb9e12e13d75ae16e6215bc7e47c829f7baedcd792ecee593e5048e1a17c001f063c2e0c01b7caa9e325241a34ef3185b5e9e5073ba773d761fa5d9d17afb0fa4af26843db7ebc5fbf3376b1677f21a4d915f7b4885b9107fafb6a7f0c496549b98e1cce8993fdb0e9c0dd03015d094d608519ffd3983d66fed74971104d321a0f6567b719ecd46265cc84ee14bc01bf08dc49811f50f1c3598a300e04ba83a8f991be04dfcb3158031e98cdc00e608523dbffb01aa269281407a0d4b936a48687462ed6b1af4c84001de832787eee21d6e5877185598edb39cfb0d3ba666248a8b98922ddafdbd4cf5ae0bf6210b210e80afbdb84a52e5ff0506da2f46935e641bf6d07362ee2aeb7df15628bb7efc6a133742d6ae8a64b16a2fb552397ff081641932343f3ba44029f4670769dd981273ac32c934b14139aefae08a65f1ca4dad8a026d3a952c326026bd9e04befab075e8b623b22a07dfaa3b1e8dee5a03b9fff23169e132f4fd7d7b5189795138f8c9fb979c0b5f5ca4a9dfecd3697b546f79ce0d796cadf56d802ef9a60b4160a8a9b9ef7087503f885805f1e4ceb20b6d5d40bda6d8abc411c6ad3bc4d647cd85c4d5b728c794104c721a931f85b6f0138d294e1eabf4595e56c517b7e4af185ccaa0dfc9553ae340b23f56ba6347a45d11f05cb29b06de6c6b6b1cda6c9377c04d45c12d073bd823f65bdb222ffd76cc13dda778eb238d5fb331a11ddf99d88abb7bc9096d63b29a7af557554512a804ead9ed16272a8905903394c241c73ec2e43ec53ffcbba8c778dc94ea4888d8823e332570bc41f64a0cabdac6d6f0c1ac9592b12d866fe5eaee5856178f1ec8946d78e0cb6c88deb3a5b9022c644cfee94dd970ca46d773cc5946e581571ee53b4f76626e114554670f19db45725bb6892301479d63c26cfc126547bbd751b1f8cc369d9e25a70f1350c62f3c7c35d75130caf00be0a79426498711365ecda28e1b20920418eb749cb17213352ec2960f4878de4b0129f881b27e8ffafaa95ccaee4b59d1363a7310e0e37019de00adb7d9a5d4b73bbc1b69fed7ffd414c9682211819d1abd7b43db7e98bb11d323ff5956a95e3e2072aa63486a7663871bad41464ff50c28e905ab5ed6df0a67bc0ee144dd6a8d022787c1ab9bdd2b0745bca9b18c4f296d836b669710e97b1ffe5ca0c42e8d60f1d2207c8f484cddaa4af2c5a38143e8af2b0b68b4bf1342c62102add6f239c3c73448bce3d7407b887da2b5bc4a18eb68d05313bf21c490b11407e536da29de53a12c541860881bfb7657176a3aa8df5fd2c9b8f9bb690a1ad761f3f04e8406519e10e6b5d812509a1d07511dc33223f7984eff6099f4a960f7ad77a77149a05ad803b9467b8e527ba8f907894525f727ccee271b783a63a1f2a5498a22fe5c58958e2d7752fe58415142aa3f8a89935cb3a2fc18d4f77f04f27d545b5837bcbb0d5b3c74d3cb44fc1ad12c34beae5582795d9166fc490b21f4e56c2f0f5ab4b0a956005d74be590292d023de80672ad23f06810b9aec5a76b31b65b8e9d93e50e30138ba242464de2f9fd1c61b3cfb934a8aead0d7a37cec908553dbb0f78377ab8b148df812dad70c4e665dbe593cba008ea8c17c24445a32b53c8965922c03bd4bb19be4914ec4e6fed30ea417d8b4f1e1e22070a3fb9ea019337f37b35141cefb7a1654d999d1c8b9cb08a0891316ba1cebbb991842269f93ba84408deb6010c0978cf1583ec542232838360ebbe7740ed34b5d48ef8527e9e219ffadb3b8cad1f211a5d2baa8bb8788ffbb32042470afbe3bdfb68257280d4cc305e2e61928233860802d5088e859ce55b4b3e07ae2bc4f2cc95d0b2addb111171521a226bc8d559bb44c3bb61884048478120849f661f38cb0683374b9fd1c59e65a3e006d33a2c87aafa949a6964c2dbb75134ac78bcd2c813f5ce2dd7d4aa6e1276dc294848602e99287a264fe115937aa6c7e4bdd2da23e571e9c30b7820c2766895c9a7a1143e773c57376dc9baaeb349caf395d28b541ee17bb22d2f54ee2d4fb3455b2284196df5f2373b418a5a75f0a519944bdfe16fe407203fa02150d724234dfe53390178c5e2c25474c4d2dccee9b7381505cf81b949e42cb6ddee0c2919f59cb06b9175ebee2659bcf8faa11eeb81779ef40877c5c16f8e17e4b02c9840c1801005e3bb5c15ba4b16be8da829e3844074161e3e252ef5fd48c290af4c86d617c0ab4802245299913debb2a2c384b3d7309d60a0d29184012e9728e6859576c3ad5509900c218194008d151c87e6c0d2e314f683d37c8e9835e9b869712465203d04ba4b9f5093b99a884bedb7b6ad288373714ea443e9d2ba781177e7f19ae1e6ebec52fa8cf1cca4d53282b1c49972e858af6c6038e5e95b02fb800c0652c641ac7a4864bf906ab0a4bf484d101baaf41bb0b181e916574d962128c2891785d4f5bc74c8b2c7d7673cdf1eea67e5a8747cfb26fcf5fa38029dda8a06277085e0a02df8d91ce1b20d8fa5239af4f0025070e039036bf56c90f624bd61f04c5d87f11b0d36fd040dc8c5dc7aeb07557da543f3aa05c62529ad51d91dc9d5448bab026a196b31f59bf8cfaa6fa3c251a3bf994d59c6fbacd1bfda336ba347f6f6cd78fdeba80d4d89c722f1c6e91ea89971b35a6e5b22881cff8803c1eef0a6272cf737a3d8bcfcd1354ffddae0cc5946a1592c3f044412e3510b5660b57acf3347f7dfd6d156c8855b63bd9dc7b7b0d8b2ab0bf8a9f1988b98491a3bb72e5911b3d036b69cb35e1d457eacf1efae8770bc8ef9e99b2225e531b384511465dd6f2be4c2df217173dfc3d9a6a07b0af1995dfb53a32f725259b222f2a2c2762044fa83ac51c985d0b81ac466f46fe1d558f41343c4ffd54136e506abe2c3a606286a508e9fa53532b0fd92f17c7f3680fedc04c74f0","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
