<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f5cfc908e6ef90f390805de75ea0b24d05e3287b16ea515831c7d469d18c0004fc1192113021005758ea79052c6bc646be421a720e4be95f38dc19621fa97bd738c0506b462e0c67c983a41c22ef3373faf8664994b377cbe9d72bb88436113faa91430b1702b2f2119d6a14ea25b8e260a90dc3803538a6f1a7ba1448f37c2d8a6e9d694f4a88e279891b5034cf6e5cd80c407b8e60d2aaa8334595a3d799aaf4acca60bc3f512fc6c1af3204a24ad394f5de9a38896c0cd0e3523a68e137dab3cbef951cbcc54c0f3d9cc2c7bee2b519cc9b99d6d0a858d59f2d1fc47e854df29a66b48c4fa77a050cde4e59f10d7ef99fcc5d416e5e4b34a70bae9623838437eaae8fcdc38838ece28055dadd95f6e83e4d48a8b7c7a30702a10fbbc3e858611c53757bd2d2abb496390a1dd01f54241d65ed833ba328a83e2b3c839c8a2a372dbd902af192d291c7e6dea7fafe4198a32a86ea92f5c7b70089598767447718d62702c71dbb8d5cd2b9ef745edc041c8b3e9dfa147d50fbf5481dea3ee819b7b1340502427b762dc35b745e73342701b2d620c851c9c4166da28ff590682288e7f00d562859b4aaf7b1bf0e3cf9d7740548e3ef4c30078d3566c9fb7760255261410ad231405dc0a59e2ad72e095154ec0f2fe693186a04416505cd36837f805e5a7b824ba090cf993c532f5852cf86e878d02ad9bb3c84b18fa72fbc55c047699002dd3d7acdc2a7182030a04c7767fd93b8a9e9d80ec05d814f7d050e0ba53923a57444ede3a0d5ad7b8fb4612312898f42545b3ef87d22c78a100acd874d905d1f3d1d724ac7d2b580f4f8585d7ae420caf40a8cfabffd90ba61cb9df50508303c5f56788b2815c99fc4d220e654ad821ba8074380488d3469e4cb58c0b82743c86a2526b7f661ed15d07ad32f275c39b1aa6b1a32dec346423e4f42bb7c5d123f838d148ac94cea7061a13fc462b42591d2cec6ee550877755393b2519dcda2525df7e5cd405c84f7e2cf266faf7a6f8da44015255d0d93ae1d7675b50d74c783164da12c4cba05bd9efa39d14670f409de82ad9da0a1f3f88ade0d63fed2c2ffbf50d79b0d822ad97665d26b70e4a7adf791dd94ee12de8f6ca9db5b53a27785c329060c38e29b44cdf171c5241df9e1bc624f39dc5312643fbf1bfec1ff22ff629a62838496ac8b03c2298d482f9c4c1ab8495ce569cce81cbf3d91d49edf52ab284dbc660f58e279dfeaa751cc39408e0b100235e2a04f1f1dd904f19171e57e0d5e6b723f81c65ddff56abca160021b73a3a82a4516936b3ec1365a74b0f7d594899b9f332060cfb7122aeea26673f1c3a660865d2f34d05aebb43fb6eae951d9c6f77679a1b250d70719af19fdf88d4dc292e5ca1844a6899ce075214e80a2779141b247b0900294d98cbfdce774d182c44d88870e0a18bfd48286c8d1c82346e1fa85999d0ee516f83149a4bb632dacd4d2ec938f05bd0bc373bf8ce0916d907287c4a0d04d8607e9ac36edfabeea972e4f34567be6c450b9a25f9a97d3515e9f4d150537413120df62a58533768aab8d3f5677bc9005e59b415484e8f49a12b9c6975838b10d89d1e4a8029d3f935f70d3e577c103d6a48f7f00407745b8a07475852536d835b424e89ac2e547042aaa9d036212f522451c3c24a6ac8d3b35b94f5f2664913d109821795edfe0aaa4c6be2f8cd6846d761abe4470a9849ee608a3efb3cd896e3348f43fd119b9e4cd14ab472bbc5d793a8052fb0bca64de03b6dc0299336bc77e902b5a73a36d218fc0d87ffdd32f992d8f0457e0b2418bcf395e9f7c3c520f59bff643809c1d1d3f5d19c50aea016ca0f3fbde58aa5293fd0e76be9cb7be00094d8394997a31245ad5458dde61ad8b989eda5cab85a406418dc8e566b00a0b3bfda82ddcda3a7f3723d4a786b42458ea873ae0acb6d434d99508776c4bc22f4774734f0106a6561a5baa5d0b0d2062e3655d9c50b97b8221a9d20f9f39f1aeedf61e6b0dbad2f957001adcf3e341bfe67f992cc0acd61f68e36e5a87ebfa0441ebda1c08fbcff4ce6fcd79020ecf15361cd3830d03abf504e598ca2a83aa6c60a083375f87052702c65c93347a0f98aaca3574b1bb2a08e02936e285e27ec766367238f490f7cd8ad9e59a3987e60aeeb8925f8f19c1afc1d19493953472c908691756d0ac68788be93e23e2825a8cbfe29e913843f927578064c39a50e8583113b7ca3710da1398a5d60aaf9ff24555ae3a2e89988c3a709db54e40a19bccc4efd0ebf37153bcca96f4c2c89b7a3eba4aaed41699772bad2af11627e51ff000ee0552e3e106799b354a2a76ef7053bf15c6f8dc5244e1699fe54283221b1f285b438671d69134ca28b67a02c1eff7508d5f1063fe0d8029f171ac69ff6b6f90b98d3a8bd98469c49cf5730b3096de0c496ee409634c31f7ae1a17124888205399c73f7ee836beac3866ffc8ec41657482e5c6b8d4b5687a8edadb64b9bdb0d1f6d1b1d04b960bc2561442ca89197ff821fbc64ecef8d51a9db7c3984ee10ff664361251ac6e6d4325a663e2cbf4e0797667f8eac91c0da31a77758889267e9ab603ce89e8537e22914da0eb3a1b26c9af35220ce46c41e671054a6d0b3ac7a0856715291af8daf33a7baa366a380e2502900dcd25377a2b488bc7413f3a06e1e80eeb0fa59b9aab9d1767c2ffafad9eb3f6b169d8050eb3f6ce55dfe5f9b93122efcb2909f789b7f0f978b80adb859c26982ca33b8bf8a6f951922f48b39879906f9c0ea05c38daa19dff451f0792ef567f76f87478913d423ddb6e04daa31a46a7b6be044268e62caeb58531c6001953dd59328446f5bea40da43f98af3bbcedec1794619c12c3d4d68dbd88155fd5bd10b02df0b8446e324bc5074acaf241fada45b52245173baf3e04249f38becb3fba7fdc676ddd50a6c04c792fd424783a6d7c1d4bb63649505d80d9bc01c068783f6ddab0bd08fe3cf852df0f5bcac38f23192ed3428e2e03631a7411350b4c50f81ad546ee122c24dbc2e9ddfdeaafb945cedcc6e225e0d362a835b36fb6ac0fd5eed8e3b76f3042d2634a9ad94054852949f0514692284b8914b1a55c7addd088df8230628d27f562d210584086e736726685369c775f08ab487f7bfd0362cb2ade733120bebeb7a6606bfc01b04fabe035a72cfe255e42c2145f5e04185d608b5db6005a9fd7a5cd811474c419eb1934e9cb78255606ecefb644aba78de1270fe4eca5b4a2c99574a234965d5aef6c48d5234882370bef69e7b8cd1808be61406c0c2c1000fe6a4a96d01420d9eface38df62248f29ab9e8f84d1dab3aa1cbf0e92a3fb96e6052df49e218b89f3ef54ec938e5ea0f435a1b7add0ea75a8b0f8541d47cec002a836a3bafc0cda4fbdfe04f70d86d3a575902f30c2bc5581dff6e3555dbdc4fee03be22fef868c0fc3239af0cd42a740a4e2e6976e8027950ab4cbda86261748b44e31c52c6b1a103ba7b09d9c682d0fdea69812f51ba889e5e6c7e1c3c8a7cdf31dc719fc527ec436cc43f4c3ea62537b15029eabffd2b368dae6e47e89fc35cfebc367e554b5e5634c5fcda22b1196c97d6c10480862ed2324ee218679b9b7c0dc536b35fae84691dce6fd1f4bbd85468bca9bb59614070943ad3dfb6e703d0ba47acfe6dca982217c9d2382d6defc78eedd6d4cb0cf10d91fc13a3382ccf2d740912652373fdc663e522379d32af3f757848ed59a721fba505de1bb1600316c6c4e25a4852a2370ff18a146690b2712e0895f309ddc829cbf02af8befa18db107fe8c6bb8e10b5b63a703b43f56d1b815958fe2da4f194a2bd141b4cdda5a12bc24c09773b16510af5427564f2ad58f9d7bc3a78deb1a7444872d686536f68e9c69e090e28a9e7218ef43278570608e87e442b0493e90645fdebe28e82657e10b7c204492a8fbe0ffde2c261878a26d9534fee37dc688a65711dd7bb20ffc4276524d9b68283650ae31b51de04c0e0e63df597cc84489e4cefe72d6f781213ebe91bac2d59efa6c81929330cd3b3b3e98a91d250e59db6e51c95e3fc8e2540598d95a8898a94a1b7ba150deeffd67db3e3718507743163b6caf3779dc717049a6d28e5eb787f26929b8747b2b44114a53cbd6a66e01488128bad43e5026c403d0cd2ae8ce4b6b87b1ff500035cfd69bead25b30c3a33c7a1cbf36ca160e00e97051388902b04ebce1b229325522660ea88ea6328526fece8b00c1158af12ad5b221afaef60addaa015e098d6379cd66864a05b218ed71760f98a9e58ac817d986c396a8032be195f248cbbdf0b9e6b21739c8caabe559f0802080092d56c974d84bfc9338eb7efe53a66a6aeb05b01ba964d7c7defdfc791f94c37796f4a6e06bb25f75cc6def640a1af6d976b88cdb197b71085f86237be2a49ea38fb3027c6c8d05abbc540a567f07b5e7c3f9a51436372a8b95fb4e39a98144fa38f0d61b0520df5dec226f1d522a9d84f5de67621a37d8b7f88f0301db9576eb46891acb944816bc324729e7721cfe52985e67a2c86ad208404b8f36319d72e6a5b5af1565d1ffe1e90a90f6a6b2c2da6485f92ddff5d15dbaa640aad7ab2a17ae6df026dcc2513a3ce8ff9120ec523fbbe42f3237458961c90f5ca2ff15ad6d7335a11d7eef2dc6a90cffbdbb13b6449fd3fa591ee0aef22c38d686331ede673e53150a1a70fa787bd03184b97eff8da12fd206759689d0ace5f870db8c9321ada7193d413c683ccd90c922724aa8eab51bf79ab123e7c0d0c535f7194c5eaabff2c1a8c8f952824393e2890709fdceb19f26c184d2f3e9c8dd1a79d7ffc405613366f4080e9f689d3c02e62cff9e755592758bd2a7bebe42a8012f01f28c2d6ec658e550df914d04f941a0cef72f415903c11b7cc52337c906787e3070d641c8c31b26ff10055c30d4a714f2c870082bdca6e58414f6d7ad5815a3d577a567a549a600e5452d995826382a4ec46bb1e43527c1159f2532be9a6746d029971a4ffe82409ceda45d69910d75219f94d006dd93cd3943182cb6ed5215509ee62c136debf44c8a640ff51034595dcf88adb1783b0dbc5911e2c0c0bd2a20839079c71c6b4b5b03ba1f4aba66d8d05fa8bc0e6b6b4edbe721ee4692dfcac97436af1f9c9679a6557ff08000793ff4181233646d4d8e63bdfeb79ca41e03c50c231f849e0fbb2ff1a6266cab227d470a8c8f1e8cb3ccce46cfc2e88ff1ffe9b28f8243ad5f3b5ac69d0d72e70c3ba3e139bc6483700658692f98b31365973cba2cd2adb3ce39e539ca885816764812d19a3cc54c43d46e38324a20113f930c07d8c0c5ef703a280db32ec83fc8959da9ff3635d45ecf6a0bdc6952f191c8de8c83d06784b6d45ca81033060db061706cc6e2021ec2c9ef509463c23cbf584aaab500491f6fb6ef5cd16c606923efa8eff85b10e25d7d5f6b1dd3e1eb4a1fa5fef63770d9d30294c25fdfae9eccfe7e099c6d145a7c6a519e33d19410dbdff53e33b41a9c5e0891c0f2f3d56facee7ed4b8d8be9ecb7b7a203368c489fbd21d24692b08c4200eb3b66c79671a148dd31c73e12197c9cc7b24a58bd7aaedf324de6a30b529de7ca5823bffa1c0b9daf4f8918d748c210598195071626f4420eaa056f938d8f9e55f0cd71a2d3c9001402d1e7daf29a7f145e292e8bd04d07163b2d351e8135e09c61de37fd870ab96486f13774e0532fc07f87e4700cdbd6c0a0a2b646deae6a81e10900d82fb947f9f8ed51f85a091dbf621a0d4a517bfe0eaeae07684fa0e3faa4cdaa9c22ae1bae4a89906ca66a7e92858f705f0e862198f123f26bd8783cb91f3b6e9948874859ddf48129f7cb710922cfaefb99ea1332f9b819cbce10f9ea8061b388fc2aa90d0da4d294359f58cba5814928ac1b07f8bdb362727d93371e97ce74a9a4d929c154a02ab3d758e26f9bbce4967bbed69d57bc623e388b204f235491850e8ba3a19727b03c24fd2ecb498d08db685f5ebc8c5cea95b41caba0a4f1d87409ec0271a1ba333e78ddcbd51e67bd952acb3d5fe64a261d277731c7a23feb38c858344eb578913b393ffc290d80cd24253f32c4d6459967dc92d68429aeef4e1ec61ecf03063b20578b21d4cb2a9ffc298ce5ec1db29c9a7f1e5b119c1be0bbeed4cc1d499749ecee03e53179c881ff2a81c973f566b7503e7f5900f26634868a6a537fd4fb7526dddc98bd4f3c6cfcfb8adec90f152a3d1b86c155737d4ddca5609947691828dda69bc492d4cbebb1948c336dd8233e0177890fd27e178e28c14847acfe611701ffdbd22ccadd2c470b9fce01936b60a817884f21a0f31367841cd34a895901205f4c99ffac536f7c9288c7759d5c289d1665121aa2b3d11ea6ca10b7cbce748ac52b07be420e2177a0c3c3e99801a16806d1b7b822d17cac71f4e0fb684bcfc13442bfccff9cc7d21c95995e80aeb75fd4142ba80392899be8f467e787875ad71a372cfb0766ecede7f77f0d251d96fd48f2ee0b4eec3932bffc5e33dbdc3b25bba58ad72752df8d63eba35bd570cc3ce8091ce47d5a9dac5db80ec1d41f47b8604b0b26c6417f323dae43c268182118831bd6225878cfc3cf30e9ee49fa70d839acebbaf4a4ee1907337150f73b9b4ce3afadaf3e296045d2e8a2a6f84f8cab5f10907141540621d2f591ef3c1911292a47f4aa07d4671cb71a58e7cfa5b121da85a7151a56efecb46db195ca5a9af893ea3075fc1a73be7d5616874335dccdcc2d0064f80a92e60ab933ce1066b2fded6c9ea1137df9d7a27e215a2151e22e854fb368b7bfc602a2d4ebfe5ddea3459d1f714d1786c12662e3b4ec559bdacaa244d42ef3f669a116a95f12fe31ac8f05d44d2c0fa937da038fb8575c8d9932d2e2928cbb9a29f3141ded632fc23704d6377b27580cf77e4776b4f7ccb5d7f103e7c45d9b0838bce5b9e20d1f4398c170b6e6aa9e7e4cd8bf2fefb20e4f9c6d9da343ac3e8ea4df3eeea96712da78e98c7a045071d0075708ac6e3fbab36b8ba09632b1fa826bc05741a8560851d82b5b876b28227dc02a360d4fc0f67093497f512a547daeec2400392987086258e51be2b57c47ae45ee04befaf2a7391af81c93c67fb163acc9fbe23583452776b22b653ddcfc046c8b14976a39865a5b85bf0a050b5addb8018095617da103376c132876eea225cbbc05fb925a6e8362e449df595eab1c53eed045036c2ab88a4dd6c9ab3e14dd4a8de4039cfdf3102a085c8e2e8b855fbc6dab38747f7c7d6bf0c99555082957b7b277e11727b598efb6ee9d54a8cb6d8c6d6ffeed74d528b2feaf469372045f059232faaed7a7ffa71c24633fc55b6b2f5f428bee71c46a40ef91508f423037befb7329fdb3f0ea0b2591814e9da6dd983886158e9e3d09db36e1040ade7e977bde3bf7076076818dab19fba12572e0a0c005a55a856a1917db56adaed089ae48d043c5572e416ebc9aeb4b0007a443adc3d22123740544e40f4987dde294276b2ba6f3017ec4f286285717a117c8819e87d685faf1102cfc12cb6ebcc2c111c4d627b0b3ce54c9e2149421738df56328e6dd299c55da2183833430d5529750eab8cf38f11309b0223a6ac8fc4b79940241f8def3f676f163009b9d569d895edbbc10756a8f5478bcc8a6cf0d8b99d535f5183eebde6bf7978bcd12db3036f78a117f860f195e7dc548b4e7aaad193fafb620f77cd6000b4c9e30e3063af792fd0a79df9822dca7473016f2f29995592c312cbe557d232325c47233172a99db075f490003c4543b6a1a9d4d60d833a2d32d977195ccab5aeabc004839b25bfc4e2702b64fccd74dad9423f181d06975d65fb7c057a01b64dab065d6bbe2999921d90e13d68f01d662c2f77c1fcdd575e4e50d7a64cee2b2977dddbd1d83c29a2713c059097751b8c3dbb1971b3991a07f7fad78fca1419487b6d276adb1be2580340acb9b8f1ae4ad794878b636e4d386d1e87778333ce99ad52745318dc488b4253649eb1a3365c285be18735fe63a74e714a0327af41c0c90a67d99ba1fbc83f0e845f16ab12da28e11d761f8dc9048fa2c93da9d7b4b206dd906de81e277948167802e4bcb691384672ba078fcb6163ac40bf97d2e24e65d4f6285c6e491e7b9a8a984a57925e6b11115f2c1b5451e60b9eb2ca708fd9752ea93a5d8b2cc7cdd0a6fa458afc7eb397e8e855289e6d622cf4df3e4ac10ec5af93cf6bf6434f793349cb091b973cc0169749d95949820ec3ce6b7a562583ed7f507d48c870de803ca09dfbb971fbcb2835c08c60f7df3fcbdcfa6f81563a77df1d1f65fcce10777380a7e55e79c2efa0f78f4f14f438eaa1e11d12352e6c723bea735631f2f050e7b91cadcf32b793f31f51482cb23f265830a94f07189273a31fb4d7519ef8423a4fd49d5b5b035219bb10d084da744af7a730f0e6bed94fa903fba29a2796acc2a8e44f221c187d4edf5b6288de1dd11a44edbe2ad6ff998ed198e7e5d662115c1f4f741e89da267a8d14e18b562d70716c2a92456b5dd6ef2819c36c8a380ae8bd2add4512ff944783fa50b4a96c3fd0c239d32c515c2a025e6f91e66d243b2a3b14de76afcaa583becf7d3a5fdb7904f063beab1c2824d14e3322d0fe8cecc211148c206d8f39620fd913c3d095ac7302f1d9a90afc5dd6aab511b10802bd948c148d26617037a83f51db68b56119956f59c7f7699e6b741d5d49af2f4c07f495e1e92b550436e6a9d83fbfdb253a6f72fa8254fed471072e087c1e659f36fa9299f5ad13e5ed4ad11985602bec0db44767f57c9c16788d3cd7c094f748d156a8d35e341b123cba72c6fc82b4b44db518470355c07397671f0556beea285fa95c6bb5433cedb90e2bfcaf26a4378c6a8e7ed098b6ebed12d68f85a4f7fcfe95a849dbd9a487eeacd6ce788692bd99e7df02425fd682998885a05d8a8e14da91c29d730fbef11550ab22d53b62c17ce9ab76e78fb58e2b13deba9caf92bb43c9e737913a98d4fff0d8aba9b51a4edc3ad8719aa03bddb6ace4ea19a873833276720d838a5507f03f7af46a9244c098de1e120f95f231f9ea6edd6aa9c8f8a715e13b8210c52dfa20d1f8204ff1b7d59fe7e58aee7fc3376b55a953207ecb0981e3f66557c26a010f887da778e7868068d6892c44c1c0f45821f2c7c7a592c1be3bf77f9fd5612372519487b7676ccd1712251d55c33b0f9aaca13fc91f4dc128c20a6dcba7102e232a6d78741aefedb3384bf96a1583e79de59f2303ea906d2f7370388ab521d641f9fa44355132a6de830903b03d5e7ae1ac28b97a6ba129fb00d1517b1bd9af54c04a06fbce993efe75526eb4d1471cb29ef7689a1bade8685ee6ddfe5bf0a0b54b77a609d56b31f30b620a63b687e7f33c5394165d07c2d89903065b878b62ea81ca091e812faa1949466b36e52cf655626f6305e363e000d08a622be22beaf3eb565f824916722cab6c84f70c987dd3162e72e3bfaee3218bc353155ead9034794050a8aaaf30b09d85f2ffa4d9f7c2814df3c55c2a856ae1ddbcfd698d3912fd45be6bd384861af5541fea6704473f06bafb6a4f39cd6cf06069d1351d01ef7e6f89b269e0b7b63efeb788a3c9ed6cc99401be6bde6e0771522c846ee71d0fc3a5ed2bb075543d831037710e2686c017a8a425efa7367228cd2e0b9ff31eca547abd13ecb21c691559e87aa3708ae901fc1510652b0e11f90ba14dfe4829cd4a3e945415baa26229af5b8adc51dab398d04b8d45c04654fd678c018e8776c4713d4cda5370e19ccdb4cd9376c15c64f3382d552f85578084d27c42434fb138235230568e5377739d715f231480a285a2a19219b22e78156d3d1e82d9812af8a2f30dc4393628274a049ef9f2d5a6a86569aa1d349ffa6b374ee1125cc039526b17b167cf6317777521b26d821e7329aa2cda1aa9a49c6a59785a08f13f065abe2685a281585a7c9bec37ae1c0750a79395a2f5ad60baf83074c64823b7b23ab81c6228adbc6231ab3a93324c0ba596fed6b0bf3b25d390ad2f33968c18265147a34b0766cb176c48752866b42037782323f72d34a38622cb9405e70f72ebd1bb22dbaeb80b29552d6761253dc370a2ed23f971b169b3990c05fc04a308c09f92abba5b11ca64c09e41697499eabe01072a0ce778c6048eb8c245c73fd779442a47db259caa1081f49abb5451273e46dcf221b75c0c68053ca799bd7fe9fe342e1d56026d513b43664334c6288d78c30910103be8876e51e69a31a48d7f8ba8156f1dfe37ffd9c1b4a6fbe22610dd96edd71c94e5655d9817cca578a3842ffbd2d734f3e5bc895e7f85cfdd88fd970975c082ff0c8c2e4cc7da333b901c04e7a482e4a98bfea0192ba33c646214130cb7ec3474e0f27629d9f72976e67b7ac2a6f465663b76396e7e906713ca2dadc108078166da6866446e071624209cb93bbbe1a8dbf43dd708d35e6d5094620dcffd693c91bee20a965984a7dd1d7f4f19ad78c786b360f14966298dbe6797f812837579d4242b9f79dcbdb34922c023c8fe1f54baaf68af25584ee8516036802016032d9fe4008e7d823e9afe6b47ede61db9b4348948445f90f59b303f31d6c1efa05a5c4e7fda8552ab41beb84f635b1c9bd49a3c4ea31a04a085d8b7a1934e2101eef579e6ba307f8c6187142d53e87c545630057a5e8fa470ba22dd9a69e15d62ce9756dadadff0ba1a0f4b3db62362837079a3fd5ee0700ab6295f52030482a1e76f8670f36ded8de5f9149fe36cfed6711fb0b5162a2bc27438cfdb4b52a8cde0ec88a1e7f7d13189cc9c5aed78090daa7f99e505793252418b0ee043ee438737c593aade74838f2eb34401cec3e841b74edf49151cdff3ef4606daaa1a9c83d231310afd3d85300978b8c9a1f2dff066957bb215d77c13b3fb5a61b6414fc4d2ce26828aacffa38264ab61bba492e3f290afff8ea93018a94785711bb8cea95411da80297f80134f2782068c9a0e7a34ac2f4f6214b5bce483cc8cdc0fcbf7fefecca7418edb674f846fdbdd424fd91abbe962fec84ec704f4dfe17e1a7bd8a0eff623698a02921d55d08e8357b43a3ec7a5bcadf8b4fbd3232592bf09dd0fadf561f70ef6342d7af46610fb20b0d9f637dd2d29fec3796cbe4a264056e23df95f8da78a88a9420f4589a3c8241d4b7850ab00d7a1829aad0984ae71cb4d771d5efb267296c3b06fa87477e86bac62cea01387020d2644ac008e6e0321776dc2dcd170e907df3bc08c8ff9e085c65cd1c1ae18f64c04f749fce543c6e122e37e08ce0188e6b7731fe9577b2e54724f728cc5a45f4292ba0885e0ce38a2fa7e06358bbb28d6c9a5473812c73a5a0b15b035178194cf6a4d79a876e0d26cbe74fb52fe000f081256954d7f81cbf5a4672c1577b064a2b0438715476471f383b742f708a74756232fbfaa519541688d37db5ae437b1b9eb03d0e70fad5b3ec7d5fc0de79b31cf9b10dcd37a0a2d617573768db42eef02b76e2d18cd84ed2832fb956642ab1dec3602987e4c38921b1d4abe1f144031a871436e09e815e86c10df3111b982f1b0aafaf8a305a92fb8b46d1f5c750ea509fb363c10f09587867728141546165171aa28e3e8e345ffc90ac865cb4c8244155b7cbb9b1c1f83fa805b199ac07f1e7f109dc6680d90b580c002cc50a956615ec55171b14dd9429a6dffaac64f8fdc0e5babb1612187254a58778e68a34aa8266c93e3767191f3ac653cdf47564881bd20e551598fcedaf49ca3d8902d1c2a9a5a09c9a09996a4e5cf1933bbb79d46a6fa477e538c48c9dba6f382e3d3eeed3e8cf9339c52736e0b7ca0fa05597252e9ac94297f007721ee91bbb2e30595f585519a56e302bd741b961ddd6648079097884d60fe600d4e969541f5b9e0630ac9501093f29060604b19363a58b4129555d639c2c0fb5e2466bcc0e39d9ffb6eedc48210cab4d36beb4f4cc86b544967efab36b205835b4ebf1e2ed3565720df3cf5b67ab6eaced963a7c3d96b082f8375cb48c5aaf7f7db871df7732279e8e382849d2634956b6e14be5f6dba82f004a6726e359e046834b1da5970ff2d71bda07ce813d38b4c377288729e486171916ea0e3f6ee5db2d2acdc844ff75d8273782150c2234782d5a6a7788f18ded8e124943df38f0b25f21b217ded56644ae2e3aa4a9384e8a568bc4e5fa050131c4def9b3f17b97bbff7092ec15a1b4cf066b9529c062f708cc7eef18aa40ff72d5c31c7ac77e1ad48f8874278b86de1c8cea1ab7b2d121dcba3c83c00b6e31bad1612a616461927b9cd528926acba30cf3e7b1bf773451fe8668a23a7b5971e7d70539b07f0d62a3c451b96b2e355994fd06d83b41cb1434b9d535092483b32e5e855c879132f97a33c117435d58792cf996f1d3afabedc0d556b6aa38adb0fe47c3afadd8beb47f21c48dedba163f303254743e35d19bf8e41b7e82711ac8175ca2817cb6994fca27bb43e9db5636fd8c7472de2c3794a87616e58720131207cc533247bb5238d504fd7e6d5f060e3bd8f216bb5fd889b7ea1c7cf7b4e14ca87cf1ec1b04c545045423b11efe8c4524011b1d3ce644d85bf31db76b199b109492244ec83d26c65b58384123eeb41caa882c366d46423d671534c21adf498f8e8b48b2a2c802b4cc8f97b95848ff1da9ed751389b81d8c9a65298ee7612d1af1b555705f8f351b8c6b1eb89852ad72c3be1b1a0164803a33c75b86cc51c073d914a6702039d6b8a672870d893e5e8bd2fc0723699447052f78b31957e11ec86d341c94b82d8d51020f7b9bb96ac00e43fd75db1f9a9c0c6a06ade1f277aa48bbd7f6557963ecc02cc429730d368effaae8ceb546775e7ddba34bdd8786ba26658ff876388b94d076714494e9341328539064523a8a017ed4c8d8d87e66d81f0bcc72282b8cc2d7ba1a16d72430daa7de229c664e1ac7a674659822bc6a24ca0fa23a50eb4d3036afc604021490617539c055a358d1bd4306042ec508cc3c21c0e8b5f0604561aa8e9e0b36c2d43874178d288bfb54dd180d351c05d1fac2f33f3d0253b502a9c83c0c9de4264be09f5f7f1e1b71a89b1a229983b5bbe3fe19eea5680737f506956540cf241196c1fea054e542239aa205809c2063355fe8bd4786d253874f10c9119314e7836595a7d28749c0a62e252dc775633365f98da236b88943a96b80265379b5406174853d41799e79af1921d418057c6157f1984975bea5ebe3ef5c726fa9bd03c46a6cc963651e6e9ed861fa5dc6993793546bed90adb9e6f6b903db34ae9a422613a8c96b237077d8cd97b854a093db49ef0daea85132a68ed9dddf32b60ba1e13c68d04df25fbe4cba5091eb79c6b38fb0118f597a9e4d0302a078a6a18bab75feb9c2d6c384e9ff29d22bb7fa3dd00414c46d73f4aaa9f036c3e4f760f1b6d8cb6c449a5cea16183a1438c64cb11209a3ba04bb6be750fe03aa757c4ef42ee995ba16468996d6d779877fe4260e56110819fe4222e90c14576bc889b9a9f87e475b903f0e9d5eb2447d7923a316fb8220813520edafddc3577f039021dc06c18a558f237025306b34ed350d3683162d9ad7bcc9d43ad91472656f9f4a81e38690825ccf263757def4a5096ce584b5f781aa213dc81dae2337f3a7ee1cd4159d1421f1e8972d57464d8f4c670c65174f0015305c3dc377becc9396a9e835667a90def50a3fec1e55454f49e8dc831a35f5beededad4c5286d844bbf94b9c03ae63b289aaf236db0e523da7b80c487e3a8d7597eaa442b54f1f9378eed31f9d6a68120c5e66a59e3c6f873a17b8600e46443f43254d028d7e2f17d801c64d07bd250a9d2c1920851fc932911ee945c8ebc20185d362bf0a536138c442a2d17632fccc5705f685e6bc692c639f6bd6c5e58640ae274a1f3192acf5a1fead06dbf7c9c5dcf95b20f9ae2661c0c656e6d2f434f31319ec2613aa7abec4f3dbe4cc83410a639a5133eba0a91f077c8dc6c5620fa4c8d928be02e451471ff2d296ac49334b2fa1c3b55ec9ca89ad33a6441884c2f72462a838354265dad6ca775dca0b03c44f3ed1231d4f7fed20654031a5dd4ddf142945c0945945b48014627f61fb9d8ba8e8b92a2d2faef7ba697a8f5bc35c70fd8a72b7d9c8df9093bf4322d877e7fd746e5700c5a023172c378106ac3bcfacaf0176be8680af65b76fa337c0ed4a140f8656aa62782be885050d275193324931aba16dbf3b555245309b8f938c51f62358cda0b91a4a5874e63af9b95d2a5fd7131a22812cd39467c056e809ff900c86445c0d8c3c37fb87962b2138e1073d7214e32ff8d94942aa188164ebc1e94d89b342544363c99bc69c14c923951f8513564b1f6d1b685ec8e81960728c470c5f78053d8727f429e2bad1fe09569c797f50be971e37ffa7fd148c5d8cd30e2e28b4e202436dc5f719e8ca79008f220b4a77cf43b191afcbfff4eee979d3188b2824101aff28f7ac70ebdc5c11d0c692a10ef04325086f4a3428c510f0790eebbbf6ae2589bb3a582aa646ea93029224add8c13a226749c4fe48284110c28e2732d34cf20a4835ecb929e5b49f816d14b2f18648b1d8db36460bbe7b5340f4a65622189dbd1da762060e724b09d37947796c617b8ea169f5a655d6dd4058e1b504767cac2df6a9ee12c06106092cc56aaaa0b9167a55f0ca46bfca82ff3a41b6928e37bcb55073f9a0e28e126d8b8ebe1d6b50dda7925caf2efed0eb6dab349e95f243646e59286adbb536704a874dba84563d25cc5e2d8bf23f6739b86fdef00e4866ef33ac84aa7360674cde99faf1b388413f0c747221ada50ccba671b138175eab3eb16709e7a3b0cace6c0001654a2d3ac95defa99796e2e8a96b442921fe6c28a09b4c3d93111a753c924e726f02f9aebff8c0e0962249d2135a2ea19ce2537288bb1c7977564536ca33efb3e84c987620a2b1b1319a2f9a52295e4df731db52d8e2f4d1e8bb1b30af1fc2b586e838b25ff2ecd2fb84a21529ea1e4cfa52439e4a2bba263395691c93df4dab039fcdaa006363bcafd71e87d8bcc87b1b049f8ca40ddbadc359c5b76f6ea923d1846c2f1fa13fcc3ccf5c2e7c9c507691fd1b36bcd5be61b5cb0d017eb8b6dcd5d5c9d00bca55b6b6ca440026b329dd732ac54e0f9381c53578093d3ee2670033cd3290eead3b11bf092b79070e3b6381107524f6df5436e32a05c3376f6a618c11cd3179278f04e2f032ba0307e4c354e3ad08553e31894f8518ed9c849acd8aa5d727b5375c43c30d2f833edd6d39f96085645bbc2c76b4b25f4bdd0104a11be07213fc44f368dcc537989f16c2048ffbb2a0323c8c281cf2bcb9a8b78e1d4143e44dae19ec95e655ed87a8568f60f76752cc9895a28405d7708c6c8e2bd65da3f12e98d2f77e4c14d4fa9a74c6feacd6ab2ff3bc9b1b3ad73ea7d3456ded422d3856c06a2e7f23ddd82fd8696a5baf57f6ce748d90d8ce28f330a844f9b7bca52922fc52035427b0ecf8ae7c182dbbe7c89176d21b3069e791aed4c69c8e0bc2672b916028eea6db1fa2181194a4e8e0cf435d7a6a4188e4fc07bb48cc6a344894a700a6cc2ce44b51e72b6614d50dfcf0d09f6dcc77890b418765b93a524773a69a50df77d117d79df9f11324794b51af58b285d90b2725ce96c07e5839f5e9009bdd8edc93b80ad6b11a6b847e9fa3bdad96de49beb25cf18e990e5be04b3085c816dedd5434acefa27ae334a025dea729f87d169cd86b25d3e1c56818642dce5c81fe581fa8ac542d855b07507869de238eaa54aeaf7772b151964c43ddde25e30df51e6a40e91f3714650cb262e5158d7fe956391dafd511e61aa37a7c2ec0b13446ba33e1b496936ee954a1812669c9b176ff4604312813290c14e94140da767f89bf1e20d1c931de0556ab365f2d444bd4f8f50a88faa3e2b4b1d12830cfa13bdf90ac1b81f9f9171834fa9c855597bd7a5522959298e1f0fc5515b526edf28d19f2262ea825c88d60b43b01267cbad58587936fc91173d8521ea72722608034ad9bcd86ef9a830ca76d79815b706f9fccf2a00a558d4f1371203350441e9b9fcd3ae8ab679b06f5dbe63d317c02317bb7949b8812a530f515cac0d46ba8ff8529de96ec57db05b4eb404fc8259fe022d11e8ae214b0067f9c7ddd8be9c317ed2493b90dc929c5be752586d20a760d5bcaf61fc64f7c64e640682e7ba5f3371626032b3985c19ea7390e965ec6df6ec9ae158200c0d8a5e4d4d3a45fe41e9cb152f6cdcbe1689e0677a372ce27fb76bfb1c888af412881843df0b64c14589ddd19445776ae7f1ab899b56d13b84d0cfe886d1dae642985c18b490bfd892c740b9ca784ca7bf70cca6742416955d773cbcc0d9b6d45596673f1b81ba8ed50b0f424e37273071420d91cfa1db7a693b94b6c910c4a40daf43c5788318f54342f99aedfd7b52c327212163028cdcfd5f8f321a4f028d6c587b664e82794336817980d39e8018d0b6fa37488a399a92c62c5e46653b9a966d804367458331927338eb5bc27eb7e38ea59cba44551cfe8eb762b1d3b3501c27fbb00a51c07fab7d421a4dd55046d8f08df1c0321f33b3000ce51c7a3dfc2a3923f6ea79add37e57a71f84774f9293d16a00acdd6449f416d919e61d441ea8304739a104df501887ba463efbee4627ac83dac42d5e4234262e6bada0ba2babb36db4f09cd2f77dd634397a70cfd8da1c278c630d643f452f18f26300e23413b1758ff9a1858f83a8d0cf6f75a93a133f80446d4d5818bc379546ed2e05769ca3763eac2650ed0333ec70125faf14f9500081fe61a3655b5a54744d4e161599c1584b04a260e939db88df4bbfd2cea50e908f3770466355c9454eef5341cac238f5183162901c6ba7f2ce49b70171f74fc3926e426ea405874205c21c1850a43d929cb089843c687053de60517a467ee602d373d7237e90f8a584d0e64d5e392464976d4a5587752a983835972dfeef65a2054791de15509b94d27ed947fc6269f9263904698a9fb081ee264b9b0fec95a4e21c75b18fff4eae46fcd7a6a095b73e04415ef761e285228222ab006fcfe11eea28ba1afd29a4d501bdab16851ba83b2ff3a470e16e3ae0449c70498b359ab52d2e800ed12c1ab173ca80da5011ebf1720e3a4091d9d2e8bc41c104f51d4d458ed46c387c6de5e96671a30113452e9f5753183999f8a7220629bac00ebb451b2da4900093971475f2ece5ea4518a319c02dcf632371211aa04b6a02f812779ce4ee62b60fe0e16d87f2a96b6ec0f38e5cac220d2e3ffb32ebcd35f45b443ba3fb479ad79c80ad8f4f9aaa51f7685f11ff2d749df97e2d5642700fd97d1ebfaef089ee8ecf4753e38ab3523b1236e1ce4fde6fdced77c72cec2e2001934fa12c2d6b98d1435a3b5fee9f6be03123b992fce1b747ae6ed28d80ffa775924df42c4b750a560d49773366ddd43d0369a192fae1b3c1e962e7c52ce5f7eddcf90adf6d5f19f54f207fad3b7f80a255edf7cf9cff3bb144f3f0cb0cc8ad5c1556f66770a59c0a9dd377fc94082dc0728d65fea52dabfdbc8c2b0ede27188eff5dd7d60b0d7ec44142f4ee01f4c7f3ebafc506225989abf6d3cdebe3df0326579996b6863dfbe44424ad58b8ad76d0c675eb8c14f3b8d1e28bf0463c7ebfd27a5f3b014c0dfb698fe03364d5c7840b4375f2b0bddb9ff9dd774676936c183dc2648ff95cc4630272bbdd6bd72d1b69bd589ebc29b0dc78d4542176ba4f681d1d51e1ade72a26984e198af71ff42b31853f24629fea6e4c13b2233a720da9f96e2c9b0e36abde2132076d8a4a092afdcdf3f6b35346037656bf541b132d33834997996bc9f40a5c44ff7aad067e606b584b7e5f6d257f4766e566e8030a8e86c270f28bfc9f2fab90771582446bd3bc2492e06879d74eb067de81dc17c944f2dd747cbe3c38f6edc1a8444e72f10fe003c71c7155e6b29780359fd26f99ee24fb505b97b4719dfd643a816b54235b7d29e3a5c699000907d1047377d73446c2ea690f9c5503a1b4862f8e0b5117541e1530b5adcc9d1066e4bf988885c3c176812e04c15081b6c18f07cf3d7aef541580ce4e2dda3af768535726f9e862a967ba0b27a24eb12010ed6f9510cb18a83cf0551474acfba374b7f493ac7aa8eb762d7b74ceae3725cfee3a36a5a0f69c25037fee8911d54c07aa5055b4c74fb40706069dc56655bfa9efcec57686625b93d4bcf8911c79631870fe4d1fba195e119c1b374a7f54b2973365ff873f20f1010a51b5a6ce25135707e5742a8ad5665b1cd99ebdbf115dc0d2f110bbbd26e0faf6f05121afb0ca52d7b424a3988f8b27ddf208c182a8a2b40c257d608099a782321cee1e1bd3309d4a6d3504bdc5e029ac5cb8c2a2548fba508d66c2fdf6181f2b30e4bdd6de98be300a748e880ad057e1c1eb4c9f4a9e192f5413cd26dd5e7f59d21820d4b7103afefe723b1cb76ae903e38453a93ea748f2a54754bcd40194c51a8dbc03f552a7fd8dd0ba5eef3ee8410b23bedf54f70c4642a1158cfb7aeaaf702b55eaadbd74dea702ed8cf45c4406143238c59aa93407d4aae2b279a00adca03e8293b13c731d614cae3c4cc5c27d1a4ab1c1db5f6f105fb7915c02f3a6f1e67e6869e818b3cf184c17bdefc7ba767b5ccb15c1acd0467f5c23f0af19489d0253e9143a274edb74b2787babb3407472fb00f7f3cf8b5eb7f4e9f620399ce2eef2f5cd76bb19b2bcdb3505622f1ab2cad8ff6a50bc40641772fe1df38881682cfff0d78088cd2d6a211fe74d47f04ebe01ee824743a7837958aa0387748be7daafd59aa724d654d2c466865d0ab24b86b1f1cd0cb267316f32a20f9dcd10d3a9dfa78fbed9beb15354d9d1f6fe2b6464bad18adb5118e87fe38916e763cc17fd47c5ef65968659e9a7dd6ee3f7b1dc6d668a300460c2cd6d32f9a2fe609ef001cf31981fe22eef04b2bcdf987582355c7d30251acfd33b97d351c5427c2fd4c9c38bcd5a05d7705bba02ba3432cf3401e749a7ba010ecad72a7a96cb6f7c9c152ba9a112a4319e7744192f60523f1f58b10244a9b1004ff7f851b0fb474a3bc2940e6dba55cd5470f2960a4ce19c5b411035dca2b8ebe90ae6ef178b300742c5511af1a98d08d1597b4de0b64a5d6c7bdb8630e415fdad9f74b9f40d0401f3aac1cf99d079a6c6264310b53ffb55d3f3d81dc02c5e5dee3e6a5f0b6dda47637444fcdb3710bebe589a575b1f7eca405bff297eeb5cd40826a1d48dbc2579dc06b1182d2fa9ae76ad247b5a3c12fbdffb16583ca1fc4ef18fc83339ed1301a1ad8ee397ae46bc5f9edce8776a2c038d27fbf1e99a55551f1944cbe1d6d3e9f3a35472f8c33b76540c6ce775b778611d04b1a031016b17c744f359a47766bb58af67f99d21f5ffbc716b46fa5833022f5a9c1d32bdf76b5847d7bd94121e8ac9c268933ca9340f79d1d3edee857dfe37779abc10d93eef626c2447766c4cfc192a74adaff19b5391f851c525af1d1afab111bf7d59267f5f8d253f31fdb6ce46828cfb57f1b16b8b0c60b477ebbf6a83d4218562b438b340e82f1d2a051e0925033523ec006107fb464977c0947d52ab1ccc7a7e6b60d98ed0d39269cba52a977f686eee05d123799c20966eb2f6366831f3f49a6d7b534da625a2e8c5d4839d5a472cf4cfa06b1dc74b9669c099d546a2ddc2fdb2f179d1784471803060ad37085396b886e5ae5d4c71cdb73497193739a6889d9f3e2f998d71443237722255a68fe7ff56e2341bd00b6752ed7f666383a14a0be76cf53214b5a6fa7cf1cc6f09d739bfd3c3c1b855a7485080e997167e3af7bea17428266335c469c042491da0617af991df6f1eeda2276ecb99bedd8f1540aeb977586a57253a6f9d42991e489ef8bf0dca492c302b3ef80899621e88339508f13033c51b79e6b72d6b643b814e5eea10950bae2eec96db3ae19b084b51e736b5317a6de9a1413306c4df62745cd7898893894ce826253fc6b42836ae2b41dbe6e5fb78f475e84241339f11090eda7450cb696fe2e35c30d5a2c5bccf6365684df964c4b4489f578ea8f536ae100b8bf2b73216fd91d68868f264c89ae41592a669949906b0eb60a5605cc7d8bbda7b1c22c43f81b9bf19eccaa2a37f2ea1ea661b9a932ad2b15cb37151bb62aca07037ece837b494d78d20e8a368a8013d296327ef3c30eccde2ddbb1c128126139b030c0bd384408d82629c49d01e944c75123e09704e38ce234df9c7e5f5eece61c238257e94a991751e05dc841d6f899d3399db401e6d1415fd833c3f3a82f8ec6700655944965de178b749a03ef10ed6482aed8ea1c29e28b80e797375103300356f543cbfb32045314802f3677bb97c6c8e6a83148760674f8f58457fe95d1075e6b80513cea9909a1b89bee798d1e18d263f426d53474ff17045626a3ec594ca16fe564d8ea86d7ca620856d150aa1b323018ecc451f1678dcb215b6806779d3b59712e134ea844c1554fac09ca72710c628bbef438f2a34bac8e015a4659766f2c123ba2991d0b15155838ba399a153d2c39b3f5b41cafd17c28cbd364546fdec0741d123fe087bff2669dce930d3eb73f65264abddb3e784e6f94740936929d029fd296b99bbe2f8d37bec88a14095a494d36d29613b308f7f0176547db052c2f88686e67cbbfa89f4f720939ed10dd925c3a87099cd921252ee6765cab71fd098b323cf9eb0fada7c64bf9d1e73ad311614e814d0c2650c4525893ee4ef45216603104255952ca20840e89cfe321feff7b250b7522849f4735932e19cf2f7dcb749022f5715aecee8b148122a47a6dd78021bcb941c27baab84635df493f4613837d471935c930ddbf42e5b4050f382aec9ec13f5b67af6e6bfb79799f42e7636195e16c6ecad752fe93bcb6922bd2d61bcf420c0bf80c20a0b0feccb7a0e6bf937fd150d76c539bcdb7406e73517b3b59758858cea8f9d66b6ebe70d2c94b6903b71d9cf419eb083d14d403ee4c08085ab538d2b88087362dcb5aa5997c94bfe8f80884554e4ac95ca81be73456686d64a3354d4790678a008f0bbc7e0a5d4309aad2cc15578b30462f92a6e5ae9c18f6822af4e0f5bc01fbab954af21f360e3391e06977f54a7195c3bb5b03d47f15d8c34efcceb5b94c36276799ee9fddecc08d6844a70b3ab42fcd279136b6f1ff1c87b4166f010d2657d67d5663d6e66db9754b276b76bcf8c1b44ef7578b2ce3b5d6e4533bf8482d13bf752b4315d15ba64d03c4a2100994d58421a0a59c65ce0d0b585a90dfffa85f0e9255524529a484ea07858ce4ee5978b149d7337fe55646604c7d7ebb02ba9c8d29b1a3217c0d6ae8627b37fe959e944302c479ea4beb5db9a7a73d85ce69983da670231bfd07c013f434313a7856238c5d54cff899ed151aa446a87b714e72e7d216db43408202204536d343adf353723aa4a289025fe336741f6d65cddfc7be53ab15555c20c63d49035d28eb127619cb67953a33b4b1cfeba40a6adc87f2a7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
