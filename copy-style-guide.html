<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b5babfac10c3e661a919b1bf1561ff5629fd9e17ec8932b22edbcf7e95034665c349575dcaa59de20c8a2f9ed1547c60999c9a751306f858815706eacff5440c0dfcee1d478fc89e3eebac048e1be8c77fe5e0735756f18f0e996dd215dc7b0e1aadbb0189eb82f33acf863fa656d49bbb4aa0617b9c46570f74c1d43fe567a1a61f37fdf23232659ca921e6d732b7303b7d90925469a6d5e445cccdbbb225296029b1eeea31fbf3dec4def0636016e1b7291a353ee00ddc54d01fc5211fa506d0110ddee92e7c343bdedc73c1bf678471e5624e5ffd8f43add6a09f291ce2028ed0eccb4b709fcf6ab617ac21caac976c54b616b62f587274a190f884207bc658ae8d0ec383eb3c8431c7af3c7dcafaafba4c17d4f7b2423a008ffa34d7bba4cccfb16ab5ae013903ce7955523b88d40b3dc2f4396e5bea45616a61e998a0710ff530f668cb89c9bdf2fad43d103a6feb43da8451ed137ece2794105d7e6cf40586a9baebabd793f90dff915131d6c42d93156489e22e3e29eb3177c3ccfe4a07cd1ad1033263c682a67b826324b60c46357731db2770363bc96b8306128d2b69552e0303726b9690c3a2d0b2959702081b7dcfc60936720b297b909cd537da3a12fa20b4c1b6b3b0eabd64d67a32dc636b44dea9cdfdeb5609d4e2031fe1f6501bdba5a5473681e617546f3d7709ee13e7a25dc98c9cb1edd300fa2907e0dc6e6b962c8900bed761a763a302b48812f72b55b1e9d10add7bca883060f85c35d2bcface3b7eb3c076d2501362fe49e5c5e5d38df195cd22451b79d422090ab5381c3baeb8d8187e314d4e48221a032132af855c751cf39e43284248b2ce5f8411e700d6e0383f35dd66f32133f194453f5bdc6c8e66c78e8bc1a483b16d1a99ba4b69bf19650dfcaaf45aaf8589f9aa55a124d6c418ab903866a6e574ac2742005ba05f0d66d275386477324ba33d7d24a1d9d6d5e398b2dd503fdcf736d0c4007e9cf0e75579318537e760496e91347baa36eb5ffc60c95bf13c7dadccb38eab0655bd6bbd738effe1d5063c3ad4849e7ddb0a29eabacb1ada25b81b3993cd98d3759a761c20be2d77592137da995580d75858287315133a157691d9112f34165b064f52f4ba5b1686f608bd90646a918a95eedd8749da13ae7c8cfb0a6b90c009838f25a0d2dd6d5bf8e7a34a2daad41b202df14d87a3117d5121f5e23173970d6a2f7182c9b02bc6d951ad3365047871398b10181f019a9f9a6a3ec7459bd27b06a0e2cb40e83122acace05e4b841095d12514890f8ff10b750de120fc569baa0fd8f570c97700f80ab977f9456a67fce76d3852e426854f143d5b965eb8d8daf55cbccddcf7ec359c2682ac340c97cef274d0b5a263db1930bb19c8e55ffaf9f7619f9beb39769dd74225efe2e5ba914165ee04160092b1946d072748162c3412f1e7d70faa9f036bd3749eeeee05f2d72649912bb4746ef7ce26a338c1530b746cd8431c25345558a289582d9ebdc18fcadd6e2653521ab589ab17f2c0dca006a8e886b87aadca1ad74a761b3b885d20ff94e0ca24a88a0731c0dc361dee1383c10c556e4a13bb4944720044a3d7c204044e8942974e706a90c1a27f91755f190e6dc9f83d9726fb358dd955256b5801c6a903423ebd06e59806d273e99be3d96cfff1353bb8c999330cbbac23d6f1d1db114794e0b84ad4973fe71ac0d3935271d8088e2e6985e13ae3d24f15e6d1996714f6c8b02966b3b319c440aa4bea827cde1ff382a52943268cbe7022b237f6e60a33d6301f2421f3faeb794215ad1860fa0a1edb752542cf54bd1685efb1c717a5be6a309e2cedb7db225caa19a2747897613163a03b0c14770966eefb0823d52a622beb7e1f4bede5e4c6cbd25b32343de7c3865b80613eb149d1f2b13dee0897fa99e454b23a424193d6ddfa77569c7ee295644b55e0cdf234d0ca0ad84c891ee45ecc1abc6197cba922808828497537719e7920812499f70ada563628059ac27312b6e09f5ad82ef34e7dc4c171d71f17c7346396bfd87556f305c947f39efe5ea6aba5c93e5ee7f8cb2f1a1ec34a52e5185af1ceb87edc209d4f2570c5c16ae19697c94a18cb11b0dd3d03f64a34c7240be3df8a3e935e7e12c172ac1091f8b5eeaaf7a18e18429d615d2670dbb9821ffcac7d6e1bf6a7819d9acb364ef15c686057f2e9be730aa400da94b9bf99ae30effb449b758c74cb85771ada1598e675c034313fb9f94a9f74024503819b14bb66a59f47084fa784f6e9503ec13197d5f389927654738b3a79ba25f4be8f31729d5d9b35d3c191522c3846f6e20a1a14df21a6c965dd04a4e0cbd668fc8bb2170d9daff8f281275e0d1e7c14f1e8a0c7623bfa0918478cf037da4cb74376d8d97c2983e8b6bb1b36b2ce163af47e51462ace163402843911598a5ab270f0992271523ce7d750904614956ae153c78c6f7df20ceb04b9ca174757631ea7b819bc96019af25fdd160968cc06efa27e4ec445015b669199abfaf80c860bc212c17e2d28e2627f72780738b2208461e86b2db1a4953f0b46aa79c4709cab042454cd8220051ce4927a695a5d4a4f2c71b70b7e3b35811d4d4c1847451837263fb1879bd6acc6ae495f3c2ec9a3648712403549579d01d6a25c92c25a14b8c6b0c751f669d0dfc7984665d1e71b71cf2613fe7cd5fd2266cd579e6471845f5e09242017c45335576de0042ad613acc65b8ef82c094a1f1c9c6700a6af58bf2ec57a849e740723758382bd8acbd34b89c5d9e992767d51f6a8152af4e980293a2fdbcd72fd144ef9c1bcf266e31aa48ee4df6576af00fed767970715aa6b086d5f0d475282ca38b89fb9ccf8a001d5bdb05a60e0412970037c8c26aaad5aa19a04fdc66048991c65acf93ac84095028342b989d69c50f2ee8ccd62ce57471e5e96d32a8866d71bd53af71c98a212eefdb255d7e6cd45cdf5665f39917d193401b6de69fe1941ddba76fa50b47b9d8d1ca57b53a84f408b2c7ae0ec15f2ff9e7968b2cf9055538463d7ad3fb8117b82f4e1c1bea50f30467599914b5b063376aff7385718ae3f89246f6e5fe1726edd118861c33abf38c8b54b5f0038947a86d67792c399335ccc64f96598a04a9edf69d42203238a121ce59b29787e17412c6ad4fbd9f171586533e3907bb93cf962d412f7371f2c542236b6ad49e6c6327ccad47b7b1703397d09d801ed633b43243132c2de20daa38c011cc98461b91df514d5f28671ec8bc433152e1f5dc80887891f3a06bf8ab9aef56ffd3e7814868a9401fa0cad7eeb8fbb6ab3ce6804f753155da2f319be57ef4c0e791e83227661579b67901bd7186e68ed000d62baf9c7ed383ada5bac33d62717ea34c4a987508181bbeb1a701897d531a8664a4ffb5c5a5e2ebf03395f9deded0b04de28dde27c0ed964d3f1b36e34b1f4398d322c95dd5d8b1f2d31498dd36048957b35c14bde92eae371c5d5a997cabd997dd0b17efb7d09861061d080245600b3554c7adbd95943d9ba013c0fcaa9864a78faa9cb1cfed90e8f1a5be0492d25b4f240afd339e0a99f21caebb8a487541f94c816590d3038c2c6fb83bfc7e375999848d88fa98d78b805aecfc47a11128d61163fcf69480da791a34250f6a957367de4061c43da169264a92b482948e052fc5ebe22203b8539c343a3e40427be5d128335d517ca9fb5373834dddcdfcd31164cf843303dc9d4ee6acbc74ed4dce11a4f1be99ae63a41e1af77ec1808c8f859605b3a08e272ad43c8f57fc82bc3b16ce4d86ead2245cfa3315327510b31650374d311c50a108bb7115402e7bdab610a64aa3a9c97a03b80d6c3a048950546fe034f40f73f63c7e16f1bdb47a9b46ad1decc5eb655a1241b25f2d0b4864d47103a032606fab1be8b8c067c0675ebcf1bfea5581293d4c5bbec289a5356ea92ea97fca47c04450c3bbb5470157a0bb9e4b9a5831d2fc6d6936dc2d47798e22dccb37dcd98699cae7e302f9548569a79f770050a9804c36157e9ed023f8c203bd4960e7b67ac82f940d3c4dd2833ece1526a622ca703d51b791d3a4a7934eb72cb12cd45bc1a1356aca7499b6a29096e9d024821bf8394f26e6e1376e48174d26486e82be6958f7a786ed7497ac471c80a5ece11d90ef64b8f705219e2cf7b65be29b0563b59d5e4aea60e1e0747f84b815205841dc39dc2b978ae8ebab7068def7007b8131af9b028134e6cfba6c3f1404e1af1c32479ce1fc8604e950ceba9825c318bcf686755d90fd6be80db009c8745e256c7b824fc34c36bb5fbdfaf3890ec59d188770efa2e8f01a344dc233d9822b8c3e7ec8ac053ad3970493e813f59fef49c5e336456164ca47fe0d420a194dc1cefe7c4a3fccee6f75d75d26d9fb2e575de3a9f877ef9fd61a10bc2277b07efbce1eca1a736fcc38a4b6669fbee60a524b5569d4339e0da6799054f4263ec990cce25a990201ba650af62f84b44be8a0ec9d2f670badb8a55ef974c3647bb4003e1f50c1549df590cfcd90625744b65f5953aa715fb7cad55406537b4354bd67cd9ec0eeac821ee8791260fafbcbed15ab1c99e86403d601bcba565c0d996e6cc7890fb395f10de0daf545eb58be73de0f2d7a0478f8420450d48aed9b9c0f578d69652c2f442c0481d7d73a383b1e4d754e4b32b60ea4586705ac138bdc0956adde218f9ae253aced9deae68cc3786f7bbe5c4fff3bc06494bd7bd783405ae4f020632a1ea3e43a4f054378447f3e9a3fb2836bdaa8c22a989b44ebe025885cd01bec4831d01757a884bb8559f0113cf32d1d16f29ff016fa2a2d540e143d438728c03787ac39dd4c2cc95f11deb48c3b17bc23ae8b7c6a7dfb582bcc6d5017e94a9dce94106e3863e47687a81e6ea973e6c831ace2ea0443da827a6c76bfbe57c38514ecd76e607c03d0076314b006a6c357215fdc525dbab5ec06e70d8394bbf7328cbbe6398ff8f95d78317216906e2e448200ff337ecde093eefdbc73ee769d19a80eec74020aef2620dd84b1e3618161d7abf1df2aa335d056a25ad6c4bf53f840d4bb825528561f70762b07f4c63d881bd1fea07b2e4c95e1ebf55677f3f4cc3db75814a290126cc030be151ee40abb7be8b139e39690794b108a034d80254987e1f9ea4e4cac18de7281690d7c1254c1bf54e151a1cf8872f7903cea552a19e13f98e36a1221215f4373004e12ceb8e6a57a04c268f1304fd6712e3ef7bb10ad60190f6412911231a7c36e25ee52508fa70c4734bb3d85fef898b49e3e0c98517cf6c535131f8a049344c72e77d8cbbbdaee8412906cbb6eb7850217bde7fa2defb7b2d37f25a7d335aec04950ab41a77a763ee2bdc7628afa149583aeb38feee7fba17817c03c76cf8861f4eb611dd7c20a6e5798d2f9a71b2d40ef28425c6eda3bccccc06128a42ed5806a93bcc3fef37d8be42815fd23e0c987ea2d51e8f1c7e0f407200b57726c5817298bb8a74e099912d9efb5112aadd67bd8cdf4bc56dc6cb5b0478262eef1ded211d7936171094f80b7677fefa50396ec4e36101911f893a8d392ce7217ae90a58d4676eb07766ec4f501156e9b237490c3815fbdc7c880d04c351446789ebd783ba2e22019452e849be098564df38a774207352729a95af6eba640995381601f80711bc7fe5de699f80f74289241a58d3a4b101897532d01e8b859b736cc896519812a3b98504fa40d9fc4955486987caafd4f2bc959c91965981115b564026c42e4da12eb2e6bdd3993f6e779332556e05f9bff969f0319d611c32ea8b54e85ea91a393eadb1ff9691b6fa2640de59ba5405498d9a00df1e7aea5cb17112c6f84cb40ed48ffd1d2bf984777f9683c2b325de30bb2f734436f05d81738f4146e975b4dce5b00251fb2d598e8175742c070036eb85d60464ea9c1501cc6d4b39e3bd2a04f66df8a795881045df4a73998b8fb6e1bb279138f710a1c5753a3ed394c3bd54a6103b39de649b96c1bc94b144dd5df181e5b87de2dc183e4cf0c9ac46d03ac2c167709c85f24b33fc5deeeda5df20f89978528ffc63d23e71842957afc33a252b4e3217d7116584d2366ca4d653190e44e26fdc18e114952277da3b5afda6d8269c6b859bf063bb745a907ae4f3a4adced053e7f706cfe57d20d2d988c14caeb348e0a6d84915d5bc9bed88116f2339b3fa80d58105ac75b653454ec743768d7fd8dc3757c2699a1728dc20df1411bcd2baf32ac687a4769d337604dc2cf8a3c9171e619d0ccaf1de0b3af3b136d9dd96f9d6bd4638d47c7a521046357d7f87ee97fde2e5886ddd50005b1f71043c8a8217972bec1dadcc30a3af1eb8ad75b8472027e28bd9cdad185b8e29ccb192cc429c671e5831a958d60e0cf16be73ea3ec805acfea34287b348c62b25d0ab0caa53d1f39f2a4345d6866cf1079bc7c514372d5a264824dc30db5a38f499beb9499231b1ff9873097a43893e014394511d6636dcf409dc72c7804fd55a76b1fbf21bb7afca600456aba01b9ca519ab5c44a6299b071a7d0bacd9c24d414fe4479dbcceb4f76f860a3c703cda5971bb4e5cf902be58e0901ba3e5ea71441e46c8a497eddab8705f09e3e91ef1a7d490c38707e767f710b25a528b778705ccf676f7f36a29e1557c4a860885084e7b8c5252be9e9e0c98b03aed29a7164a0fff143f8b6997fe8fab42665c60f4599337f672ef37d5048e8d90e5d21ee7b0ea642984937c630ccc05779c6a5f28695060cc85b984f3ccd15cc03b828358cd9b5906e8a8490f7c89e1c5acb968ffe8f982bac6432b82b27755fa957a1125d099ecf6aeb76506dad45c936cfca25377be0e18630d67727feb4e5229438d20e3c99ad89c0ce7ba62dd30d473fce088b7386ced3df4fd0380a2f86417f89dc266a4f188d5dd27ecdec48f06d984de53934a970f5d751ec93e74afcd3c881370d6873d1138b45a0572602591e3d45fde052509f2c51286dae3674d4585565a711225da8b9a37b0b4f22da207259ba8f876d97f649d9f8491267edd4d70458440050873d3d92f580527e5c3fbb38df47dc18977589eb4b0506d1249c4cc18d3aa3d2c8500f1f60cbd6e71e6a127fdf04444628e55ef7609ab71cfd5094e710b670bc93d4d9a35fc57e0c3e5e40792cf0bffc80edac971da37944fa1d95354f6826b43d65fe0aab281bae7227d942be02e14e32b7f0a2aea4fc206e2f8c3881c005834da201ab245d750e1bef1f48e5e0919abaf868a8f12bd15769f2bf5ef25d3e5b80457260ad225b819dd4fa733c9c7e7f5fe6972ee8695db1956f245ba136f6480b9e596f06cce8096ce93471b1dad188921e6f29ab9c9bc204bb005f0b3267bd01fd39886f0cbe6adc14a75c635015de412d44d118a28b992b81eedeaa8ac086e5b78b28961af15f35be424f8e767ebf50c7a9e1f6a79667676b4dc3daae26a57018f269808a0d54bdf9de9c9e4645a920b18451c6ed93def5351794ccfe4a1258f0a8844fcd1e5d764f4bd0376a46782e279785ea1e44f36f19c964d5ddb38b407037aa1188ba3ae7adcae323a41e50e37acf28f1eec485192cf368a5a8359f43266ecc81fb9bb869c0f8e09de714526834492477b0259f0c83ed4b3ce95c03a333c40c58ba0531715f48452af0ef9ee014dacc1ef5b45fd401bdb365d4084dee62581ccd194bff6f4f9d010c459025849786a0b5b02303309280ac095d2302e6f747b248537aac10f8233879f98273241a4510eea7fd960101b870b86557c7c7eb4c6f286bb636c325244b4bb2f3bc5b2c5950dcba743c035a5c42cee3481f40f15b2edfc2847f1c814eb4f2584fded1cc54c6bb8ced973733b2bcac524230bcb66cfa22f382c46793ebf1ae7c853195722a3124127f77fcdfa7760ee1ad2ca2e8b537962ee014078fe26da8c80f904dd8ad775c0b880261a4f36510c5bce8e1f229bb9dea21b19233c6e635490407aa9a602d91372f347d2313151e0d34703f82f4ed571aecda2965c695ad44a6dde183edf218ceb26a6d766dcb6221142c737b8d0c18a2cd4795dd52460c4b0924f84444cc12b681982397b9602f4ae83a07a7aae8a92efb62df512d24e77d8b648253cfcea7020aabd331501cf0e4a43714dfdeb5d465532cfb9e3fb45971c3940bc833e618fcd3c97fea6aad7d7e52c2d711967b00b4ced2c35a2e5dc755cc329de18b3e1583082d48db49359533ab7056e8ebfc211c75a14e34ddf8d950dd5a9c994f9d0f0df4830bdf4ade715562dd07a64ec58204d66cf44f906ddc125f741f82fccc5a29087c921234d923673ab86b1ca9242bf69e78b2b9d0dfe21c6af59b60829d61985fe5500ebddf56cf7ba6ba80131088e35b34650e3748dcb8b69e74e0f4ad86df17cd8bbcdc1aecdcec8213d91bf4b48f2c88a35640d9ba2ea3eaa88ee4a49db40b14e4a0516190f92a6669a904dc4dd5747974cc23fa12e9e9bae19c392470be0e36490084d053aa1499ccf0b697f08fba4260b776dd4a6dbd5281c10586f5e287a1c8249a71e442f1d82c0369a58e56367526020a94688b0fb4f092b49b43e674b42a877d6291ffd56faecc70d0de9a020d09603a1e22ecc9bfdd0f2c740d1ade777e01ad79fcb0740facac9b3cf40c3f0cb98dac9dd73728ef7df2fa8492bbabbd938aadda51a4840bc2227f681fb62e7d251e8ce40cbb2c64d2727cf4ec3b7e467954e1ebc4d21a7e96423b2e9b2a936995e206a8a01df5cdbe38e20130ef6d9387eade6aed326695f747d47d3e788a614dd9d63d022387af33208371dc008223850f1662266aea44ef90b0bf080d7642fa60794e7f8fc5f6cc91d939a3fcee0163b957cbf2bd0728ca755be5b9ec381cdab09ab0ec336f7d03df9868c8e49d27c20d2b8207b13df3ea1ef6ca3780ec0b8500e5244e7e6e3846b8957bdfb033b3c767e4790b927494e160132a62f262bec07aa15e80be4a3ec3b56e71963ebc546780cc8c4a9eb7371f5aa7153606d4a20dc51c5ad238b97a3d1e07a99d168db4a950b2b1a79448c857bff8259eac2244c5bade28f7ece82c6ac8edc8b389f6d9d445d78785982291e1dcbd4e8e0feddad03141d9f8f656e9b422e367e49fb883f9aeee04b194a57e3facbd4ddb272a3e847692c8ad11b0af65bf809309a0d05a49776e0187e7054de5ab710e17572c1579523675b5a70efa7c61762363fa61242f657ca4805f494fe38645b062ad5a27fc4665ea81410908d677f5436d398753f5b92e8d91d29401431d27db8ebfbe6127e8dde7364357a6fa8bd4d91de7b408d82814fa4a59b8c2166b2299f31fe7b410e511ef51b0ceb53915ab4ce308c77164537608eba6e433f161dfe0c90b7180c42b82551dab0da7455d938f65c7408c6caf71200ed7bffe4c0d0900820fe3c3ea73476efd8b8c4d45e8090c70d87c880a012cf79c4aa4e6d1a81e1b03311442d0ab7e23e69e290c3960c20f697bb5de37d1014f46c3fa4725f471715f4f1cf9f20d01579238f197be0294b21c2e5f94e1cff48be41055117393cd9c43dc72bf216873769be1428ce685ea39d9bdd0f7249502824de5f603de414826feb220c03571804bd08e1f704a112ee84e7e506da66197021f57ba8683faf51d52a0a0eb14d9a5d488ae339f5a97addb7e4122731810839bc9def073586fff767f266b66bbefbe0a53d0fe8098485fb2d43b2fa3ac566256db6ac8a567e004ddcf45f2c89c47dcf9a5a9b8c2878a090f02fdbd709b867de311799f7f0716f225892f6db61f9ec9bfbf7bf0f3152e2df94d8d6ce747d5fdfbb334c713ba3af4062d422447c298726d6effa3e1699e08e3c87a727a4a2bdf9c78436710e335a308a1a2b3452aa49bb0959971d99edb063b10aeaddcd8baf25200c566987c4750e2f0dc2525529b08edcfc3e111850a9f091615dace810cc57c2f91f1fe806dd18fb1a4057e03e40bfcaadb0b58b7908a8283e9af74dfce1a05d013fb1fb85486f14e0f3ac75e4cd87ba639bd35bef309fcfaf084af5457a9b5f21cafffcb29b54378b6c3e35138557070c3381f88876b56724793f716d3698262789c3e0914fca34e087e03b84e9d48e00c1c187edcea686be9f5d14625ec7c61f1a9a56b4977423d1eb8056cd2eb4bf7d93e88426bc680f75fba884ae5998f1b3e9bbb9101e5f729a45b494f7369b19ba4f45fb583fb59c7b28d91af6c95d5d3069b4c9568ff752f98d54cc8bbf198d6ae22c9e9cba1030bf31cc4511d84be28dab7805821ae4b95cc9b1e6bb6e731c3601c45df7f1fbd18725f6b5538bca142338ca5f3859bbb012dcfe929d1ba84d67329cab1be07ef61eee03f868544167d60fc7513b97d2c1a1e4fe9d37c0c77f101279b59468de2ea137ae489337dda5103262e44d48c786f77b81a598110d4ed22a84405916f76d0a83c380e7be690f24a1d94376b13ae242c3851bc23716ed2df6380014469211e8c20a65c0de5c9ee91296f240482134bc7dca6376eefca3a3ce64994a385798a669a835007bd0d7ff019ebd052908386a730355122241b19c26b66c8c315bbaf934c257862d9751e157479ddcdf3c43c690a70dcec693e7ddc22424a9a5f707ef7f1f7bd28ea704fdd96956d58bc0aadbb22ee25b7d46a19bd3cc5ef2c9520b06c24d49fe6c2fbc5c60b1df318a4ed1285dd4a8d2c1eb7de059c6155d2de41ecc33ee29455cfaf3937868e5aa023337d126f5cbd2242133b98e6bb6028edf4389c62887bf57716e01a1bb85f1da7717afc820a94e48ef3a3cd54a02a414f5dc48faf2b74a2681ecc6965e3f5335ea726f3fa7690451fdb5f3e25fb9f6aef49454c99f6345a2050cf09476fbe6276cfe6506f20d8df8b0943f0d7ee1566a81a71d73a23c95f4098bf263bcc077b5483e0b0c5895cc75fdb0810189f1027f2eeec1b605b5eff1b22edac9a3805926a167cde2ff483848ed12965b0cb2998f1bc315e728dce83da680ef91858280b34be38142ed98a75c9e97067147ff40aa0311ad8887ac3d15f3ed2e054f56ce443bde8bd080107563f8c650e2313e21dcd65c25abca7be0628ea5d550a5da4af7704431669f79f26c2702fc919a06b927b044e9f7464c22d407b32f82e6db83ef6892bb505a31cc0daf4f8ef54033d60d62ea9706ba936453268c31a5a1af91c5f22ddc1a8b5ded3824b74862c8ed320d69ddaa46790a6d1f986cc3053a8dddf19470387bad2ac8eac01daed07f426e183ca707fc024450d934104a456c0178ea446a2e85ec3aa917e476956f071455925fca81ac1870db338158cd2238bd9f3ae195c15ab4cc222ad42c4d1a2fa8fdf0b0978212988b9d0fb71fe3a658da30cb5792c9294888dc845c096609f8c886b4e70c4ad5b0df356e2f48ce358e9c3c4299c78648aeb47b8ab65d99d88942f7991418a8dcfb0b58394b926617388d4656bb356da85e3b90d3ca43810e8ef5cf24169a77290fea15ce0b84023e5b81989f74b7cf7d96845f972a94b11e7091e8001961729d4f05f4b4ea2984fa44f436fa23d334d99f46befaa58a9f38ac382e1cf5094f4489489688194a6906eaca578173eee43a7b32982fd60ea3c0edc102853a8bca78cd81c915c9c61cc05db5c23e0c6f90cd2f479b776b04127f4ccf20edaab3d04ec53e05f2779eb726a65d3b80c6215e63d508ad3c16a09d0d9ff4251aed7fc0223f2887292e99a18e8e683b99b1dbafde472886ae41951882f4ad589d0d7d3fd91da243c12436a6126b5580f3c8d1dceaf104fe37e24910a18c85dbb1bb191d005704c72b82e2d929ed158675534f0c59a9f672c2ade50e62ad1bc8492d192c34134897502fb58385115895298ad17d030e3e94371db451191efdb7e064af1d2172b303c226fb403a11157f6798d1a6211f7d385022587eb6edc8060b6ae0d8c6b8fe69d3757444f5b05842b27d5fe3dce1a0abef0a69e23d4b5c9483efb3d048ceb481e4680679bcb465db72d11ab2cd84e17175560917a33fbbaa41d897d887c8712363ada402aa1ecf48ea43b68becbc6d8876a384f7a8c8dd9cdc8fe72e58af2a45ac391a287d371c9ace15d3072570c5895beda40332d924580c6b889893b57233d0d3e9fb1f0530f2285285333ab9323d9e4f7ec861d55348e9755157feaf38f079a045d647cbbcd55b78a41a307f2d048380f3358a6b95fa4ebb5ee953d694f1f58d3ce5c22b338baabc44e1bda2ff872b881d4f5218a46d8153b8e874910282266fce4f5fa7bae8615a4e68c9313c26425cdfdaa57e00ac82961ce526f5b7ccf7f31acee65d8619f34b689ed628ccda3152b323bf38e15f4a5798a6485d6fd12c6420743350355d75cc354ec0232e9ce43813b1069c889ec9c5cac07c082e874ceb1a3ba68f431a21e340bd595c2e0f0b7456b9cd5db82eaa02f69968ae5e480d34fcaceeed9a81de1447e5a288df5e7ecc87ff8294b490373ff1e4c61cec349ee1c9c474cbe33fc05731392ece72d97ca124189b49a51015f15ba8526d0e130db532a2a9603ef0aaf90ab1ab57bf5c26ad628131ba7be9acd4b8d81ae06cb806089ac9a05e12a7d45f540175e8c499a21a2cf4a6e674302bc0d5a0623a4500d92f2241bb9a47a8d6f2dc8b16095ac08597fbb52ac31a60ab4a3d75a4eef77b00cdc2a0b56c9bca16cd9c2a60ad79be8108b3bac86a99481d78285d2fa80b53aa57cb827617d588652ced0e77203ef57733c2959c3e6fa49aafc3a115e777bd570e0b59f6e2b5a174f14af4d44fd2a0ac1e41bafc2e443ed117ab5279d1a7ca802cfeab87590f158cde6386a7cb45c6b4a55a35a59e50533ad052cbe129089651647e7e1080944beb4a2b028ca460571ca362673e21117d09dac96260b53f0d8f9eb1b4c023f4270294ec43de34a7e38033712102453f1866beb408c9fa6dd3445f29c30e31fd42c9a13313f33f69a1475388835b8fbdfc4593a0c8f9d927763e2f258608bb8d8096ad867252568f8f1ff9583d251cb885295d88145493d9a66c82f9ac13dee49c30712ded70f43a1f390e622d1907cdac1d8b65719d719f219f4e43457e9dd6ccf6ce353beaeed138eddeb321a11203bb26873ebc11870a420ba6b4ec1653f567dbc35ac6c4832ad16835b99d3769e9ff52c387d011a4771c4cc5c1fa4eef8662f251c566434164fe18a496b92e198707babf9d24f9d7393284a28fc8d0e694621e258686c5c7dbb985335406c2e30245a60f26811ed430b2d63a5d0450ad85ff28e7a98719dfaf7c3e31a02d312e0383403a15b263ca64d6987925a0b66552a6c16e437a6be0600f44b32b400fa3bec177c1d9339e61dfdc97747c4038fd12a98800077dcb9efe884c31ecdd18cd748cfa9286022712fc2def53c9392c7fa3df36d3b381c59323a7e4751e0044fe9fe12d3032727e3a6ce8f7ca8d503a2cfe8e0ae058ddd452e7a76363a063997de83b0a3b8f18bc4b0138ff9b8bcc53291cb1e3aa5e0ac19f97dc6ffa1e6a12f168801b22dedbddccc4fc9ff2acd4bfbe6514a9e7fb9412078d42e04af75e334b01eb23087266838968a21448b78d41fd01ab6e303ddb986f95fa69d5c85baa7ff52e8439b069d2661cdcf2939cd413872133b9f998c825c77d768918287e67ffa4bf9e66a378c6dd1724cbeb0d6d34b5f6d6be3c337e373f64ada6f8fe9289ab23d7bf5bdd5c71d2ab12c6c88e722398dfb7c5ec521832fe1a614530bf0731f77c5c866a06741bcff977e2f8c77bdd84360530fb9029b9fcd7ebf007865e89aa1ff7fc8591916ae1a798f741bb818aff9ad503c795dc2ab673615332bed2e04c4f333cb7877da9ead3ce98ff57f268178fde841d71655f63a377fcd6370cd3b7987c2831d4609a5a13f65821726e89e7398a4c1057d6dc93d45bed7613ea765575aebb8b2dadcdec4b560dc5deb9137a8a6af134520c9bccd113efa5f1b9eaec40974519d30d3ee6aa62b0d4222d80431c8b32ae0fc54835dcafc3998c9ca8c808b2af853d7c51f383388c6fac6e55db3893b21b6adcc3411d9821e9dd5843d7747b65b8debdc18be7f509174829851b5e7d1d2187fb7d56a31b3e83424daefbd00de584df799b39bf4f181a77f34d1166b063f005ed965e0699cca25f47520916f5d100492d6088239c65e68a55bfa2667c885185b0767c073291b58b0234fc1e0e04e6ed211317ae27cdcdad5039a6e3110b09efdd59809b9a576e4daab0d8abf58d313f9b035bb138d0c46c23f1d49aad65c8f45095c1e5d590a2814c3651719f6216d832c9047cfde0618f0c6336cd1d85c09b57a7e55b46649d440fa642071101bcdf2ca90c86e2d0780d8df8869c276e902a1e3a9c13ca98fba378da02ab4e49a319d1318f62cdebc1f8a59db8f9bd7c3e8131396bf0569ceaadaa7b19362c3663040802198baae39c28729a12f84ab4f506f992fda77f3125504e394a260d1cf11981cbd237a4cf02409ef0cc866ed2e9e0554e1b55334a8d9c1155e31fa0b4e705bcc29736e14ea22aab7c246538208755bc6ec46e3c3207b188f25c7b23a1d84e26de25a0d5652e66bbf851a0032a786e057b010da7806adae0b19d40599a27b9ca49684012373254ea6bd9075a23918cad37b43926d53f4be21cf1db6d2642b83358984fd0f6bfa7ae11bd79bb768620b9effea3a4cf46dfe2fae07f602ff453af18d9fc1dda3a9582a6f98cb2c6731089b54f4bbe4bcb3bd06095e86d42048afaf0d6239bc8629998dc6093edf2e8ae9c50889e56f2daac63abb83bcd2cda1cceb98cbd4a36920df9ced812d456e724fd26d738c4f32fd3cf9ff90d386fe57f10e1c7a6f17094c142cae3ee50f1500bd9134e074aec30f120643ab8e748ea5ec76d9e3cc62696ab5d8d295cc054edd2b5b81bef49865ccee46217c73f60441f27833167255af212ab99aa2a257ae858fb72f84139706b3f7e3b5f7303a9a86e2f00b6130555fb46b981c466dd50684466628543756da42a535ae0929a3cb90896d94c067e131b34136562c4535dc0df96f931f2753c339ec755f5f1dca14dd600a1db50cca3c519093d4e1781b125c6e86eca96a236a9f208c6cf6e08c0a4d298f78e9d3dbeafbd11d972356de1cc86306045f5df521ac8d7079024965c55241de44669ce91c31311d585c79bf181f7d1c996d83483889d20f0802a871085946c6366ed8c717186cbe0954285ed79e9c33ace37eaac68d6c3a04021658c621170765c5749c02b5689d7a01cf659231f886d36df73f168043dc062449fcd630fe58bd31110c590ab3f46b403bf290ba21bad6ad64f982d210c669abbb8f375014b8a987560cc6de9410b7eb5fe5858c169f25e1c71c60ff033373d19a9604d849063742391edd6dca601b8f68ea84edc7d954fb5a7d7681b45cb1623536d6bb646a66d8156aa4044c7ec2a7775283bda05a9122c9e6f46302c267ab886bd0af4d6ae4e7649994f63d06c7fe040240c1feb763ac853ea39cc0351657a33aca782d22df681aa66cba33d03a7befd46a3fa38fb31b1e672beb4b64685be0dea4c2937cdcab930fa398a1ffa94d1f540b703bfe69889d4b8c9a218655fb3f89fa938c0d86ccd745a09e6232774ad67e33a1d671dfcda39a6de1d06cbcf535bf9ec5c8f9d75060be60f2bd3eb19368ac9f1d8ae9d058ec02398a8c9ff250085700c0bd6d7607238ba6813f2ba8ad17a46a756bec5e608d248dc5a56eef475e3312818e20f0e7cf58a14629bcb28a524f777eeee935b2079c9d62cffac45d596a3909fec3cac99995869ba1710f460374c25b2ee374edd1e78b77084b064b61875539e4a2ffa37dcd9c17e93256f9394665dafdfde448f63bac4d14fe8e866a6937f4b3ef82dbeb7d1ddff9fed634161eb57fc6a4b1faf574169bd3cca4ead82c3a965d497bbb8d97fe7cf9242bc2a9e022eaab63581b607221e9fac5a4514564f58ce830e7fa11e5e258b6e7d242fc73cfc2095f4d5ecaeb00a7eadeb3d0d44a58cd8ad89c7f41489e9964b57f3f8c6c574453458d69c086f4e8ff6c73fdb341386785e60785178c350b80f7f233774e64e31830b8e117d60ddd6927806d880ae3d697e10d23c5eda695840a524d2e5ea666478835e8a890890f49abf9e3c3dacefd9f778dc90ff2e19d0f8156036290c665595603394f7eb646b12e732975882b98ec1302f4efa769edd56c9d8aaa45cc3ee2d087b0b7b1d09fd481fec4d5bd8cbc927c760724e2b0b8535b6a6c586a784c958634f9cc861efb791fbb6d531b74b6f6729fec4c9c1b1cad1b8b43e37d6a10854f340cb4545e18eccc34ce374e0ef161344fec085981a772e18d880d50ad6c1933b5e38cd668cfe24a81508d7c22eff9ec6369d989ddb4dc38c8bf6bf911931bac572c939ddf87ec602b75e6ae621666ad4df2b5be9c904a827865da02b889db4797c0c322a1fec27249f8b4e65560a1d40f2cd9dbf18b42bb252bb89e7775638329bff8389b08b03fecc0740f1a71d535d078412ebd8709ebdd9700953ff750b4e3d89ec2cf353209e37c5c1dd38cf788c17028e930aa7b86bea14a2a9bff9bfeb77f03afad420e9c412aa82c79809e936b41ab5095ef454d87a37206c72f4a0b1027f14b2d174ae78c7ffa0358ea1ec4531ed0784fa9132d54880020d53fa88778ecb741b73ae41a3549f1d01baea07b5374127055c06d9f0564fdec99698749f005bb88cff5bd58c77cf7c0a4aae101d73215ac7e4280de8247c33377754d3d8e1f6a097bc153ddfde1e8b7beddb8b627c664ba1a4ca2d7001d171df54d0991b3a38bda4b5e10aeb5dab5486039ef74b58c878f34400911bc2df3f2e6023e82caae756af7e77b0438b6526fdbf825b67162f1279690d390baa83d59b6430c63295b36398769163c1f31b3a2a0405fee64e499a90e0f25287e2aa500f138e54acaccfc5cdd42296a4dcddc8eca35798a9b02462e2842bb124d34785060419196cbf9de2dc9dbf89e21e8328f25a2dff06c416f60e342cfa4fc8deec2b2d7017888b0b8564ac6dde7dfdb2b2f3a3e8955f57a3d589e3f36cc53e1847c97669389b693d5b6441648369f57aaa45b5ed2ad486f6b68d7adf33b063bd597d3cd8eddee044ea4f619e60d59178955dfd496bf99bf5a28833d99e0cffdefc0d61823b59843783ac6acaa1dd3e227b91b805b58e3102f78794a375c6bce17a1a045ccff59c147cd9fcc9799c6954ddd873ec57c89b6bc95e793b991a6e8dd0709e22a382fc4f87e4e469468c3c2f5d468b0906aaaf4c0600e75d0638bce82602e5b135b4762386fddfac99b49e448ed45de5ea396bd5d95c3287b01830b5ca06c9203efc8e523a4d810c1550353bcfeff455ec604427a0b0d2df7417e7d2015f7fc2d08240d485ad05caf1bbbac8cdddce074a4e1600771407acc478cb7efa89c0eb70bdf5339ca5c24ead961de026faea491fd18f512d37c838a3b1baf1c94889452597971a90e0ee55920633984d41a98b26b9da478f14f7c8715864841c94dc24af749b89d928bd7ce0e05c8a48e1457113b86abac5554e1fc51265bed69f466e6850408018d274e3e6d572e9f7d8c56f2676d5b21d8e8bc841516c9b4d3f27516cca68ea0943d710733e7dcfffd2f5ea7e937b27aa389e52c082d70f91d0c0df6abef0804c6219408585dce1166ba8090ef1937facd212e144ed200a12a1bd1c9a4126b4168e3c2f770f5adbccfa8ca3c0f79558d478a7f6ed986b7173d6c26b1bf75fb1572d720894da60e5b83da373b34c7e95682720dd1de20d51ed84592706241ee67ec67b79b993d3e034a1f1ad94fdebba1d4e765c345cdd882c45173dc3289d2e16683bd68ce59b14045aed7196c0ab90015278b685d6d479f96a3bf47b37ede569b7c87f5cd0ce69c973f1532dd24a3394b5f0bcca4f1e21db7e568d731fa4a4b5660a4e326895eda2eb679b171796181265ed534e2e101df6b223dc49386e2c79af589780c718d1c23eb19468ce5298d3f51dfd905626d36d9ff06ca59403d69377b147748fdfb84b0f90930d41cab9dd77aca3c9159c686f868b45adc698a22a29ec309839f26b01f99d2969e6f93af0ef1e1a6e6dae124a7bcb87552ae52dde9afee416c7c07b1d83cc6769d6eeecff266a6b8b2949e2ae892433d213a066ecd7eb2d2527464312be3c270c5798a339999fca49f1a6a3874234ecc3f775ce80fa4c2f8a95b0e1c1fe8f45c77fde95cce10b782ee4125f6631df958e2293843db1089a75fcc1791b0363d9a1cae8776deace4c85906a980ee2745696163d656196621fd8182e139d8f938667a24be9fc4c9617651d2c087b72b5472998506fcc0239023898080b236e63d19c6faf3c2076028813ad0110e1753a1a4421e692948838a73e16ccc35df7aeb49320281ed3fec4be0ea17ae973cd03f235bc57dc471f1d6022cb394d610d674c4a7079279ddebb913ca21c0937c7da2d35a81b42531f99f7824b2000361c3fbe88676b8379b27d5d59b7d9964d3625e0029fd9a58be166df1d5afc9c21349987aeaabde26235d568cab1ef81f55f766bfcab2ad2ad63300ad69700903f72eb264806d85785d11d8bf60bf484b49c5866d2124b3a2b8c59559cc40e161c18a28157f425d5020da6cfe1774927a60b0948233d7a148d7cb49a12f554374774c82103c784c336e06e9b0b4b5598c980ece561ee2eef0419992659e016728a3e3e16e6a66f7dafaa1ccbfc2ae355a1f298c9b511f0c9b80a51ef58890e992fbfe1b1860da30877c733316ac2141be494730a330e43704eaa369fd81c128f2aeca341070137fa16ee0a0af945c40f1e15ec82b70e4da17a6e44b8d05ca9c1e3734254f4e9335ed3c8e703fe4dcc0cc96b824a77ae05da50416800046b05b4f0365d74e4374ea3e1a8c80cfcc2d9f685919c9119629992614e0a23cc8ef81cddca23bd7d7bdf1091f60b25ff849a3f0bff2885ddaa29c03eec36062901c3225e62628dd9ed4c0ad584392cb9ca7bfa9124ecf4d1f8db587c4d39b94471d6f9da0724c948b61af618ef3f929c09b58ecbebf6c781479ae7ef2d85229454fec8bfb3c1c34af952a9a95a2edde45ef55752693656d1b4b4ee5d61c46ef9b4e3081f13b9f52be47f634480d12b6dd3d844a35edae6b671ba7051461a99beff790fa0490e7237ad8eee04a4b03da1f9d6d2b6e089b8240aac20e5f547baccdcd8ae4b03b6d8bf4e342e8c36f136299c828cacd8a262cb6c12208b8867eee831a7fe6cc62f070cbb602a1329acc2717982e2dd3250d993dd99b0b42c59b0723be683acc0792bcfcef4317ecd515e6919c2f220649c3343cbb86a798a14d9568cb4fdad042a57a0553813c160c0caaeb9d92cd7c18a9def269ce389adf192d141e71111ed31d8f472c719299559c577dce0d79c371bf37b89c1aefd5d0f7b03c7d099a466ff4feb8b8095bd3ce5b039acb489b211837bf886427f54095247626541a9b0c460de655dddd20dbe3389f773395f5aa72b61df563d3be8e606c286d559fd4a163e7f071418c5203ce909148395e50b8afb7eefefe27d032a5f5ba5f8db45177ba9f54f00fbc51c590f938ebd39859b43bf5a382618daf663ab7db4d5eefad8f2c29c851a0fa56ef417dbe12a57cfa94ed63a10da22c5357b8d98294101fc129ce330efae59c9ad8a0fe59d8123b61198612755c4af44629f01129153f124f93e572e81ad29857de39ac927c4d7c09294e603feef32b6178ffc3b6fd0f35322fa345e378c278899f336194185150c821a5a594d9e2d3b4cf4e85325a677e9e42f0db4ab1143ba92c0e642799901d6ef294abf455072d82ffc953ba8f24b3ebd90414c7f3f8f95281291d43c23aa33b0d4dcb7aad5331c60a304dc692363bf30595da2c3009f39950dbd9b81f26455f0275a990fae6b5bdbc097e6b46eab9d5ab0a1702abf77ebad690d05baa605b7779a21f574e1ca14b1a684bc828306f5a838d65e0c5e25777595efe69e81434d2b23941a616d837d587e155914e7ab6c3f2fdfefa0035b1907348bc947a4222f6365da62d3541c4283c1e83fa6393d51a8b81a86541ca41894107eb1c4a614833d7ce7f1f9271caab44f707cfbd67730ad9b35fcc2ed42c3eb7ce62026acad888b2b677f5917e5f26c4555ad5fabe5dd37d65f625f5c8dd5e4d82f8e6f7851130911e3afe6c7c1edf23ac9b4d403917693a82c9cec8ac081cb86dade964c7367249f32b518699d61ecf164615592fccf767428087a9e64ef5f78b9b537fbbf786b7bb9fd67adb13311bf40926cea130f0db219be9c42b470d6537ad65d078b248e1336462eabd45ca1c3d24d66fcb669772cbe6218df03995ad5a94bbed8460b409f05d9ca0865acf8126c58bdfcc848b6db124c7a6dde139dcf78631eff279968a8cb1cd62cd27ff7ea27c19e8e80f2545180a107741a812de3d2dd7529e2fdb9a2aab394e517a7c35dd3ff5ae77c97494440db011f476a2ea5a17a5e19f5be2e41627421e7d7a40c5e240abba619af9be26e50d708340ed6b16a73f2275909b7fb72118eab67cae9930f259071ddb9210de1614e950a5d0b4479e9913fc9c3d8a6500ac982c48f9d71657dfd6ae7afa78294d020373ef4e31a48dac00a43afea9d4e41a37984a6f2b21e25eaccdfb91862e460445e6367395d6b7be2b1577e9374a5aea4938edca9dbc9939098ace039a3191cd3e6ec062b62fdaac3d8676ab911a1c5d0dcf8f134597bc176e2fe7415f2fff5767b37687f36e37fc3b002dceef6cfd9e31c8eddfd8b5cef48b796b47bd1e2b4297228e0e34a6af13a1cbc5bf0ef6542d318db40ef815d3fcc524b8ad33c783e995fdcdc0fbe87224ac642e0a294b0ebcfe2d54c959d6ee0506dd778510fa1f01c2044ab8cce828d38c4876415f0c42555a4b347dbed35d943dfeab5e3ddd52eab21aa4a0dc12f62ae9d9b28d37805af2e65ee580a1b6174aa52a08347bfc29064d8c629b8f76682dc7ee1294f313bbcaf9cfb0be63daca21e6e984911a3eb4113df0f21b3c036907d5c96509d3df7b95f0c8445ae66a32359043e1260bba0f313de1cf06fce406e48b99f5586ec31265cf88a362d48b310a50f65843d8f7d4eab03750b607d6e05db689c20519de84cc7e2c3a862606b78392d935f30b48c4355c61fe7bccb16481e2dfb2bbc957f02641b2e449d938f78d787a3700ce988219d243131a34d7728487388801efd9dd1b10f7cf22494a9c4cfa336a68670f2349b01ea4121a47e31048cd1a80ed4412ab9be52e3b0eb364806b06cee46bacf0bf381ea592c2214f11dd20cfee97bbe445aae4a32a076723d47542146c2e0ffac0e8b54e12d26a3ab7e6b3d1bfc4a2f4ddebd9241c30252d5c77c6fcae1f3f02e0269dde98c8350400567d2c2831dfa3992a7e5a5db9d578f633ecde34ed0ed9067ddd44c850f47159bfea732f77da55a7f3e733b971078c1e0537fef34add86267ea97f15260f324032a9c5d0612ce7b26479f41fafe8262d7d369211cdc862aec1afe91a76bfa024afbac93814667055a2d7683247d13ce9d488246ce9cba9eac143727b80c782dd2387a9","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
