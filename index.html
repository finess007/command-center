<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"541886446d404559a3c989744e44c5116123e4170b1c7e5e222c7041fffd0f02abee65b354c60c70eb9a83a2a222e9033d60ec0db67946d620f792ca4f76ec4fc8af39f5d3a4a3ccb1684f4475c06bb9fcf2d3cb208464c405ba597177c938b86fddfacc34ea739bcb0058ddab210bf9740bd9a716758a3c05f6351989d7c5e4894af4c61714ff515ccd9749984135eb820eb7261b098173f0c44e9d3f6b90d7dbdcb4620c89f04b248868614b0010e9650d3d5acc9c7dea562b0871f90877ad01d59651c2e3cd2e8d1703644cdda9f367dff1c6405b07c63c45a191a424b181a8887d5ad5f5f494792b23ae07d21fdbdfd4c655b113b8c0799656fb216034ce5e1b596384ecf95393820c85980df23b7a128a77dfb02d7f6de568077c20368ce1a7d13829f1a74ac20abf4a887cb0586ae09af71117384b641e13f854b93a9b345894379910d5a191574271d62b3ccb571140fa2eec45d8e0a8d7b80d3d3abe23ce0d30b92213e4d85e8e08feb208964eeaa12cb8f8193e334f00cc9f083236431278906c4f03495c99b009ac546db89008db8590719a92c61c75a18578b4637c2ece827c8edd64a78a249d66c7cb84671057a183ee000e237effdacdf7eb98f6c9ab152ed407faf9863b06f71a99ce4402376043b7ceebeb2c31d0dd1aa6d63d9019aaedd7badd6d76d8274fff0cf865be0d9327ec46ff3a0e091340f2cf3ddb3985221c133d44b72fb2a9bfca4572a1871e56354c5ad2196d3bb613203153971e5de878a08673313abcf65e82b008fe4a30c485d625c1607c1cff51fa84896e82b30e4573707d90cf9d256b3173a4b7847a0dd88325140b0558795b18739ff7d4dfc32b62a907dd5c88fc838b7b6d582f8a02dcffce3c475642bf870336060b2c5a271b5d454731ae4373d5fc5aafad28839e5acd5d2594744e2961e78a00f66266a6452eead53c7c2bf1cc5e6d14ffbc5f06be508bb64804f00fdb5c8cda29a9ae0ef574552019a6f534dbc7945845703aa4f2294a42ad4eeb998ca6c0eb09cf948a88a5cbe9309103b1535a7e9b25717bb9c4cf06cb03ddac83f5dbcc3b438d08b4477b09e8ca3dbf4a28417cfecaaf1a6a28f648574dd133a30ec69b0638baafcc733f05b7e1de9cbe2f2f5059c8f61d467ea9594086b2a14d27aa8467bec444763e4afdda193c3d3e286968dbdc1704554e27127d58ad523c14b2539f97e75aa6b6a5a855c45495dba1c4b2ad9acb805603b1b40af103cb063e4b0200008babbe996ffc4457a95a7660c43c73d4185554756967daa74df1fdc803b18559c35f8da94feae89d2ad2730aa28630c4c1d37c45623aa95e33b88d7591d0bb0d14dd038042a1204d6bfdd6b1473e939d8a4a0fcd5cfe52ca549c6774a656c48668d213fb981a6a10e039fb57bffa0734db2b7d3aa74f32d38764d2319f78aefd14d0912fbb19da646e5a7926a84f84a9de3feb0073210f26e24ff8e057441a4c3f7b664b204de01deed5509cf6103c04e3b0fa4c18446a2610f475241d0b1ba251643df152c2481da14e380f52af870dc9e8d17c9a7f835707a15954219500d975a66b39cd34d5360904f923f81f9c07f73b057bbe3c95cdb4b24e3ac1682789d9c5db0317ad858bd0841175834b085917eae4ea0275dd446015d7b0436895d9f4880bc87c34d6a340d61fe7ea95f6ebd9d5b8f8dd3f0ec717a1ec28ab8a0e1b55df7a722d472c58df8fefb6aa558155a6f8dc311b281eea102e06c50ab113ba7347555925778a32c0efbad39e24a3772131e7c75f925bb2decb19f8634fa0d99c30f1bab2b83f51d017687f5bd97f5cbffe4531ac6a35c035f4f85c93fdabbf1cf51b3fc5629788f54e1b264d82e24f1ea770576fcb31bc4f3a5a45d0c37d4b04e84fea821232ae1539afced217afcbd7d69e05e7ad50855d6073174a2581ecc098a1de97b9d2e5574d318d8dfa64f346b4a76a34160f2cab1342cd2ed8d8845d63255c031c0c8ded6fdf18390b2124c7688c1a63aff115e3fd6e454ed462df3d9f83966cfd21cd4187950ff95ffda8a3e0328ee41f5dd820d27b67b91361037b7897f4ef5086400d3a689e0afc6afaee1b44c08fc447d1435ffb40fad67404a6fd3c9f1d71d3f0a9d7cddc8d2548c6dbe223d40206173b097b8dbc7fdfc36e9d1c2982ff4c6bced58f9d9a2d63c1817a0227db3b6c8d2d5132a6056c6aeec581a5b9e5c70b2a65eb09405b417b145cdf29be018dea08e1489ee0df9b55ca557747cfa9e3462135c5b39d5876ac78a0414952a6d83683918e42ffc94dd073a5bdd331b9bec1202c689c11cd6db0a10803dc5666b0f8a04fde50dfc338b9637a39eafded19c7890a6208e4fc1c53be222737e5d8aa3729cc3dfa2bdace95c7ab81a5ad1ee53a3128bca1d73d286fc47c5b694c7d574eec881250a9a5c2fba130d9e0c47a17ba7b4c379313e16861799f2671969f3d42db1f940b0f629521b281ed50e1ae4be23596c8a5b06d4f966fda9188c3ed547f05fb77a6f56e499d01f95d3d0e85ddb7ca1c8f67cf99c9eb0bf5d53ebc1e847ee801ee2aadcd9e891df9f8ba9ab98a5fa7cb636f6efd2a7119f2ef9b8e07e5881dfa0e821506585d5d4be402f805cbdc2b53e3aad1cf87f43893a764dd0217422cda2258a406aa34f23898f0afe755e195463faa154fc31000bd96e375395b062ac7a579c2e57effd0f8af90bb6306373e157d86dbfa785ee85ff3dcc6cfe7236859b8c3e4039c9e3770095c888291eff9d8acad313dd609539217d670f31faee8644cdc363c95e806162066a4c306e2985ceb0d0e49a2e75fdfb5417066333133c63bb0a1993e198639fc99e1487a86377c6bae0f21f89cf97230fb84f0345af2189c3e81a25637d4dfc686d4966908d75b9d4e19d07e84d18c02cd6f22b65bd8cb4141b22096661b7b73cc2834748f4fb9ea1aeb54e43853d00a6bdc5b394a736790ecc66709a7001aac8bc9b4809b7805feab60e24d3859e0d6d71a1138883345a922a246a4c2533b7e117d3b5a62bb2f559cde8084720cba19c7ed204ea7c678fa664dfdc95b0383997c008c11b681b64dc60218b3b61eece6ec7bed5854f615d2697caa3b87a2474a07f89f896d52d42eb466a541d94d8338222ae34a95ec112c82d3eb7dfc0891d567f4f5bca8cd81de5f289a009a1db4387e153fdb3e2def19a219bb6d0a1248af3b79445d95d9dcdf684eafe6982e0a4473bffbeb33cfc731536baaed69043826c184f2e3653fbbbb1d97fbe82f116a222a6e2c8d6d6ac90c481352e4dcb287b40836748fa2855e4cd44bbfeef1e2781523c98c26b7b36a9c18d3a53fec0725dfa633e171f3ce7a92399252ba283a2db8a359c00e60761ac364eeb3734ad77d48ec7620e8cc292ff08acc046c8ac60c17a83472d9af847642ab021163bac0853dbf823b0d94cc1d21e312c02558c375a5f701328be776b82535764535892e0a5c69f05b0dbdc04dd4490154bc7bef830e96f4ee1410539018e00394f399f2488912a4a08296e5f504b761cc054c0dbc108ad797a38075ea00988b6c8b4722bff019b91eb2ffd10e873778f2d3ed4b7a473e754fc5515ce22bdb550fbb19e87fc5bbc16cfc777a1b8a8e3c337b77cf9c2908845ad8c876bde2dba9637529fa903961668abe56f762b7435ed977b4c7a54a2670bbd9c790b89c1b86637609a28b5da0da111a0005734861e1ac9160c828b152c5005db852b5af7a2bf17f2b034332e8ec7ff64151b4f88fc946e01c607ff4e5ddcb2962a21396d2802a2d32c6204dc676e7e9171b40379b72c7bfdf40b672f2843da0ef329a66cfad1373ba176471ff1527964643b94c8c7fe2c9c1e55ee2379272401436277fb788ce408200c7e8d020a52839f03a77d6a07a08ac2cbf178b18b061b3599f0fe76a43f8bb2f57fbaeffbc0c28698518fe3b4073ebee605cc3a292de4ceef875ffff18df90a4d6e7fba8bed8100cb189dd329f4ad7a7434a81a1f82c16eba7a3d1e8b2e078622817f8c6446ae28d3b66c59d4c297c2be311911abf65cebc79d7d92b73e3ba356f2a8375adc5f0b162b94bee26619e5a2c8f16f8bbb7e8161cadc101cb48f593fb7d5218e2bbaa33faf62c70d94fffd7ca6057c14b51b008808574b9b34fdbc06ae69f404643cc5118903950184825e6afdbbaac15274f6f7ab1077d6476630d52b09dd118f526e5212b934c3f7534b0ed41d054a5dad70bc75f3b340b8d1757c2d51a7ce48fde4196d13face37f0aa6bf60f8b5353f63a7899891379903930290c082cc132953cf8defa1baba0b0d22b754dcd88d04477f238ccade7c8df2306c6c5fb52ab96284a7e34a8b5a6f177f96c7a82470bbeadc368bda1fdb78dd1def2e36ce633f11ab1197d4740397bf9ac0a75bcc149d760caae61f530e8a82f87c34869c03b5d872bbcc24353297c63cb36d78184b5296de56976769474fb2677220523f5cec624387c352a06db2d49b672540c34046badee080106fc7c105a050933b83c4286ce1ac230590a438d817ccdf3cc1d07588b5e0cc50dad7f61e4f53bd3e42b01643cf34bc5a3fd65012cf00f17275158eb535293a8ffdb4d115f7c5f69e2ed7ae6a9ff6a684d45dfa6eeaee3df96c2b22913d09c7cef46a33358526e0842aced2a0edbb22f2cfd28f6cba51c6d339191265bbc9d282f682c2a1d36643dc82a6ad5617bacd7c3c16bc34ea29e037922464c8de437fc1af65b6d4cffd593333597c991ffd5da0aa23b450e3d315826f082a2455671839271c43c95f483eb029805d49a8a68663b33847bcca894dbe832d44272dcd04434b4a7f3a4f05a36f77458fe1bd3032ea45626917285bb6fe95b50dd0a9faa7f077dad50afe07c77a9fbc0358db87b88f7b5ba1ea25c5c42fff0427c45d66c85abe7932aaaeb4586ffd131963d92fd27eff72829d6b799a8a85a33ee3bf111a76c94da0b4a7744784cd1e617ce112f7dafd34a83ce5ba4fe65f0d2a7be75c232897c942701711f0d31b200ba03a3f4183f3a6f5d2cdd53112c7c60f622b6840db64eba8129b367350493205949d9d05bd7f546756020a1fb4091ffc106597865d7e34f6749e5c0b7159e8b84f96d007f1cb8f44b8d5bb6509944ad5173a4e4e0b9b0f0ffac77f0999cd964ec16505d3243a9f6d031e5a61d9da1ff731620e3e3c885ef9746e1aa5e2c535f61d391a3d9f27832da8c7aadc1ac5958e5d6aa38b36be9116c2b51474d6ea2524350df6b92c5b19cb62a08e457b7083c686b43745c82eaed8a07a0bf2814bab00c9e77214724500d8d5f4393da9d5835765516039d42d403ae1a3053d768679d5751e8376f793f535e2d941cf11c8da24ab103208c769dfd657aaea4b7fde6dd37c1a245366352cb817ef46df78046b3d730043d2410bd370d56b5aa41dc993534fa2450d7645bf6297c55e5e2f3771014663dd969d7e1d0c2d5a107fef15d663edc95741c4d1a0db0648c8c4be8605a6f240e8b9145b4a9849c5df8493834d7c71b819303e0bbe84dfb6639cacc751587f874d2e4cae05eb1c573036add8ce1c3a83826eadd4717e15c067b30cf59a6f45bb3740640516254a1f45427b19ed543c09aee87b5fd01aec46b31f22e97b53f163534b5dd2c428b730abeeb3cb3c9057023d62054b951501fdab18c1c434eb5b13871ef7de583d21ad86ac07f9d1e44c3271410a81c3b867351a12621951af63e76c6eec30ca6b264ae0c69488d877068e0a9843662ed48d07d0fe3640a0af23317f03bd0d884b8c53f5ebe58db55f3b1278e03db36c4de3842c609b09e8df4422860c534692d9d51f3e4af220eb9c294d9b6f1a32fdd17e0676aeaf7ead92d7813b4ef0ffe2d1c272f97a7d9b902bdc6aec33f47b5bfc0c3347c65a40d599fea10801d6cd008389f18d63bb091d274891d9b4c0ef7fea11a929ca119ac236c2f8c935b1d9b698c9f0296324a076370386127b0c86c6f65e0da714e67a69eabb02c064afab60a54e997792f5327d11378ae9727c5718714fedbd53433eb7f5a1bf1d4d75ce5f8aea14dfe78a46c1795325d67613f3840dfc59e726b3a9a88df32a169a5703e5f6ef748377bbef0465560184fb5a39ca5e8c3a136f28b3707a3823accb51d45a4c22c0d5cf9a13ba9fc05a617520b4d30d6e4a17a850da05cb51b8fb46cdee5282655073b61a721122708c5cb05318be2c54ad8101800371d3235c02aae1d47cda8332839974a79b714ab6d985e756549c48cd04ffba541d5f5507999f0a33488501bf0e57b76c61391c6f859e2daaf6e5d27c23fdbd5d616f9c68a291e6bee166e18b093dd43273279e1a0059c9bed829ebd29f12bb31cbe7b0d94ab9f1ca4fcea2810b063ea23f9c680a53d494dfac9d0cabd1485843ddf56c36dd1d2f81811a739d4b491ec7fd183494779c374bac914fe6a5399f687c392d88263cf312de3d156a2b132b7be4522303061deb7b709a079306609ceffac1bb20a9f38422649dc6c35a709fa18df76305f80f40383cb1858aefd9a2e9ac7dbffd70fdcc11573433c5e3cf587775a9fa75a6aba827844e2504d4ffd69f791a6b87fd13345071fbc159370bb965fe7426d36a7c3c430bf27a6860425e2dd860dc44ad1d5bb50fabb65e62241dbafce60d33a0370805fc635f0d9ab9dddc529631522da50f3619c80af9a5624582130da60f85f8e4fca6a47ea2995c60581eadae698e5e5979c4e98687cbad5682342cf4d0dad91fe10ff759ee8202a7e9cf560784b8b4d286e6d470122212c7b967adca718944ec35773d6ea8395b665a5fad334e55d1d96a14292078e1eb655c08291de85ff85b4600b992245d2aac73b9377458512de5b57ca60a646827d5927d96c6d28988a3a03bc3b9373a6aa4f68291db74b6bccadafce3e6bf67152a966ade0a54031679666a8f6f902ac2c8d7385b6b8ecc04206a98a0d44c41fbbef3d0ce204f1411194726141a56f4529fef39b9191e9260daab92ff72b598fb09669811581b24460ee129d029afd6421e3f0a2552a7fb1cb97f11937d1b94022e271a0e648a821ce8cc0143f20f6fbaf4807037e974fe7a03b730cae58e11469500a7a8590642261a201b62819caf8026cc0e9214c2647715bb5623091a589b3242b3033acb99379beee5e73c3c11af79d9ce9dfa5d282c6f4e0a21f2eae2dcea7afefa08c24fc40f9e95d500ec76969fa0a9468df9b8edd0a7b166feaa4460e23bf04bcdb31a26af0f4e849fcd1956e28f6eb590a93d0363adbc88d3d9fead417ea73532a065951dd58c32a410721efc63b76ffb62c893096d41be88db9de1a50bacf4b31b5ad571e653d4d55837b7bfefca22815dd41952028b77234bd4c168fa5ebba1f6780b680430c21f4dd9086fbe4d9970f95209139573f0df5b915e88cc5ce637279fcbafa98a4587c5efdb6be2f4c5308e3f93d53a3e840146f45e21ce173239da067e31000273acc5eb052d2971486688d903ba24eb38b4c38760599101926fb2950f904f083dd143f0482aa9d5675f853d20590abb6b66c13b0e491c2547a45b4f4407137463cc6c2d408e81591a952f5e9e5ed64bc2bf8dc8c3ac65abd19f15eb4bbd24d0c7dcf539d91be35e61cb15fd32d1b7e874a350a55262391bd0fbf340d91084e3947c4f7d9f0015a86cbdab251758b85c72c3070ca589236d2cae4fdb05db76cf572a647359787f02848e108d2f458e79b733733b53edc18719c9f5624b477c3d1eb215f5320613c4d7eddeab4ef1682cec9529388f5f83c74aee9482239a6d9d0479a81d19602b94d35622ce1ab996cbef8ab94ba63242762ad2042ab7bd90fd202b9c28a82933e34e25d796e4b78981b82e9387adca8c5ca60c47e3e2b20e347c0322476e7c5049411a983e266835acf84bdea53c0439a0edf659f61b2814d63969598ddcf53280eef32c37b9e2e4431ea788dc010f55d34bd02232a52aa2285978cb93f65a54751a9fce66ceecd4232f6ba52c8904ae775ef6fb1fa066aa6b1a3a1f755bb685af69b1cc04fdba794aa70c8070eccf78e9727845df1573d3307606968a955034b4494adf7cbb211e4dcdf8acae6ac55bb5bc707db5ced72b7d184b51c2edaff8953d6bc788d833eab492606129d791bb8577a9593952d647377d2b74eb3763b395f1818f7bc22d58f9cac34ca70c361a0693764dff63f83449c2fa78b25ac61d432a1cc113961e0464be0fe8b22e60eb598be737066c65db5c53f4e2c17e6b65c9fb5d03e18824b0903f8a32d566ac3605d97657dd12d8777c0605b63280666e5279c1ea09b62e4864d101c4556cf52a7f36b28cdbba167de969ba103f802cef921a7e7af658f26be46484e9d3b3d67829fb1c78f78cc71b06dbcbbe17c5f4530a8739068d755a86ef4a59a0fdfd019eba53edfd12acd351ae12e1342aa9ae2afc3fc6448f84c702a9ff77d59b73c8c3768ae4d79d6e22634760f9597cce5410ce1f189a708f0f0a4f7929b9c0101d6f84854cfa14a66bbdac7a14698b7aa749b0febd57bb09d08bc150ebcf90a9164eaeb699a02d89a8f17162c360791318efecab41de65d8c3fc2b974f2fbe000fa1f977ba0a4b52f02f6e787fc25ac999add43dcc04d552870b6f9f50b575930605362631b5be24518ea79e7cbed2aaf82acb19b40893ffbacbc636b5f184f8ca2f784649f1b9f5a5af598901afe6da72ff5899230fb24ae2e53091065df3e1a987f35c08a3a03253ae909f892f0f11de8d71eafcc3a5e5d42e8d8a0c70514a750aaf62cae3a0da114e89d066c01687ac73a1e0c231b029f1daf06f41e95addef4c0305c44423b42893ed9479dec1170ac5c9f5f1c48812380c68efc773518ea07e433e25ca460495e27a45872e8796c07bbd2db798032d7a8b0a35e0ca002ee763233bac887c06b52ba4567e696fa4fe877725a859bb904d603af6ff814f818d968f4764d597b6e4077af5429f25e8712ccbf31b82ae862704521ed5d7f39dcfcf04b58c3fb6471eac3f28cd5b3a4e8dbf3f0bf58c9753cd3a33e48662a7ff6a947cb59fb5c095097eea5780a60b1c09793a78889939a180a7ba5d6943f2c15cb7ddbf69c71f9d62d15e507991fb02e185df0b5a2dbdc2830681dfbd1f0565607faafdda8ac6dfcb30805d5c8a6e8a4db1a0b99d034fc04f5f702af18e506a78fea0edfedb121055c939b306ebbc8131216755398b200c5b3edc31fe7b83bca1df43e4acab4d24833ea002f8597f450000c9c56e578a875e04c952074e24522a8839276093238956371bab738249091db6c5a57a31fd90b902e0e11fa2f3dc6b416c8933f8b6f980dea9d9ca744a2de15aab504dc6fcc5e103db9f0e129fca0283e2f1c9c1be9edf7846f45ed53dfb8aa1674d305d0d424cc25b4130f257d0cb6b9f02d09585cd5e12cd23b8728caf19ab7dcb784c1fa14f6e0022f6c688668ead47b062474136042c245a65da071b7381680e8a810be6406d93f927b96b407ebea710fe2d840caa7176972f0793559a31f8e0d5d214ca62e10c4c870397885c5dfe8972bd50f107d61fe45dfca1a00af8927be3d803931fd5654fa363df99bada871046dd833b50623c980496873924f2c0be1d36e581a28bdf2f0691666917aa79d3225a3e66a1143b8fb70253dd9c2758c94ed7b4e8821b56b8579c2b7ccc15980d9caeae6173e2889b8990b5a0b172e6f64cab0ec2d530a19da2f22684feb86ab72fa8451ac4b7af0ee17fd42208438e29f8114cc1514ecb961ae9123c71202567c68e502ff1e53a1d0282d3d2e0157cffb4ad1bd02e38db7e90b2fa6b73da4c911f2debe90d5bf3105f297dd3fa73921dc6152afe6430de308f11b72544ba600000836c96dd10be0bb1014e16f41bcb8f952ad2008dab7c328f63d6a9a571b2485e053de55c41942bb1ce700e8eb711413cd485201b8b32f636039856a2a2485705117e6773510b18dbcf4395a5fd8958fa8995f26a7bffd8642a65e54c26863aa003e14a3187d290560b3196edc9bbaac4ea6af24195a417d1b2cd99dac47bee21fcb71f13825ef7d9339439155e6a8872c10f471ba28f51ed2bb59bc925b33f6a03c1047901f8ac52a67342b1520c532b18bf5039f4ca5d1460b7dab747f7900b0c13c65179d7b27abb7dc990890fbca8a04855b833a139130e807beef80f695b0dbbf9a07822bff5367c1944e67f51fdb7726ea69e13e2f0dac296629463567e3b95a2584a84f0da706d54b0980c74c38d22b2e42b0beb701f951c14a57cba91e748a347ab8df8cda1be3a3610cb04819e32005bd2362e32beb66e215fe853e18eab77e8f06a8712b108a6cf5f7926afdb3629ef74f1e768b0a242832425336966db86826a631aea3d7ed41e0207e9b23eb57598ee0fb41c689600211045369629469db4b6cdba7579a3bafed3e6ff502e3bfabbe16cd7b802b25dafca9b15dbab2d49ffadbb9089a444c06f65212b40152365cb025aef53d4d90d78b3099b540416f8d53672b7f2f53cf527d23dad88988cece54bb408196e04b26ae744468e03c10086caf660454da7544e430bf5fe8f1dc51d48f0af80e6512d17eadfc3281607b51749846d77bdf34845bae60037849a0bc572f485e64c04f0cdea4ab892915843882125c4e5c5cf5e8d5a611cf93b9f16c29d80fd08fd4efb217ccc80530bab48ea6a9025677db6215c1c9f335ed9a1db5cb836915c6594401e7e8e60440e5947620d24c5992ff4b15b099b8661790061622eb1531b798e12b6f5a509b3bfb73c30655d730fad774371ff3b862bee4e626d2f932fdd7d12457e80de0c483b9295eb5f66b7f70ed814c2ca399f410de54e4c2d4478f0afdc4ea09c0d6be5c739ea4ba3482c49734b1470b287d2c4ce19ae7e1718acda27b1fe7e9993f42239bc976154187076ef6ff113e224222142da8d891fe04c57d3ef2eb6a2d7806508c61cadf7225f502121ff22de724fc8bd9fed7c6bb2bc8f0081bf9299f5964d46b7233d7f785e6be69fef822ebfd0535cdf0fe1b6fff94a51740a22c108ad2fdbbea8670fb819b1d9b068e7174041d22b6ff911e45e1fa131f94d3e461a0d0b18bc5d1175b8f6082edf9bd76da0a61a3003bb7098dff2c08d884c4fb7ce5e586a49619c8b6fcc94c113841646ac9743559d00e932901ba7309545fbbe13848283b419dc04b638966afeea7eb4bb881eb88de0be73536d99ffd7e379b5dd72e878580a87ba8d4e7c45be01e3bcac81a489af8a00c7bc97e5456bacca68434d84a32aaa6274c724ffde872be3da005a8878619fba84fed9c77a4585aa0173824b22ac0a935a06f7dc4b9971b077d891a6b53cf294bba954a9a49d51938c3d5bb259dc62d533f31a0e9d67f1255445d4e629b705dee656a5cf9e9830d72fc5d7ee0a134e2db389b2a721d7e00d02838da7f68ac95d4511003d3af199258616d924cff24a37f8f874c4fbfb683947f6250f0f6aaf8cad81ab1ff3ec13f7e0d960ee4d96c3100ad59ef2af589a6d857f4c4a42d403bf1acbf5d799ac60090e7301ebc295b8ff3a2a91353beb4750c1278c0fc1f3ebadd8a69ca20b4b95b82668548bc273d69ca816777d4ee1b93b27fc38569988351b652f2636ea29f10b51bd15e94543d6c4c6c11d8cb2e3ef31517d7709fa0d14fee844480ec67856fe3d480a6e393f42c54fb2217e3d17669ce5435c014afa38607881c6a73864264beb446e377ea2c5a0d87425c39d38a71d8e604489cee164a0567114a2f86f6abceab349ccb16c887915ca93a0dd4e33f8a770f6cb524622b52f67f9dbb68107bc7f85593fb28bc0fdb8c535c64aa1afc210f98f2f1bcdb315a7b4e234295dcae5894bf051a168a8359963e003cffb0e1ee0f5460971714e3526519a546fe9470fd23fef07ba060d0f5e3f37b0f37ba5dc48d9e39763aa517eda606c0e72d7332fab6d8ef8f3d326d6d455c2d9c62358e4074fffdb7aa2b89da00def41f3865a0dc2a83054eeaf2d1fdba771f558923d75d8a28f54804a99b578b8cac38889f738623c4fcba85a0bee5d12eda811f4c0b258914994a4e0ba283ff4ebb30f2c59b4ce3783d83275a8c4ca888603f2d62e4c48f7c544f2af654752c866c49a0e4c8a610eed8e1000c18e8f145d3708a4a368253b34127eebd71e3300489efb87cd780e695aa21c99ddab50e593933ec615895b891db86bdef270699b9568894c38bfdbd59c9ae79226dabee1545947e1a19355b4d7c6a9032191c3a7dd6a8120944ff273b87c8230dc9ee15d669d881cc112a62f3b6bfaf933607d31b5c1441e4a96e20f67b0f5557dd8fa17938462903ae4d951325baf1b44e7304e77fa295f1122e9905b910a723db95799c97ebea6cdfa10a9713a2db631ad87cb061416bfa2939c037c002dcc11d4c0891b4852119fa82a4d31018b59cdf897fae1f64a1b25004647caba4611b0473cc462a14252c3c026dc6231631167666f4b2dd9207cb2fd77949c2be54537b488864018155d91e51c951ebfc18740968880da7525f22729f28b6f54e9f54890fc06b96df5ae64565f09e5cfbb483007610a8843eea966d69448d38614f26f4efbab99d4b6a7c22a4f5bd056608b5b37ef305e327cb8f922e15247bc39694166e4d656bad05689aa5f4d6c2b13412856859ac28252842c2437f8e0ad60fffb9a052d12fe2c9feb58aec10c39179c4a9efbfd02b3db816ea8fdb578a35ee2de63129b6bc6aa858e89aa2c2d3310fc83755cef1dbea5a9ffe6426897198c71fc83ca449c61ce31d90ef886838eab9d6310ac12eac076459141ce22d01e991bbeb060e0ea85e583e6faf51d086915ab27053e447c5f99d8c9c4ec6d34e3db2adc87d287c16806ff7cbe121534d65544883a9906ed31800734d4d4ab17772d8c0b0cfecf0b55368080d7fa3bfb35ddf6573c18d9a467464966c710bf6a1854bc5ed6867b0201a3d422d3f7fa9cd114c8053ca361fc4c1c08db4e461013ecb95abd4d6598c50b19c80df4947ec80d290a7bd260c7691437a90ba34259bdc6f31451f0312671cb470c935035b7eaf50f569d6a117f2d5055b2c4c1e5206f4d1251c97f2611144ce8c3da2456016e718c89a72fae6b11a8295829cbd2b3cc9987a4a50c43229bb4494c13df979ae9e78e4c3427857aefd6b4942d4123d6878f18f374d3d2d13e68f766b2209471757cd8a1fc95f9258c37690aacdcf2572ee2aaeacf844ec024c82b016190c894bb8d5b74b8f2350699a2a4e9c94fd69b5347cef0eb08d91dbdb5a9fbae5f70966f69f72f89f6559fd39459c3e680e193c31cca94db1175517b3e08cf46a9af3fd036ceff71d8ec6ddd0e03f4a229bfcd5becda61fd1ad7c8bc2c098a29338a1dcaaf60175d7232cc913ec3735572c626dc1a7d686950d3ad2df7b31d4b662cb5ea8e47dc06bce27c45f21ee90ce1157439b084dd756510c2ffa512548b7c923149087be0e46ee07a6c8b69b60e75748c948ed89fcafdd9329fce3756527a246aba147b28070734ed8072160ddf4a0f4414dd072ba035f80a024bd7c51dba560ae99a37a53a0c39fd8a2124dd7912818086e480367507a2f23f7d0b2ead919d30988ff2917669182fc738a4a658ac9b978b99d4991c75bc578bb7aeeac2615913cfb9a44581ec3de47f5647f68b19f0f60c88bdc493dcb55ace26e54e6b2d1917201a08d1fda9c1137064f94872fef1fa6e78b62710ab7556025ca97c06063c3c7885d0ab8e2141692e5893b982c14df281bcc90c642a779eec1cd3f8ed2ad90ab676d69c8e9f584f45b21f2b5f139608d7e6d10a5ce96d9e27d3de981eb49b61021a1fbc618a67bc04b598efc907720959ccdda93ee5dafa95290e091d2a16482808a7d2388057c955e1b51e8404cf52f9d4966672c7ff3e0e4649bf5e7fd1136b0aefce58c289c0ee56f5a2c566190c937f7309dc998b0a39070e6f0af09e489a6bce70f20cf984e78b3bdb85c9d77c97e929b65ce448d9ac8468e3b437a76472438629982cce0547d40a8d5586d76ed0e342c2e1333157945c4c669a236472683246e016a94601a3a944a8a77fa4d1802182ec754e271531d233687a74185644b11171d94469086b477963c32ca0d7a245ba5ae81dde217c2baece1828a40177391cd9281b84594648bd768b7f24c57a67ba0726317e637a36fa95dc93a5d3d8b5b511ac040dd82d8d09dedd26b6451b948144376840006ebfab5873d69299b1c884be9103294a7a85601778835b261b3c9b1c370d3925deb396ee3f50d850b51542ea3675823de0a9c96ec0ac3e6e66367a1247f2f7f34537ebd6f1d76a79dffdc4f248690f67bf68d7eb159f3963773bbf4999fc8a79dfa8ac16f4b632a12df81cb46599b5abc6606b4454e09e7ffdf6801e0a82f7686869c79a67bd9173df64132299812596f77d2515e983d9fb3df63dc894520beffc705c1c54c319de36170efb206ca04fa302694e988c2e4ea19f417496c49cb2b0e25b2d002c57281adebdbe3a010c0bbc338c50fa8d247ddc8435b7f9aae7678fa4171379dd7f6180bfe481301c16f86471e587df2b6c17304fb5703673e323c3795f891f84ff337d1cfa008b12781639e27b78bc96db6c51340104016d4530efd88f4318aaf2bfcef00f4689731eb830a588b72766b5bd70e839c7b71db38bd84cd37fd60134ec1567b9bcd847df5b0800c89f7442b3faa931caf77b2660b8936953abd1c612ead48cb71365070c22a5d43988ec4a3c3f483928d9d99e2058b8da5d1691dc0a7ac46b294a5f9d04b03e4e220246b4c946511aed761af3fbb5b51c6c4c5269a955de8990d2a967b8e0d5b04cd89c9e37a86e183c7e33a1bf0690804b12270c57c84c5c3e356074c76b764943d3084b54efb123914010f8465d560319cdc9e42e6115f687b4abf0086d27419287e5a75e738f3cd85f14c019f72d45dd30b4bb2be5f6a2e1e176ed1f48439e3a6f52a8954c85c3a6256933b97b41fba7e807c183d889dbfd56d54da3061ee60b42f8118c0ae73edd1966e4ca39182f2c03915f1f5ef1a08fe6f3489478f437daf26c3f1a92391a88ca2b1e78426c2cb18bf75cf18a1753fda7e77d86c2b0375977e5b19e126c85839774163216efff8ec288a033e17ad4b93e1ed80f5270ed878eb1a5c99028f53897c49924e81955d86732e19fea268fde93bb7b098b40badb06820276b99ad397eeb1d45ff243c21602a6170aa938a82ba4702f54d0ed2389c69553e80028008ebe12ebeb7bf4b53a4694d9a04202611f628f703f88d556cdb82b83aeaf36728d7abc2ff17ccdf429a15dcc2fdafe07f81a0ce0c37c19927e11f67d63fbcdb2981c4a3d3d389f1be13918f1123f1090d92cd17fe53e7529821ef0f18b3df1d975fde97f293b64bfcfe9695c694ef973e44745c8cbcec7d2cf63d4c48a5ac3a86b88fdcdb6e57aed1c5392efe8caf105e9165054d02a26c4f24e5501393b47dc493fb808048647771cab3be1ddddc1bdf03029a39bb36203b4b7f588b1a80131e39e9dc00d6390bdd7b7f2e0b8407d9a63f832e52a1f8238d2a461a5292d36c350d1cfb9498b8f1a31b1712282623a818018dd853e064b05b2e37f81755f5fb3684ddf7885ee645e73ceca5e63bb844e78584e6e465665fffc526cc2c483e17e85025573314ef5e702df641aaf00f7c59195f4a77d936a9e32160cbaa1c5fe90e3b29290082cda383c48c9435a5de29391789de50834cd887c78703e2885ca78b2930f6c2a9e812785442d12fa4b9419e1fac76ce8219ecc205dd507ec33710df55e8ba4c17d04b3f11d581e7e55d5da5a7441134ecd48454c635998cfb47fb4de99854cfd0638a66253279dcd3d381e15ef1c16400206aabf25d4ad1add086266a9a07976c67bdcad218fc7d77db699fb02183f54ae63581104cbda21d835a8d4954f27750b86d5b19c007e0180d4140970fc76f262d142d8feed78fb0e6d9bf4e09d8f48bd954e823ba4866f503c3572f82af9da6654fe01fbb1fd97d7884fd1169ffca9aad69f5a515838be655ecd0997bfe813e3766729412d9656be10e5ad597ed77b83627cd07b63f3e8330d8736044575df9e882a09305b5d35fe8b278b87dbb32b951a693ae32c11e67557ea2be368b9235dd06a584eaaeb2d1fc83f8b568107aef5688089d968e48f53ab1aa631f64111bbf2a333d37cb33c7703d211568c8f1741e2f21e93c67f8253e42597517c353039fc0f375252a5181abe26a19b317f460ef62b787b1e641615e565a298d8fb1f502f72ed2514c1159357bc14cfd1758f46d87e886fd8589962bcd78232b65c253612ea727a39a2931233b8f23a2ac9c70fd54c9a97191df97de3489d6d433f528170208a0c04958f8c398088e6cf5297d1615c9a1bf6dea6db5165d128bf30b6b5b3dc63f4a8913288dfd9581864539d2d2089049b240a0dcf2d44f150b44587e0282ac27c8a16e26e3ac6b87802a5296e7f61bc5c4d1e2b7bd47e1845004f4a1609ea21fa5140a913165fba112658ac4e137a4e3b4585a10bedf12839fe39a09bac9df270863b7b0781aaf9ac8e4cc20e2e5bc3999f8b89b4ac7288478955cff54712af937d69d9f1bf379038e755e95527755fbc847ad13f1d7e38b5cfdb597cd7072e2fc4b6c4aba89199bec655c8058a7ff1f00069c9a695a64df9a1a7f53785a0f0130dc6872a33036667ada5758d116e3349de8c00c0397133722186f81f4c711686171bd9b0b59b1f8a694386048a686eb83e30989dbf4b65d0ef30a5977c6528fe47387ed1ae35051c4a44f87294fe49ca8393b4ff95c6dd3b23c08bbfb99856ba2567cfd8233925cce9c2de525f06a18aa4f222e5cbc083c1369095a7ac627140ed549ef6236f767dcc6af58d28bcd12ee522bd5b78fb4d2f6d9ceb2cf06858059ba5f14bc4462b5ad64056c7b9ed273ee62c576c3caa5372ae629728e261628f6524034df408fa9c221e856b24f46cf11d5a9eddfaa8bf524b66db5bbbd6aff62456c2a4887039945beaa35cc068cc3a280ef25070b9aa53f8ada32addfd45af4ff3a210ad7ba66cc8f4ac2ab337772502f1bfcefca97acde2ea7b2456bdde2805fec4a4d25405e80970f4682e1c5530330b0d20205e2f77b9572bb5ae4679a9b4848f66cbaaee75876831f12d53b3816d65abd312bf844fb576d01e750feb0558111c6d54882910d4e395a19ab702bfe8a9c2395b34e2d05a73050cd59a7e20a1e90c7bc2685e6648a3b0ff24391857b9f7d20b4ca9af2fadfbc0e2f111f4eb5621bdddcda78abcd6f62b68f8430e60606b1ac226772f3dd9823f5253c897a0c53e396477f1cf6efa9c892d22d1ce80114fe7734fd2069ed13128379e19e5b34f59d349b93000030d87b60d3ab6bf1bfcbf46fc105aeb2e2ee24d0c5969f2b4acf785d80815e1c953eb7afdd821f8cdb4b6ab9929dcd8f9eadf58961b9e7f7f22995230a37ad69e022d30c7b2fd567e50b1bb804b2bc033b0cb5559250ccc36b9aa955b75cc691cb4d3dff166b46829116153ea6efda5359dd17c8f36394309863970629d5483094ae022123d82fec89928e936596c9724b86610ef53486d6aea972c532ed04bd0c8e733d74df5b09a50419a903d2b512a7f5550aa16c4e77604897215b0fa477d44c8e567f00946eb2bc080d31e2651530c49ef291448c77ae2fe1cbd5478e7fcab3afa47e730431a38924169ae20f0d40629dbc9d319f66eb3ed0434ddcf5f02d1158d54c0a104d13fbb85aebf9dbab0e8c3e63302f807dae61660c16086eb3b44c4e7169049a96eccba3f18fe3bc9897d235a014ed0db63e89f61238a33693ebc91f5798412e44086c004169637eddf292c9d14037a1b23e36c185dfb4b68c65e040b44c6571ec4b8aa729e021149ff73728a42c18d4928c442d6cb604259b14f83baf047fef18309a7e35f78b527313c255a10927850a192cd25852cbedf50ed4218e90dbe161215c9d7c086fa37b26ff7f327db12a89df37bdf2c1d707596b8b71a39b350c10e51ccf738912df46a1c36ecec27acd570c9b226a9a3275c0304837377040a2dee2d53cdb9b29998275442324b146784d8ddf011a8a35efbe17c0ff4928178ee4911118e58df65721ef45deafdbc5e6e4a80882f797545a62c11d8ca983bb1de7b0b48ea96d66d567bbd0f98d7e1f4259a3c36fb78b234e86f5bd95f474bf37a4ca32e8ae5dc2ee7135e6c16aa0d7044743ec8e59668ec15a21c7a3673a8507e7b3d4096a2d38a483ea3f12409d2ec61204c7b0936627e7fbfbc7f9354f32f1cd6495efa8fb8299cd7447d8886a9f28c9745194dd314762573d69db267ec32698adb7da3d157e8b564b5d51c4b48619a0d9d85dee6cbc5fe38de6e0a292a292b4b8ea36c9c41331a41da531e754182245b52532495dcaf5d3321784c8d5b3d851d1b104a014feed6e41ce7fae784c08c266d09b8e341b61e590a980922f23892029c167bcbd941791c349b7ecdba26497eb39527df87b4ba53e80b362baa4f6bcb1560bb2a80dbb090f52b6860919368a61602e9552d967c90d2f73b29b9b6afdae7749fdd6cc0e84f741f75c01bfab1a6d3c5afbf22ebc0ac896cb8ae2fa65a0bb79820baa672b83daf311eb08f64c5d8619d40e007e2da31e0a75cc2fb236719731325a156fd3ff16f7e3e1e2c43d855c54c7430b4c22bb4697e0200ef554124d33350423e20b71a3387e357e38e9d1f5e54e25ded65d3f42e9b6ee35513745f49b08421b95aa33fdcf301ab77985b0d1f6301ed4d53098a38ec180b86ac6389e06e5ded950bec61fe09fd8944a94d7ce3e22e1a5e5bba73a97d8fa02fff47933d5f0411f3af9286341f9186cb3b795709d6cdc95af9dd09e265c9b461ca6f2a942f4d4c3028b2ac1fa38fb26163bdabc6277930b68370d7323853a769497673a13e599bcd1a95debbb6f53e7ecdd3a48b52db228168ed691c3d1945091f2474809c42d8cdb52265ec21de81813476ee02529750aad78b8dc37df969707dc977a6ff14f67edca7721bb4a2cb4106baf72f9317e55c6f942f5692cae7f88f133823c4fc0e141d6c06222f6400507063990ccf9d48ffb41d94310d2aac61d185cf63e3a410f45ac59f39667c24bd8541d6734071908660423e04a58a98f9a978715df77d1e13aebac00ece19504863c6848d5fcc9edac84193596a6290805e197713794e7e7104f052d9821c1fd363747ccea5f33889576e4330f5b467217d93861ec066cdbf6fab822ec6c5ab1b6d8ad8d243fc44b3799c89429eea515c458fea26cb7232ac0d78c6d9b7f25961e7b373be7446f3a9c251cdc6911e884a500a49aa391f670708f478af7a78c0fbcb0e3fee5049a79fc15dcc071c36adb45c99380bb2b2b961cfcc8562872b82109b240e1c119c3e724097e62408b71838b02a2a8d8c7af3ac2df0c7c76de10e64b7c79ca668e24daaf6191bbd93a2a80cb8ff07e641d26565486ede3348d504317df35bac9cef15f49f358146877718960e75f5c91f60e7529ed8829b88f3d196f6077ab16cc91bf70751f10e783e309364b6a026724034175cb6d2e9f60db1989e0dc69f330c8d057f1ff697ad53e5eeb626315a3bcb249bba5e480ca415a1210449354b89fb0a520ec63bce44cddbc2403fc782e6d701f48b9f9ab003eb108a2a96fb6317a86db31087457d7b898568aafae6838bca17213c610021a758e2546f03bf72b657868605eeae5b983d4697e6d7d502b920a7f359c3984b155177070822c57a02dc8c91e95a3fe290f10219a0ed5161ceedc5c844bdef4f52902e154c375c90e7e5a3966b74e784efc8b8b6af0f8e368b907907d9d5e6a6bd884adf5f2702defbc4af243865454dde2785f33b385f181e6a77ff913e7403930dd898fd0b8619c89e938cea392ed667186701112abbcf41284dc09d345eca64b92ea802f92dfa0a88412127a2fa842a29b827ec9c35a9afbea4bebf5acd80a563669c012d492e294df31e69f13c7381d7d37e0a1424be5854e5049cc7d8a38d9d509e576f8d04baa1715747a7549b5a58ffeedaebaf7f47be748d5c14945990d8953d426b9949df6b78726bbda0de9898e96b808057abd10c7e5fe67f96a79324a4482d13f0d50b225d42cc5d64b76c6c6bafbebdd28331aa9ab896a44636eb907039609fa03b7d525207b0e322d290ac58b867120db008a08b176d3ea03e05a05809448c1af92e137a7cdd71947871f1e3d689bf11ef043d282983a7cb635715d64d6ef7634eeba921a4030c3098ac1a7bcdec0d5ca2fa2be4971b511b35cbc014be30eb429a277abbd5927bca0706277bcf258f2e4adab029d0cbc77e5bb39ce9c2e26eee454d5d1ed9cc8928cec29db5702c34961c9eca88aad379c29f2eef7c301bb889c829c0e2b4b2970e362552972a20bf582836fea8903b53f4dcbb443d7694470ba03176b2f81cf86a057f14d0dc54c09ad68c74211f053139db56570e134ccb6d75d32eaa0c66bcdaafe07e930c1f74f99b1b00f98a479e6d212d43d8a2b8d3ff6ec53cc4ad494ac6fd4c31be5c3b1416c7f4bd0f30da89c56c258974a70de72fc895eda81bb4eee1b8949656f1c4dd5e0a295d003d2325aabd0ed6c43df2f41c8e86180cc9cc01971f70fa068b7c77e918c427e8b1c6a0793810e6bddd1c6b554ea234b49b8498d2d9e682f38d2be2179274a55e7b4b346e207861a07310ad27b88eeeb3623c093763642960267afa0155462af0f3d9784ea3f95eb01adcb68f1462bd6d2d1e66a87c9ef6136bf433ff5e897c9993300496fa23fe2071be1df74b7643eb0fbffde149f185f03690e869aa3fd6840104950d84f126f47c86ab7366980ced94865619d12332156d27f49b4863d4601fcd51a6305c98ba6f7018820fa53f6bce53e552f0903c707d88fa7631ed77fe739433a748c8263f2552f71be22d737651ed178d6ef002c55553438cede02c924a116ef47502270bc8a790950c4b455af8fbcf4a3ab1adef65df7b912c97684be49a58eca17963b498c4e91e10ff9df528ad0827c382e31a7112f1921e1e99f5e6e3c01dfcbc7ed2bc7245246b2cd4d0fd03cafb398ce84d9624d3493d0bcbac269b9f1b2680747e3802430234d302a5e8b02624f67ca13701b8af112586217e1d8acef4e99c2ac44314399359305359288d9422ba69d906dd35acc4dc2120b97340dbd2b6081bef373cf3b6fc96d11ef2041ac8f618cf096406ff234dca72f54b37f529ca453e0988d534","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
