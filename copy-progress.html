<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2ecc2009df0f557594baefc36c8f098b17c83f6ec20efa2ca773c4cd205b3d2b0c74fe03749a3b692fde4620c2c850670583a1a7700f32bea75544025be7fcb2810ed60931ebef7f9461db6c123411aab1df2905031ca6e227df6907063b7cb22f7a3969a6cbb9f7b97dec485308f6bd00fd910b73c93c494bf4861e1117c43ac8f45228ba5e541b4a99527038bc1554a994030f742c66afa3c7500e149913c0c3ce5db02d9b117905cfa902e7e6cb43324c36b18cb53fb142136eadfef8824c14c718d307f9864fe7f5bc0d3ee680aafa282371b940dcdbaac3f6856d27e5b1a3897f2ce22df5bed6d4c1ee247cb970e1edd8744fe46a596dcfadd0335345d5ed1e14bd024899150c42b1fc187d85816e04f8947c092d9c824c8a7dece71af9c72e9c823035d5eca67634eb5cd848cc1179391c923fa3785b4c66edc29999b128897c49e5d1b304cde33bd6dbed39c99b0feb6445111ba7433d5ea672eb677b28c60529e7660f193d778b7003f64e67868ba5ca99d65658a266134e6c186ff33b1b91690f88d96dd44fde7934bf650894e68fd40841aa56539033e8dae1ce4c52017429fd54666fce87c87f9185230b7ae4c7a1487bcee79029e22df8bc10139b3ef8f3b00b5bb8016b41b3502cc00d1fe60d25aef3df752e3910ce430c940ecaa49b59a6fd8f126023708bc5954c23b6bdbd851305a294b9540699fba6d41419952a1b46bc1cd48c5f9830c09a7ebd79360706380ef0b48d37dc74a58bf110607f6b65caccab3830b1dd121fdea5696d1489b7169e5f66e3de797322c9bde6916a962a7a76d121ce8d3cd0ae8683f8c80eb78732e6b5ddb68567e974746832feb0b9da95ab3bd1f6b476d8c32647673d1432507122ac4d7fe30e779082d2be619af74b328e843ac5c408edae4c94d68a1cb460c1519a16c8c84f4d535951472bcbbcf11e97d200d6233c3397ff23263afad8098ad18a4c9a4baa2fd7a9fa118b06acd1f96ed6a36bb002094367df678d74fc24bf93c1ecb70c0d7bb83100cf991179a315027801c770891928b3195213e41972f1fc4cefa7bdabcbcdb7aede2eba0b85c2c568ed751c4a20f8a60e442b873bce042fff34d836ee2fe94e9fea2074b9a7c41023c31e4769206050062ca36a1276cc7c3398714d364566c35ebe8316ab9b28a7e1777e49a09d443ed34e3c5212ce7112432e6fdf55ca24054899cbce6cb93f0e97b9b77d1d23873f28d7293b49364fbf857ffecdc0939836732bba154ee74669385a018f66ec953a2a62a404f8c39faf5523a06975ece4511f08719dd28376c7394b72aa62156ce0e8307f6c82e5a0c9bcbb5ba8ecf26349dd7a821939486b0677f41bcf38550d7ceafcd0bea6c576ada3d29c9ed81e9026e46959ff67b68dbda48a2f8a5687596be6e977774742c8d96dd78e8878785ec8f834d1109dacdecb8031d3714cde61c1beecad18233576291bc28e3f8a9f04903daa0a86794fe3e0963a85cf8333362fc5b401faecf182a2109b56ffb7f14f741e2c30b09e293c63b8ffdb4f58a2f356c1c35256c7b68315565f3d4786a0093341e22cc874176d707dbccb012d976b8c855408e4cea8d09ba2d1341549ff58d31abdb1d4b8516096d6569d13be1b98189b75311579a7749c90418b3025faf9410ce24f3409f330203fcd03b9168527b917d34130684e68079695df0df27271d2e57eced3d4a2817f0d2f0cdc365fa0d40dd2663d52c6c0af162593cf590c6c81c83e7b33227230e657df8de429ecde8def75ee569934e3247a47ae141eeeb5bdae164aecc28970209fcf19702399562ab125a6a31a65cebabede5890606afe7b61c739c559dd303bef95ecc011badeb3540f9bbc1f9785569ceb24359cad8f5ac623a36832fbfab6ad3163e992f5b334cfbc2b4cf907ff3bb3d5bd20716456b17b40e2c87f8b592080e40dc150a73a7e413a42045a2753b3c9a3130b37368133709b9a0bf843c429896ffa09611c38acc3c1a822fc4bf9a1011bd65d8520d149aeccaaaac001ea0cfe8f1547dff041b79c7de34d3af98e9242289ab919a422f2863002325993a1ceba3e01ee57b1bfcb1cf79e062b1172196147e8f99c1c912f9b049f120179904cf336821f3b3e1c7cba03a0d1709b9114bdde6e24eb0f01325cb494d3199e97a19c661ac1a675ca51dfb3b8415b115bcdcae65e2cfbc45ccc691b3cc674763b9ec6d90c258e2f2a8df2e83f396a1395f6291e2c58d427139e1c4717b1be0ea261881ffcffe6780115fe4055b756b5cc65ef6e4adb2556ccaa3c7477ad1f45d01ca7ac36adec36cf2085a0a113fc03654b376f9e5a9896da0dd50b9889932a1f3c3919caab712ddfc11d90f72a8400321c6f8039df9e48f4e7a2b3428253456457c69d38468c33783a70fa94c5bab2bc203fd52b8a16be682fd30a20b3e5699319a791c7fbd7b7f1edd7964bb5e1b26ab587fcabbda09de52b1296cf1534412da1fb4114c0d138b28b7015f96b9e03bdaf7f45725b0b2755c89544a4f4931c2664ca1a61b7d65f2cdd46fa1b4688a4819bbb1be7355885954b833a0b75b541cfc75a524e9239cd652ab86eea0dde54d40449f4e8d1d8252b39cbbeb6085602cf965153ffdadaa8038d491d7ff7839a44558920f3f4ac06f4a8abb2ff59ac8c79ff0dabe4c62a6b21e9c05ab0ba7a2b9761ebbe76708eb6e69f161570f4be6a5a9ca5ca509a6414e2ff6fa0afa8acc635a9b134bd613077b165ff4e8028156bb2b00dbd6c390455013fb7a472909e27a1e846476e6e8fba6568317cfdd23bfdb510d4ac4427116e85f88c76145edb351d95aca36f4e1f9b1c928953825a4c6a2157f830dd7c8a08aff9b0471e301817263b5c19ce739b6820675604666f1a22c2c1af6ff84516711100c4c1a0c3686cf23cc1018b3dc3eaa317f0eda233197704e3e7d7ce0e5ff0c376b5931b26b3fca58420be1de78a612ef98abd758f84d44ca4f775732a4525d23832c4f7d48f5537d7e6850ab185565f5f84b2822c25455f23be16fc6cec27afa1543f7f5f5397e3ea957541225e5c598a802cfe91b73531e055a448c47884c84d81c05cc502b585519ee1a4250a884c1735a286fecc6c6b038691acb97d573e6d80d41ffe7e9b7ace55d33586db9a036689a1264d9a0401ab62c60992559bec77db4a54fe17333a91ee764d150748841c36e02926471ea88912803c60656bc91005047fd0543130b1c84737cf27fbe1716ebc75dd02da7c0d08fe5efa8d991979e339c06a9d85ba13057552f9e2464ff2f6c72844fd6735acdde7f2bd2dbcffc761e04a2145439a33c029541ebe89aad8c967e1702b889a3cfd7c2d0b113ea729eb36e97122fdfc0b1ebd3034952d311e6893e69c263607795741d252eb15eb344b5792bab945c0bf04b2ddba79716fe730b0376acee5975684da3a1e9956c9a010ee5e902e8baabfeef1088b44c90a9f59b4f621890528770ba268cede44bd0806df89446f8b309b721f5a58651ec80ada8ab4465b2593f61705a6f0fe570cd22cc6cbcebf4f56fbae40e5db3b1089e3e5765d12beb9c34ad667acbcfced66e03c182d977d74ecde606a6bd9ae2274a9cc8bac2ccbb6f24a5c32184171f82c6562438395e79c37d37148fa8c57c29f837c1bdf34d5307599ab47ef62dcc72475e8307116f1ce11daba4026aa7a57e70eeeecb5ca3a9625ceb4a72ca559ceba1834d5363aa9a9bb6a53a9db991e644b381e5693d97a81545bb33f5ad2a74a0b73fe3acf972bc988d88a7060919b84f6a05d706c4b2abc2a5cc27f29adbdb1cf092c86b733c66b31e98b9cd050318b0de36462831a1e39512bf9d71e74b6e9a020006ee618588633385b8fba449c58e62f7e4eb8ae9e6ebcd8ecbe6a35073fb0252bb4c069c2d7fbb537431143dd573f0932169311605560d7b6600a76513cac9be208b0c2c2f0f0506e336b44bd731e278aae13de033c95998f396c7c55cffd3309bfb14d21fc1a6832f8720c12ae614658617a68e2a187562cc2394d18cfd656ad35317953b03219df1f77ae48b78e329f088fec93e523ae1c17109e3e34b3bc0b2e49154915d43e1b036d177fdcacadbca26e802f9b46e2a862e18c6b3de919167ee8b92733ab3d99bd6e171207feab9940b191bff1f37521df0fb405222d845e2827cb55740f8806efdc5a878e3ce8e1431e8986cf0fa8e353be933ecc55d0fe22f1574b92300e3fec74c97f66323348e7a266a8d15691f554e4cbedff30947e3cb54db40c91f89a5ac098866f73f16369d20233bc6ff377a819c4ef7b26a1ccd773cf500ef0e4492bd8a3a88882699ef7e6c763080a5754a0df888cf9bc87b1dfaed3b22542996c556e6eedbca7b0095bedeed4069334684f2d3562b18cfede149a4393d5658cf7955761b59c8b2e454f934ebef0075638f88d9c0d7b2b22f4232909c7173f30b62d1fb16c3e1ab5ba4100e3d3df53791fcc618fb2d4d5046eb09c040c58a899b18336a0a14a2cf82cbafe4e9ac7c12ecc06ec501af5abe9d6b3c8a82bba61c3481eb5a74cacdbd55a534f5ea0c8bd61f482e6c243914ed42692f96af7de97510dc067b03fcba357c7a3387a262477eb9bc43600d22b8b059be0b2bb324873c8657553ee1e57efecc616c913cb738c704597f10ac5d9a651c0815f365fa71fd3afece37e2d2f6843743ac62d01f1c294c58fd5114f4864e383201efd1ba56092c42dd999f86ba0d504495c917f8e27f5aad6c39873ae2738258a0f09902dd7d42533304506b2f804fbf689ab63c92707c75df60514f438956bca06e86a21d74406217730d156f7248b43f2eb5f11e3a37555b39f465ea0daae11165005770579542b125e56738553477a6576bbb91321f3958161e9718fdb3e1124b67ca4451c0b3546ec9330daf4f06e785f0b5c0fc4e7d81758972a206dcf36c521c9a61732c41a29674aeb618afc3a7ef8d0c39fc970feef56ba016a87bcb722a2e57a4177bcf91065698facea75e55e7a6750623b5cbc73624f33ffb7b0faebebdc85a3cb8a708e427fccf9ae3c94b2cad773b96cc5469efe29bccc74ae1f5eab4d23d15adac70c3685a4abef890d3c9cfdc2b794dfbc8e374d4ee05bfa701fdf66e18bc1874f6dcdfb0d8ae677385885dff21ad4021e8b34dd693e611439aad9cbb747bbd4a689813080e90723900cecd31f124e1356be8bc1f6db6086eb26fde0d8bf9ee226d5097ec369e114fefaed1dc4b272e953e6644e144db45b413f98c4020801287363ab37c39c2c27f9930d236d06ac37654e73b5fd14614a3df56e1999f6d7eccb09d959ac9b93ea5dbb5d1a2ae1102ae4a47c07317b3aa98b2163fff3f9fcc3584d2ab7c2346a8deb2398e3bf3f2d93bcbc07e12979a45838ff5f0de8692e3ba0933f496b1ed8385abb72a662d9a06f5f1fb5261806d3ba3ade54fd864bcc658b1086ebfd45fedd3dfc729dd9b2c7edd44042655591cd25d56f075d54d268db10bc270165430b18a5c6a4a67a02d11bc9de1bb266b2d376722e02454403b4746e9a22835b7888a4cf860a82cf1d2828a42b941bea25192001886a76d7ca7d2cf95432d610d3cafc987fc05f9a83f35401b9be932ff0912ed91f16947420153386bf1e240eab8cf5d49dd876b72c52ff0fa5f650546b640872e9e45b0f2e1d83c8110f74ac68ba5d14cd239e762675dbf075d7bd284b2c4f1af3cf48d787067f2ec4d030fad7d51b81e760acd561ae5071844a947f75b432e11434f4e7b1c25e5cfdf94c6276180c6177fac4aebeba550a8700076c0aa584593d3275eb7f1f853ff2bebaa9d150344b2eca31e3d6da5ea927037f59767bd2af3bbb58a6554c670b5b927c687187959410c460396f6c514b9d748629dbafc399a35ad53b66e58431a8ab65e84e3f18b73a6212492fad290832bb887ac990e953735fb5810fea8885a91ad3674dfefd44e6322ae491a0fe8110fb8702a43d0b682996bf7b9477e80b5faa8265b80c93c9e75067236016ae763d273008547ab16031b285efeb97b70830ed0703f172c4e2719ea34fbfaa8177bf28b86ce34f3e0108c7e4872a450308f788ed78e7438c57b8502d40665fe62186192deba3612ee5074f897a7c9142efc362f872d88dbecdcbef51c2020511da9b699f81ee1b5ef9421d42e6e0ccce0ce33bee7e9a6571f41787aa5bef07a87dc50348f8484d3258fc2dea80659c16e98ec90d791f85f4ca0d94178ba76db36ddafa1a167b0584b281b1ea74fdbdac266ea1ed360815847ff8f301a99281bea7af044327dedb79d58d6759eddc9e73ba3a6b64bdda37e97bb6205cce89dfb808b9838a538b70262e8405ac9b6bbaaf63c9e9574d556cbb01260ab311ef3ccfe2f27cb6babb4a018091ece07abf459c815813bb4b4d77bae39ab6dc3e5aa00682b42271b34b6de2c5e97f5c06102086cd76615185b93c043f591b5d17257a9ffa80d7d87dce3da212e020062b32fd475aa58a97b018a5a517b7f1f5c1f84f6646055eee168cc76c2e105c888e15c48bfb0d5e9b2ada9ccc6c21164b5818564d0badcec87fba3fb36db4b150a2521f0a8de7a7136b21d6441f32ddcc3ce51a4b6c10456f7f82b825173fa5f87297dbaea13d940bc4b9b4ab8079473924f293d092d3122c93ae5973205142a57b542755a734e35464500101b59be62c42b4ffa03c676b4431ed2557755d85fdd7ea6ab170f4eae4d487a35c10a5a574c949be1eaeb5829231611f22f4c664528db3d617626e392623817466cbdc3beaf879e0847a24ddf3479f6aa6be9ca482e1244f7bf3feb8e719c5b74ddc8d5556b5ca296da08cb43aaf07494e0cfa24e5d5726d89a4bab7a41caafba565c066d50e94ac8dd74576877dc98a092c3b99c51cf8ede8537415420757b700a811bd08176753422c2c2d2842d13d1350b6e31f5e8e0a91d43cd75e73da7496b363204402227ba46ba93f434da3f8442f5d356b80183fdcdd216b55e9a67e1b3e828be9c012ba502ee8076c95c9f065c8f070112c7dabd45cced5fa87a390df146f046caa2824325da69deaaba0cee803ae77f103102b02f34226ec9764bc724bee5aea49fb0263e6ed9fba2207d9c1c309227a5c6c94eb6ca616ecbe5736f213fd3472b8a444cdaa3058e2d4b285c4049e3a96b259965c4973f1f33de67c025b8bc90cbc296870ee689c7a9abc80a7d77af162038216683fcfd68a2339782e6f3f3232071aa1d890f3f457f93049d24d617da7decb5ba13bd61190f4f99f5d4a19dd843b91524e3e81055759f8e1142a183425ed4d2534a40b7d9a6edda8cb70a8ad1d157586724b8449087ace516b69460935c6f2d74622dc8b52cad35157870b1d20cfbefc7342899d53391d19695beb67f01afe4319ce60d5f03784e8689c3445c1696ccc2a70ff3323a2f14f1182a16a439a1726b04dce0434e3867f937f52efd643e5e24be86084ad75377dc1b634fad5c8304f85bf4c2d63521efe6540d3ba62e50cea9a9f11d112fb1a6fd8fa7fa6675c72dc21a3620634ebbdc1d8866cf5516d781ba9e3a6904d54de5da8e85dcc1526d7965738ce5a1dadf2fb3a2ead8b5921ae3877e07f2ebdc729dd3399202566bc2f51dd73af1a5dec65d02900383c8f7a6569fa1ce7c9f4325d019ce4601290869c0e30dcd50fbb7337080b7a62802621ca32d485fcdd585602ec48d1ed283e303606fc3c44a813f73e3e10e01b6a13e5a27f447cecdc0905c23f9d3bece5aff4daf3b291cbb595db33a8dd76ee06c2fb6b5438e83cf78bde4c632fde4ae37b8126d3dd5935d4177c2f8ecd2f6eb6a562a1eb6525e446662cfc6dc964331241cade62c79c20d09e155da3d568d89407a998da05ce7c1a4af156850e2d826d5e6cf824fc3c132fc7662d872c507cff0cef091167ec29bc1f0a8c8416006a9968105795078d272ce7f73e52e32cee6ed6f7bf09470a7bb266125e51d039358665b3bdef3dbf58162828fc0769c01e0c6e8c28cf96c800ad60d0aa44764ccbeff2e6b7462764261b4791d15ef113a3d6a68e3ebf06011f08f9bddbd89a1dc605520017080f29cceabb3d28ce7c487d51e6d0c1612b8f33018d34e688f7edd5beff933e1edde28df436c8d02bba59663db3c31517fdebe9a8571d3d2d54b9484dff412f49763ac8a5b073b786462c739bef9620fe46cef521dce278e39977bc591387af0d52c387a1b2a2cdf94637e7fddb5eebe258639b286288ded36bbb8da678bc2352617e69b56145e531c7215d5b927248a23777b0092b99e11cf682d7dd5e810a31bea08cab076cce9c5cf7e321e931a18137b09a60642917aa68761c333eb719b2278d04f2d42a49dd5479250a5eb89f1dfda17899fd1843b28d11ce657ede327b2bad52dba7365af4548587ab8e3ffe070d210d702a42a33df3383dc66c578054211ae4fcf057ca632d4c5bda63ba43928290887104e9333f96ebbdff1146b8a46941bf1f4e751732bc752dd74352e5ba5c1b60197127d0b016eb6c69f97dad6879d471c9dc4d558fe6b44c250dc83da9caf867ca47b08fc7b85842357b6e2ebb6de562d41279e74bf9b28c39964e93d9988f2b529160538da9bf20ed883fa928ea7a8f71008e4bb8ce007a99c2daec8d58d71ebaad73dc9180440c04d805742dbd854afc49074ffd9d24cb6c096bcaa348f3362792e85bdb1289049984e93f992a2ad1d477d1090d3cf40b4fbc6142660792a15337b23f83323069991b2bba1bc7fb49dcf9de7e60f296822813f8fa39c5614c5e377da453f04e51be851d1f6e3e3e551fa074f37718f333ef5004cb993befa6e4ca7ae112886ff76b23250d1bd39cc99ee3a329e5a969ef44ec29269fcde57fe956a352a8ead560566c4bbbfbc40ca0401cb925bccf00296746f86df29469a306cd38b3c8d8650fb30f4b0c102ce1a261c729fd4e4ee644959a7bd5626b0f121f56f299430cd2aaa9c08a386354331e55b6e1813cecdc40d15064b2a18d918c1a04678fad7d4fd9477158dd55daec7e4e3b076c99ea7a0bacfa63008a3fa67ea6ed71e216b334c520bb089e6c2af74c0c58f265199e47f1c3629d49f331463609fba2abc444c522171da8c63b16101c312242a6f3e24d83a80259bc70ae2267bb19195f603896c88885333e52d5483e8963e9c4a63b1b2631c26528c8e85a870afd8d9aa1fa82132c8439f8197a2b2f29629988d73a39c3a425f1d65b6ab924c1b6371ee0360cf7ecb54f20711fb04bbbc2d40acd6342b065b5b6f849dda2a96ac6a0ed560aabba6450e3c3810ecbc6ca40098c18274b03c34b77c917f71b73f27d45f11dbf2769194a1a1cf9a26525f5efde1a94243c7091d4b553a85a1840646cd004c5f7d960af20aa4fc3a09bbdbf1160dcb8692041f67087a87571b1bf4529746c3127d6f35613e1102f309df271b75483ce53c1fc67a0f1ee95673440692a682221d6d1e2f35ceb05c0729a0376cd8eeb72cd4fc3ecfb8869d638cc9804bc1edb157bd70af7765f6b978dc24c3360cb756bd801fed70ea1f8d043b4d16016ca64656a642f0e91239a2f06ba20e7d717c5d1f11f26b9c20d0277943a67e8c84dbe81665669f83bc6bb6dbefaaaf18918ef2461c407687fef799ff871e73209594ac9c5b26eecc5f00c12bb2c7d206892c5b30517e60076deaeb632d239a1d3105c25f35764bf5801c3c8d6457cbedc354461838ac2775c62deb0153f34d46839d378ddfcd963e1fee91a21468b1e2046b5323d136c3fab96025f9bf7bab42f092063b5397114a909d7464f3573f11d4b5737017871ad8a1223832a9e1f14605b1f2d35ec4f75f0de89891ef382dc037771ca51d0dc04c1ac59ec8cf1399de873206c6f27dd8d41b4419f7b146d5905298881452a323eee5d40e422e4e1919a75478a08db771bfa796f12cb68d838be151b8018f1ebdc60dd678c40cc8533e85baec684f99056c824347d37e380e52600a769e68cda6fcc242fe3f5447caeac7acc2e6edd0e1ce0d08033dcb9a974e9a1f7902650df484abefa4f144c5fdfec0a37119f65d9420b8539434dffdbeb9236c5d164ce26cbc8fefbbc63ac9335d95ecad8521cd633dde18531bc067314c10f60c8545b777fdaf22ffbd65495e75a0c99d7d40409419c6a0dfaf054d6f178c3d9466f8154242378ab98df3eaeda9d48d81edc283a15d227afcd2c13c993d81ea74658b059e9ca2ea136f7e5d0368870d3ba38e460ada5882f5947e4cbac8ad3ba2eed0242ba2da4c446d43b6aca0b52162947a5e9096d44b4da8f4e24e1af10d117dc2d0765daab54f36f83a8d0da4ce4f2d34fdb36bfcb4ce0b99ce7386bde0824384ab4e6d91695e19e31804d27b00dc2fdcce2127b1acc4047d162c897c3971ff300342aeca68ea99b130ad78e8746f03d5a26764fd35a5b27b64cd6384256e38534682e76704e7735bf64e9091e7448a5b3efb61b75eb83c7c0475f7cd470d14eab52b6ee0acb5e69dbe54b69218e0286ae071a25f5bba9aff16f6abd2a428f76450d6e2083a060179d7835a4b1f6c40f65828ee3ab18b7541197b2ce80d4c899e6055dd9359badd66d4f77105f5c4a9e3815cadbd1d834770d5a03c2db828dbe2adafd7e3c0332665864e4f7e10a7d957f8022fbe5ec6e7f9b595719139a1cebf90502038ba5eabf5e2d5eac98671823e803ff322d55da0b34414552412c2eababc74afcc6bd8f3e206000b9c8328b4991ee60bb770c9923b09567b5b8d63ea631ca933179eb880b88144393bea53b69f72d34fea29da44a048c8209d3b375c9b82d94a940402b6211992c93d6d74799bad37e9b5baa4327e9b1936531491b97029f8f8e4c0cd6fd98d01cbc419215d06e47e8240a723e7f8a3fc541f19404a3aaec4b3f2ff355f33dff67003c1689c177c84f89170b11e3c3069ffd4b60716965a7ec6f35880f32706d813886770141c4552701062fab96ca51b991a7d19be4021d4e40a763d4309b11ec5fe633fe535b5cdbc1167223f7bb94fc975aea5ea3938af9a2f05e34b6773a25404abf8a90bba9285375cffea4872f06757fd82753be48648c3de4cd98dbd4262b2880b2a2264e154e66ea57aebadad228cf2fdfee26ab2782f2981253f077b56b3e2276b8cb57f345cc10973495baa55ecff52ce19f2d044076ced2c402aef9f68ebfc3b5ef924a321cdb610d288477fca3f4b9989d2c0d23f81d81e0e0f6952dcca4acedd1b37ae10ad0b8c454b31638a7928b03ad2b6e3d79bc1d455bc411d3cc539925f814392d0a5ff574c13dc501601a6eedacababd1d9a26e0cd7b392bf10b45427bbaebcd92d71d49a0b6b3b550adcc7c273a031065d54441555e248ce7265587714d8e08fb570400835820545511caab048a61d85bbc62b41bf33958bfde84c06c4f906c082bb6b462ebfef0539773d3abdd91c552d71e60979ad884289c2ebadaef7181b63871dbc3b914d148b50610e60bd3d711ace9d67da27ee5a7fd4461750b24a6373ba5252427f0cdf7cde6bc2a4ca061b8fb86ddae6b76185dceb2bd352da96b9666566be08a07bcf3dd89921f1e1651e039f74d4656676c89f61246a4810f13ad0ee0aadf5e4319900c0e3bab05621ff30d46a0c59e1a4b7530537c6bc9bf406a93d8ca03f74fb36e3cdb061e3dd8573d92683e16f836ede12ef22aec50e5bec60942ea2e9653107a3ff2051c954cad01e15af06909240e9e87c03d0b68d77105fda6b0e52aa79a3e3050995f27bc27a9a52f35722d2e7b28e1f0874494c4db28bcbcc344f60ce513d95e20823e94818170108fade384b2bcbf21acdcacf4d690d1df3f63ce746cedd14bd963844b4334748119961986149ec6fe6bceaad237f1daacf3bdfc2c1748411906f480456a6eb546f4e68f4ce3c698e07458e6f35d80e6d062224853c91c9dcb3c0596ecdde535438d45f41a009558237d0f22eab212e6c1bc20f997b4787460c66714ea396c8e5500b3266d26fe794a1f28c83541c5c8add143254160f076f10efb0305cda92e8aaa93854be9842c9f195243f94567099c48960436f0fc98fa6a173c3e5ee39a8b59462971476273d610585edf6b6693edf979d896d908bc17e074bc0cadfde027b049fbef4e61961abcd04a26fe18a440f66bd3111c8ea82e0dcdf79239012a9b45fa415780a35463140b93216243aaf4db750b5a508c158fbafb43770d22f42e8302a032fd9714e85d18b42352d9f631cc8f88bcf247d26e660bc7bd2e47a12c574966a8edf21e096b279dfd8cd26ac2cbae85a8337ea817d24100e9e3b18216e235bb8c8ce9d12692103c57958f68bed5d2a52950c6eb6c53649cdf041a2286bb09230e48ee2075d463946d2efa64a7d80b657b3ffeb66cbba6945f0a1816f5f472b6799ecf51596e074b4b5337141d660a289b671da2f1d5a1524a13c23ff392ad44dca2b03d57f133f7f7bee7fb4227c0ac23396a86c9d8de3fee6f8dd9e183b7b35ccc95be9b262627dc13187b4d20cb2d7da53f744748f84213c72157bb44f20765cb7c162e98cc88ef31b84a3be745ff2a772aa94f3aa2e756a146cebd615ea7e2d9613bf035f919473e007c15d93ded2d404fba00056af18d13295aec6993b460c50aab702fd5c25afbb4b12f73e10f83e4ac53c834acfe3be82f8ac01fd7f863599273d225d491b745bd03cc0126dd86844658f887a67eac8432a7bbee461af76884569e8ec1f59dced2f45909794f2e9424e3a8d27d4bc6120a15d89f3142a52f4adf540e1ba36c01a0a670244c91123efba300260ac308f9731584cc475ed3ceeb9b54f9263127e2e50a57d10e39f19a64a5a5944ac076861fd2c8cdf3768ae455a201d845426a133791c2a7149a296624668470eb1f08f9a4fd1e82c7f946f705f2a8c2394e47c7c09045070e88dbb91207e77812fafb004ee08152cf600330cf6d4c3c39f210f66a092a4af4f018e72c741598d0b699ace884cf484c4f52f38c12e2e2aabcdc80b8ff54a46bbe41928244d7532d49850863b6613e8e38e47efdf726fa11659e7a2d068df174c2359bf413b7a24ce140e8b391f3eda83d3aa7a54745f21d4f669bb1db6963dae912ca87ec1e72c4500fdf9628d3f412f7173a9369b4bc0f1ff11ddbd84ce50e9626bad24fcda9d8966c0d1120f83bb2c5b02e5756499e15b6f81e56745bef5f576e213c409f09b000eb2b3e86d8160612cc294b39e52eceafe7df1a46d955b4a5372d33dcc38cb944462c2aaa3888093f47e27670e9c125414d903552845f535ce3d603d3e0b4b34aa55e6dd32f8b728b88a50ff9454549d37e20947d591d106dbcd0e60bbb368c0e15ee0bcac81d64bea847c339a40791f86b8caebe98dbdc523e4cf83ae22a6d47a0b8ad608e082005bb856aaa138370deef1002ef2e7cd2cf45c86575e41108c35378c4fd03e3da7af82ebd21faac467c9dfc7eecace8a6f4fb2b6761bff9b41573a61a61f78c7ea54098a3bdf91cc80f73ea2a0da69d649e92268b5604932b8487c198e9e85f6fcccce50a88796f8b0b17f43e6556f4f1908aba3531ebdc3a26d26ac60462780560f6eb2f9a16a192608af323b4c02e0bd46dd5a5a5c92a8010a3f00a9e5ea43894071f72c778132fe4e9a04b49b2903b2e129d0a9d2ebe5883cb1e8b834da22961fa7efec57a39d45cab09e112599afa83f5bd2c5148c023734b5e574eb41fb273a14ba66f5943831b4d5b6f147b4f44102146270b05c48f4d0d0e0e152bd65a2daefc931f4f6c280ee0ebc05bc6e690512171b0c4721d3dd3669b4541258364f67669180595277104934b17b4d0e9aebddbc430746d7605ce9129de74431d37473ff95cbbec5b48add58da888274b6b9119320c2509d362e6c5c61e64c98773a7a0133344b556d7c06567d27f2cc4def9da7da05879d55f25e9b0e9e35bf0b75642c07f0b36d16a4aeb2d12a01557ebb60029b3afbdecc09174b1a085c49cc08e8c3f16a0091a6e48e137e707d0125f183467941be02b2acdfd1c705a74368f3123b492b32030c797045ea2437c52ddb4335693f7e861456e7fd06504b3d7f818730a7f5947bf8bad106ad8769c6c9ea0977c9a4723e8aacdcb548a591ff60b1b7d4189c2df09f370cb08592ff477885165df89c374ae04a7baa2b5f763478a76edfa6cf348fab2267b1223f3041ec314c71d59093394f8e6414244cf898145dac62a7a84054ecc2af1f29ce27800bd187e29d0f8a79d7c4c94585014b57e35b736d6c21a7fbaf0c86c60f49d022721f3329a04ab47d472f5877b596932b8f4e29d2a0d150bbc9532a1c3e3c9038b8c168baf1464a37b3ad8d1f7b9e0f2298b35f1ad95d645ec23bf8c3418d9f547ca4de6f7756a011fb34e46b793b2624f261ac1dcedc069e6a9995db1673f75ddfba3e5db92f2681a073e0dbf96b652127c7c6b6eb81c27024388188589e43556c66366a6e46d47bccf5ed10aa1661c0dc4a9bee835b468b8c4d22d5b2e1dc8743d845273569af1013dc080732952ab2567d6ad7751665aae02b357146366d9ebdf97ec8665503944fd02048db4d6717b055f422733196780732e4963b151719983b9d6e69034178e28fc8f691dcf245a03b95667fde356e7e10d5f4b02c6d75e76cb77d12c89720f317d684dd1ce18078a253ac4611acc3ad8505dcb64e68121cb2d7b02e65cbd09192a240ed480910e0fbb645e415d39d7502d1c8b7e725d1224243e2ca6e2214222db909e974a3c632c20de186daf6047d64390088a0257317e638b6bbd9745ef2e6963289c771acbad39863810fa438e79de07a38caa9643a9cceec16785e7077fa2ed88dc2d18ac4107d1c6ee5f16cb9ca757df7cd31ba2e379f623925ce382357b79f19a8a6627d6fb0a920518d14d034c930a27f2bb70ba526697cb3e3224373b493e71a585266ce1c5468b80a69a76f04a8a9fb608737c1dfc66220c6a1f9d6b28c6e51a8fc0e76c74b8c73d801671432fd2d0f807aceb7f7f7519ab73f6259bf5c4b1ab86908d1e818efcf3018827af81e09c8ebcbcc88556b7dcde419499f4e4a84f2b274370c39c53657c78404383f632a8b9d239ec7bcc735f948c438b76406c0f61977deb187322e8af44d3bc6780369f9a529e591ddd97640e1d6d8402aca6878c854f2ce98284bc33eb3dc81e6c9496e51a048757fa9a199fbfe3d5bd92679e9ceabeac980aeb38baf1f7126c1bf8715c195916870e9e66bcf314b5f077af85053f868459a8dfcdfe7f4cac7f628a35554cf0d99ab60c2d71edb3034c97e68f37d9e7c081ceed3bd5e2004c17d98f06ff84d25cf8274dc034e29d59d072b06bb342f4dc8db0acfb6d3f0fc5f452d8a3870f758e79584de4aa5b7a04434a66eff5a80311653f108ecabd9b11f462a93ae19a747cbdda10b06c35255e041dca096790bd21470969b4fb5bfc301bc62840a64f71bda9ea35b718e13fc83e717da4c83fde0c5233170d3f7f494ddc4ceb5c1bf10e53c5df06913f480881a0ab15af4192cc73b016c8cb9864ed84ab2dac4e6f4b8c17567d2d0418be2105218ba8c530c6a429637466ff86ebf4b4342d33cda1e0929e6bcb36606c09b342345568d1c8498a6276947ac02e82b5846908171354e45fbce402a8806bc9b1c09b47959c6d8781c7d08e7e5888f82e10d14ab08c6d037e517d36ef0bf2fc8ae40c09f908c71e670f9a6477d9a34c071c5aaf70ec93acb4f3c8e0b0eeb17616fbb8a5defd67fa7de5599e3db065e994d8296ab440e5c783defb349265d083f7aebcc64dffe1a749c29d4097b1c49ddf94e4612c91bb67af1525558a8682a79d2da9fc7254aff3f8ca3d3cf6f3125ebc28ce2c19044f45d857b1993c3e08d823bb4e16663781770b17464501a23c9492954958f26afc6846ecb80a9a2f707fab5b4694afa10afa2720e1ba6b752fb2d9c89c80e51ba0582f63a16d774734d150ef26de1b05d73d847d68cf693cefd5309dd82e15090cdd95ffe6e6ba05400a0c35bda1e287c96913085269b5c089a7e01fc1fb5bdb5bd525f0067d20769b09525a84d234990fdb30e522f80405c62d6fe503460b812a019abf5deb44976bd022818b6bffeef6fce15a5c8403d93e2300e4309499bb1c47775f45f12e948bb398fe247316bbb4faa3c69c262bd22a1917b3f5367628d40774f312e36e0f3287bb0ec457daf3c04717e39cea7e3e57fef783d17be7aff50f26722e714eae8ac71beb0775862a008c6748c415aa940c4ef53eb18fb5f4a9eb9364d2dc2b436f8b3a41e2bbee5f079c2c45a03308f5ad81f2e87b67cd3ec3a586554f219deb23ac526769e91cbca0de4ed58e7268bf5f96013b2e273c842e3f6539a5c61b40b30a50ed0e77b2bb75d12f34d63c90661d74f3f32f82129b6a5368dccaacf9b838521d55fb29bd52e2ed48bfb009e38db0ff686b39f2d100123d4997968752a6d0aeff281590646def96a33316349fe6b02a959c49d7202ee0ebf4df4b40bb11642023b59afbb533e81e8c7a9fafb4d6a77e0057cab3dc28b582e1adae7dcc9e7882cde99b9ffdabae9d7c1c19c7863f5fef4b120c7b15e047e01208622996a2c5fe5a4ae61e718bf25b7307422445f0daacbab0463d86dc97d204c2c2d09441c53bf15fa53d0d7794b40a1ce48ca27ea5c8c0042e9218c77d887de3169049eef6678910830d8db829f1b877691851c9510e9274776bd9e8f55d5b352f0913f7a7dc21c27f82a587ab2ef6eaf9d002ba6fa20f0e76aa07af031405a962bdd8d7325982e9a6ff43b3ceeb8e44d6f58c64bf68b4b2b5d9cabd5a16b469713572e6da9e0499ec19b3c33c26491ae1eb493760547df28d5c2d670d216fb16f74497dda6b0b6dc9447df0ccb34c1c49f13915e138985c28d82eb55431fd2f32ccbefc2174819425ff72ffca51a8f496aab679c087ce396e9fc8f419586901971ebfce401d44318b448ef202f25115c1b7387662d3af79d932cd58bad3d79f17c530d54d7451d12011ba929bc506a3e457407c78750e8a41a01097dc076473bb1156a97adf14e250e783ebbaa1e65cc19062395f0c3b76976ed81bfed8961787f34616d715face12ca65652d65a6f17b415f5f0a480ecbb4a603835a9cab74efb9df710459d1da48b064b1694e8237b990aa518bd642d117768ff86cd9fc400cec339ecb807225e520b9f570fd105ed1ef27f26b81aff18f2f7e0435e10f9d8e7d1e4c0ef87e2ca2a2c42a29e129068226f54a976977fa1cad25e7fc46609b1061aedf047e3b3f3732c9ea7c7f4961339a4d7859371e28cfab5a0a594b862e6f153dff2f85444c8f2042cce8e7da97aeb0e9d52fa96c9939ee50731232a14818a768ef9b8b1a9ab1c9ad3d62d153ebf94dc1c4190632c272644ca73613a58483b1a52ad34e91a822fcf3a2224506347395382a2e52e14ab2d0722bc519a2226d78af70766c9515a298bd6b4d7a6fb3f76916b7026ecf2977fc7ce9307e92088e337cdcd6132e3567b8607d5ef346283f4c2032dc8a6e1e03077795f1227b8ea67104e4bca003ac1bb07e456d5cf58d3dfa6429c38c77e54dcf980d4c073e8f27c07f2b17799be8307a4e680fe646b9966a81136aa5f2040e163d615b4e78df950eeeeb97872185d82319c83e8dfde4eba6b23f624386d07621d1ffbb4cf3c3ff60742a8ae3dccd67954bd93bd276978a49dc962a2de9d1bdd091e4abacb3e35ba710315b10067f8f87fccff8971312e041a42efb0b94c31eeed720c3a5478d0c26b94f97eb72391f2524eb72d8d638749e9867baa8ed56a707835c22beb1457099fe2835018408425e9675ed785a240504c6ff1b7a0e4a690d1f454d1c6244fe4b78da87765aba6df3976d43de015d2387a9cbd7f461a6c671725a5f82829b2b6c30ee43777d356d1d5a85b89510497f68370aa8f33c6155429095ec7788a3ba27832f1f9cd786cdfd9edc588e3c852db9acef2fcde656f1d8f318cfcd124e0e030aaaf00a96d4e07ff6c455f61f7ee67db45c3e232cb2349dd26b675e6a21d280cb96873502e73d238fe01f07851f7f8ad73a1e3dd80cf5a5495f7668f4ad94c86fc18031740a86ce794862c19bc3c3940ef5174c81ff127734f2841a5481de54a7ce548ef2232f7cf5020d5a67dc71fd56281cb6624f1c5d9ca89887b8e9a0655fad09a1f5509f6e253404f1adf659aca59587ada6db7c16f1d4d538097a7d22f64922b3196085b5777a5c1a3686261f689378cc031fd176bd4aa4d0119f86a2390728d16bce14a850a0d390dd2ca89de0464dfa51de51bea637230128f63a0537b89444a5b375aa1406c6c25b5423c4e1b5092a2c8fb0536d485629807660401bbca7d2b11dc307efa8d9281e1999475be52f75613dd26e7c264b34d436af068b7b5140e3701eacf769d628b9da0a8cbd9f81a79f016687ed01191782c11d328fbb6d1af753d1798eff886db9ef050019e4c27c02fe143ede48bb65e25821ecfa2f325a9588c46f46e8f1c390e3adb92494059f64a1ede338e342147d2bf91881bb86672f1913f1465252847adbb5f059fab8a1097420d9e4e422e917dbcb4bdebf570c585afc77efb76c5a293b53cee66b52871513b5b18ff665ede937124d1391bff931d9fa79e3cfb3486689a1d5595a4c171e9bd2d90c1740ea493ac155f58b224d3f2fef565222edd930e41b5bf2acf938133067ec92561e151bf773399f6b6f477eed823210cd79a137bc9c9362be737d8dd1ed6305e6854c587e67c067b7bf50fa75e29668d510014bbe52bd38bee5867fb794a5e614ed965a423aed9f866c8a9d3a4b6506f9177befa9e8adf78f433d51d73f4c60396ecc718df42f33ff5b9bfafc688b70aabc72f1ef06a08315c253b523260b7e2b9a5bbce34a81de7d64901827ce2a14809894946a21e3c9c9722e80754c555bb9ae176a5658671eaf27cb62e58cbfce829c7aa7b08c9db2a20bb4bafdedc42ef73102a883390f1f264be1fc5f72a0af135dd2361a6db1ee76195645e45b15df92030b377f8a8af724c437a99c32bd804f233859e4b7b709f1088bfc8dd83eb00e9223d96c07ad75beef886add4af009b30565ad9035155ec07888c64f245b08657c570976ca7e1508f393f9122066120288049311a178b9d84b3c0935951057d61eae93b191505afcf118c185730853f8dcfa6819435f3ec4e3333f35ce3da35dc673fc67a0847bb670f78a8aad0ec9c853b3426274bd478bda220fc913cc5d9790c9a892115eacdc6d32cf9b83adf19842d9405f23d4043319c84d83c9522c5b728ccb39f92843479ce3aa69244f6f53da1a8df2d022859f21b54c48529b3fd016653a87759d14aa21c25bd45914820fe302bcb27e34d236490612f1d971c4018e63a134deae018c66941ca3a41d38a7743d3ec1349ba70cb42fa240b10576b0f8eddce4be64d6be328078d1c5b5e787b3a606cc4316d1a7f5bde3d2dcd099c1335eab8f9a1da5f35b9e6c318ea72e4a661bc6fd97d7b28fd8aa93709ba11631e8db9c1b6a5da820efdfb239c744bbd0a6b17e52c98649aff6ec9641a02b6fd3934308fab4684b06ed9f570c5702d918841d6bbf880fdb35de05486ccca442a23a1e161dba4603626d65726f9b0edaeb300f7cf6789adba6d594f335cd5f47d49a785772b4ed2ea195e6127c6ea2de0fe2f38ebc7909822a7380d1f0b56170d0f6b58f59a93b6b08ce86017f3adf56e6ac3f4af82fdfafe1a1758d42b5c4628344564310f5ec06edb0707d43f3cc9a871995add46a89930d2eef5d3ec89fa0337c12cfdc91d4be7f32453b8f3b81cd74812bf0abbee6016c4eb955d19605b0a04c7c814a9e8b08e92f45dbb31d1d0d5d75d725f2950ae7f3f9a864ff8aa2054f92b37b24aeef18d57047df21688d30cfba29611005072ffd7612b5682c5e4da953df6f168b8c0666fec35ce75355da787fe2728f82ce3b4745ce58726bf8b62636a0413500b27712bfd3d036a99f70d005b6add0e8db12addae2a1ec4950b868f864a7f9e9766aecb4e3d7f29e089a5acd75e50dfbed126ccf80d2de0efc695be6bf639d3ae5b393f044971edc5b3b99ab6fe44054a89d298231c7f83781ec0b90d0b064f0ac2812961d3e3ae408ed4a25164a8ba80c3845c4e18bdf0ba756c58f46753d682beb25c45cd11e07266af2d4ded7bf894623d36a4261f6660d4dbcbbaefaa4fe5bf95334cd2572460820b350c8d892977c9730e07028db55366d96aed0d8581345814f0084df491bd934812359d971a6e850d19138c6394a614f952f31b75e36ef305147d12748db8ba72e205bb36fdfc23993fd113e1ca3bc2aa0fccf796527d21aa94d8e639d1f7ab49a245e6c6813ab597482a98cb770ca57c7627b9ce6d27d4e92c42e7e0020ec67d22d4c06b0ed0cc0c9b241ab3dcc9b8024ccbfe0c1e75057227e7e08861c595c3dedf077255fede8b647ddf250398fc62515f5019db8d21e62cc528c6498268cf41864e1111ba67eff2814d7f8a319cb623ee274f7884aac40ffe9c57d4e085bdc24cba05cf9bf9b5d5d6229ed712e0aebd08e097ab9a5aafc5bbb8fea775c6d9b5d1c466e6a57350b197da72362971d5162335f6bed2e351e297e3c07c8c28106527b8e9de669b3e6b30bf21dd5bd03dbe1088fec1f5295cfed9ce6ff9299681be69af4f61e405a8ba1152cce452bbe06d2ba2c78fa28d2f7d98d547776163f9cbf8c40705c369e043be93c07f80f93f614805ac080fe78a2cfb0cf5de64203fe62866a8155809d579e66856149e4efe8aba16bcb71a0c2d08af3ca410d1a2d6782f02cc72910627a78e0108c4bff0fa8d126694696f02141f1122713e7a02e707481ca3e4616823da55c14e5af3823dcf4ed678c9b96b28d54b3974f9f113e352fc987e5f68e04b6b642c5eeeb09208751f138c57bc10f365d4d35ea46157c2a5b151c1b4a284b332dc200209616c0f8d41dc9e3907b5266b44a52321cc20fa69a3fef1a8b9a0bc213a463d4521f4eb16f53456c1234b4001a176999b4cc168b0769ebd6faab7a5aebbd73c814e06cb7bdeb3e78cb8e411fba4f2221f9051a74ce396a5a4274d20016ba041c6c2540ef96c87aa3f6b88bb5fa157949582e3e2a743e36d72282d8c142f618c39c593ec44210729dfdd7adf7f73774f2365da23733a98f63d1a61c8515452d379d420f68adea2ceda9c8b50689febbbc7168a8d85d322c06b5b61716aa1bd80411992f2b0a880e49236cee8ccb599e3b8cc833351d9c2bea9a39e2eb9b7036c3e8f3a61a5315d207163dd7f04eacd5eec9225430e7fad78cfcb5dd2db99070cc7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
