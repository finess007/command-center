<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b9f144779ed9104a7f2a457a4f057d511d19841d4c54d1de8e63f3b5eeb0a4a3c36f1104e6c2d5bafca16d307c033053e65126ff815ba34c504deff599a157a9165c1a4479c5f5c06be6facd78fab6d29850276a74863cddde63af0f23c97ecc233b33e3d94283722e51e3ee79a23292fac3dc3613ebdb84cb6d5efda7f350201e3a5c1960df3766931975a46b12ecfd50deaa6fdc11bb01d303ff6751127e805ebbe2ffc937d256743da8cc79d0ab3254ec28eeb550a908548e70a250e8f9d0c893f28eb479004053494ee605da1ef2ff3db9a2d703d96843d8accd43a5b9cc1d67d2bf6bbffa88676c47d799450c6868ea1594f01ade97751c3f0829d92a22a436d2ae7b31ddc43a4e12a5d478a08e3c43357020ec67ffeb37b5152b1f0ca85081662e0597baf0e9a05aa4ad432d826ceb6b1d6657c1cf91981876f26049043753ba68e0f5023f9908f378e2b05dab4b7eb5e58704e7f1117a63c29ab537439a4f95380d939312ae29b0e60ccf4f9c70e6b27072468a15ee0f9fe13cdef59fd9c3ce7aac6da2295ca1cb86a06d19ba829c0eb18943c938357cc0be3119a1dd5161b5dd84db029c583d5cdec6787ce02b4a7859394287c1bca21c8058c6e2661a859a413d7868e4012f8e8c38ea8121eb50443e1ea3520affc3b1bdcb7443b34f253b9951a77dee6c0e397c4bc2de1cac7e8e9a922f046f4df01b1401cece3e714625497db08c06c5ea161ccd3381699ac70e38bd36fba7ad3015fcada3f808834930bff0c3f77c0ea37341cac662d7298d9749d76a5efe86d4aabb85817e02922918fb137e57e4102ed1d729c5aa8b95efb19334965e7e5191da77ac283763c8a73441187a395ca8370c8604ac743dab8c05d771c747516a19758af4a402a2be815de5b975968e3689bd75c2ae6dc5734f40220801434ad05773157f58018796d918c4256ff58f32d2125a45c0420f7e64efa34039f2b0acb02f4206682fd4f7514a7a8adf0d2bab9550dc948539095f63aa082fdff0475d3b14f469ba9afcd5fefb4a12a96feab2e8f32eee2bc8ee2cce339a25ac3ffe64a215021c100518eabb2558dea7f0906fc5f27c39c512214483bb0c0fbc4d2058d3790a04045e26284fc57b320dda33337fbd9a39b7d2c79e3db5d1ef1fffff1eae7d317fc8fb9fdd9f124d44fa0aec02287def055518c53166c3d6e4ddb7bce37cffcbdeeb25ed37b9843a26736ef5760a0f839dcc795ad8014c9fcbdf7470ec64d9023125ad2a5d59ffd699551e8cfd01f524b2a975f0df80eb969ed2c669759c4abcc25d9bbaf3e71cd7623cf4c72412fcbf5760fef81a23da0505892220144a8d9f8b7916402461d30a050d40507f3e7b369c1e86099ecaa35c1cda864d257d43d78034d8e588514f06ea65900ee8386992f190c333d7703b99a3bd9e0771e57edf53c2b17dfcdbbddd6e1ac10a443973200a901c88b23e64ea2f0440f8909dd65d27d39b6473d8d326bf2b33ff56af554190353e3fae96564cfc208cee790a8e322d0d99a485691c464ae8a50d9a17ea5cb85d7b235b69488d6d4cc7c1602248c8ed6a36858810f955d05b17ce2dc6919d825aa875b3e41ea35b6aaf58b6b9423c8151b11449d70f56bf2c548e8ce12acdc812bd7b1d4de0a1a31ad5b4d7b81971435ae6c53655c28d688bb7559ed87200297bfefc7d558b7ab573c7735dc15d71b9348f2b6bf5ea36c092e4febdf8a7c997bec2c8b0e0d09ef8d0ff63f82320d83899bddc157f3c1a5f7a9fecf5c10f2f1fe8840b2d9a37a681bab1dc1142b1021c1b9d1785e38cc52310c03884047a4eb539350e0171be9dbd3a55590b2a9592801592abf3bd636355d2b95fd9176d9f9c449e06adf26db45c5066c528f76c63ca0715f4ef00ffd58153d732978f936493b1cda04d88800841ac26d2aa64d426cd8799646f0c1a9e921f0d67e7443fa0646af6146e1a7faeb97858eb039acf4dde6540c9d270797a40d0876a6a8d07a00415a1d939924a8ae1f7066e4ab5a452dc84d49139c8356f1a805dac3aff275fc72efe02f734f0027a2cbea6698191066b36f4a3a861421bc931c25d54aba70c311990a4f270d7e396dd2c62df79add4545d912f2cc0a84d84cba083d2599d76703e52288cb32b06d52f34b1fdf2457818346aa2de60bcbee67933216f7c91e7aeb457e375c6a0e2648e34afb263bda6c962f8f4cb170619cf04f55fc67a380d03b4fadd75cd15c9286e17c9aee640322df1723ab1b5db2bd82b9598689828a788fb1f56b0385af8b0ac17ad004bbc787e7c697949e033f246f22b6c641e93f193bbc512d2d77082433fa44a2d068f0d2207c1b9d9548601710d3e7a60503c3259b42d668e80ff8e227e47afec3c84e37389048d9a4540d40ad590a7a028bd7b2c9b35237151dcbe2fb00be4f4c6e5f05ea20e0c8e7132410486751602e4cd5e3a9654308cc4d99ca57fd072013d6e9ef52afd71f4d8a38cbc28703bf859b08efe72617af9af102066d641ab57b8dce719aa9457575223d2c3f23ff85c564c7e333233406f9785fde8baa95be8fec379f07b0bad8c2bf2317f3d323b6f202a80ddc8f4c8cd899c7701fdec05aa102fdf8b33cc21f5014920ac58372921820f601ada61619c8921d8e430e14364bfd1b76e8e05991ad141fca1ecd03390a58256531f24c419d5bbff7658d06e5bc546b6327d5ddc351f540781271bbbf73c630fb7d116a7486fb5167fd6a758d178fe0af04e1957aaf9e54f38a3539af1c18ac95fc4dfe88ee59312ce36c33199c71052372405ade38bd7e3aee6bc1ecd3f8099e3489b693004cc2f33508036081f3bf7e034967eb3ea7b990c7b76f88ff62761d676fdee0578e122b365469a320fa082f8c4208bdd01c0b460e0946159ce29c773a1b6bd357d12131415358e2d243a63577d957d8f693064b7285027ed92ccedca2a5fd070e3aa6873c8ece73fb0abda844add7d201f0742d6c0eff914a8a3037bd6906076b9fa7d10bd90e5d261f7f0fc49c5c9e9e07056972560b8de7a4ef68ee44b43cbf3b1395e45208050cb48d4a956cfc11aceaf6a2e54b8707d5c5cccd2feb21ba79234ab11ea0544523ad02befced3db8a3b6210e6838103a679d81b25e5d5fdd606932a5e8359229ed2949e2a24c1f3afb72687ca587d9397e555236221e236585c42e6d316f5d9e7ca502f297c38c38e7bbb37654634932e4426c1d0a9b7cba625d193447177cc341fcb42449bfa106ad3efe91f677fd486715eacd3e6c2d0c94c3fb370f7f460a42b9f3b11fca7b9be418cfcf6686c476bc8d0c5054947d3c7374d466747559bb210145885970014f8c5b1f7d81ccad50502a54062d4c31a0d8b114e2bd1e8d2ffcf87a342bf4e7071223b64a54ee0eb747880965f039fec1a2e81f15c0c338a07d32ca79085598741e422ecef7a1ea1436765e4f71f349ef98d847d27f0c7d8a6442046f7a4f33ad9846527fb88b6bc48e79efc12be23075797a155f0620cce4974f02a16a9ea71d6336788cdd639199462bfc41d073c3eb2c6f507243df8e98ea4cee1931e5345c7e0b9377e7ed3d8e97eb15d32e53135c73c51b3e25030683ca94d45c76eba6f4e95c7ebdf947545d0f23963197c1c64c425923e0004e80a92e585afcd4fd012e5a2f6a6bd154c93357916a6441aaf209a5b89b75eb793693b21bc0947a65ce98e3ce4e6ad698204191d4eb401ad0d9a65e45120788a0330d2544c9132a590c3130564ff249caf3c877d97cbc1a1507856ba4bfb4fcb7435635f2a5dd54ab7f3a4705551a0f93e3966ce96e365e08a4effa9f19ce13621380572a8a1163ac9eff568a872523b2c0aa37411a15750b00b7e9bb179ceddcaf51ddd2472e29b5a8905336e96fa4a475d4555f7f0910ea62489edc6f30bb347c461a8d7db3e896add6c1a711aa3facc3edcd786aa69ae22f0dabb6da0904a7daa3735a34d889856cdd292307e905631998f1a93caa7cb2dbcc93e71139570acf64d4b16eac0fb16d5ffce60309f08e41927914c05db51b10a386f3cf7452cc8eb200e282f74e9e53601168f526c2c370c31a4fb82bcc1b018b2bb2b56fff391fa6be1ece2cf05c1280cab8f9691c314e498a8df6523b6321f83d57bbacccdcb74b4e970a6eb7694d1107a4716b7845f4fd279c6a58b677fe5a10a27186d824c3fe72800c72bc5c329a259c254f571a2f31ac73eca639bc80e4bf004590939263cd62a3f12448a9ddace3f8e05ab7fcad9db5eb2ca32b4b1967594729d8c736368fe554cf6e84bdbf70f4a5d73fa469ab83d1f201017ec71ba2aad6334cd479b6c65a0fa274f132287c139fc878a336a7ceba34146b830416ad224e747832174d4d741ef1091c3f9fb27c8f4b75ff95fd093a0b40af2a22b4cb64f7fc2024c1d25aa080a1539feadc3351323afdf0751fbaf6cca88315f0f34d850bd23f53322b3c368cf5062a4132f08373d5921425d786c463a20ec55fd2d8bbc9126c8c7f95d1f66cf14d80e3875794bfc574ebce68ef85d792a1279e071e47b77797ef438760a91fbf58813e1150e41f401507ed98b9df64a6ee83f457e9795f6f9cf1abb9ed3db4c9616f54c88a23cfb7d7835bb5269af56f14e5c5309fbac3b8845f80d3f889ad294b3c24f56e3d73fd69553a9b76d0713aef65535de9075c87a4e79791ef41ed15daff27bfafe704484e4ea4bfa8d6264a7d6e4854bfa536e9f2c68669e41a8b20a174ee1d9668926640db9f1164a536d7cbac3bef4886f9c525778a4a84ed5d3e2b201f3039577c87474fde0e3612a23fea185dad4cc236c8d77116089f361bd70afb0f36528dce687deef4960e4b7b8174769a742edb760cd91017c0fd32df4aff1912a462765aceb0d83715d124536683f96f14257780640292d1d540e5457f5b902e572848587cfb95d720e98c8db98c804ae401599b5d9994e97d793ec6cb42c3d47faba27da3d985bf3b28dbab80f78d14474351c1355be35b676a1290d3d73379c7a8eee7d1ef0d3b6f434b8762881b1ec946bc6a91b8d02f2495eef3e06a224e43d5fba74e8057e51b6d3eba28d4e6e13047f3f58bf64c24ee20732e434d3b4fb978f03f911047df56fa9265bcd39174fa0d5e6e3381f0773dec40873514c7756f1b22600587b55e40c7c6abd1e483116dcc95b988a00b7598740d68776a99e1661aa24b8937748d4775aebeaf8f3ac2bf13ed9ded55f2679c14acbfa78ea9eb96e2a9f1d3be62a5bb61d9edc5d743999d79dca59ff2e165978fca8162de18523708d59fb85d2ab2e26d01ec923f69386a112e5660edb2258bb039060bf6788e4aa7fa4beb5fdbde5b241f47e42c97e928a65ef245edab1112bfffa3f6ffec4d9e7546c1a54b5a7740e1e86b5b1949618f817ee34b0930efade07b8b3b747345f7dd3080c9f261d5c524b3079c2ddc286188a28574896005de77f6cf3ce7de191a3666cb3e91f4038031fabec0704c216919211eb82f4348fc4d1281b2090f105a9f14bd5ad4ce01b185d0d5c7a0e89ab95ffb374e760ebfc9e63f096925983948f947f67e950bdbc833869505d4cac44f5c08e3b8ca5e3089099ba361363df3308d28411b483fae94fa7e8e81a8a1890e386c76ffbdb45f425af6eb40aeb7809881f9aa39e288079bb63a1039ec7f65bb4fa88ee891ea74359224b7909aa7ac0154b9eb1944fc46c63e941cc1e886b7e8aa718477af0fc6d645e5c933a7d410bd72c4a803496f49800142c5fc329093d96bd7135f643d76405d2d255ef18c0a14b63f0610f3f157ab657947b8953b7956b434f1017f1c477098e67dee455848f8342b4849c4d48fca12c0f7d10bfeccde36a74c318d91da903355c8313e91c46218c84cf739ffae2c12910a4a9e605a16f7c74de45aca1db05a3a3ed902a430f17e1bec7fcf09a5e8113796f9eef9fcc997296c04eaf8d72e0651158cb6441b638ad8d449d287026b270923cea6856df0b0fa652543cb4c1705846651b0794d398429737617b960cdccbf9c48e84103b60f67aaae5d5ce3ac7b03a183d09ce8872ee0977cac1904856026b38ab90ac0ebdc0169e44122a50786fb882fe14da4c8b8ce850389c6a5cbc808a8a681757e1009f7925409d8cf009ffc615d71ddf00276c01ac3a5fd49124d1c9dc8e023b8964eee3ece505199d1ed4bac0755fd344c1318494823821a2757500908e4c9b13c9de0599d6990caa796aac24de803d6808a39241579c15d6301290fc81eef7eeb505bd61fc6fea55a44ed48865db1a7e0cc806cd18f0d6653083ee81c66ca24e2515f338e2448daf521af4295837338bdab1d754fc8939d9d3db1a1d3e3aa813036f616bd85db7208d787e6fbe2a4a0384690d10b8d415ab1af0de14c4bc96049c505244880267753d498ac734716a82423b58a80dc8928962dfcea97e01e4f8f4811ed3fa4cca90dd68ef4684e9243c034a5a69b83137a802ecebc078ef8a52b078afca92e1cf1e58e2e571e45db47367c4968bb951603e01d0532dd1d7c99c5f560335fb3fb50e0e7d3bb0599ce78936b07719df40ae55649fb9d197cf7c62b6869ac465c0a27e61eaef9efb815dcfb72e54103d783eee0f1f7af97f7f946bd0f6d85f17fc31c0d476d648f34469abdf9790659c8395c3a6bdb61d96c8e83cda2a3b0e2947fbf4e1212c21f9e89c797841e44c056b6962d37368ca9b90c4fc0696376bbfe7e323608be701c664d43f203c403084ec4bd438733fafea67165b1d80f1e1b2eb12b10011995c10be779e3b989b79e6974f30b7ae741346d8e27de28e257ea72064b30a4457b1089ea3e692b13a92749cc640dc6f67e4ad65f2da09a5477cbe48d8a2ee4451c60ff448b568134286d84ae81566379bc698689738405af63936119047ef9806b2c3069171aa68214ef4af03f0de9fd631e2ce166c5e635a100c11011af20a29801b5bbb959d0a1dc49ab464e945a1ac08450c597dafbc728c99f6d2e26cbfea275062131046dabd98cad40c94786d2f3ae85ead8f66f0cc863fac62449a6c6a827cfb9a566c3151870015368bcdf73424fae4d2c532dd916f147d26af8031fdade50abe21a9f75e449dc15a74317489108a8771d4480371d61b8f34dec4d692709259d30def68ad1fe243452bbdbc3daa1861e3a0191b009e3cd8bbb001c8d7f212e50564e215b3eeb62eb45816052f0dfa5d01eca08678fab80dc84160b8c5b693d3329f34d318998884d0cbd7d1d4ab78a1904135af7f01966276ed6fe78203e7e3091548baba7a1ffc73d153ca5789ff9834246d5dd8b28b8b631a5ca9024e522d2f76201ec6f62f730209be77da6324f77b17648d95858c6dfd5b76968482475fff778a11335abb82a76a71d81824b1a245bf22e8f4c0e5904d7278156daee0eceec7409f1b8eb6958744dbf0db7fb2495d4b6d10246254e811da3e9c4f87e9cba7cdadbb5b70da85cd40e0e1d09cae274499230ea04b2c3b5e9096ce5920b79ba91f1142ff2b4bed273c32ae496fb30d938c70bba522fc6eec3e2b4c5b32d5a42690634cd8bbbf9967417a51c9cd0bb371a06a7b5abac47252baf1671c494f53b6b31e1f604d0f8427bf844a2c4d2738882b08d172ad5037edc3b9b9fa195d52f76d5d8048fc7b544b9fe81f489422096abaa5ee68fdefd7a2f769edb694121b44c7978041724480f08f50626c0a15045eaad64422d419e4629264f95cf0df78c4a2f0f19cb86a901d1214b50e5f243c0c2f6344ffa385e94f34f868267b7769f00702795d7672cd8f5d8fa4b837814466cf58efe232ce01968d9f2f160e69c5b1e806112d0133f7200b34fe105567838cc072a50c26293b40620e693ad6cbfbd4cc88a7f9076cd2a301be7ea612afbb4e21e2c14dc50166290f89407a9ed7099c4a511e284680cc9e73183207612cf8cc98a4b1f36f1d7b2c220137ae8bfdc28db88b2af0c20bbbc5560f84d903bfb9795171a3125a3c336958e0a5dd08b9c78265bdf11eb5679e76db7c89b75ec90d6ab62b0e712897a96a022a1a330f5b1b42e7f87399f032f056996a30cc70ad65cceee92fee7f2b79550faad089b7952d1fe118a81c362b8bdb38198821bbd78ec8cb9fb7a0a455c7a6d3455b8c0d694f2a4dd09fb52a45d295add7f518cbab1ca0a56f7d52176c69f782cebcb06d3b206a2c6977602430070bd97d3c81b5b3ecf5eb0e66af4043340eef0d90c1897452c6278aa719e45f10b307ca0273e97e279bfa76df4c5a675d8f1bf17b8f7e6d4b8431feb7c48b0d1bd0a6bcd53f707f22f490e121ab397ea9239b3df4c99657455c10aae72e316614417ab01f06906db9b60630f82606b1a8621cbb5d7b25afab91e2efc9d7d31792c0b5b235184a28b424facee7f49c16316ca595f930e8cd5159e0c3861411c711a986f72f2ddb96d04004e1e651b4052abd63a025200d1e2ce2f42433735092a081c27101810a32a6ccf6df3fbd814eedf6c70af2c4a416dd886111a723f37c0248c42751e913fb958e9be2250637ef1cc574ab68e0a0936251f41a271ec5d3222852e331f56c17bb420681a332369b63c8bc10866dfa10170940d2eec21c2face35ad5790d04f63b0afee5d1dfbbeafce44706542393d106876538661cf47b3cc8f913997c2fb7a3c04451cc6f582472b71e77f55ac88fcc363d1fdef6fc39a915c7e7b1c82e1149f1dbbf4f5779881d59a13eba7743b1573d3bebee362f0b7cf0939550b2944146a91c1eec2e27e77a8e96eac0f6f998ab2081fb0c77b35223307ad451a9df6af25c25c52fb25952ed21d22c50f1bcf86ad8bad4426208796bffeb4b501a53aeb49cc82f2b28d1f812cfd7d3cebb11872ae959c809699ef7db41878f3e5941b934cd0a50391418225a7fbf0936f08ee3b8017f43d44fb1cd4344f09f987ddfceb3f9b360333e7d357bf5b2e7a67e7163a670b4019eca6bb6a76cadc79141c70fdc0fe17e6d38959023d037967ca9cefbcf8cac194dcd948e1f3f8808dc2d20ce0f77558c7717eef29fc7caa8d5bb4082e080f9093ddfb9307b2b634d785c985bcdcd2f2763b5d201eb614ae931b6babcbd497f9087116769c89484fc2cbf3da13a0bcf64f25a73e8619e2bd3c56021375c9ccfc2b1ee1861ecdbb641edcda68a1572ff6a825a2f4fdb5cbb6fa49dc1a91e316bad7e59f1572f94426091a43b81209f69b1f396f01dd04a3554874955ea7474d13de3af3268a281649181f73d27b568d86d62598beee6e9ead496298b3ded94b647f998e0a7ccf412b392238939c3148dcd1146836100cedf8202ce7ab422a6676b046d2c6d9d3bc2ef59fa83b5235bcb6d3d4bbea1ba78aff3ed6c069caa8078d404a4cd38d81ae557e8d517c98108ebf37a062626fb58db285084a2eda6b0ec0a40dff536a4cfcef159f9cb2920e8883fda1a5f38a509ef12134d24b8fb991def81f1361786eae39c7dbb96410ea0581e45756c2a2f0982759871c54f6a1cd01ff7382a2cc51d9e4e64e9c0d84a7e914471a2dea2df5d69f43ea2f7a5b02ff36d985cf8bcdfb9777005adb3eacf7d4f25ee102aea7001df6464351a91562d1fb2f7cd0599fc1ceacd7e0f293b98852c7d0979b5d70640921622b2d63276f025dd3f3f6075c70e95678295ee0f17ad5532d7b0f431a795c5433dde4ff23ad9d33077a6718313533d3145d8b092e890482b2a7b25fadc7c5e254fb1c7527b9dc5acfb34559db70f486cdd716059901248a1bc48e0415c23349e43945128e0111545c259036bd0480edd174c527ce5793ee0d5ec1a0f8c14111c5c7c2a073dddf620c6ce48db65151d890f9aa0679ce2ff95b484ebc0775f2fd3e9bef2deaaaf56061994d2845e715a798a34373671245686115855f550e1683c9daab9aad69427e472f4e81c60f255ccde9679748fca677de6d7df4407b050957d7ecb8fcb0a2f1630f4dda88b842aa9b60413f6adc0d32047843d2d4448bbedd8b48868f482d7284f6133c51b179b7eabe13eb4726bdf492955b10383f0281ad09f193847dc024a6d30f5d2f2e5aa98f4d2956c6d59f09ecf9431439a13e618e6792aff6b894e9fe29409822a6ae84b96d363af17d79b6a499726978b62218968062212d93c5d7e298a4d4af4d25e19b2b6b3f1f9034c2f8c3bf2b9a9013fe12102092e2eacf49fff3242d9172d787b57a4027f5985442b31b5ea9ba17ae21557dd0c2ee03e9c6abd541b0e58dd3dc630d7b6a9daffa1d54fee8c3bccfff846a3e554a33e368a6679444368321b01f99e48989f777d53f61adc9a427e97505763602d51c6a2a01436971242734bdeac61729756ad68a3c9f669e0a917368187cebfe474b1ece11fa08bcdb47417e2e88af2c8a4868b8f22e8b36a38967089903ba20d3b19978803761d2058b90b794c2141591d504cc622eb2e21dd1efa9e2f950b8f60a98fdb1fc4ab365c252335d7244894ad3c064351a0bf90659025be3a15cc6d7180821879330f30466f7d958af1c1a96d89eaebc2855e0a001b7899918b2b71ae2a74b3cc86b3a130fe920a849f0b079194367e6a2d3d97253f9c05cdfb0f5cbd96debbfa3aab0c171dd2b3c5c8bd6c03ef230ea373fe71d78fa01c8c0e9bf42b69ffbb12a400c48c5452e8405be5d737efccfb96ecb574ed636d75805e63aa870ade75fb4ab7e3c8deefb01856a11d58139e681a3d934d02075f510c63fbeaa58738c9486472dc9fde9eafc10c3b2279e80f6161a59eb2b86cd8985e337c444a9204f54a014cdc4a3c66ce5e92e5508aa7197155919613454661a3d8def82576406a7426fc24fa7c176bf060beadac5de890f34945b94bb0e067f386e8cecf55e835921b545a0cb624f3275b80162a021b70d88214caf2a8b2dd9f4324e2e27b1586755fc10239905e2bff816c55d3fa5ddffad0314a48b16b5afc7d8cf3b6f3ec5b1487a51af5077e795b852c8ec7fab7782d5e1d230d2a66b517b9d752040b53c9f244d5489fe617411e396fcafdad781b56d091fbd367eb69a5516c6bef8241eb4e360cc42b09641236fdde2a3195837efdfc86d683b23dbe0f6bdd02c706a42eedab52dde34531794a280a05a74ea9b040e77af1fb5f463f4914a7467003a3cc5ea1ecdba4173aee068ddfa5b564ae97cbbe57a08b411125ed70bbe54b2c1192076f0271fc436b6603b3018df4971401f9f260790d8510bc4d82d319caec342cdba8aa7c9e9c683bffe06cde2f054cd23613905e5b0c517f33e19b154318aacea375f5c23ff45722d974dfe0a6a66a53027be629c92f7dd1d834028112ceb781368455f0f79893f8a27cc774e637485104b6382e4c1ab2731bb3824e7f114ce68da049dd80ef0e637757dba8018850873dd8ec62719f16bee92e1aaa58e2ee69f332b225e16b471931bba6658873b6446d4e42d9e6a601ff9511add5f1700a6598d5092a6ff9b50ae5db1f1b8e586cffc89c90d2c35112b9ff049f653f1caa18bc8adfdeb2f7a82de176bcf549e70ee978a7695d14f7f7665cef845e3e559b5a9b14e5de83a08846cf567afb1d07df2ed5e94ad5c3bc84fc0e2e81ef01c0cebc1c074f313c5ce870e4da5c141e431eb2b5708f01ebed774153c82bd247e220e48870f27d63e68bf763f47d10d1e286fededa4561b3c3d0abeda0f5780c70d7ab5efecacd4410dd107e1c63e3df0a2460e86a5293921c8f2862c4b217adbe3e0980e573305a2d1d38a39519d57fb2cccb7252d8b56b05e45f1b69ef367875e5cb706b051e0d7823e1025dff9e033a168a78a3174dca014c8d755bc3707fef53c7a1e36a840d47c740c37f682c9c8f1f993ac3680f53b4389e63554683598d43d9c94270bc1e440128825040706b4828f841866c7a2443ed55ec41ed03746239538456e0797e56534e2c7189bbc687ba4dd0f239b57f9676b9c2ef168b343089172ee7dbb23f9e42c9837da443133d219ee80d4546c0733246275468d5af2b213e1ba470dd7c7a6b4602489eff8f277f1cf713e3302c1135795888435fb9e563910a4446a1f0428fe68dab14a6a9c363b6eb970fc357dd8e351e38efa45d43ba6b22b955b756432a55cbebe14d428dcd1e0d69c2764d1ddc9b52fc324e9aae37d63e6a3867191e52ecb9e484c7106f3d0d7cd3f86f785cc378c24bc0aab07910dfce290aa06958034028708787eb332a6572faf9f54bfc2f4fbfc8d348dd65597f9ee8cf025ed40c546d50b34532ebc0afed4ad0ec7f3421acfe8df4c8fc16057678d702a18bafd9f35abaf0d3b08425121cb93f55d222f148995abfd7a195c76a0b03e6d1abdaa2c61debc3a4a8409e6e684c0fc447db458e7ab112176793e5cbdb2d0dbe2b7b916dca35fb9ab237378c932b9b8a91c457203b43e2a634cbfe1c4ec29fed73f51ca097d0b8ffd067e027efdc5ff4b6f496e3d7e84a03945bebd364f46ac51f40fd6d9691f5bef34001c8cb23c07acf87c74adae2b3868125ff1d76bb324c2ee50d02c65743ce45f5ab59e1e411a9c32aedcf5b370cf69965f3e6b755b0fd984fec6e119c808fe3691ec229b244304fa0f32f4ebcda39b3ff1493598ff0c195a148f3b8d3ed0d99eb34310ecd79150b2b46a3c7c20a95d908aab24410569f3c8673a22951f8ea58b1482a4772296122f29e1f6aa83bfe9711198c56624fb2eee9af3f0fa45a4ced1c666b24dc8e8384823aef1c4345d7c64697af4b46b6bf5b913377933e1d9869ff5ed62ff0a7043a579f0196fa7795f480fd51872a57afb2258839ad651de1e5decd831f25279a421657a93fb27af57210a57d607176b91835c699a0ad495666caa502bc038ee365c9c85784ef30aeb1f972b5815eac3d68c9c27b65c13055c57ae78b60825511ea6c41048ada257e582f0148fa7c8d3b6c2d77e3b48019d1ee4e7e29e1819973981e025ae28e436af31285431873b2db2ad0a81b178eba56a7928e3b46ea3b60701b96bf10377d3b29409a6b40bdbcd91756a8e85ab4714afe7b414d270fab5fe0e19139a861bb711c7e1d8fbf84a96fd56aaf07514a99b8e45408fc0d1cf9b92aaa9e0fd958c24aa3a7886ead5eb50613c70fed24c70542f18518f6bed7973325b2ee9f1eda6ba68d49be138ddb29f90dd1c6965ce179dbee3e8c8660593634964a37188c1e87f8a387d9f34aaea16e0a20a32e4e5c67dc24dfa3bb68d57b08e6b6af3f32d2583bdab74dc369c5fe94bf87b7e9a6f1f217c2e28f7198af1f49753e17eda4c8d7383dbebbd2afa90a8163e504c460153dcab23677ff8e24d88ca2ac319ede82d87dba804b08b9362f37726f5780447459abb59ccb6b1a5886ab41010371ce60ffc4183a514a55e077a1226722b5743e9ddd81a8552d59fa48ac5a82d77ca77927a7c2d40a8e4fb311272b051e17130755b4237f94ec2a9f6b8da32156b62444897de9ce40cf9db2aea90ccb6e6ccbe764845ded6d3f4e657734f531f04619bde9d488105ca55d35773347472e7b8f94a9261232e9652a0561b8f2a40f4ce5f4f28d19fc738263c4fbe3f67f0c7db163f77936299cd7129377683b2bfe26705bd2e0e9f9dd0141e8f13f87ef4782df0d8821f4b013c2635146376d744eab4a550558dbb9c7114bf358d4216df33546decb625c3f3a56267a6625bd73876c8166907ddf91ead26864c00eec6d497bfd7c46d4775fac2002c4c64bb780362450a15cbc7e3abe7b1ebd37120c6e6158fc21a882cbf037de598a5169ca88a25508d831d6a3e866da3e75ef237a017898b3fba1b5d8a198613a81d4ca0402b694f141b9bfc98b84251e5b7f1a7511770b37e22b05e2a7bbc475b71c6cff7680dd636e1a253a1daa592dddb2723a76fa3a4ba0c4e39398cdde1ec3ba20bb42afc71cd62e2a1cc5407a856d5d587f1d7ab64ab6cf87f6c17ed7160522136808d14450f49606f456df400cadb493d1d32a351ce23acc8d42531329c8126d197ec92402ffc69c71a28ce1f80193302952615c144f3dbdd68d236e43cf482984e1964736b94d6d5761c5962b6279ffda64d6453efbb3424211c1a7eb086c26065c5718e639cfe0ad0ddab87fa594b4ed0a674636fc42a5da892d4a987b4b5f8be5551f8f3203cb15d3d10159b7e26d9dc98f7c4479b326a97663c3e611c6b8372a7f9bbed4e964e01549b9856332a34dbecf38232af95755e896682ad025f55d4b86861a9d717dd9569c882e4023bd7d6eea92fc106896b1b04249be4049e6b62464f62e2f34ffa2d0c2dba8c6195414798dd45c0f0aa07e52a7f080f04c60e58d4d22626d31c69eeb66cffd53885389273f2b90bfc7ce1234c757169d2d891ba4971414dbdf24a594609b24140434160a674f86114927ad035d9a1d7cbe0850d40cfe67c2ee22657aee64e9df0ff4537e5e3d0859f5d600ab6187e2aa8eb992278ba1775b7d857c1b97ea234afb494c51b4d0117addcd965a95e949f41e5c1fe031af9a87513a8892261055542ea98e55652691fab60aba6e619b1a55dc2a50a29caa1b0dad06b150c4a6a68457bba5a6dbc7318afd41efac826a00796f2e08cdd05ddf5c63f2d2cd0214452194317835ea9217e0bb36f65e07787551f5dea38a5750ec24e9283135bc833ff9498f3200d64f9a2a4d3a472acd6f59a80efe4790a06d830df2ad9cb37bfd0cdde0d337d2cfd1879404165fcfd469740888cc0d5547bbd8f6b8f6fb86174a25d0545ad2b53ee4d0697926a5cb4520f04ee148dc284db8fd76f058182f5c11829fd1be0ad6d4a677962442fd4a1da783089508e8d7afa5b885a1303af5b069efcbca8835e347f2851940c3f964fe92ed2b8fb9739ce1e0223fbe9cbf6c5eadfb530864860f0536742f708c7abb060a3ffb38690c4063d480a362c74a149cef44dd03c1190121bdce4be5460d1b1e4f1b1ba921e0674b5c747577b6e0a37b7a61d2046d00c6d8a66b8895e513607d051eb6b370279ae75c9c7ed1fdc4e716e3708d4ec2bb917871cad1eb98509867588f6f4bbb1f0a9005c0354c7fbfb398e77d51173353859da15c8cb7e0322ac28e379fd0f65ff7fe03d34c327852fe4a08f3db44bc5540ffb0a00127aeef340f73a90180866d552e508945fbc1ae21214e8ee0e3920dcd971c82f8e8499321b81c414d1cdab66d1a19fe54c0ef1ad8c01731da37860c1c4b67c5b0110f7be937c77f429d65b214944469f19da3dc12ef12c1e13de232bcc4025ee70a05b8a0fbd32edc0519c1488bdec2cca1bc8bf97f9c47c42e949253a6e4e151841bf1702935a415a435c62374f81c1acb302bf5b54db2286e73138732477be3eaf8e51a9c0eafb94af699e65e5a150b4b4556c8c48994e6c93acbb57ef3d399dd420a85102edb47b77614a994c0b39f05c51c60a327e84c83a18cf7e21c344cf313f05c0999b62fabaef76c03e8463a9e4124deaf961da7b3f5bd32cdc877a981b594cd5ef1bd6563946bdf92b4802cbf2794264a9612fd66cb5568799b5dd4e74f4e365cf91385cbc0363c78756f11b801d025fcd5a5b2ee2a0fcc394fd1f835ae1ad5646c207b5a7d2afd2e6ac0710c9b45c6d9136b256229fcf1c6503a378e2231c5f3d5427c65ef1ac86271ec53015005eca4a2cbe3d12d7070402dba583f46b9247b05ae96c17dd0c533d1b0cc3d8b4a9c1ca84083b68a8556efed920e509be2d758ae6fce7caf3174cdb236c7943486aa665fc9517258e34a60c1e1652f49a7f56ffa029d89bdd92dc3d9c660759fbbaeec5411550130d82ac76b772cb3d59b0048efa8970a773b0ac96a75887615c999d68f9bc72dfef78cf900bf2c39c0b67383a8eefb49dcff9b061b1678aafe473e6b7deefcc89a06e0e69b9bf8b7f1ffe0f733b85a80ac6814b00804964158dc8843d7c9d76ba2d898927b1e159d6fde3358f32542452fda1976ef29e064e0786d0636d38b800278cb9fe1f1b0941797ef7505c3e0833cbd38a0f1fc798bee5b41613dce227f4096c70354f8b5a757387c9b3a5a390a99fb807b6c2b869c37c8470c22aad410e6df875fdd06cb7fcc3e1ab537e47b2fed876a2971f3261cfd12cf45cf3ba395ae3475c7ebcf3b1fac3f119a51c1ac635ea3ed540da0f94cfa5285ef49b0f862c82d3010ed4c7afb0179668a9732b1df5613e686dbc6e1160fd9b9765f59c0f34c6b1daa398699283896167c168d29c42a807c9c8db324d4a9c85e3fe21351fdfc6d11aed13ac486d8f9bbae85b311b9c52201c4a2b65d046dc7b290f56feaafb4972e646da6a7e0f1deb9230bdeb07b554a923d3b21a214523fd7213f830e1bceb107b18edc92201f67a0cd10e0f0af9a13874f9d62ade40d4581e6f0c2ce648341b819daedb6b17d2ee7310808f05fd7de84cf741150e009246649e545c6490e44fe4ec475bb5149b43238930d7bbaa5186e05db47ab46272426cdf8c933dee3b53db2d43c54872f39ff925556e010b783c3031919fdf7fa0adb01898ec4da300f405eacd21c69319dcda5c8a39b87837a26cacf0a0dd6091e654ec52de73b6db98418d7a79b3998dbd86174757ec9bfe95f9a8499841874a03a247a24ffe38686d7f7617d303e88de2b17a351290c4bda85fab17fcd8c826f75e0bcdc25e6887ac26965ef66be9bf758da49d2f143208f1ca53641f7be0c51c57f11686545617f16035a2dbbabc0a3fb17a1203c47984763b292ea6d1c231ed76584a03301474336257df32558a76bb2dc13396f48d755f0cc2401cc76f0c0678d0cb89ddc54282809467e5da122ad5f892932f30aab876bf91e0712afb89e4d07ad629703e9b49fbd48d2416e84a1ec65b049f765e78f6e7d2b9f627b6c17e4b0279f734ce0d0515fabeeca3bd8cade903b15cb2bd2989bb35aceb2e9a09cbca9cfbaf3a79ce1627b10a80aef3cf17304132c89cc34f41e09017d74eeeef8b719bd961ea92c9accf6242dc12fcae1c0ea5cac946ec6dc287d1e4888f69446796ad5a2fd00c96c655121c95ec191fd2d8ad219ad098023a6a4f6617da685b5d9f7cee0411c262e3d0b8223686a4152a426f3d7abe8450571fc23431988c36bde58930aaa75f4f70b1ebb4eff8fb39600dd5b65af7a08ca24b5de08ed69ad44a27f7814d86cf681d5ad4119bd8233de1852be8e166d1be9c0487506207ddfab5df3d877698dbe042e787e47fd68aff9ce1679a9845c252190840ff9c4db7bfb329f1303984281b6cae33b5698b17901ce9ca455f73632fe1457c9e96843537943d2120d8c8cf4e24d19ff7e39abfc9d9b3655ac931fa01d7964e8e3a2468a4ce2fb5598047907b37dd52519bbc6886441c0570bdb439b90b7d2aeeafaa3354545fd8ad4438b3a0a8eb5d0cc1699e873d5984f2ed50b726cd360627a7ca43e5740c72ddae6eaf1e319f421a0bb7f1a84b81cdadfec96e7bdb8df65e9cb14e455987a33f2640ee9221e03bdcdd8d55ba53182fd8a5129cee1501bfebad63a2763b2c158c0267147160679ddbdf53d70f192ba6fa56d5278ea135dc3f1e54a01410b01a67d0d82e644c79b57305b2eab6706af59f1ffefdb27e0f2d2e5c0fe3d5e6b84a3721ec7ce516dc0a0a85b59a77200318a7ebde28ec5889c0aa7f3e72c5e60e725da8f97ae0c2f284843dedad354bc8b43c4a74a56a11c9e695b459d6094552bb6059d51473ffad77cab906eba650f912a0e6e00da5225eed54fe6d8c0f7c87f0176fe10fa709037467fdf5012cd50a40b1d604165cf5c25c457150b3f95a40a1ba9771dfae99ee76a150ef56b2f2333c4de6c15557606148edace43742f04578b175d9060a63f2774e95faa43ac661bfbb670dae0d23353c38b59981f6cb561055bcf2ef2a4b51aed95b1f439cfae249c93b3f57806100f58dfa891a8e27b09160e87c916de4f9bcded2a7df5f6ab64a94ace04fc28b22807aa9bf5568a8d2525de66916baa60606acc60b242432d047d32da8c1b054d78ba2407cee5f5d74adec835d0b7080de9d02458959c5dfb12e77838a4edd64ab5504ab5fdd005321bde49770979fb63c0ed28d07445ec928b2d9310b5cdf321150264d980e51c1d394d9413824f60c5cb661f758ac2b6f3e41b1dcb5ccf1a76a99953b461ea956e9d0f70a24e9d2ca486433678cd50163eb7e76b2e409914064c076d37f152fd98daa99e1b7353b9ceff45d79a44701b48abe11b8e6c805949d512305503602f7b8c7fbf528f2b01f1171c183794a9aefaf68dfe2b116d028273ddc20608fd838964a909630f4543568e3dbc8912afc6579efbf216daeb88b905791e7be9bff74d25443511ea88b443f6c806659bdb6a8ef9dd9c8ebba451a8daffe6e26528d6bffc18c2c015c8f673fa36ab995ede1273a99b0d5269fd4df5f2b306645b687bdd4c454b78b172b5b740040d1168df9e943eb487681e44fe6058b4937db80fdc2176643e11f32a785edead8f626d0b02c22a765e22617d2f564f594551303c6eb6e0c43bc8cb80a18b887d663127ec36223f4c5c25c4a77dfe2a501c10d37a48c26ff75e21570cfbb1e86cf3bf7cfd0cda9c87d2091c28c4310d3a95e53ca13efe3f6118c1acfb474b3095784fdeac52c7d698bf0dfa931fdf298a59533ab584264f6859852695b4e6b60d77a5b81e0b7b41ccb2447bb68d4b0bd97e0c609471aa08d1794c87c7674b2518669119a588ca7e0d0b89439017f1f9549e36d247773cda7ce3d75079e1936176082949789130a662b1f43e367ec7f8796c9730c864eb7b9dc63e1e85df7bca75d73598086e70be572202720b35fce8defc5c58d1ae363ab38b140faa48d3457f04ad4fa5c52e39561ba9740f3782525c38e0dbf14735bdc5dd667426e636e70d66c40d1deae86ce5977535afb4fc1fd6cfcd926d81685c96f00f7003d09a4955f769f6d8ea96f098e5937420b2219b17e516aab83cd4d2512dbf7afa36ac62697417fa39e547abf547b2bb67722f19b191a46079de0ffada021f41617470f37ca83aa66b2008c7f348cf047d11a204a9405016ee092ca22907f5b5ecb739fafae5e309bb48acea85a64b65d41c464f485c9a6684e7bb04039ae389f8b0deb4d161987ea73dfad27fcbedee20293deb24e05f81c68d5674c5bff9887b731ea6556cbe58c009ecee28eca236aae86f8d90a8c24e31901712cf9a028f1d3e1b642ae18617d9add71abc3313ff19eb500c51a0e8bf1dc5c1fc1b0f2e1b452063dae581ada0c4ad58c40a31bb059ca2fd619800e47fc40742b5f1aa903369acac5392d516824bff877ebd132ecad33e9b9a41525522dd79a51394c270067f2a003a1fdf4983cb0bd59a6da884d824396533eaffff98b397251d2cc06dfef799dfd4273cec4423d7b639abc755c5157ca820a2713d5dcacce05c6eb31c2106d4c689559d2e9002a09f082d4b91db8cb1ea888954b09a06cd5b0bd3c4a6967b11d1cb0f28e115bef6f1bc2dcca644824fd0ffbe976ae9e8f842da58de66cf8861cb8f33b705984d1a5b251e386e44f531b9f9db476574ee65b35ae2f89b05a6aeeaf7dd0d7891b1e87c6bc6742bcb0ee83413faa934bf2a05abd777388cc9075030a8669a7bd9cc0bb5c49d9927682fa163fe470ae4fa2450822e96ad2b7b24a7b366e90610fb861961c4741684c60cf09bb376fd623be343e71fe4f0dcd49e6ce4ca4213d604e7eb0d4fffd43cd968231d77dccf9b054ca4488868878a201e23bae7866058dd581cbbf707232492e382f553555c707877970d687b358a3d21b1d60e06ce1ac3fdc75fea91cefaa2d8085e36a864d5030753ed92135a8a596ced90f338ce0ea503a613108255a63df692e4da6b3c7d0d46b235c8b0279188e649d2fd29e531380f6001a556ffc2ba7e8db5b52485b5ce50dfca41afa34b062eba3d148df3385615ad312d929f2a0e43ca67152e8e0676339461d7b9dfb81943cac8f598e747c25df4c94993be7bb110e2cceabbcd2f3c4b0be0005ef497613e647cfca9e14cab9e5e97282bcfab6c6138a444b62d2f348c2f5ea791d090d329de796c02c3895e2e2f25c4456b0690b0e55564321e58cbb0ca243038f2d327f8129a1df488c7ad551e78396b119dd71880489b5e29dedaeab2cbf975f82b7ca582e6de534f6c2b209546cab4e3b1181bd1332914e04df84658c3bb0905711d5453fb580236e721705b94c475a9cfa4662aba777ca7347917bee8d82c1a783ec6828bde019dc2db3895fdd8ec8fb1196c78723e1a72c1e394b6d8c93c58654b864b1c06b052487f697f63853c7a8109f2e2b1e4888f782a154c669333c42618c01e0e65ff6f59f774c68f57fb7a3207b41931790c2da9c5d36f40f6c4f42c5c428356555786f59099ade06d7e81e0133b847a9d4b92ea0ffcea4f6877503191fde4942f82a9699603b8fdd4c976586730caa10cca38635bf0f36fcb881c17942f95fd921856a3c9fee8a0a5b03fb0684678961a7a3e2078953eab314cae1415deeb896e7e1206f87391ab657fcf659fbbebdf633549b5db9e065c6bef872e6304ea426b6450ed40cf1d2706dc1163dddf74e0939f21911a2af7de257f51c95a7d43786cb6b2bc9afc7347b4b6388af92cb9da9ce1071571e3b27a6be9ce9d221a336b98b68bcb3834188d00faeaaa25286808e330e9b039fbbff542169fbd5fc07bb204fc206986dc82ef5b140eaaece4c6d2a905e1be12bcd62ece0a94e0a4c4dfaa5a93b0734b6bef9ce846984c16b623981569e9e7e44ae0525a0ed198576708ecf5096b9dcf79884f23e15162e2b32b7f371038f55ec1ce7bb42ee714c3f5c11574a50478d584f2691faf6d3adaf927e195fdd0fab3616ffa916d7a8339f83c85ffb0260c7e55f31ebb02b566f857c68764946fb1fe63339407ae5acb18d5cb17bdbfbfab40e4716bc142d6e0891f694475966331b7830f96917014e95d589d1e878348639e1e85ea4636399460e21ae0f3daf6fc2ac763c23abfa945928282b49d6ba03dd1e6030a80e1c416d37a77b882fa79336763afea7fc725c0f509c95e0c51efa5fcd3e59637f15597d2a7a87b51ec4ab81b9449a7340dbde87b0d87aa5288995ea7a79de98de0a7e1d7fa9351e4ccc4a7891d73f67cf8d4e2109ddf61734ae647be0e75ee25edc5d28405b6ba11e9531f0ba333b7765962520834b4d781d391e16c9a78c82dbbbd22b36556ad4a8f9e94b1aa57c22288810a944268dc1b7252315313866fb5907def35e7391b36f5e02c3af9b7b6e835d56437a05ccff9c5a0007b81d52fadc4283232988fc38b4030050b4e4789ec467a421bd724f79f8bc75096ba7c7f032d6af8cac3ce57d384ec76dbc68dd92726c7cbe9416a74a27a8385c03d80c022686233b1a67a4eb9b83d836ee89f94fedef3269015900ca82dcd504bf6955acd7b2f449990f33053d7a07291ba74f1104d5a668161665fcf560e8ca5fd51826a2c845145b5c2f998b080b4a78722f88c8223f79846fbe0117ff9f3884c3090e5bdb9c7d9177fa3eec4299b550e2e13fcb6b5162b18b10db6d1ab14cf72e1193900e3934777f59304fcd446baa3be9e85118fdfdafd3a0a11e4c57d9b199e9230447c536d4b9f67d4ae48d2fa9ef24e2a65e109","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
