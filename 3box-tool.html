<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"637b2d50da67d27b12147a8ec9c6a30959fd3cf6d0a12e2a23f70b615b61fe674b3cb8225a6e7a583a8771dd03ced5b2310583451a4480484d0fa1530eb87be1993d0696dd5e4b278fdb23d7f4b355e518e05c5341d2e74b51ccd94573c5acfe47194691353cd2170992523b6b756e5b60e5532d3a6008ea6b55dc13d59b73c71bc8ba691ce514bb17879d2ec7eb063b345bb7a8e746e13d5383e1840c56cb2bb321bc2158a9de99dccb5535b57cfd2fa37167903403e007f872191bdb71ff5f1b16dff60ca72d791e0d6b32db5767633a2996281e3fde71418a8b1969b8c1b45710a01f3b4f7c60ddadd0539ccb2f81f02986e13a7a98a83b27b24273de8d831144e076340ece63da0e3c8daccea7879357515156ccce1e1e1e9fcac04093217a0619655b6f08a160c000273117473e8cf55f8d5373148b1bbd9a9290ffe29dd3a9b675d62e8bc8fc2bfe4c13c85d8ad52105ec1ce6080f57874e5f503b58303d8986df52adc8b37937fac06297d1abb5c7fcd3a3c10bc05b595f8d4d45ff2c6f682014d525f659355fd5278a2b60e66d354305c7a5a7aa81f9d7826d537e57302da7298f79b9fa6131b419b0158d6d4360b20b3e53266f7f10b1c16a8c12e7d2ebdc212bf0f3af179ba8d0d664d489b663b41b622ad6069fb163b2cfd6d69f035c372cd3c0f2336fe704ad994645fb6f1584e1804bc2a80613b91afb3c52dbd60371add0bc831077a6d6ea561a89226bfae0384d2bd38bc32ea996df33935745ea0de21edfc53f4885adab19583ba640d20084a9e71f2b7fc189fefcad94b5b6c489f7e7681b65e2b34846ed43ffe507600379960261f30db0e7f19102592a44c5b1490428419027bd7de766af94d6e6bd6a9890fca3ab43abbdf4fb1ba3527e3e6966895a307c0d125f8644c4c85a807d1a249d85146d1dd436e78a61f400b6cb6198289ec40bfb42936d3e237fcfddae2199cab453406060d540179b19d2891fdc8cb147276080df04543f8891e4190820570d4e8e030d0f3834ee77dba04bade1c8719fc58f6b80f831776b5e8359480c29e6e12d5c9e5698ab35c35b5b82d704880cab0cf2643f50aa4ca6ccc250761a2b1af5c2b8e0a00485275008354dc50daea84e937e04d814f21b97ad2175c8589731735d42177310838510be1cc92108fc5e0c0cd486f2b9ef33095e033906a4be2b859469b7646f6c65ea54ac07e18b2e740e673efbfa754e41b2e2bedffa5939cda7128ea77da29a939c9d4daa330c189cd828915d05aeaed30b0c1d010c98b9cf09298c0152b13873a036bbd7bdf559a7cb73acbada5587812b49ad26780d98635aa312d1990c415921799c2eccc30ead95068d07295251b6f250ac1b021f1fc1a74a914b4f20a34b66b21e13ed5cfbe4934f2fab9c36aa8068d9e1c71228497aee1962f02441af57aaa8b7fd1da9f2018dfd73c805d891c1669fc7966b1a93eb964b9d8b572291561c5c1de9db371f188a1953d152f91a9352d70fcde07ee70c9cbda8a6efa368e7e9afad441d6c7c5283866b010f8a812de909125f829b98c6645ae1d529d2e6c66a9f1079b04b39b06a8dcd2cc2ecb91b4a77099225903d63092857ab6df17cc4b92cc7f43db62d1775468c05da7606a6318114c7f764e735d1c3071c5f9bbcf3efc899d014a7bf363d118466cedf5b3eddabb017350deb2c955a87b1bdfb6506423fc7105bf1d49e5f3d25fe9c865fe14f15c775cf30fea7bff10388557014ed3ff8c6ed4e3ee0defbc87bb8eb8aef02ecd0bc778c83d7c3ee162ea278158eb27c48c8976727fcca588d12b7b397fb34b5c646ff9eef85401099241e71aa8ad217b223c9cc8bcad57667efa234e30098cbfac033d9a332995255c94e7acce50b1b7dc5cd54999e1c12937e1964dd81e0aef7882e3ddcd7ab76fd0c4fbd517faa83151962c471d6c79b7071ebe932624e1760dcd6513c4e7d3ff0ab810ae657764dd70292e71e427e0b015bfb2ebe5013eae370b898e32cc0103d9c378c39f9038a0221b31305ba13f52c6e5ab0927d489aa642c61f37e16c31473845a3a575c4f83069b1b6bf7074fa008ecc6e64df25a014742f0e44e19087ee0429ca8bc035f817528133cc2d394d414847923ff9602058c4c84a2f41179d18ccba1e646c7a1c40600645a90d9138b54fbabe9ad81264940bd7e09c07686bb07392977a589e834bd5b05ba459bf96658b11caa712157fb593efcdbaae9edc3f9968a54b12564894cbe09454d5f50f4a3dbfde044858383fda368e3c90e274956154331992a17cc895d64d59cc98392ab718b999d2a7c97c99079f3aa005748e357c64961b40497b26373525b7c1996fa24ab1f5c4ee5e3d1c2969c435e359e8d90e030c237627dc8cc1f603791c669727c02f59aec59f0e9688b6b2e83182a2df0a39298bea20027735e6c7a1ad76cedf7cda9e408d63fdc1e5f350fc7b767e1a9ca7f0a7596b32582907ce0cc0059e9ca0fdbf28a07fc07a62afecc061246d09ceeb8e0b5bb79fd0f3289e115eeb5a24465adad1d3c7ace460481855902fb69f733939c4c23c4d855d82bcb5ee865e89f6a26e4af0ddb663dffcdddf3508fb019db181117e5a7d910a828955d5bccb35c8df239f7ec140449ab11625d8496ccab8ac9307d14a6daa7884dbd4cda4daa1b3bd137afcbcf03bf600157f3ff64b42112a70b87a2cbac122acf4252880d33fb75398fe6de30c788f64b2715470982a2b6333f457187ac3d1065a353e5977ab7633dfbac9225607bed3888b39f755a69c90158590738291fa310016de99a80bf534733b7257bd1a951aee86b593193990b3320dc5d406abaf32eb5a6dcc76ade4caa665b7608226d9c0f0f88c38791a6d5a51b148011eb666fea3627b5e8327e72de29cca2ae7e159f48bd4c687d47f8042690911a8363d13cb19f12b3ef04bb0bbb627a35ad61a48fd4f7afab46897bf372eaa53854b63ecf500c1a8ce59794efb81f3db9bac48cfa48bf9c4a1a3400bc04325b9fa5d43d47e186d9d761450d123ff43ddd4ba5508da07bdad98330762f0dc664c10c13eb209c3cc78d91163013b16fe8ea81fcc677edede5164efdbfb1f423bfe8ad3c665f4f9073809968f29b6e532b8205bb0b27d33c354a48690143b2039ef5a674af4312e9dce8105985a2489d86f5de6c762ca61e0546ded129a23c3eb695fedeab0d440a868086ffed6debb92c05b4a11e6de09c431c5bff7706ba3f98332af12a46020837690e9b888567b2aeec720625f442c2b03bf3f3baf896ae37cb3fb6e53f5292f0104f6234e6ee00f0ef54aca22fbcb9ff8b19d26bcc72635a549d7ba31df450823b76d699c118c806347654a962876ede9138f81074290156338a6ca9563b96235f19079870cfdb2ab121e5c503d7df30bea46c3802902a8ef99b037e076bddce7d1cf0141dc04179cb0ae9435e80969ac6b976506e6f77c00c1f1413c6013d7d6d9941f7a92a08b6dd77877ef929760cbfe7a9d7f0f02509c8baccc5c85858aa5b6e11a7e606bca7ae1876030747e78f6f47add21af3f38a2c5531acead144e228738fe348252f1cd3bd4d5fce5849a66f29c0036195141e768af3828f7e26ec200dfb7a6e401b29885f5f5f27d399bb5d5fa262ed1833f45dca1cd9d407ae33cc09e8be675bea7521554c01ad7778f7fff5dd77e78bd6eea344fbfaa1e82224f64ecd5c015bf5af815b459e6d4f8e34d646fae2fe66c4a6e81c271aabbfb6e2880d2f0c9e619d6078d4161b668b90e3df72881a122f09a664163c09ad0efb9d646449b8c804c02d7b9c98cbe1c4083eb39dd4ffd53d18bb86fe84348fb7939f404df60df65f2f0ad480eb3c7261a0103a2e838220f2f49e67ad67d4dd2b10f17db1da6ca27fb4b5be0972507e5917831d43ca280128c737917cfb5e46223dfa3594a92ca5d0ed554d6818c2c7b9d4b726798497dc6379d9594469bf5b5b1d5432113a631ae484fcb9daf67ca32d23b42e25f1ce4e99271433f58bcb073013f54267e987fdc6401c67caa7df3df76e14e1ff9d16980092ad0bb2a03dd5b8a224afaa2dd2be0a02e133d065dda5496f6467939998186fcbcf29e51ff3886766cba9dbf7c5b8c4c03a0ac6cf96f75272f91ef92dce03235847aa4f440fe1bba663923f67800fdaa9e0d7a8a98e2b549463f1b691800d4788505384a2f0ebd52f0f76ca6bd73b6abb3caedc81c42c7456ccf0e359b2001ecf88761bb5dc601dc1e0ae1f03d4d40cc0d61bb19ba36497fb9a9f7a3b9f7de9628500828a43de762c95742d8d7600c4aa540d17671bcfa5de550ddb372443438a8233db58f9795f59c534db130bcb04340cb689b8e51626dd209cf2672dd5fcc2122ab5a2ff31d560863b0b21d51afece646dbd8baf533cada831563d98abd7ad5d0115f1bded7495eb3d662715cf5ef935cb972bec71a1b519e4864b60e33d373fe1a0d6b52f5d5bde40022cce8c302d80d69dca51d69528f9d1b089a064889da4b90fae9fc71ee8391ced4573e3af5fa66ff313506f263f7a18e1b3860949ef1c94daa5b255ccc85bf5f26384c1463eb19f582dd273ff900b2bbe15833c0ac8ce4e80762ff3268aa8e20f87c9366ae07abf1f779b636ea9a1d24504a608bd5ed71278ddd6eb9d0d7dd42fbdc96a853876a95d8bed420650e4eb92b1117a96c1c14aea158899819f3bbea0d3d83c27c30e60a128b7fda5c1c0ee24d2cd7150ba869ddf12114d0777e02c6945d7eaca853264a79d3bdb06bccb1059adc2ea137c3889848cbf67a48a802babfb6ff135e9a58bf59360a1deb9c9631eea991461df2536952cdc56c8ad6b36ffabef21eb022f6d1f811a8552ff1066106b3450742aa32e9a22f6d72fc4f6dfa0186a2ad6dfb77ff703160edc58577814017ea523f09bccbe1b88e07a6f12dca6aed3132d998a24b8c215ec29949bbfb0a2fe4db094123867770c8eca5742eda52c8812592e03686453aa8e00bfdf5533e5a707e3264a8093c64777d874947ae0ad293b186c2ec9e2dee8aacebbe5a1c64867bd45d39fb2378182527327c40efd6afcf123e7b059839e7fbf71082aad98b2ef8d4614d00e7c629c4b2e975798e7b954ec53ba6185e6a3a5f40e44c49d27e0308becf4a958ee908b7975d48863bf2a03c13bcc70812c09d02fd131f077e9234d80584441838b840bb6d826edcc7f9d8a8fd88978a92a3634eeb9c86526f9770fa24704af06c3e7f40e23b65b85273bfefb9efb21e3ef5d9611a3a60ef145a7a25ab83a1f4989f2361dfcb3132fdad20482b102a09037910a6cf92d483cea998e37776d871782ffca806b168e1c41c3370447230bd4a2d6eaa1a13ed429cc969a622358fc57c1fbfce0d5b6de94d9c22813bfc9cb26ef66b099439d8899f633435386380f2bc7e70f157df8a96dfdff887a84cf2159d2733e6042f8102ddf98c2997317a4907f798905d850a612984e543bb91778d8a382cf3357b7b2fd1e186f21c03f3307f36c9315c584c96affdac70c32ab8edb306b4980510ce36eeb27e63447033854bec383f31d1ac52a7a47aa1d2cc3876743265a9b0053e0042f2bd1581137fa6c2d61f3be9fea2e857a73e47ffe81efbe35518e7c69f5278287be7ef145fc06ab8f160b03c68f09d989f7f8134f9cf9f9080431dd5511e77e4b4d7f4280b63b17ae999b6381474c232d475841397abebb1a0fe2007b44405c478f353736b50267c23396109a368c395b55a58375288e2afae1c4b0500c96171a3b45662d633fc9fb8bf27f560a006b64107f9c856bec5afac8f46b0552a184ab184b7d6e220c7cb7ae4f6fd4a5fb664a6dfbd284ae28636532d2cd523bef1c1059bb08465b28d4ffcfbb5c8fff23526201707c1a0e92ce81b1ec68f0cf246a17751a2e9bd3fc856a0d845a837f7eaf211d03f1fb8876d32a83f5b828edf04894a25ff91831125cb6cc1a2412ac1d4e9f4aa4a9facb3368c10b5eb09e97172205038e5ea8f1468af24ec69257eaf15cc33d1ba047cfd3888ef58a36c0d43b436986ea9d34c46149f7195abfe9ecade1f18a3a2b2d61bb68aebae7455b6297c6236881a83a91a827c9fc6cb0baeaef982c1edcbec6b8118902d4e959943ef0b00dbcd0e7e187e3574217d99f6fd620e469d32493dc774cf29133495b7b9da094597e6d72a5497cb3f51e31e023e6c3a426c843c86220823e59bc3f48d8fd8234c0bbc6f3910e1ca7cd68eb5e65e390df8b13b9c3cc1fd2644ec373664cf4f3ca3adc9b8c2f98a2e19e4d52e5495ba1f4452e30681a9b4ba72117a882f4073ce3e775cf72543c85f1902b573d9fce57590d240ac24c6b18a26c26795abea0235df72eb424bfa2705fe9fa3ce64a72b51bdf6a5b27bda609110ec7e418bb380d715a13d67fefe1c49e2aa91e5155d9d45bf09510e7f4c26c2cde7ee620b7d152506c6b16c1443b653c81537b295e99f0c92653ce6b0eb3562f7abd06e51b0a7da679c74f9cc29781a49929e287e7fcffdbd4c3705196624b9546a85560ccd36a9470fd399552b22d9df6a85fe92b298733ddeb5677b3d70b8fa0ed772283f44f553d95424a1bcfa42736c080c4735933b65a684cdb6d21de9f3d71491cf2e8e44855f6f8112977544b53f646c20c91a32598c9ac6e7c6f1e1cb8c9683e9313c0ddb4230fb095c3588f6d56bf21d13769b241ca18ebe9c8f627eb875328cf91453f3e7641b0531178638072fbf665970746304c9becc47e44cc541223d36379d982560c45c0753144fa3f1b46d719222f85c2f0cf746f6ace60c3886a314bbbc5bb1fe9dfbd10694d465f000e36b20a8b4d554f62f6567df0f989cbb4dd62bed99f2e4c14022c2c9b5744f64b857cf18daaced35790e47f826e81a9faf302ef1489c39e2402794cf6ee64bd16190fc6bf9ef7b2eef5a9c8a6a886e31984bfec843d06237655f43a95a0b2396978bf6ffbfb954019a14885464d73647867c5ba5c412790b5ae4611f71e463ce35ecbae7268f24e737fca46808950b77cad8590a3d78a068adb9236b209e58e2616dd43eac60eff410efe2861d851d6d0125ccc20f53476cb1c2237e4033986766fd799e68364e27b2f38f66af8f304823f76467a5afa61b68091bb377cbdacd597d38918534945566a32eea5b4c0f821da5e4324e5b7a66843b08fa627a5eb8dd05155954674d8c0e764bcb492820ff3304a2115307a050ebeac7c3ab0259a08ffc0cd7e7879250361e55fe4d7ea3723fc5eed2bdcd05a82d1b8b6b8e19d116dc90c0b575e830c5b7f90d8dfe3c8f9958e2d9102c0051a79956035dfb7ac3fba921b258a07c8a1337e3a0619521768029eb4ba8d3400eda7f1c518ef1b10fefb1608ec682b069e5bbc1a2c210c3ce8399f36aea7844bc92cfc0f3a05c89001a4a3aa9b9e417d14d0fdd7a148f139ba5bdf0a9dfea83b656585432b2819d3395ddd32ce6148f30ca21af151da155cd4f818be0e06b506b0a9c206a44a292778ee78700d84f193c17437924bb7b38d9be0fe5949dcd002564a8ef24cd5970307933dfc6e528adda029927f3148be9fa5f511b4ff6b6668f7a8ac10ace13afa454b4245b8a7e74f0bfaccb114fa1024170117ff403607b00bff8387698dade78ae022a3d421621a2711dfd647f74aa9f9188c703e91fbb5f7b38686f61d86ff97b34ea3d8c8fbf404168f6923d0024fe1a5f43667b330836ffe12da592eb8acaa72e6fd1b6f3582dca9204a45beffd55c47685ab0eaf8e80e378bdd52d5de2703740a4a87ebb29f130a197784a4a038e83a0310daa4ab2a84b64885ca901d3e8462e08dc9a8df355a2ae9c342f41512a51b68f7953380bae42e4271c52f07a19241aa7efb2c9faecef71a856bddf84d92827141e531aeda698cd222785dc0590db1bdd00c5e438179394bc674c2ad0631e273669ec5995049572c6d863de8825e600932f436cfa81da28b90a77ee294c6db9be225679bfb0460fbb7d39f3ee3bcf6b49e293436522b597d044d023c85eebd4f08a2795862e09db3f7b09f32f8638497c81054ade8b0db55d9fcd79d7a1ff2fa0c8bf225d09e83dd8f1856e11c2ae4f38cc97e68b24e3f212285c1b00b88c48236a67ade30f9ab6211900b4505b63dd1ba10651a57cc5b0b663345a93ce81a32ffef00adbdb81b81da7134b02b12e2b9bae987ec982c69590b882d85b37e1f636cce6656fe6d7992cd9493cda62c3eb50b9b85e88b056cbf59f8c33d20f7bf202c09d0447ef7348c521f1617ceb0e2dd7c122164c085bbd5a8b912969fbc2df94458a34d82942ddde8a8129043b7d3346ef72968baa250c77dbafc0bada2b851ee1a2ca52571d4543b9d862600094216e170c63ae94ff15308df3b2b8a73da402c554f3d4c2522115b2950868b932bb712d62f41cab692a457d2bcd4be0356a545a66f6672d4b8f675e59f55fe2b59597c702bccffaaa3cf0409371321ece9ffb8699b94bd459c349866976103d94577486dd0aab0344cc9bd1c4e8e9cb3301a8b13599b13bba6d73e298cc68ccf52a015b79d1e1ff2871d9b561005e57671c08ddc51cd990758516821322f6dc083fc4def56fe7210123ea0da1db6457fc53796d38d2883559c99c536f543bfcbe96600ed3e0dfba473004cff3f71f1e5849f606fd67686e2fdd2e9a63b9c61617c801fd54a9013f5f4e31ceb03e23ce36544b1beb703a28b87abf020ee492839fa2c52eb28b04262d202fc417be3ee1b0dfb7193a80c99b57004b0594c3cbd4fccff267982942d5b6c2ba1b802e9682b6d41e4f62179f5225f4f30eb453fa19a6a6a9b9e4536334df1e358b5b370bd783292d7b9e5780f5e32fa10c6e2c7203f83b081e281e2fb0866fc7f02e82148549a58fd0280ebaecb3acdac12249e868d14fa6b7e65c011f490e063346a63593e735df90b9b11d5d7cedc6811ca66a5c103b8130e980c11d5fd3260d9d44b825ca1866bf9ac8e4cf6608b1a56f84c52820472148c2b3b74210f617543555c22588fbaf03c69d8911f5e5eb4d730f2b93cb1873e28333239d62e154f8471e940b752ad3ef1fe8f9407ffd1e08ecec769c620f2e2c4ebe70a6156bd7b7376f16da2dbea0760084a4c18275300cdd50a1dc6203dbc6db91486324a613b3dbdd8d01807a28b0c2cf00140373c93d1a73dfdac266220927616c305b300b423e46e6f20c722df6a67be23b0e79989a1f4962d545b2f56614612b1af34e91c19bbdd5109e71fe88fd9d006a23d10fb21ceebbc50c3ea90575e54666e5ba66a492ff56fd2d08f2b7f07576fc70c8c0fc19a3590be10835c659430fc5e56f834a208df3f5556eddb3ac8ab82a40e9435e431495c5c694b165239cb60ec856833ec0a7fc646dfb0715cdb1355e5a27509ca1f8f3782bcbc67146ccda167a40d025725ed3c14a023522b38aecb37f758250efeeee34153b1e333a322c8d09f008072a0669db75200ccc3f7f9383e4094503427bb9938b5ededc73301ebd38c1fe467e6a435a4c1c23729ea8473fad313d9b957c481a1622279feea7a62991209ab33d06e217bbf96d13a3ec4c44628d758a8ffcdbfee5230e2b25e2cfea99cb61bf0ac86389a7d3ab9b994fca3aa7dee66e56ea0231188a3302e1c8e10006ad3fc41d802dbd6091e71c5da08eef987306ed0ce9281fa84841a8b4aa084edeea3bf1ca7641194a25a49963320bf9eb6592c9278c1ab330fd1a9fe9cc41346afe2c6940d3d62ddebe2180148272d6ee7633d07fbcefc384d67da41d04c133813adf4e17945c2b7727f69eb3df3c8e36474dfd452bfbe4fa2aa90092fa7b07417a7b3b9f31d71320596ed3f549a95ea900b77006050502b3db8c3cedf585519747a5817fd314aee1c4100226259e3744d97b8fc7b150979e0c3ae8dedd365dbb9e3e81645ebbf6d9ff2e804a5fc3cbdeddb05de96a7340ef03dc1aa78f370bdbeeee26d735c4b242cec7c475c0a206fe77e6d6929cb3df47c807ed48606e23c628ccdee707519fc5573c511f1e1be681052014e26e70d6126560bd063fd290e1f41ab57a508aef29f6a9c56354889af561a00f54f97bbaf71c059727430c2b99dfa894d57f7ec8700ced0ef6c93ce917bc25e0df558b72739207c47695b10b543a6bca914570694f67bbc17d3e60452e18e7b9ffd457afe2aae3c4967ff6d8dda0c4c1edbdc07f3a37a5f45f2c4938212f28148ffa7d6cdba812a9ed39fc0b8919a0152c6eddcaae7691ca67f7b2ffa4e25b5bd00a1f0acccea16d1c6460b5a1abcd794147d04e52bcdb2964b03f15ac86190708c219d669dfb71c269eaa47f939d451e5995feff4d9dc4a2414d45b603a37320992218c0a3042b10762ccef895dd895519397072959fc414feb89bdc315edd538308a2f7aeb2eafcab80251a18417b0acef2b47d18e06b792644e3a92d9c0dbc89da575f0506de20ae8f919d9395aaa8bd5a6a4eea4653de442e94ae7be2dad72031c911dcde660e5a367cae292c9adda97600b04c96719bdb2fa02ea4f479d9ea811615ab57b7157ee14ae4f4280f625af500f18d46b4396e44b22b709eab1b29a919c06ab3d6fee8348c86e16f8d5fee8ad3b3c799088204b97074ee57a72150b579b22c220cbd65695ab4f0f2ae41bcdb06699da1a6763bb3dbba72a950b7c7c645dc310ca8e2da427ec1ade30ac20e912d80c5e68a0743c9cf455d39e969eb36f103dc4360441812725c0525d60233a74e529de8ab57d3824307ce6ddb1f4a6ae1658d02bde345742c53b57ffce44880db74087742249216f64fd74276757a4d39a7878a2a96b595d3c41e7dd11ccd99004847cd94daf3945dc2965588a188b8dd569b5cd695f21db01ff744f4125d72953b561c590c9047c4bcac96cff4e388891b11b77cd91eac87e1b8aa61905b19150502011b072793756a516bd0c706945cd264f48cef6ee3322d029c84b778a07d205776738c327c2d5414fa52c44eb0ad7eee656f6868978d63823eeb82eb34c36db71248e44e7e4a4cd4748ad2993b5284a0cb0f82b96c9e669ee3158579d52a3d342f2a5a60677661a59cc6b2144e30c47f5b9f97d79b7e8d935733ddcb34830bcd96bbe4be84b6c757bb7d0afe829fe11ad8fce465319e4f36a94f1bdb8c238c74c7b61d2e7d78d2582b01a37cd4728bc9f334e1c0203334987cb33ae274d85dcff8ad7b1140497c2a269579731f34c9d3a63677a05da612e629d7d2116bf692f10f654b7b6f1fa8e00e5e6056acc88fe5cfa71c79c02de01f7214ba045db7547d9953a665fae534a7ad8b31dc405ea2a7f62224b36b55b3b9a7b61cee8b2e3ed3a979cf5e00e9bd9a4c2443e5f1c70ad8dfddd7386921046460692f59225c9d66a48506b829e6ad2fa6fc8ce38846a1d3d8ea2b455859c16506368ae58d709a6d313e44e2eca383a375805b8877d854b0e2033025846f00d6a48769581dda5935a3a4b62b16dd71e2808b540cc84bf173673b9b2c0c3a43dddd45ccc65ac62603758e3c363d97e41356ef9939b620f4a5cf93c8a1bfb1551db1dcc152ae0e424c5b750ed5dec3679b3671f14f3ecb77c4ab5a846a6ca2768822e263be25dda088b0909da3b8307e30ca28d9826efc30c509ab68f65929f5bce0ce7bb18c36ca3d000319426a8c485537de0ddb9c84ac14f9fe3d2955f72d7da64190e1077591deef945e9d79ad96314ec094d1766aa2cea28967e85195cd039bd4027665783eb1c62cc4bb7ad875e3e45eeb4a5069d9b73b65438d800df2784c1921094d65b19f615a19c7c104f5fbf127b6a05f3461ddd6e3a628d21349efb2686e789e2601d3a4679f45119d2239f76f04c7812a186d8f25a0d48561a562b70ac8e968f6d52567fb5ea57487ada823870366928e0e14149e31fc368baf7cd463c89c4c40f12460866d6c0da307fea62a3de81363dbba72fd6cb559f91b310d038c1d874c814aacc1ea1e7642bf259f54f8c1ab609ffcd02b4d0f0c1074c3f9012f5e97b880dd7e0aa8710dea52486995f19c99318dfcd46c58a111eb842da6e4f470ff06874372c325c8ec4a2676d6daf6de4495a778ae34dadcdb5a52e75080e8cd8aa1b78009940341d51f7881edb0d0e9907cfd16e628b1118920d5639af7ff6249a8103243a7fc02f1eab28835ca15d84bf83ac55f1aca966436b9b2a2421fd6444ae87c75f31f1891eb738e0a16bc5ccf189183b2a4b115b5230a1aee0f51137504d651ead9142eb5b49a5572f50c379fd907e0d3a26c6420a6ae63a91fd7d9d6fa8b264e080e584114063629e0ab1024ba952e63081158a4a4d64616a11df849d838966b16ba5bf02e19f5d9e2b6dfdaa15743aafbcc0134cb2dafa504a4bc6679c9c4781a2a7fd646b563f4c4321ddba70ef243f94de2289728da193d288e3748ddbf4df10b26df71f8aa5d7e96dadcb157cfad9d990a77134392ccfbaa8932eac1425d3735e512e4972a9b34a3ee6a7400dfa9393dc7b28f0a94910650dd5eccbffd3403ebdc489ee6800005c167f46768c59b967a13d0e90576499416ea199aa101d6767d205ca8f47e2eea91cb12c7f2dbdf388420c39e0cf5527c7d885b555b93d28014970bd7ab50f01e904bd488b78d20f065ebbffa1a62023b5bc07d2e246c1bd1cd5cfc728fad9c805e13c07c525fe5b144a65b2f8b8815a451c6bfe0a77fcc06b9b910b00652e57b5cb200ec9406471645dbecd0daeac1ee1cf17d29baeffeaef1764ea19aff0cfe28aefe88f8a8dcc3a8456fb87d2c30ee9d69df6284e69ca5641e9c4fd5af8e382a39d650dc66cbcd0c79e82612903616baa51147b6287888b850d1b0512285c321486fee1ebdf5413b45054dcacd7cd2da842661c2175caccedd0d0d906eec5301bc8492baada8360c4879a4c64950bdc30f174fd39e0759b90d28827bd8f7b82368314bac10ea8f8cd161167c145119626dcc0fbbd2652d34fadd74667c285a13f30c34ae4d181d40ba240d5bad34ef62bbf32f8de1609e432b3b5daef82a4f850aa417e63bc4b7f032533d237317361ef68a40e764e7d1d7d7d5cbe9461c6b79edd8c256e71db2add102d448b37d1ff12331e36015bcb4ffae248aaae26d2ccdbbf7fe151f361ad6268410a52df9c3014c77fd5d919c339252934d8c6cc474b43fb7025ae36d8486116428209195f4347140f15dc1f85695594ef793c86f8240df740b58f8ec985d7d4296aa848ed372f4cd131831bd54c8f32b09c75bf0dec2ba51799a66ba57a47e10b25c5efa617de9fcab6cab4cd55748ee12fea7f0a1c845939b5ebb83ce84ff2074e2f01a8e03309df366d44862726f65568ab25c68d7c29305cda11a0923f1d7464230f650f2c766965c0b54d47d310a2099162326c68fa23f13bc10ce7e6bf5ae3b8982d01866ebe7e9b769142592d82d5ce6544a75710a8dc0cf5037391e3d8ca9c3ef12e5002b4a44f9cef7de998a80dcfaa2f57ac89ee968a115aa66639aa085657eb167e5eeb0a4e951169fa76e686c4eba30429cb66cd956b12208f5ce0975811187a64cc0c5abf5bf9afc578f437c4ebe2569dc6673760663ee6d3e59fd53a5943ab05de1e22db33e4e550af45603bc533f27ddf97cdbfa0b0c2ca6bd2cf0505c1c5a9b9f5e9c540f442b3a4210fc0fa02d43fcf6d2ebe4e9c3c881faccaf56dd886457c7fdf7f692db219943607a739b125770f695a2581372eb3eff50274330eb5ab05fadb60bdb3d45f4540012baf632417224ae4133d5cf74e1388915fcb6d4655f22c41ff8cdea7e4284a87138985935dc034a313fc165f0b2a790a7f585202a13000de34c3d3e2efb09a92b2c18e1b640fcdc4c67aebeb85e86656dde078dd524dbe0053e1c2a6edc0f27ad22356236467173dcf5a3ebbb701885737636abb55d780899ae312e1cdf70c72dcd88f754ec6fbca644034a528870f7d47110205027350adcd36335790693457c821cd7b5f089535a3497b190a314ff4d34f39df1b9cac2d87d5923321f437e85612f46fb704faac0bbe98b4bb5a84451548771b6eda36d962120888cb579a28f77a22e3b80c92155d9941fb479e6b464e4724497ee714c08eaf708e1f22f8904579ce2b8d48d7025f731fb3766b0ac4b71885b70559093e497de674a7657783bc5b347c452f554c971b9f4fc85737f407353e4acc5e66f2cc92352fb7b7b3dc403cb1bc0c444b8db48539f4fc100327c6562865c5ebc9c25a93f5ea33125e03c9ff01d6f5052bffe3b77b3aa56379adb53713ea41d1b3767c7275c9300df35b231503d14915dad4f484efa7e522e8129e670448a1c8fde787b360150f0b4108b6cd0d54241fd3e046801a391208d6038a0249977044ff5e09ad33955b65ec90fd476dcbc0cfd3178306344d1581c27398aa982208dcd469b583d931c6067f6fa4f0ca0698226b6a90f1ab7d30c3fccdf9239a8c2212b09bacd7488b130bd0a1d292c7a3a098bcce77114cc9f000adf0163b93ac9c037d8eae1e3908ab0f49609b14f0e13c537ede002e978062cd5e2a6e0b701aaf735bf1bf2c1759459c24d7a892e5290e8d8bd505fdb90c4e201cfa0156ea507053a2446dbe7f9a27ccc6da51b032a9ed544803c809348bd8516b128013d664c07e0dbc1887bb7b9d798865d452ca82170f813ab1ce65f5cdf93f21fb83389a5d65077bd8cf23afcf6d92e4480bda3ddf9751ec4a31999abd87a50d9f510b409846734c1733f5326d7f3fe3fbbaa2834f0becb2c1ffa4dba7ed97f56bcffee472af85a298ead8a6c847bf29389c78cdc26975c9199943488b0207e5bad1e950e8ab62035a05135c29c52bb01e8180b3a8b995ba2505f8ac5fb8c5c6328f5acebe39051abbce3a26cbda5027432bc7d355bd623155c9b302a2b11ebade33fa7f91be6088cd0ba3f67813db7c95d1a0540e3bb5db3562d574f9affc288f585aea68016d9881e88967b43d87afb5780512282327f0737982e7564e8841c3b6feab52a208c7a7fd48f9f873cf70e4eb572db95f027c75c197b7484da1e280b28ff6cd8b78f0ee781c8876a8711fd44bcd7409e8e98a1123cbe10635e77b5677c8a41f63046a22d49f646b35e5f5bf732c87aa23ac88961fe6803dd820d55385a8584716c07a776f7e2a863e39ae2b01385369cf14e62ff73c80107135b8d1bca6896c0331fcc3f60cda4d31c505de6978a3a8f6817f7ed87186691dde5b19917dae2b8af96c29c0ec74d11dc026e4348f0ba5ae5fe2787e923c49a3f8f0b8d2466bf3268fcba14c896389006d1f432ac758bd0f397915024a584051efeb560ecbd62e6be94674cd3a34bdf7e2eca8e9897cbd65bec47be30ffda88e470e0513702698e72ca16ec268b0138d72b722b49cf7bf7398bacd3299606031dc01668f00b5808bc20f36b01c216ff00461a5ee74ae8ddc59e4a130f97813c4d8d756dfad3488076baa21086a16842d6584065dda7cf4b36588af6d85c3d5c842975437f88b363aa5d7a5cef925050dae186678aa7558fef806277a384bd0fca3897f7461308bd452072bdbf91247a27665525a60a25df0a10d1407f59170903498534228687ecb4f5753106909f6e1efb647c541caea9070b8508622c1d7d0865e4dac972a63370a8c82e8ffd4688697491999476e564ec36ae3b761c8c737429c1314bc26595c50a752faf3945eee269be05ad73ff77aab0f7977c26e97f59f403433265ef99ab8e0e2b2a6a3d2b70a3c05f3192b13b46ecb37e8a262e99b2a0a1944ea6c5ea1775de99eb7fe978a2a953b6b2e2641885ab3f0d638a99b99f676561e495e11545888c85be9b3504e4f56d6fe7aec36163a951ad700d32f9502a0d0e6c7e4ed7b961a5f7f09d15a9e066e02d731d3bbcd67e8372059b4188ff2a1b96b07a7074f8ba7abcda479ca72c191da177c74b21a54b1499706f39ed5d8dbcaeb8d62e6ff9f7c75f5f6d4582ae85cf6b798734b88d95b3312e2a286a0ac9af6428671eff246d510f44c2f9e1e372bbfaa8df828b130c6f7b25f7525f427d52e6691aeebcdabba06481a0a26446017d7ed21c9353164a2d3e24ce035ac67576d17c1a40f2668e324fbbe9541a139f5d24439c7e5f80da30cb2da095972d0973db9b9daf6ab1e62d0059c0f430cfd75b122ce58ad881413eb264dc61defbf5f2b2b1be623057887b8c13a85609caef7a7f3c9bb3aaf647f10e6c3a67aab4564b1dbbad9b72e005ccbd57394e28801d4fa72aa5b1738210cc7d9cd391f81cf14c840fdd64a9d4833ce5d0c9750a60520dcb605df4c55ca3956f70a3391901ef6fbd89b6559fd4554feaa30a2504280726943448de3d7691b8bfc297a477776b0e3ca02e3bb3db9ba3f9aa3d0784f153c1f93601b44afb54f60aaf338f2d271e5341be26fbd460d1f08e1f06fac10500ed228c17c79c8463e0b1e1ace61a463f5d92ac429927865e8a86726c9b32e84d7c5f24100fc12c39a6e5ab270bd39db600141483044235e7eaf73374b30bf528077fbc248028d161a0fafab54ea63737226077c22b6d94b71a05dbf3772f1473bee2400e2522b5b1a45b4537e35849530f65ad0b254acb0eb8ea49255d545309e543c2679477cc57b6d713a8714e565abb2ce2dad6a524edb11487d175d936293298525bb6f3503c8c391ce4af0627ab09dddb3084591cc0ea7eafd230867db46c05971301a5b26bd99bf3db6991c25d26b75c2014396be8972f317a0544564027e157e9a0e20fad76bc4d5ab0104355710bc98046e9667ee922457c23ecb8c09c140e98bb175422fa9c60d183d857048f480b0fc94c6b590cbfbfe1908a554c510cf203cea466551d3a0900ade15ca197204dde0f64edf7bccf7ee35d785036c32987a03af704c0d9b0110cd43f0209e19599450b8c5fca3d94a0ccfc2c4fbe24a2bcd6127a7e385ef6bd6c26dbc35cc55f036fcd8f40e32a30a5bb74888846e9d1e7cc438015f262a5cdfa507b1c48e32b2ede16b1081c864e460b706be2e103f1da743cf5932a714b871a2fa63267e0e5159674c906cfc42de759f7de520a1621606602463df2a8b26982871b3797f19534087e2a7771c9b93a1cf37985e7b43e3c95d82f133bf40f660d7c6449d3437267cedfecf596112d3eadeecc4039900391ed3d85397efdb955be174f3ba1611c7c02f2e426b84114c2377d12080e6733a2f08c77ec642b93b0ca09bdbeb810329503584898430724ac36379b70f5f15139eca8df8b3e7641a3d26dbb341985ff8fae92ef7763b072dcb5c5a871c874598a0d83c62489dcb3d2c0eb5912e9d94f7a8dcc2dc474d389c0d316b22f3aeb1ce6de57df384e02d1c2aee2d6d07306f99a5bac8dd5c9b3ca20d00aba1dd9bc4d1bd8293a36e6ed3a9e242c34f94f58381547a6cad0f33c1c41e61f106c8f25979f9da986f66e88167df14a6753f089c4155ecbda02e783ffa83c91a6892188f2b6bfc52f1a690e2409043ff3701aecebb584198bb25a6ead0308710acf2fd25c795564825f4d6837f03c3224bc33f8261906b68a1893d28feb1a967e1ac9aae10b43f63ebb26097bd7a78dd48832bf528deb84637f23f2456b74d84d1539f6b2b387eca44d2385a2eb16298906aebc50ba4e570277ab678103e01a6978038b3deb4c10e0c4b5f0b9e235a3f8590f17655aaab5258d2f5a07fca6e96e95f528d694adf7f48e31ec0d3604b410c4248248248ac5be1a3874a4cdd46ca413264d2ea2d00eafa38c1cbf7b45ac7cb588ab5c9315df780a2a0cfb15280aba65fe3f806f4475ecb0453c896ff490d8d4867a714d3ac8ceb6436d14e88664f5920cce5361e8fb96ee852acd19706a3b76f785b5497594f0e736b3e500215c86f2c31bcb36f18ad2b93b28b76323468fe2546409b2b54971b49c23790bea5d78d44b19fc7882f29ea6c4fafd79ba6ec8967440d10a4e733511484fd065b5268669d1bee8ea5eea5ea2715c36f4469628e4bc0bedb7a454e51f3649d83bd68785ef1bd6b5f25d68be0bd32ffc11bf67f9bd121cf4ecca4c17a0e01b5eaa2b5d9e3766bf5f61167626fd20265865eb527e818d82e68f9396024f2356856f4c143f5d62d558c339973ea942d12dd6d4cdc7612e55c70576ce8fa72541ee80f635a006048d3e0e8ae9ea2d430436b7e01d242b01685097ed13b1b8ef3a4ac9723431356131be472074ecff7fbb7901e31e17cfa9312b4853d471b29ffd97451c8a154edbb6efeea9f8744eeca2e2983ecc0f82c525b715e32d3362b7e8ce6d566db92bb3d6cda47e7844ce2ac44e82efdc6b38f3b98c80355cee812e08a08866587da59b69bcd001cec108152b7d6e1ba3a0d054edf26bf1d96ea8c65535a637c818b0bbc3cf47bae7fcdab6e089bfd966dfee5d3817186a1ae823a6b3414e01a8bcafb09d1f847e0d0c716e8bb2c21eda358d3674f38845f9adb0ac021ed81e45f32b565dc2e166cff6c3d6c370a00936acad01fbd8314a701d55a4823bf800d3945b16f96924dcc88b80d895880e0530152929a45cc5e08a6b8c285fd99d3d36a8b48784531a14458ed23215f16cfac7b88954be97bd8ebc5553131423eba82281c789c48b332719be683c788932546fa5cf70d48754f4ce1de55a83ae711b64d2aed9f3089378a452a1c90ab3aa859b7da3b08f2ca745d0b4a58548748b82d700ce6fd4f4c803a7a9768a378262149efb007f507142f555f5be65c20c6631b14ade5c2858e19bc7e0036620826411e6141020cd2837e31bbbcd6b88e361353fa7f3080aa05f8b9240b0d99e595814b9f2c97ef5c0d6b7e7e1749da700e5864b098ea675b13b2a9981348fb4b51dee9f273ccfcb1bf2ea89f89f9bec72af5c9af4e185f5468f852134401ced595a14e637bc86b1c41530e9613e8b9475faae16fbbe259487ba91663c4eaed1f4ebe00b10e0b4f6d2bba35372b4778387ab31f214bf89cc2eb3361c0c6a389d02377fc9f4509bda75ac7a29912ade0eecd4f2b44e872ade7591f6b46c1fbd3c10cad601fb249713a17a3a1e2ed906654653eea9079b6a482982b945d009768d8a873aa9beb3ee700ff686db4763be293d9d80e12cd5afb8be7e288e5a9b3aef180ebe6fce18ac7bf2d2e638c76a99bf05a1fe7b736ed9ffff37abad533a725fb8000fd049e803b99dd405bd8bc39db5c16faa4165ac414730a1ee2c99c4baf6d120a31903ad2ce8c8e07f3f396dac1c28f550cc95e6b420bcc682254cf5e3af3229908e600dd2ac430e8d1e12822e446f0a496b7223ce0cd98e056571d74e729b8130c87eda5f9df1bd3bd4072214adbe677b63904bcff5b6ce427f6668c38d9374d5b9bffb15ba5e52c7343bd6443e9139222e43a8a2f02c72e8ee86c913ffa10da9bf338791fe6a8750e8c78d8bad5c8cb9481ff38d33c94a50f67897aa7531899649f354db54e2e84e6cfe2266619c9b3135d9bf1de0e6422b0e7576a730330d776979f40912aab9ba9b0dcfa9000a686c9b6fb0eec23ae9d726d1199257305b48b780746c3b03fab5c73402a3db4c735ba211c08fbe2a1231a984f56035befb5a088d23ffe98ff91e854a08ede2fd202031fb9d1a73e1e6f25e20dde53576041de41f2e778d48cc74d6bc773827659f6e69d8d38d78c24268cbbe5bc64c08287a29e323174c6dcf2ac30d9023f13e455088fdbc0b82a7c9665812dd12639f7b645f792d8996b3170fc47c6b8dc63fc79c209e6f4e3225f2f854a63fceb479573537400d646499877b44d93d341107c52feeb94acabba23af4f583a9cc582545fe71b7f4f6c8a297422f76699ed12b610406971722c161b9223fb21b7227fac584241fbf13e3ba52da3a3923a9f61128830fd184d626e06c30ca82cc3dbfa0d6f2bc1ce566518612f463f0acc46fa5fef246e5bbf6776b2f7a6afd563dc5aa8cfb07570564d9b3e873b85c093f00ed394875ddbc0e1f388c09aa939553d5d15e49ee8d4abc2c5b1ceb80dee8b800c9fc1cdb2aef559fef3fb2b72b1231781777cda0ab6f56599421335c1d87cf0557fb03be5e8e5d6b8724937372a22eda55d4e1a94e5bc2f7b0d9d6cf7c4ad72f23d4f040b4d883214ad00d2fcc93860029f7a52b2275ad37ce1d22a508175882faf9d785f71f45ed3fa86ec02bf541a61dcd4408718e3be0f8202a68ea985d32a52cb8a663fcd8d06d64959b482f646d05f9dbe0d9b3e551cc6eb8523793592ba4d8e211457f83ac9042f9651b9ee429c6597fe21f048af4b6e14675676801d7c46b5e51e5012ef0be84de24c05a9409c247c8bd540a31a2de8daa167e95b4889e1ba5b268bc1b9fdfea2c53f2de3f9d68a0d85421700ce68ad03067826671b2220652d336a2da7d547cfffc35e1b47eadc1d9f213a367916877dd4f9cd17b362ed3b888a3e18ff4f91201d91c5a3102ea7084d56347f804679f02c9be97e8ebe3e72a2352feb7e305c8757c08a31b4b778fb9e4ac85f1f4b4e1dea299667687d894aabeef6ccec7dbfd69f48150b9b253d1cd636cb784f062e526121187fc55e5dd361be993c3faf207deda4f12834c80fd7e6becf45b89bed65f2793296829f7686c1e546db6ad549fb61b62d51c4d7bf55728215d7a01306768d287b55c063b1f3d067c38601e30ec242b49832303eb347ce5494cb233dc37cb1cb49014f795604e290972f14569272ccec3aea73caf8a67f1b0c648b49805ff90776e38d7681da8b9ad1b19b0c9d4dc66c47aeb3e9acfe5791dce438a0ffeca889de84ec469580771ff851a0d6d8834811f55fd9d0c3899e02e36a795c01e8faadcea83ea99a77df654ef54ec93d0c832ad034a2144f1786d65da81be88684838c6ffb71fa36b7e6eacd51aad343cef09da1ca69037203a9f2c962c48c1b3b020221ca4d750ff728245f1a1f560a638e5b27c425ce9e7244e7133e9ce777d12959e8bbf555a2f843f0dc94a18ec05a11a75ca93c62c53a3b08edb835261d30de96dc363917b7cf0fc22a97832d251ee263aad66dc2caac48e8f1f1d3bb9678db9acebaeffef5fdcee84f039e1d5e4734137dd0555e765724760179253f1bd500375dc3878c08618ee4ddcaa2687bcb26e59cf91dfde9e114a172f9071c8aa8ad4fe86b57b5b9d53894a35f8b2f2200bd3feade590c1ae39d1b84e306cce1e9757b1a3bef15d341a576c2c183007f547bb1aeab5e736b4a8dd15ada76a0bf8a9d57e5933773b48e1f44c76a93c5913a659a43759b041d5bbe9ba22b8cf3dd6433fe5178bee577149f503e40e99910ae725647252b02d7e5cae267222030314f1f59f5c29a47db65eb234d08b5254a5b7f057989ce766094c46a1385b9dc1be5a14e7158a27f26289c6bcbeb4ead5f95d9aa5cbbd296a35f17a89c462c6188e31ec952696c57c260e966d792edc10ab02ad4cf5ff17b4f8d66ab701d98579aff5722f4f07de078d45747f6c488e3522ac00fa32e19b441595f40c8a2c9dd73b31413e3198ccb3edb3fd70b084e6a114294fc6d77c8a4bcc540b2558da25bcf582b47bc084c6b83e9258869ad7e396d20bb5639a06aeba4c350ad6137fc1a4a1fedbae64786aa9df6474e45dd2bf71c119a1a30fab277d134df530e4b3583fb29e4196d9d7bba01d7c3970fcae7a4f308f80d23cd5426cb3d54fc52168237781665876ce7103c110b7e39d50ce80fbb5ba32453de61f76b1ddc33e82027df545e300a5104389dedefa3713a3eee214ad9b1346554c63d7a4d21ad2a54c8a9d3689f9782efde6595283d92d1c77730f30ff0cf16a316c0956a6e1ca9fce3caa0b2743f04bf917e2c6ad11add58804f7425134b0484a3eaf7f9df5fb91a5bd8b8d554055bb0ffc5c36b7556426a90f0dcd3f285f66aef85f1a8fe81ebcb2beaad4991c070eb270edb452d976ff09b8877d2e50b9a75d117570158a5e9423d82b2f8bd0d05c7806f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
