<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"da0018bf41a3fd13ac482c539f5cae956e524ca352db9cae63f56d1283e20403ee14012994271811fabc2129d282cc5f51cb7b5179f92eddff74d77dac62e41537b0ce060c4417171c32363033ec0afc07de27ebce8b4ce5b2e0d29bcdda8cdc52bc9d0b20926c9f3d06ffdd3a456ac62cb7cadd2e11a1f8649f36a728d6a897096a6f0aa9ba5ed504a8a3546ef300f4ea67b9cdb9e3d1d1f80f6a9b2d0d9deb5696f70e9c113b54f2318809206f0918eed0070a345753ef8ceba8c0d138d7454036f0dacb43fc594e49ea3df91b7bc2ed339bd6c580797deabf6b09fd300bdd94b55a8217f1c755382e666c02ad7ab94f6938d773f7eab1108e428947d3eea66cb319fe2d2b1f2b4ebbbc1edf275a5c58f5f213fe5c5945a8aedd2b5e45c9b8f018d2903f9876fce50b6926b6c2e4e508649baa7903043bb25eaeaa701648d94a40eaa90630ae4cf02dcd423e194d04083cca3de450b5945d379a8a7681b33b37b504d342fe098835f7587835d92cd6469853cba60a5cc6323b3f9cf13d47f941ebc5572b94e5727ea7469882a2458bc6b0199ddf0937d772aea32e22b404a45a42f9d810f97c91f953e1e9063a608c301cb25705b2fd557bc4c438bbf0d3e24c6d2c92b668b99ef8864f7d67ee33369747a5c489deb1968245057177a27501917626de4b563aecbc9177c73bc4e3df98c6e258f873d744093038b19f6ee3cf288b36f53809c64125459cfbdd1b388b4c9bac1c62d3988a8e9573c63909bc059eeca949514e5f8da159c6b60f61424fa1309b1d5046db6e4a4f6feb7341a963407329b7d9f8651c99e996452e2868bb3d5621e8857361d0892df00d9fb4a8a9032b58be5fdce63e7192cd8ac42762c6a8f5059c4a902989b8dd7919babbf84ec7c4ef8b2b98ddf29b1d117990b8b446f385feb32f5140b60c86ada7aa363a7f6065e5a41138b25456c1c16a23fc54a9c8941e4a99d16a332151bb9383a670ea31619eff9cd612de1a30458df24c164c4c0281b107fbc8ae79923247bd25b5ea6587d45925db6063ae33590307410a73939afd628cb8ba9b5350d947a6a0af56579f0965c5a8cc712b261b4e52517a84614474c294e4c35baaa66bba03a0389767de31f7bbf321dae880d6effb6916a7cb132772a073ed9704462f2832c03dfb18acb593a4113cf420de06ea08dcb2f947ce788353cd9f0e88c99707823c65a0d8cfec3be1613b13058d3a43693145528b755f8ff96cdecae01fb86cfa66803795089e1bf27d228252b50ff8fa33858065c8eac182cf3e5e9efb13d605a7bcce32e63cb1c3ed82c2e1287f13ead5e1fc984a87e13e901937b60800715c6999d1133b4604780f9e3c31c0ffdd2b1b998e2337801d4ea78b1b6906a7b43a376090f8ddb8c751c46246e397eb610aa320859da0937087a63a750f5eefe1a972c8afb774f54e560172a1e500e133666b02718ac8609443312e9fed95080556e2c8a29bc5510c21cff6d73d9dcb4b65c0d0110f892e55824f9728044c62bf64d2f033bf031c1a8276a5b0a6975578eaadc174c8ab6aaa29ca12ed43da49833b0a73419be5173a6ab3ba8e6b3aa74c357d0418d1da05f25f48cf643f52c4752882a730a4fae7943f958e04ddba64d3ec1ba88dc33945d0a8bcca1cc54a87294bfbe775ea793b3ed8175da0cd95f9555a893f07e10ffe3bcafc81d46691b185751dfa252f95fcaf748d4b8f49c082b8fb5fdbba5fb0d0a9e079dcb880b774600c7598cc6901bc0b63bed03c8004e4d220ec95b501d56075567689809037c896f9741c3070aa3c35ffadbdf327f9c546641d7a4a1e62713208808a5c378cd929be9c80114a48e532416a550e270451220a9c7a4533fa6f4cef1c3ccc575296975c2262d376e796dfcc993facfbc25dcbfe8f71792eac14842e2c58bc95031d4e0b78472d36d71c56d3b86654663b3c7edf9725536e73675e08b7befd20a8e7201e4c1a911486835928d340c1a38b6e592084e1a1a8faf4386c73a74e7c98b7027d44833394c884bdb8b2d47692c90b2dfa5ad6f694978c895fa51c3cf50e07cfb809e990b09e4d6c4ebc171853fcc926a47744e3a557536b5c2a6a872ac4f85feef9fa28e5dccea335b31d571ac00660fb1741de757be476540ef645d9aff5d85c6537c4d4ff26ab57e9a9fa904d6700cd385582c9447420d50a6ac1b62ac381287510812a390d0745bc6e1488e2714d436951f979dcb770a468bb028841400ef6cb9cf9be2618e43e3149468d3761a44b854f3c4eb423096e02665b06c207d28bed2832eeab718ba2508ab1e6d49aac3c74fa3275b9a29ce6e2e50401cbbf7aae73cfb8e4fdcf9b53df2d1f5f96a0aa897a3a9a759d336da5af1d026b21616382c485d66b3c5fb95abe3294e02e6d3024a9240e8e231381d23a1cf974968f41bc27b157cc8f158dc7b0ee39d72addd981840ac054725dd3669540eeb16106048ddb585601f740eeeef84b0db642ddce11bb7b24d715b228e78805243e2ab87cb59de531bd7a1abef534897d0c82761b686ee0fcbdec84017dbf4ffd864a416456cef664ad6ab138c81d9f4254d2c46bf8e9e0fdd46c97f73e242763146aeeed67051d96edb253be92dd9b8bfa7df4f3cb60ee63af91eb72b104b635973eaa5eb5feecbecb19494617ed63e600ce079b0da90390e6693e24edc277d50a07fafccd3dafdb524d2225cf5b202f2bca7638941cca61e02b344c3bb54d41713d2f486407149e4487eb2e7f6a78ec2675751241787f95b60da37ba8225b57c2d582fb8dd50815ee9ef2ddc3980be422fe27c9c3ae6133da648ae340d7516d15486a74b350b1e8990da98bc3ffd770009558a7d8487ecd88956b38e03c6dcf6c1a0eeb25412046411a3173b33b83140a0d9a6efe17e227f95b6685f0fb2cd1117770a5336650c8853da0a86e8cd9ff0246117f24264c790fbca346924c5800a3b88c9ce6218485296179850a67447ac05216ccc50cace16e28174e599206cc5f87f8a9935781e4f072c4593c63250fe8bb08371ead9493d2eddeeeb27004271b5ca1ebfefefe5f2dd642feccc3ce11f1916a0a511956db3a4e3535bfd7a333b7a53d90eb25cc84251f41c0e225e7f0a95d1f01fb2d9849ef771ca310d822d826e8a8efc468dff72a1fb40789325222aa2c4ec6480608c880813383e05f7281a52adc951588c93af983a76e1ee41ae4570573b8e1e2579606106d7d6da5aee7fc3827925daa2e595934150bf6ab10c81125b725444d8ca95a67fc76544b7c6eb90c205c7fd818b10d99bd7fcac62498f6bedaf47cf27ad1e8cef5d94cb91019563db25c4a493e8f2e710d26e6bf82685e59dd7ec1461aca2d4a3441c755b817834c08adc99db05350a76078a5db87f4605689ac1eddf96f056739cd0c1c5a9b5c7914d323b99012d0871a45d0cf8af440fa526147aa36d7eb092d775c84e70b7bb2adc8ea70b05df3b288234a6ca53733be7c3c9030fd09840a6209c14ea6ee79e29c494ac60bfd2ae20da940e5e7f7c3a8cc762d264ed7451804ef23055f027922ee4e95fa06993e3a13f36bd6db9e76762516726bf940eb0fc95bc77872f5b8625971d3ed3fd193a5151df73031cdfa5dbd6794643d801d415a674ec2202a84b0b69b3aabc4c8924860c5b42de87ca89cb5abe229419d6da4397b7a813ff26c737c1ed8defbdaf11bc2bd2ac53245dba992f7a7e39ecc872745cc3f3a35ec45dc6f4413ce2a1dd5db82164cc722d91c461e6fb11663ecea66824333531123bd013612b42dddc7757b6568a8450cee5bb703582c2ea965fa04ac5a93b089950c9d737cb5e25d4aefdb7a869efc71b39310b2ebe7aa9672c87474afaaf22043d4d01125885e4302f1882e280591bc22463d1f8d6a4ba8229db5f4ca27224e204e4db6cc4f2772c502e46d858590b62112049e73c1f2a176707a95509ba7478fbf4fb50ce71d600659afddfdf72437dfbfcf9390efbb27640701f487c13edf7d2b7c84538aa625143071a95c404729d67ae943518ba283fe559ddd69e63dac2995715c894f9615e60a24e090b0d0f49c7901e9499ac571d88466875b4c802b6bf0e45b70da4eb6abebeafa71531958029d4615bf6c154838ccdf0b0abb2f99fc64da73c306a8c003cd058de15f1532101258198a0b76e3258cdcea1e71f7239723bdc838f3b289ee321c4270c762bba1be6114920ea434034a2a75ce43bf874dd340faadeb95eac37def56527c50b3965cd90d03261cd289c25ee4bff690e26be126226138b4e7822304d37115701686ab302bbb9331774e688bd5efed96e327cb5a50123c3738f55a46da0c0ed2faab95023208eb662ddc4db3bb3abb0f7e823fcf95182dc99a19f8a09e81d908aa9826ba0f05d25008f623388a5dd55e4e383225619928b138da3b585eb447977e0325ab7c05f20db37d02c8fadb413c2dce1c75207a05843ece5610773d2d6f7b64b13739acabe9f2f08330734946b1c8dd12b9448c888610688433ddbd90a4ea96618c948c5aa55087a78eb6503bb580ec946847c8da2864f9883538f624d9439323d2c95e3b25c7f346fc5bbbc74f68e880f73173999ad40ce3af09ce06cdeceb80ece773c4f71d716432c85215a664623bcb19437b850a0835d2b700e43aa4808407128d9e357c6f0187b6793aaacf4bc4f9c81c55457ce588465de0135ee8e888e0ba1cac86a8ed93f9c5793933232a5e95975f8e6c918c3eb89f8e51d5d11c3e192dc186234832063201cddd76d1e8350941e0028a0b6ec792e31434984b4f1fed6faa6711c6a07f4d226230e9602742bcdb87089ba481ba74c184a6310306a0e3250607bc5a67e0be44b47448a914fd28b024c139554a6e3eefe67b951f6e4012fc7536e4fed12f8d0de83de1237a958098df16923eeaa73b2cb847934f7872dbb95dd4114e31426f6936d9754c0810caa9b3d605947d8eb1b9b6695d9fc34f80f9f779501a882adc99a6e2bff1f5639b816ce78786adc7f95734355c624d0a873c06c523db30513ccd8a173a21e885d74d6de6562ad69e3260896f4fdaa6be70c18e492958a94927fd863476854150ff30eeafd409d8dc7ee10a560ddc1b6abfafbb8de7c2cfcccaee40012c7be10a40f94f97f7227d3ede5d8a889e5d80bdeb4baae35dfebb267500249e2489bd71351fffe7fcaed2ce140d6db292d882d9d0e70f58e74c3d5d756e330acf76f43cbd0e0303ec4726f9c70610b4e4459dea8683a84e53377bd1d0c54f93f03cf3493b2a06643a46b3ea1653ba83dbeb7ed757776d40809474955d4cb38f2cb43d9735970943c219c6604a1cfa773ad339abe0087fed9873c544721a19d7314b333b9dbb3aae22531226af102978cc2802ae55ec13b036cf0a8a63734d38e663a74d479bbaf4549edd574e39c1ca1ce7ad18a1c5b2b286bbae0eb6d98a1b85041910bbaed671eadfa7035791cde3dabe1eaec4483dddf008d2a1f530abc6e94eae1320ba86de3a4931531855fff7ba397328c0b1e1860170232f219914ed9d88464fb43558363f61da5380ad53f32d79bf466e7c2727a2b55a0f0f3b458203b196cbd26b9281f80acba1bc1e1ebc44dc3383a0a9887a1d7206b83e82387bad60fc2520ffb1e8f72064231dfb90c5a3573af68312b9bdae8fc99a1310b5eab98c829b171f4b8e2e00c84504d2ddad5345ca25ad54f2f0cd07cb724ee9c15a80ab7aa3bb290919d29f7c2d633e358ecbb938a2d6cef2ef6a1a17f8133491b0c36e7a694681f41415e09651b8431992b3c88d2b77602ba03e888bf31ded00195b9d956135113df9e739315aa0429c49da14d7c388b11526709d7053d5fab46f49a0358cd5b86e209217e4a37e695706485cd300f50f4bfe183fcf63870dca3de3683d09eaa5372fcd88ec3d2c3f4d8e549c4fa8bb24c353fd43431884702c2785dd09ff050fbe42d3a799a9714626221c664486d340961f67c6c665a3ab7674947feb0d2024d17a0a6305d4a243a0b6292ce42e0c1f4287887653713eae7819831e74509577d2640cbfd9bd00025183877f9eef5bbd7284f39766c87b6dd77048e4f0d985ee280596013a4dd267c54d98697402d31b5dec58ddd4ad4a111257ed380738cdaa0a0f79d9a24cda97612811c1efec34ced4927bdbeed157c9bd1361e9cecc9c3a77dbaa1493eaa9a8599ff6393de6a5bde09d00934a50f7a4fd8f08d588d4f7862b0fd0ce6c9799365cffad6fff1307d19367ac73b5a43a6c4dfedee7e5ec126f8dd58078b59cfc17134727636ec83424ceeeae3bf04052193782867fccec22e39e2cd2c2bf97684274e4d8487d20702b644f4874e3d0a4b699ab26ae48608d15c5cba8924a0407af1d446a93f263f9f77ee276d9c2d1fa769f83a7909b72f3a9f7e0e1b7d503e172ba70b3d20cfc4af8231d423b7fbaeb9967fc3d2c67cc55ae35d7138b06c9a572c241efec6f47fa08a453ac00ec2cb9feaf8ce8ed5dfcc752e9fad7841bc56b9fc3c9e19b35ec50d6cf2ea411c73c3428a97eb37e341968e5e5cab1d8c1cd3111bf471abcf81c1d8f3cd6ade4adfc5435135ea38c537332984ed68a139b7b7bdc64f92071c9fb0ecef85472765d07833c17e385d5cbaa723888e72e8a4a5c28e236dbdf6485a82ec2751f87eb613cce96f70efe201b1db27505a7769e47bffd99e793980e370205f8e0b0115d257ecc335066d8f20c403a2f3b93830941709763def807188794c7886dac940701c5a2381044f51dca741cab2299eee5ee9f39cdcf417dd3342fedca2d39654af2694424b2fbfcdcaf43694a2d875e27517b9c0cf70e47cd8ca3b4c72a227f3dc2ba1973112aaf6f2da5f682fb7b7150efd6cc1c05bc53fe48b3760e7b691849087eaa82a0a56718da443aa4849aac5a6f4dee78b652d2bc624e3efc8b285463046c268e0910e704137cbbb6e880b2dc39b943c0732d24506b630217c9b6f88b00981a934731595474096686c2750714b9572fd7a90cb3c6b5eaf28ea70ee3717cd68731573e2258547b4c6843f2b610f4a39aa23e0cf46543e996a08269ae35d01bf766a02608eabd6138055b676f01aab31e2f90fabbd5529e93cd6926ea70d927db2057dc5ce7b509c942b35a111a68a39b966e399967678533a49fd7dcc89e33ce3420a4f011cc7d87bcb170320aac41fc0ff48d55e1ab8f2445be21ae36d6e72c0861b581650ba8b08dc0228a75747b6f3a49deb9d6b72ddb56a31597d78770916ce2a5d6a6163b52c7379ceff1481b4a5577a229215c3cc114bba05ad6becb5e2515be7fe33dd719907441bdf031a46cb050bd563d184e3cfa43dc0f578f3ced9dadbb641077a5181f0c38fe811024ab33c319fd06bf218c47cde1704d1d5d28a19afe7d960e5524d404f84610fc82304be2c8ba0732814e671824db44b0829187b03ba2c4eca2709ac5d5eefe76f72e0c8604e684b80849c27e7fea36b6d8c7c5e01f664da1fb18288c696b4ed055ab3498f8c60a3a7020c476bd49f31b9229b8fc795d6a79e68b5b5505ba6a3b81448741ee4aae1f5df688690aa273b6f52e4ab2551a6f21eef94a94a7fcf4184d6f90518e53d50c24440ce34cffb75fcc79df9fcd26fb17ca8c08ad8f7a369b74e10987cd874d1cfd652a6c67758092cbd2e730d783eaa630a1a987eb78ea552e084059c1e9ed6057f635f0234c343ba97d6ec6a3678a0e4020caf98f7b98b5ef81967eb00c413ca7cabec6bb27a029eb0bf09655e1e48126a35f922e1b02bb95a1b34d8ee8e3e68487ad6f0b763e049b834fd0eb1ac39ba81c07ac01a9058a1113521b71af48b20419f2ee551347e2d1adced0170020b3e0b65279fc0fa8169628c4294b3504bcccfafc71db90ab5bd7740ee0937eaf41b04d719adaf56ee83f85b927da76cdcf3056c80ff25c5a4ced1c5e27e1f0859d3dbc506851222a5d488f0843a44f0d29037f8dfa059ced2943b06d0985bc608df8b814449cf5b3583f61e59b25464562966285f9857344951a6960509c448fafc40081e8a6d4dfb17a69d94d8128dcade3dcea4e4653f3f82a63b8a491be2024186136f7c40db17d6e69e462aa81d81e6b4bb63d3c833f82fcc35b1616b4a60438fd0e0079dfa21769d91854d4aef063fe6ec10a661e2d70869ec7a5d9243d4d9bfbb186d65c65461282e257572ed02f6fedd886bb3105c0d63f8b353728545e09137dd4b6cc75d33e665f73d9f7bfeae297fda10eab5c11e5a6da3ce7fcda98d459590d625c05082c9bcdfe09937b438cfd432155f3cbbf2991d3e6e1ce37466de4d4d9896aac66cbd4d2b6efdcb479705463bda59ae89b75267ea232eef02927b097a489818770f0ea0ef5ecf10efff4c736e71a50bad869f94b1c20fa36ac8414e7beab1bf3ed78de4a1c29f848d6722d5580a0574dfe43715f666206444a107c5395dad32903572dd99b3a85e51a1104faad0f25026f2f5b2cf8e232b255e5fba65668febc54e1c702db4a70f05015b969eaedf2ee6c9da9af3c28453ec6c1508a152331403ead1d15e40746697df3c09c7ae2df0fb60c874d7088d1d41fda2b82631282699cc3f19f941f5c7409e2d91f9946dce119f9e4ab2bfd93c5346c0dca0fdb2e6befcf72166389c20e7c5735515bff1f1873b4f5811d75cb6e2f5d3b333f5e4b6410daee37ae558791be9d6c7d4d8f5b29b69c01d5f7773e82181fb7bb48e8e5a1538b9fad110f4ae1b1dc6c866e98e821f2a98537c47fdb849ea2f54b7f45e9b9f5f0eb0fd1ead687a811211bc9554b9d93ab7432309310537a91107ccfbc13e6bfa074bdd9b4e0e2728f5b3043df69c883842b6a46d14c230fffedb7b8bc6b17a2b75b7f70d3e686ac85d098472a50af696dd86dacda84d1f2f00c5923673fc6a137cf51150f915d457f2d601296c17ca5392d8abc9663c0078f955d417696009901e472ea525d4f3763c5987af2b258ba7a24ac6528300f137911e7028b83cdcda656bc69e2735de45889b30b1d932a0432da3e588296f51297b6c6c9995b2a1aade3e9da5cc6cd39536d14cbd324933fb1f7195a4eb0308e641089aaadd292605f14a7c2db25e9cbda474f4820adfdf19f0bd9fd91ca22ce8bfbc7db7eb4c5d74cc06f771645c3bb1e7a46cbd9254ad5c26af9ca7395ad1921023a3cc0b17b97030761935fefd78777790e765ad475be0a59f13b2cd2c4a3a8ebc30fe30d850e7c58586d18c58a2ce9109e6038902f3ea4e3cc7c74bccab703cba856f15e135923aa50183edcbe93137a507a7dd76be3ac9632486e1fb6678a27905c6079950898a770f71204ad8f76be5266edcfeefdde738445f82dbf31c7394478341a6a2788e2f37705c7e25ae88188d3fc7f2c0ce35388d3bd553c4064d0f261cdc36fab19f418692e6cfaf29cd59f7764ffe4b0a5a59c968f8139ffec607b0a151206b4f552f840f3537886c97440633d265c41dc8f9677404e0e8bd4888f9b29ea1e882bd4036d3b38d950a4e53b7b40e591cf2fcc2384c9ab73a8121ca874b73adff3967e6ce1760a219193fa99f0edb162721b26e90137006517d13ca5033f8dcacb7711c3542bb9b538120375582ad65fda67af69694aba9da74e029e3d5e02e9aa24b1f4e5e6c3037cefefab355690cbb890830082876bc4514ed0b274252511d671b7dcc6e2487190026af97f5040d7899e3d6d5ea4be39e3fbef1521dd338cdaac217f1cdd7e51d90fb40a4b3198efebf1aa6f8e8db7507faa6719a1f4ca49918b81e51d98e1805055714e73397aeb0f430df0a327922a202afb7e44e67dbbacc87c900eab4be4e733bcc429b521214ae6629ec0f490584c4220e9a0269e69cc2d85343c95ee00f5af95126add1da449daa14b33e5b66d1cc853b552d28682d5b4eba157384d5854162e8a60956466951c72bda1a1b23c18319aea9a653fa6a64b8eb7ed9e568031076fed13328c686bbd6696a298ae9a0f12d0b0017ac7dc95fba7d72baa436ab1949714f92d32a7864c30958973b9a4f038f79b3ac7b2b7a354f9efcbcda56951816a5e2b462a1a8c2252a6d5b1aa6d81254877d67c4640e693221ec2ef2eea89a30bc58919187a7d7fc0bde91b5ebdb8c5198593764b7d61b16361799f38d4810682ba93452827fac802e2c38bbc0314970a47687ca255929bb4a86083e1c15f9d2c3ec8f7ec3e822d63ab592d525aefe6321c4ba9ea2db270b62824d2b246107038ace2a70b7222bb6a62d126fff83687198026e66ede6d72e26363c33f8e215e318aad93d6fdeb577dd16ffd73c07070f9db604c0ff40ee4236828d6b4fe340270a3e1832c6d6b2e8a80a18c64e781b37135861dcc67d85b380db5168acecd9ed0dc50f57face9d7f8a0fccafacba0a49734d006e86c4cf1c9183f53db4189fa511dc164ec3873bab83452d3f18dbd7f825919813f53a890222415baef03ff93a064c5e62c14da428ee96e5f0b14a10ef61f72d8d422554e548ebcc5dee63dbd6bc263cc098cf8f3181e6a1f23c701f32ebe94b495d1b9566ddcdf3ab726b3f190232da2d9394643ebaec8b2f17201893dda889e598e3994b959ffbac13ca2c1d250783e8ac115fc60738470c56e36ed0059cd4506b678d45326653d1453dfda89c8127dafbc9f29c68d69b53335ce2183ab446a7aefd713fe2c4d51f382576cdf416624a42f05c36846030cd03475a5a67631d0c6378cb22d694be9cb38d9db411e7f7872b6c4da2ad76657947ce103f917482b93e709efbbfee08409bc7c8dd4344e467c8f7d0b20e588c81103f231898ab006d8c1a89d12badd0bd4db84fe35f58ef55222e4f05ba81ca08fd4d4122fe917070ef71153c3d8eda3513b40d13d43a0de1a2dca910a05a820178e9ff66902e9bbd8e051d21a764587194148a129b3e217c8a0387479e4be6bb10bf8b7a31560fcd7bb588ef6a05eec0b50be859dbb74a67c716ce8bb16562ea262665d19a20bf9fb5ec5d55b0a4f23b23d35b44458b7b7ba6a70c5aa1ad0d24672f5056ec6f2b719017cfd6714d9549bfe7ddd48c9b167c7119705591ddd69054741288755b6f7395a223be1638cf504ee64292ac453c7c44accf010fd4d2786a51bc88ac5eb768425d6ba320a8295a56b7bfbd58562354017f85fb3ea0b886c7acda59ce0bd658a30dc405ec7b1264b987dfdd97d488034d23480e32b503c4320701b16da9e5d39871f9634d319a38c4818afff7fd4a92a3ef3067bece4a34bcb76c061ec7389d2e006b7bad657b5474ce5681ce39ed7883e7afa072b1c40204655161fffef0e05f60f3b5c3c3f800590a187c2f5341b84d43cf76c48d55c21734c64299e65affb0040eb6fd1f9ab86380353480096af16c53e8d420422dea5844b3bea5b16c547b5f03a14881a7c69588fe5426b5b3973a52931fba3f3a6b06a81809d63973684bf89e2be500b9d90ef265007bbd6f2670cdbb2ffdff6bf6dfd2f5678d683c57ecdb9e2cedc63069971e4f99a26207a47f6653c6b84e28e35d0b1da6fbd9948765aeaa87fc67ab44a5bef2b85ee111855636b5be1d4a8631dfc46b2b5f6a7daa1c1b1fa69bf1992fa2395ef33e4b16f514536e01e94a1675fbc7883714df21663d209dedb68d6e633bf8db44c6321b9d27d94a7ed8a3a74e6d47f31ed32dd85bb272a219ecc647f72a2204af8b15a46dd33f0afff23fc2b71d75f3708efbb11482ad936d742cc3a1c11c70693f4214d9451d4b84c27ae3026f4fae23eecfc9d97cf50ab21fd0691ac106b037f6d9e9434c758cebaeb93c6ec4258768ed6d797cf43fc932eff8893c10984c74339129269c04d770534c7cd007f2967c03337ca7418e2a179a1530540c7b30fda0cc106f737a5bfc4188a2a0f3fad1e86ea8761cbbf50a3bc4b72c9a4779d4a9777643af17a6d78a9847178e3e8b3e0881113d63b19e8963e53651d258a7f8629bb20fd0b0f0ad0192d56c737f2f48e085c2ef11d481ec77efdbf788fa714766b12bce1c1bb04ee9aa6c8333814d0d3b8bd3a70f69b4257c78cf5bb989873a8ded7136fbfe9f8c42e95804157f2be592652b76da618e5a597960c895c7d43fd6ffd389c4023a942a23e5ab375ee4ca5f10ded544d052f8ce6ae4927dfc869365802879668082abb152fee04210dff69cf83d36b5cd965941ddb0008423af8187ed6fbed3284dca16f0492d2e59ca7cdc3b6d9b6607cea6655b139f7e3e68a562a4f3005d48571c57cde47ab53f599d27ee573ba92cd5803869df65d9dac1c48591a1f270b5082d979966c560d1142b000d76c45d33841f83a1a1e888ad4c31752d7c8b4be1cdfbac6698c3a5e010663f0b407f7745abe3d70f336e8974380c9cb1b3324b8171ed290ef0ae8e346a62e1c91499ac5b44dc02d7f62ae263591017eaf67d36a06b270ab9944906ed0aac0c2f2890478e22d99140bc2ef06ea99c2b6bdd1da37804135201b5735be42d082d03c177b5b21045bd908b5b3ec37b6cad95704531d2c64c7ef0eab7f23b9a27c52496a937a3cef0c775e871a2023e557ddc969e1258ada1affbdbfa24bd233299dc4e11eb8ebaf1ca9825e14afc1354415b9f5503fef921381ee145382c53e05b6ba0562bae8e7a627a0a828736598e1cfa786d5a5f1dc9a75fce5a9c75d346dd53bdce1ce0d1de17efafb7fb5bc4a154f691480fbdd6b6fc9065ad84ee4465e1381b54ad97974367ab246c4eecfa49ce332eb8c05274a6893e3c2908f1a15bb9c00b8631ad92f2b8ca647f862c96c092e95cd29711186efbca130e9d244dde4563b0619febe91ea005714b3e393274fe212680d187f9fd02dc4a6a1494455d14cb1914a0aa37fa8ace713d94f0018c2906c24446428ab508132811c902522c09f28acc7d03e996eed7b8cd6918d2a499d82e2cb91938869a132fb5414d5c8ad51d01ddebe439353530f4c725538d9ff917121e41c5a348169efe0638003c5af6f8bd278177b809b0b8ced304f30244cc8e606ddbb3b37c610f9290d0922226a1b3214950343844c56907e3ac0463d23eb9db13b585340ffd866117b793f3c11fc06b26e56ee8cfc6af9c7ce9468d6d30b583f32b890ff0fe40afde77e3dfd612c39369af3fc1238b2b2ae2315c0a5ee44775187b756a0f1a8815bc361371ab2662b83f6f5a2bd0bd70f726f4eb4446a9d420ee07dc558f251cb4b9731b03401da671112b1896f755d5650d411e253927722df03b7ea0f95cf71107f2b7be2f4419de7d8959633fc9ca0325217609c588e7179525e1b5c12420d215b5a7affb579bb24154937ae9b7ed2247a3973f018f5929a14aab407dee72c70ee43432489edb1e1b9a02d4c3d884509d3f6c63e0c7864fd0e96abe41f8ce12c725bb3184ac55e5cb03e6eb7dd7b4903a8dd6d426654dcaa20400cecd072ffd957992f91251b5cdbf14ca1585185187ca61f53d344d50479dd884eb5dd4eb7ab991dec258419c2f120238c798273a4a14e280655795bd0b3bf88b411ca558cf290f9432e0872a8156213cc7c7b39fb1b245d9386426023a59129d4a64ca5c668296cde60e8e97c7a40d9e428937b307d7b8470e9cf3d292e532d5d314ab008e0efaed29b8d978843636ba9bbd119e7d31187cd50b15346dc1c2e0813bdbcab08fbbbd8d85993febbaa44261494932f96666f5c0c9dda3b0c298140a7b486dc873f157a7d7ea9d3141283caedf51f316aa888089b9f1ceddda53cfe9671dd7b350888054326e86337664aedd756bb5ffd101b35bb311afe61e54db5acad040725ad888d8fff834e3ed9a2e9be8830af5a7196c07c96e1b82981d7748ba3acba7a06935d3102fe6dd6afc614467ebd015c76a58283a83f64a08cd1c3e91d3459c7c83f0e2762e36617187699fcaafb9bcbf4bfbdf6463e1efd1fe78a62cd4256eaf7b533fa027bceca26761cbf6d9e451b481a1530e99984e493bc8bd310b1271bfbc9311136b9963db7df1222f8b06573cbe81b565739ee37e4ff01a078657cce5036a50db07aae8b33bea47e9a858cad6610ed48389ef836c16918a6b245b00c1156639160192278a1d62b7530213f9b484c3268da9103308bb30782583f14e6d2149b2845325dacf505fae090c39de2bbfd9246f910e152bbad39a03ade24d979ceb29ca2f6df2a9f5ea8c048eea4e51f302bcdf814fa672f116c2e3c4c01b25e62a0c08553b419f70354db23769cffdbb7fcfd22839a9fb3ee8143482637808c77c564edadc940a2c7a85e1e1f6d3cab7ca47a0f1fa342d9c90e85a6ab574740fc8f1dc2ebe070fb7e67b8e9cb588ac46056e010e145a8aa57303abdc2f0138ce16167bb8c85506f4768298643e277ad864a1cee3738195fc0cfdad8df1fc64f56bfb54df868f6222eee2cf623669333e01cfd30f2df70096737d84d38636ef7cb55593ca8835209794d0a6775bf1d63b3c5f83628bc8742852062706ef37a77da35835ae9538af542c6056722b4b4f200228f6e91be76683d42dafb8973c0d32b4068813503d60d45cf35302450f6866c00de0670645475a664e1f81b458df0306ca2814bf7138fa565235c836c749a81b0880492db46d736967093fd8b1701fe87e22f9cae8ea0a84873d84a0f3d728049e2a50d60a7775bd4c511129841915fc3b54b3f16f70f84a2f1a9eba7a1440a58f039b931c1966b5c759174ea09a03a6c477b48b95b829297df9f313186b52ad40a47c4cd6887473e593deaee93f8f50f315f6aba07e239c31e960b4c8845bfea6ae3e5d712b3c1d02bbe1be1579055700353148d5df0a91c865a50d53a1a0a7a6431e04b09d61750a4faa5d40f8715b8bc2879e2d806fc0de0494eea8cbd716f608eb954646b9cdc9f4fd4799119968c4648139e0b757f70135ebcfad9cc8c342c758c791dfe1d96514adf06d02b6ec42562d9ba52ba81a19ca0bd93fcf6f7c4317e6fe3927017438a5b0fc92140d6521e14b47897c4d1d3b125b8d0e9111708b4f306afc18a7be3a6ac488a24c60d4b306b08a5bceddff90f5074b7aa489cc1dd95191f71e0f52062aa169a2ee0c8e1332b9071c85d1cd9f79bbbb2b58fa6ed9f8a6ca791aaefe37268fcd6ec29c207f65711a70cf778010f780424289c386c69c6d9656b0beacd5fed1739f6a3cd2a4d59f4f0d4ea1429630f9f3cf2dd838cf58e48861d6aee5f324b4a651276d3786c28e5c09c48166ea4720197ff269e3e74fd8993e6b73171ac3b13d735243b1f16b14114e3f15481d453f1bdcf5d5905b0d14721edaefaa11535f5542a767d5cf1585ae18ab1a1e77b3f50b628c99dcad57eb27e6521511dbc8095b99ce0862416b28412a4be62b610148d0ed205c7c64e262ec1619eff673a2c910c4b0012a659b419694facefcabc91c13cb9b83cd19c4b644e2c4936f99dbb048053c716da3fcf66b372388c205d196e8d528b3ed2ddaf1ec480954ad51f83f62a9a3ec5d8651fa8ea915acba930389bb1d382040f6ba231ae1c2f40b3ec9357bc87351edd946d7b32b90146bdbcae08a32d59b74892b96dcd473a6e6d55161599576bb441b4eb8fe0cb5a5f757086963b6f8eae7575b0e2fb227de8467760f370eb1d1cb4cd8a764ef5023e57a9a9f5b7af3dcbdaef5194a273622c1690a3f26c47117496594c50e05e5d36b6849d1cd2f18cea00e2698b1b72acdf3b9dc277c124f46a57e479ff05439d6725e1424aba3a24db5ac501a21ddbd29bafdee54bcf2088532ae2ba5fa7c6537d6d9a68b92b889f048fb581def13c8e0ca5d2c8087b8839bcbe905f109439c71b818c065778615e9af093d15bfbc4d3c032837af3f18df3b8fc31ad1a2b673e2cb8485160d604954e87c3d350d57822f8d95c63067c6017cfe1e1d416d63e13c36dc9f50b086190995a3e953175c7d156b443db27658b027a6a08fab40d52e9c4d1448d0e1532a7c9af230b2c97f778d8e8dc2af550c3cbfcd5de7d6e0d6c42b627357a9c0aa1fd4286fb35685e4c099762cded643989a668caf37d776ba5efaa1485f07a825c8d0ff5981221f441f9f9d3fc8997f217e32a98bbd2c8a20642105494c7989feeb94e335cf7b71fd16e0e829c32a2dfc2eac6b7a61da91dfa7e5e2e51655b55399298f828ba3740ac4acab06aae6e6295f473a2131f5520061027807e99299c0588bc1f542b3b67235ca8a1eb6972d732c6546b7e4115412766f094fb7cf47f87150f68341298984506ea1756ee1b06790f06cc73e1722d853634354631607b4ff1c23207c8d7101830f1e035c5733b06b408c0b3cd2656a089c7464e36a6472d3cc833464ff06787fca0b8627aca9b152e3a3047e0ec3b875980cdd4587a175cbe26061ca39071938e73fd8b85bc5cb63af8977d2a0a3b11a0eccbe2e735d440c43bc6240df4667cb9924586e1ef2dcce1e1c4e07343585a033b40b207b6d786ae043785a4033584c7315dfcb98f11b74c2bbce11432430bb256586e8e7249300e0100694af488d8414bc95146b933660a43cd3bf1aeee749b12f617c0b780e4bb6374e7f2e75bf590a9907d23cc6ae50e53ecf06673fc3758e544d4a7e26b2c21756c2705718d1c2e3c1fe1da80a5ec878d340274cba46a9892cb916d47521e60ed45734195303fa5a3d9f46a8a2313c7b2916a2fa51421f107a9345dcf2c2950bfc03d661113b969192a895779ae2156a7472f52987da95c8ff816385c6d268977aa041e9874940cdfe359c4b2fc2bfa723102603d773bc82e6c00cd7e79593e10a90749880fe3c410f2e599d5321be70f21a1d87e16561ce5dd340b7e314f79a879a65fd908a6395e01b24ea15d7c077c0a91ddeb7e5ce7d0fbb48e5e36f836c678995597d15141851316c533b9c76ec8768092c8091da7b17eb7ed4cde803b139f7dc6a416f1bcc6360ea7993b7fc64fe415563f06069fe7aad6e07e16cbffdfde48c9e42feda16b3fb40bb3952719fbdde07b73ddb0d16de462d87887de9a90ca92a7f70a4bf63cb3605b56261bfd134d01de5ed6f65ab560622292067dc5af56105a058fb485924018014d0b18fc98ff28d02ef2257f92172941425d3ecb8cffe0335e9ca0f2e212a282bc11ceea20cf63fd94c02e4741ba64fb222209cb5168b31f41c9408148db0012fbe8380666d92b0118bef54deaf873a13d31dd725d9aac087f76d0e89a6636cb9526375abefb23beb94bc07067b745f47fada7e151e695d478543edf2ca6b260c4b19514b913afd20ed40898d1905be0630f1b546262eab5faf830a494cd58d87ae26309903b1896aab4624ca7c0c0b7bb716fb80908f424a19519f84b2d00acd9bbbc74f5e054ab82d1f7adfb4d1570f8cbc53b4f6dc1053b660e8ebe45fdd7872917fb109ea2c3f3a9d3dce9560ed8f8a193a1227c9322815a7a6eaa0c76db2470e754bc872b63458b198a2276f232a7c0c4764a88b3c79554adc86c19a5736c1adaf930937cda6bfa0b6dc0d81d2e82d13dffb64059d37eb89595db45f5d657d16d4f6d20be4486f79b6f4de2a1d22da732d86c125deb04b7cf69cfd817be3687fa7991320d9d1b45755aec52fef206f76e67545b43dc94d9440bea3e8b8bf81cb60341d96672c8e9483979045e7778c01370620add5969bf6aabe1f880ccb4f6488a41c6dc5c2808eb0d45d13a8b9e93ac6e180c9f592b03dd48fa233018ecc1dd14f445fff4cbf28308b3de0939cc4ce802d7af451c46c4eec1151cdd31a07f10177f502c2cfa60306f440b4ae0a7e82a26dbe5fae4d9e91e059ce9cb6429fa91f6a4e54df1e25fd1e89e7a24ba695c6c3372a31fcaad748b60884267519e11184ae30e565d01dd640d7c5657e69c40c138875d4ebc10222cf79388073352cadce74466f1b2f7fb4fb046689f84f6890daff6773b7e64383aa03b5ec5f8f56b062359847faa072b416884d0faf9ac82b54dcb3404f551dad0af24326f7cbce24c0dbaeada31d76d43b0561bc15071ac7eede61aa456ef5a4f8b6e49419d7d9e30b4763a5650740f1e17d585f5ca6b5e0413e8ae6b9c0a25ad6a38149fced7a66e92213656900877f77e17a46c666df8937151624682fdcb726769646d3790df208abe02b62bd4f2e5730ee94326b8af61daec8fb178657035623aeb1500e21fef47d07f39dd4e4d9e6ae7ce0e9bf98e195fb663aed032d480cb6e6c5c3727816a03216a3681dca2c722e55d1bef7b2b00548b8d7070e3edea810ba5c39b6d38728924af66ca044ee3e98fc8430fac6d89d2c2e25255effba9ec6d2c4f0c71bec5ea91b0d2e708a0a2d77b1f7c4189aa1dd8a95ef3639116610b28a02757a5ab1695789dbf09018003a7df0dde983f2627b8e63f7f049e5e968716b982e99aac2cbfc6c3eb10ad7ab3380524340bfb593867b3387642da902aec00c3cfaccb9b80eb41e73227c02996186671dccc2a0dbcc1967339ce77a35645f073a98f5cd7e8ec5930bcdeadd03ade5bdec64d4aeaf942eeb5ed016577df76dddf640689c092d64ec3b17f8f21b4782f08b5519e1cde87a5d4927a66844441908817900ba07857b0b90018e02ecab6acc65d806ba2cbcf7babf7b96b9d0292778eb1c6cf0273f71a2217bbbd17bd535c6e3c3cb1dfe7afe1367ab4dafd5a086281cb0657c2ff684936e360c3e042a717cd3e041479ff11306289602ad4ebec548734b457931ca751ed4200418924cf2dca3f38eef67c8e1b7a3921fce7614c2fda4bf3d8a40985190aa65ab7b556f588180d6ff53b576246ce650e1fda08365fcc10b8ec37706ad4747ea58cd8037bc08a4dd8b84a2463fe4d77f4de4e1c62c68e89d68fcbcbfca56addd7f80457db4a0cbf096e91bd1af401df701e34567e032e89d1b7964559fbe649a1cdf6f9ad334bff81cb8b02ef77287cf17a8e0e9a7bcb29dec77a1865356d250299074da2a31a7f752414e4a8f9d8499b49a38ef38d32e82cb7cf086befae721b408ae9d87d2928e9ad3e85f4a527ebd0142a6098592b71afc8b0fb5b21c521569bf07abfab04b1c5f6c3fe01d0452559eb6622ce9913dfb87fd43877ce3831326ed67b40a7898f4376384ff402233beaec3572221875abc26f8d8d1278cf57e277f2dc8567609872d61e09c8d62ac529fadf79d0cd7309df7a40a1bead0c014768e5a80778a9e0bf3b456c026b8b1a6af7ce7823ba99a47e72bb69b2ab3a560c9815f3b80735ad9dba89a3da28681ffce841b5dc230952ff58f051796050ce7600ba85a256e5320717de07431a8aa014f99e4754ed115d31568fb5cf37b5d76e4e3c497670b6751cb5a90a9367ed00c4c182720722869120dbb15dc753a21cb11d53223988c936cf2058ffad9bac918ac91afa4863233f81743e403befbf85615a61a7d3098f2a1cdfbda24466428255d855942d660afb5d7f72846ff361114986d9b2998d45ef62e50a04b4f03d4f723c97d35af3e966d3e6ef85b615488d84cb93be2cb95720ac6ea0249cc7cab375e43fea70a6e7200a038a6ffc7b0a0f0c052e97f002894b1c49209ad620a27333a35699c9c450105d729a9a742dfe8348ba2df0aabebc49fc1e6dd2902397d438eb1b4bd1d32c13b3bab8083ae683fd5808afc3838b37f311362aba5dd9efb893d0b00b9e4c0cb1450505799e41facf255fee12833ba0511d01f17e043797e7118cc365dc513f382481a1522ecc2480d2a95ce08d35b78d1b880bfc8ad2faf5a24509633ad43d48b32d19460aa022aa25abecd2fb9b3e4bf2650412e1960bdb4aebea34c438ee09427e0ac1d64be5df98abc213d6874031c5a3901c1bb59373cb1217cbff4f283335a9a6c1733c17502eea4d4747dab8551b7383ebcde18a27c3b1b4f206a9ab3446f18531da4ca966cf8199c469ce2624e174da194fe5374deed3e96dafcea9434d8f466ea9fa620852aea152b8843e14c60841275bbc0e23c39b1f652674d86809843eb396a9f0a2c90b2c3ec15a7b4dd3dad36430ac2610a9c8670b4c00525b6457ab22a0d389fcc633939ad275b7365890889a78bed6e2c8ae9fc6423997488cdb4755d69b49ae57c3aeb8160cecd835609ff798f9d903c8c5796569cff0a6e60c37e43705357e0e19e0d344ea9dcfb9e74e4f15dcbbf515fc868f588f5fab9c73dd8a76a7183fbabd3e6204c6ff7f5197c8ac037722a10c28b506411bc35128c01e2c27b04cf7f3b4cc5543e11533a4d8f18d7be3b07ea62114fbd8c809efbfbbe1e7947c5e383fd5a538f771a70654c7cabb604608aa8953e37ec69490777022ea56e5ca96238390cc7c5255a52e5e0b3369a6d220c5498c08a042c2b6bc6e5b813d0b3974293d192586fd42cb756ba0fd72910d34bc9dd5651390a5dd260e8a3ff9ed47e1b673fdc3b010afa0bc2f305f7aab83c9e78b7c61dbc241d63e8cab10c9832f07c98bd5a545ba3c13ae34cb151b7fb9e6456bdcdc399ab0bd108d47de9115a1bf7ab668619c6b68fd9bc3b7ec75b0955ae258aa6edcb9fd284199722f47665346c118d1cdf228e92f348313841de2bcd62e3831a8fc89c0d06431c2a772f47b92626f6e8e674ee1ece0197929524e32551efdd1aa6e9ff264ab747344ad28a8483b97c95bef4f5633268770526bf3e1cb63e45eb56709d5fe78bd6b53a730f275a1aeea9ece18acd58dcecc354e63aec2c16426cc89fb1c5eaea6553ae74d7144b1f2f2ec6ddf22a2706a5974f595baa52746c54c24d9e03719d156ffeada1434e1c3b77c543cf1b7d0db9fa9143a8ba98942e23c757053335c40cd0514670bfed14995135513c255328e5fb90dc7566ca8523571b262a18d6458383165488acec7a82d44e632cdc797ed0c8127c69277783857ba916fd9d783d81f9fbaa8d67ef11e916eff28995532a286c6be9260c6b229b527c37e434e0ab6385e07544479c3af8b5ca747379b9e5f3d04615718151e9b10979d973bebf1548f5dfd4cff8456ff687a586eb479d09073d7a37c0288626f4e50561d4a71b096ca5b42f5e04cd514cc08606c74579be14659f69e630160baeefb7dc2695fe55e7b28bff647111cea375a18fa882e50eb2dbc2caf66a4bf9a40a8c4832d6d60bcb9a4eb339a93929ea80ed6af36abec70f5285fe89145222c4add767acd0173c6d278578b727371aa177e7015b85beb7940362f7f3f5c1fcb99685669a25d82fb96bd1661302ec27c5698a42df918c0a3614559ed921cd68d16f7f4215a14ef3723c1cdc0b7d4f6fbc27d46d1ba48bab62bbe4f6cdd0357466464655e7edca1d513b154212fd20a2c79a6dfb954067c710fd2857df12c8e62dc5f52cde37636187a2d8cd8eb3d34884dbe5c3dbd472c613114764f29d8ad48d9dd8f180744d04f98bd2803a591e2cee4cfa7d175c50380e47dce2df069f9dd110ca0478557fb953f5c76b9d7c43f55797a07059f5e4867c67088490338069188d4b9ced819f37f943a802e749a4e9e58038059b57ad4ebf89464bfa366197c37719b50f1a82d5ec633dcb6aaedeaed9ca04aaf8fc20bb1e30113c39000dea8225916de0fe55e30a72d51752c9f0c7ceac8e0684380793f91db6d28c14409516dcf367946328e1ebcc9d4b09b053b3f6cd1a2d3cff8c3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
