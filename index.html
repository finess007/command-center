<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"5896fd2da4799410e8bba2cf10f2158f8be855c677891f2bb363bdf56d9e2428d395d5052f5c5137166407c0ce010b8930858896b7f0ed37c4594a42c454d7fa11c5eb9ae7382f3b3ac59905f576006915e30ce90778c04f381659f41cadf74d84f301292ba9612014794b0fbf1b5cff3e4e9741e257b1de72f77911be72c0bcf7d060d215dfd42841e310518a4c1806e90d813a4dd466a4495ff6fb8ea3ca8141e57b42a022fce69f519cdbfaf0ce61f16a50326f64086563430cbb85338307ec8fb963487bf8fdf2bb1a4514cee96fe0c9d650b56cf5e82e54ff5931225b3237cf6126f54fc4ad97b4513ce5df468b8578c894a038af1f7f466e486bddea72f341459d603562f7acddcd7fc5b772a13ee4ed30e70044566c8ec3f5d16b51e9e6f8eb0e84f60eb6ccb2563999ade518abbe9b9339f7db807a4311e215b7dc09b210316a788cc2c03644f7cabc9630486881102f4680214483acee2d415fc6611216a4f84a0cbd7e2a155a2e0dc4e5c48c84889a1c43aa4eae6904671e288c8f2aa0aed24b25889380f77fea5d9565d578f88b7314507e1197f8b865d912bfdb5f9e2c40ffb979bf35b4ccf3a146f393d9d097633ab2fdb7eb63136019ead378a72d810182f909425dec61ac787e67003a4cd706cb9efeebe73a7d82357225e57e926e66b06ef20bd458a3145d77f6d06ebf153cfab2db1425e1f77a726decb26bc59c12ad62989ddae16d89cdd68462d50e088c5a74e4806ba2bce7e2fc03f72bdf904c4fd954a105c67984fbd22c313c042ab8f96a615169adfc6700cd4941d8d03bf270447873193d2b270998700e8b952fe5d42242f5735c2c59dfa3cb8b62bb6bc07a21ba4f444b55c549a9d3b525d8245e72ff93f90b4d8ccdc318bf6b12d9a8d4eb066553105e955e1e3ce38f4b72ba12603fabbbb11a2b7c02f0bff0224dd04abe392b486b126931bede87c486fe79ad5462420e28d44b13db5e4cb3af32c3fdb9b90838909f3e76191377f25dabb886941aee81314bfbcf3eb4ca5c3305dc4b33c9d027558789c54bbaec45f513151709b393a36a368727dde126fce70b9bda203d38b7b833ff6ca9d3d6901ba2ad787d782792617727b4ad80c030aa437ea1dd7e7180157874027d62701923dc90cc9a252e60baef07aa662cd83c3e2c0f4046ed666c795dd329605a6b82937b9cdf98445e1db184f254d5ef09402c75bf6afff2cef9a45f6a40cba390e4b7ebd190ced63c58ea32ddef9d0be764da57dd28d3f4a14902811eefcedc14a02d9c4934526fa11a8dd927712a7f757617650ca58e5c2bb77451bf4b8519380c1b151c0ff0ab08c02e96d520f5c99a950d94e7a895e9ba9d935bd78c4b2dbe6d5caa66c0b6357e88443f3244cd0d63b3264beaab8c606e68d20a44647d9bcf2ad3a81fe1e5cff3af1663e434cd686d434ba18211e13f28a9b5886a1e135de6a249cc8d140b09b0a0e9c8faab53e0453f0d63da2d630e2feed3fb6977cf0830495ecd0412cd650cb18ceb3915dc6da2c31f704507b91b8a7e11db17182dc0f2c83f8f963620ca3f21d9de9577dcde680b6a506b5e844e914495a4851283f9ca7068b1ac9b7b5966d16c5a33583c631588c95c48bbd67926830d64759ea084cf2870fa8f6585b4f571631aee718ae8a0a0a7d0dc58bbecec8a277c5a1fd9b145c6d439149e05dc58d13f8b6a3dc47da80136700cb4b1c8ed7672bcf056bbe3ced781a9c0d69dc1f2404cc482772d0daa9fd84f8bd30a5c439b9080b5359fa076335696630216e5781dd07a81f862538d50d4166f0b4175cacd137fe955568ac907ea7c2f59b17ef6efac40e77ce0858326a75caa2b189756f9a14dd2c9fb0b0f64f00810fbd014cd738adbdc51ef3bbf7b981185e659448cf016501ca54dc4c3bbcd09a4ac8b4c83908a951e0a993c6aca129c48d48e2d2586eb18f2c12585f4db567792ff667fe88cd2300cbc678f2653be7b2c76b667a013c52129a04180e6abdbd7dcf8bce27d8ef440a45b2ae1485bcaefb5bf86d885792b07ba35f15ce29921cd06ce01e65a2e7d7951178bf0ad8c73509679ba8d660727dc76a2acccb23f23fb96473294596fb42610864bcdf4766b8c0a1df8f1509d3c134bb0455127e7641009480d1a006dc52e923603009db2c95bb15d901f97f139f742052c6b4d3a339c4da5f59bb96f24c7c9242e7d933e4b5be3a9d41f943d85d30746174ca2d97533269620557e7c19d72c6a85286ab950bcb150f20da6c00af661e8a706b2fd21596278d2b68b5a3e8f3d94651a5c605bfdc9d4d1c9ec96610fb9fea7dd0a82a8600c55b7ce85cb4131c66dfc125a63f9a85f3017f76f6ff9461f1ba2405f0e8acb0c53aa70b1deb43962298ab7bffa3705bbc5d49e5dbad7fc7bc633ccce038ca6587e698eeb47a2d681797bc024de35c5eb48132b8958bc4a556f58ce1ecf6f9c75cfcd6b67b9ae0f39857fcd64eddfe3dd17c722a171f3deb700f97ed401e86e5b7a9855cea3472f9131ccb8f6613990d36ec566779d599218aeec5c32c34fc457a85cabaf2086f208ef4d5cee4482ce56129c969851b1acd2c7f51feaf60824b470a9488fbab6315029815e7bc088251559a85e0a6f8e63be4ede2fba84314ea03bbf913755dabfca8e069e6372cdb69675552932cc88e624dffeb2067ea9bd0206a545d1543fc2eb4f2f4e74a9b137bb90e23da872a7e08271620924d1ac5a55c60faa5d9417fe1ee448f909c68031cc1df397ae41da9cdf9fccbdb7d1c254e29ee0b8880a135ed8729192cdb97155973ac8fbe1752fc260c2d281b803383154295ff6bd0c6c5b347e2a04e9fcdef08e75a0c71f55f81396ba507ebe37cfa4d8649f628413b5f072ae8e33391770ce146f11c9fb71617490f3dd0ebb27abc05bd4434bc6af0503ad7fd231c35649ea10404bcfc97160615f73d4c460ce8fd2b1b2c1f648d17407db4d367c241925b9616c6d700a47eff437cbca1005c5c8a37cde53e8ad946caff2c1ad50f96f3095b5ff43e7fa6a6c2f119db0003718c303bcfb42e107194c4737bb53e3334d0dcaf0d2285d0476f50e94726e687426df1235b7ce17f84cc03f63cba52b2b8840e72ad76986df11be9519c24b0d4791df25b10806c78da414fc4ea1c7c19515448047a2ae5ef52d458abdcee1a6b30e4e39724b71c09c99c9e036fccbe98986c6e6b1c3534db67827462bf338b905251adf46a1eaeec038478659b80a282fdfd804bc09b4e117ce845088071287665a98df679ae61d64994155d0271e4f1666dd940e066f5ec611d36cd0285e0724edbec6ade07ce3656f22230b1424424ce0dfbdf91eeeb61f2245fd04022665c0923091bb6725aa1515132d508a4c13cffeae23de62e476943d2b1e577412b0000b7ecb4d9a90317cf9fbed1bdcc4b883f44cea4e87fe20162bd49567f74816da359dd84d80ef048c8eecbca2056feedb21737a26fa7ccb822886e6e70ed956f1dcc6547aff21b49ccf1ec21dff4860112bdb5d679d45bedb0bf2b166a8745aa93da92884e570de9136651fd7589d2ffff823312b860f8aed579acce8659673dad31f604c0ab3b2a7382f7e0e6fbc55d232de439b9dab170f7bf5280b8b7f3bd018c073ea88f63d25b9fa297d49480fb7f7b72bab16294b08117f32f80f3a45bba9e9a4d39cdbb2eac2cd31e6195d9985d32f8b31c1795ee80f7f58ca41ecd0521b70c5e9ff3c82ab653f12ac889da47e784194e8d0aee940078fb06f7e594febd564d15fb4dd0915030f95bb5770aef1b9d87e2555243e214a5da11064b4355d689ab67c777e89fd38290618c4929c02b4884bbce8402081d1f440ad66f5f32c0545b147381672d64110bd958b4e25bdabeb7207e920c6ecb29fe091400aea46be218735443223d08d775c04bd3252fd4763bac3b6801e1a7f74b660a8bfb5686aeb594bcbf2f0369c98894979f580f62854b9a93db1bf553e7ebcace7fb74b021c8df884a09d26e90456639978888f0eadb91f212fdcfb2f295ba1cd3b95f2fa97d291eaa466fa932612f89e268fbfe6e9df9b82636fa2ccc63a7e8b303290723d9d02dec82a5d31b91cc3964c26e4a5ba38dc28267529770c9f7582ec21c06613d43b0101e47389f15afc35c2bd3c8439228189993b796d188e28ad110202bab5bca3e750c4b53763834b12ed4679cff7dce66b99cfe8af1f5784a44ec2e3deb800422ee9cf8199f44bcdf083d9a427cae2bfd8cc65671dcdca37e78f8efc8711479e4a3d1fff7e03cc11e397f286f9a11451fdc39653965cd95fd008a1ceecc340494d344aefd6b0a879363935bad30a1e476124852f96603729106929b51c7d6f78eda237deb455c8598def18c29a5158557eb54c3b6be9f893592cf5ff51a5379bd75cc30f8cc6fd0355851609f704330c283735aa46786103fb3bc667bd5997ae69180fb546f92765a6858b1240927cbfa7104e0e2cdf7e2980aeb1d54c0a21c1619e53bad54edd37b5cffe2538d02c8144de525d80e99c55844098012e5f1908c6b2382e05f7e0cc7304caacd18078cc5474c97b81be629dc03f3f5b457686542340797db6bc8af93c5410f9a875691babf4239173ce3bdc8572d4ee3e6a7e1d4d08ccdf3843324ff476e71cf3cf18a1bce7215099faa0e57ff8b4594a5aa2859c066ebd190e88cac3c7348ba0635a6ace1fe5a0936608a2deb37f3a5fdea2082991fb4776ba75974e2b34e968400f0d7bad7418c2ad2e5415e15cb22eb3a488acd7c4e1fdafa129bd6ae2ef3d8b4a5c2e258855fb976f0bc55d6c039392f4ed8933c434d79abe3fc6bf9ea3c9b8cc9b2dd98ccb3b08fa2a6e52157674514b221767a6581485813130c248c9a263021981ed8a8f858ef87c651b0445a92ab0bfdb0b39b1e04fc41942c10e9c747f2d809a0f1429cfc339aec82fdc8fff1427438a9b515b73d3ed92a7eb2bf80132a3e32bff8c87ac3a3937b2c09e656640203abfcfd99a4ecb6c36967ba8dc261d66ac333169ee173036ce1658a8642f04f5cd2c103752adfbf9bf6448a190c2c97260de63387348e22a8499d45f87312219520aeda7ea69be4f2a62645a82c502511379262939c12d812e821eedc69b8070ae36839c3ca3fad2ec23c3310208eab6e5cbf48f4f3176e7b814965432d11118d270a6fd7f5f353417a9d7b53a5fc5b5563a4a4032577f062aa24a446fb81afde3624bd4fe651ac7b035ec2d93b8e6efebf7dc296b77c7c61b159daab8b4c64a7846f87fb019f3d4c5c299f88ac2e7c5183ae19caef4b35b30746a2e4c40a75beeb3c06f7a5ca4cd75edc9407392e4ebe1e9f642fb8b7041f9f8346b9a09a0049bba19ab0e185358d47a6b4a2ae3668a11c63878b6ab4f2b0837752cc96994555c0e8002cc0e0e8517b13c43ba88be0a39e92632c014eba072e498d7d07d5490fb393fc1e6754f665b20f50c52a29415a3dfb3d9e93f6a13b60df5ebc6c30d3c9b5e1fa4f84ea534cb80d0191247f3a457e705a7e26c37e15b3931980d42dde03335d823ea104d1867ce7f2b21dc72f1506bb684a910a98a0fb705f0f8bf5d44108af88eb38f1b24b5dbbdbaaf919aa7f330537514be58740b256c1c4f940185ea1f9424dfe82d7366c9c05448f6c802c39e8824c442d105493c86cc2881afb053725841fece299a3c0fc941702aa1227265ad82c4292bd48522ed9da23bb81a54ddc8d86e61ea7f3766529d0da454bc995a345307b87b2048258dfd9cf80dd6b6e1fe7e97d4b26dde692e1d57391117a6f24d7313b9b5430e2fd549b29c713a1010cd48455e7373df8ccb89ab96f2b50fbccc1b34bf408b48c759be30752d2b69a7d2d2b7239ce2d8f6d05d60e515d03f1c9a29c8c9b1955a97aeeab2bd18bb4608d48d3ab58dce6e4c1388073160c8c9bb4f433d15819357768b4eb28e9c55879d091f4433a8df0c9fff35f5adf03d83363591c0d8ac26e5d9ab5e3bc6d4653d1d15bf716c738a5671a2df46e9a144a2c32bc467a63056832b4134d4ffedc6d75aba49617aeb22b42bede663f701ad522ded9cb31490d924da2dfadf332b2b78753e6aa770492521a15e49a5178f99cf1e5e3b843c1cff287cc2310343e1fb224edaa318f84c9f91aa186698129de137e7d510e4758273eac9a4fd9a42c69fba221f3e8b4add5d8851daa80a6e223020e48a72f2499539e766873e837dd654f74279ed8317ec7c54075f22727d608f9ac4cb822d38e673c339791c03442b660df7c09f0afeadeb0cf70770371c689f7c0ff44f622fe76e0fa58ea7d98f485415b0c38116dcc1360cd3da35bcddc462269fad59a775fc34bb167c8047e61eac4a4a9c1b3df7fb3a6eea334ab345919cbd1b12fb622091ca502116ef01fbbe04dbf511ea31abb494d5cf2ec06d671ed93202e2fd137c58f177591ca3d02a39743791d7256fb77b8f49598d94caa8093653b1deaed570bebc8306fd3dafee86be18624ced11f8c2d4f019776f1ed69b6f5bce48e69dd3414219d01e6ca6d0441967ee62cf63160198187600f72cbcbdabbabbfaecbbff4dba1b214f75f08391c3bae14ee3f629d9c14d127de4a8f4e1b0178a456e3e05e5b0f50e14bcbf752ba5668e9ec70c5affb62d21fb8caedfd0bca70d8422e87b5091a69704cf8dc759fa0cd58aebeab8006ed6787059005a43aae23b871f27599e6e2fc6e99f9588a6106ef3db22d1460880046bf8ffca82058e071a66c2115cf5ebf54e5f425ad71040386490549a29a8b77d075e9bed19762f63f416d420eaf3e669253776013edc22c9e7d8a0dd388efc8bb7015d5527dc47cd6f16b94874c65e67c6308296054562e78230032a4b976c43b082956f943335a501442e79b430eb2cc9f0f0a807d099a9a0fba45b19d57989bb8aab4b1fadcfbfaf548628211b317215cab2b11966b4286d1a5a14f4707914bf989260d55045ab8612c752a1d11726aebca6663243c44e4fd3d040c985129d9ab64f09d95433ed71cb299d2e1a62fbc8a847b00ed5c07d2b72107de0a384db7b82353f1126270a2821f15d917658429780fea7421667f560847037e5c62b36e3df838be09c6e6abb7161f95521f5c157d254ff3193dad928af996b795be98c95e3be943aa3e43639590f6698dbd55b550ee51943e7fd7c940a6e9e52db4a8c887662d40699f3d4bd4c34215da1f275878e63fa0bea52a383a1589c340beaddc8cee73cb71d533b20bb2115fb6927c06d3f397311e83d9263a1547d8bba8940a1160641c59510e315c5d4d23121f865c0cacb91fc67fc71ddcce7e7f20b139fc4a349b8e6cd380b161aaeaa737dbe7937974c4e8f5dac97f19db32bdce85c38ce06bad141a202a0241859bb129cc0d762a8fc8d5bb53ace52d247b2da5b93e5796a237afc99757ee09f07f79913340e7d88e64c6fc49f2730284cbd05b3ebfba1f119aacd8d72c5e3948cce17e91304ee0ccd4e39832cc0623fda12b2183a7d4b70e8b8974c1bd0e4760827da473596ba9f2bd9134f29b3cc8f55e0cc3c0826357a8f9c7eec805610b1ca55ec8ba55f4af487570510c101d1eaf2d7fdc85b03faa83398c4129bb28a0c31c2c1058afa9f110a6c2e9a835070993a5812683d8364fb78d90845cc9e511be49273635cbede182c8745ba77bdc2f2916182a5589eeafcd98b41a5ba1d9cd91e1cbe8c2ce6adffbcb640c20fe5cd286147367d86cc040cf2f910e5e0c6324a2036b95aeb7b2652bf361b826b604c19cc4389a09c69e2a875230eaeccd87928687c8b5b8e2892c89ed30fdffacf20a12066099eb6c94bee3b85dd71c0854fa69002d7c5b509427f71403f3a00500767b38014db7fb8b259633468119ac84555ab12b18b6bd5bf4e9d56d1416d0057fec8fa9939497eeb5261a59df4f830f5071f8f0d88b565a924df635e07abdb6c67240c57f35e500bd52310cc921003ddd9d0a012e7af6a8cce107ee9f8ef607017093138d59b2eb93b26cabb1d0bf062eff25e6ec593939533343e49c80be89b29f717b3b82f3caef1ae6b45912e2befc8680fab29de55a14f1d9865acd0b37deb0f30bb58c1c5490baa04527b7887fef968892d2dcf3404adb5e2faaeb3ac6063066555b701fcfefbecd06ed0dcf28ca19521eca6dea28c9b4b8751b6ca07ff51196a2ac9ed57e2cdf539173fefe7894889323b692b4662e8ca593ceabcb68153bfcb3ca25fa425ce0c1f4abe34f9fbb8f8a3960c943b9dea20d561d6fa174bfe0f4c1b2b109045c70d331fab45269e0c22c0d0f89f0897ced2446ab15463eda729604192403faa65d666036afcbcad441ad1db13a7d225206ec9aefe166ea44506d9fbb94ca52c544e29094778cc4165566725921accb8835d1f077668a44d25b91b366d076edbbcd31e5807ac32b35210e7493cf45e8a3d14d7f2f4aa2cf85a6d49a9aca10bb2afa2425d53b498df2b7d2253452bfaf70484ea7d1c475094c7ce35ce9a38f8811e743ba24fd8d2f692132c74cc3f22540b3042f0e1568599d0a392d792912b307eba9ec97d445ad3d439761701e8931269b4247522036f2b9ca1c3f81b162f80fbdd0e649f3045123b520e785883bd09f335fefeeff9641749b8d0c9d45d1650e1ec263cf39fa82f08b1d934dae55c5f2ba5ba5020d48360c021ea688bad06d8495f452aeb3c3101570915c1277d3e49a7df0b1a38a9c0397285eb92ebacf1743c16bd71ad1d36132b8464877f70c6e3456490ae6f919e5604b5d2f5bdfe5a2a7acd2a93c18fdf0c4831a865cf82f8a5c4bdffba9a8473a367bf6fc2a984ada09fc096b8d2d590b47def2f77b850e477c057465afcfeb323391e8e52cdb10abac4f3806243e3e2ec0457ace77c8a336ac1696fef1f4d4079c1bc5e308ba332b0b3d689c63db4fe5079bd0d20baaf99f3b65d3ed8459a31ad4a0986a8974921ed9c442490a9ec43680750f7d38c118dbff5f71a7e03ddc6468ff0d575cb9bc77dff313c6b034aec254e4318aeb1a86ca3b561611eb398027c1ca3fe337ee7cf02216dfa9c715a3b100c9d337717e4180dd298a6fd431ec53554a4cbecc2a4b444158b77c317d7915f8a88a59e02e2aa965227c88cd852e3488707ffaae1dfa9b3496cb2ce7a7fecbe05d1bc44f676db7591536927b6b290ecaacaa4d6eb90936cff0965f6e53c0f77324b296245e2a28ffce5977070063bf269d31bcc2edb0e618ab1e30410f1485319c5b7172f2e2bb1a0920b301959cadfb33f1c73ef5bdfeb9b9c24740e1b1b5db5b2a5d08e3ff012c5186134eb9ce225f835795f81c4f0dc652b082e667b1d5f87fd3bfff54b0b75eee6336688267d1ecb2c44fff58fd8bbb38ea7a4290331bdf065c21b0596fc1ad42f75f17a1b89f3c927c7dbf5cea099f53ae6f2b570f1450f3cc7ce4bf61e21de16032389f8ecf38217f32c3ba2b8185837a2c090747b0941f970fb61110526b8856152dc115a453acf7d24b51948aa5c34b23ad737a10798ceacc99aedf6019a1cd56d3b407c9158797ce82db6f61e648aeea630b03560a91203359ed8308687af9a218439ad35d56adf8cab6b84dcb711e0c1dbc7493735f3aae76d2f969f82755c78476d1990c1ac8c76fdae17282c513d56073c9461c39328c5e176a4fd1af48afaf2ec5c022c8e77c2984cfe738b3a80b675af33ed723cb89852c9cb3d85fc29650858d4a8d616ce65549f5907cb486fe46f8c4079bf28c0495cd4c3ac2d36da5dea03dc791d1edeb7b9a5028a37fa8b855edd1588b25c5323684d733b8cbc0628c1398c8437e3efd7adbee7bc0dcabd9791ae77e8d69c759a7634c6828c5040d6ee18addb1ced79a4fa8db453f321f5428e1c146fc66956ef8966f20d8bd7ff9b164d88898ff099d1f12bbb2f390de77ce4a27190be2a0bd7c3ae94728b196c6f8a1b1cb8532c40e6a4cbc86014e50758c00dd365ca8734c5895ca94426ce6584db44fe1a0cb3a2fcd54c24d705c3b18d2c1262ed7667e192f00d11272ccc578b50d257ac4d91abaa8e79fab03308840860057cca3b4879e6611647c761020826b2a97c2e9a386516a812a0152b4e1ac18dde0a85ffbb2f565d64a48d9fad9a19ae738adaf284d9c64d79eece6386827044cac08664f53949f37dde936f89e5d30be90c7509fa16e3202eb87c83a2918bbd922103a1f74c6d8b11317a440a53fcad70459d91f2146723198bacfca67d10340e69826926b7c23d45b24027919e89cf9266983142029f039ba59e915c87fc5337c5fe854d54c612b60f9c50c14fd6cb577accf06f86ccaaa2a94b8cb467d7d2a5b181b405007a87193c85aab2765a2becf65c21a6e2326f4ad037cfb864f4d23c0b49d837d0d78e4f4cab2f3c2ffca720678838e2347d660134575dc18ea79c6d8b66928280a99d182acbc2fbd70dbd99555fac2cf57a92b45f0df758d154f227826c754573c099a714174a206699464377788bae3e93f91e9161b2bbcdb057c90b5ee7691e298410e7c85b6ca688b2126d609dd0660220f675e1b0ae112bbc4dc249488c71f90189a2646cfeb2f36e15fb75079fd45e200488958985427dc41ab6df01316dd6acb72c8d7a48a29181dd84214ac5838ffa293aabd91ddb998f763ad1b6d17f3e13f579c956c145aa0dc78eb345d3208b92eea1d02819b56cedd43d95cdb551c941e1a8050cfd2b996d8f56864e9eca3a6f430287be728af706ff5593c5c39c82fd98f619edf7488a387762e93d25e8e6e31dd58b98e1bc820611404459930accea98d3bc3553cb92095a8690fd59d524cbf23f89f708d54c83fbda018e54f04dc6eaeefcd9d5f63f454175d20414f08d095c0f073c0fc6f28b0fa18be89f28a83c3d6243af2fd41d9a4a02a211bbdec44fd35e3e30789801c052776ed341deb831eea03344bfa8df5895181b52064a570767042671076f2456f37f641765003ae244451667669622a3c4310cbaad79296e649a7622574731a2f271d96b6f909749312c19cf4849b95c1f9c3ce03aeb39444e00219bd47a4ae82415980a8af1a0faaf58c43e0b25b6b6aef62f3ba139e06d95314229d489d70fce3cbeeb1bed4550ebda9270ee922aab5de62a0745bf6b80329fdecea6d43839386ff320b92071c1de1d606d48223125eaf2a9c5721950286edbd90574db5ebf88ad62b027814d5c1f730b8ac9d35a81072975c950768b94b50cada9707c4a370111d21be9347b86fb417450cf6de24942bf1b16ef26cb4033564b7d14407ceeaa7fb3a86201df5f37e3b34606b23cb10abb8b0bd8f121bafed6c678d1c9b52d290be82e561a5f61f9b120296f46a75b6e50afd57ca3bb60a005ab314a4f2dbd89f9b09f34b0f688125f038bddbe803a5825280296153fa0ee6ace454653700eb61994f7845e2c2ef51e5452834d28a7de616c49b4774592e9a00e7f337cf6248afb515f45ccc9bf0bd0c9730b93ff1f4f8ba415d8f3ea4a74401149384cf57accadf4d870151b4ceed56a10829b600e3c4fdbcc46709585dee623b16453206705ee82b5f019f89a268c12868159f95890a8a19e91d8259c77547371d792a3ba7eff66a8822e41ae35ac42f82d9f3cb64a17af058819a5796daf14fedcb47ede96d8f61e32aa446f92478cb16cd4d48621474dbb9744193bbaa42cee02472e56fee61c13234e4cce4d0e72ed64038866af41ba43c21ce88cfa1b9f3c5f34c663f9b02bebf9f818f474f3fc5db55db346ce1a29233a3bea9613569339ee8d7404ead426f6bf6ced38b2c3976a936b1e348678c3b339119088323b22a0a682416271e8ae401cd988d78f66975de5415e098f3988e7f9aea589741ced7387ed90a912d3f1af3a4befa6eed37c1ff9c6a90265a4b4739c20d67cab58508777532b7ee55226eb2d65c4cae45c2ebee0dc21dab3c0161c3c410bb29bcc3881904d5de81a2468a53fe64c16122274a09204e79b38e007e9fed0170baabc723691eafa13b0d901ca06e136634b657942fa6357c35fafcd6a86171fe9b0e3ba34a044b99c29d8409a355b11da1cdc58570ee54194efe9005a56a767102b9b9f9d81e7ae8676c198e792deb6ab3b9a241119064f5677dd7aba505fe750723f0b233212872d2b1f7e5ef3ac1670a3a8c65b9090ab9bfa2037c37834d7b43d0557a3ce219cdf81a41e5324c810debddc30191ada7addd69e6422a27598603bd3be8170aca61cd97962aa591e1f390e35fffb869379a8b1642f63da7bd25b684269dca83b82df64531bd69c34afa7a88a1a56d540ecf27db1175c75216987f62e9c495933508516be7887ccdb12adf870dad8859403b535829bddc66d1484e25e308576a8183a3946fe9cdef26da49fb6f99aefeffd9cac88c21ad74ff12d8488aceedaf94fc849d8be77c5f4025dc000612dd5ab6e3b5dec99de5b8a9eff967921f744eeca5f516b3a8189de6466ef68be354579033604aa5758556acaecd92576762385bca431654e2c30118fa75906ba7d5b81b486cc6517de62daa96b2a11b8f5d1a7bd1129a401fdde849cc9cad50444200fa039d6590f0645dc5ca91db806af936d4c81a28ed7dc80946ab5351b362ec101d86c1d2238d1b0b65d75fb00c4d06d044bc1b579e8cf3891cf0e82591c438ee30b629a88f489e99a150c2daf3111307cd71709731cefd7b5e6d2ffa30def327baa50768f469e3c40e51d16866883973a798f1d24d1696fd85a29238fb01823eb5008f3356893c9fc8c8074449b6f65172187845a223166143baaf426677da912abd637db3df771f366b806fe7c6937d0fd73173e00cc3c445c4e5a45a0911ccf0d8f20ce108e74bdf94af6f74a87e72832d009ea3db3a4eb14b7590c34156a1c2a4c971a4e17bcc7d71e53344a7174a2a6a6271dd92001bb61da5799ebf290c87cbf7078c2b88b0e51f8e40c97f73ca6c8042a3fc0af689977f693978ab0f41e6fda8c131ce0cc0b424d777f9be750f9842aaca7d7e9159dd0ef44e95d8b2bca1fd748aa053fd9bb597da3cd5ab1136ef56f93421a889e9c100e80d21c4af59c5ee3f49c2e15863a28f4890d1775d270e26d91b0303ff437cb97d9a746778d36f64afd3e8101507ed99d158453e5c0e6c5cfd6560563a13866f24f8f9efbf9efd5df31cc71c692bdb204983cecf1098a392955a2da74f13ee2cef417e7c211813ba597105ee531cf321e181804507a35c3937736cf993f16f84059655c5f93ebdeecae0a981e4e3708f450cba46d679f92f2509245ecbd3c68ed57965d384c15b916b60058dca2c8ac27721a29428997a85b283f350b35136fcb9b4f84134b31397c336c119f99f00f7bb3b238cc9ba24716c774599c3712099bd1ed30b6988b1007a3debf25efa919ec10de76e054422486835a51c257d519acafae1be9eb7993dc3d25eeac59c34a94dc6ec7cc2b18898a3d4218bcdcdb0d0e87e11701e82cb88995096a65cc6294a1800341e6e8707fc7b07e615cfa3e7e92175a298cc091384928eb7a477c8ee21c27ab85767495b84cf93f6361cf062e789b06d1a2d4f16514fe5c48d844b2ef4afdce0d92fa7a4cd55d6e0c0fc1d73e387545ddd82c310b4a9e9976e64cc2312f3d6c31ed2145b3d559b7c7918bf976b1f7cf599a6ba4d1c5e502ed55c3a774e5b84cd3049f42b21856f6ad8924eb2cffd0b6869fa66099fdc863147ce2dca8f47f8b86c52833c3ada3932f53b62bd161ac3aab64752e0ea18ee5fb01d51e04f3e5eff55ebacb6ddc46a1ba23b39319cf23277240e6b8f57760a0a78d09be8c679968af30a86d6ecdc7a64908967797ca4999c240119c266837afd35f41596b2098e2122d5db14a00a5f1ad2d0ce8440da05cd5d2415cc6a59477f9e4df61cd469b72092764aa7251309166e9b3659e111e11f25c9bd9d2eb27c366ddc364ca074c6bfe482460a06cf24853cf18fb9b797c27f0650c2617aae9b559aa1f9220d502838f85d311ff1c51483ae870e4aa268e9e252ba7b4aab747ac89282e94d5e66a4f7d2765e51b72f23c8e52f7e9855782567a13fb0db23c2058395ec20cc44faa04e7fafcdd029349947b32a33480bee9e883f51299442076969d5c6006afecab217e57e06c95ab13463198fb4341b9bf35453b1f855ebfa4bc7a4446641235da9e5e73c0610b988c6a27138e7f484d835dadd044d55b9b55307750809b3b883a3a36a1e0cc77142d6e26ac966c3dea98da55ff15bc47f2dfb606f7554bc66e0bfd55ada83b058a549063aa2716317369f514a9c64815a6831e82f2c2ccc36cf9ebb652520807c2bda29c94b7c6911d7ad1162c9a554366ce1cb40d838998f2a735274997c2a55cb628e1d59ec1eb718f45b5d12e21f97a307925e0ef470bb7b138895016a5b40f9c5b42801e11e4246308ddde7f66e81061c7610315bd45b9f0037ffe4f98b52d8b8d54f2fe0b7b320eb05290fee6c08cbc402e6a10eff495228115c7a06fe6ce5bb7e75bf78c6fcc041b06892d351a4922f00ac54063f785c4129daae38a40f557f625385717f1928ab0af89c23aee31e97bb79327a2e0fbf931e4fea5e9d0a28eb903730d2e990c3123ef0c31c94d2a382991a3148661d0adbf5be03f4b648e1d8b6e8d0e0d4fe22b4992468daf0de23a5f82b03cf72f471d22de740cc47abb5abae655400dcc25d13600fd338011c6fb10783cda62742c9cd5c26dc41d4501e7a2365ca9db6e4c241bfe7a41935dd35b43faa2a79ac0d0476947a06ba00ac384669b0b46ce9c2047773031b30fc3d9e7180325ea7420fbd1556f0ea6e657e22d4ff4b2d781e2fcdc357e14921214cbd69254871f6cc1b30a77da8eeb4df48ef2bb5c7b4f11a02ef12eace44d3ad1353f303842923f5684d0c5bc3ddfb7c320042292bd6a9789dbc9bf318461098001379b3634dd6080960573437f163ec237b6d234680cd8de0103b3ff717825183c3261cb0f9539c301cf00da2e873598f413c27b755d6dc81144f4fabbd49d50c1028a53353ee6984903b79a42d4041a60beec9bde1d211939c560c2b87e8012b9e1bfbd0edddab0e85b4a8cbd04b69902b4082bae7db2ed96556d6b1f223f49fe8a06138d20150535c6de92677f09e39d3bbfd713843892f5dbaf9bd3977767c807c279fa60650e66fa4009e40cdc6635cae55c50a32e0c37ad1c0c03ff16adce965bb2c7932fd34917d26781a3df7e954a2e0e617c9a3b0cdb4fe8f943fbeb965ded3e78aa36e3cc7e2ae5f14738db324800b7ccb9f8a5918d5d8eadfabc6099dc9d0677785c1fbe2803cde20ae5e858f94c7763d9691afa71b9c4e703b66bf509f46c22cc7fe493b49ed6996b53507696723bea5be0c5e8e3dc334cc181a0988744cb2295df63d0e05112fa53a460e558d88f6c9e3cc1a293218291605588aa26a82a9dcace2aaeb1ac935993e9220a1ef7f853742e0dda9de349402397f38fea065c6bc38bdc3479ec98bb883f76c6b01395d79a4526180be509688320573664723da838d7ee05c07e04f24fa0d7825f2ef800f0bafa5272dd81013617c0b79dfe2b91d45d5585f7a009a6b9d57034e2d722d1cfa9cfdb0bdfcc4527f8ae35ebd43833a783b63a74957ec8738337fd75e9325d92efc8c4585aef737f8706613f1b0a2045d15a0a68574a1835bd59e560154801d66c7b932c580b669186c119c94c7796fdd5163b76e895bafb63d13ff7c4e8dca69da157b35734abcadec4f780d9412d8f44f1e4ef0260767e1fb133d0fddad1883152e9653b17d987d2eb97b58052dc91ee8287ee09a8b7646f81b56bb34b575ee81e4f8bd5b45bc4207df0d47b3a90d10476b705a1b4d314cdfa43ea078c637a6b451fe6c8ded128028eb8684a54a1d0a8ca2121bcad7797c2ed09326542c620e3392579559580371870c2a6860a5811ff6c9e2262cc1da37359eb9a39d86439633182c196f9a4f4f34ab11333595ff0df7745f103815f4c6dbe0ceca1e98515108e440455a9e538b1da39db8c2499e1821ade22a3ac36f502297c63a80498e73fc682f8074a952d0bad34cf24d5d9d4035d96994e742859a89524e191ff56d0a1a61eb00ea5d8251c68eb226c81e29aef1c45cbee47e25306fbba96d898c8b854f9e2e40628b2fde58d8eac1c4a142b9333b152a60eda20a77969dd94d42ff3b8c77d4cdee11648eb22883abdcb9b733c7b003f8483267b28b5c25ebd8c9400ab4f4f7b6f36ff97aa3db269e4e51ceb971841e4e3278a39b264ae9c4dd756a9107cae4849e33c3ee88c02a47f8be3f1f04c0abec924e1cc68594592ca8ed4b3063b588e5881001709a8309a32ee31de31bd54b11f5b6a3a740c1c2183c37cc73afc1e9442d9f85ba1a95b8db44a560d33d9e6bc5340cb0bc2e85bb8794e116d3f230f863cf0fad54f7d9b80768e575b841b5e4e070556a84eb5702a3afbe3a95ff76e31bf1130e31caf68d7e7b0187f252ab5c8cd8b4e7043b238908e0ec4b5a960df3499940f0079ca35a420afac0a03fa2ef7cf6c47b1dd589e57001b680790908cbcd82a179b0fefc75f6c46eb754b22f3ea9edd1da72a7f87ae339cd037e3fc6d5153c85221662c6007946ae0d3962663fba6c2599f8f4602bcb1221fe3b8f2ce1743927eb32387ffdb15ccf0ba06b563585ae2cddba1483b2f71d34228e077ec1eeee91d2ae161f7598f07afa86670577358cd8fa3252aa3d98655e4bced225087ce1c5440efe9e7dca55b7789dd443f9d07899f832c4845af710b19480769ef058a6130d4502dc4ecc4de020f52739e3d25153088328ea66664e48dbac7f96892dd59d1c7ec3630bb143d0142da5c7a1279c2d5d0977390cceb20bf23406b26582346af7eee05ce7834c5904c9b5f468294a5a6085537649f0d24cf2b32f9770c1da5d5bdad80ef90f4e3492e76da45f3ac78edc6b0cb81291cee847f53daf060206d6047dbb8d587cba4131dba1d09d6b00b0e3797713a2c247c9f5cfbcd330d0a6c7dff56e2253bd8537743dc81acaa73d41c17b23125b4de511cc93e7d0bb90804f19574cf2f06a8b623657507bf3969507ee7a3933e2236b28ff081dfa9b70e1300718acc4ee8e829def09f37f8b83bb2020d430bfaaa2a8511af10806ae5bf6394e2c90e52c35454e75eb1193e8e276a12c311b9d177d92657ce18723006b27b852102bc6290477cf8216158ebd3b9fe642a7e04fb8f331274db954da65dbbbe7aa2b90c7ad512dbd6166a1e7bba6e78f7657ecca28d30eb6d8f07544169d20ae296b8da8343276d27d473a38ace037874381b39a0d21f600727ee8f0a08ff163431d803850b2cc855333c793b4e27c8cbbbd7c3d4e78be524e26f50c57ad58b6497d70af171eb1099e68602f01f6d29162395d52e18b9baf472c380d8075ba7dd22f1c53ad911cf4883d8c0f9bd9fd6a316f451e4a099c2bae567b139178de05dc91c9e5a052ca3c9566f51f380533fa9aa2c99bd9fc74199f7bd7fcdb5bd9e0c5e18572fa48976563fc52f77490b664a096451813efad149207a31d5ef6b133a1ba89df8246e87bbc16bb697999dc44de2df2e21b239320e62ff5d0f67a7fbc728708d9dcb87cf78207c1fee0cac15c9265eb99732e6244af98e3aff7ff6f4dc32583defc70ec11e5b49a4f36690b509c6a95658a2b2ef33bddcf6b094612733ee4261043db209dad7459e6fdc5a200450b5c3c40b3a22b12ae52b31da58c8e04fcda80e15b9335d3f7eed2d6366225416de22b7f6b5e9a42231891a008db6532e7d8a57bd25c1a60dd818165dc4fd14c151e1cc0bec5edc90b65c209a85167624f0d483b43330c3c54d120870ab8776bf7d4869b01d50a89c3cb0ee67dcbf4fb4a9f061c6c980ab726366c4042b1ae9f22a75c6c5ed8df17244b5cae5627e9f7813aaeffdc5028fad77526c4842ebd824ee5bf20becf016450752c05d525f437db3d8a253620291f86c8535c1d1641f77592c7916e767c92419d9a5e9570d4c5956eabbad545739cc5f3f5f1d23ed8ffd3d812e96eb61cb15a1a9958ddbb2e57d8aae6b8818c9c6c7f84993255375c58984493dbff2024c5d8e733e421a0a45b73ee56f9f876c05ef4c54ad8c573ec91b3c01c8b932434399ba3bbf1850a9e4f7343eea00012bc001eed4eb0306cdaa5a6f0ed57f3fda881811d2116315908d6ec208fecae8e078d74fb6b7800ef24c2ebe121521c2f56865f9eb9396734e9b3a0e29ad607480b9182f4470da7378e68b97dd9f5ee286c808df2519f480424c1352db0b8024df6067c41ecc27d68b058e3dbbed53064ce0ab2235c3ac927f16e7b67706dbc804042bf1076bddd9271619a855da20ae27456021301ba8af7d747b5bd28be2d1de6f5aa1733bfdd357fef0d6821adce179e98d4b31a2a74ffdf09b482c19cd72c1488fdbbd064444b8ee392057ce0f73f0bc6fcefa253519435a7fe8931e91ddcd28eb1fab8c573b04e0ad554b85f926eb4f6cfb40b11a82ff274ed3d77d065d90b06f3e5dc2cf936499dedbab5200bbc80d3fc2fa29ebe2cbe014e4c0ba72eda71f2229342eeee76116b02eb18212d16766e4898521bcedd36eaec470c958c93d6897c44b17634e5850c0d57c081e4d581d7c87015be3a30c3ff34ee0cdb358904f6815782572148a01944077136484d6896364da66c776b9bad81ce6b9c24b5279927ab0c2bb5bc1e441f6369db038930823b799040839fd477f79c38af1cb4446224e544c08fa4cd335f323528b4d4d5b133e16752ea5122b09d1db28e1c90fe1398d1ef67602513e0abfcd809c1cabf03d25937a8a460cc6a0b8c37c030b99d54bc121a81cfe70a9676c41957f36a3eba5f9be7346ff1e61d451712958e2ee41b00053527c71c839e0ff64dbc6ec4f217486633264bb7ae9d1dae33cff7be3d09b33a9aa9358c27b6f93faaa29f10f97ac9d76a6e3669321da86916ab0c5e5082732d794a17239d92171487bf1c9af5f6b18ab2e68fe323f55d719d34a313cc299179217497c4c58bfeca4ba250dcc2e2e52b8817147a6c74681c843c46400bf88c7fd25e5a46954815102b60c1bc81b113f9e1748fc1a9c90e84121cd5bb50f36ac1ddecc0822dd152e8dea418951b5f3b898de0c05ef4995387655c8c947282f045e321a2778f2fca3cc30c70704b77a703b1ed0f6a21f0a2b52f08ce34c43779ae1d88b896802b3f92dd78042ec55a3c60f0d4587a98d9243b1c3aaf1f37454c45178eb2633a5b8b9321d4e42009282f9e4cd864899598a3c4cf4b6dc36d0fa73b17787bf7393a6cd5b4d0c79192e6b2be435a6a07b3105e604d760585dad9974424087b80e825e5aca8ce7f88bdf544eee63deb3218994d3fc3a8749b944aa9549b95c263fa54a37863c9b27af134241d2e9db596a9d4da2552427607e3507d0852c7cdcd1d915574c7ee6fbd6ff21d9fd686fbb878c1bdba7473b71a1a7f74de521b709b7ef41bae378ccc6361db3ccf8e26dc72935b10d3d40717e4bb3d16d676aa4ec750d2e56b80c92f23707cde8456e2ba958a562735604d198bae5ed5e7a8b4049b8572486dc3b1737342942e0684b64575ee664878d1e1977b877aa8fdeb6eb080ebf65c111fd4ab02c91e5bf332ef5e1d7e09c2b1fb6237c1c0d61ffe47b363a845bfc40a51bc2ff1933c5462f9d46f11d9d118243a2efbd47df4070f7866a50bb1f37c639ef0b6250a4f18f385ffca5ee73f69385df5f7717981557b3226eb5e43a5e25673fb1a49180e0aae1aeeb80ba830adb1bf61600c18c4e9e0644ef2bdbda2b2f468e55cafcbff6099236fcb25d52063424fecf55086f0e1fdfbe4d2ac1f187104586da7da4f3e3d7f86be471b61cfce3bc61941bbe3bd4f3e350149ec9c34314ffd16d454d0d21b896ccbf006d72bba9abbb76bc4498570816e8003736d07b124ca4137da1ac994d15fecb08a5d14557b206ad9832108c8a802b20eaf9960d26c16f95ef3e11baa365b8e8aa9f5c6a087b401af7ec53b1f894b59a87034cd8a1e7515550c10596cc986bbf7e4d93b5066eb397604877aa75d6e4452b9ff85421ea28625c03d166a8ba5d522d25c528ac56efb0cd3860584f28eb4f32e86ce9be6dd91c14ebbbcd0457b4a044aa9f3fa66726641dc03d774d7e65b0ac2620a28e3532587844d05fcb79ad5f915d9c308adbe2a3fc1b2be2181cf1a4dd3b79134583ef811afd680cc3ef1320457ac35f6600de50799b7c8e6b40ea9fdb48abd1f48ba6e70d49c0fd1f2bc5b405dd46deb01f4d5561a6a029edca8cf1a9903a35bdff51c98e5c55e8b77a1128a8cd15cccc186d63362316c3da712f6a16eed130ee425ec17cff5a6c7944d797d3d38cd6631dc69739b12c1bf4981b616cc4d4d76ed286a063fedc0cf037deca6bc92e4d51ddcac5feed4563a9b3c6acb280c05e3ee5d58f9ab0919c9ee18052bacffecc1cbe8f91e783601fa225369f3df4827901ae0d7522d893de037457e1c2f93bc12eab82e3bb3e89a74d0da77225789eeeeeca790d3b8c79e8cc93b9061c9f50b0457249d6d5fda7b2617b02cf06e6be2508cf992795fcd296af28086a66b09dead2ec09e70113bb5872e630ccc83f1c9e06072b12dec5fd3ec14155c48d27121e743394d08e29c0b86fc3190df63b7e3a70f1884a05339efc9199c07243047e6f66d698a46cc58bd4695ef9f44a6c27cc15d6be34166d72f47996fb71f57a60f9a33eaf826c3cd241c31151fb75dd2e1795534b8063eeea78019ce9aeb51d5b89612c26d79711953bda9db0e59f61e83477c3d5486c08660b01d15f60eeb2e01613f364fa8c5f3139b47db5c232b47778d4fce6795007d237ac56de836f865bae5cff5b8282017af846cf1d0b21b66695a9ff546ab63aa58b7f97a31f6f1b4167444d3edf852191271c26630a4576f8e000d3f26366dd8eefb791f6823cb5fd7f54744cce9063c82b7a2a44ac14d563c8ea5cf83a5e3134bcee6951240fcd0fb484e9ccfb130a0159a748477bdd27012a7fc74d77488ac6dfda791c403a9b5a4b254a2b321f76e3262f45bd9b3a4906ab845e3b2d5fd01dc06c02afc3e1170a9808fd2bb8ad630f034c50721335e90abb03a7450c6df621fd131499af9b421e1e3a92b0bf587ea7f16eeaf8b64cfbc208d14ee2287586647d7094d95a1571839198e5547249d8a9cf5c7c39e7a753a4db639142608b935129b2692950ffb6671201838cf9e6d57c29f952e4a7bbc92cc24205b9a6a45d7e1b9418e3fb41aba9f879827d37e5d20345c4fc4054e077b1e68252898be7a866d96136627ccc5cea1c27374e08d405ac218c430f465922f36f272f5666511ffbc228d329566f375d760b560d8fcf1c125f6ed7e1798c355fb98aab0a679b577b6649427455877bc8d2ea0b85e2e89da16277105df036bb16ae2f3af0197d7634c8e828f49ebb080ec37d65a75e67ace76c5de579188815397ecb7f1eacb34e668ebc2932d1534975c292a144fd67d7ee3c67473f8743b1fa3599ff0b643d194c1a7c97427065c318a98729785140f64780d6c0a012aa803391bb08b7ca5a9ec7fe991ad9f7dbe63e5c1055b66d04f1e80ab6122c9dbff59090c25d6caf8829655314fbbef1d2652c42b64426027ab54912022c76aa5f07f6c2e82c5da60764da83a3c0d4bc90d469462229fdd8d6a5bb895966e51605c98453921153e8bf959cd7ef3c724d5c6ccc189646b3f7857c868d8330a9126dba38799495e6c3e471e4708fde1301e9c1477e7540b029301ebb0ca46383a1bb208fe5402993089ae2a7c26e60d961238d04e6a29d7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
