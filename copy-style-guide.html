<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b63810850c949b9bbadc512f972899238020010abf4477ec0296aabba2bb921d2f42de695d00061c05ba3a5417a30d68276bf1f96471cbda2346adb23d588c96495be429dcf4fcfb8a760fe095a1c126527a2c4901227fa7462b87256ac7509b42b43f0e53e0274931b69b4d24a07d37f6c53a56d3a4621552721e9845766883ee9b47efa26dd0e3b89ff42ba382522b024902e260401fec8abf191fc776be3de9990f0dccd7925f72404532f6ba874a8021310a3ef302bd2f7e34f7092176310c9f9e419c139eb858b3652992c4d6002a103418b7ef9b0c4dcbf0c7e76b2dbd9128b352a8ee669b1267e6e9686c5d0277464757d7ffa71f043333478643b30d219da32c24b4b46f7b79d1d309125d87e9882d99fcdf8f9beea04128038a62750dacb4bbb743d1fed4dc24f8ce724a43c2ed895e92ee3de19b7f7ccfe2a7d3de6a3c26823041244a0d1f3d4629518a85003deb28ad6de37b7f28e5e4ff1321d73e1c9b29d8eed5652cfee014ae60fba0c5f65d4d1a1dfe625ae9529a302ccfa34cc67e5b22ccd6b43ec38e4e918d3ecbe05cfdf96d5d91b3685c7ca4d5832d8317ced6b8e44aabfa24becd89ec383f97c9d632e7470aa550069051a87234e9f483416338e3e42d04890196dfcccf253c790761a3ee64130dc63f94d6fe9e6e22b09e7c3d847773cd8790fb199107c9a2fc543feb9807d1e14e64c2df7dc433d84eb6623f15a524f4b95e484559411b3c68b8f1da082744b4a7768ab3e1762dd40ca696b62407247560b999c96a9e4e3caec4f0708aa5dd7ad87c18e60c7ea852d8cc3ceecb4951d21260873b6cd6aaf2fcae82032ee0502501bad136c2950c92b1fb0e301fcc71be89aca9bd3102d597fd49129174a09d7ec7e9c13107b57f3009f3c1ecd05207b51ef119b458f6deacac013f33c11b1944ddfa53cee35ecd26d1d66b495fff74d52ff49c67362e9c87ec21782e5188d5a9f880844f0faecef92641def2f74f1bcd2928c75379fd40928bb0d528fde172994d63af6fee8fecbc7bedc8a0ce81181cc6f1e49428e843ba41d8602ee5f7dfde4485e1bdde2b56cec35488dfa4cc3ba242fbe7fdb65f2cdbd8febe840d4ea882bf5dc9cd2355d463a48962043f461768c9beb6a61298a593b4ca0cdc0c461926f32c33fee48f7745e7c5459e8193b8690975fe815f55a00e2cfb85dd3fbd586de4fb57634ad4faee128b4ca2f7b73c7d8e49e79c9a23328427b1afea1e350763e7c70a0a9ff04f5821009431ccd169edf1032ff0180b85be356c9f91905470278e94f457070d2588a4c19264a1ad85c92cd9ca36882db79948e1df2aec33f3943b07578ba07e6ba81e281521bf22a6e1c2353ddab9fc5e33670517261b0ac6bfca44da1cfc344cff4987b03c46a5e39d1ffb5f16fb6bc33360fedd34d335113e126df70d36d18cd38156baa0e1a9922bd3255bdecfd4aba43ff553088eb93aff45a3bc00a60181875489ad9df9d98b4a186fe874318ab0ca43d5a1a4a864969ee1e1997fb173f44499b087090e2ec921917a80cd151231efb768700755c04d50ce23a631fcc3dd5f34dda404b9108a00a7d4e4b7ab5e68219e1e9765e78a6d2fd290e8abda24ca15455c921e4ff63f020be4b2a78960c7da2f67c1bc850a15760a51b89644348f891c873f306e1202c127a4a70b5e318aa93dd4b8655d2b283d898aba52a36f9b4b2fee5e04bd77375530e9fb06a9feb8de7e3f5803885ae7fb69fc5dac9a584f9f0f9f89b973b6d0e4e4937aa6d27016596623b33793ebc1370d6a2c6ee95e2d08195256cf6a17f3b5b023d05f8237a37d1d5b8574771fbadf4849734ae7025ac2e8bdf514a09369b8b9f1a801b6884dc288eeb439c724bcdedd2fb859979411fd2b3980fb9b54842d20d50ec4236491b883b45197aefe012eb56e6803acdaba2879be5fa9531bdaa09eb904354c744f1715eb9a8256ddf417c883776df281abc6eca11ed31ab1b9801cf93887dd16fd45a1526f3b791e5bdb7c8cd061880f358447bf1615d70a3d5bd55d17325166ca835725c8dc957ef9f1c6ba74086aeca4ae51b61509bea9177f8f316919b6c859b30efdc0177632f604f057f7e91d82d4a7040d31b7d86a7b34be3881d962c4a9b80f8e2385a3bfc6006b64a9e160a85cd18058b62777bbd1e6a97bd36f6cbb3360cf7837ed97dab651da1b41b696b76247f4ac253059d20672dace9de93bf89738f99a37879b328aa082a6a9a6ab684facc27d145d5230817ea223b934de150ac87963a35e06c6538c970f2c79cc7c529b36e9ba705cfb359bde92b139475152577caa6ca0f4e39ef705f0801be4fa1c6d5920ee6835fd4ba186f53f4fa8e07c5f516654a6a763056e4c3d9a331303d8d17e96628df277eea8534aa7c25c8df775dfefb4bb906c5788c14828f8e2522077a2a9ff9dce22a5d83f1dee4a306d80c388b4573998efa448bb0317487d70b3ff7ca2da04951ef843727881983a9db2d3488d5a5f5b475f81ea00662e4db392a8b37038846d07658ca30fe0d6b0d6154895370cf986b42f596ac18a656811bbf86e117203e24f4f3970aa247ddb949c10bf2977eb77ed20164db0c1f8ff025a7c51cf519ac5333b3513abf5a12b6933eb2948389e379618dfd3490082da27901537871490e7da0388e4c59e8c1924c445976db569df818a0c2bf8f849f350873a69753b9cc4578dcef3d42a94cfbbe22e131bd4dbab841bb54d1fb3eb47afcbbf3aed9cf5bfa7cc02f7a3cb30292db0922e96dd57f9a78ab0fdab9ae7031ce73df25639e16a69bd9f68eea30b97cf69ef3a42fe6d782722d8f4209c548c8bb150ac80e1dc88610bae5a0d0fa937b4217ede55c595a47b4b30fdbff3f4eee6e8c38d065f8ddad007a8aaf22f39fed7f4637295042857cecad934e4ca40b836317d47428ba3b6384be6be66a1819a8eed99fb8627ccfc769e889edcdb3c449392819a53ec979eefaa868d66bca1ac273c521f65454b89d76f99355598b1ec212ff643b787e88cc66265941dca8ae9c4dccc63eabeea9479793f73dc9a108883e27a3b0049c98c8f7c8f471161eca11d7e8f12cfcace772e514dcf50bfd5d8f41b290f52a0a81214a422dc67e622bb58df3724d7b294d6e75b5d1a4a2553dd72d297759172d56d69cd65838abea14e4195d9b15120c869c7ad32e0d5352c4bb0c6c19e87f0441c249415072c63523dc9c8b12fe253f672a34f50ec90a1508c1cb013d66c536330c3400281d542899ee2c0b3da0b27cfff4882cca5fd0959025176c8c792b8907592ffccd6abd94374faff7acce729207a89d4f946e12d03c431d17bc9c2fac1ecf8368e2c5e94cb66be786042e44939ede77d02f7296b85f7cd0f75d9d4729f819c8c7b39b1e6762e66977171829eb4e273692e109e00982945230500d9bf02f6093eb60c8d3edff415b7c52d92d9e2d32d0039b038dd5af58b809fa512b581e398389f7baa019e9b0b4a72bb3aefe58902d8661434fe54b1ef7598a2035c16b17dbc49b7eec2eeaaf6d73a2b3f319d8552015996c20d5009ed1dc1807ed3b5b2f250dbe63f62874aab60f1755c0a855a6e96da99051540288d055db4ce424ce4f53b3a3aef8595fed1ab1acb6e711132a817307aa3dca4a46b6e9da218d213ed20f90af32047263526ae9b0ea0c1f2edfc0e234d3adbe7577e5ef5cfb596c1d9f6fbdb9582c66cb1b0d6a72ee2b4746d00f925762c758646c38d3b13144384c5a6da9fd750475d01642632a6f453b2e390d4786d29c5cc265bd7c99d3e8aedc55b4a574a4432da6b08d37105ec3a867d2586588db9a028fa38c4b7d65a8e118b67a9a55bfb7e5846b63766be28e6811f4476de2cfca22b536d18fb40d45e79f4d20c075dfd85512a54a06f52c4ab2a474b321969577519b0a8e4830e1d3105debedd9a84bf2c95fcf641f50aa4daf96010c2e27bfbcb4369c9acfe67f6cf362bc7f4cec4a618086c51d66b38d9120509dc2009babe144357343f3ba3535598ab49f5fc22de180b3a701a0786106a2d9b8bdee749a2a8a079a4e64434bc2313468a958df009119fbf5d271e61c2bb5108158b48ed9b98c1ebb5bb8a2fa15b79ff5b8b9bdaa94a6c70262a6830652647ad02da361382fd2f725ee23a1fc7f33a25f17533b214a9c6d6cdd506afa26d8e859fcf4bae847fc381c9463def2dfc64665a8c166cb403b2bef9b40e1b15ace891e7de05a3ee3f10ea8e726228d5dcae02f75c5f1733a0e87e0b0b816dc125f9530fbb7e1f30667f42d9925fee2ab469f103d1623b8153796ac737c84e515eaf479bb280b8e557d3792003976a2461d36995c5562b54782a647456827334093676cec238462bf1199bdcec56d90b343059848a47d9d519f3b07a249f38a6ea91ccc1d782cb0e80ccbb3ac36fa33e8b61ee5fdafd814aeabe8ad258826ff338926d978aa7bec5a690b85db1326653db0863e206a0516243c5821a3f20c6ee08e64edbd3f297acf006bcce24d4683736ec54cf460a2d8ed01c90c83d8f2cf23095b7e698c24612f3088a6a437a1707a6a1a7078f1b57b705135260eefbec9954aa3e32268188320ece0db4b82fd37e6018b6c3ca871f551db8651477430e9c5bfc45981ae45ab616bb64993dbe2af03741b176b62111055789334c094547e792e3be8e8eca09bfa678b0157cddd504fdc79290fc553630ac72e4207c89862fad4661298c5a51356df831a7ea1e158721b68b958a3340a05e3e68549eae196e5b75b8a4cb966f3678e52eae7aa49bedf8608b72ca844e83480206b8a576c273740a63f712efb2c04e0796d5d83e134b2763f0fa91a3a923a7810e287a31edc57652538a821b9270f2b80bcdcb7db6ef739d07aff7ead76044f2a587fdf208ed5a951043dac53c16c83868158a51f1b6f874f2db043991ae6cc9b70eb4745c6be7d83c771a9d40a600a2817b3835f7f8f4b8bd76a3770c434cd6172ddcab33d6e0aea1fae3e182c1daf037a4a55167412fa820ffc7fa34e4562fdd6119eabfee2d32ea644e6529f321f56e4c1292be3b8ac2efde404a973fc26d8f03efeab8e40c83d320f80fd5289117d4374a345e8ca503c354e29de6a117062193c3a7887c7d049eb949008c7ac31b514ca8e907272473b30c70d3d29f228c041f935eb814c8712b4f5846eb23107ceea39fd8cbf245e2d0b4abcd9f8bc2d159a03f766f77d472f61780141b6e159b65d3e576a9b84d6d58281818d63e923718974ae3ccaf1ee82e42834f43c205bc76699664d9340ddd3b8dc612ec94842e39a8f981e94dcd69ef088674526cf8c9c0056a5d59a16f62f76bc39673e5e8a6d93c7bbcec3925c7a0ae1152b578a5044f5bd3a909cecd7c1191a13dfdf8839f587b4268e0b1d2400fcda79bf2a4c72d8f85f7fbc149b67501115e8467fde5d5a09c8647c2dd103ff9acd2fb8a1699484c85ea23d7316e7c4a181ec46161f1b017d1277dcb2880bf717ade0af643afa1763dc2798c7c8ca0c23e275c159c85edbfd8b7cc34cdd95d2073a3c92dc51d299d3d90c529119658322cd0bf465e74250b3bec4c3f41737bd4e61e4f9d5d53862cddcd0e6e5c841ff1dc7ce90a727e6b69037e3263ffa3dd2e92d134e4098a62d208dbbb3877a7f33bc5c908fb72b5a543bf74431d873185b8a7f0f793dab07e3de0d77d8bd1e16bc260765012b9df1bb6e17ccfe5f0a1833c8183f5f5029e8bda077a490aefca8dbf642a00353b1023529475ba895ef15ecf2efd74f0210884bec89aa244ba6af8e7742296c90b74713882a80d0e3013b5b91006a2e579756f2ac5868e5edb6bc55b287722eb1061eacf0d10308854e5f929a686c6cff17c6c00b145ab6c60b8347f083cc0c44c55fbf15995dcabbde6c98bbb30c0d010c992e8a53a6560b192f3098967dc81fe81bf5f1ebedb8f5bbdc7e588abd0342fa14eb1329c948b7d708cd7bc2c3bfbac4923d7545ef7d84050983768d27d0384f076ecb9cde1207f9f8e3b47c66d320a4fce47d36bf4300f025c6dbfa6e019d720ac34db982a8caf9af4bbbac9b0536145bdaca10c33ecd859db6e47019186ee9e66f8cf6afa0d4805876e684d19bc96c4a227008920d9e7609be703b83c29f369344d201a139680400980ced0daf19067589f986ae0da897d446b11584ab2cb47e764b287e37324159b473aa6b1f59602b2285e8b63b8843052e5350baa6df1376c9e66ae354105ba6aff1b23df7bfe394921bac327665c91b3ebb632622aaf73f8c087359734bcc4cb1626bd8256fc59dc50887415aa614dc6b87dbbbf42a7b87efe308b2caf363d7c675f9c0147d729ad79c4b0e0c5566ee82cb223ae4f2fc3e7d05e69b59deb3cf80a0711614e2c433cd22cc0abdfa9d7519e5f8f9ed968f49b823201b6c20f0d8943252c363ef43b2c6d87f194f2e34ff98ab70cf6f453a6b5ab8cd56dabbc3f91a4077368de1c4647495c794d8b3eef6388e36a0234a582686236a3d2a68a564055ab941175d84dd1b52eae78c0366a12378c2badf5beaa5ba071ea35231ba7f6526f56fd7a6a4e42a3acb0224a3765ef0559953d423d369ab7b999ef3c6cea664af1f061410d591c5215d83654d33630f5d71ddee4be643bb898d55b237be62e220da4c7101513032a6ddec4ef4f2a8fdab6eb01cefbcda4d9b3eb1797879ef2302d1bc13bd33b26f5e5168c0336d80c2794671cd7547cb91f284b33dc8886d5b67752acd406229fca8abb722a6b2634dc19c97917ed681b377b3db610e07e484cd6fbd11884e88461b4c875a0f834b9e36d774a988c505da12bbebc3f39ac7cbf08b6e9ce1359fbac7506b9acaa02c5f917f4c308a59e53ef89f53286cf5fce995cf64c9a11e335be484a1e1d5c4433a7cfbd57ceef84be60fcde451a5989a7e370c0cc6683caa746e0b5d8c05ebaf04d1a022c345bb7d0ae00f838a480c4699b3bcab7173b467e91d5f7b4e78def88874b2cb24ada0f8b424fbbd346a816e1aeb5ad655a9b00b7cf2eb27aa5759c3014d499c4a3fa9e5bdca416f6a13a571ad6bdff41e5ecbcf9d84bbce24064942861df9194f8e98bfe0e520dcf0b8e3764a6e88840d5f9e2aac2e8e57871b9b20ad9ada7157c3ee4c5e1741fb9db4bb69103924311108574767ef78307a6d4ee6ab6ac4a0c937c58529bf5982624e672c26b260531830143b6c63fd413da540379c1435b616ffef7bce8613d821a56dfd63b5f6ec8f4ce9c3b8cf8a492530667a139be51abe240348d0721af5d50ec0d1dbd581f4acfd35f4d332132044692eff071752b25c20046dc7d3bbc78c57745feff931277b22047ed182ee4cb476ad0e6a4fe6c073a8791006082af5795e8e0adc146e93603a317d916932ae5f1672d7f78b26088d781c26471ebecff0b6bc6528f31590b0b500f2652e10a94a7f7a8bc73737d5f9b4a1e447bd7fb14cafbf2d1b4e93665dc572c0a47a1f442c9ca50185fa2b5d30c12cd5fe201a6066df862af36e088ef9575830882aac7533bf36527d5f6c84a42d9e0fa143251a4facb21c63628b55b2f74f9a697b24b5a989438752d2645276e3a5ad55f630498fef414ed1fcc18aafd253db78f11da7b1d2b53107157371b57068e09d8322daf84324fc2602f764dc8a50e8097e8e78b20dde8e20591f7b2cca5fb10a657f810fe9de1d5f42f0e1fd926634281bf97e066b0693ad6f2fbe6c5e4d5c5f19f1d364fd61cc417d081568be68abc1fa0005d57616c5ad403e43fa200d9efa3d0e503a0b8a2abae17da182be528a90c3b59e7be85911af8cd3e85e957dd2450658e3c416f550145c867abe302c7bf7e1443a15b85f877ffa704743b6512f74ca7427a527ebb20caa332b1db83805264b3de7e2a17697cda3e99d631453d809c8c80bb5f62503394bf217f947eb663b6cf7dd340788f1a02413a1f7098573662fc8d00b47478b6b7a5224ada76b8de24fb3285e2665951285f4a0d535e094efb23cdae6cea2625765f85ca3c88af5ba7428de7988f5607a3c08162c02030f24c012d3480545ed3b6e4a9500f5acfe0a3307caa7ba0751da69ce723779f0e6f6efb5d9916eb9164dde1367e0e0084c91c00fe8334cb906d29c86f66a8dd599e496b9ae24cbfb73c365857fc79587cbc170a45cd3a927a6fc8b6e46cf4691b375f5c61a6985f18377a906af7534a418c271b072a6e24ce34e91bf0db0f09698061bf8b1f8310676b43d60ac35d4e78e8934947c357e79d5965b90e9a63a393d4ed8a36d68e843e110f4b751a75060bf1e9d0e68f18e2dba8e1eb0f25f1189e3d9bacd987c583df2ccbb7eb1b408fe895ae9d1040b3aacf6f4d7bad2f0db40b297ee4148ce0bf14a3ed5e2251eeea955e1ed195b45cfde3e93f96b90b0b965842c884013f63f7d6ba48390f188557527ac2f9f485d612fa0e9b133e77564ed1a1fafb183a5b267088932f59d450e20b1e2b3851ac86b9f046e681d4fd6ad04ee6f9d3c61c490e55c11b0376a2f394860115361a99b018af205033082895edbde29ff02815a454d4490521186878110d698b4255bbeeb264e935761f9b548923001a013cea7741b879465fd8a08e94f4497631aa5b760e61a2fdfad9dd02a43491e0fe6bd8c4beaf0a15403398e435af05f56ce9fafb281432aed0915d8521a1456d06369978e7e1a8e6896e4d08162dbcd90e3f9baaecb50f566254a9e5e936394da674c0000b120120f6e1f2448f25015b62a2e2c2565c3d44d995f355b8084331f1314c4fe584eb253d22dec93cbbebec6efc40e032386a98b2bcd6bf3d33d8169dee78f4a52ed43aada0ac7d6aa9e2c40fa8ada9e1c2bc8092ce579ececdec113457966b3407d432ae4a298766dbd9feaa644cee884dc37c5f56ee761b67abfae290076c9314420bbb8a23fcacd2cc4c6d4205d995f88b12297a2f672a948ab6b07a5bd908d6790b78b18eaaa6b9215ad614b74db303ecf1a6c52ad738e1b8b12c700392d2b2452b3930979af90bb22ffeb3339d8d6ccd471052aaadca8baf76818469de9fca34d0acf29e5a20a14f8376b2cf5dda1d7d755b0d8d1aeef68673340347bc5e12e18f7fa351ebbfa43729b38c9028d23fdc58c1c8c869c8d7440ef17d1165ec9335355d6455a3eb263a39f81b42c904ef4ee8f1d8868485412e561f191565f39eaac223b2eaf5f15be2c68da67e4eed96e8b8e1fbb1ee4859eed0c4e51fa1d6a5e416931db9ad4c4350b8f9272daed93a3510919fa5770955da2dbdf615d17adb05684169934118e47e5acab7a532abde1cc7381ec477c20d032f56a6e377de992da17a26b364b582063ec20c7ed6b33a6c8286b67562abc15b6bbe6f1c4e2111081fb3ebeeff74cbdec3917534765e979414aff262e557a1fbae4617ef2dc6c74d9dc707bbf3a19cd410bec88b0de172e6f3fb67ed286922bd5735d2e48cefbfbf97a4ccb10ffe21222d93171073dcff763c6010bbb96a00142a8ebd4eb3f1703b3a85b804e84df5c2f6e02659d5392ad57fedfb6fa352697fc25ecf0ba250b86ca5c54c0026ab6b4add6e967e6fa61cbc5d603f0747dabe80537018139993178058853480e3c58177d185c17900b3835c674d9fd5d2a4491582fc0e17bb0c0f56197852a2034d0a67bab3baaafffc385235139256b6d54e72d80c53a0a1626364898c574e8ee911e1e5d65edc926a06ac71c89a5a50c17c704dcefb19c6e148a734fd415bb42a04415f5558128a523d29031829998f36fc550f5c52989d3a0fe0bca9d11e93ca49ff56cc82cbbd721554ad7f7b52cd04ccabced052c2d04d886c7c80c1f1df80bb9092ef0d5efd320e7d1e9aaa20dfa16443aea75c4f07944af6fc5bafe78cd209310047a8352fc2914620d47312b7161e7624590c9ac2ecc39d84e81d894a6d622d795210c917136b0c4f2bdcdcd52fbb86ceecf5cba881b1e6383a79c8da5e56469789b296879277f7ef6bb62f0cfd912b32b4d47c235d554e5639c97061c37e56938db4d87d7a4971825f24db581f5018f96673553633e469b8e87463f24ca4a7860947483718ee216a3e9b62157a8c32134be99a9074bae7a8abd7ff86f3039d5f7edafb53ffd34be046da1aa042ad9f8ebe242d2672abe9b92facb846a658bd4ab05fdd3f31d9a086f4bff0a52b39f05e19a78319fe5685cb41a20c2c5198b230e241fc1f590ceba4a7d562b471cd939904e6dfc0dc3a5237b53d0f1168436ed9fa543f25cc77289f89c8686b2a539c7a442ea7a31be0ed0c7333e964f20729d461a471b2c2ee8b405bc5359cb0a329bc12a635297df85d67f49ac0cf6ba67576bca3424920e265d6794e4d94a154cd5d5f5e0fc2abc2af96f084adc15c27116ea2bfdc48c468fc4e320869897f793f93d53be5a0ae445173c57c3b7215569c3f055aed18faed29c01d36dd5a06a769fac21d2405dab6f0064c1bf1e0c01b37f5a8d4251ba4e9a6ff5e93e12e9aa98a3a06aa16b4d12c885c8c9b2fe88039fcd39155c720a07c5c32195c7c3f1dc6e83f9daf5538b90d073cbca48610baf2cdd43e4e5f775674c5d54a6cbb58edacfa0b88938804ab6dff1609dd95b9ee3df8d6adc92954b1baadf1b9c0b3b98011fee79923adc52b01d7c2801c10da5590e3fc2e1dca5db8829699c2a1c3b3d771320a9cdfaee003bcf7a787d36ada8692eafcd3ec05347cb1536220c72956ccb2bac7a8f8a526b9b132ee0c89084c4f3908766d228782a456942f7c8cc4077db406a9dde81c373cb70db839aeefbbb1780cac909f718a720fc187ef8291b0b730911398a67de3b342059a0dfbfcd86f2ae0aa054127f5a7b643a6798b70fa9697e25fe081084b17117ec8ea204295fd204396dce350bffc974cac9add8b37261016b969644a63fe12d1febf9a0552e5caee15cc8c17ae3b0ed20f2975fd7358e9e87cb6c6118d7a3438329c09e3410351e2e086ec2b83762b10cb3d78e7e3f1cfbcf4accb917378a762be9eabd882c0d728c1bf6380c0ada1c3bce19d797fed8b8e095425ebc21355ff157864f417c2291bcb2413abc45e2151ede68e4f99bbfa81ae4cd6a36ee58d9645998358b209d28bb826edad65e43954311a1255ef9f00287b0d028a7066fc8672152c03935d3b0d742ce0fadf4edb2bf8f2388658de0bbdaaeb95c2c46e97213721c722c016240cc5d1375b8510877602f5b58925d10bcef6058263a760d0f3df975119340a52e73cca269bb52da5cc503aea1b14e28b2004810d57ffce9289006a0a5e1107556a122ad4768deb58ca7d8922ad95b52a95729906a7f5c179c9ccab0b4eb199146196f79fb43455fd2ed979110a9d19947828951c448e4211bce97c25ee9a7d68a8fa61fda167308e5b2fead24a4d1d57b7c4149fffd26c701cf6ce6f80f2e9a7fa7832f521d0f625ba955b0987a0f2db89b9a1a03dedca4369ff6670b2bc264d620cb72b178deac3fa180572d51ac94d059d067c15112e48b692731d357cfec746e9e7662d08248a2280fd779d8a9a93641b4744f30c72ecde783071d981448e86b7fd3c0092e96460fd5550202a1264c10ac9bfcd7220ea18eea39c7ff6dfb9269228077840e09131102af2c9c9f5cc954c58a29d1046597bd88996c63c1154a279329a52251eb5e47fe03342e435b7e46b5c2b4d345f9148ad3e7f273355d86521fd2adfc1982342392f401cce5ac7553c4e5b4dde4e0920d1fd907fd223dc40c512298b7bb2989c963c5348d684046e8efcc1e6cc08824ec6365092daf3deeb11d89a86007f4ceaf88ffafbba2f53432a881c066515e55b07dcdc12599234f01f524f09c36177bf49882a460b2d9dd253ba8a344857e650547439769d60164fa60883b676ebd6a2ae9c7d50a1d6cf39fad5b938054d0b222a77cef878ca1a9199d49ae96d469356a9adc1fd491881573fe2a3957ad57e20d2270c54e1e45b6592b4dff6ecc419fa2aa28a6be476b8db23db72fdbe0f1023d3b6ff0aa8d40f7bc6afcdf7b1942e1540e0081a2bdd720672ea0dc2a5e1632346c2537b3d5daa58abc3d698628404b8423daec29ebd1880a61b4766739920a7566fa152792f4d0a2379e52d72e605aa67f79d183d9897918a1ff6c54a4c42eb086972021a3940f64d87acba77f64219079140b44a3088777072a03108d4f5c5106aa374425da60c35ac63b35197521aa6b158666559419a928a6ab343e6dee1238b64804ebb7656ac1e0cc2791e103d06d0ea8d29943f15250877415a5af2ad3c6035c147af64df94911f2984b6d005f27dfac085f4cca7ec521b6278e3a34db83ee0cfc38ce04b959c6fa0be2228b92497935fc20060899cb8488a0e7d74c3f10f5538750dfffeee6673c6d6d18e51d55155ae6b36dba75a66117ff1866b2502754b4bf9e952548e79c0d3a99b419724ef1b11e1dc2cefce543d7e03bfd096ca357ffe0caedce13c5bd3604143c921032b40946d653b9a429b4e10b9f8d4a0f005c177fdde56f2561ce37685b6317b4c473436201bb7436d35b849d069f7fa8b8a4edbc77f727734f2c5dbad8b31499c98e61aa94c18883b4f5fc7be1449f2eb9fbddbec546a9637c5757d54586dc177498b54ebf1703104224ede2a56ed8947181efd9deb11c584e36aa8a8f8c028bf023376bd0a6846798a223ee4478bc71ee216cfd5f37bc82fef878d6957ab53daa18d02308d154a7ab47c96b28de0a2f4eef54267dd4f6014a039851f78f67eab524f2ab71f7538dbef2f1c5c163ef4caf0ab617fa17a100c3805630d517c02fd7d8652bc50664c285d6958a99db64bec634cd81d148f61073645b51bd0a94b016b5bb0dcfbd81491274625e900af3f5ecad12c80d29bed69e9764cf6ae5ea61f9f26b9ae2ac49d908106d4de475d51391a2cfdecbb545eb22ba4138ded8ecbd66ba3e9fd62092bdff3690ff19b1649e3fc5fc826d5d586fb73f39b7105c2ec307f241bda01dea6f4baaf76621df50b5c3010b04b93c725c2d3aad884718b926b71688a3fbb4f836ec76d6c36daae1f4a2ed8c5eb33a574e031b25ba32e13cf132078a616fd1bb4ebeabe8d848fd211acdcdf35050ab827c17de885ec0bd5c30a5b0ddf3fe3c96907d798bcc6f9583754c86b0bce4e102945b7280fa9f3fe11c72329d2065af657946f5615e9e0df366280eb6d9e7d1c2c2720df6f6fa61795f687da349cb4cd21f5e3b64451721ff576e7b8f9522bf9b5b853d546281c204c02e40edbdc060a054bd5419c334d973841ffe45ec9451f25311643d2bec5809e7addf8794531dd9042cc68d6b78b94f01fb93feededeface68d761d0fe0ca62350d80f115fcb58715a8d7812c6daf83681de60d96cab09c154ccaae8a898bf8b480b56f46a2220bd0ba791945d8394df0d60575675be8c8afe03eb7dcff89f9ae041de419992be28f709b54b8f13b99d50528ecc2468c87bae8bed28606fea81c008d78e931041322c24f00824aaabf3bd316f974eb52074334517ae7da1488f782231946b20b8b69acfec1b5ceaeced003bdecbbe96346d7183a68dd217cf23bd6d677cfb213356149688570c5452a6d939b66e57b1a16f88561345bc3d5c6cb01f6555b72927d116322141a48fc01becb49388fe42b384232f28835f8ff2286a48dd634b0903eb4ffec89eed94150bf887793527430a513c6b3d01a360a1df3d77ef0ee62ae9b961b9d2893aa12e31b21daee5fd17147b70b0a6ed2526d9800444e922a996936acdd48f54e1678825e3a4746f866aab81aac0bb51ef49a4ecf8225b6fe907516cdce93a583eafd507b4148e252b732250c82c6555b3fd91c74453fa9492635b73c35ab27c3b37b4e0182308d95beacacec68033bf16a13a75130a7c3720579ad54f5fa4dc5d0a0588530509a4db587950ffe162fa28a3c987358e5d3b78ec55700113d78f1c4d8e0dd18e14140dca02a81fac7ae7b8e96230d8510060e83014805266846ce225bc509d33929cdf91b552053a309c9e39c85ece1dd4427533a38021050160354307e7766be0cdda4475452dc0e84527a6715d4ee18b90fb1eff08610710cc7feeb25fa0d877feb731964143ecd14908dad7c811e27ef9675a03a63cf635a44017db54b85296d0329b6fb7975986239844c54a37d7aa34f66a4a3a91f6827fea2a3246761afe2ac597d672a06981a4121ac6dc0eee223780442be5e9f762b5f68652c9d09ae88de057fe13b20b5678ef6494fdbe9f947786d93252ab871c80e9eccf2a11e1aa93b8b9a7923034b9f8bbeb7fe1f3f8ef8b95f959bf159c3e45009ac7fb40b3eb86f21e46847b697333e9c3e5aff05cf9a1ed01783ad87051aa1e94cb9cf90801d85c93825cbad871d0b1a73d1e60897930313ee8773289d931b488d35333206812513c345fe02dde6d8ba4b82fad545dd08d60deab547344773b7260adb5d456ce6abc72156c4da0868df5f537b21cc946c309556f0106ff9009935e91857cc73f57ad434387de77ac924b1121f16cbb70f7080d6b0389a993bb5097a35e1e59ed92e69c69077a6c83025f5ab14663534228668ffb1a1449f7f6e65b59ba16ec993186bcac7ee3113b254e5f9ab73ee1106073d89dcd1c67934dd605d659234cbb2708ac1d4f6a38af017a7c2fb55c401f5a94bde900b36773fef2a56d5be8854354fdb707acd3ef4f4a93b7f0e4349f269477d2fe0ece63bc963b6a2c4e3901f83804962ce33eef1e540c292b5363664a0cd3f2bd4be16c2feb482fb02c003b7eb10ac805145746eca8414a33d46be18278d975c5ef48f38f937659a7dd21d8cd36a1cf29d3196e33110b832429d73baabbde93474bc5144503beb11a3d550db910fa24d4f9f43b02f79e7c89c824b94c4977295d23c9539c75647c1e566f13e8c6aed8ea6162148513bc10ff6343f09fb1f1e8ef21cc9dd201e37e6f93e46c7c373aeb332c29f3d9b112d922e30c5beddc72a92d33dcd7a566cc60817a8e25a218f69e28ee470053ae61ec08e332f6ab88047a6db78b18022d1d0b9461d948f2662973580a8f38a2a97a7df4f6378f8556133861a167171db06160def957044a7499a44e7d2915ea5255cf258760bd6d5dc413dddca2f12e8a6c39dd258255592ce2ba6d837ad8e13ef9bd64fc77ba818593271ce612140279962dd71c44d8229a48e4794800c913f0e272879d381b3c7eaa464bd78d39e4c7e3567a251d231e35c5063f23fef6f9d2723d65b45fe81e898078824db2e2019aeec82cd093346ac4d5d4f0b99f71d3c76345895a926185f35190cb5a8ef70d6950405c3b3db474bbedb9592ac3cfe69d116d649d5aa29e160f785cc7453175c3088339a3f0de5770ecaea5e90231d01d1dfdbb9fdd7db08e60d4143adfdb3e0a0239a501fa138e01ec51dd46cd46f6c66bdb22de0b942eaca38016a1a4a66a645a9a99103210ff23a59dbc89e55bf5293bec03ace11a77a220ae926a044ff6cf11859146206960db3c2f7738ae456b4a4486e1e9dc93150f32b6c61f12af818bb973d9978b2c0888d7b70bf1aedd28e44f5c78629fec06c4a188249f161412f6ad8804c1a095699a960500ebf8d3ccf04da29adfd1d5d98ea18b1b61400193ea10751d2513ea6e0ee0e7f3122f6ab3a023268f8bdb317a78fcf7309cfe42a1f4dba61acfcc588bf4565b0a9a17a5c95b6cc260c29773455121099c2bca0ae61b9775a9a539203cc0530280034331663b61adb5f5d142fa86d96220104b8df7f03314b9b15c3ae05414e4b254e89df2b794b431c26f7c53b7ae454c9043eab7118068d09437beae6ee405367013e8694cc893b674eaacf139ba4f9224c45aabbdf6e9c714db3d8d053d48c9e9bafc6779fe67b75f2ec1601972969cda78311a3b38a021c758fb3a10c913475bda1cdb799b81c2fb2fa5421ee1420f2e06805b6dafd5893f9acc85ce6a20353f607588c60dbdde38d045cebcbbfce76b58cb517c000582d29fc80ac95e51fc81546c89ae03981027066c0ea9e08861f9a29fa1bf43fe09e3333ed4e3416dcba7d1e0e2d0be6492f00484bd2e43e846d88a6f8a17f76642e142bc0236480457d0da8ad36e6220577d240f3224e79b487aa88efd2b07f111221ab09da89f0ec120a31d024db9ab98d138ca15d72d1b2a98b52aef9e7320ec051817df3b1ccae2a9d3016c587604e5dc903d6e37fc03ba3084210901846343fae0f060a5bb3dda9b343261f4af3943aebca49dbf373e6b81492bef4d1583e3b4456746b56cc45aa3911decb10206a70126cf8ed0f54d46a17246bc2f15fd90713d4db1d2c2ae1c1d911121639e9d9b854ce496c4c5599cf3b52f954c9b777147e212b560111879019d1ef2a3e0ed4be9a01244bfaf6f0d040247f2aa94b5f82679c54f3d8b51f534e81cdaf474ac300e93ed9e31d0798a967b1db13fb9cef7183d8f484a8a8c8b81b9309bfec5d1adbd705374a2619c2f34721377712903666c89fb59834f61e54a89e756e41139c4e7e37fad8817cab8357223c75d30ee1e453b23003134e19d62ffb639935ae55dac36b73f8fbda21523f9e7462b03078ad5cd0e81594cbc7ab286858a58e5a57b52f19bdbd1346e32a858dff5402ef63cc8c069f8561c755b8bfad4b2b24392957c59e59a988893f0c391657c3cbbe21a556dbcbf6863b3c08af2c771b644d54f24b0f9dbbf41c8229904c417275228ec0e11f37253512a8eafd5b641190cc93baeceef11281525e8fc301d6795935bc87e6f4d36ce810e5f6bde6930227ec61f6ea0b174302566ee5f3a78fcadf9ad627e2d37728eb38e6b6f496b523a35fad8624c2e371e2d74c31041a477c59d3470b4778dfa4f5712d425a78dd14c420845593e3e2b122b5f3f3294cd2ac46c35d378c82da1643af3db7fa7458f76d07ac14da7be2bac6cd050ec295ebfa30242d8713af99a7d3afef64197c91b7eab843c06f7a921c82751121ac05c207e5ac9f21ffb1e6a6314a273979c213622745e39676c07e6e5d0a8944425d474670585aaaf97dd56f8a7bbfb4f0dd6c7f004779bc948879228ae51ccf6438f0048204485c69f20206b1d0463c6f48bd57366248253f121010e558525cb1b7f8cd31b8e61a1ed69bc85898ebbbedad68becc2ca95730a0131731b7a484db2a2ddff6bd229c9e0d0de36dc2359c8cee23dee3251b6494ff4f54ad2aeca037797ae1208a4b9d978979128318af4bea67e8add267762d16ecfc723206588da67ab557d478715b850566dc32230c8b5183e47957726624af5fac115f090f3f0f73d4b603ebc3865bfd6066690131c35d6d7cfe5c627176906e622eaceb6c0abc64f7d05f86a84001a3ce73a67fd69207538e8e80d8f68631c4dea8d57d1e28b0ea064b154dafae353b3f68e07b5b0b37fe56762dd3fb0d3f5eceb7d3029d867f45930dd922e1237c26a720e5f715be1263d5cd6478506f96f23ac854def67161fda05fa211e2d6468ddca2772c0a4b79a4c684933cd3cd2f63a44f8dd561555534f9ac5cfa3e1def7f04073828e09b900d7566087d1ae7571a35aab08c44060cf3e38f7fb6e6ef67ff1e04214ea08449066ec0ca4b0b0c49b8ef7d3cb0588ff796cfb514de367888a444a7fede59609e89efa4fa0ca323ba06147bbae40e38f61a42d7a97e10db2ff42c3ca3a482c100bca7def7e8b959392a1f4764ba9367ce662a602aaa3643e4b7b511d3f32d73a218cc61b32b7be5080f2361c97c8519cbf47908a21941608aab5aa1850d7212256abd1a7695a5dafa3d3744548a4e0c0068666d11896ad0f522eef9ea6a2164da53f3d022857808238f300d098406d651e6940054f11a9650fe1ce0f3a25f95f77d7916e76ca950fb91984281d3d251bde0884558c70be726a55ce9a0f095a3d9088476415d1ee4a153adffc6fc4cf4dfeb69c155871c8cd253e40b0bf9e10c5c7993980b6a03991d594c9a37b1c13fbd0e5ddd26f1887bfa079a1a78e419a608d8a21703aae162a7a0d964ca622a08f733378976b5f87632bbaa3543a0f6b90445233a571eb45e0f2f8c86c4227051c24b1fdd41ad92c30a530a04b1826e41c50618ac5c2ad0b81d6ef777b0092f8c4a63aeb3957f525d9d21d85cb3f0e4815a3587ec69a78dfb03845d6c582de22f4365347adafcf79976b9b3b053a67b069825f205d0054daf19aa594e9f124794187751f7566f08ba34c4c9da5fa5a541433db260eec5882b8c2b263212f777ebec352cbffa6b847a4fc42e545156ba7d3160a1dc5e1fa3e919632662bfb5f57211fe484e07541ef2bda914b99f8e395cc1ec09eb151e3416396df22209ad7c0cd85e9efa4270e67fb61178375234a3107c4740ee31e3bad5723c766c492aa6ef5c822c0bc10037d53a5110c1c9cb07947ba67d006d22dd40349a0ec1c6df74e146bacc05079e4f6141ffd7ff854824de7fa9080bd323e52696cbbfc94a8ba6a7a02d6c0fee10f9a672c7d46793a58a98486d4900dc44253d83c55a61d3682371db50723ab0962f39a8bd7f2c36e822358fa4e0ba621ed56e9dc0b068de2be2677642fd38cda96709b0f8671b7e6c2870adf2ca65b3d9430d9d03fc924a84ce94211882cae2502b83e351ae3cc053fc0eaf9c0ecd7af9eb2089a5faf05eaddac72c1ab48aa287fcbaccdbeee449c9ce78343b799cb08c1fcf2515ca699f429e8daccb544bee1bfa2cd90632230603645157073a326604d5a7d7a42ebc12410fe60b66b994d55a5bc42e634378631aef95cfdc669b944c1b0aa431f1cacb92e7584ea9de90524b9d7f9fe4cdc4aea58e78d22971ddb1c7fffc5537b352287bfb458bb50535691459dcf22e826cebbacf1132e040b0ecb52e9d9194360bef274e62aeea4b191956e4b6f20aa908a3cde00a870641fe75f606b68095d986b2dec88d5ddfe7dfe3d75f53bce942a97c44c03c5d748f8511bd8175ffb7f6b328b1f9180df664210318c75477c726a8901f09e91c4a274a6f15531825eb29d35a873e104eedda8e0eaf73e9dbbea24b15153f6619015451550a916c17634205906c6498bcad94d38e13ca2cb493d2c5973ba803e843d14627f05018ed9f8fba88a1dfa5eb4b436c4ae8ad1ded17fd5a01934f39597f9830239dd861189018a84d3080f5eac03bd5d508c9d46e6f93070a965980abc98af39d1562e1364943b6e58eab545a0f598eee8a25bdb11219c325f760d21caf46868db1345e6bc203b1a5af13aafd3d675db4df83c2aeef3c844480433e4635147024caf3602c143aaab1b14bd904ed8e48ae389957b79440c07746fa1b1e8cdaad77a8c9a319f35690338014ce1e45e02b5ffa10e8062740bb1de9adccfed6f79657c86f4878c40f6364ba883c33ad73765781895e724d8e19fdd3e97d2494ba068a3c75b6583b49117cedda86f7540947630cb2ea28a338c58cdbf0ebdabe982844369a3fa4665375ef50fb1dfcb75a0d323b4a3e0c5f3cbb0a802ea1f124567f607cc723174c038ebf778df9a6b0927ccd2545b9395f1cea0e09d9fa2f1871483e799a5e1a4cf8176915350204c70256c487c0cd456e5e1d132a6291e9c4f3de4b225f9f8c0bcb2c92675e44583abdd2a7094f9b67b517d6c727957894d3b036a4f47b610ec14205bf81205e0f59e2acc23d698dc004982b643fb62ed1047627b707c0b44cd743aa9f35c712f04b7e1851a0d48807d63c0005011e719b1051134a304a57791ff795e95ea5ee186f75f2b4e08b231dedb7c3cadde21b4e3c98ae6360a547275792ad3066925e4f76078a5925f5353c657fd4ca754e1c657c72839eb853ae7a9015339a5e3f2f20f56b9be7af10e7a43a0ed78941ff4f84f35dcb661094fb237d3b80c62b17663c344d652021deffe82521e2700bb775c1feb99a22948272cb1f3c222ba82e7fba0576a539f4b3dc31cfb7b1feec2c308458cd977f70188280c9c75f21001e7de7fff64b9551f437be87b7e72b14cb185b8cb05319ff65d6c2d021c028d0ec769467e8d00a938877fd9b1d84c5bc2ce21dff6ffb85d1e8401e5301563b2b783aa7d57f7c80ce9bd7ef747a3ba60e2f21fae8ac034b4853c85aed065e7527de981cccbf6f16c6b3ca33c9ae6e2d574df3066f46ed7da70f461ab11e312f45a0c1e35d089ccf44e0864b6be2c49c17327d0b4dbdec1cfdee374065de0d73be09c4faa0863ed77846b668667b75a4d3ec70e7ab37d20a5df601503c4eb1218d173ec0870762c6b9e69dde90efc004598b3bc1a3569ca76aadff6d72b1f9647f22d5361f825d694b29a7fe4e8caad7ebb9e3409dc406a36a0112500a76484caf86ddb5184e9711d66f1be4cda71ecfa0501bf038efc148193a2d57df975a1d38b20879481eb3d03e77ae9bc47ce938d101bcb8960cba41a9557eca20ed95cb16df081c58ac387b530f94c92f776ae6cd1343bc6e9091db31b068d321c1d9f420137162995874756b402fa5a02e9ea819f01d06217d4e0a6ce20cc4abd2658367b71bf545ce1cd39dfdfcd60ae312241c2cf6f47d81455d7faa7a6e593a887dbbfdf3232849dc1e92453a0997f879555ec0895e8d27f2a50c7e4a9b300735ab2410d75da67ba47fcb3596b457eacca8ced2c80eaf01d0f44405e8fe57d619cd2997c19331e69916483b993fda70d742b999aefcd32865fb6ce5558e51e46812d47efde326a6333fe3f46951643d05e614a02e48c8cda3d1b2011877a94346485908dbcf43efdb83c105559908d1440105bc3c6f8093b27e6e92632d507fe306ee217db447acdb90cfe26acb56723e46b4beb4dfa274eff318612aec34e3c4bff6c3e612b44febc0ff45b29be6b7da2c439653065278668f39a1e0396dd5df899f2b0403ff8787be9e12df71d0223cb94f41673bb3c87fcd5a7b10ed5b1d5b965f292dd5e3b6d082d50442d631248553519643ae4fd243cf4dd104730836f1d01c2ef494667673f05cc39c77594516da8d35e25f64d003f5bd4c7916bb0a8cac4050d3a0863bd5395be3757b22332e27d804942d75d6b8609e3fc8026be90a27a30a8fb25c4a63ac8ee3c07a5046318fc2f3ced9b5902f95516c5ca68355a4ae4c2d373aec33afdbe18e395c67ce176c8c6cd6fdc2059f554b20552751c8d849e2a896281c87363ac221770a553c70daa4aed1f449836b3cc02cb502494b300ce715b0baed47533c76836c4c52ed41967b206753dea4be60d15670232af7f1c4aaee760235ca24e27e6129ac285ca6492454f484dd8c736d8b2289b2f454d0cd253051f244e3edf27b835f57d35687456eb8fbfc8b773a77093229eb4e448b193012df1aa1ef12d03dec39de7d50912cb25dbfa8d47e318886639ccba14a9ac0f4e37ff73fd7e27d2538593cf3fc961a15caf27655428852db27c52df26ea5f60f1c47e75a45cd495000b258c998b901d162af67b10224803d7cbda0188f771a17dcce5998aa51465c1ec688cad72ea2f065971e780196b141bd94b4bd048691db06e86fbc5c4e5d39b1132e11a97f16c97a36f39543b4a7065ace4d891ce381674d0dbbf7f2b2c7e5c552de36b1c6df03149594bc09c0c8d3b48cea82c1ae7cdb8316fe68964","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
