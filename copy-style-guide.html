<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0fec1d512eb68704e7c40f5c7e51373c20da675b65e9be10901f516ac8bfc450165502503615896ef4cd5acf21f22728bbe02aa9fb9703ecd2a67eb3c3f2c1b1b6af9ed4d61189365cec046ca90c100ddaed349b7eb29583585f703ba150a64fbb8493b72cdc0dfbb0ebbf449ec5ce72f7250496ee20668b07d3d729375a3716744130c34e242de977ba5b4bb2467fd9ab41b6a4154c050225650adec0b068832d25fb21149e29558a8150f903996e1ecf130d34df21d00c12872d1013b6c3d3fd44801d1d0a080e003dcc9e71144ceec7ca3c0ddb6486deea88df6b9ffce305a3412948a4698084665e66a15ac5a95345a480810d65304e504f16ffb908de908dc27b696b00aca9a2ba9baf895d177ce970ceb5a6352747c4983964dbbf44ca8b9b623c1ca00fabf27026c2ff805d03ef15a3e09fd455622559b23d6dfe43095a754a516f7b8a86b2337f7527edc92bac7e877345ab84463da8e877e03c299cc21bcce94f9021c60650457983c6cb9cc588508e3debd031087e3463f9e6e4e777420eb7372649d11f78bc6703e0f54cdeffca1ddb325899021296ff1eed8756b531620cc28f0630373e7fe3090c51d0ce3e43b13430be652e20fcf6b8af039299cdba245cbdd288a2186be9aa81ed9ce043e688df982bebb1c5c5386a7ed2e3d3bc0baaf8cba3a7248a903f6528cab8b993e2ddc07c4640662b2e3af731ae059063ee8bc47fb798c70129d2f383614d666bedb62ae7ad55c09df2b89ba821f8daee51ecb28da61212f2ac5238595d416acf27078ec33630a234fbf3512e0e1860f28a3ebdc17e772252afac04ba512edd5c2c17de80f9227b73fa0d0b7e42035d2a1235274b8d6c1933739b7d5a92b31b38e01f90558c699060d6badd0494866017c09553ae5f32f5e65aaec7b3271f67f5ed9ef574b2d6c4284bac484a60bf8f917fd03103e575eb603e8d9248b1dc78c55335c42d75b046c626e5394b217c26c9cd96ace3b45686993a13eb30ffcd9078ad4c03cb29cb932d1f3701aa59d5b88fce214f9a8b932c1d2cf3a015cd4fe97d259086e9bd8cb167a029f8c70052f03cedc3909987fda49335e755390e5acf825d1fdc6885c21c1c9901d2d6150754a3dfccb64cb4ee06c482112be527204557e4e1484f1af842c75b22d5f4e62aa150e41a9882cb02350eb202435c85c21024ade95f7f53491710b67b5ca4f66ea0582015805e28d9f5625afe18524beb039d75750b16e36d6195e6f9162d3e5bd2095d88b3f3a2a9c7ad77c82fa39188c9a37f0f025790d1becdd0fdd10cbdc82b5fb11da90744fa2493fa82eafa0c0544c4f48c45aef354e10fc6e93ebdfb1744bb32303d9c931fea828ad67677487158ecf4d0bd4b63367f24e4d45c1496ba4a58dbfb0ba4c8c9115f87d5bc38cf2f56d2723dcecb15c11e451bfa1c0f82e406cace0c4b4ceaa8122271319feea8d6dbf1a925c5d41882eacfd751f4f6504e53e82a06024571aa2d6a9d6a96faf7dd6de4ba5ce11bdebf98b22e8c679a51673d2d4c59d81d620b84b2d54da29dfa37509428a600cf0e56d187a9d696f97a44b03d0c6a99c857ad556538d2e3a23af0e4a4bf81877dd173753a9d8ad8260fde2d451f5d6ea6c774782b9d1c3ef95ac95140cf8994ee4c2feb5393cfdc5d0ba4cd59a549b5402760ea94a7e108dfb38607a32aa60ce3b22574e03185b0a6962b67e14e2fe656e3f3e1b3c57144c874bf173a6245fd6dd762c75d7c8f36d3ed4665a7bdb57d5d5fa4b69d2259fad4168bc8b6c27bc756e83f2faf76f136d38411f32a12d07ec0e813e2c3a70d4567a4e92e389175de826dfc6ff8da29a921e99fd3e6f3b488cdf3dd63cb17661d1730d0499ba222008588105bb3ecf731edd0d07f0ecca8bb7de53d25120e987af7a4a2e4334f56189959784364b813eb2a92190a22e468cb59da2cacfd9f11442f7390fd68d57099ae410cf8bc95a3ffe3f1a7e76cb51c2d6dfa1efe95e2565b9fcc052530af4bb84ffeff441de0aff1d4fed48a70f51f9c629e4bfdb7cd2dde372820e9af05116b05ef20d874246bf0484bd6f2ba4fe2634db2a29e38f6a3e120ebc46e6b6cbdf0be79e37a3360697eed1a0d8bbe61ed80e7ca5d53ad2f898bdef987a6cd6169c9f380ecdec0b14b114aebae437e67b81f8cd4f20caad3bc67f263e4c9484d456f8b544bb5c2d24e5d3fb2bd38d4fec7da6bdd2d262273efcefabf9a9c2a7f2ac5b44e81a6c249374a6d25a6267d9b0c2ab28140d4845856de349a75ae60ebf3811ca5969bcc47e2133771edcbf5932827e5dc76106d952e43c4719179142f0392d9ee563929377052f636024f0680689976e6a47893b50f489f2ab0e3ab8a2fd4a46375d4fea56da25692012e1327efafc3d659d93032acb8dd574f3345b2074f6386b1b9d4e5ea719699b7a3d8e780d3379d2ecd29d08753396ca8a1b4bd49b5d37c2a31f696f7ec29cbdd66bd0e8ad3098a02f3905c438471ba1e4f6784f713d600545136923503c885788340a05bf4ee16749d87409a76cc96da9b65e706050ac4c082d6f2480b7593b5c0b9f84a84bd0ab53ba7d7169cdd3dde45c22a72713d9ed3a021fa413fc0d49dc36a9eeed688ee06d27f444ef47ecf42af08584b55255d89eb441ffd2d19372f1900be2beeacfaca269c5f6990c9a43b4c1ece193444f899a8e51dfe0f25183e365c7cbfd386365076e604a332497cc7cbac40a3220c33e189e95e1b3f74b8bea040546756699d413e85a3fc60e27cd4c6ea2d9a72e70ca57fcd6e4a591ff01de42ea65299dc9e6e6a8ae7b6e2265c05a2a2d0f61ecf09f463c83e695289b42829b3bfc7c58df13a90b8f5008d2e8e8df340130aa641e3fd7c8c507f784343b1fc7f8654e03d2252fca34d1ea6185891675b7285fa57d1dc88cd01aac61d48640df98bd146e30083a6b23fa7cddce226de9735902fefd4c56e95f0e017cb8727eb53b76272f91a148319d18d494e6e7510a7a7910b201d1360a663a564509c4b225db8595a9e877b8c7d331aaf846eef830fc1583005421310a3b8b7d07dd27ef108cbebfa674c31f7b6d3207a1c0cef7010fac548e51694b5dc5ccf011475578917c9a4b2d2888da3565f67d78fcfcf8d773b48a39113d366829ba43437d8c8c665c285b350dabedd1db1bcfce63de0aa34cd2139fceccfe0238a1e2c7b64f249e34ee2c7baef46a2e017720796c9c0f9bafb77556f561f604b18f22c44dad4155f6c6b9fd8ef64c2465aaff66cba0a3a5ee17649fa5c2905cea287227e5ceab9a6be10afddfb270a4bd5a0d04d0273d27066957fe554ca8be19a3956c3da0339d18e2ebe60849b3f1a676c832173b19325e8e787cbaabbcf5f9c3b1a16c1a12efdb4585b669a2852300edc5a8b99b2b6591258d58413db0e3257e7700694bb589ae98145577895b07bc59bf70efaa2630c55620d318310a3196c9f8eaf6b10814d2f960d1ef9a8a1fbcf23453b2e0767b1300bcc26f9fe5654c9b33610380b44314d3ce93c358aba4a065b0fbe31d9b72bd5627ad8db017a76e4705160677ce7c05954985d1b1521c8a5cbd7731398df32479e0f77ce7f91e098f8aa3e7cbfcd5c215c050cddf8ace372eb6a246cbc530d5980232e2b883858aa63f52b8ac91df52e7793a2681158893d900d4be1c14e8266f53612bbe9af78122a9c98bd6e3791a14d5c731a33e2495c1e93345b2a3d6948f22f3700dab13ccd06c74b049d19fdab816dfb426ded3808f86852d098ff6893a18e4a0be6761ec77dcf8a90a35ab325b80890f4b6632c7cfcc02bdce1ef0a94929a96ab7899ee46f2dc9c12d47e74e115cb7d5523269cc2d8dc11b0b5eca8542e98fc0ef9c74e197f0ded64168068b282225a909b173ad8fed36a5e75e6ea11dfe7c2bdf0bd82e6f87fbf4acc4baf6a5dc5ef63140455a91d0d15163c1d3ab8eed5b617f0ff3899908c3aeda85467f5d58e0ceb09ee2fe09ba7793529146aea17d658dfa0169e7f4bcb499bee0fc9bb4edfb76ac70980c1bc14d32308bebc96470ec6007d3b2ca7c37a90e66a9f29967d170bb88f77d1c36c4610bce342b4952e5a19ea86d03ac9b4088c7fb3401987c7fb4a523eeec970fb73afa3338e7643535d045e9a4b745d111156e07ba62146a50b659cb8192456b00c20e6f4eecf8d2681e883701a50d0842b074a902696ac22fb41770e357ea1f8fa77727c194bd2f3c6c77e377297eda108454c08f8efb83c205330035ed402b880b13fb3f0b9158faee3674219fea06593d821cc51b36bc9ccd2bfce7e9e8a5ee00db73b8aea0b70324f73a532da683474ba9b2cd8c8c5e58ad0719382d1056c9c7f2a0512cfe43b5388e86d788426abd8f245a27b23f82518fc034665d5d23305bcf5575ce04005994214d024de652414a52da5c0a6bf51b40137f156ebd285094d35c19e83156c99e314b190e8091bf5b8f814fd6613c8fa56692b270aac338ee0386dea71a425690d591f4359d0139eb59f98d0cf1b03bd18e756c81341fbe34cc3d1f80061be8c0a04e4f3eada91b5b3e1f744803915ae83d775df182f5bce00ddc7d2c1a3f2a824411c223119b831f100da5f889a9a3b13d4682fa4cf66f00daa76b8f3bdba690a79134b7e5857fd368b1ffc2c694f086e7d5ebf0d72506e7691edda6d78033e41608957c36856ce9de9aee37138f0a9b90defecee71bfad0d477d551c5e3af8d0157e55e6d501498c8490fc0b9a3db8db01af53c17ca782a2d466786e601fdfed01f1e3df17163145d06ab744670adeaacc6dff8c2db0bfad600ae28c5ad007ae96cf3cb998bc8d43fb7a91e3d0c15d4a692af203f9a85528f91e236eb50c2ad37034d9105d7f4c227bd57cada1c51b0676af8dee82b40f4cfb6c8eb832d5981f235ad924c005ec6345ca35608342d71c8c79ed5ff2bd871b24645ab6fa403d00adf8805546415a200575c9a1748ce000f53cacf1c1b3a44116ca2f96d3336dbe3148fe3607c92dcb6e993a8f635028b1eea345ddc78b9fdd73e2c6691d9138a2df2c813198b378ec4e40c87bbacb906fb3768c2e7b615bfff05aa9c2f2c320acd79aa59e19f897755cefc14e114c5d472cecebe42212d7f346ff22067bdc7bc2517f9ebdde7c3c1a07f50270120087ab67e6eecdba459f4d21da02fcf209953fdd413d8e24bd86795a74ad86131d372333964f857a75b0addb6d06d7b37e693f92899fc7ebd8704697e0e728decc3fb326e9a0598829e00f68673d2788f6b08c224f8fcfbf8625bc98f89af249ec60fc0b483c29a3e4c84ec4a94fd8bff4cf6c8bede3c97f1b2736c96b5cb40a971548b6ad3c88d39a0016323fbec32722d69c1e3af3ff24ef1ed7b2e21088b6e33dbf472f9ca613f0348b1cbeb964133ed43c7c445eb25c6cf638bb69af3e29563537ef5594a69a56e9f0a48d55cfdff7ec81b20a2374fa81fbf227c5fa3f1ea22337e7452442e3087e42cfc26972c819ca6980d4be9d9555a85fa0b8fbff45ff9f8242a54860fe2c3195db14fbaeb2f3bdc70e8dcddcf5c430b9a67f4fa278bfd1c811a658282ed1c4d96248875bcfbfcb556b872654fcf05500d1c601eeba44d710c288f781bcd3ddffd73f8b27c09eca7f6e6b24bcf81aa3f1c6b47204815562f2f244c58f4c1e7657e1ee2b043cfb0cf9ad1f2795c1af34a952c806243f22edef56e8853da4576607d48858dc775bf96cb735516b7737d1032edeeeb99d44aebbf100918315a98ac47341d04af5aadb6edffd977c40afecb4df4c82444c64eca0c67ea9917bb23dcd3f1f3492549a987c9c50f19b308a2e191a0b1c9bef8a5df8215e68a6a03743a6a0e04774de80b43e6945fc146681e55ad933b12e9d8ba1a7d9872ff0419bf9007bb155f5c25cc358f549911aabd8118f3ea6fdbf9223b4d8a737f9f0454f39434431a1abd0c6d77244cb2c69ecc9c7c41c8729cfcf7e63d5638e07f532ad8e75e6c54bdd44a176a387ded4850012e2615560c92d42f7e6ae4eb94fbdc13115084e3cdd9fc5c2332abed6f0ed84f9bd017bfb8fdab9269723e9a587fa90c9610da667f0fcb4d3fe5bffce004ece7dc48df4646b89506586eb2a0fc064ad02b300e6f20cfaed69a9ddfb3da1df956196a2e74bfaca60209488fa4237e2bf3fb83c086077bfccf66cdc53d20b76cf173bd69579e35f913c965a41cb9e3a8c63ffa60df881bc7bfb0dc8c53e4098eb547e9efcac865f6fe79c32eb24f1351892e496e03d1a1220a8bb2018a8bfd9d66d4fd7893ec261ff99059fb7ef7c9dc7b48989ce300667a1d502167a4d5c7b87b909be3e33dacfd21caec5a35403d24a94c3e6d3af96a12d4475dfea3a8aea88292860240617bded23786ebd9eb4cf2d825823afd56970d4be3da7de1398f2d7c7146b2436e5f2b63c8339c9339939b5adcd96ad1d6acf4c34ffc88e4448de2f2417d6c1db528aacc10ec956ab4449b8867d67e01f6c8f44866a3805e7520205cb5417da3df1d1d7cd4e68f0f4c63f813d4099f58739e33453d827141a7f8082714f47d510eda3f0e1a7a0f1208d1b3ec4e3e82ee8fe8efc1ce3751206eadcf062df3090105f64ecc05be235ab45ed4e57038f645d1cfea9b49f79c22d8b484d09e7880e4600fc5593aae6cc0bd1a07a95f2a134c85b60d5434559749b7bfb2e14c2cb9050e7c0586599180e95b42826ae9c3f71ca639f1c7f87e582b8593ced46f81b6156c275a118a0a684418a26ca3729040638297b4fca00b8604963ca248e761c7be9fb6846fca80ddb519edae6118a733c7ad90ad75678792826977f1ce86d181999799c4a8156895f8cf60b8af7c1a5a2955d9b1fb2b1e8e8f1789758fc12b5e42c8e334ca24ecfa7261d276ae3e408cf81f82b932310d7aa028ea9f9347a49bfa0ed1a5bf46554a0b52169b3f7ce016b06f16c5984abaadb5254587bac837d8a889b51fb6c99c79ddd5c0c9445392908343b7fea4995760992f194d7035f80fbd0b4f33125adb6aca616a4116b9e626904cf27533539539ee6dca1d4d0650ddd6391171ebc1ce4d5d94b056c35aa60258a80200e0ec2a1fcfe8aa4fd8f2f40b7c31dfa0e2190d095df3d64b369af92bd3ef22b58bf7d128ac23f749b4414adfdb65a4803687ef3239106d1dbb1a2b9e9b717d39ad3d1d5852904bb57fab439a0d0bbc28829ce903149aeaec08fecd2cc492db6118e78d266d8cc4c971cad3597179699e65afdbec37d305c9aa4468707852c95f7c65fd03958c490f0e8c2a9a9c73635c4bdfb3f79cc85cfdb6bf095af059177dd974f6e799628ad1db6d7930115151047eec67f0e9005e6db2633d44338731ab45fcb0799e079bce00d3a15cb7dbab11fc3d5ce4bc18b886e987b7a6f4cc7b717191e6be4c71347b128c3781564dc0348955ae511a3b7029213efba9501f179a492972e22b540fed61a0f9b22cb7553cf05f3de6681047aa567f2f78666d63154407ff311b8c4d324b32287e5b0284a01eb1ecf88fb690c63d1a94d4b61c5fd1c905b5e6df2010c216bdb9d32b388fc098a7870f633da8b7cc9a61fc59f862f258e2a765eb88d91ae3b3ef3835d93d2a7e4350b78f352b6b400e8f0d522bc063a367a5e897110c76489a9fa34e8c7da1247fa7829d04c2a2c2222aa11a769c094c7829893ad78157e88dffd51a9f92b9616f6a921aff04223f6b902c2e040547945df453ae9082af2d5aeca3d8a68268141cf48f5194ff35037c9334a739a33d4a90bcc3469bf052a447a2ad0657d602b5f6caed814556ac42b9b41b408f4669da82b3102e991bb3237555e868aae5458c62ca7ce484b584445428020a6fa8262d927ac3d50672aa02ee69ecd08f41d2a67dcc3ab832c597530359969df5e7d62594f3d9830830f0cd68ee95682f726ba829c41733030899c5e03ae4e392217ac2ca3ea200cfd27cd2397618b75fe4f5ae517e2e1c02cd5771567e7c4100390b2a0f161ea384a41b606eac0f041343ee263271d768f51433cb9879e6df1bf60aa3f219ff5ee088ad92fc5f38fa9491bb5b9d5ebae401a690f1580ac1bcfcddfcf32dd0694949ad5a1898d4182b376a0c720917b6b1f2cfbd47f05c6a4e480072c31a9374fac0df6aba4c2f691aea30fbd99eb7c75e5ac7dc3c34b02924e41c3bd65f6e9a938cb179f0f16defb34451ea6e81d8c689e8815b249b43fc1db1b09f7b479260242d2da66f45165ca0b7692aabca26f29e91d87b52309bcb9f1b73493521c153565cfb9af3363f97d867e3c73b94ea32b6b3654cc39ada25891ea19cc73d9faecc75620f810ebc3db5bd5dbe7b9c57ca366429f8cf528f3962f0d0aff247df5e97dddecd5f77841991b0e3b31455b77be5308aa551b070c58e1e901ce67e705488aa81c2b5907f3879227bb46b1cda445097457a952aae4211541de232a73e9d4faa66805c9c53fb75369c354f4ffa933a26bf8df1d2cc39ac002df86e37e81249689cdb646c3046654003fa6794d312a88f96f404624eb42f0d7c602f3c53fca80a3eaf75133356d3853fe75afc6a4f21bf3f0ecc3600bd4fdf48c318e168920af1f2026c38ec477bd26037a5111e8f470708a345e06544ab2ce8186e6ddaf2cb37141d501eaccdf2d9d7e032741199c843ca13cc497cd985415a5ae9bead3be6d0570c337588af252839c24c8506b4894c87c34c212c40fffacbbb52eab37ba1eb083d42cb22f8a252c47e3ea84d3dd8c5c1a3e3f16e47ce26da9a71cc4d2cdce6817eeadb4664a5d21f287edb37baf920fad4e39e4e0dd1058409181ce7d10cd387ff0e0a2452bd18535ebe1865e943fa7d370069d4a8b424a005b7b544d567f4bd9ccee87adb83545a4a19af5aa27135f90a6b8a6d1e86bee921a19a1e5448449923f080a1d2896a17ced239a8b9f4d5af247271021d50fc5410ab7c4a2059ae449b43efe34110ed96fe74c70dd7d6f5c87352deb60301f8337defc6ca6ad822d7b9168670606c1a96fb7f21187db6f6e4bbdc21db4b12e790a7e4e412ab0348b3f19c485913accfca29c2ec9a07b9fc3a1c00c43c30d20b54c75aa744553ec13017de4c56b954528231b8c73d606ade9fa5eba52baea825b7f44422b958e56e4ff0450771cd7c0a8cf283c014654d7335e325c5092d622f51167b04cbb58b03ec28baa17dec7128d3104edad5bebe7f75a7f624eb0a95a1d31a8b0f89fdfec7b55af907d78bb735acec2e84924c0e01b3524a7bfe70e5179eb05139f8151879f9fc531d1f61df76708edfa61d2df3c7c134f9ec97a85e0697a51693eb08976c5420ec2d0dc64822e3b0db61614b576802dea590d6228d496c286647d633c274dcb6cf9f4b4cf0c9e643f085496650a193037df414773e859e6dbcf607abf28c41c9c8de481bd544d4d576f03a541c58c7905af5f4d002a66adbadf47cdd594c40fb28dad0bba108c23c0f668049a86a83800a23ce590f5e2fff8be7e6a46bb40472b45da2d729e74779a1197acb5ed7056a29b95f998e8065b56e116b51f68f60bf99244b1b21bf9026dc20e699d7219522c2e61e1362e749e9606eebdc32ed538b8319aebec65ca4a3e43b90b33136f86d3327a008f0d4c345f539c8b2fcfb916fc87b84f8973cae1b1d111c1fe2191918d24eb111113807419aef3d05043262258bc7b38f7b0f4f947f170e7712737401327bb9be3d6e7faa90879c3741141eaa81a2e63126c9022669d15d23dd1fea6f4c929ca1a8443c9074ad2b0e5855be10f81a6555b9990e9f0f1d664017a3d48906e13c27fe3f6ea927c02a637ac983bd8a875f4da82116381015b6b92891f3c22a2b9e670d5fc368457841c3beb37346da49170b36ed7341d3cc5c256711af31fc8e492e1350720e46591b2b93a62217af966343686389beb2305c4c7a51e4f27bee43b496df2f2cc383a348c40de32d3310fa26819029a736efa8f143913da6ceddd708f4f7c975a64b89c8675a12d6af1807f6076817937573826b2d8088f95ef537740be91f0a8e9b54e66445e78c9df27583bf2aedbfc9c1cbd971ddc2ad9d8afc123f2da554a5b13762f0b13b0c934256c2696960382e11b27f4b369dc610d007e3d97b57a52b4af2772f8a4d6c7a56ab93520efab4cce82a60ae6d925dda3bd661a8a5e5f0e098d08b875198df4daddc18a7316b71701ed07ffe994e41c73729f7988c53da8f80884c9349819c5b849d937eba5b7c1071ac2a7fdba6e97fb3d3133587b72246fe30c77a8fdc58a60a97de933ad83be6bfba17e7e9d4211d3e1e36ade61121a956576a2a0f2656d68130772398b252fe5b7d0ace612fc4b030562377089d78de9fd74bac7ca914e7691fd8171c5c1b0f46e9a7b5f8aa011f194775956e4c2e81790dcd5986c4a825e7f178a372cd69102ccf55f7887985739e14a5946ae7fe63d6324f8bc8805fbac5d698e7be4a318641cf5b64fe8c32a9df361678210983276a9fb694599df74bb7094d6cca120acbe6e438f89f11b9dcfee0769e6e35c0239539c1f95f235b6493cc49edd131d3b997a625696f33a5205836d0872bdb42623511284f112050851b0744057053363b503b767d71dbf9a6b2b71c492e7c524c171c551e2a800931ac5998c7d04cc1fe28ea73dca676f489b8ed3153ca73857cd6898b31200d08870673de98e1d95c17a7a721cfa2e5b6a3d62a72e413e19514f354ceba0cb544977947173ee55710b989daefe9b30076a2cc62ef5273c5c2451a944b96f35feca7b676361b5f5345a770617e99153e8c6fb63485b7efb305abd2d1644d0cf61383556af2d5df7a6549cc76971df23c586241ef8a81ae7172a37316c888dc049644b3aa69e840760348ed9e974d0aa5b3bd0b4da34aa7e990690c39561e7d48e798f881a58b896d510cffd07e0864fd98f7e94e0ad51cfd02c7acda9a383f8f7392c235845e621ff36988e60781a1bd579dddf442448999c5514ebda0a40a86915147c468a8d03311a41a74ab5af7df0b980ebf46d569c04075d6eb3354094db1481948a3f60043b9fd21f1cc8cb4a609c345c15fa113d16e19672d1c5cfb14f473af241b31f155a9faa78918774e22cf650e29a7429172f82a9800718ddef9d39f00abff117bb3dcc7eaf09fd217965bba8b82eda9418b59f7136e5a0b262ae4af48613d5837c79513bfc01db83f57b6745eb16b8872a1ae7b06c7487a3a8a64cf66bcc6f060d65aea237ebc66ae52b56257dfa46a636c8970e610e8e0bedf356b99d446fd8f79288592a58a63a80aa16add06ab0973654d4873de87fb22bc2feec3bce994d0bdb58b0bca3ad74c81e4e0852612268ef1c6cc139c68fe82b0ada9fba2aa39a2c66342202160b92cfe7ea2e9532f38bbb5e73174c5a4990bb4919650164674b5786d6e2db8a8fe83ae83f5b809b66a59e4432a1a4443f27706061ab0c6fa17cee8a19fd9a09479a63727e3c11610aeec870b30104badc9e4c1833d63d7bc21978d497227900a9ca8264475d58d0a062a6732b31167bcaa08e2a91ddff225527d31ec2cf226fb0b83e6abde35fb67e186356075b97da6dc04ee5799b9c5378be00397bcb4f8464777ca55656b998df7c0fe6b27c16d124745347824cb4b312cc3774ca6f62676b661fc5f99b562fc21abf2ccd89dea61be300bd823e8949fa83237541c2046964ad6bb0a5e2d5f4aeb6c749dd43cb8562dafd0c715719499d95cac7a924ca51bed7ffbaa726fcb3a9bd58c3c7a6b32f03f8adf85f95ecadf85e8cc718d05278fc75a404cb1c5e3826e99d06f00077e070259a707f5684db2f534b7600f27ae07a7143e0906c6fe9c47581951e00dfc7a1ca62446bc63782cb01376e07429c66b3046503e17c44e7555261d96490dca9c6ab5fb6d04a793f88913f7483cbacf6a8aaee8c87fc27a06ef224f34d67f1ed2a6ecc4181310fea6db1d2fc2d5c6f37623f8a0775b7fc6bbfb03f9a73d7a82efeef1fada6e8564eb24cc2425d128310aff07014568470edcca4a62fbc11ea4175cfa126e190e1c9274dfcc486f841be727c16187e1b5f3b495d29767b7490d5d5961ca6a24022b7d2a027c7d68ad943122694a573a1359816859ce9bf835a50cbec9e0e755568675192f898f83eb0e63bf1480b4ed19ff91c5a6ed4e62b1a200f8b6fa23e620e56b2c322dc543f1d045c8f8ef41a816813e72753bf59505c9873466c514fa05fe13888d2e133cfadfde2bb6f07022eff17dc1aaf55795abb6f7fbcc017a6ec0add60d3bfae0b40f0fa4d884898e3edef02f952443631391e6a27c7519faaaafde0a695ba399f6d21cddf156a8e4d61675d2bd435fe78fe388391bc06d58c6f5eb24cfb3cb0816b5941d350741abc4a77ad9a248a09f1e0ca869da0e8eddf6dfcc1d5d542ee9a5e400b13d8a53ee008bdf07e41577a96b8f7baa25f6ce490f9aa66fa0908cc4ed304bed8018fa906fd20d96dd7be11e05e87352525bcd27825f13b6adbd4a2d2d144c858f4fe020ee271933c1afdd7f8acf34cb0bd6ea2355363e686eeb851318b154cca9e68b365191e5c9db75567ef56678de1c141f5e79ee13ec71e8a25fb3221ad84623d7da968dc485e04068b3f0ffa93daee3e4ff64753678e146e99900e1d8f4c84567793c7218f5ada7a38ee6dc62595421a219883b5882a3608d4b07111bfd4e431bdbff7b721c24aacdbd1aef65ead9898737f190fac5fe933fe92ad46839bc5b5958b3eedf382bf8125e062eeff30c1b79d75bba82d671aaff681dcadda8c26978c7b72e1f4dfc7200db2a1fb8696cf17f2b18e4e690ff166ad2053b516eddd4cb805317623d6cfc77e88cd8de08679eb1d9ba5cad453df092ae7f83eee01af7d08fd91a017b97845159ca3f1cd432a16bfc17975077b763dd98e2f602ca4a114d374d04684627e4a7e662089a865d16e00591352c88a65d333fb95fe7ebe23d3229ef06e1f8bb8c524aa307873ff455eedb4ef6442bae5bded6f1a4d6d5dadcc2029975ba57891b239e00bfa04cb58bee5f87a9918e1e61897385c143cca1d375157d144954d91dbc5fc8b2d5a9ecb0a91e1a1f19e87b2eb261bdfb391da0290e9b848910576f0320dcd8a79dbe1d1a5578c7e5f4c744642a400afd2f344874927a352b6b8041fb348656867be05c41ea72c4a9583cf39afeb39d705c7e63f0ddcc2edf6f2e044a4bc9fa9a4fd80d7673e05cb7a9eee50f0d469d38af1aa271c23d716f634592592a7c36a2815c8b8f6fb4997209f21307576766a00899dea1be2b5bd51d04fa22c9ff88ea0d48db6b311debe3417c6b9b3bd98289250d0fe04b72ed506555270312ba5e0b6a9ec841a722846b7d2defc5dc3379892255818e4670aa2631c3508de830fc15dcf291f314a6b75748fa2b77f778a5a22657cf799fd38112af150c957c57b09693e8a2b0873723826137b20c84b5c88167cf3ca7fc67bf3d470d5799755efcdd080e1298b4b5f06385e45704d6ea24bdff8dda5bb1484fdd6574ad3968a7a5d3d3da24a2cebcf59cf78339bb7321598bfeee070964e51b308dfb614ca0c2f065a787a8acbd5fb4608aa17089becb3563c71244193de207be8ef3591964002f42778596c1688fc7c7b25a9f462a0212d67b3a5c5e287010646ae33f147f0612e074962bd7e9f1d6ab10b97a4ba23eeb9d1fbd966a55ebf818e43c4f65b458d57aee61a30e5c2dcf171f58eac4fa00a573b70d6e5249e694983fc8919966cf7d551af0696e6de1bb024e2ab569f1b9a6bb0aa649ec9b36776bd86f4811f926fce5d085cff3c7d27cbc3915dc35447b4c5061009e028fd73ba3d567208e719f4500098b0f061804dfd903344460a8a75063e63465aec20703b4145046b52395731414f0ce19d58703ba90ef2ba8889b9d0ee50be9fedfd5cd6de1c870c02874de04218627d5b77d7b444c8d3f877a5fbfacd58d19119bd85cb675b4659f02b0885b2621dc71c29327e0af4516d51fa8435ad369d712fed4c4e64f571b570d036f95ca8b1ea3a0fe49d3164cb6eaf59f9f496c0fac10ab2839f95bbdf47461378376405d831ba6c862383c0819257dd486d4e9f2329da2e392c335a60fbf81add0bd73fb05d9f0efec4cc9ebb36f6f59a3b8bd5696cefb6af65dce53c107a7e8bb9de5aa75bad3426af911f220015d66c6457563f27b4e908620cb03540c0d1ed0d90e0ca825b922e2f0cd9697ea14fc728a70dd84d9eb199221b9e9c24dfe6ace1df9eeea68b8086ff58d9d1d15801dfcac69de4f96b4c394c5bf65140826eeecdd73ad482972df264994a0f587534cca3a5496f5b3a696d1bd7edd964841f8a1b8172d018aa0dd28a544c1e1224bc55a19d5295cb959d40dd0254409337042b66034c8247b1b73c68795ef417b48ad94847cf413002d3c0a6f2a809630d192d36da0210498b87d445949d01a4af02df6455ffe60763eb7480d155c5c4f204464f82992531e0a7a5d24f0c59a873690485866bcdc067eaca8b649c465f304c21247f85a18d38c0a2bda8ecaca3699023188c3dec296937f0998d3f02d983eb25e3b16d8c140508adf80d989e58c1a83f0bfffb5dc91d185874c5bd120d9acd9ee239d22894e84451bdf43d21ae7d67a0e4ef4bc271f3cb4359660cbad5f8edfe73279ef157ef10db00deddee140b7f313df4ba0ed7d9e4621d5efde443b0780124b60725bc33587e0648010f3e584148815ab667732ee7e6c63ac9a475c543d6af52e928510befc36b35c3c65e1b1cb315119940c971212f50a305db383bcda9b7d02a77208a06ef4462b51df3d89f33742f5e0123740d728ee66588faf262df55c6f3fa5ef1a32a4defbe425d5f702c38659509d57968632df477c4fcc05f830b742f506fc2385a99e328a366a114f73eef95e9d889668383ff899f63a5d55e122f75a979896316194bc84ac89f7c31d622f9bc220b98cd174817ae6a56ac82ff7ce074740637fc16ebb4149dbe726707eec2ce697fdecbf5de911df7292ca56145b0ad714bb78bcb080b6aeea43468b7fbdd347b5955d049df5d57ff57ecad4229ca0f94bf3d9fc0d6af07faa4d9a48df6e1d8fad5c4e2538ec05a1433c7bf62ad416515192fb9110143fd41162ec5cf1587a47f322b3b591db103d5e82a6231bbe020beea19089264b7a980d8fda3f31bf352b55acb0871ea50f6b8fd23118a067fc31f0b410dd7e584f981b6b79ad8b189a5cee59414ba6b445731d3f92157aa9eab7cc4013b39230dc3f2edbd56efdead39e9a67ed6b53f14ffbfe2aa4a76aaaf5f3ea5f0fa40ad9fc58bda174c08a1555dc7e993d57c9a5df4d0772b2ef1123abcb0bcf6571ed2d68103459510ad7fb39fe511922a4fc87c8f0438fdd8188513f400453174a9330674d6943c069a824661937b96860bb5c1a8e043b5dab1eafdd93c30ea99cf505a4ab7a7f04b3bdcaafc56c1ccd47ead4a17af542527ef51567a216d40e56f488d3b10be505e5d474b742744fdeba84331fb886c02fb5a6139ebf0930525d2a89e59a44539726d4771f17870b1ca37781acf171ddde01d7a07d544f6d7ffb0e0d93675da2d15f64a5a46af6fd0af896b01eac8f84992e5d6022b5c8a5f0fd1a1f7e5541a48052f288a52d9743bc2673b8f26c05bac7d1a6990c803658bb65b3c6dd0dee0b85890cad705a1efc60ef322855554a85b7911486f16b3fae6f8c240a87cbffbf44d0cbe6dfa955282ac874301e5082495d126f274000904cfb28314b2d0fb1f46ce3d21bdbb801efece9459f168fbb71c3f23796683d657fe75ba5f1a85882822532c29123e0caa8b1b6840e293b134b098660d5dfd8e9e301a63769afac09e30803c64d1868bdd8c9976e848cd2a936f12bbffd7d938a8d0452e15288ecb0447bb08c237b2dcbf620e3e30644699a4885e2b0d6dc5fa2b53b3e1537a5b8ba41134a7ef8dff55d9bcc511954ac614fa7b365b1f0c81211cab9b18f85083035c151e51c688b2af623f70c4439dda288569c951b9a22275a73b54fc28746eccdef29d0c381bd0b57ea8de26e615138a355577f73ca20bcc579524411ddcdd7180e0dc266f52f9c4b7d30a7bc5e358fb9d05e56258f6435d37ec563be2da89c685cb5ce8313a44614f0f63e206d0337388e3aa2b13a4dabd2d655c330850dd748761a68eeaffd426714ffa7bbfe4a4679030779116cf7946b545c092ecaba92da40d207c583fa04390ac29f2924041b8dbf6c934925e37e2397ceac495b352b6d61ecd4c6d67cc4730b14d7d6a47b1b154412981bdf955949540c4f773006c65db71f7655b1dfebb22dc50fea8e6bb743fa65a136d833b2cd12f8f929befa4497ce80c19f0d710f707923633887309f0b7e6ee7d93a6be4344bcc401cbe5b0a419c2b42d58a70ca32791835239b4ce0b1dec41878877ba796f7785deb41268cf1355a527801b5d2a053d9a882a995751e35572ff0c3372b519667f9c20503c774a482a6a3d8e4b1939ebd44e3eb6c73ec560d55a5a6022395a471ec6fc5ee37d6d4d20cd8b00f1ae439063bc4a00f524e00a642c5d974009ccf4ca039286c5386f2b0f9ae601adbf290d99dc282a8d0fc14f97851b997c4a83f48150c8f2f23eefd7fee6ab6e198774430f558b24d1c3186a8742a9ea169829d71572222e66962c9ebcb4b46893b7a37498b41f3ea049317b12cd1450a6b6107e4d13d0ae4bd3bc0572c586ec56c5ea61f2cd442cf5941ae5825a36162c2f71a6ac976013f0f41561940ddd7ca3671c5bf3f1294d7e2b35a3732cdb8542cc80afe6f6e2f9d7b4248cf0bce134627d5d0e59c4539fa0fc3c6b01d4772e9eadfa16a8cbe8e03fe83f7f141497de13b793050b5f698cab494491b1b314c43194e1228a1245ecba79f5af3ec065685ecb102e138db7e533dbc3f14efd2897e1e548a1490a80d6623b6c36fc7093516c710a16e4c85195cf9252e62051e8772e67fd81c3b64ecdb13761c34561641aa3f0e4077200ca76119ab622fb4770ca0d6434bf343d2d18e2724e1b140a01b3b89ccc3f69bc92ac8b672c895d803ae15c58eb664f36c268c4256a1382004642d5600244c97a35e84f44bcce1f14d9971d4310696b1f7522db3497491c7c1c9b80ffed36d478149987eda298536b302d9d16ec2184f867cee38e4e7ccf70fd4b31f6dfcd90aaf48dde0b18a012d5bf9cf6ec68f1d229a04cdd5a648baffee11b191a79227c412611803b4f0ca25641da1fc2376697b2c435f0f7ebba802742a15cae2897e451123362719f3b85f5072607bc5e5d33e67d2a32c481df7a8de317e2f64d901b1db1355762ab02464802797fa7ef3ef87afb6cc1f6856a55e072aa263662189ac50e9359c6bfe4a9360cb6a2218a8dca3d05503f06ab18112cf56ed5e1df73c911c77e19e711dcd355dbd3b5f2e05af5609212889596da66b74d28a2f376c2ff32b93c5b7b017b48df3979f75e701829282f94af4369156f58ce5ceade9370746de30c495b1fc7a3cdfa7dbc77e799b61ae17049ccef09ddbb25f083bda2442fd02fb869e62ea96fe1da9fec121ee555cce206522a162137d83b2d24ddf79636a9ef023dac6c46103b65a20bbff25d0e41ea8c253f317c6b9e3c47d97020d6a3affeff50ce1f900dbe84a15e27d01939dde6fa7942b1da8a2188a527e20aced7fbd78ded8edfd6e80692ea8950c7fd9880bc87f73a8ba9f679d5d5cc348b02d91a6c97da969f54012f778eceb6ccf1990c71924e09d8a43fbfffb2ecd7e1475deee4dd55901ce84d371b1c054b884fb8771b8c009f654c5fced03f23ef3eadfb776859909ab65be0743eeb4e2772c28017a2f176ad749b1e506c763330d9340774e092fe2115624b92e0f40532c215d2ab7243e456bdf8e81d549861dd19daaf8fa26e5df1f1b4ab34e47ee4500fbe9e8842bfdce48546f8f6a070f16ab283e97e265e1539c67c4ee3ca30742acf27f890c7f5cea4fbe54f5d91df4365779f0caa77c1c8b7f6b23a2454f594e8ac92f05e299acca9be082b0378653251673ae450e8e3904555ac10d8e4b645fe524a95a554e9f1a0dc5ac33a6fd7ab420d8810903ba5542dac501e21946079bd5a7c3f5812a2ee62a312a80ac89e44bd9bdd15564f4e3b6bb0418b9478ef4c585dcc7277c4cd0896d1b6ecd22de59f28b642981a50b1ecc5e60e62aec490482d72dc6e38a2ca0dd594b4a6e6174975cbe8b2407c79b3d0744409ae554c3235a34d2e87ec71c8f9b057c128495410fa3c932c0c67fd77ea084510eb18608611827be36c9acc19cf8c781e9889abf9b19222ce7238288f2f0742a01db07cba650d21268da31a0cb18ca436c46cb75d2956423d5bfe41cfd7fa72c84fcc46b2a76d0e2918356bfe104294a535a8f4be2290b446defef9779a6ec2cb04a763f0890cbbcdb45e9b36fe65750fb0d4a51fe1012c8c79c42392e57864132bfe5095f5cc4b7a493689a82c790bbf9aa6ffca6c529efa26fc389bc3ca7da916cca9d78a1b51dd43e4c0a6af0366ebf634d3105f2539edf3389a2ebecb3c286370f11134b86eb6ce0cf4b8ef2b8e206c4ad1f58c8396e46f8c3c5870d5b1ae193d5224bcfee2c6982f19b41e27c82e2ad2fbf35109baa09d73f3791ae98076886ebaebb658990c6b3dff0d083383f59ab506f8ad8974cfd4cb45a4e6cb1bc6d9fc181c19fb96ceab05a897d8b195c383183e453808c59d97bf7edb82212461d06d35f91d15db7bf70d2cf039d09f9bc7aa532ee0b4cff13c4e32079152fe7bc45b05583027c21815ab4b970046f1fe74975c942af37a30039f0382270ef5424e4b78cfb3b085bd3dd88cb2cddbaed9d5e779ff1aff0aacd3fdbc921e3e4e7e94a4bb2f951617589bf6736e94154c1f8f7f261248b09d1acedcb1bb72d33a09b60b79bcd415ce61a5549c09f3f7de9f56eedc3659de0297633a04bacc319e47697baf5f12197c0409b4459010b1b8834f94888c4ae300135fd0f578dd0134c7b6874b18de64c09350fac1d39f11090849fd768712bf78432b853577fece26b54449e78fe68738614b2de601baab26b4708c473220fad4a2d9cfe3d866e260a2ae560475fd2b22ff40698806fe47df26e95669ddb599186c7357ec45148e2b230e4231371da4e8352284d78556b0efb369a5998884504d9a8f8573b23d3caadda5256ec459cac46f735b430ed0415abc11a93c08adc6353779d75b9b3c1b80ab76f18e20e2b59249f085876ce4380591038928033f9ef9fcfac5588177331eaa9f55809442f6700a9a8677c5f34b8151528b67c147ebabc5e2f25098550a9174cee9fdbd0f64f687894ee46fbcea37af9be6f9c95981e5e242431a703f8da913d20d73b3d222384123cb516d1eeabf8dc45932cd853ed7c232c439090ba12605c2a5249744bb68b895250050bd4c400d58a8032cf6ca51a41ce0e29e4d321a74ab844ebfc40c251808992a110a94d50005c10db1d6087e36a4ab94c6e6728b5f1b6062332b49f28fb8de6cab79d672617b7e71abeeef4627d0833bbe94b481395ed509bca75471f09c30a044bb9885c60232fa7b31d5c3f49e027784d598f3e3585a14eb38f6f520fb1a1a4b62e395d44decc83b30852cb10e37277822b3dce6c84a0a889bacabe12c8d0d527fcf11b4eabd4caa6fa2f6110e5f6cb1be4959fd654a092e8bf58212543390185933c06fda72d3cf2d769063ee1d5659b5892d123f4b6e5588b7483a262b1ca333b55fc0d6d59dace32577ca125a115a024b552fc81ce2622e0c61af00b5cc9341706111bad375761f2307041cb0e93ff820b93d5a2d32c8621e6ad710c78adc33ab03defd39a72ccd154c7d4e4724a3d87438370e759938581eb7e7754f6cf505426f397a1fc2bc002913c9ed0dab50656812c62c54baf5dc2fc894f2175a9663687774b90625496869c13b43a66523865c3e88460b0ef5b7cee50eed1ec85832c8b78dbe74cd3cddf9d16387b0bb6bb7130ce882920e2cc7c245f39de98d9621689493acbf66fb94df7cc4ef2d8a41188568203adad59673cc492713e0a9d13ed603b45f1ba7317591a531f2d0c6d546c506202f98abfef9a82c7de83d16b6d845f5cf1963ed0411c77900457b41736f01a0487fa7068c6a5274470d2b66c6c96b86eb67a0871a97647f9e6633ea9c7d7c21c2ea0fb946cc32703171e102fb7678d638486709a1ba198d2064258190d681537eb9e6bc0fa5ba3af59e8fc360444ddeb626760d49dd3ba8fbaa12b6e080cf340a1f177bf1d5c850ec6a4c01c00a77b89e191df974a25c410076f2ae72b1a55d50d5be773d0f1d6410efbdae106477eab503e8c4c0f0727d3edffc3112ecf5816aa2d1168dc821a71fd4cee23c80177ca863a6b8dfd8c01f6bca456550c8e8f105643a99df9a4927f7bcb80b097fb450bfa2bc1017ed9b40f775e9777f750a5bbeceff64373673a3bde34f8804b3adf3b69f956b7db4d6c3256da25c59dd73ea50c7ff0fd5d25b6746731101c004558800f9d82348807e2e5cb58f953dad026da4f6479bffca9f1cc014656e5137c77467c7c9e9f343a85b6d570bb2390fc93df9db2f0758d80b3032ca9a376a8627df5effec748954be693404eaa7fd5c3cb98192800ac39ad28dbb301fd5b842e9c958844751598d9c798132e260b091d43fd4660e581c87d13bb5cb1c154e8f3f3995bc8a08866ba5bd22bec9db5806a0831c8f25916c32934dfce5cfd2a45576c968bc069a2810589495911daae8157986cb1014c5015889761e5629f3df0e7bdf46dba9f1d2d2035c8147b8a054512a4c8899990077864fc43914fab73589ba7c95cb336f8c95a398b0ee3a0b8f959e137adb7722f87d92aeea5bae2146dab4b66b5a0e0214fa554c0f6e46b428ef475847ae156a294f562038dc385484273e071994c17e13900fb5836597c06d8e2dc4568dfa60ed0f4555abdffb84ab128a139206b563df7db4abe7f417000cfedc483955e068db1467dea753da9e4842869e42086c6cdf2cff97530a7260a8e74a2f152864e8ade9952b1a8a77baa88311d0c60e3e568e69c46b26f285b80edd724316e27a45eeac12efeb5485e23e11b5392ec52bb728f187954c1f95f3dae0749ee00bc40db035131e6a45f27b6482f9327cebb3d9078703cabb77baa6b9eda8408de622f1951c4f4947a4eceeb6bda7c4e10bc2054f8e102fbf8fd3d79f1deb7b5e9762f8991fe39e861811e0aff406ed5d15425e2f41be9819ef57feef00e17585e117a6b513359c59080397a9d9a16203984388530b987073205f55053df804da2c0cf17fd968e06d2946e05e13748d06bb6c9df70e2879d095690583a1695839e7883ca2f55b763c000bb2ac4fec861393dbfe1d8bc5da6d02a038d197fed9c3408be00f6e5972a5b587d7fa2ae94793f08b2c94512854e3f0518d3d965c68e9fe1a0bc57414420855418f94998872c83d7a2e431319e36bb13b676b4f6a368ad0fd4a8416cc19755c548c0402aa1bee7ce0bf51c63fe7e8f92de065aefbfe55be7ce57a7d9f0ebd385d377ec582830d6f7778bd1ff6df99c7e6386331226dcea3239709d03e806ac32b1d436b10","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
