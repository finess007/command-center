<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"e6770f8e95696e96620cf7a25e83be9d7ccd7f022f6119ef61df49bfd76752d47cc3bca0f57f9837cfe2a9a7e35680f4ca642bfca9b9de843647eaae8d8ef3de01232f4739a2f3a0b5277f7cfb3166f21781319bdd049b569b5ff15b578da69594ec0c37a2357d88dc61626eaa21a479103fbda1f4e4baefe09bc4becb48dcea6f2b68e89381469c4dca13e4aa8169333a4ac91fc879039da8cc569188189c3cf638dbb702fc4cdd45e8c977449379b173ac61103466b770485481c5c3baa36b610edd943927699f73d5a79ddca9d93b6bf50258ecf009ef1f4aa41f017f6fcff75a4706e431205f9295672500321c4b7e633b1bf25df14acc65e4d5775e7f57326af51b1a20fa215b3f28325cde5fe6e550d26cf40a5701166d0b6e39a2b1e4c9f091ac5d6769e3186037c05ba2c9d1628b1062f28c37da5c29836a658042126d61413058de923f7155ae6558396027de1a54e7f71d7bb0b8ae2fa8f13471ebc741df88b38afbf6a1de5149df2dbe476cd86b540572e3a09f8b8b134ecf3ea69606e399c45283640cc4543e1c4dc620440d5e63dd741d08977a8c2d8e204b3fcfe10413267ef249ba29e7f2a0ee6cd054a3929e9cd2398d85d5057e6ff9044d6ec9654f5dd5ee1fb67491c63a6c945c44fa359568c5fb185fd589d034553b33dfef680791615d29653a87eb21b517747e768ef02c45ec6b70b5ddbbe0094f7c2fa13b986dfffbcb5218d48017a193e663a825fe013b53ab234c39a555570417912a8487f49b5e11732a206f144acea7fa23a2bbe9b90fc7d7b7853518accc14fb301d89362628e6e5c67760c6732e74103b1e5202c4f90c297b576ef35db23310d28ad80bd484de39bb30318f9980a03566f4dd1061b74be01d03a7a366dbd4c002ec5b6f25b7a2140290ec1ad52859d43abca598ca61c1646ff570c96c7cab73361f32603aacdf8902b1a7cbabd5109100768392656173cbd95ca246de6b333e85252a52745e57b845e96622edda296cd9ce527e7457e44d64e4a553b2ae9fa26c6fd264bdf2ea2caec7c67b07d589d2538769cca73e9c79dc668e14136d661e1e8066ea09f5ca390a243be0f9fb99738bace43a89de309c9c9f4877456afc36b6202dcb63375f3d8ffbdaafb2461a493d69fd44efaa2bf067091d27c9ff7276fb328f827f2837761d31809f6ea71bad68aa025d8175310e36c27cb91220f17ec07e00e1a64d85bb3d602fc7172539f844660dc105eaea2d375907e3bea4a260c5a79ba5d2df476c752292afce8422f51cc7bfedcfbc9b17d5ee3b96c00d623c0c66b65470f60180fcc31d8970430c32899490cadb9ced421770459ce7990df5cf08275bd4117254124dee83bad4ac5c9d58f5cb6eae29f879c204c66a2e68bc9bbfad7d766f4b739bea84cdd0bcd48465767d6b6aebfc89ff4376ff8044aec73fa6022fa829789410b98f06f3e698b11a380cc790c7e8b34d615718350a2b2e1c2f2d76ed7c43b6c00bdcda12c991ad7bc355203ba7842749948502ebeb4d266741aa209fbe61bf0b407fe016857661101e71beede83c2006af59714fb1bb14786f614c75ed166a493e89daf99ef48d5b93960412613c614dfbf5ff2af1060e524e0474615457ea02e1abef21f319fa616ce69088ed8c82718ba1b6820c8597e438f9a5a9e3c97045bdf82266d16db6a39db55db0f253f14664ad26cae8ddb46b248ba745ba987adc925d573f497fd164f114a845d57229cd0a1f186411aba0642e7e9b10d7243a8fffd2962434ac141ae95af92e111e1daf742433b07549adbbfa12f7fd2e4d660449ed233216d3806f732f536693526072ee8619a73f0fdd17edc3146c5b643eed94db3d30ba0354c77d3192fb3c3e2e179c2524b8727725b137d677fddb9406b5fb79005e155f2ff22c3ccf5ed2f687cc2c30db72d933f9a6ed6dda3c97598f1ba17f10a585b91c05d7595189d0e16bc991677509cfebfb6594edda25b8b73d04d68f613fc45e661b0ab54a7944539620d42feb5d694cd194e25f09c723818b30e0346a2f8171aabbda5ff883098ac7092f4d026bf9150182abee0b01cba8309a6e66246222ed7cdb9ba45bcba4ad6dcf327d0af3d5982c51b3918e5b09b98b3481361be68a4fddf1e7c48eff518b6eb33770eedcad7a860c8ee02121f67acc0d42a66a97ead44f4a9d4ea6ebea5ae7b3654684c54307273fd697ebcaeab0a281b518d4e63bfa9e7bda60c51011771e05f56b9881728467293abcb0703d041ec2673ace42d09b7f162080d3277b0152d386aea0b87ae142097f571bbe20dfe199d4f49b46e3062c1c5125eea73a13288ee5e0be5f5dde578c6340dd4045898b4c3a75b3c1d4ccfb53727048eaa63c55d7a043b89f4cf5666be6f3a2d5f52f7db88cfd8cad650aaa8dfdc2e73659e42e46fe56620b250552c784ec2baaebbfa4335c379da2f923c09200a9e1dcc8f02e98e6541ffb1490555014e0db2320b46ecfd494bd71461d8d5b02ec54e95fb6dd111d94704e31bfd700a9091101e63133466e63f7f8794a23e7b4c3167f263fe54297a2cd42dcf2fff38b9be1c54fa5a95e017bd820e375f0d40afb78e4b51b047d585dc6079b405ecefe3582f5d143d15249e066a9cc8ca9f9dca280c3552680a2f74daf1e2fbc7aca8b2551bba9172b04e95186ca07839ec615e96b3641a3c787545333c036e202416fc1e3880ca9869d0716dc884024c226c109990eabbab0f697ef065263d4611b390fb6f2abaa143bb4a784dfaafae8dd576213e9ddc6db8bfe18047a742829c686f35884f7ac3c474dd90b9d937caacb40bf5516c20f99930e123f100d406f4b928cec8046853c673139ce93d2b9fec5a7cd1dc440ca1f96b6a0523c1b1803a598c87ce8d390fe920b52d52d1ca83e79e9122db40dfc21d59ff0e81ca509446b972fe054a0ab9a835f4a5ef12da5935e0e9823b9412209666fb5f060d079bf73e971a2549809a6383d8ada2904af8027ea2f4d3f21b116a65d0c1c1b824ce183f411d94b913d3a44810616aa06d900f7bb13bb98a65fde72dec4345399039d97fed4abc720f4a8c5095a037780282120ef142f3df63a1fab09a244b8e27391379c6187a1b4380fa9c49db29089fd55ce8bd37e3f8bb832917f3df542be7fecc75db650e1b8687b7e1f8189f4bc839222198125d3afc8bba602f72eed27518dac4449be75ca5b8ad88156f14ecdf7aa54e5bbd9adc6a046120fd510ab50380a614a3d7db8dbe759c191d151d89b7095a1baf787dc2def4385f5b5095a40d09be5717fe9faf1a97d1570562ab030089fd7a89088755317d841ebf38c5a99d9627ac678de0b6063b3f285104689972519438e14541ea88424a1fb3ffa2b6bad2bd0a84aa64ba4415fc16ba9efa121778a37decc3124ac896cc52ecca991165f936be3a30e9c09ffbe6ccbf47dad3071d5d9c724a4d50ee946a42a8da81ae6f3eedb9ebd4b09da93b8a23ef1e2fa81b2bffa7d5110525b1008eb13e71a6ef40214211367d8775be3627ce07de9c1be50c3d3bd3c16de28c13e2c5e1bc97ab105891783a851191f7526dada92ab6a22f5f6a11473d21ab7ba686f46024872292da422b519db2092325f69ce9d3821ad906fad6bd95a88035612ba8212db0affa7d4926cf12f0ce901bb2278575d9a374fb3cefe710816935315325d25f43beee451426f93e56d72562c2f92a87742b79235a90b33379b6ae99cd921594e1c64399b6f89c7c45e8410cade52365308ea76cf6552215bae7c3937a9d5fcda5eab19c7094614d51c39975adfa95f253216e7be929599cff06471f29770b10981013c54cba5f7f5aac20ddd0a69889ffcae30671ecdb7c03429aff2b9f9612fdeeebd147b7201a77126469e6483015a2bc4a925d671fff8233277f862ee1633b27728d2e81ba0141062c2cfc81ef20a606762a12f9ec695da2af613efcd35026a22e0e50341f3d6e4d6b2fb1ab95976fef77f0f694cdb5287e1ec5cff780169919e6eb846537beacd8dc5db75feb154787b52ef772bf99ea6cd3051b324f8d33504f3c713ac960577934b4a2732cb1eda01bd19ed56b02e56b4d3985b2cb669770e5f58e9aeaeb79e6332816bb2037ab04f890dab9923e52c049b1062a28d6728bf7d341b764f35359d10e9c67df4a1e131027f2193a953389c25da3507b55ab27fa25eb6d67c8836d6798c33703dd3eb86896165040245a233a2a584c0e43d276ec48764dbfd95c34f5392c45c1ac7fa7cff12128bbf2a29596ed272ede29c60f8d692738d4eb5fed35f1fa37806f0885c902eb02d98592c9c36fd016baa6193655612eb82e26c1bedcb7e1372e6df937c0b48f7a670e06719837e4691718c3d6e533f047fad08c98af8c0bc7479277e76ba8da1658fcb91c948901765682b47c06949f9f2a73f3a4ae535b55ea35fed7d21da00cd54afddd8acff8fc2354ef37ccf5847d388233615ebf96210e9c94c175b688440592afcab939cd8952a437056b050a2566fc8802a54643c7524fe8b1e6a26526087bd146f2479a6c8377b6b4dce01237d2ac27762d611ae76106bca048ec43e0e532b844a7d3df46e7ba04a3f83528415c1d9b965b3aacb175fbc6021678ea43f47002cce4554d4e40a1106dfed2cae63a395e6f426747ea6a7e3d6a9e90b691f9f3cf5e5dc7b8d5b0e48fd3a24ae44ef50ace1cab11d23855424972e4f88c4bdd7ae04a45f7aa127628a62212d19e311683a59b3f8377ff6a38ee5c791581984a522513b5d6b5e19392fb162cdb64853de368d359372aa85fcd3b623675dd8e3568f8f42f5b3d4fd8f3b062de209a8def06ebfa0a169b0f07225829b1b4b117e7c352dec6981d2f9429b2df16b2f200e33786cdf418519921725ec066a0fcc51f031bb6c6d6d1201c530bf0298c7c67552fa61494b0ae1667bdfb10359d17ec07d19be3c4132cb68cc332f1b97bda15f2f547571056fe14265be1133809740e2c35d1d7e9b45f9131ecad5508d6db6e342c69789d7bfce50b776f9071b85f96d5cb0840068b066deedb920d57f28c3e44275e628009a7d885c14ad3d5e080c0fa24e521f6d4bd1d0dce3d2135c37d65d9fc6019a263ca112d1d8426bdc387dacd32046b23fa49c4e6d1317258834415d0de3750b7dfd716fa80d4e01cd45f812c6c66d41acf381bcb7bcff2c073aead9e32c869479123564d052b7bb888f8847ffba38bfde214c966fec02cbd77ccb768d4a3e6fbae6e4f2b4fc1b516c638351cfb272710f3727fdf825291d1808ce37fcfc3f5b3c54ff04cb1ee16e4170c30815cd4be8f3c52695a865a90765d61c9c0ffa8396e5b3d4c23564367fac98c7aba439385c3ff9dfeb5c956fbf8ee91bd076e099896bfe406fec0062eed8e26c30361ee51bf27886514156c1fdd90ed441e81ef722d256b718ebe3d50edda323ab57664b400b8fd29580929fd7e90d932f7686b2edede728f9941768afd9be8f38e7b32d86f7dbb0ff7aba5f0407ad943f7ef2cc631a863aa063dff87c63ce9219bdc047282ad560e1ab437c47f9a5bf8b77d6451fbce9aa8d736ed2f987f32103713c9464a27330f6d7917e22ba2475c98ddfa7916c12bac045ce4043d0a51a0dc07af43a3cf90bfe7b5229ad23f6a9736ab2047ef3157ec7f8bc7be0a22db1b8b085937d152fc68d528f5e09831a40e8c4ad1a92100a40f29010007cad66e720cc2773ba6aeb2aa6ef24b83e9cb27c511eee844e456f424131685ff980e7fd828d909a04e34ad722f3fc054749e83d9447a7910079eec80c1623885a4c6ced92ca6029876850914b95eb0bd4e1c673a88df5acaba37e006e638d4aaf8ef0d5c0fdcc1b178844757c8b8e139744706125ceadc017941a369703528fc69f4c392771c9fde584072cd349a181c0ea16fbce85c7f587b5496c90411d9b624bd8b6a09a856d217232aa1754207f057c3a9bbda54a3d4020dd863d274dbc2505e8f13bb84c6706e62965d4b5c83becd93fe576a671a759227203e9083614fff53c71419c71f5e6364593e925736607cf8c1df84b94ea8956daf9a4e0f8a44da71505bb02581f9fec6f11210c1a4f040061d01ac4c7fdebd84a2048d80caf45bf6ba221ce0dcc09fa534ae2a38f5e2dec3fdcfadd0fbe52c5613816e4003e647f09ea71937f33224b3e3343649e14c83c5d67038ab7943e3b183930b8fbe462d45414a4cd974a570885100a96b8ad3ad898742292d55cd25589b08abe4a54f0a2b598e3be266abf1c1e80b7ba59738501218143295c70b74f0d74b54c758c60696ccd9237464a40fef3e91e9046abbd3612754e4be7503fd7e72f6cfcb4b8cef4a4dd85e36cde8d73789e1629212c636f3f31bb4625380c4c62bd48ff47245357d6a712bb7dfbb5c0f478e8b170d37310866f789aa25e2f9a0a8c2b873dc90611d616fd3687cdaaf5088efac114d4ea6f983fc91151c24727fdbb00f9a407ff2c9e94cc159016fda697d015239f45ce6ea4a112852af5416f5efe66f1ee38a6040e7f2b4617cd43211d14192262f815a6ffc6c1bf8a1a92b0ac9dd45f3208043a884a83dabb0132188bb8060b1ee7aa638f8117669c48dc0ca48222647cda4b49989394fe2558694c85d61551b16e50f860f70e6369d77201ea015ac764875df354d91d798c8875548fb9c48e2f7a9d02c8f7680dca92ec255ef7ccd79440fdb7030e0e6c08097e03b19a0ff335d5022bad965d856d4616ef874555f9938c8384ceb1f2f524a59f1acb95e905d77e3923d1881a647a95c7ee8ace05b0e31e3dc9a7310d078534df7a737158ec1a0d31b9a7fa66542695b5f19b613687d150999eb336bd1163f7f2b55933ed10f7307ed33adb3e431f03645168297c232aeb453fdd5ac7b7917b4b32158e255e0355ffc9cdbb0197b8a197f1d428e95006b85bfa56b0691e7f13dd75866be976744820e87526545115a783c1a4fcce144aa2701ce5ade76897885e564e0b113a628eb2cabc7fe966079105daa20fa6cd995c3f7e043f95897672429df31018fdc7e0f88d72bfae20f58834cce656648c8c859a4119091d63918a90b5a7137f9e119e67360e86b2056af9baabeea84fe36b73679d548a4d6ef6be981266dd0255938fe949280d58302f8c4479b90024392ba328ec83e13d16b581101e0174957074f6d2446cc21e8a437e6c1f7d339bfbf0e6a9ddae0871b8ce355b8e85c1b0f89ac26bf5bf790406eef3aba927f412301e654be4c56ba482f98ec4fc8260a57ea43d4353aff55c8e36119b6d20b3da54dd562d8fb08951c0c1c190153e79d32466ed7dbba9804d7dd755bdd898482fff49018051812808c4c19d0d37308e76b2c3cdfc830980ebf6aeb40b4c6796aa8bd783945324ed2e2398641ef1cee7e898ab94b27f4300739aa5662497a324f8ef493723757e9c2e815e9139f6ec7266e32aabce9f140c5a6ca80c38c33b5790b56dff151de9be886c07c89044b2e7efe5a0d840c7bea745d9cb9309568c1cc16ac8b5ab6b80c8b6a19fcba8fa44f3db12d53b3a9e981190387dfc78cd47b4b11efd9e6c03237693f36c004dec30e8178a5d5fe2e0ed847d102da3e89ee6e02a6387f443972e7410be3b025417a57e2cc9b4bd3337526388c2ef403046c0c07854cf28da8a6f931c22f374642cf4ee926b6d4c121a99ca88846de55549a9b34a84d3a1831453d301ba34d1aa622e777a577b99f375837e4a4cb881d3a2f96aa096518bc4def7b77ee39bed021a39314f8e5b54a8ac933be095d4b7a76a579f2809e4803989a9fad3a808af151048622efa182f39a1f7fadeae6c4c5c32c9a2a5e49677ef604e33f14a925b0c968951f1e41031d2aeaa46c5533e897d505fb2fee61a247fad78763650fba6a4c1463eb71e15ebd81b89a01df071a3ef84ae0502a7ae2a672b15537ade01f93380be831016b04ae9680c15602ddfab1320072374a819cf418dfe4d9287b7b65da9a8efd2925c142ca7ec14a80a6c502117ab24047244eda080553d053d9430a53148395e326de91809dbc6b11fc836db3cc8c6a71e894e1db9b806475bb831344dd118ed03cd16648d3517ccf8c82e669eac0c972a9e12470e4aaf414ad3b24a1020e83744a92e49ce9abea7b4052986cb406e861e5e42fe5a066ef11017bc371a27a645023e9b50455964673293e0635f3efb65b43c5862bf45644e93b3d13961dfc33ff7c4bc969cb514a08bfba193f7a2b1c2be05fdce85aa47b32a1d23eda61a6de226f92b424f2cb4b6a3d700b5e4a9fdb230c7672cac167491a3a111495484ca3d40c52a64d3a0178b1f380e501bce5d310f223ead2945c4563cffcc9e8ffe7f238cc8c593aa22db60efa54711170bcb899b344252ca376a7ff7b1b0d47f9f0b861e1562af7622db52f8e4adc3db1c6964ec07963ce3e798bb183fa4f4f16e2947ffb23a3baac815628f7b8d4e6a4626b7715f00ea8b1bf27c38b993ffa8ee9fc54bea4101416c03ed563dc2722fa050b4333bf06e5b00bd8f6322f4923ed5f918d3afefa6120a0260d752539a6b56d53251cd3c8f82364895f9ab1c1ba82411a05e6b3e8c5f894b3187fc5aebdd8dd493c83f646e2445ac9b84cb5cc13cd14f3ef416faba7879069ea1fcae4e27fdad1504c04d4cc118602184be5d1a33572b02f52deef78ed297862cb20d1e7df00de5dd6e84c5db695c230b7a294bac75a7d337caa5701713fb340a0d507b26b628a327e287740742374488cc2318db4f06d3cae94bb73e7170412d897e9904fed4a3ef7025e1dee5691ebad32785741216702c289f52d4343631af3d8ce7d87183e1ab709e3e673ee46b964debda8e57bb7ab83a3f5e46104385f2d3350c432545ac794c8542490e796844721463260e2f84ecd969717e124e1c8e7a4ba80700eb28f404eb947a965938d0c95bbf2c0372efcadb78894a87ca8fad01406079d7430571d1d95f05c7d606faf26b0b687b3915daecb33f90ccaf52b68da932eb67ac6f8da20179aae182b8d0900fbd7b107ea9a3ae35f3dfbcb8b31c7ce8d5f2df074cb82abfbe279404383cfa6e42c7de115819eee8529710cedb8c374075899085fa434fd96b80f552756995a753c7a81610019f2eed2d5d40f91c267906465eda4ce138d830eca5af9d7ca381c929c3a44bf50514a572fbae9246138d508ce29df9ecf0414828f39d84edd0766ab2ce5cc453fc55b717821c585cc5a7c311b16514a5e63fa10f61f43fcb4e0afc51af923e5807c7bf542fcdc0de16a47329508ad397436d2222b10ed11195ba29d316af00efa6e62e890bedd8e25b67c880679e440ab294aaeb153af9757b67c6aa2dedd9a46b3b51bd67be9cb47eb0518e59081990d4589d2eae2352ce877b0ecac7ad8d2291c091024132c08b705119dd2febb10dcae5586bea47097edebc98b89f8cad8af6f6afb62ad6d8617866770fb8bd68c440def2d56b2ec15509d3671a4295f8a8db3a5831270c43c49bbd5d0d7de1e88e92791ad8ccb48f5e59cd93a051c9835ff6934f7065fd524a3d77022321d5015feab99c31f1f240f3f269eba0b898d4dce50a45f031df1e5be57af9440413fbd54216e9d6c717c9994ffd4bd06f03c9e49c3a007c7bf6743cce787fcc97199c9c9e2df185a86ac6db4ee7f7b07eb1c13f1a9323ce2b1268911a4d6e11ef56591af98dc9709f99cc4d211ff83f12a3b0fdcb5e2ccaabb2907f19f48882e2912d2db1c5e0b5394eab70fb176404040b23cc0c17785478568b19b12478d122a10e030d5dd7b966929a13ee6bf0778ef1bd5da48fe4be7d3f02e3c856dcfbd30b7f7ed3b4591a9d7c2f097066924b43bd0cabd0a1fd4d67e2abb7a8fcbf7826d176903b16a6934aa77c448ee1bd0cf8714a5028e8c3e5a53fe79d3040bd7c0de37162e4f477a2c58faff430d602e38fe53817cfde2efb8d3be0a91998cd9f24f7e020731933f9aeaca46f9f98082ad0ff2a9dcaccc1d18e21dd28d6e9eb8260051ea849680b3dd2f99c7e97a611dbdeb21932213affe69907c76c91a25ba792981b751b85a99f550a445fbc865ad3f922a9c5cdaa928f76697bfbb679d1caac850226bae211ef6ac09e0253cf86b3d98fdb2b2c555e4abd7506d763ee13cf6101383656cd701f688863157467c324d5d7168db74bcfdddd72e072250c0a89cea44844b0beb80e13d900ffc81eaf03d7d648c025694807e119335ec9757479fc50b37950f93097b5ed2b3c629865416b53ebfa54e72ebdf6b37a4566218cce68e980a0f066d20e2f8d6ca51fff72c14c93a82fb3f3e1b38ec382fb1d93d42326f14d51bcf6bf092b9ae5731b6fbf44a2ea4f93121c559b236a1ac7d9da37204bc30002a74940e701cc51c27145fc014c130b43e90d077521544ce9370538971a6cc360e130a1525e5ebcb9c3847473120812e54fee1b20a77cd94ef2a1a23afb031f42f2f626c286f09a11e290550dac69fcb24eddcbd0686fab6a9aa1935062c13e3ac00f96dd821a3c069263370a99d6e208af93df887f7f0c03a1a5b6241c28dd16b7cbc566c84e8f8c450801b310dc05c4f19e5d2a229d66365af67ea5c8c42b5e66127ebc0b4803824bd1316c389e6e957ff3c8773d1a69048d6353fe7f9399ac2ba586412b86dc114547d73edd1cf6e1b236be7395ccb5a32b511855b15090728d3cce3114c33f069c55828b92af71ea4a95a422e510e791867e7ebf1bb00dde7fb1c2715910a813a7c035c10ddcfa62452bb8dc16553001499a300a32b0123746f1edb050d5bff6d710c7ba0dfc0837df75fd2a77d7041e294f63c4aec32c4af6b7b5874b16ea72cb293abfbf662b569ea00106ee785b9841ec8b0f7b557ded22ae383b3632943ada659a02a999d1c8e6a6c1fc6b327ebbecd7a1dabed7a2cbf4a45b1315099dccfd1320e4219b4d40c51f52f5f03fc29bf50709c14f429fa164b1c0a6561127ea28c59cb3cdc03cccf9e4f87848c6f5ebeae17d58f063c13d0f44b23fe97736b86ca8ff26f27c3fbca61082c822f8e1ec95eb1560bf2cc72689311d34933a144171b336613c737782a48bafafaf21d2496d22c922e7888621059950bce202a8a280c083d0146c4398f2d3e707df97cea0b5a5fec459dce154c38dee4908a1962469c67fdf098b2c649d25236a2cce12230712f801cce4b6901b33c5abba4ff2ed99103f1a72eddc08bd81058fd176691415416a4605e0dc6e2410c21d9d378e5d2182d68cb1b3bde11faa520d09030ea4578c88c43fb77b85f1521b47494326999401471caa3f296ec616581c7a6429bf47141c364cd825d2683b34324e3667d3746934a4f4f47539a1e7a4e781b429b066d04248c6296b01a33d1f58bc6999bc5fbdf6d783faff187fe140cc2a23440c499eae3ee65d8fe2e4ab6764378fcf09750db69c44aa2544fa00e1c826ef776abd3525604a7086e79c654d67ff8c9f16a7c6e17a315d006b1d2cf264b680d2986ef71ad88bc158acf17521c08cc54950e6c4fb38949d97bd61cd346c26259b2ee5eee4c583900d7574a9a3eff6b99a4a82b8df6880b6ba538fde9dfa90391e5704bf763e615ad19d3dea02b027884ed0e9f28f183a0c6fb4b8490f7faf11b16f9cb2dddcdf704caec1332f139b5dac84bea26a6108618e9fcf9b2beeb2c9d2a68561a140f7be5822051fc3b2faea7e9945d5216c371874afe0ab64329d7a61408d468292a52366386833e1fd01d7675a756006d0fa331ea76da1b959168aca743fd7a23972261898a07edfaafdbc296fad7df7f30e4c3d39cb40659bc1a94c12784038493e6b5729e3b37a92aadcbae8e78acdb96fa8fc4370838a28dcc955fa87b946bb75e09342b2c3a154c80f751a095ee90c4dc4c77e8d9f0c31b4b4d0c00e2538a263df88f9eafe79c15bfd05a10a48d3e6b77cf7af442545dbf8eea1f7d42bf6dce09c6dc96b4bd8397b47395b98af91d961a2999ddacf222cacc8cc2cfcaacb63aa16a7c6de8e98fb6f855b88bdf9486ba080cf19ebd71dc8a390a2278044455637f0efc5a74547b248fe66d121d8cb687f97b218e494dc3444194d3a489cff137ceb7e45256d082c7903bcc826606c407111215c72e378532171daa6e2ea66bea23fbc7b1fe5c3e503806dc7afe8ac3efa0e2033566a7c950ecdd6555d36c8585bf974fc46591fe233bf70df78175a9ef27bc96cf21cfecc18d7dc3424f5cca7a41e408e1dadc7e8b27efcdedd5f8bd9e24023a013ba5fc13b444854c86db86e775653ed441b3a2f7dce22426e483a745a485d6c9433c00d49e68cc8344da28d787e866d92f0525a5f1f182b18a0c94684af384fc030b3577abb3973863e517487e58ad3e16bca80bb6b4c6370bbe73fc840e5567699436f826f4326116235bb29583b3e05268e2b8957f76f39c06a2a7d402e7147d932c60599183df6f5ac1bb89e2c2db96aaaedcebeeeee61d6e4b3ed3dd5010cfb2a1ee38f449080c36f0af37e5d746b468a6534361304ff94bb7bc00b4d8b2e672a4b7c81725b58790f28b8bda68a6d384647ab5a9ba3f775a02feb5adf503b19fc0086d76c87d2921bbec9db4c3b9b15f7ae596d73fcf966e4eabb037bf550d357ceb0e561870ad0c47b23cc0287ac665737983bd76bb6006514b467205acf3c7cc747aefcc54c8f2dab474849dc0c37640c1dddc3dcb9de405d5e6f773e4403c099c4cd427ac5cbab2e63274764144e2621d72e7084454f15c13ddd4a881f4dbcaa6d6509a2e476c2a885ccc87588ecbaba5fa3e5194b746b4121d9459f87c4a270677d56c4ac83fb07772dc8d6ddd465815bb31ce7b5d7ab532d9ae9612fe63df4132eb13f9f74b306efca6a3ab4da2a56409dd04c0ac34445b7bb15256e92f9252722eac156cc96994547aa506704b682bb22dde58ae9d0de51776a2266c2a7f07b34d2cd5ae6396e0ef104f1d844590828d37e1b3c1baae4517c52e8eccedb201ea496ded75739427d54bba1348ab696d6ddb8efc8e7b5b5e1171b6566bf5e321f0a2b7d31f38a167d77390b5d3ed5ede029384fd28f98e96fb4456d3361a14309d59e28b130326ee211fa94e894cabf3c240f56a5dfe4c80c907a9e0e7c197932496de39a926aa3033ae903d54c705e1fc94690761eeed33fa22a7dcdfb491052d136eaead064302b4469a89e257a1bcf04422dcc017bc55251e454cedc2170b74f866c7c607d32ffecfe31a63cd218795071d0097cb5528fd9089fd59faa5aba4aa9ca0077d10297575295de062093f42c5643d011cc256be03aef031b5a6e28bff70b176a42be7fa49e7b23638e0d59fbb8ba3323c3ad83e2d4989bd64bf13eae40660886f917a573ebdfcc190f45739957f761c3ca4f9563271de7d7f8cd127112bbfe623d4b84399f34b41cee073c7a32a837a6d45a5982d4f43ddb5ff112a6a2b77cb87f9f3c579a52e21a06e93a0971c6e3380fd52ef8874baea40af869951c71a2e28b0bd9989afe62f23ed6d6747898a0e7319b4bd0f5f6c8eb4f370601a796275c89b95c8411f359b4a1370110d349264ce8b4c799231ef6d7a888075e1849b35b1d5492e8c55d303b77bf146a107325f5a26bcc67969506472eacd9e20ee2e2fc1c4938640d24c2faf11e7ffb1a59b40d6cfb782d61cc7e1cf11df170fc880b1f2b1a67515ba4c4cee249fc459a1c4d2d40cd2781f140d40af1624dee3440ad40092aa448c0fd9078a3ad066fd2ccb9a0d33d60ca26a2f708560a58588cf10712fddd8229871a6c26c6b068260897d126ce5a3fe2cd772cd9ed51f9cf1f091194c1f3daf492fa623099d9efd728fe7a21ac34e92f54e5d3c481496b398b3bbf71342e998c34a2b07bb0734702d6e9a5c6bed7f3604340e94fa669868507dd58fba42a33a85c95a9a3bfc34cb1c4db6750fc06a976a735745b52a566e66a98abe8d330d05756ec2ce28c7c0026ca3a408c97ae3e3f79e55c4ecbdc4ba28cc2ecf66e971053fdf8a1c1dd1adb266b01e9dff4f6990b634d9932a3c577fff4121eca74b3e9505d5a809ff39e962cf69ac6c38fca9082ec08dc362978f1a7a3601e404fd8d65549c1c443f01d323407ed93731b0a91aff1b81da8dbcce38b8b97bbada9a7bd08a661da57098fce589757677469119c37bf23019a7313c2828a268fb777183341904b1ed9a7625749fbfc9dd5b62e04ee7f04083ab8cd0476d6b5ae7606220eec59f51336b4f6d7a5ed22a5bd195dea918bef376de36e41fc94a02dc915dce5489b2ef854f3f3fcb9d128bda673f67c541376e59549e79208314ecbeabbc980af7e14b2daca5720b576b566740af403ea30038ad88eaacd29ca7daf4bd2fed23a65bc7d79f8e0e204ff35e0e1b3de17efcb78cdc0d7c7a0c666acc7e769f4e2e246b331ba11acb29d4ca254db2fd6f99da359b6cfc9bece62553d86ce5e3b7af7618db11be846ecc4fa7a9307ad1c883b8294f5f2db3615172ad5c30b671340cbc35e1d54315d65d107af8ad359ce12055c60ce3b56be375b8eeffe72b6b7c1c934ce3c2a4cc64ab39f4ff497a52036a31bb0b16229c7093e22bb7cd0f7e8c3b89239603b926d7770850fa839994938253296b7989f81d493c4322245be66e7948795a120a993904882efe77cc46c94ea46772c21520cf4c4cdd12ef0835abd3f0f4b35802bb5728069dc8a5b74badf9481fd6231ec3017fcf2ec2f54186474e332c744d179e10f26a91cff699f63801bd01f4135a4249d41fc075830c922038883b2b333e49eda83d5b5b8b2695a5d64e7d87946bde5242163958ef21bb5b08bd7c8833784d290786eb6fdc73bde7b849307b476d02ae58a454b89b23502888b093704b856e496225fcb75b738e82ee7b28813d84447ddb3b1f62626ee8634c6c07769661042394843278fa93a64d43f236ea522b220511bc80a13d089fade4e085d1cf2b2265cb1938418e726b7db74fd7c89eea73bc54faf7a000d522d0dfcf6abfa564335f7b97782033d331de10278ecb965622cba286dd434005bc22fedcf3e35f54893129631d4fb8eb092bebe6258a0de3fce6898c00c6b2a921fcebfc20e6c1084a3df2f79e81bd8b891d673e53c8442556d24cdb16ed4259ef0a8173356270ca291d27ea83041f13def5a4e9eee6c2d55a7263fa7c6e97b3aef90aea8a0cfab8188fc054ad671d69ca036a6b233dd8db5100a434a39d661513f0f3b9de679193c4b3b5e2f53d146b444ccafa70bc217ca3b81d3657fd3327c398309196632405ddd0f7f1cec32064b850ca800c90e24b0e0ac81ffb093f9c5abaf137bc802d7ba7ee7212d10861f0c1071c85cf3ba03d44e16e291ca24535e890814f07baf31821bcdf0257a42b0f286ad00c42bc3de6d51bc7380981a479f21ee210d6cf6a553a0ab31c2bf40b72d5862114a6ac5223d631175743e05a2ad471f297a28f41d3d961492875abc69148ddbcf3fa42ab39811df1df13da4a07d662cbc86a97160aa7d6d1ee15d1cbdf68dc687678a594250ab9e1e15a3af4973066983c250c6fcbb4985912a1f289abf977c2cccac3e5327d7763381f30729d80c8c45687e5fff421c491b96f884f8ede7d64a89f0f06f37abcb1cd386f5365edf7071dc16b7d7fa295262ddc8c9ce8634a77cebc5c1a26f3734334565ec302e8685a41618e0b70ba4c70ae43f125bbc47b1a5cb54791fdfe1b9a548aa21b1ae6e3e1b4ceb87c781a67d44209f1faee9022621f7b01df3009bea2761a5bbc9d11e2ce10c1a81f35e5e0d7e83a7742ae4963387873b44b47ffa8f51a8ff88c286b251e711850711cfdf847004cc91fd62964088f62d6c7811515256439c150687387570aa0eeeacf36b7028636d3e484e2f3e19012a2c50bfa1c9ecd4bdf16ed5455f7c8a0bd578601775b6d4bff3e9edee400b1ddf8260fd9fbf51f6651c702181f5f7f75ec4d8bd7d071669f04a50716bef0382f7c94c61d6d3188011af1392b9afd4ac4b31b6accd113f833c76ef133d6b4ddbef2f3edf051ebb0e7e86417d576d0e0c2d2b78ab8121bf5f0c512024c78353070044a25f9499dd4e41adf2087a4e6ec239e06cb2d8bb446c759f0c44b4b5e4ebd9df091f49664bfeb2828b7961f3d75dd2b6f9cdca922176d255dfbc968921b05b2c6abdf039df9a8c5a2fc7dcfa95abd8f5ac1a0a71ef06cc86ddaf59651ca645116c3701ef5d0fc7fb594f95fac99a7b0e2b595d06782c0b77ec5985df644f9db4d9dc7227df6f8641f2ebf9ad7aae24149697bd05ce6baa6dfae95604c62af361ae12e97ab7fe0a061530edbd4b183218b7d173f36903efdbf07c2fe0cc82224aced603c924f7259b258661531838a432a8b62ed8cd5ca47c7eb50e5123a36fb65b245baab5018700b4bb018c30fefeb20e0dbd2891ec2ce49696f9b1c8643835ea4c9ea7a67d9b8a30b125a30e5757ae0382f64c97d7902b739c617f260602a95a26aaf7d6fdaf1892663e177e7b61f5545fa1d7dfe3c9aa3cc1d69f0f040245233c25e1db987c5ed73b72924466ca3f9cc1759f30bbcc5ee75aa8edf2a9c58cd1519b41f6b6edcf03b966acbcdc77a473f77537bd89b4530f4de3e9f88171ead08994f1511a9a6c4342d71d81d844bdede30f1445ed046c55e35730a1c5b9fcb4b91788595cdf2c55cbdb1d93025d9a732afe66d1d7754965b6ea44c3bba117fd0c6c462f396b02647eb06bb95a40032a34285dca88bd523d1894359c385026cba887e99f55d87660fd93a141d3cc0d012be347cfd5bb7d127968ecd84ebfb91df7057a36133f716b095dcc8919f36e2382e8f5a9365bb7a1d9b262c6809b1c5e9a9217c761e2d99220baacea86f52a1852f70e403643b8ca503704c1e03ee5cf91510cbb78df795fd601df0b7889a9c9353b082a9e0faa9170cc08cd28c24b0ac840312f4077fd37e8b18cbf9aad81f40848716090c0b62552ce98cb00dee875ae54b86d339465a30d938ddabe7b43a17dbef2d2dce52e5e0f1744d5811a338e4cdd22f60ef1915902a5393c961c637f709cd1d87c272ae7d1804a0e2109f90b58c302ce0343619052388af96f1886194fa23ac1134069d81d8c894eeee366b014f36d48b63d7a1e0fc12e998c952c2b8d5a6f85e6e9e0b28a679fada37d3d4330c99141cb2b7443e099f3ce4f351a4b427eacf6c85ff1c5a93b7344fb6f03cf5097a3e264d5d8dc1ea9b9eae0b9299e3b50bb9aa2d1870ada9fc8826ffe8087894d2fecd91721af5c6d923a8ea6890abf48aa2515e9899e2f5218accb3027800c156dae2121c897adb5d95fa6e1bcf4d42fcf6482131e2cd0291ecdbbcde9c15d52e244226427875340ae3b90d51924ada9c0fc85ab21732b7d3ce9d6c96fad6f1073436b99c27815183c682ba5ad29da21df1126f9b8382a28971e7a8d5d310b3ddaf21518873b3fa546b99cf0a3a75109385a1eba103bd66454475b08aa45dc80497e1a26fd353237bfef2d1ada945d8f17b7ed083d29ad06706baad854758ae9784933d2897831916d25936b14af29af5053fa929526ce1be7af71b1557b5150e10f70f788124ff864ba331b0c59150f0af45f517ca603f5f87e7a3c5afe160ed4091ccbc613c41e8590d27d01359e9e64694bb35f440c37fabcf0e408bf10adca883e7591557ff282ec0e5c9439129337a787b849b636eff9bce8d5235af3717870714a07a6fc6b808f27ae6f03b594485434cb48b27490540f0498c379e35faf3498e231d6a77e7716e10afca9fd2828295ab865d8ac41d754f3a13cf6e264e26884520a04c4beb96f495b899826ffad6e4b8f4fca740859576cfc8859f1fdbf9c197449f357b897b27a891b501895196ff4d81497c85720db58726148eb58a00b9ec6f525c1da4a2fe429e5fd88d297e58e7c17a61d514a8d3a5c26d80e22d6b787978a5399ae1314f471477149a54d79826f86a61c75d3ce0dcb02659ee6d49cf3547dab2bebd3681f0ab031a53550e16dc99b382d475a4b0092e44d587d19d4fa76b0dd3bc5ae1d3b59b0ea29f47572599e2389eaa48173765e610ae2c397aba4d600b028bd98e8bbc2b140655bf4313481c245ecae8412e8ff115e155f5c5ff3c3e1616313440c6859ab19c204d8e8362617718893aaf20a75f62e8e70400357dbcb5805e8ce483441885285606c12efe9eb2ca2ebcbad88f5707e227bd0a41a2260f10951c266e7038fca6d2bfdc8a27bc65b0e445477f2466b9f7773a704ed000fec66ca345fd52f912dddff50626f9749f3520d808927a58ec71e0e134261dfc0ae6a49593055b8e04a28ec6dcc8473ad5e038d9e5fdd2b565672eab0822a05e0b2539db7466cb3b67f0a12250d02ea2bcbf611557bde9e6de091fc9faf8fc9d30786dda432dcbc87cdf0638d64cc9ed3ffd6042447a18f6391b497170cae8b20693bfefd67878f225d271b4b195d5e33c497a79f56821dcf642a0d3a75550b7870e3eec0245d15e95cee5780c97819cea56b511ff9dcdcd99ff13f1050d042d6483cf87028603c0b97fbf371d7a2e1669da368a9612b0aec40df587b30442d57045e7ab4a504bdaec25d29123ca2c354493227c6ce994ebe74c7dfaf8eb18fc00f0d619ca4d323085e811aeec6824a2fa95d61a0a44250cb08083d0a3cf3f2892f3d189e2ddb9c2fd811c3e42544bf006dee5ba1ab3df7e27a80a5a54b98a7cf4846683a4d89399f5c877104cbad9b9673b6df58f579b963aad1fb7593fa3f755c40a508ca1cadfe88c5376f4ee6e6aae9f730348f45baefc5950b85e01fff15e858b32399f614cca870f007287dc22012de99c073566e18fc30f377389b41080565daaed1a30dc53bc911c5aa4ac2a9ea0e0489c2d03ae924975088188beef2080b828656e5429b2ddbd77579f78ca675498f2134882b95f68d1d9bf7e3f6253565ee7d504a02389f9bfad0c0ef894ca81408ba168f926056b0299fa12ccecdeb6017208f2c5e2ee8e9a6b13af161067659858bf88404f8d3dd9bb58e21db1d4416c43ec95a1641056c77530684bcda2f7aaea95aea1470d94368af242e7b51d218dab6bd33337e20e57e0eb2b25f38b5d094281475d68bc18e26f17d63792041a6a78a075293835c2c8f1e724e41c4c791e28ddcc5f4ecb584ab9365d2d0e23b4ca0d2434d9c6349cbdeae32ecd3f97df5c7da50c0454b1141eab018cdd40f380bf277d3fcaf7c280f88013b124cd581a242ca538815486c94353e1294dd429632beaf43a51791306e40987a85ec9f9f24a3f97c1c547fec76a54eb865a06d3fa6a0f9c2af84d05b6f182ff8b3a1a535a1043bb0f170b6f32607e26619b1d8b8dce8b31790567bd23f9f7b289538428f431729034bfed77854c3b59fbe202e79648b282639f8d9b2c285f978be40f5705e82a599169d6fcc83b22f50c3303a824dd27e254e22b86834323fe84acad313e7d09df94cf89fec4d3b607554a7d183e8ca6dd768300772bbefd0c96538e5e63a7564ac52b52f3839268027b32199b97d5ce11b6aa3bc12af81504d13288ad27b2f445206ae00e8ebb5a25f4090376f6be79d01385a05abd2b56d178e816ac47bbe66cd4e1ab790901fa9d6d5f489017a71b4c78edecc8c3e4513ec0c7f328649e05a8cd3a64689cd5eeff4ca60882fcfc0cec424f7d93a3295c6922041a08bdcfc58c657d79c8f5ddd7aba4bd0a9b221c79e828cb6cc32e39489b81f9b482323107b419e406329664342cb7cfb013ce63c6c8f0d0bdedbc5e64f7681e2e0513bdbb6a550dcfaa12b92c9bb8149359a583f4d6134764fb038f42f17d1d170d82e9adb6d2e513acd321159c522d2af6426edc1837ada89232bf692adc3122ff4bece4e6ad457c7d9fafbe902ddb3236d42c345a7e61baadfd85ee25389f8834e95dd9f9e27319e4ff4a95cd39ab272c4655a3e0ac87a86077bdd4b20b59d8c06399e0f18da6c13dee218fbe120c2b2bc981c256ca8839ad186648dfc65e4363d385cf643223c241b3925b11b5ec670e5e7d58cf3b9f126f287e029a4127e169449f9e2276ef0498a7844c16f7bfd9011c6d6242e78ec76cba54193e745bfce64d0656ac332e1da08b88c67d0785b4eb589bcc0f18945e5ecb8fd388d4212bc308d48b6217b3b8438b08342f5cd01faecd3eea3cf17116fdb8a0ea001bfc9fc7cfc2e928a0be29262cbc5e8c9d7466650a0ee09d8ab8e675e4a035a9b7c96613d44871bab166f45fd1af5367c0d9f9a4b2a5358b9e9d64278c6fc36d928689f40c1e09634de8d942621e59ee5664209dbd498638535e26c342c278f31abd6bf906036be103cbc8c4344165e254d3655600eaeed1df8ececc3b16ac75f858314885de25c71aa0e87616dc523ab2f2d5daa587c5550352fb5486b38bb1ec196f552c4dcbe50c2c5cede449f7c54a84f96225eb24b71bc672e21c23da3cd75acac11ac6f1c800f86fd568806d71d22110ec8fc5338a409d365c242eb3104789e8e795dbc8b45d98524078dc57e0f1db1d693e132e4d848d9c468eeb667b9bf8aa5b7b3b59a87eba769f15dfc17595422eff7d7fc753e57af5ff9ed7911424f5caf8a1b7264db96a2955c4c5c819d4f521b45f93a28111794b27d181e2ed90acb200615f0a30a0f4c8421556d5447151705354707d3e1cae983f05b0cef6698963fa6b18cca839cdaaed239b86f44317e2f9bb41e849b59f904497055dbc625d3c5e7c5656dcbbca9032f23d406db525aaac56ea447b1d891b859572620ccb16197779b5ab70a2e423bc698ae2efb016ff45b60c8992516458406e986dbdac37262d93fa53f2caed4fafc26b139baf907e742c69dc0c4b560abe4e894c6f859422dababc4456c7ef0b01b5752d1342d42da5773d03149c6033488c9d52000b4cc40141d0752ceb943a38078568a83658af322cffcce52bc64fed853ddaf37aba05fe88a32752e40636e73944b4e9795b5bde4d1e98e303e6816f73d9e08a6fa7750d1b3707331818f8a555ee9de987e9567b025c1f91c72621ece6c741d5f068d9b120333133ee06a6be5904999ee10ec67ddfd47450a447a429a0d536827e42fff3e9edee0af21778a7200855ae9e5a0984e64ea371e1cae25ad47e31c17243352bf196e0869ec6455ab8be624da806da96f9b6d299512e9b1277e33e2b737e48e7ef967cb9cdc7f97145f4e6172843dbf9abb423c9eb022c956900b66c8e3d509f135b78e9b34c14685e058ede6ed73aae22ca40ba8b73859c9125bedbd3eef564e3f89a4e09e7bce569084fac6f7d617bd8492d848aeee8de55f20395d77db4246c2aecb19d73cd7b23de7072a199e78cefdad9ee03196f58d15c364a3a3c807139869c4e3a5207c8c6d085462561c0b59c158be653c2d2fc6bc311f39824d32536908a7286c0b6c6347655a3e2546cf319050951329ff3d67389669036c1f24ebec0e1f6f0056fadc130ef26acd8556f2719137cd4f5fdc5c015a60834f736486f7bcee11bf1d8a801ee1cf4d6100692c93f9ddcb68c71ff23d95a26fd4adf376516f5903720d6b35853e015550eb3367320d09c48baf08d5549a5fa7ec7339bf20bac8e3fde89203e1ff2d86b14d80715896f87baf49f9ce8a118ef0903ac48f6695311ca9332e2f0f061e7eee37c043cb5875d3a61b2170237ae73f318f5146647e1d62161f42f642c528f40481bf2f4887b29a90bd8cd28e338b721ab3854741a7a1a77996ae45d84c3fc46c6d40295a0643fbeaa958867b40f2b1785640d890a8579b435db3a31d7e20e58a256cb830cd07c43fbf001ff7a23043dabfb18a4c978b94d6c5dc71c085480be1d092c3d2f27d21819d4123ad3c2daa1344e7e9428f8b47376af3116c085b4398acef475d2ec2e926d4ed40f6bea786484214171158a945af951576fb470ca2ddade0eaa87a037a362c0d4f1caee22e863a6458aa9982c4fc932fdf9015313472636c4b126972428d95c7d194b094e02e39fa499ac17f8bfe5f33bf5a0b811577bc0b9da417f07f1e1c65339b59d07d4cde19efee7225bfd5c739012374268759a6b04960dfb9850f997b476b49ac33332c9d75c06987585af8ad4c37d2665a3f56d62e02ced553e605ad8087cd02dda99cee99fcb268d9b20be55ec61f9d79d11498dd1149d38bbbb490057d2c9f340ab683a1bf5a45613654a31d315bd844550eb5915225e6c3fc46cc0e27515697451f168eff36d373b269b9e06e87b9f5236738e02e815c4ff0a051353aa9471961e2126b059370f5573bc1d2db75c3f228a513868540c35163dfa4793bcb9fd71d3e227ef8fbfbf6705cdff95857b15a4ac6d53bab9d3394b7b866170e9d3d4d3f29cc35056404aa2a2b386f205b0f882c62bcc2b0d799be64c994257f9ee1644a0115924e8672c395b3d0cb596fdbe8ed1758b64948b14abf43009a4969d8373134411959bd40016022c5b859728e8b7dd9148890c5a4b1d5c004c6a1efd0c3f9b920606f6e9dc023460fe7994e0e540a1c434bdf4fbd0a8a57aa21eea97fb741ad5cb144bcbd62a05c200fcfe4df39bbbb358d4e5d6c7890ffc33ce3fcd46decc091d2e0673e02771221e5ce48fa676ba6308db47cabda0258f62a800590b51db9d57253836cf22ae17edbd07d48650ae12f855121567430b81510ce910523c8de3f42bb5704df8f302affa638f3834f084982bc81966473281edd2c9b00e87eb438255e2c5213e7ae458729bf812508a5c8441217a0e7490b09ac439c9a12e80efac9c6642e07978a0d9ed95654f3b7645271ac395b2856a3879401c98215f0398cb284d6ebbbdb3bf33653ee39d7650994b433e85c10cb9792f30ab04086a05d82d1b4c3ee5d74e5701edd1772600fc7acecb61997d8705ae7411917e2fbab7bbc644cb09e66e6f1eef5b9a4d411e851bcdb73bd1e58036c24ebefea186927ba28476165bbdbe9d95a064974de090f35021267551052a9a8d72f4fd88c4c00edee8f6268753ae22ad3d495c7398af7a340c366fb1e13ff653b31f04e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
