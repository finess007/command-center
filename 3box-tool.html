<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"dfcdc958350f01e7a4e6dcad355bc8b12e913132945563aff22cc20d9b2d132f9fb08b12ccbb97e95c0b3661af5e3d41fcd5b30fb1a5074edbddf79d2dad49eee700aafb98a1a4745b472cef2d83d54c9a7ed5663df56a025941edd314ff4d17ac97a1c06265da6468e23b7e38d47cd78334e1a734b5d56823ce3867b1d7ca035b19b19a1934a270fea981de650fe19e8ddf35407d42fe8c3e752ab77d98d835215e6b2d4462bcb9e19102d35a3e96fb691110039f28de559b8481b4e9fac7a3e3f17b1998e66a2fe985a511b783bef21a16b7bd25b0f1a8666e392a5bee83af92c04f8f613fa46aefb718a09f6adcb6ba7fd30d50443f8c924b58219a1e30ee605b2329e5705e060029226bf2b48ca146e82d238b1d047a3a13952c5a222c04953b4e63d1f41553229071180decbfa9870faea7d180c9665313cbdcdbefe869b58b024a950fa94eeca311984728e0165356c71cec6dc3a0c7a6348ff956c875229c0231b02042c8d1e48a470ec03126ff4d1b1af4da9ab353ff282506f814d92806cec4801e6a3a6290556c1c16ca3e4c85fd7e5941540908e7e09d8ca9d0cdd8817c6f1b7bffecfd286e3fe1ee1855e1b82a54e709f34808012f415bd2a67309ff18faafc6379c99a8de20e637508fa0409254bc7ca958a80b2438c98c41d444fd44e8b6774c5f52ea5d741c01282b971210ffed7e127817578ce69cdbeec91766a24aa7bd1a0ae843d45c35a0f681a217725e91457f3f99906d1d9168eed96447ccfeb598ba0dde6aafbc6678b565f361d0606b6720caa986640bd717e1f05ef82611040742cce665264626cf1f9b0bf1ea5ac22bc3928564dedda09a57b6be524a6e7c4289fbdbce0b260cf66f6acb0e77d3ad7f7d81a3c4ea469044bc5c2bfcda0d39d8a68dfd803b84d98d1ece81570c927667bda11c95983e7cd78b8e81553ea36b0a7081bb22ee812d8fd09f5ac5bcd33e39c6c1ae21c54fc02acb124bea293fb2b4c7bd4010dd83f284057046f919c971f307f2463c273f750effd8a8c118caeb2c3ed372a3630d627ea48bce4f51ff9ca43920fb11bdb652510b7005a186f21ac5c52b603a90a11e61aa30b5b3e13e6c4c2490465022a2c1b7fd430047b076517f7f62c52c665f88936a2540bae5e9768e80a6435b8c31e34df0a4da629ce43611a984484b4595d3c477e9ef6751107a4f274dbdaceaf9a830247a6e8bd4ccd5b19546bbcc6446c58ca908a378375e8d86af79db8ef3dee989c98dac084bfe8c4873b22a33e685e0d7f65c6c7e7f799594ac7e7882f8bfe5d783813fbefb32b3a3eb1f2c44ba66b90b1a8bb4bb402162b1cdd344106dc74ea192e2acc6b17e4de86713e93285d7ae3017aa50cdc0c7d75a8ce709aa3b1aa5c0c42bca8ebb92bb34273a12238cc7dc935bfc7c2449ab9965c2f899c3ff56bfd5d4e26ae85166ce3362a7bab78f23d22add9909974ba91a6ba5f5f03578de51443c32f823aa2779e9fb1e2f48e5038f911270400c44ca505b7441809fdcab49cf7785a11faa8d4c85b0b6de73a07b9dd9deff65f62b6e60079bc8daf3088268fa13921ec151bdc06f73eb3083552da60484327f5a851a47021a51b21ce8d161865b63bd4ec58cb388277691d06ba00e5de295a23c9116875d3b6a0f13436ae89fc101ac4af30a3640a926e48cf8c0ff16ce983dda0f670f05d4865ad59c22f88e6595fe1b671e95888f687f9c089d62468eed94800d6800ea5a97f7d1f2d2d8b71c2d2ee42e2e2698046c737bb9a0690d59d251553514adb890b94dafbabd6ccb2832d3a6aa9d67dd3ef23938219019183efb12090fe1c3a0589446649aacf067fc6d720e8b4e2c18000edb2a7a1578629022e7048cec8528d80c72cd2d66afaf2b68f31c638a53d8ec14a9587b8fd61598777213e467d448aafac009a914c73387bdaadddda3dd553ec7327f6c42373a2713a3369cb9b3bb64cf136ecad748feb4e1ca7a86656be3b1b5c733fe75b3294a74517e2ac7edb5fc0bfaca655bad40012870c7163b385c0de75c4132b8ad40922ba277b472972f019064e47edeccfe8542b2ceac11e622b13a46e896ce45273db3c01699ba74aafc35e3ef943b57bdb88cf08dccf37796f6bb054f2baa063985eb6e507ee2a6c5598d9e190e1f5ab359104b51d94afb78265e32c859ed55ffbe09363cb33eb445f717a6f18e8dff63e68d80926709ed2a967670cdd011b4837b1a10bff9ba7c2612f28c0835639bad8d27b59e370eedbb3248255067fcbb1d0102d714cc4f665220c21bf3acc01d7a5cd580d3ce984e56b6e76d55b9bf95271d589549102f74f61e3968654278df71060e0a13e494f8ba1b8bf8b7fe476c1ee0e088620a18170a849fc683d3cd5fa724cdc8e2a03f1a4ff64e4cfd45fe29aa01852ba95d273470c05945b43af77923ad47cc681d1c79468e7e012fbae3256e261094f7881ef298ae94fae1eab168630d8098499bf597daed274d7f37440c95a70a283f5ae311d4ef4239132c590dc693102c052e04b2314469fb05d6e7e47ecc84711a98ba1754a501cbcd8ac1a5d32312bba037871e084007210aae2bbac533b35a279acb626b82c278b7a3135528a72697ceeb03993a751e5b5ea53f2c147316feb77e1f0721b52a7dbada725ba9e6a47a141d18b2891424164772bcfac373bf0c2d4b16d568635726348c2a63b668e1059c1b9c325682f0d8717dc4a710d731b59724a97fbffe067f9e8215a7101e49476ee253ff4acbdb9727b125759a6bc1e14186de63e7bc47cb3d8d7d01b53177d0b830f1e55bf23638e59771a21be1453cf68ecb489eabf20a79f17a99a70be1b00169b9df27bb44cf1afe2bf900597796dd50e8c44213d286e75093c17a19cbfc03ca4fcde0d335284a81e06a0e7420fbdb687c32effee2e2742e4d09b50eeda99bd924a0208c2d761c84142ff9cf17ee92926b94baeae022776e903cafdb9fc9ab9fa276b62103d75468783050a133fe544f14ff284cec9b62d4d7be00f09dc2c45fbad6ac4ad419c651aaad0bd53bf7f8c676d97df903bdb434b144559846296725a71323a458211d2166bdafc3d9baf25d35c6c5a10badf323c59f895963fc3a81f855c1872fe5c257cb9e5b232ebb7bd3ebd472d8845c98e501b2a6ac93e81f2b494e1cd13d42acf1a2189eadf9b8b1798c6956c8625ab7ab111e885f5852ca096b5925393637a04fed5304fd02ce4e205063d238f538f73a5ece291560cee4175aff9de4ca06810cfe78b42c47e48df5c33acb609b844827e37531d7892be5648ec7935c987b7a701c0f1a9c8450a7170283908ef1ee5a711be9c24797f0636f294cf0e10a6a68316ec44e041be765c6311ce30a6357bc75665e3be2d3344d3dc070fe69430693e5719113f062583df617445e0a09be570d9165aed7c1b31c8353470b40ea852b894cc7d7752840da526fde06523c888f5f8427aff3710208f1210e7d55c24f7127922aff4bb7f591786528e803f2ab28da5260a9b3328af963ace89bc5fc3c200b344cddad3cabf1174dfac68078ae9a2d91518c01abc508ef61715c440cdad80f1c44b0a8d344ec7055a4c9e76e3514ef45c048f2d39903d450d9ece6679301bc05075d73f81cb0046f7f643e3b30994d547928015eb616e71423538561076ae76869173230c66ce97db4df8478a79a017325b7269cc5f8e5cf5df72945c715476d6413f17afe2dd2b4430b9b48c6ed391c59e810f1c9f7e5ad76cac1bcd54fc840c393c158ca97abfb39d0467ec48f5a6f7337109763b17511a4395a44eaf755c00559af428237bc4878a7ed2f89cafcaf9dbb1be988ee007b2cebd5e1388611471f846229b3970872c268b8885b3348e647b08e2bb97610f2dd12c31a356b414c096c7f75d4a0e934a69840ed0a048bc346d7c867db0ee9a046698f3d2275940fffed920b6e326c06d6bc9ed81d9aa8ac0a9e4a04f0e0fd4fb5007ded37270d74f4a3e232ea6723741c1ac11087b206c9486fda1ef1b450e5fa166c87e62b3f21b1b255329cc4df0ab1d0fdba2db049c40ad3c8e6555cc00d06b18bcd793a3385dd93921a72e63b335e944ce88afd082c867f6afb7bea3355fd10207b63f992e293e2ea3435cdc0a5d923a42b50d924fa54e0b7ad60171a1612942e11cb69f8e0b2ee65e88dc426d275120f2a8bc764392fd6e958d089a2857c5283981305144079b993aa4de4b564f34419de11fa42f7d6816cdc630b1f96068443c8a874563efc6c5f82c1fd8dab8530b81e66a1afbe66ee99baaaee18e735b58d6963fb1df20402ad8819a47befa896f7f23554dbe9c8ffd3f9ac4f34fa055039fcb2289ab79736edf23d119329b3b6b1dbf8ff005a7acc306124082c58ee122186e26ba35f43cff80ef5332a04c1774be597678a4ee985926c4104bd35ea2cb190fcaa2eb053e7362e3b4a3d4c405bdf1b345ba9e7fb9b46cdacb294b173244bb5d88c936b5c898ff412b12ff59f7435c350ea71b4a744e79b71b41c1bcd7108c2bca1581746c3128f1e166f9a21d06bc0161b1466fc3ceb575043eb48f1dba7abcd7c27dbec7145135a63b7fa6d833eda628f5048ebee4b26666e1a05f83cc1a8ec8f2e022a11ea6e72fd4bc723b73d790aecd5abb622d84071fb2504bc9f30de539e6a2d3e6d9d0af3aa7dd0c3e76484befeed36fd62625c82bc2d80b75bd7dfc38072c6e18c074571d79e12eaad508be77fb567d04238d270d590f5ac12cabd0c303d9d18910cb05281f78f965e76b81a5adb7f9347684e00dde7754b189e01b17a333d22ade08ed4555093b3b80b336d85bb32dfb92bc8af29c0299e120b1a5f75029405548a168934ebe73cf029b06f25c2f0bd4f5c4591340b926996a72ce7a4f1b0f672cd456cb46c49d3199367c9570c35f40fd57cbaa9876439e8f1e114f84490318c57d8bfd6a5d042e5980e76e6100f3ac6c3fe895712863803631a03042ea53f0316015ad3caa208860f4f64ee3f9559812db94ac89ee43944c8414d620755a970952942f231fac47d32a878e7eb1749557b5c8b77836cae621505f90ac918474da5d0bda9eb8504103c2478f54d12c5999b250861842aff79ff2e1ea8a0db02a422e4ecb8d0cc7cacb14563543a3ffe2ad6917faa1791e65ffaf0be5c8b503bb8d703d609eaa915e1ffc3544fd61328f98b58cd569a288cd72aa178447f338b406160e50f18417675fae7f2c440158c6dee73e5057d2a0268d14ccc5453378136d6de85aa662aea3b873b42064dc62befd42255653afcac8105c6d83432b051078b37e48f90b441e8c175a126b198ec542fbe0f2263ed80a23215bc87997786ed5fa1861a5b05c11f212e19b6960c82d2f711d03254ec398e5dacfdafbd8f6414f47d9c63cdb84c0284ad97a0600365eb418cb40de298eeab03850fdd2ad8563da3009284153da82ac41b7b8efdd5fd7afb3304a93a95f66e99637bb328828b7c0a3a247452b0059cbbaa03e1c3ceee1fc9461dd8c4fe23bf3dd06705626522100a9dc21d2331210ca65e1cd9f039e9289f418f0feb279c81079e5fb1bca68ffc51045c822164e4cf3b0ace3780cb459a2757974b2fc2b674b5c12fe53e4cf63674bd88823cbed1af34886e79d7941798f58a9d77a10e53f6f7d329f89482ec80687a0774ebadce48df2319c337b61c5e6f62205e92267d48ab28ae68bc685cb8bf5cbf573f1716956bd806d888232faba3738f4818ab3d8c52423324398fb4e7eff4b5fb8c5834759c4f07159c4c01a74b23167674a1f25ba58858478c3b9567d82f498cf3f59d2fabddff79c91e20f15652341853f82b716007ab95c3a242e90989230e142ee61f3a41f7055fb93714e13b41e2db4565444b057ead118bcfb17d8a84606814680588fa5726f528d8e5db434d8d60807cfab8eb190f6c05270d44ecd82d5676d25dafac5feba156d20cdcdf732d0d8442290d82af875033a59d1af76b224880482d5e3ebb33967e465f347c1cdff8802accf11ac2d581064c36884c42c1084c27e3090c5b7b2e1931bb8a206c0a062a7ef26b43915f92030031c6066ebc792b16f0c62c56baba1d00ff56828c9cf71919e8d4ca6b5afae86003b4de45527052f5884508935c88e48ecb44d2528bd6e829a60bab0e45637fe9b8ab049c4aa9a241b1072b57dbd9efe8161faf5d5220e157a32d73ceda0dc86b8a33e8a0bc9329148742a6255f6eec29fc2242ea63eef004135238919345c10f8cf6c3e51072c7733da8ffb069b836a9cf72d5a7ac18d20a94acc7a773bb9279cb8292ad0af1b12ad4fa3ab318e85dbb9dbda80cd6fa792e50ceb1760680a8770522df86a2e18d1ec138e567f3f66db6f18cec40ddb29e7b1904795f727f2b7c7b845de937d5c96ac3baaa4eae0646e4354c24b9bfdc75d43bcec54607133cfc2545020ea548738e58a2208eff559e50641f6f48b5b459c89f74b0a8e397502c78616e274dc3afe31443a4a360d792a0174c83a1a381aaca007629e491ac4fe1802bcc51f49a567202d632a8fc9c94479786588f7b468056a6d80f5a049e9ab3f48bacc81598a66c5dd7f5eb5fc79400a364b67f167efbadbbc053077a0cb4c15a62e0fd59f332909d8129ad4e5f2429b8994d0f029880b045aa42436d5daaf019f749860110677adaeb4e84a9138c02db45f39e807e50e478d4e7e5edf25387ca32ef20beebf976eeeedaed601eab1cda73b658b503e6b1ab77df836a9f54d41906c0452d546068f5de88bc7840be31ba56c8df182ede03ca7c83cf2edb6131a10ac00480a1c38a54e872f427295d51153ccb6cc274769c6373d9a0d69a718d15f99f6193e55c89ccbaa67488f9d8edcd5e2d6a3cbae363919bd939a57bcd97f8d9ef1fa51cc0777e9cd1951fb0e368af84ea0e92c8f58dcfd30543bcc6fb93dca75f2e143e7b7328e7096c394515a660f7a137fcad03b963196be37e8157887aecabf08dbf6c73f4f45f8c2ce5543fb070f70258f1f4e3d8223b254db3bd5c9f78919fd5917c361715d116ca0e5a1573ad1d8e996cf43429aab47fa34a0fbcbce2038eb2731810f938b03f94409db9ab89b83503ad1c297f5217d39a9a265ade442833ef4d116426c4fbe8cbdcb3f2e5e228563994840f2d5bdd7b1daa931e9367251dde27ed82de700d2777614e32a01dd02bd3d7cfc908f13668086e376b31ee49813b9b3d94d41bb603db9d15a1356ef19f26383b0e913a50c757766d94d9cb495c21305c83ec28bd560850ff80c9196d5da062927c8d71073c7a6ec0e0a7711f95678ff96d63ca2290a3c565c7631402b1b74a218a9cf6b488c56c2e4c5d51a89b26b01d0e659344d675b7f220bff071b1a46098cbec6fef98c067ab7425d2ed9ff757d8ca2daebc6f2ffb1448f37d5d25c612a0de8143748aab1ca9dcf3cae7b0249675094f39f883b4fda11c2396b1ab69049480ced0468a2ca984768c3e015077ef9dc625d9a9897dd0806fb1da88d20d3d9d25f676ce3b6bbf57e1e8a1a489830726cbd95fd8544e868e0fb5794d4b785868753da635392b2925905c3ffda1df02e8df5da26476586313bdf6d6eafebdc6b865c549e7180ea7596a397ae851ffb65063f04ed63558debe41a9fd83f68e127fa322a721a4db8a48298b00f62711fa370537765263cdb72e05920a3232057580bdcc585f2bec6c9ac7ff263eb3258f689f963e73f7320285abef0f3b10f8de3e540dc88eae5bff657e1839b9a9f84db08f3165b5d314b06e048d1795abf5bef91561f0ac52bf52f03209d83f81974bca263ccaa7caaa494697e5111c67260e5ebcb8e21e370dfc61890e04120983bed8d05a944391f8eef874cc3007a17a3ba87ac5e75e565f7325844c547c4d28ef1cf566c44c6ba01ad432632e6709664734b5fa4b9a25e2dbd9aff7b2e16d903a41cde58c0f8a42ffa38501c3a94ca500e14831d3f93478dddc714416c92f1101edcbbcf60cc2f3eddf07061e7518f0c1d364fc95a1cddd5b2bc009b3bd85654745d1c21b90544392ca2244be2f1021a883781c22c6ea8123d5284f46074fdd9e9c28948bf6c1524ea7bfe57532c41abcfe3a1cec315c6ee4ce04de513dbe18477a2ae971bf31d29c3fda3f3a1d98a5a6363460e3593b959480c8638a1476f46fdbe00e1a4913dd89e04b585be19a4771524772091aa72f2c1b8f59571954261c51dba6d2125a489d11de8ee51e209bd8bda75229ca9694d081b6f5b76cacb2280097a2e7321095d467fc3247d22d03d14dd8d0ef071b9463223a4111cedf2f34551d7f8b360526b1fcf60e86f0d272de762cbc7e0884892cc80396a9a53aa45a107a86f7b9543bae4e438b3e98cddb743e7bb4532846ad696e5e05c75a24bcc712c4e90b8c1d0ca93aa4db4a3470800423096f12c4b6ba641736aa5e0670a0c2ef38d9732ec2583cef12710cc8cf5b2dbce3d02032d4a856e8ae0c02d5bdea627c0d3e218bf980d287311842072947b815ce9fd694640d671e270c9fefc4595ebd34ae50c5c640b554f31116b09edd1020d10d44712c00a3d524d8ce87ca285b08a83fc72bd7ce065f608923265cc283d5186fea07b11e40d9c0804e70238fca1d6a9e131dd0c9e2269eec736ad7d5828b5afcf271e738a027f2aa480b9a92c3966b81f024bfce0f7fd53f5102b2180a86045a272370b6f60c582d0c78a473899abedbb5c09ffee7e2cdb77d1b27846eae211a7edb56a66a6dad4efbfabfa0daeae6977cfba59c7c89408e70b94fc3da2331da404f9d9286d1a3492676e6748fefbd163416e7e4d2b0493cab01b921733eef95a2a1d910ed1ac79f6d36586982fa63a676a8eb600be5e2bd368c96f221488bf256a34ac2a6a7b563f5e8cc7d43dd1cf62d78595911c2d727ef70263778aec2a3f4ca21e86bee30d0c6b5e44b97757d5f51c2602be334ca7e60a0a1b98d8990c1790c209a81a02b8663774a888c81c87647d87ab4781211c223e14fa245538299fbd4fef9715d681aac35c51cab78ad34a2de1c1e7f697cafba6545194eb1bbd70efe708038a71f5ba5906dfdf58c66111a5b667dcc76dae581ed9ca2a17588f86af9e5f7503bf68236d1c501ae37cb70cd067a3cd2013e28d4af5dbd5d807c062537ac0b8b18bbd0587c770ea3ce2e1c4ab8a674b91cd7a01a9983eaa0a5076c561dfd3d1ceede42e5db26696e3a7ed480e253db3e9c9dd754654256b8fdd2481767954219bc6ac61adf5463bcde1805d3166b995be908844ade01aa115664bc03c72af28d93300b9f4b9e7e3579db0966f6caf188782042dc5997044e1263f54ad67730c7cd07f90fbd2f1d328c781909f447a1b6de6a368e0da9277b99f769947e501762f4e6c7609427e641c86209ef2b0f3ceff6f25b7ca32190ddee2a3df5a2c894dcdf499d1bac68ee8fa8ad2eca579d2e751dc470f8706a8c1319492a4d258051998f41f324af5f8ae2bd7d776f1a807784bc1e7c29cc48b803cfac54c2733384079713c59c7d13b9158561de9e95a841c2fd0d095809e84ef174031ed5f091d37eb793f41adbfdecc482e837dff053ec5d159f7bd71279f3a39f6bc96b29d219ba6e846332f689538b9ccaabaae0a59829d23fae1eff4ecce72e3472c032ee7a04629396e8f7499323b0a505e3e7df01e3b17702e2ddb0ce2bc3ad0c6ef63326db295cbe686a59c5bdfe8b01d34e1637744e5cf2ff20a0b7e561bf09f9a08889617ee09dddb9cf5e9f0b635977bc4c4f0ea672a926e33a7319b8195863be1af767bdb19675a49282329a5586d4f99aff8dc8ec61629a4ef3da56e5baeefce2e8a16f337ef248b2e20867c3b9d711ff8435735cb3679384a84b4a1df00176637b7898567f98cc1e8a1ce4930ea7b46f6f07fb1434fb3296d5e67127ee786e4f2bbaf474868f5abe5a918b9443610e5dd5b63764d16e0434572cf74933c8a9c68b4bc3025d0d98f51d161b31b4a3508f2ed2f99edc566d360d3a9c1788ca6f976ab24a30f26bb62c79c64916c24430721b13d691bb3c666b1bc32785604affae22ce7e68ac20fef88462c6100148cdf9ffd15873459041704de47e3690cba3048621652d399df98e0e89345484e883151e37c331be2340e7d3883ae57756aae75de93c11b3b15f5699128cfb9d2a0746e04de69bc476740904ea0be3c13c3eed4b1fc7ea2bca96ae2217a204ba59f21bdfe5733bc81e48c486e3bdaf21120cdbe2071983dc5a1bd6b713111d6cf9d2d845f78ecb29516545bfe70e898793acd6d943b79688071ca2ce79cd91b73d786dc90ec2621b0724c617bb7811755de57c7e85673938806ae742a3c5de7b033361df2bc1a11aff878eeba9d160e0a22a0f60c49a64f70e28944a2913a379b14eb3608e58407c070c75a05c1a8d40c67eee0c64a2f29daa4deefad3d30db1e5c6d9d25e465389108c7c785e48ad31caff78b7cdf79d47c2dc8f790c9d772148ae4e1e3672972c34c68b9a2d4a63ffb7df1ed99d4029cc562735d13234ef6b6a8883b2974230aa0fb416fabafc4205081bf908aa50a057f9523b3a1acf70673c4268dab3d664a8c94fbec8be8e464204ad75e84e37d7151aad07a5990685ddb319a8bbb552766c2a9e49a27896d54bf7b0400435ce7c624ddd1c78ffff191580ed94f116aaa1f01505e5e149933f732882e1ddbbb715b65b745f2a8b07498c642b535aa6e0a7f5c2da519a13b66acd00746cb3dee2dead96fbbc62461bcef3079211898c4a0c8cb8d9f83b5acec230c8da941132a85c20a8dea434d9814df3f48fc249882899594d7ab344a11bf39023599e361802e8837c25df5bccdb127c49c5fc4bca9c69f76b2761663b6040171d8fa3371a1538de0b68169798af479c988b19e79aa42d33c64efe4dca45a2e35088f9cef55924490058496c939a364b25ae94f8322fb4c8a849c5a41393aef1420dd16715b003808773223ed3fcbdea1074e7006c3d77103920f279d95f647ce55806fc370a9942748bbb5aca844e4cc4ee44dbf56d1dd9812f258cade2aaee6736e1e9b1e122ef29b90448597854cf8b3995507a3920f19bd5d94f5f14660a368af50a272ce310b7271fcb2bbbb10c922b677b9edd3b1deb90a67414563a531fb00c17bd948d0fcdd1681a8ee6f16f672ff8b30d979ae40781f423429e4ae20e0188b65e75fecbb0accb6e691a34a481d1dfd6daf2779b2d072ee04dfb95ec718b14d2f767ea735f8cc7c8704f54f42a98bc1f56e8855f89987686fd3e50287636d70e9f130ac63c629f58a21458c1b08a65efece793b4acaf0a4777b51862804af726299b719688a36694f9e419b246d10af77df1f4f08cbd34f1a052b18412903bc0ebbc44d1189ba4ece5a1665a233126ba8cbbeae055bd30f1cc3b36191b60081ac488ecab8c7f6fa68475ac2991cd8c0f55e1afb97ddcbc10b981d40ec27794047f817e33771fd769df472f32097103fc05080770b97c32292ad9e94b778ea2a188357f69214c5f88c54c4809ccbe65c834e7cb529675d0f5ac80eb71e5cf62d49c4093eebadbc9fb8505f34294aeb194fe39438f13ac986313baf0987d5a2f866288da29168e8a3ba1b92775fcf5e1075b00ca46799f5bf3ba018b3de01b03e71d33e035230f5001e0fc47458da1e17854225e21bf2382893eec39c9f2f9b6d1cfe107a0191d5620c6d6d2001f0e0f77734d146fc99d3580d4a108dd1aa5c6cd0f6f0f012d034e75afe5738a652ae1d1f31dc854ecb73cca0a09f4e52e73d86182b3a0623ca6bb4ea864f036fa7df0e1c582fb5aa1571a8f0acafcd6f3e2442f92c5ef5092aca8992912004e7825c999d0edc3cb30f6cd294ff6c66c72dc48542ba6bb890d0650a411df805e00d06573675787dbf9515f90c6880bd8c40b7d1585f12c8db59bce8b9e4b5bbc20fa1ef8bf786b046ce9256219ffcfe39e22d91eab50fb20a7836deac4b6aa997ad8b90fce58774c1880b5fdf3e1ff9e00c83d09ea7f63cb814c90c98de9012c0acd77a6374acaca465a053ce9c14a9aeaeae52c72c24b5262440383ad2b5365c600952444a9bd3f83a9f2a36af66e3805e8acdb076e9e85d090266ef0b547bd8e86ed9f1b63cee1c060bc04b16f44f109956ffc78dc03c123c37d3baec3e7f43d3ac9770e8e9a6501183ea0a7fa6d9c438b9ce22a669c5d82dbfc0be8862685774b92c93f40127543494eaf8eb9eeb1c15a2430996be9b56b1d5b627fbace37f8cee9050ba2c67504b44e382ced04168236799e600b4f4aa5a9b3c12a1f773539bd43e4bbf4947af2ef6783fd834b11f800b59aff27c0a1608219ae1f2fc9c62f32ee8327ccb6ca9917a2c0df4d9863a7359ee5efa660759ebbfc891df4b87f49682220f4307f2c1a778fd14be4144ec4e3d12642009c50a692850c2e5c86248298b074db11b7f91deb440bb027e8c2461f18235b225be00089d615e05e62dd48aea87d991b2868b5b04c1c28ef78236e7172e24dd7a1191cff63357e65f3e827944f803c0ae4b3675a8935663e4c3b2a0207f1657ddd428060fc5c9b8da79f31758d1890eeb3eae4a6355d3ae423fb5abba5e5adfeca1e368ab30201261654ec1a91348f77ff3a528faf9bf5d739c9a4b9a71e5cd8b74c4806c3ad229b20ffe05f3660b4338dfc761665659a0b8cf4e878d0a01f3478b02a3a0fd014d54f90e9ba66402504d96336467762b7de119069a56ab89db5a5cfba7b43a7cb67ebf884e53643df7e0d6fd8c146f7172b6b5c69f1af52431a8e36889c0e616de6347c1966fc16bd118fe144c1466a6122805c4e47a7747e33a74c0f346774d8db59356fe5ffbe9e4ebd4cbc54b1cb52f1d9a814f491fe2363d2e40a8e7133e69a926b31f41b3a669ecbd13cb42b87bb7271181bd3f4af0d0282f435973e673714051887d9485e8d4251a940f54f3757826d59724ad7fe6ad76bbb3bdf1d6ea69f053e4a6b0e1650275d67cee098726cee17a3c8d617245eb0667418b3f903832e718cdc173bfce12127dbf217016afb990a339fdfbf0d8e0572b0ff3045fba6de50fbcbf4942497d2702fa27428914582076839e066a196117e49eef7134f12cef6444aa26616be0c115cb21b8c47359fee4f7f163a990560354882a439e0de2c9be9c87e99b8a02c3f9ba461c2b1dd19272a4854078e83130c3f8988bb012b5f8833aa47ca9cb2584e4aa84bb2885d133e6ebe8e039403d82bf8c64e111c05dc202857927788e8fbc9fea5e9ac38aaa591a011ca050bcdc9262724fc44ae0c924ee22c2333cd2c2466a356e8ec8daf8dd455ca5fb48daad63a7a87540e2df8c93d21ca53566703108ab307e66ff7f02d6340255e9a06c2b688b4c0c5b3b2324f0ad77f252476bb453858149f339d09c8d033289327ec216a19477495bcdd81f274e696633b0b2dd361eda345e45414bdfb3abc0ff5aec54afe1d3fd7837dd954c98245580629a598576d93cfee87ee5e4d047e1b436da79d5fb6d108fc56110f71c770a37c74ebc3a492ae029c9e1927252a099082147b5c983bae39f63893bc2a45db9b9156cccc2e112bb40e32a368b61e6285fd3b977bbfabaad32f10d96f8d9a2f84a3db6bc23a3481250ec190c0fa8aa240a41d9f5c28f2c8548e0b4b1529d5f2a6f23e0ee60bf4f39326c20445630782dca5f052dce0896b8fcc40dd4df519f333d33985404cdc35248b04d5dd8a1750fc090abb7fa048ef55f05400baa15ff7e3bbc0db11320fa929dbd5140014ef3a84eda3aec8bc1d4fee80941160e30c2331f811dd04b84b31398b81d1448524c4db37d6352d0e0c66e78632ee89306caca848c32fbbf56b0415d5fa986281901de7590d8c4bd28d6d70de54cdf7df88722bae1dfd5b71c3b9a776f2eeaa543db85583e4adc50cd5c74d2bcf5bd6d7e580b0278f5b024446d21a4f74d0e7a503e525abc0fe0ef79e60381e91268d41281f5643a2c181bfe2cb90ca4fa29e43a1d29a86e62e7476064a2d484a9ab7059fb67bb77096b7379f8008948de94a9ab4ab37d4b47d7ea272fe68e7c93c29662f21c4aa7639e0c816958c4d8fb8af1792c170c188edfbbcf13afde5cecad507d4f75271c05d35b742ecdd684d28a1f4fc327003109534f599f767a18001af577af2af98227166cb179250f007e1bdd4c852a206409b88a53fdf377481d23fe628332dbefc3b0f82220b3381b10c29adb1056c028982fa2e433bd14ee00745296e968eb813d1bfa766d61e8974f8b2de1e904c46eb502e37ddf5a7da8689b4060639fcca1e19ece18bfb668db4df148e32c15f4954c6f2cae08fde17481cb24122997d4ea727eceb415a8fd84693ce35d78cc1cf0a6c0339904d010f9e1ce24ad41d8a250c7160c9778e6c2a8c0f74aba20f7d1dc584a241ee8f7e2801d640bbf79cf9bf346f66737d4205102b8a3b875c3e981401ce526fd1e049348d98cfa9a0c17760e9912bb2b2bdc66d51af48fe2a8c955c90f0e4eee125cc1abacdf36ab496db75326075e4e5eae68cc4bbfec8ae153fc580cd24729484f8fdc49e9720c90538d5096322252bb0698c18489e87ee9bdc8213f675f27dd1d530285936246027e97924ced6825c7493b7818dc0e29c6a6874e654dcb8800f7793c2a9dbfec255beb0d448bc5e973d45d7f390b0b41d630fc66155d2c817af852a9033b400acd79623366de810e92a263e69bd7758b1791fadf239ccad36c72fd57e45336db43ab069bdfa2969687ca718a573e7108c2b3aa48c11e6b425bd9a8085ab9bf0e5efd1619117799758e4868258f61afc1582edd3a9b022b6f74a7a8193a78d4245b28a166fc4dc31a4efd5955f54965ad3d269a532919c77b3250b51027d1277466726a545536839e2e96d25d93b22ddaa0db1c35b2340c910cf82f3aee87aaab06b644d2854ef233bc517648f4d58561f61d162a275004c08144fb4b2821e296ea0a02b3ecc19daa4006aba65a20b4683adde4bcf0e846019f0475dc74e599ac4e09c344e77d665396c4eff422be579de207d097054148c2adfe503d99ce5cf5b462b06c67fb5912cd480be96aa4f4613772faf3b3168a619308e34400356384ac88ce213606b81ce0752803b8c366df0f39108de27c28dcc45391df7c077b8e6430b6419beb057f39bee5d8abdd8d47a0b62c71cc8f2a75923b8d038b9e2a83478ec2c94758f2bb3650f7f532ebc293544d944a3488dc9bf73ce489e7e92884d2250d9add427c8d14bb84ff15033623ca674e77b3f1832eba55249c1f3b24f717b4a469c3488ef2b2dbc115d5b4736acfdd67b6a58378557f2a3c7ce0849e8b9d422264045c5fbb1d6ed4d38eb0e262d1078f3a021b24ca19ba6bae1728acb2e4b558fb13c83d96154d6b4724034bfa0ac2cc2a23f8859d91b4bdd65b63707bbfa03e4833e8f51d1f26c16c82dda752f0b684619080706c639105fb5e843f6cc4882ce1a34bf1c84ac70307add7d37db77e63f39dff5e39b7de84265c9495b2e3baaa8cdae42ca8f5ef81944078690954abeb4b7eadc7ab423f7fcc48c900c573db4ebc4203cbe5c64afe2bc8f47e25932e16bf4800ef05acedeeedfc26faf67dd80b578ac48d4912654e3602fb60b94633478b6f85cae8785d77d3d74d23c1fa5a972d2d62631aed7b6bb0f8af3ddd7361ab4619803a96ffe700d3677a56a04b07ac933e3cbb6994200d10f3a45f7f6eace1b4cdc9e263145091bdce981c426060ba2b23d051512b7a960cb4dfeeb4940e63f1ee2c0f0bf0948129e281dda504a8700460a9b758963ab7d0851715ce69f192abe764491851063611847e9ee5afac6cccd2e22958996e7b0cafb653c8cd01cfeb54a112503f60f2f297e168836249b2c9a8bc4bbd1a862775dfc61db9a48ac0e6e14ae156039e264cbfc711bfcdf3785589ac53c8f719b1bea673e88b81a1102d9d0d84ec62d794e8368fca249b33c28d309609d27f050e0bb0c2bf0dc742727aa0f97e85276a0d4256f3df49d834bce696b1f3f7d54f24c62d3243493d9c7d3ea31c5164a29618317126e6e2bc721b030eae75b41925c586fed7f0655e1dff323f754517678fc2ab25182f2b8ee4a7e7b47ef72024c101cd0a0bb1994d3295edb3f1018816d89edc40c36ba4c92874c8a885b10679e36684201c2f979183f6637bb3df00c3e0436f06f93a7d0d5d34a70430ea5b2adfc74077f2ac67e54e06566508648145ee3aaac8ce793c80d0b7e532e55a63928e50abdef80c53acd95842cc97a994d64cf773152bcbc7ff770aaae7987c82d12fc7998a0088b671f3bc40063e1da932f282fa82ad840958c946fb83e074b5172c09dc647b1c301c2265d529853b8c57bc8138c814b45c99cbe7c5cdc933478d163985bbb0fe81a048b87661c60fdae0a286b4d09ea1474aad722ff8d308a59c9945bf8cdeb1a22ce50dd6dae8ca0ea4f975d233fb63f0a736dc328775ccbce8cb49774937ddb492a4f4d57b68c79c532f5eab23309ddacaa86da06fd01732aefd002c5d8daf48303acf221230b883f4b18a8db35f8f4b09eed0b4245c34564ccbfca697be58254943ed6ec47a54dc66fb3595c3fe58bf885cdadbf0e64213889b06396a79b916ba44f511a70e942b04b99542276a3dc9d01423b3ba52106c054dbae60b80182cd0e5220dd7980574af83b7df0458c07c1e36743e061b0c5623fa9d6ee986ce31efff5e3be101483fbcc559f61c6fa54d50f2d3d88d5f7882b2c77ce7f1922b64eb5d12c7a62127559b7543eb4b8c170aea7f41ec7c9b26b4c8ce35cae8a1bcd30b3e25a71f7f60cb1a80e43d0c1a98d2fec2ddd7ed796c744b11125a780d2685c9048be8469518e20ebd31b99fe427dcb537e1b7ea485e6531f1b740c7ec2c0c08c54feaa6e642ce44692d928f193ebca4ef3be18ce413de52a59df2914d3934059840505bf84ff1567d19b13723de911b6c6f8e03c01bc7f996f80907c709ff3cf9c7dc35aae9d31f644776e41c5e0ff4b656a7174fae0ede0d6d3b716730f80fc2a23f9c4693868c4fecf61fccd9f9b09176a7897256150ebc78acf0012e78b0694f437a29720bd2c44e8c13168425e49dcc32ab7b7bc76c3eedd5a1b834b90f9cc0671161a415138538c521b073c439e3c9971adedb5e4aa62bad59a9ff5b9503be7371da634aabd4088fc21612017e02bb20bf2665e8a7bf9079825eb98ed46be040bcc1998c100078994e5cc5696f6c7cd2fac28943cf2620c41753d870757ab744459ece232dfe7f196d2f51566bb119b06dcc37e90f89b8971fc5ca468ad07aa7af01a6dfee3ace0b685d976363a5b80ee9130cdfbf68c8304dcbc9193ad8a89dfce17cdca619b47c77fcfe4dd7d3c3cf2681f6711ffb9b5ceb6a80e3d6dac959dd5ca8afa7ed5922c6d6d68634943fba33c08e82f824791c27960c5d9aeb98e94a08aefbef44e289d48836f3774e88fe23a31636a4ca8399723427c76fee6a237c5fad95c13debe6bfb1d10cdf8b1a2acfe683a65802689bb1abc31b2d121989dc173a24843aef4fd1a0434acc6c8e5c0dc3271591a804555712f0c5eea6850f9afca31b36d9e1d9eafaab8f689507ecd60390ac90d8199a17eebfffa6969e6ad88877c3c41e793cfb9fa50f1637000f350c8d65842991676dedfce1368334b7be8858a49de5f78fcecbb47debe4ff506016bbd202ab73d885e313b11a3f614108b16479ae271a98fe79e2cf9638df70a62c71783b5022d90c918a3373657e40946636e6d7319db936c2f064b950d6cc0a77c0906435ef60208a74c9803439469bad9e5422a56ab6901f78ae5ebad9179b1cd79b58bc7e6a173a87c0f9514af5e561a8a008ed937aa953e5a98108282e5512ca17e53647bfd5142e0c29c2bbe4531028f4003ad99d870e56019f0e6b168cdba68cb4aa8baa255f726ac8e4f4b90f6a37c24c942645871e396fce9af416a60eed158c45461d4c4b00be570ee4427a48797badcf1f58ce8fecd37acac331b1f417fd65c3c51785b73544e0737273ad1351ce2b9efa04aecb70b9ff89ffc890d59dcacfbfc1038122e7f8e4bb652b0b63fbc7479cd675ddb1cbc84419994ea0935630d04703c33fc5b65fe0314626c4a2a46a867a553e126e79866b36b85d80c21b414e0447c3f5056eb4f841b6947e106702a265efb7fc575e8584277dc3e6d6a546bf93d19fd7b4914ef6650594531588dc74b009b639e692b024949990e34da2e839b8b851f0a1134f9287e51dad1cb05c994bedbd3e51feedf75b0690347164a02b8eea594af05c5683f31e5d8999fdf8aba9a48fb357ec00d1da2dc699a6a7dfe8b6a837badd9d7e274ed9688e8e2eb5dddd2c903353fda0a63aab93c520ed972e49947b6a1f7c189a91f784b7fd3d26ed17d0a2009d65a54a77f8ec5e9cf309d078fbf67d4207aa29a9f10182929106f9e49dd722711f9323871a4afaf47c9955c83bad89da2c30edd0aaed0b16de0846ada286122a4f5b3a8fbc8fd21dcf80484b7071dc63300d6348b537f4418f6050a35ef1b0bbd91d750784f5b9a6e460a663f349ef6b892ec12874f6dba4d8d6ad37522d758791c04d983e2c15e4dfd21ef931b13043d8118e4de1bf64a7afda4d0a094dbf8f87a0eacacdc95e50e104e4cee5f393bb76c48d836939280c24de998c41f6cf18a04a53e1a282f0c9876339ad58017e8d609356ddd9dda11d77ce306b28521a523e1bab9663fe73eceea0a18303f0018778398cccbf41f42a63ed6ebab054ff3ce7811a89a0f2e47a57802ab49d9262bce8a10796a89127e6ef010620e9bfc46edb19062ed7049a3112aa047156b6cd5ef9143f6cc0023aabd7f5f8779ec3212af73f52230b3ee3db5e5675343cf096ffb5e386a456eea9f8488518237cd534c08ffede1861e075981a47290bf79cbc468d5263f5030e70d6c6b5c9e32014524a8a5a12925a7eb868d14d345e12b2954c14730b36d9d9e378a2333bcb75543f379891d49c94665469a05f8ad31d9956779753fa51a7345eb2ff08bd6bcd331d5c514a315de7be900d77864e3ab40cd24367e746f263b95548fb1bd1b01a796fae323336de2d1582c74ca10c6a5ca72d57baaa0917f749eec75d61a3773f2ed7a04bda4363249cba6bdb7fca4afe4e72c2fcb509d0aaf4b2caf426d37743e353d1cc56ed439013a6830cfd760ea8a785ae014a7bebdc9c41668c9d4860f0c402ba0333186af77f6490460825f827e35ac7a4f13c2cab17389225b94ff8b130ae7a2c3e61caff935b2bbad437000dd5a582c426e2da364f12dfcea964b67f51a4ae40ebb8da6585fc45ac1f0eb84a9a7f2181304106525acfaef3a1f6e6fbb7cae3b7b064b8d47af28b2564623dcdc6c68cddada10c285b20c82776d067a2a089572792a0324460e9ba7022fbf8e248803be65a4ab30107bd9e716a02d17589ac7eac6e265ab5770cd993ac5d591cebce61dacefa7db8708c0bdbcf1ff548980683e4e6d6a6fd997d55926e795762c0437c4892e33df66a055f45015e22e72c9379abe6f3d7f84fc93169776eea23d43fd71007eb886552c5715af3fd6df1e6979291b33577a67723eea487052a08daf0f65a2edda27967d254529905f6c1727926bf82852599eb13072d929044d55f5fcc32e87d5b78af7ced2d5249723235ca1926b73742eaedc9bb327b7dcff15207d0e7f1a4d329e9c04a1730f862c8ed72d1a86d2612456372446fcccab1243aa72278e989a67987b4cd5fee43aac230fb3b9b8839d12a49ee6d7afb06456613663639f5c2c693163862035348df43d1af41db1c1374e17de3b14a2f274c10a115fa2320ebc11b952f8af9828f950363238746f9e42cd36a71694c702d7583c246f7eb9559c6d214f1c108913a2a53ba066a989eb5f1e7b6f13540978bcefd2270b35fb9db8358ac5cb51ddb16fc002fbe43a71ca9f2b932d953fd03ed5c9a33222db58c80168c331021d878e0683e952b80a22b775e3b59b4411e3aaf8626ea2028ea8435d58bb99bc9e8c1c3a935ff337635c19057ef5d45cc0be772e2e7e77a567c8251b432e0d42d920e95225e0f5e9ec5350a3820e4f5d76f2e0635d138c63778e191882a5524b922922ab8cb8667d3fa6ebf1ac261e0855633fb4d2f5e5d1682a2eafef46f8c0deb6cac3a2c1f6c947619d930282bf8a067d968299da53afde05a4ca469038e32e34c441a4609a1011b9e0659c6dfbca9a7bf1229d94a7f6a13541de7def0d5fd1dcb75db93c8198a31fded790bd6c7641f5a3eae7998764550d88f5c4fd6b4cc4520375e97305d7b1fc124d2e530415c96ebbd8e44476fc6da252c593d1655f38285cee08efa04e1fcfd17f93eaf12d43e90d827b788df91573931b93c220b1a8b540be704a6404dfc0d33ffd051afc1ca6b2e96aa5a94424af7591a20a1b4796f4adf532ffa8f0e5b12a1476aa41cde63fee27d63213b002cfa739135e9b46dbd8003a3f078b9926be1a0bedf586b42df2cddfab9c9ba9f8dcbca948862eaf2108765a98861434d156dcef54f8386a56f4414b4ef207a91238f576973917960e956a76be3d469e8c70eacdcd03ea1eb3ca152f8883f959f7cb057c4842d6d330f8cec37435ff0fbf639a1dbc1a5809f3bfcb3ccee9556bb70e14521ab89f14aa62a9b93d016ff7032335e64f34202a3094aa914d298e1c0665e139719a351d9401d1f06970f5a43481d1a8eb78f936b1d1a9fa9b8a1a910916a1c08a3ef0cad26fa98b8e91fbc8e95f31b9902607c4ba31fc073ad0141b8c3df5967612a3e4b49cc6421d0475b4d45c9838a53ce4e5ccff11a3a026868c08f97c5f0ecfcf3678127145328fb899a93c7c4fcb310f0d57be6f9e110f5f18ad0260bdab0739ac3ada7dfbf6012c2ba862f14ba2e4a27055d249933c1ed90fc85adf02afc62da93bb3bbcd1663c6003c22c2825232a3cce855477289a87e2e1bdd485e225ae8f2a440838f11fbfa9709910fba47d0dba48e5c9c483f4c3f472c52c65b8838009979f73cb79e2382d10cf02c8ea7ad90e8936e16d444646322762d59dcbae462c419462c873b784a5b1806e2bae3441d742e43e67d6a0ae80663d4b7d6d248b53410fe55d885c48e6c6b163b069f7568c3f01fc1514fda91445d29845c88c097189cb81bdff644669ffced591c3e706c3a59a6fd6d13d433797cbfe7ac4833178b889ae01dd8c22f880e54c0f5345d0f1c55f6f8ed45068153d770400448da831bb68a9906f146d4cafe56fc8343d781df75294a3f5c487d618d0a471dbac460e582de6b3935b1349ca17fcc5eedae04ff3e81f673473bfd936e3fbf42364f1f8367ad985a949c107b0b1345b02fb379136defadab46feba03bea2e4b58fec1baa2694787a1de97cfb0dc7fd39004171c219bb10f8504f00f6bad0fe2a892142f3aa68903a527d926eef79b7d8cd22929b7f7e460601f1469436a0d59769b93e627892e32737a6539362ccc4f21473b64a5f809eb301d15a86df375f9cdd20b54c79c6f48ccaa6756fc9a1401cf1f3dd555331d150457ac5dd2c7792acff01025cd14f160a2ab1083031b8f3b4e53fd8581c5917328b5f10bbdca23e044507fe2763d95663133bb2189aa5a2003e37ae94dd3b038c673c4f38361fb81801af0df6dbd8132db83ade02d13c03989f4130e1704958ca567247b30be0fc16e26e4236d748d6e3e4f2ee55c786df07ec2ed7d51d613f468573c240605cccd7cf2773257395c9ff0cc71417171c4386eb072630329c882544913924ef6a0063f7d8295672a69ed3a8e1ddc265bfcb49fc1bf338cd19381bb45f35a7d9869e0b1a56a53b9e473008af6b270bc07f4401b8b48787cbee4b03d8c7bee63bd721a2b8b5d7ec270d1bca456448feb8e207872741c730cef4ca36fb125c85bb266e55a0ac9ff1d87c02c286","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
