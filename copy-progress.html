<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d4e5652db9145f853dd6e7d79168fe68e7f7823ae8408dcab9852706cff096e2bb8153b7a526cfbf3dd111ff9fa184f0a10dd9846e261e7e42b840b8036af8abad297805bbcd683b49fec0f97245c2c1b7f673e032f883cb60a201e758b8e7b9a7de8db6e3cf53d2392465a44142b571d6ed3ef8900205ff340e3a31f7ab20aa3fab4cdf47a6636baf0afdfefd56c62217c5f0c0ffa746e80e05556fe6c67cd311dd2ba665954018a27651e595f8215302fd93e0273b1263a69f24124366b8c185882a75915aa483b052185a871ad2d6876820daf5965b36128ec58567af13119d8d56fae8f423bb61013ba52d100879121b58527723da5a875afc88eb2dc02891f4531fca3064de9ad90b3b90dd5776209141b75279a2f1fc7af7251dedbf977f31105685ce476bd0f8464c9525c26d48c6e16288ac1205c3ce0caa3da303d83c59c5783ab9f6542b6c5ba60d732344988a6f5cd9bcff458f66a651798655f9dc012183aa4b638bbe397a819958790b39999af6603fe8c12afc7021f7c19b29c32d72900eeb1d509c463a1f1ba17b766df69ab12c0c570b6924ad68b9f3d91ba1a4ba001a2579a3c8833013d355f55abc8f876ca21a8009d4d2f16d58b48e77007f55ca210037ac7c5eac453885081e4294c1e3ed0afbccd08dcc4b9586434d779e8cd59485db8d568026323270f26c6747638801826fcf2027c292ba31c37f4b648fff14f870571625d46f28b2ead24396bc82e0e1d8742c45eeb119981d9102c65b3973d8a631ab5426dbb012220061047433be5979ad97cdcc4b2824129cc1a809e6b034eef9eccb0ef7b606219b9fa33119f41d2fc1aeed91f747f3ba2b769596b6d5e5a9cef24fac83916c34acc8cc34bba0e6132f7ab90cc7c3dc05788c4f5c24c3b8d24eb96ec41bb35f40ce37199ad8b641057cc8949519063fc1a501aadc27de29b2aaceaee901f42c6d1f994a5f1b3e94c7609fcb52b208e08a5daf6b16ce23c2742875dd975e10d29c342d1b338dcb36a935ee54b39acc1bfffb34d3fa8266fe89180a42a0804590752697cf8e49810b9d339243d40235ad4a4c2c0f9b7e5aa6ee2c140118919cad6d0f1d10e0e8e8fb0ed328974a6d08a1adc34e9b48d409c62c33ee81d8311e1238588ffc23e565ef09d87fbeb135635e4962de2505ee79c59c57dc1b759d163b2a5c7d2c3df7b45615bcc5254fd8be79f77e640468f50735b8afcef7a06d3c776fefe3f12ac57890f203193648d99acf5581aa6b718e8a792a10cc6d50d72d37181ff0c5e15430f0df7282ccaa94a566e23a1a0afa812ad80760695875251b3e1156e89267480e21652afbd99883152bbc83db538048b27208b631d54018ee206a80c3276e5cbead895ee07fc330a840a8739800730af56afbf5b51067f6b30a824b8ac972303a5ed82cc344c49777c454807cd1df5d87bad726fdcd75d77e16c958e2add88071c31839152be298d7f69ad9a6bd394a0416bdaa88cfbc60eb1b3e077ab71863052c4b6a21adc1eee91bf5eace4dcf7914d81bdf6bdd7c2ab9dc869157efa35494c5796306a91dd3abe099b8921a153e391337121106b60dac7aea241498b855981be9fa022c17c0ea98fdf50d16c3c0a8471498cb193feae41758465ad8ff88e098524bc3e2f40cf1ff5880b90d25d4796ecce7e543ad6fc9ee32cbac4ff08c5e2058cf2efc5bf4085addca01e3fc93ea4cc96e7cf00d5ae15835803101b7081d8c41e382c8b261e0360cdfcd298309c9c769190e3cb10e287b9ab7565f8215ef6daa9b03069fe9a52ed815e4e2957aa493605939ac4c1bfeaf88de747fdca3ed71e8b621708047a13f62104770da4439d3b12f77c875ed7ca32a0dc2205c7982628b53a701874332de9d61c0d5b590e2de09505d06b9d51ae57e30f603834e30f493d1590397cd26423d1828b127bd08f9fe3ac86f7c9db4fac12c8983b36ea26aabe1ffbfa79e34110018ecbe25259b529cec68d88a8564e50c0632191ee5621e1676b1e45b09a6ed7fe776a8abb6e68571483fc6dba9cca96c39aed526c5f950f27d14c1dfec6a00e0a66a440a7ff525d8654da8a29d9907b3b58eab87bd59a4903e91730e5b0218abee41514181609c3bdbf57db0a74443bb02052b7311ff71ce2ccab19300288d93253c32e5104dd0fc5b914a8ffcb7c8ecaf4dd7ac692ddeb2a52cd68ed6106685aeed2fc56115a5df512b3834711f58dcaca7205ac37697f3d35131073fa50114164b9ac76808b132f39294c05425e9f0ce00535441cd1e6981a587ebc4db2149724d0d1ba93cb477345a4809cb3c257af34540a2db4f8709c5bf79dd07461050f2437b4ffa675c9fc6e0bff0d86cd69eeb0b289efd233cec4fe72c9f1b75d6d42eef02dd1a3b11ef3853ab8c97612ef59879ef1dd5a59d6dc942e89c2257cd54f8e61061e11335e6c658fa0b4b169d5d1aed3e736bf44897113cde5b28659ce7857d5092e18c05f19d64da2fe396cdd4defad2c49b4972d395eaef5076f5b9a67a84866984b0926fb634a3b1288b5b0ecf77af2e847cf714268e27ab292f845c59fd8bb61dc658e738cc9ae693a533cde3f7b3b3a27c89bfc76c6bc2070c60cd099e5e5fc474c86fda2eb5bf5754178f3ee27a43de58cb5597bb594d23cdddc17139523cb5d20582e5ce63b9c93ab5f98b516d8bd287052063b656e82feadd7e352f7736263ac8b63b4abff5bfdf49001eec365beeb7061a4e2fc5ddf5f2fc059865632e1b13fd2f63a2a09d5d146767902eb972bcd70ccb17fc3c6ade3188b9f48618cc4e1ed6d914c7280a4fc94206823318c049e120e11e9334a135231d729c763ac999b300f774ab9e914c790177918da2075d81a3f3c5aa73ee0b8e67f066d1ce020eee8a8d2ce9234fd627fbc1d5385188cad158b3fc535e5c6d9d62b973ceb989181710f8da644d8c6f604ec0e60708ccd7aa0bb1deb6942e681a1ffa604c1f7bede0aa663ce9bc82c9b299749828bc1aebec65f1ca965926bb40a8373e9422045e8993c04ca22e24c2c2bacdf2a4b95ed73ed7918350e7ac5b3987630b99849835e84c04c0fc08c24a763abc4ba2583fdc617ad278f42f6a992d59cd0981d9292dd20edd2fa29750bf948bda6b4756f7142e2dc2f2f3bb975d1575c1c93a60979e7f92aa5edaec4bdaff1a7bbd4e0d4782d190be833b16765548740e90e881bd4c8724e99e8e6479b69506fa1e23554594cc5aca1ace2645172ab3044a4b415ba2dbf08a9713e0fc06ed7914062e6de95b143bca5403f196561a64a6827534c2cff930b8c62bb514812f3ca55c2c8ecebcfddc9ce724526246f70e656935a555af9709144c09e340887c7121e3378b3534af7e15b78ab7d414dc69db05b4484b1c67a7b22b1227d47e86d9b1c3062a274b111205b0b100ceb82e2f725884ca1c48a2fe208dfc877db2effc1235360fe58667ffb5f0b6b6c1c1fdb1f371b0578b9066c2bcf45c2342a184c855db26f3962b7232efbf095d35a6a99de35f3d08b0627b16d5305ab41ea3c948832393502b080b8ce78ed702051df3522eead4b060c9949187f010242e6138216d026da6eadbac4369be3e51a0e96d574d9c08bac4063d906a89397f87b7d7a0de33a35aa083aaba9e05702ee5a06216d0ca9778f468fdc89e0942a6996bd3c085b71a27d66e3d032062406f9f1b03246c6cc1f09982ce23bc49840e7b1d433e3300014eea3434ba51358adda7b11f8f0ca661b4dac9d59b3719ef42e710d87868f382b77cdedf34e1713e033988d0d23ab1a088afc71ded9f31b25d89daabeafb466470b2bdd224eabd7a6940522d678d4954f8e84bc5124af5ac635da37844c4158848950392636f3afe1f307012db4fb7321bdbc82dde27b4a2ad30acad16dcbe983a9ff2d73bc08d0eec2cfdef7349fc98d583ff808605fc5df751478b523a53a8c902ee082eba83e4016815d4f32565cfa922e06367673a0c03eb2252cea6fed64149baf2c18bd83648a37e3ff33fa90ca5b5ba2f1c26325fde126fa8a2396edc7832f1089b56f1bdce04586c18f87084bc89b374e4f5cf57afbd5aef15c8c4c7d029ffb21ef7a9ab24a2149f0d14e247e0bfb6e37764d7a64c3b4b48a47918502b4b2514ffe58e6aa74301db1dcea134f575375658c6c75b7d9d716f9634ac95516c141b056199d50db842c1681473e22b1c757dba2203fc9b8fcff765d804efed0997f2531c9aaaafcd0881244874b8252419909310069ac31bfb0c6a55cef55f03d605848d1fea9dbd3954bde930309bd4623c34187d7467b457098bbcb5f49d760e4b31a818ebd6c62c5d7217d8ec93444c78cca1146c90977c97cae2c8615d640c9ba844a5b861170389d484d885cd9f447c395bda6d8f2bd03d92baee4c1e4c2c789bf6a431f40bff599b9556a12f4b73570ac9fa9e0a7910339d2123e70bea52d44214374543cdbf20ae5168a1967d5f71ba7ab3c10c2476d3e3ce7bbacefbec292610cd4a4b6f642a95908f41380d8e61d4502a8bcadd9368aff73f8c01f945437c89a4277775dbd7650e107923e6291c6f81bded24e9935aee982872139937cf9202462c088c5a1d9f0996f3a8f921df676e58be719d12a03e90a56d34076fd27e98472a3fce433f1d60b36fd0c0e73658cd8fc1994a2fcd7883fcb31bdc45c846edfce0ff898bda939a5acdf64b5b873cbb01ddf2bd6ef360e83525894e6a9844a7a57ff0678d31b017eff127e364446073ae71ec4caae9bf54a0847440c40ab2a882f9403498517561dd04f98c3268f8c458d93bea75142c5feb9a585943aa9a4e48cad03686662edb457372ac7da1dd85290b546a7f979e7b2fd1c3e4ccc5a60df40f25b6c43872803f6334e4937e29b91fab3422cd9e41e6368f18b2afd9463ca46cc7756e94f93b1b09a49bd009446c91e0a8efec84647ed9a4b87a7347dc0b9bce7d790b3d1826bcd7f34ac9b36b81b380ddca6c7295efd4b140da766df3e703f5bd60f4dbe311047970d487f50ecc73e18a1e15a6d2a064b28cfe605fbab09cb50e810d029f7711964dbba405848c79dda237a394bcab6aab6ab26cd03e337c48131b693d0aee53419abcd29bf3a7b3d257ae6dbeb28add5051bf4d2b729ee809736b1413375427305149667f824ec178265f42836f927fa82a08f576c38910a45504dd970640c5389592bc08fbc209a4f710c6efe84a9ca22f4e906b8fa72994b2df61d9b340fc33b7c96d7564ae9ad43b15fbac050eb3aba2f17e8af54dec770aa07cc953b7133daedafe0f67c2436437b3a25d41ccf97bd8fb486b74494bbb7f53e2337168b6d85b6832af34fa163c2f21d523070fbc1331e372f311c6c5f18273d1da33fa4c26b2b97f476eae50cb6c4a26665fee5591ea0cd16db9fb23d2f6c62138e307c0d7066aa0a91f732cc32c4c670e8d8208ae60ceba3824e9cf0811b2aea5cd711b0f55b9848e72f8378fb856cd25da071a761042d0cd22913230ed5b6879069e35acd0b1b04dc0c2685feff38faab716f90a5a90ca2385ba239fba211e7710a2712c6dd7710006e9c7d1e5ae17d10f8c87de931d922ff988a3c21c859bddedb9b179defb179d3709bf9898241313877bfc14d458a44ca8e6df8a9f984dabe132b8ae316ef737d56264c071d8ec450d3b1546c3a4aa77657052d36c7ddb1dd895f442aa2efa52dc9a9981437104bc386f6a3e9c1642b322375057a025fd1f21d5836dff05b33091ed09c670ad466963dc984f3c7cdae65959d72e16631bd5bb1a90a61bf2f70570c5257c9fb0acd0e8dedd936553cdcdb2d2b6a90580bcbe4f0e412f9dadae2099cdd51ff7087f63cf352d0ca70a9f4e1eb3e8a7b9f247df33e16141d5fd90a1d0d63d51c65d3b2ad690cf1ddf2efa8531dc3b3820063cb8b577f4900400c01b15b3681ca51999ec8ac677d51aeb72d3cf564c462bd5ff2510de2ac34086af27610481840b43789f97f8ec9d85bbf4f12fe7a21d2a0b2caedb453bdaca42491ab808b0c9b33bef96227d5dc4ebdf58ee5d7cd113cdf86936b4a7a189c09cd6d475bb6efcfffe587a32cf411c0b6ccf2091d32eb1de1085b8b701a4c00d768160fc2ddcfaf7e21765c49412fd1c6621479683ca1b749002e374bfbade13f21e6a2975209fc39598488869f3d8b4908ab7662d18b2499d982149c6342d6e5436d7ced1f42f2c34bfae8af063db368b55d7fcffd487a0cc4ce08120f70fb162f083ef240a8550c7ea5d51b17a0a00845185738297f65ab7197841ebae3d26f09c1d38ba13bf0ec8c83c0edb8edbd859ebc93fb21b3db698c1f754522c50d5fe8a94652c543abc1b8ee89415da5eee76b80c5823046428ddc20f810a6348768aed4b3eb1e666c192a4d83f54285ffee9dc7822cc91a82f73ea4d3a8f1eacbe4d4c843711c27ab6fc5b9797a9f510cd1b5ff9da0d8adffdb457fe7774883963390f68a5e36bd4e04f71ad469d6493230a8c9e51486c26cd545a7c879e83e15869d93962edc27d92ad03fb21e0d2bf9c5a6b35d3ebf818399a9ab92837f2d8000a54cb91f841eb43205dd1c89702120e052df388e2c746fdd10b80d8a031f717ace7fe6c9f288822165f884384fe87d5c7bc6d38e9536a4ec4ce844388baa5d4c5b4d1bd78ecc4980b43d8bfcdb9d0b75a90d1d9adb7928508c571557ff5e51b1bb2be01a5d8cddf3337d48f353d9b84cd0f92096b12785b8b8c23948abf6886c201deaafa4a5c5f4651cf021769a552c0431c017c77f42b9f8a25f4b0f30e8bcdd97409fb7d4f824cfb6412c38a5202e6dde8b4e3128fdf5632251c28f6a22b513f069579fa33e4b718bef9135e920bc5160968e811d37b35a14b27fa6872da73ec5866878a1aa2a277be3afebcfd0e046f75133e5063476300dcb48ae5896fb5447cc265b90f20a9c604201b0f801829f1dd1e69b044df5235058593c9110995180f2283f62d4e802ebd9628869ccb612c46c2af11f39baff01d488649ccae108b124746a75ed4ec975060afb838f8e5e85d8c76bf6b50e338762d69847e1635e9fb48dc0093543f8a901fcd592adca0376d678b7e3633c30dd4a1367667ff1bdcfb795e5fb121288cae8d27e2e0146b87f9f6ea48b5ed6136a84c82f4061cc386cf28cbdb38e6f489acb41f9de632fc7353528508576028e4b146613e664bd5662211d571d6af71bda08919f9796823a4d1dca5234294d5f046312faa74450bd83941f83b9bb2389deb97f76616a427b2025da81d1e70c8972054bd86e6b0a3af662a0bfba5fd48855aecd0ba9d51a46eb8813595b8e9e92c8530ea0725ae8e73ae85e82d4dd27ff5fad194d71cfdb738ef8471a104ff0d08c166e52406ca9749f8dd8372546827f2c1b0fb59d080b6596e5ee546d470c05fe620c8f004ac60b4dcb0af2fd268ff651cc7ddf6ad6e1a034fdbf40afecb5067715d885677ad0e9142648c0bd151e6168ae9b10ba93af9b001ee8046c848b89b45a2635caf01e5d5f446c2ec83da23fb6b301e3e1fc8d629e898ecd882ef94958aec7b1356a1c03b36b293b717e3f125b24a133b238906df94598dd632096b7261be4b6327326b1a07bbb8448f3755b48b62488254ba87985f7e9719642189b675bc80592113c9866c58d3411b46fd7d95687cbf7054d9149621b1922e2c45f94b8b16d9c11fda9d06732a2fd70822545b8973f9b55df118f15c4b9154278bf44c12be481c198d455185b83c56a6c599922558c335117618380d8908610886064f5416650d4cc407e8122ffd7b7ed25f617f92b408ebe287259dcf0a7825da0b11d8a08e7592f3de4231321ec7310f46b07473477354adfeec9ecf52165dd183391f91f3e9d4c107eb17bcd799e404c4805a99a5485c9fd6b17b445763c147ac2ec06affb5d1b4a0a77b51376e236411081c8eee02e17f994b3cec278b0201f8613de4c5cc063eba6a76c658010cc76ed47910362f03d2340e1e6a8578fc0715ab48e6f273c4e95353babc25dcbb5a48f09c0b1763666823ad17eec23e78b95aa92ee26c4d24d5abe4111afc09a76db84ee0720e3cce5fa1ac881b2cb79e19430e1c3edcfb48ced10a6c2299ec9fcdc1c61c033747be535606ebf656ad6ab72f14d60bb648272c3719321cb7a220933c145fbb7ab00aae009e243a5ec6da27e5cb9210a5a3cf39bb65a3083dc7ab06b596c8726aaa49eb55d34738f6a3e14300eaaeddb1125b8aaf1931d330e959416ad2c90af02b685f357bc2ae18964bbb2bd57e2b8295c1cab0688b39f033136b9e99d4ff15685d242342d51a5870e508318b7b41bbf7a9ea3bff6a02a74f7f3824aade398b6e70307a7d83c45618b6e254fc4e9c4901fd9d129556cf095ab693aabe32aa8598c879d28b58435a6108359f485e24e45de9feb7953c10729e5d6c6b4fafef46f506c64fb3d69c8d4cdbc638fca202c286fef76072483e134cfbf5b7d7ed7597ae4918e93f67cb5ea7ff3070d66621e602552428b3dbd7994ef2459546875ce0bfc292eee5d8a3a60fd5432afaed95b915506c3fca1f6cdf98349206da1c1ec5d29f1bfd99e22726b72b1d645622ffb4762dda75473934227882347cfee5b719cb557ff5ef3044e3ead223c1f11d7fdb3ccf38ff7367bd8c9b7586e7f9949eb23adf39fcd0d4ad336826f82dc843171368c9f4bebe67484e15dce84f40687696a61660dff900fd0db28489d061edc18e26aa33294298493a4218897656189ee8bd57ab100466f26bbbdd3a0d48f286a45814cd0b2be65727aaac77e395f0a31fa6eb8fc9ce2b2500a1201f915f0c352d1526c961e57c143608e391bad782092998ceddb701fcbab6699bc913e9a0911e3324c7a7aa78a01b41edd27ce85a18ac1a8423c12dff3ad133986c492f78a2d5356fcf97d02fc19fd4958c79de3e6fcd30c2739cd9663831d47be04cf9602a7c148c75f99ad0c13488eaaad8fafa405d55c69bc324a734459f7af3524177274d356b2f7b4e7f4979292773522dc301dd151f77c38b1603284c838c8a31d2cafedeb44412c0b1c5f7b97de6aad7e7cbca24aae05816353ad1eaa39b97eaf36c264c7e73b6437896c02f16526fca5236f4d5cfd6646d01ea64944ad1fbefa6dc94efe1c675717f771b2748c9b65fce5cb9c1f43e5a21bf6eb99c731e01065fd202ac6355964d14ce798689effa4dbdeebfe2e3f02050e96160812099e2730d43975bc874513b4a0b04ea9ec3f7a11e6aed1963f9f65fb1edc1b06423fd08c049fef9f7db56f0d45ebc821569e82fe9e3ef77f79828b61e405e9640bfb6b4e2abe80585239e3b1e43d500e0c60af17d0e8c3a75a644ad7a18702419028a9d6e925b184de9d4032b445d010d8f34a40bfe78acd024e7b887e4be5ca9d9e324ab3654cb68a75397fe10da168bac337fb4eb6a174e4b1ebf11861b043caa9b3f5a84029f0ec337e907abc1ce6ea1028c0ec2bd72a4d8f8735949a8ee4b07b252423c24053530f0432712b2afc46157bd7473cf4404316630a945172c99d8d708216cc5ca19263de0b73780c49d1d65de9455add966def7d9281359d51b8b562f1dffa72ac0cb9c707f029f7e7c35deaf6e3df4c517869dd4841129ab9e1719cf496f79b82247c6047dab11e6ba99fe040c4a9ebf88066cde13cd7d3012a47d4ee592985591c58b1fe0fe4a5d15f8bf6ad063d25969f1613159c62ee53d19c7b56a62fa5f6c48fc159f1344d672f575ffba7f3c69b957d1d0e5239d61030fc56bce1ce1737af36534aa7abf9590388f0f92c4eb83324328d21a4801b4f7922533186a141f3a5dcd0a355b8a26383651d4f59a677445ed54ef12af240e3026d0aafa0b8749fb6218a833ac6416311d952d9e654307a2aac735dcdc3f6fa4f4ae939114fec14d51ff9adff239a1e22c41c9ff0c7a3e6be8e3bdf395a4ec46026d6620ad85807c9fe1d5c9dc5c83fd27d461180629dff2b96873f3cb44190485dac35f0e1dea957f2d5349aad8ddfe164c3b12ea54ac888a50e05736dbcc914ff2b1ced35dfadd9d163f3e148a848c6176d12b7fc8f49e11495083d875371a46d94097a1c4b34e4460abdb8aacc6b9c90ad457a0fdd085e7a0b7425c2c5d16d3bd87e95bf21877aebac604b245578e9f3f9efb4a8266fe9225dbb3ebd443f328d5c43869659f4cd3d8033e1dc4807341f9b648e998b57a99c555de65ab323071b02d3b2b026fe2e5f61f5ed0918432404333d85925c6a870131e71e0b3b60eb1cba6ba8ba8f4a5ad4b47660eb2ce73dc77c3da75cc311d527aa955f142d556078d03f0468d74edfc5f486389dea4dfc94c63bfbc098b4c986b3afe924a0d45e349a700d138c39bdd86ae043e9c739bec0a913936ae7727d6109657dce9cbcd24752f6d08d73a81c9d18c6834f2adb9dba0322c83c0cd0b0276ae05f27bc03deebe40d3ed99eeabd641d46d08f4884ba1425398992ca534d5b1b232d86be06f74562a491fc0be017ef3569d156d6941c797454e87c78ac7bb6f2a178b671a3d0a50629c6da11b850a6a12bdf4a8fe5354c21ae10572d7b354e2afff43b02f80ca025d4eefeda1450fc68aea747c079c1159aa78663774f4bab42025358599a6ab40cf36edcfecca1b0e716fc1129481f4c6199cd79eab0385f130ab0b732687bf3898e5ab615e03e91d0fab61139609805d3a1f084fd6eda05ebf319d4dae3dce0a6c3f152df9a8552999a28b6c4941e06a6daa59db71addcd172e138be3134e4a862279479f74644e7b1d37882c64c16a04573e2db74f9213930d3d767dafdb2b932e9eb60e03093a70cdf5c0c49adf39013e9aa67da0dd028cb1c2301bf8c053588a8a71192da5cbc73f7b25888599f3e4a7666a9e7a1635114ae0455f2a30c963bc672a7a0d7984142c269bf1f9541883a5f2dfff77c61d9f19c6736086eb7b592f535046ccfda1f1f4afa044e949094305ec115f36ec7c99bc798813fea586845960bc351f94aaf745b76ea6b0fa3cc63e93bf6ba35f041d7b8d726901c1918bc731ded161e06a0ccf9b7a81d6972ad3b1d700bc0675a120e1d32127e8befe37f5e9efce79bfbe185c40acf78f33a71c59b440e5c72ec93559c39978229febc8152ae9f083a78fc4a23a4bca65b55a3477d1f8cea1b119a3d32fccb606a4b99b8b6dcd8f951efe377061c71c6e56a0b5c6dc963f99116003806b4a0f5fcdba89d1b3ff8ec45db43f9b8bd028c4336ab57f04aaee21bcc6ec10a925219bcf29addd03916c3f787c55bd9a99bb0c3974ba2383529aa8518334d9f0a3d4fd567901490e9b1f2dcd6d0d6cbd121dd0d0b5c7d078d3af530a1b839796ed2128d88c1135a8ac23ee9ed974c379608cdaf004a17b4b31a67f0832bc34af81d9df69b73fac89d18fd35e574466945c3078acb4d5c999824705996d2ef4dbf63c9840a1de580f87822d5c28e3cd7bb87be3a2576d5e1797ed2b84bf5ad1362ce71d72340a81ac4978c8ec0422fed894bf1596f00e1c60d271518da75caebf18181180be45af3cbb4fda20ec2e71b09d297dbd0486deb1f5bed25c103a32a395c2cc16b20f42584a07812a1d55ee625b9ca5eeb7b8566a2c357c12238d8b5c92f158e4be62a83cca47b742237f4bc5b0eac9ae81d4aebd35f6a6ef0dd69bf6b7ff43a2a3904158da5616f0ef6ac40ad9b327588d221d46c64bbd0350a899682f25078e20530da121eba305fff4f9ccf337b750f29306fc3e5514933a2c6d8ec5cf3c7deb1204dd03f57ec1bac3c7bc0abdfb37e7a0ea5d42c9b7457c87700a6367b56a936ad8bed3043b1da30e933b0492044d6e26916360fba4abf420064f5980969009362f269e075dbd4f05a2ce8ee73845aae28812fc16dd716cfcf66c76b13e569cff876c7d89b27646a1ff7dd1406491d7d0d41d94a877d5f6cbbb1b99a33e9fb30aed23a9060d776c928a4032110c70f7d7073448f0501702918238ac47286d79c0433bee5c5fc7ec25b309957ca1baece4e5305571d9bb4cc5c76c2d14735d5d38c6296cb91269ad45d395f234b2e129c097c7bd18f0f18cc4d4f9818bc0497b1e59c4036085f26b95b3b3e7e3d4a870c4c36731fb7410b5e1cddac6990d5d68535e117d61c68095bf36eb166bf63de384cfd73165a00eed99aa385b76e9f16294ee4fcb32450a8f5c892e2b6d6ce118ca4c5cec45952f2e5abb025d6699742b3d5d76fa40e2f0be2d811cb68557457597862efe90e5325e0f5ef45876ba642ffa57e8365cac52a3c5f21795434d5beb358c7711caf051bfb544eca4d291d717b96b65c731d65fb24f7dba2892e0bb3785c3e4e7289300488b3e76ed8391a5df610188e19397cd5fb51951b9f86791a2b8e6037437b106a7db6a7aab6b15a612d52f912bd07e8f9898f8ace1cee56ffe34e63a93cbcec532eca10b0912dbb11f3bb2d2da46f187e8925e6c7b6e72a719c01adc410ebd397fdda3702e9d8a8823a3f7f7f8520ba99a34c35a928d0bc3db0f610c528be8958875bbaf6a66b8bf2e8189513a0344b9aac06ae54bf525db812e2c7aeb9f0f7a27b0d09878e10be01d1fa1311b78ca3d5ebd6d6b75990f7e7dde85e721d56c2168892c715a0d26a3121d559160becf1104c9a07de4a8d3d37cbac3ba43b9887ad6fbc78bafab4c33c17721bbc0a44a1f13d74daa8ee94a3ab072f7d04d73e7414ff84b2bc14961d56df81f64426c428b14cc3034c202fad9538cb9f72b968c5cfa1d3100e702378ffc9ab82d7c588f8fc68f4708c770e60b5a25c507568ae41027d4d53f73370d367612fe9d7b736b2f27912cc47a4b9e6ea5fd0f0904e016f5d5fcdd318d05441d4df785ac755237756685b4f43846c4a29c101a58cb1db8b306f3b4941640072b2edfd53ecfa66fe6c3b13cdaae9d936657ac36e82a20241c4bf9dac22b835fb03793a3ded45195047d947a5cd7cafeda643ef37f474f783d32d773f84c16b26c01c0172d6314b431bb14b6d952705d2e0f6c52e8cf49c0fce640a7d057309ef0d0613151f98201cbb9bb2fcec244c19c4eed7544a44e6df3e9a0d87470300999373c5c1db1f42a538efadbe3f88cfa4199bd7580edd79603d8f935043e1548841853dedc958fcd0fccf3a20c76a8d1ab883f9a87cfeab72d930a7d44c2133a26b7b184d34556209654f9c5834f347c153592179a7e9ac49a75ec4aaaaeddb911ebcda89dda0902b8ffbbeb9a3816cc3d0db82fb4ad4e494cee56edc1b5680930e16931941d60d0518f75f100ecb0b651d7329cc0873f7551ae28aa9704ff4323e08005fa81fa6584c22f37b59720e076d5795976ba60f68abcf686a8e4a4f01932de678b987ac83b036c8b449d4d24c65140c3e9ebf5d9455a88be96751d51493de7d10ba08536b7ec87dec189800ce16d3c0f7c39b0273ad8b7d7030f1905ae8219e44ef7358cd735635f0d38a9863200120c7e971a8d177f88cc7c798d3a6c0371c441ac104210d6e8f9c2bfcec3c8553e3c13f0644d862cd37367744b927ce0637b8801f1b6aca24482f2297c2a1208a7a9a478cd67d87d144ccae89de4d1e84aaa20a8c7c50b7c0418d51a39b75f71f1c6962c36d0baf271fad9acce0ee44f9aa426e26be006cd703d5e56e2b13e7c7e39554711f9740c0bde2e318abb3ebbb3be1a487ac8af45a481a10ce457b24efa0606b3ad56c3e6a538196b04d93e05f8bfb7cade4284528426aac9c4f8056d490cf40be2c770a45bb4b8b968daf2f64381da0598584bda71a3d1b1f599a7529fda983196281771678264b22727b25431e64990c3a5142897288fc8f7e5e9da7d6661f4e26055c3f218764eff8d25444f3eb6fc1e7ffe9b934abb9863da8199bc3eaf7db0ccb96bb36c86451c9dd8c9184670496d0edb4273ea565e7c2806197dc798974258825f717d83a3ee1ffa1ee9b9477e1e52feb65942989051d86696c0078ba2b694d1f6e94bbab93a8727b1eddb6ff1e46235c6b6ff7688d3cb94b61a3805aaaee8d3b418c5cb573f9d2117a5aa389740702445bd13e968edbcdcf524c4b09c68580c0f3ea9ebf24b8057a30101d3f16c93d49d7f48e85d5c0c3c1dc20cfc14f7b142c1a4914496724ac05896d59338d34618f43fbf89df3602eab984ed52c40aecbcd92bd17244004a25207ac3579812a808274c7f16531768436e0258bd0e8fb4a9e038bbc72f256404cf4a61bd4fc9a4880530c6ee415815b71d6a38bf86781f8277a2e5b070a96111a5aa84846fab6188d392827a8c93678448d80327ce08608e72cc408b72223df530b184e3ec371e01b9010d85ea6075cdc3bc03cbb96dcd0a9f3a73257cc49a3cb4c571210dab640f0399cbb7e182a636161b5b3de6b92ff393551ab3ffbf6ea6d287ac4a5daacb329c5a41c1085029f2e3d8ecab1d68db1276a031995536d6ff55ee3a332c9d69801c6bf8635ecbdef2fe0e1aa6eb1e154efc129fb3067e6cb50e821703c363116b1785065ccc772a99f73a2929ed83910846c11828e6f4a7fc54272d7ad768f87d0d84e01d0df84cc3447523c99f00f8480a1a07f5a66796accc7360cd01de1bab7f20a9d540f025464e2bb7c9e868f40b962ac17579524bc012d9992d65c9530292b7f7784d19447ffca63698f9bceb436fa83585fd0e48b47203b44fa36455f604410b99f2d46d64249bae85351d46654369c8bb26eb88c091af04c611ad9f5258b99f1742d1064046e2b334d97f8500e520d7b0f6daf4e14c78467d96ba8f00432d5e13db6453c2fb94bd2c2f219cc9b88ecc4d17b1ac8e6fde63d1f940d69d61e5944e10a2b8771d21c7b5609e071040057ea4d22faca040295dcb64e73e73556551faa1c865ccb8d0e6bb9c522da23ff39fcf71b6d577f37c7ce2e46070f0edce91166f73cceccabed205fbe37260ceb0ae81f68494a0d849452d14547dca9e1b4f608ab917bb7f72172496e69e4fbe66cc7120b327297bda182944193b30e5140fa3e488b9b7dbddc0e74998c5776e7b10528fd456467471e5e83022cc03ad6e886e6e53ea1c0d28491a82ac25f9c7462cf74ebd509bb5da54a7ad7caea005b8285bd015ea6b49093ec8be10745a0ecc0b7c18d66ade370af9a3e3da1b6f85cde6aa13f13cccab2af8db74187479a0f8b73a39959b59ebf8dcf7b0e5f39490c1e07f31faaa8b66d19e57fdc0663ed72476f53dc1e94c78f66737ac1c097f08ebef7958affae08ada8d3601888590b4b8f142afca9468a16ac6c770ccd1ca71457f30eea183b7e8ab7caeee3c56faed7480384e332824520688dece4978e070b44edadbac0823547ab6c850af5e377d34205fefccbbe1a06ff5fa49e64d8103cf1aa98821de3d481b1bf70a195872d952bfacd5b428b4ab7a3243449e7ef33461bb4c0eb0e32ae79b6b6f1ec69c7bb7b82b5ba3e824375cd42eea20d90983b280c8fffff5c65aba92fcfa62d8ec982e97a7f8f05843ee9718ffade47f014244d1b808a7134155235f6e5710f773471cfef787b300058c1f5ddc402b8c230f9f066b7ea0a41a7d2002dded80d6c0a320cb203698c20edba7cd52c7e604fa1cf7255939681982907b9586bf8a163198d78107ab43aa23d729ca4457e575ccc76e4f9b22be9d7499d7b4a194eb21ed084bb2d175b0302e01f68ec966a29879f47d4fa5f164fde463aa0cf3f09afee7e686a604d23619959518e69e40b516c6cb404d573405cf25b3f21e55cabe8a31d2d9b3cbb5eeedf06e2161a159eb630afd6f92bfada734b248872df43777acfe98e3e8159918b5ec99c1e1d8adcc7e161a2d986e6dcebcda65f8534444edb995a1a53eecedcfb21ed62e1e9eed163b77729ef4237c60f0cc926f3c26b30e032c1d18869257865c899dc50b922283f496886a364af0c3811b97bbe337ae0b843a7d52ba444bc4c71a5dabd5d5438adc32a2cb00cdeb5d4125ea161b62970ad756bf77dfe1b54ac6929575d14b63b4f1a92b2335f1b53482fe7f286042b8a72d537012a747a4bfe254c66e82878bad95d8c0c9e50300ed321d56425e41ab1c185361dd9ae1368807de86c49a457c03bea933f4bedca14ffb709f1a6e6b4f8cec497c2b246466f16579ae158361fb0f58724448d9224834881d8318616715d3c109f69a7a41b46b1f2df2389afe78d9984cf9bc1faa3439e9bbee7d5506b8d6ecf6deccc7c37988eddc23d3930c57be369104e5e7be9a28b0567eb45fa2f8f68576876459c20d86341a89fc26c0bde9293129e741b6ff917c3d5049ad09ff4573f8720a7db6c7dba0f7bb356f467f580003d4466eafebef3599d7a1ea95502cd7f1a9956e772c5b5d58e75398c279bba1280d7ce27623878b1fafd23bf653ec5a37230cc6ecfea69f64dcae270d51d2063297097b9b7b5b44404a6868925c65ec774d1214dc8ade1ec5c2ca2e0b4ae3d2cd894654797fb2832dad86eb817df7a965680ecd24cb6c565d37128dc53f0ba0134f64e280fd76a38af65ed1cc581bfddfe9f49602cc5ad384c2d2c69011e3f22a1daef9b9ae28a6a201bc650fe9a81ac2599188391b0e84e1e3219f4f0296ae2e6ce88dc09fdde427514eef2e2e430a14a08c983273158b1a0a65c398c8c3dfbad478b19b38c41c0bd7201791eef08adcd07ac4fcc1531edbdb54b65f200dba4696fd2755face2692ed35918eef58b88374e42e9ecdb860386466351fee2dad7fc242c12c88baf974d7c46cca68b47fe966da704ec5bd27916294c69ab49108f321df6eb8ce475b23e781d9788afad30f58662afa23d69111e8849d42ec371af71104d9ffded9bfaf6f9545f390dc477ac62079b6f1f97e31002d25fd8f78f31c9cba82b67be82080189d1518a8d5bd6cc93c0f0bd8ac1e15f303b0c9f9794e382eb343b4bb7c63f388be228fc6a1add02b03b9eaf2619a36709a156e52c9dcdfd5df9b62ca409b550f42955e84b68f3c34e9db4e1675c7273d1816b803963f7d9faa5b67e172b5d10634173b1de0daaac21a283c4a317603cb72371a2df9139dcd982af3217a28cd80aa21eb62fc76d62f3f3149b8a0bd9d9ef884fd131f08c09669babb35db231cc5c9782d9f0f307eae34ec548f305d78ce300cf78491cc1ec12d82eab296d0399f4216b54d9edc1469f1f210886f3884ece5d962a240a845ef6b27c420e85a1733b7de8f282a9b1570d83347dc64f68a7c19970bc24d6a03c2786bcb769af6b82cdcb5c087dc1f595ebde48dbf8af4ab7a3d0e3bd3b457918c93349e4000d073328ede5c134a1c849ed157e5fe3dccec440653bc93a6cb3aba4e915c15fd3f87a54b1cf88cdc961b9561325af5f421425c8994133b0cb98b827251f23e7c7c87668ddd6507183fa5b7d7c9bade900694bbe86ac6863964d177a41036b2cf2e24f5fe55a1c49080a12124a6ce7f336860eb7cadd2af31cf06f398434d48bc6c27916305387bcc2328269a25568d3db721cfe7a4fd8b5daae69a52ec0b785c7c204decd819fe906a6fa3f6e4c42145647cc93266b4c800d6cd01bd9678ed2a860db8400d48839de38f71621fc25c1e00be26de5cbfeaca3267c2ee48166a205c157610fe5ad01cce522fbceecefba6c3b8b6fee27ebc94d20e0fe464eb7c8d7f8a1aa87617a71ff6e7676406082249d1bbe98963840d21ab4a4d5ac0827c10c8887f2765333578be593323fd5155ec9eb3c80441dc3cc684083f3bed4246d97210acf5e49bebede916c9ed443e4cd4f7df3b583542d6c9d38072f17b0f70068f41e2b3d5b4a4f6cc903fda188f70470e9a0f750d171e7679d0ce74b696f285f34d51458854e64e56795c8b92ebac99dd3d7286ae87628dd0a867f419298d36ceb55b28811c9b114b617e55bf4fb4724fab8b07760631a45ad5c1c068584627b5d95f29ea68d1f6e85cb92bf15515b4b24f31e889e9563ef81192920fc6cf813663d3eaff972c5e2d7041275b6c10e88b54e1c58384dbfcacf3747a3bd3e05f5a36ef55ed55d2f703a6bfaa2c7e5c76fddd2ac22d1fc69cb92add2be3e8393f4f57bdcfe6619dfbe77b9282c8790006da7eda71946a70c9c49053195d5a535c620c9a7a89af187aca803575b241811fbb4dbd096f5cef14d0f1fccb5adc4729f000fd95e4fc02c1b7cd6724bce64a0b592eadaf899da55cd4d9c133f6872dca423b82b3ff8351648e201c35cb6493fd5e9a6adf72fc8c37b3a1022e78c1994155644e046a0aacb6c99d7c0674fdab0bd72fb594ecce010d26617e6561ec0eb630f79ac1b33f13395caf4a48aad706c7717df16ab6a060a4cd35425439d4ba9dfc942ea84ed8100a6b90d09f84c415f5c8d8b1ab2abd40e31c5d6bc56bdf3db522ff7ad40d409129eedcbfde0a7f8d0956167be4596a1abae5f9f7fe4c0921b0ea806ea9df7a87d7c0d5c10e5f7814a492f6022b83ba0078c2acab5482ba30e9e875d3b042725fca2cee127105684138275cd764831dda9cb0800c249085757840169433e0d1c32e77b89b96ca235c20e085f7aa3560456f140317732d7a7b1ebbaa7dfba0140ea8a77ce98d59458832f331c4407a93344874038e23671e505e644b72a511b92db90ba3ef38b8aad12a85c981133504e905c6d8b0f076253f1e2781ac70c57426a76e94fa125d676731078a78b15437d6280abdf560b3caa6d702110ee6133b2fb748c3fddf19f92d5a8d6e18a73888fa01e92f929f2bf58a4cc803f6d501714c95783c9c03dee11da7bd6a905a0fe7c200f5b39fc77d172b892f93831c575b08db3ebbba965dab34d6f7685872ad805fd6db5136b17061ad85cb8f827d02391445a48178b709c81d4613964efb461612cfa50151ef1c5a97bd4b2726e32a86643672ad96502fc6ec0fc120e90c3462266305473a16b30b7217901727513282541ece36966d8be23c761630853c1a9fa75405f6811ea6a8b847c182ddf883d807e23a538909d82474922b5b5d20a59fa8f812d8d6874caeae48b1115bdf130a3ae110f4bec39db0879668cf3537ea8c053206e875f50c586ab58d710d6b5d3e6f01df0e97802a29b8f3fdfbb2d156198a39ceec956e1f3d84a3e41dc041ca7320b91c37420208cca3398344cf06a89d5c75e33db1237d9b571436fc63654861b597f63b1453cf8c431dac18423200a0976e272f01ce713a465dc61c46a792c6a8dfd739af412536d44758d23046251a08fb9d415ffb64f442f817bdbd93ef323c3e1c244af33394ceeb382fec8fce70243b15c08f6b2d48dc683910dbaa6c309f2f9855d7d294f7325cc529c451cc47343981ad30cd7e4dee20d4174ad19d4869b8fad299780261ce3eab69508e7d1601f0296b1c9368ed0a19de229dfe4ee4361a693bff75996e6708e09dd80caff8c3fc7bdafcd21e658e4f8ee5b11e895cde85e80ed68585bf323a4968e0a964708ff715c1d86ebd9548723dd7d6f0e7e8a8649a3e42e9b535df5cab833f47bcd0f124c244b6df421dcdd5aa2354bcb4d24c569748fde0007c0d1c5471b157c4c0b74bc13c7e2ce6ffccbafc7ea0bee7d716fd134eff65e6f2591c085742c3d08db482ae3b4e997c6c2bddbfad6fc1edeafff7531586a139f56d43d2794afeae215d7279a609a037c7e214a238b1da50f28286f285dabac27c0ddf94f1a72458a52d355e6c2f4d6104125fc00e2b76963dae2d8daefc3083f197cf3ad170c0d778c0d2aee939520b5e61146853687663f6357afa5ab8a0421d2badb14a596df4459ee4977efe38a329596da802da3a70f3fd69a942de7e1724f006345b07001d4dd4a1bc1a66efc3b16539effad94dfd52f533e2001658cb2582c7da1ecae0f6768c447c69d7703654ca2734799a21ae0c0b0bdd2ea782340124fe251d79bd1f39c09dbd3e1789b1ef587598f5d5d472c38d422ed1b84187a73e01e1d0a8a83794f384ac4ff5a642fed157264e05413963ea1e4a2b4f8652617c15e766beb902a514dc0a75cf96159b497224c7cf4df57e68c21db99e3b9bcbba0ee90eee993d5fad2f587138b8deaff09fc78b0ab97cbb4efd1c626afe7c7d62f032caf4ba28487f3de180737e02b14a8cecfb81ef47397b9bfb8573f136d505f86dd83304577cda89a5700040e2b3bd8186b9b09d7fc4870139a1f3f76f3f4bc5ede70df6c86d7696190aa97a0d4451d3490bac03c921d17500e63ebbf50e553a0830d4b5efa4f3557f3571fcd137bc3b03a87c03daec8352d66af35e8cac3c06b4fc8fd8a3276bceffd2cc2927fceeb75d56c2dbf0e3bf3cece5919d9df55722401cc6aa6173a93243383ea7a7583e968a108055fd2af12167595a9491c6eb670972c78786bf0398390b3518cf7a0040454da16a2f2a4d7192961ac22a9914d2fe7e746287b513209b6dbdc9516b15527b27069389d385740f0e5b9ba0d755156142c640d9fa52e929e910b89392c0adadf2e977e82cfa157b644e5fc5fa362e2f20b79032b6b45c9bae4dd09626924ec6c804b2a8d1fbaaf9a4b261b7881da5931c02d127a4dc2485e9825fa36daa2666e060de3eada068848db605ccb32f6d86a6ba33e904c0430986185ba6b4a0f550e11293f90aa581ab7b676debecee2ab2a1a4c7598335c9ec0e4cd5f0a89209d8d865ffb4eedfbed8c198a5cecbc85d92bc67d28dc4e518d0f1aef5d57bcb2ca83422eff3b36c81e71d013e2548f4a9c4ee7feda050a875945689e09604dc50cf288b3807f0d5a37626b44d2ec33a29dc42c7512c90136e449eef8a3cda1f9a1ad963d3240b7698b917d1df6398606f7b22a93918bdbc4ae0cd801f36f7b482bbb478f269e6895e7b0fa5a01b77d327b861ae06fe2226d449f30a73e05aee356d52494f168d45c3caa8f18a8ce4e1c16d1024a880c48b3ef8c6f22594eb4b4c494c8147e31e9bd0b6700258b4c454e6cc23b427512d576542cc005cddbf9afb29ca713f875463775d1f76f6be754fd70b62bd69e83c443cac0915f50c6dcbf39acb388503e679ff71cd6e4a11da2e33d3ad0b49e97b3cc0bd24d60350bec843e90603f1823423d4357936749c0e03bd172ad2c2567199e26725c315478feb8f09116eae7909e59c9fa61f6257c8741d334cc5a1e577b34fbf3b0d21f88a6dceb213c518612e343893e883893b6f41d8105c25976c236ca2b98fdfed62b0a98a476a0e9dfc9e34a3c6cad6ab10b45e6c1d232de0d8a4f2c513e1e3235bd85d09af740d54966f0e4eb2269d42fe7ee926c7524ec0bcd64af83d44002e00b7aa81e68440562af4f62a8c1b18e5985fcf052136da7f3e2af7ca199d2bb2192820cae77441bc113b26474bba258e853e35b19c1f3949ad31a91d13c6cc398a8c722b1fe81bdeea56176df","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
