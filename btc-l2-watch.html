<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"55df384f247b26287c9c55db26e3498f09e93d9df561ec2e042a2ad11c8601be1b9936b515c132a0b0ebd79e8692980637ddd27714db4521ad779ad13ec2c595c9d94cdb469939882296839dcc4495451edbdc821408cece8cfea91ac22bf2c240f6c428999949a0cc373a78b10844fb276ba6f6b94b983f3fe6ad282d5aeeda971caa3082cfbfd8167ba8c1307bc6470356ffcfce4a24bd66017bf61c84a4395071ac66f579c8be102e6f0f8fdad31526095efc16479df7c8293567183909bee089372f793af4151cbf05dc324ece188474ef14d7c5e06e38099905d784c6cae7721918e582304d772e5082bb2db068e1b295ed5b1eb90663e8c92128c543eca59048e30b18e39dc5e7afa3dd06e5740e7ffa64079799263169f88d065cf840ea23b0e3619e3c4854f29f4c31336cee022f59b566d775d5449c71f0ca456b15cca4703e9e24a2ce1221cccf70c813d1ef1164892929d49158f20a473f0a094ec422450aea32a0518eefbc150744fdc8bed0b2f900e1a504aa16ab99d32c75a8c4716a1d7081485aa49a3057b823b89aa745298f193ffb9a4e5ede2a4cc797670cf10c377de02b34a4b29d1220a14c196718c00641ae7876f03ae130666a925f4d9293fde9d6c07c1723d5ce8f102ac83d0e8c1a059fdac9d201d1dc6b42130d6898944c5ad0265da759b1ff51957b1c1b0c9a6d0641194a012a9a38e1b21308220a5ea6f51d69ff264bf7e06061962d0fa99056544ca6274bbce55cf8abcee6d2fa145d258ac0f9bb7728c82d88e080e866547842aff4a0da22e37414b2cdfe8cdccb4b945421df2ae0b3e409bf77a6cf7d4f28d9e87ee791902b845bad6224d985e069bea61a430283f82e7a726a14fb33f0e5ee0f6697da17d66a876cb7f67daf61d869c3a5f3fe48d91949d616e766d4091eb27da34fd63da1597d3f4f1db3d9385ebe51c2b72a4e5c313eff93d7cb16ecbf26264cc838971a468faa96385f3a02ce00811c33323c391e5a701caa8ab8fd37c8545eb3418feb8a5f7677cd17043cc9b7886fd39d19a4027ea52440c8cfe173c670b0e632525b59308c0727058eda973f1eb70120a3d9cf3ae9a5d894e4e69647090a9106d3a1ec715f05fd56dad692afa26ca0648a6364f3b3b563ae710c7884ea1e635e803e4c9178c46de977f46d45a365a99bbcaf8d7fc454bf4118ad89a17ccefce7bb91b9aa62298b737778f28062c911eff746a54d1cbacdd1c95c2ae0f96c48f4acd7b21763d42f44cd03a3d3029957143a173d2ca34406e89d84cc9f8298f53b316604378e012795ef432de2a9168be276cc83d70f4bdfd82dea2ee469231d7d434b2813e69a39fc20ec67316c67c8718e44ae59c6054369890dbbc19ab4a7e8b6b07916740ed0eae5fcdda60e055e691515a523adadc525b844f692d2ae387ff08db5a006a135d2be9c5ef1c6056476ca6416c7ff7839b3729f84d4522f5418e682971cab097a46f6feec93ba32fac18f634108059caedd14ec4b47e34826896bf2d4f87b9ad71cb42dadf43fd4111482613411b4496068fe9532218c18b654d7ee14cacbb76d34a9e8c16266c76a821b12ce279b7896e2f503140414886e25c8e9be4aebf50473ea2d3f8f1ab3c8d67c656a649360f1e562d3117dac908583c7c9219ce4b0df9b445b8ef090a5fbc1bbb82a7a4455eaa4ebceaf47061bc263cb3d79af050f59d6ca0aeead0ee135dea3ab16dae6e4803d30d02682442756145060efda6931febecac96f222cdd3117ace56d24a511b87ebcc83d8c9e876d2e8ad5f2d619602fb26590c53999a6f5b0c9ab482a7ebad359bd0b250d1674dabf87d80510f8238911afc8e6a517942f072921c86ef60fed689a574faf96676235b5e582419d4e508184069f0e0a52845c749d6588991c16b2f4301290204526bc73380300d7619b65e6ca3900bca5c4044227f5e88fd14e5f5dd48703e5c1bc9a2adaa8bb949bcbb7eb903012691fb27f719c2161084fdfeff842fc53e40a485b1884bd5a2a8c369a34f6f91c1d1fc2d83192447bc96c80ebdc7c5e339911d9163a1d54cc794d2b9d1190f6bdad3a49381340ac707fed69e00a027bb93d18ed286aa16af496bdc3af29802fac9add7cdd6f9689e1cc90b623e17e9550de91652a93ba5e430c9aa6e28f14ac7784e7853c23dc01640d68af63253bbe6c2fd0f2475fdd47e30efe0abc897c2e00642d1237ed27b81d61e6459f4fca13b13ab43bbe0a0a6f85c9b1992670366040e0a523b0155bfac0ac9303e74d6cad9ddf3a88e6a1088280237b88ce40b577298ab6f122f679c6fd79db34f2467c828df581a5dbc97c8ec03b442c173225a09a2613046f6b9ea5a333b379ed359d7074b2bf2efc2ff0a23ce178520d6eee9f4c9aaf2312a5f725ef2d2e1cde7b8175976b01a2f1e632884d506f768e6ca0cee83fcb02754197d67c9e089e51756543526bfab31f9d9bd5a8422f61a76f0853e7e69bf932a3a0ab7448b4a13a6d3d16fb4707f7d5db914c4c21bf35fc37af4e9d95d2c1938e71918d68128cb156f2ccf0cb85a427eee207ce2ed2fa7ac69c4d285eccbd47643c1c409a17626bd7bc3ad128df2723e52a952b554f76970ef00263744dcac04dcbdb8562bb197f64c4b7b84715a3d082a55ca6b7559c9e0486230b809c046d28a72cfa727b3f0dc013bdbe263f2e6ae93f800306a8554cfef7e51b5aa5f226ad1b25d33edebed5115eccfe2c4c0c5903731cc5ba8c967cc0335684c3facb1765f8369b4d81b77253626e2ee8b4291333366e34c61d23c10cccdd1ba779385c806a00f4becf4aca9400a3d70ea47bd0a4296993b1ea052852589c0a23c5ce97cb6b9ffdd910f98bd43267a34b1443b271b919a230f1542ad0f55dc113fdc4562bee08dc2e78b515ea66b610790da00123d685c7f0c0689d06e3c809b3b6be6c97586a5872afa36ccbe200d5c7db06bffd73a932bbc18b3ff65d1636ec3eff008bf726ae6925693539872a0c4606305c23963bc1f2d8135244660d7b51a2dddfdeeb4b4773357b417c3254c0cfbc679d63fddec0b5712b270f85c00508860414fa18afecf87911c0921701147f0fc5cb1f2bb0b6bbe53410b6944524d3a8a2489f53e43009f080677f1cfcb446cab8414ac42b8fa9efc78fb8cd76a20e67f76b34ab24b2e6ea4ec13b709b9722c41484cec1ac1ac5183bea92ad70ca865b921380ded3576aa97f869489a47868f728182be2c4af181f21afbec787ae5b1efbe668393c8735249ac7db31b3943a0d7aaa3072728af4a421ad0e2fc43e441464e07533a13cb79ba321710812a61c764cd66b826c08f5c224f7f55e4da88fbd5d103ae63e1bd238b63753b82391aad244520038b09116f93208b8fe4c6d3b270b8f4029ec0a6f0ed479099b0bfa3b4f75637df24c7d76703f2a57054df7c113fbf6f20ed7fc64bee1d7b645a140361312cb53005df172c5465878b00a0afcaeab7578594b07d2ea71095c3ca9fac4d259f29b84f2f5f31a69910598c4133ff776708d57b5cb158d76c78c5b239ed06f06ef3ff9df2f44ad28faf63586ac90c09b4054fb561ab66c4cb367c88a3cf3ee4c3efc0c1df1eeccebbfc9d4b8228cb47bd33fa631be8dc78613f85b319a400bec8a37eb1613a31bb2e4c986482eda7546e44724fe7584eedb69410a7e1b612973228b771bb333d60fe43f9423a3cba5faaef69d8a9da6f545d43e2ff0fd26f6a4f369b970d81c0fe1bb41fcd257160669ea53d6187427444e01121a7e0455a614d4badcc036bc2075cf87d85b629c9c75bd014dd077e4bcb04d9a3ef3678d5ac215464b604c63f3095f9e34d310dca8c7bc803c2120c47e5961d927180487e7edaa0f15118095a63f6f3ccb6fc6fe55cbe526124a5881b07147b4ba4da890b9d41330c92bce1d2db1a0a579fb20efd805a5e609657ea9dda2547c29a6f7ebb300ed607dff4842f9b639e297d3981bbfb5120768ee082451237b9874a47f938674c2cfca3893460fc460de3b9aa3bb301cc707498f21e7f410597a915d44b2e3b7c7b3ba074f38cda1a0983de6e711b2bb390d2d6741a7e28d16fea9aade5aa9a95aa8719a516d47df665423c1a981efb37ce5654f389f69568400f7d6061419210b23820203261e710b98f76e93c3c5e95887983a987362bbea1a18ce544439d210bcaa83b435c12533c9a36c0550755915681097c254506fc9a5b3becd8b626152ddab9886e048ba85ba3378f06a6dccd50ffc671480367d1c10fbce758d37b4d6736b327646306671fe72080a4eb5bd8e733078f85dbef9a2e4bbe9c7dc52b3280c92aaa739cb99abb269053eecbdf983f0233098fc575e32d57b0799721fade7296587ae9c896d2acaec04a2adf0ccf357fa2905871928ccaf44734e4de3c7859dc04aeb18608460342493b2c6e9962eba4a34f7afb53f00d68eabf79f7d54c49c6c0f9c5eeb0668dea7b824df7ba85ea21243ddaa409e6840be4b2bf699fe95969cfe5f32a839d0c815c1f86aeef4dd0cd3907d459d2597d05c38ff92f357c6990b0c483767bae55d575116a9a6347007aee83fd5219e1e23cce951c98845aec9a4002ed3bab6b9d3af1cb44304c5b41ed3807d55aa4ec856a432997f0dfed7635284d46e2dd9ccb8a48c8fe74b771d4e35964c43af4e8b0c79e53ee89e5dc40497386babff73168864ecd202179b75fe4ae6d624ddc77fe8b1e6d27a3b6b3d91da6e786cac751bde6dca65d3c28e442619979e86f43872133db64847288169c71815712163a06c848400c2e32df8309919863882f1eacefb03ee4417fd9dde1b9be8d53ee0efde32db074f3ef8e06a08f58915122eb49e9a8e302b79a85c7d29c721cbe9492b5dcaec2883871a7dd2f4aedd85db4c75e05c0367784dcf4c02b5fa2dfef286404631e6a4237e7c5379f33e5499eefc6c45421444de23af2369dd1ba46e1afb1b220d44525515f797248d183f6e206ed28103a2ca88fa4a7d05a3dadae4dd5f1fdc94b5710c5e78d47891e955a9ca0485732561d8049761d464efaec4748683e310d749af3138885707ef41da99672c5edc4ea147f321f369d204dc6f0fea1d05f253605a05794daf3ce5bb5099085cd2fe05ebb1e804ed4d5c4b069749d755fc49e3466c19d68759004697dec3cc0a953c94e2bc7f928f83e7711c891799bfc65207a3183b7370fa9911b95aee464787797530ba0f956a7c019e0a8d0b14e9c80c75bfe193c5f87227e84b5cd1bf4e56ed579b08a7df878afb51115d7ee114ed8b7d0139dc26a8d324da374e8e2cc472fad4cbc4aedf30f09ecec539ee8aaaf4ed2951795704dfc2521a01356c1cd06feadb9ed8fef89388a98eeeeeaca6405628130ca09d96b0fca94af1ccb2b225055f6294b366e10ce451f3e6b08e018c264842eefd99758e9bb9aa8b2927767351f5272d21369cc96e6c6925a79b566e64605801b1fa9f26e8cb19147ca1cf52fc166c81f4ed78f29186eeffdbd06a01c3b0511d456d4cd61b608a34010ff6cd7f2b716d36563e6e704e22ff8863326ed1dc399eb9c30d98a11ab7b406fa02639e25a163503a382f477fe52cc0af1ff5d3aeebe87893544f240580d182476e08ea9982f1affe7e609e4dd614b3249a74cecb2742fc8dc230f8c38fc3f8c63eb126b3bf0ac5af6dfcf512b94a805afaaa38609f5fb08932429a8a0d1bb136ceb89c041f0025838979ad57483f2e9eb6c45a936a9338d198d2a243b9da09dcd58aea7780d67842b1e1858b28a9fd0db6063ef5963718430b925349b80199efbd13513ece1fd4f011e2ce55c48a53b83a1ac494e2899a4c7209a28d8f192edd3f6960b6d78e22cf15d8b5ff9e4520e5655db9fa20d6cb6bdf345a1a0c5034e14798ca8d813a319319c39f0784de9792430714aeafdbfa0f30656f825948c34dc8c63a87fcff6114308758b11ebe662394f7ea82d93b6aed25aed3f3311edd8f36388d4ce5da8bd099f74ead18c2cf5931a2e547c0b6cca666edcd895d8dff92efb2b7ed62d134f9cc52c1abea2eea55a78f9874e299a2c3298e8823d009a6de931c48ed23a8ae48a900a035e8572c70b569b7d694958ce2f9846d5ab29247613e5eb81dca63df46f8afcef719ca0135cfe54930a9c808b75ab7fd67c1f22174aa4fb5473fc7ba98996800c2a210df733a04a11314b5a371d1c1c88e2a200da287fed300f3a9d1f1b3fa82aa4f17ff3a07e77b31a7b78c30ef2ead5b7be441a0f2853903db2519ccd69a0d78d3a56489cccf7391ba50987dac2fed746b1f02b7f2dfe2ed1decd1db0d4b50c450fdc5c24663ff214bc0fecdb932c647d1550f07df9a43c450f67395c5e4bc7a6aab03f8e8f308a86803d0e5189928532857b8b9f54e727826ce429da0e634761c7b219651d85618fa92484111c70d908312151e2ebbf6776d1d219ee6e15cd1f2eecbf05ecfe15c09b0ba10ab3485a07b9ab3187bb1ed246bc02cb5ae9eab5e95ac5331d24b6e96f7860a9d5b2f32803368ed1380406646b9876469586216743c4a57f0ad8ab3b8212c7e4fc005f2a51c335ed5ae0334013b9eb579ec00c546fab56d8dab690e04d5c827edc6df3e801f62559147ae7d616e4dd07af9a1c691ac12fce432fff211cbb29ef75f3515429fa2f954e2f3ff725c340b22ac86cd55036ee636e0a5f89bc5b3679691e76acb553c177611fe54e154a6ce4cd83e76969a407079ea743ff0a69eacb970a2bb1b1a832569cdf230d327f4823912c65a74f22c71668bba08fc3d3cd10435df3c0f07014df4b6a0afc7bf403f66b76960b7c388353f3ad94ff12d1f1ab0427aad82cd47b67509ddc900f88e5be0bcaa0b2cbb32c7220322ab839a0dce3904a1b31511c74ce5977c2d131efac07bd7023981af7d9758f2bf83b874ddeb10d7b014ec53995b4757d5857561ff186a769dc95a988580bfbb6f4b811d7d156278073d3b29c3a3bd23bdcf5d18b394bce77e2cda6a7f69b810a8c7b57a1b537028b2217f36b280a8fcbb65cd6b6a7cdad1f30545ead79b600338d6bf8e3d2e4531419462db741b8f06f87dd7ee48f47113c7c9c5624928fb02f7729c78e36482fc98e084b3ac8c39865d318a43b5e73987296810fab48e16bb756d4f44ed1727f3b3fc8f10da4381fb0d8f0df26edf383332d63a71a8433d565b2bfb4e926b01f024007c7641458a60e40de2c8961f5b7c60a1e1dd7697ddcf8944fb62f54c4b47eb68fdb632da502f72eede4e2468f28694c623f4c795f27e798e6b74851703e2beb188b8b677f4386336d047818b15a6abe79134dab80971ae5044667ecbb055d657712ca1416f5fe938fb3976bb733bad9211039f30851d0a1ccd0643817302aa6035f3a9877ae891f03ae8e2d038925310332d99c8c44013e0a221dbb7359f35f2496a5568861f60ae95d169107823e6a39e3d6d925f13b34922b4fee49071533236a2624feffbc4157e789c442688ad4de7830c88db3e693957a9176acd4f98e371a3606d66ae967830f3dc8835056f9557b6f6da15553511c3e095d4d883d4d75b50858b18eeb39089221b7f020d9a78664045448ad69a55f13824af9a1da6c1239cb37faf575557b5d3922aaa07a89266994b25a8dc9eb456e7e96aa89496626951a5b4b9d89df9cf10b8eb15530b3a36123d666ae27811735b85d4ddbc73c3988d4a9c91f37a4a4f2e8030fc52c9c3ae8f9453ffa3ec24c7d3ba2c52b53ec48569a22d3b9409e9de623b3e396d2fb79378dcd8540982874201f2d0f3c4673b4f82e1b8e07926f09f154892d4d60f9129ce0cf48603143c3f83f074f8af72352aa540873f17efea68b86112523ddadd0ca02827598ad8a10d66a5e0fc7849dd391eed3e52444feeb549af81dc9a8562defd4fac143a22f5986a0e7d9004ba596ec8cc51477ed0929bfa499e9f7c0095289aeaec8edbb367fe7587f63680767ad99f4291d96a8eb15463bbbb2d07af3921916d4cf99af03c6e19438207ea889046a791b94d2ac2f6a48582e742aef54db968dae9ad3a8d77b4e7540e0ae5a9d8ede6c1399adf69a1d6eaf0240507616fa716eb6845100c502d45b5c6c9aef602c6f0f0f854ec0bad8f9d9f6689eef0496c893cd33547d8041d4a00ffae0dddea849e319b069a5eaf96f86d4ca3114159f1a7ce81d37367a783e1b608a1bd08536a7e1ff24511556255bc3e7eddd7a8dabc6cde06bb1ca5bf79c42531d236987c814bba7b6e87239156592fe71db7edca506b1e561cacdbd39ecff21ab037a3bdfacdd600fdee74c662b208028b80d008f2ab08b4afa5429005902c73da7057e6699f23c2521e2c12e0e191af0b55fc0e506689a8ab7e6dbd7f0b7f0bddee3928b3d58a051a0bfd9aaf010d0a50b584dd5405da727f46c9432ea9dfcc73859ebd0741810c9759aa95e358d9894da9ffcddc5f141ef79b7a35c74c9bc0482697910e9dc4815acdb8ad1e120e9572f4bdd757bf2d5baae92f8f106c06ddc53c07b2cde2b646810fef24fe0a5781e706ae76c33270d0a994ec80bde10a0620381f682a47af1686b099882b202b30a5a8f3b704ef42f7b10d28025dbc296e8aed1c8926616d5eb3320cd56775fc514cdd9ddb7fc68631e47c8fe6ac14780012240e2bbb806ce8491c6839f1cfd2f8bfcc5fcf3f302ce622d82d22d6d29ccbc1911efed3346d3e06b427a528df39b2b5c4a3d5413b873a757ab4b317eddb6496c6579328ea771a1bf80a55d3f91ff01a5c83fa4a40dbd32cda26a0a6d5b0df1bacd9ff61c80322024267ea17534be04ccfebb8c3f645b84ef2acf5013b24fb371292f84a98653a0d405793a3fe2ed0f3a6b10592438c12887f2d51779a57b2e7e44a6a51207c66d4fc2234cc46f284afd81194860ca6f2d08c25756b404d22eedf2dc5df7ec593a3c79e7d954239c87b4e43b30b03092c2ff0a2419acbdb88a11cd0a93490a1bdb92c33beb7ea1f89bb569e0996cbcb7b481b93643915d35a49a0ebc5e595fd73ce04c15f7375938f4ed89d26a4d50f6b840d6515e2b3212cd67e862c6c211c2e2b9a985d6616851ab620d664f1175ed7bda066330460ed08ce1364c7065ffd2c2ebdef0c36280fc4ac08c43f3195ac17ddd48b699df5fc768c0257d01605274ad6229382dd48d405b7812d58f5a30574f4c44dd0e88bf2916d0053fac36814466d9ef6bbe12ff9d4ee87fcdfb30195d8a225e5497563430e363ceee64ff157739c4318af11ab5e218540886140e406ad801011ae97bdf8c9514f8d426e79aed9927e4d43fb9afab6b7a8f9c8e08772f7f27b005c62079a6b8a456584ece092aa051335f2acbf5a1ab64c139926d082db55b75ebebc02e8707560e6ac9be375bfa458e9d2a3ecd1ca25d1a3ddd4c8f561ba2b3c1bd91060dcbfff98e78bf14d6759ee8636232c06a85cf126e7016a5b91be292b338d103220c2baca39063ff5c72d43461ee96cb8e1cfd39eb80122ca3ef8bc6a101d1feab9727627c993e28b93279dddce0ec0d378bd514b61d2ebe00e5bc42ea11ca801c415b1b5045c8fef575ea61aae80a1b0fcf5f52bb80cbd083955854d5d22a4436079abf3541d9538639a8b8b2a0dbf01b8f2244f5c896d33781a1fca9231802350a1901c9a846634c90a342cceb5bd8d7d59acade026ff5b6c40e3e9b712f78abc7277533efcfa9c5b0f38c7b498376228fc4aff747699daa0020ebb0f2da8778a950ba2deb4618b2b56ea769a4b9c3f14416d16b0cd67eeaf0167f1e40fcd8d302a7cbd75bfb201daed58f992f92257fd91f5a91d1c1efdb800d9e9dd1c6edce35cf51f56bf270c32255e2f8e43f44c7d94616bf2cb9f2abcaa3cad2912de6bf2d614f25a82c0a0e768e64ba779b5b8e8e7f86b1bbb58bde42b7d7356efe276500d4f5c204fbe956c448f842753c5d1c16dc7e6455e890a3def7e1a7703cf82fdf2f157d2db8cba6935d2df0444ae53b0ce72e5e1dc5fff5f9d6e817c076b189035238bfe4d037e28c980a381142e8b7b55178d3af7fc0e98489c76ed6ff0e5bb7a2f92e6819ba2e60ffe1fc250a0115ac03e921384c4a65fadd8103772d4a4ddaf38c3658b0edb70f5165a7ae04e14387f31ac27479375e10558aa093dc3b8dc2cab4222bcc5da523ef7017088f9195604ce108309d13fc94fdfd6d803e0a1210e446aa44dccd75fe99d74b664fe4c143c5edc46e8003c9d6e553cad1abb2e01aff3048fc5e45ec9dafa8d9fa3cc00b3ad6b226a24c9559cf884f4cf560800e51c27e4b7d024e8721759337bdecf6f4a2c7e72972b015c4a48896b2ad3f39991ae917df4e31fbff444b7b268deef13a2c97f8e6191e01f187e69ade4f46d584fa1d5ed0673afbee7cb36dbd5fd0cae707581596b9414afcbb7534c73f9c4291dd7742a22587c007bfdf6e83006afecb33f6aec174b55ad8c493fbd15a1f41a2f527bf5541084ce1875d5f76adc36ae10969a4cce2ad824c19d26d52c6f27407bbc3fff865860104fb6da9474e1cbfa80a38e2efbd86ff6dbf6904e46d6d8700b17b8ad1b2d2f9634bb08ae23944fed310cd5dd7d2d807b072cf53c8b487c1b113b340895b1d49d80aa9a0fbf900e32f3cdf53c8bbda67c93212cc75c6f8db097f9791eeb10098d38b9d3363f873bd4b68d36f48c4382098a3b41f1fd3cf98a0a88c9828bb80d28e9aa2e92283c52323f1a32b2eb3c1567d3ef19c28906d3d806ef9531e2b574f8db4742e5188493a1baf42f3ff7f56c37cb89abd9a9e8863b0a3ed5d079e59ce287de553ed679c3176a627ad21754125ac5f5594343b4b72d7c8656d50b57d09c16fb40932323361056f5f60c0d7d7215a73d622952cd6a6ec37c96459bd669dc1271467b31275bb4d6f57bb6d099d221f4da3848ae07d9b263e97c980fb99ae1a32437afa661695971b9a3eb7513e44dfdfbf6aee95ef1ed97908710844861d17668e3bcc9436c060911bbedec05ae63160cd05db5260cf2454c1ed0fb3b706161ae9a6bb0545d742b04851d3f4ebd0f13de07510f6ab9d3967a7413d03aa465873c7d5022fe26058fc28a6b4606dcb3151d5e35bd54a1b0b513ead130bdb2e663cb2b4cc2262b16b2b67530a3ecd42acb3dd336de7ec5b3b9428117e9c0326b252625b61dabf269fb2ef93a2b903befe66a24f35fc04a4a26732380fb925a8fe1e617d7711c7715a6d24b1c0b1ce17dcb7f2e77b762e1de24f318fcd9332f602f1db227c9ec7d9b38707a5eb5f7cf0471b0719bd70acccded5fadc12e2ed5c48c413c52a4283b814605613ea9d51a8d3175a216469d53669cbdcb190018e1f6f05a06559298cddfd5d0bf8e7fa75e9c104f7b69897f3ef7f569985b3591a6e29437b6de8fd7c3f27ceb2cd1da50105c2a0bbfb6cd2205f841a60056267073a08ec7c3d7c73a61089c9151d462775d12a83a3ca7b1d8bd9fff5f1a880f9b266cf8679c26b709abf1f51dd21001d58b3889c5570f235e59fe3064f2a8835e522d7e536e7537b59fbfb5484e94bd70c99c392dd33c7d1d5177baeac80263ebd2110d78c1972e95d4c590aa3c41e099d1583be0624ae4cc80ca893c0a05b64b245d4000abe52eff253973ed409f838e42d50ae7cad58757041e1a3901819c2ee71e078d491d8a9d6c6b41b8c56ec664f37961fe0eb3085ce0c40cd3c47c859a2232b1fbb0e1e7c68179df6ca6757259bd1e7f6f5c753dec8f6269f21cad64c610a9eb74deaf9000937530ee79cbd406c9ba6493e54ab1ddea1a1f353ac49ffc3dd638968bfc4894693b2ec4da94029eb53d604d7e3a571621631b88ce5c146a675a95bc216fbfbd642c2118f942ad374e58d42b616029dbdef1fa39330d687314e653dc56ac41d86957be732451e1aa4ea76bf54c5aa0527c5fc2c98b34f057a32a53f9c95ae174c994d51e5ca79fe2bf03ba1238769cd553ca3ebdccdb6a26d5310e7d02c55fb36f4e335fd7ce65259f6a118065fbcb406648c741fec82d3d68dadea51bba9ed50a6742a577682e591279e0f8c2b11feae0449216bf82ec8152cd5b3e3e74a688cd07e050d35ead23101a3e1c305b9ef514844b3e2500bbf7817b45548428de193f493c2881655db211cae49c6535f8b098876631b54903971c53dd19cfeb2190d3a250a8df44404657125f23be2e12c5d11a1108bcd2ff00c5657178871dcc3b3d705459d6317323de5707f855a36596381130d4d9cfb153b01c2c3fca2aaf07167fb0d007894e7057e4d22a2aed4bbe9084721721efe024b6d94355ce9122babf82bb3a119f274248a5bbc18512812fff3bf2a68432d6d96318ff6a6d6001b95416abbe9e4da75e085e70d1a7469362edd7008aac14474c6daff0cbe270943d746ec8b6f4c05c3e1e029491a4376a30d9552a692e6e54413cdddf0a297ae8f02ba1d01bae7cba7a39b63b0eaf38896302323712f32b232f7aac6c224ccdca74ad0f36de1b11b00c19574aed0bca39fe9bfe7672214b8b74b1714729ff1124e4cf3458e0c7aef237b17073aaf301986c66acf063a51ec05cd01360713234069ad3ec5f1619689ae9a647d190858e7013fdbcb5bb375529b0908d2c95fce3cb03ac8e6196f66adc7ced628cbe57d61cab262e164e426513a7b8c9aa86f76362296e3be93f84f9e04816098f54e94ddc7f01a8d14503e3d2db984da53a423ecf162e1fe506a01d7e0273d31ecaf146764f96a8b942588cf138c7ffb13e27a4666bcedcdba740f13a641d2594185384195186880acae1418243e165d119709c173b520acd4bd09b298e823ca5101277dfa382889c6da203335cb40a7e80ce06f0af5318c57272b1389e4f14ade3591518c856b36595cac107e728b4c7f7221c46c3a92e80b87711142b36173af30c1f7fd3d1479b12aa064bfd145313fcaf614ab29cc5c1c501dffec780785448d42ddcf6d703bcad5e3b452d51b999745b3f128c9824f7fe51dc77483a2ac0540698027fd38014d4ef1eaf896e4335435b93b48a7f1f4abc5d61ca7c95718dcfcdc00f8ee5a5825ed6bf2a61d65a68f9d3912b89bcde238350cfc59ee1071bdae3a06a4f4f347f1ccc9cbdbba809fc81263d07dcc7725aa6df455e54d026692da72923f0eec5a9459e79a71355b2ca26535f20f22dea1e6613414b7c6297f889cfb612deeac996f56866dd2da20ec6daaefad9141690d4fec77d55157ef8325a963ba906422e6a08f5c2ec34d6feba23589db1bf936a58a50aed49f9deba0c228e59abc13ef82b5b0189a35e8a287dee2e2ab50fc579960ce38893bce7c617aac9fb7f16db1dd55bf221abd58e7358c2db4edae87d980b710f75d90d239dc8ae3e135de0349e33d5f4907b2d60a0c21b6fe0f9d18125ef62e9825fefa7b4a813df8648eb7ac0fdf1d36625c65d924c6a9c533726ab01e6fdcc9b55b07f027adc154b674ece7706fd85a30f5f0160e02ab072292cf40736fe51778c250a6c008cecd61c5da1966f6f4b38082e0369cd3afb5891abf416b0588bbbd9f0eca11395ea1993db81a47f787462553f9c0c770a6a5162932be1bc9b36b81e1ff326d54253b8c1b5dfb6d0bed401d86d8a055dae4f637b1a443f54de25f691ddf3daee68abafdefb86c69538e2b0a8196bd2b8ab3bd226c5b16f0f7cb404632fccd4dff103cd7c20a8780fd764d539013604cb91dc4b891bf665ca93e2f88544861538302481a92323524bc0c54b78c6f0fdd343db55ca9a5ce096d034aaae1cda4c2dc800df6ab00867eb964449a494a5e323349a16bb094ef00c071a1938dc48f4dca7e343d1ef91ea2d370fc945067aeae5196c2ac8e1f6e7221ca9a5378853df82b0cbbd248b531c2be51176fa16ba3f0aebb836fa4db1adb0bda1b8bf9d2722ecc5d613661d13dda521125b9e569e90a4fb860bdf020ef6b9c870f20fff0467ab846e3a20d7941dad06081da98ce0e6111dc6cd250693f4d190cb9539984e30cec7afdbae2cd10679f635fd988601d2a19fea285c52a55eb190cebc3b201db2026a124efdf4d9ed6c5873a07ddaf9593a6de612eef1162847d3cfacefb091b55702320aaf86602fa484b7f7accaf560decff556bdf6128a6114a5ef8c122925739c43ce8a24f4516869fd774f84444f2bdbf03ab2f79c16ff5593b1440c1c3df18af38b41cfb0599144be0bd357022c2994fd0205f99ca89fa7fa15f046fb735121965de6a76e2929ef364b768546042baebcfd261133d0f7136401f5518901580ff43b509f6c29b60ff01487f3ee789a46db73469b9ba7adc46eb5b938f3955d133489301c41b5d73c98cdccc9c833ff365db0ca82844827becc7487161c0f9ff1b8efeb14e5403f675129275e3ae0316d2a2910c09a5b057d8b109a0fd356d457c7b96f1dd60e024766b65ada3e12efadd6d8c08e600d28b6000fc2a0e80c893bcaf89cc69fc761cfae6151b0dbc88e96bb82d687de1952e4e9fcdd7120b3790e129cf54e6c5675f3ec63e94e6032ffd8d66ae5df261481092e4c94eb8eeda47c5d6d93f5faf8abec8e51b706b30311b77c02ff2f9e073babeae9f981643d5c1ab20a32f5ddd218a5b103e249302686efa071804780365257c3fdb84849e8f9f0340fecb74a33817a7f06aea6c3d39b1c97b663351096e296745d129e527600d395dc17d5b5b77889b89ded9ad73b1b3a0b00ac7565c3b381901d454e6cde53467b92c2944b6429db6b037d947bee7f4a535b8ac9e353847a49da20d5745eb07f3abba64b725cdf1dd20c905430f544dfe06d7e39b16f92091287fe1e3883da158890736fc0ade0f2d451aca3f0312bf4a1409a1b793dba51725ae7541c30c326968ce5625b2f40488a675307e2fb3cf35529f06aaee3a7fe5ec6fd84cef002c1dd5b1b4d3252acbadbfbe15b2a32e17d1916406873d772115e54571461ce1db6c29a44aa4c704c95a9ac2a0cfd32ab11c72eb1ea12811b4928136d294875002b41031d258924d9244cb9b26c3f86e6fcdfeab40cb054f4c786d83b2b40d777174be943c9608d93851073199a3d537a08714fbd08a154dea3c41e36c9ae5cba29549380a294d21eecae9285f316ca10987bc5b4ce2f1b07c85fb9f30febf0aad34f64a031a466dce3d7baa8fa8f098110e738dab6b44171c67242a2ab2deff3bd973497c7cdf0976580f5e96eea903f74cad6eeb0159f6b9a7cb72bae7933284358fec990a470fa2a828cef8f61965626b14d9f8cbf5087d85c06dd44ae819e35b3ce406a0d008d57fdc545988fe645ca454e08946f3d89504b5a444b8655c801b194edcc0647784f2b49bd69cb65c1706ee54a198745783fbe437cfa401f314007cba17e5fdeff246d2fe0ba3cf014746420e405913a7f06a71425ffe0d358999da03c5f5c1bca780ffbf78539026e69374ba3e7c16d75e60ec728a3da1e6fe53a4aa635b6040fcdf6535e6384b949432729bb97b0e8e2225d248d73db775a16dd75d5027feb7efb385eb9e716007b493d9fc1ef310d4cfc73f01b9cd321298a85802193ffa7fd24cef91df50631117c822b0d2e03b2f83cd56b6df5b39450a8d0259bfe330535eeca383c7a075e5c8c72cff51672dd1befb467ca2ed4280de3fc0f165f0dd44c598efeaa7a1d00eabf9472f78bea534d6b10c7a9472c449043c3aad8e22bfab194cdddae26ab32b3d7b0fd6e9a8322ae2a776828b0f7f5a51fe5874c6fbfa466fd8e91be5c70b98c6b836197c321fe2425993b70716d7cdd026edbcb6a41467aea899835f1a3ae9cebfb7fa6418680c7b163fb686908ece540ab1c87901a8c5ddd107c9f0eaa0bce4363b9e9cae1117409edccdadb9d928ccb4a1553e22c4bcf99c711e010da71f6ac96a64ea04e9fb6f56548715dc8b4f94a2b06ae29cf4c46579445bf1bd409f0423c4c1f9758828f7978215babc8ed1dbde824b1520cc628baff4065b7d65de07873b2786fc54d37a55b6084e85501d55930a0a362349d465611c5cb081fc689a6b3947fed661da6c4bbb3f537cef5c709bd086458e3280b315bbb50cb1e8c79bdbad1476a9128a17a3008672b120581e0fa4064e182fa6207595eabf5b9b1f4f6ed95630af84efd05e22017e524ed193074c30bd11e9c0363c0b1f22991992df3cfa298b3a4b922dc30db7be1904e72b7473b7b0230d81e9e4634c1900e17e808c5b6b9535133e3cc53a2f5c81ca3974c6ed4680ef375f85b38c3c2f091d6f8e36832a2e2712ed9949df2833bc8c8f415e692beb2955d531ee662eba2575edd9310f7e7ae7f64dc545a711fa41129c58825027fc2b955dcd51284b38273f01da6d3f56b5a0ad7b314d731d174e1740782497e1a3bdbda9d2ab4868320736ebe4c18661da5b854429862fb8df34da2475b807d518f573fc24a1f0e265bc683b48f21a31eee87d818091c3b1e653bd997a7481f1224cdbc3455f4f132a0d529c0bebbe65dc5bb1dc890e53f174b1f74d1d639246ed40b1c9a86e1bd2b98169a7a65f820a3f7173319f913b5ac08818d066b52f638b30038a6224d33e2ede85a14d04b4892e3956d40402f4acc65696dafa9515d7fb704efda0cc938a02deb9b18c538898327feead00aee074e9e6c5e041060551308500233082cae99f11c8364d9d941cac9f5de31cd1bbcb549ccfa722c547c29d62a7f7994e6f2c98a07ae411fdf4103d8bc46ad347e092e08387be19712bf3d1497d79708cc0a64d2befe11aa19a35792a77a62674194790fa28be6e052327a18750348d10cf493aeb8009c42510da1cf69b83f289876a07805c37320aa68a9ce30c0a53f64b89724cec4ba79797aa35997b5e26261c39b180a4c7a8c2a483448d4e338d402884352aa48e329d849050f15a129e5208bd051673a1784d02c69ba1f6b0c3a7a66b1f51962ecd0edddecea0c59592507152726458f8dd2f84e09f778d28c0bc3b990fae41bad72200001928fbc9a67ba48276f2bbe3ae223fe1a83818a15fce5e0f320b4dfedbd976601d5a3f81dd5be1208a9d56e6fdce6a897c64675b9e1baaf8a51fc8c7c540d9ee905026ab52a484a337949c9413dc7a6aa1d8857306a136cffc3dc0c15abd96875184cd39a4e312366a9603ca939c0e4a7c45464b5cc4a845a0ecbcf28fa1f3ff2fa824e5300158aac9f7140d09d09d5a30f4a457aa482df05c88e4337f3f626cbc331a7a1461531a0a79f1d524eb3ca55732cfaca5d14983b331cbdd2222672652996535f33830a9def87dd5ef7341b5337e34f71ca5954997acb1e777b2d6d36252e6787a550670add075b3533d017a2cc214f86ceb37662964c6b78d180bd14605e56a9053d5f6a33e57604a701809867e77424532bcda75aa9d82025ec5009b690a7df509eda4d1f1cebf74fcd63e864f78b799b67792d37a39f124f2f80570f2db27b355a3bc72400a8ffff15969c14130564b5abfef83205b918261e3d77ee1ee1108e5e2861ff4ad2e821bf0b56f21a69771efca7de989c4bc7658de6abb0c65cb0e39aec5e81277cd2ea0f800a52cd47b836f34e6b300019749f2e5e96b8ee0431a48a207bbae1cc5db25a248d24532fe50c06f23afb002af5fa1e0d6ea1fe905e00004175f92b7ce9c846a017178f6795e0d455e740ea0fa4e019fb870480b26ea0be4c33a6f66d1bce4d2c7c758d6619380a78b9df0ed40d2d3f0557639af422323ff62abef32f7b7ee0876e83ff6fe45822df8786430d2535fb6cda76c88487878026461e4a32203a5ae68ab91c9229bd71a17170a6572646ed4a4969a076894a2ac513b63397cc5feba2a01afaeaf7263f98e04ce4ec78e4a65f9e7a451fb9fade3d814e6a5fe065946cdcb66ff807cbfce92a4f5940bcae32aff388b4eb4e0fbaa3059358fb373d8b1d0ea704599755dabb1dfc7f9cc91a7f5175f657c6cd7e88bbed37e5189281060e56cbf7119d05d166ada574fe0b0faa3ecaa7de50f7008e0c8dfa2c00aae9862de019a5af85012ada82d8b27e2fd1e122c17ef22af9ded1144efa67c287b2d9b9fa135b8ac0fd1f566c6b103ccaaf35610135f308c03aad341b66e7834c60082e912f3eab39b8f23be76b224b5ff4cfdf60a8b2ce61cbec14e48b172812e71e9168f97b95e2b4107e1423747a043382f871a7982cd92c5bbd6f5a3a5d50936e5f24344e76b77d9d5fbab35b7c21e97d6f6dc7fac950bb4b82ef4ea95d945c13acfd1f0f7bffc18d04fe589e1881d634198df4e126645f26ffe3e6e19d45fab81dcc793f5938faa652c0ddb5ea47624994e963b7ad3be08341e5f2a07a70904d3cfb38209710dddee1d186e12a3c38f8ebffe003b41a2bda0360266a0f02dfa45969b7dfc80429e158fba5300fbe673854bfd89f890227fb842bef915bd1df7df0578e18abb3ec41ebe8e6a12f582a0061ddd953a329fecd437172f85182504d99cdf8a754da9da54fdc366decc0cb0dcf942a60edd0f52a4934a89e63f0ebf6ed05b9b2c20f7d2d704a4edc6166b96c5519e49c273e81ddda75c703145d553e39aee13ab39bdd959ff77a068e73ffeefb412dd77150c820a2fde1a81772a94d20468e7324514c5102540c06c8546bac04af85af16fe9347251cd334db1825d1df37f5de9bec2919c48d0cc2aeb657b5e482dc3d13e257e9823aea09c2aaae6b272e987976054755fb3b8c8f12caa7ec8bc5b9c0500ce03e60efe6345d6f277351f62c3c690751b95dd724af8b8f44ccd513ed9292f00db273f8c0eed381e2c48b1b5239b5568dbf792585a770976c6f2b32831d7bcd85c7745978586a342a8ac5c9bfc245811c46e38a1cc999a9253c6ae434bf8ece8f19c2a1b41614c9f85deafb51ad4d05554657a08f3f675a9492047435c92a4fd840f143c9886b1b1f79685fee789d10a1550e2dd823debe56edd7309eabee1c1280ba710990938f3cf16bea58e9297a9804e61c2343d10a9e6dbef235a19a3cd3bd41c8a7856106ed1c3b7e052c20f7e22520959eb2593b72187b8cf39887a5fa3075e53509e9b8032f5ff28275c75d1dbf7c90c0c57b1a6a2030101953a2c1f687f673e9fc479d5c4672a393158587b704802a1e9e0669d802eed2821351af50c77241f0f7cd7006073b5605c5f2277541e61fe4780aea4da5ee9393acc5c065ef5541c49e309b0ce59e128956c456b06b3489142c8db0446c9ec3a77dfa72862cf221ada656ac77bdb2f71cb377471cbb87fbadf4771e97b5a3ac07be2dbcbd05d4b975df96f1e8670d62afebaab2951d2dadd559c24fe73a200cfc870de439605b0e1a7b79b44f2ba45435c7176f193d1a754a989c499cdf224ef40bc799104f2c10fa70183919794e1410f698be94d814c447885043e18951a64d08d352135719bce492670441605ead2a57768d937a146b5a9c6b3f2febdd5619e2bc3f56016c26f161f7f1418a072421fd714e324311f0f1b8587baf384f5b5e81709ed00279403c2133085f24926bb7f6e4a1826f1a62dbe99392f8235a3073c53e8558c4d6daf44d6bfb0812040a8ab5d20c18698206913e2238c96361e70c989541b1cba17fd2c6820efa328df6b7647a3b5cf02fbb6c37d4a0ee4fc6c7cc43642886cd9f5183b99e52f6834fdac94ed4d08a05ea5c19ac279d3354944c1222670b2eb4a188ac09bd3458bdcae5eb519767e95318f07ab526243086924059d1059e14eb7e02daaba5f84ae3a515a43fe3c24e9f03a3fad4d52c1a08bb34e9a6736fb4962de497a1f894f4deb111b92662a530dea738925e3447a1ed60721b3e29e71871039991f6224f5930a52b709768fcda06bad8d351e2d646d8f5468a70908bf0f3aff4279a7ad7d510839566a29689fc5354bc534185726ed3d153012be8327f55fe66ee1b7db149124a512d961804e8b3ed19f828a70c7874c84e46d2e9da6d3908530b45028c664946f08279303b3f09308c64dfdbf6b723d9a788fb9602a694fd889d69b457c754b05318a09db98935013dbcfcd94f6db8ca8daa3bde3752891351e4cbc59bc2b691ffc2d9b5f23a9b34c64d192285e6bc953f839e94f0687cd35e8c8f3eae74ed1cc412bc4a9f7c471f94ac916bae41a1b951ce693e517879e1ee6f5ebd8f8a7b82499512301c1cb1b9c6f17f8f9607a6c4adf9745615fe1e6865fd7ba734ad38ed1f83b4518546d7536e2d9ec97abf32b8f8924d5c6e12c1e2ca5dc1fffb6fb93471267e15f6376f9aa69623870f15697a217a52fb76b0c053008ae108e0bbad215cfc657674244de3d4f6bd65b9aae4328e6f978d7a6b389ed39ad1f45d3c15478b4bfce93f8f1fa62d9b11aaa703831d8cddcca709f74b6282ae62edc7eb80f138c187b4eb0ff119951e76955912593cab651fd8fd71b50dfe4f8c28e48305effaab2d3e0dc339688ca1d03b6aff11ac377caa63b79a7fd6487e165e0f7bdbb6fde9d9108daee3036b2c9edfb37ff4d6eba5a68734c650d161ae17151a8b54f30cbfa4e1c7fafab0181b22933b168729e3db5d676f00194add1224a77ab704634d439f5bc315accf32bd6cb673e940ba0b08e664ea010a6b4adc6da3c74891976cdd88f62039b2b33cb272058a5de8bbb6b0ebf82fbb35270410521a871b98ef74f4c0fde7adb979d7d8604d2079f58417f7df2c177c01a90f60fb6300cd4a5685e296cffa34b807539660de66464ebd7e8cff6652e0fff080983ff9034b32b04d741145aae212d6b30aaba60fc08ad33b5e874db1c903d4d5b8c8bdf92791a3aeeec14efa8b47e2e01fbfc8fd1479a08cccd40fe9eb62d48f0882df99e76fc42e3d70eaa8a0301614064e2ddf2ca6ac68dc6614522b63515acde034ad837ef2d5c5624c0b3f93164f6b7e53faaab592a57172600e534c7c1fda6b894523fbeaf74c0cd0a5a32016384f8b9953e004e5fdc6058ca622ebde89cfddf7971b21b22baa6b1d34e358deb8a54c4bb0e8cec1fa0aba69d8ac7685c0a8ac93c7b1c243f524f33c2bea2e6908c1d471ee091f301956db91a7ed8eb72eecaf3bc906a1b24e3be8b322162c913fcb6a15fcdceeba9c8ea810e8c6a1d99a648af838734151ef005c5f254d3493abee7d0c3adf49b22e195707338e5353900ce38cdee599cf3671149d3cefa9501467acdfea22090ad6349d41991379ab7de63b60d0f210373b98d4e21ee56dddee6cd256b3acf7c750304ea31ef1fba62a4119b02209a88f547038bac3b917a8f130fcbd9f69a111756b3e2331509809b7ec0bb033281721d2cecdf6d1740c4040c16ac29b85ce386ed9855a267e7a87501256258e796ccdbb2178558c7629a922fbf94d662647534b6f7b0f0116aee08f018efb06728b5b65c7257d361cf36996bb2f1472fb82579b5a3af4d9c980c34a6d106ec53275bee6ccd70551c4d038214e3448c74ac61739d4dd9ac42c1096f029312e99d52fcdd64ee43f4d6d3e0aeee191b96328a3d71f3e3d1d1031a5ecaff99ec9729a75b2b3dcf72f28298ac854aabd5c8852552ce0601f9239cb07c86d488aeb99b23ed4eafed49181c255238023361c0adecc3bcc3c8df024b3abb46f19e7eb6296d329feddd8bf44f2a8b408a569ecef85154d763eec2174ced3d9ee46ce96781d386dd0808c07b544cf23defb64dd9fde5fc93fb98f047e627a8a4c2a6b981fe5b5cb8a3d0d03ceebf8a1e644681626f5de472e4a943ae2c47980f75bc782a0e9d2d4870b5a9a0b514e07086852b2828df56880f9e5074353cb5cdc9ac208f2692b1dafb7d4f30c5392fb04f6020c257db74d95e7adab9738065adcef4cd99ea0a66af70e315d06046b9fab23f14d6c127cdc3335d16e64c556f85917571877c9c8f39c80574a6614f205eac4659b92af465e9dbfa01a5b85d0a12b232c87426beab0f5420106008675b0cd7ddc0ad435e4597d727a817a859eb0606f5a2ec4fdcaa76e3dde75f83a022dec4a6d23081578143e179674fadff46a072fd50e0338d99dd9bf9d5754677fc57315f540bed17e7942baa5abda46ceddac867a90ad29008c33aca52e50cb5213bf06aca266017d23d4844cba53d472061df2556d71863804ad1fd2fd0a30539415776a8588adae8a1af9d988b392a6babac18bfa863f7e035026856d57720f06b63154b0e5d50f0d76aacbaf2e3fe17b07dff85bc4f49294717b09aa5caa7108bc001097e3575e3b19b1a950acabee47694b9e6d6bda461bb23d791c0b2baad99d07af68f88ab149626fac499b3242c0a7dd78ce482dfd66e9c6e224028a144a01ef03e07c0d584b65667ac7d7a32cbdc23e78f164b50fdb5b0a89307da78ba3e7f095989b69f6d8ab3aa168b02190f069967ab732fef13b0ac0519cd1a5a2ac5cc373e25c336e72a44d95ae2fff815f3dab95608e53fb2187a43f34e074862305fbf2c0c20c990e9066f3a88ef2a0ef1e15479dab3bedb8c7d0f8b5d392f70d51063673e171f08471a43dd4db7957ec3103ec1f1bf5da6af39ef9bf54f24debd440c71c40da641f63b94a83a5f33ca226d76460082861995f85b616ea6d3846be054704577d193d23019a830348ddac325b5cfd7e33ae3d8454376a40277b12899e1878f00b7cfa2c9755aecbee57f6deabbfbe0a23bc07f15bfada444b22fc27fb7f8dcc14f5f2ace52356b24a020f43d68399c134dd9a54544d50d463dc3481e46e65cc055a47bde4b3e85bd43912b55586a9e84d033e1b237f9b49faf3d46f78b500758242fbe936996a8489312ee2ad0e203b6b91539c01a1ad1974197cfa838a9585d39dd4c06ad380783bbc4b92c92be8b218dc7e4832cf1a58b28b10d08268fb3c097f0118d880ecc16b2aace1676149bc580ebee5b8828633d979c2eee8099510e1d49cb80d9c2e14529d4af0e8634d0234f3e6c270101c82e221f9fc109af64b54f0f233220d2af66684af29ef7c5629c5813e898c3311f3ee1b7f5b9ffacbba57d149b193980839f39da80b8a299f09ec554e105e1663f6662a0fdefc60ac4fc9bce87bd0f54bc26aefb02a1ae8b12639e45df976635adb729299d70c8059f83bd96b6e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
