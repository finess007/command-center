<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7872a3641ecf7c4a6b5fe475008bb2125dfd55f7d4552759bebc6ca731a2a38d866a7fe7ea95a3e87975d51ec6c5b1d3fbf6eacae3872293ec48f323e81d13f0071d99912861c01ccd56ab4ae106d453c70e376cef7badb7513f8e7f96ed3cf7d8bc8112fa9989a92691136bd02c500f25fc51ecf6cf813ce10e93d66e581ecd3c4217cc83c66673a0106e8b389f6e61875803b0605b4978d6e03456fa02dc8ba1d05833681d966c7a69990d425b254a9313f875bb8ec87758649e2f7ffba16bc96564f6f1b5f48e6dd1e497235a63ff1a1462a45505ad2b401fd6c3322ccc1dba85bcb0344e63c63d568e11b20119c9a897c7b7d70f17401dfdeff2950881748d9cc8b767b9b9f39b0687aa3a1c74c2612fa3b9c82be8764aa1f860dc5329f22231af8750c6065ff745326910f0a5beb0812bd206fbdab4ec540486841426dcf5c6969d1bc8a001a6b09fc328b088c485dda5ce0a8133ceecad9e1068d3ad2c618c26117e41b4644051e41a6ecc60fef9625556ff4c7364ce7522fabad1a02df676b1a4bab67ab826d23beb12dc7a1e08d8829b06f2ac8969f91a05444bcfd89ae59339aca4ed34beb92e887ebe45b7024033a000f18c60eb5f74c57c0c0282d6576ccfcb5b1cadfae3702793c4c96c92f7b9ab8e980be0cf5cd952ea441930ae414257d35f2500f6619557d2d91cf644c4adc4fdc78fdd645fcacc72647704b9aaa99226c2ba0feb84e4d3729704c30f9a55713dc0b1d78a22488de7c8f4a6bf1f6e8cd46bf29808a65f56c9cb404479a65da973721d9f94ee99e5f48beedf85e9ace77725e668fdd1735f1686fe77dac3e580d4ee93914969075a1f1842f96dccd7d92daae018661ef70c2d24dd9146978c3eacfc3d2b2a525f350cc50818de2ee7e9ce5d2578f929d66b93aa72f4ca4a342cece00e97f84eb501932f22fe98b686bec79a5f4a1ef8c0e2013927bf53c7d45ac508cc43d9f54082d3c7730b31fa59f246d7caac5cdc40c333e7dab7f25c4654530da0998d108bd7f03d4d899b9658077a830fc21103443f0e5da4ad74bf6baef22b111491b883192c4f02cc9a0994074cab16a24b9e6f1f6add4c9bb652c9ea3d4455fa43f42773d709863eec77c049c87f1f3bd68d93fa4240512ea49f6618393a40387aadb40e87950c39b25268343473610b083c1920477c9edd78b8c28117c53909292e7eae99e0068677ec4cb2962f72fcb126ac1734adf878e9703cae1bf144465c7ccddcf963ecb599dd05f3b1ea7c480e63dfb457baf5761f8496dadcbc9482fa3deb35030419af80b1f168708a538e79f623a1248bd25d85ffb79e17c9f059e267b2c56893ebafe80e2b063b0960ec53d27c968696487078dc573304bf82a1e9ac1696f75389884b7e6c51d88a560d7b03460d30012adad887b30889255203bd0ec22458da8a46d76c22a59825f10503eeb6e933534415558dbc6a43abf7a62c98f2ffef7dd4e973bb07787334f000d6b2a259b13085530cf170470cf1ef43f3d02d9bc092a62b2704a8ebf2636930f017b2a23985c7f7123e124a28e435d542ad9360081d20f8e18b18144230096e32a1bc5ecf033ebe2d8c6410dd50b040557a7e4d39839f72b94e957a8c6db7f91252c2474c35072e6698f027b3260881fc05a424827bd2272226e70b088924761131d168081f0adf88124e56cc1345b206505486a49bced1a49b697b47259f28dc56df9fb5f65eebf82fa8885d4e4c1f5b0e916d6f9109ca8d87648e6623f789f1f526ddc99f96dd2ea366dc4fad9043cc7639f1c00a23894a580e738c4aa5fcc8ead369686b51920de44b59d678ad01f85effa1caa449ce578e43d9a13b6e4a63a28b24f87f99bcddeff73b2554c52c5a96ccdec15e68a6d2fff4b824cc2134c5514a947fbc71482e59de4934c956551e350d505e1f20ecbac9c3ac8b8500f22980985193a14265d7bd5499808b855fedbda28b944cdc2a45ecce9bb2ac1b611c635744ca9e95acadf1d27d3b9b1eda6b17992a9f2f9fc7c43cdcb702d7714bb9c912243fc0ade247d75743dc37434859dacae6ff0b1a8c4e282bea3a00e087b9224bec030af01bdff18cd3bc678ac2fdf84fec997e607e07adb514ce0f8ecc3d7d3a53e19ea69343b39b247f72ebf55f1e52b758d4fb735ae77ac89653c16388b93ddd9b7285466f2f4b4a7cc27af27e2def2f68245a6b5fa6525cb0f9055665c161071ea79af18bda6bae08a2798e3ffbb54c3dd7d727b97c062b2d674b035742ef792f0f91b69304da4d18c7f07c205654a84a0a8855ee57c8b71c0dfb3a69af1321ab8bc457bafba9cda250ae153e45c73df18099281e0659dadc1cc7379ae35512fac35b1587e68679bbe0bda0c5d5920e0fa22cc9165baab589be601483acc1527a0bbe6f19732633b0273a4f452d887a544c991da1d6c925735adac8ad8a104173f656c4e399650182134ccb559071b29f0792651125c6f4b8b2ee5f001884ec3a6d48d0fc1d300d5f39fcd1346a7153e1728bc869448abb030a7f86c103dcbf22c19edc2d9127682f8f0789e5989cafccb2e6ccbf5411ac7e22846d4b49d6770ba875017886b8b78c331123c93bd0fbf298593e0de1208fba83d1788565b253966637e08048485b4bb18756979e411733093985ed5aed188258c48de3c506616557c27f0b3900f6c91da91a59c37687592492255d84482699b420276168d8a60deee2a8bfc00bd7c4fc1270093c81ca4238903ecec8c16c9687f2ff893dbcdfa90502dd2ff6dc34440284a81578efc7098240a85f191e75e8bc6ee25f02bd80c1cca46604dc24a693a99aca7e2d3b1f8233748d9a640ff74fec397bf9fefbf1d0f78c3dc60aca14736d265949a4e05dc1186945eb5976843f79bdd55e45e0150a4d60bdcf06ddf2258e746caa4a53cc271e151e0e2a18c47789ce82c967bf5cfad242924e0c3c7a1a67b3b84106240d12b01594e5899e6abacbe847b8adee24ab19645edec2f072bfad9fd518cfaa1fa779f9e5a6d8991d6c758ea4fb871bf82a02ef3cb4e0940369cf9c3306910a7c0c78fe049a4a36dfdbdea4a39863d2d131d1173835706bd4fd12c2dc9e67e68ae79ad2199f79736fd73e9c4aa960440e2cd7d4bc6df56d22dce9fb74504158e85387f32468c531cc61bf357924dc97e60e9d77bb1dc155ed02c074f91e6d674beadf34ed0fa2d924a20ef3bcde1dd9a38c421f3c0403db2cca7bde837e4b00859fd1084424c140e8345bd7b1b200a856231b8a0de229b9ff2da69d415114188641abfed88ddda50c9681695cf0a3f538a70714df68a29463beefc9a81d6f7990ddf7c546dab83b1f730be2e145a7c230ade71c20cefad7b2dcfa6ebd4d2d562d28fff79b20a2b2a1a6e13a0effe605dcea0c038cf01a392ff19dc97a3d41538464ce1a8ca39319a514c27645f54ca861de89c31fdbbca238cc3c79e5fcb9194e6042725fa29d957a5be6e403be88b16d42fa994a6d5de354a6c2aeff3cb75f2c8ea2eb5bdb751884e9c7f5c6e2aa1f646d758a68bb9746bbcd1369e157e1568d0e12d93e9a4e4e483fe76148bb5aac332f2842f19fe340590e565a4dc12c79f0e9c9bfcb4f0035b6cec4939ad69be7f8c21cb1d2c8fef971ef2a1fb387c4b744dc63dce6fbd64544ac014c61ccfccc8757e9487653f0cb150ed6efdb1c9185a547faaf4e0946e4efd1379ec4dc1f5e7bc8372c172b1a31d81d44015a0aa2b2ce187dd9657a74284985167441b1ec7cefa8fe5d093739ee109bb4d300edf77ddd44527098371ae7db5217b9e75659e8193e43400ee47a9939b7e605617a73ef82e1d02650f81023b5365b891b4868b023e24f8ca697b6287ee2fdccecceecf7579523ef4688cba831b1b9cc94276fead75ec5bd14aaf839d5344e1350616bea5a40df17dbe9a8a17c13214b746fbb7e9eaace26bdfd8bb105dd70a8b842e262b25ac1e2ddea33be16d58c62ba6ed76fb0ede45bc3d33f87a48b05d234fd20ac8e5f5f1591979297c96499210b3fbd384de51494058063dd6c4667dce27a8ed302e5a89e2a613d25ce0c6da491c5afd9e106d7064e35059f9eb6a662443b3b89362ba288c5ea9276da68fb19516d54d8e64d4b4cc0a799df0e25bea4515a38401c140936423ff2847accb5ee794343d36f3d0f3837acd42731bea6b45b05b8dc0fd1074794dca233a0e2d80a952f3a935ff28be51d7ae70811597d5ecfd46c9acc896a45d6414e7b55ec5be2c0df4a23799c707ffd1ade5910303df764f2a14e4c9928f916f87fae49dcfd80dad8ba58dff1ecd521329405f1956b2f3c67f1bfaf3a415238a0ca286ffd4b27579ef867ce00737cf01c7e738de0dc38ba19afdcba2fbd20762e23242ed9a049312d2ae7541c996af82ff39322eda0569b4546b8fc7bc547cbdf74dc85d63cce871679b9f4852ac4c61c506c1f2f223f5b440b1032de759042b37528b34eb34f4497026ac8ce988e8db94218fb372ad04eb7ddef35eb6dcabe0b6896f8350f520f032a454e81ada6a201ce2e8e11ea46c90752788c1c4ff4719213833108332bba358d4f6d43292daba9df657b559bf62e257b6348fc459631dd05eb501214edd6427b629fd5ce6e64fd335d3b1d6c90f9ee3ff629b2bdfcbad0bbe0e4ac7be594fe3a6944e03717b91025227a355ce1b4771e9f59e69e2582dd56609c0b2a6d595045fba0de4727b4e64722b3b1bea3875247b11b13fd4ba30a4b6357341217d0f6b785d94d21a313f4f65549db1bebadb46c62a077f518886e8921e12d785cb44f4ad066c76cfd6c5b6f1834a3fc49cc081a90220f55859c670a10fd66a9871a2452163de02c248a2ee2d5a1769e988b275e2c877b60af8213e205bce3a882c62cf67afa5a536a8c4186806fb7902d1ad1207566712dd73dbc503d76425e50712e7de2868d6fc76caefdb5fa32717f17c979f80473fc67ff76346fe77dd3234700c266995c1570e2624efe3b78b61eca008a42e24b82e883366702247e5d906c391d832af65048fadd30c09abdf40008077d6a1e89e0c5ca18ab64e001784acce2ff86485d92e8b357ee88bba7c6fff022662b27c7ce44b16f78fb98a9654e181a96e2d7cef5d1157cadeef68e701a9bf7b387d0e3fd302932ef875c4e06e14a97b290f5b457527928bc9edb2f7dcc4be9239f118042006892d66168e80a3da0c4730467b9cfed9f9e8ca5ae1252ab5aff3863f584551b9e198067bc466d4515d02bfc442c3396ae6efca2d29c25b549c3d27cbe04418261395bda265172fe335d5a18cfdfec84e6f2f89f02b865d19018a5d0d9694bd644ce2435ea253c494e06c69568ae1ed988d6a8b55dd05e62fb72abd4ca6c62a44271d2230af3fdc049006912f8e357a038f573db7ca6cc0d7417c3465e4edddac6b4cb009bd6b4cc5b41e5d525540f42d5ecd81981e754d7ab606b70314ef690b4f06d582caf7e331be85eab58a5f84492458a40cd4dcfaf1208e8b38fafe1bf918cf99c47d20269c0b9b8bfe59a3b1b6a78817f48fbfd01550e4366f3d7039614144a1f41827e9d928c516f8069ff7135ee459ff8d9bb70679b3cc888697e4d6728763c3e57195c1c907a254a66a8e02eca4b19dacb46dea632b07f1f7fef9cdd01b669800af5ab5d0c4b4d9170ede4112d9cc642a147405e55162388aad136db745e8c7d0ff827360a2186b81e13bab88d323ab1122206641fa7623e0c58b3c573585e37684df4180f8fb274499f2ac00a5d3041875e915a150b2c693dd5fe06bdf1ebebe41b9c39b868bd6b1f2dd87c4950f86721ef8932b2ac0d4f6d069ac6bbd1ae783522d99779daee30d1edf9ea3b1216b68af5825914be84ea9a4cc5b05d8502e1d42e2cb7fd36c7424dc0c717cda59e8491d2e675e149fa5ba3d2b6bf3c0ed97ae2f40394506d944834b5ab836a34e8420e21c65689acd3ace5a4f821ad8fc1d503e419a1454d23f435a90cc9296453aaeb0c5b7ad0e1af68e2524a9bbae894b3b4b7bc898f95cbb7363fefd2a20593a6fd1f751dedcc21154b45a47ca1e12adc25f4b9ab76e175246bd4076a2baf901214ebdb16dd9a0166dc2845415da3b917fdab134c9b6c479a5a13cb92f8d5332d5dc20552e0dca6d604931476641a0e1ce4900a665ea2b5cae000e7449ae814000b2b5b7f343f9791ac3c02bf78ca49b4246dd5e74ae9cab070bd5db5ee0a6273a3aee108be49b8b2544592dac7ca58f75818187787f7d70b1725318d83f9278dfd6aaf8316495796965cd2eb7375b6faf187b6f06e42a098f651f9e7958f96a5d1e7b7637fe9de055fb54958cced01531d48406d12dd40f7824f17496418273c3092f8663d5d59e4a8b877dc49b37c553c34a2b6058661fe65c5f0297c2600ec7a16dea57e0016b7b74ef34acb3499f3c37b4762e95722fdea108756953d1619a24d84c2340dd4bc285b06417ac6793568467bda2ea2f82b37deb456b8cfa695dd9bbd4345f4f7c594b3a1f3373ec96261fe2e4647c0473d943fa53f321fea2ba09d2d253b840b1ec38acf0d680eb214401ca6d17849764a9d6f3a27c10b6f10ee98f6877e1ad861c58986cae1c9a164ae96345b486814156a54ff7bf22d35e538a55f69d2f55b52cd2e99330c21e32d602e451e98a3737d06f87e62f89aad15c69e7a5f5eaf1910fab50c0622a6e016bf989269aea8adbf954e2bdc9ce59d8abdda5eb26af40d9d3bf1fb7f84a5c7228ecf4df2ce86d551b14f26936e55419929a38b47bf751bccbef65da62fd73bc682d82b50fe09ab523b976fc48a2ad0b57e96775fb6e4e9865857f029cd76f082c63b40f9faee02d5cc9af11802d977a5deb94bcfeaa194450be149c0e611b34b879a8b5c72054fb763ca6d58d1fe143a8c866897b72ac1fc716c4d8498cea8ee526f8b064c6d17e557051d26b82770c416338dd956f27bfdc635f9c574bc93cf1261b77670f76087c55095b64648b32e844de0921c69666356ee9e50e8d5a9d63cd128fe3865b5dd511e11fdfecdcc2b81b45693f9455b6610848ef062cb9c57f202be2fcc1e48823e427f96abb0c3c79b5219f46c613b435e67bef9fc28cd1d65f91338ee79248bd90448abcc2890c36b368eea8dd3ac15380fd7239dffc3950205515bfbb5e6c6948bd131b317611cbb28c5a9e63eed3d9823b07d2d4b06910fca1b014c60eb8223054ebeccb4d20f1303bec45e6868d2824c56ccee6d2b15baf53e9f1b23b60375e7dffc53504124fe6c04f43db8ff7889964b0e9a0a11568cc9da28d4acdfbc7ddf615bd5b8f425590602b5a6913e64ab61e24a2f1449b89e46a2331e1ff8d2291aab046bc893f0650c797e92ffb63bc351b5a24447cd4db8019e45e459511abb435f1369261f1970df307c25f26c866d7b8387de75432d6f7f505eb9eb5f4a6a265f6d64c14962032d4974653a8a2f8c8a32b30b981fd51344906f0224be5908e08b774ab21c0636cb7f781f4b08f46e1c43a2ac00dc5330d243fd410353777c03ff268d02760052609b1469aea980b96102317210da8979dca1ce6ce5e1ddd8d29106a75003fad67ae5f202afef79bfb5a591b16000608fd547497a1962943349b6b681f4b115428406bcd676353c86e6a272c82a53bfcce454e581bf0705c9c53b1fb26a8f554e954e29768e37afeebd3d5e62a8c404e44d6a017e9de723feb13bd424e9b849ef33fc2d3fb17b2c81e901378fae4df6042cf934924d7ac3a3eb2c2bcf5361f959beebb0d65e981bbb45254d102bd04033cdea29e130207e30e2b454a7ba3a0ace27fdedfd5afc292e5af1d7a2912852f612602e5909c3e41e39ac73da5e950296b5dd12daf36a00a05d4a20c385b8a888769db1d280ab2e43b998cbbb3ea6bfeb264c45461b5f4557170871df6d1da82319bf18030ef830c68a602f540eb9e7c63dc25da0526457841355f02a3359634cb51404b8b156bad8d29fa772bf51d6a212bc60b1a86c0bb2aea02406904f8be5a8c409666a0eaf508716d8143daa21471109d202748dfb28ed739005e882d9fa3f6945ff683c518b7405d97e689ed0901ace74d92f0733e69990b5536fd42611fb8012edbd7b5b32d94134c52183baf9f52c451e70f32d7a2051e3d7e881f023f71862f1cbdea7f06b2c4b791ef92115e4cd8f6eebba348dcb763d607f6ddbc9a211bd930664a49cb9bec4ad23643643eeedba39106dfef8e098f5eb4a69e38964e7e48ffa7d10d32f505230b58fe8240f8f77f9a36163dd3363deeee7b52212fc0b305fc1975c34a21c763d836ecaaf1c613e68860a74ab8f80ed61404983f1a48ca323af831c828f54ec2275a87d1a4d9b151391d488727139b0581adef56917e3a9252dc8a03076b8871b5f5bd2f29acb541b39840e1c08525bbf263311f8f64495b75af9b9aa7cb918dd51487f4a5aea76911ffda26627cc0661fb3dd6ea6c2ea8f648c47f41f2640dd872c957b15cedad370e692b77b2f88842288f12be1c088cff084d019c17fc59c893e87436cddfdbe8c9b405ff0b61924e53558a5dcd662d42f4a2d6042c041afad27bdfdbfaa104525de76a0e05b3c7f84031833f73fe38c662aca8370b9e5aa5762bbf4bd334f2223d45bd83c8ac8e27ce01242a029e07b4f1c37f968546f09d539c85dffe43e0e7a4063a222359f213e1709b0517550c5abbed48975219caa1f64caf74423e6d5ae29b93e4b402a1aac47c28b561dbcc92211d12e44f231bc9e401f06fb2a07312ffdde5df4b2f867889f3a3e400e1d0f53d7cd2420041802a3c4cc47a02da9fd8964fc9de6c30c50d82846b6c3c6dd59f66e402158ff694c47a418d09bdbe31e81bf73776263c11218f1f825d32646b5c56aaf166947acbee87413d797da2cf59e996ffdc2e0f32cdd2053a4aa4617dac3e833ec874d95f665830f98454d772842ea5bb5d1df26e28775c0c597736fa64b95ff719be5475d27678cbf71cd05af4080c426a73c063cd4782f38049b72164b64508abfdaf14dc7ec76806ab58791483caa2b82b2965501562496bfa9e68afe0140a6b4964e9320f8b795fdc9179bc87979a115dd40863da2858fead93a2e2d865777ae33ae102343baa3b36eec001cfcf6a29256e3028adea2a787fc82d5d5b9fc6f8d9db21578e64088055a5f09b9f390799f24866c1af4ad14b7b4b5bb3631d19afbc5d7bb2c5708c1fa6a45831cc8ade74adf138e22811791e4b34aba06717628e98cc06c3610ff5406e435111525fcbc33e35a33705a6460367839a1b3c1d6ed077d39fda2fd50876890b49521f55dc6307dece8c64b4ff60f0424f8e612b40bdb95014c9a2cd960f7624434cd77f05871e3a949d50b09bffa9850a08d4c2965699d1fcee412f854de885d541951d5ad323427cac916ef05ce9018f6f15c5937766d13934865ae0d0458a5b1f1280846740de8bf5aad54f019910fd27654946dc0c204c0e41967fea653316a5a2004183218b3b15e480951d058c8446bfdcdd96decd2226a091b2b480fc345a7aa2fafc9a9205e2a63eadaa46b0bbfd6ee1761ca1e2a0918c60220e96ce2864024bdb5079bbed8b793d6abb56145fc821695b999b45ee1e7a1cdf6f3be82434829d6d9893c5e312a104e482967282f560e4f817dab621879108496d6e59e6929cc41febf848d00cb522fd83ad765336b44190997e9351aeba63687bc711604ca727f730132e086bd5c15160b10356154107deacd6eaf93a87b72bc490502a8d1e7fce852775b459dce34c98237174b6dffb91fd283fa1f0eadb1ff0fdcb29c9cb6cdbe663becf8adb855774d18fc9de1b302cac9c2c08485bca08327d55f9b0500c87849c6d4136f16e8ce3aa6791e8e36cfd512bc70a263e9dc071be5ed2646b0ebb24778bcaaa02de07601fe118348a8e7efd74d2f8c3edf1c5e0d09d6ccd7caa0d1bf4b2ebea4bbbaedb6579ec609ccad507e7a710fb394f867434249992eb8b3f9b61b6c029b4ee7f0bfe54db9ff838e641063f2e9be6a748b2bb0465a598b082adba601796057fe82caab1a354e107ff0c58f43dd4390d3c964649d2d834c53b9c4049ffd233b95f1a8d5e2bc398ea4cbf5631ae4b5ddce1ba922c8e2253a6ea8a7a5d081a5902c57d09597c85bf44477a7fe63509d49cef918ce4c58c4e69801e212ff173c0a1f15f4ef138dae11881ed4fbba8594d428b8f287f01d9cd8f3f2ec0ff65796a186032c052921443c214dfc54c32bf883f3f97b3f54b9594109160b928681406112aeaf6282b3be4aa94d3e8382dd443f4138d7bd030bb5343574f8955400e7af0458f17a97a34dbf2c39f3a73336d2780e5d44b8bd7b783de5b641b21fc7fe175fe24b889e0976de73f120ef1b23e5d22c3f0b6c2ed8db1492039b979f24b6fc0b44f3b6487fd604423c2aa3b2d2c5e49cf03a94eed00aa2d08fb4aaa0acb68c2785784127c6236d43eca5144f6e6a0a68dea8db060b195b925b5d9c89d10481e22217caacc8fe768440547576313c469553c279c4749166b3d021cb3dfd92cf28c6d1438be8691b32cf01cb326f42f510619c1c2b81388ee59086ccbcaf8a8bebf6dbac6b9a4a5292f0af6651079ea113b67739c0798f2519c175083cacd1380f7f0fcade60dc38ea0f14c9a8d19bfff77d4515dd08c4ef4fad6ff6c36e31a4e6ef5cac2b8baac0cdde2bfb5bbeaf32e99821df1223509908b9fd548f06c6c9def9f5b6a76c3aabcf9c4a7fa0ccb44238781893807c90e8057af75354b31df0dd4b604ca49da94b2661dc928b751454b67e91898335977cf08592d5fa1f439993a9320e632b18fc13cd9e92873e78a9a43a526b333cfcedb6ade50bdbe6b7eef1b6d88fd3d4d01c244bcee2b71b4333782ab03ee345bfc4bed9eb1cf9fad6624a5a5148aa1f651160d2a7354d01d20db4837e28f95192b354eb31da3cd395562a7a44f06e26d39bd37163571baabc4334694c38b77b63daa4879e80eb9266f4d632552ba295d23c05b5923d4eeaf69fd7e8f6511c85809d482d63e3c10bb8630de853b5638abee9569b7abc6e441e4af06f05a0165b0f732ef50b45b31007a3807dea96931aaf5d934ba81e95384cb1950e59735cf435814f158eecb50be0a3a0f1ee6a0cc5bef5f97ca8cc0537322bd21f9ca3706a434f07c797308efa888cedfd05d6c39a9462e545cb6da3346646b6b0e6dd57c85bfcf443a507f67dada478df1eaaaf59088f123c9701693e7c7f6aa2b577b3cc32f57e7c6be0b9517f2455727bcd9897cc5d8ef5bb3dc8c1134397f19d820dd61ae29f8be60a3a10b222451681723ca904383177658e33062f98e31d4a333a865745dc3532ab2368d7f5fc65d366279d9bfb8f0e6915f5d961ebc35820e265ad89eddfbe047c2b307ceb28a32c2780c81dbe9c80e916c3721abb8a8820260f0854524fd2ee5f84ca8d3d740300636b861bf5023b127b93ac8628d4d7b985b739df78c6cb832fbaa6b5ee99e593c6a9e97f2aa75480b50a5dae303f14071032aed36075f65b6006a16a965c61bff6b55a0833ad611df4e7558cc6e0c973c2427306b01504bcfa837b46f02514dda695ef5f02bc59c10080a326613ebf2a59b02d7634f780f8387d1aae8fc3ee1d041db829a01356c4d1ce4134bfdf4d1969cce3e82c2104430d543654f1b2e0cdf6ed0beb50d2944fac2e31259feb85c808f104aa00f7fa030576cb3b87464ab477f15d0029bdcfb6d55e03eb310f9c4c7f5414d0372978610165ae46e462ec840c5d94e5f2267d2147a3118fb39f465da1d74cdb98d8785611b832bb026e665840191e219cdc905e2218f637e42bccc961e252817bb35b51f462375df21912eab127bcc88e95af9233a858b1f73c3b1eca986eedd6523335b98f9db20db9eae83e14658c91718f85e86da3c20b7de7ea2f8509295bcb497882a211c867248ca595bca652490a921c5ee6fdd90f150e30c1ee205a4ddff6bc490f19bfd6596a5832b0e15ff16d0b2f085995d4257b4778e1fcfbad583086929b3492d37686a363aae7d3cc2058f2084f1e7db1b05600bb1af1e11bb9a0ab5397dc34c5d413cef2e084f9c70cefb540061aa9016e93cad53f283b43fa5485833f0c901c2107267af90a7b29e77faa557b710fcf85ee0ce5434297bdfa7cba135bf8e69e2bfb9f29f830b619f2ddb3a3b56dcf6b87ed862fee98e879eca8be470b0f44adf48d5c1fa1e156dc593b01c4febca32136466d04621edd43fa4d0172f7c5b23305fe60df9a186b7d95378c3d42a6e2d1e952fe4188f80d40c45f77d2d81c4086534fc1a77b48d8148e0c5455a44706f417cd870848d37c8b3c6e9064621bafd5a21d644b0ea792378faf0857adbfd79cb466053ba695ec84f98e914a94b9174d2d41b13db854ac728439a1e4ef35e61b84153012a29405e005399c877ad71a28d8e0a7068a37e8c62bee9655e19adde8845ef27f4bb8182c4c27bca79b24e30176c0ef6d2d5f4f0bd71a795f8834cf16759b0ed5bcd0904b9a98389fbb5f523f88016bc3a065b557b84706446122c3b9b20e0877fa979b393e36b6cb5b3ef6fb6174ddb8af876e41ebea7b263a9fe5098aa48b62d9fcd8d5b091fd4c64055cfa1a42accc925881a90bf78edaf187e5dad6dc21cdfa276b6c0cf5920c1b1636aa6f63d919528b3ad59131fe9dadf1b3ab431b2f346a2e517c00e19a5b45bd9d4333b86c568c1b0d59452b3f68ba185894c4ccf1d7d8709eb16be21472d930a3de4a28e86602ce944824e73a92f1c3cab92fb71e188ba7dfbb2f39039cdc19a7adf0c197b7fe1c47213c19d0097584104bc677ebaaa76f6180e2945ac072537fb9ee3a745d337f755eb166b2024d37efedd8fbd239213175aab9a9b739359e7ca41b1a154b11ec4552b159b23e4b986acb8c6e6deb52be95a92fee8e04f7fafb5a60b2c854555b090256ffa502304660a728b5d96d73a8284c3a3547ea1da78c5b130797a09f44e9e255cb87abcff7ac29ded3560ae86f87e9a480bdd75de77772851085a8caee3c26c58978f59fd136a7caf73f1e05bf879cd70fe7ef7a177262bfd2cdc29ce3f3e2190cb34ce801032b7c02d75d3c5fddfac8eedd6e4cadf720c9b0e50a4cdc25cb6ea9f30d12bafdd6bc178e4f3ca943947576875fe7be554bc41a8315580cf903253f531f23a1abac21f83b307ae9caa28f6a5e8d3ab82fe0adf35c438dbab54133621b66d50dd79eead4a1922ca13625390a99a67c1fc38da121a230505ea829b1c658350623c75e804202a4ae6a16b4f176515330ced4054a57eed50a0ff88e92173f6f51a4bfd5659564a0ea448ccbb63a1ff340f2b47eb3f07e39bf64394f1d2028a3be716a40e746df9802c4a428a87c8e976c68abb30815a65487f27929c42cad3fc3328cb78af8d443b0aed27bc6f156a13f2596cd3c225c77f32e1652edc7062c381d58f912fa9b01b39f29f5fb8f0e43165bf340b91e3ebf23abb4fde5f9bcae1161e39280213a0306ce3efd3cd1a7c1a9fbcd3531472919285c5402e38fe90bbaadd63da8b27ee4a5c1bd49dddea3746ec2d9877987cc16fa503cd9692fca266f00db232249be364e60f394ec37bceb9cfca0181e4b61dedd85109d08f1b25bf9ad9b29c39ca9a9fc914b1198df4dd053b11b06532797508a6e93dfc2602c8c8acb2b32aa0fb91070933f202319c3b0b2ed334502a41ce5a1a4e4c35071fd3f759bc68d0c8189a08084a0831098d56a015840030bb82f4a6437aaaa8718ceef9989833b88135ef75548de52ae05ce93218c09aaa3c0cda317f9b614ca6af77aa91f27cc64923f79d425f94b262314b944314a9abf2d52cbf6bafb723203503326e83e091076e21f1c0f0f80884274ea94aabc0286d14a72741779d8470a8019e8626efb993aa0586ba32e0d99cdb48802b1eca1ac5047f001a3118a3cb11e0556500d523f15821049dc60a6644c5dfcba828612367064a5a16b4388d6d0dac691952a3912e451b4c020fc0901d718c1c3aeed9961871c62d8bd38961dc002068cdfdd9d81fc1e83e1198e7d3c0daeebb56e702dc4e40caa8eadb9bf27c84d0afdfd76f5e0ba47403170dc6b243cb501627ebfcf8c4eee5b98536aac96bc96a00418a5bbeb8ad6a202e2efb4c136ea38d738adce8c45331b7e2020f8022fd5880b61fa42d5a7769fa302a4596e7e63f49829dda308fe635f8b6ff48df96a1406ec7d26a19b9e18acad1de48be07ae4a80c986c8d3c4fa563db860dd186913657d23f84a120b2ec25d16faeeabb16066872db1f87aa420b881cdcf6798e7c6a44796fa18f4d5849d0f99c515c1a8d1e23d2d9f73f740ca6620fdee6da304966e61970ad4676ae069d8ada4baa35f5849e71c9975e28e2543868c21187e53b641857a135540905c5e50b7941974c3544a820a24b0e258bb67d1332f6b4421e0f2f8eb8941f6baee48e3bd07e5b44e12fa88ed2681c22272a01827c502d385f381c0d85bba94dfebb59d14e6bed334450f63117ed57ab5ea072fc433c3b64832d18084d5c2df26511640f465f7bed44b7ad72165264d86c0638072c44d6c2193c114d82123262bae3c9a84ce832df560c96f0326f066ac7d37c8bc78377d4bb5d22f7966e098b9272bc150fe96739293dd964ac8a0b2bcde4a568310f77bce38d790c3b3294f8de3fe306ff8ccea13e437d38c51493c69ab9ddbfc512936fdff7a5203ffe94b33fd9a41aaf90cfb6dbc6a216059748fe82d28439b4f7a7cf424ff305e674f144d5a2e737f60e1a452c3f909e46d8dc75603ae4e1ac401a6fa562f01e00a7fe0bc541f1144ff842a2672133a74f960c8514346f8f4a0d1ab2ccdfd162f74fe9ae6ca7646dd5d1862733b0f3c73a909bd941aa4c7c089450b17d28fc5f06b5f8c3288cf0b6e34d4be02775b055d70f020468fb9d46597fe9d1d37629ad04af4d437ea91e6a48c35146a31f7276a5ab0d097a717f5b118e16b0eafb268db45fc885dcbd57b4d48cee8c0c08a759b8acbc51c81a30ed7299c971b1d4d7f15653acd73ec7e273cdc8840d9d26e3d46507b5d638e1c0daf8a0e1e5bbfb0ef6ba0112082b6ff4e79e49b8f5284ee6ccdc42679ec955aed049b397f7f3f521197db3c8a58fa8cfb0ebcfc6919b3df9e579f9645a2f82c28c170555fc458d8261b17c294b5d4312600a00d0b227cbfad0a3664555bcd0060696669eb8b1fac1e32d0c326deb713d0926d3a6ffd24d74e33b30081a23ae64a5d3ab200b56e5c4150bd378df5f5aec272eb7aa22e73bbd68c3a9390280eeacdd05ba840fe9e9821c3304a2130da17174d3377b0a948f2122c196b7b9f259bfa7d8a67f1e18bbde6fbb0d3f6a613b600dde15ad18d21f748fb7b63e6edaf6298dadc14d5c739ac063da616759d0a2b2dea5f3cff2be3637027dfd9d24dcf5038da00aac7b370d26a6c700344bb58a47e6e87e8ac3883efb11186258c7cd80a3c9254012b012fa07696832587ad92e797eac68dad3db8d06df6d1747477123e0b7e160d9e1b58662faededfa9ffd8841fa533c3345fa212f879daf47ed599a41496c86d80795edd554b8b49b32a0d9ad033259d4d61a6c5b3ad288f3bc8bd5814307486c867dbf6b5b47f240593e964f519a5cd5e3ddacc6759c2da7bfbcaa3e42d581486d072b3cd77ba8203c2642423efe6e7185ccb5d371323388be7998ea4bfa54f031758d0e67685d81d9056883f71862697a4f7369475a3694a747d9362e266038e1a2ec82c534506d06ce09f45134e1e631fd4ef97746f5780332f8385a0d3d7f1cc6350b9d615806fc41229d3cd6cb6007972a3b204bc1b2b52f0d6ec5c81e86cffda618bf5bba956a0a9ca40b52e8b8bb5dc0373e7dd2282560ab80920e529070dabb33d23eec42973bafdcbc6e73e63132dc20ac7e694cad1c1a9e3e443f191e3ffbbdfc9ca3aadde73518ab9fb6b9cd88f996b443c91c5e4a67a2ba9717eafce19b5a7c910a3b6f6bf6c2a81258abb1e3386e7723dfa05ce4f50af5250f53dca6a947285ac37e745876658d5186d7fad47f0227ae77bb3e49f752dad90530b61ceb6346ca4d4203a288be9435788c0b89d8df45bbf2d87e2ca17ce18129ca95e33523a7c1e4fcf0fc68c28105588475c2967b390d9e1bb2e690596437bae52ced2bdf36a9fb0a8a8de3861339f60b0159e43af5121ded065a83f92e943bf918a7c53f651aac45153a3f14e37b8d38451b4c47c83cc530402b8574c0e3ebaf0934e530c5bf1acdcf5d689405afa1f2be28583e16b852f1de9edb297d89e3302ccba7288b535898cb308f448ffe6a7f38612a83ddc11d58eb47c8620c8c4f5524d3eee486558f575858a04339b52ef31b13fd2da4f4c205cbb781433a2bd7946edc6e0231e9f473e916570e81f0211d33f9e10ce8b2a19a6daec3a433b6a1b4531db82e57c77cace503f91843e5a2e4b9614351b74b60418969a41b9f35d22d1dd539e1714e90146d0cf915a566c6565657472c12ba6ee9635ba69de22b008009baf703d7c3fc4abbeebe8c60f527df6eb23a441ccb619984ce17d90fac8e5d4923eed800cd92e9114d3d91ff8ace7fb15425eee6120701a6dc338e9f1ea84b4dd0b8361135d6aa03ec1a7f3818dc7249345fb07d4f65078be5554985a2afab2b282242f90febf996f9055298a197bd804d8fa4556461931766b01e2b36b1cc8c06807ed95ef8bc49f22bcdf97cf38926516629761f92d069f68b5e90fefcb60a64e84a14d007b8811f998dad03a511549afc9bdddf975b1ccb4158829bd6f1b57420cdbb3ba3409fd47e50f4d46a0d61dfe87eb8ce24a4d5f15ca910693f8621807f399f05ace217a5558fcdb6ba9cde3992798bc35835b6a4daa67f8306ef85c400f573d9bb56897b40d0c3a09dd1a4246a1c03fedc494de5f4f412a5a5c46059f8282964f151f14f00355b04b303ce4b7fd2721adf58832bfc82266adbc524fe8274da2a9f02b8167d1dec1b20ffc2bead084d70ccbd9baca286f2f6926ceafd563beceb434cab35319263a965d77665272d56d129f6ddba9e53c0008442128a7848b8bcd2ac64d4b3ae498623ceb75cc66e4dc98353ae6207dacd34aa0310ea9c61dfa18ee86b61884fec965a5091347273d50d6768f6a6b2b4fc73510ee2c33bf6cf9b1223dc6cd78223d3eb853eefcea6069947c0391681fc5f2a9c87dc4345d19a2498536b72180bdc929b1cbe33cc5050ab43896efc28f504a1715ac42997af4bf9a1852790b54da637070726e76bc301cfd0f4d49e9afdcf1fce8e6dd9e8b862bec9b37eeb30bbbe2fe18193d6961113db7014753c6146ab08015f4583129e1110d0bc6ff3d8337fb0f4a72dabde804473b54df50c82cb959841f18f11c48313008745fdd2a444a9201903d5c0375912f2ae9ac3330dc80754fb6aae773e824e142b8b0af0f3cffae47748d154db01d8b4aedb32450d03328abe8d338a6993a734be6c67885534b8c24451ac131e0b2d1a843204df180e9084cb2eb10d85740fd77a35c0f31e428df383c9d3f2d0b0d356d8f680fc017051f20d4d9f541548025a9eb3ab8d9f195fa01b4425eaa96ada28b80a84a67984ea6edbd3bde46e74c249d976bf365ac9845d4c04031848ece48840110fcdb5f00db3d0626bc8a5c98c86698991520f6ee7ce3af4849f00304b54daf47149cf58516fea790a0070283111682a71687a08654284df51c23adc8f5d353b08a7b497a9df861f360207423a237a31b708ae82bb30e6672287fe78b4002d6fba4ca67cea7ebaa1de0c196233a843ece41f49d9dc3b29446fca75012f3d708ce2aaca4a3220a243dbb8acf06b72f3eb30bea3452b8be95feb6b8aa1578e06a0321ea3c7250c603e7fde5c7566d54894b65248200e5b3c2a03571d5b1d0f4af93eb32f4984bf7c437c7b282140874642e695fb20f0ff97525bd5e9b13f44f4037897bd0ad69e6ddc7ac487a491e9e516c518d09c17c6bbe4c0aad07caa1a4df1dbcd81e18d8d52913eef49c07151ba07f7225f7179a4ed3fa45447863b4800847a186b601ba790cc8bc70149fce95da8da8df396d7eef6c36d0a6597a173f280b92fcb6446d3d0a57284fdcf3e061e2ac53500fa13b48239c7e32b426e587914394f80189f92395c11693d527031c5bf3968372961d4458cd4d4650d882e42ec2714b5a92736f4c0313b969d56b04d8adf32af7c30a6eea99adb26ef2dc5ab157aec58d82fcfa0ba9e62c93d53108b5e91120fb33def1bf9d687bbcc311bd39c585fd65284a5f28ab3d9a0ce7885122d590852e63bf6384a9d3aa40f4c466f4ec7264a92f42303d29bbe9849a1c08473691ad5ecc918015433c7afa4bf6ebe91938208041f8b2f048c2c9e8da639ba975051323037391e9e7efa69ced0c0f39e031a52a0d69634dcc51767ab6e4876706ef3f404c28d36e9f96f640a295d32bfbcd07eccc35589e60c5ccc148ef38a222327feee601ac7240c245624a3982573d77980d23f8c7e83e9eb38524cedc98181580a8a9b848627b4e53d3224a1d604f45f28a9b447221e50c20c3a3d53516c2a36a31b19b76608ff9d930832e2896dbe1d4c2fe7d234501b48707a3c87074f98fe6bb4dbc5f7b5a9efb29e7a75792900049301e533953106ce18cd5424a0d0c14e4dee2c60415f01a89917c6cf86bf73bc0263e53f247f46e00747dee4afef357ada8fbba141ae7e95487c62c880e5cc70c12b178046567bc8a7cb0676c7b133e1f7171de86773d9472941efdf9d982e73ea4af8762324f94297be2d6f4c0d77a1d8f5d37c97ec7b250793a18ef673575effad729bbbfc359bd60b5bd3c7592016181c74016c3e71ceb81b79c962262592a4365028af369b3e51f5dece2018a4bef04069f5f9feb4474bb0c50c3cf839f382a15142e415d1b644af3ad4638c48c60be07301d7b2226d505b86360c9c65baa9ba943311fb62b35f88c52b674bb950d8f2347dfef72ca66cbc473c1960ded394e6e289e164f357a091767496dd30a5361c1b5853cb450781385e4f132d627c3fab60aaca576498049802f1076670735d02658b4a97d1dee828fed3533870975301ced2c0821037637e3b9c1c93ef91aeef947f5c9a60b8cd83cb561b05a2eefe96631c24752c2ffed0d9c22db984c55b3463601cd4b0c8a0f8f0b16bb6f5815a633e6489630466441edb39c09a344b8e0c0c97f58c6482633e85c69930172d7b9024f51be2a6aeffc89c61873b6adf08f0c38322d9cb1a90924762d5388e593419b7b6172f94d3a9836864e42a18fc7f9979a8408af7c1e58702b0479ed60d497d7941cd7b48df4149a949698a46d6f5860d96b91da6d412aa9f2d62bcdc48b5a0c6859a0b55e7b1618ec35bf3237e0c948e0ab0aa42d600c8f0a6deb2582d936ac84f24a409c06dff4f40138879c90daa894100a9de0b2244acfede899902e4cdae04a125eaa3856783df4c322aafe4ef98d94e9f5d7cb489e13296e5a73313bc0d8ad159471b02dcba9a8516c753b9ac713266fc5279f75e7910986d90029d294006ef571265e573e9013b7232bfcedbf79506f359a3dd66f33d20f51ca64086104a8e510692209c07b72b4c32306c2c9feaba0fdd2883e74cfc7e2ec4366aaa4f7b9fa58ab6c601389767f540b9cb41c93299c9852f5889734260d3d8fb1e2184893494f0608162f2448fe1d33a99dfdc242ecaf924fffd272e9c9459c586bf72eefb0397c25b2da301ab635d5bb4664b53cc041c00a273c6b2a7274950f30eb56d7fa73b91492f28b698ab9c5d75e5cbf6bfc707fa7ee8f875eb72edc25a9811c798f6fa4d289f9de188e8bc644b411b251b24d18831068c61263d3325a1f19e58179f3c4b872b68edb27cc236a9f70af55878f0d4523f63293aeb75f66757f69df245ae087542ddf169482c499882b6e46985b78e5252a7db00f008e38177218e33f3cec214254c88030df1033b19ea5b32be9c56b6000a477759ce6d1b5502d8949b810194d7cafb8eb29856bd91fa444ea80b398233bb09bc16c90b2db02e21e16ce1e598cd736066ad7daa0bd634ad1655994a74300517e26ca0f955f3b8e5fca16765b1c5d3ff2b5733870a3c1c0647201ad8bed0dba74b5918e83da3927156ce052d40bc5d9d34ce47a7ae36e0c8d4eaede0151cc07042fe575e56c9aa2f3e21bea9213e61c59679b9438747d7a7c22b94a260c5a8ef9d520889f2c2ec937e4b45b54073ac8761286965bb557f8b32b25c6c4347eade8d2cabd762e9fb5d71463596d5cc784d54ae925014b533f9405228683ad0015bb5f1a135d1148461361f7567d9eb00fb1ba261321d598d1df6c70a3a42bf8eac242d60e2ed22335dc75bc2d60536ff0683bf68b727d9e29a1af76314147f16a0c967ae5b4262ea628de9664bd38614a59cdb439ed8cd3c9b6125f8fa5feadb302d9bbf2b68dec883284c7a7bd6f14881f4f79a0711de806fa63fb2a749c995f65eface2923bac9ac3b313ed395eeca9878a31986a255a2690ef93e4857ef5bc1cdbf30c1a4cf3b1c977060e5957a4de33366b7b394d190671a8f76feecad91b23aa354903f831e1ee0e2814b05aaddf115e07d094242f4315b1b54dfb1d7d7dd2ee47f41439a713c1a3a1d9915459cde5a8b45b5c3fffc4897cdb6f50c5ab7556628570a485274bddc380d8caef5d9e9d9b74165d5547016aae99f007cf3004c7a336129262550da9ee3254900f0a1a077673dd40ecb92bb2d3773b925be2a83f8d53a2b8fd79fb624c066dfcc2a24fe981a8f3969221d0d22a3ca36a6dc212c41d6f5f1a6a05eb10f585d455a4339dbe8bb86dba961175d0a9ab184d7aa15e4e520d254659addec781b2c3418e4d5d6b54489dc3ead8afb83a79905d42e69aad9cb10943d9b002c86cf5634de2f472683a5a171a2613e3ad18091a3c1531d218aca1ce3f18aa3aa7f3e2d911e0c21721459570c86aade4aae9592f5bb03bab3d175731e259498e3955573ce593a69609a478b9cd40567bc8d2f92b2f51d3ed3bd63ff231524ae22210219dde44afc38325f05f2eaddbd96f773f3b654d9359c53db4d8f88ef351a425e13e80edcc4de7fcfb4a0f04349335d6fe07f99c2649c33f61ddab9c58e9fc8da6c293c38a7b5d9dd9ac522b1a22befcec3a5ed51f114f2bc26f901215d4d53de5b3d9c78c1fca5584a0666f7d7b082dd682eecedfd245aaac0918e5533d4aca244c9d1aeb07cd49cf87cb9f29655b51dbbb7a234889b0402b4f0adec53959deef8f75ddc24bf0c133e6f8bdc0591b12bafa3fd02867bf9841294b4c737ff80983daa54b0f1cce","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
