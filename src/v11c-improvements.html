<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>V11c Improvement Tracker</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0a0e17;color:#e0e0e0;font-family:'Segoe UI',system-ui,sans-serif;padding:20px;max-width:1400px;margin:0 auto}
h1{font-size:1.8em;margin-bottom:4px;color:#fff}
.subtitle{color:#888;font-size:0.95em;margin-bottom:24px}
.goal-bar{background:#141a2a;border-radius:12px;padding:16px 20px;margin-bottom:24px;display:flex;align-items:center;gap:20px;flex-wrap:wrap}
.goal-bar .label{color:#888;font-size:0.85em}
.goal-bar .value{font-size:1.6em;font-weight:700}
.goal-bar .start{color:#ff6b6b}
.goal-bar .current{color:#ffd93d}
.goal-bar .target{color:#6bff8e}
.progress-track{flex:1;min-width:200px;height:28px;background:#1a2235;border-radius:14px;position:relative;overflow:hidden}
.progress-fill{height:100%;border-radius:14px;background:linear-gradient(90deg,#ff6b6b,#ffd93d);transition:width 0.5s}
.progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:700;font-size:0.85em;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,0.8)}
.progress-marker{position:absolute;top:-6px;width:2px;height:40px;background:#fff;opacity:0.5}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(340px,1fr));gap:16px;margin-bottom:24px}
.card{background:#141a2a;border-radius:12px;padding:20px;border-left:4px solid #333}
.card.done{border-left-color:#6bff8e}
.card.failed{border-left-color:#ff6b6b}
.card.best{border-left-color:#ffd93d;box-shadow:0 0 20px rgba(255,217,61,0.1)}
.card.running{border-left-color:#4a9eff}
.card.pending{border-left-color:#555}
.card .step-num{font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:4px}
.card h3{font-size:1.1em;margin-bottom:8px;color:#fff}
.card .status{display:inline-block;padding:2px 10px;border-radius:10px;font-size:0.75em;font-weight:600;margin-bottom:10px}
.card .status.done{background:#1a3a2a;color:#6bff8e}
.card .status.failed{background:#3a1a1a;color:#ff6b6b}
.card .status.best{background:#3a3a1a;color:#ffd93d}
.card .status.running{background:#1a2a3a;color:#4a9eff}
.card .status.pending{background:#1a1a2a;color:#888}
.card .metric{display:flex;justify-content:space-between;padding:4px 0;border-bottom:1px solid #1a2235}
.card .metric:last-child{border:none}
.card .metric .k{color:#888;font-size:0.85em}
.card .metric .v{font-weight:600;font-size:0.9em}
.card .metric .v.up{color:#6bff8e}
.card .metric .v.down{color:#ff6b6b}
.card .metric .v.neutral{color:#ffd93d}
.card .verdict{margin-top:10px;padding:10px;background:#0a0e17;border-radius:8px;font-size:0.85em;line-height:1.5}
.card .insight-tag{display:inline-block;padding:3px 8px;border-radius:6px;font-size:0.7em;font-weight:700;background:#3a2a1a;color:#ffa94d;margin-bottom:8px;margin-left:6px}
table{width:100%;border-collapse:collapse;margin-bottom:24px;font-size:0.88em}
th{background:#141a2a;padding:10px 12px;text-align:left;font-size:0.8em;color:#888;text-transform:uppercase;letter-spacing:0.5px;position:sticky;top:0}
td{padding:10px 12px;border-bottom:1px solid #1a2235;font-size:0.9em}
tr:hover td{background:#141a2a}
tr.highlight-row td{background:#1a2a1a}
tr.dead-row td{opacity:0.5}
.highlight{color:#ffd93d;font-weight:600}
.section-title{font-size:1.2em;color:#fff;margin:32px 0 12px;padding-bottom:8px;border-bottom:1px solid #1a2235}
.band-chart{display:flex;align-items:flex-end;gap:8px;height:220px;padding:20px;background:#141a2a;border-radius:12px;margin-bottom:24px}
.band-col{flex:1;display:flex;flex-direction:column;align-items:center;gap:4px}
.band-bar{width:100%;border-radius:6px 6px 0 0;min-height:4px;transition:height 0.5s}
.band-label{font-size:0.72em;color:#888;text-align:center}
.band-value{font-size:0.78em;font-weight:600;color:#fff}
.band-pf{font-size:0.7em;color:#ffd93d}
.band-extra{font-size:0.65em;color:#888}
.comparison{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:24px}
.comp-box{background:#141a2a;border-radius:12px;padding:20px}
.comp-box h4{color:#888;font-size:0.8em;text-transform:uppercase;letter-spacing:1px;margin-bottom:12px}
.comp-box .big-num{font-size:2em;font-weight:700;margin-bottom:4px}
.comp-box .detail{font-size:0.85em;color:#888}
.delta-badge{display:inline-block;padding:2px 8px;border-radius:8px;font-size:0.7em;font-weight:600;margin-left:8px}
.delta-up{background:#1a3a2a;color:#6bff8e}
.delta-down{background:#3a1a1a;color:#ff6b6b}
.insights-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin-bottom:24px}
.insight-card{background:#141a2a;border-radius:12px;padding:20px;border-top:3px solid #ffa94d}
.insight-card h4{color:#ffa94d;font-size:0.95em;margin-bottom:8px;display:flex;align-items:center;gap:8px}
.insight-card p{font-size:0.88em;line-height:1.6;color:#ccc}
.insight-card .evidence{margin-top:8px;font-size:0.8em;color:#888;font-style:italic}
.tab-container{display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap}
.tab-btn{background:#141a2a;border:1px solid #1a2235;color:#888;padding:8px 16px;border-radius:8px;cursor:pointer;font-size:0.85em;transition:all 0.2s}
.tab-btn:hover{color:#fff;border-color:#333}
.tab-btn.active{background:#1a2a3a;color:#4a9eff;border-color:#4a9eff}
.table-section{display:none}
.table-section.active{display:block}
.tf-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-bottom:24px}
.tf-card{background:#141a2a;border-radius:10px;padding:16px;text-align:center}
.tf-card .tf-name{font-size:1.1em;font-weight:700;color:#fff;margin-bottom:6px}
.tf-card .tf-pf{font-size:1.8em;font-weight:700;margin-bottom:4px}
.tf-card .tf-trades{font-size:0.8em;color:#888}
.pf-good{color:#6bff8e}
.pf-ok{color:#ffd93d}
.pf-weak{color:#ff6b6b}
.v2v3-compare{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px}
.v2v3-box{background:#141a2a;border-radius:12px;padding:20px;position:relative}
.v2v3-box h4{color:#888;font-size:0.8em;text-transform:uppercase;letter-spacing:1px;margin-bottom:16px}
.v2v3-box .row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid #1a2235;font-size:0.9em}
.v2v3-box .row:last-child{border:none}
.v2v3-box .row .lbl{color:#888}
.v2v3-box .row .val{font-weight:600}
.v2v3-box.winner{border:1px solid #ffd93d30}
.v2v3-box.winner::after{content:'â­ BEST';position:absolute;top:12px;right:16px;font-size:0.7em;color:#ffd93d;font-weight:700;background:#3a3a1a;padding:2px 8px;border-radius:6px}
.updated{text-align:center;color:#555;font-size:0.8em;padding:20px 0;margin-top:20px;border-top:1px solid #1a2235}
@media(max-width:700px){
  .cards{grid-template-columns:1fr}
  .comparison{grid-template-columns:1fr}
  .insights-grid{grid-template-columns:1fr}
  .goal-bar{flex-direction:column;text-align:center}
  .v2v3-compare{grid-template-columns:1fr}
  .tf-grid{grid-template-columns:1fr}
}
</style>
</head>
<body>

<h1>ğŸ”§ V11c Improvement Tracker</h1>
<p class="subtitle">Systematic journey: Profit Factor 1.20 â†’ 2.0+ Â· BTC/ETH/SOL Â· 1m/15m/1H Â· 8.5 years</p>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• PF PROGRESS BAR â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="goal-bar">
  <div><div class="label">START</div><div class="value start">1.20</div></div>
  <div class="progress-track">
    <div class="progress-fill" id="pf-fill"></div>
    <div class="progress-text" id="pf-text"></div>
  </div>
  <div><div class="label">CURRENT BEST</div><div class="value current" id="pf-current">1.23</div></div>
  <div><div class="label">TARGET</div><div class="value target">2.00</div></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAMPION STATS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="background:linear-gradient(135deg,#141a2a 0%,#1a2a1a 100%);border-radius:16px;padding:24px;margin-bottom:24px;border:1px solid #6bff8e30;position:relative;overflow:hidden">
  <div style="position:absolute;top:12px;right:16px;font-size:0.7em;color:#6bff8e;font-weight:700;background:#1a3a2a;padding:4px 12px;border-radius:8px">ğŸ† CHAMPION</div>
  <div style="font-size:0.8em;color:#888;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:4px">New Champion Â· Level Spacing â‰¥0.75Ã— ATR Â· ATR 1.5Ã— Â· BAS=5 Â· BTC Only</div>
  <div style="font-size:0.85em;color:#666;margin-bottom:16px">Stop Hunt W/M Â· Any Surpass Â· Min level gap filter Â· 8.5 years (2017â€“2026)</div>

  <!-- Hero stats row -->
  <div style="display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-bottom:20px">
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Profit Factor</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">1.31</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades</div>
      <div style="font-size:2em;font-weight:700;color:#fff">2,607</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Win Rate</div>
      <div style="font-size:2em;font-weight:700;color:#ffd93d">43.3%</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Total R</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+450.6</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">R/Trade</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+0.17</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades/Month</div>
      <div style="font-size:2em;font-weight:700;color:#fff">25.6</div>
    </div>
  </div>

  <!-- Breakdown grids -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
    <!-- Per Timeframe -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Per Timeframe</div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px">
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#4a9eff;margin-bottom:2px">1H</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">1.37</div>
          <div style="font-size:0.7em;color:#888">71t Â· 38.0%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#4a9eff;margin-bottom:2px">15m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">1.34</div>
          <div style="font-size:0.7em;color:#888">289t Â· 37.7%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#4a9eff;margin-bottom:2px">1m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">1.30</div>
          <div style="font-size:0.7em;color:#888">2,247t Â· 44.1%</div>
        </div>
      </div>
    </div>
    <!-- Long vs Short + Win/Loss -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Direction & Risk</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Long PF</span><span style="color:#6bff8e;font-weight:600">1.31</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Short PF</span><span style="color:#6bff8e;font-weight:600">1.30</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Long WR</span><span style="color:#fff">42.4%</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Short WR</span><span style="color:#fff">44.3%</span></div>
        </div>
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Win</span><span style="color:#6bff8e;font-weight:600">+1.71R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Loss</span><span style="color:#ff6b6b;font-weight:600">-1.00R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Best</span><span style="color:#6bff8e">+19.66R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Worst</span><span style="color:#ff6b6b">-1.00R</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BEST PF STATS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="background:linear-gradient(135deg,#141a2a 0%,#2a2a1a 100%);border-radius:16px;padding:24px;margin-bottom:24px;border:1px solid #ffd93d30;position:relative;overflow:hidden">
  <div style="position:absolute;top:12px;right:16px;font-size:0.7em;color:#ffd93d;font-weight:700;background:#3a3a1a;padding:4px 12px;border-radius:8px">âš”ï¸ CHALLENGER</div>
  <div style="font-size:0.8em;color:#888;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:4px">Challenger Â· Spacing â‰¥0.75Ã— + 3-Box â‰¤30% Â· ATR 1.5Ã— Â· BAS=5 Â· BTC Only</div>
  <div style="font-size:0.85em;color:#666;margin-bottom:16px">Level spacing + equal measured move filter Â· 8.5 years (2017â€“2026)</div>

  <!-- Hero stats row -->
  <div style="display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-bottom:20px">
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Profit Factor</div>
      <div style="font-size:2em;font-weight:700;color:#ffd93d">1.45</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades</div>
      <div style="font-size:2em;font-weight:700;color:#fff">330</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Win Rate</div>
      <div style="font-size:2em;font-weight:700;color:#ffd93d">46.1%</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Total R</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+79.9</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">R/Trade</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+0.24</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades/Month</div>
      <div style="font-size:2em;font-weight:700;color:#fff">3.2</div>
    </div>
  </div>

  <!-- Breakdown grids -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
    <!-- Per Timeframe -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Per Timeframe</div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px">
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ffd93d;margin-bottom:2px">1H</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">2.44</div>
          <div style="font-size:0.7em;color:#888">8t Â· 50.0%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ffd93d;margin-bottom:2px">15m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">1.72</div>
          <div style="font-size:0.7em;color:#888">44t Â· 40.9%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ffd93d;margin-bottom:2px">1m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">1.37</div>
          <div style="font-size:0.7em;color:#888">278t Â· 46.8%</div>
        </div>
      </div>
    </div>
    <!-- Long vs Short + Win/Loss -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Direction & Risk</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Long PF</span><span style="color:#ffd93d;font-weight:600">1.15</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Short PF</span><span style="color:#6bff8e;font-weight:600">1.95</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Max Consec Loss</span><span style="color:#fff">8</span></div>
        </div>
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Win</span><span style="color:#6bff8e;font-weight:600">+1.70R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Loss</span><span style="color:#ff6b6b;font-weight:600">-1.00R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Best</span><span style="color:#6bff8e">+6.90R</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• SWEET SPOT STATS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="background:linear-gradient(135deg,#1a0e00 0%,#2a1a00 100%);border-radius:16px;padding:24px;margin-bottom:24px;border:1px solid #ff6d0030;position:relative;overflow:hidden">
  <div style="position:absolute;top:12px;right:16px;font-size:0.7em;color:#ff6d00;font-weight:700;background:#3a2200;padding:4px 12px;border-radius:8px">ğŸ¯ NEW CHALLENGER</div>
  <div style="font-size:0.8em;color:#888;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:4px">Sweet Spot Â· Spacing â‰¥0.75Ã— + Box 10-25% + Step 0.5-0.7 Â· ATR 1.5Ã— Â· BAS=5 Â· BTC Only</div>
  <div style="font-size:0.85em;color:#666;margin-bottom:16px">Moderate imperfection = real MM levels Â· "Perfect" levels (box 0-5%, step 0.9+) = PF 0.42 Â· 8.5 years (2017â€“2026)</div>

  <!-- Hero stats row -->
  <div style="display:grid;grid-template-columns:repeat(6,1fr);gap:12px;margin-bottom:20px">
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Profit Factor</div>
      <div style="font-size:2em;font-weight:700;color:#ff6d00">4.34</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades</div>
      <div style="font-size:2em;font-weight:700;color:#fff">41</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Win Rate</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">68%</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Total R</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+43.5</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">R/Trade</div>
      <div style="font-size:2em;font-weight:700;color:#6bff8e">+1.06</div>
    </div>
    <div style="text-align:center">
      <div style="font-size:0.7em;color:#888;margin-bottom:2px">Trades/Month</div>
      <div style="font-size:2em;font-weight:700;color:#fff">0.4</div>
    </div>
  </div>

  <!-- Breakdown grids -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px">
    <!-- Per Timeframe -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Per Timeframe</div>
      <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px">
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ff6d00;margin-bottom:2px">1H</div>
          <div style="font-size:1.3em;font-weight:700;color:#ff6b6b">0.00</div>
          <div style="font-size:0.7em;color:#888">1t Â· 0%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ff6d00;margin-bottom:2px">15m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">8.47</div>
          <div style="font-size:0.7em;color:#888">11t Â· 73%</div>
        </div>
        <div style="text-align:center;background:#141a2a;border-radius:8px;padding:10px">
          <div style="font-size:0.7em;color:#ff6d00;margin-bottom:2px">1m</div>
          <div style="font-size:1.3em;font-weight:700;color:#6bff8e">3.45</div>
          <div style="font-size:0.7em;color:#888">29t Â· 69%</div>
        </div>
      </div>
    </div>
    <!-- Long vs Short + Win/Loss -->
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#888;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">Direction & Risk</div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:8px">
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Long PF</span><span style="color:#6bff8e;font-weight:600">3.12</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Short PF</span><span style="color:#6bff8e;font-weight:600">5.77</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Max Consec Loss</span><span style="color:#6bff8e">2</span></div>
        </div>
        <div style="background:#141a2a;border-radius:8px;padding:10px">
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Win</span><span style="color:#6bff8e;font-weight:600">+2.02R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Avg Loss</span><span style="color:#ff6b6b;font-weight:600">-1.00R</span></div>
          <div style="display:flex;justify-content:space-between;padding:3px 0;font-size:0.85em"><span style="color:#888">Best</span><span style="color:#6bff8e">+6.90R</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• TEST IDEA: REAL TOP + FORWARD BOXES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="background:linear-gradient(135deg,#0a001a 0%,#1a0a2a 100%);border-radius:16px;padding:24px;margin-bottom:24px;border:1px solid #9c27b030;position:relative;overflow:hidden">
  <div style="position:absolute;top:12px;right:16px;font-size:0.7em;color:#ce93d8;font-weight:700;background:#2a0a3a;padding:4px 12px;border-radius:8px">ğŸ”¬ TEST IDEA #10</div>
  <div style="font-size:1.1em;font-weight:700;color:#ce93d8;margin-bottom:8px">Real TOP + Forward Box Projection</div>
  <div style="font-size:0.85em;color:#999;margin-bottom:16px;line-height:1.6">
    <strong style="color:#ff6b6b">Problem found (Feb 20):</strong> Engine uses <code style="background:#1a1a2a;padding:2px 6px;border-radius:4px;color:#ff9800">top = ph[-1]</code> (most recent swing high before L1) as TOP. 
    This grabs a <em>local bounce</em> instead of the real peak of the move. Example: BTC 1m 2025-05-15 â€” engine TOP = 102,633 but real top = ~103,000.<br><br>
    <strong style="color:#6bff8e">Impact:</strong> Wrong TOP â†’ wrong first range â†’ wrong box deviation â†’ sweet spot filter uses incorrect geometry.<br>
    When real TOP is used, box deviation explodes (17% â†’ 113%) because L1/L2/L3 are tightly clustered relative to the actual move.
  </div>
  
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px">
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#ff6b6b;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">âŒ Current (Broken)</div>
      <div style="font-size:0.85em;color:#bbb;line-height:1.8">
        1. Find 3 swing lows (L1, L2, L3)<br>
        2. <code style="color:#ff6b6b">top = ph[-1]</code> (nearest swing high)<br>
        3. Box size = TOP â†’ L1<br>
        4. Project boxes retroactively<br>
        5. Calculate deviation<br>
        <em style="color:#888">Problem: TOP is local, not the real peak</em>
      </div>
    </div>
    <div style="background:#0a0e1799;border-radius:10px;padding:14px">
      <div style="font-size:0.75em;color:#6bff8e;text-transform:uppercase;letter-spacing:1px;margin-bottom:10px">âœ… Proposed (Forward Boxes)</div>
      <div style="font-size:0.85em;color:#bbb;line-height:1.8">
        1. Find all swing highs (potential TOPs)<br>
        2. For each TOP, find first swing low after = L1<br>
        3. Box size = TOP â†’ L1 (first push)<br>
        4. <strong style="color:#6bff8e">Project Box 2 &amp; 3 forward</strong><br>
        5. Check: swing lows near Box 2 &amp; 3 boundaries?<br>
        <em style="color:#888">Boxes define where levels SHOULD be</em>
      </div>
    </div>
  </div>
  
  <div style="background:#141a2a;border-radius:10px;padding:14px;margin-bottom:12px">
    <div style="font-size:0.75em;color:#ffd93d;text-transform:uppercase;letter-spacing:1px;margin-bottom:8px">ğŸ“‹ Test Plan</div>
    <div style="font-size:0.85em;color:#bbb;line-height:1.7">
      <strong>A:</strong> Walk-back fix â€” from ph[-1], walk back through swing highs while each is higher. Use peak as TOP.<br>
      <strong>B:</strong> Full flip â€” iterate swing highs as TOPs, project forward, find levels near box boundaries. Major rewrite.<br>
      <strong>C/D:</strong> Walk-back with time window cap (1Ã—, 2Ã— L1â†’L3 distance). Prevents grabbing peaks from days ago.<br>
      <strong>Key question:</strong> Does changing TOP break the sweet spot, or reveal better trades?
    </div>
  </div>
  
  <div style="font-size:0.8em;color:#666;font-style:italic">
    Discovered during trade review: BTC 1m LONG 2025-05-15 07:52. Engine line 351-354 in backtest_v11c_stophunt_v2.py.
    The 3-Box drawn from the real top (~103,000) actually aligned better with L2 and L3 than the engine's version.
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BTC-ONLY SWITCH BANNER â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div style="background:#1a1a2a;border-radius:12px;padding:16px 20px;margin-bottom:24px;border-left:4px solid #ffd93d">
  <div style="font-weight:700;color:#ffd93d;margin-bottom:6px">âš ï¸ BTC-Only Switch â€” From Improvement #3 onwards</div>
  <div style="font-size:0.9em;color:#bbb;line-height:1.6">
    Starting with Stop Hunt tests, all tests run <strong>BTC-only</strong> for faster iteration.<br>
    <span style="color:#ff6b6b">All-pair baseline: PF 1.20</span> (3,362 trades â€” BTC + ETH + SOL) â†’
    <span style="color:#ffd93d">BTC-only baseline: PF 1.16</span> (1,554 trades â€” BTC alone is weaker)<br>
    By pair: BTC PF 1.16 Â· ETH PF 1.17 Â· SOL PF 1.30<br>
    <strong>So BTC PF 1.23 = +0.07 improvement over BTC's own baseline of 1.16.</strong>
    The improvements brought BTC from <em>below</em> the combined average back <em>above</em> it.
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• IMPROVEMENT CARDS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">Improvement Stack</div>
<div class="cards" id="cards"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• KEY INSIGHTS â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">ğŸ”‘ Key Insights</div>
<div class="insights-grid" id="insights"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• V2 vs V3 COMPARISON â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">Stop Hunt: V2 (Wick-Only) vs V3 (Any Surpass)</div>
<div class="v2v3-compare">
  <div class="v2v3-box">
    <h4>V2 â€” Wick-Only (Best: ATR 1.0Ã— rw=7)</h4>
    <div class="row"><span class="lbl">Profit Factor</span><span class="val" style="color:#e0e0e0">1.20</span></div>
    <div class="row"><span class="lbl">Trades</span><span class="val">3,379</span></div>
    <div class="row"><span class="lbl">Total R</span><span class="val" style="color:#6bff8e">+380</span></div>
    <div class="row"><span class="lbl">R/Trade</span><span class="val">+0.11</span></div>
    <div class="row"><span class="lbl">Recovery Window</span><span class="val" style="color:#ffa94d">Required (rw=7)</span></div>
    <div class="row"><span class="lbl">Long PF</span><span class="val" style="color:#ff6b6b">1.12</span></div>
    <div class="row"><span class="lbl">Short PF</span><span class="val" style="color:#6bff8e">~1.28</span></div>
  </div>
  <div class="v2v3-box winner">
    <h4>V3 â€” Any Surpass (Best: ATR 1.5Ã— rw=0)</h4>
    <div class="row"><span class="lbl">Profit Factor</span><span class="val" style="color:#ffd93d">1.22</span></div>
    <div class="row"><span class="lbl">Trades</span><span class="val">5,129</span></div>
    <div class="row"><span class="lbl">Total R</span><span class="val" style="color:#6bff8e">+644</span></div>
    <div class="row"><span class="lbl">R/Trade</span><span class="val">+0.13</span></div>
    <div class="row"><span class="lbl">Recovery Window</span><span class="val" style="color:#6bff8e">Not needed (rw=0)</span></div>
    <div class="row"><span class="lbl">Long PF</span><span class="val" style="color:#ffd93d">1.18</span></div>
    <div class="row"><span class="lbl">Short PF</span><span class="val" style="color:#6bff8e">1.27</span></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• CHAMPION PROGRESSION â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">ğŸ† Champion Progression</div>
<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-bottom:24px">
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #555">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">BTC Baseline</div>
    <div style="font-size:1.6em;font-weight:700;color:#ff6b6b">1.16</div>
    <div style="font-size:0.8em;color:#888">1,554t Â· +192R</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #888">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">#3A Wick-Only</div>
    <div style="font-size:1.6em;font-weight:700;color:#e0e0e0">1.20</div>
    <div style="font-size:0.8em;color:#888">3,379t Â· WR 43.4% Â· +380R Â· R/t +0.11</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #ffd93d">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">#3B Any-Surpass</div>
    <div style="font-size:1.6em;font-weight:700;color:#ffd93d">1.22</div>
    <div style="font-size:0.8em;color:#888">5,129t Â· WR 43.0% Â· +644R Â· R/t +0.13</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #6bff8e">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">#3C Bars After Surpass</div>
    <div style="font-size:1.6em;font-weight:700;color:#6bff8e">1.23</div>
    <div style="font-size:0.8em;color:#888">4,661t Â· WR 42.6% Â· +600R Â· R/t +0.13</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #888">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">#7 3-Box Filter (20%)</div>
    <div style="font-size:1.6em;font-weight:700;color:#e0e0e0">1.46</div>
    <div style="font-size:0.8em;color:#888">288t Â· WR 46.2% Â· +71R Â· R/t +0.25</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #6bff8e;box-shadow:0 0 15px rgba(107,255,142,0.15)">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">ğŸ† #8 Level Spacing â‰¥0.75Ã—</div>
    <div style="font-size:1.6em;font-weight:700;color:#6bff8e">1.31</div>
    <div style="font-size:0.8em;color:#888">2,607t Â· WR 43.3% Â· +451R Â· R/t +0.17</div>
  </div>
  <div style="background:#141a2a;border-radius:10px;padding:16px;border-left:3px solid #ffd93d;box-shadow:0 0 15px rgba(255,217,61,0.15)">
    <div style="font-size:0.7em;color:#888;text-transform:uppercase;letter-spacing:1px">âš”ï¸ #8b Spacing + 3-Box 30%</div>
    <div style="font-size:1.6em;font-weight:700;color:#ffd93d">1.45</div>
    <div style="font-size:0.8em;color:#888">330t Â· WR 46.1% Â· +80R Â· R/t +0.24</div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• BARS AFTER SURPASS HEATMAP â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">Test 3C: Bars After Surpass â€” Full Grid (PF)</div>
<table style="margin-bottom:24px">
<thead>
<tr><th>ATR Band</th><th>bas=0</th><th>bas=1</th><th>bas=2</th><th>bas=3</th><th>bas=4</th><th>bas=5</th><th>bas=6</th><th>bas=7</th></tr>
</thead>
<tbody>
<tr><td>1.0Ã—</td><td style="color:#ff6b6b">1.11</td><td>1.16</td><td>1.16</td><td>1.16</td><td>1.18</td><td>1.18</td><td>1.18</td><td>1.18</td></tr>
<tr><td>1.5Ã—</td><td>1.17</td><td style="color:#6bff8e">1.22</td><td>1.21</td><td>1.21</td><td style="color:#6bff8e">1.22</td><td style="color:#6bff8e;font-weight:700">â­ 1.23</td><td style="color:#6bff8e">1.22</td><td style="color:#6bff8e">1.22</td></tr>
<tr><td>2.0Ã—</td><td style="color:#ff6b6b">1.12</td><td>1.17</td><td>1.16</td><td>1.16</td><td>1.17</td><td>1.17</td><td>1.17</td><td>1.17</td></tr>
<tr><td>2.5Ã—</td><td>1.13</td><td>1.18</td><td>1.17</td><td>1.17</td><td>1.18</td><td>1.18</td><td>1.17</td><td>1.17</td></tr>
<tr><td>3.0Ã—</td><td>1.14</td><td>1.19</td><td>1.18</td><td>1.17</td><td>1.18</td><td>1.18</td><td>1.18</td><td>1.17</td></tr>
</tbody>
</table>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• ATR BAND CHART â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">ATR Band Comparison â€” V3 (Any Surpass, rw=0, BTC-only)</div>
<div class="band-chart" id="band-chart-v3"></div>

<div class="section-title">ATR Band Comparison â€” V2 (Wick-Only, rw=7, BTC-only)</div>
<div class="band-chart" id="band-chart-v2"></div>

<div class="section-title">ATR Band Comparison â€” #1 ATR Normalization (All Pairs)</div>
<div class="band-chart" id="band-chart-atr"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• 3-BOX FILTER CHART â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">Test #7: 3-Box Filter â€” Quality vs Quantity</div>
<div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px">
  <div style="background:#141a2a;border-radius:12px;padding:20px">
    <h4 style="color:#ffd93d;font-size:0.85em;text-transform:uppercase;letter-spacing:1px;margin-bottom:16px">With ATR 1.5Ã— Band</h4>
    <div id="box3-chart-atr" style="display:flex;align-items:flex-end;gap:10px;height:180px"></div>
  </div>
  <div style="background:#141a2a;border-radius:12px;padding:20px">
    <h4 style="color:#4a9eff;font-size:0.85em;text-transform:uppercase;letter-spacing:1px;margin-bottom:16px">No ATR Band</h4>
    <div id="box3-chart-noatr" style="display:flex;align-items:flex-end;gap:10px;height:180px"></div>
  </div>
</div>
<div style="background:#1a2a1a;border-radius:12px;padding:16px 20px;margin-bottom:24px;border-left:4px solid #6bff8e">
  <div style="font-weight:700;color:#6bff8e;margin-bottom:6px">ğŸ’¡ Insight: 3-Box validates the Market Maker Method</div>
  <div style="font-size:0.9em;color:#bbb;line-height:1.6">
    When L3 lands within 15â€“20% of the projected 3-Box boundary, PF jumps from 1.23 â†’ 1.47 and R/trade nearly doubles.<br>
    <strong>The tradeoff:</strong> Only 205â€“288 trades over 8 years (~2-3/month). The filter selects the highest-quality reversals â€” where the equal measured move prediction is accurate â€” but many valid trades fall outside the tolerance window.
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• FULL RESULTS TABLES â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="section-title">Full Results â€” All Tests</div>
<div class="tab-container" id="table-tabs"></div>
<div id="table-sections"></div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• UPDATED â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="updated">Last updated: 2026-02-19 02:30 AM Â· Data: 8.5 years (2017â€“2026) Â· BTC/ETH/SOL Â· 1m/15m/1H Â· 10 approaches, 99+ configs</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const PF_START = 1.20, PF_BEST = 1.45, PF_TARGET = 2.00;

const improvements = [
  {
    num:"#1", name:"ATR Normalization", status:"done", date:"2026-02-18",
    desc:"Replace fixed % thresholds with ATR(20)-based dynamic thresholds across all timeframes.",
    metrics:{pf:1.19, trades:7595, wr:"50.0%", totalR:688, rpt:0.09, scope:"All pairs"},
    verdict:"âœ… Total R doubled (+105%). WR +3%. PF unchanged (1.19). ATR finds more valid setups â€” same edge density, double the opportunities. Good foundation but NOT the PF unlock."
  },
  {
    num:"#2", name:"Pivot Detection (4 Variants)", status:"failed", date:"2026-02-18",
    desc:"Tested volume-weighted, ATR min swing, HTF confirmation, wider fractal lookback. All 4 failed.",
    metrics:null,
    verdict:"âŒ DEAD END. Volume filter killed trades AND PF. ATR min swing â€” no improvement. HTF confirmation â€” too loose on 1m/15m. Wider fractals â€” destroyed trade count (lb20+ = 0 trades). Swing detection is not the bottleneck."
  },
  {
    num:"#3A", name:"Stop Hunt â€” Wick-Only", status:"done", date:"2026-02-18",
    desc:"W/M state machine requiring wick surpass past leg 1 extreme (wick â‰¥ 0.1Ã— ATR). Recovery window 0â€“7 bars.",
    metrics:{pf:1.20, trades:3379, wr:"43.4%", totalR:380, rpt:0.11, scope:"BTC only"},
    verdict:"âœ… Matched baseline PF 1.20 with different logic. Recovery window crucial (rw=0 â†’ PF 1.12, rw=7 â†’ PF 1.20). Shorts stronger (~1.28) vs longs (~1.12). 1H best TF (PF 1.56). Tighter ATR bands = higher PF."
  },
  {
    num:"#3B", name:"Stop Hunt â€” Any Surpass", status:"best", date:"2026-02-18",
    desc:"Removed wick requirement entirely. Phase 2 accepts ANY surpass (wick or body close). Multi-bar reversal handled natively.",
    metrics:{pf:1.22, trades:5129, wr:null, totalR:644, rpt:0.13, scope:"BTC only"},
    verdict:"â­ NEW ALL-TIME BEST PF 1.22. +69% more trades and +69% more R vs wick-only. Recovery window NOT needed (rw=0 wins). Longs improved (1.12â†’1.18). Key insight: removing wick requirement unlocked body surpasses = the blind spot in ALL previous tests.",
    insight:"Wick requirement was blind spot"
  },
  {
    num:"#3C", name:"Bars After Surpass (0-7)", status:"best", date:"2026-02-18",
    desc:"Properly split Phase 2 into pre-surpass (wait for 2nd leg, 20 bars) and post-surpass (wait for close back, 0-7 bars). Previous tests had a hidden 20-bar window disguised as 'rw=0'.",
    metrics:{pf:1.23, trades:4661, wr:42.6, totalR:600, rpt:0.13, scope:"BTC only"},
    verdict:"â­ NEW ALL-TIME BEST PF 1.23. bas=0 (true same-bar) is weak (PF 1.12). bas=1 is the biggest jump (+0.05 PF). Plateau at bas=4-5. Best: ATR 1.5Ã— bas=5. At ATR 2.0Ã—: bas=1 PF 1.17, bas=5 PF 1.17 (same PF, more trades)."
  },
  {
    num:"#4", name:"Leg1 Fix (Swing=Leg1)", status:"failed", date:"2026-02-18",
    desc:"Changed M/W detection to use leg1 as swing reference instead of requiring 3 peaks. Tested to catch patterns the algo was missing (e.g. Feb 15 BTC 1H trade). Two variants: all 3 fixes, and fixes #1+#3 only.",
    metrics:{pf:1.08, trades:8733, wr:"â€”", totalR:"â€”", rpt:"â€”", scope:"BTC only"},
    verdict:"âŒ Catches the example trade but floods with weak patterns. v1 (all fixes): PF 1.08, 8,733t. v2 (partial): PF 1.09, 8,074t. Both far worse than champion 1.23."
  },
  {
    num:"#5", name:"AI Council 5-Filter", status:"failed", date:"2026-02-18",
    desc:"Consulted Opus + Grok 4.20 + Gemini Pro + ChatGPT. All 4 agreed on 5 filters: swing=leg1, min dip depth, surpass band min/max, close-back confirmation, context filter. Tested 15 configurations.",
    metrics:{pf:1.13, trades:"varies", wr:"â€”", totalR:"â€”", rpt:"â€”", scope:"BTC only"},
    verdict:"âŒ ALL 15 configs scored PF 1.09â€“1.13 â€” ALL worse than champion (1.23). The filters remove noise but ALSO remove legitimate big winners. Council was unanimous but wrong about the path."
  },
  {
    num:"#6", name:"Teacher Method (Steve Mauro)", status:"failed", date:"2026-02-18",
    desc:"Level detection by time persistence (hold bars) instead of swing detection. 4 sub-tests: original, halved gap, daily reset (Ivo's idea â€” key unlock), surpass band grid.",
    metrics:{pf:1.15, trades:3462, wr:"39.2%", totalR:313, rpt:0.09, scope:"BTC only"},
    verdict:"âŒ Without daily reset: ALL lose money (PF 0.66â€“0.82). Ivo's daily reset insight was the key unlock (PF 0.77â†’1.13). Band grid best: ATR 2.0Ã— bas=7 â†’ PF 1.15. Honest levels but lower quality than V11c swing detection. Path exhausted.",
    insight:"Daily reset = key unlock"
  },
  {
    num:"#7", name:"3-Box Filter", status:"best", date:"2026-02-18",
    desc:"Use first level range to project 3-Box boundary (box3 = 3Ã— level range). Filter: only enter when L3 lands within X% of projected box3. Tests: ATR 1.5Ã— and no-ATR, tolerance 5â€“30%.",
    metrics:{pf:1.46, trades:288, wr:"46.2%", totalR:71, rpt:0.25, scope:"BTC only"},
    verdict:"â­ FIRST TIME ABOVE PF 1.23! 20% tolerance â†’ PF 1.46, 288t, ~2.8/month. R/trade nearly doubles (+0.13â†’+0.25). Later superseded by level spacing (#8) as standalone champion.",
    insight:"3-Box validates Market Maker Method"
  },
  {
    num:"#9", name:"Spread Standalone", status:"done", date:"2026-02-19",
    desc:"Level spread = (L3âˆ’L1) / total move. Tested standalone on 4,647 champion trades (BTC, all TFs). Unlike spacing (ATR-based gap), spread measures the ratio of level range to total move.",
    metrics:{pf:1.24, trades:4218, wr:"42.6%", totalR:573, rpt:0.136, scope:"BTC only"},
    verdict:"âœ… Weak standalone filter. Best at volume: spread â‰¥0.2 â†’ PF 1.24 (barely above baseline). At â‰¥0.6: PF 1.28 but only 1,371t. At â‰¥0.8: PF 1.32, 271t. 1H shows strongest effect (PF 1.86 at â‰¥0.6). Does NOT beat spacing (1.31) or 3-Box (1.47). Spread confirmed as secondary/supporting filter, not standalone breakthrough.",
    insight:"1H edges strong at â‰¥0.6"
  },
  {
    num:"#8", name:"Level Spacing Filter", status:"best", date:"2026-02-19",
    desc:"Ivo's insight: horizontal price action creates fake levels that are just consolidation noise. Filter: each gap between L1â†’L2 and L2â†’L3 must be â‰¥ XÃ— ATR. Tested 0.1Ã— to 2.0Ã— ATR. Also tested combined with 3-Box.",
    metrics:{pf:1.31, trades:2607, wr:"43.3%", totalR:451, rpt:0.17, scope:"BTC only"},
    verdict:"â­ NEW CHAMPION! â‰¥0.75Ã— ATR spacing â†’ PF 1.31, 2,607 trades (26/month). Trades with <0.3Ã— gap: PF 1.10 (dead weight). 15m PF jumps 1.09â†’1.34. Combined with 3-Box 30%: PF 1.45, 330t. Level spacing is the first filter that improves PF WITHOUT destroying trade count.",
    insight:"Clustered levels = dead weight"
  }
];

const insights = [
  {
    icon:"ğŸ•³ï¸", title:"Wick Blind Spot",
    text:"ALL previous tests (V11c honest, V11c stop hunt V1/V2, V12 streaming) required wick â‰¥ 0.1Ã— ATR for surpass entry. This systematically filtered out body surpasses â€” candles that close past the extreme and reverse over 2â€“3 bars. Removing this requirement immediately unlocked PF 1.22.",
    evidence:"V2 best: PF 1.20, 3,379t â†’ V3 (no wick): PF 1.22, 5,129t (+52% trades, +69% R)"
  },
  {
    icon:"ğŸ”„", title:"Recovery Window Not Needed",
    text:"When wick was required, recovery window was critical (rw=0 â†’ PF 1.12, rw=7 â†’ PF 1.20). With wick requirement removed, rw=0 wins â€” body surpasses reverse cleanly without needing multi-bar recovery.",
    evidence:"V3 rw=0: PF 1.22 Â· V3 rw=7: PF 1.22 (same PF, fewer trades needed)"
  },
  {
    icon:"ğŸ¯", title:"Edge Concentrates at Tight Bands",
    text:"Across all tests, tighter ATR bands (1.0â€“1.5Ã—) consistently produce higher PF. Wider bands (2.5â€“3.0Ã—) add more trades and total R but dilute edge. Best balance: ATR 1.5Ã— (PF 1.22 with decent volume).",
    evidence:"V3: ATR 1.0Ã— PF 1.19 Â· ATR 1.5Ã— PF 1.22 Â· ATR 2.0Ã— PF 1.17 Â· ATR 3.0Ã— PF 1.18"
  },
  {
    icon:"ğŸ¤–", title:"AI Council Was Wrong",
    text:"All 4 AI models (Opus, Grok 4.20, Gemini, ChatGPT) unanimously recommended 5 filters. All 15 tested configs performed WORSE than the unfiltered champion. The filters remove noise but also remove the big winning trades that make the system profitable.",
    evidence:"Council best: PF 1.13 Â· Champion: PF 1.23. Every filter config lost ground."
  },
  {
    icon:"ğŸ”„", title:"Daily Reset Unlocks Teacher Method",
    text:"Without daily reset, Teacher Method loses money (PF 0.66â€“0.82). Ivo's insight: market makers operate within sessions, yesterday's levels are stale. Adding daily reset jumped PF from 0.77 â†’ 1.13. Still not enough, but the right idea.",
    evidence:"Teacher no-reset: PF 0.77 Â· Daily reset: PF 1.13 (+47%)"
  },
  {
    icon:"ğŸ“", title:"3-Box Validates Equal Measured Moves",
    text:"When L3 lands within 15â€“20% of the projected 3-Box boundary, PF jumps to 1.47 and R/trade nearly doubles. This proves the Market Maker Method's core prediction â€” equal measured moves â€” has real predictive power. The question: how to increase trade frequency without losing this edge.",
    evidence:"3-Box 15%: PF 1.47, 205t Â· 20%: PF 1.46, 288t Â· No filter: PF 1.23, 4,638t"
  },
  {
    icon:"ğŸ“‰", title:"PF Ceiling at 1.20-1.23 Across All Approaches",
    text:"Every approach (ATR normalization, stop hunt variants, council filters, Teacher Method, spread filter) converges to PF ~1.20-1.24 at full trade volume. Only Level Spacing (1.31) and 3-Box (1.47) break through â€” quality filters that trade frequency for edge density.",
    evidence:"ATR: 1.19 Â· Stop Hunt: 1.22-1.23 Â· Council: 1.13 Â· Teacher: 1.15 Â· Spread: 1.24 Â· Spacing: 1.31 Â· 3-Box: 1.47"
  }
];

// V3 (Any Surpass) bands â€” rw=0
const v3Bands = [
  {band:"ATR 1.0Ã—", trades:3725, pf:1.19, totalR:396},
  {band:"ATR 1.5Ã—", trades:5129, pf:1.22, totalR:644},
  {band:"ATR 2.0Ã—", trades:6126, pf:1.17, totalR:604},
  {band:"ATR 2.5Ã—", trades:6771, pf:1.18, totalR:677},
  {band:"ATR 3.0Ã—", trades:7248, pf:1.18, totalR:718}
];

// V2 (Wick-Only) bands â€” rw=7 (best for V2)
const v2Bands = [
  {band:"ATR 1.0Ã—", trades:3379, pf:1.20, totalR:380},
  {band:"ATR 1.5Ã—", trades:4658, pf:1.20, totalR:534},
  {band:"ATR 2.0Ã—", trades:5579, pf:1.16, totalR:496},
  {band:"ATR 2.5Ã—", trades:6179, pf:1.15, totalR:546},
  {band:"ATR 3.0Ã—", trades:6621, pf:1.16, totalR:598}
];

// ATR Normalization bands (all pairs)
const atrBands = [
  {band:"Baseline 2%", trades:3362, pf:1.20, totalR:336},
  {band:"ATR 1.0Ã—", trades:4223, pf:1.19, totalR:386},
  {band:"ATR 1.5Ã—", trades:6011, pf:1.18, totalR:530},
  {band:"ATR 2.0Ã—", trades:7595, pf:1.19, totalR:688},
  {band:"ATR 2.5Ã—", trades:9047, pf:1.17, totalR:732},
  {band:"ATR 3.0Ã—", trades:10138, pf:1.17, totalR:843}
];

// Full results tables
const tableSections = [
  {
    id:"baseline", label:"Baseline & ATR",
    rows:[
      {name:"Baseline (Fixed 2%)", trades:"3,362", wr:"47.1%", pf:"1.20", totalR:"+336", rpt:"+0.10", avgW:"+1.29R", notes:"Original honest V11c (all pairs)", hl:false},
      {name:"ATR 1.0Ã— (all pairs)", trades:"4,223", wr:"50.3%", pf:"1.19", totalR:"+386", rpt:"+0.09", avgW:"+1.15R", notes:"Tightest ATR band", hl:false},
      {name:"ATR 1.5Ã— (all pairs)", trades:"6,011", wr:"49.8%", pf:"1.18", totalR:"+530", rpt:"+0.09", avgW:"+1.16R", notes:"", hl:false},
      {name:"ATR 2.0Ã— (all pairs)", trades:"7,595", wr:"50.0%", pf:"1.19", totalR:"+688", rpt:"+0.09", avgW:"+1.15R", notes:"â­ 2Ã— total R vs baseline", hl:true},
      {name:"ATR 2.5Ã— (all pairs)", trades:"9,047", wr:"49.8%", pf:"1.17", totalR:"+732", rpt:"+0.08", avgW:"+1.15R", notes:"", hl:false},
      {name:"ATR 3.0Ã— (all pairs)", trades:"10,138", wr:"49.7%", pf:"1.17", totalR:"+843", rpt:"+0.08", avgW:"+1.15R", notes:"Most trades", hl:false}
    ]
  },
  {
    id:"pivot", label:"#2 Pivot Detection âŒ",
    rows:[
      {name:"A: Volume-Weighted", trades:"2,579", wr:"49.6%", pf:"1.13", totalR:"+171", rpt:"â€”", avgW:"â€”", notes:"âŒ Killed trades AND PF dropped", hl:false, dead:true},
      {name:"B: ATR Min 1.0Ã—", trades:"7,571", wr:"50.1%", pf:"1.17", totalR:"+627", rpt:"â€”", avgW:"â€”", notes:"âŒ Slightly worse", hl:false, dead:true},
      {name:"B: ATR Min 1.5Ã—", trades:"7,229", wr:"50.1%", pf:"1.17", totalR:"+610", rpt:"â€”", avgW:"â€”", notes:"âŒ Slightly worse", hl:false, dead:true},
      {name:"B: ATR Min 2.0Ã—", trades:"6,631", wr:"50.4%", pf:"1.17", totalR:"+528", rpt:"â€”", avgW:"â€”", notes:"âŒ More filtering = worse", hl:false, dead:true},
      {name:"B: ATR Min 3.0Ã—", trades:"4,808", wr:"51.1%", pf:"1.14", totalR:"+321", rpt:"â€”", avgW:"â€”", notes:"âŒ Heavy filtering, poor PF", hl:false, dead:true},
      {name:"C: HTF Confirmation", trades:"6,770", wr:"50.5%", pf:"1.18", totalR:"+602", rpt:"â€”", avgW:"â€”", notes:"âŒ Filter too loose on 1m/15m", hl:false, dead:true},
      {name:"D: Fractal lb10/20", trades:"451", wr:"53.0%", pf:"1.20", totalR:"+39", rpt:"â€”", avgW:"â€”", notes:"âŒ Too few trades", hl:false, dead:true},
      {name:"D: Fractal lb15/30", trades:"58", wr:"53.4%", pf:"1.34", totalR:"+8", rpt:"â€”", avgW:"â€”", notes:"âŒ 58 trades = meaningless", hl:false, dead:true},
      {name:"D: Fractal lb20/40", trades:"0", wr:"â€”", pf:"â€”", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Zero trades", hl:false, dead:true}
    ]
  },
  {
    id:"v2", label:"#3A Wick-Only",
    rows:[
      {name:"ATR 1.0Ã— rw=0", trades:"2,047", wr:"â€”", pf:"1.12", totalR:"+151", rpt:"â€”", avgW:"â€”", notes:"BTC, same-bar entry", hl:false},
      {name:"ATR 1.0Ã— rw=3", trades:"3,030", wr:"â€”", pf:"1.17", totalR:"+302", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— rw=5", trades:"3,247", wr:"â€”", pf:"1.19", totalR:"+357", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— rw=7", trades:"3,379", wr:"43.4%", pf:"1.20", totalR:"+380", rpt:"+0.11", avgW:"+1.56R", notes:"â­ Best PF (wick-only)", hl:true},
      {name:"ATR 1.5Ã— rw=0", trades:"2,853", wr:"â€”", pf:"1.15", totalR:"+264", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=3", trades:"4,214", wr:"â€”", pf:"1.19", totalR:"+451", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=5", trades:"4,498", wr:"â€”", pf:"1.20", totalR:"+511", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=7", trades:"4,658", wr:"43.3%", pf:"1.20", totalR:"+534", rpt:"+0.11", avgW:"+1.57R", notes:"BTC, highest Total R at PF 1.20", hl:true},
      {name:"ATR 2.0Ã— rw=0", trades:"3,409", wr:"39.4%", pf:"1.12", totalR:"+241", rpt:"+0.07", avgW:"+1.71R", notes:"BTC, same-bar entry", hl:false},
      {name:"ATR 2.0Ã— rw=3", trades:"5,045", wr:"41.6%", pf:"1.14", totalR:"+418", rpt:"+0.08", avgW:"+1.60R", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=5", trades:"5,377", wr:"42.3%", pf:"1.15", totalR:"+477", rpt:"+0.09", avgW:"+1.57R", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=7", trades:"5,579", wr:"42.6%", pf:"1.16", totalR:"+496", rpt:"+0.09", avgW:"+1.55R", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=0", trades:"3,791", wr:"â€”", pf:"1.13", totalR:"+289", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=3", trades:"5,593", wr:"â€”", pf:"1.14", totalR:"+466", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=5", trades:"5,958", wr:"â€”", pf:"1.15", totalR:"+524", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=7", trades:"6,179", wr:"â€”", pf:"1.15", totalR:"+546", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=0", trades:"4,057", wr:"â€”", pf:"1.14", totalR:"+330", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=3", trades:"5,989", wr:"â€”", pf:"1.15", totalR:"+527", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=5", trades:"6,383", wr:"â€”", pf:"1.16", totalR:"+586", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=7", trades:"6,621", wr:"â€”", pf:"1.16", totalR:"+598", rpt:"â€”", avgW:"â€”", notes:"BTC, most Total R (wick-only)", hl:false}
    ]
  },
  {
    id:"v3", label:"#3B Any Surpass",
    rows:[
      {name:"ATR 1.0Ã— rw=0", trades:"3,725", wr:"â€”", pf:"1.19", totalR:"+396", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— rw=3", trades:"3,783", wr:"â€”", pf:"1.19", totalR:"+392", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— rw=5", trades:"3,816", wr:"â€”", pf:"1.18", totalR:"+387", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— rw=7", trades:"3,848", wr:"â€”", pf:"1.18", totalR:"+387", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=0", trades:"5,129", wr:"â€”", pf:"1.22", totalR:"+644", rpt:"+0.13", avgW:"â€”", notes:"â­ BEST HONEST PF EVER", hl:true},
      {name:"ATR 1.5Ã— rw=3", trades:"5,213", wr:"â€”", pf:"1.22", totalR:"+643", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=5", trades:"5,261", wr:"â€”", pf:"1.22", totalR:"+638", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— rw=7", trades:"5,303", wr:"â€”", pf:"1.22", totalR:"+640", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=0", trades:"6,126", wr:"â€”", pf:"1.17", totalR:"+604", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=3", trades:"6,236", wr:"â€”", pf:"1.17", totalR:"+612", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=5", trades:"6,298", wr:"â€”", pf:"1.17", totalR:"+609", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— rw=7", trades:"6,346", wr:"â€”", pf:"1.17", totalR:"+612", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=0", trades:"6,771", wr:"â€”", pf:"1.18", totalR:"+677", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=3", trades:"6,894", wr:"â€”", pf:"1.18", totalR:"+690", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=5", trades:"6,965", wr:"â€”", pf:"1.17", totalR:"+685", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.5Ã— rw=7", trades:"7,019", wr:"â€”", pf:"1.17", totalR:"+688", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=0", trades:"7,248", wr:"â€”", pf:"1.18", totalR:"+718", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=3", trades:"7,381", wr:"â€”", pf:"1.18", totalR:"+735", rpt:"â€”", avgW:"â€”", notes:"BTC, most Total R (any-surpass)", hl:false},
      {name:"ATR 3.0Ã— rw=5", trades:"7,457", wr:"â€”", pf:"1.17", totalR:"+733", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 3.0Ã— rw=7", trades:"7,514", wr:"â€”", pf:"1.17", totalR:"+737", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false}
    ]
  },
  {
    id:"leg1", label:"#4 Leg1 Fix âŒ",
    rows:[
      {name:"Leg1 Fix v1 (all 3 fixes)", trades:"8,733", wr:"â€”", pf:"1.08", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Floods with weak patterns", hl:false, dead:true},
      {name:"Leg1 Fix v2 (fixes #1+#3)", trades:"8,074", wr:"â€”", pf:"1.09", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Barely better", hl:false, dead:true}
    ]
  },
  {
    id:"council", label:"#5 AI Council âŒ",
    rows:[
      {name:"Config 1 (baseline filters)", trades:"â€”", wr:"â€”", pf:"1.09", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ All 15 configs PF 1.09â€“1.13", hl:false, dead:true},
      {name:"Config 2â€“5 (strict)", trades:"â€”", wr:"â€”", pf:"1.10", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Filters remove big winners too", hl:false, dead:true},
      {name:"Config 6â€“10 (medium)", trades:"â€”", wr:"â€”", pf:"1.11", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Same pattern", hl:false, dead:true},
      {name:"Config 11â€“15 (relaxed)", trades:"â€”", wr:"â€”", pf:"1.13", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"âŒ Best council config, still < 1.23", hl:false, dead:true}
    ]
  },
  {
    id:"teacher", label:"#6 Teacher Method",
    rows:[
      {name:"Test 1: hold=5, gap=0.5 ATR", trades:"26", wr:"â€”", pf:"0.77", totalR:"-4.2", rpt:"â€”", avgW:"â€”", notes:"âŒ No daily reset, loses money", hl:false, dead:true},
      {name:"Test 1: hold=10, gap=0.5 ATR", trades:"29", wr:"â€”", pf:"0.66", totalR:"-8.3", rpt:"â€”", avgW:"â€”", notes:"âŒ Worst performer", hl:false, dead:true},
      {name:"Test 1: hold=20, gap=0.5 ATR", trades:"33", wr:"â€”", pf:"0.73", totalR:"-6.7", rpt:"â€”", avgW:"â€”", notes:"âŒ", hl:false, dead:true},
      {name:"Test 2: hold=20, gap=0.25 ATR", trades:"46", wr:"â€”", pf:"0.82", totalR:"-5.4", rpt:"â€”", avgW:"â€”", notes:"âŒ Best without reset, still loses", hl:false, dead:true},
      {name:"Test 3: hold=7, gap=0.25 ATR, DAILY RESET âœ¨", trades:"3,210", wr:"37.7%", pf:"1.13", totalR:"+251", rpt:"+0.08", avgW:"â€”", notes:"â­ Ivo's daily reset = key unlock", hl:true},
      {name:"Test 4: ATR 1.0Ã— bas=3", trades:"2,260", wr:"â€”", pf:"1.09", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"Band grid test", hl:false},
      {name:"Test 4: ATR 1.0Ã— bas=7", trades:"2,820", wr:"â€”", pf:"1.11", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"", hl:false},
      {name:"Test 4: ATR 1.5Ã— bas=3", trades:"2,690", wr:"â€”", pf:"1.11", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"", hl:false},
      {name:"Test 4: ATR 1.5Ã— bas=7", trades:"3,150", wr:"â€”", pf:"1.13", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"", hl:false},
      {name:"Test 4: ATR 2.0Ã— bas=3", trades:"2,980", wr:"â€”", pf:"1.12", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"", hl:false},
      {name:"Test 4: ATR 2.0Ã— bas=5", trades:"3,240", wr:"â€”", pf:"1.14", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"", hl:false},
      {name:"Test 4: ATR 2.0Ã— bas=7", trades:"3,462", wr:"39.2%", pf:"1.15", totalR:"+313", rpt:"+0.09", avgW:"â€”", notes:"â­ Best Teacher (still < champion)", hl:true}
    ]
  },
  {
    id:"box3filter", label:"#7 3-Box Filter â­",
    rows:[
      {name:"ATR 1.5Ã— 3Box=5%", trades:"69", wr:"43.5%", pf:"1.03", totalR:"+1.3", rpt:"+0.02", avgW:"â€”", notes:"Too strict", hl:false},
      {name:"ATR 1.5Ã— 3Box=10%", trades:"142", wr:"43.0%", pf:"1.21", totalR:"+17.0", rpt:"+0.12", avgW:"â€”", notes:"Near champion PF", hl:false},
      {name:"ATR 1.5Ã— 3Box=15%", trades:"205", wr:"47.3%", pf:"1.47", totalR:"+50.7", rpt:"+0.25", avgW:"â€”", notes:"â­ NEW ALL-TIME BEST PF", hl:true},
      {name:"ATR 1.5Ã— 3Box=20%", trades:"288", wr:"46.2%", pf:"1.46", totalR:"+70.9", rpt:"+0.25", avgW:"â€”", notes:"â­ Best balance (more trades)", hl:true},
      {name:"ATR 1.5Ã— 3Box=30%", trades:"437", wr:"44.6%", pf:"1.37", totalR:"+88.1", rpt:"+0.20", avgW:"â€”", notes:"Good volume, strong PF", hl:false},
      {name:"ATR 1.5Ã— no filter", trades:"4,638", wr:"42.7%", pf:"1.23", totalR:"+603.0", rpt:"+0.13", avgW:"â€”", notes:"Champion baseline", hl:false},
      {name:"No ATR, 3Box=5%", trades:"117", wr:"41.0%", pf:"0.98", totalR:"-1.5", rpt:"-0.01", avgW:"â€”", notes:"âŒ Loses money", hl:false, dead:true},
      {name:"No ATR, 3Box=10%", trades:"245", wr:"40.4%", pf:"1.02", totalR:"+3.3", rpt:"+0.01", avgW:"â€”", notes:"Breakeven", hl:false},
      {name:"No ATR, 3Box=15%", trades:"364", wr:"42.9%", pf:"1.23", totalR:"+46.9", rpt:"+0.13", avgW:"â€”", notes:"Matches champion PF", hl:false},
      {name:"No ATR, 3Box=20%", trades:"486", wr:"42.6%", pf:"1.23", totalR:"+65.0", rpt:"+0.13", avgW:"â€”", notes:"Same PF, more trades", hl:false},
      {name:"No ATR, 3Box=30%", trades:"724", wr:"42.5%", pf:"1.22", totalR:"+89.4", rpt:"+0.12", avgW:"â€”", notes:"Near champion", hl:false},
      {name:"No ATR, no filter", trades:"7,803", wr:"42.3%", pf:"1.16", totalR:"+713.0", rpt:"+0.09", avgW:"â€”", notes:"Raw unfiltered", hl:false}
    ]
  },
  {
    id:"spread", label:"#9 Spread Standalone",
    rows:[
      {name:"Baseline (no filter)", trades:"4,647", wr:"42.5%", pf:"1.21", totalR:"+570", rpt:"+0.123", avgW:"â€”", notes:"Champion set baseline", hl:false},
      {name:"Spread â‰¥0.05", trades:"4,629", wr:"42.5%", pf:"1.22", totalR:"+574", rpt:"+0.124", avgW:"â€”", notes:"Minimal effect", hl:false},
      {name:"Spread â‰¥0.1", trades:"4,550", wr:"42.5%", pf:"1.22", totalR:"+571", rpt:"+0.126", avgW:"â€”", notes:"", hl:false},
      {name:"Spread â‰¥0.15", trades:"4,426", wr:"42.3%", pf:"1.22", totalR:"+548", rpt:"+0.124", avgW:"â€”", notes:"", hl:false},
      {name:"Spread â‰¥0.2", trades:"4,218", wr:"42.6%", pf:"1.24", totalR:"+573", rpt:"+0.136", avgW:"â€”", notes:"â­ Best at volume", hl:true},
      {name:"Spread â‰¥0.25", trades:"3,982", wr:"42.2%", pf:"1.23", totalR:"+529", rpt:"+0.133", avgW:"â€”", notes:"", hl:false},
      {name:"Spread â‰¥0.3", trades:"3,666", wr:"41.7%", pf:"1.22", totalR:"+468", rpt:"+0.128", avgW:"â€”", notes:"", hl:false},
      {name:"Spread â‰¥0.4", trades:"2,958", wr:"41.5%", pf:"1.23", totalR:"+397", rpt:"+0.134", avgW:"â€”", notes:"", hl:false},
      {name:"Spread â‰¥0.5", trades:"2,154", wr:"40.3%", pf:"1.20", totalR:"+255", rpt:"+0.118", avgW:"â€”", notes:"PF dips", hl:false},
      {name:"Spread â‰¥0.6", trades:"1,371", wr:"40.8%", pf:"1.28", totalR:"+225", rpt:"+0.164", avgW:"â€”", notes:"â­ Jumps! 1H PF 1.86", hl:true},
      {name:"Spread â‰¥0.7", trades:"709", wr:"37.5%", pf:"1.18", totalR:"+81", rpt:"+0.115", avgW:"â€”", notes:"Noise at low count", hl:false},
      {name:"Spread â‰¥0.8", trades:"271", wr:"36.9%", pf:"1.32", totalR:"+55", rpt:"+0.201", avgW:"â€”", notes:"High PF but thin", hl:false}
    ]
  },
  {
    id:"spacing", label:"#8 Level Spacing â­",
    rows:[
      {name:"Spacing â‰¥0.1Ã— ATR", trades:"4,302", wr:"42.4%", pf:"1.23", totalR:"+556", rpt:"+0.13", avgW:"+1.66R", notes:"Minimal filter", hl:false},
      {name:"Spacing â‰¥0.3Ã— ATR", trades:"3,724", wr:"42.6%", pf:"1.24", totalR:"+519", rpt:"+0.14", avgW:"â€”", notes:"", hl:false},
      {name:"Spacing â‰¥0.5Ã— ATR", trades:"3,199", wr:"43.1%", pf:"1.27", totalR:"+486", rpt:"+0.15", avgW:"â€”", notes:"Strong sweet spot", hl:true},
      {name:"Spacing â‰¥0.75Ã— ATR", trades:"2,607", wr:"43.3%", pf:"1.31", totalR:"+451", rpt:"+0.17", avgW:"+1.71R", notes:"ğŸ† NEW CHAMPION", hl:true},
      {name:"Spacing â‰¥1.0Ã— ATR", trades:"2,107", wr:"42.4%", pf:"1.28", totalR:"+336", rpt:"+0.16", avgW:"â€”", notes:"PF dips â€” loses good trades", hl:false},
      {name:"Spacing â‰¥1.5Ã— ATR", trades:"1,312", wr:"40.9%", pf:"1.24", totalR:"+185", rpt:"+0.14", avgW:"â€”", notes:"Too aggressive", hl:false},
      {name:"Spacing â‰¥2.0Ã— ATR", trades:"795", wr:"40.9%", pf:"1.34", totalR:"+158", rpt:"+0.20", avgW:"â€”", notes:"High PF but thin", hl:false},
      {name:"No filter (baseline)", trades:"4,647", wr:"42.5%", pf:"1.21", totalR:"+570", rpt:"+0.12", avgW:"+1.64R", notes:"", hl:false},
      {name:"â€” Bucket: 0.0-0.3Ã— ATR", trades:"923", wr:"41.8%", pf:"1.10", totalR:"+51", rpt:"+0.05", avgW:"â€”", notes:"âŒ Dead weight (PF 1.10)", hl:false, dead:true},
      {name:"â€” Bucket: 0.3-0.5Ã— ATR", trades:"525", wr:"40.0%", pf:"1.11", totalR:"+33", rpt:"+0.06", avgW:"â€”", notes:"âŒ Weak", hl:false, dead:true},
      {name:"â€” Bucket: 0.5-1.0Ã— ATR", trades:"1,092", wr:"44.3%", pf:"1.25", totalR:"+149", rpt:"+0.14", avgW:"â€”", notes:"Real levels start here", hl:false},
      {name:"â€” Bucket: â‰¥2.0Ã— ATR", trades:"795", wr:"40.9%", pf:"1.34", totalR:"+158", rpt:"+0.20", avgW:"â€”", notes:"Best quality", hl:false},
      {name:"â‰¥0.5Ã— + 3-Box â‰¤20%", trades:"237", wr:"46.0%", pf:"1.50", totalR:"+64", rpt:"+0.27", avgW:"â€”", notes:"Combined: high PF", hl:false},
      {name:"â‰¥0.75Ã— + 3-Box â‰¤30%", trades:"330", wr:"46.1%", pf:"1.45", totalR:"+80", rpt:"+0.24", avgW:"â€”", notes:"Old Challenger", hl:false},
      {name:"â‰¥1.0Ã— + 3-Box â‰¤20%", trades:"191", wr:"46.6%", pf:"1.58", totalR:"+59", rpt:"+0.31", avgW:"â€”", notes:"Highest PF (before sweet spot)", hl:false},
      {name:"â‰¥0.75Ã— + Box 10-25% + Step 0.5-0.7", trades:"41", wr:"68%", pf:"4.34", totalR:"+43.5", rpt:"+1.06", avgW:"+2.02R", notes:"ğŸ¯ NEW CHALLENGER", hl:true}
    ]
  },
  {
    id:"topfix", label:"#10 Real TOP + Forward Boxes ğŸ”¬",
    rows:[
      {name:"CURRENT: top = ph[-1] (nearest swing high before L1)", trades:"41", wr:"68%", pf:"4.34", totalR:"+43.5", rpt:"+1.06", avgW:"+2.02R", notes:"Sweet spot baseline", hl:false},
      {name:"TEST A: Walk back to highest connected swing high", trades:"â€”", wr:"â€”", pf:"â€”", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"â¬œ Not tested yet", hl:false},
      {name:"TEST B: Flip logic â€” TOP first, project boxes forward", trades:"â€”", wr:"â€”", pf:"â€”", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"â¬œ Not tested yet (major rewrite)", hl:false},
      {name:"TEST C: Walk-back 1Ã— L1â†’L3 window", trades:"â€”", wr:"â€”", pf:"â€”", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"â¬œ Not tested", hl:false},
      {name:"TEST D: Walk-back 2Ã— L1â†’L3 window", trades:"â€”", wr:"â€”", pf:"â€”", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"â¬œ Not tested", hl:false}
    ]
  },
  {
    id:"bars", label:"#3C Bars After Surpass",
    rows:[
      {name:"ATR 1.0Ã— bas=0", trades:"1,836", wr:"â€”", pf:"1.11", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC, too strict", hl:false},
      {name:"ATR 1.0Ã— bas=1", trades:"2,611", wr:"â€”", pf:"1.16", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— bas=4", trades:"3,259", wr:"â€”", pf:"1.18", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.0Ã— bas=7", trades:"3,517", wr:"â€”", pf:"1.18", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC, plateau", hl:false},
      {name:"ATR 1.5Ã— bas=0", trades:"2,567", wr:"â€”", pf:"1.17", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— bas=1", trades:"3,642", wr:"â€”", pf:"1.22", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC, biggest jump", hl:false},
      {name:"ATR 1.5Ã— bas=4", trades:"4,527", wr:"â€”", pf:"1.22", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 1.5Ã— bas=5", trades:"4,661", wr:"42.6%", pf:"1.23", totalR:"+600", rpt:"+0.13", avgW:"â€”", notes:"â­ NEW CHAMPION", hl:true},
      {name:"ATR 1.5Ã— bas=7", trades:"4,850", wr:"â€”", pf:"1.22", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC, plateau", hl:false},
      {name:"ATR 2.0Ã— bas=0", trades:"3,080", wr:"38.7%", pf:"1.12", totalR:"+217", rpt:"+0.07", avgW:"â€”", notes:"BTC, true same-bar", hl:false},
      {name:"ATR 2.0Ã— bas=1", trades:"4,372", wr:"40.3%", pf:"1.17", totalR:"+438", rpt:"+0.10", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— bas=5", trades:"5,576", wr:"42.0%", pf:"1.17", totalR:"+562", rpt:"+0.10", avgW:"â€”", notes:"BTC", hl:false},
      {name:"ATR 2.0Ã— bas=7", trades:"5,808", wr:"42.3%", pf:"1.17", totalR:"+563", rpt:"+0.10", avgW:"â€”", notes:"BTC, plateau", hl:false},
      {name:"ATR 3.0Ã— bas=1", trades:"5,177", wr:"â€”", pf:"1.19", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC, best at 3.0Ã—", hl:false},
      {name:"ATR 3.0Ã— bas=5", trades:"6,612", wr:"â€”", pf:"1.18", totalR:"â€”", rpt:"â€”", avgW:"â€”", notes:"BTC", hl:false}
    ]
  }
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// --- Progress bar ---
const pct = ((PF_BEST - PF_START) / (PF_TARGET - PF_START)) * 100;
document.getElementById('pf-fill').style.width = Math.max(2, pct) + '%';
document.getElementById('pf-text').textContent = pct.toFixed(1) + '% to target';
document.getElementById('pf-current').textContent = PF_BEST.toFixed(2);

// --- Improvement cards ---
const cardsEl = document.getElementById('cards');
improvements.forEach(imp => {
  const c = document.createElement('div');
  const statusClass = imp.status === 'best' ? 'best' : imp.status;
  c.className = 'card ' + statusClass;

  const statusLabels = {done:'âœ… Complete', failed:'âŒ Failed', best:'â­ Best Result', running:'ğŸ”„ Running', pending:'â³ Pending'};
  let metricsHtml = '';
  if (imp.metrics) {
    const m = imp.metrics;
    metricsHtml = `
      <div class="metric"><span class="k">Profit Factor</span><span class="v ${m.pf>=1.22?'neutral':m.pf>=1.20?'up':'down'}">${m.pf}</span></div>
      <div class="metric"><span class="k">Trades</span><span class="v">${m.trades.toLocaleString()}</span></div>
      ${m.wr ? `<div class="metric"><span class="k">Win Rate</span><span class="v">${m.wr}</span></div>` : ''}
      <div class="metric"><span class="k">Total R</span><span class="v up">+${m.totalR}</span></div>
      <div class="metric"><span class="k">R/Trade</span><span class="v">+${m.rpt}</span></div>
      <div class="metric"><span class="k">Scope</span><span class="v" style="color:#888">${m.scope}</span></div>
    `;
  }

  c.innerHTML = `
    <div class="step-num">${imp.num}${imp.date ? ' Â· '+imp.date : ''}</div>
    <h3>${imp.name}${imp.insight ? '<span class="insight-tag">ğŸ’¡ '+imp.insight+'</span>' : ''}</h3>
    <span class="status ${imp.status}">${statusLabels[imp.status]}</span>
    <p style="font-size:0.85em;color:#aaa;margin-bottom:10px">${imp.desc}</p>
    ${metricsHtml}
    <div class="verdict">${imp.verdict}</div>
  `;
  cardsEl.appendChild(c);
});

// --- Insights ---
const insEl = document.getElementById('insights');
insights.forEach(ins => {
  const d = document.createElement('div');
  d.className = 'insight-card';
  d.innerHTML = `
    <h4>${ins.icon} ${ins.title}</h4>
    <p>${ins.text}</p>
    <div class="evidence">ğŸ“Š ${ins.evidence}</div>
  `;
  insEl.appendChild(d);
});

// --- Band charts ---
function renderBandChart(containerId, data, highlightBand) {
  const el = document.getElementById(containerId);
  const maxR = Math.max(...data.map(b => b.totalR));
  data.forEach(b => {
    const col = document.createElement('div');
    col.className = 'band-col';
    const h = (b.totalR / maxR * 170);
    const isHl = b.band === highlightBand;
    const isBl = b.band.includes('Baseline');
    let bg;
    if (isHl) bg = 'linear-gradient(180deg,#ffd93d,#aa8800)';
    else if (isBl) bg = 'linear-gradient(180deg,#ff6b6b,#aa3333)';
    else bg = 'linear-gradient(180deg,#4a9eff,#2255aa)';
    col.innerHTML = `
      <div class="band-value">+${b.totalR}R</div>
      <div class="band-pf">PF ${b.pf}</div>
      <div class="band-extra">${b.trades.toLocaleString()}t</div>
      <div class="band-bar" style="height:${h}px;background:${bg}"></div>
      <div class="band-label">${b.band}</div>
    `;
    el.appendChild(col);
  });
}

renderBandChart('band-chart-v3', v3Bands, 'ATR 1.5Ã—');
renderBandChart('band-chart-v2', v2Bands, 'ATR 1.0Ã—');
renderBandChart('band-chart-atr', atrBands, 'ATR 2.0Ã—');

// --- 3-Box Filter charts ---
const box3Atr = [
  {band:"5%", trades:69, pf:1.03, totalR:1.3},
  {band:"10%", trades:142, pf:1.21, totalR:17.0},
  {band:"15%", trades:205, pf:1.47, totalR:50.7},
  {band:"20%", trades:288, pf:1.46, totalR:70.9},
  {band:"30%", trades:437, pf:1.37, totalR:88.1},
  {band:"None", trades:4638, pf:1.23, totalR:603.0}
];
const box3NoAtr = [
  {band:"5%", trades:117, pf:0.98, totalR:-1.5},
  {band:"10%", trades:245, pf:1.02, totalR:3.3},
  {band:"15%", trades:364, pf:1.23, totalR:46.9},
  {band:"20%", trades:486, pf:1.23, totalR:65.0},
  {band:"30%", trades:724, pf:1.22, totalR:89.4},
  {band:"None", trades:7803, pf:1.16, totalR:713.0}
];

function renderBox3Chart(containerId, data, color) {
  const el = document.getElementById(containerId);
  const maxPF = Math.max(...data.map(b => b.pf));
  data.forEach(b => {
    const col = document.createElement('div');
    col.style.cssText = 'flex:1;display:flex;flex-direction:column;align-items:center;gap:4px';
    const h = Math.max(4, (b.pf / maxPF) * 140);
    const isPeak = b.pf >= 1.40;
    const isLoss = b.pf < 1.0;
    let bg;
    if (isPeak) bg = 'linear-gradient(180deg,#ffd93d,#aa8800)';
    else if (isLoss) bg = 'linear-gradient(180deg,#ff6b6b,#aa3333)';
    else bg = `linear-gradient(180deg,${color},${color}88)`;
    col.innerHTML = `
      <div style="font-size:0.78em;font-weight:700;color:${isPeak?'#ffd93d':isLoss?'#ff6b6b':'#fff'}">PF ${b.pf}</div>
      <div style="font-size:0.65em;color:#888">${b.trades}t</div>
      <div style="width:100%;border-radius:6px 6px 0 0;height:${h}px;background:${bg}"></div>
      <div style="font-size:0.72em;color:#888">${b.band}</div>
    `;
    el.appendChild(col);
  });
}

renderBox3Chart('box3-chart-atr', box3Atr, '#ffd93d');
renderBox3Chart('box3-chart-noatr', box3NoAtr, '#4a9eff');

// --- Tables with tabs ---
const tabsEl = document.getElementById('table-tabs');
const sectionsEl = document.getElementById('table-sections');

tableSections.forEach((sec, i) => {
  // Tab button
  const btn = document.createElement('button');
  btn.className = 'tab-btn' + (i===0 ? ' active' : '');
  btn.textContent = sec.label;
  btn.onclick = () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.table-section').forEach(s => s.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('sec-'+sec.id).classList.add('active');
  };
  tabsEl.appendChild(btn);

  // Table
  const div = document.createElement('div');
  div.id = 'sec-'+sec.id;
  div.className = 'table-section' + (i===0 ? ' active' : '');
  let html = '<table><thead><tr><th>Test</th><th>Trades</th><th>WR</th><th>PF</th><th>Total R</th><th>R/Trade</th><th>Avg Win</th><th>Notes</th></tr></thead><tbody>';
  sec.rows.forEach(r => {
    const cls = r.hl ? ' class="highlight-row"' : (r.dead ? ' class="dead-row"' : '');
    html += `<tr${cls}><td>${r.name}</td><td>${r.trades}</td><td>${r.wr}</td><td>${r.pf}</td><td>${r.totalR}</td><td>${r.rpt}</td><td>${r.avgW}</td><td style="font-size:0.8em;color:#888">${r.notes}</td></tr>`;
  });
  html += '</tbody></table>';
  div.innerHTML = html;
  sectionsEl.appendChild(div);
});
</script>
</body>
</html>
