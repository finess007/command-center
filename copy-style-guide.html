<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0a22617733644132e9ca7a2f56c9ce672a0cb910f55f2db849b3448ab16d296406774bdab0251a5870ef01875d6e086eaa1d979efb008d99938e7538d22caeafed54b2caad9cee213b1a68288f75f8f20b3bec159091c2b060313be7b224ab4e5d34589c7a7160fb0d0179f946c212470787ca11f04e9df9c2d092b2b76839275b96d3170d48223c3e607e375e831ab6b153b8429ba3956d74043915b32c9d9421b6df734b02d41d642a2fd584c755f6a258a6af221561e56a781a46a79647e47ee69eaa2ff87ed469bc85a847132f31bcc178ebbada6fa74ee1355a769d4b67c7891d6b6fea74bc63e8930a7adcb2f36a3c96e91aaff1b5169f18ced119e235b3fd26ea26633c63244ef0143ef7919cd99e671ec0bafe820ee752b996236042a2caddf48c8badf03c17f34bad2c7f1755e9cf88c927115be1a9109198791d5ca5559faa828620d9ee2b49239b8bde66c123bfcb5690fe0866729aa0398f79dd2c9811e8a1f62e1620ec39c6160843825526b6e3b592c84855050c20dfdd15ea06f0a3ad39bc1e8c20b5510a1716661d5fafe26149986babafeeea69cf363b22bf0e60a069626418b034bd9d726d28c91b40eb131eff450cfb66816cf8dca3568d0f8bebcde9365677b3c6f962d68897175bf1bf9c1d558c2fc91e26c3a9ec309b8290c1dd9bd5b2ba5f324330d39091e86a3771f209624edb4f6f4d56dc7c6bcca3f3068ae708d3d5184e4c20acef235cb1802bfdfb1b6645ce73ac0a2e4ccedf54fdac900821aac516baa37c221ca01145ddf55c636ab90c501a20ec4b997fc22f4ed06bfd790f909080ca413af8d03ae5d20f18d25c534b73a5093be7bd26a5f9ecfce35e059c115d9f1a2d9a3fca79c2d363125f979f684feed945d5f3a4fc540a5aed8e077c977c75f0c1b760f93f4d25714f07530fbe439552659380427ccb96f0ba7918b1dac6513b9c43f5f7c9347d3286133f6e644c44c21b98f0da42b514f70865bfb4f5dc8b5d4b317582efb519d9024e8fdbf1e43fdb40cae945973ddd371e749435c7d38083f32d6653b03a0eff2a0f89eab3d39f185d5b3a388e111ea175177e964b7b4cce1b7a83eec1adf64e8890fae93873e9de30d5f195433e1aea819d64b506c7f6e13d4be97065b2646785cf5619a222ffa78662a929b05fe852a15b9c6410321793fb7c6c38286e3992d94e808fe2e26c39af340e17d86a644ca396c217aecd65151676f9e1e3f0e652edb68548972565e94269b1c49b7916ebf2f1b3ed4d041012a7a383ee94965750c85cdec5ff00c36a3b028e438f81d0fe6c232c25d1a60900abdd7370a23d3947e6fc68c5c67cf6721cb497db4fda50a23869d23348c4d361d1a31904138e3b88c65404e735a12cbb571008f9adf6b9e53b202fb3ba28be6d3110bcf5b3a95120e8d7022ca178c382a036141e76b721e6646c6f8b39e6fecdfd2718af2096d5ee9b36c82836b42a3d6cf21156287f0a66ce1e820c84daca472ed3f683d7526b3d77e4206abc0d3454e113fde74f67cce01b58805b22dda66bd3a2c7db16afc5868250b6d622a4f684d169133005d4d99916f5e6a93438b8e0b9ff1f2a2e714fa2077cdfacc97f3630aefc5453b5d191ed4d990cad121d1dee642ab1b4fb39d703899d83ea7e3e77bd05da6a70e014e637833f03030ca3a090cee9639e7abff7ca0e97783fd2002629a17425b39ead43139ae1420991d0766b2f883d628a7153492d9025d37a8fe7626545540bd922f358984718e3c67ca2947e4c859d3991447375afd71ce9cf62ff8f0249bbb95e43e8e86d1c3c6482c4030d29ddbdbab21108dc7b70c6945f60aafa52bb8b818143c750c96a6ea1a68d25c220df4cd63ece43af3ab508baf33e47edd0c64b306dca36fa86b3f6ad0797e92a8434978ef605fa735d3765ae67ac96d94665fd82910a374bd51103998cc8fbac6e82a7840f5bec0ae078d8c48c248a0b4697dcaf2f8fada288aad359a173507dfe1a1e1fea192834a6199701701cc1972c03b4ed9d1e2e5d12a96c826e55e603c31bab18d52c4ea445b75dc56b784a399d83f0388ef803c9a13215d46a14af654cc35daa592431d357497ac3f4da9a8fa8c6d23ff157e560e7302dc08a395492e70c9ab52fe5107300aecdb2d851b4a91deaeff297e74caf72a4969402204b52a33ae37e95e997d1b465140326cc50fc3265d3f8700dfc290d7af87d14c971665480efb25376fee5a969f029d672d5e5105d4b4bd1006d26b3f00ade7c9ed9afb96481ebb049a3a597a61c3f36dcf3192c64602316166b3b88c25cc97e66b8e60989026815bb774dc72ff9348b4e5eaabda302753dcd160769d573a161dbfb534a3d18bb50980f60296948d9200f19518299aa86eaadffee34bc2a6a96ab036fb56a8df4686e6267cf2a35c27a09a087f53f1345d2707d942de4f2b60f044f40e951a5a38abaeea048909920940a6417887ac47192a0e348ea4e9904b5250e7ea4ac3004916d13e79fecf9ceb8a6688044e31609498ab528cc81725733f682bc8fceb38f8287be1796dc099392ce090f6f32f805f8fe9dbb88ad7ada48669a2d4c2953c61532c67a9b5c0fb39ae735671bcdfe399d06a1f0351f2d3297fa38ba50886bc84f4121ce73a8570e80215c8baad5dd8c3895a82cc1c691c569eccc7605daa9953a968e3a60a42b643c830ae66c5e247a013a7ce785410bce1b911068e6b56d713fe09b60e73b09e10dc79f2e846a0446460a6f582f87e474cb09dd38dbc2b2f39bcc31433caf5c5d3bb80a62e8c1b591c9d0fe3fc863172984a7f0dc5113e6ef6bfbecda2536e5b6305695eb8fae730766292f98b4cd36b3ee7e48ace23be154c2bdd3216d17e7b92ddfc21b03ed4eacd6606c08834ef76a69b798d0b71e644398009b6b7f4c0a65f879bf74a3b615290938dde2d8775848dec43a2b8f87826f34f9931f833267dbb9de3cffee9eadc5b5d11105e1042fc387b81830ae469b7376566c25cd2131cdfc830b0554e5c65dd0a5f02ac77c279161863c80fff371fafaacfc0d1e8cbdc87a15c44868374992162fd25686efa29f2b6eefcc2c2ef263dafed454cdaab3f6127d1e0b9f577f5825aed91fd5ef12ce91845102fc0a430a16354b96e937deb172e43056abb0062edf4504baabdfa5723fd0fd9da008ee64e983ed1c70a5c0e344c42faf3375551db3a31e350111ac2122bd02e3939751ce29f7f1d73d3ad8a29cd0b76bbe7d3f9ed60eaf7f77e9ceb5ee813e9983f2d337add56cf926ef179c8635f7f6c40d0de44338ab7919437ab04868d2741ff41522607967a42c5dbcf109bd694000184ca5ec136c0d9ba3f6d6faa62c980cb254b4dc8e534a246031544cbda2c4d42cffcfdd9072884af62c64c1d4852976b753426e40aa78abf3f981d1e143a22f279c13e9a2f32e6f34b502d0f08bcf70fc1b9de87a487ef3d3db49748686cb25be1ed0b4de84dedeabaa89743b30d961bea524e31a0115759a82d953fa1df7d8fe247db3bdd23843425eb842d7bb041dd76acf715bd62f5f6d168531303959247b9d6ded8594adb73118bd153d5ebb42d7ece9254e86889270a7a59ba65f6a5f0b28e8178c0f62c0ed353aeec5f0e971b9fa68682fb9bc336a8fd1eaf8fae15952f123a2b6d455fa67268a81ab2ecdd9d868f1957f056964e339c66e546f35c768e6985c2f6b89859d2857748734d917e6d35e363b9651f67589131dfe667157f79433debcb65702542eb244540392f17ac46c24b63be7c54775be421e3077650a660957761e1d52731441b59214bd38e995511aedd230e9ee8efa097a9ddc61dd70d2690cae26cd2a721d29260fba29c1c15cdbc5b2288eb6decf8489aaa428fbbf7f6aa96cad9283f8c99d0b95bd4dc8ab1422ab42afd9e0bd9a822a7a18e24377975792337db9b2ab4dfdacf9f094e884523388ef2b609021b9094ff2237b4574474ca3ba9b2bb95098215cffee443e68da8e3a3dd9f6d6d1cf4aa61cc07f035f86c62e49d169cb4215fec9c5763d69661ebbec2043181d7a2e022988164fcca289fdb3117eec5e88e37e3a99a8913dac75369d268104e307d058f197180481b90a098026cb261b011c9a63e90e51929206b848edb86e949e69e5d115a4515374323b78112d86558dee2f558831deb5989dc9d640a184aba961c2030ac8bf6341f5ff8e661dfcd42f501b4f1cb94268b8b91b7a1fffccb8408819de767a849c24e184097ee5eb3424712f93dc65072a29dfac8952ee90615fd7cff46747b3a0b99fb16c1f65ce4df250da806bbaa5c004086ffddbccc4276d00cfce6ab70be7ad33e99bb35265f17a8625271350e551573940671e1998a2c0284afd39116c7b396b57f92e67da9620f4cc698279e8934f067c531761a192f960224e5321cf8647d3201db7d73078630653e499716e8d22c87afc9f5562137c9852442e8ed250111d3c0cd594b3bc39dc457894b58fcbe8bc1e1f57dd11f254c0456ea7bc72e41856f75349ac8ebde0865aa1b87d2576b24498a2a5a49314ae301f81725984dfcb3b9302c6a7f190b2ce90fb33bd8edb468878f4ab13641dd0bd7fe6ec40d234afcaff2474ef354b8f4deffd00f5defa4500793b580829ed578772dabdb6799d3588c92de7412d99eebdedeb824b52508c3a51ab24191ac195c12a8664b7f46c865466cf2843c0c6f881c84ea4c64b68081673aeb0c87474474c1cdd0bda422199b497f8c32a3e35f0a451417db048dc1954617a01ebac05d35aaee5777d87fdf21f4ab2a028cae975127eb9c22a7a8cee0f1d391b5f138a24bff4b863ec25d63959d174d8dc0a82f03aae189156869cc0232772cf7e19988d0fa7fea14c901708b690f1368c12806d2f8cffccd5ec45d839f123b02983fe835397141680e6217ab7dd5160919352087bbd764d61c4fb506c785e25d86a4e4b2e76f9c017eb111c7d3ff06db87fc0bca5ced76efcf7dee975ca739184cfd78f737901c814b96cbc534516b04c6cd508fe33b4e1db3920fd65423528dc57f3141272471c15fc924fea4bf8d826656f3f9aad643cce09156c0bc3860cd36cf756d9c9bc105f6c61dcb8541023a3776cae6606b119d626f40e1fc3429d02d0d9a843766ff19232a553f304617c742889475c503c33aac530e661a14d47402d3b9c3656a7266f858e0b42571a1014b4f493ba541148aebf3597f2d0ca8c159e7cdc7dd2c1efeceadc8f45d8b872bdf3cc57f69d7cc59cd5eb944f925c27b39684f9e8f55955e963efaed6c43cae472b39c4dedb1a862640944adf228d40e9f11c73a823aa14bd18889c3891cb1041bbec6065d3e3437d6dbe71e7223dadd5535a24f1c6bd62c1a3c5425fe43ad82a7b2586f9fcc77dad781722eddb6ad3c2f493adcae88924e142429e1f70c03f1b7544822afe9567cb4d3a1d3fdca32d59b3f66ff1049f067aad84fbf1872025e910a3b04712796e7f8cfb570e428771260fb7823a78b15aaa6eaf40df4aaf21b6f7a6174bee87d46afe7d0dd871106a823b84bfc2b33260fab0d5085b3da1a6f82e63a7067699d92c203cfeda0f7b9f148f668f6c71f4f44fe6e0bdaef9d61b4a73e2eea06cde1e0be9725421295af1ade5dfaf6d608c5403dcb06d99a478bc71739975a4179134af04faba68e832e0474fc8d0595ac57d246442a48f3685499a964e251488d869266d3a91b9a4aa9c16d6e66edb48aef46e2d1762e17add832b2a9769a2770299bb92676c3b4be484b3d7c9e8c71bca6fe4635fe55cea27d647288df216abd237a90777e071a4e58fa77a67cd967cafbee1b5f1f5110e823baa59bef7f3d94d4f7bca6d65944d047968d0d8c70ac7c03c3324123f5381bf948adaf944d2141c3236a0ca83cd296167fc4513958678fb458461dbb28b633e80be405253b04921af536af9868254ce15d6fdcacafeed2ecc2761df56524e522e5812af5c5bc203d176f7f61f8ab120bcb62cf41aba908034a8ce1f59d77cb64419ba78df552a0fbb4ff1ab8f11a62c753c45bd9f123580cfba090fa3ea1fd49aacb992a7d0e1dac5bce8b13dcf56f5a10ce3d51256f3b2f5be420168d7147dad890b1db36123211f1f6465ff0fc80153b79a62f0da3e2e01ac527671ea046f115d0caa0274af049458987c8bd713edc4f016e372e45960925870291dbaea65427426551d0e1bcbdc5fa02d600af8b49f65abb980bf92e6b8cd70dd095ff1cd1d02bc5c620e6f516aced732f790e8bbb440a62b654c5f994e5a84076f8ff22e8b89574496089dfde974bcb30b814e80c26924eaacd6087f4f733be92f8f30b2654f219b6273375992c7b86b180f156b3a5db71ee5e3746901be433cdda2231795d8b254225f6ac7cafe62e208391ae71a0d0a0eaf64efa9e0fac5829b84a542a7064a1feeda95ae77356c68eef86ce1f9f5846245bc4c776a2373c71aa6ac4a66d43cf5d66d2d6c280596de1731660d6893eeed254f5c5e8412823d517702cd37b681dddb42f82a97f47a7a79f5d61868c0303aacfa696fe530f875eda94bd55e9192d55051639700acffe00e15a7783d54d92581d200f441a02b8fc41a0768a9454667db450a7bf6064dc27ca95ef180e80da6f65fcb3b7034f89e5a4c9cfcadd1ef2eb8d01a52dd89c6319da69b33f5219ca5fa89b87908dfcec413f42ac0279d4d11dc365844ddacf343f949f2772f357db5c1be7e9cf1726f35e76d063ab0a4b70033bc1eeb8830e022ccd59d804f23148a63e170345eaf89128d88622e1da1d8fd0e8fe7d14bd2fa9c5d535b94d47f9280a09b6a6e6cd7a6c6e1652258edba184a40634b0730a567c7f7939bd717795212a1cebc99a5244739a3dd68dadc35dee862f5e8883999f202f30dea2574ffd392af0ed65e64eaf0432d8b9054e8743483e917ff25b85072c1529589bbaba11fc24c2ed43769dae364c4bbbc016fa9c53c5c3904176482cec1dbaf29298b856d0e3a3faa813cd13df9b45a8b6580bd296a97272287f5965852b1ecea56f5c9f3b025d85e1de518e462e11dcc87f679d5837e22975d2d00aa09115c9eb60858e0587a4bda6b311255a5bd2c86baa1c3b4dcebe8bd784466d935a086a2e1058757ec408917186f5197d39661e47c2378e4dd13e9cda7bb8c157ad1429e93f6f0f6f14231f06dd212bfb72cb338487d5ebd67c0b4196106979aaaaf26c00824fff69aee19d5ffdaf0ecf44451f856e0d28bf47e3d603878faf698c11e5784a6e63b8567565b065f09bc0f4925f47fe1bd5ae71a81a0ae6a4b11aad696f59879e0509af16a6729b83bf52deadb511f83f36761aef6ce23cd1c8c62a411829dfe7d146d6b7736f44cf4c57aa670087de0f9aafba5d34746841d2b472e5424c10fd771c194fdd739ce97a432555fa6474238f1af28b7a6d36908bf7fc8dbadf401e896679947a0b2d0ede43fd22d2b59ee2120cf8b9b6d90e3a9514f6df8ab4f67e5567f18f02c09cba02de2da08e55c4c2b96a0083ac3951a636b2e206f6f37f6c0c26a24daf34514008cad3ac650f1f1d1311d7c21e3bdba7b1620bff6aaf1b183360f90db2d7e88107589adde9cb05021debc832605149bc47c75b6664c8bee6a452357d57f26bff3fb5329116903ac46b8a92c8f979fe3eaa28ddeb3920e0bafee4461f43c10d7c0b0adb332d081d07bf375786e82d3829f407f959ea7053027ad38dbe39fc8bb1c4da68d8f60d0502331eff6a03a3ebb06ef80a3bae0e183d817fc05ef282d157b1a0f85ed9c8f03e60aab86c93ba89377c1e771a722c8d993bc686fe8c5c1e68b5e656b0f184569bbcda40ca19cebbd206edc8c228693c1e81372a0bd74c1d849527fd18ab98900ee598c9490f366135792b149929330432a62ffe9373c84e26b8cfa7535499436f9e13abe568bc453f8747d3159fb840a22061a94c67733928a0381c8238136a7fc92080dd250e79e45fbf6778a97296846822fc1feb91d27364e5eafce5be7810abbca2e6b22f444f608bb352119b2cc1df0acbb0d70695dabd9a21a15fc1d35f6d6b5e63b40cf67e02fd7a8fce5b6d6201f81e40d263994b1cb6ae8f6c000882aeddb85ccacbc76f4f25a73df45990114e5c309d6a1e3db7ab23afe606abf760f40170aa3c40cb7b66d25d98e0441c2176894b81db04802c97542b29f47c1a66e4c067f7da73c839905207cd3f3fed605eefb5305c29adac2609c6eed1fa7bfee45d30bc2494fb92abd77c416d5a36a00e88769a77fbd7fd5ff733c59cc54556cfd93a58f771e85dfef2b51f7c636ea677a053da732229753f4cab2c0d92e26ec5a421fac29f36db9cc60cfb5a9aa81e5cbf9705c1f5a7cbbed41da5de5d6126e0f6f60953fae1daee6f430905e95688aa0cb51498d6766fd0de033771fa404927364106e31266b2eb1c0398e6b61447c8494493eb710046cdbd9df836c17b5e823e22516864255168f2817e1b96c011e1688f3134c596dd6712d95ac56f4a6080185507bbeefe8ef9d94eb3f96a1fe273c38ecb4be030cef5f42707af1212110b073db50a815f7a5e7436d6559a43b05ac98ab04b1d60b48c2726bdbb41ed94dc59336e92da217c5aa88d49dec2cda6f5557bc27440b20839b50036c21cf6621e016054c90a448bc797b2320b7a0ebc989987968819ab33d365bc452bcd2f562010f4a94b99c1fa79257d72448e12bd6b3fa09f5e5527e29b7adef74b3aa4de0ff83ca202d4ee58bc6c31a170b0395cd6a166e09c63d2080aa8a1978544773c0c9a181dc591328609aa9d5a80730158b3340aa073131aea0af97fcd2320f071022a5ffd39676e55b7ffa147a2f2efe7bf948982319a3293807333fd5a46a636ab5119d02d7877a051b510f7f041e98215c83e71a21b92fe3ab6526ee6ebf55a20089bc52c35bb2ba0bddacaccf57824bd58338fbd47fa81f8750eff6ccaa7a40519bfac62fb7654d6d48800363c5ba65653c78c235b8e81f0fad3f3ad461ff00ee072822f9db140b877ddf45f1fa007334610ef248398cafaa19f8341130b096492c8d7c7a5d21f4d892d26d274aec9c19bd7df4ba707ff5a46158d0e3c93bbd2f0faf544648a9c2c132c85ff8c4d9a859e496f7e6a42fb5422118e41c8befc49b6c2b74f6b26f0023ca2950d4fd70b640880e1afa55c47797fcb99c26d0f8afec6360f7ad4b1c3af830294c059cf2c16bfe0263bed288413f42d13fcda66f6a518d736c38554c3432e826645ff83c9ebbe5dba5f8c166bde83ce9f39090f7c61283a746c9b13d1ac9b25c11fb5098b30be356ed69e2e81efc389006c8cc4843404ca7c052f905469a2636dead2f85ca1d7fa34a28c7a9c2efce976fa8347b4d1eccc097d0047976fa2539d592f2909e178c6fa51fd59be9f66461078fd76c35e2d7485ff584ff5574cfb34d388689d2760a155cbde2794c6baaf02255845ffc701a522192a999528761f5bbf0f7155a899f81eae52879e3a4297c28ee454788c7c0c37b3a1ebc330ad7ac4bbd9cb73931b58ad9c572193abb59fd851294101812afa11d118f2b9e3dfec9a08cb12ba0b12c9858c57fe37ffd8db823d68550f837e671bc4033588b27f5edf113b1b6f650c16d90f82264563f724fc675c25132bad691a3467aeae69808959147a051e181501a8d9c96b086de2839bf40ede42168b81b0fdafb398908b0fce2467efbcb31bb8a5674f4bcb99512d1313e041a79907f965d6e0ebbbadd830c5a03e79d53497edb084f9f83ece0d76ba1b77a471271c0976d3110e75358985590d130ee5849ceaf01f70109c82a9af69b3cafbab40a50c9f7670e0c341e37e565880ea27b30bb0808088d212fac9a2e4ba015f6ae5e537ef4d9ecd43101ea8c2eb5429f0238b8306c3e63d85efb3a51c627e115f7e83fcd203a484bc6b4f23f3c02dc54d1c2a607d1f7ac58f4db5a3d308fe5b94fb45f4012514ebe1980bcfc92696b6dd1a9434d85881b2b6d75daffaffc233e503f2cf7706c1c0cb6bb632bffa525a1039658312414b4f011dee97040a17668d13bdf1fceced4b90a549606fadf0ecfca36b0e73d9920f60e5ffb7fdcc106fad809e2495c6860e1baf632258216ef54ea0faa9330c09e80d6d813306c337e53b0617908d4cc6810c81663a1af96dfbd01bbca4ab1571472a6541943401eb0b31ca9fc5441a060f8ce55c385fc2ef33db32548abfc434e383321e70e2750fd9e6c935006e6e6558e927f33daaa77bf780c1c0abca506061ab09f1323c2624eab50c5b612b2bfd51f779760a19e8a021de116193cb953c6026e7e9d5964f1d4cce010e66186b03fb336d9e82d84b530e84ba7649162833e740d68174c30fe5c436bd8f36d6e0b840bbe5235fa1860b8e7e779d3b82c03820c77ef61d2c12126dea34fdd14065a0c1e72786253f0d1a0ba071f677676e93cfea237d33ef5d500e5ecf8a255b647d9d28361843f437670ff56aa834c40c55dceec8fa63d21e27c3b91cc3c5da0eebb290a1e7c54a4edfe468f8e28e35053817a0e744a0b8f6b9d713c367dbe68c0760f79c237205659304ef234951a8b4f50cabdde2d86fe4c979086ab96a2bb4c577d05a427d0078913a4562630a633fc63a2ea3e2902b24d38e94f776ec0679ec44a32cdb602a5cd8bdd26ef35369362cc1a71b92322cb502b394374c1146ddc1d903b83f77dae6eb66ba8b1224f9cfafd625a539b84771ebcae989f5527f1ac2fdd8e6aaa702085b95b8c7bd1f0772caa937e7943ca8f6e704e7838abf6731fbb04c997387da396930b55f43ba45cd2250b110e15776fa6c06491e82efc3174210c46edb5b43e935596bf54a677abd776fc6d1fe601b4187b3a0f7fb197d7a650f858b460997c2c31b1944f2a353f7d18b416aff7f309f26a98d547420b111d80a3ae9c8b9e7d53d707f0f1f318593eaf522b048f18b65ac21af869b4a67e228f4b112e7dcd319bc5ea8ba9529332b6dc8bc631543b9001d2e6d83dd9b0a0f968330bc9d08e98fd4e2887bd4b6588981f82918abbf68778b44d344cc0779df515552ce7db7e2a114e8cd2eb19afcdd6c97bb39fd2f23f0456b3caaa363af94b1c5c17677af52c55ce08ffbe70257b36466e1ceadf1491a02ab4a0ae7cc52d24903bd233167bdfb46fcbd6fe38304050710d95272ce77f66a37eb27fcfa1ca2ad36d4afeb9e944e830c187514f3ea982fe74783eb65f69859849ce3c4e82bb428daf339cd475ebbefa889beede530b1e249df05cbfec0fd74078cd3cbc4830199e6db2f0310b201f48c5779032a5343f224a11fc26cf934a7a0e3d925e1ed141bf296d082e13d8b8f9b5333a656f45590d1ed440879c40d3b30a408459c26e41bec9097b2d92cf9fa02f784169b07e424607718166fa5eaf99bc7f24b4c3d886eaecce9e99f53cd6dca2a6c2340d191bd6a704b0f7933c010765a391176c05d3a1dbeac2429f473824a97c0fd946c1dec86f04c8ac1b835a7315d33a0d9bf71b8bd9cc9b1c1efb69779d213a244cc95a4fd449bfae66893e43d0a35b67a26777c36a06cc78ca0a2e4126b927356be03a431b7305ef1596b7ecb553498755aba8cfbc5dc9ce37714a577dc0542e319dd10e2922e9201deda4be934dac06c7e97c4366b437c48dd2c1cf6aec92028b33f9ef57ef201bae54da6339f89f6bf519497aa79532b80f164e914b0b066b8bab084fef9da457d07590e13e342c2593859c34d01550918f7995dc873eafabf4fc47a64c3ea77bd70871d5bd9d802da2fd5057eb1eb130724c7684051cbfb7013de90347484d96eafd82e2400b2364a8023f1f3e14011546be528a96771d0fb0822b8454a69b903d18b74d7f961c882f2cf1b99273773b0996a658d43b0fae3423d8c50bbf2805f202a03fd96bdc5433b836839b96cbd369ad7606f87d33d8bbf496a315f91c46526916b4a36c37e56babd08ad0257d0596af6daace3d8fae024bcf30b454529ed2faffa7b1dab569f322231a3e4cdfac9c9cb852e997e297d3ec685c4cfdcb911c08ae50dae0821fbfa3b210afa1ca0f56290ddaa53feaeb43661f98641a9cd370bb4b43d12a1291292c71e99872eeea537eb35b3c35db9e110f1833bd39bf0f4ca5ce4472c3963136cf78583b1a84b4c33a3bef61a2af0515ad4a171171a8cea63a374bc2e19bd07a8b7a4b93387b6aa51924ae9c05bd603a8158e3849a375df21c15507efec8e84badf90f6393b6edc8f15597ca28cc5b769eb0d96f81ca0d53edbd26af53f92948b652517140b1d4ad89117363369e974d8ad91f40d0aa3a1668d43e52c8aff991393a280d53e1aa831449a2d87bb52f8b57d7fdc9f233868314a1676033dc47cae5fe240d1f6fe1da2674e5f09a34d1228a4e4fa3190796eab009a48f23afa4eb658c10b76d591ec6e7d17f6e6c9d432763c1b6654bd1209a6a8fc017129ecd742fbd40411eadc393324fbbabd8d128409a29e290e6274554181503b5c459745216da12f70ae847668a88ae6a4dea118aea9986825e4a7bd43d56ba1df350f89648b7af6080cb67fabb6b55d8a50473a0a1461aa57043831ec4ce22e712e86b6d44628d24c797c7fca4458dd68e1ab640562f5be4fafb687141e6290cd62757717d21eb82aa565c27f0ae70def27b6bdda34164f474159cd9952f7aab234a778e4dc32785e62b9ff4b784bcc098db588d3c491127eb16ed742757695910368b4d7d4bae88fc75e0c950a1797b54704182cdcfebeba2ed96176756f0d149e33806da430eebc0f0904dac73f07ff9e4c121712be47b3899e412faa1ecef1c98ece996ed1f0c9dbc0ac42a479f7613ee8cced114087c939d8189848f229e87f5cb50eeff94d2d491e7c5ea671fabdb9ddcba3b3fb9605cb0682d116412db0ee4fcb0f3e9ec9ee3f1981722688fcca8078f86e4f636fe2b1085d949b1697301864d402b440228339277c9c86267e6ae620ac18b61492a2e83e1f2815543d2328e22544d54e9acdd37481c9b5ee18818482898a8ab0724d5bd5fd32642b3a904883f3b2bc65b4311d60b2f5bd0fc5f2f1eed3f286d46933537baf65bd0ff6a588943d072424050cb0961f4963341c83a3188b6a84d730d844f4c7764a9e9f045ddf4c91a7a38326cf37ad0845a1ea7fb20f3e9782f5c423f472ad72fef2fc0a17c0fc20801afcaddaffdf872f321f39ad0e86c698b576f3f68dcf86d36cf0980df0990a5f794e690a302603da56a2ff0f0b07a983389b1e267391260ddcde115694817694a9a355fbeb49831d0877c880b1d0d91b2875e1d26463f1ff5e24cc59f46aaeedeff680b53db067c05961ce8cf9573ef6f479daa00800961d96969a19fe59f0d2f87be2543fd7461791fc54603fb5dea76ad9e8c3908cfee7c4de8e828a389a5e3e9a1c7e30e008c505cb164d13d019283f24665db4309fbb8239cb570ceba696a52cebdce25ed15b8a62aa22413f06da1d8a49918dbb7fa795485ae151be9b0a8e655acc7ae91e3cd81ba50cdd558073d2eb44835fa7f499637483cf0207563af550e22304d2d4deab12aebe33b2f77823a995cd730e8de12f099c274331e2a14e0542b9fcbe9b41822076237e0da62346be5c226785738b8da51fb2caa4911c4efab94bd8b399664dcff1b95de0bb067262f875ec2734fa7f965b694291f0e87327736914571b706daf7b022c4c19fd8ce3d0fca8898144d05a13c9e6ad514b058e7f231d5e4f3522b606b597bef64ae861eb63415bd80c4c7c53c34bb1fe9c2f7c3faf1d14db0c9f4aacbfbe8a2f5a2f50b909bfeb13cf51944dd086314f3533d2a75670023faf3d9670bd82695c31b78963c76b55f5fb9932cf2fdb5f3f044d6c84d9b9c47556934dfcad7b0ae060a536a73642463a21c558de9090939bd00d36a315eed21ffeaae946eeb0718d80173ce7f11638e86aebf8bf0a0ff74ecfde3749d326caae0d293a67b5ad39531447147e53d516be56642ac74b4c1bc318d759054a1917acdaaf8bf7ca8d5220280a5a1ba13cb1b05af70c223c8f09e3556afd58abe449d3008dfd3613efb6d6c1558bce26abb999da498aadff197d4cf12478e6c1e7bbb499238634ed46f82f81a9bf0b42019af0c2838d920d38f1a721863a8be4ca152877ef80b39a913a10bb2fdfc69d9283b338aaa282e7260ab3e3cc0f1b24e51daf3d7f6e4da6faaa652f96a0b010ee1187b24995c5e9d5bb204bf11e8a295047aaac62d0998b5ac17d360beb358f9aba70d791ac92f12cf8c0143c4d07b4b3de78d66d2eebb4c9b3133c15199e08c74ac7abc61b4aea97107c4c79b0851b82593a5ed7301e00fc9e7655947a7c4036d8c0a4877f37b121bd66ada5e67f48771b5c9dc692a15aee0b0a505a9e7e23edfc32f49709228833373235b286e417ca37023e23a9e4641b65616ef54d7335844cffa77474d9158565ecfb99d0d47b63396d0a8897ca95019693429bc8d3de7a4377fef1894bba0a4516f75e7ff5a2aa7045720f1df6391183234809e13d2a27524a612294cbe24f6a58f85b22872291c26721cc1829aec07789a8afd22fe39dae3360097dea96db90504eee3f241cda477b835f329f2013bf7b38e4231e2bcfaeea2a848a801b76479a6fc380eed29b03e1378e03518098b13c0b3002cefbfc11a31370eb56a09ed7c5311c99152f14b7e95b3ac0d83c4a527997cd429938cf1d16c2ec33aae6a2d5aee014a6d9ee97c437817f186e8d334603a69ea36d73ecdaa81805503cc8bf553de4ff23bb96f0a5acd1b4d4c7713663443a369ebe2d8d794ecece8614e91e42cb3fbe7e80215740840e0562c01bcd69e5f2f86ea057af666bd5b5d1eceb8c75254cd57b1cd48b2304e6bdb6b6648372dd51efc54885f7bfe2f04d150ea3f18cbdef74c546fe9fba3ffd3ab69566835ddfa10b27fbc68c9331ed7c13fee2a347f867000b2fa4e3028e37f958e69b539176f28021c1b7536c96706ec43ac1feed43d50625be23f83fab1a75528a5119ce2c131e06738b85a36646992f2ef2964a2d6c5ad7625296276fe5890ee2bbc6cb506d5be72bba284205c27e7969878db645d6f34444d54e472e7e836078f8a6051a6b9b08440d7a6ba7e3be8acc2317c578111948fc7da44299bb0b90cf06a8ec17b787252428a6f1c6f4090d1c28953a7c139a8b577398b802422f6e1b76aa8092361f0d45b851f5e46372126488cce8ed9d6a024d9aa3e5c02c813fa7f45282bda8c7fdc40b9d6a74e8604875f6ee71751888f61cedd9ea6c27cad35d5fa0324bc22681c38206b8ae5368dd3778384744fe8f2b47050e9b3b28dd565678deb4be067ee0b0c2ea05ab11d166fc5c6fb37df3d67104a0e028976d60d388ae87d99a4433fe406a6f93a010fe4ede35f041729653d74d5578a88f22e8de0596a51773dfca02d52cb45104316f9003ac45ca6cdf876d91c370ee54ee42e3cfb5295e9216e898b9ed29143274ca9c0c9d6a8e5e0682acdd4631a8f92e09c0fe4b0c0433e5b97b26e380e337712da77005c6ea06213482fd684ea76d79b25f6b93100afd361df56fa86bac9ca5410b8178cb8d701ba7a347d15f5adf22892bfab3739f33abc0264678de579ddb89fd2213bad7808642be56fd4358f1d860095fe3a2e98139472cd20ef2b8b99aa52d6514c24c4826443756e1a08042ffbaa5ad5b3fb3fddf6c17f11c74cf50f487afb914a0192383d63d40c0a79f619d49c4f2ea9cbf97008975b69287bf4f94a7f9259fa1505d617c9ce922e1ea1f0a6870e3e5a66ce9d31e585fdfff33625835f5f538e9abe71c1296785fc8f3b826490e83394dd6c5bcbb0a4d6c3030fbe267b32f2736d4e8f175f557c675cfdc205d3b23a5b2177fb517b16fccdf6b42520abe4422b0a7659df5b993b085295f5f2de4b3386c4d9ac5687b518b805bd0d7f0e45b7df9f9da275462af900c9749abbd4badaf8fc714df5c8c813f5cb5a6999dd4ae51f2156a1616b955bd36a2d28c2da463cf122cbf514c4ab2fe07d75a40f424c9aa1694991eeaa035b072e04f3c747d70cbc0645754e45dd2885b2624a4c4d28235ea243e06e7a89d6caaa0ce98cf68774b7c70463175857102ce4797cf68a8a019da815270eef5dfa8070f3aef54fcbcab0b76a5c26551fa161b928c9be01474c99e9f8f6c4d5ff4792d8019d34dbd570d7376a846fbe9ae3b4eaa29b891b0ea51ef02ad8641e9f8fd539138e2c8992a2ce568ef4ac2b119a0d83261bf93d3de9de37404d20eab792d2ca7de4a8bdb5dae3f69687f22db8f45cb9380e7cb80c35a922811dc038857a7dd832596bf5be34ea75747888e72604cf1c06374f195a9f40d49e45723643bee5ed799d5b30c7fc18dd76d2808f9d25017f732bb609f9dcc86421579c2fdb5b03f6a00b7afc66eede64c5e0f6a7f1c6f43bf011848ca77a6d0b109cea878fd773d8fc32f69acfefcab8901caaa2e7015e32913f8d0c6637205e163b1050caf3248461f4d64e880c3f247dff649cf5c29a83f691a9e008eebe4b6c0ae17ff780d3da6294320aa12faadeddf0266e1bd5031d2e72b787dc9d033b9511509000f057747a72d63c7fe2b44a43548a9789b4ab1a5c5a11a432c78f1063b67aa416175dc8b4729061f54cb1c10568f43d47b1fc21def937dda2f014e4ab261af4bc13c6b5bbc487c54cf347fdfff4cddfb54b8b6684f26154be5e37a139bc1dce2f0e9af1066e36f7981590663eb63b7e7431e045ac9b14adb5981e5a13c2f17f9aa02638acedee103ec5330d73a47190e244daacd28ca1cdcabe69f3af9857de476f00073fbc4c8344828d669d85923386e0806da32cd3519bd9da7263dcd13c1cdff144632b90117bfbd08398f4a7642e79241d3b9c419fb32fd4fd2974df67e11b11e79a48fc1b06040159eb4a466eea630bff9aec76cb473ffc765711e80e272cb6c32ad20ac8e51941648bdebfe6989f6b3af56109a2dd0e29e799b5f11b8a492846703d6395a56dc16c6f9fd09e7c1a16d124d8fd65a13383478c1ee9a9685f2c8c11276651d86cea0d3d376d6d11eeb13cb60da89573f1291b438f9893832fe2db32b5ad02754a5a15f1cb690c407731f8106cc73178e91adef9e118104cb04d93602707c03d59dfdedc5bd2693d498e496b83de6c5b7c4ebfd9250fd8caaa19f456e805e284d7449c4921ff24ad7ce17a958e271b93c0f049b8733317cd290f6937c29236e58cba1a4b224da910891c916fff1e43cc1aee35c07ef1aec70cbc9489f8ca3752435a5245160580eef0cf9beaf7b38761085524533aaa982f5e5270436db2a9c5ebfed6bf4a148a4007ae0987f4e2f6c0d06df3db7c6a072b167d04533a6b0a7c87dfb0b0a9a0aabb2ffcca0a7b96e383b95652af914d649fc1cafaf18eeec9b3305e6431cf252ff51dfabd4e357eec4ebdf877eeff8818871ef6d7b4f81ad97020cf91a6b088d4abc193a607763dcf83282a2db677dbf6023389d7716c21c01be08935907d919babe11b38189393de8123b1e1bfbd091fefbe8bdc50dd1e6da4ab40fd8d930440a09f51cad4ddea92d57dff0c2de4d4cc50e13f89fcb0e2849cb6b0cdc5314ba99e14bc46bbce0a34f05ae7e6091bf346a030e644e7dc173d1ec51822aec5e66ed9211c4e14577187fcc9e56d9bd4b2ddaa9ee37b6d91607c051445baef954a50ccaaa99dced9ee14ee2e8956465880b09a356541efd16d9b0cd35b717d17bdfefce969f82b78c2084d8933f3315f07ab45dbe593f96d1fba96c3766e592e71a1216d6efe06029f6d65dc816d87fc7df3448c490877a50b1aef632e19a1d8c866c72dd543028b932c20dcd7213997671c0fdb2609a04b3cec69f5686e2a35291b13e332ac9ae165db362a3f2882c16c68a29c2fe2e0faf4611261a6a37d7808f368837dddc34db90485ba5924d0a36b2b5b5ba1dd622e48bb199428a1d2317c17227697dd1c53bf47d489c75eaf230c1142aeb033e8b59b2434c0bad2a495b88da31e818ab37299f76d2c9966808c18bf783d5ce2e41e34d1c908104df712f17f875984015c916b68c5ad7c368a50693424e9e4f6a6bf4346e10a16d88755b79f1ad5a3602730db4c3e6244533282e02680625d1d3356c157bbde1616ecf29d6966b1a1747c07ad6ea18394fab8fcdcdde47095624b2e36b0eba6e609d6f26fc6ae3279493149729842a59bc517f35aed9e0efc38d7db3ed118889713cfcf578c382b5c10d4faf18105576636dce2f15450eeff58331ac5bc2d66e2a48296815662e1c3c242cc3a353b2114b576cb037296f571d569f8c6b94cf6769df3f8e22152b4d8e0d9e5fae72ccdeb99777be580e78c2c23e6304ca45ff1367ea28925eecaa8b5ad0a0f9c9c62a6adbef2c50ed1f172d07508a7cfd721c1c406555e24265051307085cfac9bd6c7a69452d6ca1fce771f93a76a1b6e798a3be2effd4a0573190ca6db5907850be22400d322e3461507fc0ac943667d9f6bc5926372b9639e237338b00d805839f3632f3eacd7f8c35ec6b23b092fca3d010f666ff46c42cea983469d40c7741017e0dd5d67aeea97185878fd393173f8e79435728d974167a1978838d3f8f2b5f175f4e0c2b9c5d8c12cf2412bcebb8a1742542afd6acbf0148a5e207ba9011d34e44022cc4f8fe026561f03b0613bc0d87e5367ef3b052ec19cdcc91efbd0b9654b826d427bdae676da1a84df51885d96634785e71ddb0b50d11c87cdddaf60e37768ddcd6b12e13848629b9a09ccc3b2a2a1af26790c7332f809a77205c03e57198511012cb89646d0fc14add7e9388f981bc4f8e57365253d9d8e1ad305ccd1b111ae3943a49f6dcad8295b315ac5c00a6a9927d8bf2524b2e1f0b010b03ecd5d815513786888adfa333291ca470772fd89528b016992dc4a140de52b04224122294115b18b7028fb2a2f54f52cd083b281ae2f3fee18bd5ab2a25ec600bc87370f217698941b58959bdc69bcaa17c27a9847a4f2e129d9163c1aea3be01b60705a2e7438b350ecb1e9fb2a31cac4e87332ebda32506819718045c6aee67fe7bb476ef8af175a6e602839ca57b8129ff312883e1d6fb7296d32a145628cfe2df1b026f242ac8ecc463138d2a9423697a1295421b0a629e073ce30bb5a674094561e521be4e43762845b798390cc9aeb7455d0dd8ea964865820983ee1d051add8c574a0affc690f1245c752d7b00337adf771fafeae3585bd83677ada4cb8e68b122a5ea4132be5ddfb9c7692510f0a3e8c7fa3c9bf6cdb4636234eb3a042529b5b538a53e0e77377d6429a198696623910ff85d33a811f23f138837e52dc8fcd25a354b89495ecb44b65cd231479cf9003ab45db3ec42663643e593847f60f4050d8484b045786e70cef15265eba4df6c29f3d7fd77ed72aef72c9927ecdb7ef897589113915abe09d60687d2f728ff6ff4f986c1f5dc9498fd418f64d0bd0b26c1c370de8e371c9e6fa9f11e3a0fe13ffbe60964f2ba5c49eb2bff9120eee2336d564ebad516a3959d258bf890e36963b4e3625338479ef9c47e055c2c63e373a0f8f5ae8a416a4b2038b546a80b62fff44ae80bcf913e7ef3308cca98f1e74d7c5e5f7c77d280191f44429f7a57b8f0e950b0ffe288b93707dfb5c41a7b7c8e83618765f20acdb69e4a09e79a92cc1f5268f99157757410fbb9d8eb7384309c66e3b41e72cac7185b36e530e8d59ca171fee48d56ba6369b7dbfc08c3fbca03cfc5acc7f1ee1fbea295ff0b9fcc2db00a0f4e2b5eb2c3dfd81ea17fafb269621b5c6d5a41be776d5f7c1fd014294bfbb692604586a10da3237969834fb1456d593ce173d507d197313849393306060aa38c9b16778764ed8a66f61eadc5e1babb0e6900ee6e97f6354badc7c1a00bc87e8886ea9fdde4326d100dd304eab17cf9944dfd0acf7742e9ad663e61e480ed384ebb859c4ce3f30b158dc1f0a9c288da52cf8ef20f61d0ad3f632fe04cfdd1ab47f1aacddd614684b9d82ff9b96f09d1f4855e4194dccf03ba56187b36968458a0baef892feec4aeda130099ec76151716d7f55040d3daa6da84da5d118289d711ea4bd8d53c265985de7053ac2af977db132eecf875baa2f869bcafb0efc40330182e7edb0f9b823847fd77add0dfcb4aee039d7dda9964a958e7a29b4e166fc4b2db85a686026c52f39d92e38b3d932c8e4b318281581c3bbd00de96e354c9997c672ef3112133cb06b3654121e53dd14feb14103ef17a11d4aa1267047feba0f1be7e2e129db263a600c9420e80af42d433a9ce22e29665e8e769b765070899bcd8bc04677d7dcef401aef3cd165b977d54a1e972883dd084fcc14c50935d4b7a805ffc60c491548402bf09f8ede5ef38726537c2bd6d4e86b23d2b83283d9a4b241e68fd6f98781bcc219405257af81210baad6a5e9f2e7af9afc6fce4630a12c41c521f4c3100bcb429d2a83a41c96c140dee6bc0ca7bcc3479340a7804923b1e1e6ab980046f6a97410810a1a9cd04275197f05fc27c5b445b8e82cbf359ae298a073935fcad888d426bd5d4b42103088be418970ecc755ff1d30f32e1e14b4b6d1f160bc62ea099cbcbd52280e06f16117ec5bdb78852953e416cd2f5676b451c91e1a61b8cc57f3d46946e33ac3db3b5915ad7fbd6114a7f724afc957f8ed4d2702beea6d5bb27b53ae6ecf722c7b119f7087eb788be39802861007a011d94e890c6a14968b352d7df244040f94c8d7a29736c2b3ca4116aed24e93f4d94d901efca36d3320a17bb6e7967c1b6c312a7073a623b841a6901d507ad8d2097713927d842da6774fb8636abd1172f78ca1d832dc0a1d1a02d63a76c118692e81a0a52cdd2cc514e1282b4e4aab1ad8138a019a42748089a8eed495c373ee839c0e4fce61fce8e6ded7197d9ebe114df36e690e0e478569b59e2b4183eaf07ca884bd6c2247cb17bcde8b33a5fa2f4049931d218ee82254f891c60f108f8ad68d856b1e201637421f14a0039a30e29eeb5b1087546c01007e206a2a933eb9cf6ef7b7a021f8a9b325dc9dcaa7bd4d9018f6dc0bef9504f7561d258c0f1024816076e2ca05904b4f2fe400e6727e0197c8e6520a632b6647dd963efe2ae1060421c0ab02b49b22ab5391614773c4b2af5da8a68c113112cefa9bdf461b98eb0640a7544a765aa47cc9473a8bf68be3bbde710c393fef64df8e086415f824ebe33e3dfbbf528c918bda16bbdbf2d6411616800275089a5e697d5710d63700ec53755055986ca1674677826395d35c237a8680861c9baaeb3ab41ccba7caf9638613d01180ac1a10f03c9fdbcddbc8009c511b25f54edda13e91d23f9ef5f4b93668d1554acc15cf8d99548ca2b2a40f4ead603a5b6b280f3143fbfcf74d5576b261a47a93abed84d211007c0fabd91c7c96dd92608e9d2123883ac409cbc4666dc4a9b125d773fc7e5ec268e88ac2a15db347be468d739b86095528cbb7260516272027f0a0943e9621f06d7f31dfaa9a81f1e3ad7398c32e4327980e0f6939e9fe4eb60a66bcdfc2708474d17fe33da379614674512aee0c0f7901ff392e67c56f7bac777a703e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
