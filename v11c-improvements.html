<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"88f202bc90a882548aaf1d614918e6ddc53bfebf1f1ab8114115a3f5b6bc80a1a1a4bfe4a09d22bc9f8b0e3019106a342130e978e03360f4d18ebbf0d689bc3a290942b163792e1a0feae1a4a769bb17f00981fe58e17ed1d07373686e6b9f0fb93650be1f9497d2e735e49621a0b102eb638fb42553b9113c45ae714110b40e5edfd0ff667bf1b5ace991420ce8f9d0318f468232c78decc5b135f8960333106b968d87521da407e7b9493a9346676f3ce606110846e3d5841a0cd5a65e62d85a6737a738ace74b34e75022996bf952fad1bf406a06e436e8baebe2257ac4be7979a0c26c5dcc09763e6f5664a83f55e1b9606c9fde56a1d46d4bfe8d381a2d0475adcae3b55ea5b26e91d15ac00e2bd593727cf7de6a9a59e7698a5b0f1d3f281564c28a293842068c3128f3892957ef0e35ec68c7d6e2b0013525eef7c13d9047aab6359ff04d432ea5aaf39d8f7fc7452f366d9264aaa54eaeb7f9fc21ce02bb381e3e915ba0c1775ca1499da18436d76390242f19936c2dbf247a772d6fdd881e59f5797ca4b36d8156440f01097cdf24a3948d638ebca79883753098002cf71d5dc90faddfd1dd28fd03d1514b75ac7fe5a38fac140383b19b477aa20fc14a69540752f525b3bcee0feec888f3afd21968898e126b9d166e898e0997f43bfdb68af71819be82ec61c87d49aa63e77cb5e520ee1b0044e9e6f21ea85fd972da3edadf0945d0029d232cc21b0950e1b9c1a4faca41a52a4dc0333dc5b0af3d754895d34aec4a22f16d1216ff0b599fdb231a593526900d9993c0fd1ace1bd3a1cf309ebe3ca8b62dc36941dc0375391e3f430744210f24f9dbfddbfbdd1878a52bb326b17fcef100b949df268fd041c2aefce385650fb04d9ca02b548ba83f81e9841f140c7d40cbdf2a8e79ac9d4d139a024d5d546f730a217b49df434034d94113629cb05d7cd48b31fbd06842aeb65653db0d5ae42491e11c93f2b5df29ab4ed66314d8fad3c8d8093e2b0e6e320b4bac4e897d6f0a13d7cb6feb085be1d7a6ce8e330223137ae46aaf2c42b7a139d10c43aab62da3d73fafa5820966fc8404ebf1a8538d07833853f0c1bb9dc121d803dcfd0fccd8f3ef3ce8ed42b1183670883c4d180607ae608391d6e6ea75dbc572729f80cb84329c4aea5443ade761846f37238ace77151390129d4d3a36bd0b0c311dd749991bb339f17fe6c31f95f83b6514183246f944fa984b06182134464beb0454b1b17a8807b0feba1b599b57a91d6ba7f7a6ea6f0d58898b16f561a72f608967672363f5663af488a6e3e1eb66cc8f4ca124bfebd4b0f84c8b654efe5463f7334b3550753ad8f69e13a94fc4f1dbf051c1224bdb8a17408c696e38acc69251a2695f15d67a6ca458dc839abbcb8fc12a31a145eea720b5c0d5711b59b68d101a41a4f0b60ea7187227f8c74f44fdf5cfe121bd2949813334d419a83f2e966f4ebc026945882f5dd9930a9c239262741862033f4d734cc8fe1bda0afe04534e17f244462b0a32d78a8c5cc8dce976006258d467e017c664b7cec94221096f90e74b99f1443e526483078ed0c9d546c983efaa823a678f03ada08742bb9aa914bb41fd7b20a41c38eaa2cbe5a80d70db3f58408225e2aca26894215802a28282a1d17a0dbd0723317254f95a2747ea786bfddb9c44e26b4e28d4d7d02d0cd47828741ce1e92533a683fac598f8e1523045fd7716a2e5b39a8933dfe3dec58df42f94765588e75d655f24d0ad31be4349d4a0d608e7f098d1f98f1f00cc1d5cc244cc8023a24576b03fc24836d2d69eca087391c8878a061b31b3621736fd62cbc26e67ec8e94accf14433d1f267b63f6cf594a640d15f4eee4e29f0377f54bab87a84a8b8bfb7bf596efdf510d46c029cc15fa2cbb26513e770a20b771b140823b34202eb31e19e73931a1f2ef551103836d0942a6691f0944bfdb55af398843f026a421733e2c72377598af105effcf5cabbcd62d59c6eadf8f7be717242886a11026e106bc897b6830528a3c03e033222a65d94c5249ac017e6867db453e874580b42ff0cd9b1d4f6363cb0bd526fcc009f295128b43af8618ba53e59dfdb69e39d769a36cfdc9a64d40f3f06f15b9f1e3a48f8c988a48206845c3ee681f75821a5a2d18b9b1a0b4d1b08c4f3fa9dab2c87bd9b6f55abef37d2ad869ac7fb6cac69dc36aff60348cab2e80101b606a0425f7f353fca435f0bd26438112d587981f996f81f9082a25c51447d3745ea17322a2e40bab9977b9bd02794d714a2b5a2529485c6e5c711c44a836b95d614d328039813722c2d3b41fd42d0fa94d3d12ca42d780eece79cb41e561d20b77464463a0da7fb7901f8f82acbde574404ad11e47335e1c4139bbdca87de1d703ccba0fbf48874d604de014feeaa42e24a4de2fb6b81aa65fa252661f30c79f4e51d8626e3bd0d70e47b9941fdb1e0610b2434b66864c20684d40bb90447ddb43943bf346378c0139cf47cf5c6e265f691621a08338cf5cdfd16798daa474f3a73331eb0afcf40b3c3f22f36ca4e365899882fa41e271274d73c04bd0ae409cf84a88d0ab03e1a2590dae43fcde47898b029074a49db1035d57cf3964b8f47d78bbadee9c201dfc014c22b2724121f18598611451ba488af7a9cc2ce643c3363b019a662ff7e29d003f101d1ead4284735b72cc978b56a3c7ef11397e3aec923ec872c5201d4331ab5bcc651d7a690b7e9152e71656714f6ebff67651ce8d772d17f8f386a37464601edba6e43734951f2c35d3ba0782d0a48960feaf9890e55264e72c97fb7d86a45a85ffe3031875bd93c49c96529ca948302920d5fdd08a7778b0ab9870bc6fa928670bb8b18061a6aa8895ea593ab896db9ceec31a7687cfda9a123295fc7f3f4e5342cb4a14a6ba43ef8d793f993b568272734987eff8db6b3cf7a4113c85a7618919f27a1b39f4b9a17838c0a03be99f9e7eaaec228548a6d55e337538cb14f66d7487159b44f7519576d282a9ae1d1dbb5c61a42b7e792dd81913ef6d1aaf57828d6aeb0b008969ec774b5fc027efc1deb2ba5a06075403f5342d3e09f4a0d593371e3ead670e5950bcaa850b0459284a4f8ffbd64153f61857d2b6ac5a0ecb5b5ef597466e85096ba09e267b02255f2ea741d74692fc7c7f1d35d61a9de7c4f0bbe4fb764a36b7d15bc3399df90a7b888a9a175fef31da577a7c9a2c21561089c8eb97fadbf8ac69ea0cbe0f086a0cc8ff820a477aeb385ee44a8dc076fc40d7c2f6b7b21a2fd7a687bcd600e2fb2fc83663621e800c3a11c7083ddc866566c5cac169389ed2078349f7538c18b9d3b2011e7da2e9098aab8cd419c72a83bc8f894ea86199da47cd37d9e10762f64eb11ed02adce3bc4cfa8521c99508bed763d3288039ad872d9fd5691c512f92237e53b9f9cc6d5492bd251763ef7aba4aaaea0a6b52acba3c4b750328abcbea928b7a2de061bfe78a48edc1e30603e4a2ad5ea1f4bb2742ad07e5a7c6065a63bd6069037645cec31d37c638849d7741e9fe6cda75699c5c080d03fa41c0a642b20c373011c4c10f929b2e643ed395a6c77e86c188c0a1c029913b42f4a25796054f3ccfe9b634c3d31af43b42caa6ad265ec9f54ddf3dc7feacf49b62a621ea208a4b169f65c6699963152cd74e1e3e87773817ff69a8d6a62ac4f01b76807db410430b1f922061c2221d2124acee71d14bb5f55101a56d067483fe6b8499f031d8eaa36c155c479ae7282394042a5b1cdd0e3d47bd7a29638748ee2ab8e543f29958a451f135b394bfb083c9fa76c685b0888d88d58ae50ed5eb5e1dcc82d53bde70ced093e5414c68fc920c8dc67e10446ba550fdd15eeab0db3f79fef90c367ff125df2fd74b047eccf41670d3f3f7940fbf9399cdfa9f3c8fc7fb95530bfd8372e00d7f97561d77ce8d2174a035ddd8f1467293cd824ce10600962dbc7d9d9c32495b00f8f6c80c5e70c2820035b0f7015519961a1f7dc5ad5f7cc82a9f2a9b75611b9e9fb8c4ee3edd3c90dbf9e2dc49ffce81f968a01f5ed2f6273374687acb81cb5e4a0680b8dbec678525ba35d6f5db36fc2061e8ee278d56cb43e81b02ec37c1a41bb1e8f50fb464ca41aeb871defad5bfa8ce0653646c75a2fa259c8477b44a97167b5894cb75529dd3e722205ea42d29ec93a873de5a0858711ef13baa66b59818817da73a164425e56b28e5f0f7678f0a8ca6ab91383ac9d7e189ff4800eeaecb85212c8fb64a0f001ff9a5929ef7de25195f0cbd9dc1cad8ded36cc3a7f3f58b4026961159bc9098173c5541d3009d92ff3b70b7a3b245438e3c2a044a682e3c78b63bf13a644d0a4397c58a3240a3be9cd0014291b7dabfe114323ff832eb8688744a70bf4ca46d4d4ee35e0eb80f86d09d50d6dcf8dc257a13d792dc8b5535aae77c9afa24955916bbf35f92fd3e96acba4f49ed2b107e0f9d2b4e2a46c1d4fc08f26b1cf8ba73d1c63c89105ad6c35d3ec26bc6f2abc3c7efea6304d7f85414914d93552959941e2fb06238b789d71b67b43650bab7dbe19f20dc1ea6134eba837e240e8025e2430a8bd5afdf22d862cf4e9039b00cb6e27c51f0e2befb89296e3a828d2f8f1654eedbb41fea94023fd38cfb8749c027cc465aef6497ee0da6adee11ee26cb1ab1b6c168f93d166d48181bbedf94a8148b9fdf1f822d51a4d96bdbac697a5dec1219c59fa2b8b7ffd313e6662bfbc45d48150f37d9c27c91d815d43c1a0a705aabc618ef4bf30be6fabb089a3998f2e711e81613ca08561a05b1511db4a2cf2dfa4a32c9da12f6af315408c28e87fb7c281af8c74713f6614f451cb001829486146a5ec17fd2c0cb6f1f52a7712d9a6b1bc5fb825fc8a424333f42adfa3cf89a07d044925702ff7f6f0b6b8cae153326b5b91fe87b30ae0c060e4df61a8779c882660007fb7ce82d02b7db57143b40c3b06d4308e22ccbaec66a203642015eeeb0e36e8cc9201c5079ebcca66b660b6ff5321e72fd04e1788e11567ab5b8bf2a0ab08c0d80f9737d6e4d84f137329d20c2a2820c8e24108eafc7b1b44d78e70e24dee1498e7e45f5c7f7598af583755eecd471df51ed37a4e9b41af2df621abccff669b3f2f9678c4a5ec31db208a950144a370eb4075df50b6a203b154b8f8a293e94ceb258bea3446151f7ec51b0455e7e08ee9e6c779fc37270c75b92db82b07ed1ba663445aaa9989d0b28f5023dbcb73a3ac5142e59599c081755fcebbc9db15a84e3528a1defe5d13970157245939720b3818e1f334f597f1dabf01cc1f16d6b47cdbdb5c4bac95679e7e1759a7af54c065a5a7b9525f4982fcf4f8956a31b3b4a416b666adf4915c631089d18f0c446af7510c730f31de5f22db18acdb0f2e5ee6aab2bef130c874bc25bbf47f1deef646b639231091faa40bc37a516aaa843dc41a26db35478c08f20b551577ac0f5e646f10340cdb865bf25bfc083c4dd15b07e3525bfca9dde57c7551ccc9301093a1e7073c8613a6239156af56386b17256ac7d7f64ffae278b69ffd889fd9e218b7c2f6775aa794d73ca689b605334997d9b3b6f28b09d0e1f4d26dd973ff7ec3c5f7bf47b049b2a1241e9304b41c8176fe671e3b2f10269a6550ad2ca9a2b6bf37c601b35d7c2e7f2dd1dbfe44a0ed660036f5dc39f3f633ffc3f66a8d48fccbb2cf0bc2665969c7697bbaad8eecafd49f7122d7180cf9990660d45f0b68975a06f12cb2dda9df7d18a483955295ed782bc84e4afce623c753aa91d5feebb53e32c58647bfcfc5a53f278a965b3ba5414f4a9446746b2f77dab7e383a30fe3f93b9b4a92da19e9d319c64ca5b0853b7844cfb0966369410558949264ce6f910e46ce8be0614d29fc6b0163db95b9bd535a6eab0e3cd9f8dd6bfc181209f5a2f7316ffd5484184a0be5f5fef46d5fd02385e22d512de07a5cdc65c40c793594334b258e0fc40baf797550e0156ba05b536abe2e829f96d045b345afded8bb35cc222080a9962a508689c5628cf7ebc7c672461fd3d5f689e3fd69286e833e08284f0ea066d1f70f82c99c5d9a2d8ba9a6b407c49d4331da937fe34f53080f37c2a2c78fb72353bf27963bfc36982b5ab4fe52732805ae808250b6745340ae1fb7983641ea535f39dcaa3f11ec0ffd345663cb2941d7b083c15479c8a4d194e0210fee5b6120a025c61bd8fa65693bc868428d4393d3e8c0f9ad17cb6dd9bf1740bf56e4dccdb7682767ec6305a8c9243a57d7f5f9d8dba2d6e9ca8beb4466ef99afee5008ac244ae16d715b5697eb9d050aeedfddb716291eb20e3f03c0041a9d92314ace17cd7c2710068b50e39e940304b5f4a64a0bbf95773cb51d117ccaa490b74a2d11029a3f5ad430dfc545222eb139b0178ac63fcf6181f75e28ea0a5474b28f28a8d86e0dc7ea98cba69b0aeefb47ad536c6e8abdeacc4817cd6ba2475f8e6f33414f4aa4c24f21b9dc2ac2539b83c8d02c4ea5f9ea06da55c374ce8b6b3356c7e8092b13dd3d6bc4277b8bcedddfe2ade92a8fb3a2460f7ace3ab4a52f531e62f18514c4f3e527a73bb6a1b4f22417aa7907fc4ef05daf60144d6c952fa6bbeee747a9a433f5a4a5242540ea03c21dcf901388229083b1ef068b56e111a9a3469f4ec09c731ea0ce31dcc960ebfa9a6e3915f94fa3056f22cb5fb4baea0aea05daceb6a09eeca8cf5514292da31a63055a8874252f6010cfadcbee4edd48dcd6552a5682e702242042095dbb8d844689298bfc5fabb63576f3852d824f439e35f46491bbd9f8ed9368d7196f71e9e60e0ba99e9f6eaf2a4edb914ff6ba7dda41dac8212dd396988fa4d74064cb44ee5864a9ecc2cf9fb50c5954527f732968594279c205991b490c0f223e9a58869ce7db7bbbe181c944c0085b51eb0c695fa85ef1014120ccfd86c876da976932167e191e520176e675ab2b74959daf40170ae161a65e000d4e481b84dcb1554b2642c60e36cf88d539085fa3dbadfd0306a3e1125a3911d7eb54a7228dc358454d207083104150c795cfb89ccfda642d11061d411a6ed64c941dd4dafe6d2ce4d0d734f925c42f90ca8b9533be498e74aafbcfb51cfe6433cef1e5cf6fe1a80c7f6bd11a581f84568b5aea8204ec2d56d7b16afb6e419bd43a6d4e545a4e8b76ad5a925891f6bc1212972ae22a08350a3d3084bd253e3af7b1d60d770bb5fd582fc69532a53a708173b88f5ab70b97668880fcb480f4b6ff97df626194377c5e7d00b4f7f781c41626523b3721ed4d5fe2069e1107d11e5e9a60251b182d04bb11549061ff5714031f5a259c3cf53d01928fb032da0e4d6167130d9b758d67f702d41cac6e2b47787629b3b65c03c1c0334a58eab6c95bf2dcb2c11c2bd8023c02899582bba9299c4b92ffe6fe29c3169dc7add94e2a4981a4a8175a7174f3a08422cb88a208664b2c55c1a94843862b1da9dcb356b5d7640fa43eb850640dd24414c8ffed3dfba1c636ce83d1a8ae6ee325c87a90c6827e5cac10142d282d00469f89fa0d67cd4ad9b0a64a9c681963a7bd4456def75f681b44ccfa1239064d5f1918da692171e5c4b3f0e2c67321a3be1754882e76f6313d268fc544cbf8b95c50e519b7b0f98c746b3d54eb0ea59cd8f6d325e184216281f3be75ac0ab031104850f9d817d1ecc40f4c30937a2c07abbdd6797f79860379b5116d44fa2301b0ee4c5c22ba9dcf51d67d53de1a089a1edb346b41623b6167d7d52043cea05539757e99a8ce759e7301c3e1e09ba559cb84dc13e067526a6b3a0b8111b793fe93e699b3e52cadc3e0523e8d65f292df82a701296202b1e87bb8efb7db4facec0a617ab3f4664d2729827ec0f9a39d9cb850fd09bb43e60def1b54354382d3069ebcc9ca3b6a46d7694ddfd4809df77ea18d223066b3b75229f6867c7a3e4a5522e96caccd157f0e0dd572576293c7e4c76a437103120a78be0b5c31b5dcba7e9bdcbcadd8b3567de6153d5277aea6623c36ee7201ee8ccbfd9e643632b2cf9f8535d3ee395957a11f3eb65f3d8afb99ceec9da80fd979892098d707e5ada7ba6cfc6582c829e7c275a76897c93e5cb33e4f7c8d173db058330d37ec90d20c19eba6c7f2eb7bf6ea5919c2db8d66fdc277c5355b91e6b38ace740ea7e94aa6563b60644a91d43dd860cbd8db8a0eb923d94d1c4bca2fb40e4943b1ea5ceffbb2c40a7df1653446276a44ffffa8f925eddddbf986f0ea8efddaa5f43b764dfc4e58a0b202348c12d29c4ce9be1b86da4a92e7dfed5cca3322edd0c33a674467631be9f6750d76061b457e2c3b0aaa37884accf7911c0e519511b9e530b8e1f63cb9946fb32467af00a43003cbf8034a71d28ff466f2bf64a2ca3e783c53152b19d2de3244ff27c89ae57bf0edf37f7305bcc9e6435ee832703568715cb5859a0e1e58ef675c48a5081643fdac5dade746c5d2ae2dd374a8e70fe0dd0ec90edde659f0735eed2f1102ef36061492b7743a04c71db62bd857238e7b221f0e603afcc1ff88d7c4d51a410f30e2f0160a06a3ff1e8bd7ba6bb6e3590d2db46d4cdfbc2b8857e3ae5fba9c0891382ff34d39cbc3ffd238938a62861dad2a07caa0f96d18c078c0a16d8f168c71aa8f78f43d5614e421d8aff7db014531d68bcc51069d7665c1e336858e705115625ab5397b27c4e13a40f5ef85dd4463ec175b55fc703865f188ca9a297b4319a49b263435aadbccc37f5443633d69454fd223d6c57a042e4ebb90352774ec0858b1551f715145b66abdf75090bdf4b5f5e39338bdd2165e2012f3b4c650b4d73dcd71b1fd5680d2478cdedada9ed276101d68ce2e659c09ac80230757e8559ba6e1578ba5fe97fc24f3f947c3bc14adcaaa19c29a10f3f91e826bb514977d77361afe4024b67e57f0c47490d388a0bfc9e2bd25c7050ba1c768f3ed0a6ab5869707c5c46d0d3c99a1d428bfcb1891b4aece0dbd2ad693c636b9402bf38d12fc0c769bb2d2e8e72b301117efc3ce18c9cb33f2f4ea4c4c626ec1517be6201635a266cffbc167fadd16c35578dcf436990c2f842b4dd42112efdf72ba516f9439c37b2b4a629525b3deda1ede681c6a5e9e207493660e6dc9ff505dc3d128fa45387c497d8dc4cdbc32dded7114891f179152c7e5dbccc3343bc71b474b423f13f435b30db32552b9354052ed5d82bddf5a2811583b25c6068e3dd889b8b8a09e27f6f816a3404ca59fcccd2ed6f7d944f627c6271efc6825c19244e73b657ed2f7bbe673435534d2357ca044c7a2c1704d4adbe72a7649dc4016a13e8204aaddc5cf62db2c0697c7595caaa463568072cfee1aa7aaf6dd04852d2676866c12b878009d4f8090ba802678728471bf904b2eb26b4d097198358a9dde2b46413a0ade3dbcb3a68ae730ee0f84cd99889d5b196e72885245f9530add4ebbef8eb858ffa3d8743f1f4cbade89a89baa7f80e067ee506811e6c2f7d88239c86e286dea7c02d0efaea9451af0aaa80e0604063d2ac86f95838b4ce929ed0ad703babd8a8652a7ff2d90fcd7b9d10df12ae5cb5df5a7e5a845ec6f91969007fdac5fabf90f8f09e60ddae61d3e9f4e5822b9c6ede0f75626359cf48d7384eefed5d1c00afb2b35dae871cd2f4d7b362e6f4e4a8482351bab1ceebe96f989a7f9c46d1b4fdb5dc6d80745552de4ac3a18aef454a45e1a00f4d7256ad8b52af22c996598688e7faf80437e2005207f6b34f1926cda3f1928d50a2274ad9230eda85b2f7236066cec2040ac81a3430d18926394c5c0851a0f723fb396abf1515bb50efacb6a500f81f187d7f66607da4572182c9554bf05c2cb071864e85b7d268adf8f37eafbfb3af9474e13c8c653f62d97a7fa998c49b28e43b63bb512a249a1d87fdca3437d5bf24356ec5e32543f6cbe147e84d253cacedb689328430c605d864596ec6c819f36a9e40e4e550ed48d50f0f9f065014f72d6c5b3c85793ff6e3e847e2f6cd2b015b42229231a856ec4e64b1e23d4c2eb22d3ff5dc7a20a6a9f7446ebeaec5c8fb9a80f2db38bd7a333746d898c3b5ae97cc82b183dd467075521403e5ded4840b2784a0cb8788ce0a1ea32a7dc714981440e137fe92069fc3ceb23ffc20effde87759b9f4a7dd7a96e1a7a5405945a1c6e568652214a99bdd4baa3382c4b153da2878299e9d94e458031311349426ede3b28153af7ad2fcb31d1c05e3468febec6b2b078a2fbb75d4158641a69eeb77d6e34b2366319ef3db925551a394c8ad5df26894c5dd1bb59439bd94fd5b1ff9e90d08cef2b97cf15a8ee3a0064ba4b109bc546294ce92f736f1b86bc6969ca0151d78d8a69112dc0df42e43513c77ff7a2c5933e8003010c4b03fbac8036e185d3983e806f79363ce491c1a7adcc04daec000e7a73f34be54fad97892f437a7dab84357f06db92830334fb8357e35c7d198728a539492f82b036d9a21ce82b7984c2f5ad345408c4e167898a7577ea051f68bef4ecf9598d045c360be8b793a5d13c825738ddadad139e7f934e888d8db730b15bc6e90db2202ed1bb5f34ccabb9e563c4aa027998628413bc4cddf4349d2c9ae409f7e623f1c95193e18ea64762b413942246c9b2fd1e8b194b3fefa6bcd35c396edccefc8d65e59e1ba5832b2909336883ac395822d387ef34375ee7e84ac018c2122141171f547a7f3803b33e4571c5e4019993ab308ca264e001f4951488ddae17602772804819d18d2e04e7320db98b0e6b0612af6d0e9dd02ab74e2eb6a3b899078e36caad50dd1341d4806185abfff539e87f77b48107501b017b61e8522e610b07430194da62614f4fbc935024f913b7836fba2807e31154eb6918771fca4219e068028bef1922ddf2f38be9ec5d2f9bb09322b036e0bc3bd6fb33e49605a755265a5870e89bc25351f36280ad897e8f4a8a7b533e0d38435a0c5d24ab280726007ed587fec341f483574c6b1e180d75e0490bddd254327a5a47b80574556857d3799f404cd2b1bb18fc57bea39bf87703de4c16ed2a96b0860a5b44755b69e125c220737caa82a08e14328ceaa7caa1ef7bfe7ff53a3981fa8988f90aedf5e6a929e0214594181d94cd6828521ce86604eaceaa3f0b2988b3ecbccef165d1ac7fe0967b9e53da1be764d9452d4b726a6259a35c8a25684a71aa6a707ce7fa1ae6c8b83cfa06c0944735fe3984541a8db598303e45154a807a5dea06fcdc8183583330db20d19a0e05261788379e5de68a564af4a0577f7dc77404fdd072b5c57010698342b877155d05f237f3894fdf2dbbc388769bd74c5f290a7a3dcb1adc088713016be55d5be6b4191b3e4a3d0de805d1c201aef0ab50a60708f08b90643e6110504ebc52e0de55565f13acd8fa8faeee5f797a82c33ac922b51d82e26fc9ecd12ba06260456fb325d298c5d14538eac2a4fa70ca00eba0c3b9f7849df4980d3137a407772cf94dc9ff33505c706fa584abf857abd75a714b3bf9ba320d7d20e47324eccf7cce854c8a5d7ee1ba8c5a536915fe93569928ead8d90b5762493156a0f2086b872c40db30560606129defa549be0dffbbc538c61a9648bdb654acc46a041a6bcccade2d8a4b6a122e11d30691c5e6edfbb8a4076026d5cdc60d80c5d72a52eb479ee7c8e45d2c10cae209422dcfe71f25b9179860c35e620a4b59f468db0412ac726e04b52fcb0a7d26a8ab8b45cdc286b6330a91ac72ffd0b4867966f7d10422f8bfd611fe91a6a3af595c01dde8d9222cabb73a3934e25d00c671fae8bf31cd818a368de23e1756c88c58f1196f47710c81b6fc8f7673ef86421f85ccf1160c941e5fb9f21ec28efa09717eaa3e6c03aa8bde1f495037cabf98aea276715bb027d6bf4d02700570fa573859aa44af63cbb3f08ec48d924c4dd1f9e540aff0be73babfd9018ec1f9e577f4dd587a41ef4fff1e0330642d521333d291208c8381f2a3c4be9833e428c815e0118935393887863ac314892a63dc920d4e9d6e8d01a827d927cdc955cba3c1c226bf21f8dd602ddac41c75a89a9d02d5839ad18eb4a809ee80513383801d7d217ff22820f80a09699ac42b3a4061784298376be6758a10ab02a7ff7f032872ea918920ed71eab615fd64682bb1656997380796e65e6c868492b12230cac677b37ab95d408e5e239466fd62e1708fcd757ee4e12fd40bd9ccfa47d76d8439ce971d7feb421c30981d3f8a6bee6e154339d7bd1b55e7a1308e7117164dbfd5d19736d7c205c15e8186af471b4fe1b5fac601ded9a60900e9bf3dfc9040403ca3b534c6df32a957b5471bdc0319883435ac62b0a612224f21b2dd133b92f8efb45f149e8ad8690661b5b3947bd5afee5de720298fa83d0bd78d57d75c0a41858ef9f80b0d690117a42b393c62c009a29bfc02c25ceaea0eaf4360a18ed3a674045f6a908c9e05fa46d24163ecf067b5c3f5336da1d75bc2fc4ca366b12c72c16b98dbae0ccd225370226b526a6cc5aa26271d49ace5bf13119100abe08dc8318dee957bf91e9c56c2e89e9d2e551da4054781c751c8a88743271b325675dd22438870ef0c48d2bcb74d23ce70786cc89d7d214f3ee189513e0c821a18c0208232d3c6382d853d24cf066b017439dfce83cfebd648886e34b0d9096667893918d6232c2058e2729906221afa65c1fda05a1ba131784f6deaa63062837dbdb9f80beee20861682559df2cb4399026c4e38d1cb96529e5c4bf7bf5b28d3525adc33e73209e15e14cfab742ea87df807864f68b687c7ecddd2f372e42175b13f968bc53b47400861affdd0ce5ae7dd7d8a689f5bfbb2d67242a531e431db7f34efae68cba7d043a4054a5a0a7291f996301f51cb527ed74b52a836d65ba2e9d8877a1f1d0cf410cd82d3ada1eb3654bd44ff04f2664bbbe925081e583e7cc267095c7c99187fd491fc4137640a1fe3927a5935d9ce79a00de3da7c95c04697fb2e5028d70200a6ec155074e097d62c0fdc64c54e2352a403a80b8bd1afdd2a199b581d1468278f03cccf161311eab6687822f6bd6ca27621bd6958edd5ad51c14a3adcc9535fc090f354b3c813c2c9c18d71777a1444aca839d8d208786518fdb21712732c459d833f5541e051b0214190d28fa6474472442297f56871cec641b84360f616d7488f42a18903326ccacdd86d400ee59db4b76a06f353278897ee164d54e7f14cb2d84074e37aebc69263ab8f4cfdb3f91686400a977ab2a84d228a21f2b8240847edaa10e6fceb40fb48d7b9c310fdf95b9419f93aff45f99daa8ef6802d38bc154be3957d0e79f4420085f1887daafa53f6d885b9e291add27f096713d91465bd467fa780fece7459f2302339fa71ffbef671dfff2b7b6c039539c00138ab8239480bb22aa0ebb7de5fb883acd8f3cb4653a527d99b0277c08b8bae4a73a7f27bb50680e0af287fbe6d6bb63e4c15cbbffb10270dab1c0b81258cc61ec2f05aa2b26679b7ad9292f81582b1d287e41cb997b677fc1ab96d52cd2e604eb2224c0340231140057f3577ddb99bfbd0e2bad0783735e7552d0150da3bfc6d1e0df1f4438ba57af4576d0e0f1e94a5ced6123aafe88ee8e0f9b446ac50a653e5541f86bd5b4e6ff881aea68c9dc420c3c0f6ac89d5e1bb84280ed38c248b1ceca65e03084dbb105473b0c12dc4781662f549574845b15d98c14fa3a52455fe64d93f7989744be05c4c7f64161f60018dc26919be0d6e5c16f9966f5ec4296a5428bc48c1ed8e93969c02cd91f18fa2a353b7e39558ab3a5f6ecbd43707310fdabcf41fe81fff73dbe2cf5163394c2fda0add06560d3e0b2e034b990ddf90ba352376bcdb624e4f3cbcb29eb5761e338fee521b54e4666a48c90aca05583b8030b49fc9eaf874691a32c7e3c1e236b9afc92e141d3fc7de76b434f47443668ba696c31663bc10b156d56b45a3095a3c795311d9dcda1675ad8df9dd5483382b9979c586d2c4e5c4296b2158479837422e8bce73b7480c5e801295a83e3832239bca8b743e0c7fad0487016758771f8f163584f1a667eea1b3619805ad3fd63a80dd52906a7392eef6f3ee1b5902d9c28f2e4ba78a66ad1c48bdeddc07473399fdda59cd83f3f060686347133c3e4a4c6b86134b022b0c5e670cea73e5e92352da4f2ad4613a480c739824aed35cccc07479c39419c3b8e9c2cd920b36ebb302cedf5317283b06c7ea20d576a67db71a9f00c6eb0c0967783b24f5ac53925a44ed36366e240e751b93100e4a9832473f92c2ae6e8a7a27c0f9335c9a1325a4b43fe523312fa55e1bee34f50d7b669412fd41c6e52601ffa294f37070a935c60c8b677fdc20cee7c604030b35f2deffa30cdcf782a23057bb86250613dc08413887180dcbcca0e3dfeaa0398d46af54695abb9db07445e2edc7730df91e6ee60bedb3a933f1b7237bfd238c5e7ba7ffa98fa49cbbb692e895eae9e5c49f1cd520d92829e2a9d23526e3aa96136b23e65b72c99accb35f31a9cb4b4fc456c8df2dd4259ccbe36eddf69a640f9f3e112555333d1972b0b9ecb88c13432de8a8dcbd1e3bad2defa0e5ab7ee25d4e8782dbbd459dd0604e2c3f1743f6f9e95ae0a56f4ba590c093f04627e5ceadc31d6ba4754c78123f24fbedf15a125361fa19bd2d74c6db49aa043fa8b2bd75fb096868569e56c64b52f93c9f148504ac93fba36351611467625843fbbb113139a63e8ac5698a40a8570566ea6e2ddf68b2da6dc1cde1d1d7b7d26857507cd28ad58dfd9836d56e44a58b6f3a90bc9bef9767947f8b88e834b0232f9e0100448f8ee50ef5ad3cb39e0a5fcb0a5a9c62a6f0d6dc09f8e4c8615a35236857f8bc8cd48dd06a592f2a5be05888a512e6b4a89595c2af969160fc81e7c549e61b8b6d6d1a4252bd375ca10b5b543ebedfe5a0396f36b244f96a8fe775bf6970b89bae4d4cbe5369ec99ad5797c5d11bf742072d6efabcc2724580a1d818bb0303b4d6a33ab1ecb26038d349ec154283f6bf90c9454a4e7688de6da0e69e33d3d98356656f96323148d440903229f7bff2177f73ed94150cab2d45eb517332b05f6f3bc0754492af254f1ae3c67fc4f53e26ada215792deeb2a631ea3f4abbee654e1334507f245047bda02db6603370036b3c543e23d512e01d2a9557db4ec8b7854d32e3e308a187d74dfa6945190fab67270dab4a527a479c034c819b492bd2c2c44c1f4ee83ac35a66b786317a8d5c6edf899216419348e75a4559b7e7049ffef9e9ba94e1d27f8a6990e876a639ffd6c3d247b3bd194cf82887927c5bd5162f01f4984f14aa00ad1681d8fb98005ddda8ffaad9d36b19ee92cdb0fa74c09b074e6eb1599e210177b27b644ca4536dc8ed5ca5e91f1721ecc06f404b04f314b9b117ba54f52052aa6d76e8acb9e06152df0642b7e96d47e568d64ad704af3216e661384c8e5bf9492c31d496953f472e3bfe89824c5a88093dde6d97546637e4f2a8aa85288583fcd8879642f14937641c627f2f27321022ad38c2416f0bf33b811422597b0227ab874cbe6623cb0b307ea9bf3e7de5645c9ae0422effc38207b9e0bda34a3b49596b073978103ecba67c30a1338637f148a406a92ef92fe95ba1c3e0e396f21134398088328ad68b2aef0de4060d220d166772cd231070b1147eb3200587f9c55c69e54c889fc74b5c3a7266eec447b4fb914cd94053e15dc1ef067cc4bee59f8c872264ca8a5da597a7c97c369bbf107a9fa8f52a679131b0f60ba9c2ece82711c41a4ddf4e37719578404c8b95536d66064f55606c3233b320c340635e00427e1b45fb03a184826b647e8a51a50d18325f8a6af13d453fe2e2fd1681bd8cc1c8f0bfd0a4cf663a6b2ea1c9ce6ee61e9f1fbd6eefebfd2a2a03695468211f11b49f8b49d30ff4d56862cc40f7a11785d5f925509376b4779053aa04d656b05ba8b28c4db4daed258b1ff20192f2bcfee69c9f5eae1ecbe515a7e9e844ecf60087dc156857957888440707dbc6a7a9a990ac53b141057d8ac6a556b45b893122b528dc6f797bc8a06a3828ec608e07a810c2cc0f97f6bae99621abbc91a1cb6e188942a18a21d2ae1dccc1ffdfd315d1029803aff808dad4a727b17a3c5bb0eb19237f8bc331762b32b34d70c5d2b9efc04baed55f405c2546fd64278c74ac3ec463c38f0ad35f0cec265a7a643459d501f48165ffe1079db60d692af380ce51563e8e9e3c7dca9ad8d03c7158c90046d71b25a43c960ae9550e69eea56ed18d318848b0c6caaa33b4d5ce8bf406ea7d50d9f0c79d80bd7caf21f323caf3df65adff5bbbde449aa85b546a33bd6e09362c7d581343dafe4f2c74ae3df8f39dc1bda5480172f25e9d8c197d65cb5774fc04976890bf8e249c23514caa132f053044ffcb20894f8120350d4a3b2c95879b1b388b73bb322049399e1adce3668cdf26d9e506db4a66046c5d37ca7fea8732b8491815d4b802e3db133f1b51c3eba7c1ed3d0db77e8c509f5a290664c821e2d4d0e4409baed5b2bd119ed349afca99e7711027d38d6b4ae3ed98041794df8d30a2d79dbc395013fa8a414be03561c788c37a21a94791e7e3798c7674504c22a145445da525a1b4f3a234c30c6f4c98eb67b8c68678a421e9a26d36499270e4ff8bd10d7f0276e14f6e49149c01c60c6bfd8fb989d07224e61957e892987e6c9dc7561c1c2a0f43cccec2d059a04b8510d8aa18817d445fd66ba515f232f16f0e9181aadd350c4f4a8976b13dc12bfa34f0c7748195a2f16e364dfdb4369b221c81d600cdda5477567e2799f513967cd975a17da041c8bace5508ae4c8d36911b0105067a30f3c6404c9f455bef6fe9607b085423fb4281087bec20e419953fb6b1e3d2d8a2aeb1ee2120cbca9936a39c00cad49d4418f66c2b2e8d83cba5d0494680513c1f2ede9522cd890c1fdc98bb20cc872df80a060a461acf7681654e3b9c766121de472fa63464d9e5a9120ce348815ff6abe007ae9010c11f52350c09c249d58bdbe9b0f03047b1d36f172066131c94ec778ce648a2b6a09569966d21aa2daaf5e5cf03e1a26cbdcb304d2c52d085130ade30f33194c5e527331bdd65850d41b9125ef2b9f66bff6988caa66c1531c1d7aa842d947e5f3917c04c3082dcbc6b02fef67fddad227fa9d0e300762a215749111d56a839836e4ce8fecbb396a0c7db413694d7e921af7871d77383b34711d431400d14f0a7ef5cfdfe52d45b03210b7f89f14fd2d55ec8fe73fe1fa3c9f93b7df6f19990efdd6e07e12d573410686eeb710e9fe6ac922c57ea1abaddd82c02dd1aedcaddccd07c7bda08491b37d7ad49f5cf9eb04a24381925653d8d8b3149ffd19add86caf163c95172c062b48e08b94fd736d689a91430cac8c514f7e1495e12a24fed3502371c5122b340851c3ab6eeb840047e9b9a38639b1bab50202738c8d79ea73f43c8e24feaaf47a5d59acb8cf5011bb33d11d7f9235b44c157949ba55b4c811c9265e064a60ffd1d408d174fca28322ad605ec8cde13f280066453b9c56544e7559dbd367abf4a6208dc9886536ec89b477b9d3b7c6373b616e0d030f66556f32c0d3736d616e9db62b2dedff45dfb8137eb887cb8ffd6a737ac45fac200235caa670b6e60fd641f3ad675ac1b52ef032f9325365eb2c2e826f23b7438462c5cdd26f13bc4f66767d6817c8f860f59a2f6672a9c978d871ece25ec453f6eb31d356df093765cdbeb9dccc52f2133e0479d33030c79c7c522bf15dc68aafed8d3a00648260ba260a42786e5ffb559fb382ad9bb57080ff1f62933e01811c617eb1f4ab4ce0a67ba813b35bb58ff2df161b106abc33a2375cb3f6d50d32ccf2734daeea88ba52d55ebb8261d413fb5e7fec63a1115f701f0104c3a0cf61d1da701a1218b52425a07c8fadab7835d1d6a0fcd07570a5cd5e493b5acde90d01cde5639e05019a6da473effaa5920f0e4f4a6ce5e735c6154f241b5efa881b82fb1a6fc77d7a9d6bd7e729d517a1600cf27660e1308db3ae988c8bea0fadc976bf36712b71ef75673c4eeb3c0f81c5b7d3ecbde9eaf75942375451203c3cce832bf8394f83e69f96aedc44cb9a7b61b8da4c24a83d64a21d1ed7e47f0d85449aeca451e3a9029327360d01d154dfaeac023b30de805fcb909fdbdad940318534f820bf8d5756a4b1ce64509806b87a95ccfee2d693cdc39d081510b09af749052706f4e80e7735c9e8e06d9fa0de109c9a12a54c43b339eea8fdbe56a6d6454bef14695496c88f3a432ae90b43dc1a63f9482eb5f5f1a01ef6c131555e8dd2f4eed4729ee6176cfd06adf88da10215ba2bf115a4ed23f744b1cb9cba751923a1f2f493f8b70c62680f200476e24d5240771c146734e3fd8d0145a00bc55d53f0fe506b87654ca6d776e33a05d70771d9acd40a8dace0244a5fb9bb3abb4fd1f7ff329948b262376be6d2e5c60bd8e308529bbfad6975b3ac0f48cafc45a0a542d415d15bf8fd0c935bdef2011e08bcd20557d94b3b90a76bfc3c41ca17e8e36866da4a6e8ecc5ecc7c17811241725d6ac7cd091115cf60fbc65dcbdbeab4303795f6a2dec5f4e2f1763c0ebcc62ddb5ba9195e402c169bdd4a5c9526b190890fbc93abd8f304d727739709103d4ee4e5771cdf0457e86874b5f7ad7b2be16213762b1b2a69d4cb41cd59112f881d808fc824894a9f2f038c3435e4e7f2c1552df0a865f80b5287077a182c860878457aab20644b5e152809daeee278a556abdb6e9b12296ddfecdb8d91bc2ffdcf72a6a0daab798eb7d760f397dceae41a4dfcb79d7c2238db015dec8787119360e79811b21c46619ca7f6deb1ab8b1d290f55069406308e165d76da8ce01d3d8fd4acdf0e960ab5f720a0d689adaf9ba9e1272873723ebbe7cba14b278d5d1b5e60f555e724e008af75b56ffeec1a9e3aba0a9526d43a7db2dcd5f91a3b57003a8f2ea13711363b7ce9125769aa219a6c05a794f431c7f9662451a40142ae80cda389152c4c6166f53b2f005a2db5b9c63894f7701b9cc744239559e73584efa19c8f4a5b6377001b78093dd7f1e667cfd1847043dca670b20dc81e6d1be6f5c9f6d9083665b4710934e1b38cc8c0aa5a38c6fa8a0b479bc44aa18c3189bfb69f9a8fa0dc8f64cd89cf5c946f6894391c37d4debe3585f3d5f88a3c58a040921021e9db5532c3b92835c7a3ba2cba015b3072049e3c1663b53e23fb62677322c34d885a1439eed15842d4a2a90b66b687742da900464b59780e75472afed27ebb8089c2adec8046b859e5edeef8ca08e4b6338ec29dec61ab885346afeb526a042867abdef0850c6b85473028732e4e68966434139621f4ef87601ee2ae4e4b9db43cfa20d9bc9cd17ab432e8c59a8f1f2b05a518f16a38d380de778352ca316e7a70ca6cffc8d7098f9b5dcc8ac152293dadf8b4ee9f64131f4df2653babbd82cfb605d9344153a74a6ee9b354feec9cb36759b8b47dcd62981e51bc9b5764ce87a7be97af7ad4cfe97fe76b5a8db5562c0d0787ca144bbbd958256109ab10f3f6082a0e619c490c8dece626bec412ae825703e85b144658e9736fd15b9b041ede73268baee28450f82d9ad02b83dfb9287d8ef5c42bd81734196aa2ff0d5f40efdcbaaf56eb95426882cb393b38c411d92fbb1e781fc35a4804f216d041a00078c1b3efe5fff0145055c6b9617caf6cb4a6524acbe0d064c64cabad7ea7e8dad75cb1b0ba59f34d60cfc95bb374dfe002a0f5b649bcd36ed0fd83231ce826c8a498c44ede9d85f1db004f725f258f28b7ed9db63407d31ae396e0f8a200b04b69a52780e3d197c58a9f130522384954d027ee389bec63f67850f6d98349f710ff5196c7488f46f12a7c199fe3920aac4dfff72450c38094002ee82afa2053451b3bb4ea16124e094f8838f8eec30ebc5f550b9b65b3ef154691895f2a41752215d780a5cfb7ed55401a65d4acd74a659dbc04f4e2ad171b18b4c77e1813f49626f6016ca85038c230909f0dbd3ae6827bc6617d660fa29c4068cea05e178215adf53a2212deef439921938cb7d8fbda9f95f082c753e24da843ff860a9135db13e45ce2d34b4f6645aa25b940ab3c4e377fdaec54dde5b17d5524664af455380b0b13fdf1347019b4fcc7a65e76d04406e894b823beabedd18bfaa720e1441896a14bccdd2cbf112e911ddd92eaf1e008a4360af19a0f001ef27cf3c6270d1","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
