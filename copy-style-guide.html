<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"72527e17b06db57ca7278b119af0d0d2ae9f8cc343e96f101a86213ecc04d34f0007089ae57383d14e717993062dcb8dce1b9f7ec3501a66d8c1ad522ec0585eb0a5f4ff97a6ff659bcc8d832fbee34bc287fa6fa7cfcd7351f9525f2b29da8d631d59c5b61d84667e8b2dc7599ddb90882a8b565e425483e04936947f04446e28577c584d110407a19a4d9ff3c7ec79e2db229dfb8bb7ab1a42229062345a6de6a791493bcdcf72db75095833d5a4ac5a8d2f079d35e29e10f67ff21280eb3a62a2acc17738a326364f400d8efb94dfa0b93f658d179ffd4fa99445b5d9c602b9104aa1625a553895b289e64757ccfa1a0ec4dc7876779d1632097b7a6ca3649c9df16868b57a7df66cf08ed44ba19f58bd027b79f8c1eab6083c1e1f4fe5c3ad845f145c1232e9638d35cf4235f60e2e9666eacc9caffa33c43ae295ab63d91e040ff80a4e92c2a671e803be0e68088dcb6a0d217b951d56732b1db448d42c1081bd49afcfc2e40203e414f55d0e3aad142c38169559a6b22d2c4a331183abba1ab5d5a7e62184f8e6ec2a5d3104338c56ffce26c356678e47994e2703b4d1918be175c4be4fb9a04939d54ea0fee9a40db6c501537c756c93761e15ac57b1b9fafdcad2ae99928de2614f75c6a5ac650775d3833864978f9942b57fe90c50f53eb4ce839c399c66e690c62c75f9cffb25ccb25f7f3956dbfd5f6377effa647caea81aa7179546ae6b33be024c50089c94dcd8b0b4f1207992a761b73a5ee31eb4a3bbeeb00c6d0e342ee93dee4245965258fc099aa027706941d74865c3658877c74837992a03ca8c09a19d0d66839283aba766fa5f83223f0aad259d4bdaf19f2d05b4baed7bb434db7b7ea5a45fa13c59f044eea92f20f7b148d0401dc93e1e8b70c1161909a0ece36036064d69769d65e9c5c75da8b2d1b258129b561b03e386307f194c669e866f054173b15eee70f8afc025a99f8cbe9a2f83e9691b46d1d7b3b6bd2381d9d30c76db96ad7c243fff2ae7db2435970b3b448ee1e953b8293062b4cb284d2f5955bae603bbfa6cbca8370bab076159bd8b5ca1e9f0b3af3ea01bc9b9307ec77d805372a2e3c2d874371f1540e3390b29dec6797236df7e228a1e52c4d26c10209dfc7ef928eaeee3e84e8bde0195c0888bb3726ac23d6c4c1e215b594e79229dc5eeb52ef8bbd84b3b376a79e82a2310aeddaf6740ad4867c36f1a34e9902537562019f142f355f72ad18a30c6c236f4447e866819558b32edd93d26d1554e3f7958f199348ab5fe7e8c7287e7e4a699e7b30078ccb1fada580e2cd3d2e18f71be3cf125c29e89084b0b697b2a74c17e523ed3e49374a3a4fef6a09c4ff17ad1c6d9b1c0bff4cd5b380f1e6cb5f62e8026aeba3a05a98824e1adb8396e9a6a78e7ac32c69fe6cbc7da5c065c629904036c7f60f956e20640d5859d55db8cec5bec164392e57653584d607ec563d2fb2473713f2511ca5e5fe48eb93c3655beda09dba90cd3be07ca13becfb67db53cf1d26387053ad9b6757c56297f7ceb66b6b1b93293573fe6e0be019debf801b67f38e04da33ceb4c99931b208642b471368712e5054a00826aed49e5611b66498021f57396a510c4f315035f38be740b6bbfe0c9c8e185e5277c9f337d4fdfca654cba40883b65fcc3f9fd4badd0b1950a6168afe341e26063d8168f0078c0536d8b058c58c98f7f12b3f9ed8cf0cac7cb02d5bc3b3a25df0fc8f9ef6d3709b13b287199d26f6f9e57c898ce856cd272d3afcc538e31f3f0cce2d81344c563f32502b708fc921d83e93411db555a87bafab557389407726173549e01fcc63a1393d14c688327242f1d755d3483c05c84a0da62d4ac11ce0c690575d6065737ab2434bf86c0907270b0c0a2400714892a464c7cc6e245061b40a54e3661196a83798ab137cb66c3dd843a1e8d9f8dbb580e44c5f748465776362150075963a2007d83762da57dfef1e3d75ea058d286868a94dd663012db5490157a2b62b3c6e4477e0a7d39d917bb89b1b66691715a33376e7acc66cb8e9e1f7c191df14d17cf6addd08178e4ab5a22ac8dbf040c20a1a19b040ecb114aa1f547e7d2a70c357b9d220a4f925fd10045a3d85074dab1780b53d44560138ba6cc1044b9ab37a7ea43d7463e5fd93e2fb64c19d857fd909d6c88a8d4c7fa89802350ea6a7e277027c69761a413d350b148acc2ddee5e4212c23006eae2ca05c878698f234c47600a83f16e486aa0ae3ed76b631dcbead6c9937ae4a7eac3658086b6dc9556f5a26d2c9b676de25b9aad21ee2107bc3ed897368199a74e64e31316696320f4670527dfddba67b13fefd06e4a15e36ff77f465df372745b75fbbe512449a235303a6ce8f3e2d169b8ee5f6f2e753adb86f8c850a480e1774da4f3788d1c60a91fa4a1c95e23d208d014bd6b4371bd315aa0e0fc64db723a3d0248942e4f86d19090646e592fc8ea6a970b743208dc163c3dcd447b5cd5aec4de1f0714c438930e77ce7c19881446772fe266ff75fc652b0d6539637058c731ac8100b73cfaf827604ae4e67fd79b8780935add96e499e2fc490395b0e8345f415f3ac91e972f4f502bf8d7c876900be6259ae0da5d49e6c1b34f53718645aab28bcf8093288e4c7cfcce851a207e8383ffc8b3027977c2bee2ef9908e8a2265531e01c40d9ae40d4259e6feeb4388c4a660f1f892d04beed7997116ed509429ec61b3bd9f62aea85cf15b12fdd5436577b48c9ff114d11b92a0e3465b9b31287a22288c5107fa1bd894c8737f21dd1ce3ef7b6e8f88abf398187d937d5385987a1e421f07a6f07b33ee4eb8590ea530693f00c83f825a4f4d3409bb513ca44f45a849f4ae765338882a3641f34d0924e2d2946f8147fb9a0226e97dd3f8fd77b026a365007d715786ea97dd16e772447fbf481539fd139ce1ec9aee62b880c122a267359cd8681f6ea1cd69584f63bf4b0a1753404cd947a03b577029426e08989d3280d4a8c08218c79836bf8b9cdff116e843a90adf7a761e2f56a6c14ed2071d78e2b0f6175628cb3b0f9854934e0374d164e41c05ed2d452545182a76f8c44faa087ae77a8d918126659589c8325648247354a09844e2252dd7708cbc320d538181135747ce3be4d163f3838b3b6a848e3c865d3e36fa14e168a18d329d43dcff96f1d62bdd15ea79961fcb5f272bd5ce82dcae3ef06e769e45d222b1b3a76727b4979f7ee6f8beeb80ca0a4b11da1b3c0c0c8ea51b11d969e2a75522030bc3b274158bce75e780ed2f133b4ab6f60f309d2a8e09eef878ab16f52d334c5a5be06d3f9eaab96e2457bc80778ee7ac9c07b561985d5673e9a555ae44f491016621c5c5763f491357704bfb32c8946c35d099f277a2da5677d5e99af1537aecd4d9f10e6059da8bd5ff9a8b358a270de18a2accf125e130ecdc520ea349d1ac19d0fa7a129294982586d894131b1abb5b88c9d2b1a7c300b1a509da5354196f5c4cbfe21ee75490a024f000e77f48ad55da0fa040425ccc9f4aeec26221bb196a991f090fca3d7cee5450b007b308d29592951ba4cc10965fa50096a8d4fe2247d9e4ef6e50430dc08fe9f3bedf02a272d2a0a19311b2a6ba5d08ddee88a7f3d7251b78c0ba37495d8beb561279266907bfb94610824c83434f10cd55567e6c1144ec024dec364661195f8424e3c8b75414f2631eea56a58dbc8d26c2bb41a8b5ed65e5408f6505d6f591b03979db4e7c35c5ed5da34e3b1eebf77d2912a4c7092d091bed8248a2691c6f960636d8a5ef4216108e627a4f56a22f82afc7d3a8734cbbe74b8cafa8eda062c2bcdeca2dbc9ab7ae9bcc3aa306aa54adc3ba3b56a4cef93dd6b0032e4674b65dc38de00313550028b55f5e01c8aca7c7328db37f414f6401845e7434f12aee8d07279131dba67f89144d2ec3ba53b1505da03f2fb395197b69159bc77d02905814d65a062163ecfb8dc79f53c0670bb4d18f9b7818bf41f3d693aff6a8af7b53b6b4d410d40bc60e8cd857079e7d157f8b4cc699421a90444ef54f37feb836642531a8f85c0494d332ff5aac6e678a55faa1219c45122b507edf55b93ce81aaf5befd9dfec2bd416fd0c3b916b31fd649d845e85ffc36d5221805d2667e0f4f057dbc4e9d1142b3f76eb2c4f03517559bddc24a0f9bf97c9cb4e575bcfa6bc40b143de15c09408dd57865fe0c76b3b8f5de2911a139c17bfeb6f551c68fcdd904ea9dcf2dd41795800de54eb149ef6822867361c148dc9999945966dc107ded88fd3f6b9a7ff3f4a50b545e73a68713222cca4ae08b80dcdd8e5c9b86786bc5830c6f0afeabf85405f44590625a4409fedab95058816fdd981e1887b90a3143e05cfb236216dcb2aa0dc5baf247f943afa718ee7d99788341f4ca274cfb1f55d9080c5471085b819c6539f97a586590653819d7889120845f9a5431391171bfada92b957bffd4b9f3ad6b1c920b603a2168c516dbf9ddedc01f3b9438e6dd4bf5adea8412f4849b567d2e97d2ab8c46b4019f64a2b7e47925ef465d19a8eec38f348902339c0bd698404b2dccb67df2f04a1d1f81e7dd5865a9255ce7faa428a698a02570acf535d67645dbd6a0208875f923bca99840a4b01816451fe7f9daa68509e3609f7c946709ae1845b1a8d4b5a524306eb43e92d748b7bc83d516a2618c02aea5cf2bbb19178eb8af559dfeeebe3413b74e801845d66cdeb530f9b1473923beb27040793dfd9d34e9e85cf766edfdc76338da6cc2dbd31826685f39c8b4d37421e084545d6b60104df87e9382868d7e70d2dcdc76bccbab67467c17db796c6314b85919af0c74861b5e4d3b61b2de21910fea546308e167a13bbc5968d3a71b94a6df2bbd1fb6eb6ae14abba95a278df41ea6461a5de84f19849ac45b7688d58a8c1c0be0b63178eda02413c283024d91a066c4e5523a28b9eb39befe449b27b7db1002a0d883ec69782cdc2754b8f8c6fd4752e3c998ddf39d39eebb08554dc78e43680a89e0bf1f26c8f79d409311e4139ef932dab97bce557ec4f578b36249a570c736ea2e3aab2de78717ab6393b01d4434ff9d8d7d90ab4a76c3a7c41518d7bb749e3b6251bc721e4c2447f6d61d9f1f7a1d80d3c2a63eb55b9f9bdd62b60d757a4eaddc2e44a517b561ed39f060236d504897bc3aab3de7ec9646486178ca16c577c3874cf935a8b2bb77e27f91f3e5292dafe4f6a03c57e62c467feb3d0dfd336357683b8f27c2ee621f982e310495f0e7a0d5e34289a1809571bef5820481ac93eb7c4112de003f2f9b3fc4226ac2160aa92264c2282a40a2068b44c01fae9bac391c1c9d9cc02a6d71ff74feec5f8a5ace884894fd0332c00c51a735d4fe37ae04544ffa256f55f5e297d58b41ed047c376e1e99f124ab829aca9883fcd379b7e03b2a51b82fbb6274433011b3d112ab7dc4469e4d9f6c39efc9798484dd8acfa8b0a6b51fbe833ba3cebab58e07ab550991f36488f112fe1a261516800e4de6e2bb7e652eb08e855e1283fdac252627c4489061c201cfdf518264f6348a0924baa839b51afdb97b4b58ae3afcc13ada90e5779ff587dccd38cd3a6edadfb0503f0a847d34d17068d55cf78c311e1204a752ba6e80f9989924e20cf44226589dfead56a7ae9f17dfba7cc1b95baff62140ea185a7a0c19334deb101ccc2b879f2592b0be1f863d473bc112c5f01dc1cb7c66b685960c860b118b0a41d38d0bf30ef1228a29b3fb4d59126d2d09e81162a5f1e2f8b65870b3f5cb2c04bd63dfe57f0d56dcff2d461c2e067f6dfd788d758f14ba7dd173c44eab95ee2b7babb461eefbe985aa9e23666b12c61eb8168a062156a10a970396273cf95a0cf3b36b34203311998ba051d735aafcd718d7445237bf6a6d0a2f71ef5f4df5f92707a975ee4d9ed6b59f0830fc4192608d8ab02263525d3c13bcc9e5957fdeab6e232cb4795d1ff0f4171cc93ed176575adf8637a58f946b2f14f634f71610d7483689e01346e114885da536d2fe92d305ef12708a3a1ec47ef3dda0d6b0c77b34bea05e6041c7b9511494b7f687e84f8f1cf01206e77251552f1e07b5d0f611c6522560cabd189380a4f39a26afcba2ee7a09e3c0f46e693ac6e32ef01073cb79d9e30e899649d68d1710eaa08378d0d8f10cf6e04561c24db6ff4e75b7204ba1ad681b66e3e3b69562d781120e356240dc6c239bdcc10a0c13faf7030da87807581ef7ccd025ccc05adeacbceedac65357b8bd5a94ed67d9bc5be1fef396f29faa057ec92dec6b5b2606185c243e54c35d691011eb1a3664a2ddd0f737987fe7c20e5e6ce2672752951ff5267e8cc711e1a2a36a4802eeb2308c4255b36832c665de765ecadec494a5aef60bad16f621b9e11430579a903e3fdaca9fb48c79ecba6e53e530f10199f845552e86433cbab6f426cf426724cd94a879831dc1ab46a2c775a1dae3bcccce69ff9da7a9176111187b3745a4924b1ebfa4147b280504b311aec0b0ea9638b4b06ee4e6c906b5735bc380b3c92e428eaddf9a1d72cb7d1b0a1b21db50a06637ed9829ed4409316997ec4d1528ef2c5d69520db2c5bf1d8e6272d773e6f1981b378e624e6377927e13f81eeaa3c610118e8cfae3c7b394c71269bcf20624c0bf7ac391565138fde3bc6caf041350ea0ec7549100309d9464213d2b06eec9be3a85d4cae028ec3edb31c587d1b343de6557e993bb4be25b0f70cc49663e847d32a499159bfcb9f2c55982f11ea1d1344c3576f6d26c4f7a975366392e6a032331c2faee6a93e39a9ab008ed7f46cc2dbc5eb63e0f509715c38232f8f7f317df39f20fb66e7a87d91b57b964986ec6bf9bc8c6fbf99bedaadb5e78d493b776989a4ea1a263572dbbab566f0e487199791340201494c9f583f471b4cc20b5c5743eb04e9cea042ad8431eeb3e679e0ea83538953d88516e15887637066d8859c41db6374f050e70d9277deed73a91d5c51cfefc19701b4684026a8c19e18a547a00e1b03e0f5a8e0783dade38813453610a9a7c4bafbe562ac8ed2d2e686402b18a19d829f74d060db0cfaee6ddcd84296b97007da682c56ba96c2628cd45aac577e5d858e0876992dde77154397c931f3bdadb63dff3834a16b919da9006873e826a73745062ae52e03abf93c7049bd8a553f5320ca71b0ee5fa05c88f2c789841c013269bfc4a855f6766c2681b150c2f6ca14dc659c6a8a81f232eccaad054f9189e86af7e4b1326b7b817b1d071d80ddf39f4736dfd190d2c8d7ef3d43c62b8d5a2255739aaa3d1bea6afe9a324462f9a337c153d918b6e069e0a78a23245a63fa054b7a25995852332b6091414dec93bcb78ec66d9a293bffbfc23a5cf23c03fbe987a6307458e32770257a3bbda333e783f2e43656e1ee5ff882a3d558ccefd69a2effcee69e8292c3d3862292ccafd4fcbc986d4a00c98a8c48152addf262d2637df84c10eccbd55d39f5f693be20fe951598a4d59f38e9afd2d973fd52d9197510e040f055f4b5b8f0e608383953e700e49963f5406082d8dfb7898d65f7c83196282cc1cd73f00992c98ea14479858a1c483073e51a86d70652a170f5f56624727182aab34e85e33959764ee78fbc9f68ab6cffb57c0e01463be881381166a054d112b482eda37c3d0eef509de09a78df6101a2fb9987d14b032da0d3f811f67ccd8e30fb1638d41edba004fc8c033e81522177294b523da15ee601a4b0256e60106f75ece89d385e5d1d7fdadd9e309fe8e10c80fc1f0f95d4a688e4e5eb73cf978164a96046290e3bcca77627c4974c113722293f54a421937571b8e0e84018eb95e60000bda04081a949e5f1f24f8df48bd9ea3929a92ef56bd62e18c8988f915fcda6c28d4feba8da334be183e1e2d1a5ee249cb563af39779f735d71b93e166b51f29f64428f88843245b423416c744127806ad0eafcea8bb4ccf2a5eea031309dbdb9b17a920b706115f17d1cda4d6b61b20b0c3745032a77fdacd7e3212c1d8d8e4bbf95eb3e8a26fe395a2ccb70bf95264f8c8446007cfa2a7907bf45b2bde6817efd43f7d46723d5f69a017ceb5dfe46bf5cd573ba45315577b47fee7c4da8cc5c01017c32f543a46141d6855858322716657dfb9facd3ed78fce9a4ea6488edc7d70a9ef0d95732bafda94630b1d67dbe11e40c41f8d245d765e4ccc695384f7e95527c25b9cfba17b98dc3d4a44a94713c69c0368856ca4f633d3894b1af69d778d3eacd9435bb04187a6b80c3313b5309f83ef02cf59c835c4aa46e30c8a010ccf76b279b2554a33a8833d6033332bfbd81927723428298f6bf5f8c371ec62a7b6afea4a1b9b3c44cdafb2460d8d3650db10bd1a4d67731dea68885e6053323060c975fd7579a5cad79fa4f45a5b1975c6f30882e33c928296d8e3531f19bc4699aec45a853648e0b4e9b44fb6be8e7eb2cf4efe92394f1216e61c8c17bd693749fdf15158118c90dae739be4733e0f17b335f609dddd735f40c3f8a3bc8e635acb1b8683d0a69afb9d64bb5772629336ee9f5253131bff7fffd9b24a62f35066116554da4029bff61dd9abad3525dcdd28b254fb15405771017754249b7045f4cccb55105f72f3a5868ae03fa5ec3b8960641617002ee2ff7d94e90e5528cbdc48bb4d2ec2245422155d7858020ecd6f0f769faa7027f986a40a4a452502a7c84345ef2c4fa9a9dcce88e19a8487d5ae04394f9079bcb0b61f4ef7097fbed465894cd7b202f8501908a3f17d831d5a91cc73a9361e3f9b85d07ef748107debd55489f3d97e3a43f64bd6947efcbc4259fa03d50483a5dc9741bbc415574cd7098b84f60947fadba6bf169339fc914bfeb4b0ea2831d96a2f1fc96f4c03c094199868572321ee8e8dbc73ed767f5a0bab12942ac642acc7c0c80ad9023f9d3e84c753fa4c6c719b4ea6f310ae33a03ece36e56cbbb6c4e0e0f9db74d9ee81635ec9a88d621977a44561a2d052ef9f0703854126e6586372d63c775d9630cf7b98b9f0bc3e431eebb03c30f0a314204a1b3f8ab61d1963b6e8880a2632682d6dab0974412f05035c5c21dff4c98664cbf86b55c0861c953140cbad438b8bb545110659166b5637962ecd6894351844194aa13888016e0a9dc57792a142410dbbce4b705339004b2f910d38d0dd1b483e6fd67307a345c7f4e40ffbfc01f3baaa6eb269f09de5a1c2dc6ab540dd5f20a4eef817162b0e17d114b3e66ed947112cd964e79a3778b74990c614d9f6252799ca7eb14b50bedda2e0ae7ae44880ff6db377a628e35c64d4d6b0e60e0f4aeca39357b81a1beec957c8c554cbe49e1f0549775916813e29332b0e1fb3ef22522b7c836e6554562c8c1e78121b34b22abe795f12de7f0ea46d997169c29f2cdf5060118aa149d42c7847a443eacdddfaf30610f9a3e194a0cc96c0ab136aa84b04de6f9bd7bf492c4bd49f6a189f184d94ce493d2ad27ab1891f1d7255ef1a7b1fa70f8fe6b3fb2d0de44faa6dbdc4606417a086b912b0881970457bcdac11411799061a9c05aa78c95c37029fab3c4f910ee08b0ca7f30d556bbbe32c00578c2965e70aec4894f795e5155bb460c8cac887e3f98683d407684e2233f97dd7ed9d6c46040c64e03b0f2e862da5b1bf7d5f60e066d8fce88cc36270df5e113f4fe348fe07be8ce9ea2e62af470c53967ee25ca73b6b876791ccd9841ae081d52af25cc2eda3ed0d26d0960efbdba2735ffaea59777bae1388b862742228de10b9ee054002f2fbcfda2c41fa25176689a2ba1e9ef8104bb943065240877a8bbd53686eb1e73c4eed1ca82faa34102d03395030806e40f61dacf6c91584247e06033094a9c66a530fd33af4f02a2b66337fffbfab20fc20b068f3891eea4cb531321cd737702cd90e6daf7b3fd4ff848d2f2b3bb18daee5f4a44dafcb5782b65e4e2491c66af915b91e033435c55a088d472bd7c8fcbfa0251eea2ecc9cf925763a31034e3ea9844a8b66e552d8cf879ffdf1a2f32c5751daa2c9936d96c650c4d4a191302fc41ac79bea77c9437b867314ad5fd59ea68c0ff3beb5a80876e2478578cbeebc20916bb13abe611341efa0df9c2dc0e80bc7c57ede60d5069f9a9404c97d9ddb074e151de21eadd2e31ab61129618d9d052a0c697991e3025937a1e94feba0cde7963259c67669c3dc9d6e963906d89feb02287685841ad0b0552f6a39d1cbbab125c9e5ce11d9ad38623964e9bbae2b8b2a6fe4c1b72638ede2e748c738318e3a701afce7ccda2bbaed6254d20d523cd3d358b9b1d583052ed7dc01a0ed693e4e778e48a2e5bc58a8afd598c3a698b4069013caf92d586695d97ffe80d88a63504a4dfd0b391b38bc950e752a5375be2425c79079b980563cf67dd9b21977e2067ab4456ed1c772e9ef63229bda696d41f7ae23e95a156e5b16010ab2af323016d410b32f4df99fdb7c2d86fc139aee7c783829ab5cff0610d10c1d87f422ef3df900021bb886f9c0f10a3f730bad41ad18b0d1fe808e49a01ddaef24478608a90fe27594a871a9dd2eb6f9085d641d0b6fbfe9a8c769184135de5ce4b68ccc284f84147837c80a8165bfc59c856479418a093599792da045698b090e2a05fcaa36350a22359e09df74efdbd1aebf568e67f3e74e3c1ec84f44fb597ef3855176a740497de4cf485763b4f5b9ca34082db6500b4160f8211e5d0533673a6240e08ef1ab56ed36d998717679a0e30d8192da2bca6fe1ee1d28e01f5fd15beae8b24dbb901b73920c95b8ee38264112b0b78aa6e98d6e136818121ece9c740feecec089a1f8d01c743364c97b93a155d49c471533ffce290ad2f5b7ea708e7e0b4269da5378a8feb178bd39747053c5f7cc0027537c9457197acefcffe3d61b5b32cf1ee202812447c966e7e1eea83d608a0ccd4a8a79074799cba066d0f89f7f2a297caecccfa0723a6d7bb84e9f430251b9e894a3dd584371ce2a7ef6a33cc6c1604dc97ef171c96ebea9926dd931bc9961644c5fc3a5ca7cce04dffc7616c237cd97af45292b4bc99485f4da25541c1037b7dee175adff863fa3c0a6c7d52ab11bdda3bee74e029b72091945f5aee7f32a67411e7fef6f5f23395d5f69a8b0e5f1bb1e2b4fcf67b3505335e01f1be273a0ae7cef088b7eb3db2fa3f765c3f952cefeb3a4edd71121cb3413159a8420c797802c1aba45831da66d4c0f3052907bee22272447f1a72bca2a01d4f3f5da9cd155733e5b0a32ec2a5fda8819512d4ac9585431f5051b6f2b47ad324c0d8f09fb8f076f67e12b9cde096be4cf30f710df449c4c6f5bedc2860a1b5e2c0bfcc0aec8cadf1ae8efb3f40a1689ed505bec6eae326a3e21a521bf77e2ecc8bbca1cf465f9b69ee4a405095d90045e42f3005c36b7149d2e3936f9c2c0db0b33980f72f20c0e3950681e1edb788ae2bfa732e4e672cfdddd853c4eb79dac8f4939b97c55f8dcd63f355c30f77a7f05a609005733d86b733e55446cf942879ab93b5c7e88b98824ad04fef9619584ef5dbaf4ab688397b36ad9342250861f3f1069e98d794b40665ebb75a19ca44bca26368fef52502148b16815ce77519ba0f5d8587ffaacacd6e1b4e77d9c10114e0e7934cc21ead8415870c1847b3b0024c66aa0d18a45b85de50c3a25b561dc8bc5e16f02b9dfc8d3ffb2241a46db487350c0019474ba447620c49f7700ad762ff61d19800148acd2d417c9c3ed1bcb3da600f055ed8f16657c4c2cdb74a066d4f16bc847017888022e7513cc045bf73aaf0bc7efb6d4261c9043b1ff9f87830462e5125aab4d0ee258ae8b610b4ef547cdd72637dd70cb19f90452fde253e6575608c1f63e552908e641b21cca638a4501842fb9785125ecdb4bf9bf42ac6d1c94d8b9a4fce08f51f198a871632e6fbcd33c66edc90a1038c65081b35ce370846a65b7625f71c465fe0dd04d1e2ddc1b0b2e313a42be4f1530f3d2436092f164601562090875f1c1762deda4977e36a86af7ac496df8c448151af363ceb1a4b8a605d933a9344613f10dd4b6988905b3c109a7751d236f4529e5e46814fdf07ddfc95631bcc98d04268664411ac2133f9342c7306c84cfb9f4d63f645e9383a05eae549af5af04c31aacb24e80b6724a714ac5c4e7a3cb50fad8520d97b9da281ffd7875bc3b349df997d0aa9b4dbcccc2d6f407efd1cd50f44fc44cd00228c28cf1cac2b46f1e8013f4757066fe8c235e7a14f198b77fce46c64722137a055e1c50750a6f828fde3c8fdef4d39c978e49e5a0aaa199f111bbbcfac62510c9892b6c924763218ca7c7c6f332826fe1bfb859ea4cefbbea411f1c74bf416e99d4b8a3c5c4744cc86680af7c1246f6191f312b51bc83e464a30843f40a14d4c9560b96a2e515f45ada775409bd7b1d6d8adadbdd242729c587e8d4f081f3f51e828ad697135ea8d65af6d78ebff46ca6a7a434f2aa84646612379e1217d269546294489b4edc45a7e693686e6f2045b0deb83afe80009cdc26c449dfdce6cd36eaa7a9d5780094aacfef31896777a891e1a29d6061af0b13ab8c7730975ec981cdbb9e089bdbca5f93cfff23244e6c54c570c5d3d17359e0afa369654ab260e55192bfbf94b02ba96accd3bb970ba9d08af04ef47b95902babe3f62725dd0c3759872db5b82d2a3b3fc2b7f75cff0ad4b7ad01f8bd9963bbe8192781e4b5f8cc603ec89a0a3be6595d05e823676f8245f01428d5cc07aa3de6014a4f5139362d56d3de386070928c76539074e54db2f2b1836c9cc37703f471daf49488316f7a0f215dd81d0d5270b376bf5bf2fb04b27cd5dceeccc164e9a96866914596b6f96377e676dc2052b42f8859584a5b04b44c7259154b6e3715ff086488346347c5786d01391acf2b2ac068215be584f0e4add78a536c71d01287113771a638547031f05f88e66dd6d6494345f56499ee9a9377257d437ebae8ad0506e6af47b0e59c38d8d8898a89b577c6578b71db2f254d575f56c416d7056887c0d4b88a3bed94d35737beb3cb893dc0072b682e11a9df4a11219da13a4b27da1f3ee2a9a8fc6c7bb197cfbbcdc70fc099c829cb8c7436eccbd3bc03772f1e56b137e862858144657aad5645730067f9823e4555d9875ccdc153eef6289602d1b5c189efd0acf548565943da8a18061e0340594b5eb10f026271439155e464ed726d748c1761379f572a8685bbda4156cf87e4b942848f5e217b682c4a90a317ff7e1359e4c908333693d3adecfe8a3762f3df9bb9d7397a451cdd512fa9ce7ef389f5c83b5e9ca3fb38344bc39d56ba586227268359c794acafdef93306165b85cea70181c7e820a24dd76f6aef95ee5b7b6eddcd2dccc63baeb0e24984856d03a00c4fa72366861546b117fc9be769a3e3ee3bf9e8aa6f88d369680e8266b29bf8d44dd4c51d88640bc386a16aa573867acb152187cc4a61e141ef3282ed83f0535685565dc5f246ddaf3a67de7cc709eef3eaa39afc4eca80aa70afa70f9bf5f98b2caed21303dbddcc84d5178736e0df540fc1a46fdc33b39cd59dfaed96fa6a5266194fd01866ad6fc5b557fd5cfdda3786dfb8d9bd5234bca89eba4b690e863f66dd080fac4406af5cc12af6f8e2432f13c7395e9cf9f1ac611d3e682d2688891483b89262a1c356dc9ee1dd36d90385c90c19b47c2ae63545d5824fd182c25a96e38ded73b30ea64c0430eb9ae05cb0ac6a7c8e7b067900e6f1c82f91df8367a5e80d02bc211f6bf31493c05e165c2a0ccc08e9ab1894335e3c5a802d9aee207abe4dfe5f2e8bf2e616de5fefb65d7d25740e9ac1d80a10b8260baf4005f230332ff9d2d7d527c8747d4aa689a4ba305c63d0585d17982578572212bb71d40e3261ee23b4a10fe3b19b1a47f47be0383cb094094267a8ef406c64af26717f4ef96ddc43ece052562956694e390fc067cb9ff85b20a41b5510b65fa37425b7d6db49212afd2a4e91d4af63134993ab2149083751b728d14a0a6b230afe920bd4077f23881062f095f55204b7ba2ffdb021f02a03744b12ea226794eb35b9c8a46e3eab9674d78441b432ea396e19240a58d15a972d7988fc9b5252af45ce7f421e5bd4b8230494996cdc950db1aa22f657ba946ed8fde9478efcfd04c65bc328de3c858834fe0f3fc2d9e71aaebeb65c7575e39f1928d3055b32cc7c35c1c5f59ec5716a814648efaea32c1118452aa052fbf5a6a20d510262b07d1e3c1de8e03539d5736932aa4cbe7158e7a00de001b6e027ea2fb3a66468fd5fece89a41cca52f5d90eacf2f061174e85e481db3eeae104934774a0628106f6e1a508416a28f1063c8a3732d61027cc4720b81f4b4d81f267031271f2825e265513e601f05b599d064271fc175f6455c5d0bd913e4bd13aa9132946dc50d60b25b2b0e63a4d84053a2fc02227275f403ca658bb918b8c38cdc8f3a5f0c3ccc1b100e2683d529f8fd649354b6c7c4ce651014dba145a9ae87d9d44905b70d965d1d85fa2ebf0f16190f8b507d36324a741f2f0e739fdfa61d477407dbb759c080f6a3f5e8e9836db844b357f3a3fe6891122dda53b1f934dbc7b069df4c45f371dd7a809a9627fea924654ced6724c7042aefcbb8aa52397e2b7aaf1def3daf406231520b47ca3f0658cf5d6ec83e65c9deaf90f0b14ed6b3b80de64fc9fadad45f4ea1d34be964cb105519fd8ec79ce446b7b4d9da2201e678d54348172ccac50211ba3ef5c5d9125621b9f75da0d20551b0aacf87178be861a8ba476785e6406a298041ee73362d85cb3d384c4d18f9101e29559b605cdfa7501f0bb5fb9199af66134db64dc417ab65c87ae6c686f69cbb6fb1ce05c6b91c5bbf3cbf6728e057b8a42cfd1900c18a1055d54a97db91b460d5993690653fac83899f39bd4b159c68194698a1262f3e1f9668c031044f65650f9a1dc40097afedea0f62399ed6326b0bbc297ee139d28d854c7c7eae9dd427b681d62c8a1838fdac09fcaec534c7472127e1ba97fd847685978be85d4d4e792f4fe9089d9948fcc85bdbd9745269fa9a60bb8471e590e7381c411f46ce696c3c8caae44bd4c7a07c45acd9bcf4cd2bacc61606d74ba121fd19addec6d9df49270601266552cd24e07b4c1fc0c2a8e44b9580418102f17283a25ead04db6064af1135c3a88663008d849f99d302b02d3e8f0f52502bc3512b436679545e68791d50f81b76005e6ec1f1820def948b60fa0a650661cd566c37f8c5a525d7d96e13ba2f83c8ccea145743615c2edc946b082f384efb26b57589fede720ba5f0b542b00103078c85530b9c75d11b9592e28354f25b9bb1df17cb4431df805e08bdf2c2cb8c6226ea15e3706e5f17c6400e19902049e37041e5168f39f735632672085112bd2ce0728a570d16b339a9c6b6ddaf17c48248a09fd16e735e87f1a00a6bda4f23f4e8aa13fbb2342bb16f2f2905113c2292fb37bd29e2e905e20dc28d1b8205c7457822a0f07cd35f4986bd9ed9190cfdeda9557aea0552f14b2ba7e8c4674aca8ef1004d6fd4841d393abbaa37c3f5505f76ac9c178155d0ae0f1bd87ebde9be74bd22c6d0df4eae014e7829de4132b23f53c4783a1b7102eb4390d7e21cd2d8749a22878e606e90df84ce0159b474b0f6ca9e6fd20a999954d1382642b252326c02166b945d9cbc52e9ee28e6253c170de648b77dd9c48b187fd2a9398c13ea613158892e7c328e0c279e0a270a5356bc7866094718b1273af845e98e91591b42bc35135e0975041fb21e4da0366fd653877ebab4d88cc4d5c1a610f770e21ee24c32909d185ea0c8cea4b7359dce35e0d536a2de94362d5773aba36caea29fa06c66a0467f1dd378dfa393fe6d984566442f3ed2bc500578ca8d0e6b2031e27dd97e8fa48b3c8b4972d436c8a1e70cc43b28ac95956d568c5137dfb9baee7823c6ae6dab4beb060cfca082475af99fefab27475959197a9a9ce048fd71d32da918a07d83d229854a1e41403dd2dd1c0bfcf4a8dfb1fdc590c60df90c086d9c54fa07184a32b803a023fc843d480faaa3fc620877ccc26afc107d4de73bcde50209129d1b008f8ff06b0e3bada478d600147f012fc3f80fafb550232aeefe733788f642555b9d02e30eaf1863df60a013f818e1f3d63947a881466c9c9b17e5ae91303a431911d0a1c58db0579583eb0cca2204b2b66079213b9eab25efac8404df608df5f3877908cf9ec5c8d0b7969c6344fc099c37403fc50d9697ac753aeaba7798ae41e4e5bb976a0466da6bba43250548bb3710b10ef8ebb4e3d396c22fc124461b0e1ba078a087b8e13f6580e978094d60b9f62122cfa35ba19ab2668dca7f9131d6f8ed12d03aefb8e29b2c36444b895bf60687dd6faa8fe6a3f83238ba3a2d6b5f9d6190aaa38a3e41d071d0124744b7edb9ecf0fb6b03fc0766a81496ffcbee8dcb494846b01822b5c6726d235be89f739569a6f886045b7ddc8064d885cae93e46332addbaa9e3370369535095f99b8d95e5b512b0ca862fe694813fb1490dfcf8f1ecfaa65109809efa0991c654e4733f4eae932ae775719222b9f8d73798642f5e2d38970431356a74652b714f8973c030d7919f02fe679485b56efe7634e93604e0a15cbffb613cc8fbb58b03519ea0fd8576c66c988ced555da02d3be1574154973fc83ee1e7a2bd46a995d7f9b54b9bc77b97ae48a0001289560fd587197f2f3465446a90b2a099c3c6319826fc3683fbaaa766874b591f052a8250a418130427a2b058cc77936fd9270b710dc5de44fc5786b68b46c51eca10b3cdc545da5eb913d89bc740024bed507eb4adff043c5034db187b26576630f43084667baac8f6a9bde9b871e4813c0ddb714245a29b0033e82ae7328392d7d323db344cc2aa53b32bec846a60d0518b02d881665d9860ca8f23430681dd836fd897b15f47a5d78e01bb2e38da2c37274e8f85231c2bced5216f9f9c899bfe012b8c278522b355399f89719127c38f3af9777bb06161826f2f560ef702a05231821682e399fc1f472c46d3136640220140cd9f1f0b14ebd4c28e249b3cc8dd0223cf644ce00788a1a47a044d262069196f90f52ecd7c6aaadf186d4b4f6a06e8df03b8c09ba4df612269012a58773f6a53c136ed2da910976bd68fe41b8f9e30f32c7437771ba4d0b2465bdfdec621e75e70929264ba90b6d7a6d442e36bbe54bace25a5e5195e93c56603130a52aeeefd398c31ba15578e5e0295fb76950a0eae3ec6b2ff7c67617630b0a1ad761b8da51a04695f2f63454dde6bbe319407236addcc9603393714498e0cdf714343509288a7c1627e1767a1f606de0d13251bbd94256a4390c9c650ae653e2b047006abcd811537b496a330f81278f2deacd695d1c71f58f75d985ed7397044bd37871ad0ef7f7fd9879abb425a22a559d6c4c5c64188ccc6fe3631034f0e34bdec3ee51286403aa3bd2cb9bc681e433b6bed4e181371fc64642e2a5535281ad554d32a5001b4f0458a72bc39de0b8f281109f04d645f20cb488ae928cb2898feb807a8b5580ecdb57a152b7ec8cc3a14378203edf0ee7a813a7fda4a4aac7b270185709d7f454062e25715fc665de3d0b490a2634a50efb2cef879c486adbd65e145043538ed863bad1517c1ca019242782df69fbf0b05db53d7a1f6cb4bb094ae778e6c8477f38e3cfd043f632180e3b87af25f1c64967a376eb433745d2b2c67172e08a85b1888e4e4ce16b4577484342fc63bac0581baf4f66d072632d87c8c72c63f548bb263a7d1c6f1dd65f383073f15ecf71925bd2f02b5d858c9f074a4a053a9fb7f6c4b6f53020096cb0279485805a716052520b2b8fcce185006ec97ea072b37060af6f8cb0c9d73e6db57df8fcd37d5bb5a744aa7d05ec2aff482dc728fa81a116e4bb25e2bf4637f76d104fed55fc25beed45e8c5d7aba58543df8c9b461f08fe6a969390aaedaa846fcd8c79d91327ae4d60d25616b398bd19f426fcd29007f0ff3332dcd4703705e3d82e13a719c476972dde713af0abddda5b6fc4127192ee3d57880e98b95bcd08d4613635cf6450b3c7ab8b1e1449e0651fe83d80c098e7cec896e392c735c01b59f17d43a90449bc1a50e5e48a6fb6475d192f85fd2621a40a8a3fbcc61c1bf27ed02776bebc19be8e0530105404ca3fbc39557c68d0075485de9a435bed38783095211558cb4aac56049f2dcdc6f8a12038b0847e43239c6b0dad69df811166c3a1c3aaf32e2397a904ed371d6135dd01edb688e657806ae92daf864f2d7e1049a3b0631912b679161f59b9b08b9e3e088613b2dd945acf7908fc93fb5ebc7b971e4c492779afd32c188413dd00f27b75d9ddb68422b147b43a8ed8876c13059fc56f7dcc1bfcca4308e048447f7e227453d1a189ac3cc1401269c107ca0818abfbec556961bf4875faf285b80442b95085128643f0dd3bfdc19ac645bc2d18535093abab44bd7b21720f5c1c4d67930dc83f6a0016ebb29a50a2a2593a540ec48db6017a712c2c38fbcc685d6c7af17198341d12a29e1762e307f6fab2f391fd2f76e3e06714051ff8a3afbbd40b48a9a692ef81371744fbc75333a1d7ba44775a4617369def70ed25dc81fb29b7311e8edfc64da53c905f4e7150e48a015efbd8ea8a08be9c547f6d6f14ee1c4265d0996cf50ba8e4433de5484b5f0fd6a4bf8b4ff67484e005637241d1d239be054c5b0bc42cf0d952ccaaa00bb712486c685dba3976534117de63793cecde60707beeb14b955b5ee3f2cab3a166435b695774ba09121d73421258c6f3a6791a874bdee92244e24ffbeb15ae4658460952d07ee51d6ae4111100adcf7979accd784f100fb2da0a74fc404b2dd0e34f685a0546b33475b6b1d88fb1cd139bc23118bb7610365c8a71b645cbd6e18d2f9c155518cd87f2a42aba022c419223e2839daed99db152c7c27522523f150bc95b09f4c81bcf610f5f6871dbbc9d8f91a9c8cbb5086f5908e6669747ff7d161c6b2a733ae40666876dd1cea6f7542670f6553ec5e7d3a94d47f3cc1c6f55a514b2cb62695c91a239b2e4ba9bcbc2e6d806c5ce8ef0ea2073066fb33694c5bbbb0de42a7d089a162bc6e7e39bc0501c11ad9417dab39572697dfc13ac2907547f5d1e56ec5b0773516400dc5ae844c4f86728351a8834a8005ecc587144bd2c8faef85436831be894836c3514a948debde3a7be916b96846f6f21b50bbffed870c56240d013fab21e73465e667372e555ed13b18b5d7c6c716fcc2e90a4e2d7b282b99bc58fba5a9f0f3dcc4336d163a69debb3aec8677a849867f9128c1705cd7e00789e1abcf74bd88559e656e9d7edc5c435a0733c010e78fbb8cb89055d4eb692dd5b59891236e8bdc73146ef626d647738d2b834b683f21e78aad808a8ee2f0827f381fd54a15b6d4455b50beafca9c7570559a7bbddbb88f7e1475a867fc6b5f6bcc91124814a49f8153fb78f15bbf1382b374bd85e0c70d2b3efeabaf29555bb2b8fae6b8b7ba8612ec8d55d526f794b12e2b4fa577fa835d37dc4f69b078f51a511fda1e84a9f8f2f85987389a7234719c4bb123bf26058c9b9051ffb5b0bf39f21b58f3f924fd0db42ecae986e5a1947c47886f813eaaea839139979177f86fb1444d428ffb2403c48701a4ed1a7792b92a2b769d23c19e7b4471b0ea4306ad451980766fb67aabc226d2038cef0f90195e240a25b4cdd2c2d260a1948c2b534bd63e2b914d8ee939901d8896972d55891ec4c3ba8e323fbab738a9630a43b10860e9ba9d59d482c0854c7080ac966d48147060781ea2627bef7bf201a577aab223e188dbed4b10712ad705c3b20b5e2aabf9008fead6f4a15b469ac9eeedc3b74d3f60c0a5f4c3bec655b025c464de3748cf7b37909676bbe7f073727b64889abcab5f462b0ec3ce16b51f4a459d45b33412c28aff57f665caf6d7e40ae54ab3ea014d4c007b1d6512846d247a0df640ae14cc44fbb47697bf97e4f07ce8240f4bb41987699bb685347d140b8ddc0e7ff2773ec6716a5c7f47338c27eea3e6c58743a74798724fe80be870575ee6f41b03d4e36d91d22a347007b0c0411645e901203292ad57b138422737959da8eb25fad083dfc3866ac3362868557f58412ccaec3aaed274632fa09bcd5293fe57e29c443e3a909385d155635305febf3a8bf13a8f30f4a081fa316b03a3918b630cdf2e5a773843674d6d9b12de95f7db50dd3ae57ce74d27ae669ae32c0e5823858364136ea014b532e58264ff60a6c3733a36c60c33f3df371a578a58c9749590b7598738d38ca89cfcdda309a81b2b4442529d4ba942c14ef09ea60e2b4ce2f6a4d3f257c17c22756052288a80f5b8458911faa96316ff01c85d2796f34e630518acbe2280b930ed7c9647d3ffba766d72666223e2598c939d11f5b791929ff66460686c9ccaeea45de04ef583745a73a78bcda9ba45348adb3d02230909e696a475ece6f3ab4cef720334c605995aa9a1f2bc8898a1e335bf685d147ea0c91754d8ae49fd40b26903df94fd39da73086c4c0efd3bd07438ed5524aceeb039642722785bd15a44dea0a4f422cfe7698222464e1c840eb9d2df68dae86bc56482ee3065ad4208a3086c519fe3b868bba705f64fe20e7ec066ab96dd8b73093e3addabd1f0877da4c62a48450f2c0ad10402e96de5c6ef08fb79083dc294a7d9ae91fa601fc58d5d65ee96682bdf792271433bb76cc952ee14d1522bc375821db1775ed135cf7f8f328e5d46a14dd2d5d11154c54b1783eaa83c9f8a1bbb7d947965c888a25facbc4638fb733d0dd65e6b2ef9166a17256df8ca93a21fdb80d08c1f1b7b19e852d7bedca72f2cd43181ca8f4594f74d663019a8dc54a2113123109ebda8e7a7280adef99e5efc1eb7e65bb687f597971cf901930459c3fa0aadcbb6035f871a9bc970be8fd5b3c3603f472c60b5ce3300bf1ac6d75f2dd60a543d59688a00da6d589da5bab9329f396ed7c31ed019c4ee28bd69e194740afac8dd3c07a2f5d71fc0d36c6b0d498e81868dc59f6615a85fd7cf5a9264c017cdbb4d6d7212826db63f203c72ba7401cd0d83b5c563826cb299a31cfca51ed3293f0894f198f19f2df2536594607bb16f3b2883da87a6f6b9cf5012e87bc27702c8309ed09069205add27d6bbe5aab5177a367eaffbc092be798562ea51e65f643aee93db99109aeb00e1be6f26fed108217c3c0f00f26e2f74b21ffc627cac7c033d33949f396b484443bec8752553a0a0112af6315ae19ce6834db6328c2fb2aa62780c399e997c8fcb34415a9b237c62887c70e63aa918700e0304f7d7eeefe73175596243620750dd618c25b4c90f0289b6183d42ca711a9694fa98cb5e07a4ecc049e0d363d9b4bb576944c3005ff42bf898aa9a37f24ad5bb77e8579bdc9144ba5f27fd270e0244ebc0c9c120fc62c4bd512609bba6508a32737bf9d0aada667624982a2fedb6ba71005c50562df8b33ef09b9dac2862267a1c01e9ec481ee45f05663d607d34afb70446ff2a8da325f761dfa0d3369a2da24c554c3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
