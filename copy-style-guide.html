<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3eca70514227de1c7f4648505bc5221160f6417f8fb43a5ee3069525cab203c39fa7341667a675a93437a0d2596f3faaa4b83b31490cecec1c4f848eca1dfeeb6384fcb0755e130d131d51b1ebc5d7dd31500e0543abf3fbc18b14e83afc823bbfc34e3b755e37334556febc3177325aecba202ac034055425a7c00b686aef5b7573ce412ec8c57ff45dd10ab4a4bca228c78734aba21ef88be49c96842a9fd04576dd5cb7cdd280fd925e9cca632565fd48324ac9e1ae2f2ae3440ea478d3d84572b64734a0fbb4dff9dd0370f64785bf0d1824b2c908b48f7c0e483abde83b4ece949b4d33e188acb537ceb42e58f424a9e2c05e892979c42963fc3f7e44c1e4f1cc3bcbface568bd775aea8f5e2fa8a97850a5cf86b52fdf6a511fb0cc319899700dbe8e97f0a13d3086210ee8a1f3b4d0423c8277b49c231cf200d7b932d889837bba1be36fac74a4569ab26919b559bb3362d762a692fdbd80ea3ecde0179170e02444d9f3f31afd9b4aa2fe1375895c2240a1e090fbc9ee47f9ad0cb7c32e85eb41ba6251d602439b6a34bcab0ec66b04b040d0a0297bc8a13084bcc277c9655a390259714da13cc69c9ef34e307fd5586af59490dc864bac5b0c71c2a6375f8b40ea11ad32671d663b10920f8763c12266a7771fe85f4b1912243a05f5ef2b3ac298c433f07d0fa818e4bd64f6e5a238965d52943f4848bc494249c56ca4df263bbc6c2c253503292d01dec018b318d06cac4a609aba770c2fd45ef67c54676458c38b668b12d0f080d44fb8cc18ed793f58b6a423f375461c17b73b612475f26c0b72442b7e13cb9efd0cba51f30f2885ba69ad831614bbcafe82c58186692b80634fe028fb11b198f617ef93f3812d44a5c9711b5c1d222eedf957793b5816cea2039c3a3ff0087e3852ddbdf95d8778df3ce71236f07d2d9b09ec4e6fe9759af282ea6a1fefe03c5e90ec2dc9335f783f7127a12eef39b2ce08de96d1c9816cb7f2df6f6dcd663f952585ead99b81c8e54d81852e9e24b3a1958c59a3de412fc5967c77508bd6fb662fb4ff843ee7d14d5d6ed6c345dcd26e0f9297034154e82bf12fe27d2421ccd5b96e6698e04ee13f05f7b6985b44d8dfa3fdeccbf81d18e24697ad500e7bd29b0579f92aa5d54ba83659e5e8d12106521dbd0a3e0ec8416c846c2cf558132ed720113ae707f247dd4981f8370db91a885c3cc877a41ede2bb6c21062776219df8a2163105019042c91c3ab6c1e340be4187260c8123560516835cecc5e6d0bfd22256e238b23f2aa612d24d130416d719e45b6535ef5d0ca1fa9cfb43ef6afb468e48d50c6a9a9d519552cf3f72876bc0436e2de01d7a376c5dd4eaffc67a5f876dded0f25337c02e53bcf04303cdea33c9f6d9a2fa5d15ca230fac90a4cb1a542c113049cae5bd7c83b896ed7e0dc87a5e2a980309299e42069ceb12967e937c2982578c15c1f009e35d9c6f9c756a949852aabf8424310b4a16982136f4f5c41a320c4e2582afa7ca19899b2451aeecbbc3cc64cf03d58a7128eb15038b22ecb7eca1be0b20d096eb4595fd29f6ebe43586a8a7ec5e927a0a323eec26569b150158dfd6ca1db93e2012d88cf94b6ddcbc6f60c0aff6f89cce841631715d16811239dcf7ff7c377e06a43159a9b94835fa3162ce13a3a0e2eb11d56be8557f83cbd9bed8827335e095346d4b23123a06a3ae06e13f6ce57c25b15644bfc454e875e153d71d444cc6edeadf4d46fa9f43e9d8fa682c8fb7d6e09999de916b059072b649af6b95611adbaf5bdf17e935e721dbe1da07359fa60983997c86f4dc856b929958398f61617f9d9953f1831279e6a2cc2a05d76cdff80b09bf19eee5bc4241a8628fc7c5dcd99a35a351be09421e01f3eb0975889c0be3c9d84b08971fe6438c666113329a8631847b129712fba3e0e34febc885b4d10fe9a030e9d34143338fbba1501d6c6bfe2bacb670a7d12d5d5daf459eb9585720765c2e7d5f35048bd29bc652bec04a1a2eb965bfe908812326362fd01ed25e7aebe213eb8d32f86887efe5803d1bd50a07ab7d2292fc8a96fd1a2d9a7de31352db62e34a77eb88baf6e0e28d5445295b38564d4291b45d027c2c0c8fabe2c606335586ab8acf2cbf0f564032d9fd4ad966c41f8a535144d071e7221300b05da03c307c4516cab325e6fd5bbb7742c23f22ebaa82b6795359f5724687e527abcbe87d87ba0a4123bc7689a4c71175f145565f0a3b168ec0882391ee28f240921455d94956b214fc3d2af3c321047a41e959c4d9db9b0faeb158fac14b0ad23bf174d6adceffd8ddb235c0df5c9233b168c60dac9546dc20f58f5eab9335837efa8f93a1206cec52dc051be718498ddfe66ff9f8c3d74b6fdfc8c9694fee53f129486708db32bd9ffb3428ae1bbe748cd10284362dbeca675a496bbf820692f8fcfd14ce153f46e8fa1e19ba8f9656628d424b47f201046e3e5a73f4789b982a15cba4bd8d0a977241782e0d31abe039b14b28551385b3d6c9865d74e77b4f164344b5b190f1be62aba034323248a62f38b64eaeb30d174b4d6ba924ad49728373815a9709edfa71a36630478a21977309a4b43c5f84599dfe283b0775340fd42de78d404896839ff5c6583d3237ff144dc65f716e1e26f3f6cef52755af183d481b5e5887401fbc07223f7146e6719b70ac4156425f0cc81ddf7924d94f3802e77d8c7d1c89dc4ecdedef63a72e6c10f0a4d89b2b79a34ea88648168b55f84a169bede35f8db73869d16a7558ae8361b398d07fc1338612b16be83647437a48223ff371ce4e55e0ab75f24941b08f8c17b7e0fb3634bedad3f1841afeadbd23b72f9f5efa20daa2c8fe200c04447d1f20fbcb0d338486ef326f57eda3086b6ee4e90763722810d37641a520bfb3deba0b74c9151e94c1a84216047a2e6ef68c09dadd693ea5c41c1d9123fb8aa9eb16948f3b59481eb26103bb2b653c71e557ff59d61c4522ecd1549389fedf7bdc496a7ed198e9e33dbd3431391d45b50cd8c812eea2743e4e8e79ee2704038c8f31be529e5ddee7fdf5a1c99954e3ab5582fb4f93982a59f1872be3ecea00b0819134a8675a6b1c5127546da2a7ebaf7d7de7e75ad4467048a9089d0476d895ce680e32df9e61cd743d5ce2c6f8b82365c09698e3d2768261ff34bf4ee57a763c0a0fc22a8ad894103e9e6908914d162c0b566424d0035ee01ee1f81f12e28dd8a10516735a2c73633c57b9b1da267ec4637822bf5ff2ed92d96a5b6f25e1e8ba9e1aff93e0161e16d4ee707761867c51ecde066494924d5b165649a5384db5e29b31546fc635ea11574d9a381bae4da5f16a2c6387b69690686d4f69e51420f9ec3f8e15cb41452d44bbe273b52c4f509ec26db309567a37340d5b1e3bab13a5a2cef71e019d3b91bb60c8bb9b674cbb4992a420c85c40db18d9916fd02d78c2243a172dab396e5fb4b2575e3bf51f28783e16f3323ccde38db8e607c26e912971d59533de2e63bfc9549c35fb34a6774e212c1413713ae714ad3ba9cdd3791d608f5bd49a58d761a82887c27388a572f14141afa937e40cd8f7a35300d9526123d6ad27626ce5613e437c037650519a945660e7ea2330364d7cb9022501adc7f753c1c0c2b4ecb8726c3464a59611751703c031567494632238e06628c7668b8224a7abea8e8318f3855274542d637a4ccfbf1cadedccaecf647f3ee04c30ffdb51e03c9c6b81858e2108d6eb5e1d29af563df9f1a3a2faeefa7a0658d28afecc582e3005364d45412a658eacdda34618c8cf085c1a7923277802f18d5d08f1a4667e91f4a9c3d466d0203cea1283b9b17748c3c59429cba0fd83c897d0b09b34ac6f4d08fcda2aec054ba57531b8f0bcdf90fc63fd35c81334d7dee60155fccb2034818bc3258fd656522f05e70f40f63b9383549a0d3b1076c1e5263787ca388bd4c2fe8378d9d4bbca6cc210a5ed7966c91f704da9c381fb66bfd956042871fe5510d7a222612025de30d3854f799065ae3138ecd115d36d776540316d1cc4d44d2dd4d90e24c5c78bd972787b4567099abd86f71256329e76b9a099d8e3001010b34e69b6c1afb87fa2dfc596520555830e09e7350480d81f79bd1c0af36197e8348930ab133956c7263b460b08dc8eef890014d5b51affac98a2bb4544541a38aa03e50f81801d04281088ba5b7f4fc94b7c5d7604f36f5e220ef20bb2e0b5ceeb3a75a72202fb9bcac80a2764fc5d5cc2fc2af023f75ca44703e003cda058ec4c3c009b51f9fb669532b4f249029c1dd2fcc4e858dd4718ddeb986b80a7230cb8b587121922e7332c42c58f3abddfb738e12483e17a502c8e467740cabc7b3b5aa269686976603417da5cf9019fcf3b31aaed0065afa99e28d58bdd10de5c5a97b22bec7e330b4097f4fd7986c4e637f03e15c261d32754668b861e4825245f949743a20e51eb07a834120826a5b395dc5bea42f19a22e82e4f055a77fc4751bb6d443395f4389177dac806a0943aaaa13f4ae18030c2d3cfaab08aff51a15cf838850308b08943674deca460b4910ec4c3ca3781bace48861983650c17f23e5e8533357b05e2f6c80e82cc52cfb9dc32ea448af41a44ac880b7b6ddea1e13001f9bc3e90c032971eee6cd9a764298b317d91406b7481dc738a9b6258b4e50616619ec3ad7b05746a1469870c2d5b625d3acafba217b8b560b9fd0e310286daffdd41d6b3487ac41470f1abab7952baf9ec4fa429262f5d8cea96d424b3c5ba71c2cfa4bf2531fed321796632ad2a0ec1a957bf5ba78b6d4aab71603f77cc7bfe400a4895fc9819dbc9be219bf53c9bdca27f3a632f8325ff80aba9da664c66a3883640b8be3e5fdb931656d10161c87814fe9bdb43926522cfbf3065e6451d18608f682683a796e0c31cf6444bf125cd09cfde00d8585feb84bf3117d9bfb33fa196a77827c81505387841690f08b4d13f1f253d37bcbe2bbcb1c8077e118c505bfb5d9a692755847536668ad38d2b4340d84d00e1e589bb45c564549dbf230f17e846a25cc308074bb95fbc3bec770cd4c196e291aa50467f96ece8566ba06c42bb69023dec6843209038561cfdcd3fb27511d05b8d09ef66c833f3e89511cd291c054982bc81dcb09b57eb71ade94e0531c560a8ef132d88fe788070031493d48633c50e9c91bd92b081842e6af7f4ffc5e575d6b8afa8a61eb253e3ca38824e2777f3a5c4740929c0a561b95f0242d2a1d97b3992e4648f3a151789783a3636b5ace6c8beca6e88adba307ea003da1db0a8504be0617076e8d3b12f143faf41cc44921c18817a24a9c2a65c43395dc4b5c045c2f932b6d19d547477676924dcf48490ffe116e48b3ad9b5d0c5ce2f89aaae5d7a97f95ab1a15cd03c9d71d97c109a484e27866c49e1576913c3f201fb95b83ede55c32c4477668c0ce5046856e582ff935aab72f850d425624a9b1e48bcb337be2ac14f9e3b9dc016305e8c7106f8ba8120eb40029cdd6affcde9daec16897ce0247a1e50ee8c2f51d35ac11bdfdc50d3a0e44a790318d68074ffe7b597edc847131ba53a30f034f11aa2e83ea969849e4329d7db0c36fdaf3b54260bdbfccc73023defd3d4fd0f7a41bfb04ca827275c6e13b3f9973c9d500d12098b9a41f05564fc923e8814ff15ee3bbf1a9cc4e91e60c1317b1a4960d7a84ec4e58fdb87cf657d6a02a976f6611ed4f9dfcb579035a51ed2373bcf8a2517a3d08890e964ed68848cba1037b28956a392b0b667d8af17a6492420e8cc2dc38dc2f494d717444fce8212a69080adf790878de1ca84149b19c5e41b80ac8576172250aee48f1416a2586c93b147241f2320d4e305122cb402e67e27e89ea79966d00aa0ff1d7d0cee20e0db540231aa10f62aad3cc7a48c445332decc9c773c7c2b766fa6bc553352e8bf24ee3fb502db7ffd4741101a28558727174589bef8530ce62af9372bf1b3f1b4a03007b134a7d1fa1d4fa8f3ba84cddd61d49ee20f33ea57929abdb79533b520681ede1d4b016ac49bc05af6c104653776309197515b18cf5d4e3c3f8acf3dd25555da2f0ea6db6e1b96f6ba134e5bdbc34689633d6049d05b3ccb8c0a1c191e45b74dbaeaabdcf71a45ccacacb233f32d2adc79984581e363f01ad23efae56f6eaed7317f4ba0d04a75c59d59a549bf53100b8c5ed97914aabaee408a7b27f70f75a6add285a00d0d9aed05f039be0b9681411ddccda23515a4b3b372e4d3bdfafad49d64a788dee434bb8bfcb09f923d5c96ea78205f4531a58d47361298e2d951762fb75a0ba30cae46f36ca1ff295066380a01417d9e30b9e9ff1b33481ac734322b99d79a17e9c40c31c594b29d427e8b616e7ed769958d7deaa8ae089ded4cb628dab4c2b17da259d06b12cee7479235987cf8b5ae3affb960835855a641aa126f0081a09570ce88914da3fa678b36b559bf89a1f8bc8d899b190fe01e90de2696f666cafc59fbc44c3f64434afdec3685422881ea8a2d1b55b623bcb47592046406bec58726e58874bff50bf9c9f8f8a8febaa76496f78a59b2305b1255d8e027ef030da1b9d4eceed863cd5290b4d0a7ab540a737dfb4c7c2a3a0aa14ab091924177cdf65e810635579c9be69c053d4777bef390112594901a3385dccf2b4397ede793f7c11314f31829d2a2697629a167c0ccde80fdc48e7defc90aba8474ada209d8220257fd7aaf633b9193517d9e9cefd4b23853c8739b2aa9b5d1003d4ab837335d39db3b2250e320339cc7194adbb6648fefc6555b1432bbfaf72b9b4742a6f837d9513969e4a5f13a98506e5292a9a3311037271881696bfda4a803c00032b5ed5af92b83af6a67a98d7073f5502ffe7b59bb9af39308b5a723a5566c00fee83cf12209c42ac2fbb90e4caff9ddd8e9f09201448d41eb6754656a80ed01cb436ddefab14cd56821bd8a9148d65d2a7cdb37776dc0d3654ba29de5e2d6d136472e69be04fa7748ded5d1e2b51b43b9238a87c5e7a61621a4bcd94e114dec6758cc15f7826906a0834130a50f96d776429bde9d4cf68d4d48e96b7b5e398d46b7240d802dea7b2a1ee688e1a38c5803ce0183a009ac14b14dcfd352fbfc3f61969d5c8d1d09b5e37a7fe13da7219da2a020885c0fb8cc2f4781c753887ff7d157c9596eef155bcf3fa82807bef4d58c6ac13e36078ed03dc31a906a07f2ae249c8b399a526a140c107c7ae44dad6880c355789cef96c324df906f80a5f513a80e4a120a01aeb4d3837ddb500a38bc8216d5947c8b7a87138a25b54b57a50797ecc549be0480ef06a252ad42cb15159b9ac58038693ad280c211a1192fdf96ba1d43afb7768427dd64843a677f3fc2f8a8339edd6b620f619d0647c254d6213f1d6f149186bead6e85908783842de1d096d95c1c9204bd60a61080d7d543214b8ecf9204ca5463032f4ceb4af3f9470b6effe2c9371d30e0143a3f2d3d30a8dae2718083e0c7e7d54454e5fd43b5e85c20c08684a6b7d074a0850501efda1f8ed0133dce9fd10d27259f26aba6de4b14433cd0a67cf8bc764520ecdac9b2cc93e5f7bdb5c96e121f0513d170446a06935a3040ee545335c06d790ef4c7fa0f4cca70b3f2e01eed138f8595fb30361c7ff140bb7eaf2685e3f60fd02df1b4c79a279261a53fe853052ed77668a1e1446c6fc0c5a6a4ffcd97e61ae79c1d2b2867abd9a8bd3b4778ccd4df16f22e700ec358e18d76b8f4b7128078902bb8b48de0af58215ceda5991131035102a2e4dcac1f2d7f0196f7f84dd77952f595a2656d48e66f82d5f7d40c73db19be12662db7ca404463357a49f36dea90d46b07b8cbc57392632f646c2e26d624abc69845314e2fdb38ebf9fc9807f97648140a4e04dddca61f057aa27428a7bc170ef92102829ec827ec4e9e59483ad2b5670875a00e593835e619cac23c6102c82351c9cf58c2adcdc8ecdbccaac875720bd2f4664bcdec0cb9689e6eb1d2221ab201e3832e439dfa9049e933531800ba72b795d6e2dc366942c3d6f62de2e0dea6b4d13722ba59d5660e91b12e46e3b9ce1b8c4c9690ae59a8af4f104719123e841e43f414777721baf5e4a0ceca308e4615faf2a34abfdc13c93c145c8d291567b58fce68f95a8fa30061dd0fe36ab1761118779e1c6cd5de0d188ea1a2152d7a138551c2bc9dd76c81633ede84ac3b19ae13eb879450fdc0e22332a0b3870aa207df0e4e439603d0edd30e4f1a28f1b13f8900bfd8ce6fabc96891d975d27906a53613228138825a5833dfb19718f135dfc94e61e44d11d36b7eff03a91e25e4acc44b57767291ef296e30996509d6c46432bdd8027d53d70ed8951c7a2b4e17377bc99ebf1becaa9031f8140acec552200cd21e5c286de1dfdbf540ff8bcb3c0e37363df74d891a8d61f84447a4faed41e6f564787e0733209aeb146f19abd9d752c589952b8b58e1d71a31235511174f6371f42c0e15aeb7edcf8d1999df1cd41e4baafd8492e81ea5f43069ba6b55b6b579225818158a7a3976f8c8c6705a0110ebb22f3e2ed452712a7683be2f97fb5258344eb0c7de8c65ced0307dc652944de37fe614aa1ed7f82def3d62fbf935381798d11eab0b0faee2c270dfc2d2c06a7086e772644a25adb705571c909b08c239514bd77bacf4f2ef5f0fba71a303f5b9f1a37c187fa63169883012bf8fe38002a4c20efc5ef68abbdfd9cb48b76e138757e1a59b389b241d9e79b65326d6728347287c9ccd5abb04f774009eff87ac033d639e6d0b578fb997c84bdac805be70d64a6a0445a06cd3f45cc7d407898117db5f291f02aefeda137f99c51ae13889f179a1cae6279cf1b9cfb7bbc56b92594acf974b6c5ee9a6fa23bed27651ab22ef1117c2f088cfdfe98e21eeafaa886e2c6fc48fa1159b4af7dc2a125f2b50ee72cc8805e046feb7494cf3066b74acf070c305112905abae038857970f38f92639e53dc4b7524b2b0341dd814825628316428e14508bd615f2d11b29220b27377bd5771f371c7cac84c8d01003238b20b2e23509bf9fc25a2368b3cd734c548c9221461bebf92e8abbab5cb943bc4057a28cbde2c18f76d2e5a6f54f34a55e7b0a8d2e2921bfa58a3ba40984e2ebb77da47b5711b2c887b0d85bff5fbe42b519ab6d44a31558299274a52c97a2ad36374884823bc7a29fdd7957ce579b585c286c5dfc88b5668bdff500bc3e9b28770c5010ce7901bae4871122d403875f5cf600b9841170d3b014a28cb8028087553237df08f68e683fe9eb5464243433a3d325d448026b0268095d52e97f12af100b7c18a36e948ff8839e3a60f711ca6e83f419a455f45ce195bce84a93003b09b3f18990334ae8c4779d892660d2519a976eb5e255e0b8526fec52d55afe02b2b40fb0c33680af89122cfa3450d359a9f79a81afaa66bfd64c152a3d7ed360b6c37520d12a856fc9e3f2b0e9bd2d6fe9fc25a21a51471f30404b205d54dbb88ad0adcf3cad9777159f659b7c462a203528fdb712195e34c21f539fe0cabbe1f86f47656fa8d8db287ec557e31b0a9d8f9791714ed6999e6e1a0eba79a77ce07fcd490f3a9156486d79af3dda52259b00bfa1794bc7209f9af8c7ff0c1f0facf2ce2cf122c0549abe1ce86525efd1739954d7b080c3260aab8297f3fa6887e3b6b5a4e0ad64910fb5f54d13b50e5b8155c5c2af76e433095fbac1d45625b0ea71fc4d03fe34bd4bbb8ab18dc3f28e6cc18cf3f61b549dc798cc169276a01724c66269db340bc8507aa8cd3b2080fe403f7996cefabc73250dfc4d28d3b4a3d617612710ea54e442ce7573628fb392051c84c7b901e6a4cf79d4e51f2467dc44a7ef5f9766e46b3699ed7d279d0580d4a2ed3e0b0b3eb05b2fb07ae81306b7cbc790dc5707296dd0b425ab5c5db561f45223a85a052146995b5e66e4b0d2a663bf4c0f657a4e54be99839885dac2c8a72bd7420d33f377569f63627a7a0d3dea6b047fa4769b92cfc554a8b20cb084fc4ba580920360a76f19b4b814c6a8d83faa3f17b3e81d24ad228268c59d31124eb3dbce235926831cccbd5b86d0eded8a2641164ca3cc05ea696f960263f9769665b0ebfd1aa0bf975ca4cf9a0e38c7b9ae3dfb4c4454f3dfc41fba91487dd97c183c81defb3fa1147930336e629d7114780cca699f69546d251c48b5b6290f2307b24adcb66009e6722e37fab6327e3129c1c78f282fe34840a0d39947594f485dc6cc1a2c0ec0bb578106e36d5da1a24dc62182f09f304390dc7a0aa072caa1cb2c40fe97952c017d7d7a58468d17c9c07df93ba764f36f30b99559763eaaf2498c617b9b4fd6c29d4d4b2f879932dafb111d3654407d50c1d91a6b8590bf42bdac8d107a2391f546223d7000cc4a6c4fe06161f1a9450ad0661a0e61ebb01af29d2728a22d9eda64508380b7ce6e5a364871431ac2b18edb6c740d3590e3e406619c69569ced1c0fc4e3d68d599b8cedb023aab06f12c5a4e0bc199d6e935a8bcb31874519c48ce5537b1ad0ddc348383c138fe160f562dfc113f8c861c4f82a2f81e35c850357e9159d12d5097655754c4f8052224ad43ce8f4ee336529dbcc10f84275c0eb1ef36d7a533c193076886bb424a3e820eb43fe98afe341f938b63ff5578d201a8dd80bf99dcd062684cc11ec28ae4402564bd89361797b35c86ea08eb952d2ca5c708c90ca0c1ef3af7c1d477dce30d1dfef8dace0aa4e0176f09d7428af57256d7a9970452f2748963dda10776e10b6e916b9e60926e8323f453f2fdebeafa70dd19506ac9226cab8b1703c21ac8abd49f1f254bb4e3ef34fa22180c8a04b348111882b7f4d13137e4e9476bb5e504c3304daff41aae1f62ba5ae7a653d1baeb3cc4958992feb226d126390e821b341bab9c2e1cc22ebb9415fd711d5adf10c1df899f0f2f41abf73c83cb4bdaa22f596989f688c617a2bd3f3323e00d98c3c45bac16f09b479c450110d4d2a84fd5fc643c41a3f0ba40140e1c8eaaf4652a643116563b4ba87a3e9a202afe7f3a8a6da64926dfa43938abf2de558a69db001a0b69fc80f2655585fde9febb03b42c8cf09fab2c8c16812d5015d4d5fb47e63316dd906d3c95f1a31c1be7bc49cb51c39ec63574aec5b65de0975ed518a9e067b7e2313555a6f476ba946c16774724a98e27b3b28f6faaf7c56ee9936c248d25e1f2e55253c595e08a2b0c1cca6f49875db413513b4e6d67b8a577b93dcb7d1df335b0168574a6d9da64d5b950207fd8bfd91cd966ebb05336b4e3e0c9b6e7a43c9f95295e75c695b0ac8b6d064e5b83b6edf7819327e64a665bf0bcb3426d9bc5a6741d40066cf12da71b5a47351d97bc816e938d3c3c082a4293e224d6804e151c3b78a517e3d6b4377a56a61b6b877cd077e5c8464c2f211bba6b74033e423ed011b20825d07cf9fee462e39deb1dbf21c5c20445adf40fea7292a82bf1742f27ec21d65a7aa7a10a6047368951ae40ee88cf4a81b8309e703a8293fbf822ea46f2b75511dec664cfe142480368c6d68b5da84646b815e4683c1da7a951fb1b59de81a67f9386ba33798f6c9473b12580a35c54b847167b8db7fb450f110f128303351bbf05855b20dc0d35e6eb51e8ad30455b00cbdf133e565d54cb0119c82dfb31bbe35a297a499be2170100297da01bc327213d35246620e51535aa2110a722aac815c8fea7c029b129ffb68a5d13855f83fc4d8aa97d2ab5e2e2b9703a0fbc2ecd048e434a399bae82726bd39eb7cda29f7c4674700814348a4fc14aa7f4b9840b61afb3a070df2a003a4db456407198b689a9500394c557490cd69c932bad0391d72fd4b5ef3485c4924214d663530b300b4ecfbf2c9fb4da84c0083022bb5ca017b2622f1aed6e6dfb812f53ddf62818819eaa46643b4d9c1ecbceac3d38011872cef41844f384222bc8f0a2ec5fe9071c5b4418a2a99ba57e55fbf6386732447a1a498d3f41dc82951d853ea1f88103ed51e9811a3419f657a1160e7dafce537c028e1cb87bc47c0656ec9647ff8327be25028bd826cc8c57fae58a563192de1db1710d5fc4bef2aebd4ace91eba3c3f54dece2725312dac278e6f5e072b5de7c551ab48fd13c31bcfddb442e7551787737cd7e413db2c97ca8cdaac842362e91d9f0110d35d855cbf1363026350063389a0343d3a215127d7cfc236a5970179366d1ddcdc30fa9713c9b8b25edb836e7baf4c038742d7347aecd39ea0afd346af0e310433d80a863f6760382dd5490c0be98bb26de57324d93fd8843011c60d9338d505103148db3f1f144d4068ffb6bf960c9b2f03c0b878a220ce2e50b956b0d01dc1f8ada16d7768eb575f04de02831f68b8ebc9468cf05860acb03b33e066ae5a3cd50182f90c0b9031a3f7965555516a3717f8f838d1ecdddb62f8a29471da0bf03bfc27f68953a15843ba999125aaad2dc7a2cd7a4ba873075146270448f9c29025a59ad113d98d974459c61248730dd6f525248356647ac9b4564b06e5558f3c89545fd0c916608ae3c3c485badea478e72dff67e20636408ed3a94e057e12ca68eebbca7bfb206f7d0d5a62fae1e255d3ba928a12bbea91e421acc3b12bc319fb251624fb77eb11dc80ffb00b412ed70fdfceabbca3394e5bd86544e7cbc8ba25740fa0896db8b91bd1e6a2554169a16900e917f76a4daad76285de8d07685c82aa9b700321cb71d56a44bfd55be4d50c3e79af3c7cf10e67a929dc5a670bef8ca982a7b660b562f2f3600d4f65e3092d04f442acc14483bc04719544b85c881d7b30738c72ffd0afc2bcac8e98a207426762cb04d5b6f0f826523baac5c58582fe66c7c60852b672b27ac7f3fbc4d17f436cf343461bd4ffbcb97b0256e3db4baf92c6695d168743125f0991632aef050dad1280e719bf75dae5bc2a3a7e7472cf96ee82f97799d5c76147d21c26a4b38b5d6cf0c2a6a5f26baa122fdbb95bbb963ab5fbf37f6ac1f2a6c4d6297ad26c2d7821ad1c0d88443e95897096932cd65717850d0fe36e92ce4b7ecdb2ba481486880c3963701138bf0fa6ca328b2f574825fc2152110fb2cdedca9dfd8c495a5cbac422e6fd4f2ee299c9e09b2954e5c673fb85a6ac88125993e2518b79161d605905b425bc2da55ab8b703cfcc0a333fcbf22796fb4f991ae2dc37cf4cd322fea025a467ce275fcbdbc4840243c49bc65a24aec634cf7e558a2681780ee474f25582ec41adb628dd31a7562a2b136836ba6281a18f4d1c04ad704dadc8e225ac615a6d0a2b54d98b3594e2ffd155b50ba3d706a8406054a5b81cbba8d11eeca9f12dc7546e8a355382efb7d640c6df398f04aeba9ed261dcff70432fe8bd0240e1fdaa90273b491b4b50744cc35dcab37090fced1c5e0a24da5369beaa846691ae74d7a966203b71a17792e07f486a968c3638f3093ff428eb289b44fdb49ebc9a0b3f440e32d128b7bf7d464bfbb439f4ee4285bff7aaf5fd78cf7a4ad53529b47600cd35dd2aec6213779dd302a15f5d6e0c723c47081715b22dd06305f21384b0cb0e72c3bcc0fec90d9aa5222772f3cb359967d1a2a8f243d6fd82a8f5fbebdb65a20a966788f640840dd9aa467c3005146680072ff4b5de2035a11bd5dcce588cb1a46c7c74e6787a1993f079144341563fee1ef2a6860b4f2b1dbea6c315ff3de244957755757527a550083e8ea13d2a485468cb05b86347cb17d3a7581e16a14f453323e0619fc07fa053737185068bb4ffc3e197fe6a244c573ed2aa9ff8fa4e6704484230aa228c8976a733f1893279b7f8e50bfca35b3e5182cf9c43d617d61deae2f74c75dc663d8f6cf66f985849fe29b7504981f3221ffeb4bd24f1b956a1ffb8a6418c71657a54e9978a13035fd6151b3dc0d51665f5fd154c17af7e3b087e91dc224654c264eddecb1336f1b1a6e58b53821b5a268414069500532da44baaa7e7ab3b688f41c5c5602911fe2cdc0f9720dc092755ca2d02be23f2889d0a47192545fdd1a5115f2f4bb22398a79ee55aba60f27e8de291b6d45b7d2d1ed884366c4f655232c13548062bbf594d43efbfd48631c522e92d4d3ea4749cde94defb0bffa4b4a84068737a9beb031323ef4f0d7b49db10b63fb90a9b129886c5f1c03262c42d9d233c03f64a2d611c67bf558b7abd4427f67a8a8ec0a39111fc9c94aab17e10fd9d898ee274452128fdbde1f9409ef401a127daa46271a6207acc56ead186b32d0ed1bf5457e374221805012bdab78a190a606bdef587165e3e2a69304f20d0ce4d2aa95b83ab168893cfcb39df188536e77a76f72a97839241cb6f93211bdd47bb6b61bfb3581638d21eb6baff028f44a51903b8cb6569ce0b399aaaf6963d00078beb51a4d10f61ff23ec2169d1f3b4af2fe12d4d8c829bd863091e9f8f077ef4a6c987b66658273b6442f9ec8b9edb87e6467580e3b833a4348a6c560acdf5745447584be0089faf63fa6ae2809b1ada709a9684a610d530bce688810233b6cd28d2ec49c36e002e6dda3fcf353bcd45b392a37fcf8f42ec566d79294563d3a6927e3095177682347b72964113ef6f77ed701802c0efb1168ec98b8f81a159cead179a5bd9610d5d36a045e8f88fadc74c8221829e5cd4f8e2c48140ab76d81ac10e89fac95ade908aa7e7f9b5d791ee2bf261193bf1a8d2d2126d08f721f52975a0df7fb40dfa81d34a4e3351dc781fbfd39896700b5b702b0a8190bea0f8109920185981db7fb86f5d9e4fd8734fe7232cf239e178ec135e86f9a7f8127c9b04af834e7655a2afabc5aa0d4f2179b7df035f9087b8557ba26d722782b672ea27c037022cbed5389c2bcb89dcfbdc2ca86383d37ee155199b5b014a768f11f2b2022cce37b33271ea773ba001e579d722a815afd6a83803cebdd0dc974dfbbc93b10602c408e68593998b786764fd6b9e843419ba443cb395f7bd5a582e9d0d2bd9a83c1bb0cf48fc4ad8fee3d40efcabae533576f749ebf51a3134db1eb3d106056cbc97e7896f4b11ac557188f5450ef6bff9556e37a6858cd22d120ce0a7a338f397ed08962773fbb0df3241b4e3aabb6b4249cb55a845a5d107f9d4538d219ab9576943cab1c3953d55a0f80c371e4c9ae70d57c667a6f6fca0f4f0b9889a8e16563545f8a456d524b8ea1c14695e99109e5491b407dc505e15c12e0fa635f8926d946a74a77751b9d91fe3fee804c5d8511abc4f9439a407dcc8376d61e3b968e8ff46701338f67b3d0040d41eba42ae80dc543371099bda790c82cc3eb26d6311334d1b520f5bc955096942effa65513a634c7fddd55c0eea9450b5907d791cf1e39b61e3c88f14e7b605c9f9063b46f0b025765911d99fda23acc75d2e0ac411908ff083f7413fafc47917416981be3d1c87b42ccab3f1bc78e4eaef610abf2612b03e42cb8d60c6c8e1ea04fbf2711eadd1681176f26600b2c0d3e6c49bb009d9e1550066434fbab508faa548335303ea89df2c8c07acd05e80fcc5156eb3d16a54a6206608024bc35f9474ac74b9c5b951053a6ebf575b38e433f095251179230ed10e54300041f86bf15cf0f96685a7ba6907c281db8f8b1c6692c52c83273776410402bd49f88012ce17ca72419ab0d4ce61dbcfb4c336ad06faf52721726213125c536532a4b5ee3bf66b11e44345432b905c46c2469da07f7583c1e8f1fa3952f2e2e4fa40966835f29d060a9aec5a000f66cfb43b60c5f6c3184d25111c5888c3558c65b67e7d3d37a353e25485b0737d7ade6403d57c6566ed74f2380326e15c97e167a5efaed217e8eebff84ee99a4e0c8fd2894056f35d831c6b5d752dc57695a0fbc6e1508a4d38231eebca1b0dc826d6ce46420b6b0db31856e857873615e609e10eba511bb809b8bb5b6dba9b28925e7b8a1c87391e8d4f3657064ab22a8a8bfc134eaad418f1f84085b01bfe41aa224fc819c36292ae75e9ae7dcc59c009aa6607156ede209ae04cb6e92f8dae2f1aee69da149d74d1b54b952f064656c9aacc24fe8acc28c700dc961a0c529e715cc26608b1a6d6362f0e07f26e663de76afcf44fd3dfa8eed046408aa73d64606053fd9e8616e81d246792954033f4e8eaa19c56c72162162c7156eaaf807fd37a2dd2e96932937e65a8adcf82c6375255c6a13febb176cb3db64cb26611b8ac3ecb695f0c69937b3a28b17abf3113045b5a9eb7a510e708a8c8e8f3beae661acfe3f9daa8bed54ba316bac8ab246691cf4737292363bfb178100723d8f699cc6f02cb5a88278677f0df228c94872a509a3566439169740775cb5c480dcedd56ff8a37fb16a211440096a2e4b300d4dc26a487e35fe983635769ef15e14f223d9991e3eefa066727986e88f40b757db71fffe36aab75fc8641d7f94338fc2a66e7a13856dda761657124464b88396b5a2d32732663baf3ff7c1f8b48a1015a6d9801cc49e772dc2ccebeb06a64b54e937d2c9fec72e38af578a2763f865f5ed614eda33756eed6cd7a1b4ebb28af7211d7e83968f1ef2a3d4e020d76a3665c78a24c37e7f69fd6820da1fe317a0283ace0e30f7f1c77ff80ae371c1508d0dd7bcbadf6fd7888c5fa72c42b792bf2d3d282371d6024d075b70eb418a8ce53ed9566b1b584737d2f0fe0d5f35a9c1668c0fa67a3dd32e97941b2c54ae277a8f31944414d3956b9a78a93135c7b277bc980379c562bcdd8f972610628838f1825f2ed2ac781f79a4c8cc4fdd7b8553045ae611a52323d25e48997636cecef1b8894df80542f8f4f4b7f0e2a33c99839f13ce4350ce6d79fe0c1a508064a2bab123f1ec826c1bd1d008a24b763aa7b13727ade983156be3402f50e4eb924951a2f0fbe2ebf5283f4bae11cc38e8abf532efca12b23bf70af487d3f02e855ed00188c248260142b4ee1ba3113e36da4fc23155f6e9a2400a172e074b9e689228147dbe56780c5003668ea03327303bf8a72e61476fe10429d5db79f266739c1b5853af332ca49fc48f150321419deae1432a44dbb5305ec4ca4f9964ac177936dec657a81b1243690f37108dcb10a29c2b6aab78d5e68af676975d371021199c6a64b257de3de0af6adf03d2f21b9761f1a5ac1790dd5590f96b4740620074e201fe689be65b7f2dafe7454e74002ac9224a803ecc8d110dfad9b47844f4bd42539917f72df040ee7d1a89949bdfcbbd741ba5ab92389ae375629a6e196500ed4a812d58b4c1667018d9c13e56f796413f7a48595927dfb50732e5f078e6dcc729a2e902266c9ed5984d70437001138b58303cab6e43ed1a8b215678baeaadcaaf82f7f3ca8d6745795e49bcdc52c68cb1efd53ecb2291eaab0cf6e91837e685310266b8a1a307d67a4d90f90e02174f502b2ca8f307ecdff00dbfa03b92e7e48de1ea165915d7d2be71973f25341d35148a466492b1f5d593b65809fbd9f9f4c70e9ac2633db8fe099d9ba762beefca7589caba3d9ccba1dbf0e8fc992da2e79ba8eb339978be5baff34d2ddcf7995ec28dd979a20c27bfe60e94d81c97da4ef280f663b3512dd3d158178d81d6cc7267dd095516e52462f727fc499c7397c37a679c083e704dc002f35724ffa2c254b2f19360dff823ffcd7df71610b04f119745cb99a1d23b10ac993c2e46d98228b96a0f49100e3608285ab9b9769bf5a5fa05cfd655a3f0df565a3cb22ffc2336e45b9cf73e40ba5a5d9b018c8566ac3b8eb2dda7fdc08aaa9cc775fd9002e26e7056ef4bfc1a9886b36c0ee5bdf0be0185ba4ea1ff769a7cbeda154ba7f2a2b3b0ae2523cc282a1cf7f4ab40c128482e86a66eee6feb16997c0310af2d40b8b269c0adbd0f29aa32dd7fc1df06b89e7ce41093fa8079dff248c035ecde356940e6074c05b7e6a5563b4b5046e0a6cb1e586fa3ba8b9307013601b869c0ea42e9fe681162f9257ce0443f4a18c312f096f87d10026463d996aaf0b2b56b727c29f9b00ee7c15c3cf4fe17fbc25386657bda20fbb3b6a1ab1bc58412630d75a9233f6eb6aa7184015420509ab0739f5ac5a1aa61c6a23ace3bcfa00a899a87e6cc76afec2b1b81dedaef7d5b2ebb80c1f5e3bdbbc174576419bc392a39b081d80d3daac2514b646431882a40cddbcad93566e4d9fcdd8740ab886eb99c7b9415b5340fe5822177adbdbbda0657d8fc217c09f9f39d9078f4e427cd0808ba41d27ae1c33cb1154c03f901a5275e5893b2876e715bff3afef1fa6726c3e03d93f71ad9485784fd428a1cd0f99f237769748bc89e91a8ca508b7564bb3736434baeec6d64ccfe065c9f4cdd9df766e751ff74d61612a325c5b9677d1e2f06f50936988ac7ac2151dfad43eab6f5ca7a0700779fa0ad3fe876aa447f3840910e4c6d715b59063680c7c2cc2b0353b50dce3be13ac8d5efe10dbefa71e8acfb02d95a8d8b01a9640b947dbee828b9d93a45c6e546cc72b3978417c683afbb22e1477a08b776f5e94b0fb5494d87d88fd28d84f20a9c74f08df350478d2419fc11fdab955f335650bcf8faf2a7f708b69e13128128e8dfa3367d1b4394ae1c17068b26dabb3bd9082d03c669d091067e6055bd5a2d507845c81d5c80899bbc25c92b424ca0b488895ab73956f3d7e2f0d16083b358ae363a64513ece63cb5a387e4291fa2839de6b2c64d71238e68c647ec13fd7bd5cf7eac1c2dfcf8c1d63fee5e5cf698b52d09765bcb39a636150e86fcf4f4c0b185c318761edc1dea001476d590e4bbb1a826e6c644f7eb63d95a21ef65a5ce47268a3e8ef3a82a98c06c75dae4095134f2385816db35ad0c4d62fa296225211421f1eb2c9099fd3e1a4db9bdc44173249a2cd30383ac6849dd2de911d9530a404f46251ba5f2e0c30fdf04d7df50e93754f0ab7b14267d634030397fe1e47de9c874838d658c2cd42528ff7968f62a6e0724747edc4c28946289b8c29b479bbfbb90bc553546795c61c46a74840eeb0a99c6d0ea41f309b4292bd8996c8d3775675deef8d82c7c1f84780410f7cd0df4030fa1e820c01cff249e8cdb79ef1e30f44fac096deb02e5b21c633a29c1292d5530f0ffc4a1380f03fc15d763b388f93afb6e66dc206060a3f4aba78bc9a653081f19dabcc9957ec8e3bf3973ea4a9af4bcee71d1143f119202464f00a14bf0ce6e37ff4a441b156c740e4c926c1cf68a0202f6cbd5000e3c557c37be1dbcf02ac26dee9e36e5e826702ca280928c8e1cf085799c92941cc7c68a0662b043774663fc9e09e82698c86a295604e87689a62a9f2ec404cf964a4814008cb0870beecc02345e937f923bd066bd9fcc9302c0fecde651615f7d76bc96006b1d085dd7ff3c7c7864133273263fba14b92b653fa943f9316b0bd8c7721509fe7d52278dbfd78d5f3acb71bdaf3b0f4785851ef96ee67b734ad5e4cdf43c8159f7be8d81e25a2856f35a94be8f7c9473e9af563ab3c79b5d37bd08642f0d06d28031fc264235e5adbfe5449511f7183cdc07c6b03ddff2f852c2f561803626b4c2738586d11f420b4c5eec20f2143b28418d0a77e1c3f301b64ef79e3c973226c2449d64aed47d4cc2980c58b20dc3e9193de5b6715f9ab61f071c141a6c0cf8bdb174a56c75b9f059262e620fe5d63582a626b6bc50deb800a0b3b00fdb582fe25c18e1366492780ba95bbf755b269dfad4099656d91eb42b9905aa8ba1837341cd1da7e23cfbf8793d8216d89e4186605e5a5629dd7d2c3097291530efd14486dcb9c3e0ce73b2d5d9d991b5c4be16cdbf661f29d67f297574aaccd2f824f4faf36a8161780ed31f5c8706c9ae254d3bda0bade91a36065d7d45950e38ecdc935ab2c57529776616e4d1b650283c1c73a806bd47f232ba2733b9507edd768bc9c3b585116403db2f5eabcd8f36be506fc93697a8e7c50c8a6351fe9eebb0d8ede2b9257c2a48766508d836e22def3592a657047cc1a730f5ac90aabbc0198c87700ed300fd64653b72d0a4c555b9c65c6c62b8495789f2692682cd93daf8e4a7d459bf72e9c7a89c057c882ee09bb7de93639d0c28e14fdb3980dc73361750bccd82eb3d04c4c40ae396e45e861983d49c05befa912a3cdb022289798eff32fe8a6e20dc1e7b4b14fb65e34d781261894af3044f1256dd54630bfc66ee4c33973fa55a4865db6ed124f1d6f007767e74acaf0ec789f5aa2719ba7e447ee0e66b8a901f65c655529d3d260eaf7b841bb17ab2573e4a45a330fe609d00ffcbc5300bbb97fd07f1fec715c901833418bacb4865db4da14efe046862000d1ca5b37eb9bb4a47a29bffdb8fa8a909e896d297a3a32d81dec8afb884c98e5d435fa0499c8a8aae233c0f4194b3d85565e9db39faa41d7624c35949ab883308fd4deaa32f9eeeb253e40965fce03a0ace2dd6163530a3ef3270381acd28ff5bc999eb6c7b30add39362516e07ebf1e5a7d6e155da3c23fd47a583a63f21d8d60e8038f3443d771c10d653741af7aeceb8702a356f47665dcf5c538179a4fd85be0feee28f884493fbb25bdeb41aca50b1d008625465a1773a74b2c26836c6db156e0bf30d196826232ccd2d687b76552112cb3ceb30268fc251ce9aa2e241f14c2594a235825c3f6ad889f80d3dd1f471a4b881c29a5bff8f8085a5621a68578ad8a121338e2fb99a560c24ba7599d406ab676ee92dd2ca376d884e6637d4bc20a40ec4e5527b3df4e6264c07169de9e09c1017cc9bc6b6c5184944f52088ccd26c4f08fab0533710ceb02be807cd0456b8e6dfb1b89f8f87e121bdf489c630fd700ca55b482c5ac31a64c9a187d19aa75a67f92559de72e0afaf12e8c8c346212a96ab32dffc06e9a947ab78dae5089696f46fb7b7f65255bcb4ba3b6edeefaed3f5de7b2db0b2fcaeace97531ddf3a9cb54051b22f95ce800bc6a3902505c58aa58c3caba8dac591d1f15f6b03df2c80400efdc26694c5d4eff88b43d22fc332cc5b5e24e4c865357a0aff0a80dadb56ff0c2d8ac43176f7af8f7a25a050beae1e24ecf9ed99d7966cb99e47848ae85a8ef68c2da93e39cb4280a10e113c4ff546d652b9a739d0ae677cb62d23f345813873dddcfc1a699a324b9299568f2ac441d383dbd606e5ea4d2214349d6221575d1ba031366052da09dcc1075b3be8241bd7e8c91365250e3649b2f3a18845db8cb022cda5251552419ec3f8f2eb5306b466120951037546e1b5074ec8f97a1083a885039940bdc2ea0ce9d5dda50d73dba22d3003941bfd5a6de98ef6621d837993f4e50d29b66b02ff45178ca5b370e05e236d9d33ac7822a42d1fa07c912b0c504fc0b9dba3c331ada89ab064cf38ae98b56f1621068343c377b623f440f914a66f5a784f4dd2eaa2533e32d7aa7f4d5b5e95cbeebfe8919095d70ff9a8cd604a3c73896d6238a4c4217d7e3866b067c173cd221d2e51aa724f1bb7e5997f15a3ab68dcd51fb8b47a7f849470ba7b76a8915c12899c7dae9915718068f00db1cdaa193db4bcffaed1c411a7bfc1fe8f05e1bc1c7b0aeee06f76dd9013ac72454796c60b0c3600a63be914e1c0180b975d343289c05b936a7d52692d1289f3ea8fa94c809","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
