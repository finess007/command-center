<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a97b28c572db71022f26882bb39590a7b4ee99125961fbbd0b8ec627b101845441ac57795a0f9f6b2e4bc973ec92094f6cf9aa3aa64238d1557f30519c2e91b0a77b9b2075726bcbb8bff5683b0fd1b4acc059c59be1a2771a5ac1946093a27db57461328103c6b6f2b3f1e1a14ae32833d9262ee4600bfd18f433fbb52b51ff76e4c54e4c6efe3738a80814d0bfd478a53648f279a07d302f7625d4d9cc144a18b887bfd1f60c37e4f0bc3dc47c6bce54d9cdc893bfaf3913c87df4cd4c983f00838e39f368603c0938837b2e539c5546b47b11d4865c7a2ca3bbb5a7d030f04d4418bf28cab0c55bdbc51dd270f42c7e1889fcccec3b8ab563d9eacac78af35a3c63068e074d86a00006a590405ec3ce1a7f35e48807e9af5cf4981314e3957a68f0220ed93df7571f630adfabe81df7eb43dc548b418e8d18698b0327cc96f47b81215b4dbd1bddcb219cfa93072b53e50aef93b273c4cdd602864c69f91e48dbc83441a5e53229a9ed15a3e5135e6a5c76a32f6777922bb4a92b84681818b0944dfaf1a555242f432095aa986e782aa25e529b9300943f94e1824d8127464258c548d1070ec800993a0e55497666422e329bc3bdd16bc068f4ec58f5a42d4938bed56385b7d44f59b0af984898aca7b85bdca284f8f92a5c5a16bee9f9c51057a116d91383dc4e499cadc292e8ab8495c776539f94425e954028131de71380f85f1ff89b5dfee53e6c8177365a337cd2c7f1ee505f0bc27809ee9189e3b0afb8ed8541cb7f3aabba9bea815ae329e1e31214573ed8bacc27e4b518558f341279ed01149ba5939ea6f6d1e67ec4e14fc20d06ecc2a206f2de1b47c14273eccb98a3b8c32253730b8255b12c130e04f9d7f4d3fbe0652834dbcc47f68bd67b3cc917cfef1045a50baf24bd16d9c63d86dd2baeff70e0d1d6cc597462a297c506ecdf1ad28bc7e3fb85a950b90e8dd4241e7407f24af684efcd9e469ed19ca4c6fc2d802fa1284de54bc2435681fef10a95a6fa1d277aa48e02519af8fee57f00ed05223ce95f37c0156834af9989d3888abd726bc939dc2d604d0e779f43a5cd07458c3d9087c26d7323db65068de8b759c75f5ff236ef45181e617a9778790dedc1200d65389a5c0c72c9df432d3311ad04a9291e7b621dddc42a3daa8f7a086dce2a239781cf49ac2749dcb5a50c1e1d18d469661c1a2463dc93e77d0203b01377c628efe857c70bbddf3be80f6ad9c34400f4bdaff8d24e2e0d9b250aa065ce7697c2469c9d58f5b86622529a581967928c85574b25f71f7990b39f499b01c83d699f7f7c5a2d2676ee3ca7de9b13efaa39aa886bf97ea47276cc0a5af136f370137b3cb3f8a37df1abfcf4152a49a49d6f3787aca9365bcb7ae095be4e0923fdc6a1fc29ce37c3512153cc95fcdd388b440956f96d7e9d60536ddd99610ddeb5eeeaba4b1bbe468d39cda8544b198c8f26ebc864083775ee8f717392dbf6e4291520b8b6b4f1d3106c005bf8ad446ad949d569c56ca6591db86342ee8ca371f891b3351fbc65f10de571d340cae882d1c4aa58838558916c8e33f95c0d2e6c49b40dbf3d56aafdb9b83e754060166a1bdc03f80dbab1933cec71da1225e88107ee9dc9481248c0ea6ca7f60d154f57980d087cd50d0318dd75f01e1087df04dfc026dfa81ea5cd194ad1a4600eee6ca7859ab42133c3c7cda9b858433db1eaaa0d2955b15323d9a4dc746d04cec4603ecb7e5c0b33e5d5c8558deb794dc110907cbbd493ccaf98f9e3397a22e69d4667797d747732acc90955619726fce16a715c572ad255a8015159913fe9ed0b4512d7f0dad21bad084600fd9d99de22f4f60140bf4977f3316f058bd2852566df4e4e07b6ed16e10ee47562ab1c6fe84f978fbaa6f96143f675e4f8dc3800e1f26dbf79f3c2305b1b680d013b813db2ef37b21dd5f14d753978a8033dd7dff7154716abc8d5d1fb5aeff01fe6d39610ed44773a41a4579ab7a81393b28f77a4e9ae99178785244745c04fa07a9a3775c87d64a320b6a4d9ec1ec4fcf9be5bd61125ae83b0cdc29172235160dc6ff6db006377165eda9cf62751ca43df5fdd3b80a35451ec30068c91194a8c604059edb3ad33db5ae86cb691931dc90b040f2b1d1ef8abaff372d2b33701dda2c51335cd29388e45d6615fa7ddd51935a0bbb6d4af112f00e2ced3640be82a10747092b286093c145cbbce96c67a7ba97d809682136f038506c282ab3006f895da6715209d67eef34eb60579d5e29191ff9cf98acb1863a1a5ea39e0edeaaf90afa8f0c7e80a50c34f3e38f26e485f31707f16d61f64a29857d3cd705afded2ed9e8782a6209c1ce7aa9ec8d0bb0adbbd6bea25b6901c154d5328113f157555e1023461d694d459977a18cfc98131e93d32b03a86d6d0a6bc97b05c44bb8f9538313d207ed31cd7122068c2f7e6745cc11a3689aea7db7a031fcba671076acda0f3ea2ab1cf6d469a9de6095e12fd250c97b4ae3f84c4c142e7a5953189a781c02f779a2a02851dbeecc1dffa0d7e3f2823b11feda0cc0523d2bbda9ecf2bde33c67996dd43ce779cf4196bd60f5885ed8631abb81db07da60f387f6c6d7e1683ecd51cbc82607f82487d48a4bb9f3d464aa8ef53f467fcda5d20c2cc37f143c7d63a6264b0db346ba1e9d664023a9aa01c1f36d769446f91d0d3ec9485f6dfab17c181f8bd4dfe18d292746b5aa49b10f8bab5a60289e1eb9d4250d5baada219f162f6f279f3d38df4932150665583fd664d515fc9f30e8e6f2f1fedcf45e8555f2c38a64a1246c6837b4005f281bb7e9537663e4d4044f9a6f80a19c371c59e2fc69c3aa4a72ae183c56a8cc23fafdaafa40a16e4469ddfaef1e3811bc1afd312b91fdbbfaa16dfd5e45e76b4efe75d883ebcd7461d987d349463dea888a03c7ea06964d435967aa2dc93c30015b235da623f8008ea04dd73226926da5b3f1d83daefef8f0ecb1495694b9dce01fca0ef84ffb81f27b88b2ab7a2271c97452ac0433c6aa628e700a64e8fd1fd6f469e9a329ad6d9f9e5a1b973b5530b12504d181f49d6b96db35966e596c206115e7d32d77613c498e91cfc2521b387fff4b48602cbf49d1e13464654f0037574e286844f13eecfee965969d88b21bf6f6ea50305592e01e091eeaee84ae298589af0454f042f03702ee08c4887152f1874c4c58e26ac64feb4930abe701021b2ad188fc68e5ff9cd5051df8dd270b168f168ceedbf77ad37d255ac3dca4fbbde7191f7de5ef197313462655e1cee12aaf0623c1e69e11fc207ee3bcd05d0c92d2bf1bf79601de27f922f58c6ae01c0d36cd4ce2f8113f6fa862d9939149d013585f0dfcdd30e243e8155a7a51f921d90bc53cd32065f8138ebfa61f47eaf2715e4e26f2869174ce0f7666bef3cff72cb2135ee27c74e12d9ffee9962231825a707706b9651a8f6fc59f5c29f3d373c56340d9b1a9784029366729abe43d203e05074e73629360f92fd17ca86fd2fddc1341962b690e231ba7a5b9e476bdd6b0e6941f45c943adb2091518cbe18098c97a663a5b176596e97ba0e8a28db08b4e5a0b5b88ea5e35fc2d9d1e876658e979f904339530acf127e6c7a423f1944368ff7e0deb511b1e2af006172337289af75cd77045e47b066606cfa9a7b746c113b16f2cd8c25899ec5ddb3e61837b7aaa6f1205065ecd77f2e592ac0a0827a4b02bf75a509298fe20a2cb4d8d6a1abb5e8e4b5afa88896017453ca6d3b1089309dd5e2e2cab7012143de9b1ef75356cc20d4305aebb039bcffd00e99aa4c052f047cdbbecc19193b3055e3295b0950c74ddb843f5f3c7cf76e87186f23849c6a101d92a2fcac0fce24d7e95ca8b6f0b04e1979b276e647c7987efd6dddc4a0ac04c3e279f5b50cad54fc1af1a64960ad5ac71a5e5ca76b24826efc10c4fd7cbb15ba83d38d15e99766d8a2d8a958ca7b32c5895de41a1417e04c0efd10c1d8757d91b343ef78288de70030bbbdb9f3d529be78578bf2ed6e7d3de384a9c17adb61a64aeacce9c3b879e6164120ecac3de86553ece22fae206ec4ee551395f5cf68df275b597c57e87fce98d4f3af6218e60d4fa7d23a717d134ddfd4ba9e1b895d770d0462b441bc2635150bb134d095cf7189073be3b2d88eaf91afcf585043c1ee9508e559b3977405e9e261c34fc0a3ccfaa10c459cc97c01b391f7bfbd7178d6302f616550c265c054c8db148ba79867b69b53ed484306f4bccd3cfb409e115ba0ec7dfe841b18cdeab455570448b24826a6b82acc5489be723af42b22cd1e1acdfdd06f85e720ebcf270b9fbb81e20c7d53e81bb7fbc0977bc42dd247ed2c88ce3f3379d16e953d32d09b919c05c4e0f85d8cdb6773c3db1761ddb933a5ce9db12ed551482f96591ebd5ac058499e1b43884a324e656f7054e5306a2dace290170d33e098d74829133b47656480a0fb4b8219bea76ae7bb7ff74c9adbc184c62c9aa669f3a0f71d9272d25a59142c60797925bec6f55d82b171a96b8fdf326697300700e39855292badecb4863d2447a9f6be3d5b289ebc54a7edda91446c7a1688c4bf2ee4a5baef1c5349299bee83d5013dba67ca4164de02e06a9e8846bbbfa3bf50a4cad8dda484913fee51425604562c247d74e7f21cd0e3e8711801d7f27852a3dde32180b9264449b2886174e1fb1c37f5ccc5d7df4323bac9f130bfe95a54081bd0868629d79d1b0560c6b34ac49f551f8cd59ac505484b3dc50eb9eac5e71b76f4077a130eebf7fcb8964f8aa6047272051a6cddea34215b46dcf683f7dc62526de0d6c932b2ce0f4a5432721e75b5e83b9a489ba81c6425c5679b30f69eca0c0694ab7b21a2acaf52ebcfe93a4f7038eec7169bf5aa83e45281327d3335c2f32ac89eb0c0f27bcd9d7d5dac56c979878e378b4a3118f7345f3b4b7765a3f8b5a2b966c5316561ed526fcd08bd657fd8595ae4b5726106628387b67b10588e435e6718ea5d8f78d6c6dd52792969b9026bd99b7d5b3a4d812c3b41186054b4c8bd1efd3f3cffd55f8b5c31cce1990783048016c6d19655b2cb00f87c96a4cce8a0eccc467d96275a4d8af0b285caa801efe6438d35b3d3d9d28e637fbb28d78d1b138d901e76828a126e557e0c9553ce0dca5ff8f91cf9819d1321e8e49b1a67fa5d3ca83983153873975567b12298ae1b2dc39491e361d6dfaddf279c2932bffdc87439d7863833edbe1f379516376144fd4e259d071600054f0b47f45b2de8ddaede1d820e2745b2347dc11a4e3f88ad182093efafe3288848d4047cd7e100ac1271fa97284103ac0b09211bb39b4102fe2ed482287d83aee5d9b53536186e25a7ab79a5bccc17bed047aa2bbe5d8b559aac028fd7ba12b2f03bcfb835105f1efea3314168e02ca85cf70e156502c638ed421a13ce8bafc1f5b014fbc1319cceb6e42b6efb901c768b43bc36365cc7155e10d6032078efda99d3cae56b0cade26549aa803eed030bab8d82e74c01256f49f7d47e4427073b0bbfd1841fc4c38ba7c8e1da7ec28b884a59d6fc0b756777b3333344b559e8cd4c671d78b064913d994796f6b9ae12a3300a3b9260281f2f0bca67e8fe8e32296705bd8c6cfe84fac9dfc6d099e4fdfd81dc0f7b6ffc11d22aa6b20a31ed611c0db94235ee2588ce45018c483a891a39cd44369b54ae032314fd4f3d40b137fb90d69dae1e835e7488a4a43cf8fd017051402bdea2815c03ed07695b21e3fa4b489a27db4db4ac8cd63da28283bdd8628cda344efc4e82042d419c5894afdce73a39c98cfb7a64fffd1cd82a42187ab9185bb47d2ecc317a9ae16d50f2eb23c113920edb935956bb21863da3592dd643088013efe3c8892d81ed4b54c80ff5794a08ce4e6b13845b8c7efc8b888af2cbc5f4a0578027d9f766503f2f1694208abd88aff0e89152602823bc9e7f2ecf6696f7bb668ce3fe60dd9319cfad6e532e2069fc76c2ac27de300536fc2461e62dccc4a0a5e485b89d8479335935afcd47c991ece847f24ae94cbf4385b3e15f406763b035a464b92364689ebdaaabf6c58c4442e726308b8ca482698094b494ea1383428306ddbdd92b4d65949b0d6bb6498b5d7ee652bd28fff819ed67392358c5ff288ba6860b7b53fc43df69f935db917e731d932d4b78a798c39c36c22a9c018b25dabc5eab0e46c4d29bda6ea84994ea1ec7dc55162b0718a4d60ff4ff3851382546b50816b71928a69f78d9b80613e27d9bade0c790471dc929509950ed67b57e55a31ff64a59f0876bfdb87010e30a7e189d2c657fda597b9610489c86580045f50dd051bbb578e02de141deb597ac4d70a9ce511799ed5543987a48fec795aabcae7726ecdbfc942b66980426edfd53655e1ab57e5d20e03abb5727809d9a816305758dee20fcdb8daffee7a9f0a51fe52eeb3c73bf221f8f815732b82992b5dcb0868835c780b77c20d40a277bc266c9e28c5908b00dac5896e057c855cc95ab930f6be4086c4eec474edff8ed147d9f729f870bb08d1d4500e2322bdd63e4d5ac5eb13f68d29f72e481bbdee3f312d41c9a7ae7cab13a0a7acb8c242f7bff239f9b9968eb61f1ed9ac5f34f653a751113859430b27baed671b1e333e7f77212df4fcd644cff30d1aaa23ca9ec8af562bdf52a2f0b1ea4153d7cb7338d7b44cbe7072298a08b46a4c66f322d16735b1d6d321c6b169c277ed48f78a0585f23be407e4dcb1b9000890a3e361f8b2d0ca72138540214efa898d79af67efd55c2f8b1a1a3aab12e51c116d105f85310559d9a857a446d99fa12247b3387c46098e79f2f91da9c76f3d96b7e62aaef9ed9888b1e880f810f1dccea5aa57198ea9d624699b9fcd08907b25e3553b756eabf2bbfa7bc11665dd5f83819534b52826e8f153f16c3650822af72164b97d7ed328c889890950e8d67dd458df02d25c4a42fcab581563e1c8a088aa725f3dc545a1a5f52b11c876e2938a826c0d9b1abcbada5a9ab3bb01a9e03723de21b0ff9d983fa20ef676299479a5945c814cda795d2cc6b3bc797e9dae9c32848a33ba7a4486f4e75b77dce313b8872962babb90c167516d964a88d05de2a78fa1fe7682283250b787c0dde68f7e0883828bf97da1153934004953d00bb4dee4bffe51459e5cc6b0d1f05e2bc35b71da51bdb00f9bf06d2558911da0000215a56777a89c14d5387b380e371bb47f99713150e40db57c8ad9b41687c75249b599e44bf9d5bcd285d4bcf5261c14fbd1c5c40ccaa3a5cda8ca81a9f645dd3581c1f111f0531f9e60ef6d3fb0e4af3c2358a642d39c96f89b69fe24da81f91fc9f036cea24328bc7e04a49a0380cdffb5a19373f39ebe410a41e419640d56858a539dda119a44babe80f8c1e88db562c1bea4ce143c83ebd012c908a207e385c9037f4ea5a7a601463f3b5cab65ebee9305b044aa08c743843527b1802d3a3bac4dbbf8c95a7e3fe0b601e33bef4532dbf31edd5beb44b73bd8bf25fc9c9e555f3c2b92a9d586799a156586a7358c26237e5073d8fb8fab96e20d2f1bbcabe747d2395fe04d8fd2416d0313f1964346163fc14c1441b352d022dbb2b9167d0e014c8c800bba1d295993f2f93dcfdbda71e908458e0c071383d384ced03d321ea7560a1c2496ca6730157ec8cc09e12202d30e4395f1a0d7ba017ea0199ef2f325ebfabe66ec6cccec22f97bb1a121fe55db573274a8957f7ada5eba114aae4008a5a36f12390016afdfd7d72b62934134fc8aeb37b8a6dd5b80d7b7cd44068ab0a87302e7f44c446254a65015d73a962a02c56a43f9cfff4f641cc99535cfab17954a2339c7ed657446f9f794c0a0ab9df92cbc09d926ad9bf68eccff8629703a5fcdd42d611f2b76a1ab5c5082a9abda26a736e96dcada65643a496a3aa03627b522c315f741d69395074bfa9c7193af71f4ac03a18c791514ba468a821a7f204d44d6eeb1c82664dce25581e84140414306617690bce10d82af2e60acc0135f2dbadd2a70dd01d5db3d7e410dfdab6ab3d35d63409de06485237e4598de4d2be68c5289058d3e7fa4f0cbb8d6dc575e6b4980961a56e1e875bb1daf3f68fea5137f4871b0166d369d3b6dcffaf286cedec8a29b8bce6bc431b950c3bcf7f83feccd2240ff1934f4fe991e44b58f9060361a111921e9800f8a34642b075c5adc3ebc6204cd85384d8f2bc66315560a6c2d21a87e9f9b69aa32b00dc531e31f9ef22d68af3ed0d82375adbe558955c648cbed6de9e4f8d080451da5d1053df5c2b225e877d14bf91b85539732ba01b25646085de30fce64b05fce55d7bf819f95e4b5001598c7ff5f28bded05edafa149dc6cec1138973a8c7db3df44e26beb4fd26038cf0bd75ac11c6bf8e2a19d7ca66df13fc993a268f8b231e4d07a241d6c03f96b95a92624353d86feb870e98ffd3334813c6bf3baed3edd1c8259489ce953690bd75656a643c61af4a1631cac830799812a781a1b219302701a6ca96e948780f8db647c273d0956a82b28828a099f0e03d7387e18e4e11a97849956e216fe4b66a920b81a7ecadd54499f6ddd709f07794831dce8769b9da48f6977d53e26896b5fb63d1aadbcd5e0e381e9bf6b845a8fcb834833082eac58f7bc1b650e33afac65e10806fc763ed279b541433e21fc8da0fcca9ba233eae54c13a5cf3a6fda9dd71264b82876cf5b7837d4ad69918c5424cc30a4bd455181b2d160c7f7eb4da4c1afd7f8efc128f4ac862620d460f732e94735029e0d34c5b1d1ce2c5d501726656924041c173d4f984b69ebe9ec7320ae43c30ff98ff1c4aa460724fde06373dece40c7eadaee7110fa5273fb87418d02f1877be3cb33597425ace5d23a23c56cc16dbbb01f0a5902202462243222bb42186ea96e4a6d2d9f00a1e740198be52d598087d35936e1b6a529b06b65e3971df9e6ca10a36bede6db6d381aa26e803767617360cd39dd4931db3359dd663b4bc4688a145d69ffc6e3d9d0a57dd8d8ab269c3ad4dfc0bd93cd790e73050f6ee95daa9fcc4f12054979cc0986d178a2db6147d5705e037b756994dce4124fc92934061800bff19da99017a6776582711bf69690e9d6e9525ac690591004b2fdaed1555f2144f879c0eff89fe3497b8044234b66bc522c170337fa4cf584d050f21b8c3c9b448865cbc65f1eec26aa951e6fde87a4f1c82ed4d892bbc794f04c1832f3499d3a11c8b6e86d0c5321e648dfc09cd58138fc49b4cca70d42357f63bb93a5fb140055435303c2d1a7871dff3c7531c3327fd7b9b3830a5257578f118c72033ae15c233bc8cbbe019346f2d0017bbd791be103367adf05b9a6d4152a12319db3e04e0627ea4adaf93a1faa3655c94acc90fdc6d1ff6da93a57549a4752049b228a7178d6df47c9af499e2a3ee712e8e5766fb7a38a9e495595975a2479737111311748e7ec25e3beb25d49db3f5ba8d74927e77d1b9b8dd39320270e8b7af0efcce2ae31e3d3433aff548b3a398d44952ec8f4b5deca2669d2b358f4c299e2988f91c158f2ac28f2b54a64844dabc92437a7a78a7db0f2fedda5d2608350b3a17d03921f4139bdd2d759bbda3e380ef95c9f29ff13602fd00613d7dfdc72058a4449d56198c7a9d66b0b0ba6002238b2051e284a54045ea74ff7e2df06fc986f98a77800a8ac0843c1f7e55dd3db55d279524b636f37ce80516caa6597a1f43f14c0fff7fc52500a28db974f2dd54f4f14560ca90e73e3ef01d0c1e1affd070de52391fcdb7a92caf59ecbba34fb136b13aa6e16bf196e68a6c02cbf3fec93a98a4a10575abc359e6751dfab92cafd6ff41453ae5d0ddcb916e3e066048e2d3e692ca5bb2718c005ca5f92b23c2fc04284be5a601763468c21be7057ecfb921c526a050aed988782b6a596a617c281d23e06511569aa41ef740a102e1535d67d918f4f828daf0e7d175a25fcd33cfa973b22c5616c9a99f02be92d9e415b489f15f6e2d73b9a7dbc632215ce53ca8f68bc979b418bc3bee56e4daa8b7949f0cd88027ad374aec1873f0b279bead327292863590ec0e319c513142a229f8e9e1572dfbf8eabcce99362bd958c31a2149a7b46fe829c2ddebd28a3a8502934c9ea5a02a728072a4cc2a89e38dca4bf599290f96a021ab502ae79e6138a9eb2e60701401f39fa2056e972a186be4b9c3b40372e765b36efd033c0659e8be3fa8658551d5df0f301d2dec3d59637bde6e73a937f12b8e6745f3d7db1cafca4bf3d7538581fdbbff75ec5ea4f4e402fd30b2f986e9fb6fba615a866991937a9ea8f9f163627fe979d0b09a4c8f0f89486058bdfe244ac673eb7a7210ff11502c6aae18fcbbe0d2aab986508d92261fdaa4230d5911f8162ccb524b1b7898eecdf60f7bef96183d1d39faa8fa7025bbbabe9ec15afd29c492326b9640c011ba61aa8e9fc120e99cc9dd8dffb15d82843c7b3f8e4cd5f6c1e40ada1c0cfd1e318038ffb43aa3811069cd048da8f8c4c3b23545f3efd334dc4189b0be615498d98c7ee36af7a6bbced4526ac60dc2b624777ead0652166011cffeb3593cc6727a909faf1b73f928e7956b1b591e03fb1f4121c593c0156edde305042868a37a10b77129ce3c89749a6bc2b4bb68825fa8e3f838da91e366a0373f9bb9f0d69a0b151d8ad5d8a00ac3cdab86b4a7c64fb2ff6db791b5a90629a3f40d4fb47b82deed0b2f835447a988dd3f0695d6d942de11c9f8f81ba52cc8044ae6dc895bb1680798d568507e7c9deb7a8130c8fc6cc2d689ca654fc13f947b223e600d6aab07489ff80e002a0c51d6ac1586ca5dd9950846ebe01e2897b7dc8a9b2013eed5ffd680d6d1f9ec3a53a59133109e3fc6aebf88c1762af4d2a495453f95a7864bf1eacaac60aea28ae1ae96f9f320edc529e4c2172135550c58a553ede892713e23821ac77ffc9d8ae4d8cabecde1cf69a943eaa560480b626adbe2301fb978a831686c7a7ecccaf26a5db3bbcc98ff5207dc096127db3d48739a949208fa8ac2d8f36ed48750cd36c944e22c9e66db3785dd2e65a4ec432cc8897210c6665989838a47342fad5c1eb47b2bb6b0e0bd92d4a55f0ade603478236d2b6a5a52babda44b2e759c11a417626c2d533ec459f81a46336b20c0d968f7c1f0451df0c53a68f051f6ef5ddb7268da23cca9acc953f06ca3805e82f6e8216aecb61236ab629edbe1a624566bc88764acd0dbf1daa8bba272ad82f5692b8191c2d3728dd4a81593fa68b41991646fcb311ba98cb852ee40c86abdb424bf843f327a2865940b427b1942ac964ae97423ed7f2fc8a66e7689332588796262256b8a99935f28e8276c79bd66cc1e4ceb70f49851125a5d1610ff2bfd395eae4836c22eda961e737085ec9b851f64849f7c24eb6d7881b3c3b6e05c15804ad4c66f6d3c4480d81fbd8b17d5438e3123a039bca59718694306b01a76dbef2560969654596558039e2af9353f855372d1f15c64070b7a802fc8eb122973256381671a98c6be2890db40571eb433cea45bcdce45e60bde785c68ae63a38d3d53f43dd3e73b11a0bbdee8f46da63f549894394a7dc2fd233cdcc6c67099f78d08d2de1c293db26c929a306293148f1338bbd513c62c7a4228ded638fa64923e26dec95282f41452d4d5ee9f38a227d7d980bf47c1e8c79563dadb178ce923aabf39b587aff7a95a58b10099379c4248bb6d23212d9615429d86a8b81c69ceb83d0c841a1a991b5aa7b56b0972b20915b3cd4c7fb269c85b18516c74175d3c5d3e5d96006a361b9c6ab6bac0acb7eacaaab0b6454d1c64ae1c0adabdb1e0a8f4afe20473de10764615ff2e5117b5a7fc14b3636aa176a3c6d685394956f4a4f77548a3daff063879d50861a78e4f43b24a3142a535b7d8602326320f922d977fd31fca5f47805ee4707887f52d4c6b5c47eb204579d82f18f0d9b07b2c3d0a17a8b75f05a97c87a4057e3a273a2fa40b7a16949993c5c8e267a732fd4d05c648f6870518966e8c58b599202076d4af4bdb37f0d420e9cb8a2bf170171467f9211bd6ce476780383c09910d035b05b535aa92101bad2ee9d5fe9db1caa81c87e96a4cbb2a9df38abf4fcd85480232d8233f2a160b3620874103e00e4987be1c127247ec2349a5a49cd3e288192a3b3df8f4fd9721eeaebb7aee0ec49d2ad294f2df0fb8803ef4e1b018809ccce1998b6d33346843c27f6d5784a6be4f5b2c08486a2abc2495673f17e7e5e8714e5620e271c0fc72c18774e3cff948a9e20336ebf9945b05762abbb216f32c0a66e9da45c22192146abc4303c90be258c905bb1a8108d402ddf7f31a69816a292be65963adb71b76af9e88552e99488fa791972af820bc375f7dda1f7f896c54a580ca84a3e6080e9d019f46b83354c127ee6ab53b1cd86e3a85272f5c5bb468d1d1e3ed4ba2b40d8d166e804818696928fe37ec6407c9e271286f324d513d27db89685d1d51e96035b5eadd87dceaba14617de9cba3514c1dde4b454f20809fb9f8353a2975b52f13beb4213ae9c9fdebf4b865320ceafc430c26b494b2999864422173ac76746dedf609c325220fbf93d838e31e94e570725bcf08fcb17b68ae09a3f5ad1ecbf99fc0002b6998c6abfeaed611ccd1fec9b0c6b44d8f9f56bcfbad4b7410e2a02cb6fbaf0bbc3ec843cb96aabf7b4e63420d1ec0ba7eb8c26e780cf3e4ae320dc7c2ef26dc68345e2fa5df84c59ee78d8899ddd1cffebc8ef1adfb7b24535d9b4a9b318ed2dbdb275b2334ad6f14e29450814c1fd7b9aa2a87c3f8611f175b4fcbd8b4d39bcb2f7516152dd36f858195afc795337726dd6eace7ca4b2f900d58965d6c5b9ebee5e879eb2efcd7bcd12549bcf16bdfad53c74cb61ed9868f24e26fe0a34755a4882b089d01593b9ffd4a39801e2ddc6eb5906a01b2c3355afbc031615d1761577fd3dc9936f208cf90490f7231776928280f625eaebb67a3cf95538053da84084a1d182a249c006e39ce7c3e59b3e6a669e1f246854b545e73b0030ad3dca01c54026e892a3f69515b36a3701bc7b5bf4e8cfec7fcc6c3f7ab296b573a31bb442899c5857242c63bf13af59aaff19a3037426720248770b8caef5cb35ef607cf61346bf6f1aeb006f816397525e79bf225ec5a87002458057226a8104780b4b50210b45a76a253fcb512b9dad44713b4c2367f0cfe38db11ddbad5db65889694663ddbfcfe97be472626bb39435d32eb5db1722846101ad9399d78ef23d9556f7adb40c70a230baff1e1b533380f7e8d814babc0228042a7edd84867e5b39355e478ec1fffce68d8b1a07947d2ceabed03c602c9b916bff026488d8e27e3f1e4492ce30bf24939d8102130416fcb01bccc60a0563630370ad211fe5f1319671cef77b32555506ba86ea0df4269e0c3c7291a0cd2ba81918618526f5114d5af72f30f61e63ea1456b00f6c011e91646d251558ae76f9fb8d328db3466d2c7be14f1d2bccc206b8dca2f5e0a665ad69f55903495bb274533444015c3a2b0ec29b9fe3727f08d8aa1e5b4ed2ded86ca6b9ab2e6014a74342f6b2e5f7cfd1c6d39a43c44eaa05047ffaf06f2af8b7378927e816427d683ce6cb764ec28da38fd7c43f5f87bc5ad178af42c8211b1ea6d4fb8aa3d621a0c33165b15dd5b3fddd0d56aa1bb002bfbf31ae9b8267e1ffda2211d8d0c35f6f6076ceef14052dce0806367b355d0c6db416d31c2a232a4fadd4bbb99cd9ba37f167add3131cf0fefa456e41be138653e42183109895d6f8a9ca14d2d75f080697e6bf7dfaaea800e4e3376d802805f43f8f697c585071bb5cf6bed15876ac25366d8715e598a3942949e1fed21eacfe063dec25f21f1bab87f4e49b16b84b02c8140f6e5a300d496f559d74ffee8f98b3e8b548073ccce204e6d636c9e2298d8e94cf1e6dafc36aa96cdddec6cfe5dc668f9dd5dec4b82e671121e28ffd882d69b6a2b1b6ba075ee0253274497be38f378f63986a6c1505bc33d8bcf1bbb0a66ed54c2ee54e64e620caeda1dfe12c08860aa973c651ebb480fcefab21094fad05e5744f9c3aa52e981ffc82ad1c5eca73559be07c2687653e781176f13c5d02014eaef44d1db15b1fbe1e1f79ba572d48d68ab6c555b6d80f3609d546c05e9a857643987b16dc2097704313afef47c1b62a89e0fd7a4b9df5cf4873340fa107994af7032c5c4386302e499518ef85964fa3156c80a9531a63f4b5b6c7ab82b1dd95e1f5a20a02e0ef1c08650d6d80c32d6336a66a5118a6ca0614501d1665b7141c006914334d6fc056cc1cfb6882e54c55951f674ed1e10555479905ff49131b5b130a3714391efe4e13c7495d5c75f34c97e65f3da3d1f71a62e5f65709fd47616efe595dfd317398bd2c5796eb13a9bf40c58c66ad251b26506302c556989ddaeb8acd102f0c3c2cdcc110c441e6bb03a048a3560caa480768b2cf6d24184c4536070f4f09bad591ed87d3e82e91b5491416f3e27704fbba1b115413405a904e11dcc3a7486680899284b980957986c1f88826ed8935fa69b261e396caaae9cba7c244d0ac3ac98ba8d2e72174cc601a43fe69e38ef0dcfd7d8e05a694579aa760bbb769e1aa1a4fe552faeb5bcc52883905f002c7c6317767ef32ee6c6e322f840b791b3359e34beec2a854709dc9e79523af2895a6e15911deedecc1a02079dd4684835158521ea613a66513a0bd700d22586d07b5de6afcb44960c4e31b7bbb43483ec425e94278f2681b14adaf14a3d735c6cdb6260a39ce112793d15955398690a98b4d03632be4559395ff3d5f4a4aab00a09efaa87d172e3fe61b4f85d1a873aff5eefa2681458397906f8ac418186779387c2d6a0c7ea9dae681a5519675a60ade7a9681680fcd4a91a0bd4c8928ea5306c96a15bed10c44258f354bf93226da6164e5ce9d3f90e31099a1f79bafacb4751ac98d0910d5b63198d33eb41c0df6416cd42787f1af80f3866b0a3661e3cefb3458f203fddb3b288b7e28c708268c1b902adf990c57969c143d7a6c321b75cbc3c434f42ce443366ad410087261399504aa1fa15e0d5ac6527de0cb323d13b1fd6bbf218d03843fc57b49ec8b36cdb6b67aa53a0ba456b2ff6a90772f467780338e2b7bf242ac7c7605ed734aebfceec41dc8233e44b72c4686ebfcf8b7875eccb55d35189e2a2d2c09de33fcd49b32763865d15ff968d232fcef01c1c81cdfd33d7f851d063a60da573277a90425594d2f41c7961b9c3964dc9c7242a9e12d606c98a52c92f4be1efd1ba0b1cc112981d2daffbdfdb876c576854566dd2dc1cb53c258516fdbeb827ff8fa295ea6e29c336247eb339def2a77c5724ed341c371ec8f168df4e9f8774faaf4e302e91a211ad342f0d261b2b9e6e637eb26f55593926dcd435610120ed1b47f4d5b5375467f4678502c6a750a566425d620b5f58b6b1c1e30c5554dfd8c54e39c6cce0dac36a09e9bd72dbc76d42cd23dba057cc5c29ec5964fa17a751a553b178077b9344ed6b86a43f67580f6b3e7bee1d3f8585b7c30594a2f178954e061363ccf6e38cad422b5a7192d29595358bd29a437403590eb9b823477a2b4f59e6827733226593589443ca2bda382fec6c602d74cb8444bc9004992b0f55a20c600c1cdfec46730d12abe580355fd28ef7a8ee93c0580b005252d755f0f1bdf2e6ca4a6cd6447f3bef52213b59c97638499cc2e02111b590cc2d9fea3794bda23d6aabf79b8997fdd9e576f9b4fc9c3c571457c49a933066dc42dedcbdd076d8f4c110281621137dafe651423ee82fdf82ba51c6a35a87ad5e39d0dfe096bb6f8efa9fe7b5ed0d9d86ea748ab7f114110deef5686be93232e5874fe7fbfe7338aeb65bd889486142532c100b1d9641493f225e8ea556c1510c8ba5a9ea29850a61f28d46144d3b68f9d1caeb8a3e137a8d6761898f7a127be581c1202f638da04a8929dd894adc44934575464e5dd891d42b4ee8c997939caa927d06446ae033fa311fd6beac1a44e36b2c5c4a960c42c241bba3061c24c7e50c17665f2a1b2ef80f081f18dc136a927344c5408744be7745b9ac0631b5bcba132f2e4793de7110b49bc76aa4d1d9ee96a16c7d784e9a797f71b8b6b038f7fded1037ca8f185c2fb3be7c3561ab71e8f67c5b4b7d8062cfb999d6258c8003c33bd288e4575ea38942a75fc986779422f4c3566383e1c8c10db580087121c408108d7983c562ba6381107d6d4e603bdea3091795adee0051858998328fdfd61e42b48f16b37ea3123a1c2497f67d7e9883beea3359b9ee4aefb65da8fdc1a56a9ec67b967a7a41ca4131b1fbaa80377bcd895cc9d2dc710b7224ac83684a91d8b1912a20b63cd75ae408fe17559739d04f4d8346be61fa5e43ecb298397556e85b8fa158fb3a1b14d749aae3054a3dc7162372fb1f91868105840963dafad08554b6145582375b6ee3b8668d4b2cc60ba3a5852b47dddcfd2bc2c07c5714f0a237abe6c076828621dbfabfe18197776f0d45640e60527e212336a9eab857637948e7bf8d1e1746142c75532199c0749209660aeea8d982d0d4afcafb8b636c8233e449525f7278de8aec146b32796f3d6dda79a62ae600a3a8d21c40956249a1c05a8bfecdfb12871cb14bbe1645fcf2d22ea7c3e35c1359653d740d219343c4b85fb02803d540c314611a189606eb5b468505fe3b95ddad102e609a1e81527aa743ed7ddf29254cfc850d6974336087241eb8e41136a5d3b13d9872b6314b97e5130880ccb86c9ff1c57098a0e6c43ee43cfbcfcb71eb7bccb18b8cc0edcdb5c372fc921126a870e98d1e7281e63f0c3422d11bed0fd3f414d96b9415d5033f5404d7365ede2ea9186726301076a1c8544ccde4f1b3d42d3cf6bf3f90cb6b3f118844bfd460afe95ef775639d9a845f4ca39cb2010a5524d64b54a116cf94b961455011f11c13e26faf055d14aef34ed01b48b07cd5a9db321dd0e8d14e721c1db4abcde2127c2bf67a4b80cd3a51f81888097fcd4b6a4541aa46cfe224206c6ed0d29a5cb13b20281af6d6baa5c7c0dcebabe6c4e0cce1923825bfeb4945c5a629ba90515a6eb733d02c018439ca22f1cb05a3205a6725265a3e6e282da1605851361fada95b044071d8207da4a51314d4759321ce0e3a9c5e95e160f4f0e85bf3e78c0d6419b347dd95ffd795907445fa15b189e9dab501133c0fe4f86d11f729cf81bb92728e4df3b8309ea516c01cf00927220bc99bf9c851c8de253660f94a244eec97a477cf80fb46c8bfa11f9f384e7a0af4a5bca06a9a507fefdb955b34c55c1c8d1cee94eefe8ea2e851ee84be0cc87f18b48281717f8e5cf4bfe9011c6fc83cfd5298f6dd23e908ce08d22e7d4a80f7a0bf9718034a87db0b623403a2cf1dc3d573fa1807c2770ae3aebc34eb9251e8e9609e6960c2a1982539125e67e4d007b7bceecbaa2aa85b37ea09ee69c764060bff80f0af681a77ff8dc399f1b7f562939cc1f60512ab3c71434dd48bdb49490b062d21d3fcdafe167ff3d0e531616eb661579b13ae98ca18aee44cfc6614839bb9282820b1cc5bcd185117747512e185b4aefc68fa6a58ea984a3f62433b42f118d54a6d608edb4169c617770ffc86eba50bde212a19997649c1ac975354c7033e31e82cc2bbbed8653fbcadc420799855a38d126d1556da581552583162d7dee1da5e117c9ff682559ee3f1ced7223f88e2f849c0eb5f0a460f66d69d7af61d245867526b4b96f362f34b8114595c59f41290deedd4d2c0a5ad18c7605d43f5fb4d7e66e762bd2651b8938fea22da560edac74bf1c4cd7bd35486408a9488af07cd37ad809e71e4248f504b874afd39fbbac89201b9ac119dab7f277143bee56b1258477c39254528bb5ec7e5d532743e7995682a8857be077fb44449cf7c842f01194e7689bd31a65632c3837fe69d5045deccb8c042357da280321fd17a8d55067e2c2f8f1aabcd09c180bd3c554a3643e276e4cc14adf73c1c0b4ccfd36a25d5f6ceca3f754e14eee538a66d661a22b2f4115cc23bda99be7b8050c4aae172daa7d99a556f93654953d3350f3d4cda2e2225d8669f4607ff9f8c91de93bd955da4f6b0662638b0c5b4f3353a0681b06f62123a975dafd20f99933c432d5e8e1303b8f8b086ba5b850fcb5fcdf048b62cba0f94c89f1ddc20b1bd7e289add8ec106e2594413f673dbcbabb149d3d19f738c839580935f46940132bb87f66edbf30ed78e623541b84880ed8d20b35191482d67486ba5ddd1a6d102d7cc29b3084f31f1d5c351a10c712eef8f0344c466c891b23aeb580bd802f20c3ca75ddf4e97bc244a9ea2e39bdea1033403784b46b4b3c89e7742a31b99493e0836e40f0b5bd7a9161ae1fd503f6e837aacf0a6e83e3a176f5ed9629fa6b4f02014d2bb5eb84e552dcbf45add9d59d38fe2092f7d3901eb436f044929e58516b877d7f7b1946a243633c35cf7cb83b3e6a4bf413daf898191a8e0380deb406bdddce4fae5adde36799e591da0aaf45b82f1df997b7eeb8217eb1aecfa888592b753f9c8a8b1664b109df61b775f9ceee77d8651809773a2db08e3541a7d0329eb43761b89a303e587d96015e5c738d9316e595fb683547df7e2bcf3450be36ca90250045f0158bea5300bd06dfae86c8e00e3475ffcda366eefe4c9f8d0c4db8463c8dac0c43e8b9f2734dd84a7cb48461e92325ba84e20f4cf385cbc9ee20fa01c5beedfd23abcde5981a7365764cda14bcc1b3774da9717795cbe1e46e96cd45072bbe9a3bdd0da367d7be7efbc1d21fe9ccac8ae478456cda8d2a79490df48e46a42e57fb59bf709b4111f72297159a465695e8d1b25bbe0b77e99e1c9811344cab17d1b645e2a0f7d6769b8e6783c6603c6c2e4f89c33d5845ec2ee660d44f92d01b0a0b1c3f7b293edd84b3d4aeacf678486b0787dcb43d8293c627cdca929982126021328e1b26371173b77802b140962005b7a3577506c723daa2ac3320c77d","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
