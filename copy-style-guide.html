<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8b27c9e9183a9f9284e186ebeab05dc3841f7c114b71fc463e90e4f20082ecd2fd16caa907c61a27178aa733095543b9f0833dd3c41a7176c4ff475164e582b17c5275f1062fff059852bf98b7be43bf8954bbcb408edb2f1dec9c14981136041f7baef7b04b299000f35e7d9b5c087e1c4bab180e7f33277d9c69617201093c2b27cd45f88b0946685e3ffa0a7798c72a0341b32f45e8475cc322beebc6b44b3d6b0d3014aad9dcf20b60f1cec85169ff7d3867c2374a88c6a1ff6e4670b0176e9f048761c8585ed027e7f79e0d112ab5696560b0e3be4e9a903a46f01a10e50660e3a3a3eb7e345c3ebcd62b9ad08e40b36d0e3d611ebd523fd6cd1d120f87d9c1005cb62b8b7a5432523fd41d0ae2eb2eb2dc6bb11ab96fb1c2f79944ecc2a0518005cea327a47d593353ed46c133ba8c3ec2cf2fd0078343e2adea9b4b6210a5563f4bb21aad5cddc597569a07f137dd893888dd6b92864b627e7fd624e6ec7e714bde157e11aa79e7ddf5048efc8b1fa9cac3a71fd26323b3449d901485e856cceb051d5f96d7a11659343caad01611a01119cbaee4e43c8d714e17a88a3cea2b2cef19e1a15f9be1c513c7487e1d96d3b7eb2c51ecd91e891eebcb513e2a02059d6f6930ec7d764b0160ce2e347c7bae4c2376784f2102f6dcd3fcbfe7491f0779219a9edd984183265572b0e282b823eee49a67ee09e43d70e63b86645565ee3f4de4ebd0b043f15655914dfac8d5c7d9a6a0a1d4271e7ec5b2be565c98485cf693884b8324b83a6449df6f2405647bd0f073eede59acfdebb282b99b440c49cc14d2082c1cddb4feafcb0671b2552e6a6a233e4a59ebea6840c13ece35438b6181921ad3df6e12fc78a548e6cb38b36f0169dbffff58d482aaa5e6cdc5f6a21aff770ffc500722e50c03c0f24c4319f6c0a8bae62a6338890b5048b0472d2d264cb58e9497314984e0e004028e01c5b65dbc857668a560e7c65b41e25d8cd1c1c1a1bde9607691354360b6d807f9258cd30d348b113edb60911ed6a543780b3bfeb21995cce0f6d5123e549cd4bdf860d61e0c9ffb99edda5a7296672262f507879f9d7b34a4ba0fc5eff8f8a05df006fb1b659ab43e1c62e7851c2bb04af2a687c62a9883261b9df27525192e4fc65ec87e9bb1193332d3e5061917bdf4b485368fc5784e6d99a36edb2baed21c39fbccf917e596dd954441ac060d95fd06fa5d8da4e672e0cfe2b2b69d886fed99efc8d24c9ecdf1513eec8acccc62ebe7275b4b4fb1ab5eb604e3fb68492988eeb32d3ff5e7bca7e0ce4c307a034cb9fddfd5c034d27058215b394610282c985f9d700e1de7541e128f73efd3c6c4223823bbcfacf1781ff22fcdb64a192375d135937514ebde06ff5ade06b863adeaaa4e80d1a26569a03b757e56a8093b869462108b6083d7fc1e42876fd9c7fa39ffc7a05b702a72a3fd6bda5880c7ccbafa46f003f00fb75a61b030d7e5f44294dc3cfa017e14a04d828fbeb8a8836578024ea33400d64892519a5dd70627c1f8f44ca3979d99d9fe4b57f17aa10f5d9a66c593e584c9c5f44ae4abb1d4e142f6c3bdf0d1e8002ff78a8e47ca4baf6e6def27d6da34bbe7564d52a092f5a07535de12bcd750a8a6e71bec96a77c4363d768c316ee4578ef66608bdfa290e2d1306838061de46e54a4e6f585cb1347ba82ab18f376ab746b3a446f031a261a929c7cb775788cc7b7b2ca8877b144b6795d14c33f18ea8951afe60b01f111c6a02943a80ddcd9d93a60257b3356fbab2a5cc9984fef18416ea4faebf66de2521365f5ffd81d19ceba3f0d53c5406bc399b450cf92bc2580c574022cea1d11b025dca2f736a8b3fe585bc50228b4b6a2a38144ae6b3142db8f18a195f9fbc1b139b42864a24906b85c2224f3405cc64a078c013d135c575647e7324d537e1e3beceecd4d8f0108d047d35b07d14a2719cdec4e20ef649953e252793aa40834a5e8ee206f9e0add77bb1a4c17bd214235599d2192f5406232ca19529d1e04cd58e44b997926d9cd87f710ec9330a2d8c51e23b31f54564070ab4ad4e558f366c5316d5c375fa11022fbc0279a01d62502cbd91d243148af756dc72ea93ea6501e4c422e24d91cf66b2c90817ec26a2a003353c1be3b501ff5d2b08aacb59a0cb60ff18a60573febd100b31d570d9d6ba5bcb3113f2849b0f20e9ac5a9646a2792aebc4cc454a23988a1648d5d689313577c2d92915e18180cafdf0a18f0ba980ba318eead50839193561ece6c130bf9f317b69bda3ae91d04d15a97b80f67ea060b3007d542f55c4e357fdc7f867a502f08d8c5ef79bd68314daca9e81eb7020169b2d28c68950b0c06a000aad7a38db87d60f2c100e5206909f83cca7d62fd9bea50756bfad0f2602ea6c74c7af4c75504d0f93b2a45e505ecbf54803d9c6c92b380a94ee76c4e1587abaa2a78c6dfe735a5af11238046956e13c010a104b264ecda18ccfc80e00e5b5c47fc021f8b4abede2910875bf125a6c94a6385ecc9b595d91a6f7ffdb5b80c6fc5f289cb1271193c3715d3abcae5c61543e3eec240286da1614576a4533947c58814ff87684579f5d1cb79b66d0e0da01605fea2d2ae8ef5fbf9c32912e9fc29dfc022642be30c00a5cda02b0d16eb69188f3d685d74b4a649d20a2add23d71cafa1c317b569238be8ea902ad35a633d9d0936dde7ad2d55a1c134ea1a9aac4b0f5c0cfd9c01461f7945d3411bd540baeea9e4624aa8b37a6a921380a2ac19a5d5b814794b69b8385d8488fac2118809b4acf99a170fb000fd853a4dcaf3e961d7b8a9fee4b0f99e10769006269981c6dd783df047fc3e3e0930dc6015661b836caae42857ad16333e6f4438ff635f2ebf2fe93e6b89a46873c275db728c77b91d47c500c827b86f422c6096eaf5b4f9237f4e9800759094e2f63b5c5718cd690a29ed2abc294fa5f22aaf8ff1db2de103adb4d70126414965f5419c1c4436bb00916d366ee60979b399938948f6bbd9315b387092db43029b00203e239f3c1d54678282d6a00ec3c4d945ac71efcec33d39deac4d3ab8fa769568f0bb5142f11d65674bf8b4945aa1a7d4815e5fbf5159b54c0425eb5641930efe1347ae45e0a68fa1e923e001c32267ba7bceb8024faa22150e29585dc72f2cab7c1e345669d17364cd28dfe7d66d4e7a5eb4017b0fe374847dbf9dfb62d26684351aeb6bfe3747d39bb854325b73d560c0b6d44f3ccafc8baccb7dc8a2fe6b178319eb3c68ebac0acfe3f3f24b8db818950a37ea1f74367895c2aac4996f3dad80915a149fc69c1c7f6beecfa89f9ee5ae7403b134cac245793ad7f1ae3c390ac9e635325cee911e98a4a5bd49ca3f23bd6003210c3aaf59edb0c415ca459e39865fcbb1486d2f22a20123bceafe0334e58c04f91a67de5937f8a1b6236246b7a99d4db050e802d49be179828dd5d5ceef45592040cf9257b115edeedd9c27fd78fd5069e7f46d3c377fd0b7c95246df10f96e84d1caf05f59f18512685cc68e87f4dee5639b3abca25f1b334e3047ecfd3d8f1a3148c39bd0dfb9ef65bc48aa16440e737a77b768d7b3bf16d4ad8d2c5a02cdc6328893a13affce9f67fc5787623410c5bed5be204a77195dd962cb594420ed795eebd0c810755148aeb5762ab2add0d8936a1b80198b42194d0dbe6a90a48b30ad307ee36b8b713bc04db64eb54899a345a724b997f402ebbf8ae510afd571803d72e9e328ba0fef844c376a54dfe62fa884cf4362fe727c2c81ae3c79a4e4a02baab3988f3e4787df8344e2611e9284ae985b41cd09d75cf37d2637b5e0c65a575e0974d6dafdad5b6bc38d08e71cf564a3ff5dec68c0ef39aad82a8e6f9e6c4863d3e9b5aba71da46bbbf7e7b3e6a64f04bb1912aaf53abaa0e4027f3c9f53a8dc1985afb9a3028b1c4c9b73e588ecd07e3058016dae50310702ea305a93148f70368bee4e658f2c1a485f00bf28b367e035f673b5af3d40495773ee6054dfefce975ab09bb4d74da75e2b574f1b94854fb217da5cda0c0513771e013e793257241c3d236beb03672f70398bf2c2769217097f11ab7206a4d51948ccaac3bb38dd253cfa1638356a3a8a59bbd5377600167b1aecddadc547ac3f26137c062b1c7b6a93ab4f78449ae43f15aff056aea16a252e90340f9dd2b318f71620887c6f369d353a5e5322a3c009e203be0ae2258cc833f72640054a4a1c3a05851402ff6aedb7235c54f85d50ccb0f304813f8100f96fd657c22f225f5816a80e2e6d961a212a2d56490f58f05ccdc5ba2054c53258da5829d915c035d6b1cd33ec5855d62a696751c9f4ff394a0ba80c94c39d6123bd7ad9943ec7a6a568ca91105a1ec982d2af9a15fd25ab5f4477e622dc5863d13b33a8af43f5863c2343b153df1435587659f3011f5d22287cbe23f33cb677d8ab13a46205a967825baafee5873e1cd38b69b512c1e53e7d0d1cdf96ee9bfa27b8cc9505afd60bf5c833b2c4d30c98e20156db2e5290317118f8dfd6e2d14077856e1ed97697c0c292ab1c600236c1db144fa33a2bd8eba49e5678963d723f0102e11d99bb5fb131aa898cebd4f475dd64116082b6d12299cfcfd16b486b149f0e776542fc2a09e296273239d28e2129d2c5c5893ed941572352fc793a503ca42a336b4519b76ee3f6846c790b926f2311dcf5bc4c89a49afd4642d1caef8beec6a99a79f0bcbeea1466767aebe6866ebe858931ef1fdc00c5b4e751430dfac0ed8d84a3649204e064861c277974dd2392742910ca8eb5a18b99c89924aabf075086f1f14487bcb71ef0e66b095a85127f4e50f606b2bac59535c97e668e085fcff6b7d80d36fe8a8af4a26d47ae59b0b81baf6cb00217a9a931ac0dbafbeb8c1f7a53e17e44adcbc058efdd6c8d22d2b481030454b557ac9035c05214eb52a6958cde935ea9638488477bf0cc97c4c30bb5f78ed0da02ecce369e8eb64f52aaf6c11b47aaff19281d40ec7f0c512ae6616e63249e9ee3f86b79b8fb29dac2fe94344d52db968d53d1c6cd45aaf34e1d14ce11915a8a2ed3a958b980c3e45120ffe81a5bd1c9b96424d8f2aec92010b630bf174bb4dffee8f0ee3d783a78ddcd0b8f15e7875e420b7a0530434beee354b22b5728b4faa4f165b91fa00515fbd08a9c97696f40d197ba2edfe9b05734eccaad1e40f8ec5f1ea07fe65e209e36e048e2bb4c84b0918d5bc4df0913cd043be7910937ea033f9c2056223f77b223043da51742b27c1c85c873bde7c2b5a388cd5d38744e4fcb6915f3705cf9fc69c266521bd1333d049910c76389e6d4d018eb996d812ea0dbf7c5d38426d8521dc9859337278b13149ceab19e1d333818263f7ea860028c914c3a3465edffdf4bf4e4353b152fe156057efc081561cf29dcf985bf46136a29990a7a7e2382a22bb0179f3ed04fc3e78f54e4d1259c2462dbd96965d2aca828e3609f8ebcd3a219e9b72098307add19dbfd48e4408c46eb701ed021b5c645f38bf07093fd0d779ef31f4bc9df30d5226d0eb805f78449070dd799ff09591c89d30c48ae2592b8aee0b64908fe9a0b4257025776549eef5853e4e358428595e1eea211cc40af3111f784305ee8484fc5695a5dceb8fae16697b1d5d68b2b54c2198cb8b370b72adf3797c9f6bf71bd367abb1b832e7ecd8ed5e498421c00a6635d7b92eb938dd4533d4585df9644b7f766a4c4c03e7984529c4519f9bc54cd598704503012597e974d2a27c71b4b9854a70ca48441400d3a58bc02e0052be36e189bbb373f87729b5f7da687304b1c5f8a150166747ec0e95f3fd205575c450c20e9bd66692235a143ee244ea2ce41ed38fa1c2f0807c573859290d41b570c65cd9e0889078ea05ea10572a63d0c9722f053483f250ce9d6d9590a6aa1a3e68cd75c4a991fb6555c43663edaa203a003df2cca5d2962af406a095a5a15fbc0fe5c8873d8764abccceda4a1d1d94a9eedc8b556f66366e2bfea71552caa049bb2fa2803917a74c9b39d41c2f94b678f93fca0099e5de8f9bfd9a4b9d369a76bcafd85a07c9659fb0644a88502225643fbf6bba00a7b30265c70ff1c726a6e9ce7f12509bf2af3548ef57cceb1aace5a0c093d07d56390d4cb355dce3ce99d7ad7c70ce44d466f3e7056e26302cb426bbd0ab6da7219df63ad5b2c60dcff9db640ba848581e14d5fd1350ed4f417b52bea531b914a9908a0193b8a1685e2c9f46f893007ea49ac34721f095a3c9d9a6c7017b63c5e68149f194a3db56a7a36673e88febe352c83ab062d0e39732e35a503bbd553e4932b49cd01b34548d76dd840b9381d5661dcb28a048b2d01f0a04816aa8cd482b6f454a9893a18561910053d62a95ab7da18fd652e131effa4e9e7122bc301c5be9391841354f3a4ec67efa1f67c2ce8cf348d869b30413ae48f25ff0fbbb6e13f88f8930a3d60383fb1eb31741060044924968a7028bd8d307ba365371fc8d91d7e0ad1f4d7fbf730566b748c7132122cc4c92cfa191e10cf0db21cac5d42236b458421e724b6d1cce10b2935ba6dce198002f1fdab5b92fd9bbd93b48152394f79b88d883a7d4e509a7a7a06008ab8daea01cd5abc86dbb6e7f200b6916bd0ed328608e0055fd869158a9482316b96c4a9dc7e50c64a5227e1d1d522cfe0661f92e16188ea78ef9f243ad86571969d5463cfd856eb6e707a79f777c79705a860936ccb42563d0fd7333d85fef1d030b4ea427e06f9b05ff5b949e70aa4dc5624dfe84915e7abdf70753337e611908d39942df7c20a2ca0acd93141dcee799c9c26298a57eaeddbd7a5610d531ee6d1f8f7c75ca47219f7571b32bfd192019da9eb6f73b8d1753bf4eec9e59bc940e49ddba3e7891bd81bfe8d17df787f6ec2d5e3ffa895693b31cb5eba47b800e22770cc32c342bd9a25dcc5f5d481f84a95132406fe20eeec100051f9d8dadb329e833d91c0ba0bc3be424b6e0d56a58774f2639c925121d96258bc9e15451b1661eacab06f54e3ec3fea2e6b6515db18ba5992ab99a25ed827f5ac9831d067b92da41fab892d6fa0308f5a1eaafcb30e5833dad31b15b18cbc43556f547786ea50ab990018f5e4bf86b1a1f5520ffe039337a220c7395f8859df73503c9ff85abb95536234b973f34258be380e40f037a38eb83e86317c65fc25347cc483835ab1e8df7fbd8d98167a582dfa2bfe032744070ff037de67bcae41d7eacc65f6e313ae9f1eebf547886cdc8fc125f2cdb8cf92690fd01c9b3a92823bb05557359964ffe9c88adee6f770bdb7db482fb266aa8306d56d2b2f0407e9079a81caf704d414f141dceda42ce08a1e6cb10f6a07e9ce2b0f152b90b688afd651525616275840d90b28a09d1ab1c58436510ccf92b49f1c7a210cb74dc323dc510a5e47f2272b5d222494b7602573e98b010b1f8abc3c53a6ef9011c3b6624ff33b77b8371d520f265076342b3ef65d81534e3e9620916866e0316f6935da346806c6833ada3be51bbeacb0c4ecf45acde7eec123b5e37d559194913dfd54bffa5936a4fa373575b2217f21833a9335a6f56320ae479f2ed1907248edf803d6d7b1c39591634fb994f0846e696a3cc1b5ed678a9eddb7ae41d77c6c8e8cc0d26b1bde192a57af70490db80220586fd705eca124899dcd789b3e75a56c9d5f1fcd24788a004bf366644cbd7e532fb32f27c2e21c1b0576a7e277870fb1ddbb42760d62b4e25ad68866f8cfede9cfcb89117f51aa1bb585457d752b97be002a9ea14d086e638981758e57b613a96b93171ab87e463c066b650d03f39e33ec504257db6d245f7adf50d1fd75f035399a161f447fbf07ce829569803cf0bcb83b0bf6a08115dc27a2c1ec54da9a9cc9540cb53bc1bf1104050698a763d907e4e50b3918f892680734e2ae71d4e75c64e6c72b695db900463d515eb0fa3d15a6f5a4557d8f9d34453b9e1474b52fa2d85cce4a2bb99686f8a5cf293f972c609e26a505e3bf45d798fba98f1c820debfe4ab34f8bf782b163cdd46ba9d3a561e1276c06e30b2caf3736b12344e5ec01f69d39dc789f69306821b01eec6a793197ec1f1bf692baca9f99fb7b8fd32dca8823431234a565f768e7880eb3c818b3e7601f45d42e424838f5ec4aeb8e49830731d138c4a47a8888f280480c5de3c02ed032f2997171feb95e17ccbccdad4e9f8d6d54fd333b22e63a318fe8edb65448296a26fa30716e5cd50bc5697ea6c64b3d9952fb38157bb5dfc2f7df1516ca6359177b6e087771698de9fe70df748c643f68064cba3c89209fe1d9b41247cc356bce1b36d2d0d8de1d3b6c19b74669531eb8331dd185b90947281b9c1530fd0cf2f945582787fa5f16594f03d466b1d1a44f0925db0453b237afdba11b1b065a0c81ba88913c060845766c1e50cbaef4d306a8cacc195f66dd7753e9770530b6c5e9a18abd97fc46afc025a1d1c90d57dd585e4ec1f3dc91c7a50bea84f732fe83008b443bf39355088e49243073208b6f8c98262028a110e649f999a488184e5e105d93581db1ecb7a131a9fc3d1ca11a28b11e2899cca694f9f0f6b4b1dbe65787fd58b5c15a8b9c73a2e48e462f751e8b215143a60b00ebd166c1494d8c3b2fbe8f3ea32d2f53c0c2397a41f48b3548382fe9b5428e6fb366a7873f5fa1d7823e52b5e89ad1b5b6a1f189be36efb35a1fecd8299396a3e190173bb9e6de27a60fef77bb5023851fae54cc164e7a5b7e241ba245bf60cc0a4721651af24814769c08bc24695c676d70d1a88924ace1e2d1fc9802158e45c6718ed1f267aa06317b2edd9877d00b9740138eb23ee3289ab35d88b45d9b8f6d1d4169970f04307c6d0a94934d408cfb8fcbbbe9bd276876a72040711e8a1e93350b99d2a03e89691319186d3077c96c9b9c39d4346c506d547e9730e4e13e04eb8f606c5bea2c01250aada0e08597bc051181efa131fc3dc513e678e47c76edc2440b67a3d1bb9fa7219686b1508bd828e37fd94a22aa60f61afffb5a66957e8ce5bb6cf13607a1b469864f97ef9ed6fd072a3db0b660bf2ecc826ec3ed19f63734858420adcc3cd8af06d9ad31f45193b2e80d21891a44eb16159761193cd4fefea4f336368396f42f03f3457ef3493c319e86455d82f879be8f85d41cb3d8c34d63e001cbe9d172d59d3226852166d701a13e9953a52118e481f685fb16a8c62577eefa759ad2c345f04bc35940b2aa78d0b14614741c2f412c676c14a7760715bafec2440c1506efa6715c0285f55f894ec19b858583a081a2d2cd883f887d55f6d7d3c92bfdd87a144cd7fb66ecc4e706b85c601c3c8475a37f2cfdd4910b1830d2646e0018a5327219dca4919cfbd99673d0efae5d59d4d47033bf1498922d29842554e392f5d82a1e83d994d15da7658693aac211a227971b237785680f80cec06cb1029e29fa40263f00f302a72824fa07fe169026259201feb2103faced584e0d4c835c0bce4abc170415aa32705af454a1d32d929a5f19e19c674c0a775d90101242831ffd3fce3a8dc90f9cfd9aec6b4e470109cacebc8b12cfac0d93d044950bad0bd50c167db36dfc730473766fb47e107341a142073c2880f38d84ca59b266ec255b356c5b2ea86fd1a79b9d2a420ebf3909c137925e170ced1674390decdab8b7711aa7df04d37903c7f8beb4e1c320363e02c8226edbc3d30641b44f67ad3022b1a9bfbc5f1d93cbade344e64c1135aeb75921fe860eb17bc08a10b4ddee5dece7e17b082c0f5b493ab2f4fbbfa31b80826188d904cbd2965c60832648fe7ec6d30822791ba54f7b71c749edad87cdd549420b83b5eb98d16a5dcac65f64cb0273cd151ebb1b841c1e4381c6acc0277a65639c4ff055082e13b94d9bddb265d63807176eaf67df787979258434a1234fe4d019558747e2c8f8f40f943cbf5a716599fc8cb62285a7122d65fb3751e8cbd9bc0f20388075f950b07e76e0a5ad7e8ea500c0e9c83e7879f43f85ac7443fb5faccb90a9f839b144eb92dcb9e4180ce1ea0d536a64cec6f88b84974a743f08b12f4a7a8721b953f0de47c75ec49edbc1557d97c32c46d0de917cbf7767e9ad37f27c5389052bc567cc9eb0a23d600c487716ad3a719fa31653ddbcc42d066d3a4aa1c30c6d1d5206f6057475fc6496413e2f3cfe3ac79f84904c264d16c32da6ae6d059e5bd139b329695560402dc58b0cf7635a69132dc033682a28984831954aa68e8a5bebceeffa1ee0b74f2d2a1c4d01d589554c007e08187444ea9fb86787b5b556f73700926892e95279afe823766c72c2c01738bd17eb47a5622d73a6b85cb64a7972a2e12d120455eb0355f98d53efc2da105d5c8d3daaae306a1cec8ccd935f8165d94a3817bb5424ade3c08aab89929a35647463b86af8980a25721c90cc15c0c99714da7210cccb76a3317fda623cf7aa77e6191c3a2f2c2b4f15dd2864e3f248e35b4a23a5d181bcf755b4b332c9634a8ab0565be44411f0086a616fb06932252f752704df8247c6231132a583183576738325bc91418ef7c79fcb6906dfdb700de2780699f43228c887b12d8332b75ddcd9fdea73304dadfb78091bc969234ac34730c32f1cfc76ab53a8982300f8b1a3dd66e1e512e2715a96a05ea8cf6b7b7c859e7342fd0c09be0645be5161a914fc9366e835462fd3704d83b5ca3b27d83fc21768d695bf7bb49b76df13b4dd69c3098b98f3aec985549b16a9706a81710b11b126b2500154021d5f22ef71180081868f3e1b91634ac09bd1eb8ffc1b75b8677718e79aa90e800c0437d247dbd1f45bb6227ef2bb9be2efbdb1972fb0bbf13755422bdf08a9b28bd21acf6a017ba00ab492be89e9b5c47c6683c496abfde0a7ce6b9508f1de188d0a4785ed4cd1d9231570e9f0ee1decdf07aaf200f85705a5ffda803a33e93743f7a367a9db53d2b2074595241ec44e3387ef03a7d9a81cf5ee89c2affa065168e930bb3044d7cf267e542ff1d00a6a373481a3ca1cf541287a985293aa19b67b652c2e2f2326edc336f42988720b1e2838a1ac6f21dfadf402cb5f85641c7ed1cf978d25f5d114175bad6100e11b23ff7130173f37863b5940b4c5f3d44c918372e55c21ea26b86f9efce17bd5272c4932c6b844cc63df713c4ad53f9868fe43e7ce80152ebc4e569419c432e07d1fe40888900a20b9ff1830bf2a81c175781a836a1acdb895fdcbe662db803d9656d97bab20730f8d4d61edacfbbd7c16f76bc3732f91744cdb25c27c0cd699ed2228ba92cfa10b6624e77c08506287a0d53ee104ff12c6fced7491e0c490a29842b691e8a53151c67e2f07155cd85588a5c11b68c3b39a657740ba48e26f2897266ea3f7bd94a09283f21aa8f761a9eedab70eae8e61d80cb5d8ff356cdcf6c437728f147139a0e1203ead00d5c97703f31e0c94b5630608779135c32f88b3fa81b5cd5cc6ed6ffeeb6e543b9ab8f9f2bba3abc2883c8fa0c6562acc8a9e3823e99677628bd7273012244533877e6a254644c46f7c62d8b2189942aadc40facf5f2d8671ba12b7151f075a1df5ec50349cf56193118688d726b6f25b03358b5f857611da3d676308597fc34fd679d20901260b446ec21904daaf3e57e31f4a33bbe1c0804ae465de28e69dade17e24914b8fcb656a42fc30374f50bec48fb2c5a5cf930fff170fba710301aa98de0a057d564c0ab01bdc886daebe03e1872c7b032a9b9812af528fc2474afda07bef9625aa804d9cbce5bef56f5907d9d4774b02c6f1b61cdc4455b76faac411b4fee9c1436070525d238284e01bd1e7c8e1a2329e05b70347f00429010060d3db393abeb077b0c249b13be55bbf4383d2a76adc00cd7390c4fc759549c2bc8d06988d610ba16c685393ea468634228a3103c6a7ef287e672f1779b6f93139c57366725603ce668518cd1f83e87465dbb59c57da6f93f2b95c646909dd8532bcd866ef48b342b4b0f1495aa6fc3713afc3b3b59446abd0eb273b8b0af887bd9c466f66353c943a0da358aa34612217521ff756f25479d13bfb790177b3530f608aae3aada9161474fe44881bc8765f382cef9b251c26cb93c9645113fdcc49974263b25afd9b7f0615a110103fd708dc55649f8c8f36c07d7a14a5b82639335be56033ddb089de03b4107d0a009d67526727268f0e68e0f59b99a7ef7a52341cd74374215f071ca80e0e0c6847262a96a596bdd82b61cdb54e0a8687c97a7f26b90b675d1045f0186a5ab75c4fb91c642b68db9ffafc2561adb545499e01ef66698add92208168741388ebed744f2854aae3c4f488c4812e4d0823f2436867a3d2a9b1dfd4f8995a45ce5b591e584324624af968f3a383ce7b5b4454be08df70454834fcce3bc1a3fea2deafdf3c2fec8e01fff143ae9ca10f49583ce9ca0304ece0f2a2a32896b14c8246b4994cf6a61038180ccdb89cf38174f5d329ae100f3ed6fc5cbb3ad2a192500e1644bdcc8a284d7af60a2f75203c9bc353bea502d36276b6c744045d0fdef880f05fc63d424734273ded4183a2876e9d3f77bf3953c8be3eac87b417fce7165151df16ef5839ff26a2b335eea011060525e96c51551344005a08899f61a4a99b3c7ac43e696cf71ad1a52d32cf4e4b64fa76e868b4741b534aaf899ed5b270904c652bc7d9004d5c354784a47b007d1c6cfc7e0e3db3ec6f52bfd35b052047802d6c953df36bc2f5b7b010685794b24d535752fc80be9856aabec0639c8b4490a774d045912f99909df599b1577267b21b893584149340f4d1899665988cf8f27493ff08f979cbfe641f89f8deeb0da92c6da4d8b327a9108c3e83c167476ff74587cd7a9f924adf0c760c8397054aef2893d729da305ee542cac40292a39455ae14f83337c3c749395215d801adf8f703e22e79dd25b886b9642464462aadbdd25dbb6c0a911905377f4eae229cd81eaacde417d2b7027f3b10cadc3c2d00427c0a0a86f147c40e5aa31c9e8bcc8bc448f9a332b0a519b226fee562cb4eb3174137d5315e5006aa446f797334ccf5dd45e1cfe570d76cf8747cbb63b2f4d9335db16436773349bc2242ceaef2c5f8d2afae6dcdf7e1851032d2edce188ad200e0bbea41c10806e1ee326d5eedb0a1eecd89ffa92b45bac4f975fb9a6b4bbc1dc97dd8edfd5aec9d15a2beec2bd2bb88e8e26d559316e5da55b64cf7f1eae028cd2f1c689baa182a576094aecebf4017c7e63c3b5e052b47089318e2b3b25926b79ebfd7a6f9010bad3070b2f97538aa48a3ae55f9fa4b63082176376b25676ece32e477d54729bc2ada1ca2641984bb40680c94ab46a55a9fa0b93eb3365850d05b5b00cc64ad0ef3cd3542b1e3c74c4e431d44f896bdf8fddcd6d1574cf9cd43e305b501f3a1807efa1ba1dd4405a88c58e6634289f6eeae3c54e446aceccc0c6064c48a81505e883c4bf8273d2ac146f77af41cdef892f95e16877a5907990c65423640fb685ec9372952ec237d24d5a6ed2974158e76be8f671414a3f9d9c7fe6557f15a246355728a4ab91dd8554587e09a9adb596af582ef6e69647711bc1e1d7cd84cf6b01d0f66dbe561bbed20edb97ea51d499aae7982a304ff527a371ed0f335c1cc445ec1b0098b21790310853a3e83d184bfb3db19816f1e44523ee45fb37c27f90f85f8629d979ccbe1f701487758ff8d1221b4a72a3c7956b05a969003a5cfbdfa9f29248cb31afb29717e54f9c76db14a219844020e38887db4bad81d513878d7d86702f5c06db705cea8800c5b431ecbf23d158a05f23c7c87fc70cf8ed2adceaf66ea6dc6271dc2474f7168a959330005b2537ccad882e641d675ff98978583d20a703673dc447a9bbc8bf1375bfc4ecdb5e14f843ae0950fa3c2505de0230c6c2ed4e547fe53e8b8cfecbc96d6b67d1af0cf2286605e1524bd7cfd3af6d5c7686ba3d266535ce2178e4e001548e694cf2bd9d655b60d9f902eaca16e0b4db36d3282f73eae4d3e70cc9c61a4c133c37de2251fc9f13a8aa7ed092f0da5d6720aa88eb6e3d88dc31cb28627d8afcfcdb26c60447dae83bf01fdf7527430c6eb9dd37f642e3eab3aab365e18f7070e56e55fbff4a607c7e823831e126fb7349b3cadfae893ec31f7a50369e5b9bf1ebfff35b381808a25eb2a343b066953405e9562e9225ed3db88977fa45eb1ed33ab60adb049256302d5c19cc8f9df1be653c99f73122c27e06aacd7164110d4cddefab8430bb53772134b1949966b4588ba316ef010f879f119e5612f4d7bd4767ba77cf1249846e489c0b8b715188fa4488ed460844c39f2934c717ba50628b2133b8db31ca17d654e70841fe5f223281a5d61214a20a72eab1d210e7d6573b4fc0197f2ea68d2e92146185f2907fd698f7b113bbc098c591ae99742160067dfdc624952a4644caa4b5b01b72e49d880f2c2ef1d086ff93f9229803df5e9c2ab44fed5e51b871ba84d307f1fc7fb32d8f37df70bad9ea32368413fbd3996e52cfd1831e35522924fd0c744b0d6039b174c77f25e855d2eeef633a5985ece738fb0d1cd8f0201c8bfc55ded1626f2cd716911e197cd54d740f748fef6a5b927d66a910efe27262f737c8203d6856b4a0df6951d026f6c9b2181b3aa9f1b5663806f1cefd25fad9478f4763a46c330c8e4614a936e387220c663802b4ec7399b6f112d0e2d0ebfe4d28b7a682950278b96c8c379d5a7bb1edd04b16ac07e9adb8758607cecb57be5e34deaeaf81c3063d8e436cf5fcb5998b7857cd16a9764ab2383e2f52cec38013fefe580cd7cc9fe46ce2c6eabfbe40f98fbc0d3d58cd617b3e378c943ee1199c21ab9258859b1dbf86b846a78a9f9b9991c0862bac1becc2a0ee215dd343035eeef289079422e46a834efc1dcf72d120269c9c133e7527600327de025a59f8c30ddf65b51b10c960f228f87cb57045d7661fb222b5c8170125df18f277b37a1f137e35ff21316caf4c2a839c1778cbe7fe9693263312eb6a17f94d7e4e5aa50200edf2f37b88445adb2b0546a0133cee12d718c3feb0c85070a90ab6c09fcf21194712c44077b3ba36ba434b5997be0ae3bd43d9a1ccf9fb91dec66974d6b1009be3f444458f654cc3a7ae3bad7167c2bb6ec140803cb9515076dcc132e2202a03147b4bbef8a34dd76ba8a6978781fdfd084ea73cc4bae3a21936d12d42276c25c66d93e2211b50991a85a663dbf1916058bdab6a3c314a191ce8f01a2524db9263542d1e29a060ed0fdf663ba854d82d2281206cd043ab7fa48a3a7c1e5d25bdd3c0dd6f6cd715c1b1c5311538727e4e3bed19ec602931a0f5026fff9f9d6ea02d745f1dc60e776f10ca59705da6893e925e521de22171da62529c26fad577b79096fa0d97a4e7a81ad8d011380a61157f2217e2f3a403f00817615bd36bfb183b9e8c46f69dccd0be77390d1fdce06ab4dd6d0757168f051fe1f09d8bb2323c9104bdb7162b4d6a84de74edb23c564ee3529ace380f6fd215f9a97f6e28e6d1920d9e25455bec4df51bd099495957ab1fef3d38f457e0a2ffa56e02e91bc8b6f48c72bf2ad3fb4d2dc4b28867684c15a6189de1c6e233a097355fe770506486fec651943ad4c6cc5ed5f550d40decf19accfa817f60f713f2ac963ffb5e1ffdf798f8612a1c9da4016a8bca56919004cdb02912e88900b0e024ff15860042c658c351f9c930cb5a54dcb0e35a60ae8ed8f1979a61444c1f4bb3d258a93dcf6b55f4f747cdaf20d4ed9a35f02e129e3b4188f972aa0d62d18a5b576a70846f6f7dec055f19a10bc9fb81ce9daf50a31a986391fb55fa0fbd5c5534f8a2cbffeabc3bf9fcd6273c48017e4235e3a7a0f351085d52e4595c32c76a6d4f05b8fb970fc4f63e2226866bf5791838b0c97a823ff0b768b43c5f4795c50280beeff8772347667639fa8b89204942ad3385fb67ada56b69079b26abc407f380783d29b59ecfce3720cca7be8cbe6ec6c633ade46eb7b89407204bb22117808077e4a7ab3967d708912871677881459e8740906d40fb0c27943a5878713c0be5f6ae2db05f06974baa86570fb9a7d25910f31cb435d102932e2a5be61587ae8037395fd6ff8a3b65637c3d8df9ba70ed82f924d4db8f0610d63195be803be8e43c7f1233d57cfd699c33f2c97d97714a1a2a3051f28852ed7a880c99ba3b2e85e00fd20b28fdaafc866ccc8b37a723e285d62bde5786ef7db9804a49333ffafe5d8afc613df90d53c2f782b7690e8245d94e8a7c3c08ac3e48a61df28955e60fe83d11f153ddbf9db83964c8c570f052e25297f584745323c5c44a6e1910eb6c7812bd2600f7c9bf557e3cff38774a17eb92b6fae5d182e3117f3b0311e721c652d53a4276aeaf983a26946c792258c0412da8f2200a9e0cd4c8c988991c83bd1462306300fffb68a8c0784e02cc0fc3fc0e1c7e27a0d4f2d073d9a888c3d8d2820d05dff75fb83354a8e4c5e18a21740a17d8b1fac53c2cb47cc82828a04fcba4d6c580536128685d414e24e4c5136c58c4f7eb0397e65569b5a0a18e153b6dd1794955d682459ea73a6d47bccd2755c22802fa3f1d23313b20893720ef2ff604dcb0bf846fcde31deeff2f3e0ab1eb538dc5b9e3636b29ca3025bae0fa8f634d50799db47228e6b1ef105c4b587360a912d60f09d5123b76f4499e3b0ff708cc22600897a71772cff04b811903eb0921ae6afcfa6ec5e9586f39ddab647fd27ee2525abd2a294d8953d55ae5ce32afb76e5b792d7537b8b973cca6ca5c78005f4acd0fb0a17a5085fad98270ef62872b1efc72c031ba96906c75a691786d12d69a4cc4a2573497da9523b4c45a13efb4b05d485bbb95aaccd9276e143ccde3ee797f235127f32629198f28586b483db67792255d2ad4ab4d32ae06288af5cf286de39a641e188aa796d41a9923a8505c84263bc92e74464cdf72c93fe9927c37567c4e5209313645832702470b0d17a4f492fa9d4a0cd43c6d1ce50f0c9f0a23e0e9262c297985b1734bb0b4ca5922a8ea015ebf79a2c02543878c2a05234c08936e8025a481901f910a9008a2a1c3a03c5eb2efe4feb5153a283241195f223c4a855c97e55ab0b8e03f2ccec914d642fc707e6a2ca49d80fdc1d29838b2ecc4e440bb37c92ccd95ef9d886513de10fa4c6a5d8dfcc9e6342827f5a346aac84706522d302b6bd2fcce9c0c06c224e575fb2e82c44d41ba71730f6bd617bd81a713aafde02655e4b8ed3ae651393cbedee0e42d1c5d53d01710add93c079344c096a5c1596dfdff767ab55c7768929b7df5ad24823e5894a0708f1e22c87303f2eddc25d954bae0476f7513af184a2687880a0cb5f2f749c5a81f28dd703d1fc0c60fa02cda6fdf1a434dc2ececda93f241418a950f0c293119f37f143c243dbb6c4ecd491142804667156d83f8d758b7fa775f2cbd6704cf20d1673fd8e5a1be7460abcf92efd76ffcab737a129d7cc725ae2cbd8fd1b73a992e00e91faaa48054c9cef32adfdabea6d5204be4833f7d1fc94b83f786c197d76263af3094f57d7313ba0c3dc1e0b386db7a8dbf9e5a864f9c045e9db3b31364b0e38f21e1c8789d6aba4b5decf576d8f16513eaef8555fc9d4a491358ba3fb7b65c4858ddee5f9d614ca574190647218a28da0cbe3381b8d9b1e3964eee7ef12860a6f316e5f8922eee32da1b9a3fb88ce33459874eeff66dbe6649e20cb7f6f881cd0e6e4c3b88d584d52ef1fd718f0a9cbc57637704d0264220dff2f0ca648eb81d4d22eb597da514f888e629eb2cc8d938390296d2e68422a3bbaf7013f1c23a64f61b61635c173911a8e32f4d834fd0eb04000477eebe01f66276ad3e922150da987dccb965a1557e778ef508ab73507ea9d528c55c3ee595ef12c1021e0b828bdd60d57c6b335d6432878615723c1d2929c85dc989ca3d294fceb292710b0a411d0be075b163b2c0c219b36e432a86166975d941f4fdc8b24b453bf651ca07a839cb5e3d61a5a3e536fad73da42e9c10d8911e40891f38bc2443ecf1f77d7ef53605977f7e2d435c26f3bf26aff159a69a8696caa80df4e380bcf3891520c73d18a626c8f7a530ee2e9b2ff19e1dcb38a55cb2b47823099bcc4513bbd65acb7ac1fcbeb835a00394095dc9a93bf55baad43606758760958753b93dd44b74ba363df26dd5059ddd216583cffbbbb230c9cc731d01da33e14a8d974578a6733dffc6bb192edf9d20b29e2e17bba9e5df317c00634ccc0f5485dba54ae1c5081efa56e4d467160421926d9226cc2a92a3fe7188583d873aeda0f5ea7b2f907d4696c2ce042e60196c2c294cd78d1f523eb229b54e4b6aedf0ce9c4c649d4fc4e768a81b29a6b0de745653419856d1b95ff130ab2bf04fae79018297779e3b9ebad025fd5f4a1fb75f83ce1a8b00651189f605883953ecbe5c52ec7ac11ac61a7bef882d6325a5eeb88e1c724b8fbbb422c919c9bbd2a860f8a609880f09db5646485e8b2b4e71d4b7b5633bcb7a110967a57ac8de9a913f8eeb028cbc401a0ef0557eff3a22b90bf147faedffe429a07c456972992cea07f72c96f9fd232c76115845929de7625cf8cc665afd77f455108fc5fc157e1395e67e6163a5c30e521c050b99c047f353a711bd76fb648c1c8e35ca13354a6c4aa39a884289fc246d2bfb53fafabe2563a776a7d4e9358df84415ee9ea8744c6aa444bb1a59b371a033c602944a2d2e428351fd3d1f0dee62710f68ff3d4b9666e6beb833a172ff3bd25f9e943ecb65db943c6e612248d5406a27ba6ad03376338b0eed61decedd27448128c31fef7374918f97e2e5d9f1b4fb707fe962fbdb44218e0ac9eb06f13f1698542fc254e3de67818bafa82a9d8fa7855fd2d4b0960620294b40b1d5d0e2bc66533568325e63d7a45b8d44c4a5e3250b66e98345b39ad40bfb6c73efe51c0bd046cd94ba0206e154c8e8565ee511a445e064fa79639dcac8e88ca46fc2a183ee093ef29fc44a77b952976331e5c15d8d8949ab74ed65e159ce6a253d5b2607fbe6baa57d856efd30291cbef5ceabac4055fe6027d0068196deb04c80f7eedfa9ba994a4ee8f5e186dba7789446977b6699872cd70e2b8fa3df54cb6a786857481411630ffd51cdd8bae46d72fd6fac8065a40370f7abd17aa0e642662c0373af0dac7c21c5f36b1b909e3ef5c08d1660b054dac989bc561d5680c218a63a11d5d7b78bb65d966b718ec5468971c401a44f1c1800bf04df1daadd24918197806594662425a7c5b84940fabeed0f1d5b7f9c52e64d89d801f78d8d2675de294c9cf1295a1b8b2bf9ce26dbc417aeec6515ef3c096b70a44cf301f4c92a50742f3184feb37144330c67f8c7d6b81dab54b1e5d29ff4d3645a928582d5050c481dca79b7ec0f59ad731a2f75940416e105bcc9e935b58659547b1fcef36fcae61fa93660296d78d5355efa47a9563319a60bb0c5d633f264176023ea6de4fcae39431ef44b22ca52bbf37ab07a0543d784f32d3bcaaa53faf04797b5c4a30e486cf5f05efac6de2c209cd6d65f144b82921f86b5f5cd69f4d80329bfb0170e76d1bd39b2aa9fdd0f9f120214bf1cc8b9982b60abc56d458d2fe36b9589443c0ef067efb8de5f3aecfb10e3053604a4919320e8fa2d7c7928791d0ab1efc79886316f2e79f9e132bd8216d84361f5f57f6b462134c49de19dacc67b71d81ad208ff6b76a4b1b059298e77e8c66a29f6b84496e2f776c0a47f3d68cb67a47087332f0c3803cf2520ee94cda3d238344f95b876d9807b4026a3c5ab6aa83142acd76b0fdb3bead15331e7551b71ad0f122c3f7e18eba058b770ec797a513a5c796dc721dbb01710f2b4d5c9d4ce3634204496d389ee2635aa1890cb2e35cbee171b1efe485888d153419f754acdd716d0a14408088fba04c20c8bc4305fdf23cd28c992224fb793cf3b6d55b6c346b2ff12ad7ce057653e4678ec0457a601d7b46377ff96746e7ae8cc05d99d47a320977d9cb8e6e214e1569c2887ba0b5514d11f1310984d93240d6f0e003e9b0502abffffc3181fad9f5bcf9aa86a707751913c26639fed43923775469e18c8c86362cd3390da5bea6a2b875263da5213c45b4deb39ade803dab51df31cd9c50fc0499d5b9175c5be322867520c8a8200a610703bae154f15cbc6a7964eab8e8fd3572d3825c581cb5c83586065c820a307ae8cf69e2e2e8be30d5a156b8d90d9d24f11db51037e4728c28d4aac27976d4504edddd25994f3ac055e76ae9033b436bdcdb810da8b79f154bbda036337aa2ce22dc4337d76d45fda2a7a4b1f6c35c6ed5bd1f9b283a276901af1a03a5ed924201ab4bb2b1877ba97fe5945ab3059a36b060132c33a05e0cc924bf96241afdfd7a72527df93a58f6edddefa422a40bfce09a337aef761bfaa811d0d67392839cedfcec82bf57c9202a7487c23093f138cd827f66573a154d2a282ee8fcde6d1611788ca9ee030f385ca0057b6b806f1f6b3e5865da01ad9141bf36ed46d9e99daee37994c5dc6d7cac14f750fe211a0f0af3960fde6945cca7ba2dc0aebe1ca96b64fa66ca392982e3bc183640c7b42cb4eeadca8f3aab7c7c8733b0d9ed5c9e2f5dd9905fbcca887af54aab19c5920f38807db846d5beae17c4b0525679c6639d35f10e014d49f93e64a174b7a35c386f01614e30442ed2946c660a7ada7a66acfb048f2ef78e0a80d7a53c991cc2bcacad44533325ff2c7597bb73576fc4dd2fb1e77aefa18727e76f93b58de51d9284b570a50cb1b703774f8ed423586e218932281bc52053bd0c648ac9183ca46b4ac5bcbe137a8cb743e88b8951077fe57cd5fda11cec90dfbcd506440cba37c512741cf733a7bc7be67f07f074be93e968a856fa011cfe6c3ccfb63b1f2f8a514a08177089f656603e84b6fabdf5c5373ba50fffa9713f28de6ab8d5e14711f9a43b97d04ec55f17d7c8a74c19d395fdb20366fb916b88dbfd66cf4113f4e22c5e415cd9814af8de0587a624cbe2ff79afef5d752c7d253e4cd11a40ab5046f9dbe57db5882cdcc04a0536265c23f61a94026c87f59f6e3feba9e124fa63d007d89e58d0cfb81e9a19aced20e62e513e802157772470f7fabc913f987661333972fa8728e23c5c3f977ca265467c92a3a9a484818968e7e7c150dfa0ce48dc46b34e6ccbaabc24e7947926019c481b072da58d196f82feb641cf4a89badc001e4b0550ff36f26773e0f0b62839a6e7b4dff14685e608b3eade811c29778e2b3dc38d0a8c866b97f9afdf62a6d15a8b2fb60c451e1bb5156e15b9eba662d7b949a71991d24e7f22cc8284c40d2fe8e06a2db0c7670d9f248a1ccdd513cad43ae37aa4ad631528fe9d6f16a5cb647f0db41df73a47ebfd45cc0e8f2ef9b665a6ed215b13373fbc1cc744f354ece2121fa5809907d2f1cadfd4864d401971ec131555d162a20114b361c8525b7de21ac430bdbb9e2fe7163f6e4cb2e4bd498f1d118329d78f847b87d5f5340adf6bf4c89942a9cffc17ace9c41b074725b00f9031e78ee4b472a90696617dc32c9f7f6d92a766cdec","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
