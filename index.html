<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6ba5be33f7e77ef931cbb9bc39c9ba7e6d2f1e009b70fd1db00f544e9137d22b92aaaf60ec0dea96f3b23864ee833f9287f0bf5c1afb5b3acb62bc818b4add6eb2c5a9811214ace187fa7ee71c7dd1b9dbb70f0aab4717e03ba49fb44e20c4ba4a554c9e5363d0ca7dd2d51f6df8cd381bf86665f44931dde273080ab836985a46537e6f54f610d6078ee75202783c5d4bc27c1967e96a05ee6f68c98876cb26d2621193669d0c180f10f2266ab40c381385fffa31715d55bfab2fa1a2b69d78be0c3607a4832cde090cbffba99760d8d1e538389351f63563bad1295b3e49074fd4465ecf04d6cfc785bf616567172e33f362ff3f13224c57e3fad37bf6c7bf38d665b5654e93fd094a2d99021b67917b1e5ea03278a6a0f7c85d73274f6038c9adfe206654ed9ec00aa29b940ee2ed38b7082238cf725ab60dc6fa356e1d54f0d82362afb8a8a0d5d31e4c0bb673157fdac25356ee39eeff5be259d9f8ad3b4c8347813c8ab3f609d0bf0afa2e0ec4e446cd97e6f81804c5429ceee42c14b56221205a4933d346f3c04c94af96a02447b388e13ec6c064bf29472ffbd759f395f8d6dd4cf5641ae2a3bba7cca8176483719926f066e20e656306c4d4f85b4426a434363eeafa412e79116a2f4586f4289bb2e511099e7b7d3e0bbbd034ec9628159a72e79de208364c7343aa76d853dfb7cfcf44cabfbd8cf109b29d61f42a407424b742bbe1c4dc6d66720d1b16cdb692343e1b7c120ad711be319c537a2f963f53ceff66b58676db50310414caac54371ff0786149b6940bcbd6ebb294ed2277e6567e1d1ef5ae257e6bd2c5af1de571e19567d3a55d306b5e02ed453fc7135d0eda76d57b0a4f18c843ea1f31dd2c624fab2be2b4c6461d085275051edc4dfa598e95f8fc0119f70cd997ad89bfa6df48db3977eb5f0df4079d0839437718b75acfffdce439cd05cd09eed120f21f995ab1467e4223c20c30db6a37f115555fcaa9ff378debedfce643c3fae142acfb190fc9058ded4b532c457d84162e081189384441d3e873319975e9440489296dc3bc2bb500124d837cbc6654bbdd2465df9276dbf0fe8514c37e7b9da5fb7aabe0e06032db7c25d65631fd0a02d44fe46fa9426987a0aafc57c629b7db6770be8c1d51d11eff5436f95c66b50a2d49f459640ec358bab20511b1cd16d3691f3f39d9f536c5f0535ab1ac66b815b1526943de90bf36122713fd9d80ad872c1a6e64f782e2e8baf1407556204e0c9cf4f152be9d8a81523ace9ae232236f83277b405a2f6dabfbd2116f2ed5c6b10c8a2e5d080d185bc92305c7429d81d0201d728d811d3ac77d58c1b974b87ff8636b00af7f7bad7283479e4f2e7e72a9e31fbac03fa41a887019365c593afebd9a9dbcfe8f364d2f615ad1f8b7bd028ba86c968dcbd9253bb94a7c0b359f3a984c180f47a61c03d868b240905ec51c8bef4d4977ae1e14395ff5a0670718a757f64e0391e5ae8ee1031c5071546b874c75723ee2c7d1bc357355507dc983d702c7396f767448e8dca7dd9f62c056baa55bbf47312d6da3e539dd1c9433ca7395deefbe981b8debce1f8d8d51c6b9406a1dfab0ae7fc1de6dac8772d4513bc8e9add68760f8128fa6ed3e4b33eea56f13c457c8b46443b312fd7cca10d03c733d5271b252502620d2ca51e8f593054e18f7d25fda3e1a19bdfb0af2684d63e5feffd1e2601dd540964674bdca6555110d76c448563fa1beb7947a3c97c22a3d716ed51ef79fa34cd1b676db3aedae3b9b5e7425e40b9c6bc7f21b4d4d2f1e0587cd94fe809f65a77a23793eb18de5b2f6de9b5fbc4ac3e492005484005c787bb41e0fadc368216443684da3ae44a608ba8c9ceadd626f48e7b6c659577a8e17342d2c468aa4eb7413e388943ec195cef4313b20b08315b0a5f392794bf05c3b25cf662fe86df950490758739fbfcfc888e504cb676838444f46f1ec9aae5424854dd92192b456ac21ff04c966f76c7827e791ac210189fa1069d9fe03eee032af0e416f247889c756824d5c267b84500bf946b145e9ff026c79034a6a493fd3d8b779e405e347bc5de92b86aa1bdf0a8088ec89382a3338d32f0de7e7fc9b483e5db52fbf68828fc98debd5fbe509acddbc13025ad68a2493155cc873b8704d49a110ef2c43783d7876d107509985ce7d3a78e7c0dace9486481dbfff3103807f9f552f1a714c3b9bb29635b4dd66f0ada0827858dfc4017aa2f507996a000a7c58d4f30f9b002a79735246826bf396d63bf488a5e499be8715669b1815658f2a05f1b1e5f9a99be81a6beecf727ac848d1f200219124fc8eafeadfaa152980cf61e17eb604d2797171f7ad0ccb8d4280e7129fdca997d103b4928b1a1a028019be6f60a194f823a190da1908d5ccb0f5c2adc11e624f33345000d9e03c2adc201dd06dd3ede0b0b84699cb091e4faee65a30bdd08e1aae2f6315436910a05a6d9413064324fe3b3256a548b9ce993d3c4d65a9ee1ef959aaae99dfb531e5e0ac2f6d825be3f4a0380b338e2730432b86a1f4802b7b0a2a22168326655328e83ca3e330e85399a2a3b78818a87b25c48224ded509517bd38651c40f7e39a979bd2b8ef4d12c9ae238bdf2ec23b953fa21ee488778a4b29ab7c30ad1a2f04629bf3b46c5e92ce1940c11edef2137dd1c288d67ab13d38d8a9058211eeab0ab926dd37146deeaaac0ced753bea8f85cdfb5171f60849884887bb25955c8a0dd32553d353c3381118be7164c8a09e5511fd3984aada89bf482866c9140a794d4762a79fa96187d409b3167b407a883ede448d6de733c113ec4c211329d9b482d0ba382f601d7bf41882cfb3d67cd366b3fdcca5276b3a458f9b7a805e2104e3176092c5467463311e55bb33ac6cb64f39e4f7a85b1fd6824cc0272ca3af878df05082f5d6ef9da344340124235fe05e269a2e5330f7926d700bfa9261c7418a68dcad5730e0fd07a5410650850c0ae2cdce68b414193bd36bd23d3e59e5bce4d391591cfdfa70d6f59f2276e4b1a7ae817114c06f69634cf346bf4da650a53b3f9b4fb8a30ef864f39725daf508586c9b721c7573a3e90e28b8af6c9a385288677e369731f61b0b14b7f3ea80677440159cdd73a1d6b0e00515958c9114a6e0a9e283eaf1f1b0f3328d6531c90d3f053d1da8e8073602340ec8452255374ba550b4dbefdd783f3230da34667c0c20e3329299b8418b284101935502f2a685aaaedd7321a708c06b1dadd0d15f3f1113f59708fbe14ad6119443f626661f60e6a910beffe3fdded7e1d8820d85941ee4e170820803b3b103127f9435ae2c1b18e72866b109b27d565014129bbf8c933f9bd7cd5ecf838d3017751a08b184a90ef44b13b4d07ea7664a584bde75b88c18eec06c2722d0c39ced2e435947d708816bfa4cc79deb263cb8871138cba36a979085b96c262582559d0452c720f6b9144e11ada817c9682335de086eaa7a559192951b8ae53ddc52ae3a0c25b9c8cc6bf569ac150dfc3e9bf8cbb42a92ea2d72ff69975e680cfcab79bf4d59ed5ac26f505f3dbe0141e21dd0d2f28014efa3528bf0a4ad9677bef978a3f83d64b9b2077e3b3931da2060d2f7a4855156732ed8e03feba4bdf4d045689a035e13e15bb7c90646f7714ee2cb86e49c595f51e56b7afbbeec68a46a481366f1cae7dd083fbd7be4ec81475ea4a0fd3e93e338670e0e8f475208f4d6e6b1a4bcaa8e8bc86751bea5c3828783fb122b2be418f34acd5836f3d41a487843ba759f5b6ebfc6c15c9319d7790eb764aea41ac990a89b78260c6f3b86b983b3a039cdb0e282c6ea729338d83ec2a37c8ac2a6f4c3ed7c45f1b6374856faa0146aeb6f9766f57d2364b1ebbf0ca6b72f5578053c8d60e8e31f7463c90bd6f47c91a1c3f8ebaa47da506ce8747f283b15d857674a968ed8954502cc490277e1475b89eca08ca557ea8c14b27067907b841c90b81d6328e6706375bf2905099305a1552bb0baedba61cc76814c961bafd537c53f14fd7cfc89dafa2e736eb2253178fb8c5b6f0b0c10097928eff4755ec5e44efbdcd5c9507366aeed709aef836a03f989d197c3a5a5c730e93d296cfc69ca8da143a93faab18ac8f0a3ce142ee5c026d3755f11ec1630b4d7e4cc3d4ba9ff5afd8a8828077797e231adb8342a6b23089302388e86acb8f68803a660178c8976b1fab06ca77f18f1934422b6d4560e41db73cfa197133673d5a370b4841c6f7cc475982c734d76ee46bce9ce653fc2f7464e3ec4f4e18ef608206c3dc208234a85cae40020a66ee5f7fdc527d0f968bce2790b602365d3978c24a6f47ff6f65bd3f638d5f5f4bb923ef16dcb91117962a739dac21110118a08bf992a440022d4852b26363bafca2c6f0f49de701d17b6c82cd0603d9794a18b522832a989a2f930364b049cb3827354bc321ebce22f134ab356da9a108fc93edf5b6efcea6658b61578cc2b02ddef1b19c0c6092b311d5518760e3c2875e012e6858830114d7833563609a582206c456743eccab2864b1c834dc1d007899de119bdb374fbb3a2d602e73f6a263c73b0d530216b70e48323ceb8140e98d45a87d8b27ecee0657881d4f38b4c951f66312958735be9d79a20f13e2db401332a2208617b75d71085e87a4987edc81c4bfe53c1fb6d46884eae97ea5f6cefd2933e0c861a12199565f3e34a003646addc998cba18dbadb4c5486e43b905e8dd063848b24fbae808a4fc8409a6135186115633014142f056ad608d676720283fae7e3db81ce8dc5c65382afb675d5fa870592d66da6c9c15eb8464f740cb7c8b6c1e20c9bd786481a3d5be1ceaf6a0ede9210e59aff602d7117143266f53c3037c47272e38a43601eec09798b77fe7f731315fd942fc71ac4cf7da1dc5e4cd4804c9d040b48dd7dd2c07ebb8b4c191150f372374f0dd9e642da41dc7db138aed90305b1c7ea889760195eb56be85590e943140214c58185a0b454923dda2981400ed1a350235799ab8380dc5daf2135499e44e0a8afae411fcd80545141f5299c3e265d50753dc417122e5a0d5ffbc9f192def7a53946bfb3e79794cef67991b149766c5969fcfb875a49007f2cfd14a36a8be5243998c862c2334e90f976a43d0f1d0d5b44b3ae5cf97a8c5ccd3e316755395b098e60b9df9949bc20b804535cc0f1c12326d38d8b73496488e32d68713683c4aafe73573e0f5d7c30e470f1532c0d09f9517b00a0edac54dd63c004ca9f500bcd8acd17c6b9b98be6922c01e7fd0f64dac46a11155deb7382800324fede796245ac9b7c913049d82e79884f9c480d250da4244c3f05f835ce6119a9222b611bec537bbdfde4b30bc9d7beabbc9ee65981c27a8b6478e2e98c3d64de435496475706dcd870ae0c2c963b84271f3bf771ffac21c24b6d5d9b350ad33069f15c772bb06b330a54e5886ae89b8844e016304561ae34b396453da467d9eeb125e91e43331e261f0cf6b71406997dde2a2fed73a5fd2f976a1fd35593fa64e1823753bace80a09409b85dcdffefb484a8050cd79e197b24fb4aa0beb47a6d61bfa634f8171b58a07ea618e599b2211919e3d67036cc52d1a3ff7b3566b566499dc1c8a50a1cc65280b370910abd68021f18b879f5a8622d823afd1064c86fef4324fa71f64b3e64288da2930d4e999f0533349a4a5114d109c015e46aa6cbc68059369d2f1d16ad355691bdc365f05a0b62920d9b12e70dd08c87a904760393c25791e4f5c539c8b9673ce7746055f7732c8232917001a882f746cc13f65efbbfec9ed818fe4eea5dea41a92cb6dca82e41409781a2e2306abc2e018f02675cd7cc096398fd871b7be01bea7d57fadea4e4b7a7777fd17166e7ef4dcbd7a939131febcfce0c4b76b43609b33bc08c1e60731c0323f47a8b553762bcc25bdb9df69976652f9507ab3a3f08717e25795debc29b49c6868e1e262abd172d0f0c09e8c44b8ff0cf21f92832bd0bdec5ddb7f3a30c96c2e12a55fff3a2518ceda06d4db7295601a34bdcdb1fa90b779bd38f92da0266ba1240d7e7122a7181b4f44f1ba82f52e85a0440f9ef5c96f1f27bd0d18cb97a7ea7c53269b0bf365e1f96317f10a5242104bb70622532f8b03156ea1aabda76c27b11fc83757648c2f37fda87a31e13c0653bae0573adc2ae4761c8364f93fcc0e346a7eb8b97caab84ed471d48e1eb1a24efc09daaf04c522181edf3ba1dd756e7ace299825fb45ef306fb178133fe3e8c865b14f04a2bc10fc8ec13dead90c5020990774e1038ff07a3ee992146a3ff0fe6eb4b21cef5e3d6f3e0077fe365f287e6c4cd26e3bb4a01f0257da11deccd64f719c64d7ecda53045d15fbcb8b494904bf2de5d9366fd40c7193dcb9b47b40a30dd30a731aa2a74888ef895f21e098ed8f2207a46d7e3ea442bd780615d67d06cd1588c7c55e9b42e4d3fc52d03241e8805177b199108eb657f10e10263c2ce8c74959a56a8f3fc12e3d19e3997fbe8f91c3f71e098b564098421ff34f0342e0fabe4afcf34d1798d3dc816a9a77abff4f21d25db37be76b3348eb7349cc35eebff346eddd3a61283066574f0840c910242c42ad693e6232001115de44a675a19588b25dd9ee142492f81977c4086214776002123625b590e2a2e35347a2574ea4c3c52e73a5651e2a01b4ab607b82ee640d1fb03b757efea1e97e755467a8745481d78bc3bf2a61451f5d33982ee5bf8e83ac9e715deec49b67824f65ed8d7ffaee826231f89e79278a6e9d1ca2c85b0b2114cdcf5a51375120604650743737a92da48ed1ecd4d5f1a6bf6b635686524946f1fc09ad3bcbdf1580419eefe5e5ed5105cfeca4cbc87ee344e620a68a68a998129002209ec9c01dcf314476076047494730c3f11460fa21b8b77ecbd1dfcac63ff46d9905483a94bba36c11b3016d43739a6017360f63f0a0b61b7f18b57a76f68c25c6938c31bb1c8525cfd66c03181bfc180b06b494d0170cb98df003c62690f8499f2cd60482772616dc45789f57c8f27ad6e02ae6740c895591175eca91ccbd60f3cc8fe7765f99d744010c66efc3c1d172e9d8c6f30254656ee5d52c3cccacc417932b006acf5e633fdc26daf78ff1bc5bd872f1a7be4f8e25a2dd8cb7b574c2c2fdf1f5ff40f4b12e00b3410d1d914de5c01c255a8346c6905db3442d96349858663efcf43ee1496409dfd2f521428e1ab2a5eae9e8e3837aa01db823ee368fd5206acf6c5e926717b94307dd333e3809f85c19db030ec6961f1f8ccb650f4297fe4c10d147fbe63a596157bca7037e9c221b0dc433da08cb37482b1f86c057f10e74590adeb918168c5df08df415c88358dbe29a14e8e8630bcb750785a25610b12b5aa8e0559a8846f420f4bf6b3d8a204c83644c6f9fe85033be7dfc1dcae455c3792e37757879ff7230937d9a574f7ca1be3687a0e1c98face4e6f91f5f87ab851280331a7fd77afe1f3b3bf802719f55a2275817ceafecb9688d77478346722dc634cd5fe60dd511d74939d2f65179f22bf1aa1e6ca185343ce21fecca28984be7fd89d6337c10bf8dee6259883617a4a98d8527903dfedc6069efae5ff80f75799360468ac96351f7c2e75616f62df865ce6cd61f7b1e581a21684aa0dd8f78ed9e737b58e6dcf903807281b93b3f1327471139be23651bc907a468eb10a1056ed239eb7ee08ed31236d22dafc3eb726cc38affabef37ea11c44abe26c2c0607d5ec7c6de04926bcf7de54ce416a01cd488e752d35be264c0c442e9fd73c0ca2b998772923d601728a11beab5819e418825b9dd5b854881fbd247e8c5d349f2e964f11398433e97e986cfe56da7fdb38c9925d60cc7a9ac6bcfbb031baa0e55b8cbafa6d19cb2e293b794e90763faa2991200ac2e38f10ed81713b0dea4cf6a9b1dcf1d09743f42459a50e31d61f4e5ed40531c2c688f30a6d971064c3f282f345854d6164677485f7340251a62bf6421bd357a8e33426c3c21b2ba227884ac53c0142019156d0c4ecd4fb27e5ecb4d679f282c14a87718e5e478ac04486b89dd599c9195c2453a387fe9165b3f2b087b55dc94fec6aea15dd32e04c3aedb139b98ecad66f38bdaffe880924a10d5b4a03ddbc7b7bd5e12aa18a608c77f3f63db404a4bca427aa60b5cfcc61c3833dcb36b89a941340dceb7367e52da58eb7b69f4818fc9053888cb5e0073b4d35a0c12d31a5fd47f78540ebdf88f1f2124e261813fbb2a2880f57a7263c44c9b68d4a54dfa3ba359d164f8ebf8155e3a5831f3b19362f1c01320c32e95806fcda9274cce078d899410af55a3bb1da2ab0e49996deceaba82f31935be4d25d18a3c0831e1828f01098ccf1d99986e02651ef754d764ffe02404f639d2df3bdbbbf7d89f471c7f9f119d0fdac93c7909464404217405aab9bd80f1d85bda7e928644583b473e6e73be697df05f89a9ed04c411b7f8642a163049fca539e44134008ac65767b80dce6e0faf23b68d55ac2d981babaaa077fee6a9afc4454fbddfbd63a7a35fdafd0c20a43f1c356804132b26009f984b8b547c9f0266ac6b26bf3b887363e035db6a66c77c2e0937f07534c893d8431fb56fff0e896493c48ae1909ed7cb454847f50e4abbc4dd19674b0b104edd080f1f5705d0471f37d1ca366e84f9e020f49f75440b5265bdbd14906a34bd1977905da2811f6584fcc6996606ff7483d3a47636d7d0c39274520a94a861c33d68fdcae5aaed5f898e4d4862ff8eb05d8f004ff9616e4469c08e3d56037d5083185c28d8862c8f6ae5b37141d7cf6a166fa6eab774bca8fd72c01932cfe60358430847098e173e5f2fab34ec610b934df8022f6d38fd9877df99703853f556669e3e6eaf53cb61372b9d6b6d319825882174cb7f963b45d41489ce5759608c317dddc0c4dd22667551415c2049401ce820f2525d769a9b4184bbcf4638173e19039d5c9c36effaf823c2a739c6f7b4f530f1a23637eec297f1def2c426706e2cf6b18fdec140858e0f9ad91a09e096ad567eaaa6e78e021ad1eea8719ba981c8d7c7ab530605c368c241e24a2cba90afd862b3601d23a0ccd8188d727d801e46df870e392719419832c4897d7a88002ba81695accc0985e83c70f9bfb61b360a375e26718efe9841159d2d73de633675899371ddb98749ff580b3a476804134b20ac30f7fa94e8f6bf95750474a03ae68c30dd0939a7028924d0561f94e189ee02a01c6a4b2fd91b4c3a6c9e5a7122c1e399291e56147ce21f3444e1d55e5295ac5ee1138339017e70327d4621246b483a6230ca24a35cd11dd105a35c6413abfa2d282f66fba417cb73429fe1e1835472dd88c428b95ae09b578d0adfbc3a722b7fcec6d24cf72dc62688b0747679e8ab16fa9ddbe629ac34e3f2d2c4de0f6382239cb0295ea48ccd6db0fc509a5acbacda0597cb209928d14a3e683508792c2df2a3f0655f10a49c9cc3dabc65286e0ccf009dce073d9691840a67b6fa927602941515c000f0939e37ad35d0af0df80c186aaf70e5b8f2adb3ea76f5cbbed73c53ee974a6cf01eedf1bbe30a5e2297a837da1cf9a3f560a496a28cb60dac8f36b150fd6c847911c7bfda5608864ea8084a1a53cf6d49b8e578fa89328e26752e9c52df4bcd159c5d4e2d716a391a61012b15e79d6ca7e338ce255f53f8d8d56b877f905291852756a0f707349a88dee7d6fb7859a22d5ebe73bd2a8da53fd52d9a7d2ac11a4e1d8f3128c0da20dbff4315307b10ab6fe623b9d9b0b344d2c1d0b221ad8c4d999a4bfa06e09a389e36f4794db5c33c62b2edfa8acca95162411566a1f67205b95a0f7d81b750d3bc2f8f82a3bc6c98af40a3e0fd878014b6a9f1123b7b7ea7f38f4123d1e5109a87ca4029e6699444757fd05b93f7ffdba1392933a23e8097a9741028b3e84c04817f3dac256f9fe6cff68db967c0e6380d1c9a0ec71affe1750f32b452743aba623bc2312a04f04b4228f8d35d99f0e836781cd671eb7aad96c11a52f7029f55918e1fffe95d45594b07229c6aad66a3ea6989265c42ac2cf66d67382a8be455c5b9d3160e803c37cebb10c5532e0e6ccfb7d2e5ea51e8922686f7b238feb0c320d999cfc9132fb51f883da5345ee9a9dd8bb8d2b9f4a875334ee62a5f406151c5be311b3557f4be147aeb639348e5b4a5242ef3be18ffee912afc4980c251f1f8cd3f420d3088a6b04d536e889221af65e21d0be2069994eb089d6acb22fd6fbb52328beebd14b40cb40ab0ed9145f9de374a66ff240f68b98b304233149748c3031afdbdf31ecdf6595b30690931c8abd695f2cfbd4687b3406966368ddf0e1a4905409adfd3349622a8c6e474d213873ec5615a1a463f726cd6a2f8de10f5d9d66388224649ec3dd7038e5fc2be247a125f3fc3fbab65010d643f3394e6be3f468c1ae74a379bfcf5164ccfc73e004904a388bd5a072a90d1b015b46d387fedf6b74ec21ece4fb65427e2fb3ca9eb03e7ab2e30409156bd604afb8c205009385b8dbd853deda95ae4fa8628923063846b06f4076c426ba9a00579ab562c1a879fadf9e6405046f6be71ad082c2c99e2023b7dff2e9fac7f21b12e9d0144b91d6db206141bb6498c6ff0526101b75c6622439e1f617ad50ca0bdfc8f9b23e49f0d9216fefb1f7d99836a1f5db1aa319ff8fa770a36414e478498d3b03a52347c34da6d82f1cceb47a8100d8f544ece23f15ceea50d96b17f9ed369938c4f13598002a25d027961da40119a96999c22f7fc5366426987fbc765c6e5ac72bca702e87e27e6e3f1592cc3f35bf004cea8ce03763ea6a6a539317db188244d3501d6741abcd8c889a20541350ae4e86e462a2e7f2f4916622894aa29560cd8ae9d3da08da464b5231bb0b0bc339f1894cab65ecbf4d886b22437139270de9d5324990d098183308dc9543b61767540c55bf9497bba27c9ecfd701ee233a2a4ecd71262f74cf4d8ada87006172ba398b71dc3eb493b9a11da62655cf2f98268e31eb298d110b831c5c7c4683157d3d2db5dae9d0457e3b0e5ad6654a685fe653d3f0f93e51c5afd7cba613e82bfdeeefd9ca1cd2157fed7a4ffffff41ad0fb4e328e3789af77592f78b3fa8aa5dd292b0f8887ee2d8a5921d745965d136cecfb10e6574f49116bc398a9123890674bd7670ab7e59d29f266b9024de9613f01f14a1e4e2bdd3b81f163e2ba3800f9dde81054405e800d8b99dac38f31188aa6d77fe721a3c92540dd5cde9bde53717fb19b04ec4414fb80f74ad0018164f23efd74704b7427d1e950bf0fdfa9561a94b3beedd4fa427e422bec084e485a998366f98a97412aa0510e01a45f110592222da102f7c20a008f4fe9213a7d537b8a8b36e3d275a0bb0aeea4b505b195d85619936f1270be85ec38749459e47d72601e870bbd7840b7adf8bc1ecc60fbf0ff51dd40ca69908fea2fa9856991182d2e25b43309a6b984874bf3f73a9fd2ab6a74416e294dbe18b234971aab873d43ebcad1dcda64a273bc178c08ccd8ef14c37939233b072618b3e3cba70ca05a6745e0be4cb47c69535a8a734501a7d7747b5526c4bd38f7f0d24294a4bffb7c458ff80608280f86840c816377ff9b22ec722cfd8904e420b735c12544c9fbfafaadbff61d02de37a8b1471735821986c16a638e3f9a192b5a0fe349744493d0c4ff1070578b2d1a6c75e5ab2bf41157da4ba90ee79237df69d9d709c422b7a20719bb4d1810ae8d93f02ae3b023ba9ba485a5969b241d30bed4e1e33ee0c706816c9e7e4ceb1ab40d376a3ab942d7c79309565572f929243f8b4b4411f2082bf29126345a793c921ddb57abb2f3887c24186c9a13396462742c9e8cc046c4f0adc7d3fd7472c3b746cf872209b53d6f89b574a264c2055852d6b3a4801a8b2e01a719ce0c0bceeac6789cb31b52fbff839a4001583ee3d31b6b98b13b3b1df3a7e0566d370736747c310f1aa3c576291b1aef070e40a8311d6b9c2c0df3a5febd178a078c478949c408eedc133c2c6a0e41682def8c9b4e59ac83378f01abe2361ae11e7e1838d7e826c0fac0680b9f248888c7a1e1f638799a8866d96416b6bb21a8dbf96439fb7c5eeaceab8d07d761948af3df44400fc0706a7dc1a14bdc6f9345e24aa9fb35703a11324dcd58b8e98a99cb79cf2f6bb5355270f175fbf14a4ca5233bd4ac7480abe7e7715c1975a55ef8c368db2c48535c61e5f6c9c0597ff8e8983b279907b6522037863372a44e5f87f7979251c09f98d39fdc635e81f8171e451d5a744fedb6616700f41853cc17ed7561a1af2aadcc1fe6da0998cffe0ecb07804465a2274c559969ae74428caf193bcd3e9f7d01957c81cd649ffa1a4218748efe2ff95f802b44e2dffa404ec758292318bb32b1c0f6f2c1af190ad8a7ecdfcc034e1e8e7834bde6d908741a86e7d131898e0912097056589547889c8fe85ff964f84c95a89809b8a66cb7e6bad377184309e6b333b291ea38d63b185152e9dbf89b1f409c76f1f98f2dc8286a4f7661f82dbe3d126c6df7629efc4e9da6a3a6ec122bcef88d4ae52f4b305de5f99b964d0aaeb3fd79b9736dc987aab573e06844fefc92dea599a6f9b61cbc7444e176458addfb88a2898bf1d72e922c5176e21aa1c3dd6813894f38e3fb39baebc613d91e674ce325ba5d453c64a098063fd5d035d08587813dae1c481418212049e1206ca8c72e0505a1e27f4654d41136735e7cea2c0d51a7f5dca1984ff638388ed05b1c8828dc8c2bc25e4a91839dad54f7174784b16a2a2b463b508731554961a2075c9295872cb84b11a6fcf1ffbd0bcfa2bf1dfc942d316f7597d7e409d173f5a86ae502f7d4ad21fb3b02b64369fed869b37009a8b56963e974403b00d79ea5e16202b690f27e0d02cc69e73c2d07c3f386a81c29e8c85f8d042d043826f94643fb4d59ebc5bac62c84b736bf4af53f246ce43e83f9135a54b993715f9ac41ce3be9415321a605aaeb0804625b14e4847b113920240a80185e96195ec3faa47c3446077066bfde6d771b98d214974348c3371f65c650fd90d4c34cfbebe540b9fc43934d5df11ab36f19ebea6b3c164ffd55d78a8f7a521055b3682e29982140ffb065060a91f4b1dab3ee4eab1eee4c9558e2697a8e85d9bc44658dc7068fab5ecec4f378bbcbed49deced9d4a39c31aa9a020ea65dd8979aba4869cea25512821b7322c5644bd6ae87fe0463614923f6593f2902e34d379d18a6fbb3fb3df5d42cf42672a76177ebab9d9ac189145b77e4ad62c818263ec25c5da46180c7e6492b98bb3acef32bedf580096edea36a97f01d2014d917154c28c3ad815b52f6c261ba4f2785eacd44350b8c52f5f82c24d367c4be24ee42fba53a646a911c9bc58886d98d9b70821191aa529a237f0199ae630fa0b54be8caec6ac1f888b6e5de87953d9a95a4a406ecd10b70c788148c4bf5efc347b8f55bd742d8d139e818c3f522071e9c9e4b73e9e6dfc3f5a6c01311551914a58a9b50fc5138f5d0630bc438859e8b5ee4f3d5483c609d963156e7a2c517ced2093c817688e2fe8198535f449eea15fc3c1853bcf60661189897538d71e283bc13538a60a3d202d62dfc1e42c2a872d42f0a4567ed254aef7dcf3bb62df0e292ea0a3e3c7259e2afe04c0b5eb38e53aab07625e70a65873cf38cd8d323f7f7e36dd0702a416ea128e53e9651354b1fad15196a96d5fdb1a65f51fcf5b7f6db1f18b9982a2d3ff733cd5bfceb2dda3c5c1944ee4d046a9c64ea7f759be8f7b3ef86ca460d333ef51d0831aacc0ce3338031972520c694743c71f7f00bcf01a3006c861a3ea277e81dad5c0a0ee577076dda35939e57527bdecac8cf2a0fae8e13472cf996c539cd02b63bc91ca071c274993aa781d15e5ad38e699a6af78055845ff23d667e9c4cc133540bf728931bb40f9056e16a320a211673f0aa1474e46df16f2d39184526e6c447eea2499a64b8a8ab88db6a5ca9904bb3c6c7b4115cbef32ea1f7dd0bf8088aec84fe1d52e3d1304147c20f7d2021969d1a4013316ff4a32cbbccfcfa93a743d6e2817c01253943b1d401da5ccb12305df734507cf5f9518b54ae7da25cf4554054940283c2248f6f29c57fb466dec79de63142d915467e286fe2b4c1ca6786dda2cb080cccf0e4da01f4a7200861183a4d7e7ad9b7292ec28c04189835edf6cd2a7ec8360d7d01311224642185b10c40d280ec0867a98c439b381b2b7fef13655ac11162e78e8449b414f616b0837f8cf3101f863a6d181effbab5b36c144d3a3bb2b560a6521d3d8123827139b0056eca210d43af651eb081c6adfe9d7dfded781cfeeb09af3f317a9670994e3ce29b4fdeb4647cb2d1ef647f064ec0ae92cd5953205f16d069c6f39e7fa67b6ecb589a1fd1263f788da61049a571119ed37679184643c3e88baee1ab833039841f7e4dd9ee1e0e47c48128a69be1ca6fa06e10c3360e64183b2e967a99642da929db7f25f8301fe00dd18c99272c568eabc15068cbe89ab4f0866157b0bef797ba6ef82ce841cb0bfa39a11334869a4fcf69c90ad35a6c7ab2e17d34e8a7954a7cc455d6aae6af101468a9284ae0331b957ce2c3c75fb13757676decff4aaa7cc07174276449063d5298304cccfa3054bb44e2ec1b3901406cfa6611b5132a5c206373f5c6dc939902a5cf5316cdf5e2a2555f6aa70c96d45784708496148beb56ec74b5c57806ec9dae529c0055dc6ff20d541a2d0da26c219310573dedb666d5b79504432daec6adf2a80c7180b669ef040f44cde1a5cc5bdc3e4f638bb6dc57fb0f315e0af1755be43a8fa0279bdfb1da6b3794f70ff80b0a2fa8c1bfcab219844b2f31d6691f06e738f69003524d1ea4168b3da69ffe1ba187e62bdd2e1047c1c3518ca434147632cee8ba24f25aaceac77fba541523e78fd17d2fdcf7bd8b843618121526840b9b4b81489816110351474cd3190fb2053298d24856549b6c9113cf8814c8d6f18ef8762e048ffbe43ba98126bfd93a7cfd69299564b61fdb7c80ff16a79c4de8992f2c8d47fce0fdb5ed001c2e92273865f3cdfb8ca21a25d5bf044c5377ac145362c422ff78c44321d97b17709e0cf47d8421b84999ac7540d2adb5296fef932c182c4887cf833a18d89b9521aad109d516a84d33799e0f0582e60d7632ccd115e398e957a830a3d6e537e3e0422611405f0c51d009896e7ef4b4efb1edb408ce2f0279c8813e70d754d9d0372008e558400b23c5cc83129f8b13364fd4de616fa568c88b88cf4c50218bf4c87bcba05d7cfc8a447e421f675a98c9ecc56f58509a94bbfe0a31407d99842c808166278183dcbe450995e9cc44cf52f3768a8ebc702fa58095985339284de6427d23c62141f62e8e124430aaee3ad073bdb01a7550e03504a94dd29886bfc9345d8d5789c41f91bb6363bdeee0c1a7320950ab2f2bee014c8cc7ea95a97badac3725fce99493ffe28518ff5b19229e2895685f98fd695d82bf871d938922e0281c33662c15ebdea00dfd2416ed6b44e49adc0688d227ba4ef8e0da1161de715d04835053c2234ffeb2ee4651cafba8c1feb0f8202e588d5e8ec32ad63170d78ceddb9fd53e9c47a89d2af6723d181f506e6662634067d290a2b9cf11d2649d06d95052a1f24a1ae1e7fee4c9e9e7162a8af5719532e6d6d2de2c3a7a0299379bf4e97cc72ba2f150b51ca1571dfd746e91a51a7bc40733be30048f945b2952b4b6e30fc88233c16f7627effe862b601ba2d581216820cfc3f77c841c003a2470a4cc81b420e49f37e1438e8b25d20aa83d3faf5e9f8988093c8e4b89bf1e2c33037366907176b54a2ad5d2e239a8105de113fdb4c65566cb91ecd0411748fa9842c464e8c6b771d52989861b673583d12bef676cca94009507308c4f004f3647fdb18d0c832fc068b09583fa126b7482feb1540d2613348760fbcade50c7e1c86ecb23e65996189802e99ca60e2300267dd9bfe41427a936106a96d7181f0b1220019ff0ef14f459cf9b923bc3ab875d2cb6cba910d4a2dca464a0645e6824e9ccb8f4d29dffc4977c067ee51cfdbd6dd914d38236d6064ecf48521d18437b6609e87febc840631172f8fb9593f91d1d2819399f97783abc23ace2afed4fe8de76464aa3543309abee25bddebf5214c76d107100e558084c5dd5a0a40c3d1cb7adc7fee8a32e83a534c5675d1717d0da520cd9e9c526ffc7458c5b3280942602631c6006d03866b767de85b65f30d6a7e1480fea6b57534ad41b5c5cbdc422d38bbd48406ed488df8f44ea763cf278dd804aea92232bfa2326a8b57143b80b72173a1b8645127405891239b3a3442430888032b3cedcc4dcb8fdeeda194bc39f7c1be8a5c289f8119940bfdfded4080982a0090f9ff8ba224fd8c1fe0f03a94958ad3b77e894e6555e266ba3e83ea099a4210bc186f598e567716ffb33792b9dfce420927662e2364282e80ceb616c993fa24991b04124cfa78ff6bdc847b75da9c8fa669f58f9811e772962a91b42f91dd14eace27168be194704203f978708ef9e48c9d5ab0810760c510497e46a9f066031f3a01a4070bbd4e6d6d7f975334c20819e747c1395c422c5a1ef182ada1d0e85a7a1de169c134f214a6bc3e7dbff4c0cba8f5b9e32b7098d49870e1e087d485a6702392340f98791b7712f4e1f4a447497dbf02e9522e59fd85f3e99f9ee36a409436bf4e56e895b8c5ba364f418c0517d30cc5f3e19e483d0bad24b0610614034569d8b7fb03976593940f31fcd7becfd1e61cd047baf3b4072f1306b0ccd8b713df745c7b0a5a5788127d1d9b96d19cf07e5a0bd5b24d40d4009a76b533616fab745448803eb4cad83a8d21004fc7ca26c5fc45b624b30a393449ebdc23249238caeab4e4514ec1547f111ba3210dae327a240dc8f9c91b3dd10ecc207058175ee9b241770c6954c3f336750d878e6d4cdeb33dc3f42eed4fd7630108965515036193d58f414a86a01292789e64d8d804042a05a11e69b1f83473617d8bf28a28e0bad517ef63d0d6a5dfa00bfeacd1bf6737054f04fd9675dcaf10d620778fd7c5361823b38efa4121aae06ecb08116b7195d71229fb693bbac81816a6f278ce4ddcacb548d72b53ab2ddae8df46f3a2f35d41668fc1cd5b348b761ec0f00554592fe96e440422a0a236e608ca8e73d169688fe6094ec704511a8f9d8d420d174d99bad863f1f184040f3d2b922777dee952d5267b2b66ccd400c77986b4e0af3db12a51e7dde23678f178a0e277a1deeffa91e15f32a1f2ed03538ba11446611395607d70748b1bd81a55fee86f01a9dcd5d2d2208f3432287baea6936e8110042156f8d02c1a29cb6242f63a3238fa82e6cb156d1de861abcaa987425f47f6a24d59010008d013ddb457599856dfba9f45d16fa21944ceb4adf95230a58d985a7855991ef39413d0e2e6ea8aa4391b0e958231e59fe632a5470ffe33e70739b8a2bdd692f1f79afe799393326e595259a68cbb3f2325ef2c80a61bf64db8a608dc575463b9cd486f2085dc7930b858f538c5243e18fdf896039c82987beccd68c56aea0778d98d83244a7cd23fd8435fce286e9b1d906ac080ede7929b41788918a582c9d4c868e5873da6f25fb53b67c530943d90c33c5ab6bae3e46f551b611512ac905fe4cb34328da874f7d5c625cacf123988c8c9bb64af734afcdcc0a6d47a2d1ab5e6312a5f49a4c189ea7bacb38945b06dba5b354ae9233c652c20bcb947a7c894869fe722b2b630dbe672200ce0a399986fc8305bec26f40a99e60f544048c256c64ad211139b83db7808776d26880b464b3436806b6446a665297bd73ed4ed65bc916ee73f9a4e5a8ba94ed502beca49483bfafd6367939973597f7c6b50ebc0c2768f42ab40a82fd5ecdd8745260f9f8cc47e7aae5ed5d6f181ab948ad8ef27ac36b722c792eafe87a9c381912300dc3ddd49dd0c4f7589382cd54faa14e31ec21f63ac369ffdc03331ceb7adbb0b6be3165606c601413a4545cb235bd118e1fd738996f4e3fec7143bcf9e9f0cbc1466eb47d391d22c54dca2012a831c1b21f37d93c918b3c4f7aca903373b29e316f206e4ff70fcfd09dc13f1ef6252e83e923e9cd0a0572a8ae70706057d9dc1f0dd36f1fe79a9cb8064d29ad912a73578886644b0c211a7134c7687f4277acac1a3d04227789b4506fc8849a4eefed80bfa0cb0b6d5b6c609f7db2e120c403c21ad5cafd837491bafc311b60f2441b279e9c22f2fb9c2394249c0d1ac95b45a585e189daa820d836ab62938a5517df5971935afbfd85f4b85fb3489937a216d20fa9d7406d1571039aa03ccb49fb7bd605b62878362d8ee8dcf1d0d05adbb24725671cece0c444a7554a6db0f7147f08c0e09d56d9163a7d24c07598ce9aac137d3214da5ce88b60fb92f23e608ddec63f9ba7b27ccf9ac3b6a99042deb0b9dd37ee5478a12e7eaa6444804c04fd6b38de69c56b9e18e70dbfbc22de0cf6ab1228d9a1ef102b9f9cb800039e60c05c7be9c8b206a9b90bd3c6c121d70e866d7abab8beca5c5449cad66f788328d292b828521d0152e912acd2785312c88bf566c0caea05004078cae17590c31b83ecf82eebf86f803191b837458cfbab7c55c7fc8978ea0e3fa7e40430a417d291de73cdb2037e7e7a32c6d8cb6ed9c8de3ce4dceacf680d24cb86d9fabf5f8aaac6428d9506e6944c8385e4cfd49f5dc3778d3f6c3d1be1d7ca304e595f82fca1cb0bbca681f3f044030d1d88804722be1c8f866a529b62e36b7921d7c6c73730549c607cb20ea06f0d2947c5e5a711cb554f1215e1e99ea6e81cca9f42e232c9ce4e368094ea3d252f9ffe6a425186f7363e66f21b49b4fd4a9f9232cdeae151d677f7e177d54df228dfe0a8359fe698b58d274b51088aeb7b882bfc2d0ba20fe6406fdc67fce8a5f74bd501e92a0a0099a105ab7b3336988e776b40bcd7ed6e8463fac94977da996d11df0c57839e72f7230f8dc7abfcd08929c52a32aad558e860f07ac05bc11bca19ebe78dc89f3bc3bef4dcd7ac4d7e04d209cd80106ba0047e8b03141259bbb23d311bd506ed4a0b67c8868b5a90b6b66aa65e79b44ab61b41937d9e9ad45ed9c66b45b548bc8eae037453c8c7f25d37c2973dd608b8b822c1b7dd030d0faf08b6b33d796e2713ca30a4b5f163ca87902281bd8b99573aec94db3c8a1042d727b03f910ddea9bdca081cb375f449184cfa1d42d09f4cfd1fadc87c96a39de498dfb83b9293e868be6fa094997db15183bf02b9faf48336632fb221fca57e31344dd7c21c6c132c6c771ae8bb9c9e49aeec6ae88fe2b482c1ab87beb77215fdad42d67ae15f218bb77d305c7eadfc1d5af9f6c1569c40839844298cafd3fc0edcc2f8dd3349428140efca6d58ea29f10ef1dde744ed09d4bf27583047488086542859040edd96ed00a349efc9e21d326cdad8013863f5c57790ff505abf455c8bff999fd1a515be28e699eb169ecc18f3df4477ad717cf9bcfa9941dd5b26750e4ae5686ef02f6e399bc2dc9d116d0e0f04ba5dec7b24665a3a6f2dcd39bc869c3f43c4d3f1f6e1579fe026622465a77428c2ba06c3d2ce7447da33fa2110e0cff4b4138546ccf96301eb19233864aef35bc15f03d63daae0299d4b68cfc3f9d4fe8868e8f478c0bf3912aef14dc88970afbfc44ea6e8e8266e01b9433ee152340f26474766795fd994dae47ff0a6baf059326299b18b6e9cbd6407910bebca78e8c00e9c2e2538ebccb481beab304ae07a25b6db5ae4bf586a12046b7e57510e017cb06dc1b6ecb1e3163344403167a571108306c818b3be1bd4faba257498f1b97c5bf45d74929ccce02418bd3a9ef68e58ba16954191e2c064bed56200d0f0382a95f2385f6c5cbd8502fd8c50bf73671808301b468a92ca614103393d6445a971e47a975f883bb42e45725cfecd98aabc2a21a2d67b1f316847fdc1b9232f6b67dd83788febbfe79cc84037bdb92365db2abdd6faa6c17acec8bda00cc6f878afd154f599a21ec9126d4ba927cf25e1b1047369ca64e42beda844b0c9b3ea5fcfc675e4c264d32640f34d0477d9dee317f51b15471bb07b28b90358db3e7cbeef517cdf88add25f09ecffad715e1979a84eb956889ce00dd70e0e5a1ea88f6841020a065a49c9f7dc65224166eb333da97037c531fd0310b91595ec273e86ee825f8b6451650386b0b492627e6b336011098bd633903037ae7aca32b152ddfd89c3cfec68bef58f108221b0ef4fee15e0def9cb172612bf41c97ab8b9d42238cca9df6a0acb311561d08bd707904dee9bb09cc185dc4ebb0fb079af21deb51bedff8cef08f50f150f50251be27a87f5c7c84ecf54cb426d4d783397ade3fb00eacb51f4573915088eeaa99a2c3feb0feb2a01eb149ef2cec5d2eb926fcae65e4090e2b0c03b769dafb07f6e482cb7fd07dc675d027a88261c2f29fc2e5a27da424949140027eaa2267728e0f74d18f313cdc3282c3ec2c1fd35359d7af5d025c860fefcae9da9a5fadf28ed7a16637ea55b244bc8d58bb1895632c29f67824a0e1b87253842e3f41014fd2d3bab27a8499680c2cc28346b8f9731300e4b293a63869b87b816cf089f22ae75b260568bfe2ae8668a2ad70f13600078f066f290c9333ab703bb7435d5353651e0f81a1c84b8fa1c1e58a1b5ab1242320c45ba3b2e649ad4cc1c3e0cf77b591def311eee168ddd8c71652d74d7baac5997d99ce368c8ae3229049d25e52e5cf164cd6c0e4b4dc63655b2e9a898d393bb16a5443ab0204a059f57abee6ed97b079ac2625201f70287002a0592799efd9362adce73c75b71363add52805e9d04aec120d5e0a3d12e3a3eec759aa121bfc2f48e5ebd998de37119e612678f9d8118abb71f36658549eab022c4d15686ead7601ce05b15f886aafc934cc45c067b6d0f8486cbddae9923289f1921e0aa0fbe56c469c6d2d59dbbed5ca6e892b573fe59c55b42b407d02ed7d6e48220463fc4b52d6ef0d66e0f9ce41f5a4308d70e62bc0ddbdd9811b2083f332ba2ab401e86300d17661d4fd67f65a116fc2ce08e2ebd0af6d90a5b0e2df66208c5b36edfe52981b289f6323d88ef98c54589bc04440a460f2a7583cc19f5affe9d34d23bd50bfff495d557a379cefbf837d47d94b535f1fbaab7f9be843221ceaab21f009f9458407328f9ac5bdeed86d7e2ba6fb42","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
