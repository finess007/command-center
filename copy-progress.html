<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"475c52585e07f0a1f34e5953210bc4bba4a66cc2d4ebc29db117f980ca42dcb90e7ae4a2ab911ed6888004fc930b3135858684de013e23590145bf3d5762965efd89151990089ad23361d750c170368cd9c74d0f26346817c176f13c62ecaba116c1fb27e6ea89c80d9e2aebadeb4e7c81e5e15b4262c3b0e502ccc2d01829421711aeb1563dc3d35ab98c9a9f32d9ff98a31bc5b604add051cf7aa999713152223daf8e48dbe1742ac3f806a98c92ecfb75a7bfbf812f5e789e9bb4376640414491fb565002e756ae787d4b9d4da5ed41b2b00cafa338ba75d5674fd3468f8e6b2bc00d6906dc5c6e781b9ca183b26d8c659dcec009d3e59ce566ec54525f2912b22fe8db9f289a5c36502d0c405f063ada09cd2ede7d5794012fa366c5debbb80261aabe0599376e965deadaf515eb8f17ca96fb71a11843fd86ac1d46e0eec6c3c6bf2e88a39eff1efb15d1f6b02e0b8348e06f906fd2e1037a6ba47d645cfa0cb985169506e2eaecbdfe427e82695acd4acccbc644227cd108c14c0ff2f1eb7a464b57b82a76a45cbc6c54f2cb7f372e3348688daf8d272dc0efa7909e9055fe35c6a7d17547cc8e8ba0342e66e538022d50f9cd18269716c1d4b6f0c1eae157026aa6a7a65efaaa812c6d4b72ad976b3a0ee4971424113ead772615452625c7403146d533c22bedeea6a88d366fcd22d6e227d2ec65dba6c95f7ec7391afc80cb39bc185a9bd0fe482b9df6eed22346b6a99bb8622dcadf9e53f75d67134d22cc126df8dfea8ed2aeee7a165a5430d5bba8d281d191af6e674aef37b0be5d695614816a7e2878f3cbd0df2dc7da198501f5cb7de2f3ab6934703fea1752a4fac877416030aabb5e2665852c557cd479ebc5d3e86da1b4c92547e23c4c76d7c50a4faa4ef817176f61547ea7f0eef98f8c4292b2903e9782d9cd21c0c1dce951b5caf0e1aeca73df1a113a95aee7e919f952b59eb28fea05d96b16ec12cb89f6d0417e32400c0e9343e55b5aaad0b6ebfb1a6e0ea10e12fddc5ad2c0a3ab986398020b0450e8f7eba2e3e86b2cd04dd42634d69973063089c2df7c9dca00ffed30bb38232d71b4e34ad465c052119cab3fafcd98e81f709a1e6769c04c8caa179d8949573d50d681dbe013775300678dd4d9efe1f8f774fe87241e978d247a394529cd3401063a3e9172ac2a62b3147b9b61a895837f4cad4b2bf99c423375c4fa131bb392d931b6a98a7cb14957ccb42ae8860ebb22afec7d4edace7892105ab44ddde6f062af5d5332f9ff451fe7067047faa2d36a2d96573fb526852652b5e59528a6f9ebe670fae5c883978e8fef9c6096648484ff90a1e1089fecd389da98a5e9a341407a53d858918f97358627cfbbb5240dbc0df23f94390819f5b4282e23ee0610cbeee8eedd236de3544b2917ff87091cbfba25eff131dd4f5f6f56b031e78f5a93a6729aea7b197e016fcb21d7a1c504d09b8e06946e824d313d2fb97358a1842f795da46ebd4cf6e3ae86870abb80d574dda498710b599cecb6869fe7062f861d90adbf9d3029b2a118c608abcb590aa4c035d4cea87e5ad727e9ab20b53e0b17281f83598d45703f42a19eaeb602457d86fa37fe63578f72f9539f43003958ef63b2aa720bea515ac1fa6120fc9b01995745d5e1b2344f3e06f75141fe06dc49ed7ee09b2459f430747116b0423dccc7a72c6c20eeb2f5a13595452e860826945badd791943afb376f5834c0aa30589a00f7d558b875eab0e2d7c51e386a3e5d5d6ec3f278af47821ed56c498b7ec51b279efc84a79120e302e6e11958dc291ff9b7f74af35c2933f65c191e006fad028a8feab3a3cb865e4053f56bb88193a8ba4449843c485b5a674eda51b1b05ecdfff924c7d353d1933fbffd043b6c0f2b238555ba490680b836ce463713b177ca402aad2da7f8595dec84d39bf4a790ecbed4558da640a2e6032f3f5a226ea8d79ae540543ad54687015419caba1461b1879a660af2c3b75b8fdbfacc5e4de14bec37237208ed90fca7da51a8f48e0afd42102aa13b51705f997bcc3f9fc9b6842fdd8785b80025618f6873a14ca38e384fe140e15776dc420d076737baa7f585b167c98b7e1ebac98b1249e80f796b66b0a10e686883bd5f25ac2161888ba9c6b23cf292c8313371f06428cb188406557ea206cf21d6da28ad65f334a542f8337737e05eb5638d67511f9b21e24f46cc87f28d8030af5c9dc5be22c1a23faa75ad73726310a618d89f74a4b373b56f0e66675557f4153859a34ff510aab250a75e778d2d4d9ff0e194709d423fce3df9ee1d753a950cfa245c8904c56d46216ca42b9ef54f3ac59714ad6f7e36a35672835bf5969e6c4c44c2e21c5a035ecf14be2308938f676f7726ffa3fc1c4d296755ff0c6a3b424d4dfe6ff6c88bf4096429a74d2ddcd9bf542fdbddf82df7e8f8264b487cc1d8f7b2f663c95455e532b3346b3dfa437e1e273a0d07da0dd74491bd36700d4fabf26449976369755022c883441876edc9a4b4fda14a8c3d784764a4f03f834727be96cdeb104d567f1449e8f6a14d596fbdfdbb5c8e7b83265829bc02f0905c71c0bbb18660e300ad7ab99bf21041a0d4c17b103a000810429aa025b97d956a4cd288fb83db4b6033b6de220acabc1d8fb9c461058f7ea69e3c578561b9bdc504ee507e0d6716c60c6b8efc1d644a6cef85554f21d36d7ebd257dad9cf4347b30f8b8c8fabf297f04d8ff4dc6203a5b766bdae7910b7bfb8f2b52aac403bb0bfd7db4ce96742e2cd76aec69777bfce024f38afe3f39a0f5dd32c6c9b993419574e9b4d3a2cd71fec1f63f515041f1819516e04bca0dd6f7e18f2aa8a1a0bd2b237f541218fb5295d63ff001e2681c94db6018b511b0034594724e1e0209854bb1cb390cc34804bdf5dc68fb7d300f8b16424cd3db5447e38791b955f0e3d2f50f911ace557e6e11ebae3bd5e9f64010079ab09e48c9ec09937da8b41ca62705081478a5d9639925978187df3b0b9e678820f6adf90728cae1211a0cda58a4bf2404875ccbac02f7ee73c4ec3f0a2d03629e373d6cc20233f84d2e065872786dba1c2b0c4d414a6e4555240a60848831bb978439ed111cb9f70c1d1d32d867a84d6fad81f38cf506e7e816b1c3483841233c81ca6ce428aa017cd51b00f4819a3ebd8bcf8d1e9c20513d17ac6104c53cd71557d783ba03f96b4200ce7b7c52ce08f3b9e48f41c775eb1e4558a8f1b44c8a8cca1e2cc98113f8a84ddc34ccd8584ba5987a1dda8b9d7804581ec402c467bedefdb0c76d103c2aa8151d75e7a7c6be681c1056417d7f1769931512342d8a964fbda725996bd67800abfd29e7abf8e5d54cab369c6afb80208e2b1cff225914f8d853d27de91167c4c6806a94400d59b24493299a8c07b1452db494f138eca3864393beccda8650d515428bda62e5ffb9e2ccfa90f9aaeadfd2042eb2d7f0c60ccc0004b0b0886a0209a554e3852eac5d8b9bcf38b868aa9c3aebd3fd66561bbda30ed616bed5836db806b5678d9b7102502e4ad63d5e251d6f8fad98ac93e49960b826c31c929f6290fb6708df426a7025896d83a4331db66525d4250bffac1cf31ec6d3260018003d03a8ad7648bffd0c9a7521d98916a32da3d6b235da97175464712070e855a4efb47e640e86467786002e84d76c3467267a6d0f09461811e3de948a0fdaa136e376d26a2ddc34fd7468e6db2f24a463886288b4e80053afb3f02262c160e7bc582426608b9754966f2ec8fa49dc86a49d2cb136a1caa7c1b03043533f3cfa7be4ce590ea8f96c4f2a5d426bfc9c36acc478aa25c87c0a3f11bb28114815971f42807e2a6759edc6e9cf56faafd6c1be0f8987c32cb454a6542b9550423f5e5aa2615b744b21442a12ed4287398b22f3cffac78e6ba21e555d2c633077d25fe393fc13015b112db6749f0fe58c95d565bfe06e071d00d6ab08ac737e60641e0fe4a491e3db8ad87912015a24a94f590568aacb2ae231a5ef3fc622c03df6719ba729508dbbdd4bcbcc2b168f84d6fe21f6ef07fdba09d0763ed49784539c97ce9f3897aecb798c51d670c873617994bbeb021ce094ef0a20e5da9777385fd3261b72566d2422f252eac44191143026ce3560df64df774410860e83029384b0fc66d551e95dcb76961ac4941d764e6e812986c02693f489a08c3f45d4aa19a510c9de7222cadffef1c3c11ebe1c22e28bbc28f4d80f2cebf90f1915118c3e13a5f7d026d6662bc42bba5b8427fdda55dfe7675d61d15ef8871aff9c962015b2a9e7be9690b28eb0149f53394ee2a9e9f5a1f9681b25332a69544ef9857a9e41ec079ecbd33e248a30f3243225261cac13acf612bbae6451a8c5bc821e438cd293fc31b1a9e0cd944f3f15f208576528258923c22ad58dceb99a814560fe79b2be8b47dfbe0ef1161fc1793abf397f7d4cac1b8d9febb370a2e44de11d5e2436e394567ccc1ae415c7013fe7ee9c11877b4008bb5d6125df715c9b2128b2d88e2939310afe25dc892e5965121f6f236db9582c821f73e42111f6d6aa468a4b55a09d09f9892af1e17e6fb3908e4faf19b748d12f8f573d7bca748ed53c4cc96eb86cce2c91e6506a32b95c65a844f60011893a14b52d3c9d9dad70019aca1fafbacf68584ab98b1f1298b8442b696c430d5088f9b6699b6346f6c3830f22a53f21c483a2004c428296900facac1fa87aedb604d3de3a5e1b66a17379af5a51afc0860a21a4c0344929aa1c56b7a3ef5509baeca8dc7f50fc2b81392f7981351788662a81ec23e6504a5a821927d214b1c432c3f1a5d7a9425ddc8ff43e9769979c4180b399865748ed3f37394b852e9e24def94c0ec7056618a60463402a4d615387a8508e2721b5017b58f95fe02e97c088be3a0312c3a13b17c3fbfa94cce2742a3afc9ab00b32544750f5e615c5702611552dd0366dfc1413a33457e70c54008600c1e73d96b91267da218ad480748324d8912df3b3a7081020d3612893eebc751b410e5d4039fad0fa7683c5d8592f67836dbc57d28d9db288e7db755985b9a8510615b5a6bd88d303f200de177de9e52f7fc858e45f85e1accd2e665f16b0489ab2adb4ba25763cc46439e6d3951231cc61705a1a547cb1285ec6300f0e4d88aed0c4363d9d5114152077416ded97f5cc6c5550744ed71e1d579d3e242e6828875149193d6e090917b820e9c685a6fd1baa1fb8a1372ce7e63a76f1c7dd5ed01bff151bccae6eb723ae962d9ed813acdfd6ce380e93fa2219739b36f73a52808c2864edfb3eaade432dd8cb3fb3aff371a0e8de30d31fa5aeb320a6c87484f515b144db8fe500ef09bcd103f9bb2baf771862acdff8fec278d4d91faf0040b69b297f774f9a90b4f180e274da3a43861c2be96281f7cadd7d7a95f48cc01012f4c284cd2ab01ec35d28655321a3579f0024d2c0781e4c32d6dd273a41e62de80ad79c5bdf43c03d7d9f8b309c6db29c302a7fbd3fcf8c1d66026511b2191270e29341c2edf05cea238edc3bb971e43eea7e0af305b21b63cb09d809000591f06eea5feb52ab06439b047012a86e469315ee83682a517fac8989b1324b53523ba8fd0c3e6644baa81263eba2ef653f624190ba1a91f7570df76049bce5377c47085c3669ec26e4296789556cc3c3f053cd6e190d825fe8ba048e2bee5a84d3e32788c7545151c883cb20c1303c8d18e8d904de7233dc131eac7172f5534f49681f89b7677a5b7cc9760acf44e74b61927f6fd7e7507c62238c13f298aaf84282651e7bcff1c88e5e601505abb1ff3c4c8476e1193e9214ebfb675ae74e3257c98561ba7ef138a266c3e6d453a9133e6115c5984cec0bc3d9dda76460ee3cc6cf1d6b43cd5c918327d7b54c3357b88e673092b0e52aa3048b30715dd03d24a9f02205de810dc1baf8085a7848dd2b097cd07d909f041dd177255183f2ddadc79bb08099737cfe9af6d5d790ec6df1e6345d47df226359d95513a8c09c5ce991f1e4a527cd93c12077866a15b5833024383defd6b2e40e293b718310a307f2e1cbaace2ddbec568725a63984d93c844e88810581a062700d823f2b2ceff1f58cefd03b4b46624dd640872d72ca1e03871dd3a809c9604ed29568fe81bad6f57ae1b82eba28323a6d3147de4696ec962d0d0175442a0cf4abb898ea45e14c62485b9e50b4baea64c1c68128056d71bf184f57ebff742603fb21cd055ea99ec8ff40640d8fffaccecc39077fa362ffdcffbda8e72fb8ccdd3d6c207e915e16cd7d405993b5271eb9b09401f03af94eb19f43f87499a9bc778497ba022a6a245c3e12321b891f1c04e3539f30375cbd0f7bc81723076f4931dda440348658627b3ced0e7412e95f7df5b566dba052f64ed0134c50f0aa99c68b7144123e3d99fc868b8238aded82786c59da34093abfa8e0ea0cb0a2912421ff77ab6fd06d9aa5585de37bb63857b24a1b1adacbb9aaf3a36d7f624734c625273662d40ea9ac6d621bb964a686ed0f88bf76769713f2bdbcce1e02d0c19695f7d66957db56705831731677e94325be6949874e2c1dae1926358ceafab45efd323e007a49950b6ab2bdc493599467902ab034d5f74ede8db8c1321a0e28da0493725aa1c40e81caa36d767bc34b1686ca60d1972175e96ffe2cd6092f08dc9c34cd5873a6bef92f65adb4f114cffa0b460a0d2965a55aa7c3a89a255b1f5d3a50a6d5bebb93bb60b14ccdff972356b24347a2fe75cff770240b38ad5a6420ed842169239c66fde9943cd143abf2ec8df0dad8e12934dffca9f69ef814b1f61322ba1b7995505db81693af4098d5aca16e845945e1521f7e554802177dc831a7aa64af4eccf43e68f565e327de0e51c214ea947d0a43954b54fe7d46095ab2aa1d10cc73932b3a503303cec91c03124a86009ee7251ef5ff3e685cca2acdb32d8415e663fe6e11770eb68400c948710ddea310092dd66e0a530b10cd153c2ca761bdb8e6fad6a8fc3957c6a1a3c27cdb2a1a078adcf0b8575c42816f806b850ca87490579157809b64f2e9e307c868312c8cbaf172d2d6bfe65815b5a44fbd5ef717c1d1d0122ecae5f68ca1f47955e76f36a0e4975a49d08ba5afe2e2019ee9f7824f4cc58ad111c1ab06714378d3fc8f86a5a41318b97a14affa8d62c05a49db76449633e61b1dd68b42015ffa866d5359db417e6576d936145cdc6f9cb03706bd621f213b739512e586454f0eda260eccc23f09e4bec75b1d61ae8ad1e96be3887c8ca88893369e4f4eea9c106e3a6e570dccee7aa111a7c97088a1b12406157382f70e45d6bc68541b9c672cab86046339635ad8ca53f1d7341718be62e35078d31f556f1748613925df1bb62b9b1845615fae1c5fed20ac38d626f55bd620703e0085bcaf1a1b17b1ccd99b58f12e35388645afbd2c7cae7017268ba8be9254eda4a584fdc614693a0dd5999b37753cf8e54f4e0c90dcaee5024dd24033ceb7fa85bfe7b4b77991eac3f3948cebd059005159471e8049e3580e0adb10aa784cfc82b507eb4bae150912c3298de93b3f3a6a7f38a2e4768def9b685f48161b264f30cf226a7f3d2146581297913a0e5c5e5c88b13277935634681342ba0d4972b4d98dcc060f2d70c2fadc6c7c8ac9cfe100694c33bf58a4d3c3eee5d308e246d81691837825502b435af4a3891b811e29372d6fe216d37bda1eb3105c3ab5cd8a2a6d29e18ddb71d7bde77f211d6fb082235f8b5dd9be9b9b00563fa38112a80c87ac334607b9834a451bf90e916bd3e252b13981ea3d3e27060b96116bc7af83c2b35a8c3177b65b0c7483954f8ed4decad0e862aabe7a1c8a2f7db8d427229ba726bd8209ea2acb752ea0c1943273f6ae6dcb9de8f47b5bee0d993ec5aa69c43033b10fe1e68977224683a2a1312883e034576589957f43fcc01fd866b4459a4aaea7b37455ce2aae6b3b37cb1c09bfccfa9f96c94daf56c60b7402d1ee2ced2c7b2185c9a59535a0dd7eed8d5efa675578b186da6a5011577f73806706aebefe5cb2b0c826198f913a956dc2f30eddbd7be6d143751e5dbbda72f62751e0d320d00f3ef049179943ef1bc59cd331ab4525c74fcd3902fbefc1362c8566ce9e8a42488a9d456812781ce7c262a64c555e5d2f3c5d720ff07794019bfcafd5ef49ffce7e41543a0594b64f2fee86ea7b8b19e67df74c00625a4b8dbf68fad3862cbbced73bb0889779aca3cebc156ede12eb1d5627eff7c2480b86e2b92ee1b6a99b49dede40b9f2e321dbfbbe9d0cd6bcfb7225a15f9952316af575c4a1dd8e38771d72c0d5c68faed9a65abf5a38c6b087a5d3aa995a2003f40785cb0b2d950599652278059a66fec2ff5b5e7ea101550c04c1dba7456a6e7b95c454191273946a2be5036deb8b39fbd1b64f2cedf5e24f51e518040cc55bce5f801b92a31b8ab1178ffb25f1b21e62fa66744b642cdb07f363f34e87d2c70b51b92afe03f263cca53caa0e70cc271029c26c3702ebf5cb282cfc5763fa478da240443efad45f17577d04d96c4e3b37c72c2c3515aa03a49a0f7f42d825e2bea622c5a74d2b3a2df2da4a5528dc0bc2c819e41f4cfa86ad82f02cf2404672ea5ad2657260d7508087cf96813e9daf72c7081a2748f72ed0e7de6fad73ed7124f734304a43bde06ed55a6b8a57fe9ea9c3ae092afe1a8bf7d972032c0861a5763976e107e9cb946fe9f31a9f94b188186215373b72e48ebc78a98a4ba540b920456a4ade326b9d0395b1929bc77edd77944bbb2ff05cd2f295f5b13fc8fb0c5474aeae89d7c9bb905de2396bd121214e7424ffc4a4ae3fd1b335af1e17b06b4061d4dd27959aa06314d561c96d1f208fd86f42799b8defc57fff2646e99e14e4eec026d2d633c7354227f311f1e3220e36316c6dd38c61adc7edcf6796b5b088dc7accf400b88eedf8f5fd90ae45c2062924318256cb7ac656c8217c445b1385b85fdd3c01a60e4bb922c71d7712022c29621dad22ce4d00e1ba7b1dfdbf41b2e2757031b3cad8368b890184008a1843b875c62aaa134eb9fff5cd91d5066a0edbaf64491e06cb068c2656a22f395901df42863fcbee429887006202741ff7ea48d411cc74a9caeb408a536cfddb5c0b5c67f0859fb0b54aace41a65cad997431729aaf55ecf0012158ecb8314fb8e4ab292368dd156f5f450f661005238a63059165cb02901535ed37a0d6812931b3c18ceb1c926859e2c9e8578472c4212263b2c9652f40efc3e28b3fc2f324491ea436b855157740a9524c54483560898367123c4db3dd66ad32ac50062b195441baaa2ff3286c1e9d66da11f61662bd29d2f4f4be1b9dfdac5d68cf6c779dfa2f7f95391ab82526f574b2f2eee098608da0790bdbff8220c3087c39e216e7ff848ea5825a162352eb9fbbbd3003b358b6011f6d509ad6567f78ccb7ccec2966b6f5dbb6d1230d0ee0b759ddea5606bc659cbf7af89ed613f7a1f40d5a32e368cb296d5ad3c24876060e8a4b95cad3f6c6e23aa82819b958de9aa565869eea8c9c45d72da11b4879848e5697db391206512b48cc0f26858de2055a21b73e76ceeb0adb09edbacccf43995f63aed00840c85b796f067de9fc1339651b5ca11809e52e69a601a361acbb940ae7071c0a6a3dbba62f87a82ce97a8bf197c155427b4fa1dd1ede4f3a9a91a08761fd0376520ac0e4070990ae509b71efa29d2e0bbfaeb1ff6e9f4462c07ed076f4eb0a42df571b04cb83449ac1850a22c46ee7b8cb92f81d7f320d62c71458d5eeb357c9d1aab77f8e27f2e68879d7d5bbf0d1cff3c16ad3f15bad4d55b1ec4eb2af36086f6fe64efa1b664b1cdb9891d65ed39fddbf242e1fb93562ea38f0ae1e75ca0310fac91bbda6ed14c407bc276a2835252df86073752c94cfdc63dc8156405714499328ce9b3510f18684a05339653bea7b6ea5621a775b875526cf05d1b447f1890e4933f7da7075919f4fabd828e0d2f225cec180e30a9db809bf6f5eebe75877913ceb87f3506e1b5398d66aef1b822ae063b97dbbab3fc241ef9d852eb9d7f71697b4879992d8c0ae3b7211411d6a2ab3c0c7335f5b7952ecdd471296c1f559ee5aa8e3bcf1a5f0228778628f297d99cd63b6d25e1f8858c8fabf3ad1e52a14e1faad4df1f949a9e2154186a4065606f6756fa3effee8575af05281782a6558bd48ef174bc49bccc0e07600c2a9495bbedb7837925910624eb4a85d46565b258b38ed8b5a847fb3862618643c92aa4885b5aaf01a803929cfa790d1005ed51abe6f06f3ff2dac40b908c269e0bba7274759dba1d6e2893bbb80b20754cc2d77627d16fa991bfafdc76b742df721a20f1c58060f1a7920aa4baf3da28334829d728a0aa8b233f2bc65c973853a18207835a0f92cc5736ffc504a850211424fb0bc06ef3b7a3f96c11207c11d6f529e2f1be9bf44f0f41a9b8a04c5d899e51d74127b31ff638fb2903fc92240035b07581c5d78f61785bf25a7885ca8d27ba9c0a61d53b95b322048e40b607bb2338f5b014f32adc81e82e5e233766c8952e8a093c5a3baeb783a6a568deead0007e48600b18a6b478544e32e008e9c7aa28ec6bbfa987ff8d86601e12d0a5dda46b59707230ac729c3a0b719ed54046bd0518050d02028b7751485028221b650de6f9f12df3f4e25b95a5ae5ac1596ec542b31881a15e6dcc534922df7b49cdc59ae465bbdfd592c12afd29a3f3f38d5a5271e0182dacf142541859ea53f7e6a728cbac4966958d3f3696ad91ab2e5576112957574cd64cc5ec397a5fadf57cd6cfc7a50729144d064916f8cac22476cc84f25d0c5230381c166f95e85222d4c8b9473400535e3594f93f59d0baaca349754dd3a94f167b836a2504e6c26559559845ac1111126743d6becbc4c20c821454ba36cf13613046242a3066071f1f1b97ff94b53377e4eae3768488d176b1eefbc0e05eb700c8c828f03a011f9ee9b1542f8846fa407449a962afa5a0e3e6b47390cc6f3f6d537dfc410cbb138dc57fb4d86596777014d174908b79e6ac34a9e8bb4254d751a5b86102f94dafc84fde2ba42d5823d2dae9bdb91573f9031039d0c8375f5aaca8f378231db319fd109c13a1b1351f4221602476bfe742128c251e3d96826b7a14b2da4744bd694a951b77518f51805b1f49cc2a8b991c07e7c75d63bac3fd38f01ab64f9a70076c73d77fad141b26d3a29c4af37246c1d02907675942435269707892def830403422c290a1e3462474e14ca1b48eb4fa6a7d1c297ca1ce29aa6d76fdfc197dba72c02cdda99d4866dbc631db1d44a8de137c01da341db0ccc21846cc07ba99613ecb8af3a59c92ea6884796a28e68cd57ae8d99b26af6073bb672951045ea10f36fce995e2ab3fcadd6f96ddf44bde0062503309dc6f884ee603afb026849ac3ac9e9efcfadf5759d839db329787e2b4ab15cc51b286336eb0c625a34156e8a4fe653254cfad8a32ada189ebe96c054d20fcf8d90af1c14ac6b5a445ba89c203e8f4b57eb7a3db8cf338c17a112ff6ff3d1a852e8fb2f50a5b4c087a6716b8322ce0610170817cab4251e6f47cc8a2c034bcd1d438a034a7040902b6de73f943888f2d7d5303d5347b26252f57b72cf4f0f8eafa2a9af0e8d376f4e502eb216b246abf174d8e20eb94392e717ccac0f250ec5a7c8203fc44e08be90423f38e9e31bc933ab7994ba50363ea63f1533d6451796e6b738c297fe3754a1415980d2b290fff42a597095c98e3ac919781d8c7a412ee0cfb6e4513893afdd9180470a9da343c228f4172acf5778734ec7b37d48960cb42474053d6372b54033151c7a923e9990d5e05e221ac062249d91e28f665739e78ea6f0347f6853ac57cfb73ed5d9535cfd392815f012e0002b484ce3022b4db87fbfcef8b1de8701d979558d3dc82e7b68b65db22076b4aee50c2fba30a0852d52756a58c86927e11a529e6fafc2ef71c4ad696211d31a21094eca4998025ef3d827b394e902079e0db425c58e879589d0979eb8d178f46eaae223eb2bee830badebe83c81350798f2be102f37de6fac0f58fbfdeaa27dc5c2b45702d4b2249632bce8e35eda90cbafb84e8d39517162a1545c29be6f94b19f7ea86e8dbdff10bbfc4d2f9bd52bde35ad814566ea5152496d4b2bf5afa26f207bdaacd647dd85c9e826d6382949776f817088092a815e1f9cde2022640f535cfe2905066703f0687673f2fbf3dc2492a90de586b0a68b24b506e1c148f77b35ed2127db5b3e8738ac6d28f3cbfe6c3de5eb5283ca739c4e49939f6c29854befee2ef7dac05bc2fcdb1b0c261550de76c455f1e8bd34bac6308f9b96d5becbd2e6865697fafe4f36e7d3f7a2360fdb1115c8851e7caa8aa38d03de3c8bb91ab7285ff9f2d766efda0d325dfc68f40f531abed52910586406c375dfa11a8f6dae22e6028a4a412a6a5e0137b31dedc112adf17be966af3b9aef6a5c69f57956403a12a1558dd6e40ed93d6deb528e1b845cfaad4fef77fd49f70bc14b8f8f1b386a13ee5640dad5361732689d0fb6e94495974f1209a8a821f14fe041c621386abb5514ecc21ed306072fa50a91be0c3986380426bcef1f71558e3493ea9fdd3408c68abe2704436e060338d794cfe7574d9a9aa10dc167aedcf64c67b5cf7d02c44cc0c7c0a8b1ddfe9a3e89166f27a6c66ba7b493b6ddcc8e78cc53b4d60c0dcb589d326d26a9415470ca7733b417585fab431ea2e50528d570c2f4a1b5ab1d10d3b24bd5e94d78d476088618092418959a45782c276f9b5f6d57b4cc3b55c197727a8cff27cc526dd2dc9e17e46d7dab32ce4c65bc7d0a4aacd391d0bf87d9ebbb953b7c52a5722bc72829bd1a5a44be684814326ea3741769d651700f1711b3e95f90ea382770e33c520220e3b478872c1b80f1730dbc845c5de37cf309eff922c616b8ffcb3c95b72ac0531bc155b7494f9e05af49f35c5556f7064a17d486e109d0551c288bed36968e722e9aa24e6830bdd381fadcbd3322d45e9ab580cda19e5abd18d511811e9bab3c5aa3050cc2c9431e66afa4cec358106d1f003da540006b571e419acd8f3f47940d69673b19beb4fd040cf0e0b3099451628bfa57b1dde8808c8a6b4ace2c670290891f22ea7bca0753a6219860cb34b3e675bdb0488549b7d51d79e48cf4ac93db8e7b50ce96e4cd6a35bfd8fb63fb7cf7c8914e0971d0d04ecf9ab23cebb5f4626b26a4f2e1986ecef2cabc300daa836ac5d8cca93891a759e55e533d8a365991b80634462c53da2f7792956bb494fb10fd0431d92c5190a24a72736b3a9148763112b70914a7b3981b131d137d9e6db342aa1f3c48077081407136138698dbef667f59678a344307828866de3c648dd8461115f6a537794067890cd7455d9fa83cab6c4a2ebe120a3a974a291975740d6155df0879a7157f3156414eef0fdefd1c3b2ffcaa440b10329e4a2d8bf93314cd290afb7aa790080888befcd160ce9ba85199754155ffa1b9edbcfb1e7fcb8899dbcd584daae41dd68093c97daffa144f7be1b52a8e6c78daf6f968cc1abdd6965cbaef56792f7200ac493b401c76dcf41335959ee775e64ce0adccd04d105c21c249c9acedfc02b3e9fc9d584793e0162c85c68ca8fac5bd6615f3a977763bada126e38b083bebaf20893ea22fd36c0415dabed40df7f7f56e702f89f5db9e4ad49521aaee61827e86a511fd210d6e13765a928b53f3096e50a8732360e70aca967103d601745ad3f31f8119fdf74f821681c04851d128e3ea14948d61f5a90bedaf570cdbc85c929ffcaac62a1c7e9633dda5f5f29e61b0f453e36f4fd8e8b5f051e07c9951ae19e66385f529f93aeed9245924d5651726f2434cf8addacb705383b44692f2834cb2703bd0251d6eba7cf2095203536d093c6506d8748d8b9716f156070a67680d3d771e4f9d3d2ab1b050deca433d8fd1cc503ac902bf94c21443c406bbf7ec07177ee0d4c22e5b9d48efc807edcc485d9da7f493043ae045a1cbb30daff6c0a30bd02bba40ad0ebb7ae9928a1408079d851ee0aa9368a7b2e8058acf2f982aa638eee996562fb425195b2b95a454d1d4a255b9994b4cdedcebdab3d0e858d24cce4ca063109fcbc2ce3e18924b729eb0785dec381c2a18598f8317c469d7705256ed370d94d19c1ec67d0a591c015abd216e5fc5e87305d058d555e9974b3ce853a53a1bf373add986b3b880f1b18963ea0a27df8de6ae9445a8420246ea03c5261162269042746eb658a299898d22e972e50264bfc1be35b07bd4482f5262cba61e8a2fade569cb254f64393514e9c15ec2a6ed42464bdb3be764bd6783a088f9cd3601e6619aa95995292a523fb91efe2168ee01cd74d8b1ebdb6c2dc1ce9d4a54818288dc9343f989035d7295a7d5b5df34c52795ca431153ad97dcd7cebd93d41b95cd343baf256ad02bef0a0d61b95527ce5de47cfe1683495a3858b4634c0756c66ad3da30e19ff539d37925713dbbdf70d3bf806b59448189bd346d3fa49fd261459451d77a60abea269b20d41c82a4080d8204ea65899f02f5eb7121331ed240493d9ae20e2b503aea0143e5dbe02035539325aa96e775ae1f68117eb8efca025ba767781ceba7675d0c884eabc8590b33a06c9179a70ee4f43d51ad5707f8c0cf2477626589c43579bead9f1c27b58610545e803ff4d445da3bdbcd4184b0a5da09c7ddfc5db38e1029f037f6f85736d5fe5b5179c1bb6f8b3954c71ef37a2d50831f6995d337f3090a2c0299ac2c2ded3cdbd8965227b52349e3704abb995b9fc77c928b1673a0f911f04be2e47dea8b3373c10bb91bc51a44fb6692a2e271e1c570b02408599fc39ecb9528798800893211923b35daa845a2b71d92b506e7984e1c23591cbd59668fe69e79a518e4cda8a13bba42c096d73ec4c749d959a45046ec98ee941cd1e0a04d22f68b4e0c8511f8d77c3a975eefa36d2c9e83ce28c7ac5729466eebfdf791ce47421294ffbf6b0779f9eb162c6fe90916730986e489f669aa871e4a5ece3ae2d524e8d0b37e779d639f94b557dbcaadd4c5c124f2ce5903d9ae15de331c6b6593f50cd8893ea98a86907afe70c8286dfe5300e28a0fb433ac35a3e94b89415deb52ff208b56c9903202783a3838a2e6e5a8f7d4e6992103ed79b66b4ff93a1beddf9df08ddcf906c20d0a8f45f15caa9398aeeee89cebd92ee78ec080a51218689c67f44c62c79f1d6c000cddb0ffcde7c19262d919901af8dd6b01d45a8e3b05ac532167007b7ae852a9b1408be4b2746d136338c0abc1ce7fe2a2fd5a94321d53fe8de3070a3b69966c96b4979db238c14d62584b13dbac8644e640958883b5ed74ab81ef42a7fa1795f0525fe11615d47bf7986c9ac8d489d077ac1e6b330594aeea0c8f69a4fb527d05a84490f3b29fad1c49ec13976f95d5bd67b54743059d537ea784802d7f444b46e756ea385307b3d1b211634d2075e3f092240f944249c24bab9472aa7bd7729228f6c5786fcf444a154393bb2817c050792aa7ec4aab58cace3719758baf8c4397fe16c547665867c94e37ff5fb593e481b6a49118df36e391e442283356ae9eef21392cf8d075b6e38f8cbc8909d0d43e9e232d70d0d0dbc3f15e9d70bb7128041ff311bdc507740bed23724053e521b0d34d0b03629b65dc859e1e2686c4b680ea84d17910e223be37eafc1e6aa4b7cc7025111b49488b31125277711eba558161ce800b223d2593c3458436b75b30eb69a3b4e6cd11b1b909d26b7951fb52457804b3039cce7e4757d3c55f9c6b84a8c2446ab73e891242c4ea26a32879d3dda831b20fc37a0ecd603fecad33bbc8b8b39b764be015ede582f06d21a071464a1451bab47af61edd8673e3e4d24035fe2d8198a3f812b51af908730bfe981c7777d5c4ddbc090220c6461995b390b70c4c37a74c24dc5e68ab1089f617d45ee42450e6d1699113f2b76c455b90ec855cd8c7636037bc22d33e6e95dda333de6b26b0630ddbb134d30cf048017a6892dedb10a80bb0f51eed33b5eb53473e494141aa7f33382a44c312fe6ae3294443b1377f6246caa08e4a86da7d7ff766eeb7c1f515e189f31b0831f4e8188c6fe3a211088e896b5cdd1793bb9f852de83f09183e087870830131695c3b32b9cbf39fe5fdae2ecd54e2f68a3da87bf34ab1e7c098bb4b49edc9a98cbaf573a8817686142f093300e98a99691380cab630e6e6a4816544a994fa57827426120d8d09dfe9a4fa030ed3776e97a6bfb8cb57ca66509ad59796ad46d87e9074baf249dd0c78046e79cd6912541ae9b2d5cb21311568096e7d8c76fdc50bc7af644e171c6b8ad9485e56609e67a7d9d71c04b867d2e432d422fa12e4ff04e174f8ac0a45d7c32bf0879ba19db49fc4fa8cfcdbe72eca1e89355cc42cbd735569a91b864ad7352ab4d321413a0f24f56a9af6621dc60cb61d386124d5b6d0f968af79bf4e55fd8ee3c74b68c302384f56a3cbfb02abf49b9ac801e2160f8e3f4f6ed0d0e6c98ce3c99fab8d26f6433843ea249a18de8742132c051421a03317b6748084811bea2f62e1f49220f2477a72a72c70fe2fd55e3110ca257bfac4f272bdca4cb883acf628a0d3dee439beb17ddc7483c779d29cbb350f657225bf5a17e0d20059cd384b64a1a9d833483961e98c2e9f49e23945bcede271f523f166038a6c1096bda0b1ad7d7dab3e31425d03eba50e7a7bb9b82d9f30afcceb7c483e859f64e7e1cdbfce4aed14d7b96d18910da11a32c4f2b7b8e5f57d04b03b1e2a96f638033ba670cb0e85798beb8243fe8c4c59761812fbefcf0294edc701413ac490f492761430f2de3735cc5bb380505d62ab7f57a0c880676bad2880d1f03ae20064ebd86b95cfa3f4a939bf16b19fd9ce37b14f85b3f77f7c3736c1d32a8a55ce497af066dc9bd4bde71feeec0aee341a100c49111f49372a5e0bf8b71302ea6d47f0d7e35f6e34de822e2bf737e17de13f93a0bca6d26eb525af65dbeacd158b9b3284ff527442cb2639aff4b748957a6525771bfcb124403eb148df1501cfcd6a9492cd1fdad9db3cb42dff7e3c5394fd6af5187174ed4b248f15582aefe91b772c2b648f2fb1cde3ead0cdb7897e10342dfac402f076561d64eec31fe7e47b8a548f3cca894152804afd8d2ffc1da34f616f38c178cd6ce073b7c48f1848a2ef873685277f5836143922472a283c3e4bf55ee1e233e539f88dfd8071e154422ccab8148533df9509e3d531aad257e9384983b7ac76ca478f2a9f274c263a1a37e03b359068c83746a846059cdff7d3a20e55ac871c482e1d76b9cd15f9513a4871a5383e9fd36bcde9e5cb8e8fcd7589aa05f80e85a2b460227569e31ce60d3161bd81baab417ac17158abb2819609e3798badd0b3e7beaa169c339d9a40aa437e58a3ac0d4db719920b8934efe35e0c49ac115b9f9d6e3d5a76be37ba5b3cab22a29c9064269c141711efd45636b7bc492ae26830c17edc23fec44d9d9aed5cfb1d0ceb92b888070981261d898aab7fb203b95cc2c3a831627191e3b9cf4f2b63d98b81b816664726d09bd7fca0cb924f950882c8af39a7723c8bb5070988a53aaea3516ede363f8ef8f750835e7118cced35b231abd7b252bc6fdd5b54a7bccc236dd4bd875c0cfdddb876cf9201d6de4cf0242f4c879ab9e311a6efc049f8e8019433ec6ccabef40787df15dcdf1c2d99aaab626830f81c7721a37e235be95c4b6d810a6f65ac965df0731bbb0486141e5c6fc635bcd9f80fa0c278bdac9cc6f3233fa945d2f53be76bb2a95efb25cef311ccd2dad99f88f052b7813f08d92c2d2a67bfa106dd5bef9710f0d92ffea7e9ad290a395b90d356f8a339784f44e8c65ad79e43126c468904bc2671d38a4aafe57865df16be171f98a524082d58e0a86b20305e201c580b572c850ea2ec8364dab8503f3edc980b90e44fc79221e8a8a80e7b19de22bf40b77e6fbce8a9b6a6f76a21871d82277dc1886fb812e715e838d848a19c93f6c3b71ad0eaf63c22e38b67293a0d9423c60a76180c6f697a53fb13731c0c47706ebbf586abc69ea0d73d5b241c0f981a60f41faffacbea78a2d59d738b8f02989cdab4925a8fa33b84e8e1d49fe18cb041d9845441809d8ba494ae20e59066b42f2d8284465b47afd2d5d944e3352123b85236d44b107bb575b3b8fb04441dd1e7c6a77a3289e92aaec06c32bb9bebaeabc746ff5f371eff529e83ccd46e44f7b2a5f29b9d6a0d8330485b3cb3ca0e1c477bb461d7aa70e3b63c785236f15fc7e1611a7736db2214efc6893559228087d264c5546acf7d47caa54ac028b40e81b373bcb5ddfc074186bf52b0cf718d8e32ac6fbe740733a9e7d340703f0f19ec3b3677164e6132b47c9b0432f634a76f90178f163e18245df97da7fe7a66786baaad2a2c56d7b7833094095365002bc8627730f3a2595a5687196996beb8489ca1a6f6aebb3f4cc63bd4ad990167cdf33aa200171e000fc12fe55a7eb64761d6853b448af7d4cf9d8ce578ed7a17277ac4d940e1c778c2731752d9ea51f54b384c9c41f9b315e6e498e5b5ad4107dfcf13cf704a78c343c235d17508684227c2a7a684774c51c945bbdb572818aabd507bc5afe40d63508dda2e01cc9c22340ffb33bbc02341e4346f017bec99f8c9ae8e3ef89b5d3685ff6d302784abbe07b5dc1e9b65c6f566f98f8d2e933f22a270e157cbae2828dd581221268c1d22ec653500adda028228b2e557b66da6b59accb26f51a8d0481e41e525da495b4221d6ef3e3a7f439a765ab05e73687ee9d985a1c88bb394f760fb0e6c75cb2a1fd0bf45963e126cfaf8ea0537bf8c745b0a8a40ab9df0947c9fa5c7dae423417e5b0eaafcabb347f62fbb45235d11122ca1c87e2d3e006d93b82f23bf65dc27993d752730b619104ada88e338b9bf0b994be918ee5e0a650f4ae6ab01e45027bc3b8417010a9f819420d30b9a5f2691dc04777d9dbee0db16feb1b4c914004052d9559cc7c7b27df072254d9b4f2c6b68d2c3e20e7134aef25f0d6b5c033ab638a0fd6d93a4a020cb7129669eddd1bbfe7c58a7177f535ca0aae60e1c6dc92005eb962d69a17072160d97ea18d5a4cf44bb86c366725d5dbb7cff330eb9b6414011a9593458c38324a1b1873e335eba6c949d8a9fb0685467e3c027c5fd6cd4caf0d7a5b7eac6ee6999f23737dec13d76ff1d8c668b17d2aa4d7a23305c41db1c06995afaadbb7b4f57c21761f68dff613e2de68537c9b66e98b4632558b14b87c96a4ce857f37b9d9f29f04c695597a1f93829930351d7958ec3f713d76f2319b09abdd3eeb806855de4d3b6dad635f62679df1b149ecbefd12d4392ed9bd0875f87b744aa7bb57642c30cfa004d15cdf80ed78d49fb0f8fbc625199ef8f00705525d8157e0a83f2a8741b0fb63e16b59b1deb0a05991d159d6e60256bde20b6c6f26c2078b9f94ba9df4ff7e95ce2986b677e5a155686fba186e82ae761f2bd6945779de4448966379088917b183509590be2678150a60f889e691ad6f941acaf043b2d68f11e6a039724118ec46a186f89686f9adb797e5545da2e1a07d76865b140c8dd998a30cb1b9e64e79065efe6b2a82ba5408f4b2ba0ed7cb5491503b2eafbfacf21dd5921a76aa5aa6dec10173cd541fbb5bc216af8cd02fbf84f72d48dd9c989b27802ab9904957bdf345399dcb0f06e492e2501b7c42aacbe571a2781ac3ee7e9cd7a9f37c5839ec53ad10fcba05f19af9d7024c51044b1308874f35d8bf94d53b47d04d733062a5ecdc2048cccb31ab88d1828785b88ce5a78a38b71739035b357589204e811718a02c556a685dcc4ffa2230a287f6dd886c34aef6f27857e878f0f5b661b49490e7614ac31e48e9d4f6bbc0a880a39b83884e334393af7049fe64d1d13948cd4e1dde0e3dac80ee211f0d6f1f432b469052485c246fcbd802209d31dad7b9c1f1a1d783a1b058ec729d5e570a7d557e8bb6ff15c68b7d4054e223382028dae07e91481e8cd0bc8922fef391593fd343c6fdf7880fea75c77c46868a403ad69c07daba26fcb4f8059724b566d7fab34ecf7499e5144676aa18d9f1b97ce70887c0a91d08bb4cac36d4b2d6e6ad4922815677f9517ace774fcf77e5d250f1271b08d688057850993e6309520d4e4485138d1f3d05248377022d510f0a707eec17aa0b896166bcdc1b3334f6684944866c54c072d4f1625f78c3f42f4e98a9a7e180fe8830efac4bddaaf5252b73bff7abe91efd03e15473fb4c50dc8742d40d7195898f5cd57a7b2578bae00b3b17ab9bdea818d931c5f7ead70f8fe8a4e3395642e153c6cedffe3dd4288beb745e1908ff1e0ea8588c830840d5356c5cd3fdca87c2bd109b553664b858b3d400eaf7c5f00167c5383dba75d7867ed802e512967e69979ac8018e0f413e92b471c9cb62d1e93c8130761341397a0e3bdf770547a7a8088c444282069e06fff99db8b0d113f79e68a0c8818237fd275a7ddb06f5ac3474188edf9e3217fffcdc1a079f9c9477d974a493c4f3a79118ecb9532acf0c94202e9d4afed7e5d314ce82ed518af530aef2a124f4c3b6390197317b2b5cf79663f4fbdf6f6cb1cb4985b344f99a47bd4f910184a4faf05dbe0ec9e76700385454a593017e7f7ee00acfc51d9c517e3b805f003a24ed58aa557465fbd68262578c46fc64b7d39e579a5ec559f30d89bc292cbc1d42891155827a15cc1c110be8bde1c85ed00e1cd47a051a5935df42459d5757e991c105266ea76eb4fd37c0c182003ae855c131b1474e3f2fbfb5f9d54f16531706f012c539e51365447205a34b1811de7a53c07c4dd1b790538e9b93ed602805115b0cad866560cfdae0f6a74f5d150fc811a83e3a1a248cdd1e0cc9bad04d152ba6f85ff402633104a12af6ab1da9d380311575f1b2e376d7d23da7cff3ce378dfc5233263640e3b86b87fc4c8373630236aa77be4e8303b6a59ba9df84b7283c00518e0620698fba6fd8c35769ffcded46688c7da4f1ea4df9f52aa88a08c7212d16571a1210cf20209c3a94b853b3431e4fab851621d0fc76bf02a73298988249ca16bb2175112557002c79e49c39ac8cc8956c1c6a26f7ae93afc333d3707e1285fa89300d41cd75e1b03f608750029d380cac87317c54cdc0d5fbd38198cfcd537d7d0904bbd4e259458fd658958699865e8b39aa9c5742f3e781f1253605142e6bdfe48fff1da72756293bcdd5836ad5c1519e9c1fdf8c4f832aff868bb26a293f45","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
