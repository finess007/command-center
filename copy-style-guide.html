<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"153b145f5c153e3987aca9aca4fe23224003c25abaedf1217ca5625257926493f7310723274a428ac25314346745d9ecf439195a650280090750ca7929a15c5ec634583fabd5c4dffd57781078a568f1bceff9c4d01ab0ad5f52a396a8c7d2022ce249871fd7f965ca27dc1acc687625b0353c336b300f6bfe2e9c63722b046e896af36e62b58eb83372dffdd1acacb2ab77804cd87e314122e2c9990e5cf4d73f94ad66af3d0338c6cc84384a985bc8b1923f186c1d6a994e8533911c125ab7eab748b7f44ae4a3b1b2f7ebe94e2b1fd755b564d80460cd5bc374584a3ba171f3f16676d18a262bc7df809eab3c1891fb1eb5feb22ade02975a38bdb80b5f98da5d3ce54d198a2eace6ec32276ff6c4f7f1bb6906f41d64b725330207a400f1105e5d5b6d8afee891233e590f482fb34594e08387d42b0337059f4791b5b422346af2284799e232a3f4282d61676b671284f22494291e470c6c7d34d114f1416700045731d2e2ae41d4de398ea2ddbb336b6adfebd7f1b5d1705a90e41b0a271efeab54e9567121c58644a28d2014b493ff5bf4463af9bdba3dc3c929d5b37bcd175d6494e889ceaa93f870472b31b6c1ec8147fbc10034d7938a39db8a57cf6d8fe2b44bb9f3c9b5c25a9524f627f32f61d9826e7bffca564aa2aa3ba65b4bf3f496b314331a0dfc12b188c8d2250b067768612917a530e319a3b70496a9f9463b84d1ee8b359c4468055935b3268a21afd70a8c41e62c190fc0af2bb1c6fb80d12605928fae6fdfb0a0c7d9728ebe39f9d61b3e2cfa76f33c06ac0bee01dc7a9bc11e08fecf062245c2d767a76aa7bd61ec97e08860553488a140d3ac6477877a6ee9eb13599470e3d6032b70acfc4274dae15ee82284a1b06dedb2b007953d707790fc64cab7e046705f9ade357188c676f659c70e72280cb5e39d328daadfa1c1b1030636035821e111f9ce6f1eb32ae7f79fb03603458dac211b4944397d1895341bb1b032e81b30950d04a58ec3e892ae2990aaf90db28f7f63215c4a8b2d29be08c24adbe881ccde87db819009b5d0aecfd579d466c4bc430aea00134a6bc9398e5cecab0192789f0fd2f4540cda5a0c9ad62aa152347e91976e92d8d348e196a372ed7702b49579db393492dc8f25150ad99ff19da58a9342f5513b18642284010f2686da0e083239fa633b06bd54b4d9eada1c200e20a7aab388cab7af38f7d39d5f11894c55ce5e4429c5bcf4ae97bef13dbe74d09973357b4873d91fa365a06f8119d39a052e200449565c0a045fef298203aaf21b292606b779a2bc232479ef421ef5b55b236df24540d32d4dcd7d52805f86660bfd5e49a26f8e1c6f3cb9fbb67fae5c5a453237212e9e6a254a875a7b8542805836b0bebac7f4dc09f75730b3d5609b1d592744c37456ab85dbaa4baa8440aaf22ab64c6e9b7048a672df7708fa358ea459741b3a751e01922f19771751e2b9c764c84d1065631743e7b0e6555f363ca0deae8fc7ed57ab95f5e39aa80d2d861810c900fc678e86adeacd0c6a80862b043bee8b93e61358d2000d347a3043af08d5fefed1f7a0414ad3bc5dd1d95c91df64b5a80a29a44b32c27f20b228573bdf49915e14bad6e18caf004063d47819a202584698845e294a15e89c781e5206c0c3d80e4940fe8aa9937784520f13fba98f905625c75d25ae4161a70095d4f13e93dfdf5277363939ef7ce53eb2f923928d6125ce06e2789d442aca3f5775c26045c764bd5ac7a316f17b3346c435b998cebd6ca84dda2aeb53b98e9af241a485e2a036ebd2b22870424d610418e5be821649864ebc37538e7258727c62a6854dc1e764cfab519013c2710378284b73b8d8a712b2d2246914c7437b66f25b8e721a2f547e0454d29564eafa43c164bb9f25020b71ba56b8602570a8ddd1d9e9f5da76f7b02d9548a80fbd9a55f1d2a57ecc9a44729ad2d0b5f7ffebaa77f01fca6911bd533ad3281652a35bd4a9d7707e71aeeb00d117a44a062fe1d7a8f6d4260b9867bca4012fcf9a7347e4bd3fe5813c14fe24800108d8060d5df0e314f349d71eb7574aed79188af02f6eb3be92a85ecc154038bd33bbab8946ddfa61df4065f4cc84cf3e6038cc84e1a8b09c7ea499041a8e5ae345be67d46ff54f4e650e085bf4c4f2c6b1945cbff80637a76b40f78384bbc7f529fe90e45699f2746b52ace33c3f8b4488893fbcff764fa79a853c7fcf58329591576b768e685a444d41f3d85e0aced2a3db37cf2c29cb8a436efa2ac68d1035a7773cda42098a1d8a17dbb1b470f0a728b4ea35171a823567cdfe6918f81e3e49a297a86924c43b344af0c0b51b9e85a1cd5e8c78c0f083396ca3ad3c48bb5d4640317b8c848977e8c38029cb6596a34b263e83bfc22e53feddb6301ff982fc19ec4edeb3570355dcb166d59ffe5fd5764b97af6b2d21a0e7d3b3116b16cf8b46a04916ed60abf5faaaa87702f8fd90b291990428830d6dcb09bd3c00e65395c198076ff9ce0f48b7ccd782f4b89e39b311ebd4d9649fc0db64d7bfa77e3f7d1af3408ea0f2fc1070a34706a80c26ce3fa096adac331bfb4448e796fa5c792f68b75a953e0046ab212660a35e064a3a44c1ddedf7e153e6d0e0250d6474ef0cacae825493e28bda8c06dd46f53083866243aa3184fc9949eb1466ce2fede09ce20e6857d97382c39e6b1d70d724242198da0f88f5f2dbdfe02218c8b9a12861fe5c21fa82e88a57d8e4c0532b83504c48a70b55efbedf8849919c666615a8dcdf0f77649b02bf9aaa8844228f8d87bb9538cc9bc5be4589882e1261e52f1bb3b485f8ce67dc54bc03fa3e4d5eb5ceceee83a67bdade994dc4b386dccbe2ddae9df306543d1dd9c7de2fcb7681cc06ad054e3d5ce7d4ae61284256f95967a5de1a387b030fada7622219dc167cf64efa236fd5f3cf32577981fb8dc5643b9b84cb0c2a6235c198eb44fb4a5b30581ae4236dc7f02b424e31885cb7b9cd1fb8b955c56a9558383a3ba89372589c4746dbd03d75bab7527344591be141b9d1893390cf8eb786247da822eba39b54a8c7d847d715d676b0bc84ec7adc33f3e0ef4f11d0a1fbdd7a47204f1f7bfc507af0378aa51f159d82db77382b586d891bc15b526ca691cabf4ff8983513e7145a34ef8072bca417376284dd44c77d2f8778738ff01da02e078e2452fbbe04f61fda94506a793669e0299e757f91ba3a8fe05fd35957ddfff4c88373bbc1d9bf0d6de002caea42bd3b5f166326809b895a2c7df948a6856c8212c99aac1ad71a2258302d59829cf491efad259e6f864e8b7b9cde314b805de8041f55fd3202bafd9daca4ee3f75b0480b8caad82da9e15308a617276676ac49744047ba0cc7207d785c858d3862649ce31f6f12e7409fc482c5236e519e44b0046afb9eec000e93af296c5d3eafbfe35129296f883d95b21699a9b19ba37b0f4799fbf159c410e8857a52c730865e6ba232a96a7795836a6f32c16cd2088648a84bac3cc495ad970e8fb192184791e959da5abc139a5fc5fea5044b2ad9b368ff68e769feae2bafcdac55bafed735a55d58c483944fdb4080afd889739b211a540769d73809c2b3051382a85a5eece406c890c72237bf3f4c5a8e631456e643a7f2137c1fd15a8011fd5c0a315a49ce9e65e2762adc3665cf45ad92f0d2cadda629d1a6846be1a0402736e2ffbe2e7a9a5f1cd0b6fc3ebdd193c3fc72996edf631f6efa1f5c0a4021a1204de07fa3471b057fef5088a54f04be1b78958b74cee813cbdc9e7ee61f3f5532e8529edc0bd2bd929bc57698396ad29b5f27a7ce1326a457e3b6cb720ebeafdf06e8c85f53a64cdc74e07ed2ac9495daf85b06f3a3fb6ee247a9d2005861a63672ada1a22b93733355065d1b612f5e7cb3fe8f438195a6c8eb3835d5d39b4aac3b0520aa55acd12f713514bca423c9213963a1661d95f7df968c026280b3120292b70cf755994830df03a7ba4796c0ab04c7d00e14552536509d1f431530ab5bc7f011508d1f388e0bf72c70374f586be4db889b702694a54b3cb9358b0de429319892d5781bd14813d87da3379ac0fcc84d53d3d9a05555593a27eff641c8f36cf067ad0f2eaac133ed49a094ae9ce66c793f5ae2f431c9409cf79cbde20749610ae45f9d5fda5ae72c9ee2d75cf259637869dee375f5eda043daf241748e9021372b29f031c5158622988139f1c5ccd866369d79e63980529a6a5d39caeca9d0f1800adc9eb29abfd59cbf9f20b024f0407e3eab9adbe2a780bd356dfa3708893472336bb919712e55302215c7717bc2e670bdf74a74b82f28552b7f371feb3ca0d7f4d4bb06917316396ed57db44270e79d5bbf59ac1233b73b683a175691d64b8bfa9c554b14e5253454160767007c0bfd9dbffdd044b8456e3cdaf99d92c1b7c2396a2c48589bfc40343b011dc27cebfcbf6403dd92084b10e105394aa307213feb183620dc84cf7e9b628721c8c2c17a44ddf91d9142cd7277730c78e0f898d0eceac33f57cbb681fcf88c13074d3bb5c3c7531c3c6c58cd852a2af97d28f68420380eb5160d6578d2566b0734dfd4ea1b8b99ebfaae163a8c5ba0e7577bb18d262401fea25a6cbafd07e03c8223a253264c97b2e541b9b8cc72176f1926556cb33ac5786a9f06ac925e312b7b43bc3412a2a46523f1fb6702f0111634ee8c7f2f92a333a97f3a8ef5168cde2298a952e8ccb6c8340f97ecb2c2b34957c131c262e04042778dc1ba9dd8d86d1b6d307a1841677c690e9b0a96a88fb4967dc22f4053e8fe1d2cf527ee07dbb982ad46e32b26e939c027759ddc9c1681ced303f01a80e53b5bce630fc2ea12d6e16f6122035d0b5a975fb97a48fd6149ee3deadd989154a3ae1f399fc042552695617225beaf761bd16d49d3c92536375711bc3999173959efcdad5026a54baee09e3b424dc973a39c163d57313e7538d3e85a3dfddf27d100b6129bb27e76b96fcc820ed2dacae201e8800f00feb3169f422d1fa4e2a1d195dd15e107f1cbbac2a66ceae8fc945b70ba906fb46a600a25f8394391a9c67b79c82950cab50272fc45ff2c760e60e35c0005ea630467295af0fa611c5e00c5759c285cbe7482e70821583b49c458e67e6f07c13f961af2cbed8a9f8dc529e16305ed771a73521a3931286e3ea140a6802738cc53d4d6fb7d477a6f2e08caaa192b33f4cb22aea4c7a7cd8181b46899288b14bc80308d9ed58ab93ba5473b801402793c16402402c23e94ba4191d8697d0cc21aeeb6c29ce228892dd065517bec3b957c47de34698fde3a45896591dc9316112ba806fc3d467fea1991771d9d05dfe7973b47faf8aabf6338f75f591072226d082f7a927d40f1a8d2d6b6cd4560043dde24663874be10b5b79d0d9f23ef22b3169d5076fa48352aaaeff9eb2efb5f1e52f99603683e2b50066e53f8c9e0b2a8b2dece6b6da6c82c6a2d0d78d8b0953df23b3fade8ca9c235c79db36679c0c1623227f780bb0ab32dc0d3e808d3eb0a8e769fd41387355c600ee093a2ebfcc3ac0ef553854ae10535925f9cc47f0a460b4988beacde028f0e6083c51c2f6b54602fe225bba3f469607ed375b9982daad9d95cef982697f5b97a2ecb34cab8e2411ce723bcadbc93e599361cfd01faec95a83ee045cee407c5d7a77f6e3bfa1b40cb9dadf73eb4c5c1b1be316cd5721ebf34bd0ba46dad132c3b04990b8d082bb7d9709b12a437286c69f604c9be3ce077c5a10eb0f00f7f745dd9bbcad08e15e852d94a35f26494c561331d6ca309a74dfbe893125a7d0d289c512011a5d95c2532368a3ab152a0d9138bd356ec92efac7d5c0bb41a0ae12d719932b83834bc9d851c8b01a69a248ab7f457e8340adc5b6bdc6b9b65ff769b28d9838339b9142d685f703a853774e1ee40a3da3657508c6803dc2ce3d74b7bac73a505bc0a2e07a26d88967ecc3e826522e2ec24fdbb1ab86989d494177a573befb9b61a5fa919fc7640513121bcf6448faff7877a4bf016768232eabc0ee85760dee5c8b5009ab8e007b49fab2ee75684856f0c5e3a5d9b3c9c900bae2a6b8d8030d1d6a6fb37369b049859a9829fbd649d0d37a96868fea92a554b0701c7822d5bb5fe31deb5140ea7d2f11dc9908735ac65cd58fa70e66bcaf092aa43d8939b704a431a7a05c79c48d793294b747c9beb578d04780ee2a8e779bd40b66b995a5c8b935d351c6d5c95815365a4ac448b7bb5c4d46744389e4747aafef0bc799c3df6d88991b8603e0ffd1735211c68ef854546a15ccbc6dff76d595fc3ef8cab4d088d399becafb5e540bfc3c8469bd39579b94e47edcb47b98d7950a92dc5280f6569efa3ac8c8586241e6eb1e2b01b0a1f2833cad328dd924301a6d193a65525b52eb1362c11ecbdbf6a92fd55502e06deaf4447e9c3d9f70cf681d98cd65e02c55043df4bce0539b0a90d630b6e4d51a1f5b15bd429e3a1a50aee7db19427e4841c6ef877ff009b283ee93dabd03fd28c87ffb0986be6aa901c0bba24f1a10678006fb656b97f333349b86103980228a099576320c32d7e10887f1e9f3b8a604ae4ed2ecccba9790b2755c0c762f81a10bedd575c81abcbd12c6a96b3a2e5dedb7cf6d6aa71d6db2d20cd67f890267411b5b4a6fde9fe8384a801d3b9c1c9440684c8d9355cce62a687dd5cf7141325fbb8a7e12c628490304ac2c78dc2ef7f7ec50e6db9012cc55d2472bec64ab910fe0915ad56719fc22e3ae90ab2780f153d180814406e429adc39a2b8c9b32a31dbb80d93ef1ab7c613ee59789e72533d7b4a094a7ae8e814052ac55a2dbc643b281c9f1bc1c49c7576247ccb9de02b54d83fa95f1fa09a9867968a457c43516baeed2e54f4aeb21c96bcf30b138290af11db5e288e7adbdda303f630f6083c378d1e6afbc0e1407e2934280d59e683d072b98c6c91e6f43dd9b828974481a5ae7b05904d590e5b1f6a12895389f1ee5c8492af3d7341555f766ee48684d274d5c71d811174ea80c370c41ab298821d8793b034dcc05e4b019f84f2ad67f196c76b193afff6b6fd88084406df5113d652821a806a8aa55ff8b4802f13bf07f7d9681fa34cda58dbe3e2a5be193a9202ede20abacf89db915055bb7ebcad0c607b72b717e457c9e9ff616d3dfafcf360defb57c99a17f2d01c4c03177baa2713e14ceaf39c6efae9b2d1ba5ca4707ec8501dc26a5f8b8143a05b23a95ad26b1d6acc253edd611a60c9bf86f8deeff42b1f98996619c2811ba9a48acbb077ca75f818ca144b226cd4cf0ea0f6aca5a65854c48e2051bfd5776be0e60957bb21fb4f52241bd392136dd65831d8fed3e05ae50a0dbb3aa52104315ac935a7ef66a188262d48b6599396f05cb46b8d6b3ae28e74cd0e9b344fead3d9756d3425cfe85c67cd922c275d59eb880f4b29276e7c2ff70d400b2b042b14f82e883a3fe026b3e9fb5bf56447219fb9c87de8ac71481e2ba8231881f54f5f8df12f25c0ca26888fb964b7d1ce74e1c905e848471b8f9e470892b863c4d2f234d992bf43790e3c3bbba3c046a32c39cbf203380e803fa1502e12a046838f1efd7c954a20c7a2d329873b2bb515513860584db4bdf1a7ec5fa0ff22fe6ce6099b004922fb31b3dea596a5f4223188aa7ed9a82fc6fba78c0705cc63de5927179a10b1bf58bd55791f82f1ebcbed45d1d10291bad22ac0df214998f2d58608fbf2c8786b6024a9b4b083777a2f5f3db27a7ce60f04c350842faa5bc1685d56bc4972e9f37d6b50ca7d767ca51a9f2f06c7653093de5305d43509e650c70b092a117140b26527b2b21ec9447fd4f436808e71d047a951d05047049b84e1217705afe31c64b4b65ef291656a8dee7692dcdefa06ecca3b142dde63655723db412e5ca3d1ba89a1d020117041462601d5d4bb25ca6659e3d517cb29ba590686c80a64699f47eacfabc75ad2d9778959edc045ed536205e7e856351016a09e24e13cdbded8e891fe1da0efdd3ffe2f81a5155b541c364cd1e82797583d29e4b7a53dd1bc1499f943bbe2639f387f2765e178f03224fc5240c724e8c1bdde8539673abe624dffa1e74d19ce288b7a8055bf81dcf7013e8c43c6fcaa6baf04172e9df8a3af7f3ade85b511dba417e3a8bc17993f9cdff291660500684351f256794369d1ac947991e9d090ab83e53d6df78b77063b5bc40cba0d668d608db17d8bef2e885791e9908f306aa354aba270f739d7c9183b009869e55525a1ed03601f908abe8bc2f06b26d94b4c73107ae7d9ee3a1dd70217b4403bbcc4afe0370ada3f27ec0ffdd323819560c91246c4a1e9c1a5bbc2c4f8ef8753903b308793e288bf497fe85f39847ce5a83f457bef5b7de14c88583b7ca207f7fe8d37b6263c552a2e636be5375cdaf23094992db95a5f06810a9255fdaf0343aa10a4fcbeef3a6ee9c6f05bfa3f9820d670afae2de801b9aa74a226f8422c0b54971b1ed6b0cd5d6eb470b134c45bda1a34222aa4ad73d7c828918b8a2c228e2b48c5a33e30ba95552d2809a7864742a31ea42d765488da1f109304b3e526b3502f72a96070e391e01905a5323172804da7d7cc7fbd206fa33550614bd138ff7375af3a75d74a5a1ceb61c2a8112635088e33c72d71e6950d8a97bc4f910c63a30857fcebf6d48fe0ce90d04a606f5540d296c1aaf0f16d525b0ae5327f254a485c50bd404d508f87355b035c3ee46c69946829793f5d9a6fa9b911dec743d807603bf3417258c5f1a68184a55854ce476a5e9f74c57df0f1e2dc8e18a01982c1e1f778add277719e90efd4c1b8695aab5b2e7fa21a064699f6a178c7d3f3b2f4e9a200e651954995e4432139646822baf071ccf9904da90bb1e0963c8058f6530be05e6eb0b84bd87917f4f9ac70fc20124dd86a65f952b83740e06e1efe97a448b3db6a52d1d06de708f5b198aac46b543d9bba930899de1a66f65b5609f2176d228592a1afd121733d35b2f1fff37142b316a970b3b73b8bda5c8793e17015495a965d081acb3e4e2abaeada8b55550b7db1f5cbcff2f3f8cd628ee5ea5248c06d7eec86ed35780d3af02a7621e03458b9b1c6cc8b9103002c55af33cd12a212ae7fc52161e2eb61af5024764ba19f35e5309bf6a190b0155b2cdd927c756ed5b78a9988830df56de498fb7a9e5a3f15a432f0294050cc69e8ca232ef70df5a1743e8c5cdbd5b9c52f1d08c03386aee955806220cfdb7dfa776fed6ad033999affb1dde36562ca80aa74188ba89d39f6222ee8378f2f568d844a13cc9baca167f35bfe35c034bd81ad4945002b04c926d6a63fe1f9f05871f1d38d1389b32575f121b98d2fc1c45c76470d0d438afac23b7c12462b21251a26f5f6c350b196a7f3fd03e16cedf6a5fc8db00bb8c6bfff7c820a0208b6159a3ffa7c730f4a21b33d743f2ef73b291d6c5e561de01a749f2f2ee0dfea5fa287c3de368e0f85701f28f16ecc595a547eb5ef9ca6e62b6aaa6ed406198acfa351e782e68df989c4dd642606834759d0f98c874b5611f1ccba86b53f4ae351ba27055fcb52a08ec6945de78d1c8c803c9766853d003f2e7f8b093e3e77744e9938b405e9aec325811777cd97cef82a75c74e5b26df34bc2cd6cba451f0d84bd5ddc5f60a19fca3030486dde927c329eca0453908b9b8a25916604067fa0cea4dd8e5cad1373dafee8babea75641ee9c5d778280566f8fd93c5cfd262271799a5f685c44f54dc548a91dbc2df5d8c8ec4ad417ead985e804bd275072603b8d1bf4f3cf0af524a18578c6e56e9e75b51d22e82b592d85cb60ce8024f11181e297675f247656faae4017b80548a3604912d31984427e71c7c7595da191921778cc7479086e284ba543a07837178b38a009e122492371f9a53cce072a756acf8a518f8c3e2c9d73c23ad00837a8678fa2cfeaba8583db3e559b45176e1c769a67da44609091984b9111b9ce8f206673930efce27555b654e2218fa090e11082f0f739e39039bfefbe0a4f068edea3af8dd1c1999e4d01764ce3ecb9afcbbc069e50829b0c03d9b6a3871304d1021dadec4b2161007e934e4cf7ef1694b6c14a218687cbef0af4779e48d3685b211764f04bb25fa81ce961e8dc233e38de5130b5fbc1109016b18baf25096f0cee24235a60ee8b187418259e0d8b1ed993b0837f27cdb9df37a9715733ff7b486a87ef77ef00949113eb39b5c29f0d5c84bce0ec9837c9301e7ba4acbdfafb9abb318ae75c4d9a035ebb16ed0e147658508d3cc9a72a803103b6c2a41f4df9c8b040ba5248284da4e4746e2483bc90e8d566e3b1addd6b565cfd09bba027cc7bd7298bb9a786bc1d4d245e4800e9bb07da08dba3e70f3fbc517131f10f7051f8fca9ed02d12b65c1c47e37fb76aa34f2056354fbfa5865546427aac277366f721ffe740d93f71c0e02e09766f7137a154b72736e1f1f74f85ef1dc144d08e7b0b384601701768652771a227dabcbb8c7cb9732f958e6de0b9d41af26e9eee6b749fff86f8069d2d122022a9ce64133f868fe89ff6b53337f89b92aaf3795b4e661063917c81f050857ecc6573e69d1c9abf7a55412d7caa6e8d8b66a8a060a062d03fc8ff455541c76c52865e8ac65d91ddfe001621bd58c4fc95e66c8ba030970726e506be4d0f061fe42ea6b2c06d730ecec31f5ebefc33ef8ba3a954b0d06e154c337744312f1ce44e33c7adb45e08130fe33932793ba80b4adfca01d59ef53bcac603e1b7f4d9574a0c415a1eebbe1f769267b2d391d24436b5214840af33f295152928c4818535be8629d9ad4d859f306177e3b1dd19afdb7c24d9406bb775ae791a77ac71025254b915bbb683041e23ddd0beb8861830b957aa6f24fb06f5654af1ef86e15f8c756a52a6be03c137ce7d3c20055cc86fb7a3ad60333610bdf148fa01df31720c552fa72a608f23684bb6e54ae776434a0b85a73b528258ec2f891d20c34813d75ab6abc69b50bd7dcee0b5ffc8f935995c917b695275d8f02c1feefd7c7d050e16cb85c255d3924d599c7bdb6cfadda6bfed9d921d783db16bfe638dd31a56ce88f7370934db767c71071717fcc5040f600947333ec28113653bfcb8c30d232cd46e81176682a2e628e3e85eba6bfec7e06764a1f64b0643df6c72f9bc950745c3f2b2eb1e05e130480fa683265aeaa749b72923fa9b5fc296e6728861b37ab9878a03deb673c1d46d0b979f21a53e32bdf717c62922013c7d237425085b0acff1d9ce52d9478d05d8e68aab6de41829803dca7b59ac90f410e39396c04bcf46d1ed06cc00cc8e09296cb890fb5ad036dbed95a3d412710ec11bcad0eb1354bee2c07b06685f4239cc0f493d84fe3d0d36c4da05c086266aab0724da903cf70bee6c7062553f9a2b9f7de37f9caf2ac9945ea6354acc416cfababa51d96284658f7fde230ec6e4776e512a31bd6fece9d0b44ced541d37d39f0aaa55e84257dc66fcdc9e443dc93ff6c78d14bbc063f9a2dc0566c5902f8e59ba36dece55b51d2c96897e06e3050b51117c92d1561aee72b7bfec5406468fe253fe4402d35d6cf9a57655aa164215bd4915b462f15bc13e01b4f78a4f402b772f071544752dcd5aaab94c145fede13dbc2b599720751bcfc91b19e2630637e6a2e509852313c06b34ee245d2b8e03ce32241cab60e869a9ddb6cbcaeef8db2446edc605b3dfb5fe0caf8c6055b546aa125c41c67f6f79f35ea30135e1fc53d04958390fe258211743d54628ad166198b5ecf98277d6666431609861eab463b59e593c7566c8b75b6121fdeed07e8d81d221e219170dc025869083116dfa5245c2c0169b99b6f75a1803d5f98a1887ece87e53c9aafc2802fd9867bb021a06914647594ba0eb7fc8a0bdc70ceee9f9154cc4f6e66aeb372c8128c4964b5cbcca3d67538c83bb69484d52629365dc21e6707a828bce6e9ae63cc1c6483aa87266b102c6808d15b572e6e489094ba879acb1e2166f427fc5cb321282f1c345dc8c50c92bc6779c1a1b7ad2d8dda1821dbd62d4a20290ac4dc3eb1ca25970e8d649ea1d6a9efcdb8e2a668ace105da2d0cee339be00df67100559e0dc40226108f7e159d39ac6a06618eeeb4178a44d2b2152337318c19e8844d8c4af9d3656ca967777da34736829791d56aaef2da9917f85ad54f2d6c48b8be253f748c567cc5c06fe6b63672e92adff0d1e92c23d6d2dd0b899ca994adc8d73f0cf00846d9e496007f1541bdda8425013bfc2ba7b7578edc6b854d6896460a071a918a672ed0b9752fdab25d18d01308e51ebc3b2c53b4cd5c1b0b2820d1d4b0cde5358b785e72245e81f245c13932f465b92d3280bd36e528d1ef223d9e3ce229b4d1bfa0720deb4fbb08d09abcde9ff82054fb943bd56f3fad8ee298f977b3d83be01987b0d40ed00d1d01ef2bdd1d7ab44d1f2cae80a75990b59a9b03aeee4836d48370271e4dbcbf0d8752d4d8b0e6bc5b8ea1e81e18739c19f38d6e238a46c5b2c88abe99be4f5a5e9e7033d5334b0445fbe9bb6060e5b08b7bd68a570cb322d5bab931c21e9e6114d9a2aa436e830b1490b6270ececeb83e6840ec8b787df17fdaa4977f912e9a6a058c6d65bd1d60b2d8fe98dbd97f7c9c9a1e437eca3fa66ad465dba1e261cd36eeaea9b912795f543b00d30419fdc7e1d430938b3fc6e26f6af34bfbf22d8eb1ab8da81aecad38fcce85cb72549d46038e7944197d00f2d8717e056bc1b5d6abf3ac7a52e5de5de6e1208190b679a4648d6075d441ba9d9bc0f95f4360bed4e79cb4400847cf04a77e6fe5c4295a169a07e8159fe3b36b7bcfbea922c9b82a35424fb83a1d3d107c5f93525091d7912d62d1b7b85fdc69883e2386337c998166183017b98fe8a5bb552e764ea9e05eb19b495a5e2c5dff98e48b62a46f03281886a26c6265d8656fb3ced895f16e76bc40950c38e8afdc009b8cae71e09a8960d44ad3e955f005a5ce48f29c70a96ca62df036c2fd763eb9ddd471f0085cd9475ce0412c08d9992614a905cb5f1fb08d32df357bb392fe4c254f6333ac1cae4d09a6b6685f153f1c603ea9f1280d31264f09d305d445df3cf21524b32e06647c83719fbd06c403c026133f6ee0fe310689c5e921771b2251b5b2c8b6f475d348973f7318637f1de57315b045e6e3a0aae32025d09c42258851899115265198036d0dce349e4256bc0702279e7a581c4def6bbdbfbf335857ae02dfe3f4dc0c404e8c3e87b8b7b5ea63da1ea381084f903e3ca60a1ef3583c0bd24a6141bbabda65878d4f650f0d1dddb4bc79f4a4572d828e5f8b64d1d07b2fa84ad3356a89633561f75aff1f543fcf1030d4160398eea653fc218e94437c457c38d916e2022176fb9fcad5df36a765915a52d953fefd49a8cfc14ec59675f0b53bf7ba7aa37b8cd1ce204909facb05a0c981d6d0e786adaaa343ebc311ccf92ed6fdf35f5099de7a1bd092c12f8e6adf6d6b7035ed146a6385cc99bba04398a1c66820d61699b2cc7bd792c8bb18c9f01132938cb04271761b012a13ef429d9064856f145b682eea9ea1300255b13851cce5083a4ef41acc3eaadb32a8894e32e931534681c1b4fe2420c2fec2118558e4e336da267f1209cc5fe4381acc8d81484faa2a3debfbc052b16a80f3d6f8ac730ff9fe7b407d3321516e1b2d2919573c07a7bceb859c554c987f0dab0cfdedb208c498aba1262e3a005c675dc633854d90906234c35566884718c84a0b5b87168198a7b094010adae7ad90b38a4ad998f3a1322dbc8bb61f351ac2b7d894dd2a38dcc43d3c24cfd2aeb070400fcd890ffe1efceb015a754ffd2e969ce7f6789b25863455546131ab6c81c4131d5c5674500d1ac9daae0b4ea2ae93d214c6c69204c3f27c8542495baab94e0e28f71f25e3caa7462f75943b01eea676801a17e8b6f5471f21e0538727cd69388ce67011aae2777679d0e9a5fc414276e030bb5b1e0fa98bb0b2102d9820ca24f9ecaddfde8231b4fe6eb1440217c854a30de0b669f25977e75c7c125d9a75fe5d729448fc20ff530b96c09d0471b94282ee82ccd786e35692cf509bcef8f3fcebd5015af8c334a75667829a5fc3462885fc3671734e1176f02d43e40865ff276484d64ab84ca2f0e6912669a88371799cd648ef2aecf2797a219616ebb76f06f13dc3aeb502505170be508aacc5ac5c58ceab619c8670e9b915debe4eb5cb6a8eb5fb15f6058b577730125b63a22a13124172bb8e1948078fd5c482ee078e6efbf72175d97c33efb06d9ee06fbf1f1ea2027808f9c0809c78fd28f51e0daf171e08ae6e19064b9aec399038e9021db5acf2dad751ee3a4553c5bd85aa438dac7e19ec4ea5da47c26662d199c57dbe582080af49729488c9a27af3da3d71888f458a4b6afa79953d8a45c3f8ee90e4ce88647d66653f2d65e6f095c76070112c25262d701a17c3f5e23c88a656c596ab2844c03f6f2bb719daa6098e8e8244396a7c78ba1739660f811e34f8c5428e5e42ff703cbd61ae4f6094302905ce65a797ea554ec0548040abfa09bcde980086333bc0eb4132b60088dd20b6585e7fbe6279a0b037e7aa010460436e4dbeb80c1f6d7ce357981168293880f076cf12fc207398ecd4b3335ddb22e962a508eb860bef66987dbd564f7ecc1560e1dfdd611933ca1ce5f65f4877db9491768a66d493194b373731b4a584a1d1ab492041e12a1aecd1468944dc43df66dfb96078b9df7905e7dd1500e68bf6bdf9ffc2144c6988373d643d8770e7b8632bbd7c2ac3506565e3e94787e1ca75ac3a1f2a632c70a0476620658f5553b57b8d2300c2e067f368b2e689191bfc689787344faeded3ef1a5c4267c310df76848e35e576425b3112b136f3703f1b7038f9fbaaac8b42f8e92ffa4999def34630bc1c6ca6fbb2cc3fe33b0c0903f35a7b72687513590527455a56f4518ff89659cad650394d7abf207658699a67f20fbc13ef61a1f4bd6af50a1e3af513e2fec0c7d54d5334279595a4e8598d6296060869bb460d55103def756bf6b758c0c1de5eae6a0385c655556f4c979ef61e38035493ecda969e7bdee034b5bfdfaffcc11dfb0eafd6a132b28e18b62e1d9771528ef1481f83a49873f00927c0fe523740d308676fdce518f8dad293d31a0ea1ad12aaaa09736871fcfeed015dcfc54aaa603d0ee8756bfaa79f26d9bcf8b399d1da4aa0a88356a21295b35ec7ccc25927329be12b1a55592fd0a02ffaf5e13bdb221aed145e2f77eb45498ea76d695620bd8ac4e2137c9cb4ffafd09e58035bfdcae541415cd2a022807845b61b7b45d20d979c737cdb4147b8bff5b84f2d4df853acdf596a85d747955e2d4aa095a5c2f4b0833219afda4662359e29909a4d7e3f9a8e3ee2423aa4173ec34b95b994028d0626c2d2a9cef08fb53cefcf542d36fbf187552ee3dd16a573cd2147c0764bef5074c7c6a1d74ebbb405560a9f87e0183d5f8e975849d447e839809aa83dead091d0bedf231f54fb1a7443547601eacfa93ad9464d8559c1329c126a15325157d21eb161e8dd9a62cce269d96658bac3a5de23bc5a27815ac68dbaa656d6ea5d305d81a01bdc200641389f62dd3cc321bcd826b8a4e7bdf069fd0308cff3070822eb8271f4275313b5e88bd2ff9c60cb28caa0535f9f1ca7f3482c011d0f32d2eb9ddd4065aade0e5eca80e40a185a676cfa00e156841f4db6c94edc41e8875dc1f5c7f7a213f92de0d0445930a641827bcde4204a9df23328245bbd9734c70bfcbf335d11d9187cfd9b3ff2db497c22de82fe0f12af5ea18610fee01b3876eadf750698d77e0b6f621a773c88c21fb3c63c308633da4c5041bd543a1af496f1b06e319de92ef51027c861bab53a832e1e88a1375d878bea7fadccca9b5825773f37e6c35094e0cde4754b7e3ce4e77429ae231213feb0d440f74ec223059f71af0b64afd5ca5dc74a92e1842971957184b382060742af97fcc638be9d61eb1c30bcc5f3c3172e25bb8b03fbdbbbe760c429f53101a856db72297260110a97c9e0a4acd4b9158f609c58c81311df0bcc3d9e8de7acd64c14da8d9d03ce94f5b967056e8b522fae13587f9af008960384b6b4b67e9d0fbd219ab2370a7564fa4d38e9ad5ee8c2f84f8ebc4d4ca4d2601be68fee866b10b19f7a70d33d5a61c0a3ce7e7ad225ff670ea60ffd1e1d73e19833ccc8e4364d27b0a1c6c5195abc5e4c66349497ae34449eb93614be3057c7e83190f7044d82f32584b466d4d140fefae461c4ef2a06ab2d2173363f4d6952db476fe46bfac70a1e48037364ca6c64a8205f5c71264f673731fae64d05f292b65f7f0d301d6b7929e4ea5165fe6e9c59d60a313766e533adad5b338bc5baa45ff725549c5657934c5324bdcec86b256f79c68e8b903c72629fc16a81a3789b5b178963e84f1352bd99cb40c3b397512bd5e2b8158f8fc90a2a78f7baa0c7da20d20e51f9a8788d3b87c2dd430e9a7ad84ab9a44f53312bc78eb38180e89c47cfbf1e1f9dcce622ff6ca15a4784f663ffc12df555c9f174f07934585da73007765d0b0bbed78d9ed11955193de3e066401703ec2339574c669d8c50d9c3ec8f67c8c91e295a0eb2d54e12ef8bfaf764d5ac08c8ca529014772be2703f47a7ad124bd3377b5a42f17f863544475adbaaa37a9f6a869e50bd8ce752dfb778aef82eff71c5e52197b216552f76a5d63f568a1767e31919f144dc20a4fd8b2a528bf6761eb7afe8ed8c8f852e4190215b9c676aa32ccdcd715b63226bb62eee914cf0b9cf9aad45c2f34714302ca30c007d93981b7db4ae498e27f17970e9856dad735d234f4de87466bb25baa3074d8db477d3ec660978d92d0682b2f17631798f21b9b2c5ce2853b67421ef17fcf784834ac3a49ee49677e7fb60a0d00718c58645ab3e54249b82e65ec1b404148825503442f49cf479173d66c5055b8b449a7fba550bd83582a3d67a9a7120ce1589eb3e52b412970b4f9c263fd4758a872e014147eec609b08b7cdb4774f95f70b41c79167d5870d1e0c74580c385170dda0d2d53548f31a8d0287e941aceb1f758eadea70532343f56f1e663c3342c96a02ca11d7a450beb961d223e6093137f9515ea4f9afd0d155ce25bb206160ddb733834fa5b0154c1634f8e53f20c821b775de1fb63926dcf8a213cdd6f20fd0b01d381f64546b49760b4b2e643d6fe902db5a2bda8761875d721114e90ccefb28ffada56c5981028e9e8200b4bd66274c79a7a243182de7d292252bdc6555b26a118647fc903d303d027fa0491432854bcc519755e67fa47a988755ac901ecad5bea6870e00d9de714b5b25ad6f4482beba02abf203a6b6e92b432f2c401b05ae486a0becbc12a73a315e934095640fe1a17e7b4205bb9832754d8d5da34ca799f73122ccf73e9d82a22720330ce963107e59dfe58a19721628ad37fd4ec6be1b08e41c4ae705c27ef1648f38d29f08f17c53acc11309b59f044bbdc84464960dc5cf9b22eb4ef11a356409962da2709958f5900f48ee0b1271c57360c7274aad75b0fabc8e621fbc25f3825eb8fda249848b166f72155411d7ea710798340a84ef1326d045e38368c4c6fbedcd4b1fb729816b641d1dfa194c72ddfcde66f169d247694d607c26aba1feef7e2c9fc24be90f27c227e3f1b6614b00c018faa8620b7c08f23b68fa30fed312811357ffe1d820c2301bc4c29bea447546381f1329f69de8caabbc27deea71a35439301cd4f5aa0ab76ea3385f44fbec8807bb8d515ca64d45422e671dedfcb3f90244dfe4b42ce07a0eb2f728f34627a91e371eb6270a77b4e3df1b5657e9ac78506535ea12e52bc9928624e938f8cdcdeaea0fe08baccb55736731348326adc4f1b514737428a7a68dcdc887246a75df1319e8ccfc1112429dae6bc69a9befa2daa1d35305baa6f2f46fb780c86c358316251248ea25cbf89f3274ad971473c6fc97cf50760a9e5b114e5c0896a3c7b6202e59e770b25e8abe67a3090cbba914bb898894a0c3532638f72f36b6846c7862848a7ecd8129d6ed884c46c0583dce8d438d4016f4aadf99eedcf96ad91c513803449a9e7297e53053d80e07d074972efe330239c2da012272d3b67ce12f1843f726979073140b0d5228898ec1d8f8e1d0b839c6bd5d097f898a24c072898ceebd9020c72691929a654bd27af15534ef50f9ad5a9239b4a392c92b1d5d417040516ce56964f460668e5dfa7c40e682c123c914ef9df4ee0623a45f589e7dc8ec550f06dcaacd84ebea7b000b74139013a8203c52bba4595eae28abb187861f92ea679e1dc795c7eee5290e07c24248bfd037835b1a0b91c7faa7a5f69f5692fc84c965534529e7b771d1bee49c0287c6b955bd8cb842a7ef121ed142cf457b8525870aef3a363ff1074d2b735019a117fbc61e6f548507de379b96e36280a5b33f3eb94289dc379ffc82ece8b14c7f8df9b2a20a304a9bae7d99d3a9943d7cffe52f7df32454a56ef10411d8494d720d26b1fa3db02c38099517c471b2e630323e022285cc007a98af310a9da0b9ff51293ec6d05a6b9c131cbba5ac8e507f7f842e5c9e67f509d6200ed0f453fcd31cafdbd878859a5fdb9deadf6fc2bfbf78420dfa8816351e995d811067582f2f26ae92a85e253dfbb6b50c453c7ffeb516500926e0623fc4ff201c6b98dd5af49097fc609a38c440988352a97925cd05c16de46c8f39dca541a4552d4b208e1064e755d52cb081e300995a1aed5d9686520a136c41857791329ef6d36bbaf93ce077b1a34c24980d08908a657ccbcbad3b6e74e038e804af1532e01042bb5863deef7db1cf0f57f3bfc3b40c61d76e530458866a01b70f9fbd9ef3fe3cd15d7de25b160ba13bd4d1843fb0e48be15f198472dd60ec7722fa541d227fee1d47d9e748cea7a30b875cb12864a5c5d7846f819315ef72f3d5dfa3cf06c21517da32dfabc3b2adc59e5d13651411b77d69094c0f98be7855ed8de55483b1a385b28d9f8ee023a1a5bded627932dbd740585d5ee18f9d12b3b38769840ec425ce91852f2c022b81db6306593327556cd61ef46d4f370143014243cdd76c8c177bdfd690c3327b97b16e8b652778bd85dcae42a3e1717febb502d278bae2a7c21c8ab400188e1fd5a2bc90a457f67962eda6bc0e5a5159143865f119b8fd2387a0f274a44f33bfeed82129d4db895aa704755a266f291ef7d72146074707cb5cfcc5b6d397b191a202666536a6f753f803173a27080b41196bb0c064a6ee49175f2a5c954c709462cb6919e1dc85c6dc9b9c6d8218587924ea4ed73ecdf7dfcec95ef6ae0020dc79a7e79e038b483d4d2c784fadddbbb7ba0878cec16407bcd2c177379091c8ec88ee7a3048d1f3e83aca5f768333a0cfe17e65b673d8cbbf72fbc046b3c95bbaa9a0397307d22dc35be63ce12ffefe7cb531ab3c3fc5b0678ea1c28c43c773b225faa383241b3806da3639ebc78df2087b2ff0295fcf4b4c7a348ba06b78d84fd8fac30518183a4c88dabbb2cbcdbd4a24bd343afb601b4822904d4ed1a8e025dc202ee18ba82173dbd28fc690f2cfe2a577da5965c7089bac2f05e3303db2ec161c32cbc5334bb4ced789d7b03f1f0f8e4cfdccd794ead13a4d2b1a6dc58ad724afffc57b73436da34691d85e66469bb42cf6ce9197616cd4c17e1161e88c814ae505cbbe8639de3fc1c65cfbe144185fef2fcb922d84d26a84837b929d012cf3591ac11d139d115788c8e4efb021af7cfec2a4717f72a3fa799826bcdffcb4eed97cd5ba3d6110f1ebe8eab80a7ebcfb725cab74499b8b7e70284498247533102fca6d4aa1cffc56a21eacdc47e540517b508a79ba37ada7e0400fdacd730702df1ea5a4156f2b71a7c08dacda5f199aacc2afc668c8c631a64c97fefcdce0f9b321d0185285ed01b6df5f2dbaa689eedaf75609a25bf1dbe8b99af552cb763465b4ab0fb78e965f023c468f38f0f111c815df51c7c5313398f95b75df88b9a0d21a542c417f4b73014e793688155089731253f5f536070eb46a42169a68baf03871c59176723a78be42ce7a52be487797670cb9dbeb7e4fda518db37c64680df27820a673673a6953b72621f10aaf7228d45a5543912a062eb8a1be9b0457d64ea507751636d9ae68b2d39273998bc774d6442ff3e65a9b9255e009a37194c3d885a2555b57e4047789a0e692ee69bc7560cabdd791539786ce56c5449d6e593cacff74881ff59192726de64794d174de595f8697212ce58164a313e8b8acf6d55f62cb0e7e56bd8d7fdf37250cc59135c75425d8dd94557c6a9904f8c53d056b1c7674f111a4cd8715d0bcecb9746b2609cf7d944ac4bf6a1b73c4591b5ff4855e25c77b076daee9748e7853975043ee3d2c94e4af7a9a41c072404bc0beb2a09f14ae67af3b7f345c5a7700b37a1d08cf5d05063c354f74b71a7a702075f7425fe9236f0c2c4d2118228d81971a73a65057f85e284d3ada135cb7b084e7edd082343b96bb26ba4922172fad2d0e9891d89bdbb6aeb3a85e0f50f625e323799315d07516316655754e924e0d9e3db13856e8a6a57cf2193958e1092fe0cb0bd113a8a6b47191000c41803e04abb4a62583bdd9af9423e38f60b7356d76afdc293d7c8e7f70285de217c78303e3bbe23487e38de396b19ef38768b971f75647df0213bf07ac3cc497022da9b64272f1c045f227526b8332d573becfe3fe8adfc3043793fce2918d10afbe1ad8fa46788414bb95b9cf02149b136fe6cfef1b26dc2d7bc760dd5ac8ca6bb276e6b9ff5d054fa366ec7eda0a2387b9207b60ceb881517f631725813f8cd9fffcebca822ed6c66acaa1560db2d206ce4b7c709e37afb6d7aaed0522290ac45277064332407e035576786f4fa5f8e0971750dbad59b5695d1bc93ef0d88551620de2d13540568dec91c079f3749d266f30af533ac9d41476a1ed59f3ef6ae599179e7b35b300bcdf158567af141aad20de010152e1cf8841b40cc92f98427446113ed441c87079cf1a1aa4aa057a691ded8a3fa1842c45b657ab1294c5428cc9baf0d03bea580cfb8c8c98a25e118e3326a29d99e34e43df9fd91f31529d0778594077d934718b491b88401b2c4f43d3666f6495139cbeda8376bd3fc8af33a422d0b3323c9b89655b35502422ea895a4d30c5ffa05a6a09dabedcf705760ec78f17f4b86e2dea7ca12a0a2ffe6c6abbc627377fb05082531ebc033ca02fdecc0ac7c2bc73eacdb50a5f1d0aeec494315a47a3707210788890b7e09a0b993fb88edae6ae2648c3b6304c4afd7b9a7005156b530742484361dd18825f8a00991e2f1620ede7c43a2b37a2a7a25f0c909fff5cca2ba46239eed0420557bdc51ff648f5a94fca6266322041444cabd310c3a51154e145f72912754d923ce11f088842b2182027dbaec9186800f72432501678da3923afa1c25935e73ffd05300a5ac4626a0c263517388e13afc2b1d5dc38545ddc0f7e58c2c9d76b11008dc772d36d8bc22c9eb14f12ff94219015d8ee4cf6652","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
