<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"236787703066bd266804faa17cc8c287e60e33aecc0126c507d45dec24333de1bb958cf0a4d08cc4ca8c9f4fdb7d4465ab4b64dfe5f83854ad7856af5bc2e81b366a55edd9f247b5e6116ee4fe373f269bbaaedaa59b233f2ff92655d7380908e2df4d7886bb90f051c40094799365beabe871af051ff7cb672f851742aa96cdd2f4e1d77276d11713d6d75a83d00872172f41e1e5edfb60eef39740b451fb04074046bf62c69239c2bd4a554cc1fd01cf772d05e791b060a0f52bfa714f703b418e0316aad444e19348159dc54b5c60d0915592e88c8db39dd27542af850f08f73055780b8596737943a8e5198bd12ec17e6a9c3ec16c7b1e531f84df6a4f1bd374ac60dfb76395440a97f518ab538d285d62a58f0b92411d34cdfc723edb9d24e8efb753a2e5ef718cd1068be301d9300a1760effb631bf31c022e1c11e80bcbb2e41b0d11861ee14ac7e326a15d6bbad0205e70dd71d919a285c054e02cc1f4fda3383539e6c3e98fe631eb02e18123b2795c4bd5e955c003ec0d70f9f6638de137e2d366e4f8d5bc31a1f0e0551934f7a6905958cefab54654065a86cffaec178fb3ab7201f6987d78c130df2911301a39b62747c6513dc9e3acc0c08bd1fd7e337ecb4c7a49f4d28a3781ead6fd7ff53f6131852763cbf619c51e928413d563b283b4598527ca9bf854b71e456b9491bc396ff0bfcfc83cc27123e12d17b0cf63781f2ccff2d2fa8a3feb40c6dcf4483f58b9f71359bd63ac8afab810bcf005ef80b9f8e78ef6109b4711708d029a769f4aeb18bd7ce088c989a530bcd8a326e9a9f3dcf345bcf3026019c5c05f710718c59aa559a20a812e172323e867ad3f53a39c1088649ec96e6ff30d083a5bd4ce4f76ecf8297f1d4863819670239afeb82d0f21c1c6f4836d93ec89e5c02fad5884065944c9474c2935bbe5a2034d9da194182bf32015a451c3d938a7fe52c4f5d64392fccedf9c379056177ab9cd40895bc5a840fbaa8ed6ca8fb72c12566b7c79e01cb41179519e192b9f4e2184b291bbad775b693443111bd6821a034ae341d1b5fd6bea3c2f1ee2f1e2b61710f7190bbecec78d2f9ee3ad1b5226add5bcfea2560e71b5badf66b0f1356c952a709f5e98f736786872ddbb1540e0e8e2591cfa89e8f6d9485d8d60d30142bfa4c30379b54153e3c61bfc77ca789cd13ca8862301bf0a841844176c89a5328f74ea60eac82e13f2a69bc306fa6d56c54969133fd30e084fd753f3ac81f1c9972fd8a091022a5730699de6ffb881bc2898e9e01ed2bac976415924278ad96e6392de927fd53ddf6af650111744838a42c1c69d7ba60241177e4c9be681443a3295c31f889d2ebeb811cd42ee1e426f2909cd7ec239687e5c296bd349d2ca2defb230d434460b81db46a420936762c6e321d51f87b76b1eabf9bf61f0bf28c4a7143515bbe82336950a2b91e49c5e3e56149b857db400b5681d38a90c2ef2b2d0f10637375e540cdbb6bbd3f86ca421fabd916f46a8a618f08f7227ae136da608a18c8387ef683d50adf50cec6a1d9ddc5e756442ae5c35b98a0634a9ae49fddc633a290241fafd10756b7ec63c08285a7acf90ff60c828190ee807cfb060fd1c6c7a5bc4bfa182b6d5171b8b898ead3d02a1b95d4336ce4482fc8b0263bcae90ac5ec0a58baaa61c54173527933a77ac572b678049b9ab58c4dc03bb7fe46ed9c8e4d81f09c3844f3b2ee7fa9e5c6892ef30a8f28afb526e3c2c93f49c78fd72a9eb686106084955fed600cbca75274489668d871c0106850efb950dc88f4ee4e61b5880de80ae3abee095034e987ae0c5ce45d8badf4db3d6544e8740d4147e5ffb87e33f1c1b44dc0674e6553efb6fccbeca2ab11dae95bf60fbf4c54b93d690e842c3c76310273c8778add11739fc37e5b15683804d4f57b539261a476ba6d2c0ae4c6b52e98c579f3b74439c296186f26dc1c72b82171885440d1d1452e763c56d5ae8da67f95631af7a395ba4db578b646d96fb6fe27bf1c3070d9cd5e57a5629024107aba7f7115ad17eba08a884fb70d437acbb331de6c88c8b7eb16a8f403d586547a86cf3c527d08e2bc0b1ac95b7b839739f60e4c0f876e925e8daa83d064d877b0228bfab0581535ed1a6db48f9031b5a3d3ef2dcc1492f22fbd82e9f7799135785e19bfffaa91abacd4a6897eeba61b6b1ee315804e7d5650966124c476a28ff0c93434550ea6382c734b24b0326715b886665911c179de540adbf14f534567d4e5b7425f6ecc7c8bc44f6da5951c4bf15a4e6e1a24ed05743eed7a2c504ab57e8bfc762725e7af000cbbf3c0861f61815267b6b515dfc8efba95dc809fdcf4be9b8d4e7683ef34bf3976b352d13fae09b1e99f7ce6676249b2de29d9efddc08a326ed1f9b1b856ea7ad75a3a26228849a7f094b13fae13a62127a1d2869ccec95d95c0be0e24daeef97e30ee1fb1303cb11baea826e74730589db0071ece05ec876f8357fd18e6d8071e6c37a19f9dcfd88ab39f00c41c5d9372a9277adff6758adbd79b29769d72c70ccd9a41e0e3f88d92cf35410cb042f784262f4af2f90bc28aa7288fd93812c34e1bb4abfe736249d729a875c651f8c7c3439ee3831c521f43b0679fe0b4ffd5e6249da5bb6a60a2e47de42c0d576ea4c49c22be0836bb4762feda78cde647d7843f80cd17408fc98c7b27ba8670f2da7c61af826ffdc4439e442036101b2f338794b6e9f32ea62864120d68fb75c2553eb2ca259a733a374bc745bf0d54626e65348e549cce54fdaebee7d5039167bdb6560b75844d62cdd195af4bff2161bae29972ef1f493b6ddcdec1621f8422b9e888932e1308f57609e939384ccf3cf253927e4ae4f1f3878bd80dd922e83a5424d13e25450cd57e8f1ca596ffd0036479407421513350bf9e8c55d5dcfafe3c521de4b1e4857d4c63ad47cb0d6f5197d16644fe8396fc3e96f2c8ccca8d34a9bfcbba40ddbca2fbf09a5e721410d877f65f233527ec4db9189f68800cf2f7677af81fed7ca470c663ec34e599c22ead7599ced74748cfaded1c5cf8f95f95a34f18b2cb29fb38b4130312b740ccf063d864f8df1448b567dfdea6fb0a0fc12872da8babf68a6985f717ee4f66747f6f3b402271210c66f6099b754b6ca9427e40dfca8d3090f4e2c5246a7d752d9092cafe30cbaa248d0e363e944dfdd2c98460a7178850580952f94dfda8c8e30f3ad213fd26bc217cf9d64a2ae385354c29dbef3b6e2467fdb03ef03480263685d9afc565f36e2e38da48fe559e5914c20eca767324b7560cfc2804a43931e7d57658874009d755cfc80187ad1e5473d882a186310983c7829d3355c17239dc395a1e48eab796767257fa447f606f72498f8dbba41b1dfd235c1bdc0d6311505a636ce3b0a2f479132454106c7ee627ae575e3aa4e6a47950a4ad30d26c6fc09a938a44316d0f83ad3da034d181ce0a9da50ced606a85b05407f7900b4dac64598c7023d95a0df20938c8b5316aa4b4e70b86e8898d000abf4634911508e0bb7e92aa1a938f17a56c96eff00cdfaf61fcb776d7d8dd1603de6804e8f073c2c66759866e203ba8c746f9dde38ecbeaa6bba2ecc5521ba0b93804254b7b20099c8eb0282b218e1acf5b75b72fce9c53d5833c32093858a4a3f923e136a26b251a53e41a6f2ae81c94586514467054cb983c1bd8b0bcd4cdaea4814461de448084a83cfd8f7007f4cf690aab9e54c262ea9d8c225384cfbccd303be8b5b954061760289640244d262a88c8367029bc68bb749bff55eabf8e47a09259e618e5fdaaa7dad00d143d4d37a517b2904ec1dfa780202057059519df45eed205cfc6fe338896b7cb942f497f9db56e6f9893097f24e68350730f0f1e8b0d3df15540eb5808faad6431199d1f60baed11c2e26f542b17685614e671021fbc6785c7a3ce1c88ea4479036e451bd40220f2afc0fcab39220df7f6f58533b9993aa40a751112320a542f6b4473feff7ea75d43b0e6095d80e8d32bf0dea2e250e9e913245c3f75060266492c59b07ab7823719d5865957f8d77ac904ac2c542692bbee90cc443effd96eca11195c1db3e5bf3e9ddf2df7f147ef77b1f73fff030148b5df54793fcefe5488574cbc1cbd110c8a7c4b259229f230cddfb759d781aa71f00422d73d56e6714718ec204a82079d14e0a1f9e7239d0f80fb3fffa782c30a3b37fc40719e9f6ede0966df2148a04400369a3250de899240eaa218c61cfca0aededfa776af50e693280099b30201711e66a8ef08513c06a3eed34c037717f8104ab6edb1fd89164c291928a7911d56ca1ed7567aabc80178870363c2c74d4afd251828ad0ef87923c95bacc9303365fae104e880b004f7c2a8216471aa6b7fbe4e1bb669094e084555459005355b3a4fef88b83cb8ad6a7b13efb1ab707bba69eca5ed5e8a42af11e1d7237569a403f1f2f6524aa3f3ef8e53ccda3a322dbaef60aeb345781bdec2c60ed5badd8f50549b1b9c9621543ebf17e095896ca059e13658ec4dff6c102c8cb9efb3ab85b93151bd457a42c06e7ed54193f18ccb848d8dab673abef522e6c9e9432d0c60d12976834837fe2f7bc29940db5662b18f8ebc5986e6bde208294cadc05cbe17627d7f0ed775a0bbf6ac92a46fc01f2e41c029348129ca4a1922ec80d7ca8393b6a764f5c9d36366d3a822ba255da61ceb0839c0f044de2bac19fcace593db3cb1ea5bc1efd73f24f4cac65856031661052db25c2a0d60fbc16ee8d7cc245563cd57c12ad8c8def02666abe8dbf5d7d1565ea21650ffe1ac622e0f5c197caa5ed0bc12eef9a8ed2edcb7cba2733744ca39771f09c91c33467357e6a82707ea4641b5acc270ee0f56df02a4816806cfc9f6af2d6bf36db2644172617f8ae7acaa853812c7b7717820608c9984caa9c675fd8bde1f0350a2b139b6fdf6d876b487a72f5fb3c363dd0db076ad1812f035ac338f1881a68a78ea31d4e9d285d33d3582716a048024ccf375bea1eae4bae2dbc916b6c3769501b025d07b3c4bea1d6984be6915f46b785369b2327b142c09bdc31df7b3aa9c229d9e1a39f7a91615f4d997fd13a11be7486d22fec5f962a5503590d8622ada4b58286020a1f30de0399d6d7d3b7b948eeb1231ef683d82946eb958314dbc968c0b78889c4a44908107b2d452e2ace5ae313313fd488718593e1299019702ce9b40bb9c24ce9e6446293b2399bd27ed2a6285bc8fc717a2f5083015fb5c5d60a0ae0bfae9c88f1e6e428b2ba594fd6e53f1d611e403838cc3c725a2f5471acd82d42cea9be258d85a591b9172e94cd45d72e7260196c7a83890071205073681d08cd65b9099a2ea68b30ffad06ccf6498d45451db57aa503ff3a08c09c2dee4e2aaec0840c693c8a5182151b55596c743c3143d413458c45540046c1b6e26f49e39dbf71550373e61a1e0d1c4dce9648cd24b97e54107e1ff6e50d5f91eac3c9ddee75949b42acbaf1f54fc3b96e75133932466a0b3c9e9ac7cdfca28723dda3087de40a863790cefd5cebc80414ce816686b28157d39f623e0d1f0f08a557552afe4d1a230f8b003cc64d94e2fb26ec50546c022cc8be5142cd4a769caf3a1fef44fb162cb5b1a9d840a2599b807a1efc43d8273ec392292e83da34513ed6fec5137a1ab71180a20027a44c2e6f28da1a2e9eca34075779637c4735c77f9fdb60d15e399e3dd1a9ffc53e7b3ae0fd83f6ab02d7288c521d14dc9791aadfea4bba143eac26cb1527cdf12c0df9d769cb2587ccfd9f4660a2200456a0d2b5f87c292d33d9ee8042fcfb6b5c711c004ba41e68aa31128eb844a8272cb26881e948279285871cf101573dabded7e6ddb6bc34a13f49df6cade01454c666bfbaba8e1d3ead4392f775d608bab474640d493bbadf86a3a06f1d6b5bab3c0b6bffae6783c96391f4b9ff58e4d71b32802b9372e785b5df27af1e02df6ac21f25311863cc735f7a34fe5ee70205f46f9ae7290c82be190bb9ea052f809d34be7828441d15d5475acd33ac0279589e580df851b8804526d3fd5cbec1a3cd24d8da8af65d2f6646e4c9476b710c7c032bca6a52d2ae42ef985b2c2d7149e19de3c2ace1ce69c714d5b598d24f84c900e297f5a048c658e88c6f24cdf6cb589b04deb28520ab74a9a50c937c50b2b080e4117f249dbce909b102a522a6e28d0084ca6915b3b0ed0e236eb6251b2de30f36a004e90324465b3260b37d1850897f8acc66a16743052b7f0d5139a35fd7e68ffab9bb885dd143a38a122f25cf3403b65d9d04ead572de51b53de29ad3d11873da4045b49a298f12e17712606141c96767f062fa987869c5b3b0c06837fc810e6c8e9c857f8cb9de70209af79fdca78fa128df6311894833c6396815efdcd6cf74a0334d817114f2a54693d23504aa9af6271a964defde49be1bfb2420e4dedb82b2a68d8310a658d5eda6b11fa6da3ad84caeba48d3e31a7ae8b2e3ceb4dd6e6bd62e44fbabd3ee671300656e4a1c6173c3bcc263a98a84a100faa6b7005520269fcc73c68b87d3576e6b8d4df13a586ec971cc1bade4356200d59bcf0ac164a9947251fa194fb220bb9e6d16bb4aada09d4244da7ee95b7a625bd1a4277be21ceec0ad69e30f0ed1354f83358fe0cc68290ecdb4d4aae2a551f9773a6b9176813801671afaec52b5ea0aec081ec5e2473333734c9a195e7bd5a68eea2b5d05d23d6a855c287c8b7ddcaab7ddff8eebef8527c606eb2845b27066d106c682a79533569122d6a89c460a9a83cf5ba7c43dad870526e2e1ad7283b85674a99b142781e5309f7e8cddadd3253687139ba21e7f56f090082bbda3e1c98323d3ece8fcb4a509797b292631337746bb800e05f75681fbe962c7aaf4d1597c01e97e57f6b0a8812762df805668bf48a5008cd07d7289339ff6b69ae504a8b03d44b78f57013bc54ef9fc18899b91357b523558c31b445e561a7c8f421469cdfffe7c69eeff41f9ae4ba175be31c499902901ea01731c4ca71be6f82b7b1a0578bb2a9179ffe611db5e40059cef519463a7af98de7eb04476b347e8058736cf96167d6d5b526d2ef0c80dc479df66c5c99cd3fd5761678306d7ca9f07fb9f5925b5830afe3b6c38455d6dba02662cb504dea06a5bed449330c809864caff1fe8438176eb9deb0304e4c703a1a02dbbada12f3d1f4a718b5c34d42b836e663d6920fef9681da99f39cb3370d6526f0290eb987439ed1acd1068e41a8dce56b28fd8093210a169cec1a9ee618bcf84d8480c2a5a85ff3f548b61a364e8029a709f0b6007aa83978c72f9be33fdce527a3f4a090a94b3620b3e5e9c44104fc01986043dbde9103a712156edd4be2a7eefa0a04865fed3c603c5c1c29d004b526e6897444f0733619600fac3395bf05369cc4a922ea5a1c266aa0288e48712841299f44eb9d02d32b8eed445556ce0ea2a2db453aa4181afe83cb85666d22f7aaddca2469f23e718d90cb7fb0707b629378ca6b2d156e33c949f2d137ef061ffd992b155429beea8e0c390ce13b6375875984cab61c725f2968649701312b5d68783e536950beecbbf5c5235c1372d5c4b8c468594f138d5773d77e3f1dcddb389f700e6c5e7090c87f491557459957ae285d528aa723d05ccc1b494919a8bea61a9a2cf8cfce4d0f942af3fcc6f840c80846bcda070afa386a8712fefe51cadd663faf6d38f6e01adc341dbd8d087780f951c33dc53433f12ecaebe5c6f63a6e1232024220af0e4d0744da3175a64042db357f69143fd2457f9e11a2c1911a6fd803d8c54716133d7c726ce2f5a36bd643629da55810065a367167c825c53e9139eaba7793eeb8b954f315ba58fa4f47fb0eb11015753281d2bf6d1deda0c2f12ce48ed3e160b87f9be84e97063c1a75a8789e261f72937f47564bdd93c6743f2719bce2793d2d8f18c8a46faaeb9624b7cf6876e85507d4fb52684985aba828d9d29b7860266baf59346ccf60cddb4c20edf247b6a10e801163999dff72bee1e1bf16a926230d01f99086a899eb67b62f62dbf0de23233ca6be2e7b8d0764eb0d998192b5d817df6571e4e087f446f21b07c2fcdacb9f1e286b23a5658b823603d65e4a808842e03549871061e58f81adaad803ad2cac6957f28dd6dc0e95ad0342e25350dcba7b9a009b542135213cb978f6517b02918340d678822677fd1a1964d269cb8706e5c46b6161cb7b387ce5ecc2f3025b47cba9978276ffd567b28ed3909b699a6a02160051714182abc521978b7f21cf0a7d4b401c214ebf262e877b115b26b7c679c6629a5975aa5d2ea4deae23947b54092d42682397afe405fc77b6a7faba7ec070a2aea58ac8425b8e392cc975676641fe0956882116be629349723ced67455574bdb13ef2d4e7725ad9a6bc4d02f0c7b3d289dfdbf29da07b54f6cb0cefd95a59790f975411b2df1088c33a7ec35291723f2666cd95c29df256a95cf5a4fa98e70cf5d2d6b0a3af0876a515de4b942ac898f9ea0cccbf5130e83a75f82a079d21509d5ee98c4020dfefe1074460949b29708944536db51b8c61650721c84720935d1ac179d7a854a49f12ed6142f5cc729516d461ad0fcaabb6d52160f75408468ed21936adab3796ea94e5d61430abecb216a123d1b11032d5bcf0b68c92bc808d2536aba97fb21b0fd54fe637846c81f7ff8fc9807859f3c84ef9daffdafe40f3d660127eac0005ef5de60c55e851a72eeada7c4bb70dd8ae42fe47fc5f7958927c7094a96f6f2ab35a7e2ce43d4213025149f9b72483ad469249e38e6391b96ea7c5d3ad2d8fef550a76e4cff958e5e6444ac876fff4202b85c8adaba370dd6241ed624f2784ee0437cbd5209bd69128e2aaf31ec13b83f820bc68b738249736f6fcaf70a58526bf3ee866fface6d8f34a560f0fe3489bf2b4481dd86ea768bf2b6acd6687f2fe3829c21b7a0eaa717e77debb6ab2dc654950947788a39fee9599fbbd457dbc94e65c19fd6423be2467a1393ecb0c6ea91c200396f16da304211b12d973ee8da848a8b9978abcf651e272b9167b78da824dfec709c3e644f8f2fb0b3a404def4d1cb71f3b91a0842d25b255ab160ab018fae49556e6a9840aff3db135e504a0a97fbcdd22387a6583db8c8ff612831dde12a28b51d55bc580da40d0b3c04b00ae85cd0862c28fad7226a99c631ec602da0ee8a127f636abe745dd1dceeef77a307d360d98e5010a3d26119735c151b2ff4058e5a0986200141013eb852383fd17a40274b7803e3442378dbb3c6805ed992e9eba82cbf1224084fb07424904eebb3b5fd2cdf4db96d216bac256ab2c5eb81c5f0b104b94dd672e57f892b6d83aeac003277f2c4cd84243d24c95213d1e5de7ef3811e91bd22a59f9e4153b04cd65c7ee8c394be15406bcac26131f38af9103433aef0fe27ff905567c6ce45c9d3fe4006ee5a02f2f1d8099fbcada563d9dbc1c61c10fc8d56b099e0a40cdfeb524115cda6af0dc148b17b37deec9878bbdb6f1ad684539d2f7ef192f443e609e6e18eab16f7e24d44dcc44a632c7a89eaa15ffcf6e0d4644ab1cdd23938854ca59fd4fe24bba94350cb7cc9da1640b00dd614e6b3188f732bd50931f44ebb0a19ab190c50ed4f0625523ba074a7b212b4da5bf95fcffcee5d3e50ac6edc8ceca72da079c4ed77d9c08ca1ff018bcb8dd4fce228c764f2424b503a443e2db8b4238f987d23c05dfea4b3beaf6476cf5b56553f8d678c1fb066c5bf8fb493dca74c82d26954f174b3580ff051e08759812c8270ac8df736bc97b7a34ae0b4cbc0b2b6f58b500dd4d91d5e99001b4a1277437e325b55aadc2bd8402bdfeef0e83f098f00870791ac82da0896425397abc1870f12ef98a5915ce35cdc50100a8af4f71361e748f3b8638d8276af060913930f162d3d03c774904b27f1f1275c0fda109787bbe940d7ede195075db5a01cebbcb959d9459201ccdf6574f7689ce57bd540b0223fa91ab02a0c81b4407b36a4d5408eb40b2ff1068144ed10073f5ee4821f1ad5d8327e209ac235950c82826385ddc03713915a6450b6dc48543a986ce13e800ae12bb1357838699b0d3d01b17e5f6efc5e7aa67828c3c3aed454506affae60c0c0b156c3e54770ee4dc83bdd3edc9e2e1832fe30779b7c5bba73f691555b1b72008082978281ee207794377e848d098bb89cb463f2008a4b45adc38684e03af20d8cda9c692513f3fde7004030167005e5639296beb6b4602dab437f5683bb4e79c4769a3fb26530a1f2bf99c028408aa92103b8de6be32e6477438557c2aebab3b2c9fbac7cc3e33f5e6759fcc1c361a2c4fe537663507370d99667bf3acf8f41bd9cc0b421376fd385ead7f3577439ec5771b5c247e423d1c66e52eb71fc0d68cae046cf0d6b5f348dce435808993ea41e68908461b75bee2c7c28b001d0a4906efd6ffef3fdd8a071f1508a81af3d0529ee7ee63f8aeabf47b73509fedce7c9c3fe5937a46f3aebf136e372fd5fc6445def7d514619cb00c44a1566389f81713586880cfada0799ac4f514201b9a0c1697ac6378c27f2cce464a7dbb5350cc2051f91b6fc5c08723d367ca8635f8355436e84c1f4544a9961a876825d455f37695d766d2c891358fe8fc262040bc1fb0b23db3d0d4402d49058e9de16ef24e2e6d3606a10efa07c052eca94c6814524ed8b06f71395131fb170b20c30a4a3772e7ab48d9d02981b5757c8cc426894d1b0836a9cc89d1a6de80024fad2eeeb2b4f60f81c4ef07fc1d198f525196be584db53c4b8f3f691cf7e129a08d8dc7a651665b50dc5170101730c6f5d4cfbe0afaf1c28ee2e896e59cf1d1d7cc4197522e2a931baab63df21902bcf9ff71ed8fed1df3fc57798276eb420b360725bf180111b0f36cba43c7de925635ec0df1164998af7bd8b443d3190a1de4f6f87f41e603899390e9ac7427f3735535920cd41e342eede19092aab19e51d5ed0d4279fb557b8be524584c524d34a440d963b49c6dbabdc32af2c4c04bc9dce03b3592438623afd9fd3c8c59f02a95cfd4bf1528e5eabcbc91d2af3476c21be5437282fef8d61d7feda9f9807147bf627f8c5fc871d880d47159bf96490b5259b199bb8807b837f3f131f4cdb0e52c9c87d9d016b3188ba54f78c9ba5c89264536b1d5dd8c2569748cc1bb17f7e7ce92697a6f28330ff2ed73e9beda051ee1582adc3bfa06930a4978220387fbe731078049f9f681b7513301bc6e70708d369b9c98ebd95e8c300228f7cbb6d59f044e316aecf13bb223bab12cb02df1ba954437742ae3a6ff41960bf0816836ad4d02998075a2222ee0ff545cbc1224662b7a541b5e2d18130af214b9296a23b481a8334e38a128799cd004efef2ad199553ae2614fbdc4af001b11a77bca262ddaff6c31eeb37c6ff538dd240953f1fa4dd519d7ce8b8ffadf83bdaf098f182a24c49f9f61851536775795aba86086718f5c044cdbc8aff545b9a1a8c2e49b6af473bab22c4521a2435fbc69086d323ac50ae5d08b58b5210d0713f244a228d0a71e3eb15352caf6a01b38bcc5b33572b62290b850a391e2aa23dfdf61ffaab3d36beae5c471bb8b522b508194ea337d257601c76a69aa7d80b0129b95ba8d733a61d3cdd17be7876b98b54f41dcdd552a65856eb775701ed1c0bbc3a415a0d6911189ea73b5459436cb79faca66a2fd467ad929a979a1246931de4be1266bd1f87d25863d6eae3d06ccd4019d8b6a7214137bcda20763a22604e932224b8bae17ed437a38ecd193d0b7c5dd852c1142de93aacc19edb6a7f1c42c912cc7fc2bba06ae870a90bdbc0284c845cf33844154f8dab19f0084f955159f1ad4ac5b78f8b6f0cba3cb689ed5c1a983c109985a2ebcc40149c1b6e01a6323ee5edab07dd8e88a6cf7112c52ae6d1659a4ca220838eaa85ae6c62e9fba13751ed2de44a233911ea72f30e4e558e3e4856b6f33e09dc4cc50364ea92d99ca3b0591fe69dc3d0f4d5df5c318b9639877c187d0d7b4a788c1944eafa7a0470bccaa723ee9ec1dea4c8e5a1e9dd0bcfa768a15601d7a0b81168c9dc2a3b80f830bd81c5335d59ac31f89e868561c583e6ee3fb93e24a8705ed6afef14934e313c3c82e61083194c51b6ee0a726b526a79f291850789e9e6688d5fe8000257358ef100521b1657fcf765871e0e7f2c326f0a16301e4359371b3f58845ff64e052e6fb2b7e6b0f4e0cc5a43d6e5a8cdb0e2773ad669c372b929fdeb209d2977c25f8cd9c61c12c5715dcdd2273d80effad25f78d3ffced16f0b84b8dff8c0ecf7a04f2abaca612c148f01e0d2aa8f962bcb9897f9be3a919d7ee614968e2adc5bf31e5c66616f8f0c92b2c48cf7a1ce6ef6619452f74979a035dbc47006b94ecd148cefe21341cb8b0e7b42f2f4714b6ee232f337c97f1cefd38beb8676c6cf38d355c868afb6d85cb58330c529bb9a518a9a227c0b1bc6683ef1faf5cc7bb4c1d285085dd82163a201e5090d3b2bc0f9db61fa3bbc12c8b04dca0d1ac81732524849c2e5b654471274bbde76ae42e719d34365d3a2e1d510efd45953d1e509d62810d2be223d9dccc67df2e73c460fe89fc9f3d279f6980a68c0befb5cab829c1523b4635dafd6710284325c7c38f4c7b066083489e6b1bcd28643c142e93795955be05bcc2aa587fd8c933067aa2bbc8859bbcf011c3b11ac1021c7fbb9307548ff03df60d4481b2b5a2adc3883dc308b8f4df204f9491047f2df1104283fabbc918b8e471e3e60f79f3bf3ee5bdc1d04ba04962cee0b3a522af3df1e8ddce6b7e10e7ef933b474f0092857f11b598dfcfe0a61fd2aa73df28c6c6f13502b804cf8ce1ac60bae83ed408f15b98a278013216a1ec405a05ed880ee6ee0a5fa6bf58380a67f3d6a4442ad73e91951aa71695c37c895d216b0a8e07240be0cf48114b282bba0201b53a6a5cf1bcf7de7322f9365735c16184ed30a3f7962e2e2b149a28d1770285799aab36320c4af2657f651c330e5711fe517230f7e5916e584969262e96ea9f06d2576ab2c82b7a34876435996afff59e9197ed04af93d341770e8e4ecf9b0ec87c451e2fc390d0a7aa37617af5d778d4c34ebebe97195e5c66be3bc05c3caed53cc198a2d3ed2b045990c2ec5fd36925e1d9110da3dd9e0fec4c538be674fdc97d34b24cb9a7c9a79ca5f6a68bbd2a344db1506f1cb9df61fbf853eccf547b4f43893309db3034577b444c288ed349b79aac3de088888a7bf413add8b15f05e2e6d9305eb173a305f586f06b85c12bd8cdd5bab67f43fe49f88a69a5760f7c96a902f64c59bc5fe31adce29e76f650af50925b9bb91f8a1ef572c4f1c86373959120e86e94808b37e6a2bcb9425c8089479c54e92a7d4b191a9c5ed4b802991de667f17acd890f59f77f25ffe2012e7f67de789ee8f0cc1e285804838a362cced0c8a7560c7467103d893ef175ab40d587313d1feaaac49d938306030362c6ece7980277c6d6be33037af8e2c8728ee1364a4180e0f11d8f0845fa4faef722917d0b12e0914c1bab0d1351cea1a1e3aa76ffc4d9db6daaea8ecf9ced6ae07a4db1497224a9c6188b06ddb2c8ddab28a3480c293889ab9b526d7756352c75ed4dd2b080aaff94e3633f36b0282d0100f437ea65d34a4091f852bb9f9213b50a0ccd3a9446a7648fed1079b86ed9597bc7d094eb833e1c103cff42123f877c41fc202d1de7e2b32bfc3b4ce2a2cfb6bb0ff1137751154ee6d4fab2a46e80d0e939effa51acc9b36265226ae77f55c98647c8421cc7923989b4a64987b8a3308533771cee4272a1c9f0940dfd83793de2c4de62736a9cfffcec1d79222eaa631770393e62e42171cfd169d0d7398f6d74b2837455a3772ed50c0a204030fc689ac39fc3650f68ae0180f7864ef1a62a8284e9ebfbcd15a2b4bed4010989ba8dab93b64e04a1fe69146f4575b96391e883c1edee3e8957129cede59d739a18904177b0fc4ca0a105a7ad1ff305365bd272c0bcbc35528fc9ef068b5641dcd6f36998c13244d92ec187d11340a5bfa50baa2284bd903cc01ec512306c36e5299215189853bffa79dc5214c2e0ce22bd23f3d3b593be1e7f23de841cec0b1fde214bb011e2aa0c6e65e8fa585c3f464b3c08c2e4b7db4e67a75beaab5e456915dd5a9f1d9f22d3b9f37893d6ddeda070a7d289db06541bed0237e7bd43126f132476dc3c83d078dcf9edb8c032755d601c87b47c09309d3c228f782f85c1a445a3657203bbe7fb70e5e19077e73ed0cb752945b09aeb36eac307ee3ce8c9281450af802eae5e0103de96de6e3b9d2509f1ffd90436346d6bb4f474a3bcba16892a335d196674b8182d66afef0f08ec07c715bb95332020c63403fa1dada78d48016f6723239caab06e3246c03cd6e388e83cf3809420978cdaa8cc1990d41dcb1169533824b65e61b3776233d8ab266298540c2b01f29d15ddf4e8f2ec43522df52228be3338a2d37da8358c023acdceead28559801aa0b10224c2ca110a69013466a6ac594a84916cc1f2c0920cf09b68389d1d0443be691efeb532ccdcdcab01b0b7e25d76c0cfaebe7f1b8dd1e60809005bf4b952b52060d04eaeaab9d278b5427c754ee3217539c73c2655b521c61fde984382baa0052e88b483d3ff43827dba9ee318a6d1d8255e6d32e3a6e259f090cc6a64a7f486a2116f939bfcda74c81e00224b4ff6ddefbe954a2c2f62fbbd1d52e1b168f1b6553b1bef387d822bc4f685c1018a020d49488692f20dad915e620c7b84166e2ab2524a62062ecee54d21bee71c4bf7a9fc55a2ebd6ac5249f67dafe7f760dbfb5c1d74967dda36c9f67fd90f99af9253b76f1f13a66c77b1b81c07ee84d7ec27b3917c3c52c55018ba319d1ad3f391de44c63348250f25af89f2e3b8d47496f43da0d1af846dff8c371b8c032bdd67295d8cad4370cfc789a83842aa160c902d8c7ff62ceece2defbe8eafea764881a26ac217324cf2e44cce8c164dbfd762d313dbe5c85ea01c97a1d14f6b3d8f63dc569d9f8c4a845639ed0a45e094cafe67ca400620d8cdaaf75527153af5ed4681c581a378b3dd86ae3511f3ca5cef69dbe173798e4890ae5b548ca80ea325cc58be27242408160abfc32b5dbed63cd03cdb69c9cf1295aa1fe0e01122cf51ab165165e5bdc94704276b47d22598cb418a2b5ba1ac63870a09ebe721f5d2bda42efc8cd53ec4f26c38bd5a9bd66da803a82752c82d85948c5e24178b7ed2756397bf8f4fdb805a9c2cc33ba7dc41c4446f0b7a88e20064fff07523f388adcc32196076b990002098979cbf30f4f2087a8f16d6ea240e0346dd42c03cc12f84ecbc19c898141420bbe2fceabf65a6202ffeb879aff1738aa70660952dd1968fa089dc16416af52287fe48ef1ad6ff9dff348a5605f01bc5c009fc55b5fdf2a963843b0f0b44834ed1c8e151ceb32a8a5ed09052194fd6dbf1d555fca69dcedf4bd005204b4e652144461f4cdbd31e3fbc7c39cbb5cc330ef6fe13b9da75da3b28c0aba36b50e89947cf315d251690cea6ee7afd7eaa8e545048fb264253f7e883cd2f8d6647ed8743be4335a040e4bca7e4313b35548d57b8d27db7681e97a3b00511c0835426512855bb916cc368869a6fa5d92e712f6ff765f9d2d9d97134dae787ae3cf2d3f09f090a6087b2e15b2ad602f7364f2ffa393e7fbe1ed4fe2044eb0819102c25dc68db61d9f6fda0e5e0feb5d98a773faa2c7cccef04f4f86c004c0381e0b82440e42de79658dd8724006bf3f320fc943a8085151d370a2ca141c2cb124ec2f255c1c5c9959f9c0de971dde3794eddb8319be4924e537e0c0263914d70eef58a5bf5a45371cb83fbbc500e3b939919982f5fca68d77fa8a0d6d5102ce5ff2e6878bf0d061dcbd9a563c594ed814f195c31bbcaf7a27f77034d645696454af1784d959550b224fc0c47e238c51d72edda4799e4e0cdd6911eb02fb37f824ec12e926261a881cb2b5e1e24925b81ad072d803afea8bbbf7e7872a708237da823893573788e8664c5e56c12e1be2f70c751040b738af77e410a4ebe5cac61491ab6672803d67aafa1475b57a59f45ec659ed8edc0e1918d900f0229ef11baba4bebcffa12f96d4a41057a084b5961fe10b7d6a55a312e755e71e4a6fc5cc4137c1c8b7a48c5be2357df2f904e08a591a4f05eaed6a62048cb8c9ef96d7d7eafb6befbe973522bfdc992e646640b93ef8b6038b2092dd5497e8d8a0c5c0be07bac2868ae95ee646b462f50acaff1aa42c4652477deb2c2e7af83a443b15dc45d9131a2eca8d6fe4bc28acc7f73aa306c1400d0f26f7dbf5c46a1be6c97e61c46fd0974c7a389d8ceafdbd796d841a0f6da3883ea84967f6fea17491d85e806ab058a7fd1063c2871fa5f34674223adb948a11cce67d5709a844b3e4e1c6eac54288e7ff055b73ed1467bc11fbda82f9a032a0ce0259985025d874043a1660a9bbcc3b93a20fc4b695c9ca1f513db99aaf7a7bd76b4bbcea742992df0c19b65e1381a42387d862bddc7349cf16a1b0a3f343d9763934fd98def1d5eb3227b99a6ae4649c42164e915929627314707829089880255d6b6c749888ae009a9caeae5a8f9704d7a0712b55b0bb7005a0e6d6854e7e8aabdabd6e7857c778421514f3893ede29de2a52bf81ccbe8f142a4ff9d163799406dceb36741d198549eeb454880cb5408d9451b5f8d54ad8014000296176eee7e4f5e05cd5f7b16c51c8b557af3fa440945cfa0cc1781eac0ece5e8f82eb449e781a58b2bc248608fe33abe1eea19a96edf8985d163fcd0398401bfd46dfd34a272625f4858625da7ff5fbe62c5f7cf1b398a7d53d88d5e27c0e7688ffd1645d902c27acdfd7778a7f2f3e4f0a7c74785c50b3594653bdfac2b96f6eab754886ef6e6b7c1494e697846e052d616283f12d66cc26a280df627f6778533ac77dd2368bbb3ca6a593f9b8a8bb6bff2867e5ca9f728e429fef2eda159e8b76e5873086cedbcdf1d2e3f464984efadfc0a10dd102aba53fa456f9dc654f71725ae0490b778366b6ead86dceaff9e3218483fe008263dbc71e53b0e8da3a03e9218716072d51b0c80a5badc745f9221a6d4b48a8f41c19309ffa3747ac1b5ae1e6d56389d8f7bf099fe2cd9f425f3fbe1f38608be2fc22e7cdb982854e4c9168c3990b8dca46b03f7a31cf926d54ae826062159845c72524aa971feb31a6ed44fd043123ea7da61d30cb630a25325950ba1b8a5dd6a78e2a12f77ff756069a67a675fd42c58a58e7543832afaedae475387e76017391a2e806d94710f6e07ed96e58ee3c7de4b3da45e473f2e024abb807af77ab4447a34e8fe368084fc68d5a8140860529553f63dd4ebc83a9eea6a3bd3ae0bca8566c8419290fca2f384a9176901b54050f2cf7cc7298432892a67ddee448e5f54574c22b7324eec0db01211fe36c1aca2f5da9d236aa7678b22f1abd0b4852aeaff44d43decbdcd24509e113765113592c9633925863a1e1eec5a412ef61152d89ddc060313b59ef3aa75b96d3e81f9b0f754b7ef24ac264d53053f998171aa7769a7ab33dbd951feae0d948609a80ca59218b1e6f01bdb828eee780f3824f4d48cf1282b3978ba3a7ab3eff3ccf83a6fcfd65c793196e30636e0390d45635d7caa765674defdb66128cac2f43381b222af2924062d02a41cd52b408e488c082c2d0d920c9015a9a2972d2b734efa0f05ccd0ab4853e2fddbd5da1ef6d2c54db8cbf2573c9dca09ea4e6b65189ead3fa65d51ce39d20e7a20cc4cd05c46b9c9d2b12cbf226014d6a1479ca3d5a8314d97b2278c41ae11a2427b51541e9a5999420ca89642d2776959ea3f434c53e7d3d9dcb7d03d5fadcf5ad125f5e8e5b3155f9b8b37eb8b73513b7165812b5bc9d5fb89f228d0c6791ca452523afd11c0345f5dcb30e99b2b7eb3f8c2c8bb006c5828c6b84cd99bcbb140d079485ecc066451d27eed7e2a53f5637c8717958c58f35b96ee845cc38b6c50244c60f1dc9eda4af073353b70faf1c6173ed75a06ba1f511cd5a7bfed4c42efdf88ce45892a9bad32f4cfdf68b848afbd43543949e2362f0725bdfbf068a2b145c4bfab0a637ffb19ec799d8526bf343f4962e45cd37fb0dc9acf5f8f66d5f10863426d4356cbef246e0beee711dcb48b7c034dc997e40f45e50079b6874776b120132f793068c3f40f3cb152d8ec0376e0a8ba63bbd6f0a3fd572b947dd64770da7182eb91e96c947172a692383f74a5217952c5df9622251e56b7e9711b420370fbb8ec1c2694664da3f08f8f08041c11445a9b17a277464f44eca4eb97b38f29d377ea21f7b3df6c3e01cf299ec47e54e68e8e725b80757862caa9308a5dc931a58bcb9dbea8020dc9fdba2119b2b7365abfe529da286685f2f93aef86b292468670fcef815cec7b48010fb6bef751fd93fb6ff3fc8fce2317e69de9f17e15a5d6d4ea35cf3a8688de26965015175b333251e45819a4621f055096dc213c3bf594d8130121e8556cf8f765cec30a629467a29a9f09e44702c65a68b06dc3796a728000df3ddd6f5fa4b1b01dd61e700ec28b616f192cd63b31609a13a191bfe5d3f48ea08fefaafaf9a8f720614ec525c97a4d2144a74645f5b3ddb21fa50f87bd4047145db7cd00103e950acfd465b34f7ba83b941ffcb0e4731874d510afbc6c09eda5d9f5447a0dca07e1db92db4aa7499a80cb66545f9e0f1dc13ea82026fa035a0f80eddc88a913c3be1d12f44a85e20fea3d7c7e958036f1c44db9f5451cc779fd82728ea7f71bdc672190fdeaf6232dd2035b30704f87454fb9739da2eb38188a8bcce34623cc8eb42b0186e925e4bd75c4673d3bb55658dc9294fb60e6cd5eb2f10922f9a158cb64daa17469675d443fcb03099ae823ffdfa8501b3f6544dac26072588564584f14b50b110cf9133fc3b3bb07ed685e774ef7e490118d6e96a1fbb3ec3745e58a2cd2552e072606aa4dad5368aba9500607c34ec59222a6ebd2ba631ff8f53571509181289254f2fc52aba27c5bfb549f9110752a7b0b16e647bc159a8d1e122fa64181aaeea1d519e09679e5fc0d2d37d71b4da05f243e378f87dc5b808d2cb22975dc2269e42a561e4493b5522d3273891e37c75f53a0f116e063b31b4438ba6e3756c08628104f2cdf834df880a1c358f99e0e09506a67f7e21e2a7c90bce1c287e5cb9fc021bb31b0e508e4a2c961768377f41a440d9c3b636bd33f0410a8765c0c70f617d4bd638b1dc7ee1ba7714ad5b7c6564950d7e4004aafcedc9e95b900c37d91bd776b8db682ad5fc11b3f5d62f04296f13e9a5431195789803dfe39f450e6bd8fe7749a21620df8dc9a18edc4fb55b125bc0091e5229483dfa9104376ad45df36209a5152b9455abbdb6ac096f9bdccff2bd6e0dfeefab3dafb769797f7524f5c196146f52cc0b1d1cad73e4ce844f44708ec62b87923f20cbe6622ef27beec5f38d686153c07f454f3c16bc6c1bba714067892170ae90e40a78bfaf16bf6bf831338c95341c842f384339cff5b0c9cd7b9cd3604df656445b69876eaa9ea512d78e1d216ae926c0aa67123c72ae77df2fc042034fb77c29c0ed675e8e0596d07c7f886e6efbf0523ffb4e6ef1bc30d89da726140209ab376b39ddc57761446e1c952cc38f18a56092e0dc5ae672aef66feff917c8a8f1e548cd2dc940557e938b55857d497d5aedb82ac1f9b6449e7c540e67c38a019a5397e79eae2ecfb87dbad271d4e70b08eba401d58606427b05992402730c5a9646d5d3ef05104569da2333afb651edba06f3b310fcc73e330cfc5a6d18cc0b9abdfb9709cadc7e817fe90a899255cb6b61d62fad430f10c27a7ea19de59eefd43def22823e9c6cdcd777b8554c25eff3c37524b07658064f4bb0c7dc75ac90fb7a9d7c11562f9ad28b4a773b64b3eeae19ae47d28614ed51105beae4c0e321b5e6c292caf0a613382a4db79f565ea5fe018e87fc56f767505656f8a0fb9247ebc309d723a84d273a3a03e7163566acc398686f74962293ad60b52cd3eca61c2e3ac611559b9b3a4300d71a076a95a6e3be0336b3ca571703f3be3eaf37568b2fcc280e28a5b0939eda53b8be1e34a2a7b1e82bf5b000f12b23840ef348265811688ac450778b7a821ba13af86b2ec67bb4262ef966fddd8d02fa42c93aaa3f87047f547c84859becfd6a1398a2e6a97d40a44b1282e7fac1952348b04f7566c58ddbd3344b6694c0906c9cec26dc2e66b1dda900051bf75defa5f804c156a2fc23581e96b9684e8a1623df611f8008299bcddd5eec796af065ff9d8b6f5520c90badee223da5e11cb67dba2b31b4affde6cabd5fe288a02e5b2556a5c3d285593d38cec89a81a304f132b84ef70313919843e5ec958123605f05a6bace6a3a2f4f5a0013ded033e3337b644c6be228bdef6d8edeb7c26d24c12ed1001ca3f05f3fe5044d257b66e5400d8977653c3513c93807d8b624f7032586fa22a228417ab5ce5d52a71bf50a3cc2ad7f41242f4745b837643ea6144a62060c7f7b5620839472e298daee10ffa8567a8af9e7fbd53ceba6728edcd6bdc8ccf2d897aaa72d7d308fc27b897836d7d90fde1353afd4718bff0ee5aab3040debfac9ca0aeee85c78b554a1cf2b07481147f74efc161533ba4b3c5614b74e68911e257afba33dd850c3b5e4b7abae556b528dca90dbf5ad7a5b9164b30df48a8d9fd5854bda8cc7e209f901502aaafdbfea9774efa0e6aa12893dcd65ca6ded25bf6d3dee70e0ea7ee3d22ea9a151ba0534591f70190a7f351cfab7649940e77e50dc844ade50d69bef6d1d75d4f21b8b8f58cb9cc683f81ba9604f2e3e45645c14aed3364a0df2afdb8c8578c8bbd8f60757fad77d753cd17bd555eafadfc28ecb7ddf1b127c0cdd30a7ac24499d3d1ecbd132834078c56e33006c44b6c6de4f691a79c6a8cb7b413c3cb2d0648fb3f90af6283af692554fc47a2cc0bc5b68f3eb0d96d193479249642ada2790612d39cc39e6a4a83effdde2fb825c0ba4b254e89990b335b33808d40ac20992d3fc49bbc325160681c32154965d34f632d72159e573412b79f11e6864636a5570b84cd6a4784608d3b7028d8e14c69c7c6497f26d9ebabc65fbb9ff51d6e81a278588bf5206b43d57666965db77336952090ec94a56558d06a4ec990ecb74b6c9cf9056b1285389a4364bfee79f0dc33e70c1b1e2882c1f1388f5b660cb68f158abf7606e0d897331ff1c873d3a7be381e67566d499a93773ac93504924b37148084217c78c8d341dcf8da8d737ae38e300071ab9da769201ba79f927f5dc783300eeb65055321d8401a549156fb4251916538075a29ef75e6899a583c99ac4e43d3c113180e30bd27324cad47b5a47ef4468cafab3f0be5a874c60bf8d35929dd5c377f8fb0d67c7df4bd5bc4871e9a232e8239513ff0d209c169e6878c5c2ed71a3c198c4c9f4d222447bee4e2b4667bc6889279b9ec3e3c1fb78cb3663405f4f079d57c0b4f2f6c9073ef9abe61489baeb0","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
