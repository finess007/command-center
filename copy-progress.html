<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"55192130a0dd60f8c479d80b94dd394da2cb2f0b1fd08163c1ce673bfcd7906f30c77a4e26f33fa494f00e1d719198eb7f4c668c8fc9e0162eecc2df3537cf1ed16c6583d2fb5d9f8994e1861f9a18d2f58656d84429f6f55eb4eff5f952fad33962126638e2df5d0bbc9b1097df618b9f3ef58a31f37454dc93684ea81215a1c97fc2f537eba6af4e3705bcf376149e5ea9b9d60f0b6606fbfbe8a7823796702f42082fc9cab7ae2d8582258ea79e958e85a2c9f9342602f7aebd48c6a5a7b0da15382f7ccb87dc9e8c4f33f13f29899310b5e8a48c36b54a7864faaa30cbee1f7a151ef2f4ada223be78f8d6412b346c4bb24c376f0dc803da1859c686cbae812da521e677059d7195e2c70277464012d159c5bd5a616ebcad95278e9e075e4bc7c4410811455a9024c2470fe7ead9d28ade5088d5f7dd41bbc1f70342c63083c86e33a7de6ab7deb19edcd6a4038ebc8cd6f0792fa64eb8ea63f2d5007b154471314f14ae45a9c3db7684bc0fd29b72fcffec23645cdb8a7b32bfc5826b36127ca3adac2801ee955804d220389938dd97c0b56701b30875d3a32ef29316b8e4a8b1dde2a0ae7ffc77b957831dc9b5e46241867bc810432000fbb3f88efb5fa26581f63286b158620075e475281178c3befc90a48ee00f8b17f8adfd8fe1997fca01386e26542ec48a04384270e2f49773c295702ede363ead974942c519e38494000ec4374bb48a868d40627ceb5a51f5114bb30bb286dd6aac6d9500b041c6df41a72806ae25d011ddcf962eaa58865e79bf855eed8575551edab4df36e96b3fcdeb890c9aa1d90ee8cd759e6a91d6ed4c5de3ef360cc82c711dcaab8159daee383c1bf9e9e6888d1e7941a07a6e2902d96b560c1059e7e00f9bfc73758ec96e80200dc432a013eaa4b1195ebb7c64d17210f4498e942adb70c044b9d379e0a4da59383f97f4f22f27da30d166ddfa3457ea90051a36b28fe95c1b56618a6671210639b8483a123ae766e4934651cf76651f3ef0bf8bfe6b80fff20593ba3b5bb5ada9e6e59683bd292c2cbf94c479162d31953cfd040eab8e741c1519bedb04d96f7afefbcbf0acf4e518b636635d445f957e64023ba74582b97741ab256a6407361bd6e1789ee2f336d533fcbb0285d98317e1304234affb700635d7e32fa29cb96904c34898955cfe63466f68ca8088b359ccdafa1a58398c4925ff7ef75a34fe58fea09368d487d81d88d20b4874ed2ac21cd149b9818dfb1ebac8bfff0accbc866f57ed8f28abc16250796de005c5001a38a8b81437e2ca3cd96dd3480d422d29873b2a5b107cfe657e334c2de2c36d8fbb9e26edee3c37eebbdfc6c9cb3eadd52e20c7ebebda724ecfcc5df1629e26579f824b695f00835f4af8173d72447e00331cff49c8d8bba87eb50049c891a872061bd0bc1c22449a99ba14dd19523fcf8307a91c8b76d248395e50a05432f96d9ca7fbe9502c626e01d83480fc77a1dbc782a13105e869a068671ae0f05ac0484e9c28f251a54babf19c2b2dc3055e5ad0fb1eb9968a5551e94bdb147ad7888af82060c886ca0c85e98d7f99e7f01df40552fa72739029eca653bd62bcd3ee5e9cf45740e2f152457cf76d3c08c726baaabf6ebb088e22f15037f9f2737dc317662af8dd48ef6af9cf6faa6674d2b06ac507148edfdea592c6101b15ebc4d986d7a24e364c607c6fbfd140e8bc186cfb1db20ee16f3f872b227a84fd43e7548050087ff068054023e5c20a1d6440edd3dfb5c7f07c6cddc4d5658169adb0422381a62e1dcf5cbf8ae34134229eac7cc8e19e7dc5162b6513decd25db9f9d528ed7008891bbc0ca4eb4a8c4d28cbb566221111ae5c5685de617991f1f2685addbbbe26984fc422d135207a8ae9c3588de99bcf6181bb314707eb2b638ba6376bec376765de94e997fb10909992e691faa0d101798a7e5adc85995dd185fd18af0ee9086de8f2c34d026fd5f0fc233e92afa9e40dbc1527bac7de6ca521eb2d8be14b7ae87726094eae04b390a1580efe4d730c0d81f303868ef1a8434b82374c9bf0163df99e9b82904cc8b7a94241640d4485226e1d5b9eedf83ec3f216dc1b658e0528b24453d79c97085c58c5bab93e441d146b446c9d13c05c9654ec03f15c3bf531342b58724e3828f3b5450916ce9c7a8c561222d058d7e25b8c6b83e628ee2c1e89966fc30a85bccc8e67b7a6f0a8565ed39935d6deb69d8d177a18723a4f6f55b56ac449007e926bff8712b80ba9a399093407004d695d76a1d7dc070b0965cecccfd21124b590b9a77222ef70622d4df1357b4288a3ea98caefd361ad0cf26def4b0f5a3fdabe2a7c9ff5bbd9bdb42d033fd5d5ff0d7e56d0b3261f37767602aa9c269866de2e539537a4562a3baf2b2aeef6a047541d1ba88ab53c856fa22a425a2ce38b97c9b7fc8b1f655994ab356c8405a65dc759645bb6b5caa7b9f623864a45bdca310b5aeeaaa11caf6851d651fc0e5a356d940b3556d6366fb7d51f0881d94aea68ca78b0c57b7aab7f3dce482295137ec6f5f347305a09eccb254036680af652dff20671cde571b3b592936e496a57ba7be74d6c8f178f1c68920d9298ca7288a20915977239bbc13aa33fef238f67677655d180e1631df463198b85d853bad14804df07bc982c0d87f8749baebd3ed941e3e5049c08e1fa55450f271211da16b4f41b53362772008c6d1cb4f3464d52a7d2b6898a7c9eb23b0d2103af56b2ea9e689687755d9cf438f5b51b07601266115202802d4270bb665dbf1fe2e139e065d5b88109740271752e1d49aa7ac14deb3fa6cf230b64c46cd84e8fc31832c99cc815b8f5da293541cb2f36de9588e5f68a0ead3404f8fee981883a02d91af17235f645751c55bb18bb0633b41fa9207978df25d3edb15950980913e0dabeb798a3ce0538776ed2f8257b01b567a9b6d5814621d4fab7563d11f64a2d9e86b3ab2aeacadc56dffda4ecb743ae68bc14f44ba12f34b8cbf2fa32edc5a897363aed7e84efce8996f77cbf6293708fa69744a3fb292533784742aa5b26a4a0a98be16efbf9d2ad141f81ac53ebddc437f76ab3c9a1da21c1a656742c471bad56e4cfbf4b6b75a09274cc2ab2eb2180ec828e49185fa536368212fbb5bec4005e67cd3bb90e8a9ba304fa099ebad5b97475aa7ad79ae1d4650e5379cad0c71e3c31febd33e05e47f82ef86c231a2a05ea354654908a7d657e520efba2d89ba7382ef45b0c07fe33a808747b6095fce44b49e7c4fa9697614978db1c8272b202ca722fbf29478806eacd2440c5076f9dc1d82e83c439b4d564726287a9c3bd3afe502b03f1b8ae114d79ff4383a9de248bc7556cd900df1aee10cff9e67864cc8f65de955d76049a3d38e9886a94eaea5e181e36a2180b45134f05d5e3c9232f6b22a0de4524f0186c09606d70724dc3ecda5d10981c3ab0bb9c7d8cfa39d12d9b8ed56e2d45a057ed4928eee6290a403b3d5399c8becf962193ed4eccc23776b49129faf18679123deada30333eea5630a57ffe51368984942a7eb85533387bcd42507eec3e04a2e4841a13ef644fd63cd1f1068223d74e99a383832833dc58f2e28b7bbffad45a5abf89788ea07e6bd6e639df459085f8db9a1b68b1201f3ba16076d99414c68bb24f186eb39672e0325399b25e834139f7c1d861ecab0d8db47257e61c6765ac1a062a00ba91a5fad45da2598f06acf714f1cc57c37bd40f6cd74da8ee6bfc04d63f7a993220fe2eec1cd73a6da23a39df1e842233e1bd939ec46f9daa882f8bf5769f091995e4ca71b2e77a6e82234446903f71db20db6e50a567adf5c9cf03911bda3540e0bec646cfc4fab7bcc18688d9c269cf67784758c708332e900a91a8aba8ea9c87200cee26e38b7d5246e4dc3f282dedf22a0acc3be5b61f4b1f61b8f7dc0e7aff63ad41853154590808d6dcbdbea7b6fc8966672ee3bf26a39394ee520de0aec77d6f59ec76757016137a22c6f2fee698b8217804684b3c41392541dc4206e7ad9a9e9e04316836ecc91ff4fa3eafb6c37dba9a6f982c531c33ef4a9d5c231d01e6592ad6da4479fbdf2a564eb33465ad2cc75b9ab1d1adf410e8ba78d68388d13b43e89aa266c832f482c8d75c4fc95e4b61e8b4283f35446bd3a33e16a8fd0c3deb2b3280edc92cbed652ee95a95a97d6f96c21acc592d14bf02270c6cf75dee9064309926dc90eef621dd479dbcb5f4ce5e45caed56cb5ecf0be9859ef08d01d6029a4d48f40c3f60a3b40cc4e059bf0a340ed811a78bbbfcfe8b14531bceaab019c80294c9bdedcb6206668c2ebc2d71baa292d044362566fcd3457098f395e3674b3a9158de7cda20ae649c4741dac986c2beba45b4a9020718669fe0336f457630d10c18ed95b80d8a1129ea4c0e005a6d742b269d5e08017384499447188955f066f6cf4659143ef2deaa85c0f67a9ac6d4c5e2d881d7eed3c3295ab2d9bbdfd5a74cb6a5297e6b073d7f00f556e6a1c98d2850f535b8c61b605c16525c33ef8c7fb03c0789d04142464be4f962f492226d6cbe8932d5bc9f89cdbba0a409ccae833411488430c8df831b5436e18155fe9234215acab3fb437e4064254403a8b72ec7467206c64dbc43a64508e890bb967d5db23fad4f55dcde90eda7c0549f954f4fc66af6fd7da0782b5e766747641c851e4151d0de4361bb055a9f4d88e88e19b889d57210956f2abec86de07f2db7f63dec9b15086e67a1ecd6078b488609432affecee47abd90bcd132223069c9d83a147168f2659e55b4553badd55e187813378aaf080c29872e987ade4825e875ad678b20ff4da707c9fa972714c62e31a082cc16c6c7c4712aff361547515fd4cd593cc7d8223d5dc2977acd06171828f3a99d22550533dbd0730cb94243e0880b5634e68d9adf921544f95b754a84aca703586c761781b11e947b51efd95aa72b67917d281a4669d26cf92535346eccaebd20d4855e61c450b39c2dffbd0432fb9c1e25fad50addc2d8e50977312a90d8fc157a1236452a5f7ee505f9f15bf0d03f7dbfe37ab907deffe616b5d1346e629ed70a5b75f6b089abb3296e2aa6112a10d5ba42eca3cf1bb2aab05aae12a7dee40254944164a9a18a72d2f13b53af1a94b053b475c16baba56061e614b8aade858bff43388ca57ade1155ae5fe636d622c5c986c7f8f2415d36c53b0d2cec6db7624f52d2545bef5af90c1791177e4b143a3d9cef8ab3bdbbe8d8bc7e09d93d4d7825b579dbc8edb5e4d8a6c7c902ca6e033cff116c3f9d563a74491219d91d32c276b129806d276393a8ba7bde70f4901d4dfc907c52e59ec2ed3ff5b51b1daef016b01c300670482da493563cd8478f95c42c7ed9ef9e55eb1978cff7180cd574bcd0296a817c2e3bef02d159507f088fd8acafa8a522e0c1b29eceba506f0de742207ed8c05b757af80093c01730fe9403bf275484026a4dc3585eebbd7ebca52af7d3451b95c1de0e5de0c666877750453ba2e2bcee4d13ae0f40091a8393576ff09d479250c571f2b1b898485471cbb7b8a4bbe437bd78289b4cc523df5490b4991f28299fcbddba65d5b0d15ef3ecd6deefcbcce11315f6b9e400e80338ebd964067eef9ec010083aad59adbf0f123f1e5eaf99e0903547142e6b54b49735dacd98f498805b90071f1693c216a315f0728690ef5cb5df5885e46c77d18a33f372ee57e39c4f2be26fd628be5ce65884b67902977bc4e09b38c1993cbc5902d74772ed39fb97967d39330d0e9413b57cba24aeb9a7f08e5a443144768ce729b61cd3b87737dc963eabd984c1e93ab588b6e9d58b056c9945b0f96dc354370182b9e607db5c24b61b8b566f0c4252d9e8d7579e6e02f5a76c8e5905ea12095a64399c0c33311a15ce170d604f1651e4d6c3aa18932fb1040b4d374e1753c676572588ca1aee62eaa0d42a959933aef7a9a7c2bef837c90ea6e5ad5b32c97d1eb3cc2351c4b850d5288bb479a96911bde422fde2f0b516eb0478e57963154133a900bcb6be1be0cf74828b4e9735c66de0c93d9b0a0b10ccde89b643b92d50358762c29fe12d63ed38d004c570db932aab0f6b75a52a10e03e2e925f9dde31229d958edf587102be39f4f6c555d98dd9fb6620b2decf250bd2d776487c89af18fa2949a76ff34efe0059a0e87d491393757a07504727cf5b83318396045afbc25845a4b4aba76ba2e3d589a874372212c82053cba3e93ddce42fde2c5679ac0d2ddbf329996f245eccc55f9ffcb19a56e96bb6da0b37b0424cfdfd68915b916a23ab1e9d6c1c38a8c8ae8faf914556331cb6dcf31f5700f1ee5b0f6b18e5b1f05c83f7d12ad1ea989814587cf8bf9ee2530bd665d6dfc54372984ba768b0e3baa5e8fbdfa30de28343082fd19bd4f378a99d0bb7e79312cd41c58f5bd8f98377de2a947330a9304b5253ed66c3021aefffaaceeed9fe071b4f70dcbfd0196a9ee4e5e07b232dbca4adc42c642a594bc8bde49a02c1fdd8d8e8f010c24ac7afa1d3f3432dc8abb6c2da09cfd6bce801ee50daba67e7bd33768103177f8a67857dd576b31524729fa51b87985341dd8b6b5252f5bfae985c254f2ccfc84aee0d1557d6f8293e037d41e5ca2022202a860b450ddfcce56cce5a1985e03f05376fcc582e69159fc1d9703987b1ad5cebb0ac48a14a048a81a99c5d8676f1dabefd80fc628848e22445f0ee3202322513cde794e752e58dd6e74bc45938cdd03a76bd491e6bb5ac144dfbba5890e87da49939e152d24e51f8ae5da3c75746107a3b2f90864db51840750d3fe089d626a0b2c849099a5cfb7d18db5abb94059dbeded0d09b0fb40e0eface4813cb88dc0fc77107b4a81ef32c7d09db7bf83566f0e460f12a5c24d5372b37d6f7c6c5dd1260f2571b89756b045491025359feff10adeed511e063651ed31295b7def9dc6ba8e7d4b029a18ba9d6c15dd8869d02609407638af25b7aaf2606597b881752f051f0c0b5c2a7915c85e18a1c3dd5c6de3cb1e3296ae0c6abb56f03623aa5478e89c1b14953d70f7618997f7dd7a4b2ae07c9a773ee3b4c1ed4536f5fb27afed78bf690a1d3465a2606226dcbb580531f97a2b889fa1f3ffdcad5cd6aefbf0617935292f0dface938a4ada61c09e83a01670878853701d1f19957db3e9e62a1ae7b1ce0231138719feb25de677a33841ada98e02ed28f46440b1117e49714516badd7e43e473ca595d39e85a49b2caea3729e66de6f3c0aa994e95c45fe002f79603a342fd10db83f01caaead1185f723049e4a9d411edb881aa89ea1459905654db0716f53941df230f70375d9394c295f376bb6f4913d4a544d560be876f94477199c6cd25c774ff2febb3e3840c19f8196bc903290aa006e82478cc327eb9607aa46b1291abbc5188941e24eb610ebd5e633cbf07ba1e708115c365d4889a36c07461ecc779d1c88c8e554fd940ccf3893bf31ce9e793afabfaf1e145b84e18aebdabaac3d3f2589637d5aebab06dd2dd2e41ec38108788692663c695845a7307a96bcd0d64c2c17cc4ed47c6019bb9b01dafd3d0e590079940fc042d248fe30483536ec63f4f1fe4bad2d3dd20ec85899ebd7079dfc4582d7793969772497020a6db6cd375ef9b67417620a8c573340c6ccaec15bdc649f1d7c90aaf5fe6bc61712af2e8a9cf87998a73c5fcfbe0c96359772f2a0274fdb1e9ee3b442ca1fb05976c4ef707f7b513bc5b8a86eca3890da4b6a0b88f17bafb4350549184e9dc95b66fb82f5dac72f6f7d7c025d7ef01714282ce09f1a705b383e0e2c892334a5b9233d8ca3d417658c1d20c8f2b2437de9b862498ae0816264cda310411b5c77a6d1075a34eebb20daf051ce2bf31454230b7478f761293b128184144ea7913b4686cc8ac37d7e9fffa3375b68d5158f4c2b62c9daba8a2b2e83244b3be74fee2976aaaabdb013257eaffeb5a73ffb4b7022fc13168c5c4a4fdcd5e8013b11488c0e76f25e08c87562960908c1d4d561c84f9dae1cf3c69e9354a1f93d6b71e8241d108be9339a78578d7d42777b590be2ceafbe3070f81b02c68d7c5d4e2db6bb41c95d9336b47b12957e14f76c8dca83d90b644b45e6f4859cb33eec3b4c188502f0f7dc41311b7ed22a92aa524d53b49b50994ff5dcf931c6d738fde65a8a490b36058f5fbaf1873acea3a97d253350b46d169114e1fd094ee9848d03ec190473b0da8790284770e2c0b4f05ab7278174ac25889d7aa36e93452edb53db10247aa96ad2cc6eff6f0d68b610ee889aa23ae6727078c37ab6917bc175d503c9bd140f27162996c4c681e675c5c2c97bc0ef2ccf3b9298c9be6c8b12c70d812c94474a54d7f0183be57005d228a96874ad1538bc660750ef96ba0966fb45b7ce72a999971d1cae06a99ab2a336a9fb650a7b99fe659bd17f5f32963f7a8b9c84ac606ecf63e07a2cf7a76569ea28757ed10b9f79cf55649f050a9d9f6277197d63a996e7cce11cc6e3e169c421f0282e1120e8e25617e5a444cdb4d2b7e8002b2f3b9baf5942abbaa70576babfc82e07c91d60e8f80c6346428302b19a4d10e7ec37d4f2ffa371f0df008b764649d2e100e7a5665463b0af9843b16a1fdaa374199d1de58f48a588aacf23dea768227187370b3241dffd864df7784405c7067ca5a0a6a1dc4408d49c7cc68db303dfc26f9beba4b04474a196256ef6cd6d72f36feafd58754afdcc49b6b93e020ca3497dec5f32f4cc5ebb55b44422f153a881bbfd355644aeece01a9f0d3c7ff0187fca3543e62a060b04c9d09c82fae3cda497e8520ac8e56fd3b20ac48a9436c7a1823380f81e53d29eb89b39a0b2f865d3f5a30f5cfb8572bfafa25637826e13b83ed9b5aee56766f89ef8913c4dc49db6e517068425a535799d34991c668edb648f7b679c136a65060a523f0c07e94035dde9876b8cc0376f89002c109498c7f39bfe47a0d9aebc498e7013f8e67b554308ec57b3a019930b84a3d6e57d7bf39dd7d3551cfcb343d4b15d71105b172b114cd0fc4a1ca7bb6c106458faff3173af3448ec4d399c7cafa97fc4e4270afc3190889dac22f60ca3c54c37d4aeaa06d5308260450a3c5b5a057a69fd78b20ee2c77471298a66f459d7a5502704be33a3275098f840e84f7bcfeb2ad061eed51eed0b7350d0c28294355c5692ed8815347dd1159b1330168c11049e96dc438018eb64162c2268eb903eb067f9297392531079e0e17d5064f4707ceb9df5cb326a6ffcdc0565b3657b2f2872bd2d0adb4548aedbb09f5a45eec8bbaadbb00789279d3781bb75bbd307ec9716009cf81a92e774b5a5f530bea5306c63a6ee5178ad40f7bba9ac1d008cfa94e6d8a55a903d52924f625dd4157bf1c3d4794a9f481b3fa72543f8ab3db619e7dcce674f06ec3894c1d331aff1f4cd033575f352d2be31de3d7b952378bc828b671fd89c733e15a8012cfd67306a03bf84816da54f7381f7a8ef3113a1a2890e7e038e8232c52433ef339db13ea8cbf2182cc9d3e79a298ce7cef556f2cd75af5a79581d7f9b1baca6c34acd0cff1c373b4cbd37535c26e8ca8a4c437de6e97e6dabdd41e3f95a574e6093b047d417fb099673be1a4a70fa9721c272820add276b2a14e53d1e077518e3fff7f537d9b9e5f986c1d7cabc54298a2665e93c8d02dc6b217e40f69cce5f37e1cb5b73b5044033f13414a8190e8a6eca2988cc0b66e05acdce91f72e6ad7dec0394d9f6cb445c30d0bf6eec58a5ea6e06660dd77b4da64167b5b72dcaff6d113c9c266764d7a80ffd9e66b300648097f03b5b3f162d8dfe31d7c5d5bdb105f7cc1650d7888016188e677a9b9a9c8a271b1cee9054f18550097c773fbf9491766c1a49402ba0dbb89c4d018a1679e1da228aee60dc082e799c9d30d3ea48d458c5c3d0d15e19fcf643d37dd42307cacb6d3acc8456d1114fe2ed28caab25d1a001c57c5a2c20e1356deadb802e769f73139d09d92092c6df46d148850e55632caf365bf60a81b4da81cdefbfe6ad3ebf2451d2389456f90af1cb43c6a146b429e97aa5564f92146ec84933a7977244e1eca4ab0c2a812099dd550b3f2ba5d90c3c5c66ff7cdeaddb220ac47b959cc2944caee0f6aa34549b2da95269501f2ab9a3de1c7b61d9d87a014bfda4f894dc2a37990287508789ec85202f338e4375eb5c1de8c0a7ab4ffea7eba4cc4ee6d291eab62a2adb9c302962f4d4a4922a88e2131499d7373a5d076bf110a81a3cde7974178eff7b7fdef222cb26c1daf28f144e2f2fe4c962a12b8aff5d0e4fcca1fa1f32587009f3a13afc5a12c1af4aa6135e9d3ce5bb2e9b8bb4bb5100b883dde823a51c93e56297110c18b3735a03a3b1ff0b8c9c664982e265b2bbb647330adda68c9fc98ca4b80589d55cea64b2b0f8e7cf1f750c2b48aa4c57c36de71ad36fc026b9fbe9878089711ce3345c93377bd49bd9e81ba05d49fa9c28363aed36f7ea09e55fba85ec0d20d2b5879700ee9df53597ddcd84be284386d6e5be6949663c70e8a06f80479c51684c2ebf109f39e5188a6a76113a308d9c417e87809c44d9724737527255978394b2b62a1d449b302360a77220927e310241fbe2d434910ab58488e1f9df75ce4c2834041c1f011143f520b31a6513446ed8404a9e2dd6a4e4fa02dde1ec622a8bd243520abdb30861170ce88853bef60982a2eb978541aedb0302ba02725a1f37665635ee7a60d4a247937b867a691d0103459a723dd9f8fe23e457c090525192dbf567cff2ec8c6f7b0a0288accbabc06b6daba9d87f784a8bb8dcfac3953bbf1ab6a1b6d049ff67c2461147bc428f6e900044ab76396d661bb205207c9240054fe97fd529e8dd3669a8213419a0c0c71c41f817e8008b3e4eaabab1d819fa5341c9d3a16cde3b3c8ea436598b57d8c480d2d29acc1bdc6919d21009b05e45cfa4f54c2e5cfcf8d80c51e029a9ebac9c7bc795d0d514e298e3de53b42952e04368f6f6581cb02b046ebd076650be15953166cf1f3a9831bd8ab9e7040de2192aac0e80e9f9b4dfe5bfc0fe981de96bf6de5340f954afd44f140c6eb8e971123869f2b9e6cb0c7270efb727c7760d6bb19f7cbe0bdfa1a45eeaed4c3bf7e0a61a98f68efa5b961ef26e1b8ffd68c9ab4aeba77ebca4fa34f83a52445c03b0232a89db9b773804df44b56a4307059fc20fa1ddb6674dfeb0ce669fc294749078ebf79cb3778b4705a1254e4ec7f4ca0da5398fe64a746738ec1be866f54ddbf5b9a002df926c46d9bbbaf218772133946141bfa4468bd854f36f7f64874fb8096f4847d3d39d7ebac58c05fa1dfbde1c8673a57e868447a84a95c3314d604066ff83f845c311c7d0cf011530a47fb07e70c941a659fde4cde00333f9a9b4570b84b058201617b9fea714e5b892299d5e655c9fbf574e2696a83a49955b3ac2a0861ded1af1eef38ddd06a3fedf51f3bbb4f2589bf4516ecd834abbc887d04620ae6343fd2351c5cbf0425647eb3a78cc659c554ab1950d357becbd9a7507d65482ad9fa193c2022e999b21a24c5d6b32c10fca2da967591227c9bcff4f93094e1700976500861bab6a985cc95022586dca2d902b7edf1849afd7cf77a0cec91523485b5186cb1e3711ab374edec2ef42203d3ff76301b3e51f6bc602bebe1ca7dc7eafbc2cbb33144c9eb3b6853a88f5e2474e17bf871b03a3fec8c048829dda434520a9453932e89461af1251ee0bb60ef7263a4d1de34b0490a25ec13120765271471e8fd2e8af9cbd157fed442e159bf4c912c36d3b87d640541732072a3ad881b6b27bddf4ceef2594eb82df5b7cd39404ea456e211f0e0beadc1fc924cf9ee05030a43a70807aea72ce3055442eb7ef5d90bdc845f20926870c2faac38d9ad4abfedf1588b2e27153c654673707920f81df628046760b7e8f2072c928a49d95d30a1a92e45cf73f17c02c310207579178549f08876841fe7004bf28049f817032ac18562f3cf703ecc09280cf2be33d9402b8ff22fde9ea6f82e29d86bcdf42a9cadc406156ea0d90b75e97b5a15896c5e95dc6468336e533687e5e241dac80241345193810fdfbd77d3f64a4971dcced9525f31827e61f4fc9eb054978eb64aeb4fb61bf115f2ce05eae9343204606af0bcb55e60732b69bcab4e753abf4bff8ce046676253953f4ba8133efe76ed4a431a91105549d09a28b83c28b4293da6b5a706599245b5fed333194921d354dd27459a4baacd430d641873fd44056eb300fd9fbb6d94f2eee61f14a694eeb86da553718c31eb81ca11227a37759739e1af7a7eefbed2d8ff41368884032dababb12659fff3a08623f46180b6e3bfad2e2bbd9dfcf1534e0035fd2e3e68ab2303664d787bfe9233325fae75af8a5592b9841743b707da27195445c421648a4bd7da63a2c7ce6bcb46c210ccc072bedb46e30ae0fd872d25054348f3bd53c351d21b34fdd8205bc9ea1b18da7723b78f23a71036ace09cd6d443e7e421a41a894b030633c3e6665a75295f61efb6fa4c6d8b540d1675549b3019a45eefa4ae116ee89297e5ce894a606c83a19727efe8364e06e40a4bedf2a9e84e0a20d5b20d537ccc32cab11ce0677150b54b6b3df5f558676c188f45b9d5ec91f81001b5bac5fabd54415945660f1cb1e532cb4d792497519f32c4a285013711833067b7238450caea00e55836440596ad53da41042b84062cff8efe039a1a3d0f98623b90190df8a2e5af01da543855ec850665fd94f799b75fc3e8d989b9530ecc832c543cefd0030e45fb6b81c3d25264402433057f4c0f3d7af3a5fa3ff2509f25497315f4fa3b782deb8a23530a09c715715106451fc2083602e1f7da692ec72552d72ab894f484069d4ed23239605f5e1c12e3e0dbab7821fc8bf4f74d5a7561d879a7fadb4b28362e7ba21aaede826bd4c91dabff6bb1cf9d6c1b573f6cd7355ce03aa2bcf6441d7feb5c727924f318528ab578fabcae7ac4c917dd14ae0daf296ca5f8be0033a4377e7253e508ae5b3b850d6b0f16a50f4713ad7386c24d7de4834c02ace30d7fd220150003d6eaa8b1e1cbaffa16af19abdf03cb597ddb1cbb95c544fff6659c4ff78805d2fcd50da61d5f8edd83b3a5ab5a4130a12f6d892159d68bc6933dbb19a625bc1dfc45662e3f83a476f27bcd653c29d0074f0a83c5fbaa6cb53021f78060ba1a6f0958a0ef0d10fcdb5dce94787ef10c59bf3401d98e9955c6fe39156e79d9da5705ef109eedb44d75130d394cf105d12fc386a73da347fa47c7533c1e29aa9ad1b16737e90662789917f18cde2978e5de1018aabccda2177cbb3a45fa638c00a701ebd18c37b492261094416b227194be1e6c0e2627e1513a6cafdc5993753c69300b417cbc7b3ce1c5b5e166fe594418438ee175a1371e4c0c3f06486933a24cecb9bd3b6ab857ee992ff7495e0642f2773457eb8ec1956d12fa741a450b524e637e8a09e42864c0ccb46d542c9b2d4b549154b6be9d25cbfa43bf7dc0628b1a13bc739c129fe92fa745612b11605092c3a174d709bed43fdcacf31170c036876a818487d2ada9286d3b9aa8c7cd592beb2eb0530fc205bcbd7d8dec079310cbb524b9ba3d2242552c4c2f53b200776415b1582029c42f216ae6ca02822afd1835f3342bae43cf06e9dac86f355e7579c4ca93f8ab7dc2e573a1026ded03dd2e351a101bf7469a3aad2ff4c143ee664653559f37cfd3e252b5c126e046a00f16cda0e952f32dfd5050c9b0f0a1b19d0e85ab0dab0c69ba8a7927aab573edd698649a91fb8f722630891bf040015a4fa1434c7bbde883028ddaec89a420e8f0f7a545a54639ad6ddb11dd988ebd7f8ad2ad7dc614b3375d5c67e0f4daa49ace9f64aef0fc1145627d78d7823b495c36830ec5646321a5188a73d5f87031ba826d57c8329397407fda36f963ed247e66207ca12253990c1264af480ec4a000021a3c3c1fe905cb3c0f6ac9773f6494f192af053638f31b86273620bc3997caee5ac156dbc438f8f5641bae3a765ca9405932de49a45c72feab3f704318e5aad36bb0056c9c7d65a35f1a4273ead3491dfa7bed799f4ff3035f65f1d3cbbb06da9e0c89d2f38e9f5583f90d8d71eed93a9919106ebcd7b51a3ebe760807a27149d7e896463e4eb5e3b9698c8e179b5ba27b691c905e785c6c85960f13b290b14844a0d802c7b9704bc7d72adae4f4a214030256a71f43e0e703c739493d9ff38de0442a7de5d78de337ab0e61d9c4700db18fe8ed5a2baf412833396409a74bf1003827d0c5288290644b25b23874c3ba611d7a740e03c18ee63bff5828b1acb7bd9b613fcb7fe6caf12db7a83d229e245dbb0a8d2b90672fa028c0f2e5f237079cb3d9405761ca9f2538cdd1d224eba3a8a38b771c0f91f3e41766e9688677ed3ca8152bbf434206dde12fba58ad44b0e5a5a2a1459f8625c5fc6df454c4c5b12931b8c66b6f8dc86b9cb1b6beaee39468b916a5331f25f12b5f4f0c51342bf17ab418696ec40abd58b33dec1a6bc500b173032c9056857da7328484b8987e8fb13f5ca7c7896ee1cb0a10305eeb35cb8e4571d241ba7d0f935b39dd51cdfa6561e50ec8a595effe01ea748ef36018efb18573009ce607f66d9b4594c630c63b7957c64efc10d70375f2ff73a07d7a4d9a4a4930a6182d775fa23b3e2cd2e561d1fedbc08980c0080224cac25a37fb1802417c80f802a6c4648b052c237d7c736771d36daea336da4c63ee4bd0679dd4533ce49b141326418b1979dec99515b7bb87035a237d43a94f057edc8a1bcac902a886d02de8482dd6f5f9a577939d46ad797d231679caf5db33aae783975ac82fa85484ebfe202e2cd78ae9ea9347886021c779ff98fe1c537760e38b419970d308c2b532980c9891603ce8824500fd3287686edaa4b7d34eb4088c3c6d6a29717af77622070d438e11399032bdd2bbcab959fbbaddccd4f99fe11fb92c20fced2321520e788b73414de975b76bd93931e64e8481db3a733ad357508e463f080ce8b61ddfd28f4e36411262981953ec7c1a38e79eb7b9150c5827c49e71bec06c5f56242ce3ad3e2f31450f6e8c80965b6eef8ec2acbb5435a550fb80eeb911d821a3f916300283015644e0eed362629728cf1143ab5749249b76e651bd48b4296355e8b83a3a33ff5f3d5375879ef137b35162656e04f9723a76eee2913f1e9d63c8f593b532dafce67868bf50599246af27ae58ecd551f3a94646ea23f216969757caa08018660d5f74fad03d4414b8f691ba0e03c40f630e5a9f82f7cc5597c8297ce110c9b92eddf18efdf8ba836f5047f30a26b2def3f96f44ae784f318dda300a5460bf141b540ad9dc2472a4457b21a883ce093286ae31504ff4bb80c4e30000ea6f040c50fd5723e97845cc12147e8f431f1d752dd76a7e5573d3a15f8a59222372115c35b942995518d1b3afb3c382e4ae4e3bf07fb1c159707904993392355b208a40a86dbfec484657cddeba40a61ba5ccc3c094fd855849a144f680e5f44927a16a78318aaa3162f5086b558a61db48059a9e2b6e971ee21261a7a96e03b1b0019a0505009ac15b880b356c3d6dc01fdc17a910382c5868b8013e8b2090d267ea6a5e18fc0270d044a2e4cb0652ddd40be21169dcc8863d9bf71d860e6b4cbc5c6961f8ce10d017d6e3062aefd3894c92528ed817d74f602c3160d47cb41a4d3822e51dfdc678134c3619a28a5337270ebc0c546f1450fa28d87e7a8ce3ea4da7d478d9b17f14f8cf62c880c04db52b614aa6f653c40dec19e794599ccf70ba105fe621403073a09d7ea9f060657f53a14f9606a5ca27d21ccce9e9b5cba73ed26991d094311fa996f40cb3b1fdcb717270eb85f7adc9068f438e963d3e1ac43f7f7f0602b503be611238477883c1e4dce3e4d56bbe86a4c121156d0fb04b54dac77ab1232354265bdafe39a05237c6aa13367348fd8eb98d3c54c86833d8019bfe37c8758182cc52efe15bac53f4a49a975e3ad21dc94843bd6bfc9f5d0feaf514043432f89d328cc0b1cb3e573fd66e93bdf50a3ccfd0250427d8611b3fc7ba25b37749c2fbdbed025ab88683ac1a6234237efcb8a0c49359a79ddf1438f9a0364153c4c4609c0301fa0c60a9d40a9d9d8ff1a1ae1d1ea5b7a498557c9047f1f30e27c463c4983bde474d79fad2865ecadad0bcb569a87f65279a3aab633a0a4f4de6fb9fd1e48356476afcbad16a08c719cc6a1e3f9ae02e8a67e05e4952c8f0011b5bc045db36a97febb367e8de2857c591da760a98e77d37909f9a180aba6e54a07fe1f07789a4ba345ee6dc95a0284f9da98d0cf9727215b658ad8c23519ff44a2a7835e69dae89ef9d82127d459c222cfea86d837d3a9c97d1e8f2d4722cdeb61ee4f5ce7bbe0660802c4f9c76406db0c35ff351f9e3ae287fb7ebcc5d0620bfbebba9ae8d791f35ccfb892f9baf5b26976f74e425a9532dc6b8e3260f924f006af42021772727683f0a783748b5d15cda95c2b57810300c959ff94abb2ac77e0354216a1102dd5ad6a7f4a285f0904c35019b68dfc7330998988bbbacf12c8291bda96cb4076bbd69762c05b35b55f2f36079c07fd4ab544a1421046e56daf55df26eac14c181fb9417b6378c3f5631c1e215da023c21857e126ef775190d457b5d63691b119497152a5898982aefbee6f6fc160fa796d7dc21117910c31901cd0bc5ca5bee3315d6ce292112fcf84867ee50894a5550e5a315b551f075af1f70366745d19a424903eae857193e1546100f3c08855f97f0459ad0c9874ea637f03f44f62b99a35b47f75180f5e677c2b06919da99a04e1466e0bac73821772c533a180d00ade2ff11b5a27e36de48428c6943e9c91d6ce98aa1f52107f8cbb27e84a94a77717d0a8707e89140d41732c2cd4a4573299a3ab1bfc99c5c6ba32ce1ee746cd75bfd4fa9a66b6fc8f3570b4d5959b5d8086afd534f591c9ea36fe85a437f241b74037697dfb5b3b284dd1f7af57fff9a686b8d137db78d11903eec41b6f0d102c779d39f6c69ae46f295599e0d6582d3de9832836a60cf4cfce7cf97702ba06a6650ce8ff58d436b24eefc51ec5aa6b2b860f8aac997ee47519137426149d32b686601b7c1ba917ebdeb4a3d81f2114613cb4594e716ca34224237cecfbdab243789ef2191981067e5ee7b09ef360501e79e0ed04c8f217389de53086630d75cf7e0e8590252f84ed47eba9e035f1aaf13302bc00afdbb398bcaf9ae9aea0fbe4642797e7bba3feb05ca39fb14575c112efed5c700f2f8a33da0b6875b28b797d89494107ecfdc444bd74fc0d717b6a89a408b183f362289dde5a829bf97519b31d327d6b5a6662ffa378dd46b288e7d75f8b97bd4818e0ab0504c19703402f5a4e99e66d4f64f34ea8f3c2aff37b12f3b92eb2ef252f2c6abf28279cc00abd8986fbfedb9090b8994659197a0c674be4b993e262dbbada68026ae638a4748a44393c2f4f53a6124f05bb7540df969e212c307e6ec2100c7b3cd192a1e78ab094b7370e7da3c32a6f35fdc3db7aa2711b19759223961a8c6b8d283b9e0a63fe596659d99cbdc9e32282dcd45829db04988f4a8ada8b84ef62d195bef1fe1e4200527a091293fc3c4d990be4f93796d8346aab82694d0ee8399c8cef2fd88f389a3c8b6190a3515948df0fa22395fc47fe7bed2feae2c211c85bb435b8f5c59ec45c8d14e4f09a3ced009d2e8f7e5c44678789c62056982ad75f3dc47cc6165c264790bdd35702b7a79e97a5fabb11a94b26e4a94864d1c0d9608122602c0052137ca9084dacdf806f79388a198f33cd416d5bb314fa97c569547e92f9d657cddac6fd3a6479cac48e046d4b606d4debf9100e1ce7c6777c829104e18eeebb63572ed569ac73be2dfc49c547c2813745d3e059eb6d152e6d432058e5c9057ff465e94f92eb1ca5222c37e52dd42db09d4aa494383ab046cde07cf9e9b0d4d6142dac9801cc610d234ade09f466974e05a9d9d730fbc1933852b7e621eff87afd6771231eabc06b5ee796c2459ed8c8a615f04a413312fb00b7655551aaa3efdcd423504ddc5219d56257a7f07c2e7171321b4ccebbe268568bde938e54413b43acec6ab56e71176b1bf376c6e57dd02f8d10720710d89907f2441bc42597b708542971120639aa5300e975f6929151f11bcfd9afcb2a572119eeefd5a5994d61fedec9b2a6d05d1ff4b649366396865c0b45d18fa7f512f1e5654552cb7e440526978502c650cc46ea85e3fa46b34e18cc031a242089e9c8cf6a0d9060a2e6f91d749d6c4c778a1e39c73cd0a3dfab80d77e5dd98594b9400cfa61cfe0edbae4ff1de672ecbea7f9c150e300f9aa5fbda6df91fbca9cfb60db5c7e9b54ae5bd936f1292152fbbcc82ef0aefac9a33ab7d85f05b7e42fcfc09e9eff96d0f810b0f1de5fd5d1f3f5d2e668b4f3d8289d9fb19d9736df3bdb00c6dc954a2edea268e95e276c48c309e5f99405235f909258062936b625acd028d572b9f0cc39adad993e64582d43d80ef63c25c56101393df0cd6974c78abf97101011a111f1c701eec30a8e689e4e2d51cdbcb3dff2f47cc2cec75b4f772a09730371546e3f67f981a065db178dd55df88d8ffde5ea532a66ea4f8d6236900b1211e8f1713024bdfcbbb054cab2378774649d2daf19ffbdb3825424d2b1f17ecb36c7b383c1dba495e1119f369c2b4eb91ab789215ab5f56e1e9631156773dca7616c15060c2f5d13a28a7c715402044eac44f9acc212606f9b12990cc994791ab9a6e29cc06b79b0e7c1ef77fcec48c410b40f52267c7724fa3b77e22922ccca27ca1f120b5a625009799071011f34aebefd929ef93eccb8b17a080984b0f8a2b966019b96e8b00cbbf522774a4c5c4651531ecbdcffb7b3c46dce40e6135f78bc5279ead9b0fe1d6a105e2be74f02c5e2dea2b1fe8a4ee4cfedea73fd22f11a3c0f89f481b19fae5d4c0043b8fecdae339340f87eb7cf16089f8c5518e2507769ceb223e379c88ba262074f6b9c744d71704c46ce0b6d9cb61d54bcb974d8f76ae22d164e2fb349d7426b47ec030b92e5c5da1eb80b409a60d06dc26acbf13fd77a66005078514357cc11d4d15cfec8af4b1f710fd002321be2d0c6b64031a227d7ae3c5d8da3e46658e8242fd97b3b6c8dc0673f43c05c780cb03595a6ef364db8b3d4c0d558331fa82b686ae9c1c68d69da1fe187566cf15356dd0c4786c7fd09857d5abea72a019ff462643a097e94d5c8265f8a7e0b9bf005ceb81bdc9bf0a40a57b503b18a66f99b49bd9b7fa6be4eb47893c1f817d5afa55677bba3a273b9b88a07c728a2d9a925317f2ccd264611d3d44e217368a52b6fcd6f1eea0be55ecf2c203cf38968ee6124ac70877e0247271eead05f102f7c837f86e642d0d8aaad0aa2cd92e81782948e0161c8c25b07d7da1318e0a1fc9557ddfe69aae901022779311b5ea32ee507d27a1b87945a67e80961d5af107fe99ce9df95a81900f3c0d5dcb865f53b1c5813ff06b8bb97f08e8ff71b364104785e56e4c35e0584ff921e83358fe3d9d6b7c18c9587505e2658e6495d1ab29f96a5b569f4974a13c9b9c539d5ff4975e7e75237c769c2a6b6344198dc7b55dcf17fce6e9b98a59180c82eae7d6d8215d6712a703229f3df69c34d4eed4a164d60e384ecb9fb51bd1bfdae1387418f5d365be2cb3764a8376594993f2d7f7b4b7ae823a5376f206c99cf8ced88f7a903698b02f2b91feb693d2ce3499fc87e6fc0dbcc4f5e078d16bdef894e59dd79cbfcebc3e4478b6bfc89b12d360c1c9db85a6fffdf139fd442ac2b87edf864111a85a95073874601e6f113d916896e0ec0e97241210aa9d2aa2c1e9358ee5b4989360d5c62bc631d7795c92285d7d6c92ba9ae110f8482d4011f80fd491b7ac12ef4aebde7659a7701d451e8c73419e6f099f7ae3a9d37cb3d29a90d735c8adc57b144566ac23bd91cb5f6c1d1d59494a6f15bb5f488de9d9a906e937481a633ce37d70e0563b0581fc33d49fa95b372bb92482c7a775cc1727851d3195b11d730994b57101158a32830d7d55149dfbd7ef085e78a038a4fc05c6f0e8cf174ae6b10b9b33c0cd81d935d227ed45ff8825e16d8846a95db903c2a630ab0206937224d69288ef64e178be897269b623be07053257a297cf9d4dcfcc20fa49323751a5e19d9e8963a239b7b819882c6442c2700269b53b6a190b3d43d845f64d9115cb6d81ccd3dedeebdab41360e8223ae16586fe0e3e8ee21089ecfa23ea60a6c102aa3b80b3c19430bbcf5340e33d662a7bbb326c6cee7d677973285c4f83ed5bc17f819e4664fe55303c9b90e567b04733110fa7ff2a299c4f0bb7485a7eac78b13f6606349059614b131e1f36bf82a2020c263c73ac541bc4b94bbf488aeee5318bccceb2edca7ddcb0e00cc601d09789b697f91f1a5d8cd4981b121fe57108e0c0fc237ce648e3db2a57559482a4a10fe6f2d7b1f37e3998bf7c8ef4428805473ed848b7e9816923ed1269d5b11c7ac9a6f1db344ac17e2fa7c700aef77ed361fdb8dbc1f99d8b2662ae58bc8b1685876ff36505184275f66915a585cf85c03f86f86f2109c4a5fb6cd573adc1c5d8c93e25bbd4e4bd8d021bf65f7dcc2e60eace3655dc3199384157af65b91c8111fe0454b1951d3108d511996b42951f4d28354c2d08dd9e0a16e9a1629aaf9159c8e798698c1facee66b3c5db8f36d2e695de6dbfdacc9b35e24b44e67e94c5a65efc08649635019a4aa96d2b28e86a80165cd697b0e7bf2e8dd0dd208a01d58b89727c5803e0d2831e0850a0814eee2ed4a8ed20cb2ef9fd2f60f2436872cfc4c3adfeb3c0a6d0cfcd279984c922ab45e6078d30c19b3469fe5542443a98511d6b19776839c19436439a5cc5c7c09642009da259844efbf4ac4a583220395839573e32cf9277eb36d3e5c84f955bcbb096a05e5eb1e4c136848c28511276a41bf1e85e420029792310ccec58323355ee0762c308aae0476bc26de04e222993d96f4546bbb829b1cb3e03e842abcaaf8e42f38e738f9d26837da459f2a96e1d879b0140db02c44f7399c9f922a04e21bf40dd8b661ea260be39fd385f8621a1650ae92c03aba160adbc58d1e25e0c80f9b3fbaf71fdea143f8ae93e8f01d87282111447590239ea4ee55df4ce17438f665d25552933f21eb76ab8f044ab46acb7b999ad6a705d547dac5701fcfcd8fa9b37f54ccf9b6ed566f30553a09b85e6615e4697ea6c11705fcd58128b3a2fcdf258f012e8cb511a8","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
