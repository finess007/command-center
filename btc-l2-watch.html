<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9fd86286c4af7c46cb7cc783033359046d5363de15e5690bd1ee00ccb8a8b4406ba2b6ed429b0ec587552b22ecdfe8c88aa490b7c465573c475f6e8dce41a80c27b6d4fc4861bffd4bdaf05b9b008a0d6ea2c1e53c0d2e5e2ed1ec078132caa92e9c37a0e1020d8fa7fe4ff78128d460058951d524390a6b38e028960dec3b361a3cd9f5dc17ef9a57018ad4a4b100eea2cc7210fbdd31987ac10f8cc6bcfa818fba075139f43ced901515760b4ee63bc88565beaf043b9981554823cf8127851ece9f83144d274344804270d43c2be34ff9d9078eed74586c9c3c3f4d23f06e43d72272becddda27efbf2047314ab8e61cf6c8fa138228c95f919032b6c58813cc2a6b53c83269dd3d07bf9fcea5498a1136fcb333b37606afeb31cbc2a03b05e174cfb51bd14f02180a9ad098c96d725e79aa9afdcfca3ec0adbd9ce00c5a2ee82e52cf5fc2982dfba5d2e9b8a4f288ed62e675173c8234d9741939f24ae18ead5fb7361af31175df50405ffa772d938eb8f119391bccab482452459725a420101194e9234155e4cddc65002deb008af29d2a84768ad07b3c8e1e39c267d4e3f86c3fa5f7929d3de575b7956ffb5f79f1307380937eedc5a54ce20029db87d5d494a7feb73831d1cc268cb89a258d42757602328d5e5b7488ad1924139318450fe73f22865eb685d4a7fa3c9c8bc63d4f88a4f23fd681e3aad09ce4732f6326968a856aefa50a621c1567d99ace4ec3affd6dce6e2b8dbe67b2d4a0278a1ecd2296decf572398c7c0a687bac14bee6c2f7459801e01abbb4f493d3eb0fa9e828c73805f65bdf6617ff56267c6aef61fd3b3c656c839e0495ec08e32352845d4b1c61aaa7416ef8eaedf1854ca8bfde3201e064ad0d9a83f18f0e767939f25379bfdf4ee1b6011898f830a980c04a1399f697f144e7e9fa1974f6b7c997a0aa74703bc42711f6d597db5a33bfbb3f488eda37a6ccc40083bce444cbc45aa8f5f0708db8af7f45634e4b6c33c5ab3f8c9fbca854ae6af44737fdf8e029c540c1ea03eed42e22cfba4b95884a53d3d030c1d8c5e124eb69704923f0ffe57f26b1e7f662a8ca96485da76f22357616e1f86a22916bcdbcb858ef31dba822583a761c5fc88666f331b56fdbd5a726985eba7f0a05e9dfba0c198446fb043d8d9ad1f05b4aa59f8e98ccea9e9d42d9a5883815cd173a1b74735223777cd4917188bae870237ccb1c37f1a5bdb25d08ede1fec9b9dd17ce8c6fd92e2dca91ff34ab2deddc33d85e21e716ae139d6e947e25ca36c17067ae443f0df0602028d1c0af7feca99167b3063480b7852b482f4d7fc1d3ee6bcbf4b3f7fa1655a0cb4549aa71cf377c54729d9616e70650bf7fb225ec6a4b3dd1b9a544d074b9866c315523f1e4c882877f5eef6595986de2b127a32cd297aeccc4c1abbe87bf5686da8524b76d91ae960d2a966badf67b77d7ca777fa28a93b2af3f709318c5f65f8cb37b12ed444f11c543d5886ad477b475c4924dbb2233d1b92fcd9d88900e1c0f87a82b1469f34f85904fc03257f4135286c59cb87732553ac071cd6b5b2586f5483dbe8ca161d8fc6cc35347a8f425e7a0e04a86450fcf3f268e97d4c7ada64879cfbd1c6d4f97848b5309e3be9cb76814d53287270410cc8b0ebf22c7e7ac4e6d000febbea8306328a245fa7f2bee9363abec3b2bf394f0223fce5be72255de661ef52af52ee5ddbf0a943ab549685a93c05b462ea6918f3e868a4fad2bb9d2adfc9d32ef8d7147dac7df7f8aacce38d2f5e15c12d9b5e282822adb78e9c15a3398800d03862efa6313915be07a27b7a8ae631a51adca851388aee0c25c175863e06631df1f35a8ac272cff6dfa12b4ee305aa3bf8090795bb96dd12087db9495481319bdf7d14de82fb6880419ca05066aee36e8e89de66afbb1223a407f26b3dd716043a57e125b53a754261c810468e142309b0805522beb50b3454bc64bb565b74269a18ef1295f87d720108c9ce9848f86780c5fadc55b5c4cb43deace1c9b40e79ae47bc6e7362b97cc0648fd35c4a9be9ef4757212cf4832b08f0e12facdd569b43c9ba03dc91af7aad28ad23a774f474d99588c046eb371de9a94688cda55d117c46d4bfd5dc0b9876cfb39fa64e8e2e516f833c729f4cc011ea8da9d65400bb2b2bcb332337cea45b7502d06a3ff1b33e7c0c83d8c83b90d054327593a00e48b418f6817b966f26d9e10b5eb9349d649601d61d52af555ae5b9c4606faeb174a6ef9c2e77b0a6a2dae001be0a292553736b872bca5c7c44ad2717a501715b711857cf5b64dcdaeacc71e710cfa37c7231c43d1434977f3f58e17a99ecdf4c9d7a5fe715ff86b10c893d34044d9d046954eedb97e20d9995b6ebe120adf93bfdbd61f3114c455f60d375c5edea59aff7c7358978f45deca072a6836c6597f73f49a5956fa5c89310a51f72d80ed6c16f4ce88f0a56319e49b233fc49f6041def6037a983a301778f7d13e5e519e2dc8ca4a9ba009b419ac12744bbf17d178ce42b27d1338301a801b78b75264fa5e23207f4f6b206136e82f51f5ee81f600888aec3532a76869224e6d70c5f6c4f259122a47b5355ed87d2dfdc3d7c7b02fa320d534d59377c47554dff6009eab8e19b71099174a33965c8a3fdfcfb20885d7a713dd0225db435aae12bf13a357f685658f4962afef04e1d62c9996955f0b321eed47adb44e80e8e9e98f5f9b3cdcaf0a60129e23900820c4ae22346c4f4ebbe7f42d8ed36fa01b17d71d129cafacc87e450e669621c9d017abf4d7d63c1cc909c660774f91a160c04487287a3422fab4fd17943154bc008df0d9535b1c7b3ab552926ef33bc0939b7c4f3e56b05cf837fdaffa7e15e348100227ab907238d80287370b85431ce0e9aa6c8ae8722571abb086d38ecdc9fb506b06609a05c67f82ef3c8527c2c6c8425f6f298328780225ed986c529ca169585bbbe98b2b4e026927e6cc36b104cbb0c34ba2624fb0c89c841f7cb1cc88290e4b5ec534be31cd85075a96d3fc12679ed0a133aa044b541b5d49d26f25af3d79c0c0e2f0cce76681e0ef7745cdbc15a56b5ba170b3385f7f07c8ab9e9fb8bd9129cb881f0ccb78d3eeaa48bbdd3f0e66dc2eab22730066f77f140a3679e48a439987c233994b6b5d1d8704c5dfeacf86fc517a10f8b6195fda6c186577bd0f175e83c3e0977cf67f290df59725c3646de595dafd2fa3bd7b381ea2bcaf3f7ed13ea169ce363380ea51e9db68e5e3718fc60e6b92429b6c72a876e6adfe365efcde25e88c2cfb5b048b978b434ba1357e1f1e8bea9ad926cb597f97499da3a037f69240bc8b81bd09304682937235774ca478e1ff486d14480c9153cffe6b9e70435a914d0e8efe435812c6ac1ae4bdb6e406097b20bad37849080cedf139f8d236c85cfc15a55029a59271433621a56474f7ff5403dc410e6ac91ffe6a281ae56bc491a88dc7a4385c7db03f3c8057fdeccadc9cc638574719294fd0eb99d6f5195b9ef504fb931e9dbb8d394bb0314909f068f5ea9aeadfa1d3232dde5473bff9de723c2c9e3967ad83bb241d8f7b5b7830fd5974d9726d429b6476829639909ca32da591d291f156e035210cb32e6c5726f3a8a5a85cb543ab16d1dc328752462cf3d79ea912d967c26b59751a3048d8b53a14f00e7a212177e7a0491023715cbd49c1b381f3bd93ca81019df43f3b0926685f3bbc5817909d3b4f9ad4bf803de044907194e479834cbbaf5f6f116ccdc21442cb23f8407421d92184094964c42e18a57b96d72727cf02bbc9f18075dd78bb7295f876de6ce267777ed6bbce8ac34f0d982f081b4b6781a461f0c978828f9c5988b7c7e3a2503729de47c6f1e403f68ca1bf9f983ad38e1c09a91810ff06517289bb5497eb1f50f7315c51e3304cb77b9a8fa639691a7f21a86098738d8abcd2d07fccc95ad0d8fde6720ff05bef8af9473f6f279cb949a2d32c9578708bae87e01cce0e8bab08421ce53114c9bb496eee3a4130cb2a87e717e8097eccbc999c19279dc405f63022ec689e17a1867771e23a3f51090127ad071ff0961f69552883cf6eaa10b3f3fd6c85d07442d9a2a6a87f46014cc4d46a4b725d42634b6f8c787a69a5026ddbbef13ad6153b2ff8252ae1ce543a84c84f0f003bfce1802d2019904ca3f9cd2d9024c4be7dcc98c18a3bb8a7cf757ce8442f4608bbb61d0cb8b6ae1e544820afb9b0f71665aa37205eae53c4e271e1734aa8597212ec4a4125b81a77588cffa3dc72d821fcc340135a12c4b6c7271507236fb2de5bc65f6ca5366f1d01734d9fee17be564c5c3056eaf1fb72f72c2ea214ad85ab739c4a7c779aee0b012ff090d3e6c757b243f2114e9f3c3b1c29ae3c0e087ffae99894947d94fbba0e2af292989a2b24881cb7b1208dad507606a19435d315fa3f01b6ad06400f886de5c4120e0ac717b5f3a59eda77005c2873bdb920e670159f503cbcc3b4ea7a74688fb3130f9dff81ef60e6dc03c626fec2fb60ab3c2eec29df4ac2c3c834696685358a8d67dcb6cf2294b1c2163e6fdacf758dab159faf5a8cb2948628f91eaccd3e9654ccdc670dd3871a450412a830da5ce6f51f65689a024107f71b5cfaf2f1d7ca83b9b8614419a46967afbb5aea270235eac694a63bf59d481f4cb5098ab328221a2530970859a0c3b83e8d8a6c39e8390cb622f0385e095f6dde335e17ccf46b6bf5f5528553574fbfcfebfcbd55d50a005fe7e15875e15384d737df01d8c6ea2367c8a8b3a5379b45e6fbad454a342756d1fde413f3ddd634e6503edb1940de30639dd9d871a6ab2e55d64757c5cc5ae8c946b0ee9d30063356249bb2764e5e0b701222ddbd8b82a6de30c109bfe3f614a8b4b8ad1b8490bcd1c3ecad5bf03c286e9ca976714148e6d814ef9119118fad7a9ff90b61cdd1ca46681576fd0045d3e6e9e1650f0da1d595f4a3c91ba930be39e4dae79f675671f596de3a426ae40c808eeb3ad9adb63692a7a7d329c816dcdaf053f1258f9f12ba1550a846ddfb4b11c718b8e71f59b32c4215ef40dc55f43162cfc34379f15d6affe6e63229c45d88eff80dd179a7c3da981a6be5dc5f5a36fe3c4c960f19d3df32efd2acf5e7e28a3adb1a4793afe95b95c3e5b0d5b3b4f9e3bb31d3b30d433ab94ba96f6553e5d503f0b8974ed93523953372f7eacb2412a3a0eb56d706f1e2d02dad2818ef08958e66d64c2cace78a6898f7fa241dcba5c42aa1bebc1653f16c16892aaab4024deece039677af247b15a0fde564762b480caba588e4d6022174ab548079d6eed01665787fd24118fb4ee275251d81292cb6b0d133418d74e950bacf460b3083ec604279a590181b14a83852147ef65d06670b25c2a35c68140eef2789e825b2dc3d33923fed02c32ca28042351445f0bc7a23a43bc054940d9fce51bb17003e3cbb13b307b3c32cb60889f95d62674bbd407c44e535e4fc0a600e738975fc06369b166ba718d808eec43fdc1752e18602da8fb01da7fcba0f9bd8fbb4e6017c11bb0e84ec898151ac1aefedbbeac3a423ac996bc799e0f01de764d2a4def68a5ff12788ef47bf57f7a311e4d21dfaebc74a21ad85d9d4e5715dc46aedd3f1c009102db2f9a19dff6b4f70477f692b27aea64ed670a19d72fdb789860dd2e9fc3b97727dca8c1b528883bd4b304b0081dbee75e14b8972ed3950e115d3edd1705579fc9f6ceff8407a7e689ae365b5e2148f5a6862d7f3b921c18b3393223dcb5c23a55f1b25b0b911f0670b6318870d49e07567389a3f12a246652fd4b55ca6a8b84227a6ce10ad40438bdeeb16a3168c383b2b43f9580a64e3908ecc6fceb2c7b558f42bef8f16606d2ea8ac5ceae075f3172b16b7c74c23d8fc5dcad0d03dc33c4ef7cf3d35bb0cf1a0fc222aeaf9e51b2bb1d4b5d29be28df6261aa5d6430910b851043e613a5398570d649c2b444f06cf4a895675b8badb9f553af74ee1b9c842767a010c24b61d37f4693a9d75f9cda24b6d91dc4bddbed21d48fbd6e84431a3af870c41c243ec696488eab4f375f5ce0c7dbf8206dbb5279b120e1d6ffa274944f32d69317aee571c3f7bc5fb12b8eca83b70c4e943a004db8fabcd9ec573a763fc28ef6890dfbceef490b5ef4d92a0925fb67d107791ac542c47aef365f820420be068a0500d26442f47c8ae01b620ac7a0cc38144f72d8a8495ae3e670967909baf5a009449a1ab06a23dc4bbb0edda21199f99b273be08fef875210c0db97619e366374ff639882abff27c63a8b6740051cd32b85968d4beb418e334f85ef2c9cb9339afe2a9e07fcc84a32a88d6b92e096d40b1fc8adc82721968b5b4de3b3a3700a1abdcddcb5aa50bab25f9856edaccb759b5f6ec2aab80f82b447c580a3d504d2bc6568883fa0228066d685196e9e354f9ac0f93ce801bb95e170aaedbfb6fa2edfbb644429234a75f0bef97bae70723bdd88f171088a3342d4d62d9673e1553b79b31eab443afb9f31babf21a29c993d96cfd4570965f5b61a510558b6dc9d4c644900cc8426add4a6ae9796e6cbbe0b0ab9f0c71fc555d84557e47c90a086d44171c6a75d85863e81154a08b0218737e142e1fd74704b56b0f86432dbf86adeb8c610f9e3ec58610a972def426ef371d353e494bc563533c0b9d99fdfccbc1e48839c7789e9b338ec90fa2c14b3ff75ad4884627225d348b53077c8bbd2fb1d0df1e705443f6ec24acdd0fed4649bf5e7e616fb5ce68242a8fe8b8d0a73832458ad2e9d597cecacf36f5bf46c75012788a0bd43ab350a04aedcc0e992d004028a8b245bff902d968ae14bfdfb3eb99dea04875a2bd3048b06b13edddc26a66720c7cc63ac28c9589860e67f07d9eedaf5063476a405c47a374ab69e7cab0371fbf0101416f4ca64e315c554b24a01e5cbade12f56b0416d273456b791c7ba6824c543575b44ca59144e1b6471fe424c8b3675aceb292134f22840ef3841078242c33be34338b38c5399243a3cca5170b9a89dedf5157cf3119a0a2159fb5dc170e1d5dfc2b42e82131df0ab084566c783dd52dea7c1de6ed5326c2ba703858b449baeb853ac1be17350b49b237a975df8922a3724cc4710c3da6bcb97df8110957560ed67fac460e798614783e243433bdff18f8476cde34c610b8e23ef018e1f1cef1f344f1750d48cb4a3f538aab4a40fa2c3d5a9cd5917f4fa3416dc002305f830b393cff06bb5af9c39788665b1e690f06dc4f19ccababf8183f86e0a65593aa40dc30c6b17c920eec109a71ec2bfc13812aaa67afc8665c4806a6652f94a85b53280dadfdc0323fa422568189003854f69b1e159087e5f860e6c65383abc0b691c22bbe1c53c6b7cf021ffd4a6c20b69a91f12efbef79111486548ecd292798bd0e757107251804485452301048f7480132124bfebf777eb8f90337ec4feeea57632b5d0ac2ea8d4db903fd98141f1881b55481326a7712800078b0e5324c90a2b4d9b9c0c46c98b57c5ca65b353b9d7b72ae5195988366a0e10f7f572f0b66588824300caa579e34e5d00d0aaac464f6b762a84877f6e3fb4eaa170b6633dd7caf585bdded8af02f747d007112c1cf53ea9c89138ec53f579ea8c0dca8c7e106968995c5f05928b9a7d1e9f4aff1a27e44a0b3bdbb7814136d647f78c1788fe5d4a13582584efb94fe14fe3318335ce6b0524516f7acd0645280747ee96a75538b633a4b8dcdba07923faadf70d3d288a0476c9b760f1278bbbc3dbada8190b8248e6dcde4e115899a260bdf96ae35135c71d4ef7b2f7f21f93fee5089c026595088492e85ab3a3fa4294f5dde2c6b2b45a62737ce89a00d865a3067b73423221aebddf234db1dc33b3a1a20a4b724b4a84415d92d28107ca729571be7a9aba91dc918c3fc55cfb8037b3d9dd41655c7383d851162f71d55903b8a8b971a08d5476b73452ebc91247097345b80ef636ae3e0662a1c97fddb214be0c8fec092622832c8ef90ced3d17f44b501e684568ef055a56b27262407eef99c5585d9709cd81858c4b875c66a215fdbad153b4b14dacf97bd1105e342f8b44fa2244ccea3e032b884ab7b6d28d081f5838cb1f7eefb857a4fe2bbb040b9a8e7abe9379a2caabe5b5fb99c3afa2ee17b99a98d742f9e4f44fe5176fce05f019847033035879728a4e7e00a4b1d9433ca7222f351ceda6a9c568615857c7d51ef2c0c905c8a89e591d5ee2c0683cb105ca6d49dd62bcdab1e1ec58f4bd2ec011df77dcbd78cfd007e0674a517b95189a6605bd8ed9f90281c7c8dddffd6813d452c607f028d952cf8169e048959165d7e680189b536ae315e5dce4439770411870a3595b720b00da7f5f079c73484fdf553770cf163ea2544c8d72a44f02e38fe1b12b35e31d0a709090caecbe3f26afbbfaf3ef2588e03907d665a3d122f2a1f01da959ad60f7571f7f7394d70d276f602ece9ccd0504255611f57b101ac150032f262b5e41916f38e6c3e3dcc853338c6cd763f0c935a7e90828909dcb8dc774e08318e1cb629fe9d917c791eb3ad2e93fc5a84bfa649ca2931cfbae8f77eeb7ee3a8a5d833bcdf32ed7f9697c6671a7aab8877093f573975749c67d1c3d0cbbfb6a1487a676e0fb9e2b198643e7d8fcd207116979db7efeb709f48373dbe91b6d9448e4c6898837ffe501a94c8359da35582a353bb45b0574099922b2eab7fc6b3ea935301ef59324882674f390e529f4ee642d6f09f012e14e07ca7171bde016711212c2e88029b047f8b32f47ed5e791a5b644322e491ef504baa1d44cf52da2b444a56813896e786c29a193cb2d9c74ed8025d12520d1e1cec68c4da2faceaecf0abcc658ca60375d57a4e1c6e521d33f3c6036624c30ba534e634a7d8446ff6312699a1fe2b7deed3f096ec77136b3cc2e8829223394713f2c9fbd5c65b6cc8e9281693956823819f197df5717011935aee9397da677adbeb4b8c71501e79c478663c26dae97c48afa446e6b43af48f2da23592dfd621cb78552f785ba382ef82cd7df2cae5c18eaae6645317dab3c104b11068946fe3efab13fcbb67ed9bfbc3658954331e4e6bf1b8a6d3f3ff3a726f7a55ba5f0abdde68b3bf6e455553c2c1975a022bf0635bd56707fa0d4dc6b83bc28870c783f3bba2bda54756d1d74ad98f9215d1f841c69b80987a8419c44202398be62dd87b9319bd298dc27dae1292142f01ad716bba7181f7a585e4b223bc41344dfeb714df233fd8428fb24f57bae7b01120e42c756f3cd89f49e76ec46b372b1d5945f0d2bb66c9a62f0645f2d926fae20873bde5f49e36dcd3a9315e53fd3ca6bcdfe63bac779def5d9138d1183cf8d00e48907769e6591b5858de6b3d2a83b66815b00f0080476d9028b70bcfdeaa66a8a8f690f219ba4ee94f6ff6ddaa59ab13e828188c62cb5909bf13074375eb386f4b5b71fb9f5248a6c2aae7f11b811ef3051df93e4369ac75bc9374d4c63fb8afb548a09c06ec3c62cbb17cf11638d657e875a404214ad842ea9bdb20ff6dc8a5f4c67b5d876b127504235b28661d602994bdf18fbba72229d71678354e2112afc874c6a36f7a59c94841134cfc046e9b6d75d083d5944be447bb2beeed8a20c16684152a1cd418ccdbcfdca2a29cfab992fdb8665d89b7cd8fcdba51a0feff139417bc5f61692487ddc6ddb846e34d7c4dda3ba5881c29f65a551725a01b0066a24bc49c8b42c0739ee1b1e6871258cee8f702c7da447f801c4ce54ffb2ed01747e422ba7b13486150c72e56224f979c645c022617d702919a85fba650c68af330c725bd819f369fbd8ed83653cb48e6ffaea2211f6a1393d095f508f839990e017e3ee34eb6f5b64f8ed477cd4c5dd18d35d65de3a5cce625c46bdb497f67114466135b60c3e1cd9749dded24b4d0ed30b5da22996d13c3d5f0c055122a881e6622177d46d748b376f09abdd9c9ec642ea5900fcd6d30edf1d915c1e646c3d4b3650c9d6d79c8a76f0a8ec9da2325aed6d8d4c25e86b968deb42d6b5b265ad9e5dc2c80f3cbbf63555875e0d800f8c8ac9197b75f39c24689fb0dd131017d3975d003e8e4fb817680205313df27fceafdd5f590dde66f1c4fb4377f2e085a5e2a9f0edb516d40edce47d8de76bfa79d6889043009eddcd1ef83d62f09b342762e70902b405916536d15fed0cc01ec7da6f97a7456b6f3f576a369751cfdc071f9a9ebf47154371ef8ee7f4039b6da5604c97590d4ed7128cd149086846ee12b23798b9b3cbee132c1ac5d4338491f5363eba0a5e88887a28134f30f3cadb4958aec7f1e17586b5bb6d1aec7402dfa473293c05774e87ddb83d1cb9f3b6f4a8535cf10484a07b1fa267190934f08d91a41fb3af2f728ffc602e9c42fe5ebae40ca43a4f98308414965c441356f28eca7097191226a066720a7fb3fe800fe7e70de66c9cacc1c0b83ceb4c030cf6141eba24e587dde10b2857e2aeb0345f4fd4c62ac650f489f5aaf7abaa692de7a125726b0b38ab2c3640ee0f26856f8c7132909418616d1d7f28e00c522ba85998b2e21f0596727c7beb88210bff52e21dbf4800b2f9f3a181310ff98a6b7a1bf53a2e1c4586f3bb5a8ab607ae363648d56807924ad5e8d7f49db6c865b5befcb1c49890cb539055a959aa5bda0f5aa1390f4de25f000479fbb4348308bbd9ed824cbfe9ba94dfaf629b5a5a95307d1ed81cd6fef1ab57bc7cf6769af6a943700888f340d53cc6358eba3bc958966bd427dec29b902dd4a8d93eb00974cdb0075c532a1b93d18cd43a024571ecd3fa385e6425831b6305d669407880abefbbca56fc3e2e578184ecff2eed7545da6fa0eec487c24c1defe29658475f11f17db7130a0d41e1893c70e9f216663f0bcd8c7272c40e637dd95056d7e85fbc85478bac5ba38649089284038eb19e26ea438ba824c35abc1769fefd9c9c79fa69b92b7dc97f508653380b38a4d695d868d80a64e44b1207f4d58d7548064fdf72c5dc3deb26134b2715bbef74d8458f77f609597379c877fe7fd5a4366e09ccc625c3cc8d63e8846c7f37dbca0d5d466ff1f2ca2a4c1720ffbc7d2f49eb497dda3b475859be8689e8361d65cf354ffa9fccdf96ddd99c53f2424f43c593a5247a1cb5d7eba533918707d168bff7d2db1f43d4298f67e6c5eabbaedb33170fefe595076d8f297a2f74c7d2675f45f6fb3fb28df5d1b1d61081f3e76b119d36b2f6274c36d8238cea37e9a4a6daabdb17a2f9d3fb8904ded0ac6f7d9004b1e41a4d6178b03df6ac3a5817be867c88b30733709100afbe2fc50b93bf3648cfd445807d8687141ec32adbae786d3e7fc8a716546ccc481bfd153219d14c91e5eabddd35e2046b38546efa706523855e8db8e429dfa4360af104393f31de1ac5955573c02502aa22c7498a1761b802760f87b40cd6b1f9691383d9a9d123332939a767ec7a80db5b136f8c9fc9e211db1a4864eae98e1b1ec76fde5ba129bc9604cefb69f7798fb582f6f0b9f563beab06697b1a21a8b0ba4d37447e2a667c4d08a344f5805b69e2d267562fe3f5348282a6508c325d33dc149f31277df06d7d90aaa575254d59a8bd8e8f3d7a19d45a6f0fa8c747f3d5ccdc0426b6a785e00b2eff845b2312e9c3a03d9e3c764e3750c6fd326bcb6745770ab1b02d719776bd51219de4891d14d87e9bc5d0702d38a7fc1a248bb986c1334eb0e6566f3ff7251711c5f865e22cd50ac3d6b580c4e442f73b407936edb77a0b5819987fc1d8831ec319bc36eef6d2f1328d4a4f810cd5f32115c085fa37dc39772dfc59627e7fc1d700e72b5975cf34ac94c631ca0db8d1413e6dd52c783fdc8b420c758a69b4a6bb388123d10a5d046fa751be53e39222f2633b7da691c0fddd74d4ee7fa746e6d07883a8b39e23167b14677015bc133c78998d918bdb917b30c74b22cb96f69e10d0bd4fe1f4d7f0d9e13836af26ae8b3bb7293cbfc0c710f225994dd309d896428e99ebe5e1127c6066c848869b2ec5ac1e58924384e185cc9706e5446b17a30412524b215d1d53541b37a10ce48a6896b90a39ec105d8a5567a0ed85f511e423dc4596f628842e916e38028c04e11d99938ce743b554874f5aa6c6c6b7ddfc4fb5d6204032030581537af72350fd7ad61d2aa5229a524ada498b81673b84ba8589020958eca4a6db2ecc94b44d35029234aa60e36884c553c6b07ff4e3d57d3dedb01f88d8706c8dc70be6b85d88a2651f34203775b8696543a02de131c30089832cb3d66846923a83b33f823059c4ad73c0b0d0bb0c9fc4f60088b4606bda12ef6d46ff006c202b7b4b91ea662c206e110a9285e1726f864d704cbd8446300efd7c038feef4f4259b7327d46d49be6f0c27c6bf04f91530fef482c3440b92f1b922d65e607a01da76cc9a065e15c5161eb58c27ac133ed5a1736d222f06f0ea172ae045aca277693b915c0f6abf60edc2456ed175adff1fc4f0651b4f7aaff1af87e3744f8a0910e28e8275778478a4fbc8d4ad91bdba266140caabd5367f5ce2b6fa6887f961e0750f763bbebc20fa318ec51371fb3534a95db39ca249775b7c98704c33e9ce2998cc725eee23180273f44167b8394fe97fd8a74b8ce151e32b33a3b9d5d08d466673b4d43cb8277868f063688a65b2cdca88c347e9a90d3b913de80603ecfc8c43b4976a06ee4ebec483c7462cc7cf8791385fefe774299682ca9062ffb12366ea501760842d3b606b04811adc261a884888153edd51ee19e3a94f22c86e6684b71502f5de6a16156eeb1ee36b2bf989d903202d2e0a51198822103dacf8f3b7296f658f376d335d484589a63d42242c05368bb3efabe7c291032d163f42953ad74c415f3d58e82877894d646873806b32e05a263fac2ef78d4199dbf7bc3d51048bb3d4842b1b7dd36083bdcb3177d1485f6a9d2db1ec6e9c6e6fd4f175c2474bf23eddafea8b4ff2e2f6c538921f9a84360b0e02ee1a7ba3e4812bc9a1a93b25b839f63ea4927f80223a75e3d78a2ceb8fc5488feb177950236e3cdd133b8f39f07f73dcab1d3a8a395e4836fcf046735864929e486955cea0238fa6a850200d0afcbf3de965c208a609431d4b847a01bcff1db8b9b78d081be81823045a60f08c55fac43ce1eeb9530a1a4c991a0a6b5f1c2a78084a89e22f74cb6ea478a5b769259bd44255f4472aa6662cbebf1b7c3fa4b4384a2efa81bf970e8034a65338c3c0f570d6e749c39c3b50de70fd31e2f693ad1b8af66c6e420677fb6ea9ac4ea51a38c17679b5bcc6fba49d0e06fc588fac789d5f363a0cb0383bedb781715654ccfea2a49fa8cac80149233e7dd09f367e41265b4fc624ed1d612984fc3bd4acf9282462769c24a734a2619ad211fa739dc92cdb7e0de03e666449dad1835940e940f756777f6d3f3f7ae27af80e4dc19ffe4ab68ed40b16539dedd1db7fd22eda6854ff18207a022af22847038f0e052512fdeee22772e6139a840b6b157d097708494d67391aa62b241560123abf1baf5f3dedc25404702024d7c63acb6187bbe93176148b1a554c39681464d1ae20b6cc76589295e5126217a0e3303c78cc67cb252ceabd8967529baf90bfd6ad80eeed9e9f47b3c2fef8dc7165916ba6c080323ac9c02f89e22695fda24c79b8fae7bf02a62743a1bd7edb2eb6aa5a65ccfb9a10852ae10090c0286231c066b264edceaf5758320029aeccf9a3db8f001c432518ae3fd125f036c2c5200179ee46bda8e7b8fc87d0c0b615aaa774604b4ad9b9c90f4274ff33db3aeccde2a3146cf609aa972f5c7cd809e7d0d72d1a2df5b4b0195ff8432b451b9a0cbdb2d2da63e720505092260b4df0e4f0aa29bca4a75c9ff7a85e8b36f6178ed0829cd6c0a2b2c9cc6db97b73c6b99b3a405070748822578a2b5ef6c47cea4aaeff16f3391f4278aa93c077f15869001db2a20ed821e63aad0beb938e6f5cf8b9260b8d0fd3aa5dd36bf9025571434a55c2a9103953910220cb4afec6d37077cd248cbd1601237e87102d91103e5842f199f83e8913ad218d3dec04c93bc23bfae62a068cc1391058fa4ae6faf997d2adc2a2bd4879b1b0aadd0505f6c3379e4405803e4e9a45eb6b9c8aa711ba36709864c05a0d0dfc6c3da6143c190ee9f304a3907a4be08fa3c19e03cde8cf64295160d29fda9ccdde50bb182a8f3bde009856c82f109737d4e209e0c0273afe8ba387103e703d9c4816ae2f2f79409941a8400c2c3eef6305ecf0d68ac7d5e163288d024bdafed4f7982191af7385a3aacede2cba6d2521fc9db671b62e69ad036304636865d1a30038437e4c8ad68dfbf352c33b4cea8e37757752d5197bd0157f83aec4d6dec6a99231cd2fc27e6f0d5f9ea72d28f7933ba53d251af1afde95a8f4b08a1b76133068c468bab474cc78f3fbce2bd385082a7b4ecbb4a737b82c4a4631546017c70e0783ddbe54403b249103321afaf1742234de907997dbe4fab5f8afe892dd51caa60cbd4212c81b7ff7f54947e2312540a6197157a7f74aa70819742d30c182299709fb4d28c96e3ce1c125300d37d1acc270d882e5be2753eb0f22de733e453b6e00c8cce50a622a260442335a9f18cb26832accce447515ea9211e64c7a650d35e050e1b3f757f22c6324d5960cae5e011df95ce222839ef035e4fd0887c70a5b494e1f37a817e01b0f862df629ca7bb4939d351c832f94df361d82dc43c19efd496193ad4ba09e5d6fdc5db1ec8906d7fa6f30c048fcf860a39870b5a1a2cf4373b2107e83a6fb08204c61415d5c89b524896088d36dd05b30d73c989d819ca71652e98e9772e96cb6f2cad95fcf755ddad418857c267847a4d39dc74b5ea4d454e43190a3bd9b634bebf5218fc2106f3323d5a8579c8f909186939e95a59ca20cd5987f9d57e50ff24a601989e538a3cd2cb52e7a11622d6a3a5e3dab4742cbdbd00a4edfcae03975e13d7dc1b11020321a00c63558138573bb6777288431d22cc2dccb79436b0f8e40b018110a6867fea265e63503c154aee2ac7b3fd928a158f181bf69fb2d3ce9e4e0154f70d8b7788159e709ae211ceb43fa87418fdb334f9f604af8a97fe538f3994b8f0991efb3b4390181f5eda38360d7ca5b3712c58770e90cc295802c94ada1518814664c2e45e48b80fd35198406972a320517bfa319d8b31a76c9e237a6652601fedf9e43db21d907dd7ed03f9a866cba6cbfa6d74c185eb9c3faec8691ea71b22bbd18354a66b8f4c3537082b583fa00961206dbe9621b29de047b6b0a42ae7dd004d3e3e995afc1470304d94f892bbb190b40977c64cd61ecff15d44e79f7062e0bbeae0dd1ca37de8852bc8059bb493d0a5f6288845418026c7a0934e577e974e21adcddffd44d0a9a18043c28e723bd569edda639c1efeb86778f8246fd38e1cede9d7e69774ffe9983f51d3a99614d1c5c13df43e31093fb7ab4d32d00a9da5f07583b213d3adad3c83143aab420bdab14d303905389172c42668147daeb7760aaac6d545012206f5767e27fedb08cc926a1e157d22e817b773c02614cd41e1ce9873eba8e75e34d15ff3cde4ab7d60558e9bb97d074f8eca64ddf37f07f0bd65bf3755e7ae4235999d680d94b98c3001be472663ef90afde69bec364d2f33826588064876dfbec77ff6baa83b8d70bdb9248a537c57783aefb22bd84620cf92e4540c93efc3059594a9806bd6382a4d603e505ce7010cf7df74e983165951aaad30346f29e80d63fb79438ad1a20deb91042384e735b6c20bf1942924aa7d9cca0360409b9c7e05d8d04cc6df4616e39fe552de4a982f6c7ebfad71f9c2039f2b0ed37212a3d3b3cab21a9625091689b434b82c80ac95cddcb2d9d5fc7f326cf98159f5536240b1f15df4c182e5c1a076dae65bc58e7d6f79a994db1b998c2ce688b3642996bc17217ab2efe68de11c87036572e241def19c157722626619d91a8fd2de748a16d37fc4c4d4738182bb151ca54eb75d7eb956e9eb5888e4972265519188a19fd06c45bee0f87c0f37769a5ba68c9146a965a034933f56f18c51905802e95eeea11cfce9ba129b6a292c60580e45f026f3d91455b9557915d616cd17b6d16dae8801285ac1c4d027118202623b972656df9c72259928d2e87624bc7fe7dff47ed6002b981bd3b330bebbf77a967394524fc62557ea5920adb9ef58d3781c9f755b7a5049eb1a933f21a5cc68ba0f5ba956f1115a2f81d14df2219562fe2ee6954e992c9028e46bd6e2cf27cd6653422a0e26d0ad915dc8387a0630bd23cd34f01e094dd99692a6497c48686f066735271acebbb43e2ce19e551728b4b594b201da91a92c3030ce84efcd81dec9bd71fe5a91ae87538c6f181e86c2754f8cfbcb55ae7496e1ddb8ec4f2c8b88e8745603f98bd103e3386fdfa9b16c97465f5d4731131a52464eb217c3619a52fb98e9051b2cbd89c1da7988b1787c02d7b817215009424c3123a26aaba967f9ae3a2fe35d0383ad68cabb131b610c8d54429d2d9fd85e446abaa30bc66c761ddfb85423f563e08b4d04952adac015a5d9cf010031e51f4f4fcba10f8da50a7eaa6aad8d536709dee600da841efa1cf99d8c07c37b79692036685da6046ec14b4fdabaa30e99e69d8f5c75d4e3dd7a7f7221942b7f2a44150613bf512132f744695c461c59aba1435bd1e746c1b505b2f3d197d3ab1e54574ab41790a4aac904d383a963046d74ecb747b4a3cebb65f92ef59c4320e2c11b9be02ccc52bb2297fba149d663f803cee42bf67320c87c2c38452015c8aec8c6906148d8eaa9ddb385e7d648f6d29d0e2cb5bdabe28f2ad9f224e310ba3bcb807b99b4a385f8be8f030de012f373833eb656f78c10b88a6feeabc473bcff1046341fe91880a1561333a03c47c59ab27a70abcbec7a9ab4ebbd5610dbb86b335eb7b3dea8b684eea30f502f1e6f50c2ffca59a7996dac088ce843b7586f770f420c46915901466354accb76d270cb2f1aed394ef0ffb5c7b2e068c2062f52cd57a587b93b139855616139fdfee945bf50557ff42355000690edcbda1aa6414c343f5396d260964e762dc7344eceb4985e1f52d7db7d15774f2b193c36ab17c96ebab5b4327d318a500b048e53c506ea26c92e42e0487df0d5f0b8a3c551b42c2904c154325a913c4dab56001fde5f8326f41ca9a4245ec41c1d5d1dfe525b318903d904ea22d4d9dbe2ce0975048f1c55445950192a9261596c58062e2b869a687011ec621ef47afa11f58af44e5850e624363c0e40cf0fdf795b35d09409053a21ff838f9e3fee7aeb4b825c3c7057f7038af0295b6be57f883b64139e8f56acce7bf8676b6775b14a305087e3bc042e778ae75457220e9e3e4dbe27f69e9d4bd4bd0b623c534f009f1be83bae9ecbda2a98f05dc80017825929b192d5c793f4b68d4bcaeb4ee7538e309d5ffde170124d2f73fabd37279f3cd758e5dc77a7a9742da3bf23c727bcfd9850e8d8c40c49b6d7e676cf9d6dea5e411ad7ff19ff8e870b72e1dd26d5222807734110bcf61775063eca7c66d5094f80f774f2c8fb575a4ad94b0430fadd2d3d0061689e3a48eee3219056507da97a5ae620dbc3ef7d6d0528399f1e7285db6345aaabd7f5628dda2fa8547fdd747dbd972048b4a10f21018f520a38b8bd372864cf8f18f1d4a927532cd910f2e99245ea14203e2906e2b4ef7eaf073c73c69f5a84b23f58cfb05f6431005cff6da0739206de7eaf184edf220428194334b5db686622988c31902836e2bb3bf677bf7bef371d4e74675b0f15d43567e6665635ff045a1e00db0de1f2366c97fb1c2f19ef0ab6449febd07e74b26a8b5eedce27ffefb3b36bf5a32ec8b6eebe99409001affe1c56027b28a0dd94fc607464e6157ea2bfe8aa7415c9964ada31ff5b507912275e3e18af8c7f3bff7705fdc9d440b1c3865ec94f0d994499a0d08f625d6b96dd8aa786f876723544b8e9f8b8b6a4c479634d4f038a24f0d82997b26a870c33669ae18f5ccb6db1a2e5e835647fa6a3a94fb79a0ade4a2af291442b364dc6c9bbc500adce1feec066fcdb89c56aa389934c26f4a9836f707d5cdf60b73aaf3fc1cff5fa42511ae05db07f32bfd990f9f9846264a064d2db90a54ef0ce900aff63039e9ee7e975660a16ce8ba78b4850e71266c3cf999e8af06670e998385f2f32a1994355dd0e7375bd5d3bdcf9bfd9af56015d5ed74a16db52352ca9cf47efc1de443d1354cf3f9d7933909332e916637c53b322f97a732d9da99b3cbf1d548c661138d2db413b558b70280db5475f0874be9f201eb44acc8a7d816059425463ea9ad80f710cfc3f8dc56b1881bed5bc0988244e567db88bb5da3c83478d6665162b9bcfd1e951d5edd7d4f161dbc92221af63a528e7cb9b914d0c2b0cc9a205756848034f3747592fcac59d3e4910c3fe0fefb6bc6120079d84fdfb9e40b6d391bef4c34c46b8acdb5ba8140b3cee26a4b8bcb287f71654692d82a63e507dd245e5355f06be3e530eb6d4804988f83ec40f4cf5b1ada0e745b2196bba632bee2984166e2100a996bed266c9261c67b15448f4171e13191f94b00c7ad81aee22d8c2ed212884b97a213ac39df26ca6037c9b123adbffd99eaaaa71131fc57e2e5bb3b0103d8c4d5c72640fe7c0e8b3066fa67c9e6a298528bd802ea09f5acfe5ad973d323d0402551f26734314808d8d5452219ac212c1012e9f2b16294948356dbabc618be0e562ae5cc3ae222356cab91282bf29cb6f5ac06855e017d56820071e8321f4541f10f3b564b7d66c83fe6847986b8f2a86adb23a958b3db02d769c37aa65afe9560748c90a6fdd75b004c74331572321bbb8300eccb63735d03786cfc5133c2d1a427143eb629449ba01a9da2aeecfe06506a53ed86180e09018818509749f2402f7ea75aa7a19ac81b092552655fab150d4b8948aed8983a3c7be97f815c01f63b6a003dfc81cb77a7d7ffa0e5deb5667c9616ff8275693492aa0e36443e48faf4ddea0947c7815b08552de1f83e3d832d60ce2a5c1b37ab856d9bbb4b14a33115827155b8f2ce9d9f2334d632794485109abfc0484b95f68f3d512b999964df1e5645d8b7a93f8df4581e7e45bb9beb51a30080e23c82d7410ac84b34ba5fa1c6e06b3fafb7041d9df7f76ab92fc58424a38b4ec9ddd5ab17574d801fc440922d5ebaa738aefb9572945cb41e85ccc1d9ba81fed7e9ee489ed8f510f331ce480c716fa7e11797fee32d9fb8522b370ea1e8181f8f4c44b1a5348857443e3c2cd26458d9bd7d64f4446d4aa627026b96c9bc1e97927cd9e1c5d0d81cad829721c0a2fda0ac081ff4fe8072d32fbd311e3343285e1f66cb300113b0a677a00ecb18a1fc7656ec2c9e1e8effc7c52c45d6b1ed0a0105efb592b2f7f19ae11fd82f2d52e64f1b77c4d4dafb9f27160bb8c8894715d46ec8a45595e05d44a8a94d6da7231974c8b4fd2ef7afc2bb8c0810b447ba3666d02e69d80f8d16011e7a6d7315db0e489cbf97ae93fb28220b9c5846332d982831e42e82da5c30b6f1fcbb31261e5d665dc3c81566e0b0a88d0a2cf3ae63957ff70ec27e48ddb2e0817380a245e9a645cc9b8b5a6d0859d1a1dd2c9f2b6aab87677b487f5c590e21a1a5ecca3b18a5f80f90a2653b97e75e27a8b2ccdf2e6ede3c1182c60b2d2ba4e0daa21119e65fc5811de86d9704a44674bb39cea0283ff113c07f2a27065289ef211551e3a35888aa665551bbd52eeee6ab2395990d7b38e7082d9d60ab5d77dea1f9e04d072f446a256f985ea32f47b18c4a178a2f1aa118cce0f376c72a042a8ec951460414060f3dd83b66fb611d27ee09bf85c16c7640739a5324bae4e2ba4837a97b48dc6b545b085d55a08617c136ad60e95e213b42a1d8bb69d08cb501616c1aa4177ae99189206306d5ef994448cbb23b1401ae771a02133547540d709afe8868210e870496cc75b56f8e2ac33df49d74fa740fbfe644f215d8d338f6b27972968de4eb526badaa61af4d892f906cfcc830a0a6c99cbfdbadb2c2fd5bb289fd2a418f2f9d3fd42cde7d7d09de81a13ad42e376ca3527bb61faf76bdca251cadc4d39f0a7a554c3c7ed6386895da200fc9903e946beba46a94d5ca1dcac74e234606a6c4c0acc51a5e898ee803f0f7a8fb2bcb271d35fc267aafc4fadb32c62fe1595e4de5afcbc0898f324039ad6528a23db5413c397ed903e239fbe683b1dcf81aa311c19908ddcd57ad82beee1fcce98c8e9a84b4efa4ec2e9d35a499852d8a108003eb40f5a49eb4fb4db884745b79acd6934382b8f66f95aa605bf42b45a63725f8a4f638bca84a3aa27e09717bbc3f9f217390c9807ae4aae2b7f95856976e966c74cac1d512a5e9e8de30d5154002d1f1a6ea84aba374d268be8ec4be94a93008c158b5772472e8ce3630f3bf49bc89422edb73fb0342948b5eb9a8a3d961a1d82d7695356eff18bd0c285bb9540369b58814965b5655fb0f92095baa90f9cc761789420b017a642cc19244d8fce9a4c0f0b00f2f64147d9b4928fda3b0103beca9d768fccfea54fb89df7ff8b84695a1a51c86687789bb4b303d908c8b946834dbb416bd82541ac6d88e52c892bf9b3360b95cdba0083025da3ec68d5da04e5000c36bb08ed287c2276e6b4124ef45f949d33d72fc08f41f90ff3d3e92404fb8be95dceae3803f49687ce082050376969cdb2b5cc255a59274c77ecaad6fe7eba41f523f5c6d7600e4faab3f181d934b76e2ffb541a190a5e50415e359b8e621746fc36b46a4f9fffe382e83c4a4b8dc8948e61290ff6d74cf4cbcfa3999cf07c1519b3f92fb3618d68a568f3ed2175dfe40baeb7d4e844acb96eed08ce3b6bf8b68394b283763bf97b2487e858c2961115d39433d105c0565fc21cd64fe20d9597538e74b1811fb3e05fe7425c8b0023625f8298cf11cc2a00c0f26be9c40312e9d4818c3f3a105150f30df1d69ccf7bd746a732c7fc45ee3090e700cfc6cb48bcba026dc65ae59e053c27663fe062c9a0d421b652855436e18d5b52498405f480d759413afedef120be4e13bd3c8e45048a42bdefb2f0e57eba69b266840aec117d8c559b01e904f71d035e72f5d1f8a4064aae1e322d0173bdb795a1ae453913b776c65470e5453ae3e1ef7f206fcd807a8154fd002ae10321899f924d52f05fe502e2d4c7516783d0c7c442134674b43955597a80e72fe681f541beae0cfcea673242a9a8f4c069d04dcdd280a6e4f745bbae9476eedc47d44286ab2d873a12161d3b2aca3d2b76488405340fe8d7200b750b92e23752e239014acaffc767795be76e22c66fbf8f238dd9f6e941f0d457a1e1dcf518623bad90764f514a8f91a75b21ea9919ce9b6b387add43c88c43eb88dae542112152ab4415b55d463cab27196d3886be5943f97e42b9f1a199684fb925ed49a647017f4cc4ca10406e06a3b30dde89dddc52f28a5be7cad487fd5794c8d90a0863cc37666d5e7b2310aa71be67a3fb20aaf3f43c593610c99c7439b50f8171abb02c476d086e002c897384a819797760c2d83855b1b2ce2e28090da6c2c0175c1adc5c39d276f3dfaebcd01ecfe2d270f2a6252f2f271b32d831e643c6f9dea819852c3b5e21e232f3920dbf0a23627a8c7f9ea6305c9d57a1e0685ac0230eac695b2e9aabd509625c793e48a5b51948dcdb9eb9d928dc75bd15301f541d2bd59b68f369bcdc16537efe243b800dd1f8c7ed9297661b60acd52e0091e5b04fec3bce157ad49ebfbf324fc74eb2470577a9ad48a8f942e7475695ee6576827337f2bf0a95564deb5dc6f60df5955cdfc84e232dfd6d45e62806b7bdc6ae240afc18e690fcb8da7e1ca6f4e09cc4b09f67891ae00f54dd5a99e2b15ffb3e3a9ba0fd9e06d7d8734ead35698ee505d671826843724c11949ddf46342002f06d0e22c1dbebd079926996ac5eca20d6aac54d77746f9ebc12d499ba01cc0c46929d4bf8192e0bc4dc83ace0235a773fd108239ad5973fee8807315b309a5abbdf6f54fa57bdbe566a206a611f485e03165ccd5e2fbae10c003766e6859c0de821aaa8568c1685aa81c8c5a39b76ddc2c531e8ceb02a37b123dbf46a98c203e819992393deb133b50e64ce1bb0e7cf1543aeec84e6b2d0b15dfd2377c2df06c328d545b986152bcda123aace3f9b1b84985b6c45479cd22e077975d1490ec78f69a70e61bc787546a89ea4fd005f6f2edc4a9abaae495fb9b96ac4974dcee7ded91b509423e52d9b61a73b689a067d926bd7b9adca6d1a3b1228b3b7cf73958a8835d8eab0d0739bf9263c984e45664c1965219aa648d2aa735788b9d2a4a4c1ff9fb3b379744cc1032217a1cefb0a4cad3f6bfe2b1687925b9e9f2dd5b1bf36b2f672e3dd412f42d30ebf5ed608af6d27d9ec44195013f8521d98f6a3794624394f40c6e01e3fae2f440e98ab2330fdb01c0819d702ed7cbf549071969e3aa30aa67d0a1159ff4fd61de4deedec5feaa916aa489bc31630ec49c334f5f366f0e0c2959ceb164b5ce13ca78a661560fd5ae433f612bb3fa274128d785f0584743f20cf5d1fe2522d4114b332a95836ef03c22e23d5f621ce2e09c63325cfe7ad4cfdebd5417dce41d5360acf0e7a38e84a210f5ff9f03711bc1962ec55f2b97de37d6c83c894f8077b6e66785d7f1dae4937fcbcde2c895afdc3b604d45ced1f7b484a6da0cdbd5763248ea29e5ddf169fb271cd1ea2af483a1a376b0203147b748c006860a858c3a746096dcc3503d8f4cd7234b2c39a0fa10ecd00740ea6aad885934835bb619c2b6ecf0b980f85373e6355ad7e6e8284155557b0b98daeb0b621537f6023ac44a48bb6653a4d33002000059d5e3bd7a1ab9bb8730c863e20a938ae28fa618dea4433860dc4962a3e2df4511f76ecabd86fdae10c7d40a4aa7c729e83e0c8e7594d6713a7f5a9b53123cfec7a47e94208a8bee6e47952443304","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
