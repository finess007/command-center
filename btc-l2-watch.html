<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"35c34c0c7f8f2d43bad8f9bce2cedb1a199139dfac1495b32a9fb7610271c65fd6c665e8abb55095328648d39c30e4c2a73b482df2cf84167e16fededf1abbac65e595bf162a9ec4dc42c7ccfddb4396dd83fa2544bd34d1be62a5b59f7e226b4839afb8fbd60dbfe36d80d358bc85d7b85cecadf4068da414892969d2f3d4cd3a328c60c71f3e9b3475d619952cc61996e645aa64d7442b8ff2c247e007f35f12d1e811213490876ebd66c6d2680481a1af726f6de801ab078fdd4c06aaf24596c4aa1f3b91ffddeb2366c73166dbd8701707afd39afd3e0f387a4420b13e3012b4514df82b5cf026cdeb71dec2d3603de97bea0db44adec360e3f5e9b5179bd027fdb2e893405e11474a58752914e51548928e0768eb8f15dc0e3ad448bdffa5b3e31f3d910710aca2eae3229fb268b280e8c592682240f1460fd303615ab25a24d055f9476e1a5f84233c0259b950328157be388258cb02f76b60bc4ca66d843db9c74b173f5a4b6acc3401595c68630885182809561c9a6cbd3caf89f8dddaa102ac1168c52f4913084efdf22e5a7f4d5b436331744b09cf09e9c596af108edb7cec6cd59b8f2999c3da85f44996b9027fd2b5d6bf904e3238e7d31acfa59053d53260d1bc1ca02225959c5e03659b65e0496f14c2f6e5a7c941277e41f69e63a7d183dc48ad11858608b1f9c8e48c6a08d4427481f1b194753fecdbc6008dea4be82d3ed88c247c454fc4bd68d8c6f2e17c98fcc0ccaefe60292409fe348fb74b64294a538d263954d2f18ccc847119d29d2090234a9487de9c1daaa804f7eba8bdc1ba1c4ddd209c15e7b161b34e92e4c758950ddd06bbf0098305c9ad66c2b3337c7467249090d0d4f85558b3b7f00fcddd00f277dc2143dc6076aabf3f717d3fbd78b07f21135c35187b815e22c4f3b65eeabf4c345db036ddac0e97d9be66a721ce6ca9b688aa441e9578749b69b0fcad27b59985d33d206ab36093158eb42089e57ce08dff6561e7fb6a4661ad881384824488d4bf5da6b48929384891001b19a3af992cf20c507a464f4acea49319c354c5dfa0b4060ffcf04a1f00add22404aebea7479a5d62551e66ee808d920cfd11e67d5f7c6271af37440d2f993a78d9eebd3426fce23687ddc3a984c855f61c8380a574dad3259f19171adb28832b14dd153ffcc19f09c335d616c0d6f3dacdd727750eef18366628bc2e8ffd628aaf3c4d51844a78a47ef35d9e6fc81b9dde3c94a20ca8821e528b3f44565b8574c85b9a646382e04589aa9950ecf724c486c3d54c78557165dde4d8074c155aa9a67ca349521bca65d2a76f6b8239c3cf527d44e82d093f3ab265df89effda005a1a5aa79dac83a2a87fde8eee0f993ef43be5e935900650946ee5f95ea29ad472327a9e6d633da1f2fbe3e8c42ac28a7daa1afccf23c99afdef521e97b3e227b02d6b43d26d0384e03f9c647b8c5487b68df5022da84025acb51b8497cc32a87e7de9a256b5f36ba57d2c6f76c4270aa5202ff6a3e8e363546d507f9a27c1e6c8c41b1aaa3d018f0e116f57a3710337ee59c84e608d3ed619ca016367ab150eccfbc9d5fc727a57316ffcdbe759524106312d16945fc152e0037a1db22ba7d0c0f4175c48e2d3e8276e95c8454579e68a830b5112006a49dc6fb72dc3024b17123f6877608d6e7ac1904646b8ccae249448bfda8809b7305554ff48415373937514757a5a7991abed4956d6700285c2bf4e1a80d2e7814943a652b205614a12a96e966707bba3150378955b23b069d6ee4f9026f8337a891d185a290e8f8dfec896da2b4d2ec7a4bcbe39f081a018d342dee442a11df3737d0dc518fff761b059003132676a12617ac654d3c4b3a77d104358ff6aa59b67ea6e4b1208c28f9e29cdb122c2ebeb07e5ce6a2163794e78880c70b9ede8cece816af5efe23998ff1afba45073bbd9f383296ad492d6fe6d75c5c969d391153cb2a9263f1ef061b373e5e7f82c74ee2cae372a4a5bd78c12ecb63e9b16862e731a8e5dba2ff88d6794d384477e5a35b2c940bfbff2325c10a97972b06fcfff747afd8f3d7bad2f0c81249e61c5b55717ca80dcf1c8a2b965d9d09f12af5c0f49a9c44eea8c75640a45897a908e78d4a056e86f5ec0132843d2429cba1bc595e81506a6dab41a42d57aacff23b15517d983e42ce612c5d74341d3d5f2fb05436b28766cdc396b4160a61f4dca2c9a6b5f44a12f4770ed54a7c331e6379bec0c400212ed5c86c8e030356466854f270ce7fb3147fac6ded205455fc9d265d61d19896fe6eecee9a2bafd86ecc7d17ae5c2f28f508c2d7d2c222bc34c6ee32fd1f79a64f46302a1f5bf1d0633a64ea3bed748b9e51a5c486d17b4e1e16697adeb4d9a537a502ecee78a749a35add2165c3606e9332f591c96072ef03b35ae2e6ac60bd7b39e1a21f91030cc7eb36da0ff35b1442b8ebc3c1ee9dff0f85d46a66775bc6f6abd5e3879613454fb98e3b871aa1a7ff2d037f91db143024728f258b038261c7ea5ad60a3a8cede155ab4b73d5d738ae15f036ec66ef18b3c12519c2be1267fb75e0d1b42b48b334d3067dd0e6d91f818d9776537b8d6fddc27bf2ce541ffac019bc71fcf524a688c5980e0ae5c5f7475ac636d15339c48c66e061ea2fad6e87d50006c2a3da58c36d71570f6e3c6eab946c8cf7b593f65860516ba9b6d650c9d92f66d004dc14e14694b415b0b7b9d1f0323053ee6a8de9425578af9ccb981cfe0f30f850ab1b4928f0f5dfd6de8d4e8a23e7a589537cad437855a9ec47e2096a9815798e77e7061eff6c07a4f908d5e7770ce87a0b1c3f35f4626fc6b09755f37261c21d27ab62aa8dd6ffe872b1f9ce99072501e96b4c4addaee21cba8e908fb22446e2c533ae6311348f74651dddbd7d2d37ae22e13efad996febf22f696e40445f9217213279a5e8c3cbb849a1b47625c201ed4287a02a28ffd4822fdea4658db13e08a42b084b639e48638584596ec101649ddd623082778f06fc4dadf4366844cb765c923f879e40b4a30d55843c23f47e8bb545bd22b066c66ef631bbd97e5281ebc634f51d19cdf7534a6181d1fa3fae30da02a01953eae2e3600f86b663ace5ab5949ed5bad307f9ea42c60d720e547ee370b9172dbeea4c15f98641f869c427c4099b1554e9be7fd9a929a4720ce24764027cf1b7761a259927b2f7388dac1a3613bd223aba2bd3dbf4ad99747aef72506cf8ab47f7a94518151c7a25c9f44939ef0dd9247469b748cc6f1ebfe88bd93fa85e7a6b0db850af11a38b8c54406b40340f722db277047057c36747beea45e8812a2874eca7b23030c5eb8e22e1955025a06e126f4b895fe39229c93231165ab43334be0a60eb80adaaad525c99cd35a73980e653c0140a6d3283758dcfba6b2aa3c26bc83b5066b0f6e1dfcf6fa70ed45d491fa5f21bfd60be1a6e1ea3af96f72a343f5a5658533887a060b663df681290014524361b74e449add1a4f97c3805d6cc7445facbd7e76e0e1529f864bb347a733ccfa7f602c1036ba983f3558e2538afba880bbcfaffda5de4944f89ba2b44dc04c6877a169a3ce6cd553361292f17dcfc939243dcfba7ea323a16cb4cc5a075d514dc9b0380a2c9535b4b8c994722da294a9809b9df249c459ea39e8ccdd163ed8435274ae05a898224b673d8c55b3cc8f1ca45d1a3ccc56b2d4b2cbf47bcbb7e4837c632caf4a80449f19f4745a856ab81a6df62c6755589e793bd11b8209e0e3786ac8a10054af1219206ac0497a05f43e7a787ad7eb94afc95c37a0481addc5aca9393f445768303c3110e367dbc9ac2ea91003d68873dd85417bd4f5ae32acb28e188e46fb79bc471dfdf3cd5327418c69c31bb869498575b39f157ef20dd9f6c6938123a9856db4abaa38e02eb4c116259826bf7e8bbfd9453e9340caa8c3c95e04e99dd0055ddeea8559ae07732f17e71b601622adfcecb354e65191aaad5b4612de2f3fcdad1de61539aeea93419b56950be440bfda17344cc0e99a95c5189e24e73b6cec4a7ce9508eefd48042a554bd8cfd4c8184bae50b83439eb5cabef307a2a9d84dc27e3edb870f5e0b902046f69a3fd12736fa2092ce75f738c80189f4577975a6b5c72eb6cf43d87cd323290063725f384dee6b1e0fad31d216a273e1fb25e62f31b1622249001edc2cbcbaae29cf2b7e441827e9d330a2ec1ee6618f59223f4a8c991c2c4ec6538bd00c040d67633131bde1dddf895ce5c77101950f6233a1388a3821090e9c3179fb475416e38e176b0cb2a57f01c8ab1fa2a84b62dd8728ee9fff90dbdefd30663b33bc69ec86829586c7f40215a0b56516a606ce80b9abeed50594042271a9ccecf0691e5a7872850b37fe581672b6e151197d98c7d130d1a10e25eb545c0a1a739294b13f433dbb783224d1488a957ecf0796a57d75d23e7a61f3b62ae546ea92b2b0d0d955c3a44db35375f4fc3453cf48020b29a5e5f694966b78dc8ebce8bbaa6e0d16538a5683dbf406a5bc140101a285fc7a8528941b802968485bc44fc9001e1dc49173fd6c67f9467b71b69817dfe8a31a3e3df74b1dc208ad1bc48b9ee9060c7c3862fc339a16aa6bd06bed03f0fc179d21118661edd937f7e9876d36edf42e946c5c12dc84ac304f1558ba29d7280ce80238e91ec68d5e03afd8df8490b8b17dca6697382d9dc252439e870963f3ac2a7b980abd76f8b9787169e0b5bc6720a763c1be2122ad2ac1459dc2c8a33e264f94f224aa7dfc3c7c2948608db9ef63e0b97e0ec9ee6bfaf18bf27d6bb92637bb2bd3d216082c133bc39f5dc8daddcee5957eee942dac880fe77eb7b2b6c167ed33abfc810f920090010deb8815d1d369d01bb8040fb0540ccd8afb39bcba3cd287b481e70c4fee0966607585cbb616053665ac306500e71046ad01095810726988c2700e7be58efdbcb10fe9bf252fe9bff871194d42ce1dc04ee7c8681f6027c5fdd8da434d013bb8eee64b35dc7bdc1dbaa62cd7f19cf111a22a2107c47073f34f23b46ce4f65df253f5e9f1521235fc4156b5148358d424b2ed7a7cb6f5676b8e4f58592e013c548fc6f42cf3a5045ab868fd377823e11e6817d83559865b7786911fa1d6f0629c5da16a8333a107d00faf418c9b9e7e8371fcaa1eadcc8a45d71e04a89e61f159ec2cf11d938685cd5dbea4411d637f53220352a8f9a44e8b95eb26dfc83a75134ff655768b346b522bafdae539ba24bde39ddd646d0d45358a281a8ad0da0950a78c25340cdcf1d977093772d116c037f9c558e398fa3d21c2ef9830fc52ff2832aa21e9b2773125d7e0f0c02a6490df48034ca84752095f1b9ef354bbfa48a13d83e81f5bbe7d6306bffa0d8e45bfb5f274c7dbc150859e8d52899e3efcb2d7c5a40cb1bf23bec446f4621297d02209649208cc30338871ae5efb0c3a45b41ea44aca833c498c63c24e74e55cc186a0ac9873f170652cfcad51656add05208f6517095758932d9ae4ce0ae6e1db1f306e3db28e5bbf9f237fa10a6bed8363a95c35ab0dd3bcf64e939ac1a78245df4e2079a5eeb6f09e1edaff76e0b43d31bcfbb5bcf0f64ee41741480a750f038d4793a803bd9ac5bb7f69a951e7346141f0e8f84d0bf366b36d2088a6ee54fa8b528c96261db1224f5758288714cb1cc3b28dc6afc67228f5745bc71d29d8a78c706cd020d9f848813ead75f17744048d47970b2b565ee9c42270d4f4ce9a87525c88ed563ee712056e2ff2863b26737718376bc70eef4ba99ae1b9e9cfe21dc7c0ef5884a3f942b0c5b9c5680cab33f6e092aaec2e661940e0015dc7a221d76f5e245fe41abff3de1f5a679190e83955484785f7186e386a38ea2c6fd0dec073ae3fb4d2df946aed3ac28f19d024c18af595f0141b51fe95c24af5fdeb1790c232109c923acbb8777d8d878b49124a1ecf19376fc7595078c2d4f0957a64aa39b99ec20bccd1c5a9a7b4a925354682e30db2a080ec0dca0206594e36de84570d9d4591d8b9094d2f8b5aeceb008216795dae5a10d226b1827d8012009860f8409cb66f5c9f5ec5615ccf51febedc28645035e7a1449e85fc128abf443174b9e33140044194f767bd1b3bfd31594cc4ea4ba8ea5baa6b46af4d3ce137ad539babbdf6ad18343b377d1c3a3bb4fa1ab7126d78da5e5f15cc64ccc1f11080abae2587057e4a4283296d2a32eef05fd0fa37bcd3f66aa46d4f0b1db3ed53513f1f0437e98b58843c5c40e20a00b0faf9d6b4e699ce575b5977c695d9da808f6332ba484f8439288941d4c864d8c5a12e338a5603940a07084995c67ba1d437b9c6c3f689628359460ad2329ba0cc7d7a2d4ad43f64de21b515349d68aee09d98e26f6e94a57c0a22c6df1baaddf48b22936bfdbbcefd579ff93f01a9dee9c2a1db44071cd1c92ab56aaf08562d0f6b27050072df1536c2936c02e31b5de68ee2a228c0e70f89314e5cb71e606247e0ee6b2576f191620d7d98786b1913613a11bcb4ddeeec1eb048379049e16810b1b87e5ec01ccf53e1f8315c25c45896f4e6578744115725664f7386910e6f1b20dad1145f8bfb17f5803e73fe866cfa82ca7e3dbb7463119847d3cca927ae2aa1cb538d82d01f019a7e22ac74df43b2d477db09b0ad4bc60ad1c544759cda8f846db5649cc34765bd2874f2f7bfa9d8b42beea8c88768d8effe363469544ec1717aba9fcdae0e259cebd75c6762a1451b27d6a88bc4f6451457946f78fc7e9adb4d1c99358f9e28f5c3e136dfdf106dda898f4feb7727c31da4c69366182dd48f8a50f5ed22b5140ecc603cff0be184503004e748e3b3f9567bebc424314ce88725d7b3049ddc10ee6d56bc2e5118442e9ae4b61d84adf5155fe227c166d5ac73ff3a20ac161aeb6a4b5efe92caf04d176404dae43354764c1571e79c70d7c89c3ca19a76d80a103e8415541231efb781eac2657eea9d4a0c123762a02946a021b352bd5ec1c5feafc17d5da0bc48c0e1efc00d9fe8d72b2e7ebfca3799fbffe70d7216affdeeea4e951ccdc6ee463db8a584ab8965a5c688d6158b8f27ad83fac92889b593160516e87221023a80297748918f6c72a8b6addfb5bf49e31b0eae30e641be20dc005a467ea6a6c13e8d8f42a4d1a9eef2aa597de34ca4583f3d5e09ad439bf5c6262206a778eb58cebf48b62022522c949a603960672a4b346f1fc53f4019916614196afec5958c473139c92440adb181a0a9c29769f5a2f7521b65c25dc0eb361556d26efe2c3cf827d94b9da4f4f73d3fa0dca5c78d96daf671680575f90b0416b96b83b2645ef99a6487aa6e11b9ca8aab7408e55df4fe37cec912953da3b2e8b42f7b044a68b7321f441dd845af47ed281d2fd82796c9c58f0f5161dddb0a41335069a6fb65186c61320e5e6fa1dceb92eb2ff8002ddd1d848ab086899fd5c464067b900f5ab43a54a9b4dd61772751c500e85dd0fa66cfe006d92b452ef6aff0689020b2786cd2d36a51a546764ec7ed1b0f84691d4fdad1dfbcd0cb3a63c43436b1d970ba00ad21171b1b57d590fc008ebe1987b61f919bee1c8ced9072de32e2e7f6a35ccde7d28306fd1b28ba196cffc93fe99008ec06ecc30db35ae29a0a887c8f76efe250d8a8d05976b33addb8227c0e857877f3ba3210bd4fbb276a76fc6b831337624f8957c0142db11bb775606d0825d2e5f40f3d92b419e0238de6ffc28183412e2d748156766a52053bfc0f19eeaa28570c8cb213d8d68fa49d66af0ec12a396742f79f64b420ffb877264ce976429005247fdb353732b279fa868015c67128f7889215ea26a8a38c84e8b81a3f3b7e91dc05c5942a6e20086e01389202338216d0522b9316468c8ca65d4032f2b78fe2e9eec7a63ebbd6d2255a26cc88638039c4aabe659be4185ddfa04c27b56dd658e1a610a7857402f5b881c18e5174298053e7024784eb16fc39517ba695dcaa5579a51a1ba81ae4f98242ee743ed4d9c3383a6eec5ae2b115dc1fec0f2dfaab39be5a2f18a39f44aa84ae63c91ab2b3e17b477d0913c6546bd7bc642754678918029fd34043a2fa61fade51efaa768ef23ef216509c56a5a1e98a2b4281b1e0d0451d8373038a5a5323b5c69c5ea406d51f17a25caf99c1df693d0cfd582bd27be484ee5ec6e3dc999df93c8903401cd8b26d075d7953c8011f8d978a68b021e399307c9460194df1fabf32df6fdc3fcbeb5b16e29a4005e58e3f722370f2b4589bac6ddebfd285f1d300be5c09a65219bf41b83ed59e5a32514a0c5770238d74a005e52ccc446f6cbe29b8a81e17d260cfdfcde72b88268a268f15b3444b06b0dc82cc899388eb0a2f66c470bec63f44f3ebb2c434046e4b2f03c07f10ed57b927a39148f88da35a5f22174a8422b712be0e6d033b0e937fbb8897822f68c64c0c6d4c6f647e00675a068c7a2cf649fd21c618010c7c1818987fff3fd454992064902d44aff9e9b7a25a96de976b8ddc6874b1bf79b23b94c067f787bf0039c25cc98ad1c42817c456807fbddc952c0efb11ea4a4df756b3438a1c2180e15b6f54a4e0d10e41c4a3d55e5be14cadb79401fd8876302efb579bbb42acdb0483c9fca558be64d74c3666931dec4d608ab0b065c59c34bb941bbe19f915af6f56f934c1bb234688715d093282d7c7440a1b1958bdaa6ef13820c380cb1c40dfdee2bb5f569860566a6e3ddbe76944790ff5f7a5e8aa705801bc6d648e0600aa32a873fb8eedb230141ab10b1fb5e797b86864b1a26c23db8348560f32214cd53ca5c3e4da4bc2d2b5f88b5fcaa2aedd7e1a866253ae9a9978541acdce5cc10340567fc4e0c26ddf57c716f66e14c19c318270bdd8da2b9bbaa21bcc249a6a823f4fd217d0002eb5d3feaca6aa1f56fdd28f679208b42be7f9f2a3c8e808b8df759f5d975d228d2c98b33019e7c0fb98e54a247a573bea7e14e245197daf40e1522fbcb2ad97acc7b07d935e2ffc9f87ec56861dce0b2fa2af2900a6884280f27533f660cac9a52054dcf13204f064ec98cd862aef6efd8e53e088b50bf7b0a85024adb95ed43567b9f51a11a71ad2111b4baba5820d5dabd575ad8ba3ed463ccc9be5177198512b8346fdc99ec502db98f05b01cb1af6b3f3411a32e78b004f6dbddfc6adecbc07ee5264e82eae4d188d596e6bb11284278ccc2ff4e85fae3db25a654a3c89e508c066132da487c7b641979466b39689de3fb5544d26cf2d4e84c3682d64190b3744e9cc494f803e8a03b50baa0eab91a0648b99c6e643ad6485b8cb4799f3bbff4bbae9867d5261b1cc3f8dd33aaedb040e8278a4caabf151caa4e3e5c6cbd1da29fd5f55a0b12e875e467c884ecc067f6d3298bcd6f628f50a96c792ed719f418982daf3f340011b23ceddffbd7bdb9151ebb86ccd2f58ad4ea4339dcf62ce7b98e5a8879006b2ab508e15f1aa513aae2babebfd19e5eb712233c35d20eb7b685eaeecef21090b6e166a227bc193115b2d1304734978d462cda3da8388209a87ad7375d7a0b38e52f54305b0ca274fa47947451d12448c45c6397bac2594eb7f1e30c37b839875b66e1b892826c67d019429b044dd7c8d35b93cb61d0df189c1d51048d1c6d6b63e543741be64fc952e2be1ec83c86b01503709f429aabac642e7e3f7cc4b401b7ce5410e1977548f68b2eb0e9db397e7cc6cbd9cfabb2dc1b03e1ed0c7a5e73057992dab8c3beafc07757fce9bd7a05a48637446fc820bb6b930dce1cae9917747d96d65f4b34075924030ded3b5ef8ef51cdfd5f9636aaccea7c3d0f8f36b9e7b9b7b40603976f1536ae6b54fd4639857e58cc6a8c5e015a16516f3fbf5898a31373a432e87cd5d68339c21e294cfe5cf8bdec3cc4d29617327dd928b8192cf3ed8af28db24cd5c926cb9dd4ad0a544a93f9887ea6f6b20c14df76ae941f2c9b01347a2bbfa535d2158b9417121f8fd2dc5841cec9f29051accdc7b808abb304f3a258f2bf0bf290b8c2218814da345c536cb6235683a759df1881b3bfd36bd5c8bd850bfc99d2325ee3b5bc6bcd4c99eeb75be30a71ec3ba07733ddc036ae43801cec81f7829537d8e75c5f26740f1e7ef20975b7b0b9a610079f19305e1e7756a834c3c8efbe8ecc30a2047f18a4774bd3d41fa0c198b096dc925720dc3f2fa044e86cb3ad1fc1e1d14da1517a056b7cd3e90e5fb97bbfb30563c329c61b582391bc82b86333533a6507c498577b7edd2a1af6b8da46ba7bdded4d66a2db2444278f1614770326100caae7092faab4b27393b2f1a0209bc7abfa1482eb0b9a5bdb08cb3997f5bed1260d5552235d340fdae60680d4e9bba3aaa9dd2cc3219c1206a9a16f97f7c065e9f349a42057792798d700bd5ca55ab2a3303c949f15ce82e8ad758b5fc8ad51ceb2af3e60af07b6576b8a1e343ef5021c1b86940d48c01f243537b318298ac0fab86acc037e47e233b8518a01312d6e84c0cc2f6fd1cf27225ef005a711018c04591e028da762c108c5c7fac8ff5c2b2cc2b203d0a8628c40c73a0760cee7cd2303a045b2b10517bc82aaa54913db8578404b018b35de31396933f8e448106f82d6b95862101ad217e10b6abd661eb006d081fc1c1a422e8b26cfcb9ac68d5401d116a9e56248e8d0fe0dba2f74210bbc1ef6940a0ec50fd19d660def3eb59b0b3fb123ae64ca02a97e0e4cf537064111f2bf5f76132c20553ab670aab4131fa78340d53c26bc2b44d4ae593e9ecb7043acdf378390cd6ce3b008c42b3df007eb297aecc6f835c97b5998c7c577e01fa263f2be6b7cd3b4a51478cb3619903f9555b15f00ed68f2dc3efe442f8cdcd37920c7bd418dc7b26b988db1d230071fbcbffdc51c9bd6651e6636bdecd6e28743f62daceffae87420a230a36ffcbc714366890c6fbc581b70744473f93ffc27e4fca0d431d53d7025eda6d171719041d2a81f628358d37408030f725d9eadb17857a1f94208ec2884b328f0381d5b6d173ed71c4fb38cce55de9d68d2b5fa6f5077544e0272649fffd3ef4952e81d987c6a03ac79b0e773793acb60e9db42eb4b1e4cbe75d41bba15d366609ad61508023534734a02bde63e5972a855199535e01f286f6eaec9c8931bcf5a8f36dcd39944a57712ecf7a92de6e2336270173e3ab280a113e7c22c1196ecb16c3281350e88e9cc6cbfe76138f8489b8b848b5d58f1e258d078acdacc6128ced7860903442f115b62c9ab83b52dc5247364a8a495aea775a4787d45d96e21132a3256cc1bbcc8ba75580d2f52688ae231f13dd66929825e3aea2f4783280c5feffce116ed6d94d855ad1425b5fd7465d35ec05b3209c1a2224498c284c7c255318ef19f0d871285e563ea7b8b4bea8abadf2d6ae5ef3dfc15a840a1ac9f2892a0a6b1e18b7d6efab344f48fe70aae83abbc7cf79ed23d698ab1e52d219488d1b8a17e58f1b2019ace5b600930782c55531c9aa9286c4310511050ffa808e4984685c572c5c5c9b4c4f9567e0376a2c8f8916efc4f691404354ef23821844852b3e8f175c720cdc47d39af0e7d4b5cc2bf0aaeefe89731f3a6151d529c9edf539cd91ce076bd2f2b38117fd93e296fd0b5a76a7f3361fdf856af8f8be5246f73acb2024d63f3fde5c08fde8b4511e08c0f28d33b932da1f011a9b9f3f0e46bf4bccbf10637e1cb58be538ae646c8578a07e057dba689e48b598e31e31a75bc5cc46442a3a31423785cd6679a3128f1f763561a4c9709ea4e89fef8b304ec4b7b4ad8b907eb98300443d9a4975e74608ff981a3ce9381741b001eca8a20079ad10b6908e3740a679dab735a4c665e2fb51098fafba76f56409e7f3dbc26c32bbbafb072d3fcb0ec0207dc7067c26fb2fdc4f266c83cb694619dc2cf9369fc43aaaef5b0e759cbc821214916f592d128ea4dd9f338ed76181a5cf589e1e5c2f8c8e3c92cdb841cc3ea13ffdc766f120705121a5709ddd3025b61bf9d105fb176f1b00c22e7f5c19911131248ce9b2ca4d5a11c5261dea5ea879639b2021f79b819db36194369a52e62052df7cd101aa1e414a589359ff564db2483a850b2a2fed94480b3e6844fc2356e8bb37580731a95f47aa48fc4a8542f5f27a7055e11255339b156b5c086bb92f3de31202f123cf475b271e44928526b838a01240bb2a3fb48347ab12bba0eaa716adbc8e0aee7d34726a1f1ea96c9441dbe2001cf3f5e7fbaf6e292651a0581bd3de129b88cde32e394aa42930b77e27ecb0c8ea245eacadbe4b3c47ebc4bc39628669d7d879bed8908b2da2829edacff784ee29a9202003b6ff710a220d17bc0a2b912fa8baa33c85f48598a22dd7f191f076182118c1e0c1036654a42a39670ae43998fae829bda5b3365e0dbe31a2e68c1a52c79f32664a270e8cfd920d55d0a96119e4ad5c3a78bcee85170a0dc0db20eec25822d2719419535f89c1fac0a077fd88c1b1575747eb7ac6625bff728b9df2046c35585ed20dadf9dedbef02d34d11cfd6c2600e2fea17618c2fce13b6a89f52ef0e2a83881c72d09ee23af6930ddb589dd89e93ce65cb56cd2241471a5c3d9360262e199c3ac6f595f415bc292270dd3ec2a52ef8516dbc35884762e65e42bccd6aed7f7b3d7c31d4c520d248351e3b180d46116c230b23dc93823dcfe70b3461ef970afbfd7d9ee83c33707ac16c1ae8b87463b85ca9b28104fc58900f892dc34619ab536a079e604083e9cf713dc76a04da087b1f559c566c531ff102b35c2378088a0aeed189a251a6e0656a237e9ba2ab2d84eb5cbff99f54bae78bdec491397c0537c541196804f2299cc0a0e2e0095be404fc1864a12ceef17bbb5c6bdfe7f3b93141d4fbad2e1c3fc6c3b3d19833867d83a3f66bd389b29202016aa54c6a46459d41f95feef06481606da3170322ca6e7f2dd632e2134a71a37d7207e16871408c11d19ff8565afdead58f220e5a6c1a61d7ec395b535d24908b797c3a22489b1ce6757a57739316e03136027e43669d7e12df6f5b9e47cc1ed675fb8134307ffce61224c8bd5fa69144b501d4bc9fbbcdae44d4cf39217622c39953b40f256e12714cceed75f4fa86c2439cc2904a30a499055414d1a37d332942445d5e25e089dc02e55f54dd995f35cca399f74be4317324c66b26eaad0830afef20ae2a4b36bc5a163a378721c140b0545b3d76b65696447062a10746ad0acd99ae5eb53003b440ece03dd5d1c78da3dc5625b26a7e66cc4b198fa2e19d9bb83fc73a8376d086732ada1fe68bf4e06c1e542ea0de07c3de270171673e3e080e34287bd4d38c1bfb9e5cdae90d0fe3f96b666c1b0da7a17d1de876e8064e8586620bab54d4365829498c4697c7c7d4b24b77cda4386a21403f7b427aa60dc5913048e0f69d61228a46f9886c05b611f6d7343339c8996c0c6d846018c91b3afb90cfb937aeac1a0a295a636dec344fc0e4af0436ebebf50538173457bf20ab2440fae6acfb414bc046d6de7b6645852f4b76248e80ffe30b1b294dcc3c52dd9987bd394ef1871334407df835b5b02c17afdaac33b48d63571323d87f4dcc4549c269a51e46b0e324cb173bd199b76cd446382ac80353ad1822031d282fde94795cbbe817875591066b58cb9f3e5ec47b5cba3f61812d78f44d516841ca4f66a590843985a350b70b41db3262b4b0da5b79814111081ebef69e0bef7aa7c30ffb9abb272096ab0627669854619043598db44bbd33222fe2c081eb59a37ef6e71c1cd4fea4b073fb728dd4660d96e0d5a9216665823ee3dee38587cd885622c51c275954d2109a6136743713c8bd44dc0cd778154bcacd9fee7ca856ce1c69842d1f545aa90de53b32cc8e6ad253ca51cb6c95013751e3ee4559c91561fd2f28b04222b351b08e445402b3dd4348345514b3d4ed917c8b86eb7faada24efe04a41a53a61af07532e0b71fbbcd3f8e18d3d54c4d2748b97153bc772487bc36840301937383502b7a2c67fdf762d9ff4f9b73f49b807af52e1ce6d9159dd4df1e04f0018351221b273c771064fec5d834963eea53afc246951914230e56fae89136c4ed1e7085666f6f3faeeb5319ae4a94bcf75b1d630cb9deceb30cdde0aec62c50818e3811d8c730299fe5efe5ad00e5c32fcfb78dc77a335e3b6252051a015a2974ffda848cc70c0b318b8c3972cdde167bd3f60a212bb328eeac731166c991198a0744add27675bf09a94a8e614e4ae10a2323f684a374bd0eaec496a11cac4a72e4c93d83dc113564318e81b945447d3c4f4dbd421b8b7f22de82e39f0c046ecfb6b5ccaf9b7b8d5af66b164ad0a77d173e2aaf8b5281dd6eef58eebbb1d6921ef442c4f3dd969e05c916a55adecd510d376203841a88d91de79fc39a1b96f403c24d093c82fbc43a5a6f06829830cb1711737bf85d550fae08421cda5113d1423ba36b0aba7ee1693c3f53515ca36bbea58f12230bcbe0045d85f4867b22b325290e70f677e4efa58c77afd859ba48fdc8cad2b10a95a3d119f43d0d5ddfc12bf119c4737982aceabe560849c188a9c85337b3d7846f4782989f7ddd383db5951543048128672a63a76ea2e68046880a7b5d444ba072b457cda323ff1789f87a6ffeb187375d6ca2d2b20c0739b6a81ae5cf500fee227fad8f9233f3b603bb2c6ecf3a79cf5cdc138c265c42c8020f29d18884e4b40e9b8fe730abe1255353f0313a57ebef40cc46e668dcd38ecea570294d05eb2be0f0d7feab9ab0e5937ac81d4cc3e4ea5f4890fb7a6427c6da398238806c5e6b8afa7c0134d0ac0a62551be69f374ab649da9fa3f4304abd5fbac774587ffd4c6ef6a95aad959091d19a903e6096b9ea37146f41c1cc56e98a907495b5212076896485f29fdb870641790eac5d54800e43afa70d60b1d5bc9af41840e5a52bd539c6f7daff71d03cd1130e821fe81c3f6de9f5c114d50914ab778dec3162721864aa82557df59f0e61c2bc97d71b7ddbd6e616fa7bdaea35d7915424f90784c7597ca63ae913a639fd3dc7d51b81f714949bf7f4d328ff076d122347ed5758853ae59d927a603a4785a9713e6eac41219f0f1a8d4be79bf9d5af6e6a5eb475bea1aed749add7e67788c51c19d514a19c7df107cd450350fef26c43f61682bd37e50e2f8eefbbed950f36561a6fd6309abafbf5b9983c2863a46f384c59e30b506d2ebe85eaea471c191ac302b819ce171f294c359b02e9f6e73d8b4ebcbed4f6d3127e58654be75f5eccb701a062f472fb14d5369c8031920ba76bef48e6acc6cd8b2ddda7439607b9cafc72442511747f8fcc80bd787b15cec16b27842cf0d00aeacd9fd28e5b8eba944c66675d1c1e5185c4a9f8ab5fd4e7e9d281e01543d2a753744ad5da50d8cda3623e4ac78a351a5eed3d0273dcb0c95be38c72f1f811aeff95d4e72c780ecfae7ad3b5d5457f3c3bc59ac9c9e68606440c8212174971ef6301591af006dac3ba4f8849843c768de8357893906c696a661990da67f60adfd309d7c5e1072b5f2dfe051aa1ee61f09893bc704d3339242533c716af23dd5833d766867093d19bb6599b8cc41602517aa84420f39d75396f42550f402d0c8635b356040889236501ca8ab171563a86cbeb85baceec4bffb4e67677d7fa4092cc974ada2c7e0514acce1a5853ef30bed04af62a00c475ca144d7adcf6486c6483a1411e7994293d0ef60129fefbe937daf0ae7dcc96141deec23967932bd1ad9c223bc114c78dd87653db6a7fccccb3f06bacd47a2ca3b71f847739844782329898ecd0b8516fa446a6b58271a07e58024a55c173cb04ad5240cf69ee5b0fbc66b377295ca2a08e9d4309966df0804e29b67d3b08b1c7a0719f0b23f3d02d293b40ec8ff00f506b4f933229512d2f62c08069a79553f725d9a1b2f18661bc6035a915f93df055e5299bb958be21880968ae430e56e4a86d8483225fd2daaebfb1f58a95d05ae6e53043589e987bb8fb24c08dc46bf7647b06fda3f0e25bee08a920d9b1ce7564544295aa1b526037cd9e789833c489d0202d00ff464f7e2663bc49f8d714ff950bdc37a7527b63e2a5bd25b91b43a66d0a449b908fba6044d4aab5abb8097d8dca90fcd86ff5a2ec72b7ba0e516d4ce1d7e8fcae95f298fd88826a78c3c297c5d87c3ce1d8abbda156c1268b59b8e94437207ee9ba4c6f6c4275a3188d43e48f8cf53947d2adc28e9ff41ca2dc56cd9d3ea398a22c38f43a66b8b9095e4ae2f991b6edf2ba072d4f924fd693979a6f19dbf952ecfc9f671b5700044a4f393c9f5c1df942ef842800548a0dc2fd9fb4c8a5f2f168138e130501401f42208d3f4789eb5863ba5efa3315545cf455d506a0cf64b09856262b6bffe7fdd056f8d12d9eb342a9e213c692eca2d66613d37722637502fe629b2645bb848f2aad07d0613f3eb9fd567d5c329fa3754f3d66445c71120ebe12505e6bd6a61ba001594508b4c0c3094025f9e209ad6a1136072b462e3720e299d4a0b949fe8ca9eb61803bf9807a3ee5db783a67c7170b2811de0120743335c5acafa3dbdd14722e9b3c62941ace2e0aed477f1b06bb0934ff99f635a5ae10f51bb3e248ec4be4298a65cf2641803cd02ea58b11a77e36793e755456fd4b43b50cb70ceebf606fc986f2a8a95cec9dfa735995de9214115a7f9cf832a259ef126ac0bfcefea0a5e7386d9b420d1ef5e2bb325b4e864594b728f640d400e531c9c84b5220e4f5a5b4d641387a6a79855c5efa3782c5b557cc2826dcf1c7103369bcafc45b61e49427d9337e4e45e369b7cf8a1cc56ae73efdeca850768388909ff548a5acd7a6b75473c891d03e7e0ac588a6c17cedf2cb9261abf6d6cf3001d4f4885816f9da1e8f32cc96aff1a8d83ea9715ec7262bc974df8b289eaf4d18c2e843f144f598adf24857a42b7b077bd238cb113f05514f88806590447eb38d0dfbe9b08e3845e4edaffbc98068597f1809ecdee26a77100e5ee6022e72723bb5f0bea9cef3bcbbd3e7396fb47bdf3db1ff487ee28e9957f362f777a4b55edbe327c5532e607fafb2b4a9afede4d0be4ed397563b476c575e27d814cd8b9958220532ae43359f097fe6867bbd100609e3f6450f71234d6bf6d770f94b278a1d8f264af2e49d04c5a5ea20f6fa730257be028c6ac1cf26a0a8da6dea48b689469642e922c484dae722d3344a56337f0ba3c1b37a4c71fa8057185dde6ab2523f2269a7027a19ca63806c1cbfd3e0373c2a4b4c619915211cfc5ecd20582465e66a7a59677470854510c3cc15a2d01c2a49cd5d4645a2954f94f6f818ea02b95b377b387540a3bbe2f0e9727c711d38532163dcde4f8490840754cc22e9a275595530c105788354b3469d2a263f0f443146fb9cf3d3587c4b7e980d80a511d341d24db8df1c367cf0a0aabb6b3aa9568c051e196812803dc957568fb55cc51d2a1e08774053a2e57b85e2c8b4b159464235a903c75660ee431e52f9a3297d605bfb14119733fe4cdc9bfe817674777f7aea000b9870c692745aec504e6f6e1360c68628ab53e570aa434b8bb5854e1d857cf306f633cfc24d1f7088b7e6b04e8138e331dd33b49c56395d3fa1f87c6caa357ac1c7ddc4a2bb707a27c4bf482d6cd4adfa954e7f5f38c05b323c69ab65485a3172ca7725516c915817d2241dfe7e240155bc33af11780e560c7602da9b75629b0f0ba01d14571a89fd386cca59e748fab1ef0cf52664144bfa696fbdd2d8bc2608d115d9a457b83a291515ff6b1f09278d9506ec7717aa814395c6dd5a55d320bd8d756b976d54428827ee6c770142ef778b543cd60e88c42f25571a85d686cd6cb5e7d2a00ddc1e55acdd80706d57d207ebe535178206435334cde0a64be5837b363bdc6288b631affe4a0554b8bafe85f45d631adc3a256b53ac842637baf7924a7711c68a2098a9c5e3081825c8b972965ae22511c7c5e96ce73fb634dd1121027b4425cf93f453e65dc6ca3c6e4b7d73649bea8ab5bc709adfb95a080bdcbcc4f9d535a0b789a07e71d888486cf3a1436e4511c97dc2766e0524202146011544500379b3e6f57a92f2d584387d8905ad655493941088c07068b7c3a8f245b06f2cdb901fccc73840844004a4b5baa86121cdd93759061d7363a83784bc1f3bf2d32b8e5a55808536a63a7326f0462e206cc64cdbe8c251b8dab122155466ceb3b4e634e347b0ee2086498d042c5dd5e63cd8aae96a23d0c8fd52deb9116673853da6d6b20505416eef50ebeb21f5c36cd09fe68ab1c1e295a0c89548e0f338fd6653acc6501b743f565f83a4a217d5defaea4dcd20db8474a84de46a71016073414cc1811539af44fbe8936d7a2fbdeba2a43ae05c8c4118ee25235b71297fa79993b2dab874f4dc9da1abafd844e30eab7f0c4bc1ea8af9bd1f968643d2ad7251eebdb1a189c065dde4489ef9d890eb3dfe53924aea791f7c1057b72ac35dd6c3c1ac066c09ea41303a2955af69a1dad448f0eb71124b069d457f9a5c644a8efffa93d3c78f65e16060e195a11a6550549fd2a09055e9bb2b968498b643bb8492443637232baa12368927f61b8e616d02f76ab48a54f840f4a06ed4692e7c44b53661d0744af57799d11ad7d399578e6dca10d9850cee534a7a19db8e80399e825192ffd93dd1cfd9061ca2d62779aca2e618d5ec9b8dd15bd9e5111e22c96de644869bf0aa1fb98e1a5b99be3cf150cc2df7bd88164ef72041dfdf9decbb440e28928efe14eadd8d58a28c6c593b0f3ef67e00177126719149737b7c5ab39ad941995595f75dc86454f7d2a1cd039a16e94ef6524f78b5a987270112d2049701be543e296fbe806e3c990f15c75d86eddbdb4dcc0b19ea894a4b82f5ff18cb8e252a5f1e9410b1b46335e61bffcd3ae45392b2245e31203297d4ec3a47e748ae3cd229dd3f3731c352db3ce74fe13e9362b8e2a4ffac8875df185f722accaa2a4a42a6c6bf111931457d241a322e8af2ef35f1b7ae5585e257662aee8334475d3973c6d67ff7e775dc0066167b6de54cd70ffcd640f37ffb5b3a85da3e544159b4ad904e6e35251bfd586e1d45c31a66b2d621e0a39beea7259f696c2f7d7613eccf420c5e1b99cd8b3af4bc3b4c409ac8eec615161cfb1b0e580ed5157811f3577fecd2b156cb537e0a69b0a88a87cc0eb4dc77c69f46f50f039aa40d38b1d8e38077b71aae048a80480e4c57bde7741d2d49a1a505d6ba28e0131973ce220b1da535ccabb115c16448e63ba5b9cec86b2a6ffb15bec82e271b0211350af55f13647bab9f465a200b8f193a3110043d3aef6f2d4f82a1a259835c95004ae049e4024edda51e5905fe882b9c03944ff10992712f66463f7507f538da410b99a06f70949154d4148055daab1a357353484935c4f92da486910d6ad8ccfb4a2241cef281f2f4cafc38607578117f49c40bd907c87afca25e88fc56d21de377976df37deb777de45284c921bea14b6c90a5c697cd4c2d7761c10240f724472d51dcb4f8bed9a8aa06ea19e11e518be5fcffe9acea5cfc8d836d122233171db5ad78a0a658ac469a0f70203575c4062d2ab7950f0db426fb0fe8bca56d13340b2855f103eb26409e9e7124b4be4f907f31d69bc8c5d1b2d95f3c6acdf33aa0abc2fc6c3d3efe662d506193e6dbc0f700fba342889a28d7800942f419a393a908ed8c2b09c5809d40359640ac1d7adac07554896a770b518e8b75769fe41a453fa6d8b375bae6c5f2aa99206d080c13f3ac90c9da07bea789fd8cb1058e068d5a218ed91087dbb5876bc679107ac2d0526408c44988ad5eb0f1c56cb065a849847bd35137284ffcb8be7e486b191481146de88fa04124c1fdca5513c4d9dc4cd65e946d478e99571b2180c2784523be4827dbc003286a3d73896dc2a7a0a9d74fb2e2007dedd09c7cdd8d416327da8c0e6f7ff3538ad64332c76bb03150b6ac379e114bfd04cb69408a00e7a94f19097f4e4701711d476d23e3ff0403df9241f193277837b4b19d88ab0143a844e7490cdb88565de8e714d4ea168a1d07bf99ae66b3315e2b3055025f26f172b2f15d517cc38d0cf46e3d745879c86440655e237920a74366374c08010d348cd4d03fe4785c02ac21caff98d047eb642264819e0e284bb4a7cf5191a5602feecbd0363c60dbb88a4b30a46e0896a5b401d111706512f63b095e8314a5862ee33d964d6858c03d30e15bde31c7503bddaba677172a5ded11a934c8818a6666d5704a259b6414abb203f6175b1296f27fcc4933e73b5d472bb8b496fb43f426933efacfdfae8fd748c78f057f47fbd6666e67fbf56bc491e8b16ebf726abb481d4cf8cc4dc885138d6a462ccdb76a672563d55d80702fa9603f74d19eda4dc735be83fab8c2ee4b406727eace30464454a06e499396bdf45d28e861cb8dbc707e0173ea8c47622f06a8a38eceea87587802a8124a79cc09ccb38592a6ea7346d801f2fad1d85a74a7c10c439e79d1f516681084b2e4813d14a0d001bb17e1930016d5b03d2c2becfe765946a06cbb76a9f27a85e69f9a302b771f51a8af0900eb9c93f196898f94b3e361513939508d5065cf689a7ead4db7a8902588531f6691aaae100c844d830efb46a87ca2f3d2799dbf1ecdb7e62e1fd738bceb7ac27ca682396d1a3fc2b9432746d972b909c37d001ddb84948890633e28d9d793c556d7461fcd6d5d692d14f3802bd261fe437b5b70a8e38156e4e3b0219728296b571f1122e1fe87cb5699eee37e07e6eac0defccba3b8b955e82b60e80f0b449dfcf5363ec1d23b4b7abe543c7a4f260aad2e87f7f2155d2f894f79b20b7819474973f93806a45bd85938fd3f4aa15faf0d356baa288ecc68641bc9f34b93242164fa9596a4e5f1006e270bac9e7e0869bac35e07883d09301d20ef595d9ba193978b0e71b3b83313153852b93c62f372e8856eb4a578161705d6c45696f9971b464339774ea02ea98e64c1e6f760808f085a044f5a1bb822f4f3104fe2b0273332b0c00fbb5e70aba5a3eecbe4ecb8c365fc1bbd62e73ffb84de2f44e551a17a67af56dccce988818aff0c244a31824fcea03e82488863e3f9abfc547e326f887c0c67f1f8aedf918ada6d5a1040236dbc52a36b4ab7f26ce8371aa7aa9f89cc7fa612c4e55ccc221a55f95d27021d5723b390f2eab8a36388b2d9648742db7156781af232f99ad9163d1d833a38fd8fb19f284cc40cf0b27dc56b72c0346d4bbc088125eba5a82a674d61c8f72d2f545098cfc14b1424661ee83895e5426f2d06ba3a2e34d9516086ca91ab178bbc6be32a9f8290d457a13bd1736217ac453ebe3e461207c3a95e65e60a3b633a348af2862c958a3150d9369fa881c7d82f0f6efb42386361d6db2fe7786dd860417c7b433356ad84ee73c18f0a4627c8f1b76c95dfad5412a0d760e76cf6ce3d3a3d393f432864f429701137313637c088c027c6d1463713736c843105a5bc8f31bb9b209fe977381c5d122aaabb27178917e4b2208a82a5615b5e96551ae6a5446f20104aff3301258e7848667a36a090452bab9823d01879250ae039ace46f644671316bcfef6580c5060870d0caf21aca2f39c345e5539afcbd40f936b385c7b5eacca330ef91cecf167fd7080e3e1d2c16104e58838485603b4c944ee43afb2f8850f98ffeab581ca6a1ba446e0a1f179d13a88fbea2f26d13e1a3340015e26e241e78451dc480b9244a6c3bfc4dd1775d8c43d639a2a5e4656b00e6a6ff4ad62e0d01e4b8fda44c34d4f58716b4d81c5022d8487dab127043b6e2a7e8f3aa5f040beaf68fb6ef21348b1f9484bd9e4a28f3568249345ecd17c75fc1d9d78cbf0291877e0ecb90c6e199acb1e372e6c6b0326c38b8c00b10e991d692b5f8b971217647c4174f916400b01e3966f3c13928d45ce5780b734f71bcf57e6985f9b086652d705a85c1b15618b7495a53c78362903c083f4d0798ba17b169271ed7023206ec6fe58d56ab39e3a1e674e733f62b300453d824eeed2c7227c92cfa19d803f73bb7e5fda93363fbc7917691adf786902769d25bdc0a4938156f4d034657167b71ad9a565e615aabe9fbc048cbbcd52f9c5a3c600c59f538a90422a6e75bafc8648a93086e4553af544d239d52729552270b4aa76100fd8c7614804114be01d5469eac9bbf34df5ff6a7e02f10a5238b411072aa1ef3de5e12c8e491b5717260dd59f0d3faddf0205e1c6fed704eebb49f778679e51b5a765fb664659d31d3a6787c5b291c1d6f0ab26a0aeee5d16a1814700f3cc7a79d1ee2ea9806ce93fa1a83ae3345fc03724c40dc680da23762de91f5bd709405f81d192708b00951c0d4d5573ad1e9d4612cc84b9817301d40bafa9a0de55a17d6c9ff29c190baf7b38b52a28a006f8739a57f2b5b029ecff3d1b9f4b390746219dd7a766836803170cfe8b8a8fe83930552737ac665d8a5d03aa0e5c21f06d4c979db587d8e03804aa731849f714ea9fc528d09aed6237b24b3e95cb6e588d72e28e912f3babc4adf3d05d4ea43392b8c108413dc389a1b494cfcd3138f7202b406065a9bea645e9b56c8be38863ff4a214046d09d47c7936471222bb10e771db8871f940a121a6ee577ee302f5c2b8d1bc2b925af06bcfb5d5c98306db95b5119112eb5bb371dce036afa76d2248068cb981d1d9a61066a1fb778e666dbf2e3c5b1b2c01de97de13306663a8b7a414e84fbcfa044eeff09c3b0d1ab210e1f6b89ffd29ae5935eeee6f0cb6636902d2886c161ee6586b956e379722c4b10561c00e1b048df7451cfd2ab1399926a06e640fe8e1907e591b0fb7f415a70c9451fb657146b6b084cdb08110883d004472b2a23904fb954d75d8d50e1a4d0f38c81a2dcd14b80241a55c2f7c02ad42a60f2cf84fdb832543e760ff3f5eb6dbda58c0b36b9f69ecd466d5d04f77d38e3483e979fc7ab369ae8ce7c033fa046ca674c37d448d0b98907580a61aab9356a0813ecf1819eaa6ab374cd4da","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
