<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3b542d815559c552257397ace31c5d3128e61a24c5e77c3119831c13f0be0129b6f3da3cf2f61100140600e26d2992e100dd33bcc187c9ae9b665b6b22f2a8ae9747e231c5a2b6484e2d818cf5eebfd513192bb504cb18a2a05568faf561251e80a5cc79ef9958fab2309c694afa180bc0be38f8d6b3f2d24e62ccf0de4da88d245aa9087eddbbd222354af488580a54d676d8a18d7009939faeffba21e45b9a23a4eb8589abae5dfb99df2658e0d0c0ab80ac3028df1f5f56a795504d4a3a952126b3bcf6433042908dde10e05cd6a511bddffd95b9f150f5d085028c4256adb2aa225335dcef8e9ca4665abf24501a7824f04069acb9bdc95c803e837608da056d4161279376b942482b7b64cb407c793ca32067b1e323e08587b5ca5040df31b7c6a651633260b4ac8c25175cec663b419743cd30c5aa51cf0faba4904d53a351616f9b8828b5fe889fe0f99791a4bc0cd050522770aac29897576ded06823447aa6776048422e693274042126e049bb9df43154a4db32e6714fcd29ec2ec9631070dca00cf2d0cb9c2392ebbf9d7577b0c58dc0aa2e5e1272f70e9d1ec2a3db18c27d50020b59d1d0c0593b7462bda817de4abd211e882940d8b7df9d4ba06a0689ee90ec688f8aacc9c56e72ab913614e9b2a884dc68f8efd3028360eb7c5eb24f7be3fd7071e19604ca903a9e394863412828db49a35934cb3b8e7d6e5fc10471a740d60b9e237dbd425dfd2c90683108dfe4ea2a1d984e7738c3926ae6a0e4c6c516072a40389dd3b78e56ef98611d5e1e5b6d40a73019103919d2f7cb0c573b98e43efc6dca76e9c75280c4ddb1df251b9d71c2f595a24c67298ba46f0c61fafadd731bf3c504bb8e0a95c3efe7989701803425841e97673a5db87fa3362f236638b30e787ca73777f7a294efb5e56cd3782abd0527fd40a561b5ffca51ea7809f0d3ffa676514f04028d371b02840ada25ad44a87e783a0ace81b4c31aa3decdec906818832c2e27218102d2ab1f76090460045c3c99e4171f847476e1301142105efcce17ab2a90838fa33e2432534d15b4b6f5ed52684fa79e65d5b4663c2f7c247561d52a8add16b5e997bc8251d9379b3fed97873b7dec2554a36c16e4c35fab525a8203b1abb97be1ca825342fd4b93c186640339f033a62ad7ecefc94cd94456237e1aa5c898a51f9160b9cbd9d55b15a2fdc59fa6886debd3c67e8033578f79ffe9255314487ec5d14659eef7c0e6a0a61bfbcf4f039f977835c7134de2e66fce09d5d2c1afed8e81ad3d24cad210aff11b28f9ceafe1d705ffcbb5b4926490ede17c22a7e6720c879370797a349c838c77b4395c7c52210566d25a19ac88022dcb51bdeb665cafc6a3c2d37fb9207638765913c81f47aa4ac3b3b809a3bbbe980c58a72a9552cc4361cfa9bb28df91cceecddb70aa90fd7935aef38a916aa43f01cd5f17b3acb4f094cabac1550fb29a1dee9032d43e5a3bb2fc6a25f878958a2e0b08f7b9ca5a3a0b987840daca64df3d3de559c2f55545eee9c39a90753d8f6f4593edd6db0645f3d03c09ffa99adf25c57ffff69e08ab6468e0cc63af75541ef17f58c8dd34352501d5cf18be03b7ad974855a7612575a1079b4651ebb4f1342876c03f2ab6c00217571a2c74c0ca16e100fc506654adeffde31fa750abab48cd228e59b4b184079ef5866ed571bd72fc25393254e387d05591cff280a8e870016b3f6837fb5f88ef2eb4d05854852a1da4e0cc27a2798c6f0a951b5a57adea8e9a3872231187563e8b6314cddb1ee16ad907741b330317fc3e268b692741443865d7e5adbddc93d658603f5dae126eb1284cd27942d9e7b28cebd3ad5fa6a4ed109774d83794672d499e4b17b6a30c9bfe1de2ccfdbed50917826c9a0b29720697f2d4118ef5561eb5c9302e3d8c54181afde96642fbac6e9d3d07e5f08213536adb053b28b3c14ef62d0acea06ccb7d6c13312ad959abf72615f9f6de604be0334fd12f18306786fd38691a76793ef0c81740a48650fedf884f9c1718fd227622e558a327f018978f8a304cfa66254cc1ced9c765a7ebb1b76af064f2a3344317f26c8d09be16bed222cc0d9f60d546c3ed022031c30218f1b25c80160a68271f323aa715765e59661dc767263f6bb6e19b169b955dba8861b4b8288059f4a4dc90349e858b28bb9757b1b4b5b64c4ec6e289c77184ba1a66f757b11f103decc13d538d2ab1f781c9fb9ffd8be10a79d5b40bb9a1e78e52595bb0370921c8080b7af0b54f530abed03a0995991bededfc751e5c4559d27ba5dc987f727dbadae00845326653accc6ce139adad001beaeefee4e562f0c9c4c9531f304c20b6ca14846658ae1692b0983b80f6a889a1971415695e1e8f6a8df98ba3e54e287d389da8c9fad6bbdd72eddfd1e4de36c47136f9323664139075c4fdb48f3b2dd35a8dfb5b184dd88de9494aee778f4c46704cf004d9dc606fb65a1dc0528c1fdd76ec40b18b87c6df8fa9a59f4979de1d8e3b70ef695f3dd1bfdbd7d2da85b4902eb2a93841957df237be4dab097326c2f792d3b0a4b04d4b592fb14c0e82f446ded6171a5fcd0277d4e584e6c81c087da12812dc9704bcdcf63d46728566ae8bc71ff406e25b18c473e5818a18713fbd074a654b670392fab967f1db550ab586f92b92352f7dbefa0265efe8ec36b5af36df116125af3996ab025b17c60000ada9ccea657e634b9ed68331def06eaa4d3c631b34386896c81e1714c456d232d738ed838ca41136ea008a23eb339a50069d5663ecdc5c33841409f2775deb27b13d9a27468e94841d7447eb3b2c3210d6d4161a28f692a1a5785833caaf3bf9541258cf027e1a9b0113183f481f4dc2f97778c420ebe8dd48456edc092d88278b94ea435576f6e83cf370a80245795f77c1b878be23da688042f2bca230ff0b6239b4fe04110d4b47554ba9aee8e9df2f98a03168762f5576b5554306359f27d597120b4a5eff5d3bee13ca9c49bd00155b2ac08b368632699a27e6a76dff35a4633c616f7f2141934b4b3263de44d97522b887ebc91a7b3e4bd57601661dc83b372a3447e21bab3eb282c0b853b1d6acb91d1c29561001e6a407a0846b9c3129703b7dd778082e77c3c9fc9acc0e03542e2c0f65d221006ccac74245485cc167d7384f7bb68c55d362d5c057ff037aef20f9d8710e6069a822b2712063bbf3f5d21746b857e62bd0d30f84e4a6313d1940e8dc19dfe499ab6372f977017b6c68e9649b57feff3e771deeb18857f40505c31f20d753e9c3bb5cf03b06080381b93853a9e5b068da842d5216b43dec224b28c09ccbe21edcae4104fa7b2042e4893141a79212332f1a2cfb4f81eacab071cf87c2c5f1702a3313a10f904439db1ccf32e2c6420de61f2673e6bfdd51259e715e95e1d0122bbcbecb42ecf70a1f2a412681b1f00b12346f3759064c26c3a799abc1e48d23b662e94326bec2cf62bd5940f8ede4863d548e44352987d342db9a85fa71590c1e1202990b81de4cd131ff3e71a20d9a421d5ecc5411d32f85960b25ff260d967cdd33c03cee5d84da1a2c8a6b9a02917b90aaa8eec84b0b78d9c61d1a7c6242ea3797256af2a576815178a12f7d34c03e019522a599f2262dc8565f38e386269ed91f89ae60e9059499e3753f323b2a9553666aaf4966e2d56cbadf3a1090402845953bf26a9da0f0f2c6727344fdec3206fbff0fc29d777c42002a78dafe9c5ea114382d9b1ce020496b0434a3b80c813733fcc0a972c3fa23d9550824b6a4bf7b8d4244a0fa0bb01daebcec4bf64fc483a39985e4e628142c235dd95ffd1e7ea7e8827dd88ecb645423177afb8986ea8f6143e24b95f2faf7e9ad0d18327ad3b2dd839f6ef80a4e2279e15811bdbfedc08c1d1c2ad3fd1d704116018131bbcbf9a65f779a0fd92fcb86fe1ce57273f09be6dd0807120a4f1eb147e19a09aae4eb28fa53647bc5b4737fda744a24707f88a90676c1507063f299841175ebdd6fd044b6f26ca4e9d09f267add4f3a0175807678e7c915f6b241690b15052c002fcd9bc1a4c86ec3819c03f81f617c0155c0a52a80d5198a87e922953f2d575ec564628ad34a73d041d69ff9ea5abc5c8771ebef4f9cae42a7719c74eedcce4dc157cb6e4c19d8c75573bc3e4ffdc378a4b45ae1d0c127728fdb086e5266f81360d129161eb5eb0a9bebbd223fb9be53ba1b2e36c0eb4ce218a58c63c6ccab4959ba5d2574dc9c52434f9685c4df660ce186ff4f266143a28ca514e3e9026eb4a98dd0a0017c096f86cb6a1882d84f25e2be903c06b7e91f2dd18fe1ede06774196c939154b7bf98584db436a3899082de0de2a94095c4bdf8df4bd086b5ddc24abb34db11bf36d2c072651c6e47e4f991da56ad229246d86644b4389bd42737a1d538d12e3c192de952f0850102c94f3581253dafb9735d56082af6a2d9067c4b28450ca0d601a3165ec1ba5942129057b364f7a0745bab219ab5a58dfca10a84067e0fdb2e9facc428297f0241fde01824be5cf6013d2e59bbf84c2bdfd50976fdc3c6188745cf80e0bcded4130b4bd5b48ea7fbdf945259d5609b4aea91a19f8634e5e3517e5037d2fd7e8cc67437a28918200a294018bd42fc0b76d8bca3984c7de2b4b53e591c87429624195c2c44e8be0dc41eb3d3a88179ad927bc30bf6f263b4a95c905b250a93cd10391a46d2022a543b4ec45d131745d0803d9141414d2b58c388b436a420a9a079f4735607aaf260758de8887de8ee542cb62fe5fcae336423b66598242686dbbfb944fc769f282dec70f9f19cf0bbe5f80de2aae16b53009c619722e5c023a28e2e6d7e6ff211612e3f4cb1768111ef2b3deee326105552585a127ad21fa5ad7bf53830e2119ac8d6d06658967e8057a0303a0bbc88fc33ae4feff8e9c28960ff64c9cc2124e49f4e7791196784e0fdba3201d15ec3791f917d992297182d26acfb451533f2b1a2709fa290645cdcdc93cc7b6db0eb55b362d8bec600c89f9ff3468666e13dbcf930f57dbb10259e1b5a64ed48eac171609ebdab5c50db291e32f7a709f2cfc6362671efd3c4eaa8a562aae7d146f8dd1613354cf4adab9ca44fe59932b33a8303e186313c1e3736c92f769124aa7ff676767ba797ba117228f1e33b5ae877dec62ff3e1c53e048065527641930af1222462c5ceb6c4f2535a661376315196d0b397d37b031710f5022e71d7de6399d6b68404eb62a528a7c33af629bc3f7455a25e781f5be80fc429f31fd110e1c3d6c4226b5822fcfc4cd57584a1da50fc83ec4b4de451d65bf37b70db79975e78bce5845fbcffaa9df9767b823ebe5839227caec42c4abb6d0b0b4e1435c2c05986786bbd4ef34ab9709427c05011ab4bed3f415616292e54e69cac0a5626310696ff90d9f0811960f5196730ed7215b2d9c43bfa61611a32c5f63635d588bd4cd1779af6a544dcec3359b47c3847dcd819c8c769bc5c21ce28f062e8afc335d91b01947344cc687e6d58b3a0739e166eb2533be82fc92c6b20109b1242e8bc02d7cbdb23598d2faee7ecf961a0d82ee6be708534667cfc551e7e6813988739e1e0f5d909d1f7c90f6585c873ddfaa30d13cb87f6ebdd90ed9a3309618ef444e48a5e1754deabde7d908d5ad2795bfffb1056f27bb462b19d0940296375b2df26b476f5f9698884e7bcfdf1a84a650861e9dd16af958abb2742a745769e670dcbb778f831411539901b6ef597d84464e4bc96ea748d6e767fb013aed94ccc7dee8e6a4cb37d7c043b2607aee48c8eb3ddfab909ac7ae22f6d5807116a9e792b640cd278ae2b47d82ff1c72441e7146a5a2825b2bd1c7139bcdcaffe7ec560c4fe4d9b4ae02f6122ddc1433203ba269eea58d2ba66e0a7d2f0370d9e1674e58cdcf57e24c4cf5c64294ff3ed9a9ef2469d2f1a41e37dcf20f76ab9b8d2afba7ab29ab9252ce876000814442d70da34d1e670ab240e817404326b026974f8dc3d13c571bdd1324b18c8696dbd12eab8b30070583b12027fdae4f287cd1e44251cdf6a40f797bbc36bdf7ab4c9d00d838ad7da30344438d7e3cec9f063ccf577487c2fa7d1fa907cc576f6f6146613332aa42290731a480bea5641141e80980e54bd036063d977008738c2f2610c46c9fe21e2101503e94e500006d68a4f1116b4f7dba2af9b90582509636632ef56d6de4a856b1c33b6c626e0d4686e90b35864675a6cec7d6b6eb86ab978552eba5e1306fd46ee689610a45cb33d6487ff731a7975abd594680cc617498d4d3814ff5af52a6505050685bf15abc238bd141d524f1e070833ae29e9ad54ec5741506a3c7cc025fdb8cea1f71be94e9740bf02e8a52cd1a693ecd4a7528ce0c040574761a3a77167a580bd43d389f8291d79754a0ccd687b7220cac450e2dafaa3f06d8641dbfeeee88cb6bbf5cd20ca76d18239c8e99344a6a573d253670cdd988caa91b3e0cf56ba48a65aa8600de0f7886c9b5be9e2b3fb082f6f593f38a3dd899b805ce1c6c31a39a63e1f3e6b3b43f556b3903023aaafdc17931467fe3e77c81bf86f5bc3dc4dee9f19540af28b65be6ab9c880515bedff48461bb92e626d401f90ab978f78377e5cef79cda00dc863f0a23a9c1b8b7e6dbd9f4bc2fb3b1aac986d7edbce21ff9b363d732cb33c9af5c44120bd86196c0326dabef55daf0f90debe3f0088c837f9bcfb51df3354d7333de962ca2ec8d3157f7d6867988cb1155bec86137a62d844b9c1e11b11dd9c6485545186a384607a6ddf25caebdc39ffc6970e3624e1707f1a54fd95147f21387376a5a2ceb4ae5a3bce75aadce75c6e2891e2366961adee4ceab0ee09f29db84519d266a40fb580664d06e1d09351636aa0b517be3e109087dd61390fbaf1542e77b675e248cec3fe972b56e02f7d91415f4fa07d3ccd9cccc2ccaee0f3ebd48c2767f4062270ee9f2d43986ed1052fd6deb1c9334ec5547a2177ada8da443fe490212b5d07c224725c38eba59f945718f5f36dd5a8f614be4831ebb503005f756ec6ba090c196cb58db756a75e2db41f9e3d7bcb9e26366ba04389fe6ade1997d0a41f720ba69608b70f6e2f44df6d0be10361ed2ea8b9af2621c6f791524d68e02bd426bf97bfdfc0951e95b9ec3911b24d1deab7bc03860d970d72e68dc8b56b451c5461992f321f67aa92ab648217a0bc233efc06c996f73a875e15938e19115d4218e0016d8feb73694fff2e7ba3689e08c836694c10d0624abe967a537bbb51066dfa925d88fb8f2697be72b54f630948a4a98f00219c83af2c4453dd11c5d575a5b0f1b5cfaf7293220ec2248dfeb48d63fcf453b92c310991d6d4438bad4b1cb64576400a2f01c8940c8beb8e8e03e1d55060a3899696e0af3195a27298ecd4f7668f11e2bf5d4e69f7ef6df5804b4699c9bfd37a99b237fb44dfbca0c5e480e33420ddf22ca201a74bcbdc806e404858d2aaf1d3309c40714c0bed174049aa0204a3eba1e07576dce248f1527a0fc499bdadf9e17dfa3a6d470320790c7c040cf215b185dfcc88e3fd3b49734b624d84104e07ae2f5aa95b3d89c2dde3f70519949b795d878edb1a6d0b793a5c27420ca0d56199fabc044d1452142ecf5b5490923c880f7282c3f2333e156e3581d89fa6ffa452fbef20b0d2836fc2b1589fe08ec0ce49ac9f14c98ac50ff00f2021ad380b99ab126b7049e683f9052a957d54ed31301b40c0d96b1c405601dfb74947fdf55ee58dabb8c8c2a96e57e6d6f7c0645de380546b0f8d852578f4c91de1f681b9af470fab32caebb45ae860f23e97cc60cb5d2d6bdfc32af3fc7ca7a2aa4a2dfe7dc8badb56c9ffc28b76a7cb010285bf7769a632d5e43b75a4fc711fc9709b95133a0fad767c04d8f99303965767968ebcc0d31f80c2a6a78776c759c2aeeb3cde3ab003e1d743efcd4f8de4e6f6fc0d1c36e2ad9498f0f5f3bff9a8b78c5fd8db4e18c345a196a70b7fe5bb22107cdb70e09011e5df55621f37eddfaa23022217b86cce5083e0fd6470e7471e94cd72dc56e1bc99b6f2e039543a91bb99881ee13fb05e67a2a6d988c8d664d68ecf3c884b23461f5f125fdc29f9be1baf001a26f02f69af5190d555d606db61ea30a898161f8a5097cf2980285ce5d23b446da7063ceca23928684cb8d6ebdcf56573e4a33194781c503a81f7aec0b448d13f18248bfbd3b63cea9270880f9910ebfe9c12458faf2ff002a10b6c2be04b7bbdb0c22532143c2d7103f20dad41c3e0cb7d236a65f79b79cdb10ceb2cd2f5e427beeed874b2e70a0bea945ce50283ea52f48b76931416247bec82fb2e00480f90eb47c16c0dfb1bf9775a8bd437602820029549286a32b6d81cf1f1fdd96b4422f3ceb3a2694e6209d0655e3700a8f3376c5cd45c22c28e4fd200d4f69a8d126c15628d2b61d98f3f03947f2e451b652b504bb11f3b0929c4e17f3d6a8428edb1edc7c523c6ee10fce47cd2dc307b06bcb02ef2f4068f4b8519d23703c18efbdd297c1737937553fbbb06cda870db22f5721a23903af25afa58f9a04ae0f1af9bc82ba5bede9057473065bb651c6cd5ffc9632cf0811fe8c5ea70442df8df62bf14a953b76fb4011f601971b3d61ad16bacf999e729e881c0955f19893f68525088f722c1affaaca3a80182873f21cfad9cc3fbc31389cc0dc833ec65192a0e152924f796bd02d699b2db4c706e9aed3657685c2f0dbf801316fd6e7ba6228fd960f52dd06e6bd9ed71d4bbcb12d15a4d117682527ea2d019ca72d2af531872944e27e17850540f007f6a393c9b1cd600a2c548265a7130a25694eceeae06e7315746579dbe31a7439139f5cfb4065b6ef8a4a463199aab82f55377689bb9a3cee6c496c51295faaeb6a303b270c72c3c75162c3cad5867f1a3d31a7d6f565b55aa4a444fe473065b7b0cef651109fef03b8f6eff302bf61f6a925fb15110b5a9df7a52c2b9738c5981e5ac35f952621c61c7926580c969c2ab536b8e6208c1296493927d5c6928d35367d37de179fdd61f96e4b178ee729b91c4607055c541d8cdcf4fa844c2e305f7294c7d004d6211ae6327fb47a7d54c72a4982bf5b6dab2c44ec8854ceb4cd57a7eae439d37eccd7068738ee76b0c9332918366ac5b0dcc5435debe627701368bdf137f0783ec0a74dc69fc62101455edb2f6f39bba61eca11f23ee6e9995f1abe211e48661da903d87975da654cb44fb09a9fa9e729edfe2ea5ab3312dee3913d2ecc3975d356d85db29953ba51647e3f81dfcfe2b90a1dcbfcd8cadc30c0778c29971a18bf79010f04ef9abc4c9c779634966129d452113821bb537d7b21d1f268917dc08057ed095b58955909fd9dab25b5c434ec39d7c9d281f359cdc297b2508cb361b58d59d5b240735d38a8b980004d84be5b6d67aa4ff2ed7b3f18664fc401791ae14ce1c59f96a1020582b7e9a64df50c44a21c7837ad7ef32dc96129d4215b772016d106f0f8f24d06e3b9130b043ee5751f22feddfcc62ed4922b82fafe784d7e8dc6aacf0cb395187f54bcdfe7ba8bca239eab73e4467fa057c1e79bbdfeae447f0955dfc8f60997bfa6694884bc437d5976e4caf25011e2f0ccb6ebd0f12fd769094f0be6819008e2f6d0f196562f32f9f5314e6ee66f657bc45675a57804cd51c4d8b1992cd5ffd36a9483a148ff8250bbcb56d61517357e5cdd34b2fbef83b8b887f30895bf8ebde38f089609f018d56e75f46d84c53a67ab13564844be0eaae3eac4c7b91284efec2b8ef6c934e4840a84ff46b8e2e3bbab4185b94be0099cf4d9c81b0063e9424cb4c12955dacc1ad9872e8a02abba1cc6e7d89282f0b2efac7c2d5059cc00e741dd2cb89f69e25d918d515eaf9507d64bd0528838ab0e955df843321bd1ffdc1d6eea29b771564da6c1e5428f378e8965d43b752996736844792eb2632ec46f93964e7c229e1f12cbb25e9ee123c9a8a205cb10207cc29fb020f512e2ee4c890933079b3e2c5006a8f0a68b117159362673324586ba9e75f331479fd6ba5cc40cd2756e3e3f25e351425655977c4a7dbd326d0408b6486a05e53a03cf1753ac0f1b112f5c2cb965808cdc4c30c0796524cf7e6c31281e57ce724e6e2733840de938ea290ff1855637e61844d2c2439f208a06defc52cdc2d1f2c63ffa1ee5b47b154a09b896264635b4bf70075110c11458706f67effbab9c97c09391e3bddff279f93035ace2325e6eeb3946132bf0c09103c25e8866be8406eb9e660915a5bc322278c97a36dd195c63becb5478c7bbbfcd013b53fa9218d500fcb385b73f64c82da4a71fddd5a4bcb226cc0a2c4a04094884119004f8434a6d5272f77399477cd14da3ed46b4ba123cafe94975a051278275950e1c3fd629854f12f3e96cb4ef71a9fc8fd87c066ef8a57ee19bdb40d3b23f4823436faf71c9f97d70ed1dcedc6c81ca500adc09e87335929f50f49858a6f2facb11e86d57a784c290906a90065aebb3552ddb79cbe03f4176bd8fdfee7a5b8b6466253139db8de62a7d47080e8d9f96a91d443795a8a7758ff1e774efb7c1cc69fcd3bef5efff9946f1027310f3bfec046100c7989e0fe1b5345465febba826c4a1be3822ecf117402fea4c0f54fda7a4d1bf908c0abc6a538402dffae85f8d7eb78814f68ac59f193a66b5575c150a3565bcaa51297218a5a670036bb91dcf7d9dc604519a01ea6e22be6e4e7f5774b40a9b5cee267108ade630e16eccdbd0125ccc1e70ead5108c2bd52cae30779a40322a7581b84a0912a4fbacaed66ea12c1eef034e5e9fc67fcccec3f13f039ad87503bcf3b8ff4af5718987cc2da8980f25ba65acbc2f5f3bc70990ff75e2b2ff201fb71d7debedb3161fdb3b08c6d07a20d35c97a12ca83f80075c3c14db932080af00f8fcb40d09954680b0afeacadefdb51b37dfdfae7e5f4418b9a1d41aa8cfa7519ac780fd1d65596e5d3f3abc4ffa6c5a77fc30c040cd446333ce852363106e5c8254a1d4de1a0aad30d723179baf7cd967122ff075fe8c0e28b1c184927b19be572069283d78f3d7f378152e7b09d0ab26004a0af985f584ff700e787b0daa2d48e08426296c405627b050c232df85c944251e770b05a89453d1d702425df0bcefcb4587d7aaa2446320b7817a9f19564f63b287dc8eceba77691ce7a252ca5c9c39f7f4cdfb5abfc8504e70edcecfbdff0ab9758f5af446f3d81f0cb14cabadfc85a046484d89f9be71b774c7b423e5e9a3ed3bc588a0619d5219358a6420f4ba688b67574a27b7313598c11c10b6b56e4a18f5127db32b9c4edb90298b1be4bcdebd7e0b75ae90e732deeda2ac895cf853cba4c7345c58b311582a1d7e2448c7da6df26307c124e5d08d06ba23fc3b83dc304224d9908569e75550c19cc80ddcb527f8994c896857b62d96c016b1eba5b0e9ec3083beec986c9e707cb88f89e76d32ecdcf90be4c31fc58469801aae5e20df43f4e411de77cc09ac4bc6c83563867a63bf292fe22948180548ece2c362b768dbf7dd4b447977456c7dd21cfeb1daca7da39ca4c314281c10bf6210b764c711847c30934495eab66b593ea27f2ff44644710b2d2ba31d2a17f4a30f5e3882c8ce9aea3b3445ef4e3e1de927cdf7aa73b617dce423fd76a18dd0252f49057e5d8326f9cd49bb5412db849d46bb7e85dd8b485b377deaffe57016452e324f407e901d6c6bd5108a3ec8982b0412ab170aed1f4812343a41b3ccbd4644bc970196e8d0d30d80037cdf528b7216058d019fa90bfff762568e6c9d48437d05739d48eedbb7918ef9de17052a34752cf09995d9f7de40654fb29a61d76865f06c0bab4c1ac15583a0d090170545e86c06242a56a8080ca06f7fa9c3e772ee0981fb90776ffdaa9ab4ea8ce28d316bcf2183fb4b399ccd84f3e3cdee1368befa92311a37e90a47ab053fbb0ab007fc4584294435c14af3d2b674e368cfc1df6cc7b5165c90a1bb0a52aa8228e83dc4756332df189195c3095fe4298ea2d7c7a05f8449e4fb8d948d9be8dc00f45113e3acd4846091baab4e1bce974060f169c07108933d270bab783bdbf507e8d5a3f0b9f86cf628159e81b012c4403457be278e9be670ec5e7f2a1d3075b45b05af9e6075a07e72b003e99e95ef42ec6b05ff53b36579d415c6fac53f590c8429cb0dece6d8aa080958658943fb8d43294b27e88202c9790d7ed051d630846121edb33cf00bf7b64ae9c7fdf9a413bcd60f46de9c222fb32c2b22636c5c6f893238797be0d1ac8185342bc7667047ff697b32665b36cc29a8c2c2c367380c30068313c1e222d637cc4a7f70c665f093132a112596dbec61b757056c4e98d746429181bfc4440ed47c558b9239105a7d97739e9a6000a0d06fab367ec139d3cbd72502967b30f2f4824849ce7f406d18fbbdae4166a45b16aa68cf75b9e400e2f9d1a07c6de881f99fe2d2f8ad644b81b0c6956bcec35502fc98bb831d5d28778fb4fe45cdfe9c7437787e2eed5216e6c77a841383796d66fc3e27ce09efb52261a587a952a817086ce22281e38679656dbdba45707534a803164713eb232a5395fa3eac758849ef1ea42c8c93642ec63951e1a5f22eb55c1433dbc6437f7722d8b3d9c8b5c3bb131ba9d901b74116d0eccb62bc35a1576022c9e091a578c45c8aaea5dca22560a6592fe8ade0f69c3031bf46bbc2af4d99354985218be373b8f32392f15fe9ca6a4b584467d7f00198ae1b869039421092f1a4866d236cb7fc511f9b9384015eb9b9793cf8fe22939f033b6cdcccbd6e2e37e4de98d3e27c9185ad32d1c93834e7b1d52d73433ebae91395b35c3d6dccef44ff4a732e101e6b77c63934d5baf415fc3d8c2a83c1efb69aff0713fb89ae24a94d25d38b78b02aeffaae0a0ed1ffd50e8e85156c7e603dc6e34d50f77a8038f2af2f634e17ffa555b32f92154cc9308ca6ee775c67b4f47dcdd36e10cccb8a655da88c464ccbab287a848416d4e4501c29a9700cb7a4e423f7819c72304455c2cdef97b4dc4f6a3419dbc8d9b76c1f4f842e04643be88790c22f78071f25bcda3ab4552460bf49e8aa7704b2f6a323387cc28128acd37964df56a6e43ce39415bf89a89c7989e54714fa037dc952d61f9af8f7bd864e5c203938ad968c4313e47dfe3067b4b649610f831a491814d5808e0269314959c302161c85453255e1f580786830716651be8d87f8cc17b31274124e8f563c9496a065907e3264e15aa966aab7a88e76936166c5ad082cb348cf510c1a2fc326b22839a12a164bbeff1ea73d99888200ebce78cd930e461256129eb3bb8c74ab551e7f3756c21222b03b21331bcd3884fa4c15705bdef507e912c621d2a8eef2f5403f510e595b003f6582429e874c1e5f0693edb4614310394c2e8adbe43e0c7fccc8c90ad5c34467a34a3ffec5473f98692b45af34df532e24d8be29ae46eba3f2b40daa1e8bc2cd556a39724468ecce77e01654ffab3e88e29374d823468efb564af37d8ab3fafa98535a3f10dc13581cf17236ff4ad258f31e227c732e94c7d2d73911a3c50394cabbd08703cee85a1eb20c9df338f6537583e9a4a948d24bff056cc1a570630c419e1d46f705d0ae5dd347cf62d2ce4240036ee075130b20fc15c2d7b987966d6c6cadffc13f5068f4c96a3a58659cf3231c550c3105ab41c04c196d25778203696442fb0fec5a31773e69456ea6cc0be5286531a76720e499b00fd865552e595fbde21dda271d17d51d679a6ce8ca1196b1055be0688c0b143c62e9a5e2e7405cd4a2845c425d8ca9ed3ece56090587a34f7410979b50283c0dec642c9c09b9696d4936fa5300e30cca8386718ede7b5dd70f3431af9547b918b88915b257b54689922d50b723d893a127251f52e2dc7ba2e5ae78d6ebf6568239b5b117d8565ecbef88401714966b4db442258a97d60bf1626fadd65a2d3c1e597ee1e59b517b23d759a58ed609f7b10e5949b93c170d060a5ec29f5e19fc767d7a9ebfe54bf827cd7d33ba5b951bb9d045c34d329a194eded8bf1300e80231398d38681a6d7dd34b3bca87aa36c97d10b3bd8d674f77fc148bc813ae3e4ce4873cbbae9921073571c9d9fbb630ac446aef3699e3f4c6dd96dfea72b3718aef7911e922873cd1d532f6b92803e28515d23b284dfaad9286e024254107ac779b77fc7e28ae26d3dd6dcebfb63299b10083e4bb7cd78a46a18ed313642bc07e1b2509b0cf4d716b364b5278231c66e0a75646de74b7a210a8df3e47592647b6b6208ab30ee140578d3b386bd8e3272fff2fc6f921559e8375e1968411d7965db0a35d219d27d1bea1cdb6d6d6ccbb65dbf07c0463c51901c86f4b1588c7819ce5b5b937508b871d820a54961759366590e5044853160dccecd318b22634bf4633eca5c9e23a9dc29c856a92cf6ab5d1b2e70c840995c5b124e18a7d1a1e374eb858ae12575d139e080de32b45dcc657071fa42d1402f0068fba4961238c9accb368d3b3f5872b15c71c95366e0cd52bb5e89d7432ce160fcd61ac6c25c99ccddbb5e6048cc2a6a31a8863418bca0845091b422c4b0bd80ce54c9e5003ef14df08f59bb5554d24bdeea65786cc835a0227cde655aed815da2f6ea770a096e0d5a2a26175514fc1fb0834a604b717384ad9de7f379732e7ed5761651689ecf03299f39b20d0b947f721341eb7c723734ebd971df995b738369956268ff95b9cdeb41b589c1aab824d68b8217cd0555573624408e8d35b4fec946f3efe6c9a305fb62f4068dc7c3ffacec3194559bfced5e5f8a66827aaabe0486c36c28a80e2ef0cb9037716bf3ca08ef9466e2a64540b8b58815409729ce6dac7ed5de769eb121800a5889003b9c594f81581ef123fe09083aec254f60faa8e2543b2551f0f2f2d780efa2649359d691985391e6d290cb0de0971335b6a65224191f29c989e2a2812c23131860dc6ad8e40c15461eeeff2f63bb80a58d62e249ad26b2f521b235cf973c5d4e696dd5a54eb782cea18443542f0d342f71d41ff5aeaa8ea910cd731bae192cc042e8304983f0411a898b2a9e4cd73531fe6769e6a142566c81ffe828a9f9737e6364dab9296cdf279cef8c97246cc20b92c82db1aff253f5af361a82f50161d3dc79323c2e9829fede3c7af5f117ed781fa79935f6b555b4dcbc2438f1431c6fe4c79863acc5fd81871611e9c945c2dff264088b64e7d0a5742ef27917eb2ddfbe1d7495fcca39aecd6f38a59716cafd671c1510e10b43979aaeb9b80d02a00dd79ee84618bb6ea20f7ae430a0eca7e5548d2258c6899d249ee81115d463529bab59071139e23eaf0b88f39f5b0ab46cd50d5bdd3eccbfe8b5b66e526c0b4133ea977bea454608ccf462d6ae63a25f16c7b01943dbb3940da6fd1846a3394f8f81af91b83d57da95dcbf5c243ec2f59440783bcb2872890baf2666790f552eeb14fe2bb7baed08429f142e8e108c6f24c8e6514a8043ec7b109e4154064d709eb1f3dac5f88f382541b4a6829893f68164b1f89bacb63e9d1d78b52fa7e44aef1ebfa1e57e727e60d4ad594e93255013598e607d1170c2b7318ea91e5bc31c072e58c7a0e99a298e7f465764b65cbe5ee614271cce652cf758697d3c9a0e54d9b87fd1068fa9afece61b4444f039859459031833c845edca758380d32a986a1f187e23ab1405fd0dd9499464ea2f0d4edf5a404e153f1b0d76a28685890dc43fdb55997bee78d47361b6ebbf7d93dea198f7525f41da6f78a26d0b3a9092142021b01b27db34ca4ea95409a601f5c9009c9d1e15c7ff71bf0d34ea30e1bdb56295faec4ce97a8571e104021ff8a934d0d609bc656129348dfe49dff917c35ea80175dd218e148feb9963fd904a346a993d16b19309f58ee2f1ec64a47a8913e2c83d9302ee9f72ffc1075a9d6a6f11953851198ded3dc4f18ff4907da22b9ab56be533daeabd3da50dcd40431cb343f28527e44fdd3276497f083bb29cce39cc4197edf90acd461f6d072f6b805bed9cd9a0a9021b52da0739c4fb93822b39233ce8c1e8dd6fb678e1cff1ab6b2ab88ba21ef559d134b797ba3901d35310cf278d06e59cc520d96fbb63c2e00c16c1f79d49ccc649db9c8b1d94e467b20120efc63c312771522616ab92115239ecfb5db78ea3594b73c7dece4095d3f5c4b00dde45d12bd70887e792044919332b5ab5c954037d6fdcd60ae75621231acd830ae2d260b963311f7ab08fa11650b4c4bab21706c414e3c760afef1552f3b0350858c1859db94540d94c5260e48efadab206f4c1edb89215f1d38bb6175a5090593d18431210d6e5f0303083a7ce1c7c5ba457efa1cf34eb114b71f9be31bf2083f48b3df6161b9f09a32fc7965886022da4fbdb3b378b52ee9976d5d4cbe6a365af4fd8359f045db0f8ff8c6235de7465de60bab3e896b3f5b9d52ac7c79684850ca6bb070414761594c5575e96f463553ca69890a33a0bc6ca47cf5e7c89c310b456d19ab8e2a489b1bc81fd0b1e2468bce68732f0b794043de21934b7f1563f83018405d07e6b8ab3df80a464259946dd88528894d56b74f1175ba2f05e6cb0923cdbbda58156c1cb414aaf07482f30e61cc5bf69352fc3c96f68b214dde93283b097e45e17d2ffbebcc2c436cd4ff46c7824d69354373760b54b8c6719afead9bb3412c18dd509e161b93740280f2cba8a8f87e4526c64810a25a296ecd92758c49381cdc6a41fabefca28b2ba07317c797553cf64ec2a6ef4ef78e00fb0a87a40b61527d786512d7a95b6f07741d747e0b5e8eee658d17fb4e2f45a705a17db8a00eafb330bf61904fb931af94fd005752ed51dc9451ce8e4c40c432583b72baab0cb1b9a6f46f2b3b61983d63b4696142803ce777922693110cfebd99a92edd2b1e665e74c4873a598dfaeddba61fa530f9a97e8eed6ff5a23f90447f56ad6381324d7d3f5814e2566f5279121a1b2dcd6e3e3c07a700f9d340e8c37a7d6fa43231460c6345205f72195de9364a9122db65594af81d2b4f8ca7ee6ded4d6864da3c921de5e27f4cc8e7f9bbd9b7c128e15927e9c4bf00cac350c39969d72b174a83bd3f32c60bd04356a326306fe64e25a2d3c13b3e0c4ea603cfb9bbbaae1bdee5ce82f4158f59d44f3c6b4d6d84879b595ac0cf75f1af6e14633e379928d1c8c628b58b24b7043059c0736dc29d08de9bc49054584090e23f3c8bb2cd6179a1caf4d12d85a86244844b37399d5d46cc940d7e95f8116bd9b7277ffb8dfa496d5d9988ca14272bf2b1aa75645cf23857b2a895ac43356b7a1df892fd58a926dac7335c770680f7da40953c8ae7b41b329c1dca63ddf3cb0882605afa1d22ac8815454a4cbc3361bbbf45e42af70dcda98c260e865ae09b873a64cee9588a124de8a58bd9e65212a6b5fcd494665918a59d6f02693b6f504577d54de2c7dcbde738e5f24c3dbb8f0846f372c11ec7a75f0ffcb1b53377535d43c2e6815e1b620c0edcab74f3f5d436eaaa00b9a72fc065bd05a0a9d89657a6ed72846eea21c8fbb14149bd8a770673af97bfed25d57d6823dd1035ef1a710e79aafd6c4b554861f03ae6d9dea22274efba1e95aa358b39f88e8cbb5e4c101c3417b3dc6de8da2ceaf3fe60a1a42b64bd3e560cd9a604866629af557a8f8a63e6c42586d8e9da8da1f0d5721399660464873bed411bce13e3c8ade2b43b3d3b24b1349acce8ea12fb7c0c502dc8dc16b3080ae1fc73b9fc1bbf32229213639efebce1f3b41c8c5fd59c9d979cfe6b2a2f9a249f333b3b97e2e28cb78b178c3a0116d41cbed24df2b69119279c2cb0e2fc8ac1efe34ec9f98a59117dddd57e142337dd3d33bd6452e6b44916733b0ff115d7b2d04fa8d0f907a36ac0a03698bff14a9333d29e52fa5442113307b63450e0e9eefc81d7491034b47858566a0628f134d9295a697df6be897e3fdba93d69ff7f84f8e750f8315533e368600465c54f401758f418f9c1aa35e65476db04f0f5899d58a1b5caee398af0ffd001862dea77b7ce4a03fa6e8facb2647e78581d4cb7e1f456e1d29e21b4abcfa6750a5229b2f4032ffb08f58cd26409776afc61fdd9ec0e539064a3710a67f549afd2033a7495dd6efaa256fb8555cca4a19a3825b84e9fb9a982877f2c3105f41a6df41bf2312c4e7ceb9789082fcad6406750878583a86d0a2a7a8c92476f2473d0892a3e6699136fb095f6ca257046e47701ddf655d6cb77ecefa3734f11eccefba56a0f501ddc29077a58ec00d24229fcc9ae4423f845a9ce7a3d79386b39c0d2ae3fed96180aaeadaa2c8f7fee5c966ce1174fd3b83e380233f53e9a97b5b2948b2c554c81d14382c252b55110010f324b2b1d8ea2c4859550cfe935e990a730187a381b82603d67679287d75b733c7e8e2bb78f14d6231c6ee297de5165bfd0d868e9c3c0729a71ad64981e5e72f01e666633009adfdaaf1c5fc42593372f0bdc82d63f7a1e73e7d6f7905ec86438e24b4c51da485104f129a578c2b8beafd5cf7e31f46a02e3f6be8ace4bd1cfd6877dc4c7d618762d38ee263ec9ab08b6c556700a5615dd1d8c23326367462f320e1a13bf2261b924a09c7a93bcb77d29ee61c17a7c285dba6832a67bae989d548621113212099958b6baa1c430e90c25d3437890f96dabf4b00acd074717d53d126f28e02c9e422973c5c2aa9eb550195cb3d7e5ddd9437ab1f2e85689b6affae904b07a63e384af676c57afa18268252227f1c3c5a02d1ac238824307bf12af2ddb72aed091091857e5e29841ffa5ea60c99f3cc3569e06437886e1653752a45b68e8caea9bd7a27e25dcfa119b32b617f59d9aa46189a3b0519089d4af1b5987467a63870146ff98812a1171473511b413e886a8506b54ccf26b1699ccb8aa9e556a4a6cc2015dab4a5649ed708fb0eaae70f81b4aa559524bf5251d8f04a7a8985d93ac5a3d2deed7cbf343bbce011116b275941bea801cc011deb30fdd6e7566d0274d6e9db8edcb51d0197734d0a29c7add893608d2922f495cc4fd74d61fd59fa8106095fd628f0e425868c8da3e979dc6b3a733f2cdcca3cd9232256c520cc7c1d494ff2e99d156745365f849e655d8a198336ed8cdf0972263375edcbe438c5333059c894673c2055bd59127ff6943d35df18ac68cabcee8bbaa88a53ed6cffb1741342aa6dac7787bbb3a5f2a114347df454ffd6c8871441c16547cb6ab29c27e8aadfe726b4fa8acd680489fed029c3587228c688b0f1e8f8272f738a2f15d0013df8de03957f2e9e356dcee27d944a143808cb0e437c866e8e841227a43d272c8921188585623d3b7d1e813204fc7e6d2a2abfe9b61ab32a5f37909e2602140c2072f94bedcb5f0774713fee76ec07790d1b23aa297cf107b03a038d1e28a67dd51ee4d3f6bd86c3c9fe975487571c56938bb8b1e95daf10be162c59ec7a035397796038feadccb28084369a9f02c8cf7a83edb8f51a09d361a8212a484e72e24a971713f5489a431e5e59b82dde31402d45587f146f1a02860510615d6c173fdd3f1b26a025d37c5280546eedc50b65b27a75c28ca50d73f5f7a57dac564448ee578c245c507d2f0b0a3e4363a9c1644300b1c8719fceff44d891c8bf793ef3c39eb7be8a7e18103f6e544bba67f7e532ca3ce267a1ab316e83b719b8e284bdf88131bdba02b19ddf307cfa8d2c9b1b6471b1352c54f81ec2f71c31364ee4cb719cf3cbdae83b47c0dce48a7434a1dd3e5f14ece81f2fd3e71221b1fec266efaf25d12cb42b1f140534323c3f3f666c32dce5048e783338bd216884ab95b35ea575c6daaec82eda1b6ff5fb5c2b9568cbdc0a76b3df020877e906cd6fd58da3807006907e7cb83556a58c22501863c1d58d8a0c0f32b6f6e0599f35b10de3bc235b5d674c1be616d1641db12497cf3d96e4b0bfb218667edb44be095fe2a450f027e84cc0e04e93e3f14038b649d58d59ef4a8b041087cf6630cc47fb4cf933c6b3fa2f6cf49d0148ac1f9053490b729cac2ea4b853c3afdd853022c13f5245596ba3052f49166075a9ba36cc9607ecf74b338723e894f817bb38b5c04af34793b41c0f122620740ff2d66ec6aef18807b2611fb619377ab9f03b09590029632f38bf4c3da6f86368b75e2cc3c9f44c39b9814093f92938e1bef13715f09a9bdb13022c2a71d85444c429e55001fd07ebac0e27822c99b0b7c6f82713342f676783eb6732d438d64bdb05a23d37904c1882a66b74278e3a8bd57e681df44136289c9e2413514c6c16caafba390dcc112051f566e6156ad4d3ea6e0c84be22815cc36551038bbeeb39723c2260c3efd85b29cb5f3873341248b14072febafb4facfea18d867355a7296259ae4b40a8574ff02cd3e88833f9fd7bd644befc076567c2e0605a82292208137147149f4c97303a89ccf3d1006a31c841b81568310d7dd630796642af5219266ff7d47fa7de231b62f35482630586d075b44518201c52d0607861d6beec4ac534155c96d0b4077abd28e16f6a9261b0d341f58d46355181b95840e86e3ca7d579cae09601b90ce3b140d780151a347878dc88a88d1853916a8dabd867c252c78bef3695f971ba663abf4aba908895c6d2dbee8d2028a45972fddc680b4dc31f3a16ff410791f83918a805f4e37bf8c5e2328629824b4fb0d0fc9429c9b63c9c9e5f49636e00d7b0f3d60171f212d465717c37b0cd0986701a09b0ef3989bc19a48f588c40e8842f8fe21f27c45567cb124f7ed6dc766f122b8154782c1568a49fb34258de11e2ffb97dca5091fd1de2f53d25ec12fbf5fd73586c97a48b58a3eba1c8d65d0874aeb61a70a332aa96bf7127c1501833166c8aefde23bbb5dde3bdc74cb2d2dc005e06561030452e95cf72658b8a31b293197d0d7ee03737474c0ba2c72089e46abea45914cacc859dd22e2b8d98a9f3bdffe1bcdad1a2bc9946d54f6d93638b4a4cda17db5fcfb3d506dfe281d64e87c835313bd29faa6dbb8354ae94e26b14c25b493a902dde2c7fbd02967af36c9fc9c8dd1ff3a51909d181cf965d86b327c0d7cc21e7e133c124eab3745dd545e55d3a8150ec57751d0cee1b1b8e42b813046bbe2459484c1364c1014a00d23235eaf44dda72613820f327be7a58af2a7379ab7360e0db4388bd85b8662b92634329e69c6c9b452058b0917608209abb414182c97baab523a2af50910a1664992011c83d8a1480c798dc7ac1a0f096f335a818208c7816812ce1bee5694f92fce5b2b7306ea95062979447eae19fc27f68768297718c583f4e2","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
