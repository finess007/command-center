<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7462734db854061aeb1ea598205ff39a861275ce426eda40b4c176d8aba7b4dad6cb12083dbc37a5b4f0251264de38a002997f6ecff524563a1f6c333fda558dffb92a0cc79ab3e88a68b00d7d214d629c4657a2774bbddc641553a1b0d3a477d14ef94e95eb5c7327e899da4c5cab3b90e349f67b239432b84648a903025d8693a194838ea9fce62f96ecb3ae825e9600117146b0d60700716afa869943c3ecf01d7e356cff05bc4e9c1acf56a3d794bba097d6fc3d2cb1c1a85cedea537b48b37685a2358e9f750122aff8e3b8e77e10171789bb2643e7087524b1235dfbe684c9fccef6f0ba29bae1ef550b4d7cf399e4bfc893a77065d017e53849a5d7fdb7037264ccbcef3b537067d54effd5d4f589e6edb27ac7288c2908caf7e4eec0d9e9331e2b58ea7de9109a9c59b0b20dfd2e37033d35019e65be28ecce05960ace2eef98b3fb277285537d5f39cf3e38191c061f2ea2388009cb5dc8a0ea6e5e5f38f61d7b0dacd33a6379f46073692207773ba7bb8c3bea7dc70fa714090a0810df4f84c531dac144085218815805a59d0dbe182707c38022c5a02aefa285fe60e5854f62591e73e3ae3a26602719e689e2edae9e085f4b7511b3da6ce85e58b28f7b36cc41a51519be7e5f15429bf02a358f525559c39d32b744894da2f33ef72afffcc0968d4655fbe80a806b4d9c76ec9c644ed0eaa6359822a8db0e5ca155a6a3f9e71bbebc798c4208c22fd51e1e3bd41e51d9a5989915392b970e7fdcdb65299e1dcc9bb581971666456e3c15d1fd91b3edb4b741f86448c4b7ac0cb1cb7cdb8f38a4e5378e7b245643247958be053c919457bd787a69a1e7c2f30bdc1fe8de175df36d77d50915b52deaaeaba20977da06b7bbb10226e13feffad930b2a6ec1d3d5d106760953e306808675db0396a121a55d2a5ff255e66e4ed2069a7d63c0092dd9ed0fbc9a381d95c6dfd3d1cf706c3db6b89d6d6548efec8c9ec496fa8d8b602a3bf32120e2087ff42e274fd1efd898165ef09c281f7b75afdde3f7c5c12e8bf3808054aa10d93a727ada92d63e34e93b1338fd62b327baeba95d1578dd3050223960990e027ca4e56e86e6eb6cc8efa6ea8bf5a84dce456cff04d2e3115f5a3a10b177b25ca56d9ddb0b15b17a86aebfd9bae88f2d5ec8a572d37b50c559cbcb950a527b00b0fca054b6af756d8b985242be1229546c6dcffe63aa5ca20baf5028c71b054c1a56cf0fa1778bb5e2a301ead253b9029b9e924b52e72e0f5d5341c7021f9ccf0c557fbcbf8c78063cc1b5c9d126b5ffa39fca2b88d1aebf7a08094d3d7cf8de08b1f7bd4c0875d9028ae136bb3c0a5f6b937bfea9521e88b30fa94b4a6d3c71166b53bfd659533116d54b3bfdfc221c2181af173bcd887f7c589287531e9504992f7bda5a6780243dce4b7591b03edb068e84757af708b3540dffe4ccac2f8a2e5ff7ae699a2700d260c411c8abcb42b07e0a4c082dc1105c549c2c1afe6795f2781cd08d1c3eb4e72931310d821fed7eb978b5edc6ec93122f4a7e465f88d49df3acf5e10f07d79b35d496125d56b3a0dff44577d03adf6e93b467e7c1812190b201840da5e39f9d37d4f973cd2ecf77bbceefb5b0a8bea0f877d7d673a7d05489a54c08adc8c3ad06eaa4e1faf4b556980fc6e9c6bbee23c6b18f5ae2f67cd79e9225d17dc88d461fd800f09af3de995d73239d6618729b56339ba1811928c28104e653dccf2dd461e8f647f79d091fb25b3fbf8e00493a832be77c20364d5de9ce799d9226fec8d4ce574a1b8097528fe57cfdc19ed41a20204b885de244d1ea943336681124f23f9ff7eee22833fe8fc70b7d2fdef4b22485c67d0aa1788edc60de154be548468f73fc4095eabb197031b5784bcc07b1d7eae14318e73ef7b44ed617d270f0d7093af5eb283aa3340829634f6e8359de7a26936a74449824b5a9cd06e4f69739a24ed01077e2a081fbd9faba4d182470911ec6acf234e27b739981b4db1bc8939e1046bed4b2f0d18e47b3eed2f3fccc0c001c1624863479798cef925b0ee4de9a0245cf16e962de27df11ca4441319cb62c49a748ffa9abbc58f7ae64c300c66536a2196f27adc23ba9777158b69aa81511f76ca5ba57134aec01acf6383906a9c965fc794a08590fe4606e74d1354ba01323df19e6aa3ee2f1bf847bbb7e375e126f0e46ccd726a9d41c94b62a86172bbf5ada8c8e1984d287f45f979e7d1060175de9e12ea076748bb44d3480f1665bc826a95580e364b9b568a4c6ab9a5154a122a8a2f1aeb140abd7bf1b3f0b5bba9a95b64fc1b48c496b6d7132484e6e47b76301db44b65865aa74203a3a24c0c95ba27e2e79109c9e268abd2d8e89467b2623f8979b2fe523278f7e378855bffe7ccf27947d4909e1d91c98e6c7f1bf281cef80238f74bba7ff12a77c48a67519f54b1069f3292d8220de99ed2ff17a4a84931ab525c6fa64bdda79e2144c8d008018dc5d24fd23a7b70f846de89eec7d8d5840fc6bec1fca4dc2a56615a82af199fa70b64a80d789d94cf038e117acd5d5e5060b30bf5c489933219d2b1089548b213f9cd2aaad1dd80aec2c0b63a13bd262d2f0db224b380292a83d3b0f4c5a8cad3bb8b4bb106d04a982dff2162e4ae12c8616aba45f87f0718fa37c1e183401e0f2b0c88bc8a23bde9f350c23a3a8d505a3fce45d8c625c63c98f544246706c5c244682841be97fbedc7d8a573d911b736a9522d326de8b3464a41893d9f68f618af688ad03fa1a865e53d68298ab9e188cce383793069fdcc6f9366545cc5d990e41de1ac061c3bf0fa11c6dec8e3e6c3cf78d6868d60df274da9231d0379cc72e788b853285c007084293d002793a870667633221fc1288930bcd3aec56fe73e584eb4c323425ccef451b8a5e613ef47534cdbb13c3d349593a0aa9c71e4ddca556cb027c4105caddd8808671f3532c0c7e713c341b8f9ca6746b011e733952c54471e189521a43f89118222bccb869eced62688d8063f3d0f7fe325dec4d17085f7564ec045378b90811ace5a30577bff1ba5836be28a46be7ee3000f9b99695b8c684a3816d666b1006b37da833ec4816f403144898a7791af2af58fceff82a0cb78fbe7ca20a52fda25ac43108b551d4b0e18502f4e0fa2f01b0bac21fe08d2fce8d9230e6dcfe8d0e7f4ca9b9fd1cd87b556e4667197139c2ff18f3063e186d47e506de132419b6f9b83749172bfa5e970ac700a011baa9dfea6b975adaf46ae795c356f7e0fca911b473fa0434d352a2663ad2efbe4ce0f5a9259c2c0889a642ab4a8b9fb343c82837a5e69105e5756bc2630b290966d02dad5ab4709e02527ee4c40e12ad44d4349f468b8d9549422ec7c1a2d6db04edc31f7214de461991bdd8b603592159b255caeca93d04b4b881cbbdbb4d1e66e46997ddafe4a9b135af2a66294d30017313de5b58b68336e2163820ba300d7e8b824e816bbed0a235320efacec7a24772858d0c77e70b05846568e7c31f7b5e7e3bd913ebf78ec67a46c25ee854fbc42565c711df30c9353badb7b3a90fbcca6528cff604bb230bf7dda0a533df18b728c1337bbabaeeaab6734991ac0bb7566924e4e7503a762762efc3d45427979c974054cc4be7d32fa9a952e8e6cfb97d5e54b60b0bb94c57a81d780aa14900e8c04e40137436645a4f1529f71f9a926a21777b410f67ec2cdad3e85d134048ab27caddc7f7d8206f3b05750764745cdd3a0aa4d2cfe40d95c2163333cfd2f274eb1a099dba3a1d5f49b9a171f74accf44b8ea176e6a8b6a80065b21befc080ae1eac3c8a3bd964d741815c495ff4041f00df600f0924a84be758b9da68e1ea3f8e200a26e9fef3aac1273c60e4e7fad94801e6b02a64f8cbccfb48b871751df85c6433e242b52b3255e3aef15725b4363c7297678f07c451858cece8aec127eb76ab1707db04ffbc4e9261e83a157a2286361631fe95ab35740ca89c5484d37582034fd294120d6d15a5d3a91f8f72cb0a223911aaf1e9eb39d8c08d79bf50af1f4ba344241ee5c3a81678c3355143d117bc0b17341a0dd1aaa1ee32b5aba25a17b2be2a0519e0e3a2cbc71f3727e1d7e4999828164aaceca7404c0de478f4a8be72c11587486af0caab7d70fe95a17c3eed7bf60f68f39944cb54d931064613f4025a295f79c3279cd7bffd69b6db49baf0d6a40053824de430a875f11364d5aa1da1d0875602f317e862ecea75718f030a325229b5ed686db66e8508837bebd345010a1904bcb904656818c4ed920af8a028132a39f9a4b06198b81c05d0f0b6cf626e092ba1886534b2a097058754758d6984229e1a99bc466e240d13b493b081c94edf6022c5bed09ca17767e32c2c7a02c67ee4abc7ffe8e727a0b7042e80f08937a695956a57a699634f72e286082423a2853c35e88f3a02941d6ab99066471b34713cf8b25ee72b716f16bd4663bba041dc4a7f319baba69bef5bbcc2bd17af3efb2c8d2a15f161ed141c7a03e1c8f787ec11629d2426d8ab54d2e07930c5d8dd628ec3537497ae78d10e2f2bfa084e742229e2ea30be604e03ccb13b5d96df49d2daee23176758f3f251861738470506051798fd98adbebdd55e3c26e20538d1c3c3c6bf50726bc17a0eb1253b26bdd625af2263eea9921f4ae6e60024a670864cb74cc0b90411ccdb69c9a1ccb7254c4ad15b88312e33e419fa413f27136e90cda2362bff827af64fa2ed49b0cb970abdb6a4a10980c14013e894b7a95824c312279efadba268886c68f44bf40fa63d637710c44f69648a184a30ee29c7b02e41cdaba15ff54d5e4e420aebfb027ee012be77cebb48a7d5cb3742c13f8d1fb013886e825d3b50424409a2da2b3d1c0f080f3f1460a0a51715bce00b80f1895807cbc80ec8682477a498c5cb92acc0be5dd0baa67e3604bb01447e82ac2a68d3ac0d1513c4c36920f61961642dd91c0f7742326b5d51ea4b24dbb86085f3e422a5d6ccd62f54a4090501a3f2a713116d627d30452efe0261613353c4d4d29a0e752a6f8f7ce7255340b9631e15530323d6df2ce723c51c092cd38edad1a62b748252fe2392c51dfba89eb723d5a8f0e76ab8d49b1cc337f415de96d734f960d6eaeb1e1982f5de9bb1d10f99a4416a324d1665889d8f615f49cd4f2d60e1839a13ded0409f43ce01dc34f044beb00797d43497bc1a8965fd57eb263255120f97b949c5c477dbb6b78b3b75ba7c944145424a19d99521c5c868a3ec5daf62d43fbd5129ff0c2a37dbe870ad09100f16ddf54c6dc9c38b3bc9c3cd89962980d8a90028e91ae81802d4a23aedd196a622caaca04680d406cee736a4bccfd8dbe017b068cf06c77f44a9cf262decf945b4dae51417693bf309ec8209ddf6eace8cde264377b6d0730339a88c5e7e4d1fbb638185c225063000a48365d6d4ecd8f8b59519e76ac2e1c2d99febf66f29adeddf9f9b6d86b6332e0187d9f685ef38637bec5b78acfb701c9c0c939724cef909f2ff3b9f415f820dbd02b026fafe8d3d8af303aa326fa99b591203e4f409ae5e8c67643730bcfbbf0d94058290e1d52e941007223eeec8356e01687a7c105fa8949900e38b97cd92f589e947b3681ca7d7da0d0d2366512215fda7f01cf1482b74b49be48a47e9551e3d30cb481cecaf43d8f94fbbb903f92ae669025c37b21bbc2b6132f1c45368469ee3c8167144634165da0ed73de767449e45813dc0787bfd99136538aa31742321478d2f29b9c96ddbce2b6d63c8b9bcaaede69d2501757f8fd19272c5d0927db1447f6ba6c4f5bcdfbedbeb63ded3a75397e7e274e24e99896ee8e84a1ee1c681ad824b3b6a7eef134a2ace2262c35a245dead1b027c606b1bc4ff14f6addf8459cdaaf5083d81730c4754a5278be89126f990fb95844669138c3b62db8a0e32dac6d1c230487cc7793c2f79101b4f48120da8fb67b03aad85dddb603ce980f3c808c42aa12cf2a60480d253f463330b42f4a382485764bdaef02d2ef6ce235d28fbe3ac27b8a53a569fb8ac0a08aad3d80d64611ba59b7d85036141c11d0107a23463dba3e26436636837dac0bf1c20baf98053eefa7762416e4069c469e6de1d8e837dc44d13cbb26a9cc584aed75bf755cbd8d67330a0750f0e38c496d066fd2f13d3268a838cb61d960a6d4ef957e6a0a955fc42a201e8b988d59254284010d3d27214123bdbd702e7bd7c6fd490ed322839f93a0904af591312075800b192db0a829ff63669a11a3da5ba02400a5445e3f86834162bb30e9d811ccc47a33e0aefc5392addaf3364b9f3ac64792b2b0ec1e8edf184a9b4b266820e923fc287a61428600bd01e24054445b4219060c2e8bc7ff01efce24d00c37dc3adadee6e563b101adf23839dc6159fd271236a5b982cdbfa4ef462c5f60e87e8007d8fb734a1d4b4f3ecc951e7d101215cfadaf29243300fdd9b94fdb21a75d7dbc4fa8be3542f57cce5c245d011c05ab0c764aa8ec4e44f245108532586701393c12c33a5258dd88e2f9e451a466f357f63aa5e88b059cbdf9d8c06762171cd5cab38557e355429c55d7eef1145398606059f367d27d458148dd914f0dfbcffc36dfdc1ad026876b1fccea3f9bbf1be4a16b0a151891574d0159705762f2f71ad390908fedace09431f47836510248046aee1fab2503421e942a9824e7ddda7f3449fd6293444be9a2b3f05f397b600be62667faff42e0bfdc934bc0bf2b05a745a99c157a08ad436ff8be4f3ce0d431a6bcbb6866fa896155d06ea0654fb90678cffd00fcf2397606c9faffd28cdc99e5f1eaaa0fb917697ac254de581bbe0eee3fbbf64b8e9f316b209592f3240103e8db1f591e0de1c1f3dfa4c00aedc624acd3e07e42c37f045990ec21847faa385ff17a2e9fb9032d17930e0bcacece97c66e2b2b0fef19550bb619e4be06a5102f3503828c761341d49bd07d92d25d45999083b55c81e620f37697a9ee5c86dbe062f6aaaf51aa5bdb73ea31c0a982da6d759f18393491293e0e222de8e469c558367f1c7df0ffe63835829843be56b1ea74f52292067c0bd2528faa2e25dfc2fd3afa95b185a5615ab0a73f70c783a17c51bb6710b151feb246c3677898515c54f8e0b54efbd7b8ae62af7220e883e94dd639a128fd8815964d92edca33966575cbce79813700c21eb3bbe046ccf2712185098959fc1fe7d42992f9f1c63773591155d78702efc42ea140438e30e977411bb786cf95a03c2e509560e7f8c264ef51398c7c98800b8e279a76fef2b78f78c021c1750263f0d18f715a728a6d45d77c14a1d3cd19d6b5a479b15eaea7ae4f1a2c09cc01565b7ff84d601cb1f4146e257ac72f7ac0b8b712c4afaecc1bd15a3950b164aec9ec6533a08400272a2e489b64ee87d17b3b7106077eed83c34923c620a55735a550d23e9c2e4fb043268d1c51dabedad74b6a375f0bf4f6f75f41155815380b36ac1a521d63478d35ccd2a40e134344431790b38f844770383fc58fa37af5fd0ae4fd228ad3f4a770002433c12c25bc90715e5353cae35743309b6a934a820b55b74b7af3f9c26e58eafe26ae34ebb2ad0308ad7854431ad208c0ef61c270d74aec42f961204173552faad2eb3df631fe0f25675bcb9e6ca4eccd9340273bb71f83e98eba6843492ee6c382cf8f487a78cb3db34de105cef91d0056e3a3373e0395ab2a4b5f631a950d60e3caf0fda5aad2bb3bdcf8ef24f15febaaec2b11a8a999d8dea818e71cc303bec77b618d2b79c481038bfac3acf63fa75ce31406394c8e59053e22256091fdc98fbbad53338bd2b8afb987059b6a9621cafe39ec36c823c7f681303524f205bf5f1376197da5a40df0b8da64179dbafd222fd8d15aa9dcd7da0a91a03328c01d3342a8a93e6ecd1eee3c2231c5e2aa05264d7ef7a955e9c0edaa2e5e0a73cfa3a93fb826172593c1314a4c2da919d8008cb3f281dfb6ded3e60c3e26d765579c02f2b889c0bc4693f93a0c7a8b06f0d7af99ae932bac7a29129d0bada72ea2833fa74c34e5873824371d88f3be824e46c5226a367486b4a50ecce2ff847adab40c12ad39bdccc008475de8cae7d9923c7858a6fa383d23ba0969b72d0d357223807225f9ec662259f402b4c6609168e49907d38301c5121abf852653f3e9542f0a783adff92b244e4828dac8dc41fa6e302f84b52865d2c1f53669c7af0b37e96770db0833e265b6bd35b7842cbc429a3e9f24f80bfb7e652e80927b6e4c16e4f4d204c36790988989cbef154cc879a07956d3baf65efcd67082d5a14a98042ff35afc017576c224fb6f5661e69e847ecc9fe178700328143fb8fcd4a4e61c883658f6014b5d89cede3992b642304a4effda4d7be870b391ddf47857e9fd7e401aae3014441cae95427c921f09208b4d3ed08f0e9945f00e986606f2a05912f83a3f90c87f7cfcf1440e9d33c34e8d079a3bf3ff7637930c7d29e7672ea6520096afdbfb7a64ce813cfeb632aaa3689b81a6476dbba3089ec25f13d259283cd413bbceebd872979e1ddff799935e5a4a0b82715a12358df4e56b58ed2fdd2dd87a59b62cb3337c612dd379ca3cd2e2ae925c55c9a264c60e2c3d934092ea3fd1d248ba07e508f622b69b7cb5fc313acb51a9adc38767722e75ea4ef6e62b438ceb4b8289252a0d4ef3979ae84cc61d801fae41c829f8a71bd096ce3e2eb74767e9dcdfec20fbbefe7048df08257098c9d26db298fafb8f075e447c09ed2ed1723e4b091c7c5d1dc9417864f8301b341f8eb9a463fd1d7900c1b18ebd4473b0b3972ca74ca5fa26a5d2d9edf530f040d57f55a244078b305b1d76c3b628377ce4ab3c6d645a6d352645349362a39ac6ee77e837542955a9c6b0c86762ba66e0415ca0b87b550b3053ce03ece7161ab20822d6600e2e2c8c29012e29098230e504dfd314552c090a76d9218f7db861c799bff9694f9e7d4d3699db8b0499ae3bd78ea5472e03e7ad832e3310048f8207536a0561e25bacf937c5a2755ecb6eb18450f46c2ed4da1e596221ecd747b3b07e6245c99fad6f5945718f674559b5c38507442be09fea714053c341524a0bb01ee47c32eb934d20888768b7e96015a5b522fe0755d9edfd0813562e46702407a3f02300e9475f89bea27fd73142ec46966e6172509ae390f1735494d1395cc46f63511ba466b6a88017fbde7ea69087e87cb8c377170f61d06f9c9775e12ab78ab6d30cc49afdbf28c0d1a55f7d6d92a06d284061362f9d8a746fd005fec2e537cc0971df88807c32e90b29fc2826d17d262c692f09516a52be671de9adc264606809bf204eb158ac8b80d87d30cdb398c01c8cebec16f5408bc906562f050dcd033e006e67450e0d16e2487ea95a031f67b7c4e3729623695afc9955ccc4de98bb89e7acc1032e46a149de75d5897b6d4818df645af5cdad94e9b824abaef4aae54282b1b95afb328299c039135c1bf753a74b79f7129c438d8a8ee3b0878fcc89779b6f893e860838df589ac50950b2964853c5847b496fce1d0fc0d356461d486df0cfc785773a309a0f4c50d7b91909acf10bf8c0c27bd5630da779fa8cfd53169c186f99035a9a22a81603b0556d57667c220ec84b5c1c851fd9823548ea60d7dfa5ed0489d87ea18a7f33e95343dcd3a4407a028dcd413b65d2fab1eba3176f70e910219caabf215c74d5f81214d3fcbbc0edfe648645c42ba7429d6980df7e793b525cf311c6ad74f1317ef192f126584c89538e7d5560f4f5f96aec8aca511d5bea9b89c94f282f5243dcd41da4d7f41ea08734eb9d9be69077c793c1c4c4594646dc24ba49fe382e46fa335884a8342a847219a39fb82002c6eb54c9daa41874f85488e51b78fef3a8d7e4bcd360dca9fbc4d22f60bff00797cadf4bc96c46f099654056929b9959302d423e58e9dd231a997b3b95b10f81c6fb871f5cf7d0409584c02c0da1e14e2e799535d7704db1a9797c168a36c2c2244f2d34ee566f8a33402086142ce4bc463e28441d1e27820f0f4bc4206a2fc4eaa1751c90ba71bb84a852f4b3d07fa134c6d4ac94cbc6e2eb1f2769a39d245bf6020ad18678444d2feba127713eca941749cae02c35a92655068428bf234c0d2f699edf01d1aa715ffc937b89d8ec21e19b9ed299255a7d08bc92f46b8bccee907223d4f5dad0ff4322061859cc8305f76f36b7de7bac10e2221a7261c9a5687eb0c9d772ad44b28c198ee8e9ce98441c69417d3c60d09c3ae7e8ec37278f47e095408f1d7c5c833272ada666611545fb77029e7b31dc77d833a731ad6810ff179a3a81eb6a0d302b7dc0ac01c0d92d9a865c1d17ed96aa20a4d469480a75ab125e9d930467a62882de67cf71d61788941463c3c502c98ecd0a1c8b21332381ba022fa112220f361464a2c035c03b7413e248907bb378ee2a9f88c4963222a8e0fd5bdfb978c1650693681b15fcca1db0d3852af6463a5a5f00e40759659810745dd4672c254697dc156dee36454634a9fd015ec8ba1c8217c4ca3ef3ebb3270c254b2e260ffdae57af4a42d8d31ea4054781c696fe8ce237836e66d8f0d9e4d93a32090ea91ce2fd7ffc4af34942982f54e304ded77461ccaae358bc783362b75cc223e92b2ea68e8a9fd1ca753165ba877e439d3d86e58e8d5bc86a94484a3e850ae89900288747d4dc7398dc1b4536f5fdf736e15e08078cebe8c71485f3a19146ebc4b5da561ed5982e97e446e3091ea748eb6e986450ad28611f11f5f713446de5e33bdc0a4ff7a1eac6ad65465d70f2c771519f284a2b9cfdc7c2c05485eaf13eee7e001c07ee03e6c54b5aa782f7757b10d9673575a202575c24fbed4a6beffab39c028d74484a706d05ca963176525808dd4b0508bf7172f929d5e3868de7fc407a7b7992b97e71bb1423e576e8a4b2d3a915bb0c601ffe39e649189d0744cc5c51796da7bec8e7098bd1054cd1a82cd557f37f654e273e92f9cb7e5f4d3c65e7d3fefd8a8003f3f1a49aefccf3d3743f41c4a22f9547c4d3cce42334aa6663ebc161cbaeaabb97417ad2386dd41fd70c280355d1b8f3daf40b5d0521ecd418a604ae6b665559314a668de08568a4e50b118334e5c9afc9f2535e74b3c1711147170404a908209c9e08b0322212aa095b0aea5f8f5819429f8e19acfd6276b4925e55af3337457e1cea024cac98cc459ed78e7713d666087b0204ff2ea0c4eecbda3a1c1c351f694a42621294edd81c4607eab21a3539f6a11408e2392d01f1fd16dba4b6fafe7ecfbc53bf179c2ec35c05a1793c0e8f455aa179779889ec7178496c8265a1efe65c4922773acb4df471d932430e90f07f66da3b01c5d3d7f79b07b9390ef8dc292be86255006c75f05bb3dfccbb31330e597d3ea414d7f119d23775fcde6335c75c1edc5a4338bdc1810c03eb538c7fb24a224585905c9ad9fc69035fb16060f3527ee134f5a2b516e8043d79a247c8d51aa53a65e912a41668c427e4d149efb45bad66a3d5e7799c8516fbc0612a87a3944b2e973b5cefe694a441eaa64323cdd2eb2512c42b84dbd6b669a02d88a1922e146b373ecd11270438b9b41988d911fb686b9ab9af992d2092cccef5f9611976676d74df8d092e072fcd6e4bef78fe30607118be6f6a253fc5ad097afa8bb80e7985cdbb37a08cc442764a305f15afd5903499b4ffc173b4047378fabdd1b78aa0ac149105d0113744c24dc817936ef37008fe481f4f03ef0b91be1b4523037d76f6224dc376b106be6712fad91cfb14941ae0e7cafbae21ab58a9a912d8a21d421f6442c294ac51244d612c290dac3ba71674a3c5efb1231bb33a5ffabe3414e8baaa2b34d2e8c13a3782f3962767d4cce28d7feab9a2016e559a405cd236e4fd3fb1db2954fab8b37ef3d84b3d3226be4c3faeb7ac648d966d59ee6b1185287085bb958e2f6f1a9b32191e6d6cef3c7934391760fe3ed5c47714ca25a17e6c6add7757940d7817c5d3d4486328384bc3542b949c15086275f62d8a37b3f4d24d8299b34bc5c59b78602406424c070aca70c29ec0f9afae8617afe39b2c977e611e93050dbbace4d2c0cb434f114fe190e6cc4193e2a512a1be39cce7df38249254fe9b3681c2dac1f8e72e24ccbc05ece1f026f197957c427a6a2c62b75caa3b27b7f39f654c2b0c97dc38cf9187828d88aaaa6c37151280ecdbcfa5330c48d2c87f213b1b77ab7f1f04313c1d2423933bca0f6fc1d53cb9f84a82d169f61f8dff258076978378ab1d93bd6b050ea6f21483c6f413a97fa76087a2af795e60a91e3817f7233ade99f8f846bf975e58e7aff68838bf3c9a3f11b1bcb7362dda951d867adb249302532e995e9da6ba0a01e612664411f3a24c7d7491ddd6251b97eea21f571bb1fbfdbc5d9b6d50141c09ecbef45b53095340f5f9ce24701245073a02ff567657bed276cbbee1919d29c14495fc353ee7dee9537a16c810222deaca6a0c4f6f8393b3877bbe0201d8e9b74c80cdda81fc7ff2c9426227210f044b38e7287d4eb576eb56d731ff2012c9a8cc017992eed5606e8f64f0705623fd8a1a92eaea62e3c896b1162262f6a8bb49dfbaf63ce6f95a14bdfceed00d0b2bd2183cfdfc881f26dc6f5eb9ce3c261e7c8abe7018f73581f6be9c8f1438a1b95ec2a5a1fd1532f5dc5a828e4172cf6e88df86957018ef1e583bac065938ae9be7c7648214f4ef6599ef0fc60ef6b545a5cfc75833ac333c3f82fd0ec5e4b3ca9c9e8b06f3d0b0d10211d79dc0eaafbd888a71d567d7ed7327b589ddf5d620bf6d559765540579cd5cc2d7068a44aeac3c1f76d66c37fcf4a336417532e1d05b079ab367af3a3b7a223351d53eecf5e51772b0b39d9ef3627ec49a33a71305545b3f8e0866da6c40ea9948a918cda880dda8c22f7038704f74fd57c45ae6081279b421f6d9e92dbf5f34c371a340078de8be8b0a31c4445329cd6db4c7e52513e96b98c4e4d56faf90ee939024076bb7090b782cf6f896da27e7693be8a9db880e827b28e94f7a7577c65d2e85a294448163f9e132cf3ff0058da13a25abe6937c8c9940b8063c98e9d66fa319e2bfe9c2f6d4ac989b851fb3d0ce9c584b02372b005e8cee7f5758df9aeee5d6affe002eb452e975a7ea3820bf4f8d3c5c0943d61c03a6045029e8c1709e0c9b3f147e25771508ca83b49bec41f41fb8de7c3f4efc426924e8da575f1de1b3a4f5f3a11593126508a7285e624781c62ecdf55361a30de109c13477387b847dbc75e0c76a71205ce8e43451c047665ffe185636d7682600190bcc6102a3a4d307e9520e474beb8ed99e9e6ba2086f0bb1717983ad50f9106c86e1d310cb0cb417a639d5eeb4d3fd8b85188fa441ab196e793cb8a6916a9b54c68a6a49b5603b3257934e9090f43eb2db2523eb1fa9c590f83de6b7f731fff1daf00d254d153dbb40945616d5c62b28bc08e6340778171d0f461a1da087f0ccaee319f3aed4b0193e94871ea3b5936cc5be2a299c4f7691df6a1ee3bb52c85c6775b8aed44b167affab08ed4da84cb9baaae2b59bc5b01f5d4d3263b7a401a6e40f07c493643aa9a0f77e270ddddc3cb6de996c1c5838eccd886f86da43989f3b9d6e0acff44093204eb0055decc5040168299985850c620c6d72cdabf70f3f1d1dfb53b4057199d737975787f51d8bf38bce601f3674674dee3c2583f3367ddaf527834b0e35195d66c89cb329854c22bd140aede40ba509545869fe71a23a99cd6d102be3a851ad839a97ed3f5de31c684e79b39fed44d4fd2abdbe33a8aa266796e0bebf17563cf9988457009295fafaada6ed161bd5d264c15e22985df959929e7c7cd737364d8431f89576276fc2e5768296120d867382e162c8d1723df3c976e52ad3e397388d71aa72e6cd4f553fcdead9c41ef424ca4689330504f456a9d200782ea4a2e78b4c0bdf04724c47dc4bc8d2bb67cc4df441068c1f38702cfae7e1406414d216a70d54f1386db1883f7f5edf8a6fc42b954959847af34d11a748c68aeb66852ab3c9cfc9c601ae156dcb25ccf86b795880f47229236333d25034458ba46c821bf797957c6d7ebdeeeb535bf411fef15ae3feb73d54a954f0587228c66e83344193d7705cced5f520585efc81fdcaf1fd4a06856930dec9fd3bf8b4c39662b8ab1a19bac8d0d5f45289f2e8a3a62c4ba42814bf67ee2c6817bfcbf8476f98e8b90310f45d952e67e1a0574695a4b452e9f1377ad8dc0204637bd709aa93cf53c11b8cad1271e36f7cb4ec3468ce3fbbf9a2e2691f33220aeb6ee4a9a2a1dc1e479e99b68c86fb86dac75620b537f25c3a018683a23ebeb8613503170b05ddb89ab1c3a6def4a4e1a4f740ed69c929c7847308dde845d10c8f422764e8a8f9d97bece945a116926e3c58206aa16923816268eded9886ccae2b9da15917b72f32524446cac74b894b57a9b97d7ac90ea013d558021d9705edb210a24cfe6c003a1e2227aa191a5d97f25743cd8e2c6c93f73b96e4a7c7d9bd9ad874ab6f9c6819f89450d62b7b834d4494e506be796317a7115f532be1855b43dbc3ebd5b1d7ff04b04f3457f3983db83cc077c66c09eaf8df7a9625f12e4af91136acc6624842e7c6046308ba4d1ab701fe5fe1041ba8dfe905a093b8a011f6dc668b1e8a0554eea2e4aad28d49022b837d0e46371dff060d984b3c398c3b1b9abc6f7343ae574380b3eb900c0d0ea6c725db67d18200c77fd6b08b47d449b0be5b30f9320686563b051a1e95022071bb61d6ba07cda74016e5ecb4e90f72723125eab132ba45081c4b52b521bb32c7a0d20cfda838885721d81f43d17c4c6114310712727ea21beebd31d5556bab738ec7e70b2c9cff69ed25360d18f5fef65d21a84023058ad59e8eebd9cbc265684eabd23579cb2b58230f4569aa72a9baf203fb1913864774a5e481a7a353fc34d5ac4d7443be473a03af5405d67f2173ac3d068d87bc947a8c0377bc51879525ebd3cc790b88295c05712a41aaf044d8a660f8681139ad6ea499c73dc1908ac4e247a2aa67f50ee4b3362aab3b1658818d350720246b31ab113c022438f5abcc4bce963d2593f67eec49edecfd3a6eaa6d7edf35079ff1cd13c78ce0c30f10035b7a4558c39cd275268d30a179809254510400cf2cf486b287e277c9fa398b1385cdd0a1b0a3011d2f00046d34db2be2379f56841f3a43a122d8ddc750938e7e4af93a389f3fbfc19943ade2dd573b3db80cc31b5ecd23c0bae0035755af50cf399f6203ec1568e4acba79e8a1a9baea2b06d1e36413c38635350ea583fda48782b8b66acf5b32250c5137a35ac4a880c57aa16bd3037a2b861f9dd60c20536a8e41a2970ab07bf664e2f23ac29c4f743587295ac535c66142e2928d1bff5a97e18d359653565d5b39a617d465b1e73a1a041fce47e439390bb9b5286663c0179512bd75bd579d71516bcb15b5472bb9fba274864da0e6381cb1c789431eb76e1d8640b07dd14ead3948674f31f6f9fef7d7fc0237a09c2136b86960e1a17bba61c08aefab4b6a77e94d809431f89e1dda99ddcc4ec32fbc81213b0b0983137fda78b90c305258ee5b25bcdd35f4e6971567e82212ecc052240087020bd8916eeeda0f4f05e0abf31ab0c385cfdcc171f71054cb55078f81ba2c73baf91ce888af02e4ee8440a7d5fec38c66a6fc4a7d19ab7c3346a5d9e62af883bc47810b96e4f1e7c1db9cbba3ddaaabfefa53d2d3510f14e3a4312bddf09026e5ac55cbee2d696cff70470f3f0a61d118e6d438b0c7bd22b7af52e58470e9658e625690735d42b2bb7b3a0291a3814bc900a084727c535545f7a800d9f9a8779c582f2c68e43a6dfb57458664ddf4c7b3ca09a2b1172ce007faa46eab0fb1955fc2b81388ca84e40a9206ea0eed35b04df6f529f8d8bc349fe1ed53b0f20c2f24bb5da10578157c08f02dac82feae221c3fed1afb39cbf9b4aeaf2446eba22d8d92e7e91c7a365cc43074320d69a4c63d3a4c04ac10df150ebdacadb653c0479b11bffcb3c4ef84fb3281355adc293925b6ff5a00156ccb882644dd3a379380b2bbbc2b9bdffabefbda498063d21fc39ef7c74bcd5b0a5fd91f8b4c476ed0ee1533106ae725c53d202d819cb24ae78f03676a4736807780b356d6fcbaeb9d9ccac1ae23c169da3ee765bb08c6c7b8e05abc02345f63c508fafa892c710c0a03511329cca6d4807f085cae7b0cceee8ed2035e9d50c15688740c1530b776517b5a66d977e590d3c89bca7489849a7d5ee4473cb46fe5ffd0921b280bd1c68ac5ae33e6f48f8d5bb382161f269c53e78e67ac636a12b94c49ebe4910398d1538860a0b1a28b29cdb87f0f4fe6e72c8789be7f2fe84f2638174b3f06f072f891e07f3924e8ffabc4c82630603a5cc1503ccef2fcf59c20cdabeac5292d7f9eed36686f91e33bab5f2d6c5b28452acd30c25eb7fde33f2184fd7f460e8c6e69713dfaf24f4d1089e04388d612ca8c269ccbc0b3967995786178dcbdb1f535d03ce4d0e890c1ccd867aeecf50c9d7cbe0c3a1f8ecaa1435ab8a1762c67179cb8cf56c8086756c206d216e68bf2984e20052e9dd5e1a7cade39a38a8df47af68249e9db85cb6169a2bb42d63de3a0fb7e55520e0283dd23c5016208849687eaf7f4e72321ac0b8b0fe287553bcbad162ab6b4344904e82ac6daf0121ecc4d1d9aaa015d1a0338f01c3f145a0770fb97e8657830a9af422789f40640813cc173930ebff387ae495046fdcae0be52a75dbd964780d451e5966b000c58663179709f698b0516f7830d7ae824dafaee1f72bb5da17d083d147b225fa65b6211bb0e08e558f45873b6870a967fdc80e83c5211109a8cc9e76e4af5e57e4c859cf16e0b216e729b237fa55cb0fe80c47701b23a0f44d8a1eda946a9eefc03da2b1362c9b76c5955393c91057534da60efa85cb04b93951bc68035c3441adf297ce6983b3a5d6b745bace213f04231409340da470da56853f58f0e0579bb67a839c09215a4e49cb075c9f008895069e896cdfd3c839947062e0b049ba0629ba005fc5cb44994f274a011620f5b5b0143cdbd2cd820f10fb5a30ad0f73f53d30063101a428a6d88e3f6d6679d605ca34623385b3ce2c4c792a2299a68d174d52413f81b8ef840cc4145fe2617828da2d65c84c30c75833fa2b1a24b6925d258ce368f4dd17bd3a5a1da70c3d6621a10596d71c64e5f39ac73cf489c5265913f38cb3a6320a02e991a90381dac79978955c4d9d27d6875232ccd50b5bc1113298b517194c9e8c140236d5820b0cae83f80a187fa36a078771ab3a378521a34588c49c51353bfdb25e10088dd5be9164b363c8fc85f679fc38565adba21680d4c2db4a6f09ace0588bbc16a80f728f620d0b0858af78a8b7eb7c1f92f451b9f6c8630b956c37508440e584c03948e6c5482f7f70c7bb1d43166358bb06423cf69a67b55403dc324f9832c5284b6d39416b0b194eeef91ad12d0335e20696ddf9c3249f87f704ab4f8fb7820e4caf0df51ab7b76db802373de7ae96573ce0a82cb96dc12aa5d75c50a5f979c878d8abfe609fccba03f45ceedd13ae6c166b5df32b4d10ab8d3cfd61897a7045453d6da4a95307d6c9c2c8c26f851ff89e929c860d6c64a85bf2512d772faba3953231dae9a0d18866e17f071954df3fa5c36595662c9b1803ca526971dd6bf7f0f133096aa036e6da703f7adaf72145b111960437bb728a89db32de0a868f2f9de815738780f4c0d228d1c7402c3321fee77ac367f8ddedc1d8ccca27839fe65e601cca6afcd10a0d6bfc9a3128f35bfaa8636c35ca6a7765b1dfca8fbfd003dc234e765ec1ef7bdbac2b5870f71724b07360ce6da5d910860242a3445b79bbddcf4801347121a0a13eb3e73a20586009529250d11c449edd2dbef3ce08503b518e8d999372640b6857ffb1dc4b8742e0b77799ee0b7dc517b52abc0d7d735dee259d6146bcf215806e493cfc8ded0172311985fe461ada594fab77e1c501ea2c02803198e4ae4651f362b53838e2c415aaf836309268eeb47e39f2237e1477c9ff6354f1e0e47b34f9c69eb3aaab50daecdbb4cd6231a7ee029fc0a60df56e54068237f9c259edbfba3e06f5da6aa07618bb61609a505bb46107d04cff4e77ab91621975a8920905d0b5a91744a61fca154312596aeb4d89f561f15e3cbd7f4d92ad0f8016ab73134e5d4e87147edb8bd324e3b20b238010cc122519b763ae299957b7e9db4e3d22b43ffaf4641ef20cb0eec14e6d1d0181e4bd253c3ad12356b393561469a3c0cd3e51e43ba5025e07db2089c508f41e23c610ef0780783c80aab3cbb8fed7a5def8e46fb5ed1922fa4075cfef82b4b1e4747f4df823933565c54cb6d7afd64d6e8d55e3611a4bf6964bc1334dd0fddf3e289214a2bc3c34931508617d5fb625e08c0af8b89825103289871ff22ae2bfc06a472efb90e2feca335586319bd4a3e25bd5f4135d5583d742274ffed0f5794ed8756dd7a806107a9abd9001972330d2f81d337c1a5a4ccef34f8649683249bbe489061b48c2c1ef1a571605fe1a1aa796cf857ba50d59b0bf1f2b3fc8a185c3b9796afebc4278c3bea0fa0e49dd6942c0472d22d156f8d43c1c56f9341609233585b4d81f67c844b67e740bfc51d1e948454d6b77e6cea1e353e5a0af7778b361034ede74a0dc432d990b8d02c076d9c4708bda3a83a9c86729522557d7a042ef681b9c435ff911f593b145f9cb0f9d3779193182870a08301f4a39b13f8c33cbcaf89af74c75390104c845028bd13e7a84c6c14b54892a2de3697ea3a7a4a3b0a07e6aad4f2274186cd4318db1b4a48ca517b975f5ea85d9b1d7851184de13351f6ebbfbfd57a65591fd1e013e418f79b9d41617c538de75d10d7e80386fdfa075e7c8f1bac9913bd4402fb6b5e656c07fa8b51f1ca9b73ffdad05d650d2102219316de45a2f21fc0c10a809eada721b556edff828c82eb4c90d8c6a26bd4f66dc817bf172cbd1804a8dceb59dd0c8af9cdf63183113787ba43a5b47f4023c430e45cd5f242ccb9510d39dc369c72280af661e396ca4b74a7cc8e92afa5973efcd1659b59f92a412a9660653740df4875f1bb11a1d71b14174ab9760212841755e0080d54e998667da8e41f23d77a0596c6335b3920d1d7abd2411f08d46d98b069485a2a36eaffcd090ebdaf129ac7507270892c36dac629ad28db6b0cb79e10af58477950edeff259ba9dbb65996f24c609a4ce6ca929e27a7c6a4d3d3637fc899d8ec6bbf2099f6f880c3a78c545faa50b98cab8bc64628c75ed8b648f89db6643ce0a409f73801f4481bf916cdc5fb3ae843ef400a332586846cda2673476191d03a56c446b85c87923b9e676f790a9ca05701d250630b10e580abe68c3f23d952d2a4eb2b583d32a3b5dadf806bfbeb8b44a9c3907add57c014efa1a6e89732216f950a39edc1f76d2a34f41b5dd6a0a0d4eb9bc63c64f2965a00065fa96c09d9aac3261d7c07e07899f85239523961f85bdd010632f95981f64ea4b6776a1fc6ca695e3bc03c95f375d11b013a88e41b0356a08b3289ff9604396494c540db6a19efb7e14db01dd5c0e010d893bcb726ed34c223bc178232e5cd99c13ff19ca109904be5a49f09833c8db7b4e899b6893cfa992aac0afb52a7e7da3af8d20ab4a0aa60c9ed60cd1b0f9319dbb48d6c07b0454eb07f03cf24f9b54adcd64d6ebb90be5f6e74c1a6bd8a5306dc391da8dcb10267da2716efbbf93dc61d331393504f5e81fcaa25993ede5d721fc008c73fd4c525d978e7c308a28bc1cc9af619e433ebca170591bbd3dc6588605c6d69f738ff6f23c2af0c87da273d787b7b1a2ee94c416ffbd99a1a7251fade871b0a2e85888c6aca1aae131c45cfd062d1bcaed37c62a34025ae5b94860bba053abe9fc76903dfdb176111c7d96aca9bb0615f4f23311f1ec7879b05c8e6d9a37a0b921712daff8565d217c521c8d9bc4178e7206f038fe726ee0bfcc55fe76ad6e6beb747cd801fe458860143e49dc97e375733a525152df7fba6cbbcc0a88f217632429f583b66cc5859253374a53af40c0ce27dc21dfca0be3ba704e047aa0f3286169458c63eafafe78a649edd043fa7e04f3c392f6dc8e3cc09e77d3565514ae1cb4601b70d26cd68287d0f0d49db01143165c0f0efa152a8757acfe341845fa356ef923abaef15e9fe9c1c7543ea646f783b3911a8bfd47ef5539b77b6c5cc4737e7b76485c46bc2a968ae04fee057192f9bf44246b5b56305f2513abdb3add4ad055c8890205941227cd45cecf81ff12132c4004fcf448a8c01c46e0f3790fe3a0da0d046fca152fb5bd827fbfc78af4e68874e4bcb4ff423d49c45c17f7c7d2f9dbb67edc313d1fbb908eaaab124697e30ba5ff27e6fe944df9d2b825ae443b26bf8aac75baa778826d4292dace793427852f79d05292a2f3227779387ff9f57cd8bd7d397976be328e25a770e78f52695fc22d309aeecf164c6545fa765aa26316f2436ac08da480bdd35385d198017ab4e75b779da72e649e271c1065ab7eb427ab3e543348f3acf76eccb449d09f5e42c42f4011cecb9f162062a51eb0808e42da3d880085864d3669bdad2d23acc89d712644fc038ef066ae391842623c9b226ef3791b49ae6aa0f4087a1333912f6b241750508b9c8853cbe951d7cb13458df5bd82f299402cc2e3023a72a6f2e20cc3ed96be894c8c2d9bd83ae414f16634764f9cc2cdd2e6f063be8e72ab63967011fde81ed1df5492df4435e1f973f11d63bf13aae519c61799213ea61215a95c8788efa487160010d1883a396ebd4e33202b1f35d957944f53b528b6bca6707d10747506bbf2b4300411f0b3ab3942608f16285199ecb382893c3c44e199d6fde9d1f4d08c1fe8c7d61a88a7501a43a42097fe57c200387ee35290d44d394e22243b91a9a59e98dbee07345afa44577f3705446bef192f4b30012e02e0429ade7b57e0b1f75b8fc267c4bb2ef470ea923143afc6b4bd1b5b486ae3c12b41a3b041a80d792780e2e8bee0dba8a78575da8dc95ddc7ac9266000abdf20170dd5700e18d75aa9714726f6ef0c45c3bad61ba7952e385d4269374f26dc8a89d4acfc9a75e613284c95705e429110df90ecd3572c026b9e25d8f751f66e4fa44b03a2e85ea0715d9377775b712104bfec29161cc79e9e2f68338274b66edcb52c875878025d821c96df208996c29b9a4344c0e4e05ac22d410aacc64a8d044b66339cc620485bfee3bfb04a75e46e152dc4b00bb3f5955400a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
