<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2dadc166964ddfaef2794eaaaa98455b1e5ff4a14111ea367067868f2a2b18b768ea4d5709be07cd58e789e4dc8ac18f0e75900f73d9fbaf58327f1bf16006f4b4e28e4b761fc7d12ca714b448d0d044a90b60a8a9dccc53b0bb1c2f5738aa8cbbd98b10a4b7fcdd49501337ac802211c33b5532e75f1571fedad19c629d8a4dbca4cee71ef92119a06b8b12a9dc0cb999cbf1ad9d7ec7519fbc9a476228733baa68bd0df3836ec6bbe0025199ea24274696b94b580a75615b873e418e6576192993e4eebe0ce6586ca5228354bb26514878eb0063a337560afb1a4a78829c76447b2b1ee4d5709dddaa4cbf8dec2c03d8d8f6182858455a68bee786635e46645c733dd1a27942e2a94eda18306b2cbd33594b0c7e6beac2a9369280ea55066d8b45aee9b156cd410d79772d4dbbb713e0f0df57f7f872b2ba407d9ea7584f11efd71224141027c3896440e5a0d5df71a78bbdafbb1383abdf42f97ec53daa6e2e72edc4fd509379864fcb7b0f23d74152cf6d5fed44650ba9cafb26ead19eb6c4d3e5c533e212e7b8b910d3578bd36c9ddac50b9214d2494f761804bfefb3984f83ff4e30e8bf2265dca1c70e91f8a4099e22836b695af51d12d48decf2655a00d8c287e6d5a61b20db64526299573067a3bbdb0a44e531e2843c50d9776c1baed2d168ec40a1898906730b13ff484775cb8028345879f5fa215b9b2970455918d7cc7606973c551fbf0d6ec79f67e986f3cec16c723813c16935ba436d9885be378ea962423a06041be7157c594a8c7e832819c350f64ec0f9abe354497133e06e8188018ce677cc4bb08da8d72c81708127fb0b6c605bd996a05d0630896ef6e559d445b098951515f2065cfdafd6a5d9f8c7bb3577edd2b7e5f9f9f16316ab2ec433dade8e7b1bfad84be8a87811e25e436ad20e11dbb8b50847e8eade19123985f8160c587d39c999c612a65ad5386925c0dc7503db02f806768b1a70088a68814be33832970785f56f17e09bdf1384d434df0611623e091ed47e9430f6db192bc34c86875621c754b29c38791bf2c8d8786972e9d0b68a5c84ecdab598c8e7a789dd219013c766d2823ef7a1a58aee7538c536d251b6503f9509a2645c62a5de587c5c6cee99fd95b715f3788c7c865d1354b2afe00526a89974150abd85068cee411023b4633ad49feec685d6d0479668b46c05ea90ee8f269f20109c47b9f96e34d4e4e10adf2f1192032fc700151eed6242808346a05a0c605b0b40d5e6038bda5355f698cb562de05f1d1f0b214d18fa69cc07cd8886684998cdedce4741636185f7a9aec42cf7d1b8832d36da3d24aefc4ee5bfe83b71b6d35e7b801b7e268b21cb21af0067649e3977e2b03a17fa1e5a51cf8527e39382f72f9ca67f75f9fc154014214b88856437f209e95a94e46f76daff14adc4bd0b1bfb91951f21b69c91aa06ff1256390127824de899f28bd73a0fdc328a0048783cd5e5a7b74abcfd3743c5de6986f3666993cd0a738d4b44d7ce875c2e5716c651531c28e86dbc40843639263b72a573b49c8079a41ca71b6e2afbca778bb0f8a764086fdfd3ec68bad2062fdf4ef53f3427ca1d18d397bfe0e9654d091f208f064f0096a8f1695b3009bc72eca70fc53261409dc5ef369843fd37b1f485a07d662185ad004f5ffa53cc7ec5c610437326df70d93c0dc59ca2248015fe49d5a76ef501f947f34c8fa8db0bfbad7d1a660c53458fbf7bfe0a3a62e0687de1ad63a1fc035f9a2508433febe1fbd7763ff9282aa4e6d67ce2de91d73a94a6bb7e9161a04206270082893724517504f1adbd6fe3bb272e1ce1ceaf533e6ff8dda1ff2f824efa611cd31ca62be4c6b5dd3ed30d922bc7238aa88476f97d76a4896d1e70a8b239153cb1943e00b8e6a3890fe9c6409cf5f9e5fcd29fbfe41ae51c8903d5796d55157a7d3ae27d792195c79217ecc6c05cff0c3c81b7acc38ef1d6ab579968c5988c1f7b97c3f5e55474d15e81a907adb60ba117b9a49105d7a00d210065ff8cdd7188a37c3a0e141f0a26fd14b6747bd538256566fccbf4ff43b3441abb7e4ed6e49de6869278d605515f8cb0606653edc184ee1c38d387b33fa4d1c80a314b84e759a90bb0d8efd6370e44fcf06d08f2c93deba77621ecda45dd1f0cb2a0c690e4708cbfdfbde9b65cc55d855ddc35ac458a0211a8e562e779966445e57d332970144b9212fd1674f9f83543df05658c6c5e84a1001c27f94d89fd3bbe221f83abad1d05c45a44bc33d164dc0a42b08872cba484ebf92d94f1ce6cf1230ab9db5d41e8644bac50503881e07cfacfecc2533008ec2e9863cd1f86ee4bcd30f8b1f34013e9ae5a2ac69484d35ee0c919958813ebc02e14f3d8287c92d1ab533d988ec1e01523a030f7904626f55eef834d518bd129095e2c93a6fd3c03c5c927e3353ad4f398696ce712f7c8286c667e8fbf1f5fd5d5bcc8d5f4a7def397c9168495867f9dd3b1d21f5344e3ee826ac601fb96e0b77b356e19ac01f2020a9fc31a4ca05b9811401684183d1aacf04862f380125c889c2e8cc3d2e906ff544651b1ca5cd3bfffb38393507a67e1e2a5df52d91192162e43583d6088dd7f5e4bf362f18d1bdbc522bc662d326037864029210ea5334f7044c7b94f691f3bd5723dad7fa4d3fce7acae76f029fa963ed122e8e96c45b6dfb7c24f1615eead3145d14add121dcf3766f1bd7e02519eabad4ad3ad9a489a1ffa777beee6043003a8d868d031e512ff00d583f01df505316bf1a669b956982e314f7aabaaa3c9f6c639bfe8005fefb845a76341257541b6b1f752ebc77033d82cc7a8ae945dd4a974852e8db62b9d201309c45b73db1eb9ae9e58089bc378df2d841468cf79d6a0cd265c76d8b2601ffa4e161b8d77eb69982e8966fa092d629087d02e576735511694665edc5c2afd9fa5cd2bd0e536d1c19b2e50da8a7eeb8bb3e957c24b0ba9a2d7737e36d74583b006627a1115a644a740818e64eb81da90a715b30e741622fd671bc1e2cb8bc135ec7f3b55cfc8f68173ecd2b56627b9827e39b4b69fdc7af9eae186f207522cf5aea7acfc76bc0ae3b24a0244ee63f2ee86602416173dd319d94cafea4f99633714c0865138d3d6d8a3b854c409acfaa76e5e027063e458de12d1cc86918f5b1dd162e8453051dce623177cdaf16f4d7983237e5fcc1eff99a9ba5e19b07ba4a9808abd65b48939cde74d2ebd7fa0a8528b289054833de14541bc09d52fb3be4dbe0cfb23de3410a4730320a14f3989d3bc82338875aeba14c9b65407e3c9368389af9414b83e910f72774fab25a6064ece164f09634af4672bb64103aa282e92ac776b2e45272dc728f529806c578c121c5a5e893204e6762c968082334ac0f245a24e2b09af7e214d86370f95b18b8f0c04139287451d4c915b862b1b71362e1c20ea588d34f6ee58ba1a1bc0de0b93b329ab1953a5d0e274c6f576580e7dca28c9981b56edf130d6062151988c723410a3fed541b034a2e6bcb22407f75c040fc94d226bf2926eeebe46e0d98b27cead0c7f25451b7603a37cc787e4c22ea987e110da5f6903a6f8223f51761cbcaed9371047a177234ae37926bc0951f205855ca0a978c732c13dbb9a35312ce960188d4057b31a21e5d9748dd87066d20dfb71ba1a54c80f1cb21deac4562a3bb2637628a7b5b872f4c79407bae9b2c86d5f18f329e688de1e1752197ee4cbfcd8332488242cf7bdfb6733f277a50ee53deed4c0764daa0c85f57b49f5cc8639e7328a0182561bc762314198c8eeeb713219aaa5de4b2f8717f6ff5596d2c4b46885a89a50da7f1259037f39048951087c47f5c70f0fb5ce40c56e1e427477f1f8563ccf38b48043a1c831f28fff4bb4fe81ca2fc89210004225a14ea9ca6e3c1ec2fdfaf81ea40de638c1001b9b5a94db8331090db5cd86c430e156cf48bb39c75bfaad3d4aa0115f92fcb1695fd0cbca351e2b6a5bbcfd517bfa10c62a69ba29a4c5cb20b6958d03b07d4ac08122cb3bff4e1cbd877438a086e023e65df89b4508b58133e1b9691ccb3dc13d7ef215d8fb97d778852610d6c18f6d6293ebecd8a4881981250c387ba36bbbc2318a8ce026a10dae61d6896b924f89bd330fdb2a6d502536f57d1f4b27770193a3abee4bf087f8dec033efe64c6835be045f79e0db8fab563416c4d0206ed9ca7feb56242d8bc4f761582a8c8cc6af46ebe7093ba1c617da52b49f8bbbbdb3e7c25af8ca4f79944ffb9a73dca3ed0cf2a0c1f91fa94e9725f6ccfed856fe2b2063f51e00bf6b6443e37fb20370dd9ae19d732fee8407a74aa0ec91c1f7e10d2808e2d24d91c3b370d2c0a4a7137f13145cdaf085bf2298fbaff053842b5a54a6b8a6e15d44ec99443fbf42c34c22783de73fa46aef4aa9095d7bcf5325e3d6e6fc95aace2885f7fb0b96a424f1856125cfc31ff613122b22334f75375346931f333944086a8174924310d2b6ee4b6edbe611a703b53e82db12f5cb64d29b1d71bee6bb4f8ad973331c31f697b96abae9dedcf2f90664a7bcd491ebb681c442861a68d52340138c3f2c276e178b52734a678f71216a805c3b40139a5153fdc1421b76aa243772ead5f460df01ea8d68308564a9d045df822a82945c88265302146cea6b9631c01e347daa46fe447407398806001c5ebe3a571af8a90733a19ae6325a42afdd92b0392378b65a9c958cdccf6b06dc91224411782f0dad5aea4cbfa4c8f295d087c7bbd7cf5955bb2dd70b367eb01f3cf20f2d0f42bb6c5fccd605ee139051278a7638c09ada4060fc88c8588b8c7a6ff1a0369acd8cf7c1fffc63b1a64b72caa6c05782ff827018e8f2cb604bd57a8d9ae6428054daeca8a0323693ecf5a6ae6b5ec61895011601548ea7d70031d742aaed37512148483f3e2a1906b69374c850dece9374d1c9011745b20b55211af56143a1c96f397bbb76ee201a3763c4d9334263a2abdd2296477ac1ada835999f031a33d90a4cd34a3ca37da3a150dba819da8e70bb27cdcfbfcc6480609c400ddea598ff80d12244c26dd9f0ca42d631b6e79adb542fd06946f3776e8da57d8dd5c354d9c443f57cc134b00454bbe2468baf3695aaae23c18906b079705da596e3349d0f1ccb586271237b7460e17f0272f1fef5d4f749c73bd6cea8e0931f78b0e0dde141bb6cec78bf4615e12c485ef72535254714066bb47e334b6d5fdf62269331cbfd525e660e328ed1f0ae345a92b50c72ad954746b9c554be2527d96521e2f8b024ccfcac748df71b65bd3a12b1344734073ffc6c5cac48de2d5ae134d703d3bbb6f42002a5bbc1fd668488f88606901818d259f5bb137b6b9ba9562b663a379a37bd0733919a00d2c4eedbbd26cc919d651931a666ccfa5fd3a20c6dc688dadec65960313d60f86b4f6d933974fd41db896473492f076fe455bba7264fa2eee1d48aca02464d8b636ee2b3d402943a563840c83cc1600dd265e3a246aaa5d5fab26978b6340842a7377d6b340101483b01f34387d90fcf458d2a020589ff1a7962d08a6671a059847ce5dfe64688acdf351e75aa12bc402b5ef4259988342073bc770c6bfd0ea4d6c272c5634fb907611536f4dfe33df18a2be152516baa3450976a9f866dfa2b339235df5598207799b85efda3d83216ef6c194f85c2be12907f637023c9f1d84ce076e3fc6dbf555df35d30417248e20640e59d9406f9388eff5a81fad1d440f6d4b38913ab44c180bfceebb734bf1b59c6068604ae4cc1105ed40deb5493e745e2ec3240bbeee87043419ce439935fc92c924f2efd77e61c6f29c038a313ce908c9f75e7b58769d2a25aab45d7df91d585762d7dc6ff4facbfb6552e99167748b3de7e04f988d9cd8cbbe0dfecbe7f88a9306e4f9c9bfca4150da8a1e4ae3888374d85749dbfceb9b31d3fe96acf409b4df952f7b5710c0dd7a84e234e7e67947b15dcf17a39d73b30e9fe01e8d31dfa5cdab3289226a02e7b2608029ca855dea707d0b79dde957df5f12e2d65cc9ff7d8ddceb0f7b4edc55de31c49b13e99365ffebc552c67e717830d997d457a8d25bedced094d43e25ea1de787d79f46b5f7f9cae2cbfad84c7f1ea2da90144474dd5be99d3ed3009f6b2aabb737124fae82c5d7c72f8a556ffe95441e49bb8a43652bb14c6288ff4f26d430207b9ef0c9057a2abe7cbf7bd594f54da5b0711bdd95031a9a3502065a5d148a49d3595561c284a397c572ea32f8f393d0b306a1863993c304b82705b4a0cdd49579bbc575289e69f65446aa54e83613c60201f1677e88547294ef3e5f0559c241b207d6286784cb9e83af20a0ebfcf134b1a03cf1ca73f7e0da3d6c9f714ee7a909c63075ddc1033c39cb5e8cd3837ca4f6f57b5b66afa4479f73306c02ac86c52ea63ebd9fc259b128683e163c3109bf69ad068975824fae6e3f9b7bafb1fc366b36bd56a178979bb8ba2cdbb8bdc912a10e13284cd65ef81fd1d0e082e63a323993ab27d7c5cb66200c81224245343cd2ce015bbc934244be60c90b261f89b9d4873ca2623325df7e961f0d6f689c0b2b0496abe9dd91976190a74de49ad13b55e0834c54d02103c18da8db787ebf7727b26fa4b70b34a390481fdb0f4c1cf95bb27f1c1ab8900d5fa916addb540d6a11f566e9f3e1e0a5dbef604c55d2ed8011d989ea0bed1d66e699b369ee6242050a9be15db53c7d007eec24123aa48e7100677e3d24aa92f260ff9508aa16b977d60582d06170041994a43bffa0e97223f086e6fd7bb24bc5288e359388f588f8826e82b563d415bd016230abdb80c4daa7be6c9e8eeefe48deba0cfdb6a8db9de15c66601f78f3188a74c1620dd7ce739ef8ff5cc082680e9c1bca2dff892e60b7ef08d859fda162fefe82e8e951a957c0d6468b0ad45d5d477b0e5559847d2a692a954574d289e58713b6ef07a4ff54e4d8573b4c5a22253fcfd064de3c3d27c9fdbef2a199711dad3b258b23e3d92e31d1cd817b4a935453ed783d4d6be67035ae3abe94be3eb76dcabb2cb36622b0c3b707a47a96672525610b2d6a0ef8388a82a97095b089b8fd27aa3bf07a856882c85a2412e910fc9cad7f47373cedd28d628bd03fb532407a38b51705e2ab8c6cd5a36af6c82d6a8deda96185f6e057e4142f70823dc9a763ec62a46c2cfd0858d547efca5773ce89f6dcef668af50398c7f04b70382fbf2b0e25a97a04fd754f42052f3dea93fc610e0c4c3a8efe0db7747287dd115e6306cd397c6af457dc16f999fb30d58df001104564f6bc0aa6ea8ea366f1c18f2981e70ef8d93f94d1c60282f48aed725cddd303df05dd11d7622b3a5c7c550de35ebf16558078c720b35d6ee80ffdbd6938c505ee4e89285dfaab2640bd7c30ec58571231bcfc2d53c94792b608d7b9a61d8ddb520aec7ced4f15316558759b6d51bdc657fcfc8741ce7bc35cf7c39bd76bfc67ea2765ae0d0ef3a29cd89c36185cf13d74567152f8d91f202743258f52c78162f4ec19ef9ddef049eafa81d848faa8a71544f9d78d24f3db145673c855f9f9075426e8977548cdadcdf8b2771bfb2a34e45a28b57f9ba9d61d5c78c6391d6772b40bf183550f465b8bbe7fec7e5686798b350c79db179d7ac0a8b2031af5babb5c88315b7c09be097134e6fa84673be3c84aa644f440ac7f25dfbd2e2c02fff4a8000e9ab347aff454b84bc28a8d89593c65692fe543cde2348340b6cf756173c12aedf6aa8b80baffb88f7d26243fe99cdeef0b92f7ab5125843548132ab8dcad8b4175d692a1cb97bc02017ffca639335c941e8b2dec86c0fa176773dede9f07f28025aeee51744d48582b704a60a41a5c407afcc2d965bfe91020eb9eda45a5fdd6b3de86859a6543093335b35d8480410c16dc6fc37a1f6b385f1d9984af358f671a83e92db66092affa41e51e51c17352d4d7a017981542a145dfd695ce77a9e72b86881353582c87c71cd22caee85ee37c7e46f2896d50f486174248b3a3fac68dd957770c99e0ea487a909e4b7606e43f4121069e8e54373ab0302e4e22c87af739319c29811ed825103d09e7201a33c2cba36196e588e6c9eaf3303c20ffca7dd39eb9ddb49d237315e66df13b51c934a5710dd3b16f4265f1a6e6518b494e7eb2955a7bffb174fd45677f55a1f8293346d97395cd6e6413660be80e005edba398e9328ebad21d926f150fd19b866d990c93de49b51011c51b62591d25665681e685885e9ad118f44e7c5f3caf352b6cfb9e7eb8c8aaaa21e4bb855fdcda52c380445d7cdb24638ac6009418a92d1edf3bd06c52cfba83967f3c45c716805d0b39659957cfd1cd0872594167cd5ce1ecd28b5dd5eedf413465f65994503adbcf972a8aa72fc3b536a147fe2132e36a2fb44baf3e3de3174e5bec753b18524a8e8ad42925842b797387e210345904ce3bc222f47fae7de631efc7ef3897cf7f9274afcf2ceb69f1148d1fe193b0f1b65ec085395c5a808e23910867556515796af973e9eacea9af1e64568d20db4c00bffb87803a08223ad3be7ef3c853bf6ae5d6240719d531826fd5768cbfec5a8a02765e33727cce53633b75d80224f876d88ffd8601a3c1b62b51fb5aad492c354d39e410b951c48655402a721954e684de3303ac8d5af56e7c719c845ef88fcfee4e536ff67b5c19400c7e38dc27f143bda280a0691c2bae88596c4ac12dc2a1cd16ec51a9473107326abff9a9dfa3d61a518a7eaa70da088bcedf3ce6fc6cc9cf76a1715e14656d2a1ac13aa53c2037a4880783796c411c3968d1eeaf77cf5d8adc49f6e03a8616fb65b3c618a54f53453c374b1119d7ab51021f7a340ef5956daa01d0d7be93f7b59bc4d41cb7429c563bb343f61bd90d32c61f6f7e9e7552af593e2a1865ff3b8d5f4406ea57f515f6a9389c94b9abd7674c03878db7d51eefe902112c50490743c0e8ce09a589d09151dbee9908dc1f4bc79a9abd1e0916488908f240538f58637f93741ae8550450715a19a073c3c92dce75904ac2250d9b466c6b41a07a58ca4ad16578f70b8699e8e580b8ee6465fa69194d66d32294aab5bf92080b2c81fc37eabe221287656de422784d0f8a3ca13560f01e54ee96a152b920b6068769d93003f17912cee93d468362089bd722f549700ae9cff5f704cfabcce91f244256e5e513a89c2ec80a8f62f82f55eab3ed5f253b2856b88c5d776e7317eb3c60204368f84bb60b623d9a58aa959595013fc655ed569b7ea1918d071c8fc33cda4bdea40c939cd49692b29cd80136d5370ab451289a735f1609f344d32b7bfd190e8cbbdb29eb4e7af24fa28530c6a34adcae3940091f1b8b22d8a4ba7359d7b32601be8bbe789520d64f72d6ef343e371db41e889225f6f31efd0e517d89b977202ff21663fb225215ff812a12d600eb50001c65c77f305b70e7f7674ae9c03950905cf811f2abae77dd9cfbc8ad38b05cbd5f1ccef9146039fce0bfd40a074f5be7d34d98e8ca8e98864a598fd8a65acbeca75cdb8541a8dadb54aead19a86975b7ae1e6b4e334f6b2ba83a33c200731939784b813a9883b170aba21bbef29ab23002a9e609f002d8894b198715b1a1bfd24413d7af667938f6d85c3c710d0ee9adc60ded89e140c6d287360535a6ec02329f220940bb3dada424e18305ec8aa3500e0ed0737753e9939a02314bdaa48ec52efe3e29716fdc5b4814b30c94a6040bd9fe723f7d5f4821e5e71c6d79d991ce625d6811125008241d34314eb0b37b37e7427c40670d6a18aa7db5b9230ee91a2855b821399e1142539947a373b9fe372c336e4f13688e60ad9834a42d194da397161706f5fa15684ea3e3e6234814e8549cad1c1c72cdcb46e46f35289ab26382c33304539b3c65b8b9398c07e09e2757b1e23eeda3889404659c9448feb0e641ef8a8e6b1d38427d347a9e0c0fc03952506c63bb4a76106b03b3599f7de986523f97aeb9f92aa7370e1ce4c7afdeb33384dd08a3494b3b1bcf89804636af6d45e379c4edf1a7cc70d82040c90e236651d3f88169be42544ab2e8660703a28719a206a541c5dfdb45c6d5351da5ea49c12709a8150982bf10016f945614eeb001c50ef87d27043b323c693828e043abdc4961a7101ba016932f459cd9ae57309e0b1698b652d6764dee230822d202f2201413cff86436ed022aa84213515534f3e0476431008177f2be132cb712e99e8ca936232e4d0427c8250ca6a62f6f29f9b3c1f13033932bd7809e930ff0d0033d05da9a2c9b03da7ef3241a9ebb66699a256593fe4fe6969e08fedbd6a3b1ea06691df1008881dc939f6e8d9e10f6a761481fbf8d2976a3c20fbf8e5091f0c8cbe86d5009c88ffa73866ce64de078f115fd9caa3d6ffa288ec54e7ddf08c23293ae0ee80cfd9193006b67e08248f61797c54ee2279e2b6ded55b32ddeef3fb66ee57b167e96bac33bd432598eac81acbd06b5e07fb50fd91525a140d05301c456ef4537df1121047cd59a131d54f1db7d3f6191a957aa1deb31958b313961d0001ad455a8fa3ad75ff7fdb414ab71ba9205272d03085e55b9d232aa2c1e0dcded12d2b8e62c3c0ee28767f588b12cbee9e5f9c49a414973276793e2e4da163c997b84b1a2a0950e38d7062eafe7f9e4eaf05afd209950fbb798a3913ff19a65b46cfd6f3e819eae1cd3029bcc94894a0b2cbf97fbbe02524da0c6e0831c2e9a6a526da9bb3ad76ce98e256981aaa066da5b406760ffeba88da05836a1c899a778c4d3cebc23f397dd8e88c452208525f0e39365f7a69ee85fd8fe123cba457e19be395cbb819c5e32cc2499053cc4ed1930bee1ade70d9b89dcebe04eedd934f01815baf9f3523ead8c4f27902877506afd4aa5827b110270a2e2bfda3ea86cf2f53cfb326189806bd984235897d684be70b159d1c48839694cb9930e7c1db8c52fce772c427d1fe54eb908772fd2cf1a4f04286003ca559ed94ea8d7eb4088cbe97e7ea21275aff58fe945a7fe0cdd2ff5ee5535732bf4240cd156fb840650319025d8fb54bab994342f08f8159f92d459b3c0f83b3ca3c5102483babd18e4eb46fe536f6726ad10dc29f3e8947f16ad64e9520cee39d026b9a9bbb2ba4af0b962a5df1e6129e3dd5c3ee62cba4d7dde6a83ef6c2bbd8026519bf5068ad241067ba18719fd0995e711f60a206e98202b498570b59162777230d7ff4bb16f8d67ef7f6e6caf4e62cb504467e858ff4af007ebeda40a24d77d8f3ac3fa8a0648b58e9d9b43103f2f62bccd76becb98c2c7c3bc1b2f479202de8337a35e52f2c09bdb6f28bfdb25792d1a17e6bd90b6d70350d938d2c39498b35528956d5c4769926558f0bfb4485d4a363ba2bff34d0578cdab56cd5dc2b91e0a5bb6738e42031926ac14ffa94619ba32926cb875fe621941c0b635e548f7ce234442052951565ac14d4357daed0d6ef29f58309fbb1097843a89c558db7ecda08787d8d704edb2a004e10f4059bd2a3cdd4110fd8118948a21369faff61cb34dcd54e32e660e5c1d8269d05288682f5524d7cb39f0b59cd1ba87f381cd5fd9796514c285f2bfb04ff3db80723d7e74d1e7aa4b377934203e29f7d0bdf32f10a9c0f5562b5569800b4656eeb3a318324720ff9a20aaf1e8fac72d788a7c9c8bcb28771f2484e1a302b71decec516c6164ba427e4648a79e51353a43f94129dae1bb3bf67fe8157b49d1e9d9476ee9ac237ac2b2d7a0669e5d10eac975cd3d1eaa7d668be6bb97f67e403382aebef0a26d3d1c48127b8eed6a7f568c62777cf811168d4e87076c1e354f95bafc8917eb429b50c411742a02c510f10a057f09df0a399ab3ebd0618c8d855c13d6ee56e6e167902852ce6bf3be2a889e63e58dddf1262101e922c4bce850bbbdd9ae42783643bca3e59be346faae27fd906756963c2c46e1d8b97bee32f1e8cd57128d26ca52cdc5de449b7957dcc5b7e125ca4f1a49d565b233fbdd53f72e706c97a3902d107d11bf06ae92c40019209af68657392b9031ea36415d256023f52c8e9034c014f593deb2926f1e77cbad173f05b085dd4ba205d5e9945db76fc63cfcd66e5b28bceb56dff7ea230f146678813baeaf30354ab02a8e06322d21457957de672c4821df3745bea2aa63bd1cc19c0a0d85245a206ab0228ad6487a6ce66f8ba3bfbfcf4c72716683b7d5730929a0b615b711c2fc99b948ef3af1540ba93e0a5fc61d1c0fc02416b350ea0af1f7524a7c0853c65dd7a478e72f78e62a2a159a490386369fbb8506beee9c958cb66d8b824f3a3e197c58742f1736fcc204c98f913fe455a08d336b4b492584eff0a5edc6f6ac3a4bc4b22c48391750469f92ef2d35ff751e6b98d80b482ba48f39d5cad9457f9d8275cb6f7e8efa13df36698e8b991cc79fc6dbe5d9ad75e11a807f885a144d924ec9d2ebbe2ee63f811f5ec745e10683647d16afe0ecfce18fdae53977a39b82402e9d94b5aac8c6f958ba9deb678a6b851bd581bc974d6be3dd29b7bb4757b4b120472d83a77c3ca5a39c42d635dfc6b102e33f144607d0076f4325f676a6f2abd3dfdc4cf44de876c901933572120347e7961fb2b80523c81e5228f9f851acb72cd07f522cc0988167194b236f3a2bd8b9bd12fdd9140d6a70dd35e3003bc2d6f60943893ab88be1c87e6480937f9e0f09d3bbb184bd1e7a146ff377ea8de9e8625c11c5e206eb72132aed63983662c1d74c89c5e18d43ffd36e58178a79d7c69f54d3d37ef0801fe2fdd1cc2ed69b27d3ad2b83032b0008f7355a7ae97253f7be32d3b7272c0850447c97cecae2231dbc4b8b9a084984f7396a615dc44211c82684a6d9d628865cee23120bfd43c554a0d95a58a50af981a0aab82f0e82af49a09eb8834f4cbeb22634f6ea898790b23b0097a64daa9e9c8162083f62f066e18ddb074ab0b86c60619097f04c704126ab5398bfc6daa4c9ec043ab0976b41b547a1e24023daeab570c5bf3f174029d20f76b107aa9fe684cba7ff1e88c77a0511b757cee799a2659a7a5f7c6e4b0afbbc80e98d67dbe50bb5a29bf696c71fd218651675abb08dd2bf667be56275049345473a86088ec0c667d9c3393ede95e7c473870f04328de21547cc333651d86550cf86c07a48c07fce1cd8cb545aab305b5064275a7a80f933fb739725a774ee5a7312a8b130b1886115eb024714dc458e5448bdc02a08a8a3ff0f78dfc2eb430076c480ac88d8616ba192fd4dce971452dd290625927c9b0ff650e71c707badb83cf7ef866b21f4d1989dc69ec600c1ecdf1b11fe39cf2377fa5fb34222a5c2520067002982cf08f172b06ee4b2ca12378f9a4e833ca19bc91fe6fd4038e0e146d20d9d23b8f5ae444a8a44c7e09458ffbc6dc76c3d60b5f9ec7b8ffd679bad6fd4a8e5f7b7b5454c1819e438e9db5c6166db8a894866e752977cc7c58c10fcfd14943e5b559eb15cfa7f465e577a94cd792b73aa189ce0954b453d5cd803a9a60f4b221d929c4d7d0f29fb7f7fa55315d785ad23689a733a8ab6c28466afb36f061f38392e40c43bbc768063d0b1d64e0acb35ff0fdb0e3371e83675e90bef7618a709f35ec8d0ae16122372a1c49f8cf332d6a447752454e77085dfb0574f0ccad00dee57db544aadf01c1293783666b57b998ba82248f32a43b97fbf1c697b0dd1052f8aa93d4bd83de83191aa57a68cd556e8522071a0ac91bfdd6adddb2243bc2b2fcd17bc722d26f938a9ec9d378160c39f8f4d331798dbaf68c8fca5a522e9ee8485ed3594ace48f854b2ec635dbbb8d956a90fa9c9c53bfd8127cb6e551d5e9723bea8677964009d2c628bf19dce262354e637f735bfcb895f50ac1fc952fc9d31fea6b41b8e2f25da7b8a36737937fe0e8311a0604692b3360c75f9b3b2613e3bbc3bf4303f826640315999766fa6b79203de0b861edfb170b34ffa44c9d318cdd488b8b7966e5333d5e77fbddbada19e9ba7bbd9946dad1554d3b45863ccd678850118d1abda30b1ad2201729b367cc34792eabb9f32ee5d9ac7ca22a03eb479a1dd745ec2dc6a4205e246c7976b085e111fb1e8ce0179bece08954f71d36b53df8b60ec4239b8a63257e39f2697d195ed2604187537ec0e1531ff03d1c5ab19731e39f1482225d9498fd010ca1517ce361c8b0d47eae4ac8c3cab8ea5e1f4c626d5eff280522ca44d68a0d3d57ad9bac65adf95d7b09de1dcf8f2a4e37218da8af12c74ccdcf320b4e4d1d793e888f5fb85552bc531d5cb150c6ee1064037a7c36c91eb8f81de68f26071b56c6246e9d0c7f3894fec38c8b0bffd00b27f9e55da06fbbaaef659aa26776717f84bf8516767bb68a5907d8f6d64130df65b5ca2a3b7978ab876ac0a9295725421ea608ec3924c856db70e76deaf74242ed5e4ce004d2f3f013b8dca1796eb35a2d6f3e1de174fa6b62b76006310378bb40ff6f11a56c654bac1584ce9b5e8ad74bc97e3657ca4a7efc91609481b75b8a2822d1a2b011325e497c0cdc68f7b2f0baef01d7b7ea9ccedca8c27c5fcb4224877b77ce95474f7c3c6e9028006e4034e89d240cb5a25d8c878a109423651a9c24705067cfbc973673dca75ce0d1ab22ed64d8b401f285e17fd579ea67ad97eef0bc9300816045f9336d1a2dbbeacecd1ee567a502a9b7bb60ce0363b69b890c161e9fcb5dd6593738cf5433d18cf4ab367930a8d41c44b8bbf9f5d5e4727aa9fdfffd98377743e9a59dbe74336bf2ef005823344f333c8f9e5771192818d4c5edae84edaa5200aa6629997590162bcaac65522f785855d6301f7ab6fd24b5fd2208cd52e311422848d7b47ec7f230b56819fd76932a8f5bcffef3d67a1d4e270e11cff5dc5d1f91348473122f399ab04fa4dfd5ef7da473b5b056830fbf4cbb1d66c30f87c55ec40c1c4ef960178f02aa519cb316ed0f411d582c7aeac58e230bfba65d389f2b4a1d4c7561ccb1e49a7437e587a67bf4564a7b841c5bb584ce589074e0e82cfb69971266be295c71be41edd26b59a59ad656d0c46c6fd3418ba17bdf4e6e6d73e1f0f223a9482d40e2992fe992786890704863114f5e21a1b3bb0773bde3feb3c2828ed612bcacd442b88eef0f1cd334e1061e7d25166fbcb940c87c9395a2e76c154b1007c6ad10f007d3ffa66d87ed709d4d94dd8c0f338bc3c63efba7b55b461efa21351f65650f8b795fa7d99dd4c0c1b1fe750406011ff5e1d1924951bdd004b260131eb08afabe13c9acd0a693df87d96f788f9b093be5333bb70f2b4c5c757a6ace172776af4f37f08a2cffc5359ea6b3097b65888c42008fdb319c3eee3e381e01461338b46f16d743ab0e9a45b947badc78b975915e8aba41c123b0f6c732fd649c8ce59ded4dfe897caf55da2ccc008d6401b55037ea5f730bc8e9f41c9036d25ad08953820dd823ed021625a42830229e7d0fc319da5a4beb3c397fbe2f573a782086966c0754e24e2ba5c48d6a4d5efa8fa07404801e9214a3febfaea75f2353065d6fb2694f937c93be86bb2ce1b2336580950202a60fb446b0fbd8bbf4f902b4a6d0f485ec1f51ccaf013d5de47c8531682599465343802d8326bac467a068a80b6aee9c34eafd6876e3138c5d422344491b54b229cba1736178db6ddb9e2d9b4d2cb6f6b35111c07f7d21dd1ab76c87d62566754da5f82489c0c894088b80211ea4e0f466e7104b1e911d9fa1bc888b7dfca9c554f2cf119c31c97eac978a4857b2064de3684fd7f58e6544b451942f860609113da9cede9704fc2192ad494b2ea378b8334b89d28a67e6a26cfa385709be7c4f463a6c0bd9e45d6424a640da62a4e4079b8365b92e3fb269160d58025bf3f95e8f411e0d893f3680586a8ced508f30d4bddef85d178ad84e1b422400effea86eb5edc15bd7d0f4409f42ede2bfff709807f61ee1a279fc6b8fea0cc1733c52ca14d87d8fbe554fed3aa73b5e09ba1b6c4824237917fd8cd26fc48af8b72de01836160c1a90b2a95c91c8f14b460a1967cc6a7d717d6469810c0d7d8629e917cabeba4e6ac954db7056a56fb35e35dba42f0d5a2d7fa1f14e371b0cd218189844bc1f1f094a032bd659c4951f9731854020ab5bc291c7a6a1b6ebce311cf1eb056ea50078f95c538e61f2da8e2b7d414165bd37153bd3cb7c6a92430ca6f5ce0a62505b630c45b4f761953f62520a8729a292a44dcf062ff31b0645a7ad5f1ba6d5bbe22efb5715925e2612ecddeefbb595c50a66573aecbca8c1200b5d4ab8d030633703d8ad622e2d8976176afbd65c644490b52092aa7575bb6286f14c6aa576fea6007e802662aa4dd4907340328e1034792eea8a604109393ce1e4acada8860cc7fd5860c146b3c707161eb4b5531cf3ce247c9661c74aaa8f985cb2ff498364e75e6e8b192f330d0e13a10edf301c8cc98dc0d9097e65c1952592287cfc152ddfc4060461132dcddd4f20d2bd14b1750176eb91a08dbdd8f49e4ce34ae457e1dac5e38cfeb07e461b39904cecbee1d6ac9b9022dff32c197099876617e238dded31ffde89c07cb16835209408acbfbe6f3f74399f3721cd2015667e7132113ac9bb7e883839c238b7653e83f034271b09e6db35616783866342df938e6145b39bd28378afe23ee042b55af474ea92a39063b33f61b6e3fe6b8b96350af6a09d9e80ffa3706b5c6f126968bd235cae6d47f1ed8bf31a7b12ea81c00fc1d63a3a60fd6febafb25c69f6bcedb1a57e6ae3a62035f7472bd4d822d69a3f722f266aea87e7f988f5d3125128f827fa6b4cd687f09bdcbe41b9edbd810b2c05c32924d38b073b421d7de6101d884ea2e604c71b043c07bc94b9a134a5bd2e5e2dadb491f84dfa4e320dd97f6c6209bb8bca66b1e425674ce4d09da7c8b36b6a171a6710c9757b6897e8f1491925ff5412d87b8d0db11dcd1d10c1fdbf5d245ac0227eac44ec4362d64d9dd4ee5f29cc32545ec09cfaac200443d8c4569a1430d8fc95f7d975e32d57d1d45b19c8a27307ce6fcf9cff28af4bb91210a9c66ea86945c6f751c896c7d8f150ea978c29af4e2f2a3e9a59dca5f2f6541f840998d8f9feb7282829ea9ca9bcaa94091e625c45d45552271a9e87732ada9b1c222022b9e876e1474bf96430f414268a3f21fbc522df5a4efa598743861db818445859ce0e4cfd923148eab55177e687bbb2e033c5b6a5e5382ad38dc08ac8e6c7b6b184cf6a23203e64652f43d2cf46688f14ee75689d820f577cae97fbc8e059d42b02a16fcfe4a0897b085d9c506dab8f0532a0cf7c66e2200e949f65a3b981ffcec37be4cf0694df6252819b9ad19f6b4d3c0b1899cc78c1d3207bc35568b8be50afe50d826145132263c625f31879fed4c28a2976a997a34ea1769b6b873e33202878ceacc8bc847d77a1bc71f4fec2bb23fc2ca2153acb39fdad5de0e436906fafe27f075bc7beffbe6f2f2a9d544f01c034e7b7004024b2920577c5d5c24e444c839cae5fb0bf742b722df0546bd147a899696db83aa9e899219e01a3216a7d9a5d5d21a409954f5f64c0225f536f4afd435bf4cfb1ede4e2f36c833a1bfbce925c4ff8d1929d3ced846d139e41577daa9820ad4bd732466b9d5fd6ca565dde076dc00f103fcd4be7ec9a0765e4968ba9a61eadc2be8f7316239f4253a50a9d50bbce809857bc8650ca2069b27b7f07b00571a9ac2e1debe96f2caae8ec730b109f35f6f842ef9694386c6eee3b815424fd8a5d6a18c8b8061a1bd637fd23842e9f12ff44692d6611431724cb07866b7ae6d1f95a8791fdd29bcc79201d71fcf77d724d5e5ebb226c70a89821828352066a2a1af0d4e9cacaab2b4f7fbe17743ceb443329aed33638a9b87b5998629f85f00281c277f8b9dcadf30d84847eec1354b4d805bf3fc72b32be90130e168e59e64abf696a3959aa8acc9c942d2d244fbc09e60efe8f2aeb0c7fe3861dc9e75472b2de2aa759e47e2429e2c2ec16d444874146d45fe71048d2d57872027569596c4ff263d469aa47a3be53eb25732407d7ecc019e777d2fba0e138de85abeee1794847732e548ea5911e1fa6f6c6a33df9ba919f6d7264b434a6ac430e8762432c14cce08d6e081a467f2f5ce8d845a63d91854b66a8670cfdd8eff2891b1f2507071efa04e58e49251c03b0f4340cab14e8850da8c9b048854af71c53425e0b7f41ecbbb658b3050ed51d6a547c124ef3f790db31506d1fa3efad0e0e1aad4552fd133ba7c4fe492bd5dd670d2693d2211aa4b09e86101d65ea364b10a843fbc8a839f37d8fe70973a4572467c24e7b5571577e166cc170d30a2105495e0da7a9a157c1e39a2e95ada07947d0aad301d7c319f74150a916529ac89466760d5fb03c6934856491bf4d354476a18fbdb2312105cf17c344379ba2d82fe245163e28f77c787449f84f414c9ff6501e6a3e822a2b5d463f71a449918e70850e3b6c9a97fb3e136f13fba2168aba47bc04ab0ba7e6606102ef6ac485dd469754d998c0a0ca7c03f99136f478f0974788128cfca1eac1ecb34207f1cacd3a712d49370e9e1c86a5263b2493c031503e3d244550c837412dfbef56e68237c2f37d279caf7caf63275dc9fba278d638a63cd7f4f27deb3ae16a2de64528937051ff1c08de5236d8528000e6b216467ee6e72ad0c5ce963215342473d23b493aae28f7304e46b457e5578f76e7a8db20b6929ddcbaf9f44714434c4af65b2f2709cc3c05ba8a95703ecbfc348dd6bc053d512191602a638c4960751f4c720cfd0f821d702a75101af6d92ed31ae58a2ef8ad6735a011af9b4bff107d39e41b4f9008d0eee3876b07f4709e3611f98d9ffad1e09014e3a06fce919afb3ce8d82108f9e18be79696cea3defe3430a3bec45d09d1715e7b1d48cb95fcacb95baa395c6e0fe64d23425065b44641c786a59a6b9d03a3335158d8120e2741267ed05a51132c75fef03f8e5ff8aa57c63c656aac47009bec7aa7b09bd7388a2d8cd3c455a22b665ff6ee954ce838085d680dc5b6193459b6b899ce5846a427087fa4a7b34e1cf3d708e4ab3f903e4fd709c58c67003183cd7afad85ac5057ec9ef67df0fddb0945682a4bf28f73ec1b7fe80289f40263c3eccbf8dd95f8e11f8aa0f859fdd2f54627f7f2ef2b3d130171bf4d31d3a0b0f197b2b667c60c4894ff6717e12f70431c947f24ef3a1937b3eecfcc9dc69faa5442cc7480538409a36f12e46fab15cd51b1cbcc5b764c6a59de98860840128d1ee1cf3780e80c8c368e794756ee6f32fb86b450c416b856cf462f818d6f11c09fc018863815cda8927cb46c1270d3470cff0ffa5cd790a6b8908d99fb9171f19ca17e7ee7fe9a080e5e204d55b27054251336e2d8c1873b029d196487831f09cb906be68ccb4854ccac53ab94ac69563bfe755d869a09212a301246b88fbb547bc9fb55d8af3a1cb953d1cb6af95f86c3a92fd7f17406e63ff2c8788e418af782736a055db0cb4df09b606f46762b8f07c0cf5d67928668c39b091e28b3da3edc23df329b9645f4ed27f1624f0b81dbfe55835dce08eaf7fc0ada414cdc4fb9593b36dab15bc120fcda7efcafb7b349358e050b2ff7edd540049f76bb46f84e1691254c05dff9fbec3410c374e6eb681371b03d423a9c6c565307e736009f7d1f4a2e2ed0dd4b697f9e7202326bd9099cda1dad3177e1105dd8c7a653fd2adbfa307c06c5b7b56997ac1a776bb6b2d4fc3296270d265f71a6d7a91fd559e11728e6706d1b819028095841fab64b9f369f7d0d9b82f32224b69499440dcb222ab6e6835dece39bfe98d7e36b6d447ae55968c0e7bd3dd80389865fa6ea1c05a70a8a28ff0a0433d15efe6639e3f2585628c390b9118f3f25a535402b3c21463748807cb42cfab91ab041ea161f2dc181e73e10ae699ef2e4a73c49ba193fdfa7a047791154b771d6dafa90d17d21ba9b59eaf2f4d550d18eaeab8d4f9b65ee233c68051774dee8c45e307e9fb535e61b0f9b5068239b9abbefd5ec63e183ccbd4609464e9e3453595fb07b50bdc16432aba295f9bee17b79fd916fdf86b36824b10a9645520806a68ac0756a3ff27a41fc45305c56afd0d7b494e0e853a1c92efbbf92440b047825f60bb846b1ff6c49eb5f2e9684866110175db9a59b7f0b91a66cb29b9095282a1cf5d1ecad98e56cc7fb8b9018f03176d350c7d452014f6e6936f1a415461ebb59caeb2b111475c4a9e1d1db3801bce8a6b953e9d8a63a2bc02b33fb1985ba3d125aa15f55dda94f35d355a0644d79d3a4a84d48345b440369eacdd9521bed88243068570e620eaa6bce6692fcc67adbcfea921b7d99b40142bf03b5d2800266c89fabcd8bd81070b5a0130c6f16b760d492cb8d145984c3889d4d32d4b363380d6fe49eeda9d77d1b2e221c1ddcfed1f085bca9c9edfa0373d38424509f366dcbc87d016cc0a2fc716bc8b7199e807b103b4edde6fd00c381422dcf0d83c791e813559f74cce3b76b23beb1a446228deb0636a8be071ec8e1db65136e76c697f82b5f535c1a867c6bb78cc4407d98fefc30f5d618a14f16104fbdd067d93736b13efad76e38644d70b7b70cd11d24271e393873a9adc4258e21a9d0f7a25769456559cdb0c28ffec5ed1f679dd47fb1f6dd16e13cd94c8ad0143fbed380b8eedf31d9fd4bc101654f321994f2bbf5f0b55ff688911491516c21fafd9a26b17ab53dc8067d9d05ee8b26135d99c8874f3d7c4211b4ac4aac0a1ab2d278375fe3fc46f61c34ddbcfd56124012ab39cfec2a438b5a7d490cfc77e1ca63d53976d27c655dc2573cf65ee2728052f23d513423ec14d0504e85d93475b544357b535d01966378a371bc18a69e4228de2c0a836a6342a8ec59f14ca8a54afc9a0369aeab417772b92c99b47156f9a2d5ea1b3f2dc4dd174f6242a12117e1f4dfabf20d8d556997b7fd2a82a4963764bc876fc5b287aa62741caa222198cdfe788426022d8232f709b4d9b88f998445317a3239afb8fae93e231d87df99331e42b4c4abfee10e129b414467842aba3019f2d9e5ffd4c59b70d4ff3ab091de16e38dd58ed751c2e87bc6302b5052b459d2d65d3b971645b515de11f3ea24197cb79c2f8e0c12b32985de70f35826e4fe0fb9b026a9b0a823bf22d927169842bb0bf6a950d48d6bc64f70fcb30d52cb2d83370e3cfc82e2ece181680920488a7c20191798fa2118ec104f2263ed9ce4e5658f57a875a9b4cf58ba30124c5e190a20cb99972f7e527f29c64d30e8c7bc07748e9d718de904bb03047339d60b204a215c35e7d890f513627778d26b9cca0cbaca80bc9074b7bf27058a79306133d75727bf4e4c6c5f00d85b48f10b38132b88eff4244a5bcbf757b1b835c26030b02711997e69670eb72057b92c876d2b13cf637b66c7ee4d4a434d1a37929adb7e7d72d367a32be223a08039f0b7ac087295534189e4483ccbc3faa5e3e41c6c929e0090ff5e21bb3bad0254ec3375b307a3fc019da5cb76cf6fce7ce46dc37f55c3d5d77da5075e2fd31194475f12066773e0583ae0bfff27520be2a121bafd0d85adcdd2","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
