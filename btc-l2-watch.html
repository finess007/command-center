<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"534df283b29f1ffd1b63175e0199526f4c2537427d4af440aa04687f2182ce89aeff70640f847e59ffce22ffa6714265f2b7d6f9870570df09fba64fefdbcba0426db2a1dfc824e26607d62281d133f80be561ce9f4118883eab6757851fff330ca8dbccab17f43bb84fc787984cbdb53baf980629a9c4131ea9efae93d378a7dc20bce999742ce11c60f743b51631aa17c18a0740e10687ec9f11c5bcca275d478ab2b7bd188a4ec09af9fc53bba36046c7f62acb51b142f1797082cbed907374c09d228e02545c8756cce940e6ebd44413beaf83f6e5e73af2c166c475b18012db1956431ebb95e2214ba4b96a771c1ad8c4859612c032d94a9c9f346b19f8aa55399aab06a651fc5848f600b390db4f6f327e12f8bbd6ae88e4627780c2d667d0a5ba43ea8af906c61d704a85d96f41f446ef8a0221bb2d81c4ea8895ee0f95d7b898f0d23ef1abaa93597b59d72ca44c558eaee6f1a559647fb96aeba4ee15baf7cd3aeedf7a262ff54fb44c08129fe78b30a652c5ed42b507c6453328be208592f62a8a760d6635cdfa2d0160fe2219bd15e59a9eb19c8d94e47b4115dcab545c43918655a2a54db4babf3c48205abbed23cae4b592debf3367b9f45447de73eac0c006fa74aca28e4334ad587ace919ff1f48bc69f302188f6275281b023d2ea539eaaed3dd603e409c30ef296cbb7c2d53657370b1fdab7daf6142d832978ebf7127bae6e7a16e56b1df87490d0f0a1ece5389e9541194eda04582117af75617c91ec02353af69f7b1e94af7cdf833ea5309a1231ae9655d96a4e6a10baaea8b52a84d2f1b1ca76f497fcc999d1d6c85afbb77065d22145454c0f4713ce5d0f2fb710bb26ca73a7e58248aaadf0d9eaf4c4e6e778742533e46a8a3f4fcce5b438b6da990a8262aed37b70d27fc3d3b59dc95344ed9dc59b4e3221c0cc51e6c504b09aab00d8695ae3583c06d0c030bcb05033a1e15ec1a87bd91af8a7e8474b700c06b6a9e16c77e8cae444d46dfe7f82700860479dd742da08c5c361868dd98af6252237dbea870b1879b3f04adbfc60f15fbe3f9f1dec3a5d45be9c329b4ff51e1dbb3e4970aa0022e39f17a774be4e6a868eca7356861a6aacb50e7d7323c4e576930d3b7064b962951aecf27ceafd25a81fe74066b291fbabd6090a5addcfa92f97ac672927503f2c064b718601e7c9feaff016ef9a4f833ff91d20a71e5ab913d9c8755bb0e969ff9fa1103b98c235758c439c0d72697d2eb077827bddf8662af8e831f0a3870ed38454448da4598dfe6bbe453df25b620b20f7c0a44195dfc7c3b455e6c970bca468805e5f69dbcc54bf1e4f15d9f480f66bbad3a5864ab07c9dd432dd57b8587c6b7a1930da940b35277823c67b484f8c46769d89708d01130e6b74bb349ffd30ca523bb90c6d7a1d161f379f0c25e0b0fe4554e696ba41f3f51b6bd73e7baccbd4ed9fc7bd8bc81bd60ee4c673a92b5598ebc72beee3bc04f2c7e51eaacb4b5cba1fb01945c381e1ff761baa5873f8f936ee9975f5b19ca8747f5bb7f60f54db3f9418c1d6b1004cccac09cf4fc1e6976d310948df4b1741e844297c586779f32c45cb77d648d416f785d41b2d917302f8d6df81a45826fb8e19479885d63e745e3f7127f81d93ed1a4e23524af979c42b34e20898b54e1629567e830e08011e75712585fef0395ef4de16b14bef5fec5fa129702a298a409de14c265797aff8ac69bba879dd7b7d22ba9a0c050aeb6a2b8fb7af08eebec938a23f2aa458d0b4b8e2b88a137a84f1251ddd3b4ac6e893d623d2aeb433a0954814a4b0a330e288e2107f1e526f55c8ebbe830df0000de766f9117a3cd243f713a0d1c55a1cdcb833435ae67d338cda605175fa2e028c417c45c46055ab458e3b2ddaf5ef515238cacca988e42fee26e5e28ef7433beb8f60c1af6a09281b24ea76eae756b2f3a73f6c7d82e74edf23e310c58bcd3d379afd695f8a59cdeb481372cd76b0860bc3fa88c53c7e3ced30835b45539e9b61bb76fb9dd2c977ad926ccc41a3ca21783729759c2c49d7a9ed4ed99bc06d9497a4140bf18789ebae324eab4fc385376080a08db95615eb082154d40bc3273168a70de64509a851683f51f9b87475df6165fa4e558b58c4663e1cc1d3dd613c1468b4bb6bb5aebe3c6906ee8d455b036b9a046a50763f24489752c39a791495d840ad1e46261f64dbe39aed61e8536c22f7cd404a706a5abaff3e7e432a711bd2f08811a3d7eb8ac7fb35cc744c492172c6e0f498e8407b90d495a444f437195c96bd9567ad7d1299174be36993202211aaa5abd2e5cffff1c8faf51711b673f5990eddb291ae421937b464a154ca0bc286fb5c4f9992bfea1f70f18acb594ab1a9429d4745b9183a67c95de2a44f81a8a1045ed93f3f1c10e11471ef136753494f974485903df1d5bc11bb6141efd4943bbc742896400f4180843f4598021fabf0cd1bc70a3ca23c12e3505b620da0570de7223b0798f8418a86ebd8f5d63e0729e633ccc4816565277ce07e9b04256d8e43e625287c45858567992acb1bdcb0bfa1b0921af6b28d7fe487dd24e92af12ce9292fc2897c8bd2decf8ecaa2ab7e09b52b6be6bd6bd5b975eebf713a7f1b145ba0664f80f01b0d39741172c16ac62f2995ba4f4a07280d20b8c2d205c07b419775e6adde0bc7e03be8b0e5fe1199375f201201f8924eb45128ec1a699f633628c2f9527c45e9e8a7a5e66b09e40cc44ba208b715e1451ad67cf6721f8d9ed2ddc3f26d02d0e192a64a8cd8028d093278514e5fc5a33969abb112fef47ef106d17e27071d59b446ae0d5e81a35bafbeccc691922bbb5436cd359a315336ae932116b9f5a58f271d75b9ba0e904062bcffc261aa8162fdec250f9aadfe3112be08bfefcfaada4ad1eff30e3493e870f58ebe7cbc1fa6130897cd29e9597f128c78ad4829f4507117b8071a5e4d825032daaeb73cb2d0c2ecebfc57b603a736c22b1189344f8ce32632e9b165fa62706ff74641d221c2f401b30b151af44b205ec31ada82e2dc9c5f10fc071a34e22066243fc365bb9ed60c5d73c9d2abae6f0ad502d2f7259406208463064e4f0b85c2748de0cccae1355c05e646a8c86f102949f21c55e965e8e94d18117cfaab6838197c30105f8a93d5ca7db25adf4622351fa6da0a9912b395b37a89050e04b5ed1c38be75610c6d2cc9608a68dd845e51b9a1db07e7f4b585807bf807b309b38854bf633229da54367b58b4c1ec61b0af04fd5acb31c7b88749fdfade151ab8a0ffdaf8139209e7b87e169c73178df3f739e68c7fda04566374b2ae0a46237ec4046d6570263fae5cbbaa6bc559cd744d46c4e7eae7256c1abaf7560ff59c62730274dd3ea60bc943d7d4b25c286eeb208bcf40b54e6493fe7ee03ef1e520c920cee4b401b7bb8f349df65f55356ebdaa623ffbd2df23c07e510c01000420ea184be06b7cf6b7b6c47af89af700e6d741ecb5f597d917d6cc946cf1125682678e56e8b1c95e0d66b22af8f363a5e4d66bc1c54376510eb78fcfa5c4b3286e8331da30b67fef81fb027deecd76ad24e19e1ac11c43ee5e125ffa0f01f65580f07da386ad308b4fec62762d9f9cf7779c0a8c83091203aef126acbd3652d6353c407932b3bf2d86238407739d6170b73c4c9f3b4a42dc4302b71409caec986b1feda15db74ebd61c2a1c8a5a0cbcb931e6b5baa9dbaa23277aae5d2773fd5209a3c79e5909fe7a6f1c7e8318f9d52d3f2dfbdbf961c5713dc5ce9f5143bdac45b74bfcb87f0a4fbb4fbda886077cac54eddd7860a234d15df580219488c924966f5c6fb0664dfa132fd77f975826a1f24007ec40c1b325bb437496d7cc06b5168c12e1064fdcdd775cf4609e432f0fa80c7cee9d5b1a22ba690d38e02af17e1d98c73da19430d00b25bd89603c7d526c390912f5fc47c0fdd81c3e373f24338be5555c5f4510aa542ff49992a5be37b8e05589a2d863e87d2f3bb0d4b561b7cfe5d6ccba4e80b24522a080b13d7ee8800f99ecab3595c7b70c2c5811fbb01c8210c499008357e71e6036a5cd89c383d14e11ca7cedcfc59635c795b40e1d62e9fd0154fcfb54faca3eeb5dbdbc630e9a007545c579a6b9cdec52f45e582d9c3915233c9e520eb613fa6f43f44bb157b7689994908fef232f315bd060cf5b4a6e3eceea8c7022adab35055cb564674c218d6d8d83df90c13407f7b41ad73c1e1ece3a5fb8cda5e16588cce8689b3a71f1ec6feb8ae917c0463cebb8fd320cfe575f6bec7a66c6193c9f563b3171abbcb5d6cfb315e4b6f2c1453a9318da014fadc96fea5673bab3f93c2b4f2aad334d6d0e0c8faa380cb0bd18db2a0b0db23d1b452df4c356e01473bca274fcaae470db08a44b2f70c2fc66dd96a01157a507c65e93f42d22fa1860776b3c1d3f6017057f67830555c93874d45489938f2cec2f8711ce31a63da536ab01e2ee93ddf3ec081500f7ffaee7af4a2df4797a6d81765304d412b915b1e810853ec9cad8d58c7b538fa6d72bdbc931843b64c5d745d7efbc7ddae493f10ce334e90ab41a7a4533ab107fab70fde356ad35f79d5ca9d04d090946b5a8b7eb2cfd8bd79ade287106077d1033ad5508211fc2ab730db07d92588691bc0c590166d1a80618e8abfd577d36183bc22aa0505771e8da568dee0b25df44ad41a8c54bc212e0fcc80fcc46e622d1868a44d8808ffae39d33ff9c052cc7eab32f5a0fc0ba5f0f2978a6c9d598f349f98df2a7c8b348e4939ec04d7ea34846e266c603bf2b37147f7fa06594f2c08ac77ce7400154f5fa5626e213a2b9425ed105eddf373b5428294edea66d8987f18eaa8dc767f48971acc59fca558825cbf053cf90c7fc899ed5f08114c3d0100f8ce6b8b3948c455c88d71b4d60425fd228bc71c7819288d8320992f394201a4f5b11d7cbc920b7ff2699d960145797c5b21e18e204fa3fd6ef39ca47af0f24ea8a50a3596bc13a08075b2d5c5d65ce37f4c6611c125152cce2840b107acc4e825c1669822133372a0c2bb142cd56754c2d9c69a03b1f146fa9194e1019c23f26e631941e0d5a17b111473f37b0ffb70f9d6e4263774643f0f8a3631cdec22bbbbddb1d0f12ee28fcc2f8c706de44172701e673093659622a8bf8de2eea4be5e8a5af9fc70062879a4421830525cc301e590f87c9554ba5e4ed32e67681844905899ca02236d437db4873421cc162f586d2b9ea9feb5fd3d736a77f2b61ed1aa2fd53a4061187ba8254cbc6bff47db6c2d8b897b2214efc7f5d457540da339a677eedc421dd052b5b4273c04f24d531e4777b5235cb99b5728e02db3bc01fd5446322830ebf76d8a1358133e7c4cb3cb07be274946f415038312d295eb8c33aa464111e85095d90968b5b48f895359c19dad96faaa0e3adef4e72be1fbd44e0fd3195590ec038674bb91c4c9e8d1e0c8af14a7e214c4a857b451382d2be4149bb933228c3d3c14c24d57d8515e93c0905e192ecec1b4c220b40235fbc6dad1ad0d1b3eb4115515953f8dc0b38a88565f5f7fee68057af04f342a581ca931b656e19f5d47f195ae41fa18c84c5b94eaa4e1d3b31fec63d6bf051bb5c83ea42ae339da38f2fb298222c3a59e4b48a5f6b3de0345149834c5a3374f12eabb821e8293b646801beb4dc0f24d484d2592a37e1481ad7141413eca5afe912f9b01f4c6caf5bbb5347e7de64a4000089213a9f9240bbc3eca854250f4ce0c8e0596991d15e47d7f4ef37d5bf19aa5b0008bf4986b0ac6be8838dd3ca2388205df7af7e89a54e31b714e8184e9cfc89fbf32236b043e7c115c589f4fd90fea83a26b21267dd95498e921faf3f2a8a559e9bf239ff227d52c0363cdd5344526f7b9cd6cd07715abbb0c322c993f619f6cccf235227547a9268f400534dec1fb65a26df8441c20a18862923f9e00a498260eee45f636f3286dbf65174790477adf6372bcb1afbf3ee4c811919c9ec176116b22fbfc19985b866a714c52664ef53192542522053c9a75711c9085d6268fc515b13c6dbe1ccd151e91cbf9e1379a532e9d0d87a9ab1ee7407ef31a47a54190f7849e4de449d254840488c4356f23c107f329de48b50fe0545b8f8526ebfe4001c95b070b953212ef8d6731c6f9d5ae4985e1a29485abbbe3c1c88f6097913533180980d674fe879c9b9ca23335eb69e090637f34681cf680583ff1fb3367374f548c80ee88888aab96e347933fedb9c9bee778906e1ffbde9526a90e66dc901d2b0fe010cf9bfa178249194a0e067125a4db5e5f9adc1ef429c125b51fa89758e629033e97a7ed23d6e021969a018e3e055161ff99acd7d15005029a169dba108c585984759ffc056177b7c053eb84c78f1a5b37c6a1ed105fc3fcb0ad05c62161a06174e77e773eee4f7ce27088ce16f2d9f777a29ff0c91cf8e1c1aacac3f4d6718e26aebe8267dfd56845dfd17be7f2c4812c61101bdda08cb864e5b71a11ab7400399ad0b20aea91da09321ffc05639fbd8f8d2a9aeb075d3e03c3dc75619701e784c0c5bb52d9322d74c44ed3f027f8a6358c4631d7b3c2f22931cdfe1d85723fe7beb5803cd853720f6184ba4856956897c123b58d84fb7514319cbbd277621803fbb206266d96556c0ea3f0b4123e55966b87a319abbf1e5296111264a774cd17e7565cfbeb15ebf09d910dc7f2f337a030c289a75ab433219fab32e38442980ae5090b5e04a01f95e3d745fe704aa6db0fe96875ef9c8d87df44f344000ea4350618623dc85a97018f4ccaec95f345471f05bebb8017925d2bdce1fbebfe6391b39836ad30f21537a13f32a039bc0fbf06d077473ac3fd2811df96bc3e05d18336c5d162c9a6cdb13c9d61442de18acc9c9a2236e7499b5431d445162a83d6ca30f4e81f5dcf49158b4441cf2aefdddcd9a7bfe76bb91000970aae117b518a3ce6f531842376252b8638a90937f42f7129fffc057a62e8c6443ac629dccead83d9cb9c2387fab04c8154fe354bff0afb7a0fe7eb9d29623b4ff251d78576971e01bb6173188b7d0fdaae0ba0039e159b890a5c9fd494a01abacdbe849fe2f5c758b641ecccbbad01f0c5dda47ca0ad7a7d21a6c4ecf0449345447f29ae79c660d411e39cf603ac32d4e1a445374f0f5eb0c79ecbbac56e81a610f0e332502d9d197fe3056528ca0f895eb05b8212d365ea26d53dc1306c2c1dc71fd6f870f3b526ecee8abab5660fb3fc91c337684dad2763e452d0df06093c3f661868d093777e368447eee6342e6cd95a895e82b774cce2c3c24f01fc48781ee2a003b8d1075c44fdf82aaf8728c8e118c38e1e09e8a95d10780c6e1a24fbdcb25366425e9f5673145ca6920b3f3d561e9155deeedccd74b4ccbe44f973c65ffd7820d500820fd60071c0afa4318a8db46a300809e778ad97c56d32fcb3ce43136e6fe9d471af566f5781658d22e4db28e4662f609477f488806e6b01cd9d765954ee7837288763e2b62764ea9461355a1d2477c04dba8b14670e56260e9103a9d42bf2a4d557b0815d07702e0b9f0ef1ac86eefeb041130fa33cc59699a46fbb6c4c67b9a5f9ec98cba19560b5c30721fe8a4b7c782dd75f828d72774f272679259dfe390d860a62facf43d4b16f8e0f9abed1882ed397012322b224e560396e73a5bdf61b6eb646046f2d4ef2909333477c05373652bb4b3734fea088e6260bb0631d77984ba4994a8ecc2bd8a99ac235f3d32c29b73cb1730ff618c81829594a9fd8f277087240745bbddb849a03652742dd6e1d4c34b7050060c6b26f1b842b39a3e7db4c85847b8fba1ef458a6faf76ed306e3a36a3e1a872772fb7817e0a1ca67c400d68f979d91dd4b343fb095957273f4dbf3ef53453fb86d30a527e48c2efc78dbea3e8d625491d39ed63c72bf40be6a56620683448026875ad510c480950f9c74f315dea586c5a7fe14c0ea9954572f6a2b26d739c04e2f0ac5a07d306d9042a53da752bf04314abb2d255f70d799f13f4e0d3fb9d2a47d99968d692bed972665f1169b5cc03441b84ee098c782dedf59425f3727a38c0685c2d2fea263698911633c42ba48f3335ce683beea1b9b05ab9215e2d257c3ca4ba9a65952c56be3423446765aa2018ca7e235e0c49b915d9b11e94e4e2fe5f6212baa8e96c5d6def72cb311d38b602d316352d09b2a617a5290a2bff8828064442a7e6c95cc5af797474b5143760ab3573c70c1994c5d0e0d4a624d1ecd0ae9f21c33d3b8634bc768a01354da7f97e3538cfc45b21ec23f550573c65742f70c48a04139f62c4974214165e1805ae4bbf6acbddb89cae23c80be6193d9e75511ebad0fc5c36ce2f0f4cb0a433405f38d0d1b2a70e8c43f6c9e291e7c467a3e20f95a50b8540e642fc4b3124e28e66f6fb44813206addb0addc4d390d1ee238225974d54aa6f441249ff40a5691c032995ee63b0fd928baac924406d3a797564470893dcd966add726db11e7b4baa33aef66ae80de02dfe5aaf1e8dd04616586953a844b1e1eeee5afd773c2e72dafc376b0310c23e770d66af7708bb423716a7343fb921be10825e130d14158de2e13779c923be918f0f34272732fb2baaa949081e6db7c62e162b41d3e1d4c4700b2090e9bc94fad731bb3ef59f1c457977108b5affcdba121ddbddd73aa55ada6b81bde01470e1ce2f3a5ae1ab83c126b05d60ff18c28eb79d1df170fdae4ed79b7fe1d9a79325d6a290b27f45aaeccb845c42eb6071a90b95b1444925869ed5289ebd1aefc507d20b4210fe70e12a1cff540139be95ad551665eade10b6d2c35f9b395d74f75e22960c8331164ed4c68411e35bdb047924e8f2bcf92186c45d5078654dd4fa2d38445524bb291d213927fb27061dad60a118b84316c790b8605f8d30412f2363b244dcd25dcb8770ccc2bae789efd6cff593edb107e7e0fc40d520adb3e161cf5e392c93d82c5ddbfce2bd0582dec8dc736c56ce99354925fd19e596ed5557889af95726b38868274c9832b454aed141d6e492cc81a17ee146d70a7a62a1982820f25851de245e3e40b90435b5376ca775d0f7039d66adf3f0e909bfdcb815efd5b752e6b47c4d99166c21fff7c324c5afb2a52c5a605447e64a8c4a7065de7c17c25819b60fd20039975ae8c06c9e6847f0d80d0b2e9babac9a84f9f8409d1c42dfae72a21fdb6ddc45e401d7ded86b616fd60271b9c21a0e6dd686895a5171dded0bdb0011c876f72448c8ebdce52c8ddfc179f9c6cb1c98e735742035ffcd655d1f5f7879ad552af4b5eb7667c1d94a4d395e3e0e9bbeeba9fe7e4350f6097b2ab8992a518fd917b15dfef6cddcf0a91281db6bdcd754217986b000d356a73685075edb06b52abb9be28f46a1f0d60cffdf274fcf667c2594ca8b32bf1147dc39e84aa7145bac060fb402b88ada56a31c64d35daad174005b94e827e1e7e09b4c2d5becc6a11a718d3fb117336583f3110cb1fee9347c1190d25ab3624f3ca93a60862973fcae4c78138d977a641e22cf6adf16333fcf069d8e50b978826812441812650fda308917696d2947b3c8c061689808573f52160ec2697c2589adca5d95f760587a1673f5c546dd07589f5699de8742b939ba43fbfc2624e537a8de0e695812e7ae621672d9ba41dde85f6f50999646ef9feece75445ece5120fd7d3127f8516128792662de9764deb12452aca9909e0a13e4dbd2db0b7b2c79d303cd2e7025d6a51d967b1c9602cc6215e2eaadfa1e42dfbb0abfa6652e1b986615da094338f3b31c8264cb3f3fbc1979a2b6b264dc2dcf735e18516b8abf2fb9af5462c6094989e4b661014e5cab7f5baf19e086c59bfa2665f3ece511386d9d4fe6eebdb6f7d2d09847eb9760da4b1e9bb697409b67709c7b19d659f59e8f18570670b77673a5c13c3c216a515ae056763619da95958c7fe4d2e49f9c0eb0f5aac5d3958ed4edbdbc85a1a86274e1e9aa64185d4235f594ae7d61bf6451dcd822146d861eaeed70ae1330a4c93aee10da4a1592eb6401773930178bb1691bd365ea0e42a2c79d34e7b5ba1393089974abef745878c761422781102908a8ab2723b001b1acc5300024a83e6801d241ac778a29c663bab3a70e7d63e1b314894f63c2a4569b49bead5ee32c371c3e92f4e54b94d9bee90dfe1dc0e2ca291be175e420b44078a775d6945c18595bd61d606923cff4bd402213faf14cb7f3a3cc5212dbbc3e7609ed40261db74278b134eb12fe5cf84dbb8b80b65f5838bb3d648047ba2850c0997af8bfdfecfb2b981b07e430d54548d3401e339f1e9b785dba5ff72ecd2807b07f660c14864201b59e865a4ebfd88941cb29ceb1937299a06706052ce9e957abd90bdedcb68e5ccca1316bab1326897614e58a28f414370bf631b8bb96c746d47f97925829aed61ff48856940c600375a7af739361d0d428ddcf998e57d9760d92afa2ca479681ff99f33b0c9285663ce78425835a7a7aad2fd7a1b98e71b8f5b708783aae7bba2fe9bdf23ab1b21ad06b381addeb90901923b708b5a24c4392596c231273b119c7239361545eda7744863570d8a5c61da7d993a5cd76a3ea0abbf33529db9b364d4e4dbd0cb6067f81656750921cc07ed280396e1e611df9541ac2f85b62b219c3d41d9b290569e2d3147b5e6f8ac702c388e43091c5dda4c84841ed1a04018d203a36b257d84151ae4fdaaee66275b79b5244e40a72b721cbb2904e83c85c55c2156dba5a995b8c210d090f5f08bc6ccae07beea5cdaaf086d3193724036cedccb3e8f07a4cc38fb04644f127d529413d55feb6afb77ee476c3550b9de17383d9e3e6b4517415cfedc608cd7b3964f662dd3e89516f940bb4062e4c6a1214496c0ef487ce40c81196f893405555f62b9223988d15743a284395096f193238f0e7ea9982316ce277449f4e6f9f6743a68b207dd09e7c4efa1efd1fe959e87e5fe821b71f8cb1e2a3d41dec66803aee25b987570e24924737c84ae0044eb3b5f8f7f64efe825aee4239412550a37bcbde2a1ad4a0104db123305a21caeb97b0d5b1c34654dd89a63f7f96661963f6e35c2701ae515ac24eb8c4f1b0cb7ad985b6be457ecec75951514d12b58978982a8b57ce6903f0ff400eb0ffca0b6f2dd59bf041ed12d5910eb270c61c64902ec72ce6d524bdbc42f55192d5ada448ac53cea9f7e830bbaa4d14e6e0761417857e9b41723fb313c38bf4c819bb2ea09d13155f4b4a6e4eb2fd44aaa0ebd95e9c92925b99a47bd081cbbc1b81d551d2f73f763a465d0d5d5de03d91a9b3cf0c95a589c8ee02ce357bfe209983fec3e123296e6e33e65252851d63ef53b3ec46ab45f3a7fc3483ced48c2978b8b93d69733386b7ec49955085a078d6ae3535334401682587601d150f4e2877ddf2d71254dfbe42b06f9765cd22e5ae0436963ecc7ae619243e5e804cf0bebbf7ee5fd919386b93b7eed26c8e5b21fe61777119250bca32d2d0142d7c294d546199827868e8dd11891dd52cf172ddeff8ee4a04b757feabcd815c10432cd94b6a1582eba076262b4ebe4f8a270fb9df9ccfb5a3cc52029f88a6f389c36729aa45e903500eb496d6700b1f66a62c18871e264a08ea32c4d84de33970bfc57366926ccf558b076b10cc7a7eb6c3d5a247f16d3de17b88592973a2e6c0706f776344bfb153f9055dd36312736ddff3bf42c01adf79385cb546d0e0d9855e3a25f066e1c2c3dd9056236891da2426e0a39963bde0cbe6283199550a88361e8f8b32e98ff7a8be255a112b5b83f25cf19bd7e92ce54701fe2ece7792a8e3c1f2f64a880fb38192575e685e5cb863b3f30c2d5a526f410ae7e0c787645195fc3ffa2dabab0c2e1ddaf6b27d3110f071687b57511214314e848076d97a8233437fc7e995c438c9bc51c5c76b06d289a2e7dbd0f7ba1cee3dd041aa30bb9d222f35c1331bba71d8cf45f83106e5e1d7a604ce5ab90ebf8cba3af47bb4d3b505f5e209a252c230348960d198196c97d38b273fe4db40c1f3b4051cb06ce2b33131679a03f215171697ee0315eb32ee6616f0d5634161be18b110e353fc6a83d34815035f7a574be4626eb799c832ff727f6a4a0a64ad38432a3348e09f61ea7c06326e44883974812f8877a0896d0800044b6d4e78d2d531430446e2f9758d1857b26b17c97722cb11d7ed365b6e864eb5d44a5d5f1750bcb49503170ba06c03832aa8042187146cddfc45c7e35bcf19f827276ecd6af358dbeb3bd59a20838b3cf50355fda53883556ca0cb9cbe94cdf55d7169e30bfc2cf59091a074f062cc9a335de79b6186496f8d18d92e0f589986fb1ceabb71056990d3061a754fbed85efe0c78cc08cf337830af6393089fa34a622be846dd059cfa710e5ed8943e0e38e18857392287a82baa18630e15d0127fa8672954433c27206b7cd9d67b95895ef9f1b39d2821cfabac4973cadf21cbd234a16eade5757e57bf9bf4ba75e67c1c1d51297053ac8914844f4cf64d7eed52e37f5ec5ab29fb8d93a847952b9f202bb934e8d315ec002c08011963045e06947cbfecb51ace3d7177a30630e56d3ed407e8acb88987434be8020b470167d69c1cc0229d78ca21d61b294d55bd424d0a277f7466b28af61b6e884581f14a4d8e0fd1b4d2d7ed18010b537497ea42fd903d6b7d61c71f2007215e07402b65433d8b275038a1983207565ef12070a522f065dfe69cf74a46b188eb009f6b539a5a2410335013bc61365e1ef724b3b4ee88fd54f386dc273ba196dd96ffefa26dee98dc8ef29f351a89ef397a9cba4e1144d5a2a0822e95aa31006c450c9646d0712d5eeadf51280a831ec0fe7959d2c87df8ff06b63c55387629766b7c3412d0afcc94ccdf401634d15078fe96f1076037a973d362213d549777662be41e74a9b53ecb510eadee8358db7b4f6819713ef44ba586ab6d3d64dc5101a775240c7dbd02da63dc4425f17eef4fa8661d23ec9d816b55b65bf91704717403e2b2d99950b3c642b6de8ff9e783487203fc1ea704bae2559d6621a889e81e531e7c9c3d02e95eb0578165716ceb559db0b88516db55907b32ecde632dfd951feb655e711c2b4802b5c5aa2c6c16e00cf244f12f67ba574f71eb2f9ce3bbd1a08d632190ea0560f291e1a59b69b07499f717152a1104a456c15ce9985773b1e3726eb48c2da689a13fe2575b21ff878fbf0a03d62fc078ba3d8aa3a97df36c1a420b947020eea904b0bc699c2fd7fcc52925e335c3000e54ad476012f9b407470cabe26dcddb75cb346273b8f45d69fea67a3971db56f82791be8f6579992e52cc6e6a7ffaae32baed1ec8260f9afe35f969cd57530e5fce695d442a4d2d3ff0e96d193ecc7a9e883cff5fb2e149cdf0bf89e0ab2894d94cf3f55d538259094ec2a1dca3f3d3fd544f01453151dacfd0ce1e48a4764dabb0970df54ed4cdd4e30be05aeea79b1e12eb72b4d8255a9013630693ac66ea1c1843d5c59946c78762e96a4e37aa4848fe854aa386a0f4fb979f8dd5dd19e453c6251ce86a3ff9383ffaa806f4b19e46b22b2c7ce099dc885be34cb29e8823e8876577194b4a8d76009085925b9c12f5840c4347c790180b39e525cb3aad2f6a8f1cfecb8bb5906b1fb08571b24fe6abed0c2dc4a91ce90310e1f6743fb24664fb8f2e78d51502bedf4872b9a3d3eaadd8da689a93fd530bc187d07c701994f3ca1b06a482236f61517310f022d55f3dec5797886fcf6a777de971fa4c846bb61cc47baaf1f3b9181b48ccb5b1ba2559fa83b0dbe525426b38f49897d4263f7c41bc2f67ba7d4e8cd20ba60205f5e3f20688c36046b9ad9a6041473428b09a2a2b0d6fa4e2fa68c6eb73b79207c685fd2d11d75e8107b9a02357f9efb50cf7229dab3ec536ce873ca2ba1c5e19711f9d5ee6dadd18a90846b1199eac4c1b8d8a98a6284e5e50e074a84d4257fc98715715e5ff57f57060e8376151ec386248763a029c20dd2ee7ac1c553f52dbd5fdbbd65eacd7059ef63e2566120dcca94175da3a87433814068096cdb15e1bd394d1938e6515eec4144d2080d45651abb193c140a0d7c3d60289d5685f82feee8a0198be5956a4f6eeb3e806d52b9232faf514255982ac1753427f6fe7cd0d025ae40cf75f23550834e5c98829bf9a27246457f625f67b26fad418ac03137617d36bd1cad1e167c6a66a65bcb213f10930233b154c374db0ff59f01848b7b0b029f50316fa5c9349ed02041e28a7fee4f43553e23d4cf6aa308421a9a86b6a927e78eeacae2ef7ab18fbe3d6900505a63f8d72a1a3f52a797b38da2bb29d97a1b07c568834167432b1f0273f5c5411bd73d0e6f56ba07c068a362e9f919120b6064ed8aef5868925fb9060ef3b82f2300ae3a6c9014018e9c4b607650c97388aa0d798539683a236e9d0a7e197400f4f3f7b6a98da8e5ca6064de972febf9667f2310732bcbb0e5f74743a093f25e77168a4dfe7684369718442c083265be1e4d95d45dd7f9e6f59ddcdbfba4a40f63fee99997b826f9516824875df4640c6aa651ab415d1e40b981ae56c7ff6fb71694e9d1cc970131467932a9a8292fc498a0ae0207ad1d17c461115973403407e8691cd1b7f13b50c1f55115ce7f4b8d56ed0a9053949a5436520d2b0918338cb6fb35ca3fcfaa70057316a594de7a5d32550bd7eb2898bbc3be64c38564458546f6a96356626dae28c85be54a31e547fcb91bd20034027e27c9a0b70294ed4c46e6c76c82d7e8112c54cfc71cfcbddda07a2b1a0d8d1c1e966fcccec64f85205a3a06a658efebc43048e9bec85ad0d77da3c21ca35b0773f3fcf96e92e7df3dabd954347d40321c3ac57d51eae35774d3533ac00f1950c12dcb19cf05e3e28032b1999312efe02664e4c35f5361e0717b3cfd2ae16f8ab094062eca80d103770a3284cf8ed8328d04be28a3f1b5f1212998411a5133597109aea1b3846ef699c9c0c0531a86d35598589a73ee92c86a625c78fa9ed386378acd944ebb298c026c3c9759fee9f8558abba42a28ca34a10ab7d6852cd532122dd03400a7d677c6396b2d6e8f2f86f1e8e0b2fb43591d27871ce74354f5fec873871b4ba31af8b6e231ece7d97110f323f8d54a905c5fdc396d7cfad7f50b5fd8cf37cac6a737aa7fe4c54f2e6067a3c34f04489b266b9a7f2420bb8edd9dda89de13e81d56ca797bb8f79ca74b723381386230a1fdcd0f471444af47affe1fba4732f77273e0cc97040144530b85368a406582402699d3fcec99486f44db0f56db7cd2b07d6a1f0129fa815fa73de7b2dbe45a8ddd76f6b8b0ab1af9369a3afdb34c05b3718b8ec533674064cfec73b36bcfcbf83036e41e07704e02fe35e2f97a996f7ac2976413a324cbc5268c59e95e2eed8c02c8a62cfac67c668785a6ed8f800ea0027b8526a01b4e830d40a3ecfffeb6e4e4d646141a9ec75bbc3dc51cd504e37c79d7c4926126edcfff1f2902c2d3287b5ef947f8cc3d1217fa369e3780bb236c4864b3b4522d16d4525f567327596d21c5b8b661acaa9f39b345ea04a9cdf006b20239068667d5b778ec755c9b782599445b3f3a40eabf314331c72567ebcd3ab3a7892b4ceaa125b05f4385bf4935b62c890f2f588294817227abf0f0403700b9e730468c0b854409de791bba949a428e5423874422c0de2864273850bd7f38e27d10d300bc2541aa598996c9ee2b1f3f981989dfb2ce0b7016c7cb315c0915223d8aee92d8ae1b53a2805445a0bbfe87ff09416d36058ac3e2eb9bbc64e2d1686a620517a2a9bb65c9b96747e5ce4fc4eac7f0650210af3100dab2e3ecab483e268a940e8fd3939c61c305dfbada74acb6ce2fd07372a53e94c947710f8c7f26f23e9a8049b54d58ed68bea2ecffa5833906636f2f5cc59c2dee83bc42744126f7e0a39222f71b51f2219047b00f03bee7da74b295adc969b23e66739cd288b115d90244b09424821cfdac03c025149d4d8e66171e0ad42f8a6465c2270ad78e9859f740fc41e1415f1c9332736d4caa9313fd000419ac7240523acdea23483826d7effdef56d9712491d025e687d032a1b5151b0dbb02abb38eb6256add1fda9700ebab3c4d342b0f6eb98125387fc8aeee3dae65c83417ebf5ca874586e7709c7d7cd0fc901f0a93e1e1f97f16307b9bd284ae30e57726e5539d3ef36fa5e41bb951b32b1a008bc8bf313f5a6e4ccbabc5caa267f8488bf1d2e625dbedd8bd954da5bb3b9113b6e3e97c7583a9053ffe052d5e0c0aad74d327d173d1f608f8de337edcda9fd6dea7cc7aba89dabea5d0fc92d9d7fae0f2a18f4b831b4fb58c51a2d011a6ea8d34eb0f45c13eaac411335b8254a8b375c83932f788ab49a86a7fbc6678a2b4391523006a85883c5d602c4567032a2809869abd3c57891b308faec2ff9a5a74854819616e28f898fd13c86d7ac3d9b6232575c33fce90172061d5669a8d2e6f2bd676f915ba3a520f9fe1147b6223e2139e6871b894113db485f1de535541ad36f7e864ae122c8af068ca25f65d6445d3edeb8cd81eeb3665522a5a62479a8827eed1fc02a8ecefb443b095a583863181868522700af3fdaa9682016e48edc8e571c589d6ffbd6e0efe74d454411a4768e1bf18afe74df155e0f35e20070aaedcacac713f4aecf152c88cfba457671a32acd91cef73e1a60086c3750b44ac439e3c78e89f7f1630c9ab612d80f71abce427c67a2d62458b457994b23ad891d15e5fc8d0b47e25f8adbeaebc3b7c3e762fdb11838a5dfa4c963669ffecf0a8fb06c8588ea3fd3a22d12d7f1aedb42cdb50e23a506422e485de1b5b366a811618d3c4d6abb24835c78e3130411afe7db28f3f35b27dc8b13932ba5c99bc246c339e1406469415e245b99bd04fc90c69e1a077edb52f95036a3843619e69e66ccaea9e2ecd4e4b0c86045a4acd794324e60acc22c795a056e6368d443ebb8f60f1b810f61119deeaed990ba118be3436cdcde1fc674a76ca836a13d5a9bce4c1c6cc6affb46acaea472691f228b9847aedb57c78d980a27b2527ab5d10a64dfe16444ca26f657130046fec5fb3d504b589f8a2bf7f24b0837387d1d973849fa49a6ed183c4fce40eefd485a206980a10cef4c043dede9cc893787610c5f1d1ae56d67a6bcd5118439800a98d528666fabea268dc3ed0385c4cae6df0b92eba20e53fcc337ec804a9981eb971d044c222bb1d9852592c4aa6ae5cf6557d08e95111311cd6f83f849c4b4e9715eb8a06bb6d435e480e09fe93c432f9e59a4e3b4b8e71c6e68ed2a3e24ba1469cf22cf57e022d6e3f26cf242e9e10172ff21eb31f0ab85063ad09c022ac312ddc9decfb1d8ea227429ab78691bfb7987aace9d413b6a75a2e0b808d193ffa595112b93c566ee7ca08b0a4b3f10e07fb85ca8a42ada3b6a6ace28f922b473ec5f6ab711c267f45d8370a330788df6c01f0ccb02a9b33508d3f907b825000e4e28611d1ad0b028eb82cc979ceca55d8ea2ece0210e919868004bcda0bd842fb668a5da842cabd0abc879f1ddd059b368c1debaef970df2d27b095ecdcd74899c2da452c79b2d51667c1fda5c2d4a249d0dc33a657eb056d993c4f7ccadba0c2b89030b61a19e36c426b7ad0583cba244bc828e69700a5b4e1e26ee09370e7e476f610d1a31f3ebd1e097b01cf397f3eef0cfdda35a45c5326aa189d9487d21f4f137054265daac5dfabb759ebde71b9a31efdaf8e8cb4420d10192c32f3bb5c81feb1ae4a06ed8949f4bd73c400f9ba5b8331cbd3cb65cbdf8fa6fdaa07c10e7b7fdce6ea6ea7643cd5198b584d2bcdbd40185560f890826e5b5ca7ebcba972ed43dc8900af39fcd670326cc12b2965912b90dab2db81b32d177053ac2911ce6b2eb8e669937ea52f47100850b2040ca04fe47229c81f1efd87cabc6614c61eb9636fca6057d261d31fec28d2ada0b94853ecfe8791f1ab8fea7ef241247446f12d64d108a094e48cdd5a517a4192c7e4fd2b2e9d4b4f6c11d5b280aee5f67099f9123a0dcff4caa88831315096c3a84766c8e3ba671c48816d5cb99b10ae318b5d59f5d025255fd8e58e6c0f77d1c1d29c4c97f14f855d10edfc66c215505dd444050a9790233ed8eab2920cb55065ab39510ef468ce70f137348071a7d11da37932a4a3327dbc03ebf0167c2360c6a61b6ae939033d1cee5d3c08089054e2bc1ce8795e49f24765626e27748e34ea6bf093b328fa7aa8fc26dcb36b3672a3472208b13909d6d9cdaba2ab4a6f29fda311a02634a58beb10d1a570d1cd25f5efc86b3f2d19e9fc142521734027d366acb1b5540bebbceb350d4910c97e9294bc0e5957f8693f91cefd51cd781ea9cde417eb83733390929ec9ec93daff6be6b5b10960750ccbb6e262fc4637e88026b9944bbf628acce89f10b9c2e63f9c7d3bcd12fe23826bcd9ca9626e06dec1d4cb14d3211d77a4e8b80db4e43f1073cffdf9b30d4d1feda99eea7832c0d83f2279f7e91d9e63cd00333b7ba3725fe81d54d8c6255907d65d7283159ea51faa4fb18261977412a117f9326c555bcf65e5e5418903587a2f9cd7be9c2cdc0c577abc873cbed549b3b303a4b1a69eba279b53211e8abfe553130f4b3a336c9eb6a9da60b945e5edb3f4821d1ad7a1f0e79ba90f7a7ff97e831b22f2852dd01461f5a2f76d086e3f0b7eed1ff99d8e18957f5a70f44c89d51df525ad4799f69d109f2595fee95284c1b3618b20ff2c62e2ad55ace87f93ef5651a45d2294b8a85e97dd2593ff3e96d2b3145b97e5cc1e415e646f98ff3b045fb2cdfc1f82414900352ba4bad22b0220c7f8bd7ea06efcc218fd4da44a3db76dddddcfeb6c53db3fbdcbe98147ee983c9d640b6fd9c26ce9cc6c826cfe482bbe8a687fa4acb727077635932f0209a3ce3419608a5556d7bf89ab1c1a013a415dd10c2e725ea7b171e688b47c164ce0bf91a5943be00f727a1b531e1bc3048c6ffc8abcaded19a919ba7a32c8655d8d6798b4bb37b5307fe02594988f84e8e3b6c7b7b0e045a0077b26a7e8bf145d24ea1b5d1b06ae3b6d48aa181992444b15ff141ea6288727266fcc5276498eb9b6ca47451601bba5696fdd68a783a23c61c85b4e4e98fcbdf2f0b13a7664bd2ebdaeae66aa30b25581bcfe2e5d5f5082002681919ece1976f1b50216f88e43fbda57f1938b05c773ddfd6085056347f7f3710b81c7ef0f34d577df42d55d352629624847cbc00c46771b77bfb2d77f8fa0109988884eb59b2493cc65e9559e6f78a290993270a2fadce05ad556ad66f3f851dfdfceee90adf86900e0989f365ad68915e64a8838570f341e02ea65204ef8af609174921a7b8030d8e5b9287561bc3fc297ff5e61388fc90fc0608145431cc03ae0ee728d13835b5b9b01283fa060ece5b83488bcde6c4667834bfea299304983a217a4daccd7ad4df9d83f4ae84a886082b464097230a078952a6acd233255ddef7faca441b3f5b1b517faaa686af6da6c19b9af3d126e78deebe7dc0911d5807a12bf7a5a2f7901d033ef790fbdad26f3896693021f943b472b5300bec069f932020e72c2e99d89f5d2b12914c7de851bdfbecaeb9237ac75892d471bc2d209a4bdc0b5a7ae2c9e243cafaa5d21a8904ef80c9933a90596048c875a00b3ebf4815ad6440f53b5fa6349ab162831925a9778765f5410fee964e064df4ebf40936785b29e7a3193b6314c4f8fa0bddc87267d07c130413ec9d84de146c6fdc0a49f5a2ed2d0b074879191825318e738bdddeec947ecc6dd16f350d7c9d0dd67f94dfac9c7dc53803ed72b44a9c597d0e1b0e4940ad43621e4163cfef552d23fe092c4ef4613986c565e65f384369204cfabfafd568f3ed008bda86685fc170583b6bfa024d665c19fec6d8a887b5e3e12091a9d87e32deb434bf0215cb6915ea7420b64f625f0398c17ee9c8ea530b5140e7a80ba087db29c992162394b5cf44b0ddf85f13695916c6507cc37c359593adcab56b6634fa5a9e72e850612199e37a725f4b56fd1a5fe0c54c172bd8b2309b0b8306934f021813fde0e77bb215a7916b005d143d4963eaa5f341f1230e10db19efea2f97766599ea5c61b00f695653da86f77a8c96182bf76b918acab01fee5128db485198a5cb93d0472ca4e0d69a3d506341ba79c30826489e574cc173cf1dada4b23d73ee1503f6f127dec27cd6fccb59e26a71898ae5964efd3133364eff50ee519ac271000e04e2611c722ff1017a4f7f2bb6a5229907aebfed44687892f699c63a5f80eba7c00e0b7a23c70f0cd08598f088eed0df8517d85d62405f7641680de782f92e04072f85c30758caca7c87fa28fe5f1ff67624875c889e640a845a3bec3d83640573299349b6a872dc9cfd50b0f69cbd1af5ed6a39d5097a5f63c37f7f26d57c603564b8be7057f447a2a5d41e5e07d92b8b6db973d37e2b628d43e19dd835fd9e4d84c9189ce2afb4c785091ac6a4763dfbaeb3885cfc9b1052b9101395d9758cc2c40f272eea6131f18771bf5c6eb83e1846a6a78251868f578265563cbdfeeb6b82e80d3626150141f3939f4eaca91aec135313c275b2f4331474dc4cbb081a2135d1ececd1482b4755c80b2197b8638328df9853aca1098c3f272c91bc8061db4c6eae3aa6c3dd69fea9688f497d5735ca2a357c55a5e1a17ae17cd358aa910430968a785594b1179c7221694f953337e21305494ccd342cacd994e6849b1abf97a6a9dfd559f0984a613a4009493b37ee675e26419de5046868f1af4ee0451568af99acf4604d23bc6b6b3235b87fda75a1a2eaffd354b155c83974f5856fec36447f075d7dae4d608b7be6fe1b914fcbb0bc2f6c75a5fd348109b3e625bf7b911dcbb47b9d3bc377c9550d869cd9705c8971211f30b9bb9713cac5f513fda7c1ebadc916c9dec5c9c866548b06fcb15b7e43f15b8b201ccefcf43977c1576f7525dbcb88817b0b70c16a98f679dce3e458e3d5d257b5b4e2d7df572cecfeb50f5d56a50737e6c91ffc5f2378b7bbfffb19f40cc16bc8a8c39d448dc2a5845261361682bce49797ae8e5a1b1e697f6ba959618b0867f1dea962d2fde61638d3e4c2299f59d64468a6e2ad78c46d8d070ed23203c079a42ef5d8a42c99ca94ce78cdf36bb1fd1892343d778e5996d4d04964fa189c1fd249896eac3350b9a54e32068ba2b62473c554e79ddff334d0c23f2c3dd0c052e34ccda423e5108df8afcfb9c5dc8df42724e2e49c4822a85d4c30f59913c3a8f9800c87a8a5199e4f079192dc787e2d6e333394c89fa266b704240ec9c47155157ff07a5c1ee52b17dcd36843c3a372dd665f33b038140541c51bc660986665227342c55483f511df00e5e6511196005ded72d9d60c57f702b063aff63f4fd86b8631aee26b16ff985372fa249c7f4640f5818d47dd1bcda0f128dfd6d8a14561ec9c223c3334cb1f1a137d6c33cb4fdd58abb17dee2d4b713da57c14dd1d01ee16e1c64d5cbd889b5d6a0e9a8b043bce5594bbba08d8c1d147afb7c99af7d945e36ba2dc09e2daa0bace6a12222769b5ce4244f28593c72537936902e7a82717a52d7d786208290ee8a879ad046ea9c1b262e5a7d3ad4a65c6941209ca271dc046e1a7a3db82e49f114b1bae1a42184db20e9db10ce9dc744ba36d503248c07d35a74986d89e9edb07c4bf5f75162f368a612385d12dd38a49e238ecac92c4b367f4fbb8d075a3b0de12862951a6eee2f9b17683307de10720eb69786dfe6dcecc25b0d381adc4ecc2b4af518de1e42a338f3f14a621041fcd0008d00a9ae9d1273dac751f408291377d0e7ca37cfd03660b20b1915acdf2effb8d927b3d20573a7587ba75b843592a5979712487d661bf36f3f8550dc3c75d81c09b22d4c86b01efe1640af4bc2b7a48a576b3dd7e75ace2efb50a6cd3166ff9da911892c2bd9dc7e5b96964b6a9d55250026f80b45f48bed9faa33c82154692f52d9780a0a67dad8fccb4cf3fc2b1bd6cc1918f0c851fd2e9bc93eeec1f04cdb030a973695c1c866266a7406b362a03df1e3cedfc00b318d2794a09f5cb722187ad28a3f086b2f783cc25115fbc7d92ee42cb5e3a221af69a0da32d8e8437c156446661cbe4d479d8518651698f00be62fdc2fa86c885e95767a7567b4e3319c2b9ee0c0e2849ae6db6e85511e2cb10f3e826ac630ac10fd5cef8e469857701d229bea20f48fc220276f92c0a2414a7e7777792ddc55cf7dd5038f4f4dfd1dc224edd4756cdcb4b93a6aeed1cc0fb11807226005e85192474eabfba60ec83d13c2c7bbd4bd82ba87ff56c8ca91531e3a212d118a7b290f6287499280ecea709a0b228bf12d60eb549aea0fbdf2db600679c8140f3c77be25099a6fd63ea1633e518f8dc2abc2b24fdf603f55d653b802a1fa38042da1440d115ab17b7ecbc5bfa2e9e24a61ece7a9d689a442e14e1c29301aa2b18f40d1e82bdc88eba4b749eb819a4c0c53a53f23c324ca3874a2f7f746a120ee7c02e55996ba5ffce75861e9e98b99528cb8ea0277eafb5e990dce05b5d3e6e025ca6bc74fa5d728747b586b9cd60d2d1b1729aea3bec0ab9e678076b09dfdb3b5fd964c58328c6a38005325c5ae5e6257e0dd942697dd7f37b78ab38c7f3f5ffc31e379760b1c61a91582424fc169c0494c5312b102952bf0e2eefdddbe1b29453490165ddc3d8688834054c929d64dbd338c8b93fae9e67321a7b5c2af5c11eac3e710f087bf5622a995af017b0a246e36e7e2f7c2022303ad38fa81a1dad300cb0a806a1017bcc94f9a6e80da4bf25616a451c32cd3bd766d9b14ff34a2435a2cbbf62b99853274653e4af5b56f3b1973fbfe87b6818239200e6cb63d86f4dc9a8f3102b08d4d4e0fb4b0ca02c4f6dc486f26bdf54ecc010bfa4c30a61762ed2cae30980b7c21d461b7dad8a91bc5d50f9296f2833054e393def381dfd92c84b53c337aff44a664658a4ad","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
