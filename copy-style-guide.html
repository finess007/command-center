<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0e998306dfe17a3d16d7666df2d7ee68bd69b04fec8ed148385ce1e3702a40279d35e99f7aed67fc35025f13465bbc502c7a0100497e3063844075bcf6b1b569b7dce0c056d7a4c6eb6104c3e5a62ad1f66838569f0324a21c7e950b3cfa294c7087a8a7c786cabfe85e15b2738ad2b77542e9cfbb52f217c841a901a676484c0cf9e412acdf2cfbfa07d304c4ec146086651f93765bcd5a377e99f7d2618fc9a20e46c01a72a954ee53a78e4a57bcff7a09bc819deb54d497d03b0df7cf8e5ff05adf4c9dbba2beff00b15e3adae71540feb507e089495f30e458d6684c008f2993e54b56129265828e0e7dfe7f9e6291b840dc1631ae086842dfb2a5098fa2db03bbfb43d5194193c3730cee93d13fac7aba375d73b9dc1f0ce27ef172ce76111d72c23f9432ea3307d817efaa4bcfde696aaa5616451bdc16ba57d039772aa389b0101aeabbf221e3a5805ac52ad1a5d6597e326244e2ca22898f694d1d86bc5c2e631e429242257f0174eb160ee90060aaf8aa11d5c0c53c474f3ef65bd97c6f2a260f540117a34a3801042510245eb2960c18cfe61c8e19b97fcbe0d31e101fe3bf78304cb568995d37bf20e2768d79e3f47fd7245dbc8b01fce78880bf4c9fae5842662eee406addb18e599d9522668458ff0e0b278082ae8bffebd40be94c9014a05682c108e8856b7dae8788c86a3025a29845fbdee8d7fe5d5818bad4ded930102ee2516e5dc1bb6306579d38d201457e8467dbbe8825aa98911268b07b5e68bb715ff50e68ab0ba349e2aa5365ddef06ca13fc26d4838d16bf24f0f8b3942b84fafcf4a57aab5b6d83ad87aec12854379eb8280d70d97d818f767c54aa8909f104f8f3836bc89eac7f89db9712cfebe7af4dc5d1dcf07546483fee7236d5154a3d90f8e7bb3e7dd7d50312d5fb0a41ae5174d4d93b1ae28b9ee28a4d3598d6b8acd4e5088ed2ac398018ad0ec6c0f4d0398f12dd9e50657e8300e0e578be18b1aa8fe6927144e738923e7f9fe568aed593e2ad999e099b757cf7a74c5c361dbed181fede71271168dceed6d2f0562a275fe7d655c23eac9b2e68fb403e464b3ec71aa79683bf3257671d9a1d1889ad643e814671d2fc5c2343ad0de03cbfbabad8cf101e48f7da54a7f388655d371c147294441990ca7041201539b029916292bdc3e90b43a54910b10027269fb298d5fa33cbb0a1b1833832c7c60ff5c6d41beba9d2153d359539904684370dda10dde5b0a501bfbaf83b582736af4fe4308799052532d4d1f6feff068db38392227c812daffb315216fdff7b7372955f10e421fe111fb3aa03a7f89a2ebca47460cce46e3369fc25e87193a1b45288f7b057e6a08d2ee08282660799242fe8a550f1ee41171c4947ceb64a258342d5046061a64b485f43b7611540ed44f4ba1671d9b3176a61bb68e3f80636bc4bd9d267e2273a502b7a074ef985e2e286ad2b6153a73f2fefd6fdb90dabb8d0a520cc2c0137975f1f57ce6d6df9c540c2e039b7ed972dfca1f4c0238d204689630577bec8179cc1e8a86504b5edf17069781ec9db5605d53e2448f056fbbb68da0232d7395b974291fd3374ce72f95e3246e197f25907f19436d4e9110edcac74e5b404a063b8f9b306d1ad60810ae35a87e364af1e41ee6b00e8ae173906d6c7927adf55b5c1ecc8710e56c87e3a55d072905ad1ac709d4ae58632abb1b8e2fe6bea48929d994cea50c4bae5e975de2939adbd4c8c576c4b93c6decaecad09e9861e5eb1697b6565d77492fbe3048359c875074fc1defad58bf03e2f78bbb76ffcf9be66b8f02f5a4e495a665ceb1b905b290edcd6843cab966f7b29aa79adef2ce2c82b7a0b9bcde64a692ecd1ce6012dcc078e6d19047d824049c7bb859eec8a9fbf3d3eede1ae5d982ebfbfb3ce60288fcf879a490eecdf526ed73f7aa5bf008ed24da98198f2e6570399921254a8d569f0ada2e27752830bfb6000fe832e4932dc6ed09b7efcadf45214c7d3a7ea9d752494bbea6fd5ebdf2950426597d6b0237cf157fe0908266c276921f51a5116aa2107b02b91f5eaa3085ebc6a616f7764937b3d821d3026498e5222369dd9b16f0c060413849ff07ebcb14f8b098deef4121c59eac8271acd1b22956d1a3b5a51ebf45c8610f71a35b81ab3aa5bc2edb685f033109789adc24d8aee312c7a98d88ebfcf28b22959f28cf6c3b85c994977d74721b025a6142d15d14fe3b29eb1e9b19ad66dd37a686b86c0ba3dddc9dcb2e27e3b9ad115bf72f1940ba92ed98c18d1b95306f2f351a93f7ae016cbdae23511d3cc2f9db282bf7cc5849beb53a444582c690b2efddae133ce76fb478fc13c01baaf02c734b5e13bd528562b4efda61375e647048e74fac7c18ff26ffa8183b477366bec2c41c46fa41e67fbaff205e5875f17c2647b025f4ebf3dc37ecf3e78c315140b7c74cf9563ecea22990b2911ec9a64b44320aa9d45a642484f4cf7f1edcaa8eda52000efc6e296c66327ab8385d53eee96dcd77b1d749d1d78e4f42b9ae1acdc3e7d5a8ff3e70303f117ddaf726aa20d94d813baa1a65a043a6f7484b679198d23750cd3d582dc360c79c1650fc750f2e6121a6285f734791c3b1ab281e4acd1df70b082a6fba82064897662765f6af7349082f0961b99cdd931587d5220347e80a1e41744489b079592fb5a4569dfb325ca683383371a011900273683eb9bd75b8632266c0553f8b02bfd0920c65de1476f6663bf2bb19d34df02b9fbb04a5e80c1a490fd975835e8512f8c5f1f6e989e2e3dc213dec88e11f1279267e3eee87564c5ddd25e2b8e1bb8a2d53b74dbaba24b856ca7bbcf66507acd5e496c944227dc7f2361d653a1568cd7cb3a7dcbd9dc51aa9143b8fbdbfdd847d11213db9641a5b12ceef91fe4d99f0fd791102cdbef2ef17345d502cbb5d3594c26b6ec86d2f0cb013322fe5febbc55b5e723287002d3fcce53331e8ce156bb737d886d770faadec18804258dd47f60065e96c235d5e9f4a631972cb58feded71aaec8119ad66bb6c14d23d420bc0d2b5910c5d67390fead259b1202caecf32af6e65f67fc465ad3e92fdd9a3081c6818adf28f84379f824e3cb7012ebb4bf83e9c52989ab7cedf697a479f430836252e19b5bf52305815f75eee38510bc933b65bd226a19eec195fc5be1121620dafdfcd47f3f18a49fa27c6ecdd4469b082c3742ce71ca0545a1e36f575caef80b9a60db2f7484f169631817cdf4c5e53fff470513269c4a90f18d70c4a6a686ed9bf0e60077bad3f9fedd965463930d0c5b2ce2e0716ec9226116e718619c4465f97dd1d8ec9a9a08e9ef31908fcbb881e74c6b67f8a959d6f89a965cc396819b082fabc593ba17dfab55606277f45978ff11cdd18e744dd932cc98ed7642e8169c41a4e88d6c01027d5a4f2e3e5e58e213a863aa3cd0e4a080ee1ae0aff5895193571266c27c065f74ba5d2daa9d60249ae967d3a5c750ea4623199d449827f31ae7632a6bcf7c80afe70cd1b5e2d5085030a1cb5ad70c0a3d810d8ae3f6c44585d8bf004deb03fdbb0d0aa372978e0b3e5867cfc6fe748fb6c8e6795df4537f8aa6b49d87b2bf2b38edb7b1e0bebbe379054775130c70b24dd2e18a3b2924a45b1055446b1cc4609a82217d0f0c620c7e57184d880d9a9a566120931834eb40e02eba3dbeedd08aed1627fa4a124dd1bb0bed363b000da3ee34bd3b44b50b59b8eee5d70186b32d0b7aba21475b53fc36611c3211367f76475448f219f05f48cf86297644e3ca12465eda2e00782a711bbf8fd7ed62dd3f2ec7a0e7bf4567e1ffe1eaf7d6e988cad3f1fd78b8d01b53e467d12c49fdcf90daf4a60de1dcb958449c9c65e3c09ee7896690b7336aadf0d4724af5ef7183b878b98d224eda3f38af2bd422aecdc97fbf5dc9c89ad8627fbb08b71d3e29f1e2f1afbf69c7cc739367294224d5b8e63a631d3b601e02ebd840b708c25f306b4753a5c4420c116e6792d1540fa61d65bed0d2595e43144a4348b1103ecf1c0b6c9a7230847b647c2727cc692ed03fe24c9e9fe889e1d9a9467cb882652aead7655f18a260807cf861ff6767c52598d1826b624edad26d1b2be55efe3b23c1a98381ab74efce12a8783e874a0cf0d7592d04a4bcc200625c3c919701f3ddd42642fe6bac59b934cfb21bec85dc2bd9f00cacd683a821170f035077924f7c49e7848e309b6e526944a6fec660e37b0a0d9bbcfca5e4506d8392558acf56ef61bea7a2b890a604435888813b2c315dd89ae78ec01e4ab27a9356796098f3c402ea0d1dca71cbc0a5717d826a8274b4d63caf6d8a519779c95a2e56c918cb4bccaf5a75f41b146540d419acca6d45e72e351a6ebdf34f3d4b4eeaa9578aa425dcef9e2b33d29028d0e5795e825e756bcc49628768612c2136ba7807177cfca2cb8ceb3d73bb2a7f49e3593206f417df6e1cc6479f2ced199de890b176c823b4af37b93e2d5576e7f99c8ace25cfa0dcf2d1ca0b1dc80be447aba09c00445dbe836e13cd8d4fa174439f1edf992d91bfd1c546c80d1b0305dd4b1b10564fd2f52ed58ba3ea8749f5d370a5efa55dbe745883a11660cae953d1947ed2b6398dcc9bbbc1af844f4fdf63472d7dfdb2b02a86c46d1c8515a5c67af82b505af91ba809830a95d36f0569dfdc90e0bec64f4d1beb827e9dd2905e10264f4e9c0544d718f41ba83956179d754d82f92f14561fb67f65414fb7cda24ca89c0760ac1fd5b85d8f38b008f7a44241f5e69e1372bb8023c89a848b832ec72614fdc785af30bb8dce88ae5f1821d109a6d7886735b342e92a4b87eb3a2af8e82b039bf29bf6d1bb937d6582377c870e93bfcf111188803f5684bca55c1494fd83b72ac88b5a0c7ae6760cb9b045e7868b0944c904def05d114def7d41812b793fa51619a24f4d553fd5e4ffee698ac6254e24a1fed2b11742f5f2304562cb452ee056fc71c7ef56833a377f2a4c214912978ad7a899fa16a8ad12e5d9d8135e6d04982a3e4debdcdcbd24a047564ff2b050f463af204a36a2485c0a0b2508b98fe33f75c53a6943dbf03f98480e56066dbfce84d9e12c3d5865181d13d1bf75b0511b2cb39e872521197d6ca9b85c834cb0bb5ac80621889efa56ed77fff58d4132b0f3dcbe0b994eb2b986ae81a1100e3884bb7832e4f984dfaa147977edfc5052197ea503adea5bfd76ad3be836cd75f0c17c89481fc91a548a436269e0e4cfb3dd6d2bd900ba7f1c8da0822b9d2ce631640b85e91f0054f4c33878000d9f1db464ebb67f54deccfb015bbc6ad7307113846264d4023001001e65930ad17878e052e52b6b30549694eb634cc48249af389f22b383203d4f2669f9026a1c4faf8db9425beb799e1f648cf84158e146ed390518ceb6687e120b284f26e6561b0dc9a6d291125416fd8c833b1bfcb8761b87210fac48d8216a0b11b57e975752a953aebaa6f898a16717eacafe602da1de052864bf1f009eb43f08c633e86790a1b11d6cab111afae88fe1f96bc562e5bfb57cd7ed498affafdb9f05e70c8a6174725f72af33a4ffe147a86ee6ecce388e3d41d792de15ecd7db5a6000c7434abf7b29c18a87470197586049b6c86d533bb02a9ce2b0335d092c6a833d9adbee0dd0fc32b8ec002ddcb193e47eb712d4b07c9dc92c5736e5539e2f426ec430075c1177251c9bab164e6fe5d0abc9b24d3dc94ad531abd90dc64010b6e488d03340afd683a833c69ad2124ac884576b39eb41b8d8545d239760ad5b16807393ad795214e4d666a948e093581a9a826a83be1207159cf73ca8f59d8622acd5576979a1cb5960502ff903aabe039573f0c60120b7ec39793d46b8a3c606b69f09e44d35f80556594a969f41293c83cb72c9e956b88fe18c0ea6b788de2b0dc0da527db527f810e300fc9d53b03c252a7b729cbfe2fa982dd314221fe5a86b7d4c519793ebdb6a79557d5cdf2c45a3f8515507c6943871c69032193d3808e1637b5e46cca6e72dd167d50ea991c1658f8a3b95267953f7b18ccf7095911f33f77670a3e682f5068f25f9255d25cf0c8d5db491eefef636e673f71a9c04741335f435a4a31a364f97cc216a2ffd456565d09062b25a1e02c9585923c2614a98daf0163c38e3c70f581401a77c9578a2f7c0b437372d73da4b826f105a8a69b1c79c3799ea0a068f17acbd2ef0b10246fdffc0905ab08a7aa23c7682aa458d3e73400cac62a149f5a78c296be75022e23fce7d11d13ebe52948a8068e168c7d2750db0a91ec42ff4b5358b984135ec187ce8434aa27682ce1a9e69a997b50d9f78d7677bc4a61623cf9dccdfd5a6f906b255430177a5f515d6b45d2e3d4a4dbe8118e8831629f84b9b4c55186d99c5ee6c95380b356c4d3fdaf284103d55c51c7c8849184d0f5a830fe92c50d4e2f225558a578d20f4edc0f2cd7517582ab0dadb07693882c764eb34a270ed4e9e2cd5e29ef4f10bbcb3e7af69f7bd4e3558e565f9b80f56c8336d0380cdfdd141f83615078ed1afdef00a1cf4465118b4ff9e2c866c9c6178ab7979732966ee83977c0df3a8743ccded4e21708eba19009193be9168e7c472d4050e532b4c768ffec374bb971b4716661b84a649549c9946a4dcf509d3b415adaf94887bfa889448ef293466b2869f07a38c70a090743a17bf53792de22ec0c752572f74bd63105db147a3766daf5b4c98ae28fc3e8627a19f6cfb7cf29520b6b9f6bfab5a28fc202427923d1fa35521f80d0ad4e4a0965ae00929744d87e27437c3c65d1d294b231a3a3f4486f94ce194b5c68f537beaf2b8ca10e739bfa1c1032276f139996b1fb95daa84a95b343f8cfcc3baec967eaa21e703a130b901fbe365b7c236ed1a62465681a140abd117733d4b034e6cb012a48d142c8c13c2a6356ac2ede25445cd6341745c1857421abade70523f93ca46a8a0ca8de45c3fb90a08ce8138dc397f52ab16f60fa3048646ccb9dc81534841df0dd7defb078e308d8c7fca0d4289331513d47df0b2f2a6f1c128fba1e13d7031da31a23e19423823df73111d931ae1332175a25cd16629d507d25ecd14e9bf2861583432e167b50f92b1744faf6998bc5c69e11d0f3e3e557510277dc1f198a4a75f1032d85a42cc8199dcba6a77b8edf8f0328a7fa69d0957b183cc709196b987e863ba25402b3f13cc3c41dca3121abdb14dd84f766b6166325133a052b38531b990c73bbc404873449d14ffa4742a86758f6a9a88813b37ee9531355077dfcbaa9ea3eedee863c6a8ba0a4f1b6fa8dcf79ed78ea316187e36983eac67e8fcfb2645f65afc25843d9fb780dfb8e47c9f91fded36ef2e5ccbbc5aacbd5977ceedb73686929632bcebf65e015b14b9863a3892783c6f32ecf45d69c5f164862c1c07366c77e05e6f33875d6f0a0bdbd0806e416f89113f716d9370ca2ec6d763c6a71e9ad37f21dad6302e055cdf475e889252757b786bfea53fecd251ecda8c971ce2e5343c1656545d7fa5801061573202bce5f860ca6cd03d1a9ed445608ced070e810258f339611eed0daee255b12588e79f1b5e0a7fdea22dbd73f9b6518858796f9a899398d9e94d739af0b7ed9a81be81e6fe3bd9b30650bd0181d2a25bdfc7135af613f6cd3d31f11fc76f38dc1fb0bef3986352de26dd5bc0087024fac6ca19082d6f1fb679a933b8dfbc8498c6845cc869a88a085da62c7d983cd35e0b1df6a3852d1be23122a7ed90dcc9fd5f7e03b55aaddac57ca81a13239265821b705c0e5591caaade6cf3e692262db0c39fa2637aad74fb8e7a15835dc800356ff0cb6378b883c2653925ad463f48a7004953a2271ec3601c12743144feb8cfb020c309f86098ddfda0712a07698b6ff837730856ef56e3ab837ff50f528db53f918138e13830e9ebe7edca27da65ed3848b91a77fd991795cf0ab10ed224bd6e6bd8de00f503329c17be86a1fed44e5a5c845cbcd762776d1e01270ece983caa19b36ab9df1b25eedc0121af5eee6cab8d1854c80174a919cff72e33359c2d1624ed4fe3647e416e5d7564689b9a1b1ee79cbbcb990b079a084a6e945fd6bb67cd7439a4e67c81a8c77aea898376017804ef7864f7519e2fea96d8e1168937a83691906e766bad962c961aa7d3f014a3d615c72c978bb1c6d82e5f2026452add3acb6707ee8530bc3005170135b9adaadddd32d9a5e673629c3f7b224290a525e62a58343841c0b7b12922ac7a32370224e12a420279a449a3bcca7aa9a53a929cecfe35642b20a89dc0375fe27ee1f142b3066b3949472054e4ac2739e1d33c3351c9982fb227a18981fa26028b5a6e52b1a7a8fa7eddf0c63995757cfb6ead510734c25927b13a06d9348e3add6b3f98b3fbda7159014fb0cd74ad4c453fcc0e481ab805f635532bba276a6703bb3107f460814e14001fa2beab529770386c694609e3e59fa88eed66706cda9eb6f90dfd3f82e131683c7040a4ac237820acc0bfb315c15d190a03d38e5caaf1f8a021fc09dc529cbaa63904106b17afa359ec06da2d9afda4c35d1a7cf180224c2aaad40dde9147998d24301a8b2f97540528d90dcd4f00abe10f41edeef77e27e4b98b2d9d680098424d7a16656b780a265ba318ee98301d9fe2c66bd7f633c45540c3702b37b1582f9b1c3f6d867e7441f02130f1a06095c9ac20c38c9fe144bf3569ff21ade3bf799443ec421ac66621aa458dd7706e56fe103237886c22ee436c9d09018c51e9c22eec4092467ef08bcada1cd9aac3d6d87261779232544532108dfa45adbe14354483fcf95cc06f0623e3274ed6805ee86a46ca687f65a5716423f91cb07b7ed623d8685f2689c8ff981599365c9aea84647a5bad9becd213de8030933a7924a6e382b9e2b0a95cf803ca467257f8bb3e0e8a189ec4d73344f886137e4dc5b28bca2150177defea8a9467cb42ddaf52f6307131914470194576633affabb3d261f139d72b560a2167411c2c6c1d6fe47fe7166fdcddd80a344738c4e66cedaeeb1c24a09e708e13bf1c094de45b27b6dc2b41556a74b4eab5f234ead9962efdcdf27287a96c845730cb170abb5221cac6f30d1fd314f3849d459e91e190d315421686d1e3ea6ceee9ea88aeb3d54d5bd44f0198aca92b3b1d32a62fa857a37af2408adafaa4498ec567cf0944961aa84676ee0ec0b949b4a9bafbd026c30407bfc5d71c0e8f73d3c9aef296f2eb6b1c81e93a4b5632aff90a31e7543ef5f925ec4cf297cc3ca4b02f1857749076280792d0bbe4290b180258975dbf63139d69b446dcf7735a578d05d7bf27493a21e0b7f1aea9b4152acf484c7e5977f75f46f137284c334a8378cf03b0921fe91ec55ae34db8737f45a994f27686a6ca8e8515b99ec453f66b8eb825e613ce2d01300b5168a4e66feba16ef644ff558e6d681a8eca67b6da6cd4e40a0b7d8fb91778ce53d372f457e6da5ea303cbd6dc48751d3bc5f923254f858d12577413d2f954b9536eafaec435f8dc088e6c584bcd055ee70e09860bce77e3b696dd46fb718f30f31e8a25144d801d1e1c2c2fdede8533bd9fcf1482d33e3a4edfab2785f3badf06f8c08d5cdb397079bdd20675d339443070df541c99b126c5a6215ff29954172ff4f096563853a5f353f2f1dd41fd3b449f61065eb0228435af5fd0858687607a7c900237bc2b2a1c0137951de0237e22c2e80e5c3a50c9d56a989a65e5e4bcf28e7c539379281aad7da1899a7d811f2a23344bbdd8361693c3e811e9ac3678ffce364e528347fc0d84abc103a949b3faed2dfa8ab648c56df01b6e7c46f2feb316becee9078a654e25ac86452767544b78c26ac5489438ec443d83f47f2bf3f0d36957ebc75fcb003cb33848ec8e5fdc37d1c722e35b741ba7fbb44db5d9f6c23ee851d015c9a0007ca8fdbc40e9b5149904a22f3c32a82297ed537659cdd11420578401fa3a0320fe5850687695702ac84359cdf6d41b4337e7d7e36ee0364318574c9ab944a52392242d52d89166d34cfbb7a87a433fa87c78ab13283cd533fb09129aa01a0544de3a4a2a5e833ef96f4542f8de0149f8dbb2cf5b852b986f7e39ee9fcde670975afdab0b4fa60debcd06694cb179abec78e8c9edc2b53ef0a0aa7121965f74ad52a0305d0755e89d9fefe3d27ce7b85548062dbf42ff7dab9a5471fcdb672796f7138124342cd99121bb5d66709fbd40e3e5818208923d75892666fc3fd9c68b5f9e04b77a8a6a7a67bd45ab991a254e9366c89ad04bd4cf782f50ead97d619575507ae62e5ceb5846cf18a8176c61ce645f43e7162d12fa37272ffc263f5ed6b5987840e0b78d549359dfa39983e9d627c0b32712332a5c60e153afd6f8b42bc5e890178b05084f5482a471ec3106b572396c4aac888f8a713870d9e688e10c217329d2e5e404ffadedb74f9e0a80f84f9854857439cf283673d54e9789567e3e50fd2ea3158ebc9b11f3644c812b95147ce6c869c18b3e4ce3006ea3eaf1ee0dc62abcc086b7a37cbe17919d93b02b7336181463855e509693c41b8e4e5c077803be516849f1a5540ee4b7527435350527c08ed6a43abc260f5c3ed07c7ee476cb3cbfc285ba655f55951413770ba0bc3902963ca7e22c2131e26e037a1e04774ca81acb2c60e0355edab51b8d2a8759a2ec7592101249f703599181803cd58cd83ac81084dfb917a87d3a632864f55ab4640a77a9fa619096236ca18676336e3df1f5ecd4a384af8270e9084e7ced6cf62fb49b5e8f4369cc4e5bc7c5f3c4ee5672050fff39a1f641da4797c588b91691782abc16c3020611fc06dc2fe31e4e3622dedb81b479894239703eaa715074a7f0dbb2479807b0225df4ee80ef91fc52a835f85faeb859061872c175b4e27d879c8c03994f8f536544304b420ee3bb2e68b9f3c0d90a4c6049f05d8bc314a647d919a1b504900e70bcec710e00abfb68eb08a577c1862306b398a0cc4f356a1900a2f3713733620c1d1b877fe07926acc2570f79e66e89c4649a3e2328809739f1596c42fe5f3a01bf4b078b57301353299f52d1770208fbfe475926811ac4f0064103194145ee39b0e4ce4040265133ecb28b5d4e9096f09c44cc3d457674fc6cdf9ed5b93bf24c3d046148e7da46b5d238bfed284a51ebebd6e2b5cb880d8da847b624296879f152fa3e78e9fb45b2c7f8bda8de10ac7222d84a910ce4bc7a24d63a8d525205c85ca2f6183cb3d39b39b0a5a650c2eaff536094cec28855b65f3c6d93c2f673925928fd0eb5349f9a1ded4e751f0fbb267c424445598d0d4fff1ad2262ddac4e2216e06f839d9b217c5f41649829280a5bc613eb62cd207bb20e7c153a48f7c108256af336348c9ff7940b140c647217a33a98d1f3c2e1c20b56a39ce3b0bdfadcf4744d07dc97594f7c262667bbc9f3dad9c0ed1c5446edac6e4fadcf0d2ee1ef4ba776da3b4702a093dadadbe912dde3306337784d85e7b4fa72410c72fc2ab0a7307ebdf850886b2913c5c88b40c24282ac9fc38d9df0543886d72fd5d4e764757e8f4926fb7c0a85ada84999fa52055e38667dfa13f77ba7684edc5667c68ac7c982ef1412c8c5915a8db5c9ce394a8c66887db9c6ef50fc358ed9ab2982f47d0817e4a50e0f6d1fc1c65cef6498292f7bf08d20260fbfdfeec686aa6f29a6b1ab1592079d97def2a610989c5b1eec36f1b48e739fb9bb4e86cbc33b7452f5a1f27759aca7ef5aae516fed702acd3dcf75e89c9e5f4657bbdd7557ed6c1b0d18122348d83160847561dad7b25fac6f13e715dd8132006ed9b67d7aa0a0c5d1f2ccf63e09a32352396f3491754f169786c822b6975f134a4cb7ded8cfe53ce198b85d94b17a752b037d6b8687d9b90c4a8200499256034ec539e7b83d108924472da542d4446605fd1b3ebc39f19ebeddfbd96933b541ea9a96f9cd3be38aaacb808cba9d91cb039e342bfb013c368b6106ce80698a4c7ae5153b0242810f939fea989acd794420e6ffcec0736a0a947dc53b1e0bcb812ddde344de2f0ff7278f2dcabb833b56aa3a7f818d9fb182fc0b9381c7a8c210311d8145f7e10b11c1cdebd21ba2a170018f480c29fcf29585434b932d2bf9b69ab4b9f1a8b129adbdbc4a2c0b6a9062b09c41f1df6469dfea4a909fe8adf3cfa83d309107b3c390351951abb980cd6b8e75c65dc5888bcf80fc286fb67cd5a280922e0d29d6aa47245a7b09459cf65e0ccdbfcb4f4d87ba6a617dfe6b88c927df10d45491b32152426c3c6fa05e4ceca04cbf281dd9fb639dab3c59445507408c9c4ff478c59ac9516ebf5a92078d4056f759ca8603dee5d7f1b85f70a53455d433b94848f799ea5f32b1b7afbda34e867538e1407e43e648f30d91cec771c3426b372b53e72c0d8e45532a08612cf0d920072a3a20f7cc769bf40b461e55002836fe6f1f3fdfd60cded51e3f21fa2633616e503c01cdc08b28c8083f28908dbabab61ff74297dda61df085d4e7ef7b546eaf3904f6a83de3c08916c1b26c411eb86168817749654f684a64f27de86b7f0251e6b743bf69ed03a4ea7bf1dc69f9a8edb4f36a4c0ef8bf5c034ca981f7be339c1fc9da7ce2aa9540b00dbb986b207a210eedc705f05c69ef76b9c0315b4290624d4aa6e2b8d177be4d02c673227bee562a72f102476e86aaaaa268c00284748ec919e8be2b8fd8c43dfb841e2d9cae98701243c0f5b7f0e41449be9e88ac9606716aad06c54cad5efe9d65dd7072aa7fe1031121f80a34f0706e5914b40178fd3e13ac627049b01c8a5c55d1de966ea4b3e8a149699605d23eb8a38d18efa1f75a4fba1575e07d20caeffce1ee451587fe60bbcae1184f925c50412c6a29a4f2beabf610aebce24061f0211fbe159ce4a54bdab5b620f8a41aa8742a91370eeb365bbdb8b0a99650e1c4f1a4646c34dbae0f7c7d89fe68d21e69305a903e6759f328cab012ccd2a485534e3149b5cec916640e7f8ccb221e08619aac26b594cf0e260381b8af146f06d8c05e3217934ac8b9d5fe871b505ef98873db35468cd0f02a82fb18bbd68e988e60a0a841d1628a4b9d16f662aa6fc3d4d0b2822884a924c601d85c51dc32fb595d828533d74a18ff99e772e93e04d97c47ae81a14de537a09ac0732c77e32c3fbb076ec768454b0b811c61a16df2515fb44305243271255c21101c2fb35b60ca1c06a79a41b820ccefcd79c85bcb2f8eec376478a32f908c4324908b32dbe6b746561706bf839cb61f46a624e6c1d3aaf24c4a84987ea90e2c17aa87fcd493da4c9470954ac91491cc5295d6950927da3b3b0023040c1a50b0b537b466f92b38fb25c9c45714d1cf4aa1d32641c7426d1ac23f143af61a663b7887ba5f604dfe14c0a1ed57a3ff2f0e38634367dbc0e0513fb8a6c9f8762aa52f5e48a89ead1b606244d9ff7c26f7c1671eb220f093bbba3edde92a33e51b79aabcf61ba0c51259624ccaa96bea1f89f833806502de7608d69fda230452c23f14c1695f310fafed4ac722afdc24291efcbabbc1430178f0e5c6dc9bd0213876d35ec222ea2c5ee10b5f7366e7ae157ce19a7c633cccd8f76090d802d3fb2ee27335f87afe6ef9de9a9f5b4fa124fd8543c422e031a1714a77c2e54c1ba031d64712754bb7ddc5f084e7fbd8d91f1035179517c20f55d9b691a8980427a7b75b951cf0e4efe908289eecd904232e7f31cf9e1504d61fbaca568bb6087c973ce62e79741512bedc2301b552623c5fa9a82e7397beee29ed0f0ba409f7e9fa00873840bf7c83491186893c04615e69764a12d6e4ebd61a8d3ba038ffff695c7682e9d2c2102b304297ae009bcc0bb6a14d8af494c5e9b7772dbf5d78550ced565891c781b0aadf1ae5a5922ced969fbf33ba64325d6f7b799d749944e6defcee78243b049fdfd85444d636f005607deac953ae78e823f04a96528b6dd693f182e82cc4ff7e84449d3140efb445526e95ef9c360aadc1f7bdcd287d9d9a8f6879f8dce9131a95c13963fe5fb928721097a501c9d19faf03b9c373d2f4c5219656bb59b1c562176f3cddf874ca970c18532804e2b5846e0446ef0217b36ffd657965ba424b40db39310cccba7f3f8ad787f5d09293fb9860fc064549c4356dd1b2b07bf38d5def6ae23ad09c4cca1b886f7809dc21a2adc340ea783ed67a4ead432fab730909fe1772db8e0ad2b29ab14a55d31f99d1dbbdae4552fde8efc9c823ef259d740dbe34c09d1d3c33068d69bc5d141f68f2e6b23c14d21638b5992e0dab330c6a11453c92a8fc091404021d6ebff1ce04141f1cd0ae8cd52445f07638399ba8e4c8211c4e72b2397b470e938a4ba332a3049104941e035e22c35db6f630c8c5a02e9d123cbc2e724c15d3e3de8a0a6bc322d31b952e50e51d2e0c86d5effb91fabd96fc23e9e217007d79536a6b5e397ffb906c51eba305cffbb81a99ef4494b4f6ddddde8935a5b8804a4e4eeb94703cc6884bd37b00fd617e1821726affc637e70e5e7fc6875aafcde7c6834147debda412a379aa9fc00f7ac7cd74951586c034a8dda35f6017c8e5ddf57725dfd0727297872496b1456c42df597f9fa87bc5dec3ac0353b90563c2440e1cc06a86d7ffe5d8c6853257ac18ac18955e63651da5f76182ae238d4a5a7e397a88117a48574f6de9fae34a8d078379d42eed4e4f86fcbed163383e3d0464efca11984102c0cb4f95a7ef88b1ebd7bcfcd640cc134cc69e11c2faf30f92b03a33f7cbaeb32d757292cff19721209ccb284fc0ef7efdacd8e2ed2b0e6a154f408e2ca8eda90d215e13e7f02d92dd09634dc977be555de839ac04254b44780b037550e63df9411612fe2eccc158ce7b52242969b4917af96fe2fccaf5e925b5356d4ad8761c327c217cac1668728cfa3f4667efbdbdaf3b7d4843add09e91a0d1eb4918fc21662363d029ee198867bfae0a8ea8cbb24bfbbb8e4c12c714aecd66042dc1f3dccc9193e89457436a46226dd38c6b25b311956bee1b145c36fa63d1bc95a90e5547cdad70c282172a5042c354422bf274595a27ae5ba4465880340378c0e521fda92755a592877424de4f8b194325b88a9ea88b18f64b16f1f80aafa7e9098f84dc2e11ccb15633e35db1b7957cee4fd9c280aa352043c3239e886e6469040f65930f7dbefb1901ba646f386dcc0aff665e38eb3b08665ce9b30372b59699595844b65397b44ff95880279c6ea61e075273e2027ccbdb9307192bfb528edce882799c68b387f338e96ae9a4e89672e24600ffed1ab530add472f582dfeb648894f61acd0bff4a74dba1e99450fd5dc30cbbd833744ef2b4d5e741a84696be0b28b250552355662d7c40e9e3d33edcb81fc5cbcc3de812bf4a561a820a78c7ff8ccfa1c4fbe36070839c6b7f64042009b8229926882853dee7c9ba973bd61ed1c06e2314d2649ab0f73d750835f004a98e975e57051568a9d92072af8d888ba2826d73cfc79971ef028b902742604471f3d38e973624d731bdca7b66b8889739985b10e665bc409e7639f94e3dc19df0374eb8c7ce75aa79a55780e5f40208c22b2ff6c9052ffc21342bbb96362e35a41f39492698f0a6ec38e94f3e17a1052106fe2b5178a38640bdaf0e66e57dfcb1f30fef2e043a58589572f2f96af7a28e3b1fccd5bd1ec7b91e552845e7f40433f238d97ff955b66184b57630d1f933934471346f07c80401e8ee18a99696c645fa5e839455db7131b0a2100ddb630e1fb5b06698cf4a2a31141041c8ad19faa89fb72497573faacb40dfb699efdd9330112662cf78d91a95f0224231156d9b3cec1f8e9d5a76fad269591f029202cbc7f05f439ed72119be5d875fb4c932b6d12b17fe2e87626e7d33344b7da85d58e2a0646b6335458d23947e099c5029e0a103e9b0e4d1773d5ae4419e2a78b8185921d1f570658ba441bca3476095ecebc7dc17293f0af7313bab72d25c7af91ed1114d336077ead6338197124f2e3e9510b58dba632bd8430112f020b1a6a5bb2619c8d81b0f8765af6b44ddbe1473e82f541becd89ac2d984d395fb678cfe827ae00d48000d65419ad2525090271314578e05733d20b20ba1a83ead69eb50bdf24ed11f5b152841e39473b4a6e8fe812621b3f7a9a5aba0973930370830162fc29cdc57c9225703f17146b7488267144ca32ae9bfb9004da5719a31c9ffc23d6409ab2b2891354fa8988c03b4ba9fb2a8aa2a96f9a8717d671d5be96c06e79b85a0fc85f426e9ebe2fc123fe99f7ffe66ff6951ea27ccb3e80271501818ad3a04207c8d0368ec16390be4cb67df2697528a9b846c9dff0caad86506d74ea3cb3d4d7fb36597d17b0cce9505dfd7ee04c7acdbb5ee0cd9a4aadb3e9423991502c27986c2a0625008bbec8e666287f5afcb2649dd096276154a05f935b616d562690cc8df6ede07b0c788e922f90b11f5e04e25546a47276faf5b79d3faac143dcff6b55b68df0d9ef8860e7b9aa915b3729d424ced7e4b1f27a4d9f03f8a35d08b023f05c0da91f99950f65c4ec4a874c98d20603eb237dd3f2ea0bdf0407a925bccd85093897b66d7dee2792fabb7cf6bfef14903547e568bdc22e6e83d71b036db2a79f5888e9097b03f2afc418a299e140ec7acd68ffa8476ca8fc70a3786c789a14cc3a7c2a937ad44e097d91912c08f9c610c350b76e802246f11c549a5c11b5371e0108d14cbabc0b005ca658afe8ea9014da06c56f92d71a833e273c4177948c7591be4ba70340d5f4239af874544de0c6f9e93f9c2b128a85fb9f3580bc7e87170c33eccf4140d8a6469a48fc2a41f273e43675c835ce54c9557ad719c60c4c60d7c8b052e214608f7d720cfcb106feb9d226185511dd5572abee6b2472e2c866d49fe5a44ff3a6d9c7456e2ded97dec33b52f11ac983c5e5adaaba87bfc49902ba79931e7bdb228f0bb7b60ace9bc45fd75d14b75f36e0dcea0d2038429c8bf99083e96f93e8c15a7c06afd70b79979c239dc2ec147bc301f059c700290c5faf0d8243f7cdd71294fe357e59735eed523f6570d22179cdfd121605148e499f3780ae4e417dcad03b771e20bbb786ff835230efe246534b9b960f48aa606aebbbefd08f85ce1715a3bb75512ceabbc26c4978377990ca26607f979ac4eeb4f09c792dd29b616fe2f21c69eb8b33d5e1801f681a39ffbd592ad29422733d7a6196a2ed40f3547d6658ad92a5f0adcaf1def9126cc46683b62d8e77a25e72df0afd275df305fcfa16e9ce6a41c7cebc704d1f3b9e97699f616edde5a5323134218710c9b77abd30c3dc783ce96af8155c3e1cba078e865f8c5ef7eeb984c056015dbc8027c2fc352e2287d427e614418414915d42441454856276b4b0e1b7761c38db85445ab8060fa92920adcd0736a38f5e5d88aea050c048178b8f3c35ddfebfa78796e021952f0ec217b8c77b12cfa28220ea3bb768002bfbac12025ae6c5b03969be15249764196f5c5b92f8cf255721465448a80ab9aac419b4ef9ec300afef790c7e376463679a979cd0572adb4725dafb125d688459ec51cf83c432cd9a5ef54e5bad2ac7db7aef2382871da69e2578a9cf728335941d9a041252e1a79df28a240de7e5756bd5119113e659cb70a80289bbadbfc45aa1a52a419bc0089a897e4aa0b752828ca5e5c95ceaf075ea95055f10ce130dd5c91e9c52bf95137d877ddb481b612cae900bcb96b26236d3ac037a125324ec0989d9c5823aa77c2e64f2c4eb2b7d74617bd40f7da3ab132f4403f3d837059bb20b0ff227f6b16331b2f0982b150fbae3fc0373149a808edeedb4d662ecd268f25ecaa0258858e39d3f9fdd97f0e74ca02ea3134d2216d57ddf7734f45cb17aa2da1f60fbb19f236205268a140ecc1500f36a05e8b2bbb61da2daaf5b430db85db07481c84f387898028e0a0fd0a7834ce8c2bec5932b5ce22f1d68ff8944c199b793bbc9b53c15957ee3d42817dad0f54b5fe3448ec33a8d70d9466052132db3768e74210aa657e1412ab2101f5164abd85c96c95ef7f202f612eb9321198c29a4511d5ed66b8e7b901107d0215a4f1e974d0c48b417ce89e2816384d3a7ba6f809b564fdcb574c7b2dbc36238116083764eed4b877e9d3ea8e1bfd0b003a19179ebf58d3433e2e5afc9cab21c94a93df947b0343b6f83f7045183dda229fecebda459ee77587b5a6fb9fde3240f46d407b5a45eeeb3c8b5b92b7f111d322eac4cf3ff3a539e3b8bff16124627348b1f6ed754d715e0adb35eca4c7b2ae7c0b14947573da442e19bfb2f9dabd28411d8263a41f2945de169b7ee6fc570d9a8db7340fe3fa6e9323ae46f3b6b75fdcdf5c131474c1f3bac2001931444dc8015abfcabc36d75100626f52e65b671fe92c08cb6a620fff1bf1875ddf2decc37b47c5338605669fc51ae5a51d82804f91ef967499bbc700dc42c05b98b4fa01c73a74c5a1f12549a565cc19ef695d1d9dd290c5be0c74456303cf04467927d70ca0dde0390651efb9904eae2e8752325a4b6a4ea3d8da251614afa3c667aeaa04e561cd2eb197d2948ddf5c577db7314767d3962e7fe02045a5bc7d78d625a95d85242d729efee358bc7bd78a892a91e7038371dd4adb046982aff52bd9153b27d74c18e3377c0d9ae314fa5fb4675db61f72726b16b02082b96b0045a7d8919ed9a94d809d905935b709e089a6b43795aae4f60d15b4df05b0bf5fd87559911a47204cd069126ceb2233c17ca84cb023d5d7417763171122adc3436c04a2939e962167373e421c015f5321faf522d7bcd7465faffb10b999b7fc7dd1371aea1296a8dff929fdb2aa3402957c064c129d1d8b8db9269264e5d32e94f18b9b51c039bc5a7a5a5ef8f5cf10b5e3fff47f59005f56a65cea7a5a87091cfee72fd3e87704cd23d32e4337f1e02d824d1ba3e74e09d922d12015b0c4d163746bcba5d1810b606eb910180e5efa1d7ee62880368c07a1cb2d234b9b5c96b8d14491a51ef8151c163897610ad9742d35bdfdf22fbf8ab62a8b05d299bdcb6906f9622058ed97ddea0f02bc8d1b58b44ca050949a4bdb420426b1d31c37a82dba2de72f688febb7444aadabf424c0834cc6dc0f73815de41a19d3f96a6aeca44e0c409d9542489a1d2ac4c01eb5b7000f606ef8945534cbbc59562947de19ccb4468f201bf3978913184aa8b3fd80b83a3fd529f7eb162f8084d8b498197afbfa28cad94d9aed5f8eb8172aebd39e945d1860987be8906e018744cb77d955f0a6d3b9c5ead5411cb45aab4f7bf0dfcafa4217d01d592be6c1f96f56f663aa0398e99957614859fe4d3832d9927ab2622a6b5c9b0b0bba1954869d68ef1df3756e20be67a3f17cd96e666651931e27bc2c88f5968849d86bd03f06ade6a30b377a94bfb2369934876fb532745a977f0558343f5170216254ebc6965964369931fa7f82ed43d1659b28267689c97e4a7a6e0975fe0381e4d7577fd80e95677304cc076313f7213712f888a5aad76049da21e0f2b9609649e2fbe17ae6fc77bfea5569b09c5fe47774e99159e6e176941f4b6804f636d0d7308cc28c559d39135f2ccb31ad99d573105877109ae2723acadefd34759ca1716d784aaaa308b5adc5162459ed1f7fc9b2d2bc607ef987a0ad03ead42482c4eebb1c8c43fd1bdcc8bffbbb45b6923347d2dc6f2e7a997f7117b707cd9be048f0169e4f4d73a96b209f12845ffee19a68cd4dc6a6958452dac2da2e35e86899682e79c065ac14b62f6ba8d2445d90e06f65dab5da4dff5392da6a89920fb9cc8c9def64f40252fab57e3d980b2bbeeb4ab52c9ce4180d940389d2ef0fa4757a584b25d83ac8a2b60e29c3dcf48cbd16ae800202522172b72013e2c059f6bc8e66e3414ad1962c36340611429d97bcfb2b70180a4cecee7f6ff35091534eda8a7859636fa836543b20873598dc9a74904b356fc6fac4db0ea40961909e735efb2d6ac6e46161e1a9fd4a6682880f1340aaedbb96a846a088c5a8a2bd92dee46f3581a7f81d96c3f952803c0b8686fb48384ac7d27d921f681a49fecea7b7d0d10cdac1a1a47f13b9f62f1180334c2dec46c86ca3c6e9ee8bbd3437ebde765ab49460e31e0ea1337f246b54d58a71b07338102482e3cb5fe79d7c82bd4fcd701262bfd03229d1ceaa80b538b2f6974946ae882011ffcb33de0ae196b6e54ce08bdfabee84e379459f607ae334df93a4fa3ffd4b8db83859d7ac1a2ef9aa42d1af50589bc386b87e3310647d8b4df70582a4cd097a6204b3d6482df4f92f6dbed7135161257d471cd44802e462f403f8d497a0a262d3fbbe8038da041ffb061729ba4ba3227298811b67f0f6604693670fc27681676516140c6c5bd3f3cfc6a3a9af2baa5bc64f0f24327d75baf2a3623c41eb528ca4e30204a2b70cd3864519a35fdfd1763423a331c0cef0b792b5da43d376becd37aa97b4aa037a5c11c42a0f279c1cedc5b394442da8696bb6e9d00b5affe5404c0f6b4c5d7e029f1e77efb2087388c4d2afce5e1b5623f0d4a91192c84341dcb009dfac2dce9213a5878cd95ec8726b80a845aa3a49a14632d40249a0d25f2d13fc68a5fcafd63f125c164fa0e28f30c071d9be3cf8809be1b17f295495f88a0d8c403bc793052b96aa14e631c7feb3683a4b192a6ea5df4e103307f552e0ced9b4ce435b597d141d52a88100ea699934490c108f1f1f4b35ceda84caa664871a9e2296b324e96f4854f6472dba9032fdf076b46d43d5370021f04c28428ac30cfc07afe4f238a7b0f31dac3b74a7349bacc5ac7616721fccc6280005601fad193d581bb3866e18b1425590a22978aa89bf7cc35b4ecfc4a80656edab43c564a984551da546e22bf5b163b22e61df0ad2644e5ada170f3b2f5e7ad9c52b21c2a5bb0e495ab37a8324be9ef26a9604d7d72a988456b80a7cd1bb653ec25ba73ac7333060573c59d4d2152add45f645b1a0337cdf9bc446e194415102fdced81c7c494818ee7359cdc042f4aa9ecf8be02551fde524fec4621013997cca85a6cb197ce83e655afdbeaf9583852e7d25502def48cef833b35a90d19978239af6dffc75aca23af1bdc345a8262338cac1a039c92dcbafb424a72a558144fc9df88830457806e890e265541ca07881386452f137558e39b8df83e9adbec8a7e054d7d73c6bc84591c157a3e938f4d156da1768474b609cd4c8f353ff39a7dcc11b540b12abafb8e75b0eefd447bf781424cf629229c9a9b3cdcbb81612d2e64a71cafe62dbcae9539dea43c699314c4263a8342d81e2debe65a9239c0b58a0f6a806d71fd98cda0bb26d12ab69ad338d27ac5ed217bfd694e8a3713537d3ba587d204646c650206f1d5da27e236eeb919c34980f00483d39f870f6442be188c4647399c4e19e2016347b06d37c63f732eeacc11173858be40875fc7555d59ac841a6775099333b13be019ee3ef705dca1fb34a2c7b05650866bb2d610de08d4d226a1b148509e6c98587dd019175677d930e61a85eeaaed0161e4ac577c8c5949a41f228bed7358112995bdc15fd8bb499bfa0cb8dea3460","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
