<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"084f2e9adaa5520d02bcd5f3a6e99276c182805fdc3c5e037e7dadab02f3977202e8478aab88ef2bbc3e982f01f53cacc36f207b0ab73e3d9a51dacc0f93d8156eb2b441f2da036592bda8011cc9de76e65cb75401041a71215b0ea9a2c19b106937aafbfe83c3a7a6db5010ea57a392046509f62e874626e1965fcc8908b6d56d9e445373c609c449d58d727e6cfb68232d9e877b824f33ba71c1224c5db1f0aab8850db48c4032cd7a917f54fa83b1920af974aaf97709ef586813aa5c947de6b25867ad7955b1c7254fc649d5fb02b580b469dfe17696f08d13f3d9738186995c7c1e9fcfd0f2df61f385b48fb65f283bc94bd45eb36e9c12c1d02b90bd27f3f59d8ccc3361b8e0f5949f0af4230fc4d2fa75be7616f620991f80ffa418ca6eb7a12d04c219da0a6821d3726bd1b91a5fc1f23053c17e8a18692d9817f3b78044b387b0291a2c0e15b78e8149af2d93caef782b678fd9a23178eea239f855861db6ddc4e77acf956b84e451df40ff1203417400145b597b19432b420392428a991f66f10248a4ce8fe21869647be9f9599e51c6651f5c9eeba67db2af2d2a02ee0629c05351b2bcdbb1cca5580a42cfbc78ba707a5807d1c3e51e8f0d512f2ef805944d7612f6d287bbfe0564be13d3fcad6a7e17578f7f5a3235585ee2c220983f828a8ef726aa775eb7f49d54119d8034f9cb8f2e1662edc6ba9b0ff631fb8cebca6c5562721180719148b7a4575d35f9e2689e09c5d47cb83385a4ecd5ccb530aa2d480e9b39cdf0dab5139893ff319d0df46563ba9ac4226e8bf621e4136d5151b374d930122c8f44b561df77393d6cd6a196057d072b9242e4e554edac74910d03cb8ca77036a87342a215a4c93df54fd5af783596087a2b2a9f8666fccc14ef8ed70ff43fa78a65363b2be067b60b04632acb9f3c3120e1ade1bedf9eb5be0e6d0dd16e0cb793d968e3029e01bd1d6ee7ab27dc5fc5905dd87b784443a3c92b911cdbeedbe3de72fef672d754bd10c4be997b4ad44b639ee9350ab3e33c1ed6d4423f3a8b4d1501fcafd5fb5addd25f1cac176a8756766ead3539e26c4e7c40603c2a01d181cf255a2137eca94130cdfce6f765ffc4f3b97f875e5a8f3850336b0f806ad39c23f85c37c09aefe8008b3d3a8790e7f19ce1c1f669a758c07f340886743fd1a8b95df7d27d8e8a07dbed751799413e1be791924f443a4bd14d88523c88fa2dd1c5f428da0124a24ef89ad795c408dde1bf416bf59a88e6ad4b3428e933bcad2c9e279ce07885e0ab793e3bceec4baa9f5098b49d47f4d071b9cab06b1134298270eca7f0c666035af498e18c8109b199a68b68006c4593afd7f507e940fe91f263f04dec1c5d425905cddbc7488f16eec2a063a6e85f618c63e46dd5173a3a0f7c2e38044a7c7ae8d713d791f78f478eb234bd0ebaa61644deb9f4b2c70efb0b70f2ff3756f627c20278e969d8958f56fd0bce7aed6fd6d0c495da7dd55065caed733acebcf8b914927b8883e7abdb1a4478d3ee33647a388b078e3688e88efe7e20b33a88d9a9ea24696d1611266ce5e1820a8518141ba2b89ac25e4d120b7ebb8f87d4ba41b54efe2e6d68b5429e6a8ae89f3ba86f901aca1674cc29fac4c89d6a7c92d0595430e7c9e28aff333ae8955abac8099c4a7946ff1f563221915307b8610b5cfb8b35330fb0f9dd4fe53c1d2afa9b3dcd64599d6ef76ad41d2123d36343fca6d3ac643a21891f5ed72da3b419668cff216cf6b4c147eeb08d1b4a5490a16a2f39705260e11bf28f5205ca0b6df5fd2809d1341537b5d9d2169848ee106571b1c03002da9f8453ccba0d8d51944dd6d15b1c588823ad70e62eac9a280b82860ee573d8ee2739c16cfd3212d000ffb83a58b5a00d973c0c084c7dcb770cdc72bc70d1fc47a166bf734e30de04597aa8484851e3529ab157b03b5cbb5cf8447b247e258c028a1644b4a52882923e9546f8d930566ae4ddabcb97849a759f7916c020b4a4cf4fb6b79f7a0921ca01d8e72b02415ea10beb0985cdabef6bbe7fdf6164e66c18a538ae5f1b3b3658e7306dd16c1245978cc3c9c6750875f08754080b83094c07b63d38ada128d3fc1b0e1e751d7b605cf35aae5b7f69b3da471859022ece455874681e520f56bf96d8c9ce80fab5de567ed8ec638c9fc4bf9ee619ed406017f9c7b6f20500335e434f69f2d5308a8a60e799ecca40bd1401efd4045b00406baf8b4fcdb7841611449ff032bf4959bd76ceee4cf0d15e4dc989211f8ac1432f7ecbb32d2155daed35b5b7305dcdd5aaa2abce7ee33208a7c2b0e126318021c38678bdac93921581e754c5b7a63ad050b2d8752482b6a7e4fa65e65da8b4c08585624320eaf48995a33d9e3bc3f96da9edd9d81a49d3b5cee33fe4f826df037bea0a4831e7c84031c359b34f5dbcf929b0a50caa13524e50d89641ba49158aa46df618d6ef3b4421db49f6f766c11925a22d66504d7643de14017bdb50fc7c4ce7c28040a19d092069534c5e7a7aceaabbcd41ade4187e6896e352f9eaff3fd5740ba673810867f00055d64cf3894e4aa4132f37a023c872fbcc4f75ff98978da7c2cc1b57d2ff72c8e1ec1d2c791d91de94db34a374b0270bc8b044b5cae8ced2303a5dd45035ee1e7414f52baf4f512c1bdd34cb416da9f454b6b6a4c15831aee4ef4bd90007b9c42aac3eea22b9a2bf9bae8886ebd6e4a4c1311051de8feb1dd5171cca460460e8f010c94521d7f78e038be39899330e9df0ee23df94ab571bbbc592dfab6b2829755c3eecd421c63d03f50a0789be5c037f9a3c3ff4550f49c127269204a85969499185bd1c6bd0fc9d676f24f65961230ed9c6de2964d5efe6b4b52fc57f1c9944abb3782cd78476e2b5cef5e4da2be035be931b6fec53047bcd816acdf6e954d1f111dc9266ebd9ca151c977f7fea5250ca0f0ef2c633e4806a8650109d2c85484df68b1c951f8efb53325e6b9b5e8c8b6972d292a2030d824a5e98ae6243b4336509583fafee80e19c9ca3327c847169c468075bcf84353d0b99b68ca1e798690c28b4cef110eb73e01bc5a4d6c0f2767651bb8a9a51a5a5634525a7ff7e18be54651ba691ac0746605386c914e2da3bce0b6eda9706f4742001c2de2000fa5f90776297894cf6b30f9d03d5f469953e5b2ae970bc04bb4cc76bde62a32abaae1abaf0d0658088619670dcc47f3ab431fb6a5ee6d1a3d62b3bcc8ae98dfb6cdc8e2e1785c75ac7de2f4531e19f240d7d3ec501c3a57dab96627be020a3d507ed48970c05b4b5127de1c0177f69c5a3ba659ab67c9a75ab50d36b1ca99096aba03bd8fadebe18fb5233f651d90bf1c33c0b2a6e51327a20639cdaa855eb137b53a43491865f57de7150a67dac9b901d2777b1f470c0ec08928f8a895469746d12e15631dcb35b7939708d7a66705eab1396eb06a5a83e164ba675f3db3c0dcf7eb76194d3fa21acd09d7c6b1d4867b5dea5f9c04542831c6f2ece2794a90060862b91f471d32a783ab17957321eb140b75c7db296e1e6f4cb88cc0d488585f7152c5e28f263184d8ccb531d56d68f30aadcbaabdbcd07620fe0adb6a762c574b1de0d755c879bf083c76ebb4ac02554e9abb73f959298ccca1255ff94da5b69f67f51f48883b3108773b5b0361b2a45832eb47e5281850d413051561d42109ce05cbc4104ff6cce678a292aeda28c5040a18bc593a749b7b4a86ccf30ee3956b54207a23c30ca7ca924ba4fa23dee9b1fd3b19d585a1b93e5ad585045860763af1df258bb9bf42ba31759165387bc0fee30002269138a1b22d064a212ebf3e9f1c7fc89398dd3fad0c789cebecb8e575bdf586d84021a97fc980697c1f37e621b08d4a19c9414d839bd9e00b6d8ec08bdf529dbb55ce8765bf6c7e47d5345a30bfa86235557bc4a5d21ac9a82f16d62f01f223ede990d24767af8a9fa02bf4d606b7adac023b9be989f6185a62ce1f314505b2e4e0a300ebd629a50f7aba2396cb09fec9376f1251adfc99c5790b65df1d8dcd9ea3b29af45d7761e1d84154510b0e36880337d70e6570318b42556c74c75c7f08836eb151ee1fd4171c7079dec5363039e1aade3c581d97be954ea94601301bf92688b65f45df724f23d76d87609a20ee9c4e20f5e3c4022148b3a1376d5b001c775fa290dbf176c9786d913cce87138fbd053d4489f079fd56f65bfcbd6f88bf9eb10e35e16eb4dd8b971e8b72213b5f21540e1bf9e101b3c5f129a79727a4f9e43f15ae7dfe1896fffc9f467fc4583f3e3a647a224ef696bde07809bdcba3a2db6b831070847575bcbba8a98f9106535e0adca9b66ef0d13deb231b4eeb83f9689c8a7ccefa12f3b18bd04d9e59a514145e220220f03a6ad34d2cea68d8c526e8fdfd978b1b34c4a61830311ca8574e4e8428c3a17eb0c78ed0dd5f7550f21b5399950ac5c76e4bf1c4d69f47125aceb58012587ff9a63d25ae718605742da11fc51985fd48dfcb99de24063eba2406e9d4d23ab5519b98d6d9d12e1690c38d08c3a3e0ffc0f3ef55d1c36f5cdf59f53fb5b4d9b53170113f2dc5611955fbe5ac07523d2f44f6d1b952f17e67885ebbe04dc2a9611c2f1b6c233ba83e723079f8bbd6af9fa941db42ed6ba4ae18f072b655c0a1bcc2326f5737e68a7eda0518b0293a9672c27558bb22714ed72bd9489c3ad01590439086b6aa43bd784823f977491739abc716ee988f7b6ad3a4df83e739574692c201adb5a01a1bd650b8a42e23a567c4eccd9cf616d19fed3a1c0e20273cfb472178a640f8dfc6fec7a168f348dec18fc342c4cfd5e040e8e6d9e50dd32464132cb3f475e7f681ff903ea179ff93fa38787b82858250d9e95c05af3fb44592d2a2d29b8e134e03ca06f12aa9364d9f9ef47df4e6c73a755efb64439b3b4d047280eddc24f61dd8b4ffda6641541f058efe84813ba931c8899fdcdeaa0eef5acfb7096bf3b3521aae004d8d7d8b1e9eb038a66ec80bc8114bfa383442967056e3bcd7e8a472dc92125d0f17f29d20704349fa067cbd70047c4f765606301e6357fdf8e3796a251bbe67fd31f7a3ccf1ed2be3d2fc5474c66d108835bcc23ca8de8b9167a7c7d263564d2463f999745e0fa6e28efbfbb1c57a87cf312e68f6d2ba33c716d6eb249f163fa84f4e3e6e21e4c8499f9e32fdc9839944f1f04fbd7f1608439693bdca0346953572a7daee15cae70de8345a69865d619aa218d64fcba01c0e68cfe197275f058d14e02d05cb40a01488a73b6c2c7af188bcc87be95f2324993adcd4c787a6ee5ee1d6301095da9df563c6796e1912901562bd915945da619e9631c48a1759ed57a92e06d892176b0f423c90a6e698b1400b2902a751db23cd04d968cd587f51dc64d2be0bef7447624a93b6ffb329250531147ae8a5998b643bd7961470fa426a419b1cf280f4a4554a272e3e6b3e5b6807b5a009899f9c9d88c4180152e66b7a23a34608156a09f0822a01aa7c1a9e3623bb4c76e5766d83fa6a1de31c5ed291f977b357227d2fefc698dfc0411c8f816763697fc9d46bbd3ee595522e6af4be9da2dbacf771c3e385c525176568bc553039b71a8a030c4abcd643ca49017a941b0ede3d4d5bf1e1890baf56ddfd1dedb92668e33dd55da3a56062b392a84a7f6ac66e836848bc855acc629d7c56b8b8a26205803a5306a331a3f2dba53080b0468ab92842fdc9fba210e09bacaac4d9452ac4972149f9e24f072c0ff04ebe3bd6a58dd220b4d41d2043d6d666cf41f137c69cb91b32d399ac23139471c7aedc64f5ce6d2bd94836c7a6774197d05d513622b6826a3b51950d3f5235b912fd90b026052017678348c2a05a1ce52f8e904bf348721a9411032077cb0cf8354ce2d7e7654b65a9ba611a4794451c7a07b871ad58578975c30d5b9fd5d7ff9088c070daf02dcdfcc7e7b5f102514f336b9e213422321e1177f2c1cd90ef84ee48b8bec97d7aa5bd209d79448acf4caf4f28e22a9eeb353781ff9b2a5cf3cc551ea425081daa9626212331103d6433f9bc3aa208ff77f525736167231e3058a95f5af25ba9ad8db3c6af7ffbb6d45e451e13cfeee5ea7b97ae4c1fca5a0acd84284e8d1faba4cbc0fc52032a83d8ceac6091a2b46da23168fe8dffcbfeb08d1e967ad9141efb6a57bc5aa96e62f82e59158c7b8dcd8decea293c47c998453dd1d86b0800184f68c8f71b80e673f78378a5f8dfc6ce62437810dedbaf3d6bf2dbeb86fbe8c9e037904142f14f7a51b01904ce222b2b4769a632ef7a9bbc3e70b5f6c03592b36b126c2b95cf209bc1320ab8068118d8fe331dee4734df23057f95efb117557611cc15b0a782ffcd98223c1c978cde274d2881dc49d8658eee5c4c216bfac133c9dfcf6b690e363285f8568f63540f4d2b363884d9141ac4e5dcf76fdcfcc719cf66ea6302cb6fb46e2e9a798582870eb84903c7388063a8e8e01de5775912ec182fe0546d5e0516f7b91620459f2eec8d2c66d63c0274bf8ffa7c5e35fdb85dbd46eca519cec44ac4f56a1c65e7d20fb307ba6ad619a24cc583a91880f2de0fec6a923347d6d05494a19e3479a4fa22092efaddbbbaeb0dd3e855495eae6d3744731f05cfafaa7b12f144932edc6e9e9c0be0c7a4f1c108134fedd99e23a56d9901c6c4176db0ddfed84067baeeb920e883abd0f08dc17dc09f07cf37bb7aa696e7f0210fb175eb4bf42d800ac08b725dbceb4f766028f498ad1fcbef7f651ad42a761d7e35655c8426070e81927b54e9d1071b1a0e9234c0ae12930fd1f696b46ced41641c3f1aad3d1e776a84c5b8a3cd64d6868175e245385216262b2830c5cbb574fc2d200108ef0da4157e39368790c685b55dcf4f61ea8c909d72094a22178f7e302380f01bfb296ebe36b454a4db25a4b617e0bde55fd5dac7c79d1db9cd53abf26b0e6a51d909d908397b3f67a4d135bcac41f1e579eca31bd4cb7acdeaab6cc2ccbc1028cf6dd6c335281a781d665f4bc077407445212267440797d715a47adbc07d60f86197cd4e9fd1941aa546208cbfbbceff18d0ddaa6f37137fffe4d5b05929d27b0cfd5f957b0e56ef8e8c4c79d85f092d559957e97809c649ee91a3217cb7e287a9cb66367303dd03f7fda0e487edad6852749d0465359e6b570d92d2938a9d3174aff12155ab1b12f434b1a9695e9d1a0c623a41ed566dbe75efd466cad0eee8d6b6b58bb8b1adce299c543250f72893dec62330dcfd4b82010a539cb79bd442bb406b8f1655da3eda78da6a101af1a6aa7c0af6646df0a43f832b89b91e5fe727e7814dbefa78f798e97266b21eb3f2fa5b9865d7c1887ec97015e33a4b6785be257561ac0021246f851ad5141cbfea1eaa817fa4613dfeb3d2cd4b89f4275d2e5eb629823f9d5057b1147bdaba422700608d66c089ab4e6bdbf627fad0fa16f6daf3981734e15345509f402d847360fa45e5367d58af15f52a4f3f0d09421a95702ed73c0a2900080dc1ac0f990655d9d5d49a0cac844a5924d805987a39966ad4b6fd930a143df9f9dd84dcddba98b91d3834ad869bbfe29e58ae1426a9158762327042b0adf2824dc1d729a9f4077715dc20e0bf7e7d23e70e2c3a7600aa977c3e5721ef3cdef5cafa0373ac12617c00068d105820fb6af5549ca99fa36b8c88ee1b0d42131e9fdd00efef4a5a044ac6af259d4fcf8e4e883f2dcb9f1d080c55ed669ad057c0f2e8f77c95db53eabfe27159fe5cad47b1551eed447f321f506a9a2032182cb8627bea4ab25fa1aedae209a1cd5869f77fe3846a19e2cba2d1ac80449589ebb95f34fb1aa7c90659b2ed09254730708d99ad1c328dba0acdda207d83471afa3e3e6e2c2554c32c5d48d78a7c69e4603afdb1bdd18f4d2175d6bd8e915b18fe3d52a0538c0fcf3c94a5296001863e9efc0dfbbc76df6d05e2d626233d2276b99a4aa2230d04a59e330127c2da41a1b30d269e4b7f94feb4957fb862d9b05b453ba1ca66365f34cb75fba071c4e884f6e0b671f0111c1e59107542b05ae6e4cd6a79e784dee236c729383cd3718ace166926d950f74c9b1b1d8d2936e2784aa531a52d545304ce11b6509b523bcab1e6f3e8c4bfe903f72f44321ca468cd50b42e8b97a143c4e5cc93ca78cbc76de97e2d37a0f6fb19192a94ce65fec6447606b7c13f0528a75a2b026599a326f987a3e4145cb03488b95dee35abfa2048107fa4fc738011f345bc70109a270e0476f2d2db4d63a2bd5c90bf5635b950e5257b03a299c3acfab381a4681f53c235060b6a48fb0937ec4e74fb192383f4b657f03dc31bdef7e823f3e7813deaa0779de89b0cdde274cf14fe6bfa17a824a95bcd99f0d9f2dec80a4bbdfcbcba19038bbae6d0f4fdb9314b2bf6a38e0f7cb9a84c9b8d3343987a9950668a340492730f4a1760e7572114ce939639f3939f60853ce81407a71dd3ce66cab8ac55c43ad30d4a689977cd6646169a10bdafb6c5068ec982796cf6d065544864156d18310548f2f0f74991319063ab57a6c39642c944483b29cbad99039466bbf5dfa88b76fdcd6497a73cfc4b84041fc70630ab253f51354bf62ba3aaa4c391ed953447722e0e4815e6df3401f8ec06b9265e788cac7375613906d018bb2ecf08bca2cb712a148654a345e9af84a377b98895138e52d612419acb988d2c49ae08746870ebc3306654bb1b3ab87e2202fb1464354ce5cfd9b4d67ef80c8b24cb64995e5f06aec9daffe3b6d01ca7640997af2104b12dc207a5ee65af781eeb7ab7f4a45238df7a7b11acde412af798500ff408e37409594a79df177beed45fd2c1f8a6f0c68f1642331b8977575e1eda18fc87225a9e57c8356bc1fdc7f70109925173f8f27b1f879f4c14170484a808f693570d21acd0357113838fa770217a11620f778a1fe4ef0e68a38a4074e61d5fb013d6cd266aa9025b23ca2b8c7085050570b9b1cdaad6b7bfab9b5edd26dcd4bd25a346e96688e4a95cb2c2fc523098c5c5d8318de24c69c528a7de8579789ab41d2962d9be3aab039baccd08a008170ad969520f122bbd7aa54d31b6e1f1e6037454d8f9730dad850e7e8b92436217301a8f558d87969ec322594456def5fe72bb12b430810d41c1f696ff9f30390276088d719d65e4fa92229c5ac04670df4aae2918e162a7c3358c644dc551b65941aba6e86c2aedce3544f10761be61667fb9517e4227798380e25987282193dc0274f199fd01facda98d7b2bccf96b296a92de8d76cceca1228882497084b20c46c969fe6d2cadbfa79c882da69783584b78f19e50ef11baf97fe6be809aed4da8dab6518cbe5d55cbf1b2393da07311063c6b104dc0e79bff7861726508cfe3608bb2b65cc254c6ac2eb37d818d1de52599333c341ecd9a3b8e806b462c4208a7721d47a3ddcffda8d6a60bc29504ca4c430a2f7e9f587e6b3e4f9e4d16468f6a3dca1326703d1f26dc291b77bc97f16a4f189780f52d5c11d7f8125fac7ef55acf7af5d7025d0c0cf5216339b5144b48dff2f658ff639f531b1cd54c148ed87454b4812aa837660df4614b28f21dda3c39960cfb98f7be52e15d4f34c139c81d00ba8318317848b34c0578c0977fe2e5fb3923423040315f5a30f754ba67cc32bf2f88a13952a60529bfdb616d9935e5df6f8e62e0c49dc120686eec89e6bac665b1c4f83a122aace239166730f5e291e0aaa3846602366be82f7f3f3b5e300204bd1be4d35832659e0ad5d0d9bee1c95cc0bd5adcca6071381788a5f899d7f21fbe429602e236be76944b966c9fe608b324ee06bfc9fe7f9c19284f4034a0d08a2c490f7cd43de4877574678d4c9b9f63f96ead6ce0fe6f59990996963ae16c81fe3bf198775622eb299bb79d7d8c0398f07d76698b6a3d1db071efc3fd81890d73efd54a2862ac04e90caf3322b20e4738772699930510f59d90220daeb01ea99fe33d830da90ada878fc408cb0e3671a14cac1bc5e8bde1f3bd018eb29d1d69863d06892d83a58686b78ffdd01d2eb32ac8330ed70f265486c22934581689b6b695ab1fc6d809fbb0160b57383746e58df8e5fd464546a3d62e762cecc92b5d5cb5d7c7e8005e1773dd6b5c6fc83fcfaf0d4e815391a3d9c53a9384dcfc2533d7a4e002550f6551b87bb5ca391d226cfcdb6d8efbffe31852bd509cd3161c1b57e8de52673fa4aeb5a12599bfc47a113da44f50dc346cf7e63e34ae21a4cc8ed09118acf8f70f380573e116c26db403a94681da41fea4ece12481d15f6e7255f03967919b9c2e4521b9f5f4d48f769cd50a4625f1b78ab6f38f36f6b1ba2bc8c0ceeb54a992bc1d935fd7073e330fad9340c26ffcbca9743dd16aaa96c712c41a3a414f9123e7d21c0fa2438955d8ceab014df58ba5361a72b54756ec2b519a8093d16e366ecdb202b24dbf4ac7a08d83d4c2b7c0e205e79048f09bf4cb218f40453f050a5e5bc145209fe6238d273acae94909989eff0f6ede7de38ca60f6134e070dc4ad5d0bb075547eacca1ad31a1d70215f23eb56e42b7df7e9631a416e9ff7f4adcfab77f5b6cafd23382359c5b393f109e6f0e8139d84233d971c0920dc7eee179a686f8746ed6cb88065245ddb0ffdea9a3287520a753d8cf946fa55640430d99f9f6ec2fc9bf4535ca3ea1fee4fbc898d3199a2aa40fd270ae9f02ba91063ee3ec160ece6c58692f5de69dea4b1323a994f1e437415ff37c5285747e411aedcb8c4af177ce575a86caf25ce60780e7d6f2b00006369b0c0fa5cf05e9c75a6a0abfda3113a1cfc355dcfed4ab0915cf5020c500c55418fee2945aeca951b424a731969ce1c3c72bea6b0545d8b22e0fa67775942c1e915b9e81b2c2a8b77e035c163c9da643ad6acf3a9439a0fe2fe6fb59a69c5bf7d1900406f7c162823fcf4b34d9e782ec9cd0fc3c3d324cb4d10d425c908d75c9325089436adbe01a59b4a4f8263fa1be6e1496a7754965f0d7751d6cca2d739ce64bd63861c77cee2fbe3c62db63c080efea16f23f19eee12e74d7bc1075574d80c1249ddfce37322e540af460ecb911aee730a6042880edabb57d239ab8f1ae3ab153da7c3f19f174a52966686118c5ae7500d69d2fa105bfda30d148987c742cc86119d5432c33a1708aa2e21104d5fd72b8419910f344d85ba5c0571b610a4294cd897a2c7e24b71b4c86d631d2de23ac27162d617362be880e5bed782a0144f56f0f5a61d3c9e8f83d53a5088f92588b1e5a50dff90f4500dabc4c8c791e8785b97647803d6d2dc36cce168b4a05826ca5261b3c13b83451cbaca550e1537ee30ee1f9a8110db58df3614f171ad945188e11171bb1060d8b19e8427a477d953df6cacbdf3b6ad50f8861127997002657b975e3eeee214dc17de91189dafab36532d8bed41b072cdad408d46b610bcd895d23502d7bf89858cc75b58cf5c3d3a5df9b333b5f232b1981f2f78a2b1f48af5af97dc0be161889ec599834ca6c60d6c054f184ce47fd9dcbea0c1dd70df471870afbfba53c748ad2112b944ad78986d547c257c024ecb422ba9f2aa9a7998ffd8e3383d88f36bc110144252d18f5b4b3d09d1a87affe13bd632698347fe1a26d7620760bb790bf3570fade018ef7a25845918f9bee1493d6c05ed5ee7dd6013f28e9cbb7cbb65787c4a251d5550b48945f8b0fd8b3335acfe969fc03fd19df8d29097f9a2f1b012b98c76baf28df46f62b95fcb376981c66f28867b46fbf7bdbdd06c934e7e349e97a2a27652fed1c2663e800813073fc45b13829d60f302df611d01e497a1ef221ad939e7c6bfb39aec534687ea9efbb713801efcf77c015e3bb867298423836ac9f554301f990833aba6ec0d0f4da701168a4dde1aec5a89172c6b7b2dfd441b248fd609f16c8103de611130825336821dcfdd8e941963c27298890032a1f67656867622b3d467fb7e1211933864aeb8fcab7c4c8bce6bdaedb1f5a9be2d5da67cbc314d2dd0c9a8980a05bd29f3e41a7098af63fddf12e2faad53a48937bf44e7ac3d6603ae51a6fd04915f5126cea96a5714c8889eefd66111b45a24b0c6a74c3fde6695981f9a35b99a4e781d7ea43ddf2ae827e27028981b644684e4608014cf2736088bd2c6ff7736bdd863257b3bb1dc6e261f60a193c176dee2e082177047685854d9a2f52e707e23c966d8da61d3df03808f10ebd64363242ade21ab0de3f0a9ee4ad4de7fbb9237d24bafcb499d69f16cd435f71d3b9edacfd6ab52def3162306ba0c39079a13ba982dc14c6817fbef211b47c626e69dc3f10ab4777d6cd2ff23187984e52bad2c6fe0801fde79671127e65d59a6a50f3a21b16ade3e493d148588729178047143e60e4370a7899f8e47dcb4545b981383dece3c64bcb92039c33147b24e172c8dfe75cf06cd69e259a1f9398875852d21c436d57462644c6cb0b17d882178f938df3303f8283f839ea48ecdfa5a23c70eeee0a0504340ca251ff17c3ff386a13aec709662f2235537c268bde2485c34fc44b1bf3fcefe37802e66db14ef783549fbca8a0579e5d3824d2c72ea062c5caf24626993c7298ad68b5bccb9f21e40f677b5716b402cdbe90059ed2c7d812994d1e1d9b3f401fdd256c1dcd22b64a34b33f11df3859f4c0d85fa298a1e39ff8db3b4e0f4abee1c5445c573172fb7570ce1929f889d9c47eb4688979a21a1c7133de9aa531f02fac9e66abf9a0b627a39ed86c32b65540854cde3c557e22274afec119acd60d65ebddaeea5620a15296f52c66e0ce5070630dc84bcf2904fc70ea76b227cbb9ef34ccfb8fed6a7f434eb8353aa31763fb3bf115c66c5a79054df4d78f644372afcf46813ce50290b93a4fc01f64149a085a0f52abbfb274aab89aa93309646e8cf75c4355b2fa03b36d6854f9b33acae50e7cbbefa6a5b7ac3f7ac755d562b162158129e459ea1cd36a843a853e460df6ef583b0eafce2f226bfcecc6d396ac5f29289e10c6998565a911cf46d7e1046a03a9e047bb3fdcf80554eef647b05dca98cb3678aeb23ccff79e1f2201541226d9bd026dbeaad1a3202c557602c1b4873eb55ee9011e33e850d4d31fc9476949ed7aec2be2b7e85c5644e571e3556663ce0c7867e46043c4536bd01a0e9830c3756021e2a0c50d2b0877ea3e34f338ea910f108ada2a2b491c1f8c6467910fe9ff8c5e5a6bcab6530c7430db70a69356014c4933f5f303f153a7a4b14b5cc3436ee3c9f3991ee6467cc9e1d0dad44968f0fa160630fe5aa608b927fa1bda1feba6692e1f8b99e797ac16bf6269ff3e478e017a2be1d8b14b219e1f87f0787ddb17b7ef973dcdee27bb0753c52cb891974086206f3be384b2866b03278868d1683c78ee71206c0e238f6ef7b8cf83bff6f3b419fc917ad613656f8c9050d06510b22ef72997b4b777b6438b6224d9dcfceb7fc29b58b1142fa90bc60d45173deb24fd28497f005484f0fc554ee7e823a866f1724668b11c62d5a7cd698261cd5c3b299cae461094a35dbf195bb98aa367c7459c1b146be776b4c11b06a9dafd1b59c5b05b11446f1ec4012ec0d20f2eae0d3e6c046220b68a9753be4e6133c8b193e9c20235ae94363aa3d6e5c1e2142ac13c2062d7da10d0a8629dd46632e43ecbe7dcfe2a1ae0f7fcd018dbcda23194fe92f99255289a9b21db2fa07e2441462cd4c2957c121d1e8f7b7173d06930e0b68492ba9aaaf938ad4be5662977b2d8042b67c99878ceddf49760aa69a3c1d6c1b9a8787d12c33c0ab26ec2caa4091d0e82f987547b477f9b6ca8cda506b94469f5b0d681e0e81827a7cc5303b472ca8e7a2885eac855dc7bd5ae0875b70b5bce37cb73ba54a12f3558e184410973d40da5793d4820227fa17abc3163d3adff8d73231628d17fad1e34522e1a8137d779df5b74f674506c1380ab92b53aac168749a71402aad1ee4465bfe9f7be1083b9c665026d68d7662906c25f0f982fb8c87e1902ce0f85f08eedf669b91cb283aaa5ac21d90916c1f6bf0cde6a8ca6fdbafcc01e06f7e0455c9bdda550dcf4e522c06aca6dc0ecff27545319e9d826576ececd7c3bb455c6fc25bcd60eef51190b9d54b89e6053d6ef24e7af3f7c4da686be44ba3143eb1846e5a10d841c1c8bbb72cabc37edec93345321dd20272857d4167626b65058e4019e7c3aff66ec30d5ba8c87174009575079312759f6fc5ee78cb3a4c1d65da8996d0de43f1e946a4e9ee803cb5ac280ae833be0badf6e7147b24ddad31a312d1c9cb09d6cd0ed8f8c313ff43938fff93d022894dd3a27ccee8c56caef2a41f18a0a6125d784a0121e0254415d5f3adb61f3ef74321d2b7301247954d252e6315643f187c0b8236ca07cf955616e8689c27ca2d053d20c97e051ce5686bc2d6e0c597d3ef81332c60651ca45110f9a2b12fdee3ffd8f7702396da162d561b609e4c404b5e50d19052c551d37a621843076c15610e291fcb7d2c33e074a3131750c8f27d065cd20cf5dc8153e4745aa330f08e8caee0c9d0cf3668417b641eb5632f4d4206d394efdafc46c2c0c51b9e8225ec8cf4de501310e0f3f3511b34b8971cd9ad2cdaa19ac6a11984fa5398d5883ccc5d734cfc020cd3e7c5d7599224d1884de4e7e2685cc181ca4cdbb9fa0dbfac7b70603faa1b85a2a5d5d62ebe4d41a806fc57be984872aaef034653b0be460b96f61af1d6161ef82ab5518bc23dc685f36d8c67886fa99e1523e9ba384640c189cf07663eb505c8ecc27ad81b8d1f2884a29ae945fc5ec757557c444785d8f5e7e1565d7731c34dc6b9cad68a6a3c81cc2794e350c9f4404e94138c1a2b5b21be4b8aac8b1f35802545caa190df7aa786788893c2119fa94b7ba289497fec396ff873654f23f6d7a9affba461ab47dc262515008675bc59b60eae50501c220b1f0ccdd844849e6f49e6ef2e218b47d091d76ab308582330f01e455ef638a6df9858f504db1e1759e9afecc12acb7915cb2959f8fae76425c08e0c4951f0d906f1dcf1ba97c83d300a3810d01c46d9562999b91aba3874c2d11096d6ee7120c0428c9127149a3ab08963a6234d6cd709d4ff5489e00551ec62a151962abe9caf7b4d476f901d6ad3fc50cc8ad06789caef9e1ac0e2bbecdf6eafc2f91cfe6b883f40cfcc6a9f42f680c1df2fb7bb2002560244c0efd1e71ead801217c8ee8f76c4331c4f35863c3a024563d74979811834176350429e5c173f351270b414f67dd51ea6433d7a300e2972b3fb335c9080d3e6767feabd586e641e48af1df6853df244a0a42906502db3282bd6c8351e668d96c13be1e7703253aff4e755b96561b2dfe04c3f9f907d42c87e833914cc9936b10b92e921988f53b6c518f28f83e0ef5b3f0d16381c2d4303345411e2327649a054e78c1d056853612970663829350e808b6a9b4457143d3b99ba0397356789d41c83be66d692229c907943ca4e90644fca4c2c82f20357156b257031b77ef9257aaf84f022d23c2cb2648a57ca0ce7cb8073c88b949c3501611386803eb6b0220c3c8122cd0abbd95cb2589daa72d95eb8c7a453ea55abb9b9e1df2594815a18ea154970cacb8b45f539f2a155e40c1f8c6065eeea2736f64798e79e3ac0b4ba7986b4421b495a08ccf1dd15e42b56f4e0269e8052e11a3e370e864335cb0e98ec4555037f5f4f942378f649fdca941e621f0bdd0cf8084dae4e9720b3e9c8d633b37e72161978296af8b924e62de53761413a9cc38f88be40f27c0db3e194c54eb5e33c400a50b4baa4050565ed698bc76d7028bdf420c4c5607202d3c12b82d43e0b84f2dc02c3866d0f5e4525dbc1547a8c9f32f6f9f00f3750c930f89d0ebe45d42495ff70d52a8ba7032fd4f2e8db288264b51dec4948fb6f4bdbea47c1eeee502f40c87c8f19c3adc4dec36762615a07a45d21d62f2e38af4ef589aef07b32997cb50a15572a39af905309f7baae0f8a04f0353f423f447f4b5ea7df097c92d451aa48635d33aeea85d314e22547d4d592de69b41c73da18f68388030f74329d81748493901ab58a5fdf75c6bdeb8fe09d78aa98f7f7c36747e0b046d76480a21cf9da60b81b1c519fbec6bb1ba022d093db73a498f3f0adf2997444f907205f83ace24f8d5a0f8533e63f7c99ab40b4f71d73d9ba50c15ff8c35718a63e93dd94fb4cc23f041d59e2b4fbfffa4248efb6b2263afbf176e522ce8b9abe6b4a450b47fcd4ace157b07d8a92025f3c08d61e97a252e5c19095ad75a19e69432cdaaab3d0e9d702b266e33d4ba806149f0b8e74046fd6968c8cc54d92e2bd60747010567426775387da7a2347ad37922a266c7b197d40272aabdc4250648b506f7d6b8262651c619be5dd36164240ad48cef6c9082dc17ea35cf43960f29cd26954d883940fceff6c2f27ab74bbb5536fee8b6d66ecb4ed4c48e62239d8047d2fb8598e799ec715e2a8a3b68f6d0137f84155645ab79f67c53eeea898717270af055693c7fa3fac8838599eae16a1d2df7d1d66f3c8a875f4ba146dfb516ad254aff5cde9a0c892d74c320ae9b366386690a183d06b3daa10277a132aa5eb7ef78176b61fb8571f84be1bfcb545246291b8783d0e8156481ccdefcaea2ea4a984f865901e42c2d7df37357f320f65665eaa27516bc32ca4d5d16d87dfa1757dec92f79d5124bce3c8f7adc336d6613c8a07fb0d08b5d62d5933359134d27d799efa5c175a64c8f7fc7a67e7adeb2606af29b6da1741cc0babebf3634fc0092aa26f5ba702e5ca1fc0b4acb8a4c1fcb0c245de581ce3dedb9aa4e30ff5c2fd614cce1d48e66efbfd2984d2dfcaed971a42dc97a0b687d5f7175c2fceaa1c52ad809b3915011e25e8f6b4c55031969d3840bf372e43be6a996e9f7f371596c7b87a192ac547d5ed124ae49d22731d251ada5a337d70fbcba46850720d5fc3fc39cbf5486d835bfd225a45681a9d3c1ca04a2b42811e22a3c0f4d0eef30ac8032e594f368be3cac83b9c6ccc9b224524e1ffe04f3c62e8c370bf0aebcc450cec5a3d8c5d0e942c37141c0d4d5be0cc08e319314c4f2bbdf705bfe8a5aa3d1e08ee3034845ec809f63595054add3e031ac247b654da822cc7a26b694463dc45017326a768c2df240786dc3d71d3ea6bfab1481868f4cde1ffcdae3b192c3c7fa1f9d00bc7e7dd9d6086bfba7be7bc65c81fb7c8db1f675a84aeafaf404f70712f13472fdecec31c43832e055b728e6c6c3fb25c3302460f2125f86a553f327ebf650d7439bc33a7699f425df93cca5a281a1475439c6c3db7a7ff9ccc29c60bee5a6d108b52bf2597b9891540b7cf8ecfa165fb84b910bf088084460afca7505ab958c64ebcdc4ce93a5cbd112b33f177856409751a5db11dafe99c9f52530241eca51bf20ac1f899b65114595e19d9d78d4d421d219c7d1fd8471f69f15a88eb0323c2909f001a000c879426dd8a7a026485af0219228f92eddb66434ec266df0a88c11e3ad57fec814e9293986a0cf119590310013022bb3198ac1c9a6290c12322594a60f3c58553576161912822a516498ceee6ce42d963f60504caf6542325be339297ce464d92a20353dbcc50bd46e10b81e736c694fdae14c8fe3bc7118b3f0fd168d99f00a1d9c4ba78b2eafebae72a78e23c00bfba0a81c41caf9475acecb3305f9004fe328800a9a4fb100d9bb63193dfc1e30c7f20c1b2742d593b1d1013ffd19a91caceb96e0da07729fafd522e7ef8de022e221ee9b6ad64ab43a6219bce11affc462bdf739e9fff476194135cd07fee3be9592d23e168c42aa88b8833e721780a306daeb12432e354a62ab74e47aaa99cd0188b38ed6769ff44f6f93a321348d1d6ae10f24687668f10c3ffcb4b15a9dff99029372faa8b2e448d3529b80c0269a10d8383e0ffdcd8aaff16c5c58b7a2e0b426b9447af18bc60845e27700d8058291d7c6592800b4a97d89444e6ce0755bf2327a78fef984ea88fffa45d9433967de557f77070633c7c13f33b86fd9ad37342151b2a1f0e378c72d4ea0ec7f143c09543b0108e8f0ae222c14a2cbe91cf59ba1b6a933532d0cd1fb6bdd34030a1dc1082f7378b7a265b6f02df27f4d1c43ad55d840240ec5c2cc79a47cb70963b6479cfeec3af47fd829a7baa680a67e718ce8f9f34800c097c91272bd54f40fccab15383a6f82f3346666e84accda379a1e40f08fdc7dc3cbc880532050feee048cf97713daa9f84249b8fa285a597a090a0b0d1d662eabd0ffb97d93e69616d58b0ce6ac7be67586ef68b6a710ab856a1a29dc45d417503e74f148c0822c291206bbe3c2d3554633e6a78008978b4cb39c5200b333957b9a36e2d3f37ebe8816e54d445df0e5c4b03d09217f830f54d6a64236bbfeb1c890447391fd066c97484f2c94296d72a1105a58f440cf6658468720f45e6c4d5dc10dfe0ec814541774a6dd81876adb0fc613b671a0072a8330d62a0f4c7655056731658d88d2415786e612b2cece6e7516d06e4b44b237d7d1495da31d3e4684d3f1b48cb6dcef5b11d6cb291ac4fb8c1fbf1578e38807aadaf375427a5ab16de59b094fa489bc399aa108a68b7283e5ec749befccd344cc3df723dd8ec5c7db61c8ecb9adb23aa72037dd9417b5af6465e44e70ce681b16fd4a53d1854734506a4e309c3644f369354db6b7ec9016f293242e5c87b306767db6e5cccbaf9f6e32c45fdef10f4122836b87abc35e8413b9e27315bb791c9044165f67f8fa33091a720d9e43cf18b291f7acc2c9ddec9e60e13104bd71307966d84b5b8839f81b33ac62041703bb1cc8ce5f459957da61454f64531ae4f5c382603ccb65ead10ac7f93870e2b6de944c5f894cfb00bcc965d214446dd9fe15006989cfb987455698307b19262884eb67b662c71bc941a6f7581c800f23029fcc445c44a47c9eb4969767f860e7209bc88eeef6d97a837045749e1d09b7d031203b521a8b87b02af18d4d4b4ca048cfc23e9c4a94a44c4c83c2eb7d76504b803dd9664ef7771af5658e5640e24c8829d038c26d32e7895abdd0d4457a1e55c23e2537ac8c82c1716a9759b61911471620006ae0a9191e1534f888ff3a57c978eaf7ee0c106a6a3cb7012879f1999c41dd7ded6d5be21a2f008169a32745e7163ab3670548cd0e652d472ac1d0a4bc9d1dcc457d0403c1648090822e2a53127903927bfe515576dcbcdb840dd7c9eed38c0a0bae25af42f6272ad6a77d787cef07feab20431229f23c6f7b774c1641cb244f1a1306c9e9cd8e31bbfd9ed5628149a9966811df24b2243eb29a054bcd646646767a02398e04647817cf0d346315c9d7bd1a116ad82fe0a3f3fd9a63a71f9f861c24cf433a435d3cb70043b664ee9af2ef25b273214265ee5544f192a8ab7fc58c68cd5602132cf5498d76f085a4cbe64e81e513ef754704a67c3bdad53fa1f0eb437f3f4a806537910405f874eedafd3239a4fc81e5dd79396c0ab499d3a58cf87e3fa26bddbd2745016a7b3ca1fde049deabd225f592fff0b2a7cd0228c98d5745a04c6bf05de2e7cd6944fbf66640554419c75f393c64aef44bd7f0dd00734b34aeef124b0f8d14f3082d0aa5db7664bb44b84b9673ad52e4200fbb93dda8a9fea425e8818056627d261d2ac223154c26761ee7ac908bd61514c1f8dd38be09a9b489be7394f1e696b329a72572236846c320a94f37d98fb9598b4f0556d797e5dc7aba480ff7c2e95dfc9fc1228dda6b3fd688f6e1a10c190a590a18256db2e1454fe1e28fca9c71f49608058a00e0ee1c589d13b6de21151dc7b62159a4ad9ceed96e47b72c3fc806ce89debaddff51786f90412624366e7ec8758904e5f7eaa1397c7540e0cdd46222de23f0facc528d8520ee505a290f4ba1947ea6bbcb0c799ecc1754130c3f6854c0178bf6b1461340e11ad744cf498c0117ae5a2b36da4b8dedf48c469ba7a9c7c7a33d98fa9c241913a4c3218875d0fb4442e089ed014e28442210ca9321a01c656d187f1168af2b6d361e3b8a2736972ad6fe0fa96dd9380959a992f9b58e5ed5879ae0fb8ec14a33d0f9cf53126f7e195da0c60642b6a88a6b9fe8a1c55ffa1105fe342388a6360efb430ff0c1ef9920c194dd7be5373badd8f30d6b7ac9954a7174ef67707b691f9dc5f365c0490e869acce3283521d740e1e7e0722688956e00b7afb3188c4344a5718266321c667fbde414cdba2692e31b111aab437eaa40a728ee78ed0bdb26c1b86650c6983a2f4d6c38fffa80d627c8e6881172c1d1197bfa93fe947626d99d78dbcdbe66d38798cefd4d1759504882624eaa415be8ec48e9d10aea0c3dc16e14043f6e5f3938c6e5bbf9231957fc8797a8b87cb3c473789ede4603e6ded1d19ce0d038784307d2fad37f09c74d1f4a8ec826dc34e66d6f3845edc7cdbd0b55d547f5f5bc38fd6ef518c26eef9afeea9cb7dfba93f65f92e3da0de9fbc4219003292dba86afe105ce0c4a4c90c27d26dae4188d2fd3760621355a9545a17d3e2a610f045d9f5b8fd7c0a4a035e5a8ced7bc250b4175b6c7f2c2b3c79c024a6f806fd2842c666505edf1d12eb1629ca1e4fc0dec239f0201546372ab541acce7ecdd18d645c72e3404b6799f944c21ebbd8b2a511b7fb3c8536dd9a41a09219af861b707412571f628c2f397f4f0949df0aca2471d045ef1069418d33b76f5d8f376dc8dd979e58e9e96e7a7df8b473b8eb32367c440982ed6cf6c761042d2d0c9ae0139e2de3d94b03e5ba625fd4179fcf5ce87b6188d840819dbca5ef0747587c7ef2c9d37d96a1f33aa81040f252cfd5ab962f276a93c293d710525221a57546efd0eb03bce1f7f1404b4d9494ff68bafca09135a6c30ef02ba4b91bdddcc620ee1334c61cd0e3e333569f5fd57a52c2e6c217bac41eb8aac1bdb5409d003456936768be399c9788cca8c2aeb0f427a1aff8a10362c07047ebb20372e730007dd72bbbe7a4c4e0332f4086a68961b5ecfafe0623ad3b58101058da3e3dc034aef4d18a882f7d4f91b8e7151a2153e1ad6b5be6425aead9194587bd197f94f2f5d2545843e68390c133595efb15ede5feacb50aad6d5bef0d51339066f6d38d5c696f34d0bd143f04961a01fdda9b0179b4045f371ba07b89a50ddf97f0410a3d1f31ec5aa84722587a48e0d38306be1ddea9d3f258a948a87a863030c51980a7db3b9f0ce3fd8f1a50686db3e6785b76284accf2540031b53c8d12a4488cfa17e1426187805c9c624e17a750e500602718224939cd3ff7884532e2b7cd06aca64c9e3f32ac9cf7fb9931e565be96616f903b70821b7101ff40de9912d081c1e391f52137d90420b93718a0a3433230c868e8cb7516adcbf23c7f440369282aead42bed559ac97ccb16b17043a9006c5d5d15bd048e806652c433ff011e64f955cc8408c15966ad8598611357a7291d39f8ff701c8900d3a750e9072b6585d9ab4c0c39aaae1333739ed806bbb66040d1730a4506740bac1d464b8a3bed628451ea900f3671e7a6febbb45cea79c308546215cd1c9fbea3e70a71b1135caabba3e8b1e2ee779473cc02648e2ed502a4","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
