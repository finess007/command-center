<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"840bb4e46ff9df82412c886e770ed91321b1c973e5ec6aa2db48d0ceeaf8f6dcebcef2d09b3e16c5c98cc248542189df60199080b856d9adde37d15efbd0f68ffa5df4408feb315bdfd95302150731a3c2973bd167afdcee1ab3c5acf50a4ed1e667a29215fbd4ceae6257ecbe74c38d83407e2ed1d992242b2d5ae8ad04b04a9ac1e30d00cb19a3e12f7798062e2a51ae4c83337d24cedcaea935a45a12e42ce3b2e5e4cc7b25fcd69550103ebc026d51e17f57ab5f761be4b4e019ecb878c9fde18be63b0ccee664b4524e3a3f047bacaff9337e4d13f56890abf854b79b70bba144196dcb12f28fa6eac8524e27c670016b07c4e18de6c5005a2c03ec842639147555b8d99bb51d9ad71f2512195a4db4f93d6368b661dff90bd99295642bdc20e5300878ac297519c7da763e484e0bbca524f899a324ac4d76fefcdd2985101c7a8f92546a4a5f60eaa3376c44bd4aed81fb0d43ff323468ff1da8972680424a3a5064333796df4945bce2071fe27e4cd27a21201a46999f6d861154403023c05ddc46141a84bacf8a90ed4cce1c0a7c5baa1968fdcb3898e7372b630a3cd3b759b2ace2657860136cdbf0bdc8b199d76a2eb55b99aea5b52dbd7957650d56a190d2e52da4d8313eb3050e6fa8a9196d5e4861c354d6b61c59f7df417ea4d0349c0690610940b3eb31629b78049a313265c38b9d632bdb2bface2d176880ec505fc8a1a2af3561245ed13f996116d6c57c2a6ec54ba34901bdca3485b152f1fee25c39deac5d6a86dfbdbc7f11ecc0875e143b9aa7c09eeea2e0c9041f183a45155c6a76f259f609ab647b24e7f6d4c36c4197d1d3db667cd1e414d9bf98bd6034a4b81a9300af3070e5a8928b46a19265108d1a5af4da1f918fd82dfeffabf2fa3309df00e2b4a23bf37ad940f67c319bda79461afd67007ae206c67f9cc04700a9e4421cb56f27b2c954fac610cc2d8f9b2a592c25e4ef5046567033b4990f47e9d6ce069ee2540e301483e70f98b45bf9044e5c968028ddb0b40a1c49281ebe988a3120718e9d7c6ad937f068ca3c2ff094917fc727093dd646b8ea4f456d22ed7753631343d555e1597b7e73cd1e3d5f776abe8aaaf8b46e35dbc702a82a6085b31b5d212c6c62e95edf47290ed55bdac3634312b0197cc733237d9b2a7906a2e00e66d39e0256aca247d986e779b46b18f4a837b88d33872666a93f1d17942ad7010808a026dee9f77a37c3d69a5d0364dc651810f16c42b8742360dab32fff2a07d9dae80c2224110643cc5c4eb367e4d205cf8905122aac62a9af38bb318979a67eb7b50cc49655dafcef8b5545c0267d4cf28fac1d8d47833115274b99bfdf85268f1f27deddb0b333285df09e852a70344739a6407e97d04913457a2adab3ad59fe734861de502d3a22027728eb2bd19dfb752179ca9700675c6a7414065840b6c44765e717a6b774c090fe2d8cf468f5c0be326d8e24fddeb7abb5fde819ab30e4d162a68e1cca2da9d1d78e2610b858015f096b0d1377a7288fcc2f357342381b7e7ef0dfa2d5c399a8c3457f7eb4cff4341f10ad729c117e89b314ea5701662c287b0ddecdae102321e1298eb72b86ebc7fa4e1f5e1458e20ea062a51868e6e860b63989cbd2030ca7c7881a5523bebad1922492da9dd3dba9025cb9d5424ea8937213875bd41eb9e7ed6c54b13e36460232465db4bccea09975575e9381430cb81e4a010dfda985bb0613a6bf57e6d80ab48a9e848e3eaf18bb50b8ac5d4318dd50167db49383043796ce9cbffa2ed57aab4166b44a4a489f3c23cc955fbaae192d0362454fef129bbfc64dd1f07515fdf52c3172ea4d46fecce4d10f4d1b216dfd75ef6b070b5c369eeb1dad0b1679a9673a7dbb25e7457de1843fb6083ef59864c4c970cea668864b48bc171e07fafe2d645c975cbc5d6ee928b7070d6e1316ab09b1b7312c1001d31f598a3e848b19d4a37ad1a5a88812a0a9fa6a497f6d004f6fc04b6b789c826149a73ed4e2f99461c0fe6d0894b30d9b5bf97b6deb445d03a4093df4c8cb1b34cc0208cdcc65196131344563aa5de12c59e1e0c4fafed880a9ba299c130b7a9f2ebeabc9bfb22479906ec83d4259b29322d9a6e7c64e76f3edd1ae8e78322f106129061ac537edbcbca354bbb80c1e0f5a9d9d026f5f7cc9e7606912731dd114b6dbbb0039a182059ec3f0e8b3ebec90fcf76a4e70c905326af5af9eac32393b3df96cbbf7329271c4ea14a48220fa771942576660ad6ebe28951f0a88e24ec03a0da217316e319cdb54df0ccb556fb6eb6f77e8bdf781028c18e02804b06b712bde76c25c81796fc87819d597aaed926fac44cbe986bf460e008c5ef72c88dc085340849ea2f8970b02a09e0ed8dfc6f4936c4a95f50d54b51a4e8d861fbc142f0ee12c2b4f90dc2a49b11d998594ff00280e5f5d45eb009737767fcc68707c445c4faa0941b0d1f66dee6492b82762408d75d73c543f49f8b72d71663b5d6c88940bbd59c3008b77685e1d9e284ab88453f93131db14ceb70bdb9deb82b998ea03b640e67790f7611237bf42bc4a9989f25ee53932e827af1113f923acfb53ebb6fd1f805798e0483737c92802118e18dea4fd319e1dab11607472a0683eb668a455cea323d816b40e471f387f430d301af8506a396c8cdf18848f6d0bbd8bf7bfb0f1f10698a9e5ad0d98181a804a988df4a1b94109130ed93055889eab367205d6bbca4668b237bcbfea67bc49319aea598acac0dee1fbd7861ef732ce09ad865ed501716a34e965af12741b928a4ab8504d4065f98d82fd5b9f4a46ec4f6e0da4bfd52dc8493ee3a0cd8825eb5a8871c06051a45207035fefe4b5ddea1a3b45a8dcaa9288533ceb197090581c4029ccbcd66c975a0c6bda44fe40c19825603a6b859845443bc89e2cbeb34422782f2574a477c25b64ef803f1bbe1b9b0dc84ec0009ac4ba2b0fc055c6210e4cd79ddead2055460a93d9560b4fc50184ad457ca79ee19bf33576ede62a5bf4d724b89509bdb85ad1d5cf43d012cacbed6d329586e1a9773185a1c7e912baea4c85372fd6ecd11cc4f0073d895c5cc1dfb3d324230e3400afecc6d9778c8364e9210950e22c8f057fb14cfd081e307d6713078adb48c963916adc5d93dc465d2b69b310857ef7dd72ca2b6b33b660f314d78312962f6304d3c2b5c12c3484193203ed39eb92c537826b82e3958116ea285cd021a191ba4329c0cbd699f3fc03d1ecd6de55c556285767821b6b71035bb5044e64f3e757f3e465e2cf54177f38fc2c5b75a3582a157696af19108abac648c8983d2ed49b8849bfdd4d979912b5058e823da728145a8e38b786f7e32793615f2296e64840f8b59b0f7e744d1f40ab7cf6523937f9599e59bbebbdf76c8abd6d4d2db8105e334b32df9eb4449a611a7a334b1a67ed77d020f9d5e50b12fdf9974cb3c70bf39011a20d2589b9b7e49ea12a1f21660e233edf73280b0e5d6bceb04ce67c23bfacc0591c3364d4dc59b31f6a536ce57dc332f312d8eb91eb53fd9014d5b41527642b0b8d914f5adde2cbbfc6c413e3d5c807dfd4b74c8b6e30d3f04689703d3f6aad32a8c4ee8557a8bcf94db717ae02e0996f00df38f5851f88a4329945bfa83cabf160456811a5a7fab5bce1c28f9cb45b86ac11909a48088eae20246fc2dff67181b7101e3d475fbb2b1d5d8b7cbfe3086d46bc9a74f9d81df6f3f6bb32293284b13bbfdaee34deb0887d32c14cd6db4e83f303eb3ad7d92bcac63e4dcb18a85f71d3c1db8f1ff1b916663ef2d41c3d1f53ed1ddcc5b8c56ac1546ad9389397b38d80891b5deb4ff059cbc2406fdc0646366572665ea9f123915fb5be997643aa0ca3d61ca2218800810ed2a3fd022190e00fc0ce1414a658045b74fcc8a4670b2b6045d4f75bed57d48c741c009ff9cb92b546ab7d222049d8d8e930d34634d81ee9cfc773c0b584f66dc50d6cbbec7ed8bab81fbf37bd0fa321bfd7bfaf754211d8999b05f70c05931e8a84aaec30960357640c9720e31262b2aaad7a28bd718d29d2b187474e2c157f064186681d6181571c9d240dec831b4795a998e45b117e800d6cb5719be3fef10d40ab1c9ddf24675aaa73924a9e47cd8ea1b1cdadd8cf21adaa2eacd9f615d94d7002a518044c9af73b1758aa39eb1ffff52f160c5997e96ac29bddc05b544439637853c7873806c0a10350115f631be0bfdc42563aa1754b17483b9b765802a939d7ae113ffef0af22fd5f0241289d9306225b744f5120633ed7ed9d6e590af13645932c800a1eba536911d5510819a47d5ccc33d107ff47734866faeca0608b91d86d7d14454c5a1fe59e3fa9117a1e2533a7bf4974308f3f5dc4eb98ff4d215ffeee5cc49c20f59988bf3b4405e7fec5eabb58910226c4a7bfe42755d03155192361e2794539b37cdb1d7c7f56d595a35666997a148cafd7621f27f7f4d343d64b3760acbe34ec5d3036437c778798faa8e82a54ca32d6716951037ea8813a109ae13aa152bfb470866189318e325993ec84cab4c47b1adc697b9c541fac88e194a18b076f985581a7e479dde62363d54169834ff2c9c33897d17a051f1114ce09382d2ed81d79cf2d6896ba35c0fbacf7595ba2896ff519c45ecc18c1b5a8cef14aa0d630a8823a5a94c70d0c270a3ce8f036503184b8928947ac89c5e4ec88d2427cee67bc271f0ed4e3793c6b0e2cbefd6554d10a1b2c0550d2e0d7c7ffd5346579d2df3577656373f202607b45ebf444803a988007494a8884725341e581ac74c5b878dfe494400c4c4f98db12d495371d47d7e00334e778bd7f8d161823543d14bb214e650453df0583492bf76cce63332863acfd9294bc0be19a8051a316f9a525ac7b7cd95249f464bbdbc3151bae050782d57bcb11d5684aa4214cd25293cd903ce8d3a343a3a8ea0bf0e89a33765dc0df2baa23c4cc91cf17a4413d4c218c6fd0edad33e9625c44590796c9aa6d500dc43bfbfd4b205fb2067edd7b5d210decaa83085e4f7dfed7cd18bee6dfa27d0c851383a262356962797d41210cf9d71c4cbe2a7abc0eca5acb630a9c46ba8bde0ceb1ed22abfc94cc804994ea3d83a85e9773163a92e8829edf3a34dd8df02a0e4faba12264b5db28c8ceaa5a029e60bf7e8c20aacdbba98364e9e0258d1e972979616f5ff8ef1a120239deff64e9b116f81c61fc60be1ddbea57c75e4a1fb4846e86cc7265936d6d82c994a72aeb64fad934071e5901ad956080414e609ec3aaea1df7e96eaddb789c8a9691d77be039b4f0a46c1b28754f648cb3e5d1997329ad567844dce979aaf4d185974b5e75ab42e75fba18f5093a36e4bd2cf17575b675d6ecf79544ad1b0e2c76defdcc04b710f676201b03807613cd39caf36b02c5823101d3dbcfcedc34b14bbac24a4ce10b32c2bda12392e5e9e9b1f22185bf8325f5f1cca9a14ecd713ee3bac40e8ec937fb0ad62491b970374443446314237ec2d70f4dd495c08e0cc52e99f70708341c1d3e94196a90ee26a9722ce48cba2d73b507350fc366927e2ef0467c367e04e5bc59cf1486d72705573aa5d22a3538ac2ebe5f2ec747bea4ac3e76eab97a4fbbd73f06279b97a87d49a9ef90b8047e80d8f6b9ecc76cc046ac1634047645f424d0e6c0b07415c900e1611389e698a397346f9066225a9580b673e5847eaaa3c7d614ebde1c29712325bb0c604a4a5a083fdcc6d68bcba810136ff0f2ab7d78d9819d3c475edb63acbfe321217c6783d877b9242d81af667f9cbe416442819eee847cddd894f3e3a3d0363e9a779d174a0e9cef725746df02a713756e5390d102754fdc65ffc6dfbafd04f6ac36d559d282003756957642ec9183c47e4d11c69eeaf35b54ed636721c0004e8354cdb39ad0093218e240a2831d5664b1e1c13292955ff715b1b42c3170b4ed2866bf49e8390cde7bd520299818472ccf4623a2e5a58a5823cc728c4220568de3c5d614f384806974d079be7ac756e006fab116a6f2e8a7a946ff5c9c0db1a17c62f436ccfc06fd528f89c081470979b907e1a4d4e99ff80ff41758150bd26ab2e474e1d49e2a7b5581e2c9d22757f90586d11ec318e617a6d003d2e8e7a2f684c8adb25a903a49eee5ca7d01073eccc370b91e51894756a0352878712c61773877153c43e293a3cd8005ed875fc2d182d42eeef637499ffe313390c634a0515f925bc2f886607a2f411f878e4531615879b29861949a51bc3893ee23170c1da281000dd4b13190132afa112670b81c70db4f32e2d7d6a345beb8c7cb093930598244801d367e816a3a12c7eb93c0417e7a3637f8f10d63fa601cc6a611d6bc3627c89cbb764da88a760c2ebf901255ac0d866b4852eea6d3703efd6f89a6af26f6a37525e0159ab65d01c6cce160355b33c1905a7ac3e41d9c7c948bade156d8271ff15c1f6d59a8caa39ec4a146e2231e01b6e01a38d076379326d88d183bd0ed24771079304df5e272452a8394f495831f72633ba0a534fdb09ef006dfff83c8fff304304e05a6e77b2d83c8a6f14b3c815fce81a24ac826d08ec9fbedae4f37808ed3cbbf009a43328430f013677b2dbd7f82ad73559f336dfc9355eb6ac9a7c4889967504e740b00500d63a25381f9d806cbd6dd1ad27d52761986e574be75b5082aaee27aa92a5063b71b0db9773e7a1301590e78c7286460a4e03800950ce6c82df60be2e9368d6cf86f0a7ccc502051151f647bd31dbd438f2ce78ac21ffb175c1bb24c1114185ce30a24b845f1839bb44c0d8b6012dda888678cd30b5cbb0f9b307d3bc6a4fa04e198ebb3f4e45a8c0bd6b4b15ef8001d64f0285158ccd605032c3ecfb55c94f1c4a8a1667e1db3193586ad5ec2ca586164f9c83f24ab24f50b6738a1600b6ca87b771bfd0a5307fe79789a15bcd678d04985741300111a8d23adea7886eeac00f10b5498622a69d2d4acfa8456901f6b6d763b92a399ff1cff1a28921372f93c7b16feeecfeb77045444288c0815486a3fbca2f9a8f0200195b99e5213d80d7917c5c21febf22eb3ee9e5b87c266acb008cc03b558f34a02635e17c25af13f66d87d3c6d9cd02e7d6a20e5d883f457c0a421eda5688fe4868b34119efbd4167f2a0f96b10e4b29acfb480e6c93c78a5dbbedb6c030399e038bd3970897c9c60721b8e3e07c96765b144cd4bd133f8fc8edca87ec4666b46767937b7cacfbbee9389390ad9ea8aa680879d1a9a4d72161d6a15290b38650e863c52f74b38fb56aaabed74cc60f1ffeb1d4d672f35437f5204648dd6faca43497e7bc2185bcd2d95d97556406921b2c30dbab9183b50c730c4996641e80b96bafe39582e0fd6e9bb61b18ae4e53f3e1c8459198ed2f4338a85f71f445105117114aaef04c6155165be7f668ecb92aaba9f87d79dc78bd759241d41088b0049bf55c8cd52d909346ce8c10933dd25eb8e9d83b01bca565b0fe08b7c17d978bd0ad38f7781424af3b8648925878ef6466acc0bfefe0f508fc86c120d6360d69d26a9707e34b88a84a3ac411a8d23b7d3d6a78bcb021209032aa61b0d60a22a0edccdbdf3072bcc44eb93e50d388d808a47d315085112eb20123d9aeeec171992c4210e6629fd1b26fc5bfd964ebc9b5e2163f4bf064d0cec60d524a1313da4f604a5f1e445f8e2e5d6e3d020912d6e9430da488884f184b1a50682ab6001f9eab9f48b8feeeea2fb0432c9e1df882274c44f558ec6db60ad4a13c6e2ebf3df7c8ca9da71d4838e316ab91ef895ef9c8f5db94eeb488937763a13bcec142823e4c2ac6c8f0f83974fabe60356a2e48105223e2fe41f8f03bb7bc675bc785415c0e5caa386ab74047d74ac8a42b72451f3338a8cfcd168fa6a547357a0ec47e390635b33a6cc7487a82adc0064276e9fa95cb466738c6ff4469ae81e82822374501577fc72d18a3690212656f6ac3e121328611a4331ac92c60d90cda06cdaed8db84a86a40a0eef1aff94a74251db2c9112546b32e028d31b030741a424cc0139605cb41435e0fee4f1cb0fe6d26c08d9780edfff118cd77c21bf8eaae0ef7407f6fa8d06d9906e184527bd037d241de397705f367f3a1d37460a49de6e6078b1e0a1561a21ca4ab6aad4d1ee8553d7f67de11cabdda3521caf312c5e3047c5008da9c05ec3dafa6d70ec343f0306d6b7729e8ab02532c3c1dfd84d5969459b6c7b40b8978ed1c02c643d79045ca834d814c25aeecbd313e14e05de9499ad96859ae0e3aa16e44e58744ba53a7c4cdc825091da084c537a4076796fdde62c3075b11f7da6189450eb7d4452f63698c5fe9fd20d44b6503bf01ee6b397b3c04dd2035d7bd8894604a3e044624122a39b03db1e5ed1e3a264c7a8b51840a8e6ae4ef5fc284dd8136284e85223584cb614b97b928c055ff1524da944cdf02c9f94ac3347989c3ed3cb87895444e7e930dba1726984040f9b33f94c2f2c66a735e44678da29b8b233a3b081a2834fd6ebbea96ee209fc1400c7ed9839ab56af4e164c1fd25acf9bd35d64f75d7f3450d1219ff1e5d4242160a47215427a4c3dc3426d439b9cfcb42cdc75c0f684e512bb2d09633b44de814ed038453b24c35c7d3b54d40e58e673b2b16ccb1f9ea3837e81a993b850ba8cb95ead3f3b3e0f15361ede34a6ec36df5c2f0af00c6915dc0f2ecaedbec1a63f07258567bac59268311fd9a11fb4417c0e3bf70987c503c77b482674caae903129f770d94faf8911229582f14de941bf4f194d9d48fd36fa9cb5aae2abb6d1298954e22c9388471cbc20cd047e3eee99b8587163973eaa79a172ecee093d27edcbee15a20374172761e746d0561e4140d9f5bffadaaf4dd708098b85a9f7ce6f00078673af9dd0d1cdd3f4915db6e5e9c8f8d2067f95a6e63de6afb8ad30bcbf8cc76ef0482309d867475434d373f82b04fbb7ae41e9d510168644d61a1365d65678457f1536e87c601168b026eb61ae7faaf59ed61ad37c0f365000d09b409295b264d3a1d2944d59c436ff4e2d91faa9bcd9d01284a270e21577b18ebd5b4ca0c998f63e58524dc2211e0d6267f9525f36942fd3ead3e9f29f00c3bd3eab9807525c7ad24d0f4dc0773a28db61edb6323c382b992c2ab71dd2bea0cc0ceece15e6e986a9180004c96b3632639ea67a0460c71a3818a4019fbed371eb1c12f8b90e80f810846d774891e946a44dc5fbc67b7f3d46327fc0997c6db50219bd9657a349936cd4019975dacf94739daffaa323ad60715a39079df4d5ce00f458aa48d8def190ddc065f052c1e0bca8ab12cd67506bcfc4ab1b5d48c63456718c8e1be7d7828629e894f57d9cc151570246b8449b4e7f9b3d53a20c1da92e03b691d3206e7110c322fdeb5e17fd0020a312953471c42764d0e7ba86006077584e578e36c2a881fdeed5d005cb5d4d816fea36d48cfc6244b262b6074c52606b1f2e795ba554c55d25e5248b2664f80046a206b2d25c5d39a75640127cc730dd83dc85b223dbff1caadbf725a80d1bb948534bc5687ab62ba5348fe43be739f0f904688f19fef09931f1a300efbf9aeed4ac989dc89aa1b90004e96120d3c2621fde2b1ba97f061bb0e8273da560708302b335d4725992ea3f77bf3b19778e859389f04c6b2694849fd7e19a08854f4ac2c13705a9d5484948cfc3b1db5457e316b84fe9a4c0cd917d4fbc13e22eeaf9dde77811b9fb6944ed96b8d1df4bac74a9527fb53a803aa48293c60eda6c9e08da5bc68fc8ed2f4e85eacdcc8cd36f5e0bab90f2ed3461a4b8ee30d18bd30ab8b5849c540e2ebdf057bd62973fe043ee2af30ed14077dca712fadeb116a0926ea5395cc3f9027828a02aa048f6bbf2648f8c878381be8b82b93872e4ea5067ef9d989be37ee9f91d92b2d371d6a5da215f5fff86396ffa71b79a086a0859e9c3160f0fe738a6e4adaf25961d99c613951a9acfd0d5ac70f6a1c5d5dc7ae4a16366d0164612b7b4edeaa3b891235b221078fce855c37ba4dba319d8d1162bbed0615c54ebe6edce6c6725f529ddbe4f3253ac14961e631ca5c8e271f9bf866332b4c2d81a7717e0e3c456e6702adfc095219d60c84f24ffb3e9cf5c9a276c6831a9c9c06dfa255786f80195c6d67c926abcb120ad6351fd17b1d1bd9cc7b5e78c23aa8e9578fc19516ef1d0c2c41fb1dd1e9121cc75b2829472ab9d9763a96d8c4a905d1b033b06436aa88db8d1250de3900a0717160625b5f560c08900d5afa08f6eb88e967a58fe446d97245411ecfa4d40d2e33153aeed8dcd1e2d9785d2f7e7ed8deb950d393d44f3b2ba9d335ed84cda0541db23330571d814ef632934b626fc7a0a79ee6feea0e4254f98e6de18a3ee97a5b9d93b48bdab7b07015f20fcbc79cd718e5f5cc0d1be9b0c172704cfbf74c6f4caf92a04751539736696954b7c24f159a3f89f4e030efee373869c700a211286eaf4eb03a18f123d3b8f8274b5b132986ab38d99c4e4e965402cdb7f5402d1701cb684bcf4f50835da56353c4fafdbd031632358eed40b2a98c85b5a2f166cfc2145d380767ad1960ef11bbfb61aefc5505aef125ea14de8f85b8a683b58452f760228fabac4656be98c542ac4ad647777edac244d3bc27441b7aadf2389e1a11984fc29923cb25371de3dd73b4c472f0596391f6bf78f2b0f0d8c12b3500b7346f1f6b363c8997b4656a66ca0fe8d7513d183c8c626683b5a4eac6ffd9c6d2121ad83dccb7b50269388643b77599d1fb67731bd8cc98ed70b5100b1227cc542df81feb75ed0834caae84b60e4c5c32c69a5895736f7676931854b9dc5b2f63af98c032c97ed0a81090f80969397a5203b96fba42216e0452892dea027643e5b80b05ccc3694a686f1f53f0307614de81405c32c2c8c38db5ad15988b9e2ff4523b25541778995c069ede5a69ef110e5d34556ac32a935a3c5c546015c5dd8ab0f6fa1f38f666f744c57250a8ae9a960fdc049606a641b740d0cb4d214032d3be91b616ea45b8de802c36c419c5feee942cf9d5ec54df1c650e480b0ac6f04f4b9b96f1df2895bf63441363e51fcec668ef4bc2a532f19f5e4d3eb887c6b5c9160fdde0370e0637399d5ab54fd669561ccb3408bbef8d3e4cec0add01a090411c7145e2fee8b8d09aaad2f5e17fd0f81129b83e3e6f747e66a9abd9f21d4c5f7edfb0f4b44b047ca60d7785b4f2fcbb70a93d72bbf52e31e4ed6a92cdf0085f36203725b5a445a4ac21c1580391746720e326353b58543b3a2957548d4a44dcc3d2aa366148aed3899a22f629ab75bf5d0930ceaf208ecc6133ad794f1b0a1b3b6024282d15c2305521afe11579846b0fbad15ac8254d9ed2aa7a9aabbde3902ab09b9a4ec1c37bd794931fee67de38090808fbb83fa1ea209d6cb8ce88ccbfcc5f55b00aca07fef9c8f134e72a8a48041b661751407d56b658bec91b6c856cced34295b8418f4d70d768f405e61c07003cce4602e1e11e1dac411945e6a1ee513bd51ef40569f407aa1b94215a5d6c36e2c9698a0c1ec7a6ac6bf42e142a582b452e31fc3f71f43e6242eeae0a1e80051d3abf6cca85577fea2344d6d3a779498f820bd56dde0f85395c1260f9ba3c465d97929cac99a63ee4dee6d5efee798c17df626b59a0ebf66628505978794394f51a4889e74680d499d37c123e2d9bb2763440da5714b3085e83b1cd8d4fd7d8a68092257202dea5205eda66df0e79355d6e7a84fbe718f3ca3c8d0a76728184c3e2a31a39e4e67c671e49f275ec31439c8e23254a66bee3c9d0d314c3e301ba919550cf244b7ff8f1a7fe4adce21f9849813425c51c8c7c4d5c79a31c84f0973c335e6a28f614377d6638f4ad19f16f2c6fbd30e48b000cdc469d2f7f57220ef33f1bd0ef142d5114310b28d95980d2b9aab31acc395580678bf748dcd285cb43e8b6d21cf151419628710faea9e2f6751bbcadd703f95a0567dd2ff172759d2815c4d5abb36bdafeb19ad180daa7d6b2a58eb5b6e41d1739ff52296741a54a313a656490a783b9e93146c9a43d754632082520696fa7d318cfe289cabab66e783e3bd204dea6688c5f5dbadcd12d203b05b1660982de147cf8d6c90900d2163996080f10a9037c079715a3dd33e97d0575e1b024ae124044801456b049c0265981e9a8f2f4fc1a49367e6f8ac3c68de454a344a4daa42e52c06a52d4495c25d65b9d69e513093b584399bd1ee3ddd56bf9cb309f9b5c57ca929e6e4e66724d92ca9b221db9bfdd9d80fa471df1d2692badc5b0d5a4c9ef4f5d85d4c69d5d71765d0ce457e37eba1a81e8bbb4c466bb2d24c415f94b1d16c3db3d832f5e34f98a31b2ea323750aa017241b26441809c9f3f0a96e24037dcf3147a5efd94e535c62816715880af442a1a56d5762e4b174aca3d13579ade0a65b9db71c391d66345e5bcc56e072d2ba2ef12f1bf2496e1b96bf106eaf48b4c76004dee43795065c6f954bcf8575cb8add51c3ae925ab0d75ce4a58ae1e92b48f280748decfa5db2a5cc1985c2c41d8eeefa3bb2bbd45bbc18c51d4ce3187607c64dc05e20af2f80f9bc136f2a4feb55e29fb36f6f5d0d31ffcc902357cae7289e29e5633d928fcd7e2116163248f4f3f94a6fb69a59f0bf08677cf47bae4d5f2ad9d3ec0f89f5f66fffa36897dd238cc73f079c2dad0ed5d92e3f56f1cbd38d1eb8ffd93b599c8a768ffd084b63cc6c38ecf5a1d1c354aaffad5ee7c51e42afee7ca6441ebff0f118cf8556907ae47f197de0b70d5bb99d0d1b92ae285cf3edf121fcfca958ea49b22970972dbc34285250a1df8b1495c649c86d20a8512b13ba6de205c02fe11d7d3ba60814ed0738fdc462e9a957d4b0b7039143a9e63f66ac84cec8eedca4f8f45654e6904f5ace4d00526346abbd127f0a09685b84e4e35bd4ef8bd333e24258b8c96e1a0d7d36fcd5675927adf62a7d00ae7ac1e5274bc114f216fcef6c8b1f747e42dfb9919f99a08c7e51c31e267268aabcaeddb5fcc5db0aee17b941ce02459baa3e2380f04aa90b082363f79bb958bf275fbe8480c67e71bb20a452ba37ca1015bda3f1ba6115d233daf2c384a162f35e0e45f41015a4f1f2688282a0955b172168a5028b0ca40345c5489565897125ab20522885169493bc1ae5a11eabe31d763f458ef9e85997ab7e900f3b82df1043ee5260baafbeaea4b1333a02684d45d8f6594996ffa9be62133ee12f435b807dee3ccffa98a2e2faae081c8f8a1816fd8f392002b0e51fab0f443ae0549a031b34945a09ce6d9c8f79b8d810fd1a1472d2e448ae7868f461b0907ee5445a4182ebb2391bb21915fef0b2d2ade425ed4da0fe5e3f06948016b5512471a5299c65e4653b560975ac4d128a66a7d9e67d1e24ee51522f4b75085bfe2efda62be671bb022f5df01e68726f9f2e4d24f3b267f7efe75d27acd826a8a6bbf589af9132b11edb4e0117375c42312bca44272007264543c2cae97acbfb3a7fdeb3b48f626eda1dc120a3e41d4b2266b9a01991701c8dff9d0c50f88d90e8d356c421f232d522975f149c7ebe5a84154aa9f1e3950d93ee33967240e9f905657a9e28055456098ba9b87c0a0eb7456703d4afadfc61a16b36547abc5a9632a06c32aa241228ce54130a61df0dd7c0203fa9daa5791c0fbd9f381e7c357eebefc086e991f0e05acd9105ade364c9c58a0d37e7c88fcc2d2d4204ff1052c43647b937fcb5795bfcb6fdf5f4421bf6423a4212646facf6e930e5f6525885c2b3c09a3ffa97cf9d9d6b783c534093fef2fb7b1571e378e2ca6106436b28301adb99746ee18d9462670becaeae56346a59a0b7d60984c3f22c1b2b803152fb08fb8cfe256337b83503f90d36982c5951852f71953f98d8c228298e41f1b9995b100f223bf52087b918d17eb90b11ad30e63b217d118208bd38a10ba3dfe2355d3f66ddac86f563a3e462d4cbcd622b5a4d708882f0b249e9bd6a5faa3b0003ecfd45c57b0e47292c196927ca81702aeef5f15a11f691868336af2906ef26c4a34ef38d9eb725c549065a7b629c04bfffa78b3c51d426c2e9d761fa2299b8f90821a0d1331187d7159d030023b5e00251132f1ab6b6d8962707e134b97d454fc000f058a01a3bf8548f55a0d88d427bccce102bcfa1ba645463b2276aa211a20c1ad8198c3b997c47555d040f78061bd5a0e02f1c9db35f250c06c573ea878fa028113c6a0f3c69192a7684ca2f95a747ec618fbbd18d55ea88882e165e87caf8c190bbd7b3ff353ef50366c3166d631c92e7bc847c404f4e703193803ebdd5a02257f338fae0313d6ae3badcc48e748da6e43f5a80e6ed3bac11774216ff5cfe644c792acb4fe817b7492a09a6841891586e413e414677eaefcb8e0c67becee95643db8733f5cc828ecc8c7a6d472f6d8f9d7737d35016bf41b2e1715663d0b07cabc0853e2a35756623aeca7d2c5bd62b00509179c4143c9b598d2a5be3b58db4736bb114fef715801a0f306e6e7d7d185e3a1606be47bde4c3918e8f4bbec4c4aaa67236f7a7457ea8bdfbd87cf299fb48097606eac99c2c9ea9cb488482fbeda01e9dfde0d640eabf23143fafb45be6384c1e00b340bcca72ae9b68d1ec4c3edeb918630fcec7d6b0ab4ddafd930960087c75e118595cac8ec46675351bc1b07edfbdb26b11a39aefd5475ba403b43b36b868fab5c186d9bad82bc7213ec8799272cc7dd4ee485a235d7ccde07ca187526e55949de10da72dcbdfff81db00745374514ebe82a0d47667a3f514436c58168a79d15a1133845455b520ce959d172f6713a8a6c3a1daeba4ffce30f189bac6c1d62393e97d8db5b35c7557f299896ba3a2fc6fc720f757d947bd2633a3eb2d75fd4242b89ad4cf37e0b178d876085ae6c5a240018bcfcde57566c9fca6b780af174dee5eac77c1116846aef08ae0c395ff552ffd55d2d2e9846be8134e5a3b3865007dbb02533e35f05c5a45dbd71f2528da68fbf438ba7f472ce438f8ee7cfdc2785cdd4fb7bb0b407d16428a68a4b19b103eb282fa6f62944466d437d86c0a5a912c3d088f8b4941a0bfcece6c0c41e19c016c53f3551db454b9d3337a5e1b9859ab8eba72bf41ada77b664a8643a52b56be8dcc5394df7d65dc827b3a4959b6e0486af79d5714db7c8311a1f88b545188e5ba562ad14420fd56eb76062758a1b41bdd1c97a89bbe570dc6f6721abcb47f757b6eeaf3d739c18f0df6756a7975e0c8ff284f596bf5433a2803bdd058d66767dd1a03657dfe6bc5e4fd857d890907f847c6f44b2e854317e6a435715ef83d4dd8fbfda1f8b802d8ebf451af7d78621ccd84dae5d5393482400631aaf7d3c42a10624f29cd3f180121600dd61af4379d0165caa93b7ea2c60a1aec72d09e7d46e4b70755547944b2bd125dc63ecc4a0970f5d8e3084000ada6c401ac7c62900f06e80106f5814a4ceefe0b1fae32361add0fc20b883c878fc698617ccaccd50d29f056590b8fbffe7d0aeb49b1c7117f8753251ca0ce02c5af934933a5c59e1bc07ab3ce40823e6b66845fe9a9bf60dbeb6bba2281b22b6a492d5b44a4e5cbf2583ea93fa70b844694e7094f3a6a0c9a6ec603b02b8a9b327737183ad3304023b6abcbfcf61c7efbb6edbbeb89d96887f03db8db5a578a1c742beebf05f8111fa4d1ffc87b2b68f66d109541a3f884af323e7ab05a68b3ef1f84b846d23fcaa3ab5a88a353bf0d22464a5c5e9279270716c46786aa4073c9f55afd6f0dcb124ca3b4fbb8869ae52d26c96c664cd5aa269327a9937149091b8c42f619e3b8509bda253a540e90ddd78f26b05ecdc3b46ea02ccc80e741c2719d12e0d69672bd99f78bc3b1a63e8efb0f412f06e55176c7f936d63e708f8ca441f3f9b2136a72ea174bae488ca4afb3891e448a74a722381f5c80017c68819d1779044c103b951ec7a187c019dc002f9c77ca83ed8ec4e3abefa284ff2107214eae6f5537b7109bc96b4191361f18217c835b560ca092538d187604af683cc31bdf8e39052e5ff846a6b7259bab077fe8e412d6d7a3cfefb2c75bce126748be7a364bb38b3b975c0116d0d734f0c8a9cbdb222d5b6cc4832470b4cde082784ba07773918a1f35dad46e70e5d9bfe4991c865ce38b7470d977958f8e2635c8aa0a93b9a994fbaa7287f6e5c721a365c52539b12278e97a30b71afa092b6880fde6dca8b19894deb6274a93fe15632d577b74e1c9cd68e3441cd6bf88e62e323922ae3bdb4ab961fcba2fd170117fcf60d928b2de0cf67dc2753da73243b9a8ae37f390ab67bfc641cd0140e467cdcc0a649f44baac832977d70dc03285bc68d0fadc755b22423ccd0e87eb8bcf81b7f1103396f87f848be19f4a5d8c1d88b32e48c98a14371b1c120045ddb944f421a14394f5ad72d81dc65e62e9415be6540d387267f50dccb4cd2f26590ff11090bbe931c21d8218c1a7470f69626f30bcdb67a70d785a57dd0f76bb83abcffbdcc439a91f0d7533b337d578fe4db669476c22eeb9b9c568d164620296726c68cb4d9917242afdd042b26edc1df5986c39d5bdd9091e8391fbaed73110cdaadd5c0a5fbb9880cc1770b687b4cad0c917905aeee190a78065ff2c99ee8785e1bcd7b8c31e71e40aca9559faee98d8856436a118d6d7c29557556ae2cbdeb8f15d110034e092afa27c96bcf28f8b68279ac6edade2426c845291b10e895227dd31407419dc6ff8c619d98bcc2682238a1b26298b26d5608bcdd992409128916183a8a3fb2b9c4d37e3f5b0322ebfa06697bd45b69db1b7a0cf29fff90e55d4b445efa799f33eeb7b6715227037a259a3a447234f1d5a2cc53ba5abd85c5090b20bff151ffbb6c108fd9e997b9b994d7fa371724203a96261ade3fb855c3a3a1bb15d8f5eb4535c865772ffa6711168e3940259b0b3df25955f7c11f88a90d852bf0aa5fd98e9b3f17aa7d10cb805640c3fa48a5787f46b2d9cbe097ef416011c2660232aa98f1a6e2672cc8b4415419952b8730eb6124c662ff8b6daab3b74c53639e9f59571568a02bb29e225f911afe70bfcb0cef363e746706c9313ac5a8e7e82beeb265fa1d64c65e0ee8d633c552f57c19b6684e52bb3abe1cfaff1c21520c6d3662a31912d93767130782e511f43b20069df8c2e73dab3b91c4c6f50f3b82f9c94b3a31981d9a2bbc638cc9f039e6991662cc0c2a6941a99fdc1a95e12ab6b9b76859503a1a7ce86fd96697b05e974cd58ac5d6a08486be0e092786e7569c91c60689113e77b73d769a676c1b50ee9c64d893903b7855bd742b34752aac76bd1dd8ae4df3f891c31cb05cf5b2049500e146c67a50b696054a6a2f75eb55c93b3f7fef67adf0b80737e1cb47b4b42f3ac8a68f6dd436ebbcfe96028963c2ee8aaa5d459c50733fd98450903e172fc2c099e3a6510eddbf85ebe85a6101e927563971920cc57b1a9c1a5de64ea7f0220abb29c9cf07dcb0c5bf837d642a8013938599f4a7eaaa0854a70f808a9eb1a881e1f7f0954748e8f422e85839489a2785b321367bf938425e14a6a5b30ca18691ea96a836c93c7fa7cbd4f7e158c38ce7d7080d3a1d41a7ad6a972bc69aa670fe6086d7e29f1ca149370265763553498c99232d3ecea378d47082b0b7bff0b55640c2cf19ebe712bf46abc1ba5a21ae8eda427333307d50838b17488c4d005ccf9269b448a575c776c1345f3eff4497a7758788bc035d7ac2ab5fcb7f3d8c2885e0737fa3e9312b6f586b9f168de8f19192e2180ea2698c68bf27d815e44c3358a673c235dfe2b7c5d231ad8d46f9430a86de92bbd2e5f51ab57deca8fcdbfe2ea0d591a62e4d78c48eb18466c268b81bbf22c835896a6286e642e70fca60f81037871c306c1098dec4f141c62afbed787cbc4a183ae45be006a4b6b71efe2aacbfb1243f12ae8cefd9a7bc466acab68dad00925cb3b0ff3f3676026b0f912dcd9055d6997db30e36ac4dd3a1afb2af5c698eec7c75f1c4ba6888e6bbfb1d8e35166de71c719cdc3c90afc0d9c38d29c60301bdd4f4f57847bd3f18613bc7f8424db9ed85fcfcb1fb8ac2e9bb62170beeea6a1f4cec94fc6a9d32309c61b3fa019c661d117c9acbcbb79e787028209269040ae06af7f52700ca23a71773a7e4cb44e329dfc2f35a8d1a80989995af7a23ff444f769e5224ee1d4cc067a5761e46f2066af4a79c7c07f2d499ae681be0d13072a900b641fd4a3db316d545f3dd5be3a4f21feaee96e5b43659b3fa1789002cc790fdd37ef980ab09b03c3f7762d305c0fa084f32e3be3da697ace9c15445c2b212546db05f515cf6676cce9db747db3077ba198a065abab6560cbcf5b8b646316c30458c9d0645bb6b08da02b8a9532832504a3ba7a09e247c9743ff7c1d797843f8972a44744b41e0dfebce22eaff83333be331b699744fa43c2532e66724458cc03b0899ec13fbfccf521cfa1b1b93841b9dd6f79d77bf421208c83657711ecf052d602998ce343ae3a1d0c8ef4af2bacd1f3a4ac44275970e298e0aa0da4ef2c65bd236b98d009e1828f4d1f2d8e5f7aa3488d47041da525f5f30731f74e5243d4e28d767d396033fcd5e3cbad44c54e53349df53053c4a0b56b775097657e505e8170524511708ea349b3419fd3aa8607dfb933cd8f54e99930ddf4cf33e7811aad4186f20701460dae63eef2e92047132e524a6fa61b95357d75150f78f535699e3ce9dee5a8e4afc8428899b71801f4982b9791aaf9bb1c0e9d5d0636748384dca8853758adab8a3db679cd2b959876dafbc1e7f8877e8916c7624b446aad6782f16dae1b4689e233fbf823fdc32687d5fa6511989cdf07c5a8048b32992c0dd50e2e717e87cb29b5a100caa63c61319561164f867270a2fb4400cf4b762f2b6d73f74eba2c7d067294ade234672dda3a1b5cc6f6be74bc27a733dc316a1f707df6d9abc8b284c4e7373f8aa1d065b3bdefc145769a1c91c7ff92353f7980984b7baaf38c6dbbfa9ef0f22e00b36c7632713b55eb081b3b69e79173925edec9400a85efbc5d4c930135b847051530d0bd4f9fdf34d4c7c1e997cb72a549f5888f54dead97b1b2f0df172e19fd0bd10128e822fb44c06fbf09c728daa6f814dfc9bf2c0ec2f12d4e27ecfeeb33b9ee2a1d8e839914cb6415954f56700bfb83e0ea1729d0137a9d788826e82d367f939233859a2126d82095b43b6592ef764597b6d8c4ecca56bce487817029daf3372d48482ac064d46982e2271caef282bdc97b30cee9e6d8be06853c5155f2518becb26e8d96b5e7bbb3c581287461c76ba6d92f8123f2c3898ae556aff342316505e540d13f0f9b5d67c6ea5b213376a0679de0cffa304ecbc2aaf070f75dde3cebacbfd08d15460d17649076d1506a5e981a9e9d19113fde32a090068f83924e73a3ed6e4495426ea9ececad8f694d35fe373e702abc6f9f9a85fb3780bc602b19f6665e354c0c58fcbce439cd3d6607e3fbe73802b2a9583602bb23910e35ab881d62d378713f0dd54d2f547a7f1c0a02648fff65d89083ec9f702c37f93b45fa22142378a056ec3d441165db47f08ed7027da1010cd0e2f9b54837f59de06a9d0da271eb97ee4977424955998fc6a04680a4f53b9bf74bae4ed5c8b88bb2f3de4bcf62eaf0cfb77be47e7668fd0f5d5a35e51d5773b4517f4887ef54a76c6115393175e465448bfa174c09d7bf98de28a1b3a5fb46052cdc446199c57caffa1292715ce3c2e53e224112e22f0bb93c63bcafeb746ca4f366b2dc430aac34d510b95fd8e5dbdff5bfa55fc2572e248cb2d9ad240614b88d0a6141c525a693a166ba6c19d2a364ce0d0e9650f4e447730727d05e8b48c78dd7f03a1f3012e8768aaa91016655618cb4d2d59198a925d93680acb5f0ad755cfc11cefca161a3d31889efafb674b89b309da28cee22e63dd018719dca7b94adef4f636857342334ff05687efa2cef1c2871a7fc8c135aeb9b06d0873bca57bd8b6c3bbcbe3b46daa765b5b7f7204c9fb11dd95563a27aa64429170bea0c8d34740aee8b61f101aee77083b407ff125ea6f67d3bf3a81ec78ae3c41ea3de2d69d04941e39fefdb98315e90d47fb558a5b8f0bab42daba245c01aea791eaa597d1105370c0bf02a3b2f8125da3fbc02c92df056d17b7b6912d72ab0ef439a15007b52267c4ddf8084399c50b538cce39b659462a1773ea8e21f537cd0edface0913befe7795f6a2392e3ee13688a48f7ada9efa9f84f3998bcc23bdb90ed69a92576c5ec71d97157610fc1b22f92f4a0f5c1165d042faeff51a5d763bab83464d97a69ac731ede8e8266a1badf37e507741dd9d64be03bc3696bc5cc6ea37fcb282da471a0e853205b342f653b9ca6022046999282a7e2f751a1d69cd24b5d2f68d3684e6a08cef2950622c9b5e4b12145d2463f2ee6eae2b14c743c914579c54eacedf47498746c72b7372d7bf60769f4c7fc86ae39787e27c765e28d35e1490c6941e2137a5b2975c7ad4ad79562d03a54ded73fe244c0cb619ec06f04d6423f166d14fbd14ea4782162362463490717e3a0094df73d5db4ad489da9e326ccac35a695ef876c7fa2127e20aa23ee346bebc0a554403c84dc926e3209d37cdc0dfb3f7fe6ad4f14d636be6a58b35bcf03bd3d4394902f899f95acfe4b2150fa6e6f3ab310f967e1eed0e25155424f086f31447cc226bccce34c25759c393643cc8618a30275fcd41a68b9c3fe42efcac3d040a2235957e8416c3791940df8c1ae90677904ec55e695a6f7af271bebb07466bc19b2b4e10db70f08819a199bed3658a1f30ba16c290282f2ee3570bbe50fce0ed5cda59308ccb71a6bb0482c21c760ae01227bd55e4ef153f094af7f90c4e8fa3fb67d5d6b5542f9f4fafc0daaea7caf6af563ac03857f7497b15879e54180db916cc72be375f3d2b628dab49f6b13c84af90bfd10fd4fd7a87920a9267e1ea47457b717faf2b7a5a4064e1e2ac37bd23ae20c798498fb26b86556656d71c99bf2a9e71b07e6a75f0d41fd3c9effad19850ba1eed00a78776c0b6451ff3fa3b43203b4a42b1bb8a87da21db5ccc9990c383accc891cbea7103ea4ee3728ab65e5e376cd83b0d66d0098358d677ef9a2c8a1fcb6bb97a85c40a69ec2d63f88b9ec4a212de723da810b1804372a395f91b2546a9a0d02be82907fcff083c533ce178bb3dff17fb2213f73b5f397dd535d24c8514377440713a712c1d999ba4730c5ac5800844ae6ec630ef0c4a411c3bf5c288e0ba7147d2443d94175303683882c8234986e42a501b22b108c00088958180ce3eadf3b31f601420610250f439f68ce8ff9ef05627452959c5408be9a79ff66ca29ba9c2e938d540bbcd09eca1a1c8d36b9fb14808072a708c045c81117ce41d397f8b591c15521530dce139dd66eb4214ca097abbe75eaa02e2a20ae3f8a6a971966d7d74b9fc6387c9b6f487ca69146ca1efdb136cd3d33a0af9e9d8ceef87e8bdf601aa72cad37e9f786f64f4ccc1954cc730a346871298682334c2127528ee5b406cbfd6a59a4a2c1ca14ad3c2be279e78b98dbe1a9ea27de36f44d54ff6d17cd57333f34b114bc8965766d08fddfeedfef6cfa37cbed5f26f200d8bd14675f2b3aa80103d9af504713bf8b5e9ad26a814e425ef60ee1c9cac9fe2d432c8c6e36f7be953358c6fd5acd0be24151d6fbc9ec4b274c694aefcb902345da47fbca7ca6cbf81f424a0f122279b036c172cfc24ad9602e66c48c6cc49b5c485af45fd8af5b1c1efc11d93fbc5811b61059655c5300ec7ea214db96ea44920d7f25daddc219544a4b63f2cd465bd670bc701b2fc6532c70290ef71d3f6380aa9e64524d37e4171ca709595ee2ff02cc780751695cce1ee3f577909ee2d33f6406299c86da5b7e759d5e5d6b7f733535008657e1eeea08d22ea757b6c277592a2c8e1ee4d40d990f11dbc3f1a713b4c4939bb88b1aa6db398e8ca82c3e8d3176f2a73f38221a39107593d4ea01b5edf01a7ebbe6ea57496b71ed728af8fd3fac7df3b8db4ed64b9cc5c8d6ef7c43d9bbb11ca6801d4413c774ffa021dcffc14c29de3a81682b80cd958ec856f7fafee89b16f4f6133a8b8f606999bf2cd87b2e334bddeb6519c618b0e014e0d0d2980b03ac34720125da046d20d186de2ec84c6b53a64cfd30e313301d18da5fabf40163cbb9479fd2839b9e764998aec09e8f76daa0b9babf2b4c4084c8c8804139dae90f1dae3dbd075aac180be4db71a1f69352f6a0f002a53ea2e38f6650bd006c50d3d45456e4726586335fdce16ddb16674d2ead6db2b4921e0738b08fd0fc61113de388dbbcc9bd60164425740ee61c7bb531e64d5ff57d04f34b8625e496fe2b4d100497b059cd30775ae9f4c963bddb2b5cdb7a30e4e732bb75d3f4e5e8e166a789cc5bb67c00a2471ba25360c18ece641c514ad53ea4a4ac749ff7bcf2101c09ff7c2013395f7f8b437aaca39c672bec4a647b1948c31539071017d8a2dab440b0729e5efec801b19ea934722b4681f8466b1af5a4f857682ed1bf37154552577ef526c1119537cb6cd3c0e2d726a5db0429d777358db56679da63c29e76a0bbd090fd5fd6e133c3d335cf3118ae4d1c34faaca5efc9c64b3b87188ba250dee225c4cdf2191cb0a63d03b5611c05464a3ef499b5f249fda6fdae2684eb98ee58ded8e9838a2bb5754723bdccfed3ba6bae798196ea72bb45ccff23998cd29cd1784124d1f18802682411862c4487eb40d8f32c5777948bdab225388d4e7909a5af662f056e9c899f26e1bd7c9e0ad559d8df39686a33521b999ca07eeab8d1eb87048b7ae9f6cc2ea25a3f39761bbad0f1472c91151c65f7590c595ac317f3781b155f2d92ef768e679b0bf723e29e685ce2fdf7a23bd030a18ba423b5e96e84b07bd25f9419db10e23c9a449bd3f4f42cc22479cc6e15997d722c1572549c4206adb23d73ea59b85781d4011865aac0f0d710ad9d7dcfe5359406995bc5597ac1a872dc1c877439841453952d077adf9e3068c68c1f1f94230fa90383a4f4bedb01ca37f96ef5292cc5144fd3689b2023877c4922b51012104ad94d832bf3bd4641c00bf6a2981f4e091f3335a288241b101db1f1e228c9ba78785ebcd277582fbc7d237c397a533d37c2e49cf5f8392f6d53c497c1f3c4e472fd6f4f5e46037a1e0b7fd8e95c9c918baf10c0446deb5e2a0074b0b8cdca764332f56e77e255d4c091e936b8c39254b28b142b1504b7c2d57794abb0c063ba4c53560f8c81cca9a06064ca8df5bfd83ccf23e2dc96ddb08ef5a533cddf6bd3c5ced8140c0f3a86120e7d863c409f8c2d96f97f37ccc74b683ee8442a4a844dc54e33e4fe7f2acaa2ad91327ada8f58bd020bf63d06447bfb43787e2c4807a75e62cf84de7b244e6bddc461d96b79394ced742c2371e7355a42c8dc938860b1e0be66c386e0f8b5d996b2c00778b0f2aecb45d4f62893fe3303b2f347e7e6b09c400e4160c91fb9cfb53529118c63ba44b6bffec379a16f4072e63d7f06b8e30bec98c9ba5976727528a6f36f5f511bd5a853f12405eafe7027a8323bb7723121a7f536ef4e9b8032949ef5df89129e7f7c8ab138da7be39ab4ecb101d3c803ececb45d2795187ad40fc31ab37ae4dce9453373fc5bacb38e88a44d67f97f1c6f34229d7f4c45e706eeabeca1e6f6f3809d148973a7ea93f68c60dba4d07ddbed41800944b7926d04d7cf287887ee0edc4aa6e865dd98c68a2de932c32cbb607213d7980a5ad98db792038ff4474b514a68336389628688a1de4633822165ac2b126b300b413f43ebffe429f043fa2c0f372a44d24186693ab01bd7bd0727d68a923e9b45d71a3f93fa4b42d08f27e4c105d8fe952d6432e19ff03cb22f0532bc8cf82c25bc3137653c9b16b7b7621ecb303e524fcf015aebcdff7186f8bf9c7229cda1bd7c7be9aea17c75dec0b9427ac9d81ee2328aa135010b2c963d8f7f64834d0bf99419cba4dad06a42ceb2f8ab030489458f994b5a77d6541895770b687984fb1138b70dbedfff9013a6da2d40b201ef91b0c0c52a86fcae4e726596e5ed6ec61aa1ae51837628579a62180d3c05ec27cacd3dd6ea913f105a91be496c60e51c7f387916343374b004b646058fe9b8d1d6f7a3dd1f022b4a5d35e190b5c6222474e5d41dd245186474d7f1937dc64a1bfa25023c9cddd82205d5bd899804eb877f307cf8d2dc11e62b2281dfe3b89d108ec211bc17f3f838ef7910be5b9c6d44b786335d4dd81a30d0b11063ce5fdb37371b3bb19395cd82579c3adc62e425282c82d54a98c5f7c81c617fc959eca1d0713cc4fa2b22cc08caba962387092fd0df298f77ebcf764e4c3de6578789b1bfad322bd76a14d91c05423457b86964249b36e85347e60d50bf1424f2ee8f4bdd6a6d8a3f53e999161b63aeeb8af87da7157136e65d0363c986c1475eecc530b1d936954e8f5872e9272d6cfa0e4f921025ae018a5ca5aa27422f8e09ce015186406e60749597cd5a352b2c5295ed28eff6afdbdc10cecb2673ac0624276c97a7387f17ce7df51b53ea1ccb224c9d63b35f27779f66fa9be372e12673ee527184bab75e169143d16e3b617db30bfc4416ad99c9ca8eb65d84637b2fe58ceb95beb5e6aef1b498fbaf44f8fcc8dde1edaf96f77521c754aece64a0289ccf30aba64f9948d5838bc568bccf88b7eaf86420d9b84ec43399ef56fdfa631f91156878752ab65963f24e6eb8e10930626c63e191ae320c326e7a77a7923bb9a032aeefdd3e73c09e24b2774fcba9d39ffa6792d7f30fe952490ab5f8add6ca3b9130196538d89e03dbd92e7b4b2742124a9a790a1103b7d1a40635e650e518e9dcb513815c7e05d65638626b95d3580104e198d01b0a903aa493a18a9ef32cfa01c31bef4f31ae3355cd850b0daefca7a18affe13dd51b3d3874bdb6afbc99afe7dd255d056fcddbb4b16b8b819ebb6deb3df32d9eba9e9ea5917c16ff6dedf27df6e5a3b5684245b5b4f3f24d160d993bce6ba971b574cc6744bc97bc277c9dea8dd0de3188ae8ba211df82f9dfb57cde56da1e299769cc8c7c1b3d46aff0df420434e3ef62df7ea9be0fc5824d6c787e374109424625c0367da81db632d4791e48c45c7f54d2d07c50feb0ebdd7b08982350c52883bfbfbc91977c9a666e8d2ccd8ef8225963797b54ba06027d42c7287944d047cfdbf73538d52f3e572e162246e5f04138731587fbdd210869fb13143a30074c7cc848e88dd06b9ed17245c01cc2f3c5bcddf78f74e95285842e818ef3ec3c35ad4784e343543605833c8033a2aa51f5a38530911d05e6a9e679f8faed4eb6e529d9c6a15a67742c558ca03c2ee6fe78d08dc3666b1defb9b7674e99f1f5d3cc65f144fdf016c888ffdfd0c62192c92674753f0b1434c89897c399ab6924b3033195d6ef323bac87e4bde0bc1561dc4e014240d8a7a80106c6b69c74d8bea10cd85f1bee46cfcb62e3df259003e5e3eed598792c938bced845af80fb30540b685bb4c8b741817f94fe69ecd7b7561b05317bfa362e82f84628845ea67d652430e026e7caa7094e667587b256fb4cf9431fc5e0cccaeb553497506a94d5c7cebb53d75ce412615f44d9d3d0d8d0e43cf32099fcafe67daaa2cc15ff3ed176edd6f1b98127d62f62e86982e1fb177111fbaa1f5c6c3d2d03b77be5f0bb83babd0d4d34db41f97109c7fa38f09896178f55de111b86cfb6b9ecfd8ff546b1a24360974818b9c83cc058a1f11d40f44e013bbcc3511c455baf0cc0e850f8a2a430426f458ab075ea8bd2d2c7e4515bc2d48938346eba8692ce6bdfa8bb625f2dd733a05e70a0a657c4203600ea9c30f271fb9e19931eb779947ffab890fcafd8003ed46116ea961a48204a695f4977d52f23cec6d561b0e66d32093783ff6afab99ada0a618f43cebefea0961a55c6081384e4b9f76918b18163a5be485d625de3b6b12659b00c7c2b97ddb80b54279dfff5cd0c18a59ec99787466c620a5ac929f46ff6fc2f99baa5b2eb6288827704ef93e4c57f80df94ca2fb7ead10d3069e02137fab55c6e192176a3700ca2fcd658b51d2f449559c1f8c65e0487647869dd6125131a0de5be9288824c6f15d0fc538012b0e93e6ccf6de439715d285e3a75d575f3c4c20ff67d2961da87ca7568fb0b6f3cfe3c7b2f009393329a5f221d523f882f0556290674a1fa3b5a323cd6bf28dea215039c37b69081e08143cd83ab0b3a9a62d7abbdf3552c134ce17c7100a22fe347c160c5ae019a871a5dbba65b3bb08f97f4595251aaa294652b64439a3515d6827d9889d0bc56998c98353112ca644476bd4986a168a0be7ffa602bfb5a1b8558a9bc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
