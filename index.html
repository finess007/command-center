<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"33e151fb9bd925b61d36a43ee70755f9a5f8af97418abad2f433e59849b1e899a016bd6d11d2dda9c36d3f117b919bb7c924521ead401bc337bf9e723421e0aa157ad452ceeee9d99cb71e7e2a10ef6dba53636f599e717d4a3a13bac379a8fb9aa5becb855b8bc909d1a0cbf96da50aa52c87bcf25d1a46e116d6575d3f5c49c71ecc37e04eb61bd03fe5a53e4e5b829635687ca0ffd6630681aeaca5787662561f01a213a904c60a24e986c9e95901b27824491033a27ab3e49158017a6293c08ef35d4828a6cc50119d4fb21db8b3a2fd4708035811109db93c14b9d8f1b48a1b60bc8f42a0631fa5f506be006d11c7ba29911b6f18fb503b95e37732d6e204431d505769601c7440e373827373c5ca0746a0913e18d59aa50a3a1e69949913bd8de851a21bb80213f53f92566513e4b162f3788d9645ebebefd2e18f26fbba7873eea5f1ba2941f5b4c9e3223ee1e8577134649226d9984ec884510697fc5c1d1992780b1165e49728fee37400655aacd8c484301bec752dd8d1c530c522d8381bbef809f9f3db244e8370713c81055286fe5b7106322670dec9a591b5f641712108d8f5a7a69dba31bd1bd21a6647cad4cacee10f438e52c9dcd44c8f379e393eeaa7a0f54adc1b4d399beb1becc2dd6bfb352bc4bdd79c23771e2f5b3b8743259258f0df74e49ccd01b84e8992c57503aa6c6692f2323914604fc7aabc8affaa671f07c7d5e2e0213c01d24cc6d42533193d2362f5f5470a5e5ee723945af573a4b29b639c2e3a2ef18f670451c885422b059b70d493ffa9b2efa0ec6e86d63de2138f53ad71a12c927faa3753b790c0a4c9d0c05ec51f22e8098e0f3ebaed13afa5cd7f12f5713ed182173d8dc58b20ae6aa2811384deb06fd6357e62bfe44b4143f75f6c7cf4d283a7986524172737712dded883274eb9f136f5be482aa42f7bb479bc1a69582619713566d1574d06d6ba84208a017728916dec41f7d908d7cb2cffe2b7cb9cc18c11361f6113ed45c690cae7d9ec77ce7e01d146002b87494446f1eacc05f25cf3ae385804196a2b663dea96b6bd4e2aaf2b9f42358caf131e6f9071801f83796becbf596024e977cd538cc0c180bc9c63e911667f5cfb13ed8f7aacc056be4e58a289a9fccaaa8eac5e981d1112e7ec04b707e46b0e529fb00f4c52d162838e76bb3aef5e104d80d182d6fbb7454ec40dad2e66f842457206740e9f8423cebb3368fb0503aa29bfe48a295981fd1f105d13952c66d555d15e45adc8d6368718b0c2ba01e3ee5d528d7e4ba7e88e392ba0e8cf1cdb8af3b773f38909da5701b73bc04967ba398b0e51be814c320aed1f8a8a2346cebf8eba59648c5d1ebe9a122a1b4c57824853d24600f2637dae652c191373923d60d64d9d2eb63d8f30eb51e2ec96e14ea17ce8e81951b30eab36e8658bf5bef2da9842b8a34a43ac6fa3242eba927f0c1255b452c6c38284e648b623180c7ab9e1c757dd54572d4cd1e40152d46bb3e860a510507a5ba866c0787d1f754f426e49815379930acea4a77f9d75b1e0c59c7cf73445bb7110d50d8a29edf4c68b721facced8936f0c05c49d5ee453ebd86143c6d445aa0c20793fac142a1f4e29501f138a8a32212ce51328f466de2e75f8b7734b40348db78faf0a4eb1775e3a61c21314f02474bf49724b6e69c883c1d523a37201b96f9692f1f83af88a51be72340c95afce488fda4c4487d581b85f3b4da46385ab6398ec51e7b4befe4227c357ef3dc6d26708b4d8f8c163110c0bdbbe33d479048e966159ad46d6186e23869c9ecbd78b6b8e4e8039248d5c31cdee2f8fad6922d2958223bcdc1d004e90ead1f31366dd378981edacc5558f12e1dd9ad0cb46b6b88c898ea434968ab0be0a4fd91d410285970b11946a8e909c7077075c325c7e76b05e35c7fda7ad66a3f21249cb745b857b35b77648478cc1efa361c2d83612159f94c09becb20da62460b835fe26dbd742fac26c3cbb56270fa17c821e3c3f9e44c92c783a5d1dfb846d6c038d271adf3dbf3021fb48e5934048bde20160d0307d58d692abfe918f88e643a9c7ce4b7676164ba271ed0699573b129126e9f704efd1ac59af27e241770da37781d11227ad87b4f497fc4da61ea2adce6bd1d69c3df570b691f5c80bb0bb2442f75386ac741a6dd084cbdb752e487ac20a3197b53e52df1192942267706c8f38f02dc16999d284ecd81b9279d720cc6cc4e1e3dd9c87f07852b047a035c0d48ea0411afbd0d8de2e5ba3415894a5d166076bc84ffdf7269cb68f4466d3aed89730993ce6f333ff64fab32c0dcb45943a026f5ca093b8c34a6b5d1bf689f152b56ba9c8c51bceabe768064d3bd9c8808b219314aa9f506bd643462446bb1b54a5ee95219cdabeb48b731b08e8bc56976fa4b25cab99395cb1fca6d90197e60f61eb9b2b1f69de79147c11550bb1c2a724e8288ed02ae6396207ec20f87de23deb858670bcce3af534403d6be7108d159af79074097e68168fd43d613624317dac61d07635f787a4525b1ef378bf8db2d634409139b30847e1c28a3ca794dbb65d602c04d3373b814f8a0b14d78ac2ee8764b4f90355df0d597b8c1836cebb349849b87b35adf1707a5e93b60d4690a1a1c939e579823d965dd52af59ea6d1a1f93969e9d241598144ca9d4f7be3c9983f2fc6988d02902a969d5a43e53de7f26653b63969e00820f641224f0992a6471699731c1dd1af6b7df39d8234c1f2ef4cd6897227d446f02693d2d75f87bc968a19a19f2b76f863badf8bbcf4d3d8b5f0bd2024deebfe80dbb927b97f7bf7e2fc7fdb63eb9294dcc42de4b3aa1e37d4aea5107f2edb8694aa7e17b3f4ed8c3fccceaaf79beaf90dd17af086c53ebcfe6b6cf80a0df101df5a7b6c67bed5cee9b4b94f383cccfd40f5601d7d49cfb0b715b31a314de490844b92f20397acccfde4342e2ba648c0ba92b6f174418cf12b2ceb627c713e8e0dd9146268073d7e3d35103a23a4ff20f550f2cc6c7b70bae8ab61cd8e00ade375aabd687c9dd66b99ae424ef7de497a2601387f158003b9e37041a7223d96a12be33757d7efd9967add74942fae47be25904cc18a6d5b6dfda98686d90896cc76a54063f39bff996fed66440d64997cc11eeb040f558318b2a3f2659f2ede155ae6301d1db6269528d4bf72f3229adbf847834bb3f6594b2fb9e6ff25fe98176fc18584bd28cd355333aa5103aa4789a9324857381aae8b4bc8f5f60ec0ffea2d663628634c422d861a174399777aa3c8246601870d1108441f2e0fc13d6847dcf0cfe0684d65a8a5085e47cf429a95753b16d2bfd9028f9294f99cd21cb107c33fee3c8367653d8fa7d7e8407bc9bfe6ac0d11e024df3f690781d2e90438d98c45fe5290611477b2e6615ff41def0cf4ca2375bd4a6fab09c4642466f3a5043e68442d0a0b59d60e6c72b9393cb7ca86bc1f307c87f29389189197defd6b3f1cf12adcb4f5c1cce572773b4286c2a5f2569f0ef81e74e5051d3176046bb0d45c29ce790cc706db6188770f9f47692e7213e8a1ae04c1a98d673b70f150bdb7205aa7bb440ddeafdcce95f5159920f54fa0a1570c800d3e72000180cd4db23ed8d240ef7863c5a2ce26403bbf541431f521ab9ae25d5cda4579c9c8f43bbdc19f7a4030bbe84c29ae47159098c1c571f92e1515725303a69bd6c86e846e32e55a8bce0b211fc18e2a8fa65952efbde4a85f56ffa5f37d923ad5e35e43fa8653f634e9372409764081fdcee00b4e01aeb6309344b86520ab5cc35ae26450ad666e6e950ad3c10d22c5b814db7609291ca7d578b3fd4bb282d72fe51aabf722c449650cb0806867140a9a373a6a5b06c11eeff888209e2af31997718a788bdac2d18b77f4ff88abcd656c44179988f5d5c96c195a45858d87b68e2f4d450ada2b47e97a506f0e318aea165aa23f9ad073dd3462fcb23fcf4ea79d709e7c117fdd81958ac69d439f7b8a3669d7573eaf4c1469cbeb4ef1db65d8ca049f87613b31face9d0f64352ad18fc8fe665538a948d08820a0e3993d9d21f974c1686510e9b1e2a721fb1f8bdaaca8333c967c4bb78d65fc811f3040dab6057ae0beb05238b445bd16d6da1e58689779563b32745a353b2cd709a6efa2965fd8f104e9d3ac523c4b4fd4b3ebe4a1ab591a1836dd02ff847ed319e1e07440319fff50901541e35d6024159e217dd8f203816bfa52120acb2d6efcbdb00dab9033bf96851ce90c7f25ff07da0c7648617585d894391fee19ff1993d32aaa22444fa84e503d294a55a8b2e72344c3852e6c33c7a67fd33cd457f00e5ef1039f92baef8a9ea7c63c7e411839d5fd0744502a294403977c21eae4a88fb7cde8eb4be04ca961bb14b8bd7c3c6c8767c74e12c57da4297fc622f35dfaf191ccce1f3c06591d5d65c5a83304614604040c93aedcc477022cacb471afa7881091666f852c08571b8b76b761e53d4ed4e1694c53bbf567a83ae46e8666e224c3ed4564332d8a0c22d4ff701d1173e26de2836fa8659fc89347f3341c845da4dedf1196bd6b6fe91b4df85bf0f4392e76b56cfa6c790ac1711b05feb522aaa4b05c5243ea2454a38769ce6a1574a89665e891eb6ceda21fcfa0c364fc5071baca4a1b540313ec4b72f782d700974d4b4ce0b87fe7d717fff5f07511a5cdc42601fd2633cb3c9527a299962a7168919774cc7bc80b0b33b0e138f809eb9eee29facb0277dc946664c3e9e3a5f1344559cb8f2c4bb8b6fdb3d89b543e63c2ca90df81fd039e05ee6e397232a54c5b5c3fae3bbb119b86bb66c61557d521ec40db9206f3c10c06ae352ff8cc611d698016107c6a41e8d833df4ddee780ed638be3340af682e20da1461ea8de2734e5612f8c13b4642d4eb5fc97e49918326dd53471ac9e6b15361f6930309f7ac5ac4a3ee150e8c9cee3fe43d83bc5a2b4c00b9f899a4adf4a197a3fc77781887534594d4bc5f757b550a15543287b47d6a5dce8cbe719daf5de2134380cf9f286cb18417bcf41fb2a629a6954da8b64ebaa992014ef75278b451bddd3d268666bfa54fd98130573177c2b3ac0c882e35c0f56f53c6576f3ca6b7a1ee24a339a58d6ab8435ddd7ebf10ebb4b35e0e546f151f4579600db0dc16600db686e4665207e7eaa8eac33991c58dfb64b98ce377540d2f84f06738fdc95d7e74209f1a80268fd0168e513b25737a8a54216da739553ccd71ff6e855833d295bf1dc3225111599bea855169061c591457a710488f3171b7aa55620738da78939e4775a77d0676b8de715d36e2119e65e6e3224b1564a31cc31f1520d208cf2152cb5755a7118a2c26dff55882693a39483244257421ed1097d3e2b86c3fdd3a7d499bad455547f2f59fa008504b572ad6b5eb67f11b449a7780849a4a63478ca960288c0e699b230bb0d3a0eea7012d9cebc6dbccd92fca7b9df7093a8f3dee5797e206e07420294f85c42cbce0b6052eb8523a3329bfe4c797ebe2174b22c8ceb303fbc78a22b0e278805d211ea9c9702446b3ddb4d710f32c49c53a058a8590d1ebdadf1e022c68cab65468b9845d6d649ed14b03c0c7fad10733194a27f9e3e3e21b5c536d9a7968f68dfb5a36b996dc2ad58b926e6d729f30a5d080bb1347fc873e7f1f6d77a1eb329cd61a53d372cfc1aeae0dc95c600ee3e677b89d036052802ba7290c9ce5f600fee27a4adf51ed2abd5355265dcd1e2eddc02fe89e02f71264265c20828f5c397c24cba897b66da9148246244f70667f0f609119520f3278f0e008d70ccaf05d548bc03c960062f8a254a07f3345441af6487ccaa23d47266c1fd952dc44a03ce6fd77d3aaf6539f3e018fc9ef31595d579b1e04cd91c702c69a5bc256d4db50e3d4a34d22b6fb7068c788f7a2d91218f6033435a584c52556b21653fd0f8884ed97d4da99bc722ea156cd4b2a9e02bd1ad817dbc7733faeb4066c050b3af1ea1fe7bd47b611e19ab379db63bd77308ea087b66d388b536ff87b1db58ef887ee11d59459f8c3c535ad4850abefd85b22c711501b28d568ac6fd1eff77449f0ecb0b0a350e3bd372f1da4868a7329cc61d279b2d731d15518b8ffcf6c3e8c3b1b198b36e110cbcfb12d5c5fe52604cfe690319624addfd43f984ee76fae05e0915dbf885a7e6d6860bae30b24b3d9aaf33dd0489f678e06aa30e33a3d3cf95166f577b76495574ec2ec2b6bbcf386829fe1def0672648938cf88553a566e0c0e43ee011372b7e78af7e485acf767cc224dd8aec7c10d1d9010f825e7b63af13c8d080b58cdcef52d538d573ea99f677e176f4757869a9a941986eb85790a7b629609189faeed8ff838d6ad094a4b43bc24fb4738dfb29e0fead27f0069c0fd7967a876f667dd242b45640e9aa7ea0461663cca27b8e4264aa305ee4b914b115670a5904f8bc424354a1085994cbfb662a0d588d60b1607d9a980092234911d266892916ff7208c5e3945239425d73643ddf2c78d8a3139228b4b3f2e2b97f6ee13759c556e6774ad92d893bc1a9a2d5c40e56d56480caa0ba8572c7f386f7db9742e46d7ef5bbd6828a4f225b4d61f356988198df088dfcee3c80bf00f8481dbe6bb11009a5cd3ddb24f7563ee51975a1b51967a4c84913cd14bb58b633f294ce074814ccb5614197d682e07a8888a13b2f0583f2235c3cc0284f647033c320a666adb581eacded13703fdee4bffc5630b1cf40d1c93f729e1623276d9c0720b6dadccc21b22b28bcfa546d80de82fc9ad862869582641aea92c3226a55770a7fc1c4807d8bcd567d31cb14084bfb62aac57c9648edc55c678958d8b2ffda0d1e82f3d6218a4ab57f1f8ea733c72597128b02ae2fbe76340c84e0a50492337fca4e04a836cea973c12fff91748b59d8e8007e2b898fc27e4c5c50d43bd3e1bba7f2a99794e8df7374b33ece16b261ff1cfe541cc3b988c60bdfd51add5a220e20313db966655c76ee2a8852e24b9c18632424c34b54a055ad4db479c028b57003e52305cb54b9f7a675ac3ebf624467780f95d1b9ce46324a83ff686fbba07eef3e0c355bd858bb6ffad1c4e5d89f26d06a0a1f28d7a28ed7c9ffd2eda7c1f502dabdd64d56a8dffa3e27ae01802cf4b672f3393ebee07496093c6e9272766478707211a3c81b8d6f5330422a652a6405ef5693e63de993e8de4f5b4efb3688d9df9759b50d0e691057ec1b8c735679ad4e2e5a3e4e91aef257076ea1e06f93ee17bdb4c11fe8bb3a5ccfd15771d420a5b10628c97d00d595a58e070ab489d35f26d68bd8992c78be155ee9add2289c24c9b2f4bc894dfc1799711b6cee1cc9d2f3ad334033f4e8a7b53f77f8c88cbc459283cb9b1423074df00307e739bf29644786b65c7d7fa0ff59deb313bb3ea24c418ffec39347069cfa42d251bde909131b99910a3da1509849731a21af65147b15e13d86c7db638958834f9caba3c02d83bb4b14f4bf0a159798d96b0b1802228bb01b110438fd0754feb2d8d83afac25d581806cbb23f25c3e20b0e3b9a9fd9893af5da088bde76d0d72f35fc1b9866ab9ed050ca6351eb321d675d74428f5c16d67fe679a905002316a33064f12d3d6cc11757e6ba48f478d048f5fefa871dac0b755a00dce7f273901f6d4626628ecd133b6eb33bf8c2d7878ed06c89467ec525b2c4917adaded8ca4224b34eed44ba9d3ef2f6c60591b6f5306c9ee2a67e5abf46c74778f23f2955ca1d0ba7f2c860dac445e349cb80a6781d30b50ee99270329406e304533d3598477003ed5ac712786a91a2f4b865b0d8b668c5cf1988044daa241f2fc85f6689659079b2c8f0a7b9afc638802aee4663c9964883cea13f7a3e4746618e5aac26a580911eb667b708b5d99f2a641698282f4d7a5c776316e9c6b20eac05e61c9ddcb996343b3e829d6d52c13fb6949339568b367ae60eb4a638b5550a6864b30e27ea09cf827763a7deb72ae0e9e22b52afdaea6cc29cf27b845acdae2d8c9ec7e213bf23a45dc341b88310a1059b895e2846d5c615181594fbc8a98ed2959e7b68cbbeb89aa2bda904fc0bdd0c5debfab692605a709668be503fcfc07fe0023d030a589d5e574feb166993153f624423f437f14e96d096b99e5e4cff6fa9d13ab27015005aeb5c8ef0137cd5f5e927cd51e078db1a227fd55571d0d2777f065ddfadef8467cb4fc3677fead3be5d50bf8371545442acaeabb256d6e8ba8b7c1a98919a6a2c34cbec9fbc47dd0fab4bedbfeed5087f5ab3c1184d280f55704bd77fc3a0c99a41de8b9035bc669e8ad7cb9d1bf20663247a6c59a32ad2a01a135e3ffedbe7f58ac453ef7321b0b1c4debbe0d67f571961d497bc4b837178686a8901919f93881cc6d2e374e86f7c7613b2aff63082f2be450d8a5e80346d645b6a518044d14cb6898ab52a54e33e391176a9b1553692294d2cf823fab0ded6fb9696de240e50c2873b73b46240c4fca9bf0955d4f1b6ddb164c9e6cf38f1aae299d121d0341dfa92fcbd744a24f2b80d13080cfa66debb6ed36c46c01168a09a3e19b9a888526698fa0ebefd42821241dbb9487ff3b6af2d9cfaedafc79adbd72a08adbb27bb5bbb94d63d4d882ed078980c791e29dc45fead9946c022653236db2732cd96caf1d7b16e9ac552829c28c0874fd029df62aae12e7cf914ec2ff9f991bedaa7348562465466129ac935249a13699eb94b795bee7ee52e0b6f79ac75bef1cb669d1814381bbb64f046e666f6a8f5481c80cfba12f00a00959ad7be62f7ff405c3c2472a1a9d86e1b9b62f38511f1f953bf59e5cdbaba719cc95166f787db06ee9452db276ad0c9b8c7553fe3f246937b58d281a22c681bcf5991b0d601cfacfaa92c677765e9a6fe1ddcb9d79cfb78df97099edc7f0bc630b63f6b4925013b870005631663df707de35999359ea33a13f935936819fb5bad5d66b85bc652356a3e3d1af24a25387a939ef56315aeeecb6fe06eca937c9b011abae5908df43679750faac650c3a25b771e77f13b475da2feccbd7e5163edd8ea2cc514b215fcaf4e6ede1268905773a9f96b1d695fc8d0a56379d305a41c21a522bac2fff0c1fbb051361bfd8aa302d26cd42a5cf7b6b80510fa141dfd4fa6a4c63ef9db37a65fc1cde1429a8d502764c7dd437d9ff9dd727d332b62e3e0c12b3d8217c3fc54e9bc9ff247a41a410d228d9e0ec672f689f804103fac94ca96f84edbc629cb64558e4e3768452bfd78565a23ea57f74249dbe894fb896d0ecfc9d0ac9fcc23b041f0019e9129d9e6c7eed491bdb87c7a55a8745cb4e3ee608a685ebdf1ce1d2c78be5001daf3d63d62f57d15a27210fe4bce13d7d1ee6e5791597cbff91795b46b2477fab66e52843e0362d628665e9c109f0abcfceb66d405631712906d66df0f5ed3d421f777af0857ec9d2d78f86e885d23dfcbe0e54fcb6cc60ab000053dda3a051247fcda1f0d89f479162239fc451f9ddc0bc41321ad88465147be45f34f5e5259b089dd93793e4a72144dffbadfd7eaccb43e6d925b7b6377327c5ea649f314ff44a4efcdb8d9a8e42e3576cd2197e3d9684c5562e0487f75fbbc8fdd63e481d2e2812f0e3f21a2d99f43954e458deb844ab7d0ce28a4a443bc720034aa41322729f5e92cf22fee7bc24051541498b07c0739db4fa7618285b1b616e4baf621cacc7523cb8155e87624bf853439b6422266e22cd7cebf714992c5149a811705ab67f2dabf057535f68665442e3e5bd3a4a6ae748889dc227840cb7511d00fe3d241b59e77a4a4cea28c24051d049eb06d586403b03e74a0fc61e8b0d22d34a7eaec02201d1fa5c2c05815ab319789e9f28972d1d70f1cd934cb8565daa74ce77ecf7f2360c4502233f337d5149540a932bdf1773505e77f5a4886ed8ed9135158ee171349f408aeeb134f7ffa5d80314b23730e721ee5e8be77a4dafff52673e9d77718747c62b21ba081bacfbd0f193bb9b5eba3d0ab86e2d478232bb9d37233cee7d2a5cfa3c0835d11786966b4feeb9b07ccf39658b2271bd64de8eaa982cfc540c9bddf93741aeb5f62e4986553c185e6ab157a8fc8966eeabcf0c7d16fdf5de2ab36ac6df28b9545b391e5db767ebb6b53a4723a0388925fd5d384694f6b7d006780c468e3b3470b5ae6ec252123e6ef4bd254e7b3422ba9e6930d87f52cfc19ae27d4a864733f8de3b2ef68559604f275df281f73436fc4fe2b97ddedbaf0f67885a9a6a3bfe03305424e0d0a4e29947929da59f25a59b6650a7e00a64766011286ec7f34c7f2092345068a2370bb25880b0ab368338b52081647cba59ff7ac84ba9f5f8b33b9b6cb4e8320c74e33b7aa3a9c83e35067146f71809e87241f6bc3c1c5a29a8f74c0579c96fd0e02f485468754a26446af03e0d064459be53b7e7673699f4d677836ee0d0894809e52b0616a061e2610b1642b1debf25a4e38b2294feb10a0d94e23628e09c25105581bc85624d4e692c8284baec55c097062cba5a508af26578605b8feee0e5a7f49e6c0ca954ac63423a4f227b131d01b4c724502bda6d76d959d9081b898d0aac5fc7fb92ff60db96c5f543cdf4af72d9190d667d3e05b693652fec2e68d4fdff810e57a68b0df38fb45a69b45ecccfc8914549eb043c00d3c16edeb56378645e3c89a287746a64986d64490918581ffd2db3bc939b9f3cfb01b757505314fa07fd23eca54b6297a1eeaececf6e18ccc436d12aa4705215a3bed7c2f4e84045118f93b8463b4e2e4760da38ca33f6a5a2b17a692e958aef16f008bc9c7b475f920a2f11995fb1b1a30a36e04e9c7d420fca0120440826ba24cbf22755a736217104dee6aec808c7e75b40767046ba5271dd3018e3e68cb881870abfaf0eaa51b69e3e7b790261768bceb8d86ebe0005d8a33ac9b257f6077a3d6ffefbc85787cd24210bc617aa5ed08678d64fb07c06f3f9ca255bc15721b849f49031e5f25580899f5f131f5f2e5ec6bbbc7f4ba3b544eeac70a8ca3d1d5de78d688591c13e23ae04d12394db3d51a187d762c8905bac27bfafac956fc9994ef89074238c36c4682381edb94598930638c88eb9dedcaf6f49f1b4b8ebe7db31ebd252f0b144a736eac0f64663e4e721d9a23b3d4df50a76cdd1f588c0673c8046b1be8d207b1f169505087492ffa8ad39e0ef94f583d09546262b2574a7d0eba0993d7b29420252c969da5c8e96dbce4680f1d904200352233d5780415486e08c433e251d96c9926e49c2f78000a60eecf9479f94bc47a15f4c4965cdc00e1a23049ba688b4ef457cae0ef0ff60c4710d30cd463983c5ea023af4411366e29d04481d8cb44a859a8476969b457c0a266879655829a7a0a4c1227d878d86ace10fa608bcc44deefc09411cfa43a202b120ffe059a89cc8e9b975433c62f37c5d8000b44e1aa611dd8d5a9a0db512011183a3e5431dff4ad8af0fe7e4339b5556ecd24d69ef00a963439f43310d7f02164f724406fcbd6efbcbfbdc8720f30bbd05df850e575d176a5c9a8c6cfe13ae20ee0fae8f21e8de20338c2d4430b60565c6359c8b78b36467d4855febdeee763be10454e7915a570c096657bc0afd6b30c7a12442e776be75a3c622ee920360cc549522e5e6a82c286cf7e12c3d747d40b6dd8b64f634e295139ff255ee04eaad58c23b7791be6eac701cd81fb5a4cbb6242eae4ab7c5d88eda1525f0b96999dca5168f979f37188e51ac41b4129c20f30af2281935738deb4ff6c8091a0902bb51c1651052f2b3bf644a34129d843bc4ad97f88811d526e4981edbaf3835a9682cbcd09935deec6413618a8e1dbe51f88122c5f4ef4260fc5a12f9f28cca47d43023de2560bf064d895488cdfce20e691a890f71f365e68ba930305206ea92fe50a7b2b38ff4de301da25114e6331d476c0824cdb2f16755ed096e702fb0774becef79b8d917df2f3a01538f12f2d2f3367f1e38815e2338a0e991ac3bac4a039ef67ce9b6a91668b231d695aca511cb7b3a72dfbfe1e04bc3c5e15096abd6dc9c82a6d1480a005faea029ee5fa163ccea7ca21637510b80b0c9cb1e3ab255d89e9ffee3d5ceba101fde524dfe2f93251dcf9dbda4f895a20e18ede88cc1003affa7840070151b8827ec0e0c05419cc0762738eeee4b3a4f857880d8ad4a935fcbf5a288a1aa144ea868a71eb5883134cf27411211961ebb1a4056f7160261a6b779d99d5af9c089cb5a59f6a4191e85173063cc8165d4e13259daffb7ab19d217c9ec6d84fafc82bbf593a34da9e034ae99e8f980350b3a2463f2cfd5e56a81029c231cf0cf6bbd31b5cdf274e96db47a65410998a07c12a592ccdcac0c4d4a62d96fc1f1bb08148d20b78e0b165e93df1393a9322192cc165c1c5dde06d367f217c7c5d5962bbec71965ecfcc50ab70b2e72e54e473852e7b15a5bb38c4092161f7523330751f2222f45ff4f097b4e4ba759281dddeaa08a144bc59fdcc8cad994cff40d4fb2a6b9de61db8070f68e9247ec483a4c4a060cc653ccfbe6a5fac42e967ffd62388ff6b6471ec43d80330ee1389284a739bd27beb24bd7dcbf52023ceffaf1eb6d2259a175732d6f345fb9d006ef974277fd584ccd03fcfce5df911d482cbb4a88e4f5d9568747a4dfdeabf48bb69b84db165589e46325f324a5fbbf444926b8d25370517a2e50a9ac725bb8c1970b9d9c2277db3e1058720fa7249e5452c3006782534812c6c81925199eed0371a479403c07cf37a152fd0ce783cb2df6d9755550b74c6dc8bbb57602e736ede9d74c16e030e35131c6994e67d9862f8b564ac3747c55ac26fb4edaa70758d2b6d3ca1b1fec8e753f6254dbc64d8f6ad329735229fddfaa9646e3084ee37fb40ceeee2fd4a6af27ba03a7ffb77af07f133157cbe818d758d2069768db4c26edf444bbe4e1af8294acc6affab161d507b5859e1d76a4104822802e90bcc6c331ff8b867343df3a6b860b557ad1c5493874ff88136c473bcf2b3b9b636fff5209e79455b7dfd1d7f1a6be72c58c80b76ea0c12a7b936f12ed57111cf8acac10a928c8b1548c87a59ba0dedeab95fe742464cc8711d7c0226e6c2e1112e9110aa18fbce7417720f3dd82bfeb4baa7ace71ed3717e16594e7ecb5c74412f3563ca23ac0656895ae0107e076bfd4725e6bcc2c91141071f6e8259a88f67a5b904c839bc0993bd785adc23d63f360e95233ac4fd179aa6c4971acb0c6da74222880b7e7cdac9510273368f30df15247ac31a4583ab3d7f715553537fe08c0a0f13eeb8d75d203ce2e5b7818589e3bca36f342f30ebbc3bc95ad069ba16f13e9b4620bd4c83b22c7d45ad7a3f3998903e4a27dee79b00f8970877aad07ff0043d102f93dd84effd163e98e09e311701e4689736e10169bc1576f0f3fbc8559e20e1970f6fa138c243a860480b1fc60396fd595fedf3f2618c87028df4c53dfb4b070c237e3b5195a1408da2f49f019bf1353f760c6f6a7d45a2a604cce48835e5870662a08d166745e40ac45917aab9063f6f096d3898d3d2a54de3732cf270afd5a4a4196161778ec2fdb597d0912d24192813eda084bef6b973f412664f85e97f1ca294ffb7b822c1943949e6c1441ca275b9b5dba4049709bd1e6837084a7633f5857ca58cac991b1afb620aeb7c4b5b8664f368735b39602bd7349445b755e49e3ed1ffcdb8a6fd49f22aad1dc2523569bf3c65d7c953e2889f361891be46a37bec83b7af4df8f2fd45da4448f18b7a52d52fd7bd6f8e531b13a3a00d510edb43a35453aec20f9f67444c401deaee42d700a453325cfab7381d4e0ed648a315e8ec658880a9638bbf593a3b64d43dcbf48db0c01fc8b947e6690addeb6ab93e8d50c780371c6651e1cd827dc26af6fa596d435c634ea1aca37579239144008720029b0d681a56acaa8943488163cef12a38c7c89ec599a919c8a8f16e545af9969b049ac083358f971b7721d730079de09738765b4e9158c8d8b8f2d4a980f8352011453f3c1cb9ba75d56bd4c91f173e472cbee03d1dbdfa6fcc7c48c9578e62c9d2227abf2c9649e0100eabb3e6e07e0b4fb528456626869e0b9384fe79fd9e5178588ef49003a34ea1497a083301a7070557fd25dd5481fbf3fdffd1e969199dd1c4da03a316c36686e89567022626ad3e0d3d107133dedc811e9f5b68944a1636ebf13ad614ae9c99773013af94a6d2e5e0d905e33672de825abec9e2c87f41c0c63233e41baacfb606da74156751ccc5ee67ea1c2130b81af1dc877ffdf488b837fb9616b3ad6f0a69d9669955fc79a7fcd7c9159d1926ebae23183f10c6724b7a552e7d3eef346fb96121079e78a3e2d132bf26667c59e74b7eccfc2c1fcb350aa0b9bc36582aee5f17f199ef046e392cd1d05a181f5eaf058c14f645893b39fc9c59bc5cab2a82433d453c6e22caa9a20618dc2bec73c33642874db1eca6adf1ed44d1d340774da0a67e77f060e473ae55e9c34da3a0b2cea4f68dafc9d6d79c202b7ab40d87143bbbcaa4a99bf7fd3b7c7fad6f15cefe0108d31aaa3c1d45e643bba2eaacb194b844dba71948c432dc7afc961122028c015ce2d78f4e96848412ef42d6682e2a7a17cd6dabd747ee92440b0e0cb826cad3374caa350ad636ba1019728da3b0a177a8f5ad9208388df3f0983e614bc1adbb17a069311e54cc70b4073a68225064121731236f6a29a463d5e68ac75098527dc2599c38c0c37adab6a3e7395b736f90ae4d8f91fdf59bc4f30335e751dace0926e9c53b6d42c1e1f28e17074e3a5ef80775fbe28606066569bee96153812b760a495339afe8f133c13c3e80ea5aaa974e3aedd1791202c3544cc8528113b22af436a875ec1acc650e12b08c59c628f82e2790e65ca9b4c1ad40b7445ab96d2fb83d7f238d6c8f68d83b84aa534b88313d1e5046fdd439ea62b5ba24dcbe534860c05375cf60816f6e0477d79e23d9bdd5d53c8b64c8782fe2501b8a8733b89843d74743d89fd5fa8811834b98b043936e545f29da2315cf129b8b665eb2aeb576fb4864d3ce8366872c967aad91a64b9631781232d02d3a4f6d0663b59cc7b554e1a61462107c0027d270704e8e4b324455b2c413b6a4f6736ab707b2d5d752801235c2bad41e9bd51f63ca16ce130bb03c47716aae4a040c58f6e9a9520ea06e93812ef9182d35a78e59fce9f786ee82e8f74e773f4ae5321abb56e6d4ab6b881cb5ffd0e8ef7dc28fa5f5440019bb5c7da704cad57cac457d8149e52be59bf28174f0ca826841ff95eb1ae1de123a8ffbd62fc53010772863b107641eee384fb11ba591657caaad849844d33eb1902113cfee4940df80d9f8fb6141434ef547f7b41ff06527840ed4337a6de378860fed18bb22fe1f82c5d4362fa543286b1f84de19778bdd4dc97aab40e1f453e35f6be1e0f4a8fbf75e63ec0585678a7f9e164e4c619e51baf2786fb38a079b4188ca5b5e201348aa2d93809b53d0a5bbf96721909e58f468016020cd44ce66833a6630d1bbe036bd132c6915f0731bcc7d68f44e671362b5fd697be6c86ba9ac3d2aeeefc0b71d8fbdac45d4e56933bd23ff0a5d01a9d40780ded25a550d8df86d99583be4a33ff9801e458209c5c1334cb8252ee227ddc72520be1208de27d79be371bf1ff426b5545806c4a6bfad02ddd5d17740e304f5e694d7c6d5e4b5286fb1636cf98a88eb40e9c98ef8321cf744ca63455601b3dae516807f01c2b5a55bc11dbee4a525cc1e33d147c3d58894a3095460659589286a89de3f8f6e574b644dcc261c076af1d6dcb2820375b9a3c59c918205bb05234f40e678cff586a1be3ac786d08d3700cb9d0c2b55025b0bfea83e275efcf0fa2f8626658c3d3b58d8b3ef3628cf5ef9cfd3838a83580c9af52368400a4e3cd4f1f32f99dbffa872ba7cc4cfee0e248c90373b60bfcd7699da9f5d0b46bc2b96aea4dd3665e4b5ece5b79d2271b30ff4937f8e70847e3f0f07566db5884b3825142a153751b70121fa71a2bd95a49bcc0bbf26cd0c2c9053b45e9da17df5ea3a0046086398bed9eb9d3ba8981487d0f9ef2b633b9cb49d5bb0bd54240384d82c3c8de3c45fc9969e1e83f2682731acb12230b8482d40ad5dcf4f3756444cdebc4c7880b74c5abe22528b1e220ca7612ac442c64621f2f14f8c64eef5820092da9669cc643efa0c9aa5d0df88dc3a03a328b67403db4523b4451355e69b0216121ec7e5268d04d1451a4939b6441775a167018b4fe74a617064b086ee41d15b8c6a9a6201e26974cce4ab6d66081bc602bc578b9822d17e6f7e74eae97285b536ef40260fae9efd7ebe48ffe32f50497607a9af13cf7d0a474a9a2504c122b0c657ed17b0795256912d60bb3044382dcead2b4e31df319c65e8999856ba4a27686cfdfc0f1293e18ef171df2db45cccba42d29de90b441c880e070d959abb69ed5584ff166dc526d96e3b364b008313742fe56bf4798288763dcb0af7653e4a220d1273d3f79fa0c7557151544c5783ab910a8c5df4f8aefafcb4179cf422e3d3f898dbc20dfe842136068ec8cf1da3ef62793573a163681457e9ba9142b424983177bca6257be3156ad5c53b02efb4c4982351f908fb58a3ad49be00c009b28903eee1ea70396d09cdeaf7cd019dffbbb5ef5e2601ecad7a77fa55eff7240bbfd1d3858fb0b6ad586070d8603090be9ebc2dfade8d4f9df226747e320af0b0afc8226494f063220b7b488cc5fd50b1d2d79572c9a351698a29d388f9ffa9e6b3f8e95a9c5e77edad9330ec74e253dd69e22959f00d919993cb586826e3cbdd0bd54a026433c4d76a86a37533eff73e2d788b2e04194e4933c3018b0ea24c71fa06282f16f3a47f7b820646c9eec2428ce2ac85241fcbb26f1e515e8e4ce15750322c76eb5eac694e1f0d3358742769575484b1726e20a7ec900587cc14d1cf625c07968b67dc89ae2d6f157e78389c0af76bc57e355ab36c4b8745892f59328e5c807ae187d5523232cf340b33e885f1a9c9965bdae9f9955a104e6befefb69810f58e9aaf24678367d7f72b1cb139130b9b2dad6987402369cd994cae55e7f5eaf8c025e380aa713b815d6d5807231ce58bfb52bd71ecd43d91c530f4e1857a4c421153fb0bbbb043aa768a161fbe1811bfc87cfa4c9033e6cc62c1b7f206dedb9395329e95e510e6d313b62147d4dfbbc9d6db49b637f6cadfd672d7f0820e3569a8bcb477776dabb4da5ad50f597985ea202d360fd698c3b9c4cc2251a116c47be0b90c132d93f0c0dae9f94d480376531efd6086412440f3577182b4174bae42063687346039b7da1f5dd9f0f84d0c6da9fb42e46a07ad8065df509f42b2e34311e490991b746cc2f303c0c1701b96e4e72aa1daffaaf5d4a279c1d30c9f72fbdc2bef067d7965d92cd7732fcaa142e0d36be222d9f470684e0392870d5bd1a51618449e44b1c8c39c32f3e4f01d96942587e5bc6d56c9a0eda2b2566594407503ac5bf2d7f48a23b9c91e290b49ecd6911634fe347391720611be0c27c37acdec67cbb6f6c7950ab28b86f1ee793692fcfff84a1898d7ac47616cf30e3d7a60c0f59ad034254dc4b89883447ec4d5c1ea253adfb2ef62cdcfe21067f447e0354d585550fab9628049edb2318463efa823624597d4971bf508693f5a91b45e4658d57a1c1c3ac633b5f94495dae67584dd2f3c295270a93f26c12b38e3f7e2cfa40066eb140fbc383f723dd81b9c432e541bfd830d973b80d49e513c406ae97d92338246d5924616c6eed4720c0a244970d4a5cd95c228a25635c87d411cccff474abd16829fbcd968fb21e9f6b7cf5b0a9021c8cd9c64e744e5eb33b930057b2ce0c99e964b8d11e1ab4c2baab797d28578fcc462d24e5e1b2b019bf0308352a023ce98a92cd4682b01f944a9464045bb18e77038370cec83c0fea8ea5d3bb70d6a569257f8d3b7de27bcdc6c6938c9b83771087d4bcdd43d6ee28ffcd5f5317bc07b354a7f1e7e304caf4e366a54fd3b4b18a799b2cc632003db28499dd4af19c5098c3af0eabd718381f84143ffd27cd5d38e51af8bf0bc46e27f5ecca243f63c8e3f60a73e0866dc6b08375e7722a61676e438ce1d35fa7dbf0491fa20162adcd92d9f74b169ecbf6e2384042002bdd37e5d794fabfcb0e00cd51a2bdef16483e01d656f6f479a51a92d70654e80872da857bf7e470b7e9671a1e2188c74362c0f0a6771970ddd93fe57e2cbdf813cb8eecda5cc84341850ee0f667a11262d621d52d6c82b72a2fa81f3b3b053f5090ed2f3fabeb9b62b5d7c76d7bc1f78f74038eaf8c2d0e23e4d89700e6e92ae102f6c4afbdd2289a8d371e821125913c295323b22149c21d166d85d0e948c889cdddc5707d9deb3d8d3da72a3cc5d9c64d452b2cb93a9bc6576e442f6c25c0ad2ec52625418393fb10617c008999ea11432a56f2cc75cfdcd0c901088137cea9ba8739f8b1bf58f0c2f7b174ca16787434f0e622518515d6533c618f1a3422713d10efae9fac48a32b13659a5c459a426a00e1bb0d26e7cd24fd48a557fd5053b32b3705b02a67996232d0cbb0a73d575a3e39d7756fcb15775b86bc0f6bd26b06b78231725f0bf848cb5a79305d97e1351dab4f767d2ff6a97ca39868bf014888500cb7b67af4db86b34db7a8197135d75acd35466d427b44f826186dc887381b1ebfb2344431adbfd1753785a7e39282974307eda82b60d93ac6dc38abd9041815d339915a52d7cf6370006bafe4e5aefd1967d7e0f530588f75d5ae9556d2dac0c9708d4156595848248bc9634a0e62f5ae62fb3be43953b3f7660f8d99ed75b3d25effce2e5c6ceefb87b50fb3e555f14d5480ce6e1b52eced6b192f1dc3221846f53a385d4839b52e2d6a1b0f037d3c1aceecbdfe3cb119e5a62c0f8c21b4cd406ac4639ebcb5bebd1b0ec7729efb15a3992bacfb7cba31539db4bb5d27eca87879d4b3b7665b1b0ae58cc33a8aed9db0d0218c6ec08fbcb931699cc14505a8d72b4e4dc0a31882e5d793b304f22e57d1b39c88bf603416d40b22d6324cc5d0405d7f306e2c6d0c1da842ed0fcad6cd98b1fcb78823de533d58a2fd37e8ed7999169e6dea0184c0eba14c7db01ffa9886db349e64235e5937bf6bdc6c14f883f017ac4e7f8a1638304058961b5d0ebc828098d8c5d5902b03acfdc7d11e4cdbcd3a1f576cc911d0b3cb79a307ae8d8edfeecd670ba2c8e566b345c939cf4ec0eb0e33e612bfd4afcce77ee3f3aeaf7d61a4b0d785dec0385e1148ff616365944fb66a2e987a696176b0e02d39b43b980af0e32cce64d7c02d43c24edf431d68fcab3e371b54edbc596d86f1021caff1cd024ef1263f3a57e6626d5edbbd7f03d7d2eedd57a55a8437c6eddb64147c3b451bdf3b9e716049f882f7824e7fe26398069a350559577e1ef61db95b875d90b32abd97f245a70dae20384176d23bea47175201258c0c604796f43401004351211b054125b212c8e60a859a966f9ddeb22ccdcb765d9b1dfa218834968cfc9e15b2f739a1b426500451eae77366b30d485368ab2eb56a51e04b58e343e3ceb402bb8031274f87bd6a2aa17b7f65a8014c629a5466befd7240851c7c32e08de5c175f3a429d0ab2804aba94414484cac8bc4307a4a457de16d0492f4ce85311d707b4b523498a35f659c03a29a4e3689fffd44e3128af68cb9cfd1bf66af516499f048d509274249068f928e4f78202ae4bb7214aea8ad7dcbf0477651775dc201dffec8e58a9a1e7850ba45a1bb1d880bc1f454396c7030425f1ae767ce74eb74157757d0188908e2685767aef67615192d3cd268fda209d5b65dd461035d6b63c0d6a9f203e33377613f0fe6eac01a30b08d97e77b98a317af04838ef00be85ffa5cfff06000b30a3bce445e67bed5e4da665f549cf43b5aa9df3819ac3c4c53293e5be737c489cf2f1f226227c82acb24978b2b8239a5c3c4e0b3d66d63cfcd96779bd7e3c237103f7d34de5c28ad9aa8701816c64d961b46ac7b7e69b24e9f82198854c49b9f6c6c7c84592c82d066582c64fbd0d98e47cba4ec10c381dc3b5be1d1fe355f7b2588bbc729efc97bc15f7043b1fb8b4f893c836533448523377017f787d7039d55ceb04f3fb7ba9259706e99004cc95b7bdb9e5d449e3a72f656ddf8cb97c5b894678dc017ef81205600c95233b9261242b8f1d19f317f20670f21a28d390ba0cd2845a5e1ca9ad683e431470af9772cc1de6f86a109a3acc3da4bf4c05507786798292b45f78a1c04328bbf585c044ba244f0c1978f5464b3eadfc11ef88aa9acbb8c347b879616fee568448d9287e2ae2bf0c8bb22e45a7389410a081b7a100f5a15f3a0724a610d01b9c341e06f3027b7dfb70b1512dd45ce0b5a4745699b022f8d2e3ffa04f6cec3f14a03417c558880325af013134f74d6720808b35bde5facb47f53c0228f7a756f808c9b0d1d5c58cc7ed250290925e0812648e530cff8365f86d5c827efbbd09abe185c81def2888620c498d359f5fe6cc72751790137f9c43406481ad9607b8d4804da2e2903673648f14bcac3ab6e1900eb10907e5bdf1f5d888fcc7e1f36f3c90952198cf2cee716ef2950880c09ce91a8952b70d36081568fe6fc2480d696651b436eabf69de1b47ef530b55dc9530d70b85ca332f0ebe1b57b965fbddb622f9e1ca3f51c64011be3512147788a04f5bbd639045a0383517153cdfea0a34b1ff1c55f53a56264d9f61e3480201ffbfd3276dc26a03ad21c05c1bec84d9ec76f3219bdffba9700a67051018fb8a2ed1481a43d2c2dcdd122e503151c77a25f1e6f255d7e06bd0137aa622ecf70e14b407ef7f8d74e441e3cffa4970f25fbdc2791553797bbe3d6e5ebff8cd4a1876f0febd4981158073d3403439a620fd6e43ba9d76a168ab9cda26828575b36eb895db28684c1cad6ff654c2b79df9b5e7408573ea7d50a2ad4eda78aa2263ed76720e756b728a20a1727acee97ada8e8e2fefee034cdb338a52119e39d574721e888744f1ded92e5552d2143db4286f547421a93cba600976fe965846135d8a6a591eedbd7f3e3bb79acd010dbdfb35718348cfe319a7468992494cbf4eaecb4f0e082a4cd060b38f17ff4f369d1505515c778a99e935915a77ca3992398b86a90ad75352cdd672261180298ee21dc7c02ac041a0bcc553b9a6aaba356a893ba67e8591d2e44e1c656e80fce6573c0e4091e3ca278b4db0bb6e7","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
