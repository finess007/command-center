<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c0c61ceef66a30ab61441dae6202def75cec1f1dc07201f4aa8010eca61df40cf98efc1b99cdbc191d892a7be02b9f7fc512eddabdd459d1764d93e074e99178eea7812c367290332beefe2dedab51f870086ecf198ab285fd0fb5a02bf2ecd205f0e30e2f75a58dfea5aaa6e9da976b1841d283ab085275f505020daf15e90364547ff5a38f5495ec04a71822ec43381ce1f46f9e3a47cf9ce0b93dc3dc8af8589724c25f38219f1365a2a9f0c293f98637816fb5436d686e54c92596217defc72ac456e2f95c903c4ba00bb32be03104b259452669fb6a4957de8a45ef22187a024ebb1b01c19cbb3f886d988ee48630da357636819741192a042d6c6100e4c5c762e6f1fa0a2637ce19850bdf1e0aa9b6c3a60f799b0757cfda881e2334b467fe74b08c7b38c7bec67447e2d3655a7f3d3f844b4dc003fd5d32502c15f531def009bb138ee59cb40b4ee206ddd4d28dc26ae33a46f8c30815564f390c716e3ce716d57ea8a743a0194964374bd56696c9a695343bf661fa253bd008f0117224f93a720bb9ebf9a2b4b9049a71a4077126330c196bb05e784f13e44e856082aa4dcd46dc012352a27a0710e65bfd113935dc94827d97bf8350c2a8eff59284474e14b0feb54bd147e66a1dbab6676586f5670fdf5f922e6cd26744b8a38f45c7229048ed1d6398034f542b3ce2a5425e57403ee8e68cc44d96df2aa08bb45a45c7232508511f261183f1e83f0c54e018d3fe75c020f99fefba7279b2ab793a8ccf355d3547b7bab6576a23ee271687c3d6c7f77ea96d2375fb7d2cf59b42ba955e23bd2c36f41bda8a37502f0abb20d62bd401af10d1623c1ab438ad75a46e2307b2f6d0932b7febc5dfdd659bc81472f907101ce77af06d7d6bed85cfa150242c6aeacfeb5e9507ad67c8485ec639e1eda0b647654d37e827e3f2e1030f3e1cafd9174cc70484f988b2b83bac375cff9397039bf3e9d44c830652f4c8b82c6bc0450dd3e01e42b76ab954609084c44d89f658323e6e6605726589c3932eeadc66e7fd956ef4afbe9825a8dff48129027db9188e39f52047b7c5bd80f1d28b7cc49ee6df1ea524bf802fb240cd71b75f2b9d3da415016464199daadde0a7d5cc631b663a301a8a6be7eb0392fdb01b6e50091dbe84f7166ee98b934e1fff618c6059c1701b10aec943f758a256634fd46bdcad546dc4ce9003ddc4f133ebfb91d49858ed1852e844b9b37791b5816b730bcd06c267f7a6df7cee91d5ac0cef2dea72d5bebfb614e61cd02737fb2d8ce03c23ace3e9d194e22230c57d14c9c3ee211b5b74a093bfe99fd855be3702d8916c1b816a61c582cde6e76cc4a4451b9fd5d47db19a510eafcdeb15cd45eb90c5d274066723035fc943ddaa432b48acf54a7e976f0b23d0b78f9ee708ba7d731d1c3433d953b20b1f7b75b783f8fc6c77ec514727d49ba217ffb23100df18ff9c14b5de68238527b094de80058254b941d8629d1551ac061e7f0657323722642ff363f928e35f4718cad6ec1fb81a6067c864cfdb5f9d6fcd441ef7b8871f96b7b24fe73294083a5bb5af0703bc33237c8fd03fb04d3a41969a40359cdf40ebd8e1e24fa9904272f65ad52285893cc98a488688beaffec64fa95ab0832e0104cf002130d2c07e284de7e2574489025b44d2859fb4e089584b63e19a09e0b0af0b2b25f89042472c9fdd054e96af7c2c156205112214928a93f55bdd7a5f0b98594734c132a3e3c981785e6e0b6a8fdfc22afff6c1b7cba6a3f94fdba1e0906824e0eeb9b0a62c6a4f51515c205e77f476c4f1c8f950d91583a754b73e3babcb8fe5af7dab0b854c987887f3b90ccbeb1d8ffedc9c8b6e4419e2ebb81a3a6e31c6ae24f66af3d4a963162aa9a589ede129d5b2515f7e6dc81f7dd20b7fc1110e800d271b3dc435376b2c658c7c907397e4ff08e7e461b4b18e06e229c76fb6586251f9700f249cf91c8cf226ae8ac21e6037cc1f1000367943f77acec9111535dc844d6c913b7d177c8bfc9d4760fe4fc8a57339fe573dfe3e4b033131592a09a3f07dc77a93b6bddd779b85a9f9dd451cf86fcea0a37084f16b1fa4da09190e8175220f3e8800f379693d4ff578f7062ed8fda27a81e175a241e0300b3f91742e799c59f57f54601158e50d2db1e823e954887832de1aff5a28a571d94dd78d6b2f1356b8b486da7f18e164878152c0864567e76a95942d55f67a48fb71fcadc685402615ae6b5bc129df2830d19ca7185baa7d094ce1e41244f7c190318b4ee5c3b709055aecd26bb5c2f44c470de78ecb87db4cf0bcc4d7c56d8d7e945dfb6977102c57cc21a4c54bb861a20119f6ece1c9405a75218e01a038778d53b865e445c6a78b96d6f1dcabb52b0815f10145cc833f5bd429fd690328373a77bd8cd615688d8b7b9106c65c5190eac00d5c06602ee3b35111a78072a13cfceabe9f3573e46231a7b5c979fa385a2683425db2e5e3aa74cbb88d310e41ab2a5a8c673d96be650eb24f22d37933d64e7c9348539cda1343d63f4fdbfd8234117555d6758100a41810693dd4c528c23020bea3e5d47fedfcff20e0951ef30db0b74aefa526f60d1863c60c03ebacbe43954aea90aeb5d4a38f6ca4cc511a7f3919518007289edc28878a1f3c21f666c40d1aaf5914e574d5a3cc50a7b1e476faac4acd6c675fd4981c3a4b3f7dcf1ccc110a18c82a6a428760aeaca2bff091e3206fbffb54c4cb6bbf3e7bc4ef1e3847691190c3fe4e1a9935354a392fab8f774cbfe575d4ac14cc1393c1996b612f5c7046efca99ad5c5ea385da0ee5e3ebae8535edc70cd1394e4b84b4b08f51f0922c933d6160f99bf02b4596c0d8fb0dd577727f02de521da2215b06d785f8b9f56912e6dd9ba097f6dcdb8bbf3211948281d2394957115c942598214ad1c2967b8c81afababdf33e62891da8a76354025a14dadb788a4a9b5dd6b2eecfea7fb5001a487f1cf3dcd8401f95bf073a433fe3bc636ba30872aff1478e315961e8829396fb21ed13d3a92d750ee64e33893c6474c86b1e218aebba0a7956f218390a00ffc8766765608e89f115886a6173ea92d36202772412760eab5d13a122f034552fe9654015bb3a010fd795477c77916644357c2d35658585a2403eec787283692398a8f210fc115d4f3117fc9d5d3ced89e8e0998f9ebc60b6c206db4fdf0e413673ea756de97781144fade56fff59e54a0e7f221086d54bc144cbb2d8baa3441223b04f921f3ab98aef8af03b191f89dd855c24c27aecad813e7226acc36c2fb69ade7a114b1474fb9d6638dcaa0163716e0c65ae7b1f20aba44ac800100165a54730bc7271804a22724136070a736d73506dea78894797f68a2f0eccfd23c6f89ce97227a00b9cb2491337f00391fe1b105bebd5f2b2908ab0fb7c08b4f4ed525334daf22face42bd50aab2c551ea498789d1f8b633debb99b07b17fa6758e16ad299a5ba4229d5176426cfa5018632e1b98de3dde37ad4f4c8632505448e629ef654d388f7e11bd40612b07c1d5581240472605e1e42cae0185c588c524d1231d453e47f3398576449df2a3d5b0c22a7bb9ae6c820961c5a7429f2763f6a9ba9d5876f91190d54b9b95fa11b733fd5661d11f80b6f270745ed6822bb60cd6d4a6a81710b5e6b9594eb0c174231be906ab4971217bcade8e63058bf2e5747715331f9013c069c0052b238d0a29e5d32c55060b3418053c03e11502ecf162f40022051e10971742a9282a41143843e531e22a2a71956813ddb17f8a59a1147d21dd3aae3b0228369a96219eca649a35adc05da0a0a49502ff89dbb92c567eced410118abd81af382628ebce3a4f8eacd2710c2b9d051e972dd8b7c6755fee014c9c35915ec4195b4bf36eab93fe8c86fc4bb75b962165917bace6b89296ee0773e19d44bbc5f15533b95d0c2bf66725ba4468f01dfa71cd8504f957461eb9da30362cd9b76056a1ae3e4cb8a5f18c3f9b8f4086caca7477c24e303cfb0f6a9bcccda4d1df3a766f317591895e2144c6e7b7c237f4ce7f5bc4a7e369a9df3d632763712f2cc17a15bf3b4102d327709aa8caf2b8a429fa512f0ac72aecaf049d0adc00714fcbf153e2ec8d04c227036b0677ccacf8122dc527aca3febd9c5a274ff7b410e0d13e5fd391d4ade94a995814d1734e730b2e951c2b2f03884b92fed0c4cb9b699430f11112cb6828e2c48e1ba3a34f5bfa03697054bf7fb04d67c0574cdf3307f60112eaf8e922a7d347a49b85189e12e1ac107ce53396fa44f27a41731e0142d45a98a6025f2ad8ba4b8e5b9a9997f94f31e85c601c047d2be65f1bbfe4c593be8bd057fc0cb5314649f1b09a8c238a63c6fabff1c60cc4ca83070a04b82df7f33e652acb5de85bc45a31a0e33c3aa1a47136e905e9b18dbfc8fc0bea2ae772a07de3b04c18825666f696b2f87ff73f77bd8cbe5eb88b28f9ab544af45c7127a700935f16db42207dd55e39314ad8520e7e0ec06e80210b47c30a95fa7b644dd3a3c0c4834579bc6941048da87be7153e7ccaa59694825c70e9f1a1ffe1c2f6eafa4bf16c90d3b1d5a32e9dc266580f4a1ab876f2648f4af30d6667ab85e0d07bc15acd1b02aa6e24f3c757724ea20eb3ea9676f9a344d14bbad64c160d34c8ba2112bfe544b8c57f34aaa9eaa8a58824ce31ebf52d993ddf956249a814999ca1c795c13259f3d7b5336a048f9d068ba138dfdd4f3f068e4f0128cbc1202da4ee80ddeb74eaf22d08c73c687f78af7513914af84c065a32de5c417416b7873a8886347709c76d7d55270f7f586e6320e347995992b723f35171c52bdb7054359785b04c9d0a59f881a74f327dabcd9507d696909571a00f3ebb00b3541912ea53143dd4f680d2163196a757ac59bfcd09a30ee6cc79cc9e62d7c3e8eba5275df36f3e78e49488eb420ab78c3c0e294ea2b6cce8be3bc80472c2f36f7be271c6506acef17bb6527508b03307d87a4a246b5125d187d2801f319d5bf0ad0a8c9374fdf9d354ab09498ae1e00b72e8b6009a5acb2f9d7d65ab2daed66f7b3bf0440425e7c3f6dd41df00270ed4857a6d9e262bc6b461ddf8457e66a7f9da703442af6c48590bb94b4c1d5c208c312fe62b6e0070aecd9cb72df04fcc5550b2c4a138de5097c898051c47bcdeae07d57b529ed6fa615986882845ba5f828036131fa8389adb3e790ad1abf34151b321819fd680684901f312b8726396c4748c348163892e2ae9a1afc463f19f30da2e066f8da977fa1d2465bdb4a5d7a526fa9f15f7e1c2225c893bb14f756b678da20bcc628f3f6ce0b0dcd81fef12c754389bb28419445f203e23e04e3e9f5cfc2f8b14d89b88e4a4b7a667d8dc3bb951592ef317a8795b3020f35566b0b4deb8e3ae709fac409870dc72277ddb36626b48023165fd6281e06392cbe73865041f9f8452d3e9356f3fbaef87c00545c6660e4e995f33c2c176ceb47ca11906136ddc277033a471fa6aa7e53d59e7d22569c593f44c708f5feb69b44b75ac97a60257a1aaeaa5f6c5278dc35fea00efe3d7126fbeee7ed5946308cacce186b6a4a9510193a3033f5d8f4fe8452b56f60ed505f68048c52a649367862fa3aca0dc9e7c815b628e36302ab01432088a78cd0e1f968b0a51fbde9cce1b28facbf19ca789126815c207e8bdb8bfe8a15161833848129160a38fd814b82acc04bcf46e98e80a167f573a8c82276ca838f496a6a1d4fcfcb6b2a6b3f7ff0272e8799463635cc538568e3a6c0d0e61a7148ed3c795dbd5cd062197fa94b15d551fc20956248e3557c2c83b8e887acb61d92f6780321c094990e919a3178ad1aad9473b68c023f0f89cddcf3fe88e4a186de788322eab499de6787474236b2258c22513af3ffe583f3d7fe142fb4433ccc484be1b4c028057bf18c07f8ee3d19b993f673453dd1ff3e3561066c690f5773c685a7aa0ecd1dec5c4b264b0ec7f86f39f5120e87ebcf02804a62ff29aafd820687770e040151d3e7c57639295dd8c67b67a48de1db3a0fdf62a8aafa9983b798bf6e856227584c25b1e5c79b23bf485969c277d6bfa6cb3429d69f31c1bc2fe4620c27d14a7671911fc7e569f83c732d693b2603a2d14b15a8e9f835223c29c7fa86b4b1feab325e667b278dd1c255739027954f948a9b194c1963b14b2a6b0e615e180c4d3b2e04759b77892cde112ff1f3d0ab5d35cdbc7ab9e69a89a0c3d98bd750529cafb92203a2ecdec2acbf3fe8358704b2d13cf268c82a45f5ba9e586084df56f66885b7c93b11c33c8ce9a049704fa5128fe7dd8e9247a664df4fe2ad42b97e38e7363e340f2fab3cf19b016099cae9a7ecb28e4a0bb67bc1a61d1baa2154116b5a865a601bae8a9306aa658fbf67a0f5ea6aee440a6b1ebb7ba68d0b7a74c62a639f36886092b2bd3d12c836fe1f3a0c9f565f34033c52651f613b501ff3fd35e2bc44672f65c81d43279c414f54d05e7dfb9a3c3165f672ce9f0e8e00a480fd213396c9f1eee92b819c696cdbe520623abd84b585fb38455d3a239c561b7708379fc1daa7c3799605103d71313651b5e5b68c1620f4b3657ed7f4ef863bbbcd609dab05755c0d336104eb7f5180fe23f74a7ac913cff6923a010c7c8a21d3e0daafb06f060fd27a259fef50ece1ad1727f7d961435f29c36ff896b0c0be4999a0dcc6c8bf4862793aabc8cc21b09dfaef13e30a12e99893295910cc12114b6f702e50aae16be833c716bd41827de4f19bce67c56f3ca77e0c05a5006ca5b70e557cdb480edd8604ed939981b080a254e22f8231c93d688817004f3f347d0a95d2d420e35fd78f1accf862043463b2f76d16037a374cbb627eb495a3596b6680861da4c5386d63d23a97293ab49e7055ff05431985bf3f8a38b67c6fd3047cecbdc8ebf4efb37b2586a1b903b46fa6d2ae1bf3fad2571a6c575d4ca3df060b8d18d40f6ee2842e79a7b94b718d92fab29684fd6c0058fbad5cd631f7eb45ff19b00b935d4723eab2d6ec6aab096e3efdfc0b02da196a7d499d7321e0a4100440f4a2ab61170075a93326136eda0b7b66bd054a5f8a38c2567c9e63bc418276565f6693185875f51a4faaa8e1bd0db55d0fb5dc5a90b6b9b0b2eef49c3fba52153da9b710facbd8c74a2f9a392a8098228daf7da4800646fa3eb45270aded5e128dc4abda2c1e25f0398c86013b75ef198f843c2c76d37c6bb9b1b8a031dceb6e7b789977d99f026adac304c331e861294efb8bfc99b87cad600dc33514c4039dc09630df12ee8ab2df56fef4e709e45a828375e3058b7ac4c2d36f4b9193fc834a5cfa47abf101d062e1e4d56fcb33bba546a9447c990edf129c4fc54ff75f681bb279bc3b5576f86a821b0798af80d21eb1332ba86de3c645eac9c2cdca6cfdbaf86102b7d73b0700ec7fc1f878095c303461df150d0620582f828c40c551c6cb2c20902f641468f119eaccf231b3bc9bdfdbded5cb4f7c97b4d4a76cd41b5e1200a29251d30db1dbd61e5fba1bf8e61ab1fde488aafbfc0317de21024099e6b7f40bff109a74ff7f6102c50b8a9fa08496af8b30057aa01cf6a5ad12bac22c3dd61811b3f9351cecd554452faf4443544dbb03ca47d16af67e54aa88b70545e4c285c6142686e3c0f74af3b2ab77e4411e3505fdd3300e1f659895ed9848e7ac66d01f77ab870f78c523bb802d32a5a71f18715129d679a4936f354614273d042e7e8465f824844e3631ea1532f87b5285e2d7acedd0b40ac324f9dd9aa238411e1895b101eb4104a3c4a70742c70a909a0a09ddb29fb5e959ead142ff885db7b5763c73bd03918164d147445c14e8095db434136cd7e044aad5d73ea2df62e13193ac8ff705726e0045e430d44f4785ad7af5d935129674dc12a81c200bbff90fdb7bd8eae3b2aab001a392dc3697db1c7dccca1abc2f6f6d39a690073b273804a2cfe138f0514ad2511480b22a74ca4cbb4569b2c6f5d36e6d75d5a65edb1a11f74a651f32bed2e3ecda8f5b0cf17d923ee680df54d7f398b491bb9d9f8535d47b3c078f71029134d346d9c8e4c2b0cb43de5091e7c84f3f6329b3b8a5d8c3037908dcf729d5365da9563aa9e54af0f2c5756a944550edc9db8cecc7ceae93bd53fa7829f06d16d60e44983e03d11b89fe444a148f5c61ab13b10620723f3d5d48d0d7575ec250dbde1cb86c2ab7669c09c30bd29e73b313554b89e69395ba33f5842a61e4b5b422f930d751b96f89f75938f4c92b58b2f122dca9728924cde1f7387c2ad5ea5e82f6693800af9504951311348fe5d358fb4ed1c1f4ee16d122f79671dbfc2263c9c2805e9d0ed216d0c6c0d384a589dcc8f39fd53de53bf83628b563f8f8f682dbdf727742818293729cdd8669900b4ff99d05d26da9754cead95840e68434cb9032427abf495f686a3a7c45c310a2ac0dae9264362cf31d07a56337dabd2a6175dd791d3b5ad349345d60e0a3da3c1c083273d4a218a25cb99e668b6f5c283debe5d6baf32eeaff36c321670699af7eff9257035f94a875d418fba18f233bdcda3a906a9c5c70a4227b494152e74b9b6b1715d8a803de5ac91375ca87d3ce909a0542815f4e9941b29026dbacd2e4f5e43d702de29f77187d02b4d74aabf9ff489a72ec218b45c7434fe9c0c16a5bf28ee9299d6ea5a466e071a2dbe38682ce539560307d4e05caee24c2429d9911a9afac0377bdf8e7a662b8db3f13c70ddf43c71f2c9144aa805f678bdd850d99ddda8025f57b09d8ff80fcfd1da5c8a33bdb905b607042c57878a85c4b136c76146a7cb9115bc9d214946f8419bc558e76cfeb90c25254eb3e7176a304328b8eb0fa0cdd8a85ce25fb3d47286ab19c97c2ef0acec81fd7f44eebd305b6ab5ca6a21a8cce814b5e47d56333c5aaf48f0128b50a000e9b331d07a87ca27546f6cf46e80072639a36c8b9f13bb6af6d25c225679766a328d0a2efdfe0c4a15a7ebcd1028a8609b48283005bec95449241765c8004497efb33ef284d53a7d30093db91fe0710750370a39593ec059ad1b5bd9b27ac03fea12f99a04237adf7d7310b8156873f175287c6e399a1844dfa43c147225caaf4eb419638e1ef44e658489a88ed00b4dab0d67c6381be2ec5113272c615481733b005600502ea0990f5b63a6666ae6f44fd490484bf244241c2262b8efd80c9e7cf856fdd377c8f85035e8f727157948c98bb3cb7f306a6189fb78d76b7fe994a33a8966a9005bfa9369590db1f887bd528367af4a019cb66114bb1085ee60f9b03aa518669228a42129d9b027a2d65aff9a2ef556ba15654ba01049228dd2da322ceb3c7d60ae4a66740fa0660ba127d87da654a9214f119ce7ec18680ce3c27714b1ed38869ee1f23338a6a874db5728a8995981687c9c22c56423761c3268a8e9360a9648bd82c85758de3b50ed8f4b8e4b6ffbf62e2cde302bc1f7dcf6c3c23a5e4440306bd001995d67cead577a2bde149c08d2b648b1f6b85752891ccad8f6d9492ea248ff3bedffe451ad54a0d9ba8efdde75361c97dc944513d9ed1c3ff26189b9c6d03473dc5c5a307a1ee76cf751dbbc64c97886a4194b71e106872add17586d9eed16e25b59617d15b5dc3e34c23dfa19ef2a003c90ba2eea86e734708a2924fc0a54d9075b01ebb06a4eca34fdb48d2dcc0802426bba09530f6db14386793e81d6bb37bfde1b1eef22fe38d6392c2f78de1fa48670b41d1499f390ecac25ada12c9b5001c4ce1995fa2cb810b4f3c0e0801aebd9a008a0c000d8d443750d167030993f2dc60aff115afa1438a9ca5f0be678d6907c4d9da0957a7c106c3d49d08bfa3020f2e346ee45ce1e8861560ddba4c39eb23e6e31ccc7d0f95d865f85d9ebb0c3e94257cc3ac11134959f2d138bd426e4b6633c4c33b2a833f8ae11c920b8573235720dab91551ebe49f71f47d49e7679657676405279548bae4bfe177ededabc079bb40bd145885d1b896f27758eedc9b8d93d9aa07555a7830fa681097f7bcaa1c31b591c175b98c0b73c056603eae0b967b348a8822e4d777a7f94f5f843867043c90c1e4a1faba0b5716fe8c5672b5499eef196bc0cdfbac6cd161076b765f17b631555019d9d22341bd3a461e786bbc673babe1822d141f10d3b8fb0cd97597b7e1cb6e2e687a706adf8d43eb13a9dd011f492c8d014604af33b142984107a11ba824a81690f94e84a3cefacb66c578db0747451e8f565edab78b380b9019f37b675eb23bccada4d5a4ba84f5a5fdd7b97fee722fa26185ef4c6a0910bca4523037901a525183af0ebe348faee2ceb18686f69b671901b306e781e939458b8f1d29e2db495de0d33e747a1b1f553456960b2b81a3129bbbafdf7e0c68dd0f1ef262331b32a1f4ce099c7ad4cd0823841b33c3fe26123e27c451e1f6ae683a240017d8c0065f7947bca2a20405ea8659bcb54227cd14196cf2f924b1ee8527ad2ae510ba441bc0125ff184ecc7f2bd26da1fe297ca9b636746bc32b9f932bdb5d994ee443b21f515e8f0e25cecba393a80920591ce8dd23a556b0bae1969e15931448b65b66b967933797ea2b5847609c5cf444cbaf13efe0ee12c0f70a15e4c336ca5550d4920d6651428f2bd326c0e3c744d53e1ab07dc540efe3cc6e12839f6df84ae02371a4fed9b9699f622f7dec4c701605db9aa554d851c72552a0d2e2a96011171bc52f49f3eb06a19fb5200dd5bc2e0babc4f517e8b397817285cdaaa7491990763cc8028336f8085384a115771548ce4120bb06ff7bdf5cf0ab61c88601c12726b18eff136d6178d366d199781197e96cb73fa296acc124fb6bc0952082e321c5014a90b01c2672c670bc2130ebf4f9b6491cc4ea2d911062f7c7686bd9ed8b05c16d0a805259dd894e4991db58d3a7b71337c00d6639bc2a96c413a012238f6a05689d3ccb693cc424a935e77379edacf42536084d07e84ac1aa2fbe96b8907fabdff6148823d585790f52bd1da4af0c50efd07e9b994d3b63650851913ab5c7ec1b9f0f0d56651a1c23640f042e1b55ce051bf1ac93061081a1e00446510e45e2462d7796b1021580ff7168da38f69f97b1984e5c0d1bda08abb68394cee1a829defa7409d2694211f051957532cfc440b5991c6d6328dab8a91a8afd6b675cc63f46b13093ce9e15525fe0cf95f0ed2aeafc2d4b8d0cdccc33a03a51be1010b93a4a1407548e651389079c256953e8c9fea882fb1916de29c5ff40c00ae8cc669e6578ebc2b56bbe275edb06f14c6586accad6006454bba02207bae4b09ffce9b1681781dc2b5642e1c9c3d008721afb9e618dac872b7083d9e586d47fa2a23d8bbea5b8d1f2ae6314b3215cce86387b0da5a77c7de638f5b699266dd5af74240d1c73da985e0c4737e3196c051705be185611da061440479a20820e02e220e0470a400a39de57bf387504421780f73b8d1c2fbd7d1d81d9a92a9ddea205e7baf0e4242b07a4f14b5909d3b580c08782bee5d07d823b41d6cfda94ce936e077b80fbb5908b8c00a204816985ae02f5398d82bca5e149f3fae51116043999790e2ee223228616534a54277f6cf2a451701663a95828b9968a14493fcff9c607b0a0e985a36bb89fba702dc0d2876136607d53ddf45bf9c1450e916aea534c9c5ca755d8310e608e4a7fd96b2d10456130ff50755f16330146ce642b216fa606941a9941faf4e947ee428d48d9a994c12ad6b63ae3423da9a17ca9dbc765976ba809739f1744f5dc83aed61bfbddd5a318cf864f1011683fd88538b54bd5d4d2cd84bc6d22cb14dc04ee294353002872bc495f3ba1a6bdc086ae817e7132beac16cf4586a5a3c207a1ab1e5ba91099a706e0a4c9d0a0ec0f71e78bea3c547791c0013228cafe3812d586c874a2554a6bf2516fecfbe9da8dc8261167304492865fd086381a1a969d9e3a304bce49f6ba3d6e70361d488a829bc11e05a8ee3145f0eb15ca7205e0dcac49b65a9626bb0b28a842df8e8fb93f1874784e5a61a6d87f11b2bb73ef30e3800fa2b854a1a0f09192b88820fa2a26177e2c50b01d7154e7dd74de80187ef154e9401390da9d19a8b188ccc016911ffdcb683c7c07efe91b26145046b03fa6c12657fb394aa07336d0bdb1a7d5044ac9f721cf46fc174bd8fc995fd85e982ebaac45d8bfb2571d4a82870e264bbb0a5653f5efd661e1f6e4f0b3dd98c6040f2f3fd7fbf1e1c52501de66e3f8c512b10bd7f6526c625acc9323ba44a91ac55d56e50eb12903d44f3f18727d3892993372338c16db2660eb7f95fc901f7ea5bf777b874343a9a4bc03999075a909cc9ec1574ec795e6b405b27b15ca8b5a8991049ddbe988501e205de2ced64dff4e51170dd9dc2be299a113e31fa21addbd28a9d48a5726635e85d857db89bf00e1dae92868d9be3c9762051606a0c9a3984dee711a4800da125e47da1656ab79ba4e8bab1221f42670e0b3c64e153b7f89e854d0692bd91a1ad9fa9880afdb8a68682f8ffc520be3a59fb76fbec05761a8bbaa7715dedf9a84160a57221f47fe5f2ac8f49031a4322d0fcf1aace01d81a4d3a8b6ecf0ab5744e464a8353cc84fc642a6472a1ca73bc3b51ce1ad766ed7b5cd5caf917a8459d1f9b6169bd2c317a5780af6d20d6463a1db082e12146443ada25db4593ffc6b22b86ccbf8409062d32138a123e2f0c7a6ce97944b9aadbabafb2b6e3457d4d7ccb03959036df244e18d14645acf6a437bca7110fba4385593f576a797c6d6dc59b40bd2c1127443f04d268126e0d97bfd6d512c1ebce75bb7655f5618da4f45dab856fc8cfed7258a3a16c146984cca38552af73e677801d95dc4e640d8af5c71ec073cfe30bf66f31cd789b4b53743342e97180e2ce53459fd6de9c6578c7f7c5a28597039a3710801a011642fc501c11c0e0db98b510e68300512566f7b0d11c9cff1c6bee203ed9e5677fa05fba2b110c5c380ff1486e356ad637fcc49269cf4db2942cd1ba14963e971dc786798749a7883faba9875f9574c47e7c7ab1fb5dfd9a169bf9e862c6abf53150a50bf90f26d95cfda41a91dab3ea99b3e652e43ebb5f9528f2e5edac0b3ee73fae03d179eaa2671020aac734541317f49de8c77b661e075ba21cf43e4994083ffd1a8d740ee590b33b46b2f85130a3b94822d567b04b50e240e927098d6d5d31a7d7279b93d55e495b378e8f8cc95462e53ed2b375056613ccfda8bc1a4068910d70b269a13ac833d794845c4c8d62ee0e17cf601760e589f75e7a20dec24c3a0a43c6fbd4a8e75c61fb9d79acf8f708d807294e0818b5d49d52549311389ed7fdfe4272b43d68d515fb1170145d336fdd1c77b8e5ccf5b6abfe0467589399cc0da4743f11d4404f7b830ff4977ce0e80de50e99d5c97c6b316195d8cb9594192eb8bd97c47cb3a8562c456697ed169b40d3785f0f8bd1ac9f58b0084c3bcbc0b00e461508c82a6e53e8a21d0ec866cb5a65faef165206485cd60d506a64e20d4c7aa12b5dc4886b332ed818f4c08daef6019481fd1aac4382402376e381361e0928d39e1bcdc8dd46d6399acc05773650c387523f5ee11ac6c18952e15ab5e0047a759e1cd7d7be3b5f8876472df88f651bd9f83842994b0655cd7bf8876c8f38bf79dbdcd0be8eea61414b44cc642d795c6d7bd9edfae36d65b8c57b9fb7e702cabb2109c09d4a3d1a6c654124720ea2883f8575651a7302e73a86467489e048d00aa73de0904403b5193ccf7aefaba42598697fd252ec7f4ac3f038f10681299dcc47a2f8e9540c38f165a47725dafd3aef781f12efc1493abe4790ad395e8047e454a33f397b7ef9db24bccd33e62decd2ba8e123bfed93ed52cf6fc99bc525592eaf7aa63ef3185ef2da4be1a9d5d721b29eb0933b01fc440af51f32dd527e679e4e5dc03ec136575b6e39258c56ee377de492a4bb32f031c070f828759d63bb75367fa9dcdb3627057896112a0d697e1c55bdba899657c2d7ae72f3718f8da9325e4c1ff5fd579ece5817a6c577fc4e52d04bb115ee2b9dfd55e1e71b6fcb82682765bd622ccdfee32234942050b178b926fecf5e3caf3caf11516024d45d0ce9e1dcb2aa37c600d49fd08afd623e2f7533e51abe827aef2c75041ad4b89c36f867dbb56ab0be962ecdb9f48d418449df4fc702b59bef8d3a5279092e4cb47a93ccb511cc34f8a6f4527fd262f5001b6112d89c4cd5f3f045e432681c9b8e20bd4c626f38a3f3943df2bf3a50a52b459eaa483e3c6f4ca6c2f67c6104467f55785f393b684f947567d17d54cc1bc6e06f557bd30804daa91be14f4a8d9430204bde952ecafffcfea538b2ed280d9cb1a42cd0da91836ca338922ad710800d3f00398227e13ab99ab97704d73c0afaf99d65f18ce8e2681704ebcde61718197f47e67bc4e1732ee0fbb726483266ac5fc35ab0c38f0bf06d022d1dbe8e36cab9f0b803aed855544f7e81fa5cc7c8a3387702ebc4b84cdf8ea42f7196d7e6f153a969a0ccd1be6071dd9329552eaa968c0dcbe1c0fb00ed209414898367d094ba82f9bb9bfc2661ba91833d90d9ec48fed3dc456c557829f6941c583f60b23af81363befff665001fb9acb0d73194e15aca669588ce9991444d7e36d41399284df6c31fb79de52c843ded09b7a6545a8fa2e87eea02434cce28e674e13cc5ef96818677cc5d4ac04b694ff4a4277bea222f8783e0ea2a3e9bd1e3cf008d690c2314fe73b03e1cd8a5b7650421b804c2b61c59efe55022688001cc29337d2df9d26fb4bd4cbf564c29f88f0d425c59cf26c7a88ece3453f36d8cbcd682eb626fd1e892093e04cbf998bc35ad8b3b7a4301f50c026e237a5f3cd99541b67a1293f674be9830447054dc53fa1f69972e831e507bfec09c8959a71d3398967ccf8410a145b551723c7f112b07285d600721e65310e977c04c45b3f441c0da32fbf9afc613357626b5c32f96eebd8a0962e81d8eed70b85c60732bfea3f397d453b6e8a6e2db9e49811f96290b8f3e7ce161b2bef9d25af8abd36176842b36769dc03ded7a0169011d1ebb9fa845700b3928bbe7dcfe1e70f53ed66a68c5877061a04e6891a4190fd65197b68c7aa1072d4d3745e32c00055df6fd5e631d261e7f4c5d7a0a548cf3c741c86292b007b4276c9f8678e6405f1b4ee817af3b160b063053747199c5ca9ea5e64ea239983a1532ce79f0189aefb4634bc20d88e152a4999380fb2007aa0aad49a74e155109e918ffa5bea9871a1a642a13ae3a478e15e134de390f0b8579259fc9934f4645f6e3a3238a8198d6c2831eb3c343551a70acc488628da4ef6ec0075f88ea7cfa16929f6775302033f89518b9f146290415a02d61ba3d68df7534cfaad392f0a78183576f90abd3baaa77b60c16ea34768f3903ae0d89c3edfd705f0f73dd384abecce08491bf021b35bb6183361aa55528945f4999a04416b1e6d1229a284249cfddeaf4103c374dcb0aabfdca5f431d88dabad1fde061ba1b07eca15ec2e5461ed0b683e3b19b42274c847e835996c9f7264a40fcf7e83197cb48d290196d48b22b09ce07fe86329935d49f09d6f3955f2391292574740a347bf792c166441c62e93c74070ae29a9e0afddbff077823bb96dac3a7ac7dccc6ffb1492e12e6c8765aa40f53e14f336549eb66761edb568bc4fa457075bab33d476bef461a6157aca0b07b5d327662f139d8c5b56c6652c83df76eb88fa78b0515f5cb14ea3264ba06bc62bbd37893ed9f0f369a39211cea7c942bd3306a650f01df80fab5052b6b2848c3b0ac7f71635248c97ab1f9e6b25ed461515c16689ee5f33597a323c029daa2af5c17f20ffedef986ac37f72e6194dcf46cd717f21e980e7db367521a1127fa72a3d43c5a4ce7ee94fe2707a5d9bf913686bfefd4c08b68237c154d1b15c7b7d405c1feb063e1ff5d0057f9dcec6c77bf8bad04dc671b033d45b1baa02a10eb180cdbad629fdd78a9a51a7ae9d11f46ddfd962f31dbeb78a1b289413bd25b290beff44ba7281375e778f5ed53b1a0e629bd80f1067af8c8341730c96c96ef39da3066b065e5ea0f5052232c5900f435c1609a5ae6e477f3a4c8b32a230144113b06d66a26c6cdaa9d1928a9dda0bda616a3fd09f82088a561b5bfdc60536885e5bc6739fee2d1b50a4f0770914b1ca0cb0975fc202e858de835c325d02866b438b1ded389aaa7bf5517ea5fb5db11603bacf3a9693189006eb07ec389ac8a87bf550058efde2d28b9cba4b5fadeb4ca7b432d4834db78716ef13f9009b1e4c8df30584d0ab0e3ecb0850ef62935f266ab9d6f110c8e47e3c9fc85b20f0ed6e026b2437acc273fb9737dee7dc2fce70935e0e9dee797b4c68cb0207dbd47a35d29546c52292377ec2622e1d3e85ee57f63b44d32c8d39c30a799054923ae3ee4fe3fa737334a843851bea7f3bae4c3707545ca9b0ed21bde8eb1794095538763bae25127edd4b9b1bcaf8bc2010b6c919c4e6b31d46c64a33cafe74601c9ecf2a82e29faced3d9c27ba21526f82e4b743a8be140a17d2d41354a84745d59ccdb250356b208eae4b6268b0fb9c343b7fb32bbea956e8fe3501b7c503e5e0e581b9e32fabb6b163c1a285f853e3776f66b421dd03470cf900a06c179f4b3b3f2c4dc0d8c20756f5b19d0502802a0bb4573a28848077512725a788fc9cdb7bd948b3deeaf66527b87a295e0e03dafbf99e92b2dabb6b7c801e9522f4b29035a3995472186dd0c3262f94963bf86a8d5c69d5cdae13856b2c8ddfdfb7cf3f4ce8ddce5cbd94abe32894f13c6abfd5087e999597963421744b76c540bbaf726297f6c06b39c33b3e29e660a0b6aa36bd70251ab627753265d044f83fac6a0ad08909f824fae1f88eb5aa5db6d001d0f1af9d6927d649e36f8218e58e8c2694f20b8d77bcdca50d08b5c7fd375bc01c6cb1fb53bd850f9b8fcfcace327ab4400c41649803a62b159524c4f87cfadf08e5c0d7ff8af3e0b60b8d90196fa468626481380aa8c619a27b0d877a05ab36e1124f24acb1a2c7d8855160bc1904ddac90a596bd29e6f7bd4211d884d059594b19cbb31dc52805cae41c983a3c895e2137dd46590f24f84c08f5352a4276f3fee93e3e1cf651622912ddbcf2c17e80838893328545caee2fdd7adc95ae2c3f4b91086df2b402370e5e0222d8d2fed7ca94e1aa6bb9909afacddad288ad5090b8e445c456282c7d91a1e87ee91f18e3c4c66e4665c3dbf0a5bb33aa6377a21bf28526414bc63ac6e79615e1b54519076eec850aee70a33f3b77d22254aa83c0c133826b6884bc41f19bb19830758067fbffb46161e06e943e2eafa761c8cec57dce1cbae843124b29afc13ff738a379cb913bb2973e7b3ea46a2f985751cc970852bb0d18332f56c73b6cfe306f6945fde59942bc2baa2d10f459a17d79a8114ff12fe6108c461f39357b6c6391c0e62d50cde93050de5255a31393dbd1796de7183073455702cb0c46bf4125fb3a95a85a813b6d88ee2385a3a2862d3aa8c70d37db05e94492899aea80254ee54ccd62db98c458d1c975e8c70aab69a18ee26129516ed0052a324b9a896ac8395a1d870a654ae11a2bc075acf7f9103283e80ad610c593d3a3d110b8cb6aca5d47766fc55dc4848a5ea4a67cc41fe1393190a7af013048d7cfcdf853bdb2d3b80cc3411d1689ddf99cc6f61b8626d69173feb5aaea36a49865c6d628a5a91c29d9c213b2df6b32079a46fc2fbd8836d5c25561dee25bc51b15001e9e8c138493c4547a688cf562c3a207ceb1d5ec7da1ec10a8ab0ad67cf239e652bbd11ab4a3fe1df944e25316bef78370d96505d59006b3a5bdd7bb95b548928611ad0cb07b665023ce17d47d6bccbd95728c6ccfd363b2cda2ddabd3629b820294b8ba6947ef912d695204c9edd0c55c05ae928780232f0990ba4b2dc02534feef09c9d2cf72dbd09ee4b807560531376e94b332609bace3b8558c77c3fc864732e4266c201d1d214af26007dc55669d4b9403a7ce88425f2b32288d14f9cb26a13b984e5c462b1fcb60dd66806bd03bfd41c9b5da0ebf1c7f8565003febca576ffbec64eb0cc3ad53297ca386d03dcedbf3eeccac1f1fa10b4ad6f565d704d9a4b7f5cfb17fe4412ce8eee6f6604ed70b363fbf4ddc76f239ff86fd44157b616bf86f30052102e05d5c29468b551eda548ed60089f8a7cd6e46f0f47954a94e57acd6f4f4c291cf190952e65b42442b94caa6a569b21cc5771cc6c9f34be10a8ae80aa9e372029b843ebe74959b2ca153883caa47626aaf1071fea35bac9e25da6a77b076e0690d184bcf6c77607c6233620a135c6b1a7c03b0d0ae30a1487878b2a8cfacb7c8dda18eded9a273df9d45d12e73bc362970dc12a32b6f5562903762e2237692acfa9245952cec030f8e8bb73f65da187e2d4506695855e61036dfd43f1be961a7dedf115b3a2a8b2414f63654e2c67997a8acc9e037ba98e3369197d95f326e5ea68f8cd960973341471693bfb2b182c7d1af717b11b57adade0334dffb3f5135d0fa81ebd7ae1b93892613d2ce4164200fb5d1b20c340fb59f7d0df133beb863d5351d72607393aeb9eb072142b3bd5b06583c13d1c3c82fbb5ae761e7f48419f6486ee1e4f19e2ac935fc965925470152d861b2e6124fc031111e8cd64aef8bfbca2c740a6261bbe58f44d32fe744a83ea7282e44d1604eb568cd4b4186a387c10fc03d5a34e6f3101028751f23d24a0f2bf99955b9c126f83d47a89489326c776e2efabf7449d2b7d24956a319f1660b86a0dd4608c1983dfca29f8f15824b6b305433f05ae2105e1de4ab8fc40727fc45c3b9301266e2813f31ddbd70d028cbf926aebbe7f9875202976a5758b708f6adfc3d89015a0b70dde136eb9304038de77f5ccfc274158170165bfbe01a9838e99a3e8ce81205cfd75a3a9b9d511f9a9a4b645494d1ecb6e1a062d0990cbf1c60d65bbb2d552dbaf546874096c55161b6cdee0deaea531f9c1c79574014e6852a468036b15934be0b207dead356a2767b07a197823d6c1f5ebc9fbd131af17afaad014ca02afcc0a9d61f270906abf4de7012d5fccfc13f75eb76c0828bb1b8bfb5b7a478bef4709ee4034954b48b67c8dffa82aa07ac2febf8b5fb244bcc7b5832e02a66ba2d4c3fd81799b8ea7e92a309a6c7b2fee27cd23f2a77dd10824e428e2fb71d8c94ef7ca508dccecb38b841343c3036d7dd7ecb508838e05a2fcbdc52d010949c61a08d402aeb0fa3e8da99d3ca708d121e0c3285b91d4aadfbda833f28250908ff76018460cb5e4aa55f1fd50eb1ee68d6df72d9fa12e4527724fe23991a9c06c20cc15334b6e7e72cd37d04c9826109f2238429be3aa7769f8ed383d1a2f9551f4c43b0b758c0290e3f6278bf6d7694a576254a0bac971d68891320f642422ec2a46181b14575465776a88b32b548344c4b099d0be438893aaca9ce48276598e986d3d5e098f28ea62a255deeb9a39412683e0e67053866435976bd858f238216e1f11e75fd9d2b2507d9429a9cf7dcc5185a512e596db8f0f747c1cef70fd084c9a540684112dad4a6dc512bd0014c56cdae972fa6a361ef89c791c2bbab62a06e967c1e1b99f58a23f1d7a86b31476d2ee1a35c6fb1c0332159876180c15b4c36aa4c5ff960322be31d99e2e0ce67e1d0b5094961eb4a992d000118cf06152892514754888e8f278573f338abc6a2a4d39e95dd3ffa9c35953c0a4ebdb362987e4c0e8ed280b2276b78c721ac7af7b2220c9668d7b79e3b7c3f1af733644fae4db4100acd427a95007adfe6c5684c86f726e4028555f541e99b2fa031c25dc1fc892c27f68cc002521a0901c1f08f2d3cf7ee143e63d12c8900afbb7e8b28d4f845634dad83ee8847b0d1c0847938bc7a079ff75ae1be925dd0a9127f0081a8f54617c2d2b22a6d7f3c3badf5cb66aaa2434676c345825bd61c62b1c7e6c4b4b31780a3bb1817b4fa16d6853b0f74f19a9bcf5378a48c9d689996219bfb6147b5d9781921f49303dd070a27da233f6b873993be789737327d5fceb6aa5d67140eeb68eab88f4723bb71f6df69040c86b576febf7ad3ada50a3d3c1504af49136939013d830ad7977586ca6db70e6f09e7f85af3a7156b1126871e46a444c0960123252ff88918fb0b58c28b3a1551d3da03d9ab582ad2d7f9dc26c014ce169b3d85cbd969c6f717c0f91b982a0aa387dd7229ef56f26dc705a629c4c9c8edb195be03ae012d3196a9fe2d4c9259fb9422d1d160e0e12bfff424bf292788bfa3c0aa915c257b8757dc28b3743c372965778330c8aac6e6a8737facbe83444dada871b8db05586a956ca9228a5bece3758ac17fe5b347d09c19ae29575addcd296fd2d9a7de8f49d1e0cfd3ec24dc563b31e4b9bbf3d3728665779290b671ab9dfca62a7fffba83233ca42fb44af357a8a88c7a2053fc9da0476db8eeaa19559a58d4b328d38ecc29224e377e1f5a414981f13b68f151210d05f9fa16631d364ffe171fddae442de34c226cc9d2366ac433882ad7ce03bdf23035be7fc6925767ecc229336f5801ad4b5d44748befba6788cbd35fc67ff38816e523a6d7fbe659c6d666e7d9328829b6dc3f9f9c77913a98318f66a5da0734793a207d4f62cf172b9ebefce41a2bbcbaa1be628fd33ab0b59401270aa3a6397f0c6ab706e312ef334305631e95d0c95f3d7223706c530a0fb8a85bf6939e830064e47e375e3a779ac6ad7d226e2aef4ab4000291fd4e27d5d0f557342f4a5da7bb0bde78ae4d516de4b17d80c3a1eaa85111b235a425e2db2e496bf7608590fe24aec8dccb8e0a73b91536da20b34d5516020c5a9d0406d6f2b07bfdafc9ef9590b15d25cc2e57cde8902dfb9d5e72221ff3191862c1e043a5f7289f48ce6537deb14407bb8b98a560a1ff0f66dc6e79234b20ec97ac0ac87d2f0f79def84a469e8ee0d01cec64253437c218c4e96e9b480444d9f26f4aee8c915a2ec66404a7500352e25c139a61c2b6df013c11f6590ebf8b28c4df340c338ca7ec2dd3beadc02383438ed9d5cea83da5fc3a4790dcbc2ce2b0ba7a0208332f69462400f4b822cfc3c6fa821726671afb9eef3414bdf36b63a3451b14568364cc623b875521dda9f39833ef436a73d08559235d639eb05ad75b68467351a5532ae27b6ca0728817d54f18e314b43b11c5a3fda00e19d217e0c79ddd665d5cda13bb5a8c1538cc509f5eb1158f33436a70c57cac6f5e8fca50134272654b5d34081e0cef33e7a89b1945f40cdc3c549e646f77f1e8bf068a2a450dc7ca2e991b80b4048f91786eeb8eb898f15e2290c431b897176c78f2c975b885415aaeac271c3d2824b66a85ddf0e195df7994310e7fe2ddb58f5922ecdb8b066d173e9c16ee248bcbca543717a61ed73820d439d26303c58869d10c4d0b9ecf36c1ebc56ea5c14791bd2f8896fad41c76ebdb2c92af237c3c679d9b3c749b7699a9dd9614313ee0aad76ed7cb0c92a863e059551dbd4703d3adada841d37c48b587d94a71fe6b03e647db8111dcc0ad14722f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
