<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"1814d6e6543d6476fb707c18ce58f39118c77c5e4229df3919e538ff51756cbe3b11a49d57d5b6861522743c7215ae4e92a805cf0aa12df1b08b1ef0e1da7339513aa639e7a84a38a2c91d946439bfaf7f3146f8fb1e3ee0c1926bf19f2f06647f01b7e947a37523f0ca8d143ac7819393f0560dfcf50badb6f0fc23aa32005d5ec81378bd1770eb922ca73632ad83acb48e273db4812c9fbb31c27465a2dc0cff255d688f2d5638a8c642b0934fcc59e2db7d8a370f54939769e966c3bca8e0ae3203020748069368fa091b857aae128c1cdbf3b2e27e613d77bd41fcc136764a1dd9bb70bbb30044f2524e3849a1b120badcff87160d868c03ef4e79443a5d854038fb50d31ca16f4736ae26565d11995575eb39f2a92b64aac36f5056c2c6cd907af5e010b06aee2f7439e8e2147867f94e809720765df599d6a2159301ee6d65560891b11e4d77762ee19cc1348f083809e95365e17a20b2021deb3926678a14cf2be6d8d275de05492744558a0c007a5472b37f5c37874c8d45bdda1342e585d9f78c065b2ed16a22225b552e3ea4520212e81f13b83416f752ad58fd3907f12b718a85f411ba4ab90fac5677db4086f0673e5fb0e7df73af6e00c1d892589368cb5aa0afcbb743bbd6dc52fb2f62cb8a6caf272150dc0e79d4a337c1465a5bebd8b69c163f39ab392b553a9e24f3068a768aa8c0903cb9e279fedf0a72b7273208b4ee7762ae620a9e118ea7eba9a4cc02bc1c9c38cdd337d4764257bb813ffe384418d548a28c2c547083b0ac52f4448e2e1f7305c8ec5cd9024f57e6c87775d99ce9fbbb341ca68d6a1ae3085f84a99c19519b0a455964615246405ee690510e8800f00d660de4fd8d8032cab2080ddf3bef6197f3c4bac4aa9c36783a4659b359e1041c22c9448a7cdcf579a1af27ee3bfdd7c90e421e51f90893a097725272a4327d0affbc40e194aad29df5a895ee548fb7e13c9516bbb126ed147551f902a2c7dfa9a38b299cac25d0746dc1c7983f6b45927c8dd23deaefc8bade56425b9d0c2653176f2ec48e6ea2a325620be82f1a093a3003a703f758b522c964949a52103fc6214e24bc0971d963bae99006cbd8699cabf5aa79e6c40fa363b1b441717b8acdb08ec5963713797d8fa3cfbb4ee6004cb28ffafa99984ef3e1c5c40dc442ce17878503ea16009aaa93ae4d9eaa5853c4822016f5d7ff4eca35ff3c4bf3746698970383eaf28c1112b9c243c49a53fbd99a24018bdd2cf9fec9c48ebbc8da7632b5fce9a428a1dd0a6e82aef41de58172141eabd3330a9d28045b6f64a0c82d4418c4c05008595a46a48011a74d057043cb1d9726ac6b026ce226607d2700c27fd86856707fa21ad3ca71a2e274b47482b424877eaef61a1ccfec072443ddee9be53e2a7b0bd15f029b816e79bbf3db40ece82e0155a3e9ba946313f7e0510227309a668a00fefb980b01c02109e92b2041194dc872f891e2d676d58c7531b3fac214d2e3e14966d3e1db50f13d63569701740e72d32f4f1165ae42b0b9c6409259c37a3ddeb61a3a946a785b378f74b67cfdf26325c89d05b333491bd6e073f6f2692b771d29c9a69d1680fc3edb41204dadd5cbe88f52639c712799efc00b515ce6378b7fa220a67f4e364505d21f8028eebf6d2461562bb92301df7f97cfa8758f27df44c9db30e07c00fe36d3c7559c1f91c285e6965892b0e2baa29f34985f99b282cf0e507a7d43cb0fc87707af6c55decf18ed18f06eaf66746b1fd933c34025dc42429728c97a5e74143caf40cf1a2d8b6aaef9d6b7c3f464d5447179e7e3d62f4f9f97f093c6b7a578e6964420dbf24251081ffd5ae951b5cabeff61f7b51e99540ff2b160e71e9a85dc37860168c8c1c9e0aefb33ba9dbb68bd6895ca325475a7a8063a45c91e5c2fd8eec34902757e4664995eb16a2ecea2ba56e979ad37f7813bde531a15546aa4c15c3e17fb52a46b312a33d7ac2820af6b6891c72831538d5169436e3471713a90e673555901655bbe595956161412a6ed412aa633fcafbec50300301a0afab0f9783d7e00b50d3c2b06e86a979766fbd2b81daa9e646542a8e8a9fe341510d1a48efbaad205104d1b5c67ad52fcab0a94f5861b4ef4247d2a24352214648aceecb83a944eafb82d5bd22ef09e1cea23848d508436b79f126349538526d4b161b4768839f25783e6c910f037be2b5bc6fdec4088d3eb885de73e7a0c73a08d79506cfe110ceee2b3cc99b79131304c756e1ba590272194c46391327a5e919d733209132825cceb1184241fc74dc62fc2b46bded85e3e8640a8afce795cfa07ec1439ccb25d882454bca97148d57aff2c857170287f64249561325396d863eff995e5ddd1a47f4384d6beee8941fa221257381eb024213fe07612df46d3b3c2c64b49651ada6e081ca450b93a54d051d256d5deabfe395b05575bc640ce326c36a5e475f958acb67ed2642425914a31e47c0ba3c49552dd87d2310e8e37642afdff02b5220735ece81e556027c0d38b86be0361ea15c5b71a9b299f0de844d79093d8c392814c9f6345129e606d7fe30d8e55d129fef1a232feade63b53816d9033c4f84d15bb5fa3a90279d365147ef5823688485a18d7e9663bf42077113d29b081ad8a27e8722632991b23058040b06d74053c746bb6e5fbd796aeebc39f32a22221d01cd0e12bdb77901ea5b59eae0a4138689efaa208ce0d18eab53d41072fabd4fe6d8bd21ef77ff04b60f72e3dc7b475969e9f588c449e988fb02881b6e4147d4759c006a293a7037d9287aa16e07b2a908566b3c36992a5e776056ccaf6ba1f0b16a7f604464e979aa7c4b3fd0477b1603d14efae7bf1038650a1c6c753cd9a999c2cf185f6ab231b103e0baf1c459ff523d1c1a231105b884b306319a699602daa173531e0434381b6ea6d523ad0f4b23477b0d7ae7289ba9ec324e330d91cc0eb8a8abdce04f31b44aba752d6f06bc922cbf9b42f8d5b3e527a2db6f2f2422e0969b9fd71d2b6e1d2d430f594767805b5c70da4bcb736327b2338c459a0690e8671793fa629fffd6c222f66b13d15009673a1f78f865d0218f291de1bab37a21ceb80cf05799f02c65f417b0a6fadfdae12c0195e35d4a7e9a9e15d61d9b53f11bf0753e0270b6eacca0b8368a1945bd508096e522d0010398e43e3ba259ce337f947ebb7cd146486057b8a31106dfb4f6ef68fea7e30545a2b6ecb0842c9f419a31448cfa236443c3e24ec47f0f9a57fccfec7f48c751499aa38ea847a02ad6101556d7816feda5abf96a33c416a06c85e33333d069b63deee7c938e4ca369445e3d47251ae1fad7990ca331e0e3756fe84b5370d8f4ffa0778f39f6a510bd3e16f4562e925aaf8c1cdfd6ca274100d3612d1f469573e3d837a63a8a013fa06bfa6a2904b28b24269e3d4764c7f72d9f57df3810647eb065cfadf4c35f31f9792664d737fc24909b151754c6dcab068c863e3f8ac045c35928d93a8cf1881592879914d477dcb7407b9865225b5577812f10b310f3afb4e99c4de035a8d41e362946d39a44c06a20b3448a0cb3ce93ce9c0a871f5b26754a6f2d9ca69a1c15407480a4977d9621bea7ff8b2362a57ff7fda80a7833ccdd14093d6fe7a304c59f0f9a553c2de7fa07fc5048101fb207a111c31325561d31a63fddc11cea74f2a4ceb177d7e9c65cbf6a4b1443d64071e88bfe66bcd6b5aa5e963d5597b426c9ab691695dfaf3e58064b9290ba53bbe4cf0947ee2f3c85fefb5988260e1c7161e8b677873d89bd6da606fb7d2bbae454566a0542f3b0d0759656c67e0aadce4cf7222ceb85ec7ca678fbae192a40bf688a0730b2825d6c26af8375c42f783d31988400360768013af653c077dac6e475e20e4007dcd75d915bb20a0142745b7cf569984c9e04366567261b6c87bad4715e5f18590024915c3e1a188ddb0763ee386b9073f5ab81a9b3fc99ac378537b6e71a84a110702cdd3822c6e92a0a7b782af446d13a9836fc83ca56b1848c9b97a3601e4995f6d7fa3ae29fc6815e23d4f3cd5c8ed9a259c6630711e5023bc13e80a652c3d8cfd0ab8e3e3bf865d62a3fed01c110fe66ea442243a8529222bcae7b5554bdafe3625e37672b25e434f100a6fecf1504718a6380e778a905ec62a26b1221a3172fc53b418676e38cef989b981252776dc7d268c0cb8e46ba6ba0d2d3a8bea4c86a247e0fbdc00409278baa5de2e572d8fc89b73383084fdf284017e3961ba8e260324915e3ee490cb61aa695ad5a7923f865b15be7324123ab064dd96970fdaf87359c3f49d88caab478279f62d567c98c7d1431772304611333ce62722b9fb0980a0869ddc1d25df14244dfa823b9b1025ea3a42976dd6cb3e5db1b220991bc52673fc9466dc61ab22c928f311224c9144285b94c7577d7738a978e0e844ba4ca54789f081062bd8bee9323f9b717944754e0fee3d36062bc156f88bb062f0bb9ea915b185ae0d557487c284e321da0dcebdc36d6afe161bf35ea5fbd1e8368bd9f0eb46ca2d8be98788470b41a733a2739ea1d7606eb270ec2f759870fe85dc7e7f766c072a5cadb3bee618a07e5180ec5d0c81b3843cb155c2f8cb91078f5534e0510c2067565081f01b21b5953f7fe2bed4f73e50de099c0195951acc510ff673ffc36f947fca1df3cf9e82f358664b4c5088694cdb2b8323cc5fc60c9787c559ed55539934eb0ebb118266bab33b67819761310c64500309af2e1edff024d50e7df195aab268886b65bab3ae4deb48ed372a91b2909085911a8760c33636ac0166482a07e6a5cd87ba13de22bb0fef22ef9863f616d32d51c709970f924bf4fdc3fd64ce60e5dddf0ac664bcf264067bcc3ca7d853b20422fed8c2581108fd76e72088d54dd482b1f5318b26020c486c70f8095cfa496a1b664f6d4128835d2219c78f6c345075edc123dd009ad4c87aa954aedd779a04fe333519aaff573bba1384897faca815be20f931dc75c7d399f00d3c98cbea250ca563eeddacaf45fd7f464329d8195562783e2d59319ecbd5c1c7926e1c0f29e842201ff2449cd1611739831ade73399eee3dd9f6fe43bef2b190356da39790f3d1ecdeeb3b67c0c473a4cb79326bc29d136dfeb4e5b67da7bfc402c2dd64f8b32687f29c8df7d55012d8e98023d9c25a66133756b912c9953dab3274786bad491ee7dfd78424d329bbc592e5016e705b41b0d1cc53542916c8aacd82b875097eff471c5becd9ed52f64678bc0ee29f75ee6e530b8e821706b0308c2dae7a9053d1ebba04c1aa82d16618cfba2c5efde0161ff9cc3f104b8bb35630dcce26fee1975261604ee871d2d86d92a54cfac98654c8421a53864498d74e28f353a30a89dd29320a0ac22a98443f7a7660264d9c9610b59f72014c3808038d78198e55fdacb55fd2ecb0843919d292951e793197484369d025f4bb5cd350794d2400c93d077cfef28868cd5f87b9b68a64c9f01d57aa3171127d2d749d3bd44885b2ad43f636440d03e1b912226d923724243d466c50393c25110cca5d28b1858f2ec8d48e6d691bd52526e7503af3690877a84a66cea3adeaff29b6764a245efa06175855b0a3c7e6561002191235d3a6e5c2582c56c2bb7691b4201163e64f90a5a3ca04c6a97c7e884bfc9d6daa5c2357630f8f84e3b7ad5f6ab59664d8dab3feb0170a7b221eccfcf4f8b9199a9f387b905e924bfb4a6aeb389d258bc8e336a6d09a5ff0ddd98cdc00136e47823b92f566a2852e0a749d17746717676aa48e9a849170e6efbcec2df03b5c74d4b2eb4632747b17e2e66cfdcf85adbe976eae976d987d2e68818d71cbf08a923a6040ad74bceab582ac16486feeac84cda83acaa6966f9b47a2fdfe45d6f7821a2b6374592ba8217d09b4ef329e25ebc478e9d4d18e601607481e2dc42a718d8fe6110da835aa64c16fca0286ab0323fb7b495336b5961b05505a15623e2c646ffa04c5ca26880d1cbba8601d51e3be7d2689d8298206a05b3c3a1a14c58c8d98be287feab6680bfca1a062ccb2e65632c1f89bd87b964ccf80ac040b978e097dec13b43e4f9e401aedf383e8d6748c73362c2bb6e31cb00e8670c1f7424f6231c3f77b3bef3d97fe1ce4c5631bb56a7905aa9520f596ba963f2bbc204126fbd275a8552dc1c0795441721d133b091faa1f8648f3a84b7eb0383bff2853175dd496302ea02b600b163451cd7293c6a4eadb909eadc23877e164354d9c319d859e250adc4c45690b27e64eb7e27b3bc2af385829998ffba1d97d66a301b3c1158139447381b17245bff65faf0fda59fce1858763211dd9dd7607aec92f030cc75c2590dff18f14c575241c7160cf2b5a74062cfce18f6398f118937877eb1a41ff4838d995ce230df237ff0cfc3e465d82f9a34d98b6bcd5d1595f26a0cfa7dedeea609442b2c5c49fdae5265d36c6bd71de27f15fb37fb27e037b4828f763df9fca70a45f0ef88c9b670ed0be25d4944ca2409fb7a5eb606e787a2e0d30710732291c99adcad4c5258b789e5fb4f1ef90e843a17806a8fd83aef75fb3a2c9f6474a4027a00826e11f7b947af10bc8ac44013bc02471f357cb5182d0f10dc663f3b878ae6e8635da3e0e26c72ab9c626ebb82d9491b6421c68a34e3c3480189f3b20bad088d3b010ef95765b95b57341052d3353ca36d09a25a03989441bc2a5bb225af7f57932dd321559d8079ed789e26bdf4914cf14319183f64f795d08bb246ff43203060bb1bdb64d9427981f42ebd3d55a2efd25f4f3caa0a7fc604c511be109b432b95a18fb01b493f56d0ffdd9075b39cc90e95fdf8d3c2e4db46d935291bc2b5ea31441d56fcc834890b73243939cad64c432ce094071e1b1192ee7132d843c4857c82132f801dc121ba2111042a06729858fae49ee2ef18468b05b689dd4defd25f108c471923c273b7eed37edaf18e5f4c842ec46b7f0f8378b7435f846cdff278e41107aebdf38cd30db8171904144cc841b75bb50a49731eed9f6956da3c11cb6af9ce2a0e571e7f3c4e4f86b3a72cf156060731101df9ee7f83993d8cbcc127149616208b9338ba242c38cd426dd8dbb623369345139ad1563a5b1ac440cb795f350dfb6acd25ad522627338421f2ec2721d936e23aead7a9f2c58729e59c7efff15777a28ec493dfdabd115af2b11605d2322d95468849512d0182bac4623c1abe7682b1086ab2953d8dab09aacba70c0180d90e2975d935efc0b087a767f59fc118267367bd76cf9dd1d3ea7ff081fc8f638785cb8b266fe3ebbddf2f16e806c313ca5b4735e051b7f7ca1ff4293fa3d8187cdbff9dabfad87ad076e3152a8b585fefec9fdac4a00fcdcb8d6bb83bbeb09db1a5cd6ee71f37733a48e02ff956b204587d3d4dcee0b6b6b45ff9fa361811523f93aafcab01b5b91b9e8949609f9af674e09ac3cfa5f9f9e8c090b48b8e172fe41a24c36b482bffe902a79165004838817aca2f56740d3f26c5a505713f7cef1f63260dd483755242024b3b84daa70607beb929b308691f502bf1581822045e212e6b6f4c681caf6d2b027a58bbe2d95aebb29fa0961cc3e325f3cb8ab494dd130b45527ac195b61a2403103dd880f8642b39723c23ebb1af97f76e5cab47c98dc5a71aaf61c017b0cabc52f48b87ad7a82d7d5201359526e99846933a68f320f822b8a5474623658d9c1494d667a78cdd71afebf68fa786dd6ba9578de5c3517ae7f95b6c5b8416bcb6e7fd303e19ecc37a620a34c0035d25fe9fc507456ea31a205c855395090e5b152bf8760c1fe4317e3ce01ad3d4c859c32b0e14ad2b7226fe4c5759d967c51e5eb06189735f520b873b7749ca393badcafe50ce08e28c85cbca6042e82f202023b5ad6165871cfc4d6882cd11e7a7f56f9830e39a7cc7475bba9aeb4bd4a34df742b690cb20454e0df9e1ec6cb49ccb5ca4166e50d7de61bbc0243ce72bd0005fa15efbc2e5adb742e5f922427dde3dc272bca1ac03168d5a52e643582de6250017d78b2d4ccc8381174af191cd8913d883af98d2b0d63d407dd4026d8764d1f8a2aa216daed9f4da2503d63e136d539705e41cf2e0ad18e055d6d1bd65acf7a8452eaa26188c04385e0ea67237e39bb3635acc7bdf88ee80cacdf073ef9887e850ce5e867579b1ae8c4b2f3977b4c00aa3e4a6c87d1d9f0f0f5b6dd7d476c074d8d5c591a710dcac7c4a8b5fab909e26aeed080ce3f289cb492dd8bda568231023b9a8337d20d0859f58f5f085184456fc5ff84ccad27083158fae7f99d0406fc5d2490db47479a26ee8a8a6cf3b0b793923d1d242df0ccd8a4007ba9cf5eaad62141bfbc59838a488f6a445bcbc77fb1b7338f0f52a0c5468d792d31b7cbca8e081fc0451486185cc7a8a3248f6d79bf3c1cb0f8e5131ecd0f0a17c333d7a8b62d9f32ee01cb49d155e13653aa73d684b576b4723ded32be881636a925bcdb1f489321037939276117605e29e0b80850c2e8c6c3fd94e539c9c157d6d835fb826ebf83caaffa429b5c804429d31bf77d2218738fcd184520b8f31df08cb5801425d08145f9de8ef7f8a5fb042c4df6300917468e4c73473ec3f802c148ce1f3a2ddb83ea9c03b80d214793d0f5557069b07604a0f272346fffdcd60c4af94163e726bffaaa9950081b1330a50ba30ae492c816322fac693f089544e8ce55df73ac7f3713e180e8f1853aa7da3982fbf63640129c4e4c071a3639f548aa52bd9591c25e9ebbc5d5e67e48d03187d083acb8d3f436ba825060ee66850eb2a5f44154a236f7adaf9a410481f7eac93625fa955c5208d0089bd08e3339af8749e59b36ea5e9a1c7a35bb47dd66522ab852640fa9a27f836811c33f883699a2bc6492dae0cfb9a43f169afcd19c5864bf865ef69c2b19c796e142d6922bcc323ca2517d6b080729e260c34096031d2daa7dcaec7719cbef5e3b57d4307abf04e8daa9abd3e323f2f3868ac70446505a7376b12ecafcdedeef834faa78d49c0c0eeb277651da396a9a58821874d95fe9ceba35accc666cbd67c6ce961b0bca2ad839f95b6b14715533791b3d5c08f6ac7bcafe67efa60e15b6d16e4a1da5039e9e8c2bb189f024c8ec65e23ce2abd97d01b53bb96f3ff8c874890b918a7db5ef0f5ec03e7ead401b9f8cf7f714107603eb35e219462c4cb2c250abbafb459df5072b56c2a72ec0ac4be8fd57d972f5f812ecbdfff28eab98191459ffc9a6f309f6610d8e87deea139948c50599088582985efc360bbe650ec747df0940f2f3f9e2d1d52630c3c84b9a7a6f6ed5d2d5a7421c32ebfcdc4ef3e1106a998aa98ded090a7ec8339ffbf53a90aaeb4cd84ac5c8627d5951537dc03d4ebe6efae4267397bdc0a50b852c30f5051907b0e2c0b6ebcea0cbd4550ed19c8cc438ea8236e1eca7efcdfd5779a9887e84a8c6df54d636a19a97ce540a0a8fdc72149a84bd428066f3ce5de275c3a384a192820fe37197ba2cd64bd12d5b60afeecdf88fb6b96127aeca3f2c3838d4a0edb4c596b47fd9851efdfa8f0b7f8ca27ccb0a95d22e47b407e9a698adc8df57466727d4963cca04a4f695126d5b42e3a11d3eeb8ae427b07386a6002ad9064837304d4b95cea6b7db2913081d2774de330fbddaaf7aefa790543af344d65eb27af752102b7fdee1732bb79ef638a09e68d6379ace765ea343ca4c66185324af3d83be76788a766473c3b286362917fa3e622661f700a46920de18395ae3dbafcb785c7d09702607a205b32ce658066f561e2f39e6e3a800f4d5712cd0f390a738056455fa2aa84f230a7d4bcc91fc5703f4073106b3d76ffdd1c7fdc40988ef5da455831265271cfcbc32d9d8d7cf6789188ab5e4df20ef555e361524860acd5188d97f70bb757317770a144b01232a69dd55b9e5b04d2c2c743042859417b8b469432db26a6924d375ec642714cf842ff469d57bb5ecf0e0f77cff4be8d39ddfb06130fad2fd2a7ad5ec43fa494288ddff172e584a6f9357f90327124afea1ca201d9acbc472891d4cd74af55fadd74e86be9eec620fcbb283098aae1544a1696c09f6a5ae8d3ae46eb644abdd334aa0ad327e5a1f5be13cb9e142181d54d3cb5a68ae00cb253ccfeb04fb371bc8c2272f6d18cfe1fba3cc14ad22bd0bc7fb73853ac6ce06d23ff61da46e9ff6bf1f6336678f769cc78dc06a68c2a0ba48f60de1a992bdf2216a06992540d37bbd61cdd21f673e398fa5bb0b99a66991771a5190c7f4949fc237725ba83f554363a73c3eac0c599482529b0b72cb9a5c599606143eb815c0b221c3e0078b260adf08b7df9e3cb0e5740f2ba217befcd968d0ddbc19d479c1129c53c1b12c2af08f12207803e1b2845b2066718c12000aa730dd5e45092081d8179a1fe81fe101f0d2c7030858d971614d5f8f1e61ad1726ace8d1e71daf6c0e813fa7428ea1b3e2a25f7429f01abf2ff2f47a5e0ee68b7b136a976aa10f3c3a542ec908576da3f4fb218641bb034020481553ce44a4e6fbcfb66c1ea3cd0295e79819efce2d6dc0dfca1b92a9c3db9a1df68726828f6639f8d77fa532217fa4411d781c7feaf235e5b973724b08e13dfe779c5f8c18f77f6ce6d9d6bccf2fd3f43752aeaedbb8113e610cbc8fa47b96e14ea4007ccb080be865bd4051dcfddc037c8773b706f09b43d3865262887cc98917163dbbd0e51d59b06cbe920d5edb0ffa9beeda0a58c16bcb9bf34cc631f2fdea158c8df2303f4b3633259f1d56cc34e4fa21b33868608beaf505deaa18df31507327204db58c18a9aa4bdf38399b2254acb4533f0838899b8b7594902a155b2b2729b3dd7da444342bf31d8425d70361b40729e71d73e8c70427e3681cf0ff634e1b8324d4bd18bd1355ccdd11500fc415f33fc4edd68197e366c84086b7f5cd3160fe0e5dac628e314c7652baaaf8beaf48ee5e5c0aa1ea65fac5c53046e082f110a2fdc8bd551e89939cffab4a913261c82e9ba51228d18ea0233afecd2fcce5f4a2ac9418727041e945bb38da6926a4d97dd38507aa5a42b20c580f3b9674cb7c58bdc79feafc08b007e4aee6157abf2ff0c46c37354b60ef735f13b1db3bd39087d9495f3f8b4d2101ec712e7a46b2ce948c6a30d2181e8b9fb61432c1687998b359ae187a84cb69407f6883c568156ed4242bab830907e73e12d9f7a6b7eb6f57741455cac46d0290fc78dd85dc89ad5bca4c123ed28044473b3e03885d0ea14bf90f3a828fa88b1605619d849ce70b5e8fcf2f9386e9762a74b472c32cf393d454502e745845887b1fb63902d6dd8455fe9c24addf2b0eaee053bb80a8e2b4b1b650cd9c3ce3a83e70a742879b38db10e7fb98eecd9e57df9cf6608953c0da1e4571344e295c2d3043155539632b91d1afc6527d923a1edc8ab1d61358fa91fa098351a01da61c20fe6911068ac7bf69bbc7fdcd12fc89e4ef5ffc0938964095616c9f49d34f16243577cc02702c15f929d776368595913a5693e9e717a67152dd3640e3e740aec04c35e8c3092a54724a6c7690d2f1ab8d4abc8ca500226c08e022ceb8c9cacad8a7ce54d5f2713e557aff8366c4a07714d8a1b5a4cde90485c591dde8d38622a30f751c82fa3ba5c8f704ab8336f6d9d2671b5096fe3b3eb9a488e369cafd90a63b4488a13c9cc9a5ead02f0fb043f4157f2d4dec6228b996dfaecb3711c680a947813afa7613783c99c5a60ad7ff546826c1a0a0bed9ecb9f15b552707bdb380f7cc6027acc834ce170d5e46775031b6a55a41e9ba87df5a96931c14bd93c5eb3d8a8123d357726b1b66e2278f6049fd140f27ed7dd18faa47315dff5b92ec053e1730199cee01176fd634b543455e71924d38e1a46851018aac992a25b96deba8dddd1a2f00627fb80da9d71bd6c73f45952304944f3e52669e941ebe6878d61cf5354d3b1e76453446b55a488e29a6e24d13b1912a83f5621cc83c910e3584a58fc787ea4bb6058e21979bd6c11894affc9cbabfa80c71bc5db7fe39e5cd8a51b3d572cfccf21dec2345124faf3e5fb0b9e45f6a3c4515433b14ae122b97f8fd25cdd21b62ea17ef1ba1e9982f9cca64b077752dda33805c64c32a7f139ea23383735efcdc73db8f35121f4f93ee1c450957799c7416145dc648f963de7af4a78a6e5b892bdb4377802bcba491cfb125e9d8149cc5c11bf9ba3e340de7b569e3a70b1c69de9d43b59d784a822ee7969185d456965faf9d3bb42e2bfe6c1d50ea78acaa1c679a6a7b3958b7644a2e9b20419fa9434740ec27dc23da5c7ce58c1de5fd3bab961791758be060979400d34dd7b1c860421982a5ef43589f3165659920edae154090afb9cda05ba3be97e6e0d778fb5293669e78de664bfa523ec8409088f5e89fcabf2d084ca9c9e9ee746008a6e7636dccd9230ae46190492d18a0fe89519f183a1ce058f1ae063825c80f539e9625e9b00109ae1a25c9b21b94a8ed485738ab08360e4e2d99e196d388909ea9149353589c77bf913d079e7417bbfce6313b490b7440968d0726df7857f2010db5401193321cfffb3cf3d6ea6a768b2b0de51f94f762e804e5147eaeeebcbc793854d60bdcbadc483e71c37f5d707b3fa3bdbf837ed8fb92bd2ee29d6a23168cb245e473146ef2fcd5a08594cbbcad8619a35defca903ef7e167f313b6da3e4403db6e6db5cd695f2d61e6be9f2804ad42e3f9621a7efab891aa74647d1bb8619035d9f46006705af06ad8ead233e76b0b5f431c2dcc1c3a3ba8f05ecd98262bd0bb9b6585a3567af0293c653c6d641eb5965a314c9406ec8571c8fd980e041c1a1653d0f2ccf6ce34a0c1090ff686c0ba5dd242a1513bacb7e77e0e15a06c83251826cbcce22e8215023601984f1262fcfa45a3e112fb12f3a95651932bd6888142307811cbcfe2bb1fda01deb82194d836738da27e028267eb5f9d3e347df3c97076f852e34935f4407ff37918e199672d8758345da4aa40d8c0d2f54df3cd3a01e68d2032f1fdb0f2c9cabd1c2b1551a557f8f967f038ab44fbb2fffd0947f95090df6501089460eb85062c715b38e20795b9a0ffd1b6a50fa9bb88570c2d34bbc49c0772788c32e174dee09a289083ef371678a829aa7a53531055b2bf178774b857b1fdeaf81d49071e967cd81c57e3ad8386237136113c1ce548a32f934a48e1e32261f18bb31e40cff7b5da81cf3151031a22703f213bdea8f9cc5298c9d09a33a67e23a8e6c2b99658d32f1224be214a4d76b36198ec5718c72f605924ef0bfb416d1fc9d6f44e81a059ba9b2e01b8ff46afbb0469d81d44e127632e833337c66b3bf2b2731b1dd257d1bd827eabe1081e6899e6bb8e7a363b03ec108137be2d050c1afe75e042720e8c201301c46cc3c7b22c32b3504a885a3c4fcdff5c0243bb7a05432fb1b330641a5ca3fe0c0aa50a9a2b40c280e28eda0f37ab3826d4ca444fad26f5ca3a70b655c45c55cb254941148f6fc0012e51ad79049ff45f2d3eab52b02ada909db8b14c2184fe0c883b05d6f293bb0c86816e87377bdfaef2aa4118205ccac89a4180fb187414ff6c3b42c3416f3bcaaa14f24b7b05ad9011c708d53dd5c4d6b45ddb3bda1cd805b2333735bcfd0880178ede46e58daae08cb283f7d4967ede239e3cd1cbb3e892d53255a7110aea83ff843ace447912d8f74d09a5840c0399f55546d17ee05951e3c6ab75e034dab59a849ccdae495ade33c74c1d6e6f259fbd9375677e7e942338d83e9331a19d45b2757cc1969a2faaa12437ef498c2cb522584a31f3141af015509c33d0770c03b008bcf4a751b19dd536ab6fc9a38c5fd994d6c07531a52e425eb079058ca573fa1bb4007bc2a8feb502c98b1fef3c545f75bae45f40a0c43894bc91733363725deacaa98548848627b4e649c5cfdeb6b6a993f8e93fa8fbd20b371781cdc7e0ea8e475d6857ee3e77015af6c8e2665ffe172670876041d57720b374aaa135cc1ab9ff71a29d976a57ff242c7e38649100001e6cc51cb8d5aae92983087d335bd33b51960933030af4fb2b95cd2e53331b577b6980aa25cbbc15bf47a0a7f957afa38841ca3c8173e33fbbf2b6ec4d354acf7046de446cc4c7735feb463c85984f0bff246c0cb849136e5a637988ce2cd7f5b07167fde6299b25f5d15661d1a269b78874c07ca44e516db19121e395e7d4098b3923352e9c6a805875ba3b6ea236782e8fa804071a4e6d2d00ac6e49cbeda9678dd87f188c1bbb645f0f34a444bf294b6f95994cb3ebc5aa61c4fc36c6cb9bd44db8dbde2fbb91af96aa6bdd6396a19403d83f67548e463babc3702de1eeb947ae0b9569bff807132b1ea5b03116b10ad975c27d9adbcde6e3765b4fe17227e53d24e32d1f25cefd2f6e50b21c6028451722b5881c0698b7ff62c3b806da2893e669ff3cb98f37693f4fda308f088773b5e2058e09c59cfe27eb9d8a54fb08f09c31f5812de86c1f3d70853bab29e5cfe1be7bab12fdd31c411baa4b1455a5f71fe6e184a25d68956490d852c16abb386cde2b86515f8450ae36647dfaa1f25d65142c1b2392c4a405062647a026a6ac62dfa5d7aceceea681764a0e79f053f7fd6ec74f341321a8ceaae3c704ba82472cb499db1f91da423bba87ebf2b47e8f534d86da53e49d91d95e79bd5b6f82133245471cb2eee2a0edba3d76cb27434f3f8dd6465b2af48a6b709d4a0fd1cc9f7e8d041d1720bf8f11eab13cbb56007a765147d1fd6841143a9bb3882fd453ac0c16829de125d6605d741ec62e834060bb45096aa0de53d66e835c11635da246b2df72044c1d71d8f329d6c8834461c42fe8de3e6862cced07bad6e79554796b4ef8014d26320d9b79fced0789c6f1e3e1611bf89d13b803e28ef70fffd837879bf3dc47558844466a7292a20ea6be80c36855a61ab185732cc18c497ee6ed7d9abd4475b6c5cef3dc51b338ab344184eaa0aa02ea3b223ce16be4d1060370003ba460f806786b8eb3e915742d18f18cea74c77a7a6ea385c3f877bca5aa0c3fc30076c324022f11b2df5d7656edd32b3d3d617b6dd8b84f1da5a0740f66812639078f42543885006247a708b4842bfd8f7d5adf41df52cff466c96d4b6df52e259d7099b0267b25a9beaa6ef48330c45f5fffdd6bdcc9b43cf96f262ca008da81669198a3e58d5e2b4f74aa4c73450f0c1838255345e50ce95b173754368377c1eff6c393f18a7e908db1f3186153feca4ca248f8ab507dd5915550d8c871d2c460cab76b10c97ed3373934da2f083f658d8d4163b3468a9b4681723991db9084df9304dbb0af454f68f6ea63b94694515b84ea3139060b5cf9c6c85dc7a60cad33f0a885c27f4aaf2b12534c022a188b58a398069ea41b32a3cb1db909730a0dbfbecfa8097ccdb231b59cac380f4772c3172d5614cd59a112a8b31d3e147de9441d410a4cde3c7e8d3e9274c273eae85d0fe9d0600eed4ce69297fbf70ae9f7a8af897b1f8cffde0b5d6fcf9ac32207666f387cf64f7cc5797c424ee287bcc1c71c2afc1727e6031a16a3d3a8eef446f5b9f93fd8cdc02b395e6e3a5ca24a0960ae4dd186e67a7974f0a68b1fbc026ed0fe8cd4c933f41a0abbce957b77236b4d6db3e92bb1fdd2a25321dac61d1330906237fc7736aacfbcc980230b878191801c3a9a87c0da9100c828be21660b7e75d39b942d342473ac6d5e63017531a95fe73a5b7d2c12714337dde96962cc5729814d7e4ad88fff9bff9f58fc97addb2a4f662b2c203f12b22428c93f009d84c0c95b3b359ba149aeabd10b27f658ef67f97841868a499069dcfa1b6ed0e23883ae80835ee8a9fab080c94bf02be2c750c50674dd2f2fe2d0bb7c3979e16d2f22ef2a0b9398144749fe22ccf8d2090207aa40218058d68e93d35717893e9210691b25ccefca6aee7e5b750b07c8f7e3ae4a7cad05821cb27ac4d84aabf840ed2bf1ef519b00e0994e4e8d22682ae7127513617402373e3c836c737e2f54da89d6aa4d24992715378f46aacfef1ef05b70acf629f42795924a600f608f39dcd650bfdf79810005d479753d2a6cd154954c831e973643826010bda78e76f95d61dadac9b90c8ebb00ca7647a12306a257de382e80371c055395f61f70ea0f4236c8af47893a5052fb5bd3a0a914ad4a4cfa73c354c3f791928c9e69a3cede934aa650b47f38964ef5629f0849f440754956c7ddd238f52bb33608e969f3aca3c7639237c2c916283ddedb8d2c44f5132ecfb5e14ba61712f8e8e2d692caa8f54e6fc72774bb034ca78250ab292899e5de0579f93f1b301646d76b091c78770fea8eab79ef618e9a83441ea4dfc629aeffd8d9c344b428031f2f788e35fd8d167b9bfbeb1251c1752ba7c15073a2a4ada7aee5a54adc3be163aaefb9888e76e3da7016817fef2d5d5151de8581e4ba473f96aa6fa7af2dae62320e318aad9456586e7fc2d5e16449b3280a36ec9727f302942f5c13c452925361b2ff1ba205f229f5788eb7d719fd443920d6978fb7f8dd4a74ee5cf2c2dcf7385a2d47c3161abedae77e873941bec5b717c5a95d38c7020d34d9f2941056d7d4d71ea73567a7609f9f711a2464e643dbc42d625b622626c4d394c232c812483bbb51fecba620aa0aa4b6e3b7dbc8a8196b6bf1382968e460abb25068d7c22951e2a64226b2e61cc673fea99fb0c258015ea104798318efcfc87dba40a556e7624fbc3cbdf24f65e426f0c67f75f891541a4f9fcc3f5ca1a68e7e49e0c8a3d22006069affc90aee64dc873828e8fff7c8cc7c027dbd980aebe3f8f48f0907ad10b162f7fdcdc21244cc377f38aa9f1d1a28a2249c85ae610e6999508b1183068abeb799dd405576c449b4b0075769cc3cb3ca3be17ab0809d9f3581ab41695469ca11b08c6656c0de913979196c28b2254cf58594ab2973fcdf937c4280ac1530fb65508b423c669bbd1daafece5e597d0cad5429c45e3121e79bb159c4e610dcd20e25c6c59f2af89b7ab5aa8896cfb2ceac127a4df80f5b98e1bc43a49390fa3d614f8189339cfb6feebce9622b12113c8c5ce6ac2d84339475854b6eb3298ec06847ebb2bb8c9d0778e44fef553a9ea9cc5f84760514043c4f22b74d998d66818bcb6e76ab3195a54ae1ef7adbeaf4f74206f49b2f3a7a856c70c394e9378ca10e5a393804533d357b72e755639a8a9d9764292df0e53552af691bfa1826b3092ffe333916c9cf4880f6c4c7d0b6c4f29d43fcb076b3782c8d69e846a51912f423d3a56e09c2ac20c3bbf50bf6ba81705ab8cd4a63cfb0ff28d88e001046e55b1b13d37e116efde2d377a981a46c0cbfdcc93a2b16fb1350e8ce9bdb73df2628d8c8ea7f01f100f6ddb9f1f890961e685e805587a3e984c1eb087689f420c837ff29796a6936a64c7c3b110183a23246f5ae429f69cc41615e92806118e685c18b90ca635dfc888fc1de45621b0d553b3084f6d1de4d5736e3cd449f6b011cc3d0d0cbcb4062e3d012a6f0da0e2020ac70a6f4a56b5b7209c509806553000c138fe05ef4f33be72de6c670f2747ff853d39454ea97b1662fad751421d14ab1d6961d92acd7bec039c513130c7c02ec907590cc86f92bd61c0ef42c8ffc990011a5ee27c509195c0e2d7f0fd3e7acc4833a2e3ad47c8a34aa9b9da2fb964f6c9a1f8396b4e7b7018d027739b92c7170ce69bb199d699938f937679030bbf8255e3e1caba30fa3468c49ff3cbbb1c1e0d66ec83438c3aa08135191f5bea1e827d3112e9171b9b0e4b0812b3f74458f17d5018edcd2d00b1eac83ce697b6efa0d7c5ae446cb5b400c26031d9edeaac48e2d818338b5df3815107c66a8c40581a83c9e5e495627bce53a2b27d8814493700151326b54161bf332ed0335972909149657ab139d6b98037c156d711cd309acda37a016c3d3149a242f51d17f5b5995a78d41282b178e493e2716fbf8d02653891d43ea568396f97826561dbf1b6d2c0126f238cb7c14c1894af38b5193c637459bfe54c97f641e04f791bcd478906a3b9e5bba1527d7e73267227c814e27b14c2ed0b745c39a77a96f4b6ecef14098ab60d793a5409f780f6bad8fac2485e4f5092995a54f15df16e17027e54de23303c8b60ac3010c408e75343f77c8720ec24c3c071ca8641e59870d8c351b7de8a1842150f50581938407d45dd7aa104cbd04c176f70932f36ca84ec4b4ebb76152e7957716227d6b36b98e0087ad66d77922d5b842e9687760e1b2da7b74452f3c4f1d268ff1c5d4463772f0df65ced938629c6939bf2e5e5cf5a42254cad125edde88b51f5babe344373d6b3097604fadf202a591ebe4cac92db30addcd83fd406f189c7de0db55562253ca09381ae98cc07ab69c825e804c31529f20b13c8d6444f9f736c6d4f1842a138399887e8358ee971a8e2b2405ac18759dcae12ea7ec3f77dbf5180870848d280f3a5cbcd0082a6ce0c74b480cc048186143f8d128728c597674ca9e57628154d6e91811bc039edf0d78e3d44fef679024eff4a6fdf0abdecce3e1f2e6822db880766658a430ee4b7dea1a4e5e0c5263b5349a5ea2eb1477dc2fac61f53346557d8926a6a6f20b4526b278e5bd7d339cd258b2c777dd64ee03102dde9cc23ae77fb64da57592f046704cec303d1ecaa0e513ab9409f2870ea14346e6df46292bcc474d92ed24fa06c9d7fecb4e48ed43eb2e5ac391c0063069926fe7bd3a9d1b9ec6a19f479642dab33afc982fefdc36a13c5f4131baf87cb9646ee3df2916e2231eafe0efefda20d82364a37fe7b34f2591adbc7b783c090081956313db5fda126f4e3ad5ca4aa1afb01a76efe86be2ebada94fac6d550c8f72e71cb9ff612532d3592baa8602622e8bd7394e0f392b0191bb4aadd861ef72eaa5d960218d9934af7f1a6a410359f5e55e3cbf6d802285f610d15f7d8791fe1e52aa5b4aaf0cdf9b271a6dcd43fec655565fa47a7680738abdc19ee2f8df6f8ef15b492f725aac10b08f0eaaf475cc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
