<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9d169326f73d94c481862937f2135e95a117ef053cf27e207f9dcf6e169a4c99e0474e4a11434ca8ff00bae8734f7246a55b3866c4cf3cda0c34a8b64d18887e03d9acb5b9913ab87afae98687a647c228e42513cb5da9c642ddaa0df969ad8a3cc200791c143d1c26a11f78f40a53e12d5c18365a8df8adb8e71b6dc3f681509ea83a7783111b30bdfc0634239c9475f28d5f929b373ff1ba231bebe2c45b3e952293bdae1d002484ec6c8a37ad039e31d522ce3dfc7d1416fd2b5379cef1a635f4eb25744dd45fe27542199b653456ae221a77d4819ab3efb70c0c4b73b7bbb92f60a6523b47ad369192963e1ab4c30329a835d66e82a330ddc9fe2e6ee76d5a537d29b2770a2648d95a6f2e4a44eaeb1a53f332264bcdbcd9d2b6bf70bf551633b2e21135e7c0243e0adfd8a3b47f8e6752db5f539136d5a7b770fc0c2124c6c452760984d02d566b40476c902342a177d9f8e9423978c5341939140f162d79fa12652de50a662089dd4dedf06cd1017a115842870174f9a6b7036cef74511f203fc8a47e4ef73e4fd9ce99b9a97cbf0efcad016aca20b38a9b93728f86e84e08dc6cfff02cce997cfb6f4e2b4985478477e14c1d4328b3a503c82161bda6d2bde5d44fa302b212829872793404cca46429e7b78f1633edb2feedad8c0d02817f98a5679da0c8a9f6f3b53e9f635e0a9cf8ed6e8bb7c5fd29eb9c83b59e8f4603d22ad4a76b5f261ba692b2d11db34cc2d5772e239fb15536199769d9f85a473296b27b351ff2fa8fa8e055233bbd5fc6148e8fc5f5a5c84dc125544c28a32a6c57e6798f8a4163c3eb1a0a7e538a8691f738b54c2a3e09939874617d01d73e88d38ac4021d618959767f212cf6cf2c080e14b200fdae9559de76afbd6636516c2cb7abbf8d18f5e19e65e663387e4407be3b7af4cacdb0a9f28c2e755b1c792c44678405c27303c9b080ec7fbd1b3e709218dd00057f52ec54f0dd529eba585a035927c616297f613cf33a4f2f2a74c84cdb23c2c54a52772a58ba2e5d36575d63dd5e9011e50d18a14f30ab53387e330ef2774d7f09920c36cba65ad776c4534627efdedd0a8c23e2a57ca0dab7da26eac9adb8f644bd8d98d79153bf897bc804a1b8f4876bb18d47fcea1037068754c83f95f651fcec730570c682fc8fc0255de753448e1825a76512038aa0b3cac7920ccf3fd9e785b72758eff7425691779ca0e71e9daed0843be34c97c2b34f39bb70ca277f6ab97905d52e2147dd4bb6cf1ac20eadfbf58ec40d94f84643aedd301535844548ab0465a865d241e9c05a873bb3451545bc5d527305cad8938183c3a339e64e5d57cb60f34c7bcc35be47e5a3644d0530de752eb718f8b233755af7683021738e7671d0b1c721dbdbc56e932c518b5a2bb1d429378ff2ad3940b28f5eec05d43e0aefb5af599bf7e0fdea7486d35feab00b6b43c6ec6b40aae71a6c4ec7f14f04b7b17c841c40b8bb0d67e87189a0ff92c10692c119d48a71f4d4fc36d2821ba8685454104ea52b62aa347257aac1cd9932be937aa4cf192900ec71dddac6ef7dd5257fc4d6ae7182bb9f9a585dc150fe58d230b64a7bf5f467473757340dd5ebb593cccbf8262a99231d174b54b4dd8f975769c1c02fa7ad620b2035f1941a20f4f0180eca8e8fea0ef964f0ea630e3dba9dafb486f266ccbff27c22bb8efb242eca211ee886208c4691bcbaf0f9f97116c0cb64bccbffe109f1a448b4d2243fcfd257e280fc179deb598dd099503f3b46d656d1b2c4580bb9301ba5e772dfc7cdb5c2de6aba30245337357676c52db84960a23f2293194844bfc3bc9fbe11ffb1a6de7eb3b191a711051dfd3b871f9164da12fe1c1119e48cb4a02dc4ee79ba831d30d606f43200a75d9378868c9e8f96457e5f2a314ff7d38c7abe741fdbb4e91d3f23dd85bedc05f702da423129a8961fdab0a3b0358b4cbccac75d4041bf6fb5807956a1ad3ea7e215d795bfac94e985d3344638a79af7538bde8ca41f8ed6b53d6fe2d8e12e44e009cd7427acc68d04334c14afe8e6f1161ec4d53c0b5f00cfc42478908eaf89904bc68fd3a1fee2d65887abdbc4bce33dbb7f758724e4139069fb0351784aced5e652be3c80a4d6e0968602c004697d7d9fe2cad001d055f08ee4561ca200bf9a77a012951c55197b5abbe9e84f95610833e058661e276d030e6548ef33f61dfe44f3c98d2600c7f4056194b3d88fbc45759757fa574a8e3af9124119269299befa6b164ff2428e41f942b7d649a3515a34a52eef0eb658d49f8a0b28629d9fb14d83948d91d75e7d6e921b159579d21c23ae40e27b9939d9c6710c02f0aa3feeada3fae6af77aa199c9ca70d22c74088708a6dfb29a4c81e912bc86b4ba5f5ff89ef0835c8650322da7280856d0c6792abee07e78d8631d681e3448b96d5b6e4cd3c807843ac6e529531b6c049d4581f654c4c8d90b6c514cd86849f5910cb723d6cbe0af58e3aef0eb6a1f94920b479768d6eaabe9483cab04749db654a310f50f0480141b390ede5e9b1c61d8c51e3674ea468f1c0f5a2c912e7205f9870e6e49ad5a4cc60c64bea806a69c19d32880910a1df6fa17395e49173c692bd7d7f7775f637c669036b09af4d66107dbe65ab795fa19bad8cfd5afc37526989147adefc4ad8c1b63605c2fe5cd08e101b1bd02dc69386f55124f9b84e4974fc28e70c96ad0a3b6db1ec107883e71fc838933339f284d1bd83ce46c6facfee2ce655907049e3f3a0f2803639fdb37552ea5c2c7ce979663fa26e1facafa75220fe05871814c5298bff4fa9da6a542c06184e2a77689b6db7519a82c373331a3ace0354a9061434cdab2c5ee8e2f321777979007e515eaa0aa5950bdc96c2d157f762e73de939a45e31a146a7a9f0769b845b5411515a6446b37467acca18caa1cc588aea313c0836a55d1317eccc94bf04197ba81d4a7ac81f9dff942ba4a914ed31f720996352d52019195a6976c6e485dead48b87c901de1fff7b5e5bd4c6c054e1a282fb54a1f7ca26286d2a39d1ad35db4e9cbf035ba8d336096982a392e6e78efd8123b47641e18dd983034fb0446d0638bb2a975b61b62d8637ef03f03bf8f86e31371e0cbce275566c9eda9a9038ea57b5921a20b80e7e92f8d0998899800f15f3bed3feeae110df24bea016039d2ca8619aa0b065896579ea4da74c142e330aaaa77538bae1a40d0c5fb8be441a4a47d398703ed4ea614be370ac16630de575f424102710967555cf116b40af3d69127021b486c6710997a97245f9ef8d58a2cda7761d4824a94115de7457f90d81282989bd37943104bad037c97d13a6f096de1386c9f6130d0d9e5b681a68a55f65f7abd7725c400215766a16636a90083ec0d4389788d95eb3fc3f440428a6c00092a8b6d3ee1a69468eecaa44bb51c2a2e3a9a41c31e39fc35710a1c87a29802be9548dd0b7087b822b67b07d74cc5b6531c2679c0beb88c5520e69585003dddc8510f93e2fce45fa9b69728e2c2c190ff2130aedd31c02e8e562db322db98086ba42fc940e843cbdc923e7e6f3d7d23eb012ddd05c0960aff750968c9193c800ab23769a570e2b348443674e535fb417dcf2f13590a955aaf26ef6de137797d92bfbd45b135b4a191e31f4226e407ef582bb93f8593d111dc1269829f93268cf7e048c4598a8397cb43be2bde9e18935c5bbb34a608245a62c96b0b54bf8a94f2a558d531af234cbd49033c2a73c69278d0ec0ef7e0409ed75d6bfb577e9f4fa77b58086eb6e0e557c82d02c67b768a9e09da4639ec46291b597262ceb06347a2719ce82f5522c3d8c537896f9bcea48d6b36fdaf646bd7cd0dedfcfe263d18911954ab224afad5d1c31c4fe81650b64537b7a91c124e131fb74cf2a5bcda29f7c3cc3e9f280fb0fc904cdf4a10a979e4ae467cd17a635737788edc8ce475b19963fd2b03c9f96779842a1c09d5d086dcdd10a1d2802b0344787791e03324d237ee1688a037697bb27206e1486e69b6b396cc0a072841f55440a28458f97fe2a9a070563de12dfafb46097dbbdde81707318cc0099d1ef2ab2f187f07352253c844b056781506969da2bdfbd970b6c99c839cd620cfc3ca439a35935f64f65d581ddfdbc28d642845f8f01a01865bcd2efabe6e1f867bcdf8ea399884009f854aea373cc1a36e9756ce89823673ae30d38dd2314fa70611efb4c576cfa7bbc41337960d593fb80eeed91c048c13263aa6330379af9cac7b813e19064e2db0ebc1e40cdfeb27421d8fd85cd9786cd3c3817a7e2fd71d54af01ec4658a21f4f8d885dcba13f74b0245fa0d0d3e2818ee44a11d23cf46aaf4f2272a11e08de15c1423e908b99929383551a58b6b33ccd267983f8856d3f82bedcd3a6f9ef90b8007354cc1c64137bc42eed684b5565add52e745d367581929ff77d85db6fa20c0817ebba81b149e85a0778eff94f2d1fe5cd367138e65ea4e9568e3223aaaad3c6d12462d4b50f4144b3ea9faa64da23b288d0a8403ffcfc9c0cbc445285bb35560e41f5d3ff6f74abbe152093f816181a118708bf6e13993ce185da83d1d3d2b4b34e7e4521bb09d008ad6899a425c5b6b163bf0b886f6ce1cb379093ab4fc384a258a0a64e98cc289f2918427fe40612339123e9467a82900f158d0186307cc6aed8158eb7f96c87b12be4a21f47ea92380032c5110500060634cd0072dc9d7f238ef2411d68d6c976d55cde9f5187f3b5e4abbe8b906b8a824a9aa467eef55efe1a0a88e9be9cf7c5c4fbae38c34a6ad41eafd2dbefad8f3a6d10ac0a9237c87cf89fa33addd2f8931e77d75032b1ea3f10ee17b99105baad3b1850a7b15e2f078b8d5105ad230bb5a46e19caab472b75cd8e40cb287b61643c577cd7595d718b348e11537cecf60ff503bb2f087ba42ee7d9c5da5b20f41cea8b902a02c0a6bc87a84d3c74b5f147ffb21eff8bc75b40c709ac770152dc2c29a8d79c182e5399ca4fe49757036578d41e8f85bd693d29380f438bf3008d88470c4cdfeb080f54cafaacef3f51ca152a01ae172c0bc7d262c35a4f0a6e7f1d27e521d657779ffcc88212675c7a5770ada35f664c0402fd076d4e3f3d59bfc6f2a7bb4dd9e90f12c57681a5aabfb811139ab3a010891bc313a05227f433900902d9d08f75e21ecf9784c9e628f4cdaf063807ca9f113ae2fe624d5f38a63683180814c10604fee7f68f61e61ab081a25da5d854e306c42dceb1cdcf8b17516c46363b8fb228db2e2bdc1f6d8ee707fcac4b3e72404d4c3af3d8bd90b2d02188f5668d9a93dbc1a7817e607990dd9b624d2dbbb961570097f791d5c62a9f16d858fb357019def54c3f5f854576627eecc3d3c614971b21d777045bd89e167f7e8eb12f96dfc16f80b055e56cd3a558eee0ef8aede3a75147b204d2af5f9b033e24365e08e5192a7d695f153bc7ac97b20acb439ca057bc47c7973d4c20fec693291f9de65daae701b2774711fd7c2d2c394f57ec860fc33ff0a20c24b676b943d76a3c42d6668481d25075c7acb524bc8205b8da3e151fd8eed918a9ef89c68483efdc144d81940d76043c8ecb56b8f220787ea811c97b2e766c4ded150dc5e8ce669696505c46794cfad4624bea5de7d2aabc60d5e46b8e41f08da22d0ce1b42bbc255e9abd1d0d31bd1047df8f29036837abcc277223b62fa3751e7adcd339ed23605a65ca06cc5e444cc6f3aa8d36e2c903fa9c898ccd4d5ddb8d94f526b178a41a44732b27d397300078f0043d69fbb3d73eb038f3e963cb94aad4fb9c9e5b2eada002ba2b7441f977c4b9cff783db35478d33d7da8bff82a00b05c8377deb8f1e3d8ee9ec2a24b5522ff39b9e9ac35a6c20bb61b963391ff76d9eddc677f9437b6e33f1c3ecf9457e610c3d1312bdc9c9748e2fb7d24c41c0acb945bd826ee79eb100090eee10314d0ffbbe292c59e8e394ac0d0b5062358ab762d153cdb38200d0abf090890c458efa6e8aad267f093c3797b7e8f14633b3f6c585520718e5781b9422bfcc3107297b119fd0546dd6761c7a8aa76dbfff39d4d89d230236b38dfec40689727403ca2ccad5bdfc33bbf29c1d180a28d9697254fb0292c780c2dfa912bd26f25ecfbdb936760fd1267f4ad336536d18adcdfca60e839fc5e4663793178789e832dfa1dca9a34be39c57e66ef6239dcf8ab320bd2ff2b52d69e1f2cb3647b7d5920c3facf65dc2d62d90304a4cdbda2362c761c85f20b3c338af7d6c7f92fc7dc0cf80e6346ebf94fc9fa86fcd499e55739c312ca2e65792f62a346d6269d66c283317370b1beb310963cb5769c53d8e45a7f9c7ce2be674a5eb3da6c6ce741f644e080c75a550813c0e1b72c9d6fda2b4f12dd2fe8e2c7347ee8d4a859cbfc805c9107849fa8a37833536cf7c93707693c2f53fcd14ea307f158aec4035f090987fd69ed1464a05e996ca2fd22a342ee47928698ebb5599123d58ed47d43155b5b98c04b1f97a97965c3851b518b398f7c580929a6741ff3664582ec9f64de36e3a55616c0f28bd35a3c37df01f10e0bff5e4037876ae4d6edb6fab91f496b7ce06d8b0cf4c7aa42c4ca5bf850ff6f1c86613fb20061d2b5183f8b876a8185f62cbac2184e9dc78b0c3581df3fc44bf9c2afc8f925bfc3fb2e96dd12f18bf04a61aea26a007d5631590a4033b6c18ba89ae752e2ed25e7d14071c00855d9c5bd07393407539a165549e6f11dbe741d209d42a5a9d6a1d4b8a79482113b2d97d3810aa9b993dacca3667a6271565a79e2341850c55969051b96603b8444048c2bdcccd3cb32207e3e2b61103ba563f6c65734f5bd1fd1866e2d56fce81e76ee519bbf75bb6ce7ef89ac5892beae79311513584961f9095889de6fb83ec3df10c53d2a9bd2d3e0de89e147f88f4e6bd2eeb17bbf3d7f02d3cc43aae0a63244856980e7e612fcea507892f3ff91af9bc41ea781fa7c2390a22a46267a6defc631fdf3efe79644e595f102604d23c87de78816b27e237f3f8ada03e3c2882321ed0ea8c0bf649e93e2261452c8d9b22a779394fbaf846680357b561b3b31411f255b41df9b45cf557728786aedd61b177903dad2f8d5f8f7b35f32b41a08f4093ad0fb8a8e22bd374e7b5a6f4ba5031724f80bb46c332aaf969d68c82acf658a2926a9a80008e882b26351c58015ae3aa11af11ce4f550f52c627b9871e8e8102376845e6d941de1c791f1f9f7d3945c2b83241b78bdfa663e3891ab23a7b43140cd88aa0517d24189e7d3e7af39fb85553c560a97de06aa72e7cb4c3210675f00ae82dbb830975b362f127c26b6143a8b5a19a92acb7efde08933797b22a9e89802b4f2fd1e53a95f207ae688d55806cd0870077293c985b25617dbe64c04c43ac700fa833f6de63692bb9621ebdca2bed350be4597816f116fe65cf58cdc62a33e33b90effd27666a82da15e4fbb505fbd025e910d85ab418cfd3a8bf72ce2c70d13f3eab037cabe630bccc633ec4fe702bf6058167bfb5e4fb0b2187f46fb0d3a7673a458d939beeba0809c293d143fb1893918a9f7067ecc0fc22ef92cd677239f8d31f573572df28852bbbe54d73e8da8944eb8d36d1fc3a60303cddd4619aa21b634d188ca775cffd0e2a4e6a72bab974a8ad915eff995582beb70fd0505866be48136f5fce4cc7d2eb6f242d6209010eab66149b1d11e0427b01aecdeee676194428de982e23a142445548d79655d567065a6911d5f99dca92a9273105a16ecab6bf71aaefd4c3076c483c41d14d9a9575144e4ad89e3f2eba9a99aef672ad4f11a3a1c109b932b9d9d7770df1c2b21c9749e83e9415559fe2843875f2b9e2fad925161e43d6d196268335c7365fc8e17326362736b26003dd3711bdcb1a24a90527a3238cbf5f2c592eba0bff02d5a2b88d392787e2ef6fade97d43f83357cf5ed3346a215e64c59265bf274394fa082192201a8ba23a134cd359bbe8c1f3f3c0333633237efb6dbe327139e85e8f73b850c171a60df1d2fbfca7665eae13a3efef4c53ab8562b484856abaad5e14b07842e4d4ae3fbe25f1f8e7796e9821c041ab4339f2632ceec81a7c6477c99fee210715d6563a3129f5637c2319797f563f53c863e5ee036fd454d1967e912b51f89e0692d4a7f3c53607cd8fef5c240bd4e10fc1b3eb152c8e430896610ad7d80df3f4da2a4c406321da22ec5043c38b4e9a3563e647b42449a58fdde754d614c62885e007a77f8ca33cea65db53cdf62083cf410fc9584530c780d253c5198b3807748b7ae85e423ddc360189c14f773b8ff726afe4fe921fdbe9d2f136c1116e4a307001a39ae11b2aeb89cebc198feab98a7ba7b0dba87668eb317a083a3a104d4c7baf433e7eb210ae47b569b4a416b61ab5578c67234752a0f79417f4dcd4609b2dd388f1db69e9388141de7b63f7b4d5bcecae935862dfcc7cf8b11c61b30e9aceb282c6016bcf604af7b6ef304d0cba98518f8effec97fb75a7151eedb13f5abcd2db73519464a13397ed5bcd7ce4a2adbac1da1dd55dca5e9c89ee9564ed35a7e4f5b247107c3ec4af3116c240dc290cee1d4e7ae7c51cea3cb706377ac0fc231d00dbc9044fa8b51de7ebdbd27ed2ee86af3849f27516e99baea79b5c515309743bca3ab97457bcbe371731d5aed12a92f64fc90f92511ac3f8580de984e720106d5aab9dc0e8577538653598f4150ea50be89bc381a63ecc5e22c2a8b9a821a8e656e8708b1c8306b2dc502211d59575178dccb21489d9ec8a5c978323c07d0ba1a12f1c5485fb968a695aed3333184a9df33939435a0f71ee64d19e490b08fdc1be5134d50194f1cfb8dcb0ee434d4ac8baf1cc3c850388a6a6314083f4d7c7000235add0bc9fb1c2683fe8b6fc4286e9908f09e56957139ab9519b74c0b5f09bfb133014b9decc67f5513ce805812da13d41a0bbe2d798651a347fdb41b710ae5268a56c8bd9bc6feccfdd53951ce8983059b8c8bf29fb4adeb4d39e84f10330d5f7bdcc9d366a5a68988e6726437866b20f6ee5a291b68d8c62861fa18d631a03362bffbbd4783d9ccf3f23ddd1adb8835a73d3950da27ecd31f18f5336955e3f3096487143c212069f9fe95924e5011efc3865ce7af9b77df9cf896694a544b7e2f2f775b24a4291da501cd47987a7628c0f6ccb30e4c26924461851231ba966be91047ed8012fe54377b84d428b02785fc876d1159337dac109d4fb0d1226f99cdcd4ff9aef38316e75b9a20b83dd1cfef58038ccc45c29f0b7093a13f83c8660a552faff9a273c213d76d6a446ffdee862814c40024526272b5cf706af2ce37d6718d49a61bfb70c72951498df4526e0ad9ae77d8ce72ce0f68c0a59ee4d2956707b1863750f2341302bd86abd9c352da376012c373770a9c66bc4e84494c3923803275a135dcfcfef1d7be568da2212b06d6a6881c711ad7ec5afac1dd6f93dc901fd4c5adce6d1ff4a635e7cf2fdf9b1d1fd6bccf91afac2659e3502e2802fe5929ecd1413781aa1ddf95360f136fe3efcedef5a4c618a9c8e1b0b2f201f9bafd99cb6179c17efcd495ea224cfcf18121df2f41c7678e4d8465eb13a4b29e89adf045c17eab0f1ebbde72a0086b20868cbf817963600b6f73fbd28bfcc8a628b7f0183b5ea21fa667704f87c420fbfb492dade072f0dd042aa13d09ced665e1042e9d036dba3aedcbae4783f2ba2d0c7469acb5c1e3c517f54f15e8bfa1e4ba74cb317832b00115dfbe21534b6beb2da069e0c191c4699e68dcb9356d885855e4cc7b0546d44ecb473be0c5e8f598abcc3d519ac333dbf54cbdc0cbdfad177109fad957d06c83318262f0b729d8748a52bc5184388c746d047e011a12d4cc223b2b3677ade3f62b2c501f9688d0c10612d20f4dd72a9cdcba44c8a7892ae73bc2165f73a1cfa00224f43774b45b84f571b58327970110bf5797c7023a565193a14f30741f7261833e64148135df947e9d8730d5db4774754e4994d55c71c7ccd0e51743b730c9fbdb105b978405ab69c1479b757b24fb221284279c313967138b4917ef952e4dc62ab389aa1565d9b7bd7eb243b0394fb4a436c8da4192571bc42b489fd8e007c84c55ad8315899cf51fb65c6671c9c54102638616d04ab90b0f5de17ecf66c90bc8d347b64723cf49bc92eb271410689394a40a35dbceff1db276a69d030326585f58419304fabeeec3e38393cf54252668efa900ae20c2af851a6d2b8b15c1cddfff2d0174b1622604d16059e1c3caa0b145e59f926491885c2187e7b719be2bb83fbf49738288750c371028334c773553093c0628d5c136f9c15cf5248efdcc7d84aec8292a878c634fe4f649350471ec7a307211763c11ae8d1b4a796387e2fed0cdc9f8ab8e0a8424159e131fc42aa993d2e1bb2ae77125626c2fb3ac3da9fb4b75f8847d645931fdda02c810c26ae4f71a2399f1dc2aca59c6645a6b29170841df82282a1a1b58ee487c0ff2672472d901ec364b2cf8ead3862f8e72b37457e2588e7cfa41772b826d42cdb7dc8ce6291e395e0e4e08d38c7a743c164eedf3004d4caf9f78e4dadb850f803895c77f526b40a9dba1a2443d0efe2af7fda60d1fb91ec70543d7cc6e0826152b952e9aeeec6a22152aa166a4ead57d7ffcc6d57f32007288e2cda0ee6e0136ba83ff0b381d9a304ee9fbcc50233b6432126017345a72d31ad0dce7cbb1507b6c2810bd46bc91bdc29a616fb7233cc38c8a94bccbb92afcc68fd6afa9d95afc80ad3b76718118458cbc2957d27e68674d1f5300b0d08a036739709a05d1828b1a16b7fb9dd6f112faec82eecf4ab384ac14e77490371b8fc4b80cbe47996d35a711e5755e749bb0f7086ef3c275aefab96598b6ef907555416875e989ca4e23e9669c9bb31f6d5c6f0f3e074744a19ffc24ea841964c44411a74fd484fc53d5d6afa6efdbbedcbc00e0526a6de9af164fb7b73041aac96ebc0adf6abdbe6bafa1c34f17ca0736419a557ab854e3f81b9d564258d98e8a3fa2d0ff6eb63b6f723ebaad6b18c4685b3b13c3578edc568716ddc7daea2c4b05521b8fcf0588ade7f10c99d632f87ae027eb3d37024f628cc91b3ea7d234ff9874824a23db0367e50a92126191154c503f61c2038312b66794d62171a5374c0ec1abe6d8746c8b9f7c7be02fe0d204069658da6b66441f12dd0645ceb029284245b2dba8bbb3e32e6c377d00f8fe1888f6edb9dc4c2db74f88b49b0b189a03f487137ac2bc2d51b104d7236ff8188c0a5963ae399564d303b9626be66f66fa2dfcd3350085fbd05f5868c1fbe6978b541ccc70ca06b0552823a3d96101a3145f3877eb1e33899992f4232bc27472de6d2303b624ae61790886395c54c79ade9ea6b2688c1af9bad71423781cb1f898a90043e0aa5e7aa47aea8c76e2f5eb7025db007aece536a858d5de1400c53472ed0b9e784d744239508a95fc00bca4312e6a1c142f4e36142d55cd19872555fdbbb950cfae182f43f21aac6b304215105cdd3f5dac4b19a30693ef2cd6decb31db21c8ac3ba48d3bce428ae157241b5c49277190e6f32e8a1caaa7d0149efd653f47c312efafaf0c5d5f41d459c5acf303a55caffa6fa0d73809a4ed16f0e7247f8f0455d34d353f3b8ebdf6ad4529d1db838fc07ac2347ef1ab5710770a3ddff259fc78b1e291eb380f2f8fa9ec3d3e6ccc2304c43cb17518bc35b245e3f957f79c19d8ffaa94ee37f69ebd5829ff63e9c4680cfb600ae6cbcf36e8ae7416749804e39080269c7cb0d92893a82d90c0cbba9027d3ac144d049977fc4affe262eeff1babd0c01d443d24ed790735f321f3b871b72d7cba75bef31b285f08a84f38e225d06385ed549ba87522e45737d01c33a2cd488545ba7575ec524218b4e75e5c03a256fcbd895704ef65ce042057fc854366507de69a0825b797b4363a39a97ac9f079018f201f3d0aa736804e9718c557acf5cbbbd434edbd2a28925612ecabbe65ea0151be6a0833b068ec181728c32fa58600fbba8bd6ff4cba763b715542fa8898e411aeadfe1feaa0dc63bbfbbac45ae6f6ec8b604de331e1b55def496c983215e3334619a2ef1caa699f1e7504612311190a8b0e9a7a07d6cba5e9454f9987e7c6c603e640287f355175112b74d66c355259d2485d2a95107d08f96740b13804831f6d1f4ec49e7d0099b17b376c8765f9555347bb0f0fd84d78761d07cb66925572516d4a61987297cbbc64166b813e22a24c2b2428b871aa8ea0e44355c2ae9248fe44a80bfe35b2e397bc7b6f531eeb958aa8bba9003a244db297a6a390ed90557c91eb050a14b72df163c266678f57a48ea5a062042414657750b028094ac49708ada67b162175ab9201827823dafc4a3e09cf75af363d455a29144bf0857da3e372147a46e08ece37d2cc9336b7c2d17256f99c6132815ee9dd9669a854bfdec894eaaf9b071c53bd3c5cb2df182c43512ed7b8eb9b23f61ab928bda538f7c879fc71c8d64aa0b2eee776002afbea671de7484b6036289040f69457c0ddd46da858de3f0545b540408ea0675ce46830287091855a6271ed47e9fe37117f060d846c3e01535a23e9f3a4cad7b2af982b69f52f4b0718da33e4785efcde0dcd9a550bee8d24becde69c511e5f7950c2c4b1669abd2849c8373e66597eeb434b5146b2b64f75d5b142bea89b81ae34d0ced13cdaf2b6a0e13c0c619cb0082a3abbc66b0b590186c1c1444b10ca048146dd614f1319ec8f267b42a902c16e6b8f3f60da07fbe778ceb0048c9ed1ac96755cc80697102205c9c5a0d474a60d40618904bc71f518d4a2133382877573a63d6044f64b3adf0677899dafd0c9c4cdcd8aca8f104e023bf22876bd99a44e1a167d9a9c31c763d2d7d11c85f528b7cefc4596d6127458e8e416dd572c5c049b7262babedcc047c0482e7bb6b50757d78372cdcfc5f2b744cfa5aaaf1cf09f3d525a4901b07c27edc59eed2cb403fcb8f76680032aa9e3d758c91b5e79362e08c71dca9a9b4b83ba87bec72fb6af99e6f5c7a8566996d779017d6b0ae585f93fb6d32c02b9ba5a83bfaf68f00da12f456935441448fa06b6b53b62ec211693a5998b76388d2b302ba210e89ea257562bb820a7d3a2f661d3a9917f7c0c50082b6ee50819af7183c5722834fd0696c0bfa50ebadc64d4c75038beaa4493e8ed2ed52a1592d22e6e84d956bdb1d07a370c21a9db29544a2d35af5b255bfac203dd26dee69c83ca70be221ba237f42e76ad15fe7c09fbda52cdb1b33288b5081c4e2859191bc66f6071c7624a034165e574c0f38fd75983023356c09e0546e07be190162550def50cec11933a9ae431c915098bd230f6291ace0207259fac4151a2d0e01ec96e90b0ce83d765390b977eee4154c8cc9d6c2a63ba98f420499854f300be6fa0d4accf75c8216295fe5a6369c2acd8a06f3f98207e255a801a176b34513d2d727b9d46e1c2b02b2398f09fbfaaf72e59029b07f030955327794387de2095a45676c3ee38a3a8654a2852d48bfe208013409fb6d97704a1d0a8ea9a7a97af2a59970687b6f6cda4ca85515ec3e3ec3e6e44b8fd25d84dda00d2de99c4c7d9d20d856ac422ef5361c7f01d7a2af0dd2cbb5e1d6ac78d99d1178f4d1dc2d6ae697f4a03de972d0cd96bfa6c2d8159c8e4a69c4db850930d2f6e92489f5872ca2f7bc88fa780d61a9352ed8860959b409d399ec29cc8514258b5e29e7340d795bf1f0dd2ce84adabc4ef6c296b2b21565650f87c7e070e91ac205a574eab6c3199a28f56ce595917fcd2d68b0e93e0ce49f181defa9a95e16fdf8aab431e04b007ce5699784559e81e0ba8761b6e2a832cbdc681dd4861d855b05356117f40fa38e18a5eda8e377d78fa1dd0df2070b7b829cef324a470f044f187efab411c790e48c095d9b17254699c0799597261cef219eee2d36a51fbcf578a56cc08a19bb956b120b71259ed460971d438556e75f73001e397bb705050c773042339c37876be2a48288cec1ae45462fcbdda75bccc0e01e601cec38ee4fa3adb340122c2326ef5ad4df6e4eab7a2dc039465c85a17118823bed5d9b0fbeffdaaa09ba18158418f6b7047696383a115ff838b20869acdbf1a9e3117402efb5fdd6ad06cb32232f7c4c4bbf43d7198a894368468822d75b65a1babab178405292b90ca0ea98f3ac90451b4e53d6f1680da95487f761e225fdb1060f1be4a97305f5d2b0ced1f35e0ea4ffaf4b803103a30f93fc8a7f1f7427a029e13483367e8e46ab8c1320d659ac4c08118aa9bd05f505b096ec93820dd4885d16269900c19b6502d1899649dc617e840c809f88b22627e7fb0e142e7a70126788186ca3ef0c1a887e75e679ca7304cbffece72085d9f17e4b1c8a92dc20e8d080bdf565f18e41d235d7a324e754ccbe18667561e48f4bacd39467a2b8f0a7f7804156f72f0526307b0917761f0d42bffd9ac7abdce9b8aa158a3fd2dfdefb8dcd214658a4aafb7ce755e6de55c88c725d4908bcc1df60a4b624e184fde520ced852c0332684eb984a1b74c19654fc76a706daad894d9017dd971e053e87bbbf928e110245f5f2c7a0dd2a72630b3ddfa44c92fe408df23a0d72446148f7a75a1a4c80dab3e1f6cba018b24210cfd7b8873994489c2beeec3e2de661b627038dc125661c8c5c0393a21718aca3e2db9c7619f8971dcf584e67b08e3d11c3a1721d732e6408def90e34b07d0176eabdc890da4890af033e19f3cd6bc8a9054049dc60ca4ccd1c4e1158b9602421698568842d4f76f504498070576bfb86effbe0a7a9dd136551b817708ef8ceebe3935a6b3e713cb5ba4b5084ecb09f27714f7c7317ba57115ee06faf3ddd260a33cb7f46431cb97d5261cf4061d270701dcb272afcd303ad64a0fc5fbffa7f119a3289ffb86bad66e6a8eeb8e1484e45d214855de422704d77da19c5ca3e0b3afffd164c602bfb919f63bfcbe58d3d6186b5f21ce84469189ab190f6eb8e91e407296514ad1096540598b35dc9e11dfddeca1b0d5a6c4059a0eb39ca04f619ee64158e9c889096b367096639dee8824b8f4571c733418d1ef79eea9155a4ba699a202228bd94fa17fb0bd9caeafc657dbf2a9780412b89c8ff4e0e68cb4dbfec6c495b7bb0cc3a42d243981a154245d7357b52980c48b4a70eddf75f551753b640e86032e181e25a45355ff1d566dd10563f10e8c00b8acce5731d774e2c19a97d89d80a822b4351c13ac234453b13b76d4553cb31e0360160e655483ee55fe4150901a4c5d860c952fb5c1bf682251e5f0b00e69d0721b9444aec5196d01fef679bfdf57a3ada700e11825d004c6fd3fbd6a3714182b6ac3f3c0dcca89d44ff01c99030ac8a8f4caa90b216f0a6cc2a0db8856b39b88aca1bc4ba7ba7f7cc9bccf98c3ae3a7a46100b7fd820e48f9fb131067923e166dfe30478320102606bf2c05dd463637edc6c15bd7f492aa0e0febd32ed29e1052159c2c3fb2b89beff6eb307e36a3e46e8664a35f10b939dd63767a425d1c36e9597ea2863b6bad988a17bc714a7f5ed542dc1d63fd8d5f112a720e7b7a76949b2a980023753ef02b661c8607fbcfbab24b2062d1356963126ffa007731cac0f32a8c61d5dbcd4894df2680b946d33056c84a18a0e8479dced3bb9234127f1388bfac0914e1413e381a96af041464b9a2833e059834991ad0f43768b5e731fe7b1f69054243081c9b24a86940aa030f9ff7e336835941cb8ac33bf725fefb3e460e848fe713d8aff0dabceb605875978c0c0bb93e7aee019700640dd0e2a868c2e92de132d0f8c444de524b81adf3edfb36c9780227945bac288f2bc02d71af0ce058a2d29869963692ef89ec96104d7400077635e92fc4dddeb5cd60d0fbbaf081c006fa17b2cfbfc908ad2b4f8a94777114391f38a5dbf2e7261c04306f9c949606b1356a4dab06e4f28de19a91f0abb81d92f679491b38ae8851cf16422dc9331283cd3dfbb5e7cf69fdedd3da96688234b6e30b15e7f4f9bce91aa289336a97d89f4e123b76cf9df2f6ccb208e5aab4e5a7bc9c084fb47b94350a0297f16e96fbb87ada599867b510115b566b95bd3d1cc35de21a2d5f1983e7becf25802bb6a61f6ad487073597cf63f76eedf0f9985507afb88ea278521649f62dad862c23ccf3ebd8ef80fd25525ee0338d0bad0c1b5feae33aeaf97b667e4e0acd1863b184d3548a34c0f3306349f42bcf348afa3c773da1cc689e2bcf60c611c23e4f005199a16f26f8cae65c4d8212e95c97ae81411bb88f3c6f18b076ad2a98313e1c169ee9cfe29582a911a7c4b0d7388c7fb8be6bd457123244ccba1af31bd41a57589bcc5fbe8435a2aeaaba1cac4d9ec1086d75b56c646cc695260e11003427ad4631113d097be2cfa8d827c2ff6a2fd58164b4a1483be7da32a70859901fb89c0ea39b7c22a855eee8d3e54bfb14d146bc29cf6b47e43c5aaf59a0e81d122c34fbc8d7f0d2fd270572cef8e241106b909c781f44d18af73b39958919e31ca3d7d969dfcd96a24d5a03721eea8498b1e39afbb5ea85496b31a0b7bc5620d17c3f8fcddd0d026bc1aeb8b9e4c2997578e150ef75daabb8d628c3102ca75f619c5d31dbbd7848debf228bae182a3f2d3f3117c69909f85764816939e57d746102b0a23ea683d9eba0c76cb47473a505267b7416ade281578e08b8511cb0ff0c6fde0407d5e89f25859b4d7e8f1eac61449b10a21ad51421732daec4bc28f504a2dab8ea9d93f96d56a23bc94a8dcfd86f4171642a071c033af97bb63311083e1029ae11b28b4be9759347e9a30012a8a050a2acd6202e120406b1b4724b8607402bbc6f27851d88bb582d4c9e33549bb6d03bea4f1ac56818952ef178f9d3d65a79b647ffcc824baea854605cd92c1e5584341195e70d350cabf1a8abf06f3a69b9675fd592a2709a2b694bfa66647ac2e1714b282a012802b5a9aa62e0b3a1bc142d36f690444304553b457fbb95c4fd676f580fd0c7bfab02e2075485d0450a8e56298ad740f504cdcc722520c10317011bd1d70e67a7dab4c75bcd5f03b1963b8072ff2e3c7cf62d4023affc3dc04599c191197f01bba0e68d70994427c608186160692d90ee376a89717079c6772940d63dfa8070494f8cdf307634ad8a6fddb763e2bbd05c6bd6647b425e06491922fb859839c2c066fe129c10925f3db24149444c55b8c52655413c5e7967e745adf6ad47e101ae23b73e3547e4ddfd5acc0e5b7148864c7efa2e5de591840e90467d0af8f72952c922b1338916ec73c77b0055fab3557953f2f10b2a5feb6c772b24179386e5b5f15c5c31a483d0b500d0a5e489297535a77f4aae11ba3e5b7192509f7f345ee6f21582f8a28bf42a20228287451f7c8d4e552ba6548f47471ffb182fcfe12a76ac33076202207d89af1f8b412502b24ec0a6b6c2d1bbf6f355ef68d620980151f0793a682c04ff70f482e80e13fa9d1c42252f6498f4798bed6d78c4f953c5fabaf03a93880febbcd3583cd1444c6d8d1399afa55bacf24e2fcdcafde78c0206e6f60b99f49088ec9f0c1a920c2e7eba67f3f85d0c9491b5e217b967b9bd7f5524604698c334d1635ab521669809571abc19713ddefadb66f41b77ae8c9d2fcced851177dcff10060d4a685aa8b16402138bfcf7a48bbf9c06aad0621977d59efb2e6e80851f49114fa421318cb0e9a4a0144a6bf0a0050200f8178d0bf656290d70bb38d0aacd3e0513aa905d686698e19fcf25b8500e4fde65d8fededf5caba34e894698ca279f6e3f4a3548bc738913e1586a1877c5f69133534566f65f550201fa42e86a0e9f46035c485b547b18de098ca8f42627d9f2740aa610ed5f843a3fafd767742c3372682aac5686a8579319d1bdbb391d67d7c0bae0b560553368c02428be843a4c5a03e4698d946f5e02ec5d24c9914323833eb2bd2d8fd1f304044218efee6af05420d3a6ef2abdabc789adc0c44aa7b0eaa0a1721602047bc5bb32f129c986a7a85f6a4d27fe74010a4af025500efd80c276195414ae955bad4fabfc3d84db5494b835ff4194773229876aefbe1538096c61d5616595d817b5c7cf668cd98c1110ad144228315173bd9cd2fe8d66bc58a061505ea28bdf9a27834ff2c4fc914c4cb928087be86f5a9687eeda5432b39045e6ba45a24e6613c83dc5c28363e3a35fbf9c3669410f9bf7ea603075a782e33c52b64b36f5c0f824fc2b476661d86a0efa51e278cc51061acba62fd555fcaa6bdf33390c217b60a6e2878dcb74b183c159303e22f9320f5723128d87777f161bea6dc1d6ba686b1d4ee2335e4308200c5debc1ddc80ac753cd8d8e7eae77d6cc25b6711d745f1b7a7845ce29b183531d00cff510d914c06553ac4910f05691eaa72df00b89812d54b22757b65d178b8275b4d90c5c5f469496998714ad111b032b6c9aecdea67cc3708e83782c9ce80781831ebd18ac9a958ea488be42b42c303631792737f6e2932593371a64bfc5e0dbf03839cc6d2a1c85af9dbf92cea314d8cc9f70eab340959db4e41a9cd487f8de68abb3990cf8343cf6a4454742e6727c8828967ff9f8cee25b3203747c09ef5c8b453d40acafdf535e563576bc88b3cc1e9bbc35a3c01e8ebf7a45b2b0777f3e2e4e3524d4348a9bfc45609fad7fc75c33da935c83e97cbc7805724610c6d367a1d765f75247cfaf00b1d23d74af18ca63f1e99f6c13b75cc06e9df5d398ab7f7e5ef15432265c85b43d664e7466a633891990d62beca3b4040f2aa0cbf0440f388956bcc710e3c37e8bb3516915db6f744e70e169a47e622d204d3c704efc5a575195f3d749000869aebd3f55f77f42c3d834e6321906e242618ccb60b5e9ef92105513d78d62c0d38ce3b18da82f21c5bb45ec396822c2352cb1ed79b4d1667c4c18863ac989c74390bd2abd806130f31febc287061fa722e40a0125508e43acc17c94094a3fed164f486681e2e8e08bd239a2eab4f8ece236fb5db2e4b9d2e48ac5647e11103781fe475effdcb691fe8834333db357f4d9028a2d3c364c7443fd33fcad9075e24da66c5c8dd31516cc94a9dc985387f937982942012efead2e5b024b6c85c2143faae1f3fdab068fcf2bfb524781e9627746176062508ce83142df85c06abde9170634f314b8317431e2121f8cf3e93078721c53a53d020ec1b43832a3879308edfc21748328deff86cb1509bb15e961fdb378c690f9ec6c7de431c5d3ebd16fdeb99daa5033bdc23f21cb206958556c1f2cca023670ff58218533d11884d2f06ae89206f13f89af742b301159236600bb8387e70623794ad03017a4adbabb594f2c3897d6e621bfa038947b8349e03668f1826c25a8ad6c36327a1edba311ad048d2a8e6788b39af38df06b3f7f1e624892bcf627da3e60ffaaddba8085cad32843b2324bf213bb8359b494fcffa374e7bcfe6a7ca678f27d7647b416f1d0c6c5445e4b301abb0747b671d5eea1efc808761145718875bfd1baaa7a315767344779a0214c1d62b075b116d7c206f56a784b0f3e7f84e782fbc646de1adb3108d384b28eba28fb7cc4841fb82d79dd4858d44f99ae53e493ccd8b6ce8675364f205f8f600a6a893a27046d90f667682939995695600cf94c20a514253fc0fcff9129b51951a612151c4c7554686ec4719a943215094f4f17b7bd4bcfedb2bc4af42b5537f3dd5c08d473d9f9ca6ec93b0b1531ec8b15b28a8033c6887f78c64d9f502f7107c15abaa587a8c3a37807ac245381524888485e422683771d8ef844cf3dd1e77604272f6c40593553b8bde9a8e151a0381b18f498067c83c4770095cd61c903472b48c797800629a8107213e3601884d7359aa3b1bb31d1b169e2c34935ae1034b14fc1b8eef12ef7f4c4ce4bc4fb00640bbe4eee11d0c9864730ae18b72d244787e030983598a3c68ecc523c6678341ba57d0f8a1269fa8b0a473ebc93406756fd196fff18219ce30e17bf32493cd4c92aad29d9f2d5f2cbbb36e0708746547d6a0584fc96c511ca6c54706cff923126e75aed1188ae108c85e53f06ebb4dcd75ae6dac4c9676a3ec6ec820a06c3ef0d01504c68223fd9c351f7e37f3d34e50fe35d61dd565cc88975a71f8dda968380a49e9529c401f0a657a572f3bebb515dc0aac9ef8866b5df23a1802415a8d4abdd92e75fbe9b684962ad133510808dd1b4401120b93152424256ecb13367307213e99407ba2d3b260fd1a3b16cd9be4281ec738721d51d4e9e6de4d7e480b426dd726a3be33364d9b66520e0ef320a4bdd78ae394c6958c8ee3c8987dbf75d0f3ff9d114f743c6f84beb29363a5a8e91b624cd4a9b198f652d840f4a5d24ee2d29eb2a44ca53be9bbce6563c682d94b97b95fca9aa7709f4c37d79e927fd608be77bc886acb4146947384ead44646e2226cb23d9f320073b06a3da1b0112f4ee033dff987139e0bd696547102e300e0c1936e26de8bd877b8008c31a59c7a95555476e34c78b2ac809aa931d2a8db195c3525695108b57110106a5ca5415b504d1f5b42aee3c55c37ebde78439b17c3652bf689a8b60dca2ff657dc1818ae52a11a3c4344a6eb46c364bf62a975c28fce85d3af44e26eb685164ab9ab3a09b0a139d6647b4b655bdec17907778112373cfcb6d8e299348efe719cf55e860de0f4e0a604964cfee6894e2935100828107fe0b74f57d6161384a6eccd941ac30a3a2e4b85580cb6132f2883cb6a013adb29b22b14a04dd03db22c13f717c7b1de77d9925557a9fec3ba7926a0c61c0e6936f50f6fa1429ba9dbd0b8ebe8bba2b0cf3c67da75a76020989df5a703f97174d2f18756d2634917a60fa255790decdd97bc9b26447c47e00a5a2e86ebd1c090418677b574d06cc3ce28b96902d39161c1a4086c5a21c38c920548a25b56479596ec07b4530cc206125c553f2bb60a48c330b240423239aab78ef32cc0cbcd40dadf97fa32b36a4579431a92c73bc0dd594ff3ea9ab342373791442549c7c3adc34fa1bbbdf449c6284a187a56943c724b0931b1e6ed4e3544ea1642707dd854e0695024acb26b758476e8837d0f05f54a4e64fc8b86d4de6837542f760f492d58b7a1546214a30b1dbd202b481ed335599fece00c9116818d3b9dc1260220a88728dae443ea20f1b574fca65ecbf58adcfd1784f7d65fc3fd35a9206e302d000d992cb9db23a49e886efaca6f1a993e7f91e59199ac71d8cb8f7d9ad1da9bf30e6e3d272cf144d7bd77ef8ba70d200a08e37bcd94e5c0f248e9aef2f1b952c7c4911a26489fe58","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
