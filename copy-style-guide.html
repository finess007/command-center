<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f10f45b39d7f4178512a08f13f5f4715a228bb8df002eeeb5b948f61fc1cc3bed11412e791a1b8494e94ab84d2b3e1421d735bff16028ab7024e18f70f2207283317dffba91778d1103c5987d8ce5206ad69025b0bd18961c6ca7b6098631994465b00b5d762ee822a3d070899fe7fabe5197d4b59fdd813fe922b18f63dfe398145ff1dae6fc947ad87d5d92eaf8be2d9a361a2b100841720ff2d1b5961af10869945972f0f7939be5eb5deb490ef94ffff408d9a781441ed8375e26e4c85a488b1824ac444360050e672c9aaf108688af5f9e9a6757aa8a52fada9e096a27250fdd554da34ecf86186609b557b7be54cc4a52255063c8404d753b7398ae9c5db32d2047ca5ac0289d64f0bb4488448fe5e0c3bc5bb3a80dc780e47bc0699b68e23fb7f017bd62fb0fa66f9d607fc3b0a4bd8585ddd09c342edc91f184736d2de11396d26ea85b7a1603a112b371b4244ecd37204aba3f8ae40fe6ff462791465c38928b87935bc07e832725fa0c838c601a0fe0b11b452e1e9203b0f1ea1a82e82ba0dc4128a61c6f49cbbb513b246335e419f226470b66331dc57b5c58e764e43695cc4ffba7590e3b54f0e6a329d44558a336aeeb60d4c58b89d1c6e64ff358f088358242ed3a8928e3580548fe59a11e94791749ec8b43356f269c6eac60a26c25c51adb9da69651b82ba3b969280c39b784a4f11d6492808aada32ffda93e1939515064c852e667cb9c1b6156f96744e4de4a3bf2043794ce950d3b1152c1a77fc0452e623179cfac6bf3c60628761d562dfa281c6e1c9379adcf99c79e7a1e83242ffc8dd63df1477688021d22eb7459780957399590e92b071fbe2a2b89c15bcc3837d580effe42df79c8ffc2f3fc1de765f597e29cdccc948e612a06832d880d270d1e9cecfc20456bf1631a1f7b051118a746e1556b89266852531b5d02edd689811605625a7bb3970e6b77f29199344951e51318b37b56c1e1e04a03ff80e280e8ce07c720287afe966c431ce7b4f83bf2cedf6c5f5ae20165dce02487ee857219a95d5a3f7c019d18c44066b469e2a36e768a93d93b703b2e6b8b7efd6377812a266962023820cc4c8862b08110a0e0857e2b1ea61d028d8a31037b55fb26f3ab06550b3a65b5078bbef406cc3f3df07714335be7bb004cf55eb251907baacb5ed248826186a05f1916a65aa6035c049a09710144fc70b0db156f20f2d194190c224c1f0787c830073e8fa83600150f9e68ff7acef59c079577fe1be94f87370be8da0918bb3b1ea23a1c88de36821377b25ba7e6f34be896f36b59b334de3dc9c70be94c39e068187f18dc72fbfd5ab178d280d4c96e90f28ea768b613f6364a112b7fd8f4a2c84ed9fc6f179ccbfeaf2bdc9840178f07ff6b2a881a4ad6c8d03161beff95f2ef9aafb030bdce7c9fed4eff7344c87cfe497c07b0c1ca75973275526da7483105e4be86b3ee39429c78b445353686dddfb289333722002f0deaae3329e3dddc8b249298fbb592f979731120623f77f9b8a5b7e358b9392a4382eb2d4ae82b8f69eff90ec93642095d048bfc17a6c8a918a90203d942482cac26fc8fbbf67f993063de11ba5c5d272703f766c7a17cc78fbf873155f9669f1d623f251811a0a1b645c1ba46f88d2d51297d0cd8ed656e89ef48120403eed3848194124e8bebd73b7ec82415d95ee2dcb8e65fe9acd26695164e337d79c4962996626b7b1e6bb39f413a56ab5e768567b1246156029b01e253a016be6c73986323ceaaef49f0286f5de7b838a4298996f5675ff9f0ebdb54a137185d71f64248e499369b6aa67850a3d4261fda6180049c55ce496aabb323f9c0c9922db69ae2dfa9ae4477bf85fd35e2ea2054d1fae0b91717611b1a3eb5aefc25e1fe888a359bcdb2b93d992518f55be26ca69e043450f86bee77438068d62f8aa3778f67538a3b970efed7f4614f51804ec45f825831c1ba36a166c3d631bde18dcf7982bac6ab33655da7ce994a51b63e06746807b6a815430d6f6842676329fdb84c56be4849bbffac9b80ec7feb116c83c9726464faa790cab5349b707edb5b683da1d464b1cc405ba227ed940e598307f3324633f9022b1fd075c66fa47d9f8eb40b27e67180f20a5c121490e5387020940426d3b2203057b26e61b3cd5aab260816a0fbc89c5fbbc1265a387f7e0287e8f430f094d1f43d80590b8def966d21202299d87ad7398f2ed20ce5d84f73e24fa76d539399eeb70b62ab0d1760849498d0d26bd0ee2e33f54fce4c0c2e8bc2237de6aca8a7e88448922478e48d4ad70aef9a80567029f767cb25dd6225b5107d3426e7f1158fc2e678b55d2a0ca3a0c35f3de8431ef4b53d67222bc4fd9352c669e3c01605377a676b7787eee350ab41d20b119608b37e90eaa4454369de230232845bd0deeb92a515e73655bd7939f4e197a710fc18f902513c28acd2db54475a1decae930f0fbfd9227e886be935a4c95db6457996b617114613f366bf3e0bb38420a144bff1b3c08856c8d85b9e42a012716de4d2383e2cdc52d8ba3098fd57092792c2bd6cd98b405548bd167877a3bee7582dcf48caf437a03dfe0fef12ce68893dae106850750ab4731184d97fab00aa3c3d1662e363e6ad8c75bedfcbc9641d01716d8548bf459ca4bb28fdef976fc71067f0051802f6d8347ed38db023f7502e5a57cd9003bb510a4b34eae6e534addab7743d75a081eb90cd220809094bc2714848ed8137b146b1ca13736e22bce18bdf9d91f9e37cf388ca52f00b84c96b6a85020d8c13823fd1f8ca2fa8af8ded40412c548cc61a7fb9249078ae271b28a029685571f04748c670a289eae11a17fc410e538679b62e51ca0c3b17a46e31a117e4f2db05ca61b9ab883d7815b6b50e8963cf42571ecbf51189069b8a3f0f6a0d7e710f4cdcf38ee6f6f399b6ac4b9046d18e7154d441bd6192ae4cd0307b6149a0b0d8271e136e22f2e735a3b8c88cd562813f7af9bbfd7c0a9156eda06a59bef1be154eaed3c5b038c39bcaf2f099643409914d22d2c9becb228c1663c3d0b61d2b94e92c7dca0664e0f57323bc5bd149ae70aac9d835e733a47b3fc5cd3e7154826842380daa1367aa27a86b6900b3ea076c44b87d04bd395328857c5cd6a67e92217b44b82c2161ac4f7a530109b5c22d081b92a6d641682bdffb49c929c9b9855af72717369cf09476efac6ddd389737b4905fcf690f06f8b6cdc5a7c14786f28117b3b3e4b4bc8ee1fb4ecec056f1c9c6b61c4468670a1d8faf45c7c813c698b2e828b791142c7c9da306fcc3cecd21371a48e10eae39581bc2f7467ebe8215552ce86515e7637ab45650982c628b587ec61b5a26b0219d92b4170b577fa77f55f60cf9aa2db66713e855d580583237bc1b9cc0e062447f90c0929ba4361d09800ed69e7b65163fa65a0cd072aa4e6c4a98e2511b87c7b993eac863165922c3faa8242ad2243e0940c8c2922506efcba41f589b9f99c0d46d1eb7e863c868c87e70b53d2f5130c1f6b981b36326c393e843870ab96635c7b25bf214efbece6e5c2a6effab95fd295d6b647b92b9b51a96611f577b0a860e6c7ac00946f1a87ac541cea690e03fc773b6258674ae1ad715b55f3f95a78f02292a11691bec4f6ceb9f46d6fa68374cae4134ccfbed0d3f9c2871160140e3eb710ad0551b3dae0305b581be17dc0eafdcf39dd9b8e281abb25f10bfb3490f91600215be0d49a41ef328232797cd000693d7d9d256e656a44dfe5c3812cf37f46987fff47d578bcd5d66c6e79d8050a52441d9e6b376e301c4cc43f304c43bc62dcc444c00928491b69d346a1f2981b4c2378a7baee5ff6a2bbb9137bbe23f419d21b2ae58eefc9d6fbb092adefa74990febcdc4ce85f6bb9b02222b2d02512898e447fa7256b6a7f83b642c1a0ada0c21f01bb289d5f07895ca809658bd0c2fdecb584b75fc46dbe721e315fc48ddb5e59feed084715cbb7b2548e70bc98f7160eee44eb8bcd525e25199561c71fd25ad125ae2b7a6825ce2cb8f8a69974af9a1066c444eb9e43ddb0f3d407d4ea59be729e5a8b6b9bb30cb567b20ab9e6197c760164c67d454347eec4907d68d7e2e9f5f743c44dbfc946f7005ddebd35465190b26b458f93b17ed0c4d569b02e24c0a314e16efc4f9aa521012916ed5ee9320405c72723b3e851a0e3b7f9154636956361e5f27531fc06bd65b02bd33b1d220440e97b95aee42322425d56178bb32ae684ce78fec72d0ac40983916b842d68a30742202644e3627d6898a9b3505da0533825e4d298e14102cdea0e7ed91b18a3195855cd436dfe3e1e7fdbe722ba5b450fff4a462132e417a1fa91af1670c5397e3a1358d16d34a56460e8b9ab3b16336d095fa69a1ade7fc81c5915b3cc070a0cf07df269c1129c877f58c7c8412eb380162a3a8cb3c05a3d95ee0603ffd078b967ea3644ba3902e116c3eaa74b6d2efa3465f6d96bbb2e6eba518a1a07d28a192865e23b63e41fd8c6ab50720c5a906d19a9d2790233bafd0dfbad111b0bf5efade19cd54e37a635479da31d16a5ac04ca8798456fb19b0f35e4aa2ba1a25f2cf6bdd5458d589f12ebaa4aa899dd6f44f9ec91bbd03c4a93b73bca56fdf73c2a775ead4de1be361fabd2dfe407ae3caf118a31dd26eee80421b04532580f1c2de23e65e9012a38e9a357242a6b9d15dfd8e133971408aaee098767e9519943bdc27bd5eeb718625fbf98e26effe409bc8760edc31453919124bb6772baf6bbdfcbf42c59465cc1e45c1e505a3a760629b7f54ec35b28fdd28d1287e43cd58756b54d01c3cf55f1fa1074ebe6741c76c51c1ea87b4184d122a5f46628aea53d24dc1e906275c5b61f35f34cad4df09dbc039fc5db1f84e1729f488b082f00c0060e68cdefd4aac79eedcf3cbf437f658003066beec539938d4ad06ba93dee7641c9361e906fcc836a79cffe186f6e3615b6b69729a9542491d91c26ac4695af04f77293c10ec99e5866b5ac3f70d748b0347961f871dbe5311dc81f45ba8c05158aa3e1f239f0c2381883b7b117313e7730f711e4e956aad8696d1205edf93fb3b63b596d3ca2ed413b131a4c95c263006aca427d0b322d34f9d6109699059b3edb88002034ab5485aff7e4f18dcf8431e33d05bffefc45f4180f3727b3bbde2468eb76e6b19e6f009fa1bc0d323d2a1dbc8c35c38c581a32735e38dca3dceff0769027ae1a71a718e7ae68e3aec4fed26d6fd70ab945389604334cf99c53c1d7af554c1af2ddbe834c2057bc86cbe2313bf0d63c0a9e2a782f8697bcd7bc8d02637fcd8820bd9b384d54c36b3ab3908f5330713bc6543d0e39f91a1c00f77f6b67bab06198e675424f0444da64c94c6d972514e091fc96c24c550dabce540f651c8fc9fa2a82e0f6d5607c2bb6a870bd113a559a92bcfd6dcc5719125616a5a7f5dc456b3dab64bbb8f3219b432fd6688d75b239c47ece7c9821a46210da175211f51100c22d18820946985433752451675c0f67089b02ce11c79fa1bb7b6b0b1664e7d58553dd501fd6951ed332d694f6808e1af42772e43d147cf5291c852b82ef31bb8c217e198e97d3c9c45af20a5a3a7cb64fd1ed8fbbba53e9a56205ffee1e184bc2bd94bfc83511df551729962c6dc41d9deda0b8edcf99e8b2b14fda6753bd768c8e8cfb6d066996a6af8c3cc4c0ddd836d46b4361dc55a54d88a1b12ca3d9ebf465c7a7f697b51bff9d1e8ef60c3184cbdbe80e17d16dc537e178c1cc22e274bd36a8ecf01735f1316fdac866c3c392806cdc53ffb63ced6e2e229b5490a701d1391cefd8d194f39b2c477324cfcac88dc9a6acfab4fa2ffd6d58596a3e6faf75d851496f120fb0a547b85a7010730215c106cabed829219d35efda509d5f56f331b06907fe4a749e8993f887be1ce17dbabe295b20f99e92861d118b7ec2b44750094b04d180c409402292d80532de90c8d37eadbda506e32d9ce5e347f7d7518f0692386448c681546192ce325a47809d5e38c073ad7288d6c6a9454ea71bab7f6dac894fb9546a1b5b667170a364a8f71042e7c1643474e68268970bcf220d1a78ce7cd16bd0543fbf442e23c9d13d5e5df6b73e7faec00bdff70e7b9859e059be0de86c87b7e24f0257d154a4250abe3d028ef15eb4bc194df9fe8801b432ebfbeca7837b0601036fad57bc3870b547bcf3384c522722896da25ab2d2fbd61bcc8e2b8bb033fc7e578aa8427cbbfc5361f97c85858d91af88150b0ad2490ab0e48a591a1a482b3a5504750b5193f1cca55372e129b49ab988fd1b914907addc1559b4501cee6231763faddb8748b58dfc7725057bdfd918c49d168455b3599313ab9ce7088219a4cac93c04587ad02cebb8b076f649bb8b65df96de7f10958774c0429da000753f14a0c8a5d5638642ca855eb32ea3d48ffd5786877b7fcbb40c52b094d6465bf8d0fb557d846da99ad107cd26ddb175ce19edfc509139a46fde7b7e54828da9b1cc77e9d647806610ad38a214540312a2c1118057b1e4e852e848ed206be99e7d27c6a11b040594b0dd9a120d654ed4064a43467f5912608170c36ccd54e5a528c188b586f312780ef7944df7e906ac3d7d3d8f6c77489c2981f8f3e92e8ff783aacc2d3f6bd1822149b583a9aedf5a5cf60da49017cac4967fd50a576c43c03552580bfc03ed8b5e35855d061d71a207d6e1ee2fdc7155de5973a7f6ae37d8b3d3aa6530ec30ffdd49305d74a07ba39197a24444be1e990f600bdc8b4ced943751926241c0a40e63e344b2ed322088552f9519ad42b084c7f3fd7415cc248e53788fc94c85d48dc8b69634bdd97afa184dd2e5ecc01b73034f6869d5388cc747ea106775b6d53ce7779db7783f3d56b339064f6a608614d9f8d3a97ccd2d78f7b70708c47f5cd5e067ba21568df6ad7d07e860f8420256400180f26e982233295721cdd6fab3901437a9f679da4907deb81c12ad95900e4490c51c56d7e18b1966a5cc11d2cbe1559bfb3eb9a812f2e2c9d5e95c37c31eb47e17f31deb3e06ca2f50dccf40ec5fc438b1a813aa07382ce7dd430506757296e82a91255f21492cfe5b2167c6af994595333bec6488515d3022f529f44ea2ee6aa268e7f4cc97b084eb10cf15bde7135b5741f63e3deba5a5093a925f5ec6a5747e0e205842f9fa9dddd739fa0e82ee158fac16224b4aa98670ac66355f003f1cc1571193d502ec0bd671da26a99812be7c1e527b9bd77067462d95dd72535e214dfa751a4934ddbb1143c0d2a90349dba2814ea8fbbc6b5df347349f48690f73a5acc75a797d6b2741b499ca5e0148fa302b5b659f440351ad41a706a5978796bfa2ccfa2af851020f2466834e2826b3c201aa2843ced1f5614036dd8d20da1255f51735d7f432fef35cc707ac5e1974d42fe2ab073b394949ae083fc8ec96ad97640dd0a144ca4334b9f4dd0bccfa58864a7afa1d8b2089820ae2f15f6e19e9bb67a0f8c48db4e6c4914a667afca1765c92558429aba26d900d11c66546677ac8005773a948c6a0c7d14afa546e55795b9b7cd44c278fc388955c9cd20f5af48d6e9f44e7f413e887f757a40a02291299fa098d71ea04969aa089bd033c1bf97a2174d64aecb023edfba9381fd353ee2d6818264c467eee5695b38d210f1fd9062b49ab08e43f7c20a6fc95ff7fdb9081edb53f7a9a5e647475533ed0e5d188f7974d3aaa013c461ee867c7c898d74d8caf3933ca2108ec7d55358f0fda1be9b92297a817771c926ab820649562059bfbde507224a5968f19dfc1047a471488dabf9578ee472a78653538e278db93a765d67d656a438a92a4e57f09534d42498375cc1ad2e9d344115baa0c69a13b45601ac47dcdfdd34549ac7cbc48d17fc40fd9e2435ee08455399d2116d5ff599cceabb054543f1341708e166d3ffc4d9758ec9311fc59bc783df710a11cd47e07bac05747e9c143d7e5cef5193caecbb7f9aa2185e761b48f21dac28b1c0121565783ef5e54408968b265fb3f057f56d4a95c47403d1f4e9038dd4ab2a275527e3780e2892868fe17299c8828ec182f4e211a8dd1054642fdf8667eb5209884dc01bce8fe8eac1e5b495b230e3db489f4a02543803b2d8fed1d43eea268e534fed30a116e2ac36bdcee8b6d04223e5c4b40145549ced949c6faf06e72aaa0a5d58635f958e2652981311d0dc712fab38fa05cd6bea46b44f585391a1d8181a67594a868a8df05d216182fc82ab03675d444dd1426bbd80c61caa06214befa072cad78eb01447893776d610c5820e3fb0d9435c1690c188405a0e63fa29ffc5eae2b78d0bbe4fdb37a69e94e52501bfc30a5510508ff60da5cb1a6113b9fcb539b7eb1466d03183772a392e17f3332166c1417e86ea4f480b1df599ed8e2ee36d8005945c1f95760a5e831698d8fcc6fa6cfc3fa7b5f0514078577091ee8372a1b38bcf5fb218778ab6aeb3308b8d06621ef87e20f61b6f05519311bd1304a6b5afae01c4873409b934fed3077a54f9a0f3acbfbf8c24b6a11d0a59cb35e2736a559c52f8a5c4149e9a827d20182d7edac7a1cb7ca7da839584ffdb136bcc75a919ae5ab56b008724adfa24ae45f64a841a4626b487e0968836baaa7b9e71a48be13c5f1824deac704f09c171d4467d8e1bfd40bb7de07f9e7dce84d374d3c17ca14926d883be1f6aedf5d09980fec894b1a15512d8e2e5612ee9801795f5c4a3d9ff904e28e55d6841d1ff84ae18b9f308cf810c8cf5c578126ead6d7062326e9033d94069faa77b5f292097a7fb418b784ff42f38a361a2ed3c26102da8412d66c37b5f4d34e74963e42f2d1f9740a1d6082c1e59da24787f64d0bffd1039c48013de7377cd61dcb9e93ccddb8321e9087ba9732c0aa6900dbd82b9a4bfc79079900891a2231e6c8f745bf382d75d217a775348f5c683933b5f75247e103fef64fce90efa34290f5c8c74f804b1c353db03bb0356796edc56fffddf3af223aa6804570bd8f8c2653327142aa6fa799374e6ec747d047c9c2978725c678d6335b0751805fb8a5ca2bd4c935c92de787f72afa8a7b3379ac07f5ca75f4fab6b428f525a39e93f79abc5b6c05bacc6197bfc184229b535dc4feb74674a1007026044a2244651aa820f9264d25ec4ff7bd03332731f3ef10f3847f3e7a0676a423697c44b8e8ab8e50eb1c66157e5a43220465693de31f0705fa788413a75e4470b5f19c8861b2b0a25725cad28eb3c6d33b5f7e728958e451b81ae56b930e0bf2a7267b6298296609faf703555b3a6c90c5010ed68c0a405512ff39678a700b43f8f8565f4d25bfbd02eedb2d04cc0c912696fb158414eafc1b94b2fa0633c25462a06126a826f5564ea9bd8608af4d299478a0855de640d5153d18ed50175eaf8eba52d6e83766c30f3bd1782962e276d2509cc56e1476f2e376f722360fcfee65ba522105a1e40cd83d39c6083c2d9c9dc144873fc44abd350dcc670458f6f509183b93d54d47ba9b067a54f3304517d34182de9d53f1d9a7d79dc098849757981c65b7ad9a5a0f763adcb8a4a5078502a2c25d21bab798bede15477d081b4e28e6284a555920b8d978685070f7075789b84b8f0fa8567e4a616df8e6e0411e1bca8f83dd28957fc15da0fc003a4fa35f7e7139f184bbe5b2c5be26ac44fb885997ec75663ded9252e33b046a12e2a395c8dfcca070b2e617317b1cc06c33c950cf12932f006e931ecbfb2018a941254a3cd033a8ba5090b3536c50bbec8c95b100c5d9b7dba0246910b0ba6b397ea598e1f9e780c2b20d7502c536133d2dbb2393579bf0ab97f49a1313e08eb918a5edbcbd1459db1b1888b66404de2dacca34b7c30d782df1c4dc17382b2b41bc14887369dfbe3ea0948d3a0f8dcc17fd41c3fc88695376fd5d01cc96520ba1a23628942966e23952fb9c3f90e29e98c39ec81982f1655c10f9e13dcc864e63c8b0a4fb9a086064a5607c96ead4334212c2ac1665db18a8e2ac0f85d71e82aed57a6e066f5dce167643aaaf0645a665055b73b4fb491e103e944d355f69dfddcfc638b35f64cc023d0e1856f68277734f2a2ddd9cd9de0380bb67a828f390ff4b90707fbecbc8412647892001e4be56feca571af890b75512f0c98bb402fc0a9be9ff51094b14885a5bf9d6faaa219d38509322983329568452ce1a6153d308d6325a9e9d36cc148019ca516f84e4c4ff1f66d96b5cf2fe5526fac9be0f022f035a3fc16461016cc7a506929d9a9dd09d75f86bfbd2b81d577885d0c28ff624d359c58fbbab181c297d8cbd526585753df4490ee23759908338b510c79491eeacd9ae86d4ff0a20a52f49da4147d1c121ef6d4e6542299da9a9cc6b7de576084c324e82ccb03fe18e94f7ef9adba0a3803379cf609bcbe83ba9bc6f2a76da882b7e9bd97d73782933c8081b61b6737d4b9e506fef2db8fa7e66565907f08275c0652c193e1cc79f6dc0ec174efc9285080feef9b299dfbf0777a55174a60fb0e1aee3d20f507497e5d97207f22661c08df7a0b87afb243defa502e22cf1e96abfe9dba5046a62fbd9af73804ddc12d7ef4ef13c5569a975dabecfa539d577e7e1bd127923d53121865c90a4a23a4903c8ad7911fbc8fd8d2c0a7d60b91b6995db10e9948b55724d2c89eb8ab989e819b4a2a7f61f2aa289d9e29a62819d1d5eb1a95738b3157da7dc94d58e206f23f056d0384d5d6fa36244e948f4c79326164b6e90252d26b99947a2c143a606523d4a73fce74c47bf1e702e2097a4b756801429d2ce94701fe2f324ee0fb387288542892a124a91628c293522b4835cb0de68983476508770eb5e5bcf36961abaa577d7093a72c3baa67dac88e8fefc9cdfd45e7140651147502f4094694553a6a16ede7c378e04c27d4b7731f1721d322ac7af5077f4c230f0a31b9334a2cea0d52ef45aa6eada190847485ee119c00d56c4ab7831d21ffcbbfaede8fd01eee3a2cfdb649f8aa9e4096677c9596683bc554b30cd5792933a1a6f5f4aa983b02dd333afe4908a262d19ed58a728f8ada9ff43b109c3cfbb5279f92035b01115c01685062e42e776b49b83b9dd9dec4af36da5936b2669f8deb7e640377b944da66198fe88b6a9b9622cde6a13c2e6d5d5135c55c1b934c38fb261e49005438f25aa259c6bd52a7a3cb6e834702e437f5828b61856a07e212f61019f5791ed9c93c2fabebb28decec6b751515a0409ef427b0f1130ef38fff5f25ed99f4cca6cf8b07884725926ae76f07f8d1b902fb71cb9905f18f1f23e4d2918e28b508af4686e3ec0af6d819aaf4356df49381f791c60ef8b30f2403c75ab44cdcc8fe9c14c00f098a4e1e8ebb8faef71e40840ab2d68457ecdc64bae14555348d2b6a0d417535f012349a67f8cd6f0c4f10b4f865f2d6d2a3c099e9c9de11be6aa2929509ec9bd7524fd0a980b2f89e6564989c582b14a3f8419b5f521e1262ea3b6aacf9abaac1926974b91547f303dabcdc78adb1e5becb4f1145fb0179525372d9fa726c0da0ad1002d273369ecc873f4f3fca59927c65757c3fd3f82ffe04cb2ce758ed23f287344f0c3506a0d784da65b4840dc25f2d1b6c0f5643836eff81e355883ae10e2f0e163800a381735f4c93ea690d4a25fa042fb61ccaee797cae49c93a6ee7ec2cd46b69866800ed99e1b21fb5ea1ef75163ddc23c158582726bde88e05963339aa8617cc7a0bd64fc5536d404ab3c014812d62cd769efee85e6627e2d64f1a9fd3c38b0796781ea74303f31e5db4adf4f2837e647e1e78b35e40de595b4dff357426625cb457256d3137910e3d6634e04b6a4784a5f186711c8d5f3f635cf13014f464b84676ee911a166c3bfc7f3bbcaa4952db933aa97a6207c4682af8cf65dae59064b4235ef7235b954e57a5477d9cfc34a5249e222782be41d89dad4a7a42aa4e9145b8f712a9f29a2f1a4344c42ea2bba8815abfcd398d3be0c558b91e4f8f5b8583680da32e0edd26130b8ccad242c72ef7cccbdd4631a5ad6fd71a4467ef3a527c31a1e315ff38aa3ca91338e6b70823be335fb5ad9a73408aea30762d9e6f456548604b3d54e11e415e980d06d1b83c214170bc39eb79f29870ab17a0cd437b55bc64e7c5d19676c7e107962c3750bd57688821a850e402d647478df51987a962f923fac33f49b2823d09ca77a5935cd584b09fe5381b9dfa7ffd960b904e5ae8249dd2a2af5d13e208cadacf3db964765e4364290974c25b25a4dd1af39d650bcaa96ce480923b0adb41f777eb475b2031f3f27c7290fabbe0536b4c9a5f55ed74a776d3b790dd2372d791efebed675edc06f320669c89ab384bac9400a01dc1cfbefb2d8515b20ce9858bff16d55d70e8ff66b43ddb3da73ab81fa07da1f32026404598f616b8b889ca9c0fe80455493db2284af9b112ab57dcf478a06fb1961a442eff110c6ed6303a2a6c88c37891a360a4b4cae9b063223b9a4072b0f2299d339c1ca3629762437b20c8a0cfa12b462692e5eb01879f4118673953e8136507e6be3182a7fb4f1780d361d381209b863472ca5105b7600c187384d92fe27c82390379b818c0fa5459a109efc26d20e986230f69c085ce9728891cbd9428b4ab52a706bdebcc4e71589b64f8c487aa0b825430daa7ee6242eeac61479d9ddd6a3eff8e31bc3c07ec53ddf7e820a5d72bf136313daf541807a09843f86f85dd79940f58ed5554047907ec905067eca5e1df8af9ec0ee15b5aa3a63a34959c0c08878e69d372044856bd39aa6ce6f73baa3da718239d3195141ef9caa912fb1b6ac2b83d9d8cfc00caafa8c02f73881794f006ae591f1aa6f441b2da4d7c3c7f8e273d734d6d54ff6707319a4f06aea5645ae7c0ed8766455b12c7e43bda3c15ee2fc9a4b99efee40ff802a1f092c103f9a5872f7613c28aa629384367a3db90dfff7c3151e75baa89371241a31d0e4c520b1a771ceb8111c4397e3d80937af8f6b9339f2bc7c47918e901347f4d72720e000269ab3b6d92160cc57efb262b038be27a05026091e174dd9441e8317595e13db064dfd4933d6757188e1b40df96d48aaab6c202cd8c16e0bc97692e8f004ab128e332f3dfe858fd97c51a57630a0cf72a4c8d121e5cbfa8e3c5734fe96241a1f4737e8234312388b561d4237ebf0b5c0c308e6eb318f6c6b5f3e27420c2921e1ac163050855c0ce20d4222cd9fe852af725e288a1dbf62e8cbbe94acda3994438cb158ccccc4415ee0eb393409b22a9ad4c1541cb9bb30f9623d5af23ccfa4d75c7f72c0927a0cced4a21d1a86a80c077a30a70023f10b1ca0fa8cb495df62648fbdbf5bbe6cf084cbe4c0d9b747d6b72e535152b7bb9c32b5853b68836c01d2b8637d7de25947b8771fc84acb4897d36b2dcba2d9024c1d416e28ef3d525e677d561e7164df4687a57025d884ed052aa536762dfe376dda7a940f92ca0b79558d8c73ea191477aa96c0defc0994c6e382846f2a6f1fa0be2ace2f285ac96de76819caf3dc38e86aa25b33595382e3fbf11f456963c8207eff9341c314e4a49b2d4ed5d333c5b36b3c71d65a31c60925d0aca368e3df54bfbb9d44bd2e744b90be437100a0daf79f5f5cf5e9fc230f08706387e052564326982d812f17a64a6b495ef4e9a94c5b17bc2ad95ca8ee6ccd5d3e14963018607f081b98d808db56eadbd8dd53bda6a04c8eb06103d9cf47802115f672808016c95b9091a2852f148c7bd72a70851ae61bf4da970da0056cac9402dc63598b1c8a248284f4913669139a6ee63d9ec86e57e0f8e7054af3c04b1121514e24a54e848d2fb482ab7bc4945a61f9412049b749f79de9d3acd46af75d9d53551571792ce015e0958c38e7caae11468b13671e5a25fdb6141ea3ef76a404b8c6f95a255507e0d10fec276a32df34df7696b3e2318bac1914dbc385559157198f8644ac3b6cd9b173b3467fcc0d59d6c4aedca73b7f88447b451f577a29ed9089cda62e4d7f224f722457f749fb5809c93c6800465cce04eed65fbf8411a8c1903cbfc404d90c3e04537ba49ba5ded0a1652b171aa8240023bb9184d8dfe655830c3bd200ab781d312975bf8e9f25efe51216fdf23786d19fd20a5a920c688fc88451a1f26af6b8fe0b45909256162c04a9bcfba84933cb04c07b864aab00e3b0dd1299f266d4e044a959ae1d59e06d6c0ad6b363cfc0a0147ecab8e7aae66bb874f1cd453d386fa7505a7f59f097a2ab6de359b9b8563a428312f8084761e907456d9aa547b778609cfbee7b157519398f6708123722846b855dc8f5e5d0c6cf1d95ab0d9bb605f51a93f84deb651fa760f47b6311a418805772155cff1e7c6c9ce4c2ab849524894eba33549ff9570243741b8540353ae56157aa5d1768e63f513493d1496a3481c0353311bb5087407a8635f800a34cd43b7d7bd78b4f019c03dd62ee14d8edc682a1929236740ea0c4a50960a40b9f0546588fccf428901dab7d2273968653e6cc9eaa15472c86dd0b99f40e176da6796f187eb5cf1ea7e368e9d4f7ef23284263737c0828d3e36ebf18e178e56ced1b07010b8029ca3e118f91c6dfec1ac51642f00f4d719ebc4421e22103b22a3083760b0d2edbab137c69b8264f73ffcd4e013b1622f35063e7f3eb77b06272cecfd0f44c32afecfe2d4b5559d84b3c344ea23076aecd5304cbee9cf7893eb3d2b6e4e77ae88db2d2ac69f2b64f3f8a5fee6b9f72ae2546b671c9ac5c52cb58bb2b94d95fc63318f50b5cac90bbbe700e54333ae64f43beeb58cc0a32dcdccfab8b8e5b04fde5b780c21dc09567146662a24cfd6856dd934ec9dc9733bb1e888aebca136c1c5b6a7f47367586f66532e082eff1ca643f287275ab1191dff2b0754d072660fdbddc9c8c811ee3efc97efa3b327113d1e2296429e2e18f1e0f52367ecfa0e9e0d0d412b5c74b67beb98f9abd3610fab509465f4fa9eee6445a4421b4fb7fcf724a8a0edb6b70cb2a50628a1c9c1dca3db67868069acb4d71729caa9fe16c3813195aa886d650d416ae8261a7b86a9f37cf0a8a2ad17e00d346518207b8e463859cc66e1ce86126a5ebeeb6990a53c800193a823cd34205057b65be8dc93ddc8fed1febeecbec955af8fc6fc923e601eba5c7ee65c077c7ab1058bd62498b962e2361a4ade500096439af4618e888e87f1c882a1ae3f6f667bc238f969c170b7b4d1f78d824e00dc2c05bcabf5922147b462d507e1782fec7e230b1d1ed028f44b0a1fcc2cda4edf3485f50d61fe49fdb897a2c11a46de172cba66722e079ccb52ee6c22bdfd1b922ad7d1dc53f23e9ae44a95072cf65a28fd82d13a5db80daf06d034d8a961049e170095ea00c3c55b9e000dd728ba5c426e1463267c02075b88fad93a31b73dada4f7e63b91e3162d7fad04df0b366097bdd6607578dafb0fe56fe14101ddf8b02a2dbc8b2d32f2e1425d054a0e818ae51a3636ebeff7d38a77a396c21d513f3eb3984a232243393aed035fb7376d0cc6bbfe95d06a83efd4719e0b2041aae8d146d869f2687cc56edb3436bc3c1c241f977ef9aadbd2c882bc873b2729329dd925d7721a3544c520659bd26269e5c603a9582f600881440b1a0e182af2da91e7a69248cceb31b8b99093ebebb6f5e7afa2636690f692ee7c0e289a27caceceb19b42d939c26de060c9ddf4f886c14288e3ddc4bf4aee0665a55730a15b183f7d4bbcef7497134aa826d459fc6a1943e97957e4089711c37c051ed0aa1d4d93c4db928fafae087e3d258880f9b7de38121c25ddbd1cd62366b706c1558efb2a6c55c92ec67be3bc7826bd7c66054c245bc83309e52b6b18b318f6d1ad8a6851c3a429c8f9e13eef025342dcd7112cf1ae27d617414bbb4e9d3688351859ddf2869e602c9c21d734e5956daee4c64f4e0f385ce61cf8b8f36943105608124af81f6ac7f0fedc73addb6099cd7e822ac5d06ae4773b42e79952ad24b9c71aa5414ca620b76ff3bb11bd46a1dd6f14adf6cb865238b7769b1acd6754e75d7e6636c7c2696ede66c790ec7f387ece51df64e9246cc6a646c85e25b1f998fdc05b522970cd0ea7c01e782ec5b8c57021fae3f48bffa3dc14c94f4a1dbb48a78cbde06d8b2ad769551693ead6282d3fee37c889c2f410b4d40142171116cf4d32ccca33a8463aff863174f2cb025f5a427407c3fb54cbd3e9bcc8777a08b8a5f7f4d2f0488ffa50bca7f114edd04915ea30065f5807ef9f84e22e73392ddfd5bc15bc1e699139ce23531a205bab8e2c39f8e08e2e95fe97f6f4811ecc8e278c9c281ab02bf378b81d6d227e2210ee61bd47f492e4d3667ddcb6852b6c2da13d60fddad26746789d5079229aa690124639aed86acefc3f0497063adea1b70d050dd8c3fc9a993402920698a9464151b80aae1ec0c6fe5f6fbcb2e3d1dc50e4548cedd8c22b5675075aaae60f1eb53312965326cd7b82304029780c8af3ee3c1ac764d07f72b6e57da36e0d0fc21c882c4a35977df07b344a2d80f228822b739e4bdb154ec6d8d939e7a59c14cf0d3f84bcad346fac64336c05e192dcbd3056c1e50623a858d27625b62012424397c55786939fa8458afae1e134786b38cf2280a2c3f6c3122a7812f5e4382e1ac6f156b12fdd2e4d44f6d6964ae23917c711c2c4cf4ac3c109c3da1ecd2c32450d9b0d4c6b024e0f3f9e5f23dd55585dc91aaf3c677ccb7719c465e05ae4d5f2e5472fcff31f8141b4cc8c81f8b769f3520925ef830a81accee0079f9afd4acb49da0c1ab7336373e1142c738c3b94c6137bb5ec66641e0d8983b3cb8bbfa2f400a15c71cc1bffaebed845c4b71d33e198d2970b3a70c6f80aed766d17d72288e86db7c582099616677b054a80758088aa0af73b99d04ccb0e8e3d94563c0f6f177db7542cd18238b778be70d2cd6e370a8192f6e3c9a5eeebc5fb550d9fcdbacc1ee51815bff7c4faee40f2b6f01b3fa19d1c051424410afff85c4f70b5e1efeed803d39308eb69b0321ab28d776e769c4b0370be4c69290709d7a91a0db667da2c8be1ded5d26fe2025505acea3f97a09fe677ff7d9e4468f0f6e4a52994aac90b084ec4a11ca0fb25494c3ac17064247785940cb168f7be67da351a78a2d044a499c01f8da1335d12e7e0032336137111b55af774986f39b2f13400d29f8ca623a7fef2a1411da93ea9cc638d8bd4c0593480d1057b837ee4d97bbce02f9e5e020b295751f82c4d235b027de0f3368fda27e54e0783bec59051d047c2b06bb4767b278aa5a68fb2090a4bf30cade27d2317ad8d2a4f716736492ecb2f94a0bbfde4b1dd06e73f4ed7553db647be76fa2b3e09d68e47d039bd7b0a3caf1e88ba1fb80ae2f4297f80115e741443b7fcc8ebc3a2059c04f6cc6fbd3c77620415460b7caef909ba04d6a6f3b27933e4ec7f94143a759cb822b49522c319927f60312d356b42d2e9521d6843795bbf5025c2185815317faa4eff019a4371b30e64e9b41036350ca77ba16dee09a1ffcb2452b2c0d739407af4579ba4bf4e5bfd1c1988350c83dfb366be41a7fa6ef14e7d9be70ce0891c064f6f265cb1de8ae74d7629ffbb76e99fa5cc33427e9c46f83352130fbe077ea05d9830ea3d84d7a851b2052b1919d3272a2e3361642d610f171bfe7cf464360be0fd1040826263dc27af03a9997bcc0002f7d074fddf16081220c8fe80e29a818884ff925cafe58914ca107159a05c25947749fed6a54e1fb0f91d1e3466d24de484c36b77424002d9a3678856893cd7b16e2730ffe34590d9ddd72adfa78eabb3f5714310273280234fd870b439cd19315df6827cdd5d9a89dea128023eb381d3c347cf9b5e42e5c87275ae0cf6d92a99a507355834bdc19448256203f53b619f10ba7fc1d705f8abb1140180cd20594b26f911ec63dd2b76dd89445319ebb38f57e014265f3bfc2533f9ca0e8674520095eb512bd9b0ab0199bc690e25d1685aa6df5afce6488f1381d9add69f22794b3874d44175989bb2a07bfc054456a79e2a5b8d4970139b1b2f8acfbec40a15d093dc337eb966e0a2632a8a974c58a7c1efc0d7db61bdab7020141c50ddf4571eff2905df1094f1ddd3ce4e08e958163528e35e8dbd18c0e08b2e143d1d7f41085fbc3e6ee59c9c2918ca7556b4399c73159d074a5003ca6209c49eef5c7ce1667d1aa5953dc07d08e1add05effc648da84ab55492f9665e1915cf64bc67fb10903d44dbd2e8045128672adcd97576d687794121fe3da9b90e6934bb9442898e2265579e0b4ca39492533950ecb34a207ab6ac39e10da961db5bcd68206a87ab4a4e4c627c253ec05d95ee1f9caf93d90b82c6b4ee284c78b436750376de2db0783644444b5e142387828f57a019d4396c35d8984559f485fa4f0715a5ab7761d97a226097c1a7829dc91c678071e65e9261426411c03950500aaae764ffa51cd12af7563a52e2d88fa3e3c9bca955655d6d36e729aebc9f43dfb002821152f9234d91da638bae9a423c0a71b8a3b6da24a2b4c4c569d6437d676ff2cb456bf62ca08db2a2a2dddbe2d80de8c521a3511c6fe6d9b2a6cf1bd46d648ee4f752d475907d0fa569e766e524adb9c86c5c1e71a36273984f92da8c68cde56a82a35d1f84c3cdd6fe291707564f996647816179aa80f7ed731abe6ff4d8518f851a6726c9d80552b04f0b6c05d13fcd747a9a5765a1eb546c24c76b9e4de9617623a250347236b98ab52d47c80474a272718852a6bb243353630b755757471af0e043243466c1493ae1de4d2d0818ff3d46591ce0f29325e5fd4c74c907bdb15b420708dddcf367d05d419fb98d29d66019e737c4d851a168ac25cacc3d6e9d928418eaf51ce9370db66e9f09dd42f20d9c47a8c56940cd9971068b8129f8c2a0da522d7fa39073631ba504626a88b2122ce2517d615565431c600690a0a3d85da1c03982410774f44818395a0315ea359dc69f3fcf30481afc5953990a47043a910c8ca6e848ab95931da7ecf374867d4395a68fabe7e6171e845abd1e4725a5e9b4fb4eb662d2489b778306c068a0bd999f47fe67dd0824c54951a9165944bd19d8006459a2a6a81d6e4050d1293cd6566593df54896c50e79b3995bbe3a1fa77471014b56af9f645a469879438468fd1fc14aa49071bd76170a7a549a364938de4f15c2e171e27bbe7d56217e4edc1509ead7fca5bbdbe139be99890c6c454391c714c7af81d52a602d12b7d24a04e516343a710e928d570020c06ef9b283feb62070ed2ce8465632a0b79904c792ec03d11856c38d20a55af2f91478ef66b5120cc95f912475924942ee0abc53652aacfb958038f7e094d6d34f3923ab6c94b484b6e16e92e960ebc9c770b1e0c5f0bb4dbe987403f9226ba2a2e37079b7cc522c045a3e1f36acad3d0e96a9997961976ff243f097adc0899fcb3ffc977ca93d4f5dd94eb9d73f1ef630120af2351314852965cdbc4e401480d51a3e5364001ad3af0caedc7b277ca63cf1c6c2131a348890ef7d45f8927ff878e7650fe3427b0e4757c4ba73c56ecb8a57d3d1390146501cb42bc3bc35dc91e116530aa6cc34d6ea432b9f113b96e556f1d75dc3f8abf40738bfbaec3517d288abb9181de49d2448e3c7f7bf626502805d26d7201405678f26f5be805d5ce6adbba240b90f90ab993e96e9392620e6bf4765be4ef02d21aab084cbcb387a7cdd28eec1c1f5506664abef881509db61087d87b9aa1a28289ac7b24f3ba87e652caf1701b8a790a559ee9b8fa854c3596d8d2aba075d6b5007378bd7c94e70ac6707783cdc323546936fb556b5b6b94759cd1f3e23507a2f4484770607c396e4bf720149961f25adbe1decf1c4471a821132433f3827ac098e6ba22224e549c42aa963f937ebb652d367b736afa8d487696e279fda0a7988e79484c0ab024a162ee7e55f3aa09e384b14f355d8752980a58ca8de161e1e792d5eeea09a41e92fb161a9d5356909a5e2ceac13f0bd3adc1355f3e59d08b5afa35cd0f9317848cbded5490c8df1bc1bae5d00440ad5eae160811f7fc9dd6a32a7a7a2f27a0b55bf8737e60b6f48254e8881e66d5274d53305b949cb782c21dc570b18e01fd01e088d4b5d19580225bacfac475bdbf2f784b4f2fb5f448a18a05327b6df580c6799c87f19c220f710778c92728a8ae30ca6976cdd022dec923dd5559831fcf6c4ff8bb0abd0589ab5f5c29bc3d70abd5936805fe753f417765edff3a7cf233b29896e7355e9242048b735549862f2fa0ce0b34cf264d69218346ddb34753a498cc180f919664bffefa30c80ae5fa2c787efbeacf9d1df928367c861fe29384efb00c4ae4f097f744986453e4035625a1b6a588b8c7bd71d8d557869622e8c0153b0a8e6b745c2b420bf06446795eafe380d0cc1140f9a3ee28504d5eacb6566c84cc77f063e20b5b7293d37886b4e1c46b7dfcd017686f6489d6a91adacccabd293cec0bb921d7fb3f7d00cdfcbc77b72b63d86bb0c5e90c0c898320fb362d2aacaabd86a88128c6159d6a4311ac98208fbdd39fc74974c33f8d1360fffe93d3c6df388ddfbc65ed73d0a475c1389220f1c527a841e01285136a6d25868efabab4c4fc87d2c779da1d46c434e96036758ad88886998c0c087712ea4ae675a7e71fc36ce4c6102ec763c47386a1918094f59863d303e4beb059ed0f97713272b132649c46742e1376818b57f93060128a0491c3b89acef7e622356c2f634c32862d95b2f3bb012100e35fd48f6a5b735093d5d8b607226c71abdedfbf15bc893018615952513268ff55c597a269afa1d903df4774b10698a93fea71946d0a49aa95e2d42fed5f9b120c8047fc1109c297287821423e0969b37c2262e8d8ead197740a362b335d19a9540b37277fdd27109fa708b2943bfc7b7ea2fdd778aa1068da1b3ea7cd95c862af8e830b4d368d14031b67dc5fd2a16da3e5f22e143dffe8c3d6c7c0e748c39d05947f9dd33e1108ba8a59a08ca27d1a10b4d33271c1e6fe67580dae39d9dc7a00791aaa6cdd7a75a4ea5a87c1c2937955995abee92f6552a44a4f727bc09817a2e287d7ba1ab045f7a7211f973f96267178c17ab072cfd5949487af202490e8bcd6d960622f1a0a7d22b1a1b20eb80dbca3221acd3eccc1268016f5a12726cc7ac7c556c76616f45458cfd8776e2f82b04ddf27b0ce914eead5802e356381b8643e0069098cae6f7eed8d7920d216dad526c4cdb62e92fec8a59ad4f47e00d70ac9334f10a943bc01e9f7ccbbdcb6092b7da9ab8fb57c44a2156879a2a89687f96d0ce418f23ee4172f1e4cbf77570ddef3c69d714bec9d107dff4b74b4a337965d1c1f1803ff81d9a518409ec20f53c876c67ce9fd748fc3a77354c529ab7dc2d79d7c748e324252b1e1b16649bafdbffd5ba42eba26a34b565aa5e4b89f2dcee2b640fc29780f1d188338818fab3096f4c02816ba24235901274bc368bf5bb6f98149691f37b29014797586f40037eaa3a37322c870e14cded3e83ef6e76646c39e002c4937e185fd7993d49ff93e61e6e34d3c2ba","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
