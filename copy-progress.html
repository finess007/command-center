<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"a41dce8fe474b0fa425dd1603b9986bc752eb292aeebb2328c051045c24e69a07be9bfad4be993d61b39dd12c0c8def88d9421d151b36430307d95ba239ad7c07d34ca0b095641721f2afbffa5f7560f708f4482d1ec5386e933d089fc88fdb64b8de758f9595565a782e691a7cf756e278f274925210cd7dbf4c49926acdd300846ae13aa6f0faddd30431763221820042245568cc67ad2e3fb6fb28d12eb6e9686f55af13de928be3bbfc6f5f1e53e961f8f4810075ec296fc26f84c73ec21e35a031e497f2b7dcfd4266a828d5f8624c16f689e5ad0146692af78b7473c347e8562f445de0da5aec26ada4bc23fc17e4e01daceea148ff499d435f12fcf1439070f6bfb1a5c9eb2cc3eee4de768cf7de8c2b7b2893f47476c7966f5e4eb4e454f28ecaa2fdedc2c6b14ce956d4300842d44eeed4a56be114a44ee61a12571712b74444eda24b83b75a0828c4f57f3d13fbc4ae571782a5dc96291bd7cd5e37c60781a03d30863f88cd92540ae3feec2045f2b9031ec6b0b280d76ffc451a8ab17aed46e288b36b401f42363d5ec87ffbc4886ca937974a0dcd68051c76add7208430d913df225f664761de1cb32c23789dc26db96937bc92b84d390c27bc71ef024f81d04b7a2bc914cf2101395c0192a3d5bfed4366c871b3d81a3895f4c06a520161ddec73c21e3fd36448c3a9790f6ff3b04a382b9bd43e85c47fcc23263b508d314d36d26ede76cd4bba3f2276e8850bb3176cab976e021840ff602577a81f09489f14557b3b930fadf85302b3c9d26b22247521451d6327c196668bcce92d81f840f23ee71c05ac3e1a89de25a947c11ec118183230472446f7070db17e643fd2c59becf52b80fd498b257ef0b09c5b82aa62586693a59381360b0cf9f3415d15c85b3812edcc56acda86286600d5f7a1f65421ec6cf750c774ad6792d356f3fb60b4510858f20115be16ca259148f1ace20833eb8ad882b036a209adaeb6f4187834d0641faadb116014e621d5d23324ae2d4392ffb3f5f9b1c6da30489b68c1276ff0489ac6c3ca9408fa1c76a26a6c299bcbaa59719732c03a0fab000172f1eda87080623e7bf0bdeb6a669e7a1e0d184006fa93f74461355fd103ea627b412681a33e0418eac866d24679661519c532f83415afee6513a7d837d373e6ee4d7d1b7fbba0241d9814b9ad0df3e4761b98e810ccec553d8b20a743c661445632824755a6f48088f86c4cfe160bdc7fee7f936c4b49f2c9a96809bf461b96819534d4e35fac61ba42c2200eb250925c02fb89266ecc7929cbc786586364d83bd688585910e047734f42fac59108e657c08c767b38b84a545ddd9064708454eb7c02dcbff503d9dfc9509def6602450ec76211d6b96341378ce9bd4ba9ee432de3a9a94eff95ebebc8832648087bcdccc4f24fbdb7edd612d347cce7b77cab81e52e583829148a8a3eb1fa19a58574fd45668e59f8b02f2e6255a4de77717d8b019834351df3e3da733d77292d2fe7cbe312dfcb49d8e365478e0fa9f412ad019561e4c0ac73c4bfb009dc32e0cd400f1063672b35ac29297d892e4ed21b54ed1a4241d9342872f25745007a70059872b756b7dd5f3706fd3b32a77651dc58599e89975f31cdbd358dee7bfbdf0dc2d9d3e49d8478460c02ea3f6a1270fefd692425b167bf7d6a2072c3faf36b5430ba2bffc22c28852143800e5ca2e69ae239c7dea9f01c7b6a48fae52c375ccb2cb1af0b4ce003e3cbe6f8fd4137452e37acad0f2708255c44862b04524d5ef233a59b5e22cf8961d42dd753cc65be5a2e67dc6f36482ed6f8c8688481380e872681225a1e3529f279b5eab651795ae7d8d1498eed3d5bc695d86c2b8537f23a591918191a72bf78c5f78cfabfbdcbb553f7675881fc470463c0a016fe157be3824da6bdc77c49fc084998a554651df5845179a5f7aac039619ce032d7ecdb4e4778fee1fa7a04d7fa3208c70a05ba2e0b4d8c2db6f9f235be0a52d630b6af6f8cd66b5649385b9615a21e21707d6be07a05190e6d604b23e352e94693e37962d85f276bc68ca6d5740fbf6b4395eb68d9d47ad89d4346c5201848e748be4a12410cec08f505dc07da9d8ede8d03a4e9898c6c6b8d91db9e10938ddccd0f539574a205df5b9506062bf094fe307be5c795bf51deddacd5a2a49a901e497d40694fd526af9590121e8b231bbd497a9e7f87928b7d5f942c5e5f38646e2e5dd463821cdad2a91d2453767219239052129dc70c522fe2abdc0263bc4c2e6f8c6c934173737a9184329d3559d5c695b11134911f4bcbe04aaa9fb5d9e1cfd0d5f6aab75f29d339d781d99aafece5ae4dd0f5cb9f9dfcc23e3a2564c9ba98decca8398e0156ead1af3ad42b7cd611a231c89d0f483ddf61882c407e97da34823558ee05a4494540a6c610add7a12074c0c9ad282d34e39b107d3d789d6eaba3bccd0acaeb4350308e74647d2f0d91202476754e04a941d3046045e5c56efa82b67f3cd6a6b7540dc06c15aef18ee3357ae314df3ab9810be7a4cb51c5072b130b18e9305028915d625beaf785240cd60e5e75226ae962435291e36753c914bac38b6b5119bda990ba3b55d0b7bbe8dd89df09179173265e8548b3f45b856cfe964ba454c73e7e61e2c976cc5862741994ebc49b7940abd55e2c8c809253d414fdb44d277d2a9bb1859f5a38fd499bd9cd51d1be2d90871dfe3ea11140100a1259098bf36a23dad42cf7dcaa9f7b2168aa2f44c32060c8d8a8a57eef865e24e1d63e8cf5f2649bf31c30872892aea5ace27530c9b9db65676636edb4b2f419179173e5db723c2c33a1a3dc86c168cfa9db7c9d89f160d35f0981dd213a5b793d6605cd92cb111880fa630e9fc2330c8a70f7273aa679f3a8a000045b6452d8c314bdf059d06753c76069b2a22a29fa5d49c881b7b3322f2621e0523797fc577b0a42a1488a577e2dc9cbaf870c5daff7724bbcd051d4174fbf929950ae05caafa11fcc18c9ab3a22a86977222fa55e3a1d089e94d98c58663b86e3b15d60b9c17bbf500c7a27455241bb1885e5f3efb524a09bc5cd7fbdef6d0fb92dbf4e76a321853b58f135577bc5308ebb6884e52314df167d34fe84696e933858e4cbcf7d8817a996440afe9597f163f650ad6f49f7149b9a9281ece74dc9adb508220504e0e2ca9163b5ef1749987e903700c0e6ee2b8c88ea2f4335f9501a6268020911bb327a582ba38f1f38bd83224ce99f3b7ab906922230bdc62bf72fbc364a4e9fc37f80a8683278511bea86fa8aea5afcd2d4a8a4f8693a25e07ea1bf3e4b19b44178eb01fec1041db9faf050e9599acb82fa17d67691b8884a3897efaaef3c1cca9dc191c57bdd08e4ed029be9ab4657c5b019216d55a1822c41279c960030614c4c4826a1572fdc211f2ad40674193e2f1136837385a4a6a976c5c62233e7b672def5c999fecb731e6d9c31cec7c4717a0a45ef429d9ebe2ad2ded671051ea1755c703787b0a7c6067d683b071d08c41e2d0ff97ef7971338936527ec561deb40ab3ec18df969add5a533f4c79b576a4f40e49efc7e117f046160bcc6feff105345945ec9afb8ad8d1e6f07895f9c4e4f40d332a932d09cd8049f91d143c8f6b4d25be660f41c40e6b3a06ed366e965831391a14754e7223c3b9f2057833a2da635c423cb4fce2d18c561d6768ebe119503c22d7b541ce8200cebd6ea7e35a2fd246dc64c8049e1b6f9fc76e8d310a4219f372c287d2c5afc9867ad2ec740656fa9fcd795786ef2022f6b4bd6e9270070075c1d1c09967d024f0ecb6b53663a50b7319f8ca7caccecea11a361f8cf998d03093b8cd13a151823a286985a8b9bd2fad6789b0868b1f8f9aa5fae861ab3764da36bb74179486f8ff466d194f57ccd6b67b06141196fea4b148be3c52cb2c1eaf47d5584c12476ef5a36a95e015c0fc82f1fade7c310820918f7ed04c00c28957535555e6d753e23327eb8d8fc85bb43e4fe4e97e3e14506e018367cb0ca9892ab8fdcde81eee054b2b398f455bcc3592dd694b2987ef4325f425aad354e66c24ebca06d6a874b034ac45ea44a29782e5b93afd6c885fb095d51aaca362416f5ac73023206ea0080ff86ab4151ac074a9e3226681205cb3f9d6873c87a35443e0bd848eb5bfc325b355409dc8d6a822633026c8885c607cd5927e97a38fdb67cbb8af17b77d44449a48b35a9d05378614cbc4816e738c05feb59816c7a21c80e885c62be35321bdcfa20fbd7ad4499efcaa8caa065134595aaeb9a1c1efcc1c0a7a5702fdd959704d9059f8f5705047b9f3a92943eb387f1c5f442eb0826f6c354d513fba239704477596d3413920873100f277bbadd105c9736e804334e9a68cae7fd2b6c223b9983bda1245b8e35bd23d8959f82b5a54655b471851cc866767d0426cab935c3a0347ebdd7991832861f05f10d55e0eba4f3baa06c65953768dbeb8d8f77d9f958fc5aab82607c221e07ccff63c0bd327070b33403e938fd6e4740242923fe668417459f590b5f94598c1f55460024760b6100270b4c5ac4e247d99fa758c7610b761124c0854a4b15fe146bd7a6512e6b2852f6d2b9cd7309eabed8aca429b6142387c55593851e080051d44361ecad7b859f3ebef18f37f647eb674c7362fd3f93cde9e2c5176d935592408b7e32f191f83ae04e311e3a427e67ae6be2dc6d06c656f2e1b1aceda0f54f787c9f7e07512a12e628763262f64228a204d166acaf045bceefa6c0cd5ab4b63c92964a02713a43f20b77cb4f4f292603db336bc9a2452f04523e3595c45fbbe731b1903b97457a8aa90fd353f7df17eb3ff988146602e59f506c7b94f489ee1652f4adf351eaf5ee017329bc3ebb75482f6af703f80972b5c776991abd7872ab1672feb33c22684636f99e43175ebbb65b09c8409cc5e9c1018a6c249b8114954fde9fd9b0f263475fb167d12bbb7dea1119b6980c01dd6c9b984dfb13a9092dde2ed0ff932c587dc1ff8b426aded05f52d825fbbafdd04c90a2da08480a91d6bcc9abddbeef5b8fb09b227f64c4877600a4322e338c5ff2be71e4812eba3c30238d849fe6c5c36eced16eb4bf0784171f253f061febc881b8e4e63d29e2772b057d53538026685d29da1a6d0b56449abcbed7b60f61c677b96157bc270bb9a6dd51ec5d50d0546bdaca4e839220abbc1f206f4e96af1fd19b7bc1b576eeb5aeadc623061d6d4a77709574210b68023af0cf9f1d009ab4ba5f996549cbbe27375fa9529a1313825ee03dd4a78691143ca27ce971eddb7dac606a17a2dfa954c2cc88e7f9c1f87c91eeccf67d7bc74f0395be2fd9e544ee78521dac0909b856cab585037c6a51732db6e38ce7d1c2af59374e3e8b21c9acb84d77561d1be33de865b4728a577b96eb427adb1eb479bc1fff8d9dcb0a21ea73c1d45dff064c0dbe8640ad2dd891209703cdd193d03df4f1d277804ab5437e90ef6c1ed6c6513b5b1c3641a850e0c04f7510dbe6759a6cff5f485d23f80982014e2ec9e41529d8983e6b3acb13b78d5ac6565d53c2631b6b85d052c62aafc88d2469c9c0eb46fbc88f2606ef9276bced319c6f4d75b2fb7fe105a669f99d1d40bf8467db42d2d92aa2f57789a84815fde688c60e810f38fe36e8d3d8efdff42c75f7bfc60e810799677544ba4424ebe959eb55b1f2e04e093aac700459947ee3602dcbb27cecb0c74b9ce3bbe7f4b3595bb0783d3aa1e1495d6d3d5ffc05b3f70ea93b8747769c49e79ec3278cd25810a621e7266207c4e26d4d41a5849287344354a278da3b416b804501469cd3dd1ef4bdd91de49519330bca4d35fd2d5a2d7043ad23c4f365825ad20553a4aa219e572c5aa5cf0cf4334bde722be48b7c8e6fe7491b32d540c2f7777c29466a8ec06e04ced4318ba720fc4d7f54da848a2a9b93e59cabe1b8e795090d72ceb475d6c06c22fa62c3ae85d76889b1dd8bfc50857501c78b8cf45574fe9f70e6bdf35ac72002e40929af0724634bdf2fb8595eede1baaf9874ada6093418ab8d9ca7aae593c0d66dd5e39ab44c0a24494bb6a0953507f9de166a9c2713206f93fd739282f169f61f5a791ded4b86e10dbbe7ccdc2c332c9c3852332c40aac4c16b3b5ad5cfb78286ab9d23ecd56c4054ea63bbef7cc0fd55ac139391cc5e137964a85d0bd8668d509b7e13834dd6eab062a374e1eb6bd31bf0298720699c46896838b574dcd87cf88b9f7d2478d30eec685c0f5ce1301f86b6486849feb433efd5f039eb06383da083e529edaf46366a472b1185e91d15dddf6dfbd1b2716c4f5d27f0762a3dd349187ef58394f633f169cfd0f08d325d1a85882a73583abfc48c71e55ac4e6dca7ec04d95edd29c9a7d36c36b4212118918078f06f8a3734a3115518e19debd66e09bb263549c3065802ab891565d4bd8cc903233ab64013442586b87c0e4d4a94aed73bc9ca325df59013b8a023d3dca64e9bc39228624d9b248a208e6eafac414ec64d237c9ebcacfdb6c45bb4bc51c41874f8bc6db060dfe491db0ed20a339acd7c8ca9a7436cf286ef3400723c6586145e95062007dc679d51274b2077d151f8e2ed3b1620e77fc1e988c7c5a2877b302a25df243d765e3252eb96cba1de899990714584edb03ced18bc0a4bb3bb938e57fd0420ae21e85c34999dfb03534ca9fc003a540d968d5caa631f5e1192c31d04295885b6a2a64ef85c2d4518364a0b0f1bd6916ec4a11d6774ab5da30366e984086d2cb7b20cd528c32c51caffb33485be2e07e8cdf25b978308e012bd385274e969852176c9d5f328545056f12f0c3bb542ec631ec58721d6ba7918d54bcf975fc85c69ac72e6bcc9aeee50460d31ad016bd82b441a536f30d939074a204851b928439e17734f810ab27e45d4b33662adef096f1aad269c08babcfc39ca1524d9ebd1a4acebefae32e3e628114cc243e598707ed162dde9bdc28c477a6b9d458835e5fda0b45b2ede050ac5f802515ea20ac0b4fa7c4d7f0259d763ef875364a01469af9b9a919a8b935d3933269123f40e9c748a13ca4b052dba8e36d91b18521294b09289cef72eab83f9495c0f7b6ee1cf219ab96c7e9978e720a1984bef4bf3f768ba848d7ea8473aa530dede7a522f43d5233dcda1b2c08cb320e5269f12c76303c0da81796717d4a3de16efabfc52bd9200a5aae988fc34f181ab58d3b20e35e17a847359ed9347fd0a626efe83d7e125efdbdb648ea852b0c406ee509f39ebf283b2f06613e9a7ec5d4e362be9d1297351ac53ecb47d2c43a8c84c8cedf0033f835ca67117e3d61a2fcfa03c95c07afad9aec4ebd8b64bf2082c1f5f2a2f8b75aebcbc399d87cc6dbb1b87e24b351ea1a5cf77ad6daafd52ec20b78b6ff4db1b688f598f22bc24ae0130649e22598c01a3bce531cfad981ec2070371296b0fc0e9b819c6483b7872e2325a2413c63d02204d717e8767a590e4242576fb734badbff7478478a0fc60146128e5b5c6d59644886999442810baf828aaf00feb715c4a25a87b8f7411ff1209ff65f277ef3d46d1938501f7af8842fd1821fb1ff743af363dd71c4894becb32cbde22f7573e912e63d04f08e7476856f09edb975a33f557a5ba0b6b15a042c28781406f32ff7eb3d7703f46cc6a8cf7ce1569d97218c1838154b87764b003b181b3d19594e0843f497d5a5fa41147c1ffc8ca4be8f8637e604ae86bb5fab6bbe618c0695534624ee6e5d5715f728997e3d3411a2af48cec6821ce93e74184a264f0f157a388e37cc6916a9319183e154f0927c744f1481d0c27df8460ee4c4ee5b81a38b82a6aea7eb977684961505ec3a5d1a7958ba08d2e0b9476f2f5757797d3ea386b301a425da70d2902c21cbd50d892e9991c93d587f79fddbda85b98a79b86c89751293b68dd74bdd7794ca0e1ba83bed7a0570d06a4ee6cbeaa9138df0694bb70fd72a7c1831c2b33a82bc656ab262ebb0150d10c30e083c5c52661958d496438e14bdb4df5a48cf9e67b5b4cd49a09269848c125800874e47298a404d3e352f03b0e5e309b39b348307071b92559d91bc69739f5b4247ab802bb4d2279b1e2657de8ed11ac84a34b268bd77029f9dc652db411a3093eaa8e07d6c033cf3714e6c0699ce062acdd026fa3c0b3a39b20545cd2aa9d44090f16e197aeaac3dc58a6c8f506d20c712ec5d8868b15c4b300868b3d690d11b30087f86315994f0cd3e23b65e786f8f8fefbc9431e95a2c9d2c73dd321aaa3f2449c17abe00a6fbda26a4db639261421e69ad45a7504c15b2c915b81e0d6dcc66a8f5a4b9c23cffcb885f36d53b093bc488a85c7e42c50f70655d3b4a372781352753eb351e0d2c8ec74300620493bb808d96a35ab022db7f3429bf67dd88fd76174e45d07e74f9e292bd8564b4c0de3b3d32d07b74eafc7f4836c9da283397c5cd5d040be5c7182dc45fa59b667bd81fea94825283eebfeb19cbf1edc6c35b17daeda9dc5e23f3e4311b9aa9fb8eb3d8125a07ab210351e3dea31ba454f001d08ec0240d0f1e0d193afddac0d2cee745ee0b5272ccf72311cdf8fc691204693f04e11e0e127632cc51212987580e79827fb8c2b2091045c89c2bb44ee53b89d3c51b6ae058c9f72f346872f32cfa05d8296e8cfa88dd43c3189a5c50e2d3265c9f35f4adcbe132723d2a9d8907859b24e3237cadb2492f9871c467d2c00c84eb534d95c2748664fd5adadf4bc1f330e484438677b15feb94cbddf549b97f2fe2dee5624361531b03c84420870e7fb0935bb171257301ae012649b40a61cd92f261055c8bd2b2f9d16e034486efb89c752dbf87fe981079ee51be1945f150d9d160e942a9cda8e9f0e479a6c5c768a42c7b57c6f724a65f95f5ec89bff0bec817f20cafa6c11542abbc177af8d2fc041c7867294f1e5449669a9d8578c7cf7c00de99d4c796d38c138e83b2510eaf5dc898b66bd665bbb080067fdac2bf8656ff2fcd7c85630b9f5aa918eb15cbc558b730c9260ea2d2fb18fedea91537d28c3f8f63450d5070467360c2c2ed0a568f42badb3afc91e81b7486bc399b042c23a5c550ee73d7233b36f49278fb2ee860fcd810110732d0d98a29770e318abb64951f269399caf379bf41d0e06302b5cbd6b232be3a4c564d38b2f28a5135b3afdbc8cc6cc82d95ad8c05b7f3bd21e460a47b19b9ee1cd88b4540c6c521f8a3c0877f7e9ceb8c1a1774e13fd8765c0fc6a76a33fab7156a8ec9acd93b90a92bee922defbbc742ef9347d0c88d52de2661aaba72a30bb8f61fb38a10368a5d03473ff9ad41e67d3f0a4f7d241299dcd5b9e8827e06de357c8c73054d8e6c5c60ee0844bccf02102ffb78b61c6e37d1d0e62cb83cd729f30daffaaa93ad5c02dba846fa3d2008209c1320e362f4156d7dfbb87b70e34ab21ed5d29e1f5c715955de3e2f15ec2a1fca95beffbaec17e04f844e08ceaee703c6f6abddaf65c34190ff944a1313293b75790c651bc1136e339d47d2b30aed34621ba604c3324d083e333e20d6f19f751bfd54a95caf71e44c755e696bbe5e5564359543ff6e68e04de313b9793a10c374d17e97e1415865695b95aecf6dec16bf37eb313505d209ac59968a8cb2b6a81d2faa5f6d5351b07382aabec20858dba73d6001206963ac152b74086c3b1fdc6fcfc7fd041fc0ecd66e70087fb4c7a58218bce9e9abdb0e78bb9c6ec699eeb70fe77fb424ddda98164cf8073f5af7e849309c136d7ea5ac84e28ca408660fd5105b3fc6c2635fc39691cbd783be65f23c426e19e0b385587b8393e53117649134c7965e3001730e0c2c8152cdd5a7f1d447664e32bd9afe26f8e527a5ccb59ec922ced6b7821555280c6f368129ebce614635c511f532242e64f0415d745e74210061c1c4e697bf65291842e3b1046518ed2362b424485cf8f6acf067b13cdc8174198018adfb6277baa85bd7f0740b949c8d3ff673a5b5159ddc32e9385d942ac88a660d45fc87d92bc290654889b4ac1baaf8478b171b50ee5d56f8f11015a17f07fccb89f2ab9c9feeca6229855361784b2a6c33a4d289e15f7e97175efc43ed8ce93d09997435176475ddb8d40563d91792d4733341f14de8b3edcacbff38ba501c96996faf419dab7f7157566bbd00660798d01f60fa7a82673fe9186c31be0fbcb7149ed9a6ce9555a8b50658e82e2e1431f129fb7355c67e808b510cd859d4b3e92d7b40e60d5347f2fac63c51fce41b025a78b8ab8b8027ee7d5a115cae3593c9875a4d925b8648195980c710235feb7349a250ec582ae4b8ef2634dc97aee4fd4a754037fbe48a10d7ead026eb91882c67e5b903c7b489c5cc69797a393525967b1794c546c6d969fa01cf313c0d6f9d8ba3eb71cd655bf00eebae73ef0ce8be2c12e8c16307101f70b977ce2146395c4c706675b713b6e2dba5a1323973e81e240493d7c2929d1f146c31c972a4937a881c6b2390430cbfc4b53ad63716d9ab818916c08a65f7cff681803aa1d815e25eed7c0ce0b9bbfd4fa5061f7b892a0b8686e9ffb9c86af6ebd054fb16737ac925d16185c7c552a5647602828e1961d0af4f4c44cb98e5683bb029a56e2aebb592e7969dfbc49576534dd69cb3489b9da9575ab8747002cf8cd7d5f853131640a06402b230fff0872c7797d09ff6ea7b2c71cd68a7f27110310a77162e281e7bd1f74fd2a7ebc996c83a1b3c8c269ae5e0b13e56e05d4fa2442724c07b5946b502d9b0d198c5c5acbe813cb190b74180f5ac42798065825b7b58791e6aac31cd6601f710f8767d9b1087e786972e143205d4bdb709efa0ed21e6206c7770972fd764bafb18ea96986a39687a87388e827b585452b5411741b32749e219fc7e0a240d55b57c55c46af8574db86c9c1c2e559854ec38b025482dca71beb714a7397adbde8f2fc20bfd5876f25bb544d2343cc13576a033439b15dbcff9d86cd1a96aaa2d30ad5c8387f849eb7d66dcb1720fdda31c1e61e3d08e372909ae46560a995bc8ed2072b10a080236642dc915cdebfe16e7637c85d3fb4467a933492fdfd36161cbfa440dbb6b3a31a194a5b85787a2101382a34253f69d077caf5727b9cf71a8f3843236e89e995875bcb6872951a77d6eaaac8a7712bfe8b4eedb00769fb8bb513f77e09bad02801702ee940e803f0da7fb48e662d79fc548beef2e02c6476fefa969edcf3e270714a3232f548f3a4a48a02ce71d888cefd11fd58c97cdee6eb5eaa37b4470d659a1c6b0e37c18e4bdf531541e731fafc549b7d2862b5cae87a19e4fd50edbbd7e58bc11bbedbf282ab0a5fb033d4f4b7646e2f8a9edb3018d84bbbd136c651d7c9ecd7518f6ccbbdb1354a7b2bc485f0d8894980e02ff17238b4f08da06e1c227e92bc4f189aa4bd384445df2b08b97b35f058244cda682b774067e5c9c3c946eaca17b261f555b2c1661e0570d5740a64b4cf0eff38765435a92144d104bfc7a1ec073bf36910fa05e9485423d59f0694afe2dd0fb9d93f9d2de6cb9a77585c4eb263e3503bb4d82165ad72a34ddf5384826ee5a6e47e1299390792ee07506c915fd24ec19f8a0511e28539581fc70d1756a1a5eb272398ef2b569eb2e77f80b7fde1cec0b145ed2c07277759a43ff2cb98c2ebc199c5ad6683e3526f36c534b3897a4c1c48e56a6659a2e05f92adadde01c7e2a469eb062d79ca9b5bff26fa2c4a67a1096f27487f724bd5a8a1d8f1099f623ec6e7babb69c66f6c62f6b05ed256596487d76cd9ea3113b1659a9a3f4166f648fdf1d5806206a9592b933ba35cb522bfa5aac7e6af6a3597b05aa7d1919115b423c0b473576c29af7b1ff873d8b5f56332495dccddb2502e29ebb517a7ef696c89a67cf31bf3705698651ae9ea8e64e1ca85a9eb48e163d549926872756f1a317d5371558dfcd5a702ba494958afab47d44ce284d18d7dec3a9b4464ae92f2b12b4782a706d98fdbb92fa9a65c31ee09c7cee3e93088c3e4fda0de2d1525c7ea4a87e7f1e586ab46635fd0e6d68276df44ce1ab90a7d5956cbf7ed2ccbbfd58d3cb5cefa8213ae64d52b98ef9296c61241bba57de9a6f6066c1c55fd8b06bfc712a742e7c99f5c40cc80c03c5cbe49bf344c2bb99b9c1f105eec234c257e3f3004768a116542b75e1ee966015041104455936a23030f1c63213e092c8b9c36dadfbabe56cccea44e69840c5f721da7c2a630c2e9e8418a6a6e5bc03116dd1d37b794738b69bf2767021bb3a37385e1cf4614c515b085187831efaffe2faeb96cfcf9fd930fc6ecdf31dd86217286d1e1d225fac1a20b747417bd7524ea55a66a28f3e28bb04791f52d03c7f9507a005985a3229478d2f962d1aaf38c07a15c67d7b0505436f0ab9aac44aa55ce91cede3c817ddb72a9a079f151c796fb1e600a59be710ae898ec0024ef07098591de544a6757f1e295ad36777787d3c2a3b1af8895d51e032a3511e56621666a1519537d07b3a00e5c9d243a869e1c6462f7fd41c618687ee7d8905865b94b9f6642def9165ed2926a6f7bac15a3aa0b7295d26baf54591efaa85a34ac98dc6b3b5d74aaca5542140264860ab96fbcf9f5063b7554fd1beb88048bc016e5dc117f3f44e424e7c31235dfeb8d026f3822c59f51395839b3c423355316b2bcba5b6e39a0338395cbe4cfb677194b05acfce25a7a878142c236c44bab287ba730cbdb636642f77770c2edc61a9e52c3418bd26dc84cf9f16e99301cbd2fe0c39f5ca48214a75e960a4eb755fc470cee98391c02851f58c5692f24b83405398e11b47e114af7d348a619ce5cd7c89c0a799ef2a68f41b7b5ee3864b46b68729e104d1135c64c05d0ba387b5464f5161be687f2cc50cd664fd3f543fd61db0a59897b1b7d91d20d102edcbbc61a82148c61a357f34ca63cd8385c7b23856250c4f0991188b1ec5c3f9ce7c64f7f012234a1eda804c7f45c9ad915df4fdc118fd339e74306d851f8cbd443133dc5bc9d86c7b544673747f2e2a3adde451e5796715242647a0edae7d30b1fe3e4c7f9b21ed1c731603dbe92bf5932ace24069d2cd0e7d65406ce46ef66c81e11859316ac089b91b42017cc1796a4cbae592a316ed4b9d91642aa0d6063be93ac3e55d90f5b13bd8852d59b84622cb84936a593adab1c4aa313b9988ee61fc8c46675c20969f5ea7f258a1145568dd065dc62882f618319ff47a2661486c3314a9d91ffc9dc669afb40a53a568d71febbdaf4d439876de64f2e16e78cd827df2818274e3947c13f569269db1e3eca6a6cea10fd86e5a5a8bad7221b13ef61a7c3f927c312786204167ab5f182c92fba166498233754fe5cb57dab8401f162950256e5e24a35e1b5ab058956b82be15bac8353e484c0c2ff78126e0cf55026597c12e7d60393f96eb20ebc865209c28e92ea955cd95b9ec247177329d1db882e0fa27bf4bfb5060bc3eeca6a2db716ec5dc371212288f7a78db4232ef670f3237046ec3039a153b23a9029c9ab28d69e34a004b396522e8b036b53552714f61c32113b4710f6d8519d2c7d90cfb557cdcbf7f9582d9d3e15b394e2ae8af5735175b4fa1bf8559c56567fc47d51cd1a9477241a0d9d31b17215169debe2864af25feebcde9f8191c481aa7822bebf5f02e21ee8aa80c39f33def24791b54d7462ddfc5638bb9cc0f2925ac5ec906d25690db43085728b9ff68271603804c7643752bceab0eaaa306394a26f2d0d3967905d0e98b7f952bff159731f6ef6fa1ec30f0c59702d5357c2aaf5c3efd80d8574441021900bb6a7547d88ab76c3f1ed49325e577fddb44ad480a731d3e9f06fc5edde068e9dfa0d3d30ec6558fc77a73b1c7f2c73a8b72e7fa773dd94f2053000cff6f38efb46e436b96618ffce66e3012db5696b4daabdfa021995a12a4e5c07d8d854cf947197ace5a8abd403b2cefb2f45484a2097aef56251e4dd51e4f719634de094001b27648ab3ba1006abc3b3bf9dcb07a866888e9196c36d29aa5ecb504569220aaa5ea7d1ad11204564fff7966caa0e54f15b0ffbe09838af5bc736a6e129552848ec181d31880cb2d931171769d7600eed721ef4a2e634547bb0299c4b69a898b49facdafacb499e06607d73ab8408feabc48491a7aaea08abff7c31f7b50c1d83bb3b7121010ee83d2c5d8f044ec224298d5fcf3801bda5cca27806a5ca280755e9ffd96d640407a30e38df5de41dd6509a3b4f9b7184d38fd470384a2bd9fff3cc743ddcef54774657a47d1c4f4b89166b1d343ca9d3aad58e3b01afe0231568e480365b5bd8f456d9710ccc0107786571cfb577aed0fc75dc8dfd0f8da5215b4a56959dea6b73bd3055ba8c101a63aacf0be639ce00a45c96226f36a0f821ce067588a777a926958d6d4d754f1d74d2e3285d0be393e51b88b72b30a3645971f1a1aa99ca9e183f7b33ef6f23793b51a25fc50ef130d0dd8e82b722695fd63b7310140e762eacfb38f19c8e6e4b8bf4c12c0544fa48cd6a8433cdc81467749389cb40565ae655005005178ed18264b6ee56eb8a68dba58a7525c602d617c28a60f9ff77445d71dab69d29f0c22efca8260c19f9479edb4625c46c136f8533e54145968bca628bef23b4b51907a922431b73087053ce42e54ec605d69764cfaa54024d0e686529bc5b03b3358aa9d374a5c6a7313cf68cb6062c9ad12fa5b4bbd8f6e5b6dad42658a2cbd6b9a926f1e705d21168152a3aff3870e9a846fe10ab07c76e05aaabddf753f81b665d7d95168b39cab74a369933db4bcebbba79f9ccf0d5c03295a9e7c445916a81423c37768b6a1c9042b73027f63f341ab2e532ca45dd934d97f9d0b9b5779acf2a4dab41bb4c8ddac55262764ee23bdd9dc501d1c1204fa83c192bd9fddfdd312edb64e66f2c4b0fbc77a377842e317712b25f1af10db957359308a7adaf1cc0246d85239b2af1992552bfcbfcd37bfbb74df3b97b16719167fbc696b974bd8583bb1aa1b1a218ddda655f81a832f41db07e7fef16133ca066442203de2bd4de62a5e2f60cbec3e85581424a89424defb73bc902bc1c1d89bd691b03e0370668bb7c2cbfd728831b15a362c22efbc0450d3c1dafd3bd44bc39cf25731d20e002b4fef635ebcbcc2035dd755b7df7915afbcba1e841b55d48ec4b7b82aafa15efb26ed2fe245d144a7bd9d33fef692c5eefb21da48ec885554f86592a564693380d390f65380a9432de8205286c5e7a2bdeb094f0f36ec79d15aab3e6fae141064b6d8b810461304a851041c82979d6cf3a596e1b7c5bf52e2af9b1abb5a7689d2ebb01d83313559ef041364fc6a3419d4dc032b1db0ed8a87e38b826939c554bd10cf46bb9fc21aade966b05dbdc6a439e8494814aaf8f207834152c1165c2e32ca689e085d3a26730cdf315e19e962147fede0f3afd9b453401ec9cfb515a32928ee1f8864273117a60832bc8199165a6e51f8ffb66baf8cb9dc46f2b3b0e91be86d4fd872a0f4d76faae45beda996f5cf879b3b7f1210b192afd212289828a3b7b8d22f9c5d984fc09d91cd538a5ef166320a7bc749e90d46790f1494e299e8c5c037447738b7981daa1994d0100376343f5611b1f2720bbd0980835fef87aba0de4d8818ed691d48c1c6092aa1fd7e2ba719050c9a108d6281c1e154206c150b5f071da1d36f87cd2b75c0425f8ddc734ab68cff2be6024bdaa84bd1881ff458f44bbb10997f7830f1568796027309a535537642ab93fa53db75798b3b1ebe63f3a1fa6603f7aee40f539f99f4466d3f7599f8282bbacff640680d5f8c359d10b23ff8b39f3f9275ccbb27c512ea5142d73fe52b3866903e83ae4efe2b5c99ce616986fac88446be98627fef31bc5585d709349e9b57fc58333b5d96d97da86c0d5b6f77cd45e68d3dbef870bf15563eff25b3b5777d1b1163417742ebd6e006ad12bfc30be438ff417a69d000de66024da67cf46a8dc4e80d9bb244fef9d2f6e6741fdfdb4148c79630a1bd5e11624c6dfae454e3efb1d967f50fb3455a2897a22034732ce43892c10948b4290131aee3ff303cf9b7cdd5e515bfbfaddf19f8b1fecdbfe6f43bf33517126719a0a6cf660fe48c97c8803d1e636685eadb027d2df722b044daa8bbb533bbf060622612eb72cab1d29c1d8645254dca4d34762324a7081dd255e1cae823452ab861745ba27b805737f821b64dfa87242f731cbff842a65181eb4d33096ef4591f8535f8e6f471e5f86292206c41b13ea2b995c943904dff716e1d2350c785476bfdca4c711400e1a17d5c920a5df734f1aaa27edcb6fec113fad7fa9c49d70a77574aa71c280f0786732609846870c80ca38f6da4c997ec83e2f34589952a839f4abd3aa00c295b3e9b7bf2f06c04c8170d886f320b4e4b10ad04700bb553c65e954910976556074c88b59047f9ed9362a6611113fbce1c5a94502d4e15f48194f0b6f978a203f0c571025923240b461eda9fb018109ea1fbd6b542c1fc63d32b68468feed830376acbb9e9e680e45649cea9cb83219daa611e23c5c5e14d1d4f4104882a483cea24a17fd9defef49f793b578256b17476c0eeb94f1d49c9414fa7e7e51bcaab0ab53fbbe245cf1f8c5a17eec19fd60d4b96e2dbfc7d223ad2cb2b33d1a663cd77b4d0428237fcc3fba20ba7310b1b25da6befa126deb45f55c89747509acdf070a1bf913096ef8cf5134f13f6f96480d1cf0987c870bbc394b8864b5e30d8ffe90446b4d9144575bb8e21434adff35e73af150970557f7b190a09370fbe2754eb21b7d802e06b1ff663b4aa892def9669c68534ad5cbc3dc65bae4b2c65ad2df29d3d07312b7e7007b6bbeb985c70cf9e70762addedd41eab699b31a1cd11866c05a60703349474607f298cabcacc03ed7db78f0877d3af48e7459f27992cd3d92e1b0c28784ac2a0e378b4747ae76a566ef3a21a4ffe11af654898f6a632e38402fafb4c5e1e663aa9f3afa9b4d2084b0e5560868d075daf0071dd21389b64524976b2e5d54386ec3e1cce8d4b9b180392b6dd23d1db57f5b6f1a2f2084cae4b44d34c3cbdfb7ebb8fc0c56dfcc0cddf4b166942ed52227cec1eb6722e54395259cc99425ebdcd93a452afeeed31750559e74ce8a7c65bad62290de73d49fc340cf5ffc3e382f5c57eed4dd069ec7fecbfc9bba092cc09d2713073cb33bec9093473ab5faea9f4db1c45bae53663745f649a7068348b9d3ef4034e3b53f36cc9f73eb5f4547cc7d3656f3ac07602a7c54404d44e19e18422bb582dd3183ef2da17e413087e45c2c85049c85d7d84c3384b0f4fd508f88f040a85b0a57d72597c929a7688e2af4bd644bf577e0bcf35f7b21f45ee9ebd448cd83878a059df08f33fcf9d9c5962191f651f604626d7353e9370189a4693557e21f9bf42ce5964649951568e27af88d65fe8011e5b348d07d7357eb11b743106253c65aa90ba3ca88ac954ade676e877b43ac9e869de3db9d6096e3f28d9111073a851412144d6d3f0c330e1dc57115bd2d1926505f8422bd73aeb23bc228cf6e0768a20dd96efc8206ec6b4ecf5ca6f99267d58d509e55b0f4081c5686e4e68b6b1dc206e7493c03d2a8988af1242b7755913a81fc8891e8027441825dc39aa7d5824977aa816aeaa6e151c5a4231ecd850f8fe01f1e249bc5f7ed9530c2ad14aed2c4b65f8e26e294d04aeb11992aab635550ee860cf03fc1590e357cac098af78eae7bc1dea56aae05c78db7b5e2560b85e0b5b5685bf8e2ef114d7664dfa9514de85310d6afe015f0218924a23ba19c61ffc803c64c19384add68a58374797897689dd318e07abe71f1e82d229500fb051b7e29377eb420e9a6fa80b5e161b60b0080954b178229439ba3b6a3fc8a237915d430fbb862e6f142fe633b4d011d3db52fee0ed83534e4e43a7736695001549ae0787d7341f5817040f795fa8150ba774380cb53cf7d9de4f843299ff964f485fd1582d037fdbf3043c6428792ddcab3f5d9f94bbedda1a9a29544a55daab8769e00a949b26c4f628953b5873c61a5e970341cca7dde01cc8d9279bb062bb3277165c2f728d014005a7686d13c9f1a45c82f248dc5b014d2acc7185f6bc38e5ed379545e1cec53ce18d142415a8698eb71fb6a856f58e5d40e75d5e5a2ddc63b4c6e81eac696bd3db801f386f95062b0afb66091baa3ec5ab3a58688ab4031a8f7c90f1c125a68c9cba2550669a086b863f3a2034fc9520dd2456dfc0b126cc9f4c3381fa0af48cd8aa3adc4c44acda962a8b4e7f8ea6614bac75ff4c64ea8eae8c6073f2ba5c422afe5aec3de5f42eb3134ae6c8e8709af3016837ac1d9120fdc6dc17e97ef7bb7d791b5abad556c98b53e4284933d78a8dafeb32bd824e03bc701eb3d1a488754ffce116e5f1e8dc3f2767ec8d1c5f2686b330fcb727f4a5c1447ae3ff45e5d8fcc539811a52767b9cec42508521d2eb80b14cf92f56abdb4a0888df5db21ad8107a5fb07d593cb165132846c946dbcf874796e6893f278b3d997a9c50b6c802ea997d108f74ff614a498fcafc50c50a80f45570f03d03ddca2d6c897d40afcb581d3746157d6cda5d83649d428ee627a2030d5fd906148ecfb73635d6120baf45b3bb081db39052a19184fd4b7040426222b4f8d6848b3595f27a71571d133800731a34fc4ddcb5a477916d9029c7553ca447c35e7748761702e78c58c9759b2176349ef9eeae6f7a4816e6cc6130554dc8e99aa85803c8dabc61e43001fd91d7d05df67e3411a214df8435a7d7a82bc2cd314948ad907a7059bcfad1303feb7733fa67a3673493e7337852a7c34e7e6bcea8c28c0c1bfc6a2457f8a68fcce116b2215d7a5b5e95a266bd33bacf5f27bc81b0f0a50ebcaa0b7f620fc7a72a64e8340bcec50ceae0f12bbd7da9ff356b08049ba95fc6bc35da28fc5e8f9ea4688f1a8016a9c540263bfcb60e96c2e04eabc3a9ede3043542afd261dcc101a99fdc5c3ec98b47208199c4c3ffd8c0209ac973f9eab27d00bb06caf9b3bd33cdd5ed3ec0c66e79e839504a09491d904f8c9ae62e8f52317b309e61876ea9c912280fe27eef395882840e31089c279eb61e81874643fcda81524b858c84e1743667dd0c699b9290c66cf6789c8730636eba0f00f0de28b295272c9c0dfe22e7a98eccc19743ec4bc404b8f5a147b57a946383b3dd2a3ff2de284d3aca68271c7dd89472eb0e07728843c2c2d07c6a74422645ec516d6041446325d0079b9d54f757d8e71188fae1d3c68206192d12b4212e430cbcabaa130fe0373b9e0310c03498e8abce1f53e949d8dabf2af03bbfb5adb4019917eef82f937a503253f66962610c449ea1460781f6e1d133771951b61b404db4c9d5a4be020472c053c79f25549c864c7a402ec4021f32afea747ba69c592ad01f284f565577c5a19df37b9b359ec234ee632c9e419efadee96dffb2253810d6e812754634b4ea06925e0b5bf7642bdbcf4f7c20f635f9bd1a234c601f5dae77b77f9353cdadd8f90900f6706a3ba090ed3636bc2480eaa5be23fbf84fdb0eb7d65fa7dfdf55bbacd1ab51c883ab31aaa2a4353a97774cde8070367b4be20c692ef1ba7e96667e46e1a0fb978ff25124ef589b84b9f96ac6b6144981b38014ef9bb2f3269718f7bf6703793999247e903784d447ff7d5efa582fc9df332e79b67b1ea08cff9103dc38c9afe6c81a4dac3a94f453e770d0b4d798c9322889dc99f8cacdbafaaa74964994cf355751ad2fca2692cf86d9666c678ce681763b4170fb1d863089c9ad1a30ba28a18bb1769c5d2e8315431ab7765a2d1e0f5f703e54a572f047497373958bc434997c1138af925c157f5ef54317b795616bd615445a8174ba0bbfc22dd1335454fa3a8a4f5e3ee776c58e098703863993813da894cb039d4112e863cb780f48559d8fa9cf5b6e72f4b438a295cd387e3de2c603511f65ddb34529f885a988399a95529cc7c83cae62829edf53079a800183a06a397f248c4b3706396ecd785e9598a6ce55a8649fb1fedbf0694e2aa1ae1c325c84b24e6ea0188892ed6c013021e89ad417e3fbaa198ae098e78d0294308b9039d73ba8a374519d75bc2b3b1bc63b5af81fdab0cd5d877109a31456bb47062c46780c64e0629a0a2326da2f67c2c267cb65d75067090137402ec1526a09187cdf16295042079d822d76a729e164e98d75b9aaba80de9bf0107257d5311912823cc5a0567175b2c51a10dcc08879f06ad444e38dd5406fc5cc26178113d2b197493c5f8bcb52b678a1406fc3fce7c8356b8a8b0afe51e350a2a2f108cfebdf01a47d4dacd1c62627436f460b85469832c3ff9676a714481b8643c7bbdbaf9d962a0c41b0ce2d7b8d6304ea939be9afcaa1fe6c1a9969da56aa891483c8b043cb07d4104629c3cd802191af6f4c08b57f6ab7b20422e75b60a14dc74f39862ab2b33655d0cf5d40ee552519c5f19ad8709d431968b2a8d71c599055bda25a5997c22f4f5f65707474af2bb88cdebda25b4f290019aa76dfcac825c8660d05a08504a4f1bd699d706fa88119edc2b3bcdb3522cc68677639eea892051db843a734a6004c974b7324e2eaf5cd9785c930720095a4c035cd93e52e87dfc009a90e153a10ddbfcbd794d927ea34d11a114c85cae3b112f3f67244fafc06ff0dc4c77e39e6982ef0be5ebddaca71ff47b6a99cafa1b740a2fcf8b2d79e073ad2f1843339fb25cb68a56719119de564cf7f5f0bc0fd09a260532041dfa25d7d0bcdc6c7a69c384596321589f7a9e532aabe576869296b4e455f1dce2d8f591d5319544fac43b6b946ee1da5c1beaa5c604fc766556e1c4004080cb07074b4d689965e5632a27d71859d735a0b48785527299a07fac28ec815c607fce52a21f8ce1544b7aab7d9d2e8edf11a8923b757d4db6d6a244f6b0722195d8db0d9752af03d1060be3be142e24c792ac474b2315addd84ee8e034b724baf7000c58de96e06323fd80ec386e30decd61ae74f00f2ccfab6bb2f439f41707f102ebe0910b9bfbba12db6b2bea801159f70dacd773d3240c9b39d4e9c27fa5880c6a6d7551991c52350bcd59de5b6b596e33e75a4d6dd79bddf7e5ad83cd6333b8e549f366e72506d5bf1952cc161aa6e837b99b5a78bbfb2a9aa1b87627e4f21d535b6b6db83a023ce34f392236a6e0cb96b233f25e2868c95e270ba7a1edf8f652ffbd3f637538b45a84a7b0d9459d6e56426f65279050ccfc0c7cb8705df85d5181af5c2e03b29fcd240e0b7e1bbdadeea78427d1448dff69be48a656ad81e712de05be2394f56c1bb7fdd8fcfd1d85d85a76c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
