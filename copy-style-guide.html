<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4db3ef4c2ee17274b2d1b02bfc571d35b9cc6d10b341f4f39faef98d49ffb1d496a1205c31592b7035ff84916b8886efcb35fa10d89de977a1ab8e1b47a8857933f73a24b64ed0ad4d7b977b1209194d94dc964d032881d8029d4e1ebc141ca697a336558699baa869b16e688345d9d49286347b3e995040fe24ec365fbb062626ad238f5553aaf2cb56decd6d6f216b337dc8b0cdf575fd56b6636f3895c21d2f38feff201ce5674596cf882a4198654d6ab1d016b739f89812cb0d6a6bb4f08cd044c77e8db5ffbdb0358ed20c2c1d72d6d5996a06c2ff24da88e7375bb4e23c5ae37560326d69f48afa35b72b0b09f292158f2447a699ca37ba6a9296589113e6d5766f258881fb94a60842269b79b22f99d886c2e44987f7ad393c937bcef167387d985ecc82448f6d7463eaeb79c08d1dea29d9defd41b5307601a3b5d27fdfb76c5e8cddedab0c4df4a447f4fc8158f7d690251074a505dd520c7dcaf9eee69b2664a01286389313483342bbdd101ce26be76a3b2a8f24297644eb32997e25deb9390dcfd09c902dec94ccb529f7de8466d5ea8d1e947dbfee557f029b992275c45da7fb14791034e7289c190c800309f327587727d38482a047c936d9785540760e539bb6648dfb78ba740226fa0a2f625f40b247f8c4a4318fdd82d9187237814cf255ef0479cd621e97135547c0d1c4b06bcaba497f44a84763ad41c6b98f98e88e779e5b7088c51490f60f44afcc35fd03a304e8f336fa43a14789eac4791d9ac6b5ceffaf83dcd943d5761c222ea336e35e5e9748d8259a7fdcb7b2f853b38a4090ba779009ec92a4a75b22c41e3432b83d2b56b65766efa7a003ef4040f36d745f108e08da16ac3181a83383b6ae35ccbf7e915c795933c12a591612774dfa0e0341678b1657d074c4ad2e1f31c0109fa5fbd7026aa85eb4ab44975e91b0999da5893afae150ca0c9a0cd3bfb13de9de9fdc06fce5b27041d9ee0ef65282df6f508385a94544a8c634a71785ba919e283582e65d36c5ce30c69fbfb656df930d876ff6f302e8b433bafa8e91d4be881cbd25d5bfc3d8f6b420a09c35fdb8f2776034222d165ec9885c2784c58df1d893c62ffe8d6945747906ea6983d1e5332bbd3169b75633abdb141feafd566f1b66726199eb261f9d867990cf8f6f517cc2cd1b90d1348dbe3137ca60d5e11370367c7d3bc645589e051391583b0f252ded52368e456a63cb4cbb8131225d320f5fef1dbff7e0ff40f91e1a0abc0dd2f43ef947ea05850e50347e5b2566272930d60a4844fe29156dd36c458d05e56b4c4f7b1c867e93adc5fa8f3a3f5f86993bc24644dc1ae6c6bd34f423f03d03f91cc7afce8617b9bfc0a808a33059aaf9baece2810831403a6584ab080efa3bfdee0aa17251591dbfd87e3fbbf5ca90df0e9eea2f3144c5485056992a5b34aec2b2a6c947c47bc19eebc58a4dd21d435296d84ec5af944ecdbdb5f5362e04e98f6512f5fe534d8bf2500f7660b7dea9e3102671561e98316d91bd11449d1a36ee5d5f559ff51d4f1294d985c9f70897cd2b355969de03f5e028c6b53225bc1ecf822916b508b2a5588a2ca8e93c2f68c175d13608bb7f74ca6a3e833d3fdf5ab8b39aadd268e6d0f70981516dfd3495e0ff8e67e320bd0ddd515ca7f6a61e91b1f944b7901987fe5be331927d6f3890b4bebf1e309af2cb693759cdec6f655c246fe2feac09fd3ff16be6453c50484a4a07b6e9abd08dd62fb9110edd4a5e2b91e814ab302e397676a721185dd6faeb4a75ea60491b7173588cfe024be1a40cd7e59402dcec9a5583d198091666f70e1d0e841af3d95f85940d63fdfd23b81572aa4a8392dd246d6ec8a51fba404d64b93cbf4fa4d43450b9dcd00752f8fb4a8c7318de197b4e7ccdb0ae4a9af067f9d9d0966c39ec9909a32f1ebc128cfcfb7da6511a2fdd4e948b3c58ab5bb1db4d5a31e6bc2bd09821579e63d7ce5db25b60e9ec171a5bcf7f3e6edb1048f6c98896231ac2a4d88fc8150c25790ef1bb78f7013410a0d4de43b23678cd21d463fd5836af757d60e4e19ccffd93da0986f0b0a382cd09bc7136a25d49f7914dc472572bcdff5f7a9e762f68082aa8e51ff8621295f0b8ec082bd38dcf2f6b58d45c0b96b0073fe008185ba83d97d491f13163571cea1ed52f19a728f9c5881e1fb107c24b2d74819623ec346e1f172b60ef5d822d95bd9eefb99f437a604a78c82d594975e44a2d991258124af57ed5c3eddc3a29cc92398c2ef3d0144ce7e444f6a31661e1ee6ee02e026ea94af2ba70a240e6bcfdffec7588ef9c1cbd4339696f46280084998e38c316e74271d5ae1b0a58c292575a6d759e9748b248bd82a97f43a41f18857290dd5edd03d3715b48b90655568038a13c82131e311585d2a9d8d7d5e761e2839b7e6145b142d472796e63e485fd1a66d050596b14a8a984682fcccf349c478c452b539f6d9d610ca63ca8e9c5bd0eb96937096879cf5bfe64f2d6961e0ed43100b5bb270307db0446b1771341fb800012d3c5dd4f2eece4811ff43e710a87ee6c29df38b71dbc8c09312e84be513fa5bccf55382d28bff639a871c141bbb052e8e9e01160f196ae08c5cde745c8b55e943749a1bb504c841a8450378c29b51abeef5007a84c690306987ffe7f655664e534db149df6de9c6c58e6208c977e7c40c801fab6ea7e170db8a7764cf121cd2a833006a194af45a1ed0c07bd8635a5914a7b9c026fa040fca0a7949bee1cde9d098a5f953e35117cad2fd4b732501a51e2d25759e5978dada573cb1d6a283f15e81c6afbb64449d3bfaa651476882633af44a366a50b665c5fa99f6684801d21a520e9fb5c7020f81ae60c2cba57e8e8b52ebd437f19f50596306de670756f245ee8c9ee51221bc5ebc9fe9e20dbb87671857ca9d41e4b39da1dfe87d51918a01173df924b231d2d415ee7f2b792b29909ec17e88a9a201d81d4fdf14f137c95fff2d246fe336f3973d240e2d6d3d41d5da74626dca1b09339d8909679a119945f632a4a0c58564c07e2a9cdc9952c8ffd4c9bea429e469aae64ae4344ff7af21fd6866914f8909616b23556521f20a67640ce5db1b2dd6548879070400aaf87412570f38ebdc2acb037bbbc7fde1b05b53a904cf14165e2e21bbee5c52fd33afa0d5a0dcea4975e37678522af223e248b04e7aaf70fdd14cb0593df3799b31bca5d471f0ee784f93eec5f7948dc5cfaff9e612c4f941db742027431e2a28c8a027fd3c38112fb95f0e46664537702caab8d8dce27903ce3ee7baed8d214cd178a168f01488a2a81289e9c4ef5bb432fbad76cc1c2714d4111eae1d714596f6aad8ac44e92620e8ab51e4e5131251c7c9b615ab2bae2b5fbcf55e6991fb9c70fa44d1435d8b0387b0ef028e884ea6fdca948c4633965927364c1e74850154dce4e93d00005bd2044c433d9093e21154ce3ac531596ddf683df781dcd06c6320fbe36e2f585c6041d382cf4ec54625802c7e9f7e140a4a49ef2d79f8ce390ca4300f285675435dd9c07740c51b0811cb9f334c16a3af7ab3c71263d3a6fe60898106a645bb56c555a6b21fcda7ee634bbf9f9476cfe0b61234148092e2e2dee40b69ad19615489a59d29e6fc803bfd67324630733463abe55d1217e837e191e2995cc72eb9765f39396a4d08592572327bb9962e5a091fb95fc5be28da3e14f3a0771512654e3ca303872a658caf9e9878c9c7da5d80738435a4e53a521f8ba4695195e1cc6665216461bceaca62d32fb7f33cd0b0af3b56fea92e64e1b12dd254fcc48455a052fc7b707d004ef668ea4758f8c42a4a7575ae7cd7270ab7e5e7778dccfc6a8b85153647127ac514ce03df7dacdee3f81fc1972370f101619f3474969b0e3ebff0a9931d4eb61a96c9cecfda759eaf398fa7e05ed482c0a3f0abc8f7a3f51a2c02c0705056c069014c351b93329f3b960a259fd8ce94c74ff7396edb44467800534a8fef7de99b4dc4e28c234bf35ab9b678a537388004ed66c03a0c1816376f2075f51d837aa7fd7769b87365986277e4879fbed9b897c503a6a1cdece5b28e933dd0638a5759ef434b613ad1d3ab5def6ded70da4fa7837d24892bbe4b27d10320448faac6a0a6958537a4c1b25507829a28893b457368e59b86d7fed1077673116bef65d1ac6c19b8b96db102898148eebcbf64c0f141c2cd2be1ee031432ffd0f7a560572662ea1177e90a1bb61fdec526dfb98830f27950b92b7f5f3ba637a848a7140f0886f0cd08efaa15881d6c42722cf6d6f5281b8a0311b1db24db3a572caa705cfc89df70574acb04eb18105a6c882237b9c1dfade612441b223d6e8b57ac8e9ebe7ddd51cf91a73966cabc414f0fba37a43d4857445d6f9983d686c6b0f4dd0748008a48e0a036c1a987ca9d70cb107bb5e778d0ad570f95acadb912b346ee328e42697dd74f888c8cb0c23aea5290f9fddb7849bf4dc864d3679f67f5a8037486ae92c1d64f1e984472955dd92e946991cd2aa37c4bb5da3890a971615a14d8a014360c3c42664a27954b57db6abcff0624209074039e155f49b1f9989188975ad912926c57f4dc80f8df51990717e575c1a38f011f8d97b00e19cb99b3c836494ef7fa62890cbbd86cc7e6b42d8d58c4075230a397ebb8c86f8ad714b2b39eaaa49debb1d289104dc2f0b43333da02cf1729cbcebefe9ca2f71232f1347135f549307dcb0330ba73d53243a980c21037f8deaa3898c61ae9f9150248b808aef5edb9fdaa14aa4f409bb396edd0b89b5765a3861d052c0cb0cde9c6ef47b8c0b2ede32f7f1f228452d462f1affb4094710c68932728a20b4226ed78c69f47e9d7a9f07abf5029b67017e714b629c9b8642b405c9c4319e295068c54f1cf23c7a1f40f861f12f257fd57ee2cf782d9908fee6776b37e501edb4a865ed0262e6aa93cb363d89b14a906d438b389b0afa5a87d44eb02a32a19920dd6d5a2f2cbb2ea901dd55cca62a2d19e5c9e8d4462fa9db9eaad40c7025810bfa192033fce8953795aad5c2fee94dc6a20cf31c2c3d63a88a5a8dda29fff059cd4188d94dbf0086c3c97e10822b3d2f8fee49563c9cd66df23ee5c287ccde64ded3b740d8dd353f29161a285478680407d1a5a5d5c6d1470ce0d81c7f21fd878cdaacf3bd1711474b2565bc65645ee8c4948b91395b1cc9788cbbefb373e60e11294c27e40aa72c207529bc58eedd2c35cfda6c55690822800f37a2e068046feecefa735073de4450992a2bd8b429ca4746f03294c9a74cdb15d39e24871e7fe8f2fd1577e5da0485e329ef8f09bd1546155371811660ef89cbacee9e0e9c25ba934e7b31b3c75a496dddc248f97859011dfb65345b4b714a9a2f623d9556f65c205023c13271a186a50ab463ae2c3b6f31219d74773f1375c726605cd339d04426d45e2754ede26be9e712174fe4d81f8c398dbf50f04576ae83490b3a8308362dfaf27bee5fbd0f3a200bb68acf9deb481927934eb5b508464b237eae4d62fdf3934fad2d1a079a1bcad5b543ac8940b0236972ed6144517421ecc7973a6d18a5f7072de55bf69661d7aa229f74e88558b096b5c2ec4035f16777ea68b982a7be2a57e5c47d91d00befc7094d777aca09207834b35999375ad4a6483c57fd0694e377570ca8edc4552f776db0129c256eb2cd7c8c61d30409bc5bfbb1c1abaf3005670920fd79ca3421e1e8b987d13eecd23ddf218f21e887db174377c82e559bf3c3ee61345bb4accb0485a790b60b168e966b36ac51b56bcf9fb533d8c3e2216d73e06dd61d0587a98124b3b99cfba206f51d150cc295dc2912b14e226988ab2e196b34210120ae1067d24cd290d3cf62114b4dfdf1ba58244960a527bd59868ba32883bc24b802ffa673acbed0d0346b2c67c84e458efb25764a6b404fc71bdba39fbfb2f4020d2963e6c2b6b580a113b654b3c91f7bf522b881c671b5a31e427d868a69547712e9d6fdbf58afbc9bfbef7d36903efdb1cb4afc94f960b737304476eb0d7b469cd832ebabf80577cc13422d554fbe2158705ea748c51a55333ae5e9b0d0ed8a0c8e42de5bfc7786f5cf8201fd3fde9360eff1719db62e57ede7cc1c96501fc8b5c9da5fa82ad1bc276bc08f33f7ca9605805b72b56d015bd6edd0f88b920fa4613141813842e5e63663b91b0ce9057be621ad5bf4c7cc500715cd5a46c7d4ba26bc6370b20199cb5116b811ae29a9856edf7a287932b5fdb45c806bf720e87bae916e0bd028e88867e095718613212b700540f426fd6877ddde363fc4baafdfcdb797cbadabda7e33098b606a7d0715737508833dc6aa29d5b69f8ad5b680deb3d8867f3cf22d83f1b9cb48fcec42b7c4c9099a994d974b82108abdf7a17837ceaa6c2e5f27f5c44f1a8c07df83be36f728f0cdc0321d8565460c5f27f75c829745131fb27d514a46d68550171218155ae06ccd774fc9b536430b7a78b3eb844e9340ae5b057787d9e78f5ec3cadd2c1d2f42647aea22a6faf1ee802f3cd72aa0103d601a00229c2dc6e00954bbb474f1cc13fa6587d94e64a978d4736fe72e0e122572caf23ebee2b3f4de8ca4b1aa7396de506e481ee099264ec3433b78369c30ec1fa9129a4d608551aab314631c4a8a1488fda8d05b7fc90b56ee62751e7e32913d14143ba2104bfb02a201a6e702512614a3f07d7d7d1b0874218f0c59e13f395418723645285c83579769673ff19d9c594e572990fcd2cf85aa656040e371bf41009ce00aef9289716755faae75f3778dfba0257d5acb47026e5e38197549709721ddc8610988a8260285ef52f0d5cf3dcc2c4c72b186a2e0d3d7ba6d0492b5af34bb91c8e9ef0a0c661b207ae83c3d30a8ce008d7aeb9e4df54091af13dae00b6bca587a94023de1bae4ecf3197961167e8267c52a4ce355c1437b11263403a8856d3da870b6616e7bd9b01e7f376c92e6933cb4580caba1eac0722c06f0d6098200ee22a6322494a3986b4a5e014283925c8227e81c1bd8affb4f82c292ed22754108a27791eba00b2f30b9b206d8fc46cc3b64451b8351f96fd87e349d388002aa8f04c5b4229e46324cf66c058993c78c696307f7aca66385a136554f8fd6297753fb0baf767267c6df1992d9c785948d2af0e6508a8e9b8980dc1f10d0a0944e62ae5a7f5c75ebdb077e3927aaee0b4efaf44221b565a990c9da97f173bab5e9f33cb9394e1ed3ccaa0c9cd359fbf16f6380f5b7e568715e7a0b6dc015c072ac50ae50f02d07de715c7d6d7aab65e8ed6c5b56208bd140d206bc28ea36a053da667f35a8cca62c262595c19498f40e634c6ac9a6189742751b7da1dd5124accfa86df183690d294e1a42dfd3fa707a3c85616daa8724b9027673d10f09fadc46d5cfb8128e38f452dd15b1db22f0e93485f722677a3bd64e152f9465775720b123da78450ff34aa20847313ff3cd96e1555101a1d0f68fba06bc74a39d295aad3d0efb14a140120896ca2d35413080ad1f23a5816beec7dbb7c3aecd6cd1dbf444ed651ed72b11c30cb267db141dc5e24e109ebf7713aaedddd3a957e90a35ca2f8bef25496a04e9e226652e8947b5a0c369dc01dd1dc372bf45e7a8d5310feb181c8e2ddec1d9a31f589c9054dea90bc6b2652c35fcb28687e2af748ea3d5e0960c850789f77060d74aac881c9402b106ec4462bb2fff86f8cf8ff7f807a1e371502f5f7e13faf124dc860d994bffa5be572f7c19e4e93b22a0a2e7bbfaf279e6de00970c8648ce422a646fc16d44878c7ca7b246262706286f3270524eaa9d66abad1da5061c54bd5ee0485a7b0a5781e800b4f9ffd8e887901faee3d5edf8f818b8453423d2da701d1bc3962418c10abfe9216bfea6bd608198ea455b16e61973f3db30d91b6267513bf3440216a95bdaf5ab5abd7a36bd8d6e2e4dae4f492e1ee2f4f0e68e349a3c07f81a5d08a8ae1f17a6a2b2d140f0124e88ab11bf49cd21397e862d6e1cdefda65b28e09cf587ab0053435c1245626b3cffda7a09702e8cecf5b8bc0155a71527225d4c316e0c78db2b3a7294702bfc1dd50558fe70c4af68169790228177101b2154178ea2b4130a20d388437259b81ff0192c361fd866bb97b881c8898025dde34900b869a62cdc624eb688e90b3189b4b5b1a907f2e2a8d54e3b4703035226c095f0a50cb9bc174f7311892b5c471c12edd6b8afb3b00b7301e6011ef895e3b2ec00bcba5a9df3ad73ee052b71e3aa02806bf8105117b752bc63fa30da12816c418cad1e5dd0d610dfe5bba9b9d2c8a48fa8b506d3fe4826a7c65169fe29bb21942a9f9aa22ddffa3e04bda2b55fad86826f812591198cca06b65b7ce7f555de202d08fa98569701e6f650901f69d77dc03849cfaa20c47fc0e9eb9ef8185d810af95193da05c78bec527439eb5279dbb731c71a8d992bac14918ca0c62adfd691c7e712868b651e2af43c7e88dc4739c56c2dc8c7adbe173a5c047925cc6d485f4ca3790a126610348f8dc62f38ebbf47c4a6e54eeef6e18fe57776330db157014415cd26caf95c302fe8f24c4f215e188a8455e6a88ad53499624f0ee1a74be3bc9a5fc13d45acddb213654b649c724366ab3132b3999d115c38e59456002461bb2d83e14da4c8f1af71c4c27e3d5822451e475e14145f14e1e6b8a67abddc4ac86c67b7ce86712ff83f92743eb2dd0237af920e704039ef519d829608fcdf2fc9e3718114d78cd5d1c1b48be4a8b86d8d3ba84d75475ac4fdd9f3214677d92df00e91e6db0834642c6120692a3b0f076f96592141671414392431003122be7f992725ee6768ad13e163971b6c6eaa1c6c42b42d0df88d5b0bef88f38a6d1793230c9858ff68b10a39f53d7805294edbe2124956a7f9237df9030b4c467837eeed7736be3e046f1e297e081e221ecb93c7142fee0c725e153f427b4843312e3a480bed99aa7a73b68b08976b817709508c00a0b34dcf6555db43b973f415f6b869c1492f546120cff120fb6765c67f14cac0d1591b5fcce03b3f6995e6c434cd95a16231da794ee5d17b519eeea352a2fdf990615f1f296ef60ca6c8b9e30520fc9f1a6b7bf86ee3ef7cc6cca4206586568a439a82e19c4674645c11f18c7bd33da49f2fd71f96354d23e95b8e5eca2ea6b82dc910bc895c708f7c095e69c29e91f9b09b07983c9783dcab5ba38f609bbb5ae58ccc7dd6862ee7e076f1c0a4431bb7b5af0689e983b19fc096c2702037b1899828c7b81ffae78b0ebbf0e7028d3c615c3168b59d0c44509c04f86854f114d832847b616fa25d7746ce66739863631e4e5b1f0cd3b2c107b51628d00eddbd02db535061f14531f0ce2e756af73192067952b8110ddc0950206e750ff7a526f0eea59fc5a564febd8f71ef99d941f338bb15d4cc860eea42b9d71c1213348c691772d7130626e16577c74fabd243eb5cdfcc3c0079269e86dadb04cdbb70b53a47185e3954e6f52d8bf958f648b91f5d6db197a11abdf94fa14443fa36569cafcb46a09f2e53e5acaeb38584c3f35291a310f316ead257e004fdf99a1dfa7e83be1a32ae91013ef66c34bf7058111fc7ae4fb3c0b4cf4fc17d471d7ebda61471ac064fc116947f97b1e6aecc76d4acd86edea87cb2150306e2ba446bc5de353f34d6fe48d79ade06ba21d88223fb60c32abb3fff2a0a9cf36eb9a64a045f77845a3494f9e396737528b2e78986371b24c383830ebe0529f50c9f2721d9ef08cfa175753a50f8e7fd14aa42a3625cf5de361e4c5c04d50fe98e4eac6b5b713ddc3aa01d1fa371a9aaca84fa010c4c88e67212b19691a36d4ff30d2fe4f00634143c407593fd180fe3ec4560ac33afbb6cda106726b80ae78c064f7520fc9107ae6e976c8b51fef0de45b2b3dfd0d320eaba6293a1a7740cecb068cd41435d7c4ec8e18730cc70152153d4280c12bce9de416f2452a9014d6d0e811a1e7fcd5bed969d2a8140b2c57ce0e71243c368aa108ec2be248115e4aad958b2b93164eff3569b8370484054f31842f006a403bea1068e22276db89bf9401b257b639ddc24eee19dba7bb1f33c7bc5a0b5cb20d85d2e59a82d0b34d73722f8ee22c5611bb7505482b885aeb32a39654d1ed555b9212538f987e1f0f0efe3cc6c57b7ce3292a630aa269f8f9badffe2eea2cfffe3023b5f9e2276bddde418e11005e232244f71982fb7a3b921df962e6e65b6c4325c607551a5cc6f664b9ce46d8969816c1a8f70f35304ed2f6bb642521bdec6d4eb8ec35c8b5da3b0cf406a45f00e9c9f2e8bd002628aec49ff1d71e280986b7d889aa6132d74ce3041a33a5e08e0c25e866e3a49156b076721f69afbef0d7e7d6a30e39f544b6c08702c7522db6bcd84c4ba373eacfd803e49fc691a9f492ea1c1be7f95bb312deb4377a08237553b9b38a5078d9d062071556d7290a539f78d0110c46b16d853bfaabc85679f0b635d8d90c047572d437b8817a264de37e77027113e4a51b425b7cc73c6ee979a9922a88a33b340fc869b22b3f39fa675452f8afa8e657dbde067e2da33a15a904b898f5aee3d7759ea1993c54fdf14668e1fa6f60aa7ab666cecce2a2a418c5d041a182df4dea2b39d8da54f5dc153c0939ec7170779f4605ba7d103c1eb3d18bd331ae7d94461df86344fa40f9906a6c35f02cb3137b34ae26a21dfb8b4c8eb13872edab32fbf5ea16aa4b26c1038462ef05d0916f5100ca4deac5383e791c7338406fe1f3674025a1c250ab064261b3d0a74d4c92233ccbef1223486bec1d31e17da32a0fe8406fd5d087585ceeb17502fcd12b161b641737e06952a2159d3558d6d7b0b337e836d3e0a9e8932f516becbb5892cda73a8f3f5c60741addc599cce9de3290585bbeed334370d908401405a577ab7b6dc8dd7470e9adf72e20169b1d5a9de6119c6e61b9aaa6940c253770839b8d0cf615762f1c1bfa05cd2651a65fcc7fef342354e7789cde51e0d1f253c67f478e9873480e95b5c0fc119b97f0ccf126e44d71a13a876cfbc73c89d0dd6a87e9a02ef0f8f35f464104da73e79c463a3d7eb235a99bb3abfc7cde8d0c25eebbc22f50b39f61d4214bab21fd3febba1881f359f674d817b53465aa26a0ca660319d61c6bb3e6f6426c1aeb4171dda833d58591560c1f841cbfafa888546f0f90cd935c65dbad30e2b78a6d3e549bca6477dc8655bd7a9b5130b235fc43ab90908aa539afa7531c137d0d2512bd20cb714141121d1978157247dd05fdf31d8f4a267f174c2ea3678db95ecbf2f1076d575a1cf563f0ec6789ebbb2cc32477dc4266b822509d859dc2d3d1548e7f9bcbca0ca47562760373034e01060fc875747b5d2b12235670702775085d1e1bf40187c813124ba13c84897089f2e7ab6770d14407cc0cf22d04371f8b2103eab788b646cc377e7445bcc995edcdaddeb2caecba66dfb3a404c7baa1bbc4ea6c4ca9f030738201ed8077f38a382e91e622693fb2cd02a9af2ab61eed836c01380a1fad66f40233f025f4a85efdaee831d91101334bd9b3400e1aca2c0f44caa8ec1f9395f7ce0a4a7f350922124a0b61ef06b57006b3fc6db8f7e4421ead2d74ddaf90c30267f0244309d3bf23311f13e140882029f3a45db9a3b13232bcaf3860f9e04edff58596e9aa284479e302333d1fb2c1d8ced89d0cc6ddff426d11a2353d1c7f2e2d8007bf17ec218c7cd2bd7768cdc5c971e02c64a4c4c3f2fb054788c3cb45550918e3abeb43536cd8ca452c04d1323f0d5ee221bfd7ec5c0c7b0dbc629cfe7eec74669266448891e653d243919563429fe86ef82f5214cb3709c46ea40fa3b83335470b5a860099c631c44dd6b4436deac94698e5e856633b96a33f0bc95c79646d1a98741c05e43ea1d08da2e590c1a49bca58a7728fd8089ab97971c45bddbc3953d36526b41002f4146653e700b159429746e7050418d3d36cfce155966a127ace837af64c7e0df06a600da04636f6dba123c70672f34f78f5c295c24d9f45150e6958c62e8aca12de33b45eea750ef2e424af470cb7cb1101752fe95057b907a06f709e2f4c48efbf38e12fc67cddbf6efaf49e05768bae869359fa2b8d1b3c460347cbe590fc48ee7089089b947761968eea6365e77fb36be43db98408e638d37aeaef0612078ce18f88c89b8a0656891cb51e3f59f5fe6eaa02096e530893f95146a842d18e3e9797f97f578e17fbff965c59ba88dff1c4fb1188b5f606305c1b3ddbce4f5a3a6c41aed9e36b88b302a551cb388c9600e115eb0a5719d3c74eb96bae267f4306fde10717e1de66b446ab6eae30678cc947d0cd64b8ae71e6ddd95be1f9a8218f6ea25c8ffcf7ce5759b29cfba5b3ca699890c1652e32b474b56c69a9e164c497298fe3160edc724d446fdcbf442400a24d486a704d0fca710d07909dc664c3f9b3bd1413d507d1ec1d1b6ab5da9baa15b94ee54a6a236d9cfb5e67341effceccde0357930016a8864ad81950a9d4afdc33fc0fe314f3d9592732b9f01a4492e65f88d85aa71f54a3ffc12e6be611b470acfbc9c5465ec670c798185fe0b2601bcf35eee2337960b3e34161d0696c282bba52475ac5a8208bf040d6c94e65abd7f438c81dbc014891fc915d45abbf5b51517bc9927ea4477916583fe6a06194ea673cc896202ee07b7a94492fdcd61f56b865978f9908b97e59b1f4e90c37781c083494587d4d783d0850e9ceb1a245cbb4ee8fcc8eb7bba597422a7f5b7ae474e67d76534bb6e20544a41493b3b28bf6a103865feabd2bf60c2cc22dddca61f23ccc705be6e57480d57bfba513c05911bc8959cc02e9e02f9722dc4cf68d56b7ef3aa106a9926d840632e7bf04fa03db805fed0c6354befcd0cdf4f4e17efe4fcb437ffbe07a47a39bc98a0fe44e2c69cba08fd21cbd0f862dbb1fcf8a47c4ed964ba2f965da2a4520b1f23cad26404f097271c391ee9d1e90b6768efe3f4bd87ca1bf48f1f8678a600d6bd6971306c968c846770f2a3b778ba1e870c99197cd6e6848d661b3129334852b41f2741944087f0d92449557337f58a823b292ffc1aeb4874fd218717be95ad05ac041caa4d85a7a6b1578954ac5899b775ae04e0b34a91134b20687a475f2dfeea6cd53d34147ef5c8d691cdd94ea8d0c0b6bc35c554cc90d0eafb1aa2bc2f8de16057617fbc4a123360c461fbcc9d86defd5c51a561e99f575c7906473344cbea8bdb379197689df999aec5748e4e286fa7353929208426ccdcafc83cfcb870135018da9323dd513b0360ac1de7af6cf3667773142bab12a3696c393aa8cf32b1c858889b73cbff5c3996e8ff12a31672e6389a9a6d979eab3a02a4ff5c64c75e2f7a258cc2d7e2a80c97873a4c3c6b63d808a30859b220c2a371e33e78ec871ccc8fe9b800959450dabfda877124fb54bf54ba19704aea27f534dd1fcdd9aa8332f0f49cb1ea2acbf51d281d8776c960a35027dad3be0831cb7029c9b72e2864d4ec433587652e9ffd3d6ff25fbcf26f58aa9aad8f25dbc3f17bcf497b89e1270d1de52a62d284b3a30a00eea5b84f9362643016685518ea79c8bf91c3231377b26d5541c341450660fa45efa4ce6d8407ac06b47bb0220b80e63b4b398291300af5ce3b4aff9e72cc99c76f7ef196a25cb91d19726020a1ce48940e8d9df1cdce10fa287d8dea4025e23887fb9fde18f453f9fb99b96df459be8c72b50c4535be9ca9993f1af249a6d7b1b75893837b81f788049e69925aca8f7b631f85f42690900a489ac902e38f9f9f1806c778269f8d8ddd035e58ab0c28e7599c2e9e7483542c9f6523f1baea2f0ac675e3a0287de884421638dcc01161f6c5e2c3a48731ccae982dda5ebe7f456014f8c88c3745122b1a4ee59abc14dd94ef5e7b49af07b4f1d52c1cbd3ec2a0d91d6cb371b6845965993c65e4a5261060d39671e60a7e3d4d974c8a004d7f10cc6f50ccfd09dea451bbe2987c075199fe02da793be794c035d2708bcdc189f74dcd668ac6a8aa0f05017fb081438c2d7ce8eabe5aa839da0e4365e1773777a75d5c47ec25b0c356d0336f984358e17180854adcac61e782a9563df920482968af9f8afc6e2b8561524131cd3f822a68b193582e5597296f96cef5756d7ddc11141f5249e2678ba5205871f393a6f42482bcd27ae70e7351f762dd6058cb15cab9d4dd073557feda118f35e4941d6f22bd2fa81df2ff13cf67e0706b85a4190e56002e6d505e61402f08a710875981a208eac1b4dabe6d527a9e0061a604452a865166a21566de681d182ffd7175d125af21863e72181626f981652c0659d63c2ac1c65ecf363c813b0921e3eb3192954acc7068227020a3c1453e1462f12d6d5f8af7727bb47d26766870b3defaf639e19fbbdebbc36aa28e6b94267c59ada659aabdf4acf94d2b0ef64ca67a1d4e62d87b829b6c590652b7b23cb44c5be8c1b650fcb985a5060a8d5718079054dad81ee0988b79448b1c13cc8a303df4ad5efc514c96e42c4017f08862bc997516b2cf95f2f2bf97d821a99e03a0784d9ad3ae60570fb99db43d920c55978a126cf2aebb4eb0f459887898ed327c88c649453fe910ad91fc005b4833b712ae9869bd89c06a64fdfd473a478fb28fbfbf529c19244cc128475445c4e8612c8ef81f0b816d17e7228f31ef374feaf0dcccb36c120baf0b97713f0e2691913cd6a0d6994acab1dc1e84c3cbc37e1717454167f4f6503851cad4097388da6204a86604cebb6f262217316f0490dff02c97b79733583e6b9213891763e39c19a70d955587a63123e49c92bfe5fed7ab7f502a3ba91e07f2f469b9e9b45920820fc30c6c24fa98615731898399044f9abf76d779f46aaeae35eea00fa4e668f6c7b9df0610c893eacb0aa2f93d39836d613c3b693ad27ec6c07e86e783486d86d61a55f7c89b703f2f63f7e7e7c5916c51f79baf6a7a8777e44be3967018ef60958ad538be924af5c24575fb03a72424c4d72aa8f381952acd54d9e28ec69f6a653678b75cef3cbd6e1e35bf7ab1fa238280e2183ed909c5fbe70d91c6de6dac6d07edf3fc5c500b9adf5f713c1dee6c0769711762bb98346d6fc542b8fa86fefd9ce6d63a1cd3cdffbc384d242bb4b90303793b28b20b2936e1de6509c7452f5dd34b95e29227590a64ab4ae9b8cca5436803cbeba827d9401d381861d913f0dfa69a38b1f577dd0a1656c76daf4b7abb30efa51fb1ec50e728eba37c850ea2be0dad8d639428a415980beef20f057c719ff52c544f9c50dfbe109bb8b26670c9b0ee6369d5149552b3ac5e1397f32bcbfe8150f205c1076cd028815e47feed7583ef64844acbc73523466df76080d16615d60cd051aeb5dc9d558df730aa2bd94833ebd7861587004236525ab407ab2629bd530cd402efb5f32e44b87511123112eee027110b9c4c0271177b172839154c06b5d4133f032e6a346c421642b83c9e6cfc5173fb0a7488d8896565ed313618ac7e4beae4a9ccefa351a2e8d828f254bcf9845cd9535d29f4d908404301ca4d78adb1550d0c9e077dd3fe8edad0de596203305e5d7c99d6e21e4140aa56ff64e01a2381a5d3a2fd4518423bccf20d7c615ce7b8ef9aeb12b9a4cc9b9595c8151e66d52d150a469088047316d700c9e598cd3f6b476c19320c1ecce601f3269d9e972fb78c89190fd1db10fbe1a3f363af54198d3aa777542d39e70a9705ad8062fc739cb55ce7bfe9de1eaa9c80e60eb7bede73f82576256077105636999afa842aa87fffd330d924e98a08e62935523592f239a306f9f9adb46e285158278f82db879a58d5a858f10ab9a68f381eb8bde3fe982d0b9dd9f2bc9d972e9789465e097b6ce587d524b43dd3bb90535255520709f6ee23192c53ce05e19e40ca167ad242a72b8c4e88f433efc7042df9d13712682497d0561713dc4c4f537dc39d4374b585ad7ce0752fc8169d40b69e4531c440be8ae74ba630a0419b80d88050655dd5cd44d2aff4586f2a2fb5aaa1580a4839731b382fc73f476c5b3155e8ae1e0833ee14c627562caa7fc789f2a8bff918e772c545ba80d46f640206d26cdfad294f3b874a5189b0252b73236eb2e09d64b7927f53a7687abdad8ac38ce8d91de472e3323492cf546ba3321ec089e7e647c7779c96c4f9fe1b18fc9015260baf9832fc1fc499eaaf6cc3572342ec598a050423db36810ab55258db3fd7f524f6c1a32fbc87c5839c5cbfc8d0159abdc893259d17fc559f2c2b65cb68845cb13159b54e6dd3ce57e1fa6ed97916b5cb8efefc7fbb8d35fef22e9c9a6d1f1167d3f3dfa2d7aeab70017cd73bb1d30adecde1ad7cbb49064f2ca45664ab825a5d1a8089d064fa45b5ae0ced8ebb1ac6967e083392d0855903c1882e8cb87685df83ac82e30bf7d86875f230b8746bca350b558aaa24c3b38e6cf637066c5793d61e5ae957e10907d73928d64135011efafde64059d8972eecd4916e01dad77c0e7d5d495dc6333d968fa6ad9a25e9af00c548e1525fb332bf8ce4433e045bb8b4570590f64f50b1ed802702f1b9a685b3934ddd62b20348faa79a5aabec4b4d1eac9c68b5e27aeb3365bc7dcadaed35503679bcf6ec0e71e9227c99c9f6d21ce16669f6ad5d40d3f3191bd46970b0acf8f8c9ca5e2fb3fcf12526170ff5780738499cd7e632392b1dcf5913fe38dd4567b8f0224809c495da1e9dc8a2407caec1929bb08963d4719a87dc8db700569282a5aa5fdcdae39c69961cfc0dfa33ac776e12b359b5b95115359a05cdd57d5dd00efe70188b61b2f22f727b8438bea2fc76981ee805094a4d5ad241a11084c18a3cc4b974c03ae1c8825a84e9d9ff15e3db8b928e82f95a9c2e2ede9f1d209636d1ea617839c3b463c3c14c05a28cd0e2d5c5ce8a6d53157e4d66822c02c1cd427892c77952e4a257cd8997672356dc16af37e58dc00b8114c7fbb4dd55d75506f45fbc42f01f4d4b217f4f829b8fe46f533175f2ebad4a98510e3421583a066cfc4a6871340db4fad522f1025a428d0abc9bdae790934e5ed6ed0a07333ef7195aa6584ecb1e2ecdfaeba2d2ef597f842e8d3123c90d84aa9d5816b95d530b954e76337bf10c81c13530fd92edba84c3f3b60d1cce515f20be19785d27d06420aa594591ff8989a3b0e1ad37f070e3a4d603ba2b653775f2e2603cf6a89e263f83cc13f49e5b65b24b2b7b81f72733380bfe55c56a6f4b8708c0fb55b646b7671b69a03af0f6cdb8e035e51bbcf64514c6715896cb217a600aca47c3ef13f807c924af7927b551d64a31ed23deb7de793f65ba6bbe1dbc5321ef4a12377354eec0febbed1d033ca21de3a19929670309a4cd5a6c86ca19065de35226f4e7c91db124d3e0528b6ed7d6ccd8e6d615c6d06fc1c4bfdf91c3b2dcb30e5d84e906c5ee00e284d681494c29f03275bb79f4b4b69f35a72ab2ff705e8d85ea9fe9f9cf0cb1a13700640eb932cd6090a41dab491d5c1ff396178dd10403b2525178e5315c78afaa667f1757897a44e6441a8f39fe94a9fbffe7a2537018520b15036d89651ba81ebb334e1498ced1ffab1ab2d93b657880b7b67161aba35d570e83a4aba28c51a204752e5f9f4b1bdd1ff5f1aa078203152b0f27890d20208a790ef92663c6ee6111c4fb037dc27a77770ea36b5ffd658974c25256255b58c3829345dfe16ce265e937b19039fee853f8c1db83e21097691c90d19b6ddd6cf329c9e5a97e59a5290abd38f2c9e3880ac65c99414cfe566e393cf0d85e14ae09c8e539f38d3f821e719bb06842c3e2ff1b99ef70e8ae5cc06fdbd28205308401350af6c3dd8ccdc164e5b8670022f22af911ffda26acca4e39dee776a79da497a999566d1bf56e4a7bf8056ad919e00e526f8a6497a59169ce1d627f288fad28547e614f777cc289d050d4f9cfe8163555dc0a3bc216efc06f5644f7006ab4d564a9ac205b8258e8d0e2693ff4e66b5e779da33392e89d90245713ce177213df2d487cd92f711f3004fd2d734596d7597815aa2375ec5f52ac4afeaf15bd0415595af681b4f3ae3c944a639e226bb85e8ba64ec745961a3e942910e7cdb655c3ffe4c8b048b3e9e8c343bab897b395eaabfe5d8fd380dd8b32933f2dd2d79c89e0016897161ec41a9e6f10476976d9685fff654074f56e0f65bb1e0f9f7dc56a9101828ca55ca078c0e491b39019a0d75d8e078dad753713df4de5e4440dec29033320ffef6fd289706ba1c42c579f21c19ecebeb7ae5835af37cd6cd6228c4bdd47875bb1a3465c6130200bee05b6edb1f8e108da86c362997f27688439f49b4a638b24aaa78c0d5ed37be49cf4377d1d81971bd8ca198af0d0c76c364f0bccd43ce9fa1246303515c666397deaca15ebce3fa330c34992b96dff9389ed3afbe4794c40d0a43bf91f7aa422dedd0fa33c5f4372418aa08951546537c231a92f4e2112b8562e1141e382b104854290c93f750f568376999e2958adeab7ea8643a6060c0df024aa725a115cbddb5183fc8450f5f21e69a1ec585ded889c112dc72297825dd0658a2fe4c55806bef24aaed12280444290cb6fcb19afd545647c7f57742541a242abfd063df882986808c626939dce56dfb60147d2afd0947a97b8cae37ea38a888bcf4204180a6280bff7c17dff7fbd207fd10ad561521bffcfae6ac7ee303b8c6777546eb3d699627397b6caaf44c160cc5320c76f76fd6c10f7ec36075488a823104915155fec4171c29d073ace5324344d868c0c971a19a5856e86d33a3f25320f3db5d4aa9574ad9ca9fc5bcb390e23c93c00e0327d5b0204b8adcfe93fb5648023b378720f70f066fa97131501e141721cb0aa97080510f24b9e405c446ad394a34a7cb60f0cb2832f845bda6593bb96b6d2fb562c0357305e7c82b991e0ee06e3ef06c395a057af9f1250a180fa24446620209126c25f2abbb946ecbf7018b416a93d567b28e4ad86ee33e6caff8a38b7dc968d8f5daf3ae72380a6b68ec8f2a87a133db2739aedd9a7cc6f08fdcbf90af9ac6dbc70cb3cf568ad7aa2f38c3db6a1df42b45faa7b602102232eeb4ee03eff9351f536b1c389f77bec118e49c661b466fb35665b1d2f21aefb9426cfa91251b8aee47c69f94592b7437b25855d7bbe1faa4cb1c0723678f467145fd38fab2d9c338e1df6a797f69e050d0dc211c296fed116271cdfbaf7600841fb3a3c0a5b01ccb3980d3ffa6e0f752929d63e2abdc6d8d45e27428cbcfae4447d35bb6284552819dea6d31c7ac1005a3ae412e1856bedb64a3299f28bdcfff7b91a84e52f094b33e9a46ecc6fc70c46007dae0951f86ad8b8822c04cac2b704d1de3222aba71455bad94058152125aa1fc9b73fa659ba9be9aeb7d0a7efc0e6baee5ad58d6a912919e98da6e3bcca91c6319e2b8f0e575d8282319e40fef83de27c87a38c7248a5c34c71dade07350aa51b038ff00cb8f6e3bada1ef3912fbda95dbd7a5f256de3930aefdcc1ea101734005ae5d71f0a195d96db29161d4620479ad922ffa72b6bc6646985d104ee5d26e28e1f074841cd1c124e3f19f963d163784cb528b2e3f5131edd1c33fb57fdec4e1fd2ab33997882c2cf4820ab3955bd8cd48c270ff452b0a673af2b0610c3175a64cd6ca08d4b7dc347a67668a4da598c0df8b0c7d7b5318e305b26db845b4b38a776899e3ed5227c0d609ddbe336aaa43e0f9f1f0b044334677f8fe252305e1a2459af890a649e152663f56e519381f3fe3d2f3063030500d422c1b69c27cf7290e71f664c9edccda5bc15fbe80e110ba18e4a55f47b2feb70040e814ec3d59b4fe5a32ccdf1ffee6156ffe7cc9a11d0b8f0a60ae893590cb0583191791ac5df942a8dcf01bdcfcb5813f481aa45bd83ad6fe615de2ba880f1de1dd2026972f5b0774341d3e4d565e72e7627e9b2e6744d5cebfbad448fd5283715b69ec1a7a57961b09c340123bb662b744dd5dd4ae68b7f1554684a210c2b21d5e804ddf4b65b61534c640b46a766bfaae205770bfd3247cf8d662a8ae780023f678085bf435f0da09533458d2a4b590a977e07148156bd099cab740e5b02e8797835bdc00b8a5cb7261c297d94500a2a858ec265bdeda0918f0b1ee70b1343c7ba083f44420a1f234dd2c36a514bdb379383a96ee756466327e80eeb783c390fe8fe8af3ca51d170df698183abf446a7e8fe63913aa3d8b66e5dad148cc6fbda56488f31e0e4ae0722122366469501f59da725ffbb63b8fe849bfdb9d2f7f2536fd440ec031ad1e3e4d9c93b560caf7dcd12b7022aae25d74332cd10f16ed2e5cbca4e7373813de282a050e8e3caf3031c88ccc83c82e4e5ab9e048d307cb37003961cd75eb8cc911fe91b2f4eae5c362ec9f72bac099c351ee193c4136f4851161cbd014e82f87c781aefc0e16a4812de0aedeb2f16b5ace9214af7004e6a535bf323cd0191d50614fdc7bb99b11798c53625e73d74610915b7ed608fde022a8ef1bb87d71a2b26dc0574d5483f1b67d51ca1aea4c53da4f0aca21b67a9777d38a53dee286cd9cd962f52ced6e8dde814b637068922ce30eab87f35b6d0d296268258919e4bd30562a04e01583de9b0f0049729829d9564b8834339380d91622f44bf8349b525ff0c04a28953e5d28c7536e5b0b5f07c006929635a8d1d5b9ecc3d8e3a7523016b67c55ab5541e3dd0efd92d6c7090f6189043789a5d33691e6ead310cc6a1adae3979a5eeaa563f543b197d9b73a49f75c12d88b2f75feac027d6a82d649826f650f771b955fea2870b3d1b18c37b7fa6367823834fd90dec1200e5c3969b83a36083fb7995219a0f6d58f74d316fa816fe85b3ecd260fbcb0cf3d936713fab8aaffa9f477d30c4deddcad3bca31c6d5d7089e1114d2598b94ca3a9290f6aa2cc653801b6591681d6fce61a977a2e03177d3c74c4674be616c53695e8e2ce250b8d82b6719a9651dc2145a644e2e39bab22740674aa4896fde83e7e1dc75d423f4a3b3cd470b0e3f70821ac1efb154eb523f5f539729f7d62f177c867e009f0c7de0bc8abe55aba33d3bdf074e720ee5f19d3ebd13960929b310d918039645dc90849354feaaf475aa9a109ad50bafcd03e00efbda264a88480c70cdf41c0c2214ab5f5934e2da3098a229182bef8fb882f62d168287502aa603a100f367bb53010628496cc6c1a4207eb05e0d76d3f7090d8f6d75d765c43ee06b91fda3e7b5d70a234899baa20237d49f2219af0e4b2193296e4c2756fdaab80410dc90eddd24e9870106298e648e8b8dcce9a1054cc2955d95dcb9c4cf6406fda05fd64123c8829ce7ada44ea543412ac945761d8db3705d0f1599d9dcbd9094be21251a99a1f7f5f2133f5de90abe88398d07d9862836acf28245cf8bb685ed7db86ef4a647fa2f1d9ec6e5aa74ebca3119309cc236d94458c188fc085b6c85b259ffb65bea6ed5139eefc7f447e27bd8be9e5cb4b61523181f6a981b62ba82d288827e6123ea1feb2d1538c8ac70f126ef28e63dbfa347d06f134de6154c6ba562d2643a01c3a2773205fa920182d66c25d","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
