<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"995c32040feb9814c72b7cf1696f219f739cd83c7a8c262e21b217fbb41ef45bcce4d0fa2bbf3677a1fa2ca2639499f9d08d3162a374205301670cc0804a589949e91cd752afb56d9b941eeba10fef009ed1fbceaeadfb4f69e263b6d30699e94173e525fdf9d9ab85fe59307acb3e637b73a830b4a5cd638f2d7c6248278ad056afcf72b023080156bcbfac32bd4d0d7c00ed4dd84f08995c1ce70c3eac8eae3e1c8383c005994fe93bfafb770d3d907c8419ace959839360d115780cec0b8c56ce1cfa3c095c05b15237c32738be53a6a968b0255f4c9068c39414f0dc13c64262195463e046d3297403a3fd5174b5d8ea6a3100885da1ae01b671503948bbd949bbbc288adc9ae123039c1cc2248176ef1c90e24df60b7ce124ceaf26a80134a462155ded3dbb8becdf7c1bec47448045fcd897c1ea2d482994f6f8e539228e98a19e465f08151662f39ba2d1d0b47976df9e4c964b1827864c3863e30bb38259af52a56270c077a88e5fd2ef0001e2a85893053169e0b048af0b1183fead709d593f34b8d095fe08b1b3831e9fa38671c265f2ec79e8ca291de043c55966230c6153015912705c512a72dc62b0e35d028627785c48d1b2637fc77596d20f15cce270e58a701480c3e5aee04000f86196d9af0522927262f44d04c0607e35a3f073df45493c03a12525ed1939101cd2e4e548f89bf3295522e58b32933440bd168ddb558e87fc06c78294a4c38aa61e338edc19acf5c4c06c50e84622a07ecace04df88069f6a01dad52a86e96322e3070bee6b0f42695056c96d33b7e1b86946d2d9ccb0c6feaaa823b17f857f24982d000b7fb38c9ac88c500fed6aacd76f5933789fb09a4c015ba3e2614c63a043ed3bab0f0ae94d5b0a63e8ea52ee25c0696aa6cc3abe49209b2b5a0bb6801622270ada477958c51cec8ec2e69fd0a4ff9e7e0ea2d5353dfca5ce4f040ef98a5386ebf2ea521f155c056e780a002b47136a688fe4d7615f3630abc089e24cbefeca19e31c5e519bb9eb007a74a98750c747f623d2a1a8f735dba71614eaf5661a143c2b868d5b0dbd020fe25058760c00b4bbe87e25d2f841b6b34ca324ae0468ee633015852513f6957bbad67a41f1c5e8c19d3a57120aa739167a210f1b97305a25eb490f93e90380c5c11f3bc954180af118b7b8ae6e0bf51e80badf0680078f859e242b69d2a6f8aaedd91bb47dc4acade3e9c6f83029ad8ceb92ead36aac149b7bbe4b4a07fdb0944905bd42420963e980a1554c3801112ffd917d9fccbca84b51dbc8dab3bb3b550948969c5d8157b834a62ee06ea5b37a79efcc4c64046e864501ed81c8adba67b2b1734d6d72983d838041f661f41ffae953577cd756ac739c9cc065093a966a4ad4c7a18941591f9ec8149baa17a946360247427ff7eae53ab289979c510b762997215c62d948b674d25f14f2ce9097b7ecfba69cd225f6d091d088c17adc8c07d996ea22eb836447e02a164ba1a6dc644b111959be3fcd7a75b2199923e5bec9a026287a074c1e9ee98425812555287dc5ae10fe3fb5e7934f2a059ca85f2e0583ab7e284fc92e1f1fb45eb08ea8af14edf8acc0fb423d75d915427b596cea1c10d76254409d6e50b124c917cb3ae3ff5e1a6932a5b07f5d753eb354bb292a4b960073914a812868b5dc0114c1a717b128925aabc261fed0d878dfbca9444dbb907a1cdce66b366489211b5ba476031433972e05fad61e6896bb81b578bef22f5e0cb7560a58a6bd21ace7d073c6ac6fba1ff5b6b6d62bec3cb2a282505cc803293c5c569402e30e3b68ec0b5817a028b3fcc3839fe6dc224d9d2ec834d295a7ba21d86cb1263d49acb1fd90334a1ac307f470fb36f98d2b6abd34dbe4131a68b6dbce5fbb8359b6b0913482d8badd92981eadcc4f31c3fb5c4c6a5c098c1e5a03c46192cae8550cc31932d4f9b2089bf8edb873eef44925b6a590955e496c064867ef43219c364456cb69a66d525f24a7e4529f27e5b5844f51745ab4793c796a8140bc333f41d4a3eee4376dcbbc4cfa36873b524cba7c45315cadaca355f30e62afbd07d4332edad6c7c32a29341930074b06608278f4418bee7599d7a925f7b722024492587de0fd9968930b6baaee65b27ee77cf0259e7d5b338a0d65e42bdcd61803f74142bf5bb1fbf74843afa6b5bc42d748193d73d77e8173d45d932e2259f385d737b331fbd775e03f86b4f08d19324ea0bd105fba54d846d9d73a84e98df9b548822cbd79799087d6daceb2659b042811622dce2bed3b70fb8cb4da6c221255150357428fe74f6f3135514eb17121f81b758d890df9b8c7fd8c54af97f7e0d53be20b6ba2a690317d127c7dacf54f620464d95f4dffb66a3336424d62ece970dbc2664a33068955ee267ec04280dd69f5f2623a09c2f5a0aa1548f49a7f85b2cee120494ce182a49b787ccc40068387b3c0b3d91f0b17db853bdafaa8111e9a40a40ea30e7e66716df26ebfd0b3b6a72b58e1162bee1628099146ce15ffd5224786e2ee5cd6c6148c88f3b77391d722200d20fa85c98cf0305df65e7e2c5056b5867219dd78873e2bdf2f182f31252fdc4fc5ff428ef889a2242ab4f12860797b45c6d3f65b22f03b9576fae3231fb892ce795fbcfebf2d708b1bf05a7a775355501d6be81c80beb3026cb641702e12e8799ed3c6efb9c8c6a166d2874e2d74c042ff03e7f1f0a4d82063fb8ad3d28879c34f6ce00f88f0d85ea5c3191bf882fca2984174b7abfdbdf972f05cd86d570e34c97caa62fe301c5d307fb2d93eed8a2f993843494bd10c0f05c079a5c0df941fb0a651704f9b2c2fe189e5ab3b0d6eb8c057f5625a699735031656b394a75ef22f4518d45d616cd7f9fd5a2e2128d065e783467719bc0edc9c0741b3941e7a8d4883bdafef6e4608dc3823b6354e43ea6b7a3f69fb51ecbe3bb4717b86b56a6dcd3e88aa590cf812feb2d09c333a54113a5afdf350e1586283f2fdabc5066b12cf81c83c700e742ba364e12aa4d42a4e700b77a3032c352f05f071ac37992a542ee0cac49125189ad2feeaa064f956e824390df6d80f6977cdadb7a57e7be79661116543c16988913cedfe67cc52598a5fe0ca14ecc2840f857a9663f479ecb64de945de46029e646cee5e477eef75c0856870cd2fab7b4107076a7d208a24b6dc29e027330d9acb07d8ca0fd98887b3e6507b9d900f281e67152476303ebc8143f34f96261c99da0be1c15f67e6f7c67213556e3ea1a5feb7670a3a3d1e1e7ce497a355feadf441aa715c6f85ee379c4d241262ca2817a1bad444fad9838d507899ca85870aa825bda428856c4d5f3442d1284fee62c5c5ec3a32302c3485b792c461e0149b06b3fcfbaca4ab1d352a8782debaad50c9665b79c2498b68283940ea404b0b07e597554f77d9d36a4d83a8a21f83026ceabca3b4ba3230055f46c7d0fc6627a5eb40c9d43c2441fa27cba5d0bc3898a885ccf93b4d6c9f2d3707d0896099db5cf95e5be6f871754262a7257978daa0c22c23dceb426f80dd8ba59ae2b0953eeb60663a4d3930cbd5502acb009a5852b63434eeedb88dc7536fe3146b61b634e865d42bf6df2942aff1a96a0cbda6366f3ccdee8a4ff5d4ce207da7ef0ad60ed5333f6a51a8aeee1d47a4d0f43905a83f265871a4d1de637d2fbc88c745987de23b98044751c4daa3e112818122916a55e3e2c50294472e152643d09d8e5de343baf446aebd6702f65c214eddd227075781cf6ce32ed6afca9fde9f2157cec6e8c0e3121dd677355f561e99e97bc130efd1d07e5537d64ee995965e8aa80b4dbc9c8c48969e133800b4fbe20a411f83cc265c4431003695d7b6ad1957fe804ae4af54504ef0ce548a79a05cec332b5431600645fb09aef14ad814359ff2ebe03f9430d42c51ab90c351971f88409a5568f961cf4a6eab2d8f31945872c36ae146e093b0e91a1ec020d40bf42701d5ca634b4dd7b72ff959c637e9ac78283defe06e91386f6bc5c2704b1698952d0c75abe8cfe1fed92746f4f095ab6cb85543228b28e5fbc1ab080d079a3852335afa769d2ddc763bbebc416781acf2f16002f9deea5187c34a466b07015cc17325ac6aa8e0453999fff3753ec2bdb99873fe9b14cfbac3149e273a3a2a1cc2fc946a7df0486c2e49511e4b3fbfd8811e67acb7c766e68834ad54d5fa52b55dd6adfcf53699a118d0101cc705f2db83d0055c16053dd3dc564f756f7a7d477b59f4f24a7a298cb6aa709e559c7936e9956685ce11816dbd9aa07fe5cd56d0e0808b3029d153b430f30608cb6708abd827b921a9d2276f5b879e7f300fc1cea348ca47396a48a4d47e3a87aaefe402e7ad12b3fd906bf8fddb451177b5c8f2965267d15fe833c9bdaaf9a9381ed430b04774ba53ba2bc8e2561936820a4bd3abf3060b16799906716477d9b016b37df0556f2b7b2f21fbe340d4b67e167b985222ddd3e5a94c9d24d4af4f2e42ecf826c57d4cc31cd49826ba751aa04554834be2d2f2e7d219e21125cf14fda6944ce3ffd6c82fb4729b7c88b0a42bec55c8863537238f4a4e66a0f955ad53ee73e797987abc87d78d360468fa93d26c36f0ce6785a8ac77cb70d63316a5ba9a4845e30ca325163649d01acdf3ab4f60d56c5ec72d69cc4e3e2ea05d6f1929cf92a3bfc6adf5a0ba7ef8a00e98b1cadbba204b6d26c1adae42ae5e646e53a3679c99d4a3d3188844d11f9def13a103f832a66a587d36274b1ab4ee84e401e649907f3fdc4b93b90171f1b7152d6ee3041c36378c93ce5b7b19202e22c8ce35c703a42cd8553059a096696e4f6a95f4fec5130838f58af7b62aca5b2dfb9d1e8b8dc00446bf0054808e909f6c117c83b6e2759b4ffc0d234131818b5f02270661753cc1671a4504a1dd1b184a042ceb17b9d35c5e5ec079382b0b93f704a9c26e111f2077ad764ce052868dcf434e6524d6efe8ecace1afdf9766828e7cdc56e20ad17364b2fc4c71af9249265968b40704bdb9b69ee8c72138ced4b9dc5961b22cb8832fe66f11d93666ae04b3399429e0d40ef14ec9946c9b1f7959ce1eedf60fdb112d9a73aab8223064c6258484e602f7900a0c135551e2e49638e750a571eb6eae1d0c169bdbab0c54a407808c4c703c47947c0f984512b0f158dbd3edb36220b309294f6acfa87898b7b254cde434dc8e78f56c987672f34ade28e9228d82b852dd24b05c28a6a0319c67746de6d376a8a7258067b965c2e920e37a95923f0a1ec49204253a6da5b9723b0924ce7c55fad3b3ab2e94d90096730875f8ca5839229e510e5caa44b7fa747b11ad4c144c331b1abbcc2c89b415e3d308afc2ed495e32c264561db2e44c032cff9859fa10b71785e61fe026e46ff29da0942f6ea50495414314a4acf4d301cf6e1aecd463a27451b076c5dcbcd486179ba4397b579603bf862f0700b626b4c9a0c1f79b8d46881159ab502fcfd2c4c657605c42b0a1194b63d1c024f3ca096257d789501c275c3e9935181c9fda2b9f7f076494d013d9c53510482bb9c4682d2ca99c55134c996878397395c6e80587bdd9d2d7f43dfb7ef9af808be03e0eeb310b4f5545d91f686413e098335396a7bbd2b6da4bc6a607f50d3ed05a55818ce7eae0c268339a91b74ea49214e1794f0320b6be7786933c6dc151485eaa30052f2bdc8c09e4ca5f450f135464f3757d097067dc72f4bfb1f4cfbba18edb017ea53353f74425ead61a3635df3c6c27b848b80539c0fcd93f878752d13fad582a21d099c1e386a8ffb354ea71379fe17a91deea546394555f03645d460fd622f8789155a6fbf153a51c67fe4ecd3fb0ac3331744bf24bcdcb0f882e1ff14bfac13c2ea091c5bb5642380fbca2d5a047c8d6f718ff240da090457c86fb4c650076b505b187d8d11ca7198efbcefcb2ec4c9847d2442293296e72d704f53df76de28138085387afd5d056be4f601cf72f2f2e188816c5c197cff2132367b018064d03645300515035cff717d4292b8b9e4c28310242882a0145650e9199559509aa1de5475582770438d80d46d55101e6367855b36f7ad70669f45f585f477aede6eba548cb59f1895c40ceb14b903a8751498a804bb82e5900c12842870a1e3ba3932babe6f075bce3714d900a271463840b38237e184aad14a83ff0e5a114c64fa8974db72186ab95e2c0424241d0a9339a3b63a46e870c137fd71b257d3d8684c2fc04326bf4f33239e2d20920932b3a307695e371ffacaa5bdd1af48ec25d9cdd9c4c875b29009c15319897dd24787c4ca0ea9854255d9a1a37005287db1e9f05ee803e1e055a51e5e9e0a5e503139547f2ea22078781d8011368f85b6a3a40ee8fbcb2b69b8e6c9aa44a8c2df39c05b1b0faf296715ad5bf7eb849ccd476b0d488e63406554d2ef847af4067ddc69451b66b6e686b40826804647e9e13fa9ba92629bc5afc639cb78de5cbdf78a5c939124115491c31250fa036bf1e47ca15d95adf93608a2db19e153e546a12b5f63ce2df2ac369233d33b8d3379788fcf4ddbe1eceeb10deb774b6377dd4d7d18c0d3bc211cf73813f009f0af04ae739aad1a1b3bb2ef09cf3e88ab81554ee63857819f4e6754b708dc3979fc26ce3fca91d9e9f0ac94e68ce78ff09e86d0fee41d30b3d32acd55d4276918bf4042425d75066a7da29bd2d69884c186ac2b5e7c5b6787efac2dc02711c4759f453beb7d411f220a5cc456fcce5274afc19c81a1a754907f1b30dd783cd7abe1023675c4d371b52067331f4d14d8f3a582cdb69b10321374c6cea3623809e94dc2d78bc33c0dc77ca786dd6819842deca5587e692472721906a05a0b9ed448d42bafb73a99abc4dc93073d84890c03c3a7360e14f0070591c0b40544bf89a47572045824970c8038553bccbb21b8c877f50901df0c8adaf7b7526bfe3e0104ae96dd5f7ae202fa17bb660e2a78fd9feb2b8adb38a4b1ade8de730511221fd5087a45305833aeaeae2a2225bc87025e6c6df1765af80842c437edab4a658aef847f367a7dda410469798fb73d6d92074ea119c6aad3caa922b5f9f321921d04695dd79d1c5ea070038e205bdae902ba7b433ac15fb5ab754cf6ba0b9596fc59b850f9ddfe4de5cdff08568d6e84decf9d1385e36770086bc835688c37f694e09f847b1a0a1297633db279391f1176fa692c7900ad17973abafddbc3e092bbbc6289478c8b92fa192b61c92f3f32b82c691a6daa5c519bcac0a103472754c6ce7beb86e0949d9569ac4b55c2078b46a6185924c9c2dcd0e35ac9039c6258ad2a8716e8fc60de8119385e33216694f121082400f691c6c309c1940036503b2be5678c7b3a203b63b3d4f1f6f8ce8b5f64d7f6599c6ef35dfbd043cc1986b2f1df656a3b6dd8cc006b34d7b0cb485acd56780fb2ad3fcabbf6c05411395150994819201b5ff4414fa6b588a819c0d7ebde71978337029d776376a2fa38d20a251373a9a8ceb443ac221fe00f26fb39c0b3c296f529e29dbbc12d894aaffc36e9f4357f4de3bab3829976a2f6446e1be5ef71c906ae1b67ace9ba861da465d29346cb966af9c4c504d140416fabb9bc4e63d595c6a77bdb7e4857e8aa46f82063af15cbadcc56964d9fb4f1a2f4ba98142afe5fcbe31c6bc9ae80ea89fad77150f88506767a8801d687508fa5f4dbb5751285e120a821bb2ff2724d341be58e41261a4bc92f727d8250e6b6931860e72e03db5f79de2b14de4edf239a9e85c3e3285d371bf93d6f36c7eb974538f3dbd95685572c9d43406e9701b937eb4afebf75513189d599963ceaa99abfb9e39abf446481e07efe9d8c565296b2080f33f78f4ae1f5ca8a69fe33aec591976c043a30ec42b9be01d623e1bd311da1d1d8dfd29d1b8252be0781251816f943e633a0897234fd2434860811a97cc745e40c0b63303b285700fa4f9bfe747fb8ba4ee0b48482222fae67c7bbdbbef5cfa4cf782a97f49e2d5373fff9416155fd03d5095e9e48270aabf2f91e8668f42c82408b9f89a6b5f323244b288dcf668cc6d2402f29e3832efe24ac26b0721db24f096eaa1f29541499c3b6cf78bc6c315a1a9e2df0b62cbe13489e516c401d4448712059fbfeb55dafe59513dd4e3a2a44ff3482d293892c78739ad28883825b4ea5baa825c109615a5353dc82580b1eeb1643c1b342b8e5b10a5980f3f06110b82bbd4a2f7ff0e5bc24a1cc9c1e85db63422818b242b1df7e80d3ebe6514aba7b9bc1731b53a310b256a2daa0f368635f69304fec7b3954bd1d8f02cc2f03ea0af31f3a8283d1b22fbf76c7de78ef0af77ecf67f8a9f97320b3a5f1c19e889edb0fd41da3a7e8756c259920b3e1c91810ebf346ce691fb539a66cbd9d19dbd1059988dfbe9c7eec281646d2be6e4d7ce9a2a91f57944c524f8c336cf4f074f5630cd7c222d2f9b66ac17b97190bfb3c70d436d720542d389a654c01179e839b9372f35ce8ce53275ce6721041bdfc2f8aed58ee24aae3df6547861486866d156663f982727b22365a848e6abd0dfd57b2206717d26493b7da72ee1f94ced27cfa771cdc0cf4e6567f3e6fca974ef4acf9dca37eef70d1d2d4e8c0b5e2022e09f02e0b29241fb3ad4f6feb82b0c42c94eb46ea35f6e4ea04841952350fb0d0b5ea20c782737563fc22337c8908a790ed0c83da26466e87f6afa46b9c65bea1897445f948204b5e055c728c48c84ab3ae6c290b530efd5980359fd157cce06fa8e0495e9b21d6f2a095055521400f99ac063995a5f7ffd526f2751d004beff99f5c7dc3d6256817032bc8061ac2fe88a631d7e7f5741717779708741e5e6c57055f9fa3000a3cf1d83c9e2898c8a8ea40ee132cd9adba8aa188bc5212c9afd50873dc142a005ccb544354d240cdc2da7f31f48790aefab6e2075b067c7e16493c5c81b52020b8ee0235669d041b8ff72c97e54d960e1bac9edca4370300121382235e589f28040531fc93abe10c02ad23705a2c424f6bf5600165cf247bf652db527b4eb903ae2ee294102b356f17398623a613bc189fe397a311f48413857bdbfaa40476c92d149bc67e85dbe7512b54ea636c7cf43852ff9b46990c86c6863bf87bd39f263b4d9d0e20a1e535da6dd670e81e8ddb2090e2f55a2f5583ddf9f91496d33fd2917343acac0b8b419e4220e42916787cfb1eda66e5059c4b732d0a637a6011e7e74079ed70461e2e32e2e2de2ef06b29b8de9a350b230664273af9c131ea8fb7646e7cd0cc3d7ca71961453dbac67db39d59f83c34cd0e2b3b7d28cc02e361b4e211d5703a2577071109f0ca1bcf215799f76fb5dfc005614f5cc635d1c6a1ad2baf841ac3f13bf369d4a654ee25990a80dffeb0b3e7b041aa4b9c95250f487a24d824ab8f248a7e57024f2830e0825dccff03a77c9bfa5daa40fef5280682612c9cfa58306000ea8ee7891be8ca09697c5e0ca9ee6aeb5bab393e1b99217af5a2c01943f4f85e211ff515a8c4555ea8b5ba2b38992160772644282c961d08e673522c58508c929a75445fc0c6a92f1e95c9b07b1bd2232edaea302c5af2a4a0c2fa8a76f2adffa26d5864bfd5d03db9bc92af7aad8ddfc86f9a6db2ee7350d73239e8c269cf2b45b9ee09cf626418c0b5ed23065321286b5057a72ee1746b7bef6232ceb1e15edb35a916e250dbf99ca7c9c88a1221f23345cb0e950f82d85d7a37f30ada07eb5c407f07f7b696ecd8e861a8bdea1d6d16e07c307ef3cd1259e14139b02ea07e1996a22c53f290c74105aacaf5e72f2a5d8c19edba89e4ce1afd57c5a6001e43a59152f82aa3b8baa5055bdb51f65c7cb1a6ef1dd2990202a0f395362eb84bcc3e08be607c5960377c4417aa7107a0248405d636bdbc3cd5b2243f7ab9ba96d89f692a10045b1844410dfb159817f6ccdd8d58a9f202dae7665eafd8d9cae1e05926e922d22af05b0cbdc81a089beaae060c2625540c2d1109d5e164410d7a47b883208babdc6f3f83f3ba7013be7aae159313784d94af00d00826e336c1c00de22bc4d93e1d81ac2e709607400ddc3f50d7ebd4eb72e3ca38bcf1f9a8c748ae93d01252d308d1265df3da3e7f0e8a59d5deabb2efd3972824a588094cf3ccf41007baea2e75ef8bb6b731fafeb28a3de5763c339a1f67def2310b9900a3afe622a63e66bfa76cc501a5647b40d11024e390e5429deda23987c397fc6122e7f9d190f984788d6023a764cbe4a801d592788c670c7e78ac8966887d45304129cabe73e9c4c1d13218155bc350c31a766037f142aec8cc1d6211b964b56d13ed7711525e60eb680547a859a68a70f03aa6a1d4dba59d986a8c637914f5c527e5bdb7baf3e0309a4d8f65d0879cbe49a884e01c4be43c4780be11747fb9bf94edd4d365941c7a3a585b4834f819859400cd742d7d08aea3d59fee4bc8dfb222c789b6f57075c6de10f85f229a7f00e35f220f38fd4d8bf2459430c289df14549933d514ee261b078c319d2b373e7c7c5ca48ae4f22c4316506bae81d9d7a868989a93eeed1aa59778a37f9109533a992d340e6f90fa4750e09aa6288973f430efbeef1087dd89e74d798db35b025f176f364980daae8624645cc4732c72bcba93d8858c43ef0810f1af803a4a6869757cc57548c59d1d44a8268ee7818fb39b202af3e5ace8c61b99d63b56c49cc75c177a762a66bb91effa63c91e5b82203390431939d2e2053a2a254a0cfef3c90831f3d9fa3de0f312a870d062d42f29c9e4b226f4bdc18e65303628150955fead91f50a2ac18846ecb8b9c99ae28fad127ccc8d5715e0989c5f8d35be7be8574934a72f421e56706a5df5fed887fb77b3b736b4aab067ec74e80aca1fcc5a40e257d285f10a0e4c7042e19bc6e1a6cf02a80da1be4b6d9ef86a78e9a1a7e8ffbf823d2eaf1c4c03245fb7e55e160bda6f3221c41b531dfd0500af3d467501ddcd5d02277dc1e3abf922529ea579cf4b6454a29912b821949371561768dfdb0535669905c682f169520772dc155cfdd45b9831ef0e3ed598e13ae983393545693154432abcd140c76953a72c101ea867e3a746a7f8b3d37c40c5cc8a3a708cd614c587de8086b2f7462fa50d00bc6a14d336bd0dc0c677d5e473fbfa0dfb1376cc68dee70319290abb27b08c5dd0444f8364dd6cce1c782965828e7e94d8bdfc1bed39d1043b119d4e62c404cd619c24eebf523e83627a34a45d40d10c7d4e3b20c1592cc0b0afdcba918f4d9fea4dbbeb65f9043db0f9c946c9a4eb671cb9de4a019d84d0d84b08a7bce5b416cc7b73bc5317b5847c50b2a4921e7a7be7c71aa5f0b2d784dc57edfa327a48442970b361b1a94d28316adafb4e15530466b98697a73b8d914699f94c8be02cd789f6b34145e7f1bc106e598d099cf817e8d83e78d03e6ce478adb2c05c017a1b6b1cc801bb2097004126f87cc4a4ab61eb7aad88a1cbc1ce5a0ad8a743ab7cbd9b377153e73e6ae17f266de2db0bd46311d4ba331c34e0cbc39821e8e77a91eeb7a496c08f4c79b28974f4740bbdb98b98bcc35b926f6b8782794d4c9689687080b24673aa7ab5142f1da611463bef5f3828b049a5877cba24b959650773ac1584b94cb08226568e932515eb8838a5812684135bdf51155feb9c3bec6b4478e68fa958adc6ea1b4c2be6c9449a5dd8c2fd3976f1bdf2c2ed75c1a134e33dcf43e869df68c1ce04f2230f0d2a52c58fa7eb6e70cb4d290da324e9967e889bd1cc6e37d21a03c14d170eac3e45ac0b811ed3e090279bb2667db3a057b1bba87c4c3cc385648a368b1a9173937933cf6f9ceea4a48d28dabde406df57799403c87ff0e92dea7122818ab17fcf149733e24552130b46de8f71967b042014d394f35feb378f22df26783c26fc9d585d244bcd53ea356225b7dc0effaba7b1ba10a520d467d6f2353390e6bdf554c90e65df8d077afce6218b56d1edbc2456db3447870e03cc31b38ddfe51a6c5fea514604cae1829183c24704dd690c9d79b89441cf5461e0d71c1b00211a1e734c1e810201d6690c939169eeeea547ba6cd2ed890027fe4168431560fb10eb2d0705450ebb81656dde2dfb0b06e89985b4d315ce760a8ae5e6e030bb813aadf872aefe4e799c281a5c0c5824ac5fe850aac6f6ea7c1baf42811b23973d27e132b06b70e3cf4d9097250982ac71edd5ef77a34b9a8d1d652bc4ccb6b240ee434a5840cea5d920d7a8e6f0094f27ccbdd144cf29124173e26d2187814554b3dea0ac7db8eb53a2ecf84769a26aca03d1700dbfb18dc9ee07ca418ac313724ae79905a50af62a0a1dc969d245e770d9b2c42d6a71398ed04513b5e300a2a362b5c105fd377bdd1f2452e039101ea6e9c9c632d78e8dcf07c22aeb5f97ba4d2ff3d0a216b7bba3b5970e556f98d016fe7a96c36774bcd5f58d6af5a053a91b152479ce31e939ee7885fafefcb877e30f1c4db74842c47089b4ab79ecaefb3a7f4b3159b9db9de6902a4f010b0a8246a16f76457a5cc16c62dd96c695d334263ee2f1d42027c1dd5ccfe16f84e198cf4fa2684a328ef44eefc1122018da2036760af060de6c06e60db1a0d058504e8914bb42e602e5c44a24485f8a6672a5ed8c0c4702a4ed0ba7bc4f65f16e05a076ca4e5bd5aef50aa5bb69b18de411583d1fec9088fe7bbdb7f6dd6b7ff4c6ba6a68b6c833423cf62e17d2ca2d5bb2792cd62cb0cdf25c241301c47eeb24457cb78a637dedc1006cb0fac460a397ff2bdd8163398fe8232a49561ed5a07efa890190b1175eb24b8f299a9a5e767ee674a8573476cbe3da36aa26afdf774c61b18fd24884d3663b3e31b42a0e836562e7bc10bf127f2a847e32f04efaee6bf4c03e2071880090d5b15c3a5119c65fb97fa2f42fa0cda8b76b2dc2721d844b7a35c916707cde1579138a014ccf62d813aa8ab6d0c1d8fdf71f9f25d38a222d6fc8934022d85ca45557a181d0e5eea53f04b1c4a6518978591ce3c9bef60ea47bfc80677772dfdd0d53721055c3aea978721463d4030d8f503e88cce8763d71408e2bd11a54bd09851206a15db2eac5d39d93e9391e4284a7fcfc8457b851f38be8cff3882edf29d94d05694206d9d405409f97bd8d7cdc607f6a25fb3b3cec4c576d76eddabe3545764572910c0d6ba590519190cbea0b8ebd0587801afe7e6c167a06808719cd3c769eb934f15beab68e8756d33a01001f89599e16ab80c6b6c83bd942af73cad141fb27def06dd9404fec5c422ed2139ebf955d07b887a4a8ccb2781c253b209df45e87fd6d6a8a920af365a5df933d62581d9e6ac019f573e636789d68247d96942d0a492c81873f8051c62a0331283545fdf5d7b93db7a3071a3f0e34583af7ddf6d6f12f4502ee269090711b98656939da9ffeeb7d169c62f26a1b1e3d1bcab7e291633d0f2e01d470584b61bd7f012a0a6f76d45da0ebb4a89246fd0f8546992e5ae734a66e656ba9d5564e788f9ad6ae5401512b54ea2368a1026f42607f6a7b8e54c478e1d4639e73b6d9da0a7b3dc864dd67f7cc887da001f9fe4275b38a67981ae45293f335b7534ac5a2b2d07a6b8e5f148810486d6352e8378e42464391ddbaf5056e960d0021d29ee4037c48de556b562e5f37e82f6ca8630b666b3fe82bc6ec4b93d2e4e95216fe003a86cdf52636498364c6b8609a27bce30b7d850d1175aae51c1028d6c3779e1d7f86834c918fb7938b24fd499c2e95b61286a69f127698c83c3a61bf37efa9213963f157db45ec70ecf873da5b21a6cbb2b1da141ea8f96d4c08f05f069f1947b7fb3809121dfd6953d44f50b6558488a50e4a80920e10ee09711b205891b6f200d3f58a41965c03302693bfdf615b8eab68a81459a40b8ac1c813cdbaae6db7e90c547d745e9e03efd30c260bd92f48f347960c02647a99629373e150399245b7792f920f3930cfa091d7f3836d3386244d70e450cfe1492f62f1292aa0f7b7368928e1c8bf5d4e9b7492f7de8e4e3ba9a3d2bbcd8048bdc3731b417102ade0daad647013f56a06fb7889ba9a0145eacb762f0ff5a33619fad8cfb38edb265fe329aef8f452d62d44511c325bfcde3311d79c6147d718d69f4813aad37eee6bba3238b5fd3e48526c0979a86d2ae7dc7e1d73448a5d5156717a6c91db929b0299a354e0c44a573406f5f31b7bc7bb2364e3d9bf1e99c865d6884ae02e0370534bf84900678634d4399e47bc8a32fba18497f6f1de59c6077fff6d97a13834a1fe63144ead85f432697a6933990bb924ba4c548564c321a7f082ceaaae26144a468620413f392cdda0c2abe7a8587ad5f5971cc10f8e76e46051015d0d28e460358c20dd4e5bbb4227c38717fc6c42fec7d8e8331f1f6a9deba31e699f73bc3ad36da67230fcf310eeb89b32442169438384e26b0ba247664d9738de3cfebe28e16bba600ec7ff1aaf3e442552d4b9fffd76e89af628384d6bea48351312961c7252c51c69f8e74caab8682cda6f1ea6557f3750e822ac3f489b06e0b8340d20d7fd8dfdb2468faef2fa4f10c36aab719ff4cfcae06edb2154d11846517feccdca4d0032898c7da59c42a950e0d28b94af78ff25e8b7a02ad2af26cbd7f7b8ca4f5131ccb5aa403bc6431e1b76b411e3d21c3b1b2a6bf3026c278f7a1af41b69159e7a2fa2165584045178bda2006026a4f356b1010bf5d22f24cfbef3af8bd07b42f7e57e5eb3d7bed77d9b8bf1997b0b10011c33fae1ae39babf890438abdef2f18969a1ca4c0c8fc5bfbf3d6ef69d1b0ccacbe21bf0fd195223c5ee94367b15f76737c84dd4daf998b8ab3e69eb1753cbb0ab7ff38ae5f5c42085a9f7042b07cc82b613bc9fd85a98b872dae88f42a5aad576d43f529105157cc1c314f120ec446e3638cc26040835233396f9e71ee598aa567a1f9c78b94573fa1cc48c10c6900c6f94bedcda7364050546630fbd3e710cb4dfafcadb31300ab412f0083d34e853348e8f836ff8ee6d317d4364d7506e388981e9afa27a6cb1532d442e09a5324512d0d56e65c19735cd1537f868f02563a44fee9e4623d301f72e475bf359d484f68ce779674c2ea5869cd655cf8e613bb46252c0901edd4d048159345e65107437164048e712b3b6dbe82d73c50771966e5d30327b532195c5118c814d555f02c62b4704c77bde5bb704d053be8caa6a9426a1a784fe15e043fc0fa627363124b4a2b521a55919223e3b5bb350e4a7807e3ced2a820fd4d3460babfc2b1fbd9a76f463f828156583c23cd073d855d49c7bbaa7d898d2c94f174f469f741cd773d9e1f2ad393f71aca10eabc6cd16cb8516299fcf0ffb7f3eff43c9368fda7f60617edb3c69bf91fb0f747835261216e15dfe4422785d405544790f20b6aa6312e282a9a9d929561eeec24d4f72970d51da40244f177eebae6b40deefa4732f97fc6e60ea56f6504b21d1ed8ed92cb1ad0a771bb3e8f9278501c2f79a1d331f37115b474e5f5095ef8094c0aca1e3333cc9bee3cc9932f5ada190d5d908c1607f6aab3b12c8f07666f18f85bc6563543e7cc9cc5de6b68acf042bd56903955884cd38748c3ae80f3ba76a6528f50e8700ec317226935c6a2ae886ef67d758e79f17ef49ddbd3bf879baac1205dfbaeaf67eb9194a778720c9af085674c7b19d212773c0cd6edfc70c03d8f8eea1a9e991a8addec315b64b3877b88adc551651e4ac677b852ff97952cef4273bae68aff8fe16beb8d062579c00a1c77ff80bab99e25dab6aa615e9245bed0afaecb73835e807bb8474946069ff5ae305595d8827f30a83b10fb634066cf29538bcd8c2955df2208c686223bc9384c1afdc8678a977c1d47d16f05fe608a169c10a87dfe1e53bf8af73cc8555825117198f2afc7904c22d21a85e2761d886897332a68b161425d854ba4a653ebee7946194efe1c8ed46280118af6d3fcfac3ef874d2c9f20609c9195d526e4714d0767f265a9759b1f2a9d92f188c47f1a29f8136323f3ab128667369398526aab52342ede20346e5bef1c21fa6d4d4f8f474510aaac82ec60cef2e0d18792c7cd6cd6b35c04c55dc13261a610133c2291c2463386efb7367d0e24181040d5ad5f1f87c7db794f70c37914b76736b21c8fccc10c90f2d93432a036fe04a3422e16da06d85152a206040ee54a0405c9832ca371a276daecb1e22e7ed053eeda2270ea1fb9ee21e6fcbfcb8213913f3b3702b4a493cd2d71bc3ab201bea3160a07f906f926c6e5bbdf8ae232e298016448a78f70d410fff56a8dd5497b9d240a46bc9297ff8166ea41e3012026e5516752bdb330aa4ec42f7cf26121f3ad368e96fc1125ab4ff4e55c7ad374f14e0815dfe425ac3b8f63666123846828ef0eb65bd651fcbcd9f7016b4c951d40e80239d67bb135aadee0fb1239d5f33822c2dc2bfc82e65e3d60e478c09d79e4d5d726c710dd66f7b3e3879cce7701b1e1c5b6e96d6df89b25168b426f60730ae2c998bda0a0a89f81433e3af7183b0c71f9590a1e0e1f4612b0c6e7adde876f82deaaf7d08c59f3d54830433e888a8a27e5848b2013cecf0f738badf209f35f8583e65a63575375625bcaf1d4e178c1585a8bdbf849e2c594beb95e7f04eec8130e27376d86cca01d029197ad1db0a7c113347d6f6edd175be57cbb1010c8dd95636ceb34c2c258b3c801b4820d10655fd76765df16eb7dc96e5a3af8b6053f3b9ac62de9db1e151d3a9c7b3901276bfc4b4bd446910cbc27a64b2e76d1f096b569a7baff6f1e263c8f9bf888712dc6cf7debe4db95e08bf995ea7c52b37234e5db4be7c23411a0539511bf8d50e3b4a1a3b6f701e3ee658472ea2600123670f32f43b9d9c4cfb64219580d2966db34796bc80d12f5eeb2b94f846bef6bff543bbfc44594a0eb5a5015379aa22ee6835cd4b05b5802d7283815783eea3fbadcd2a83e275659faab527e94713a6d0d2f23bef025948f7a0c868ef7f1e0dbf8577b00c6f01d6e5f648393603b7d7917ab671afdd265db6996ed01b5b5d350b7c3aa9a89c4436539832439d3bd6d734569d6a99674d18d070e637a11cd947c64361bea62010ef877f5b52b8c08e42fd5c86094e1a2d37d4d083986e784cdda900637ad186d7cf61651913f849820185d8b6db4900f6d0dc931b364fe0585b3b544bbf44375721920901e90eb5896d2bf333b6294d8a175f94b56e7fcdce255f6b1418a91db896981b2418a644ed949aa32ed53aa258d89aac1804232a4f97a10f9b1f644bdb90376e67420fb3235026233392bd71e1300d239b46585abac34d849d56afb65f52fde67f3e50b7ab4de4ec54384322812faf5075192601e5890f55cfa47db4ce61c9d0d4058996c66f2a1ac2a7df87ddcc0a0db29f44f72b2092199dbdb2d73300bb155db2633745fdb54db7045e6476173c0d565ab16f2151f3efcdaf27d5d5fe859f67eb474e8490925953b1e5c0169c454269fc45b54859e9d761b693cc88e3e36ed4da9c7fa20f4cc422db9ea21e2aac856b2adf177767b87f5b5f7f71fdb00fb55f911e0d179ee1dae03e35a2c60cbfa1d5c4b84851e6b5c131dc66e5aa1d8b03798b2a62a1151f4e31cacf4d59ff96c42c596a530b85b6ac81379a8befea85d180465e212cda3260aad901d9a38bb6108f05210aa0991e17d8542e0516bac0e17d1ac8cf8248b2fd11a8de8b678f32b03a6e1e63bac4ee35d678151f0e805ebdf979e2ae6afd72d08fb28484115a901cd79f2031516545a2843262abb46d6fb6eadd55de20a6e3c49a970a1b04bb4f7bc1d60291057157124862d3195ad33be569026ba10ae243fe029c1fcef84d3248384f1beebd2016145d67a91a29bbd87ea32eddddeb317774ffa37a84da292e4c37dbaa9041349288f320c0ab1851feec14a7695f585ba2f8864861bcbbcc6c4354fb3edb2352c49f81e22889fb491f47e2a60794dc37916c4db112d67c1c2a5f48dea087b0b20df6c157c543e5d474f379ca741dff4d15ba54d9cd8c2a7e8a736e9cfd91d067573f7fbaf8df57f10695db244c51cbf14fbd2ee5a07fccbe598a63354916192f9e96bc2dda18681c7b0df0c3f65e1c10450cc6873c592517e7cbfdd669717ec35ff406d0e3cec7f5e2f4522f41676540a07a3739509d9e0e5be22051a11fe514d40a367521df22f4125d5736302b1f7ee191fdc2f61b2b38eea29f8a046f9cf2d1e105ebb792eb50d303cd2caeb0b1cee6c1703bee8aea8b14248ae1af3fc2e3ad30a9e225b81edf0775392514094493628d0f6e86e5785981ad80505545cf746ad40d5654745c9e6cdba3e9454ddbd82c0486e84536b62b474ad92213849c8c6a14c2cdbd5757f4b4eec515e4d6e1aa606a68560fcb1ce893649ae1712e63c7a6f835c31da793e0594f9c04c6439a2d7c019dfd40c6428c20938727865ae653cce3e3321d5d7241b30ff45c113081383defd3302f61f5496d0bf6f80ce4467ebc9aabe572c8a64ff8e87d6d51d5f48b837afa7b5a8929da535f3e1817366de404cf1b8785cea7e5c2c8b5d1c554e2d00cdbd44669dac808e0fe8112231d87942571f10a3f0f70d397740e04cfefa2801a64d99fc5b74a8a43403a21883bdb2ce92990df49ce4ff806dfe8290d532eb52fc5fe9a51d0c85688a31549ef5a98bf75104ff762a07ad10df0cf18072d5940e6495069a9e01432917b6ee846455f22b375febc197bc178536c185c0c464deb4f47742e8cf2beb116699afcdf2b9de95b804553e8d21d1d0056ce9760bbe00c7c1cdd8b62f5030979ef8e303ebac77fc82af17a555af95d81e42fafd5c3ac83a537a02a049cd6e7e58d341b532b37911cf931ce7735b31f9841c78c31e311db49ddf46092df2f064a9947d011dcc753e855b57485ad24889b1d43599f89fb3075617c4190620e4ee8f099d3016a122cf2709b473c30fa30ec304bab79ff3d2c88662804710aea0aaa0f5fc275022e2d8bfbc9524e1ae1d547e00939061c0c5765b330c5c3deb98e9b83a51256137d9e3f0759e2a8f8bdec930de20ec45f518a40505973e944b65301c7ee920b8c48dc64e082309f56a9831ff704aca4e76afbe57e37f62f1331b5fe82a125e14feaeb60a01f5e50d3fba61cad67e3d38506057f817c5064f70cb922add1ee24ea05fc4fcabbe052f61b471d5740286c467930fb58b282690c81f1b5db9eb8ce729872556237108b8cc43281a786029ba5e27192b91221e4b652fdb96ee3b0963d90439874f8d05d125472e30132ac58be11e11633776aeac31d5903143a86b5a77548a2c5cc885fd1ef0d1e025ea5d3877c38f5684c45c26a1f44c4091e3611bf8a229504cac2356a9c8d597d24c9c9a26250ba5ba84ab6e613e0ce8f3d753c78ac4fc073808d632beb60d711695356e50639c805a508ae768f0baa01c1fecabcb0a3b3d533bb73f85b0a9b023d35efe864e66e107b19befaffe6e3fa718055cf2d4c4ac7f7d9b9710087765a4c0136508399c07accc381663c805a28ba9f90c8434eda24ca2079a4ee892d21655080954c1da4cba6dca2812732735d78e953bb56dc26660d8c568619b5a615a89f92641fbacf4adc5cb32872a47ad5de5f313c9a25719649a13966804684b6e68eb1239b53eac45f9b88d69cc94817248d5aa9076f5326ec3a5c0df7b241deadcdcfde8b660b6dd74ec986038f2e33c95915dd9a61df47d2ce694a53e25eb3c036378f1dd07231ce3f38bcf20eb6c0926bc34fc6745ff9b138b2e92cae9aeb54ecdf98018191bf49059997a60e9476b6b8596f6ff35c5bfe9a0c80bf696f1ce4c052fe4433a6966016276853d7fe31036d7728bb163a8fc5be121fe7270543b7cc7d7d2405f618038480e0154d4d9b8546b66f0de9fa4f25b9cf4a21a964052f4a4f6a9d0ded69fb83efba66eedf8430b5cf4b553c32865482592148d2086ce47dde5cd091d0dc47afba30d885d41fb35be1374b25bf7ceade16849a5f287127e139165ea23f780c09815cf85066dfb434243626e18eae088fef0f564c46ef39837a35c771a23d0f9261320c2efcb2f9ae63ffd0fbe8a2c1a941e976bb77148e54a441f527235dc16c391fe26d88e9e6f6fe5ba7ad304bf9e203b5aaf065872b669f9a2ad3746fa660a4d438683794fe21216abb7ed09d2131bf04b0fdc98634a5c0524030d67418a4d35422bb1e6f5f2eb053ee90de8a8229ca0e4b9e27c6d188c30826ccae39ff405708cb9cb676cde1ad77bf71de5815703c3a10c758063c357dc81346e506d151a6bf661b2a65af5921df65ebb6974004f92fce870948a0ab4d732c49644dbfaad11ea9b5f3511b62206bf57b64bde85c3ec804cbb9d12f9cb0ff507e8aa24723c1656cf4fa8bbc15f18ef70936f7a0f6655db5587c417ae9c45f99d5eac7a570c7bbb9e28f58d12ed9c1e82595a6f9b22d335d51e7e0bb0f759a97b2047508cd02a8311c3c815bac86f94c8bc5e8b01fd8ea2ed92c23a4bfc9390b6f515fc3ac78b4b92b88da099fcd15e1f20412a0fbac2850029878b5d8d71af4c8393aaff700be2e524b7accff049407f1dc31a12881393c4fbabb320b3738271f5bf40352b561ee19cdfb8736d2b3bdef773e8480be9a7f21cb761656082c91fa00fff89d6ef68b63142a706172a2267ae24c763163128aa62c7d24678297d973794d9799f3748f8c2f071d658c596b4bdd4b89538d95111a70cb0833b751eacfcb92e4d6aeabffbb654f8683a464a2e75620fc0b78621afae1faea9164f45e9311765174d0ac047674d35ea21a58b2d82a139e1bec1ea43752754a19d42201ac0ce77c344fd465c930933c4663ded5ea54004bac4a00287818f48f23b4b70842bb45a939179c378f6647971ba6780351a10a2047de51e23e4e3d4b4689aad5fbe3e4587f3c06134eb43a2651aaf2029b5ba7a3c29a452730dc88e07247ed4896507f9b48aac2434942f8a824c41d75bfbc5112b9d0e86ff70dc90f0e0606ad7861c87ebe8f0d0e197a3e726776a0841fb463321b0ca6a109e0eb2393c8dbf6789ae010e51632c3b76692440bb4b687933db77d7fdbd893c6e1c136669c53bf54b699b61289746b69df2c5642717975ec0786038d605d5fd8bdeb797043bf27b70c75ddd29e1a515dbbed70fc0df104e45a0b0a954d2371f8b9f97e85ab38590c56fe7a5911e70aa9e9863b0910253ab5d1ebfa2290aa04e238ea9ab8b346390b82e5ee152e19872a745f56699631867530f23fdba06709ebd7bcf0637d65cd6ff3881c97b2f57dfcea2dbfa580620f5561a46d9c402f53e842cb56f1b695f2c940f2dc7975d66c64dcc9e31c432c2d1819e7a228fef212a3b1e9c68dd5f86399cf0a4c22fa537e93fbb5291fd404f629ec9940d1c4b7f287cd2ca119237114f7d09bc8d2b898a0369d4f741b52a182a79f55e8322ae39b867a4e33453430c89c2c24f2a9d38edf39a61ad3578c82266024c48d6410b4d9161d0a156c546ef053f759d853e0ecfc78059a20f41d87bdeaf44dd460aa83e448372e5adc093da41fac3a67ae61f0013cbccf41ecef8d2f6d0c4a518bd70260b00c07dcdf20362fac36f3b5c8fd2a1d2ee9fc654d56d628d7305f8ea37fe69dc4b434305966e5446fb37d1c68fe6e710ff94edd22e8bb218619067c164095ed104692030dc1ffdd7e46b0552db2d10652006db1bb9fcf75004a718e89963169ffbf21a9776287d9f4c61869202f64c70f7d23214e5feb2b08b3b9415535b453e5fefddab3ea07768d46a9d800334a775cb13d1105c66242779857a29a207a4940b8cda05ef8b9887959751e43d7a093590854f1822daeaffd032e9b312e6c4d0ab0662224b23d6137e6b9a0320d4aea1f67b39894a0d2556bf177d08a47acb5d4bd6b3a82b78fb4284c0aab16a902cfbfede9a51cfaa37f69ab5df3bd1f5d687054dbaaf35cad06474371e4ded1d3b35b4f5c54adf6f8f06b9a4fce4a368673f5e1afbf65ecad851a85cbc33e3e28ebe13d3f8199243b32cbbc3c7829c808a3540709f94c4deb31418e0ab326dd3fe19e522b10095d8e4013f9220f87fe6cc0b340ac2727162c5c4ebba65f9ffe9d4f108ae6e3c7a8dd524541639af81c04ba40c6d9d46af9c866ea511494628528dd38c8afdd6bbc10ba609ba78fb869d54fe0d95646db5a7b8a25e28224b536a4b5ba9e6312427c6e63dd28f31eb9b4cfc38ef67d2a1a619e4f20df2620cb46854a89d9a9910c24f9bf4a8b606f924a9cfeffaa68943fbde7c7b74c2fc83eb0ac49ae45e6f223778742ce81a6b96065eae008b92dc0c67a9d82d6ca68909f9714ebb5e473e34d3b0699466e799c919c8c3ff62a782f06a01cc43015b3e3a74f91507d6bee672c8094c07a290c56edbdbf1d93bb5aa2db2e9601d31509613ea63fdca7eb7b6065638dfac4e41445b3859dd25d9a794788f116d5207ef1eef5aa3a3d11f677b570f498c599b7c63c06cc801788365a7b8f1dc2fdd7921c5dd2bf93dafb5beb38032ed99af75c2c38ca40c5ab8fc9eb5025d235541c8e49c666a9ef87352cfda38f58527f58f518ffad23cc3f1e66e9411d691ddd5b99f97f66ae9f3d9e87612e03a776b71e9186568f8d3870781cbb1298e8fb1cf7f27f33bf4ed9e7942c6c1d091b0b2ad5ccc362328ffd06d14dc81a182b6d0da1faa126a95fa2d75b88957261298f80fb8b785534e26d52ce03f2c1dc07f232ecaf68207e5f6cfad71739d277677b1d3eb7886c00c3ad36fadd8cb8ec28076d43d61ac40a722f94177874ac01cd39182307d1843901b977bb838151a821522543c7ea2db98a298d7a4cfc92001bad128b7ddde8415baa1b32f4126eeaa8719d8a69ab7f710fc388ff4c527339d4e056f179d37b7cedb48e5db6fb1883b3ded5822a7e17124ca535a880574fb77dc8807679e555a7ed99cf42b21cf668aa3a71b8c50268cb5c8a97eaa004487396bea1d447d7319d01dca1668cb8f8aacd13b12ef70db1be568a2ad885fe528869e265641a8b1859a07be1de0448436652f37976231fd38847473e26ea1237fd8f142fd390acbe904134dfe859e6a687975592de4a031a2c0e853f1ecdb11b31af43d6490de03eb31752d5584cf28f779ab34ce6267d19e9fa1d2527c52b6a6db4c2c052484740d196c47508caf6c9916491d408f1ff940558e83786edcff889e66b806f72e246a1019f18c742276792fc2da23123a6f54426c16b9db01e97a355461110c5dee7b07f63cbf68f8995631e5f4f0377d6328afbd16015cc69e01a313a307c8c5c906d8e6e4243dcfadf7ec4922a90a63003965385e7e6a9ab86c23432c54855e825fe8fedf0d4f46f094e078036820257af614a7176b60acd01fe1ba47020591398c6897cb8140e91cb8204306db8084408444122436754a984a52d137210e47dbd131a61c9052f1b9955be7603b34775a60f77b1208c93b145431208f0f61426fc46e1c3e1a7c7785767cd731997438fa36053196e9369ae5b1cd1a8644c2c66979405abde07a49c045c9c7d30bc5f4215612b193830ede5ccc1173614038cbf60996f07cdb60c9bcd96203ccd486a5a1bfca220471f6ff6b06f651348cbfc8d9e23437a085df63cc27a7c8ad0f38683e21ab3d2c6b1dc83389faf1e93ee5d365ee91ce4ec561e1ad28cd10105fa24e8ed93b5d3c599186bb627ccb401afdf688942bdd1be467ad86bbfdf4f758ef10206e8cd255e3d303f0fb1d0491b3b315ff49dbd09d195b77b10d502f2271af26f9dc9f6ac68bad073a9ad880e3187c1442a803749beb37c083934e554ec2e99e5b811e9b3616bfed9b5be1652d64e740dfd603610d20dca930c95d71190290837c3d","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
