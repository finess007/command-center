<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fe223fad396cd15903887c0498a51d4274fdf60144201e01d7739fb4688878cdc2e282f956462ba6c3bcc060ac9c107f821861c2b26b3709e9721eef4998968edb5579565e1f829d2eea8b5f443794e2e0b05fa388deb6530f16140ebf9bc9128127219c0e5e56ade264c9c9807042b07d76d78955344dc028237ccc6e363169e3a778eb82dd27cb86e799611a3caea1ff77602bbac792b20d2bdeee0827a3bb2ce9886817293c61e6c1de9fed1e9f60cbd722484759c64cc95f270212e000cdfe3745708ef73425bbd8aaa501e1c4524ecfc4f180f326ccb483964561084347c8926f0f24c6470e39981ef48fdb39c0a5fe69db8740b09de0b06e941cb6cfe11c58f244193fb2a430ddb4cb05af611fa0f337d27c5556722127856a39eef530a5b8e28e521d28f439670b3497ca43a8e8b525b94724cf9225af88ecddb7e9f667b4b1b965725eaf2d8b713868e6c918d53dbdc861ca97ad8a6167fcca20f8fea0fdf1e2f396163755dbb3fd8ac26d0fa069abdc58f86278346e47ba8f2778b5cce7bd740050933d730714567e13767856124ab57d161258560d119f074ee62c9909e06cb78f3b48b62cccdee6efa97c368d7458c80769fc5a2cc1ae5556f04a5409809b46640f2ddd66382358fe0e2b913bd26fdb6a1e1c9e26da725c1c7c9950daf7182f0311ad0a14dd7f9f7602849aa902bc1c0ceafcdc1a9c3d25e8d571d41f16965c0166be6a7e8bbb53ada75152f3fbdaf798062b844cd68c0c327519bde94a99fce3fba62ff2354ee39cd478d5f15255547183d12d972a705bede0c59a8c3c412f275b27b8d6a392cf67fd6c8b3ea772a9b571667287bd781443e27bb485b9c1e319be59f079580f545bc924048aa9b2dd49212bb38b3bf914b0ea7e58306e217e28baa0fdb9c9267f492b44fa28aca2b7c357174d82be5946437baa2a2850cb60de05e45e6058cb73f9bb4fd71aaa9c4129e3ebc3eaf98e5698132b857e97763aad58379fd196dac732b476bb7370831ced83fa2746f310c23bbf89b24f472d7326f284d2fa5b374622925ef5c1c7cd78bec91ba9017581868aee27301675638c70aa43193121b7f11b48a97a2354defe429339a7de18868ccee634866b87322cda86c7093b0a9dc5b705d79c35242b89517900a81cfcdd3fbc2eaf66f4e655af0da5a1d528ecb151753694efb909d2cc8c97e1ee565fbd6e4a1792c0026ec191eafdb19bac09e1c52d1d9dfdf3c8c36e75b8debd43e7677ed867cfb6ce430056e785044b88fa323b93a7c926c40fa9c5fa47e2152ce5517247c2b844356e15f2954e3955bbf068ce8cb9dfe91d7836d52b01b52b074c5fe590f8385fdb78f9fc90d502f7968d6dcda68b835b17b1e5a075b8a817c9f02b8bd0aa76ea72a122ab3d015a4d781a70aa2cb7042a297d15c31c25073b87a485a7a4dd988ad6baa4b32b9a69c6e0a35dcaacea6956d425832b746bf587c0482ceccb10b92b6288302f82a513d68e0e553aa6a84f31e94d8413c2919ff51e0792219a3f9d23fd37ffadbdee046fd5c4ae66c38d4321bb7409bd42db2ff4c33e9a4361cb660bc7117e7af6fdcd39240a0b82b57c88bfaa8be1b2bf5a36b791a3fa54e7ee0bb8db2678732f9594194dad0424f1cfb3fe72eb999ccedd8be410b3eacfb13cb8819a68fdc45e8cd11ea99cd51f440ab70bc186a4688f0dba601eea85ff1fab4d47c877693e37b176af4b8850c7059d0866a5284067513c46d00a3f3b5614fd9f5bc6c39c50100be1ace7cf0b44b4b2489dd5941bbdc83dad62d8e5fbfa0eda91918bb774d19bf23f8d9c2cc980c507cbedbc232975885f290a69e312b125368f87b7defbddfafb7b463b45e11a7784004dcd168fa8733bfb51b5926cbedf18afbe324a130e969aa585eb9e3eff7226d13300cf9630e8b8c40f6fc477de4036d6c11589447e91c3de1f1fbc8d341a15537cdbc593698848ef31c3fa620d376d75921b515fb4f34d0bd1bfe0984dd680f42734c2e9ab73c524b2c20af11b9e2fad53351af03d73ca7f2ff9d2e2cf6239e83852c70a4610b4320fa47088dfad0089f639b48f6375095d93a088be4625b6fc88f583ccaae1a27e25db77932c0764356749805f4ea879680c3d0525a199e5c19181ea24639620ae9c54b5ed8b2750e6fe5480a8fb111db561f1fef00b0128a5cc59e47d4fbe8235ed414c6b41b0e44612b4e3d1e8b2ab349ce6110d1d264fbabab46988db8a7f19308895e87dd911098df973060ab26622f617e197f2c7920c11bc70f0487514f9fdca0ce1fb2dc7d0ad998fc059933e91a6291a0c1c0d5ad8eb7fd16c28d46ffd23c71ef5254bb52ed8b33deed0a099523dadd7fafff360273a974f07c5b3b5fc54e44f34061e7f702b679ffe83c0f351e5bcb4e8c98034797bfe190a49d452e5221eac31ce35f5b531fef5d786c5611c563c8c2a3ff2404ecb8271bed69c9ffcda64a92dccaa388906228824d48071f442e5e05c3da25af1007f560c372716e266a5802034a7a08409df2cb4ad8d1439f72609a19682b30ada469545deb8e8bc5e2ac577b9565701e4b131512a9bea26520fb805a6fd44234606114f4267106dca8ca8b454f8462ad39ed28068a89d05cf446e9d39f5fe054786975a1e19bda9c1e5e3c03eaa0dc12e6915a6b31792083098534fa12d69ac648fd19859e1f0039af12e701dff8f3fe0c05444ec9f6dea6cbad3cd812119be069b47edc8dd786fb5a1e1d0dc1d35e4c810b75be7bbf2b5bb3c2fc56ad4225154ea5b3d9ca6eaa627a88fed5f15841f6172fa21b127e4b635f899d3d7992de2b8b497cb1fc2b6d3160cea584d185ff49b3b5645975c9f5b0686f770549241dea939962792c5db9497a84f448410fca331a8fabfd09fb2f299e58a918a80c5785534d2dd273d7ad0f6800ad120932e434c1456ccc31c939676aedf7cfef034eb3ee3a5210e453fe10b5b3add242921d6f452f5c350280c937cacaad1a01bbdb9616a7a2bb1bf9fc7b048743713c8609d5a72635481a95c078d8ba24b757f2391589525de5c3a8f66ac49ed2b53067e5c2c986078fe8f320a9f592ea6cd3694a580eba5f6b23113b1b03bca4a3afbb10aaa8f63b82dcc0da3744e58ac7c40e9b696f8e77854b2ca0297c690a72cce4a369d5bd2bf471f82d60d03d375337e476db20926823b9926e96b42f4967a97c46bf6efd7b2206bf9d33d5530a00da001ab573b0751369a033adde464bea0dbb2457fcf025696ec2b254948162b5a59fea6c5c6190beac4723a66ad14a40fb9d8a0c6e7251534a9eebfdd43fae3e33fa9694c7b3860d8c8c933fedd733ad4d48510738144cb3d0d8ef7188b50a7b650959ef0c0795c19317eddd3c950bded4b9c54b47b6f21bbb2fba2edd8f4cc06149906e554041877342e07b0da34034a20ff816643bcfc72017fd24a45883039806f2ef0be8ed5b4321d71beb1b1713c5187a9419c2add79c6315c0aef54ad36e4ec7ad5263d00a88ded74b0f942107522473540b77aab565d856f5214c0e855b8b2d71f4bde68ebc1ace42d20f7f8da5a201250d85118923adbe2356f716fc410c51a8119ef3123a1ed7ede0ce2fd86bdd3062b8e7e5ab347dc9c0ecf87f0662c8edf7385fa6a8fe1da07cd368932926c12f13fbb0d9dd27f06a9937d1e189f4f628081953a639102f4d0e19a8e41cdcfde556b3be4644beb2dc1bcf15ad638a50057d5b8426b0accdf74e167a4c35baed507f15bbe23aac33d70f5763d58ac5e81f3992af28817c29a4cd496fa8472621c52043c9285b6f64c07c70661ec837e7026bb1e64505664325894ddd227a9fe055c46ecc71b740755467f978902f3b144acd7b46f94016f5379eba5d249254a8594f36763b835a37973dedb60466a9ab5ae988879b82aa62a031b34f72e1ad9c500b04ff6a30fed339bc1737baab161fbab1bbcd1d7118a20aee8502f30c06f64ddc909669a37cad45bf81b9ec5b4cc3d2e01a657ff674e746198750b2f8b53ffb5732a07645ad299228f5b2ded55706b9964fe59b6e637e3e1791b6eb5b84e4edc0841ff2a104ce91c1c0d27d048debbab075978fb3a4fde058ea0edeecd7aefd789d8a72beb783a662acfda8933b7ba00b5d4d4b53eb7a3dc2e374fa71a37644049f35407ba579c866f10442fd9306ecea8c502f9ea276b24dc4c4dbc4f579bb33c51f543aad42a04347cf93ac40381c0980a4b10d4f015ff5ca60b98839d3f653fd47888131c5aa048d78f73b0d4e005e08f751dd773cc086da37ec6b5b5e3a292537863c3b60b05e75346a8feeff904e4223debbfb0e1969cbc0bb0b6c54ebdb53ec0f07d026e1a445157868b8d7e20150f4c24dc39512c43423ad6ed5b84ac07afa3ea586d33b2ea9a9309ec777b551c763ba67ed2515600fbabe36abd8e2019811e8672cebbb34e73697d51f291c17fc9a496b749101bcc4e0e63b86e7bd1d4e903d8e60cb25f513c4b1142d73b3b26d884b0c55864fb464ef604f69da88d6ad40597564795d76bc30cecfd0805c47b2d04aeb0388918becc973684ec2fb0f151488a6cb0376ecde721cc7cf733074027816a63159de64043a728b0a77e49cc5851cef2175e6891d1d5d16cc3f781dbbb17c279781fdca9f443865e23379c353b65945bd808ed97f5ed01e098cf84fc1f24d6aa1d17c0f4ae2d00506d57528da5f8a9f3e9f3c5b243f330e991af62a2ad29e7acc7d0e755f4a6ca68f099b74ab463f548cfbce36a77b275500ac510c6b7bc7b2ea5cd9e704c584c03e8efbfa169addfaf0d70fd7b362508348c008e267ea5e84a17dcca2d64613b7a9d7f1fa220688fb421defea5e413ac6cd6f698fca127e9283504b72ca435f462db4b17687a73802286d705d2e9d07ead7657d41f3c6e5aa2685252489b00aa1dfa1c0f8be61df16138a00964447f91764aec4f3e78af5d4d528783f891e2d7252c2702e0a2788950f2cff6b5bdf12998d09066e1310ce359c6890bbfe4503141905a35fdd19daa28efc5acf37d29c1e6cf6faa4d955c2c0ad92c2135294e86eb9adc3f20e6f0191f644e98584e98623a440f4efa5c69a9aecf8ae78c0cc00272757a0ee9fa6c189ae163bf413a6f95d19aa5e445620c3588e8d31f7b0ec4da027d8750b405f4dbad56b35734773c02ce002f0ee5b9bd83a044c090628ac0fd6c8e569b2dc8bdcb308f6d70a8d1c8e5a1169dcfee0c3a57e6d7e1c167541808e5e7e7d4fbefe57ba2947ad1652fcded0390033f728f817864147b6a9b333f6a23aec451dc40fc39defb55e45625c81f7220664166a7b5f5df4238a14aad24c322c2576e98bafa12cd90772b4c3abb542a61ab08ebc8afc3304392bc71c5a7da547faf8797af3b187ac46145d33aafd476d02b11268070465ee3c422a5ef2abcb954ec863b96dff6da4b44be9fc469fe2b17143457d5bc5c7d46b6f6c7a823baf0a1b8401af8bb7b051836a83195ae80cf3d59c285f269712afce08293d3fa55d2464695ebe44de0fee5ba6a13b0dae1b5a0121852aa7ff92ad7ee06869acbd3723b78e62a2c03fde2e188fcfb03434e905e02a3240d1335a902b0ac8a7cee55c9c054b31e520617c575a953eae6b44918142fa637988e6cede26b10b29c31c7fd80102f61392b25e8935839ced5d0f4c918ce2852987dc7015f82a331b3397a7e7a21bed90f2f3bb7190996c5d3cc6020ec1ca1397c783fc3e0c0f972bfff73871af5422daf51a75da87eef7e2e4c06f82f27e577a7131e99d65a81e5157cddbbffd950320c07a012a02de27f5b8d0908a49f594cccee8c0696ccfeae470cf12dbb382f20515a41db97e967eca60a49a253756350805c0512ae2144bf1f94232701c2db4e80b62a648356ddca190062ce6fdecac174f5ad2018c4f8c4a84279c76f1dd987555597b831e7eaff313541caecbca013f7622b0901270f847c7fa0ea5f82edfd38f7d78152a4b9ffc2f187dd339a18b8cad4d433b4299c308260f63add98bc8449ae150bdc2905c75ade225829da833c32379e30bd3aa01a29d35a1235d49159a16cdbe58cd50499c3ed1a0103e287b24263f1a86e9926c7f639699c306406ad08c39880b4d95bf142c327d64a8d45778ba801e861f509ae61db8b2119897031b7be1fcfc69a63f6427ba8684c21a3e9a4776881c789426b88788be15755b70d126b9cacf5fc50336563a3e7cbd113823909b941d11d45f8617a903c9bdb426bb3be8bfaba8b280690e0ab45a109822ebd509573d17e7dcf5fbd86d3199ecb8c24f6f29989b2366ac64777b82dffec5beac6a7ee01edd8753b532742cc364c8caec41625e7b1e3ac192d17bfdef30b07e1876cf8e8769cc7d49edde4dcb13e1647efb1a1e7f31ee723e0e30d47cd9030a308be0faac56ebdc0fc6afc5447ec792bc6c69079c6163015c24d7d1f3bf7e464d01e61dfd144ea828c711638c7c6a51d19e572c6b0d559fcaae4c578cced17be985a36ce676e8c286bf637ce576a2426ec9d9ce4b3a93cd6cade7c2569e812351719f986fd9469ded0bc8ae37635fd3ad904425e529864d3f6373dd354189b9d533a8e704de663460ea51906a5cd34fdf34071b381fbdc6fd9973076afdb6d7bc02dfaa38c34475c9332e10abf06b311b6d08e27c3ff7124ea026945ab145fbd2e8ddf6bcf42e8af4761e050c1b21bb72ea69f709d26cb3b9bb9bf7fcfe23dd388e4cda08d384cd30ac4e25d893d60f59cbeb670711083412b8359b02bb6465a7978712146b08cffc830fd6195cdc6ab7fcee9cd3254ea41076d44dc25e64400b6c4bd32aa04db28bee842a59e8d15dd4ae780ba62cdc37f3695d6e739530bae94510bdbace6573207128394484c05d384d874ed0602ceb887c85e3ed9857078cdd2c420243514fe060c1ef6e0afecab64f529e5f8491484014ad1fac97ba0b76ec8b1ee3345a3f18bb97f9a4277b3d57f5c66d39a31884df3be08af285e2cec2da6d73f22f46134f4852f566136534a9623e12887418a9dda8b09f3151c22a199d55adde3583baed37c8c762f7ac8b50ab658423846d29566af09b3990675fa9e9310f4c4761fb8a87cd335e8dbccbcf7bf5499590427316a294c60465a8a3d4ff4e71029a2d45ac12f40a1052ad9ff135c506e9c012e06437d9774628cd92ed78e63e669446c0d634a5fd8bc75f372c7f86d493608e1d65b498f7799ee9f0aec4fcca759693bcf8c2e41a03926f0321c94659cca4a7ad71d27d1e3a2f8f0f145ae6bc78d09772bb22a6cf4fa95978e185f14c7a97e7d7b96c89018706cbef69376cabbd3824f0132ea94349909dcac4d8bd4ef2419aafb90e849f57d2492e1ac489c1ec80cb715652bf13fd6b222a488f39e1066a4c3351e5e77fd61d03bf8ba220d8c0606e7029acc27ad1e62f4b59e311779055fcf46818c3239adda7377f1b8d8431f4a9892e9ff4e8de93a956b9cf807f0bb0994d1a41ebfb46395229f4506ef1a775996d775782b38e96b2a925d57224bbefd814f0d0fed0fbb1180fe878181f142548a489b4b44c04a0729b7aab905856209ff5d0a42fa24eb64e7481449d1c9d9525778893211d7596faca97b257bb03e2031b2297b9d0abca7a2ffb41399671c016e94d5f148ebcc3e3dcad02c47d675df874ef25fe2a0937f6c6f1a147ab92733a0844736fc5b9b946ec1d8b885b2216ebab625c4f97ee58df2ea5d928c0732832caea8605dca5a8550a8e6cee3a22fd7452f9e9068a48628c2f93a7d52a1443c34cae98f509e4908d664598921415aef126bd73629076d21d9d18590db402ea15be73f811fb8d872536adeb4046f20aacdf6f1d25dbb46564e587e69fb6628eb256994e5e23bfe5b0e5eae556410d449d8d62986ab00057aaa07d0b333d2d208b0cc31bdca02b2c137bc2de7d8a8106f870f241e24f1cd1ba175122d33c434c33561dbf85da02c98b30005996fd08539cf2f322e3f014a3085dabd5c3e55311eeb335ccce21a49b5e2418e9d161453d97d8fc26240c681a49acbe9ecff82db634167c5b771b6004b12a9ff9a8552a6a62d2f756f1f1ef5c39f349bdbb7e04b1637fb44a78d42b36a07ee5b504f32f7a2531ab48762ebdd7d362ad166b78697056efd425e80d9b55b167ad743b8cf5ca6884a376466f6b322b9f5b18559410e284aa6685daadd23c414566f9a1af0222841e6d9dc716670c3317996359ea72a04d6b5115f6140aea0fc5671d48431fcb78b870a50c9d963be8d0d94c592071f844c8c5f4ea787430431e80191f6767cc6392848f0a84effb8f5039e4863c37b1d4ac841ef38d8ef223404abc0b4913fa84284279c8bd05a5eaa834e3c84b56c6c3672b488721e15d0ce83269bfe04aa59e75096a847a3d9474e1100f211899f58fac24723a285f439cb863a1785abfd56bf18cd6a30e780373f2c26e6ea97e5bf1ad6009e076f7d4b442ea834c9240fbbc827f48eff4449282de1e73c82d120ce36073673a4689d9f4371632bdc56c67872478f2fbeacb122650671fd6d27277e584941ca9342da73e8338246747eb3dbad3cdb52d72091a6f459020c7b733e9f03801942d46a12adc4c83c358826aa8ddafc191f8814bdc8101fd23097e90d86ad3696c50b68d23f6e501b228f1b51fd7bd7c1dabf89690b4d3f4d9a0601769f58033c0b14e8a74afc1f69b288ce8ab8528c4513a1e12624dcda4a9673ad8605d5d124538f4b37ff6db528fe8efcac4b33994fb9c663a2871ef97b9813b16b0bd1cc603c2e71bbc55ff18c96213e8cb17cfa6b6a5b67dbb3db63fcb072d9f9636b83e1392626e249818d60c8ec0098e2653d5578fc0de9fdcaa4e6e5e82dfd70e5879004f7c0a8a6c577c0f859e02323d6722104ccacee1e5fcd465c84c6f6e5561985c1d5f59a395b667547cc26a0d75cd701d8086f79872990839cb6c10b54145453166010c7a79e1c29af473d3f582d6e4a6f456d7b662009bbd824a4905d5aebed5e7da9fa2d2b647c4f1a1d33d6c5cba1ef027e18a78c400743969b6f19ff2e3fa202a4f313586a7578beff89c962770ad3bdce0f57d03f8c9fd71e741a1e410a5caa09483164573c5755b53d114e810f3c9069dfe5972c5d92d0f935aa7007bbaae90532e82ae41b45d1b4e834fc7d122cd705392469c5b54d3a587b408e6333cab8252c67506c2c03996229b9703a906f4210e16ae7c3bdcb50d10946491b8048912015937d7d6ccf10a0fad0394b7f0dd41232f7755ebfd02ab5003bb87093f976b8e028a0c71853b529fa6a22bc60f77d0dada6ff22f72feab2209ba95b570187117aced17388f08b0e7f82ef184592597d965bfa9ffa4909cbc8bd212bda487cbd08299eb4829f2534d4d9d3b085fe47a2d72d91d3c1589dac24e708779a36aa8d4807e3a4efd72daa323dd62040236ac05e59416a2ad71e97daba8df1c02a7ff21fd3680bcf2171a5203c07acb31fb588178c8b6a1d6374765c22628c115d0eb03c19399086653f018b0a988ccbe15ccaa5cc31bf475c93d1c89d300ac93c89795a3e18604742706bf524b5879dca693dd75a8ab5eb9b04b310c67f77bd1ea795614ff76330270d781581a733bf8d1053900b68e396805a2d6882ee389f63c8e1ff6733d64f44005ffdde15f4140432202196ca6c6d8f74a79c0380018b1254912c95973887f0cf69daec4997d7fc9cc8c3ec99bed9a4ed3f3f04bb4ed8ce07300bc104e5a93ba7430e6648f6e1088622d1fdcff63d1cbe9b606ef59844097c90d446bf780a5dd180e3828486793bfafd5803216c28c653991f44fbced045aaeed1f551a036f3f732a19c4ef1426524b71724a87618953d04ccf58ff5347ad5f7dc4639b338d321c15ba0d30102a9a6d6f4cfd2e9b9c5805fa61275218aebcc2f28a5c9f57d43ceaa56043e5da53eec64ad3c7cc7f55576105339190cc31452cd48eef36a167f377c6218dfdb037252ead7b0530c5364877a20f777df9b9ce70e4bf9c654cf107e5355137a9859ac4a12d2b80c58d737a8b1125ec4f8257ca7416501739070e8037e66b5c97ac715e041820e278886a0c42d84ea8f125463e4f9946377d0cb3d4acb01f67d6bc9c4a54ae0ecb324168d6362f79b7be68edb9e0b7184d618417705c0b217bb2e98eb5b8f780fa4b7f0e2567364af19ddd37b62cc04dfabbdac642a4fc4a80ad480b4d9888fe705e452d19448b42bdd70e2e5845d8b1b0bff81b9207b98513585440ea31c2d9fa23bf3d8b81f0510660ee3846bfdf180f3a744f731a6b542a97f9849ecade562d58896c77617a856035836147ccd450efbe9c67267fa034363dbd13af83ec40d7096bc7241cceea015b2a23c9e0866ea34e9088142c17a138cbb2ddee4a06713f92a07305404178440f7f238ed0d66ca5572ed86721075c81c6f149c3c1234168b4226ca9255fb817b7274a0065215b726e07e9732da1d083ecc38ec997e0cf7aea7824e758b8ce7eb9b01debffad98419ceddcd59dd20ad992f4783aa1cd5e09109d6ac151dbc73e59777ce0f8379f09fc0bc81d2149d2b30ec6dd036d799a6f719658e1b61043841e90ca13598d14b20dc98facd7a00064b7b694d9e89d7224465a3f11a5866a6620f1710d3442ea06dff4e74dcd8dd7dc51665b3b2b553274bf80cc0d120857204889375810bf445c2129a6a03b2cd7bb7a6237ab222f17654369494e2d6fd598823039bcf70e41b7f27721b3dc4086e35ce77dab5003a385afe94b59071698dea50c558eb3baa16ced0c4e4c47298ab321363566bb169c79e39f35e1700c0f69ae72b7ccd8ee6e1507111f1d36defbf85f0c703eb09833e7a70b52182bdd04986512160791b8b3484a16bba98d6da652032a1bd7d5e867c5b9f60330b6c66225df48788c40d4ac56a7fc143fa1490dc1ee593a4422ab5186f5efb7b9b2d80df208cdd48b8eb7862d3e67d6c0f7dc3faf062ebb4b3fb3c0d978917be771dbbaa9af51e734e4c3d60e25a48d8f76ff030e061bdc1efeab0514d24acd9355b15836a1c6915ba326fba5bbf0e5da872cac1b2f0d4481b7f2cd6a2af1f4b082008f9f544d863d14af6fedca657f0ebd250cfedc1e6acba9d48f78fce7d78e98c26303765a310903e6ad0fcd2fae19ac8f78a70b6177b76c41314844332ab63093825acc0de804a97434188ee12b9f9158dcafe85ebff4073798158f9ff8cd44775e290804534d6cc2767156ec8f22fe6f7d37aef67f4fc2f6ea4b0e2237a0a13e14aff97a6bd0c228129be9c702edb699a400b059a52667e9552c2a4a1722ac7a4bed2163845a6cb99369b8d5385dd8ee92a450c291e03ed994edebd795ed6633005898fd2c46584d46ce488a006ec813a1f184e629a102d13cc4cb30fe7dab27c9686ecedcbf3c11308381ebc9afebf79db9257c0a0e8825a53b94d1e4ed8bbeb32b15aa5b3832e2da047840ff84885e92d881d4dbb29edeaef2d4821812dc4e8177337a4cf55ef5c8c6e34815afe53a07b09292847ac02a5f5b363afddfb9ac78915cbd437506306025cf5d2512ecf50d0e571a8186514d8d35c69cc1613538767464cbee57cb0b00775808d7ab4e654153f501441cba45d4f25554e9c2a840030c0c7304d228f23097b6b00bb3a91c45e5c69cf1c91834a6814a223714a5f1d752fb2fc5015f86cfc001f3eeda5159b770da9671b544f474b279a9ac6045d3dff9d8d6578d506de87222be07f3e250d006f0e543f8b9ef0425868e597156cfcdb8e95309fe18d307968a824a5cb48b0f9e387cabb0156e5d0b0d9cd2311d8e73b01f8b38bebe1b34dd6ee98d7647bdcd594a8c810de72bf710b4f6b6c05b3010a4a431aff436ee5a1421dc56242dee8cca3ae588bbd627c2aa94a02a22f8179b67911188b067b7422430be4bfd991171699109033c3a4df29e73860fa8469182412b0de7a948a5a52d627915ca38ab223431fd21cda38fc3d331ce0b7ac4fc19ff6deebd3461df6296318db9ddee23bf1eec675a7595ecd34f45a22f5d2692a6e737f113a3242af876ecae96510ecd2f393a1d7cff6d702632acb9fe2893544555085e194a5d929791e557acdbcebdb9816c9a004f2ef0de1e17b09b326c917bbbdfff9c74add94fffed4c3a21ce5d4fbfddda61abec9f50a82c23ac8e8ff62441bd144089255dae201f22e940612ade310b58aac0fb11491ea7c9c6295e5994dab3f3ea8cce1c688587be828701509ea9d55855e1adb3548c2f641ca1f6649a7d585f9fa54e1741ba622d72b178143bbbcf34d7afcd412bb7018962e2506902a7d847c2090c5c89c2c753ff8d740c1ea2602dd28be8d6b2bf1ff255bec4cf1a2c32e746b02d42065c9fb1825064859f88066264f288023cdb2e0823dba2162e2be99fdcdcd457a8146283fda40a9dc3228c3e44042345f2ba9076b6b4fc374759df7908668331ac4f34917f9a0d5c212b84f287514b07ee69221ef6e730255b6fa06c237d86a73f4104afbcb20c49ec6fbffb6ccbe1948c56242cd0d7bde602d600b3ad85ca27dfad8f8c57fae0943ae39f7749aa739ad3488d13f4a7fb69153caa880e62811360f44c1f1a6f9b97daa76cecda987775ef01d711266d8d429cda13e615985588ce0e8ba556ed02ef965deea0dcae2e27f6c6aad17e494a9997cb8a40fbc99b657e95d4bad7b114c04d07eee7a14aa54f92abcfd01c9954c64e818ba6274a17095383a4fe7963135c18ed68f557d655142de17dafceac3199e6df3bba291206c6d73d80fdf24c48ee60e7c63379a62f9440a170e99b4c9dea9344adf2ab033c16dc0a6d54ad4c46463668240d6183de5aa4aaf7f374b1dffa09d2d9d516e4edcc76476c07bf511226946fae340f952ecde762ba0b530efa33c275f2676e7c851c71be97c44f5a4ee7a277b9bdde9e3151d1bf15054f9b174e3970f2822997b938abf339a332a0f51cf770fbd82dc0604d361f887964c3da6a4d35214cf00fd56e92661fb3877b6c6369147ea027e4061d55b1c0a58488c6b0cb244632b17186fd063da1aee5b7cd76bf9f7b9d2f2974f30e937e63df0f40a9dbd9b2f6c7a6c22308983821707ab6db4b34b5315754f3e84f122f42daf24368ed89f1d94c48d605ce9b4ee30c840421eec4463ed85a93cd097d484325bb37db06429e98d258442f9af9d3e96efc5190d71b8c0edb89173e08bd17e979d66032a157f6e5dad6093de20da29dcbaf2ab72c9ab53c52bc91051d37aeb4b4de2f807f3853a5eba63214aa32bf45829df7d7b8c8b73877c29719ddc1a79d8b3ae1a585eb9ff0100f3da1d6dd2d7b9c1ef59fb222990039ecf83ab5052f1a3ae16b4e0411e232a1745f4d6cd8a06177faa6a31d62c9750d1a93f2eb5b6f031f292a5216667503771adf1755913474d17ca7a2ab48d55c515c971df1a729a4b5e1378655313242036ff91d459f8c4f0c1b1114fb5a262896f8439471f6c5dc29ced695e9290b3c163e678ecaf4eca15ec69f2093a69c3cc897c0907814e00740317517a864b410686bd135aa67abfddba50bae06e59cf9a451e2c6b3b8ee3caae8b92561ba0d8afcf1f628af41597b7e246b4044a7e23013d917c3122c5fc0e2c46c4cd0da179d02a5e65429f79d6bc93563496d57cd2487dd1b0055e1fbea8cb7a5b24be725408901d3581cf08451b796e54085f68495eff88828a0a6fdadd63088fc2de8c35a7e6959805f112599b811fb96b0e878d9bec09c6f8e2b6613ccbc99e7cda99115f21374ae51f0a085266d4125c54b907a32622b091250a41afeb0ae274e4d24aee0ce6576fec9ae81c73e856ada1a80e4b40c578226782389a8ad7eeca4cb574874b077230fdff4cd45f9e1f17d9367f4b79c9b4df18bcaddef6e75df9c40b4bc7df4ab366db587ba88c53d7d0a378c47bfe72cbe6d13ffc22206ef9f2b67973022be25ffd048b2f993101ec58eea1e0eda51f67d9424ceb1f880a6e7747bb2f5a11275901906a2032f8b45603591ad06aff53b31b8b4e36628e584e83a1b187872a431ed982b9ecae37ee4549ac7c3b5f0802420701485cc8c5302cca3dfd49af030920d09c84573cafbda3b654acac2fcfebef9e3bbf801f18ca345782be7f86edcfacaa794bdd2aee6fd4ca3b9a25d923fac241c33344b424c0f008a31439fb7cd4c8e962de1173054d549f50c5ebd2b0ad94c9d0d95cb0addafbd48010fe62b26e83198a04fa0bd9ed0f2f0421915150c44e2eb0282166d69366e5df34edc93e20027a46b6f226763d9ab4a73c2a671b27a7cfc7816dd57096a55cee14f6be669682c3b84c0c72030a2c490623ee7a5462340131f577de1cfc7f7cbb45b96b51f43071bc9cb5b06e524ed1b5bfa17cc6e289e49a39eddbc54b48f3466f8019cbf4fd7c383f85d4df1b4988b04340167da782808c1f5d2031386ee123054dd296a11df8c262b312dce99baa1c48c13cef942bf876e855ed522b03313e21a9f673a6a2c023f29dd582e9a0189371a6547246c3dc05de7671475ec1da3b5927674bf8a1eb4ecefd78369915586498c6cc40be0469b0cee79254d1308ca2f48010969bf30496d9da0af995683ca6d3efe88b5550317e9e4d580a3bf2a4efaba390e0d5138b0f2806def8bdd60cc754803bb43feaa2ac1d0cbb04c1938bb66585225a7b952e4abd28ca1f6801cae9c45e29332ed239c19c29441109cd2f3b6bcf6c1f217fccc40b61a256da10ad73e9ec2c66b137796bb6c057b5bdb2d32adf47d95846de19c712efe3244ba67b08852249344ed73dbe6cb9d5b4177c0c6461091c3168187bd55ad998ec2a8665510b08bd012ff7ed60362a717646ef30066d318ec9985c49b445804494d3eaa795c7308836dbde8078fc431e7851410c138fbbf82d651e3a844f964ee90d209b2afae1b69e19260c4bfd644fda5e80688ed7b81703c53ef5b7c477b5aec4ffc708dce476fcac0ea3491f0a4ec145b4b8edf1ed7c6489279c15c04f00d0ba71c6daa23277c9c112396c3351e2dff1c5f0727b778f7cdc03dd808d92f8ff308063b9c9f627ca70edcf8ab3037616d734a3d6bc58014a6ea99663933515eb7e135a12c91e377906a84ab15b72c5f24ba47e8be5336f47714992df9717879f90c526e76bf8bfd7d2db6410cca3dc3b4697b0a397d055245a5947c96fcaa4cc3f06df38e394e7e720e696dd236c63d1f324df4b6cbf088477675b783333a27f5d7ec24bc2078a6ed194b4e2acc408212d8eef4cb4cf7f80c46084c2b94f1b3db48d38621d174384567bb6638fbbc79c9b653dea7dc2c75f31c48cd5bdf7938bc6974ee82f38e95d8eecd6ed99f4758509881f9100306cc9a0e8303402eb6eee14ec4a8b4895476b1642798231016f6689b0e3f760141421885f91892e052e8d76ec6ee0f9cf58aef9ba09e81385157efca2b408d1f1aad738e1d1af73da63442aa1057b0cebd6dced4ab8484c20b69a7781b5b68d05889d24dfd74816f95243a33b4b2f68808252a548ab6370e6aa985c51cd7102edfa54522d75df2ee92a6dc498855cf0fcc3465032f06946f0f2dc2178001c9c1fde4d0a2e8f886fbcc4c86edffe4dfe452c678a1a60f2514738ce014d7fa986d862fc1b9b98309e532cc464692993d545a588bacf1632e1dc764e84e226f17a60645a368941c19248bcc434ad41a1a736b6e68c49909249519bd97dea47cc165c55b200ab023dcb44d6d7eb6749d319d7870fc025062d01a55443c906e296798753e4293db4c9a405c43842cce2ce4b25f1a1719f3a1553a54925b25fc7384e55be94ce0a761a2c53c1045b3cd336d609d59c7eaf016b5c6e21c82621d317495a521234fd07435b7db49a9d03e751aae5a63e856a29bbd032a19cf2939751e78c0d5a08d037a7ceb9b20d52cc1727ecbb97e2c26ac3808083a4c2d8e3a42628fdd9f65f9f54873bb60c374f90f76afcff1847c35d74c6bb7074a5f40697a4a11ce5fb4489653336d32118246ee4fefd59c94bf71e4b1c245ca2b154f75aa4ac8f705f06f176d6e62a8576766c3f1bf68cf6cbf3a4a2dce92d929c5bfaa20d9ca50a9fedd972372785f08c6c432b472c37bb69ba99f4d492084bf2f2fe7358b080cf26fab0ab2e85c286169d23c23630fbfbf7c9537db4d23fc8e53568d101b5afc476bb5f0c8f210aa9b1bf1723e96ddb448fb8071301defcde660b54ec6e65981ac7bf199a689a10eb23be306f0e2e8ab01b86ad5b067ff113302ea8ebfc0fb079fbf49372a7da94a5432b8473e65340bfd689b3bf47b7c7e08f0ec67de5b098b93b2b40e9bcfa1f4ca3e8dcbc7e21bdc2956e4e59c2f3d13289f608b46c6085431c25dc578e3ef59483b5220ce521ce6afd70542696056de9e26820cc3a6ebf1156ce8f8b9394dd430be5eb0a894bd75652e1d656660c45769e72761b91c304077df5aaa83b3da8330408e2d337883e6710d67d09b63f3aa44f6d40c91223a188fd78557bc620392f5de39da32bb84d8c8265e02290c5ed41b3f95ac7e44e89af736380c7bd9ef69c155047783adce8b20e9cd7dcbc2b2841d97f8918eda09cdb2343a185750b446ec6ae524b7d48d5608e7c893c63bc3ee7b73aa0341006c7dc72ff74599f6783c38b3bc2a8d5517a84d1ac8891b38ba935dad02405024f259441a4528e45c8436daaa3650d286190420bbd452122f3810552f497afbeb1237dc3a10f4cb35a8594d3e1ec800bbcfc8968972177af300478490e862e72d51cf69cf058fc4bfa646f99f1b4f3f568e775d26b7461190219f8ea1f462ae6b83cf28da939d7cd82b02489bedf40c234bd82a1e3cbc5f7fcee050084ec7c0ea9a42597b7b862fdc5ebec1adf127515d7491a89418c341306e3dcae521336c7505ee19c4b6afeb4861b527f12d0305e0ad38891da859d41ecb1888876b6c21df803faf0f125cdeb51206ba6c5e3027b56495ee12b8223fbfd16ccdf308b3c1f814ce20f5870eda32e7f4218f53ad823bb1fa08816ac596ecd91ca9a6339bc851e0fddb3f70e25466e2f69a5b2e4976f172d83ce98075860c4991cdadc4397dea0dfcc9f5265906fd227f251ac1e11a207d145a6e980617dee212db28f02bbd180245a681a7da8751b25f693b0f1e2fca1893cc32839696ff1da7be84096a5261492836ff0716e0fd71810f70a5a262921c9222b78adda52d038ac452a06f2ccca05971b92c68f41aebd1ec86af9e024e48f93e4e0b9b0405453e14ee3a5eafcde6cf4ae44aefb074ad1e30c69f936e0564801ff08b79866763dd157453821f7e443e409ce61b9ff69941949de140a25ace2439f87bb87da82c03fe19a41e4d11e93cab34adeacf092929bb3d0997f7e6a175466da7e1d854be3529af6af02c22ef8b9e566bfbe1ab604f950f181438d235cf98c4067d94a0f826973d38bdc6a5dc268cb82b2ac6b51820cd45b8459fd5645cf20545f5394dbe537b049ad80a5af3679f3a0f2155c11e760e4740872f0de69066988e7133e7311732b779d1e5f3f4fb6906c8e9fd74c274944910bcd3e2a78ab1942ce61cbba84a2e09d9b3774f09d1f09a855bacefd83361e53dcdf1fcdee237f42f7fd077b452dba03966cdbaec8960a98032e183bcaeb1d5cdd813264148c160a8776d09f3b2bf28d71ab3ac86f4df45466074bc3a62f242fbbfbd88e1fbb431a41229605e64e72bc248e8543983154310e5336e27994ce60ba854f018db070c1c240184ea3360d9fcf90ff1aaaed3952f56ebe7dda19074cb9d5a93e1d61e41aac5926a3534112d57d104629788d7cdcf7c2700384634d7ad22a92899493a94c6ff5ffdbe22cbce97b0479ddb28826c8178a9342e28cdd07b24dcdb0cccf1c04da3ecf3dabec5884a646ce91d8d5c3f6e46d731285ad01d9720c5247f92f739e71ee030a168d74edc3b63d6b0cef35500e9b38d3404a9e05d06ed4d2291c1ac78ae18315806dfa8e8434b0f608ff2a99113665623acda252ced160f822661c8c219dfd3fecc2fa424df8b8373999ae2e3217947fed607b0384d64caa2b43ee5fd9871405ec87d35c1d64a6bfed8384fbdaeb6c54b80fb5943b9b29e3b30b7be3256eee517295c5f1205ab4e76afd10a1bba649b0f4879c65b4e833843a4e0ee76d552bf1e3e8900ab3dc15a090795bd364ba50b64452e617034509af8ee94f36f0034b9e28e0eb61b5a7f61b1ab9490320818cef857c9dab56d0124ac4c9b9d3d7eeb1b7e2c5d96a743167991f049f3ef88155c73ac68c57d0711be19998da26081496d46f8d274dcdee1500c3ff0af857af927c5eca76840cdf95ab0a1d4fdd91b6383e4bcd8ca9132c71a0dc73784b12ffe0c24b65a6c7fe4ae613eb39b22a5520ff4b8bf610f9f7af0f5600087232757a8e054d971dfbc7b77954af73f2f815d4431e9a96c66d54ab75580c171a002dac8d6680c4f72f3cfccf48a00e492baa48febce6b78cbcff715754cd45d681080de33620d69ba51ee0ca93036277c59216444ad9001c4b3b4c391a9c50aea88e3654df6c0ebc4cac822236863e534656d4dece26a993bdd91d43df8093fec329409c6e2857e20093759697a21be50a7f1c05f0a32f77d30575b4d22f3d9c8686e7f1b67c0902ef110a1e25a014cc66578cce4343577abde059860120b07c9b3046162d12afa3e4234b421cc89d9fedf29f3740c861b71c2576d43287c36f5f8d037fd121d52fa22d0f7af167279b469e18851222d88af207212b9f9e35488605526ea0312494369de4d8c44449b76153b66314a1e2aea67e341ab52efd971d9d6d7f2d04f48b8685b0150e1982c7c0bc98a50adcb3e32d79dda2341f6d6baae1947f588669c249327cbdd4ea925d28bf211758ed78f9f582fdfa6814c2933de2f2c6477b93e72ae1c8b97a678a13c526253d1711cfd75aef0f33757675274b6e67584a9d2cbc57074e9f876c8a51e9e67398638535dc6cbe808c8ac6d414ba985d8479defa25c04701473c1dde28497069824f30a324349330ad8ce6b3ad9653637fbfabe66fed4c23bc2c53486be02f233f4dbd41593cd099c06cd9cb02bdadf2432660a5e63f7b53d21d40c84e74595caa0ae712bc3110a8df32966575cd1b60ef98d594deeea4647089284ec20e2ce4bae73f71316d788f56a116d907a8bee027bc88c0a8e29892857ae7d5e370b5019f94e2b9d6c95762732c673c48a190d99cc72a086e3b4d8b4e073f1a8e4923cea7d7576b85566059dd63553bec82a71756fd6bc414aa4443b6dad72c3118ce38c12b663b93c34ad8cbabeb93cd6340b06351b73703a672c8286661b6e71a7924d2f53ba0460447ada69168e721237af33e2bdb30f3d7a874861972af4485688d7ce83469c77a26d6a84a82db3809f5bb83458d48f81a3d4dbbf2945b19c84b36a64ff528aeca9c983ba37a9510eb9cc1f134857c8b0cf5f76083722c5a6bcafeee796e391e6ef82677b855da980ce76f4355ef27abcba2459db1a198a636d519c5aa551dbce4a28f96fa578fcc71a7bd8f1eb2eb4672f8e505bcc0387c0474fe47812e9c238305e9e4cdf43be52a438aeda2e289d542a987ca8cbe973b060724ebdb48ef7d2de4d9a3f4e77e31d9fd25ba32d576924cc77a52b2f14f8de9ba6281ca99ecaa6a340610aba4024e1cbb33f27360eeb28a7faa551dbc0947b76809a3be31b51590f5eef03aa5a3366a10593a83258c273277d48ef29d94ab32aaf4117e408ce512e4fac26ec696fad001da38b57cc3ae86e4dc0bba3b2cbb816ea1e2f9f1bb7fc57b9c6ee864105860a7755efe69bfaf4baf0e0232acfd5f478c3fb533a1b8c090ec91cafefbea628fee9bf7f8156585c96915cfb9227aaa0f1f41676f3f66210d5d0e8bcfc6df2f7d78a8a630c24610e337944201a00e3f5b263310333132b3fa89fa6ffd1640692cbae7b89d4a30648579d3f3f7522d3b40ad190c32a70f380f5847549c801d6fff99becc2bb42765bc5e665a488f6af49ef3a67752fd6050f2e6c401a0845a414480acef63afb2fe53f8a4b71bc43802e68c2faafc04fa88f92dc5587cb589a26e9e1bdfa9a82f1f5da5c539bc640aab077ada43d7bd551f08b5d1eec9ba15f7dd521a183348a4112c322a545b507bf9eb301fe506c9eb37dab6bc387cd17a08a37a96ba0bf4d876aa40be14520ead38b7cbd563f78732056893034782e4535d85e4e18d7857567a1e74bc08edd50b0d9a57bce12b3864c6604b8be96aead7441d7928ee17dc3b62cd0be8e2d321be438d79fb2855db4a5c0c6f257f8be85f1376c6b6e91156739f7144118c366f665f8f00781e36b1eddf6d373837257094f019031c3ff5b726bb0dfbe5e36cc8575073e51754be4df6f7a2b048832ee14faf499c9db050ce7c07d6912c0a9edd29a6db8e8f2be758c3c7e5357a038074725061f2fdd065b890fd430812855c4b260ba1b2f3a6f7040af909da052df0da36f93bbf023482444eb629c32623471c64d4c716ff67dc9aa344326dac1beae9e39d5aca9b80b4b64c876a857d8d4a1103bebe2be20deea970dd6215a26387410c2595a942cec2b84723cb5fa56adb6cf814fe07e44709d73a27fc91324ec60a2630a0573cf953e3cc0df6370feeb0772b1037e6e5c068e7345013f164ae6674979b5895bf06f7e8e42788e4f6c39917c244436aeb076453ccd61ace9f9b96a820b09eff935450bef9f1861e85b4d9139a1871b3feecbea65eb7c3f5d0460ed002a46e42547c0cbd30db7c3eafe81c013d8972234cc0fff22edf211d5ef5378e572d4dfc2c6f93de754b3c275936e63d9079bea60f1772e91287deca81abdfb3ee031faa43e4777924551ecd0c7a9f9131999fc786496fa4cd788e295c0d0dad8b2c642cef291c95cdf9ad8ebfaa2e27f15e315633a5c70c15506c41f048912d847f399ba5c99ff69d0f7382ef7c35a3d9eb9394b72d45f099ac77fe4975d142f8badca9bffc70a22922e2b4ba0d7db04f797498bdaa207b4609e45a88debe3587cae7e860fa419b7981889de729c98005d7bf80269ac7075f84ec8561c0d3e046c50c7f9a436a3c149373144ea0aca0ef3c8fd852357365aa6a90b53ea0c550f873b246c1ecdfabb0fb68e96cbe38825fd9a095fc23c1a985d8e7343078d70ce1e39791b8b84b01d5251a9e61c5438a272b86159df05e3ea73bb8a8492e4e4ab54b1b94deb02b4ec6db9c7259bbf9236f8c30b888ec30c23c3540da2ee8631f73d89b3142d8d1773701a7cbfc9b05f10dc0191df0f39d85fa6a583686a101b1cec97c4399d287523b402bb9613eb2f50640f873448d8c7318a6779252cbc001f30b8a8f19f8674519617529b85053c6c0bb007d82f9","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
