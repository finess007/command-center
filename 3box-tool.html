<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"24ba667eee9be1eebf6ff77ac6c731ff331cea9ad8edfd93840785cdcf4c7c5097da5aab384e763f8477a53f81bc52bf8f45dd9da9dbdabd150c67aef41408a1455e5f4613c611c450d357894fe1870859459e3ab5bc40c61a99908a8296335d77ed8e31fae6410d22bab5560bb1ebe3429c598a8a47a92b6de2f0249b85d063e9c762539acaa9849390f2962ee0c5d72774dfd5c65249058d17ed53331fe50792d2b5ad87cf204ffbfec7fbcff272131a9fe438a65f88ca84b10be6bfb405a9b098f5ac758645dc3eb207a9e2a11424c9a4cf3d6d4c3b702178113e753bb6e382c2ea01a464b855b9388b8dcf668b823604e69842782f0c4541ad7b85e78ead59c3413723d7794ad9d1b683d228d9c13750960e934b745de99ea4ca3ec39d794eb04ecb849d86b9e8a095b6e4144c54d30bf70ee51f7ddc4af10eed8044ed63c19e75898ff529207ecb4a9b82238f0c7905f05c313113128a3c579465d9a6ea3d7708351699fc6151614943d6c57df1a9a32f4834f6f1e1fec2c9a03ab4a7102adb9577cb10d9b867fbe6656946bf0589df9082ec815e78211e8f6402ec9f5a7b3e47276492f46c6667e1a0653bd85812ee7f0ac1af4b21f8fd88ebd220f2bea556a63f99e90d43957cd5a3ce17ea4922bc502e228b2528b96e492aba44f05a9330fdcc39ba859114c253053123612d5862686a3d69f516433c8ee2d0ec9086a6158580e0576d18adb296b0ae8a66de8737c1873d5b651b7ab82217f32bd45f64f3ff2637364daa5b6133f0890c8f81c19d6c2bd20353237e525a9dfc636cd2f53d1ec4c3576513b75d9e2726433966469d307e9568b5d7ccb6d3e63edcefd80073937711aa0ee4d93f2b567d103c353c0ad9c4db60f3cbe276a4afb68324fb47b403a45fa1e9b81c55b38d9a660549da633d4a008ced5628dbe14049c521b087a95be0384d994d292fa451fea93b55e274769da809fad1c77440a72817f47578fc15330c1b6fb05917c6c4a708c201e8849ea5f7ed0e9514c6da1e85a906f16c88c7764266df724fb626f1b2717c5538e9497422d8a0dffacfcbb43ee18268446fc8f51a629e49c19855183f66285cf11d18c8efc7fb774863852619f495f7d2c1f9af8793b66640795b72e36b18430f9b864455982bf20e000cfbe94ad8b1735102c9a049591c776b4766c47529e94eda755d79e9b8baa257bb1c320fcc1062cfc29e224a0c515631a255787ae398a470802ac641243be1cd5812200d3ad2696fba6c86ce12772750f2a388fbd36c93d4c7be93f3ce929f99b9ae836626b45dd7d96b7fe6ef8a10f61903a55f582835a4abc3247edaec9da6bc0928151cd591df25cc570a08dfb49ab62225f86183d9c7ac9b1859cca7e30f1a640f106f8817f6f92fc55cab59f86edff4ec1925000ad275063a6e4dbd3a37099d7073adf84e3d1287af3604be4faf91ed316ffbadbca49788d0e4a78edd148853976c5fab2aa1f5d1536d22750a886f231ffeea41477f014941ab726b6c08075028644e73f61368cbd4af208ddbf9379bfd2c5f1aea1b507de4927e6127cda05880cd515ce84bc23417073c36f1c17a350090c8c0646f8a38ad902e7ffcc4c087ba06b7d78ea13e598021872f71da71cd964c804c349a5ac7f015f362fa1b1f96f702b43c1ea8c135cd3da1fa865a1c1b9d05d0a39d782cca3c80eccf19bba1888c4610b3159651f91bf6b167b18167fc0421ff1819da46dbcc9d9afc29fde7a586ad80621e95785af639b0df8da90ab1431dcb5cee1ea0f8d733d861044dc27e8c7e21f78587d94d855773f3c44792ee16361d768177ffff0ca9fdcb2f05b931dfb9a1e141eff5a1a5ff30445101709511d696c55d375332135bbddf19fd05f52aeca8f589b0d0a91f181a18d3e1a0e68a729863521a269ce1210d52ef0cc611505050d2a0709e69986a8ff4bb8adba3fee8a88b225eb068bf7d9f048c39b0637c8664f5fa27f16ce9506209abee5582a125ce2181040f8c922c101042e81124e8a3d60fdd898934852448e9104fda2dbe9ac161d07b8c3845b4c1fdab9f69b261a3baf33ad720814082015e94a2295aaf51fb0843e0d153729027ca1e48698fc261e8d82d295b610ac9d908b79f6846eb863b62baa0a2d6873d96284c4381a255c6c0495715fc023cd116f5030677b67b0717b706175c58ef9c299c452afc7101d81d4bf4dd0715b0781895826b0de8d9ae985e6c992bc4c330e0bc126f2aabdfdcc824739d8ce116b93c33437f3b271c10e6e5bfa4ae49043c665e829aff8578bb6b46e9ab76b9cf7b30aff9cfd41fe5f428226ab0eab63deda471c974639542f5753b55657ca1d7e9e4652bfc03a1fd7bafd148dfe4a4863e96db7f63396f6042a46f9a7f39ea51a0ab83a66bc02310e8b2552dfdd8f7dcc61bb1d3364dbbf931ed61ad55fc510ed4c55ab32ab7a6ff720420b00717815cbab8431e22245deb18f00ff09a4b3af1f47f80f5a0f507cfc725e5a1ba65a3239a2db4012117900889ca8bf9178222f06df17b28c76f04ab0f74e81ead66366e39604a338e8de2f22c0fe8bf403b820920f9d534cc81521840ee22ed69d9e71711c0e84d1399ad45881576847411a62faaa9a5d204f01b7e2577a30f6297da231524468c65a7537326720d4fc99741af3e119379f01ad778aeb38cc0f66e4a2847b86bc52bb7d1bc270f930e94a61ca92bec701cb808d6cc125eb74b4984fa0d3814e069a334b2d45f6303e19c012061ec16c092c9cfc085a4631313ed363d241bdd7a4f705b08d59e8d3e7907eb98fc5df99bd14bb87c0f8faf4acd7f0c3e451f6a523ee925409060a863ac1b1f9b204e6222a940ec6b9a66bd855d45ae738f04776fd3c6791f98df6d3fba3e9c8c1d5eb43163a0a16514dadb376d04c8e47fe8e8f9cc9fa4865896d827ad7ae1b26e7e02ba3934f49193450b93b3cb66d50162c0543be15ad2eadf680127353a78ef85daf617a78b5bf20f01e9c69cceadd29608175ce2dedaa88f2b4358ec099a84ef587d0574d5e6295a7be2bec0955dfc56f220a4489da03aa83fb41a55addf72dae80659b1b7899560ceed5277ff7dd7629f32d402ecf526439fbcb5c8aa9b49eba87ec0039e9d7880deeb3e601e0ca9225d9b847d6b783527db04729b18c78f5e2982fc8ffdff83d4f08d6da675b1b447aa5072b5805a2af529fd277fa88f626e8dce5ebd8b64409a63a7fddee203d2f3782266c2319bdb5b5c912278e9eccb0c9c0f041445a02a5d2908ff3b4cc0a790228bda91e1078a0982cdfbf51826e433814ce50e8ae74f5bf66a648b134acb457cf7932ebd209b59d9e89c05c5f97b7e594afd680c82c3598f8d4c7333bd2c7c5ad2953991cee3f606c0d06eb782c4fb15860c7cca8f570a27bbda9dfb74706fa4ef166727ad9b6ae15d5701e42a16aebb59b0f982f70204c595a2dea809ed0c9869b1403217d2729bd2d2747991cfc19f06f0f8b2ebcd4fdce535d8457edf0c111e2e9be079ad61ad70e996338127897e3d7dfa5c02cab9199ee70ceb8e0585881618c4fb6fd03a0099ecd7b6b3c9c5277b15814cd89feed5a3b4213a09a2d54070da9e527fb2d8475032d0896eadd8c04f2320fcb904b357a5bd0d280dea0f4d2d18306cb835ec76f28a358391e45f8f8a4973d3e64d23afeb91a8310afa667b7596f7c35a009bc0a2a55ad23c1745b70f00dc65aad445f90f96bf0fd598abd22567d299ff5361f54863550421eaa9d40b585d2c432facf25941c615bbb771c2ca86649377c38e5f700ecf6086aea6bde5880de6423778f673f36b70e6ec28876f5d0c006247499a95c2986281c0674bbcc479fc0bfc536603c974da21fea9466345a4d5048e490e58faa4cbd068319b3b93b1976e80697223e7820c77eb3f325e62538e74b408cdbae286f53108f94fa67748320ef8439f26c85b24a8a343b64c18f47347b5e8e40503c91851f57ed5f8240d079d984861491d74db4685b9a9df5f117f04c06a6c57f2a6e699c13dddc3c7e6e56472629561f8004748faa224c52c3573472ee824d6a85b7c3e64e1365f5ed2d5d2c8a574a4b3e354566b5fb022aa864b414df57645d712aaba4db6b697cadf7f5f1447699cd239cfa72f588f627bdc534ca605aa6eb989ec88c145162c18cb69f0b374fa5a20a8a40ab380905b3dc5c30861eda28bf2f7815f6a6d675fbcf76eea950d8bee918c61889a0408854e9de1de7fed3798f98cbd542de75e260af601af530ee83abd58c8fbaa512873576a96439af08dad239d98abca0985d3c2fb4dc861b850b5d8feb91c38d52f6d179ea51f875d0408814825a8eda7ec417072f0e7513f7f4bc8aa8dd07f3b5f0a6816049191b8cb4bbdfa2346e7bd13dfd013aae4be62c35c1f5db018eeb25fe331dac79d269a6249b51a7b74cc8a3641f50dfcf50801dd32b474f333fae5e84684d2667ddb5cd389e83b7463e8e4216bcef92d5705019021801804cd017fb74decba34733cff9b2bfa4aa22d1e01543fae72132f0407a16072185cdf8dec5e31116b78bfe87cb51573bdee3cecb83b1e56021bf9d749ddbb38de2df20e4170801b8dbd19ec0b06f1e16e9a98b027eae94850462fb4046afbd029e98c086ec615c841798c4a8cb9b9a554e90c3dd63bf365dd98466c6c9de2d7fa227c09a206e64fd672d509c9c56cf1a0b3f413dd861bdecdb5ad8af1fe22f3e65918c923bee6d8210734851cf60fba7f633bb558eeb907599314c51f7a83c1938d033c14d06c48dce86da5840ec8cd75b5e6437031220ecb9f2a8cfa0e4cabb379f9dd4d3adf73525bdfea7f40b19b1c9f3c2faef1870b9c0e52ad51d3bcffb3445c77ed154deb50bb21c31cd8401513dc965698754c9857a4e268f09c7ed6db5870582f10d7dfb4ec72ccf800e18b55b3d7f5c8ed6ed341bd4e4ab54f59bff7789c56312a1fa7f6dba41666e805185c88a81fad39611ee9e2d7f7f00ee58ee963ca87e0217d2029873070ebddc7f2c027d0893c2f74414dd75ccd0321f372dd5af6f63455d49549c01ef9e446fe758ff96a8d9421f8c310636a2a7e7855bfb9f544bc43a16fe7403c71fc2378ecbbdd1057da98120aecb6081a17fcfd07014d2840f27d8781b4226bf5ac79bb07cc46fad1a954c7dc892b53fb38113ec06885d7662748315d8957aa73a0d51f66dd6f6dc4cda1a31796149d335f88c58c43c40f093518da647d51fdfb1bcf988652328d2b6ad9bd9b89fa51889e22e42387d7d760fb6444c7dd3de77f9fe2874a8f46ab8dc0dbe1c5e24dd1f6d8a09f3cb808794db686ebcc4bbfe2687c4910af3284833cc99844af2f4b496d9f709310772ea574a8ee5d6996c5a42bc2c0160e1e9f9d9f9873d07f01b7809a293447001be1a33ae8c4285540282d3e6ed777f985b74a38540abd74d269830662f3e004a59dc8dcdd276f86d7bf59115f99faa2830fcbf1586794ea30d88e412c617543bd52772f73823903dd184528fac4a0cc2874c85d9545e84e4a92ced35b148d3caac98418f9e49bded1b7d9105bfb507faf40cd8fe92cb5ffb206a82303ea2a31ed803165cf1b90aead16086eb657d0649d7b80379570bd80675330d2fa8671796ebc7a42bbcdb1312e41d25cbfbd16c0ec1f1ee44c0bfc460a9eadef060469f148371e6fcf25c20e9583fc6c2f45162425603b062c9e1a3ab781096cda81066d954eb9dc4e66c62f0e607623d27b8952f7c03d493354ddb169174772cdf3bc130bd802306d046c2752547c9723c9ba4992d3a58c7f0bc65cc7b26bde971f0ca21ad03b70672e4b1d8c1c3d30e8b2082c0129d150f32f5457e1533624c8ee6ec7410830037016baff42841f959b236f6abbeba3cc8eaf4e9195dea26be79d2e19d088c433a906e303c95f5083af0948070fa55166d0ad56fe4affe30089429a502746b9f0a8d1ce54b9905274fa3e2c7b3b6ac26e0f1cfc00a00dd4b7280ef15822329b299c7f336ff07a14a5e9c3a49bb2216b1fbd5dbcc1c6cf2ff7adff54476bc3316b60ed1671ddd5e8615f8c6296ab5b77de37d03d4975e34bffc706fa00c52c087d00caa1c3eb53df6fc11465543f8b8588f794fc25de894022fcbb687cddd7085092e3fb7fd280b852634f3934c6cbbd87e347fd875b23456b1a46c7afb04310618dfb9e7be2f659dd243993dc7d919192d7d2cec0f75050d8bdd679c92839acd998a15b72c33ade1aa005b022c3884d4dff26ebd0d87974fc36517698c3d106d0bc69740deced70ab33723980931a49a4f0fa3fd2b404b51c1f4192e486043297797381e2d6a3a4309b2758ebe556aba76198ebeba5fb804c952bc71f8c111ab311a31cdb0ea8be692ac9304d9c18c9726878a63e138b11f6c6d8adae022fd05ba7ed6aad651221d0ec8f205b196c7ef3d00c0262f928f1cd67cd8c33a8c8886355fa0d8d74964daeed6d285e201671b6bb1f957df8f1e03036c950287c291746648e7f428a6cdf3640ce341dd2dd62613f3fb93671dad6e61c92b8480f09074063335ce9013eab87585fd57b818de35206183305a52a87d7eba23b8cf33ce853ae5c813b141be09b86b3a1127146bbfd4245af345eda5d0fbe014d15c4802b5fe4bfc78598f80d643c20414774c54b013083e1cadbd5318f00264032205585ff595d01d4e53c727a616a4d98824074b6d3c7f2a5bd6c39d80464a9c563984632e657215eac457910ba2f8e19223f522bc27ff46128ba2d4c92c4552916d3f2609a3f54ed4a5c711d29eb9cae3524f59a76aef113d495850156972c8266f652b03b62cb3e8ab2ca92f66941464293113f693a0a11cf5737d7a8b24b98bae0b032acf893aecd01607f3920c38f684f1bf385bb08c279b36d59e070a3416822edd61b10d1e2cb258d5577ef162157a8b2d5a636a24e310ae784969bd133f7d5092a153548750c048f5a95a6ccb67d230e871694a9c8c656fb51648c6ca6310d4d374a9de0f4b05fc5e276e896f050cbadee2ae45cc391eead3bc65fb169f566580295a8d83fbf094058e5ef34655a524f172dbbc8f477af866d612b71ac29be1807b397ba1d608ebbfb744f0280e83da7436f922f5a3937a80da6a205f3d689b32f1c650415339941c1f5e3414f3fa571fb97b60fc5f6e46103ea1bc326643dba294db7caed8325bb8dbbfaca85c9c6cca1ac57235da13b6a7b7169cc67e5b5fde2b4f16958484ada6cea06dcd2089684861ba7207fd6d1f30ecd1d8edd2017a82958f9f5070985c4918c14530e354082a01b0ffce7e61fa65cf627697a98ed2322e46028ed2db4351bfe84818fc68ae789036a24b8af97243742a3a1b87f23b5862dbc13940fa8622d0123d3883d742cabdea6f9c2a467c294b70dd32ba0f0bfcf40d6caf16566a8b0798a90fad54f82b4ce3a007d5b7db494cbbc141c2b419f59162a5605bc8100ea1f8900b72f8ef6fd8adfe7b569d0c34413b793898861a7627b24990f4996d2111df1194fa4c3bf063bf9de04c277c7c4558351f0f646145ce2c76856306175c45a61b44fca9d89fbddb6ce58aeb67c5de0ad80e8c73b984cdec4274436c1b1ca9244c0601001f890a9dbd266e65b5d4cb9f80735f1688f241864e154a3e3cb659b7fd7bf164ad64a72e3025f67d2372cee3c1266a06accc334a434874eb3352f488ca4d48c2b1cf92ae13e2092cfd7ba99f12368b1a8fbffca3434dd11c1127186dc6fa05a4eefaa1132b304addd4c97994b9da4be672376b7373af97a2a82f4c82a8294ae6546714826da533c14fb86ae05cab776f6b426661d997ae81f1f91bb3b50d683d418895db34d04bbfe40179063e24afa872f52b1a6bdd764a650c1f7044a152f118d4a9f0f0e4173b61ee827afacfcfc92680c9765821b14d4d69213e12dd132e1dcdd754717d05e0a11c785ddf7307a59777eacbabb5179e5528cf01a6f7ca9fcd80ecccadf8e70c114d17313ba528a7aa8ff1070492460f937df84c996beece9eb81009130a6f28679ed64edea3b3c15752d773d16f162205ea1d81d83c63d7c7b2fdfc8bcfd72c052cb1f952566ccad596ec62d47782d8366370fd350513e731d29fe5374ed1c5cc4340b1388c9913a8b1866b1632adcd0bd327f039f80f0a70a4eb3901f5920d20196eb82b0edcb19a911a709ac95d2606b5f842fddaf41699b1c7a657a24be23b3ef8e3399ab6bac37d39affd70481ce4041ed72511f5ff11276d83fe626790fa978743fc36dd5fffba8775cb33e2c040d48aa50fc5b77541d93a402c0f752c13aaf308ff1033aa22cee112209ca37bb92dbcaeefe25fd9ead927e0408e13ebf002e6e61267953311e1fedb67eb84b1e6263b34a51c25a95a0659c5b35eec0bad57af0609917d751d150d765f05bec1200ac3db4fddefdf5b4c49da8ffe794bc46a92e7e3fe4bc0e497290ebfd09482625c52bcf725f339d5785fe83aa91386ae994203c884a889a54b47bcff10e7b7b4bf0b67574599a04e11a39e42e275e49debfbe42a78f5dd65d1d05393276c0f8bda5e11944c883969b40194a6b3c773bec29d3ea73cca8efbea364143e807466bdbd5cd8ed40f757eac6333aabd3d7fad284780ffca15302e4e02036fab06a8dc6ddd39f0cf43e59270c28553ea908b96c9095f0bdf99cdaae6b9fa188512ac6eebaa04dd7aa2e8d828a84fa2ca0b400536d3a4679f03a5d8f2b6e2a1de040254cfa7a3656228ed76949f8573b81c3358147876a298f0982fabff23ffbfc131eba326c4e5c7fa4e0595f865e300fdb7518568ec8c31058fd09ec3c6d52e1d4885cacda50ed4b547816e4313730bd7c7b26030357356c5511d5c574469f997af42ead23cdb4f2c1af5bf7ffb88438eee830dab5201305816d14cd03d80f0dee740c1e630ff42a1996051b979f13cc7a0a4c1fd28341b8c9f8bd5b587dcf794be525536f95321a5c3b9676db8a1203a80dd5528a5e40a9e2cd7c58ef81a88d32f5a94e5286396561a8e69bdb9be7e459e938abeb35a065a5040621826f71f9d26106b2981245601771a23337f4709564fac23bad890e8e05efbe4793c1828fb997b620061674071a8e17b09eed1665b07c45ccd712fed6112f130ff82e8d5f94e4bdd888554ff810d3dc5fd1bd244e6b591ea487b7ee5cb4e0aaf4f4de44076a9e7d51128842b7b59d02e3f5d99451a36ac142125f428c68115a20e1a1054332f676c9bf23466e40894f2e9b02e03bd3d9396ea2fd6bb815097785057e7e74b94a9ecd12109b2aece88f7fb266fdd924393b9b5893747952b59f835b40bfcca2a0af832f28888750cdd2e86c1b471ebe20e0670aea8ffe5102508fa13d206cd5d385dffb33f544bae4f6682890c60a27ee0cedb1ac5637feff35fc47e708e552b8ed26d6433a60ecdf53085e67b8dff8daec6ae2003284863f946914864e81066d3a14d6ad4c7c0f32724cc2bfba892e645a62dedf8f82efae089d04ac893970efedf97e63ae7a27a4af0a525494826cb96dff6dd750fda5a1edd2904088c0849f3d49d788814220ca94305dd3f65d66d7af68e8deb2615a2bae479674b48580ac8f31ce54233c9edf77b2a5c7437ddc82e1597c912fbf24363a9474783c19b2fb6fec869f46870a9a96a1f7d5a5e309e29709a4730ca2ea301ff97048d9344c7f8b058398da125513651c23a49c1a58776fcbbeb128049af282a5560dcee2fbafc00e3db4bb951c2f926b8eddd0b52cd217df2f7148c17c916f2f8d52dca19a984c7678fbd5ee34275cea1cd801fa83a45c080cb15c66e5669b71bbe94394c570f5f47ba5eb6f251745bbc1218f700a51ecdc68471f378170f3784027b435b67a9bd9abfaa4450c823c07efc9248cb92652749e62d948f1419c45f21caaa04f0f5e78e97ce1f0730e3a14c6d4c5af36e7f9322b97f983aa278fd46d0fe6dcbbcd3990b8400a4501134738193cbcab8108675833f984d5cd3dace6c219fb86b9889941fdd6a2cbe9c0b83743e93db7dc1ca59d13b4b22f8eb48ce7831279811398defe3cb3305667aa7ede8e7265eaf8b9599d0be9cd134c4693df0486c3c0c63e07fae39681a5addf3032229edc4ce3d379b800dfa28b199832d509d49b9e93815b458df184603099d97ee58fc980e24988f11f2722ae1dc4bf809cb0e195974d7d3a5118e90bde8e37897d0c0e07b27d05c9ecf4bea6e7658d73d625baf5ced69bb29a361a2440d656c96bec42cab0a0820b6d38a7b894c3c531658e358db21120f0760aab24764483b8f06e97c5ef8f51e8835129c27ff1c440a43906fe1e480c0f0e5682bb509f7e366e2e408cae0591750c7cef1410a810619dbacab4927a52fc7fab0a59f03e9115ff4a2f4bc3723384843b95ef5c6550a33a9299947da224b93f6ab62e7a44c9dd7fab281852f21b294b9f4602397692df7d6ddfe6025a214e401d688c2e0b8253ab383b98c2718ceb8ca892b6217de2ed309c4f1397ff67f8487f8f05d6af586ddd2393e8c3e4cb97e79852e7ba0f8a2563479044ded99ac6359c71c3334e8e4995c806f9a19758bb483c6037d3d5e7dc78f04a9a32572d4c4f35a77a6be7e2c3985b223d69e89e08c34f9e737b5dc4ef7498935bb05b8ab30088125054aee33ff8c467b618db106653a4f952e7f9b4c6cb635590a0ee79a011b464a14429a3441659d2099dfde8de60027171610593eaea2e4ce90e4d910cfb53a728136265ca3c23125590a51a5dd337869803bfc868ba466115d390d95ea3725a244f0f91605b9682fdfd1b832fabaa03a5310f11c57762150b5323d47039b8fc4b55aae5e6a18f77e6d2f331ad4eadc436c7b2b45ec007d1e266ff3545daf9f9d675d0444782805ed26003a647b5cabf8535eac4274a9b17ee6d348b8ed54654d23a0af108ef2ad309cf8f6343886283dcf63ca62aadf48d3e8758288479763a651f25f28fb1388fd514206272b9dda579eba55ad140004bd6d7153ff545204dd940bd3997bb276cde2c1bf19fd119b28f1a250e9f89413414c1de34f0c0ec252a50786f246bab1f165cb9e96d55d457ef4c16f643a956968c81687505b515cbc1a808167649121e9c9276683e5672e74b3589eff699a8535065b17134bb2081473ad6e5e033f837e630735874f5f7bcbbd66f5edf606d78a1916b00898a07a5556dccbb66f37145ede0c4a88e80fa359804b7fb83e21354e069548fa2d47a05afc052fe1a896af1b3d26096822deb4541ed580c8093cb367fbd4a83c40b38b3514eddfc952dfafd6ce71bb527bfa0690fffdf4528bb8f5b483a9d9eeeca6a35c5919cea013322f20fd4a5a794dc410359377d183455358b113e7f377920118b8ef9046577bb82bb39a4eeaae0ddc92d284636102faa5f65fc80a0691d39b4d7f51a7c344ede37b44b50e7afdd6ebcf481151c4a9086d7bdab6f2ec5533e7f1a33df2aa29359eac6dbff997fccdfb4e0489cf600ccbde6a8b3053d24f9539f83c949fe66cf198f8ccf6cd4adbb1f7282de3279b6dc7160be5023ac145d8be2309509ece9424df15d6505a89a6c9f9510bcd26f86dbc303d0b20090bfa1b6e1458674748cb3a99d54c18d3228b5a1bd8405dedf2c9b065fdea1866ca3acc20a2504490fd42a5870306ced4c12e6f43d069b352ff5233aa765d440dbfc9c702b6e277f8161995f7ec5c4ab8c2837088affba382aef4ab2912ec34199808130889aa6a83ccb5c72bf6182e316d52d3b59f3e73d235d6f83f87110466ec7ab04d23538db3f9d4cf94180ac6bafa83765aea56f8992d04de9c80e0ccba05a7a5bea9045d664865e744588dfc7b2861812b1f6dafa49f234ce9c4796b34805e3d6ed5634a68fa1f577ef7fe29761152bc5919a406c0de44a2d552c25a48c02b6e5414645401bdf787c61dbc6b731535c0ff2df73bb5728eb0742247aba86dd6e7901e61e7615fed311ba168c49cf489c6cefa8eb62fc8c8fda168cdfef4797392ace8935c665b9a529395d9822efed6791de8cd85d93cd811fa761cb8232c4ccda30c49f610593ea123e4af40eca1599e52b9c7752367650ddd48a4d9c09531e2d8a7af7434e521fa8cd492b307e16876e7bcb05e3232df78542527f742f88eb64488a7fa602c75fb4e31a43acd44f946b775701dc3f1647d00506c1647271d1988c110017c2dae897f44929b5bc0ad2fe0d8a12773f4b2e128ea23efa5bddba08e9def727e583c44b9df46598bda04372128c77dd88d45f3c48c53229107844fa20798dd74924d2f29ce745f07910fb4cc6c08cef058dda37dd461a4ebb75f93940a161bc168baa88a787f1e19a761dec238811fa0f01701ed6db2cfd251ba665825c8bcfd34aed7d13d7a3680bfc71635a39c63b2c20f9ffca41fd0c31a06441cd1853b7634e8172090be072bd8af91df7e9c7dbcfefbd0dce94320036d7516b9b23879db7527dd2549a674ee8f5aa891d279aec29a4b67bcd717f967a291015504d07fa1f23daa2de7d49819c125e4fee0c479e3b76e1896c5b488cd97ffda368bb388851775d7b2f9e4416db5a3bf5aea398b7bdfbeeb34d225b7624d9c913c136487b9651d2d4876534452c992005788bb38bc251611bed9da94fdac9ef8a73e06b5261c754fa876bcc758e816b6de1da23bd8603f808e204367f0d14538e5c7de5b507941be1470e9e22d92c12f40d066f0cea7c90301087e79f156760f9e53c836cfb728d0d3337ec7b946cf68b0e617d59901c543c8cf3d842262273a89509b98b883a646cef66a2bc1aff0bf438c8a2ab4d1ab871ee269206d3d3c3c7cca7c5e06a3130d3b54009e92adc16c74a159d72eff4ae33123366646c0a9a4d745e0952495b480c27b0423c88e88126152d2385c5f82d54159c3a6520bb170e2b0e62082bf0553e5957df4a9177b2f5bfa864d3eeb25b64c2cdd234b99233baa8834c28eaaf26c14dc136dbe97335c6f5b475f500c904c06636d7e0a3e1ddf772f6bb581045e621d4629e4ad105dc033896105f772f46dec8a4d8f414e82fa4be8cc7424f8927140852f8ee2cce4e13704778b4cc14e6df7bbd070d92d939fdd4e3ec41a432a3786d09ec2f30603713347d303c833536b991091401586b378ec3be8f8376d7ee1ac4f47303ec5512a5c401b6bd7a4d823833b78eddd012664c9c2d893c6ccea6e6646d8ef593f525ad097ad9ea7d4b87bdf92fba3c9450614dd2859d45b9176e6a7e3b4cef512d2a118144026160c463bac3db7618359bf8fee1e596c5c26ad5504f2ac1040d525820a0dd881d082c5680d16261cd8773433e1665982568a16da01215245b35f10058e800b6cfe78054044c44accb67507e2f9e114527652806f829b95d53a428690155368a6aaf7caf813bd559e4c917ec3c9a5629dd787bf1ba4fa4f107c5885b11a966501b75d900526716560a1cb05269fb628af5da1877b9eab92ec079ef615aee4de968feed7979a967d123e0c5facb13dff005771cf04270f0751cd299376b7781fc57ed9514fc2f85ce111398aeb9573b8f091d81b68913521ead4246761fce657f34e16f405eb11774685bfa84f19eb838edfe5fa91f581b6fae036899352c793a62370da9e23df9c873dda0eff97a3d08308fc1762f353352120fe07490f095eeb48de5915c7e265c0bfb77260ff15e97a9ead47b0ce6353ecb3b6a6380476d4729a07ad91a1417b6ff59c244bcb7d5951695329692d71dacfb3fc0e8db0a9202e8e1dc3a3d425f1b1b85f80048771cc2fe3aef4b6082e58e29387016ca18c1c010d8712e0ec09994613604e02c1af9e68ea4057f4220e72dd906ffe72ad7480920aa2bd158ccaf053919ff1efd81d851e43b73598dac6d4930ff6ad45a44e5a8427ab965b42e0f3e1e7553fa965fa65f4ff8c376e223eb0cda221eef5edc1a363c2000bdff5c1bc45c3910cc2c49e1bc06a3371994d825b616ca44997fc63fea5744e9276bb0c0eff2ab1f356ed9d65c8e94e7b12e2daff0e7ef89917f10d788c846d24a4bf3663937506fb6b33175b71a90c5599b4c1fb64f53abeb2c2fb1932f88c080f48ddbe3505228e0054918cfbbbccf03c50abad47103362b516a74e16a994ca3b43955332dfc6e4add21c0e8622a1f8d22d2f8043f3204cfb321e319ccc96d6d68549d00715d5d89f5717a277e09d719bafd1fa6d3c79dfe61342cc9ccf84970b8bcd9ff461a222da548d01013fed33fb42dc58ec33f3e960abd474ec8a57414aa655ae08fb7c1da934301d3f764e5b408e4b5cc92960ef85717e5f91e98f6ff3f53ff21732ac6a3b1b55a361de6c6f81be6ad39df789fe05b8a4b33e3721c930eddbc9c9f35cee903262f80bc3ab715041211b68f6572fb4cd881e68160a4af05f95bb57b12a24b124fe1b88de0b2609daefbd7853ff8f008ad1dd484b0cbd079a3740c16a8dcb6e7b4868aa74320fc55729653e112d9855e207918075b31648365d9c05e016380e2fdca9e39b654b01b6a7eeaab257459294a3a0727e5107d22a8c48a4000172fe35cbc6532d9f9493994c08d36ad091c31973c9b2effbb290905d3ed1e82ed1ac31b3728da7972474c9ad8744dc3bc2896aba8bc27b2c9ef1e52230061082e021e5e9131adea72738833c3b899802d075fbaa16ffd44efab421cfd6c3d6905be27c9099a8cff3c0cc49d4f66d7ffeb281adf46521eab7a0520f9216aeb9e8df5b07bd65c2326e76f6b30f428659d59b9c16917f9cf294a1de371cc76948ae6156a7cc88080c863a151bb6dafb92f59c7a05c6c197ef948ec3a652312fa8f8ae0521de75a31226fb3c07a8f799c88506c8bb2c99c35102ad7d3676ef7d59004ef816ad46fbff4bfdf1a9455e404d92b16d704b4e0a41fc6018540f9bc3b19be35f1ff8f975adfdfd18876a555c75ddedacbe9d52f78275fc6a94506a72fd80fa0798db09bcdfdcbd857ed4fa2ad93692798313e93e5c9c0a9e2eae4cddaadfd056143962111ed37d88d997f1ec4dcde6778170f69dc59845c2142165a3b8036115bf9b0aeb8ca102b4a581451bf9f63fecc33509c03e6e177500cc02b95fcffb65bf784e997d049e68585dbad118732a6e32a81da213b67cca72c2f6de48a5a42cf0058b7483263da2fea4ec200f9ab12a7079a42fd626482f3c258a9a705a4b0f4376eabbaafffb52909195231c6acd4259139e35f535a734fcd4e0d0fce47c901c0887a12cf76a4ac9477ca1d78f3b7dd46370339c18c7ea267275a3c3c6213100f2d8247613254311a6ec14e76edfe0a1dc03905df87e35d91b4f5d3917214991a543877a568301fe8e60799caa5c782b87e218a259f9d66d6b0e34a624bc6c88376b36635b9f5742cc539b2d9456fe360d7e144970a7998a55ec5e59c01005e2c1e95621b114bc670dc91884a55d55df921e2e8809e4de08a92f847b72e928e81ad067edd58f38e8ec38c5e1283cddbe26cee3dc81a5b802b28156e8cf2da1502a80d7c3e0e145b2373473f494a31a92e595120452202c36411d57c0ce299fd72295719b2abb0b9cd91bf30726f2e1d129b8bc20e6eb288e1e439ba9472eea83e55ad1213f1a5badae6487ab5be3fd0415f08e32eba7671baa55fd154c777f24c2cbd4cf1db6fe530c3bc067a0682c369a78f95ce7e11ed04a9e9d3c53d50139bddd368921e866ea4044c063fbed47f35a57463f517c60c7d17365e876da7d7a92e693ad111650cb1cdda95d28febd805f5adb024720d413b21208eb0ebb9a66238eace89da647111a04de56d73b7538e234f594411417dc7df50cafa803c60276516266e911a2690884251b935788bdd05fb27f26d56959bfb3f45e7fa0836ef11718a42cfacfc958b2daf625891192f8e66817c8d864d39bd9e5682d559194da0d3078796bcee703ea302f672691ff698e63735f515c41b103a97f9e4bb4cb69925993f205cedca082220cafea7ba011f107b1a47f1da57b787e91156a8f1477c6c00b0f6266ac0916bbc6e332d3d66283ad041eb3393ed029227b2c84650ecb7f3a4212049453fac7d5894cc13e0571cab999e1a8b48eba3e0543f4c3f71a3db3be4956de512c07462ef5edbf9734f838c083ab2a07d2c2b80e1cbc745e0570156d27e7ff6e31799da7c5d6333deb6384b33cc14f71226150c052924ba1c4aa70f0784856060e54a680b9e6a629941ec3344e2b8c1bfcdccd62a1df13097613d0684cc2c50a400b79a0f60c9224ec261a3f5769dbd7ca4cbcfc3473a759fa881f5bd2313d1290d5f595d59f5f358ecd2df118b46b44b5e8365a787741bc9af7eee9afe3f05508fb551f73ea723d20fa6d5b84644caab83fb8a9ba89ccb2e713cd6841ac0bf9671b71f3c5ddf97240d961e46bff620e3e08422fe3e16b0398af9c6054145e1f2a2e86310020a415adf50e61e411dfde8411a260957947a19a7e7e749cb9683cc89ddf3213eb4e08835a0d193b12a2e5a32e6490c1841f8f54312e50be14fd8366bc1f2fbb93f570a0ab6890d6c0dbaaf0aca82deea0144cec4fb2d9650d98975be84bedb3036013cfbd7e485a6b9e9de907f8f2b51510525c522efdbd44a05524d35b435162a63924d314c0cbd1c9926d75466ecc760791ca48aa17b18b6bf925e891351f12b66ea9823948465b2b05b7b77b6c7a92ee8b68899b6d58f2858242b96e1d13f428656c0884190a649fd4dd9930b9564ff318684351b2214a548196575a131a83c5d5f564a643ef6a4f8387e614e6e910d0a48c7ea669b2d4e9610b7e32706b1af34d036b9343761a3356494f8ac88458ce7bcc4c3f1044b7640aa05aefbdd3668dd2202ffc3095ded0f80da285994e8cc36c1c8569c44ab3fdd279fe66913ed16b9ff7ed952c8c534a3a82ec7dd8cb506969f7537225b615de7d1b8b5592b77194a54e144d3f8a4e36dd75dcae77a5fb6135269df5c404be736d224e40a08613d905075cfbf53536b432d465f1aaebc7cb2c211a0327b258d7d69939e0dd628abf2b508da2a215448462ce9ef413543e95df1ef3a6ad7bd58969c5285fa2c50a5870e381fb9b65868aee075f6153615f35fc6d2aec61ae7215778a17c31d23cff15d7f178d7143948897317e49be7ee675ae1131e7842fef85459f5ac47d715078660e0a322bba9bffbd4f0f7bd886429d0119055b636f0ff7e625b961535e3dea4e9016428c3e944062f94229307fca0ad78012ee578a875f07bf57d08336e880d3e968af5a3d59a56390828c2c52cb118f575a5d2cdbf21b23180ceec64bba403364917965e4e073773df9f35dfce753e73340e72ee43e3eb8a3c934131a9422621cde7776d0825ee78e36f5acc7d4a657cdc26706f7977e36d2696c44af02d8dfa56a25328fd3a65e5fc810b310ca8793027da92c87d44741261f646250012f2caca3bf92d289a41b0fba791a5f91528da1736663b194f117aab5fe02d6f26433d3a87c0ef22cac4530cd5eb4d91ce42c6017434d1b4ea54adc207b0f0485a78259cba568fcc288614505b229cb9c57ddd374371624f52a74f88f02b19a1fa42b5ea8125b5c0f54bfbdfb22d7c2480d3b4022ef8b9d1020d15e86085db9701a7a3147f65b74d06b42d964faabc81baa3d9653f2947caee00475e8b49ea0b0e2238528405b837dbb2a5e570f5fbeb6929ee393e4d64cc24deaeb26520fb29e989a244ddd824e505e65d5cf490ff5ffb995146370c1a6907ba50ffb25838d20656bb3268f291ec85799b758785e843331786051e16dde833f4fd5a7adaffd95f4ba11187558c0b34ce8b20c4ed7057073a116c25762e496df74f986360251e92a524c4018f9850d829613e7292f575e0679e64660e054bced917a32254e00e4bc0055869f793aefd85b33ca6ae06ea8c8da522e05bc4f750132708496ddbbd183b24b319be8e15fdb221131657ff9f20b783e45bbcd7bad055091ab1c89625f30c53cadaf767e37486aa945f5177fa90e8670d163868957a02a5dc20d5972afa845e9744397d75705407ebd6a2bf59574c884322ae211a4486bc15fa118c402fdefaa01a2c90b71523c844e1145c9906097dc26d7aa43818c06c2e561b147f13aa9a0a79ea776611066c073094baef9794ba01d5a77c92d70475ade0c2b78af62d4e77d2674bf7dcd5d1144e4eac337d081b23c8e214627c39336017e38b42ade9c3b96a37350160e914ad8ca25a5649e0d77b1178dfff22eb7d05a8007fd4800302d573bf3611f67812abe572827f4fa453e577e464a6d237fd4b3b959f410a163055b764c45e6eef177c159459c000287ce5307d819a2f9176984b1b328c1c1f08ba793eeb7e478685c6fe8de91ce55bf44621aa6fe7f2c36571da01e0dcf8c50958512e027cf704285ef15b47c0fadc77c3ca5c8e832ad717175a3d5ffc2fd0f191df95d4297a00f62fb5090e82b3aa14c71fbeee5eaac5d26420146f490b4f5dffcbf42969443c44f74df283cc94ca83a0110b7c4e068f9335fd717cfd784ee0a5c68fc70dbca04be998ee51997799e2f4b7c316ac2be5e16902872d72f7fed96a90bd01813bf2d887ab6476b7b866ada2d571c630f44a86ffa9ce8f05acef66a50c0c3dbc6ba7471f059eeafb043ec1fdf91c7cce2ad3e629034390c18d2a13f6a243c098c617427c998e0a242f66ef92940b7a939ea7cefc073cfeff39e5adad13d3224a2a359a71035c53228ba85c5de0878c0888f6c2e78ce3b8d5396341f1a29d9988f4c99e3cbb89ca09d65e5f19f21be16dab62f0721b0c071738d750bd0ac55738773c46b684630a7a34e91ac38038c7e81402fee6483fb5b163d7fcdcdc081375893b2ed0b1e3b89c15ce4eecdd04a765cd274e5d8249d2954edc02bf7e3a8485b373df11a14e2ecec64a05ff3c9daa5d24c3802fb2a8f1c2dd6fd1d9acecf990379e1558bb00f7d810abad96bfbe3bd766086417b8c503c0e76a4dd9bbc107939ea2cd3ef2225e26c39696c65f1630fcdbccea868a5be3b4e58399860040cb08c83d21daaa2e2efe5b8a158b36bbb4eeb52fd29886d0e1451869d0b09bcbc1f20f24bbd8d0e2af061b92653d0e1c0cf721e1c3c83b0927a95d3c0b0b0c7399b90d4043995816e44e15a0acf1b519dd26a09dd837cae9b3eb719c7f9c39c78987427f4655c6a0def8bcb986d3dc0cdda12b68cfabef6c9ed623641c6d48d6239279d3ad2933cc67782cd17028a3511ea977d7c0166ca57c3d0db9456bb579a31c243f51a522e31941332b920e3ba501062049ee63b91221097dbad83e071918595a9534d65c25716c7460a6d9aa8ffb096b9e263f108308e31b6e824629f4f7ffd886d723d221ac6a3d8e412516327d8830cde41ed9f63950b63544f30a418dc15a174acabbee061809eef49dfd1c491412934414b8fe25ad4a0d2d9981052ca92048697475c07db8170d296ba1e1e89e30ac3ea0a76360fa1e4f1f554befcc7f61d88e97ed16c4998bd7d90a0eb89a140a21591ab33045d39710ad53652942a0e1bb57b0a022ca3d3acbe0ba0a0708e5c614270177fe0dae8d8be39b42614e634ace47ecfc5c1b2de1b88eb8fa7e9cabbc4ac88baa1bd172b462da47663d730fd3d604550a19a37c99e7fa82360e9513789630bc91d5cee2e0404f20d5e8ffea032d946e961c625ec8e03db7e05f19ddad35354b7ab164fef7a6dedbcd576ebc56ec192168c29de6c0618aa24499b8f0e1025227a5f43757d81e8c6ddd3da046fc671fcfe0399035a45f9b852fb4ec87a3ce8a61640448fe255ccc99934968eb534f905f0dc7a3bdf54f7249a253a0bf881239fd926c555a6dcb1a62a7d2e446314550d7f4f12f2e723aee229dba050004491db27bd14eb7771e6f7a88a3e396e29ec9c4c499cab90184347d243c57be6d6bc274b44af70609e86c2adfea41cc03319597b89ab16de0ca7e95c9e006563ece50bbe3cf1453656dbc9eba300261ecec85dfcf6a63414860c58a4eeca23d374e60ac3446dbd7b7f0025593723125a0c00f667cb67d6829a91dc088d555a930efa1693f0f02c5c65582f5fc9a78ddf1ee19293daaba4f8c1b350ce5cdae21938cdb949853b28a575d87b0c444c1e1977d89e3bee47838c8a9842a60d6da116c879da1362ba6cf37710c0ead9b9cd92d60671b79e025f4c2f6964fa0eef75b3bfa623791c405484a721c4f1d0d4408b65cb4475e89abc5100ab3c353a1575a49c086fbeb01ba38a15bbbdb54dd334213dd6080baded3a8e5499f07b29f258e4548bb08e66413bd5d966db0a9feddeec3c59a56988a07ee1223d8779cb1647b45b08b05fbb26cb2b8c71acb869a7332147d42c4b6bfb8e8828cc394c9f9842ba7bd25a96f0b6a967f7dea23b2f00681b0937409d0694d4f643ec140c7dd99c04450c5bcc1055d68487a3e98025049ee39a33827035dca6fd928ac20812a2a6c243fbd1bef4f2dad134220882fcef265d8a06e1d76aceb0c5ed4ee4257c74aa68d7ce47cd2bdcd23dea436f92bf2ed69fe533cf124d87d1d0b0813d56277bca7d88598d3a0770372f0513854ecfac8fde72eb5a058c0329b2094742fad45156e6c5421050ea0155c46731c70d77ff886f506f8ff1e44d8de01666613b1dab423302e80cc061cbc9175942c627082ef35ce59e7423f5d8f4d4e4fa994b7473d08e2e84fcda9f53384d61813ab3d9a3bc50edf1ca91352210a1fe92ccede4794fb9ae4c713c2a1b601494ff2b128c17324793b18df496d9ef1c9793c34955b172968f71b3e6b5be2c24d2ebd780ede2b117ac2a6f98b69c74a4e76ac9d591dcacba21945764354f2a04cf2115dbe980a5558fd1b61a5220bfdaa8b1b9204c8ecfd2998aa8a98bba7c305b2d68d3a382e6ccffd7b1d2af9d6d3554b2d4a4199c4408fab6d578fb6608745659b694f52a4544aac8ee4b4b7186f518b048b2813b3c671d279d4b4d0a49f6c1e3606a8766ca0cef2c38b4b3c3f4ba1aea1b8691d70616df678e065ccbe7483f13bbef674dd01e85a5cc9086491de9ac85185c4f42792b4457a0e5c3cb56a92987e685f7d0378aa419f69241a4d53ca11c3bf8f99807fe140e9450d9751512778b41107265fcf67e078a7b27ab9526bbc42724d404dc9d47bad18d58fe77e1db9f3a079be187c646ea912e343abe217ce8484f1ed39840b26eb2877448370eb419e72f049c91b0308b59eb11ac4efc0a9d2fb1ff444dad743348590feed1450a6c8a5afbb85d36f79a2bfb679698461d74d40ce7c21f82443d40c22fa7cc94d1e412762ffb01e5ff94c84e9c0facf5ee02b2eacf85e470be36e6f80ae599a5378152fb3260e94ac9654880847af482dfd7cebcbde7ca9e8accffa923055bac2e7138638a86eff02691e2d72f8e07843a735930fc8310027118e8ef8ebc1ca188f02842b28111d51fefa5b6c91d1cf247e305ac091099abe268426d7a7d7e92cea243d000ad07d4f52a506020d6248b994d59d70281d954f92e8cfb6b71304efa00d5035903921f2b06b1795d7a4185669277cafba0ad19637353e1ed672d856f5ae6dfbe4fc3ecc0bb8eace142a7d59a8539d2ea4626c88e91a02e45f29949ca89fb5cb013c078a4f4b6ff1f1b60716cf6579820dfa2fc84375abfffdeb880228a6d1fd07015794632dcdf8b1d739df9b588193d5a5260b3b73f6a94c1c741957947b2101ca2c08d0aaa637f0039640383068aad1c38397c894827612f23b4aa11c8259154143409fe288dc27a49fc517d83631a12b56a23ad96411fc32416fe924f66b58aad9eb80d5774e92624fcf9ec58c9018ea50a4c8f6374613549309b7bb469994a39f772e18ceeb8d8935792f74f6f89e1bfb09829a59d89bbe64717293b2dbc74ed8235703c701c2c094b4c082cf2ea98c69175d45efeebf4a818431b9f643eeae2328079176712a7d1b66cc01d923589e0c3d381c03b027b66c33c59923905d","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
