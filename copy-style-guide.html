<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f3c7c9c5f1f6ca5210316a86f7013b149f570c1c1ae7f0751ffcac8d67c04dc4ec24191c457959a0db9b196cdf3bbeea105d9af46e748ee6852dd082b4ced8d1cc62683f9f137db327313b400c7378ce238d94c5a2b3f9f158730efa9fa6fd0001dada4627b13f0ba72d97217beda05f5e7ded111ee837a1b5f1662899e863a1ddc74f2ebc8593d23d62e0bf332bed0624f52f04c1291aad30cf45a1ff94f79fc7225efe49bc65313e1a9f6686338da227823715f80cdc3c55c27a9e4ff5d409d3cf875e5fd3f1ef22e056bb1ea485263956f972e75e2608e2c182ab3ec898540364706087d125e31c0a9e0e274fd50d193282af7c2f714a79b981afc623ba6cf3f1369a585c37f78fe49a59d254c4390c9ede50380f7ca30ed2ff6454a15e1c326be0a9bd4c77661cdf6decab63f8a1b314c61044034ff2f97ba421cd46eda694a554a467dc9407ebd3422671fcb05bf88133cc1a4ed6179c1e82b22687be96404a99bbc57d0945f4a1982c81cb891d6c10149eb932331045f4b179aa96c62f8a2b10d7d374b97e9d63f520e93fa35b8f1623489e688b94eb1eed7cba74286bf3803a28f06aac3f8fefb23d58278b7ad873c38436befd7707d3a1cea8af840b179e9a6a5588c0d7ab5b22d6a54c891ab1299a0e5107d24c35b492fc0c0581462b025e4e1329bf7af7170af85ca3dc2dd59a88f36f73f0a88b45a2e41e0f8cc7853f48ff8c903646cf266ee705696e21e79e72572e989ac5fdf581a5225ed5fd75ab51b3899838292d53af976fde9bc24c3a71160df218425287497d18c18e66ad8b2a432c39ed864a076e523dc19e949824d3bf927e4508beea128a74b282de43941ae55f8e2ab43478d3898cd1f2e6d0146d0a48b09df4023db89bfc663bfa53a691aabb5da4b0863552c4e2a487478ecef1a120973f0f2437445cba857c64829a8b935bb1fdcab9df3371c237861e5976157e1e14572ea648430bff5c362f4e6e9e28aca83f470496039269c4dcc10a8f6e99801fa47c15a50b90777c2ac0201dbac26264d22b5d839a210bd3a4cf18b48bd337089567ecb85e30064bea8b8bc1fe56bb3b03b78a156b9ae769401fae17cfbf53ad941dbb60578ff38df3268e829aafb00d3fd5de2baa8754b8b8ba4be250624fe3bd51a4db3935980cee6a8dfa4e6b3c2f6e05fc38ca5aacc3b474bc5d44193cf73bc210d08bc03000459ac71f6128fccaef5d30c10a8b20bc089f558c517ff29ea3a6c1f04fbb09dadc9756d659fc028afb68c2662ab3a380fe6f598bf72e57bb57ed895375ce44784e4930d227d9f1ebfa43e7dcb49278c62f0f957480ab10cce8c941a57b1e836e9961aa096063fda6eba22134eca84a42f84232597411e8410443db847a95f19d90cb800632968c945afbdce85e1ad566ca55de593dafb67b0bb535556cf77db2345fba1c796c3da8c1b169281addd149303bc4adce3a3689546cc9f8ec5043c0c5de0b51b16b129517369d43339ac584be7cc9a687a7c9a68c1b69ae5a1ce9802086cbcc088679ff04cf004d163e58c1ac3cf085f771844d55889e631bca7011ea5714be8f6af364b78b3be2ab29e72c7c311edc00d0ff8836123e3e66aceeb0faefda1309b05c32d36b7b4775608511da9a9e56a1d2bfed8e2ffc22bacd478d016c0b64a60a6810f83da328387aade58e8865ae1eba5c062b809cbd6e5da6fa1c52ebce536bfc52d43a2e863bc530341c3fa185e0ffc98c33ac1f566d2294aabca2fb62f3b7c6d181667fca40669645116e538027ba0d032def2e85e7fff690819bd8ec478dccb3d7c201bee753752e93446a60816a3d47ed6617b47ced668e01fba505133a750815ba6e1791c321359844224300de311ed75e570575775117066c98119ecb924be9a9e1083b4555811ef9323cd1aa066a6f33404a72671abb418ee50185dd446c7b2cfcb84651755e41a98b40fff006895ecdcbb0eb841b459278c019c78e1cdf03293d99c560edd614a558b504ddd101daded94a1dbbd39e8d70aacff0de86dbf02d04d4425e8242d5623b94446beab658618d1993fd71fc324046394886e5cfa66b5b51eccdc4d9a58d32f8999be76ce7a7d71c486dadb9c2625e80bcb66e7c28fe3e881a60d4afece194e7d36900dfbc86c5bc8a83d764e24eddabe0ec162779200e93d7c13be839978198c96fbbe51b6125cf688e63ccf4a607c16d12f910d65b9d21dfcd104167e0d1f3b2b4a7cb5134c3197e96e72616ea7737f4a2a1209d63ef0af9c672abface02a36ae8bef4e403cd3e0be38fbdf8d49292208049cb8070414b058b4a10d8e89c72bfba82df1384e524cecff6e8600da83b4ee20b53c93bdf7efe3f5380ab91f85328f5ddb0f97feab5feb38627e68fb9f4faf132b098d96f17afe155541bead24448f03556333866abb8577e70da8cdc9bdb165257e7135bca21b1db41e5331e60c5c1797a1f976183efb5d07ebe073bf3fece74cb1378010e11ec3167d5c47d0e9b92b5d361dbaa3cb4ac9816f5ac3a170f1eb9b55b09416e450f94c622c04f691ca8f2d21018aa1c5126609dead2885d99a644652b900261f675c44c6c14be5799a4045a17ee4777bd39906c2f31d366d6817f8b0551be2ab561742bd979757cd3ab1ddae489f5172ee12efeae51f29d3f1d67f06277d96a929349f0764577aa2f863bc27d766875a2b81e127a553b4d71907f952bb0f4c41a91a7376d2e3e10cb7a685a74aee7a3cf021133df7cc838872d7c9fcc61c5bad218300e6899dd90f81c1b4a638ad13457c622844ec9b988e8c81be97e7a05bd87bbc342e31684888d260c0e3f605cfc0dc9a82a492d82e548e7a71a0be864cbf212b3094a3f35c90691501a6230298ef6e4ba01ee4780ec42c671d2d948356e9c9717c34557a65531aa011dcf695e9942686757a9a3c403ff0684df65dac9ec6f52def3d240f5341f4140f492c760f54f8ed41b76d5bc98f02a30db5104706f9627b9f1fc36bda4b3ba35e3aa17d596c07e6302647f7d03eb66b03801bcf8edfb50af1e3a66a0a73111446120fb1199e65db59b8eedb5c87de15a22b4075a5b3712ac2b0a21c3f336d88c129ae349dee7955d2bbc05cc1e20e440ab6b9df5210e176c4b6c31cfebdf9a1f9465b11d398ac38832f2e6aaae420e2065b3510a1c59c15bebe8c06d293545b63f75d7301a69241c0bd3ac7a93e7253dff8e4b2004908c4d3c5c01f142d8cded04176cb5c32939652b2c361b1ae40819d8ead5204ec50b543e08c670ba5b397370375c0739e4b71ad35546135af6d68264a4e2d5638235fa763c692ab08b4f444a7fef0b298c45b48fc5c17e34a4fad6994d5392e05f3c782ac5fce46412e1c6e5a05c27423eaa5d8a391f618e30606b777eca90d9f4c25a26af7ad122c781f26070e30cebcc1a8b7a770afa349d9ac09843cdbe3c17ba0f7189dfd2f306dbb5782a186a0b08070ee44509bde8422fcd4ce020b8935976fa44deee085f01559466ebbd714aae7e7f133c1b8a9ecc3bc9ee11dd6b806a6f111baed446cb2311e28569b17aa732a210e26df47c97a72687fe32702f137db8b6619803a40c591f260b3fcdca27a98b67de6dcd0f6663fda04dd24c26ec44c2a881115ea2abe665209a9c80ef355b3827fa01159fa7c359ac7494ce7256c62f5ea2c097b6715b2c8607da9422c0f5148fe8990980f0607d9c246ec29f262317afcd12e7a2fcd23395e5865e63d1a69b9c6ab589536019976d1d13e2b41eb2c13857818e3e3feda58528f24a5fed22e9543a91a9ff974347fa31bca8565392abb8749990a99672f4e31df05ae3c96885c17082c1e6afe0c2832c8057d59097f1254d1b465815545e772a456e49e2b2d4fb451445803163003e6741d39788c33ffeb96b38eeac8835982484ca5d3373349e138837f67f5e0c1ad9250b6bc6ed4e132d8651c3330a9358460dde1f3c4e1ac658175575775dc60203823556e8236fd00a13f5ad2e8ebd7297a292382de031bd2706700ab1f9fdd9d6575d5d3a6d5633a0d5e01f45f1d1d4688bab9b9e875be15f1bcb89179d309b1533adaae1b22bc21ea8a7a63b2bae07dd30f2ee29bcc90f2cbffe20c87d015c8d9dd849a6473aeafe1cc4092fef0cbdeffcf22606c7800463ec9580d5133a5b6963d2eec1dfd9150d58ae49c1824977247d7ea109b3a77930ea8fb9b2b0eb25df18ef7c0910a69073a7341dcd2e2d4302b2b55460f51ee6d5fe3f04ddf5ccb6d3e7c2a1c67f4f312fd24a6568ae9edc2cbe796f1a01372921a7183ce95bfc0bca3a728794600b64a3557182542017d40bb0fb83e23d5e9a89337f114386c9e80d9906fb89edf11cd535d01e3c637711d9bc7187396b5eb7d8a2b6ea4198ef453de725aacd18cae7dc1bbe19fbe00605a946d3a6afad00e0004ef1f7bfedabd76de3822a2316b8f2d591c95f5546b4fef38143338fefd8739a1a1e118a16ee0d425fbaf303157ba6d82f7764c0f5d7f6af3b7b5853d425643a9ad31f3b0701dcbbdf818bca504320f70d289c25db73a2a0bdabd3d4c825a00e2e283cfc0e887802e158646c02da6173f6f1a0aa2c11822b37b181ad615e0ccc0bdae4733b290aa24b4886aaf6b43a4e79e57efebcaa2527fa2aac73c22fecaa8b7c05ffb3fdf35f1ae721521c8a4d626d76456b56097299fed6219d8013dffdfdfa3fa52f0c66d488c9d85dbcab0987c0aa433d96df18b49c6a9d2f8a6730b3ea31d22800fdfea8d0ca6291252feaa1db7945352e5d1a3275a71afb316c30f12ebc0b6fa999d53af5d25d0990e9907e03b14d7231c73bcbb3f7c66cfe16d35c145cd43693b6b0957e26029b1bf9c28e94c308164117e2f156c5a14a27b8134a55e85e8028dbd4c375ab72a749e2bd709b65fccb0a553b485a993f3cae537fa33294b822ec88089aa709c00687cc8c41af78161d5a7453ca12b058196b71ace023932a2dea21612070fca2640e39586c6390db24b18a3be6466e502e7184c1bfffcf6c4a1f1d582c6f880b4132b082ad04114d6a1262b05fb5af35c2a149a465b5b7c713b94491884725f01a9322e039701147c49a47ea0ac174ea8914808859a6c04cda1ecce87500befc523f26617ea8b8c237e33c5e51813ccf3d48429268d53c2a4f0879ee22183565cdb79e0fe66ced7b6c30c9c94860045b28e94fd490181e7f1da757a298a894f851c9bdf79bce4613f5d835589d39080ed3f6616de9434f58e232638eb83c26257255fc710d8f8f23eabf0f128bd8860eba6be32c02ee743d87849961dbffc191b8597d609a8f54b5d7ace7e7d91e8db99c1f9da86efcc7676d048240d16f41e857d7dbadea1bc60bf001c833a9f6e1998156d404a9bb16e60b349dffb6856869bd82bebed010fd45d3edfaab2aab82b6916fa0c0f7f3efa48351bdce4c32c0dd206c8bafa067c4bcc1965c0b58ad055ffca55441d83f41923b29583efefcd412963e3dd1ce6b40d3ab13a7d170402ad2fef46ef0adced99fc8fc954d8b3146092ef3a1406c3ffc2d9a534e89f3389e4a316cb71f35cac0a8bd6ad33a5c0d21a2bde4fe2b426c2b6d210bac0a98560a772c3cb05f38b77becfe2ec7a7ab4ccf8b3a517d8712f4375560eae4fb76bcf57fd7112390488c7524715f187cf07826e8280983a6c9e74def1133d11e9980f2f7ef8ae8ccaad56af09a6b9d1bee9e349382d852a51dce101ffaf26e26d147d69b12c427075f69fef5a6816d39f3ca949f1683f8dc0119c5422b0b84b21389a0910bff64e0b8e5bdef3ec447e0d775f960ed1896e1e731d338c7afe10e412784739d448d437636d2070f37fe22cce063365311297c97cd54a12028908d939e3f6e3bab8849dc5036349c004130b9ea91703255862b005884543a1ee216006d8d1d0db3e3f14743bb2678966c60638ddbfc81da1ceef23ff91188f68fce3afab7efd59217ca717ef92ab34a77e987f2fe0f6bff345400ce077899a9c49ac05a7762999300c1a65c1199605b5e827eebc17e47112a0fdf0ebd6f0a7188eeb2b0baa702a1aaa35c38e8866a145a00d3b233ab9194f218f07161cf261cf81a57f52e835bacffff09791748c5b9b88f5fa3a114f6c9d85fc11546e73595d36b9262bcf9e078371ba1ed3947ccab2dcd7ca22f4edcaf888a4f7bbbf04418b9ed0f2ea10e1140df897b426513ccddd0503fc2bc63f6acdeb7bf124109d80efb88fda7326717780b39f91860342352815e8a943a0e66b7bf1c31c509434cd577a0b0bc3fafbed0835543a020727b757db941aa60016259bbe9a515ec47ff69d9724b459ac071a72cefe8f0017bcd80b90cab91693ef6c61c30e05aad7a367bf14eac5d25b8598ca673724644bc7f4713a8cd92fe2afb3ccacec175642c7cbbdf7c0a77abd9954ccd8f9d7d69fa87e6d90037dc5768295ef82b64db65bcfc15f06b7d84b3f910a0805f7d9b613409bf8a66b5a046630224be852fce4c60e47aa9876493546be497f23f444958c9b150828a455072ef1158297d8fed8b516576cb0ca08d2c80c58733a065edc6c6324b47c26f17014230337ef4e46a120a080ddfb0e51bc21fbf55fe6db8513e2b282e98c35cd7fa1598605a6b97fcebdab86ebdae46f1a0c9e972ece4edc537eb825f06c759b3af82d2412cf8cd84bbd7c9ff5d1cd7fe767f8b1014f220e44969d283bcdbe72fa0829ded737aea4d5f6ba460b3632a9ef7d0dea7a25b138655a281722bb7c43fb0eb710bab97b73996c44924486f028d1113c7c0c2918599206262e312a1e5932625dea980b84fc249686d4c68ecc3dc4fda81bf5bc054bd21f2eb6d231bdd282293b46149285060b26332c207b9c0dc26ab45d6fc6cb675ba0a75056f258b5af81eb14ee960dc8eeb9b644f74341391888674f482818a6623d0577d72f3b48a7bcc937aa2a1bf0532f9fe01c6bc0f3b0f1d5f3b44b38e62f602e920a3fbe37a2bb5004a836a518831c698b6bab726317af77905bf2720e583cf45979ad68de1792310f22d9b83c16b27117014798d87140a5468fa695a57abee528c0a6fd75ad1718c0de34a60eb0dad3267b7b65796e879ef2472953ba60e4188a2a05bad160ac667367ae8f7e6c63cee6972c9fe05ffe4558095b859d1f339eebe24b668dbae1387e75543d9222b37189858fd98628ec6875def9c11318183ebc7b75f373377806ba623fd7c93a9bf831422516af279d44bcc6a93cef31ba741e70679b0fc6f9b0ed082506ad683246fa088e2b1b5675ba03abb333bc0d05e29bbed2adf7720b7aa241fa359e41c5dadb670c4b4da408c456770569abde85d98ea7546fbfd58589f7a43cda2d419ecf4ce2551ca9fc71fba73eac412aecafb5eb3a8bde0f857cfa417978f0034dcb8ffb51dd307fea96ede8c4e82685b12c04114d5f5776c0ff42d6d9eecc4f8a9150e6944f0f756490505962ee155da31e6e9800f77904d596e7cb339a284de04ed6d3f526741bfdc0ac19cf169a2f549b61a53fc4852e0de86dc928e5ebc08528561a37f2127d3b51b1675d0b5a24297b576463dbaac7457e5bb3990697a6e336b8cbb6fcc25b56d0641271d33ea53ae2f19806398015e8d3db97dfc1349cadb08f2f0b907d0d1ecdb98b58f03494c9c7f4b850494e29ca1a28068ce215edb13e0504e73c30ed457670cdc1bb2a5e0b8c7c0b6590c1512d6c0b3ee8d0303690dec2854082a10db4714c675b8e982f2f14f6c709d3cae63fba77e7993db06cab01d754cbb90f0cd4fc80dc94d164af4e5faafb71fecba8f4868df5063e9c1c78d4796e5913fa9eff5da04e986d846c134857267e7dbf7d26b1836897cd028638ec9283ceb5a1c7845eedc68716cab8a041daf6956d24339e27d5d3c5b6eb2c01b8988b1378da2dcefdc843526fdf356cd8e71d32aaba90ba157f6a5ccbfe271f4ad4e8160d49facfe51e58eb7c90ecae389df81f2e9941b972f04d601d183ea6b343ddc736b382837198620ae300a85e2d518fd00ed61f8ff65ccaed534402f9de23326e064105acb9f574c2ed8e5388627b56a290c67c3ee6c266f6ff5893ac847148c0dec119a3a912527ef653538ed194f9ec9e18a5b33307b5da84b9bb26df48d72201de101a10410bbc145cfa78acba9592a3a55c220c1fa43eff0dede5e8d3686fe5f4144b4506ddfdab45f41dfb5e0382a1fca0a07090081d4621dbb2eb7f77948a2687cbeff506a3f13ebbffe592e893711f03d52a95a74cfc671e6e0315426969347426a220ebd2ae38d5f127855a4ca3bb850f9e54d7dc94bc79e36d2ac108d487971622a8f01f616a94eccfeca2e0ef65c4a013731d17a91bf2c1ba3b363107be56d89772e2615d63fe643da10ab0407197bb4dd1d9edb31a66ab98797760f7115bf41002c4b5b50634f067d6f499b7959fa43e5d064ac43f6bd328d385d9e4c5a7de4d5ceb2f851cffc05170df5035fcd35b33bf013838093c172d009b115888d8056d1838f654dcfe69bb0f360be9d8f82d38c9ea9f9db99a781993c8d8958d7277c50d68fc89ceebc09faead7744970937bf928c560e6bae35a1ac16907c3910779983f27f00ffe866a123015d182a58a23788be1f79cc0638931132f0ddd6fc960d3247dd45f9ca09570b850217258468c81152cdacebde85c4b2dcec665f776fc37a490d2341f9e377932a0ea32428b896f1477ee8fba1696aee2a69dcad1142569ccd44e656153f5a53598bab79e80066f1ececea0041eb56977d5cd334ab53c0f26f040819780c6be5ff7ea7ac2cc658f06c30b16de6af86d9d92da2885b5c23a060796082c223474a4f6b7e3a65392bef6576b4b45470688707b905c00fd6b57b0376d24716414b2236dc091815c456877dc4ab3c77f677be3ba46b9fd81a31cc30fb58a7b25a1e10d63de2ff755b9de3fe9a46916acf533c203a38960122260329d79b0995948cea13e1218136040bec68a414ba2f84ea7d53d7d538ef14d85babc98d2e231c1cd4a9bc3089561f8431e72fd19d4ee5b544fd7e8b19b4562584020894b9ec8046d949ad227a12d577368392e4631a47972d3101d4b5e4643d272a28efa7504f4b1f75e7197b9c3744dd85b3b35abc5a70764e1f250494a350121f33c06e616d826300637c7c2f568b79afb96ca4a57d0743cb8993e81cd6b66a97bcf67ff5706badbdfaf60866f4f80cd9c3ef5f96535f6c8d6aa59cd9145bf294a1f8a0ec1f2d6ffe633f1edd16a5a281128d2ed9b15ef4c93947cae48a3626ddef1eb2a1e9660703ff42977db33f8ddb24dc022a832b3202932d27a4f95657ae906fee24227cfdcea3704d460223474724f7ce988e9082f549b72eb9b022b601ee285bf48cedfccf524a2c2ee04bbeb78a27a668ef5db1971addc346e112fbc102667f9ac19f9e7e640ed825c72f43d46f936c5c1b56225d29cecc4b6e59084ddae80df2dd1db2b7c1f181a0d86d9394b6ae92eb49b55af0445e63c7eb0f11eed5977e1cb4a1c3be8adcb8a4a878895aa79a96755d895921201e81b86afb2dc911e949e1a9ab33ffcde27cfabc939675bd5b191d1dd48857ee6d39f64dad93544ca34f20017e7865323e1efdb38744c0a901e8172494a6e9686f4be334fd72cd6d504b4dafd090b076d29e2b31369e900247dc9ca5c7010384912613e65b5ccbf3912357e41be02af5085d536137688476fd057f442bd0983f68f6824258cbeee438f55924100a0fc909abd0236b8360f8457d4a30dff3e9735f8d5c57977223176870c05073c805338ad61958d15fffce64786aa95bcd36b61694b34331f52ca6e21ca150dbe9bf4a4052d78cdaa0f9bb9d161602744649f93725fee0f468f3abe0be614666e62d979e8fc0ea4da48abe6b3f353ad95c3dcab98a40f043413099ec98e919310f048460c61ed77b6280ae67a3eb32e1f4410607f61d909217651d3cf5133eb0e14a6828b55438146275fa56918f0286cd063d1e73c32aecebcf87544babe3b4103ca431639065e135e6943ad29a80abddd92f10def4953709f468cae6c7f47dfbdb2b81a38d29b27c9bc1ef36f451b35f4b23ac1473e0ac8d5ace180036f81c7957af4d8ea41e5186ba0ade2aef9e8eff8fe65325285ace1ebbaa714bebe40ae53bea71a58daadc565e356db6f0a17959a1922737bb77771b834746443049b9a18f69b83687e7ed22b0836a5e02412722a946df3e9764e86454c994c690d990382366acb9c15554c6f09bd81b617f54fcd6bc9856b2b2df34a809632257a3e7cb9ab76857d5866fc06dc0b85543fa89aa30c52654f9a1017b3e45743788e153075dc52978650ba2adcfbad5f0f6c955474eb37195f161cc7693b0d6c5ed718c68f3dce73b5ea36b9530da56c4b5aca0c735db35f3eab54771a526adecd0d904f57f845687a267afff974754093790402dd092d9f3c414457947b06d83e334f4947c71c8fb0b23f814b91855d8007879b4f6b6fba359d005e5e0e000983662e118aa4d2ea478ee5564dc366f17a5105ff84927df5aa4bb1a18ff36ea22b046241293997f1fc1ecd05ff396e76a6297866e3dead74d227b756dbf18120d2b9fa6129d35c42962a9a36e6885b342fe8910a69b40c403ba193e73849e0d396a0104e15c83fabd46d90eb8e681faafd9c2c5d85d75e375fceb4d958b03213651f78fbeea6569f9ed11792f2e0fefb10ad8dad4da66c0becf30e8d761e7a7d4e70737d3d44d80ec17e08380e4c034378a43026c1262145f23808a53c3b14e4ee05bf10c058cf75c22422c1f90f55c20a71f5e7b44a822c47423deb32a948d4c5b8cefdd4a579085c53b21d06e71a70c7308b850151a2a08c2226fbb448c9b558e204312c851665d2816630a44134391c9f77597297513788da0a4a3302a27df60d40c6e102cf45cbb29768cf7dae9b7d61575dcf4a64f392e1b3a783ad7c414c78fd31e5e6d3311f702a4ec35721d44f15693e1abf61389e6a7d0db623a9cd46ef30dd790340f26908076bcf523ac5e84fdf3dfca8e9de2ad0267804a90168f06d157dfeeec1583d9c9ef47442df21812e61b064e25e1767e567d7e6b1e8509cd0f195d811d50b921fa3254850485aa254aa113e5d689d0ffe213ef10e5b02a82a9df228a3c996b6d78a68afdc44febaaf042a31bf236416659072e1e4a6433edb5f667606d95fdfba7811119ba3b08a96ea0dca025ffd7eaf6a535a36ad9b3ad482f371dc8d64014a13c3d3965956e3a85c67da68982dbf0ac2c2939da1bc0b827bc4a82128086d99a4aaca1602823b7697ee10edd32b68e21781a85e268243d98ad90646aeedc54e09ffc1f62c6fcb7f624813a36d2b1360fdba1b9eefb2e986d645b938ce464a30fb36f8a4ebfe7a158f6d5360ab47ac405e5c08887bc5e5db99e4b57a1977272ea79d3d33c9c167cfae343d5c13cd06522510a7e9d369e956d8adc3e445a502d1a7ba985eb33fe40dad8402d28ecc4aa84635af7159ed030b1076636900930ed8f19bf2d30b4adf196217a69b9c52c9f35e59a09c628877c38b24a7a1d79240c9f3fbf5da123279dbeb530b4e98f4bf1c1d53cd939457bfd118f2b35615eaac579a9c87932c7aa784d1949e5144ab9ff11ecc94a7df65aa338c0cbad11b5c8d7a5f0efb5230f9f9557f9f730daa40e52a305e9a20ea4363ed0a820793ca2adc20c8f16b0bfac136309de760d15d2cfd82bfae4bbeb97c7b508f85efd278655c4abafb75e36660c7a28c9297c90b83f1b3c1827c1883526050e49611c6537d264ee9261af7d8eb8684b2f0ba915c4a6b98d3824eabb184ee1a5207431d1609baaf34695a8c78f774804eee6dd28ddd40803d80c6d363892f30309e7bdf037a381d5d4141c3639367b2573c7afe3f1ead69a809553fd0919a8f967c311a75b946bc5d97297e584c6c11ccf8fc5894b164c723da8939926a1da4f6321347ded392a4b59a115f0912beadc499eba68b214f3ff5ecb40356f5c293bbc9d88382cd5c2d5f384493c8f77685b15ee919d894cbb19c36c768060e5379b7b9a7c6880e28b4fd9bf97d2ab7a5ef91f65d01291f839370b7089db3212a8eea6e8deda2a1207fe236c097fab7a401ae3d55ae47ce670158520af82a6d2550aa4a6543f4c63663fdbe45c0dd4f5bff20f3ea3a66c4573c5ab99e2bc7e6270ef4123ee5050b26b8abbe2973e5b42f1bd6608c6948c86eb714274b01646ebf9efc4e942e5ef31c581ab63ab2511cb7772d169a111fa48177c41e0566a0921cb58a91cbf8880b6efc9fc70b5e5c71a2ba2a0a678b0b22f2559dd234a65ef90045242096bb535270ef95e24bcbc7fd296c8df0bf1b27df1450460d1b95b998da4022557f41a2a3a46a2a16fbbc64ab662cb78c2907a4c90b7998563eba1388b9f29cfe2c3a79f920191b91a4395aec0805f7744ad3548d112ce8a288aa3ea29f64e301e96984c92e1a1b88d0be80e6d9195456d14d100b77b3f9b0b03519f410294f4d69b9caae451fa4cc3473ffe6c130450f488c4213699b1ae480054f6f4479a2fb36b6c3a5ae7f92d52b09f4526a2aa1b51b3f7e083d231cb643f1d26b4d3ca4c65bd3dc8eb61aa77f472827d0b2cf8a6d205955ec57bd87b4c06751a3247ff1e556d4cb2afa83e1f196499c80be892a247fc45461433876c1f9cdf07d84b602a44ec1882e008474ce78e816d4fa5fcba9d6a784d9b0999ecdcb2dc851e953989767630a4a3dc0ae0a628c5b6ccec43017f44a5f9c2dda28d107a4c071b17bee0bfe5fff3354e4b60f626bc4210a8f7b817a63a55bad596e0a64cf9ba8a83da8a682b70f42a2d5b9a5ad8f484c3c83b03668e0a4dd9d96138e358373c314390d2d75a02c5be72017860123454343d8abd5fd6f0b316b279b6cfabf32dc9e8df2b61f8260d9a4b73bf0d6deca08f9dcd91b7be7c91e75b5dcbcce7c91c085d9b64441b4db0b784d885038be4e23d0a133c0206fd6287b3fddcd649cb29d1d260a2d593f6be3c13a7801ef4a214371b566e9a34d7b205ff499becb416dab73b725720ff5427f9f2b044ab17bfe2ae7cc3c195100879615d22f0c4c1ba78518992176305bbb3a604d2a24d79cf34933e675245eee158428bfe9f3141c2c0facf10f118dfdff4bd79ced92ff8ccac863017383136648f7144532f2859646391e98f25db9f5723e0c3267460f181e875feae8cc2eb1a30f5465f5aa989ea9b052e705d4bd87248d596d26c24c05a566d8983a7df8b1c699d3d5ac5e9d86182d19f90f63ea0708f3865bb7804cdf901c4ad74bf13a6350a0620a513064013ead72b879641eb016fb8f3879ea86c91ac8833b91fcaa1ea6f818ffd0a4dc561642450a3a4fad4acef48031221cdb566019221e2b5bcb5ab69d7ebbc23217174434fa0751b9e824d6130d856f4bdbfecb53f1c3600a24fbb2d83d394b7c2813e8c3d6fc347a47a1cc4b299e3c526ed2ece04a14e26b0cbdcee56cd15c19a6b32ce38b88b686466e6cfb9de06e25c18829bcd3a2225bf6564f8984d7c0dbd1592a9d75050631a6b7e71a7cbb9a7ac5ee4d27296f973200f5b84fe760c8a7a85c6b061a8ce5463158fc8ef29111f061bee9a0b3da12fe175a9753b4c46ba19acb0a612ed046c00d90af9e8519e0a9d305b27c92363d5cd028101817f25bd03e8657b26df3987baeed4bb85e52aa2031a63e6d00d1b8032f75210a50dd8f6b3a1615fd9b2317fd89761eedb636cb62166b89b37116727ccbf1e71a559e79614b15b17a7cd7a0da7e1f5d2a4fb7b402accb213eea62971849e6171adb730230bc9f33e6c7c41ccf98e4bc486386f1b6f8b3ccd60d3f5ae23c1a45090845e98ba6e4ec34684c1bc5162a661d904275f102af931900cef10384423da9fa2d223d1dcb99250086b7773e208e473aa38ff65243c15c25ea47d79183fb0f75ba98e54bc14c9e44136899304ad9c17a2881a85e371706a51a63dd8f3e0cc92480c78c48ed0742ccada30d42806c62e82f24bd4f944396a7d6511dfc10fb1e5c963cb89a15eaf67077de705bd763dfa1d267b582f7156ca8c13bc2fc02ecd737a2002395358ca8d34dd05daa6811383814b54bf2ede3e618890c7073b5d9a6d3d4f74877e9a1970974549c3f2b6fbff013c00800dc672b81cb226862d1425a5b03b2c177c2fd0b9e67bbd4911ac73dbceac011cc02599d672477478b522a77da23bf5b9fa70faf245c49e9e54d07dee92405e89a6928bf41072c6791dcd4c4cb0f4ca821300e08eabd8f3c60bf7a567acd9e59fc86241e9f3ef269f1182b03de0e6cfd7a8ee059b6e89013b4ef351fecff168a52d8fe2d75514f9d6f8cf5e6248408ddc911daaf8052e3237ec47d996e65f041305b7fa16d7054e19baedff54b1addaac7fe6871ca5617067d38324ae6f65366915879475b4c851bc2489794c0a79d6822cd25fba60f921585dda1f58aec4c702a2080d813732b4b5cd6a653f9bdad77039c5a5da63308039b92fd8300743d04938820aef436b3a6441bf84c783324a18cae43fe2998a829de3755f8f1ea6c0bfbcba6e4859d3bae0e26316298153efc696ee64a8eb366c19413e9211c49fad2a29b8e561f9893e158e4b85e9a1c62a5862683ef99aa932605b1ba0d8f6e15f6b06085e28e348f72b73de133c55dfb5e951b147b3117be38e4c5a5c385787e33bc476f6a3ab8b71487f4b156f4cc2503372b94a5c664c3aa8433b095fc0ed32a496a8d4ac1705d14d93d7381a90dd6f5a4a7900a5490885a3753d2540f1a444c7d923b3d635df1b82f05a999f0dc06bf267e48494393be52cb7c38b0cab425652ad632cc98078b04b7b2fd43e987c133872be4c62a592121d7db6e5c8366202fd602e76cce174ea6f7071aa911456b42251fefc3f5aca03f134d9b2b5cd940dd34508d8397f9ff053633024afe9fcf3a3a1977f534c41a512cf73fb427944137e5e18244185918aa953dd565e76004073a906040ae12c316fd4f64e9442c4c818921d8833703fbb753490b7691e78fb793c31189f835df0e0b41af022d4d6e48c115cff71abab26126052dbc2a4edcd2087f533cdc3fb0d0ea1a78b2051b83fdce59ab303d78763485f3b1f8e755722df12973c36fa4af498b7783a01f5c714c7a25dd5e1938a1a746eb51eb0f68c5899c777abd59260e4d3d49171f5094a023d61b3a1668c61aecbc53f81540ea7f884cc360a4e1621c6ada999142d307ad1c4616c388a261053ffb9162e5d91611e161bfc49c21a8a06a5b9afcbbb091a440aa0447d0f879c843bf999d2c9a05e6632e885e66ff99ead31689f9430314a75eccf5a6a4c6b3b29c3b21bed2700ca7affa9eac3e4bb0c4d5453fad42323ad5583a123ad47b020fc57d6fd4762a47ff7fa8d8e681a23710069e786652d00b82cdeeeb92570b7f661a91a19e24d52195a228db3adddfdfbd4b96c93ec45341d5fafa4c3f6a65bb4c159cbb77b57cfb7ff55456241357ebf248013d13912cc7ab9eb8de3f6dc7e5ad99bfd0588e8f703bd333540f37969dab403e0e479f1d225f3663e47bc919ba4a3db99c182d1c58b0952c5fada6331a5fd244d33a13a5e6fc936c7e754bf86a25ad91ebd203dda9aa64dc1b7fc13b8814d418b48288b12b2953a18b311a6f276bfd2efb80d8502ab61122bd3eea1d6a7e7271ab5f5532750a3edc7dbd1e9e482751e48c639feb52cf64f76a7d6475be2128262ca69b3d950e406229f24e2c31972b8c21e37e6d8ff3305c7edeb1ad407760b236c3e0942150a3fe781dc0e505c4f039206959a5dbcb5bf5d76f234ec9b42bfc711092eb08e6eabf1d582190a507e5dbbcdc005666a1031d18f74c52aaf0b3c8c51e72b235e42fc2cc5641169199561f38c398f1aad5f884f5f48d4c942ceeb68eabbaee387391ee62a5d856b7fc03a7a32dd14e0236b38fbdcad1c9b4b04efaaca0cfac6961bb5cbc5b50715cc24d00c39de709d13934c98632da4d8a5f6e7966f1745a73024aa66bf3b7fd1b5d2eb159c2bff4ec22eb5e1fab6205f0ad3773271a3a386d98b29486441c32d40b691596418a0a354213f8523e7b0ed70b5ed049c5c4ba0f9f9eacc7097f88db280be07909869435af0f5221f4962380fe490bf8886456977a3f979c6f98b9454980b4e1125f39833cdcc0231c0d37c275ef742d78076af9100b75209b73f4ff1d00111e30262f19bc71a78c83ff512326a90ad77901bed0b812c471984e9b0de5456f8b191b5c10c86f4dab9d198737fa584866558de57ae96aa8b2f03e2c714e0899925979312961e4017799437490d901863355b89d0ba5aac828e6e4faee5edbd4c4f5bf2ed967bdaba9900629e9dcd0c5f49565cda5283eb1241ff4bf06805bf7d759f200c5f86123d2b1f4eba26c315da8497c4d60dcc46f55d2d32aa73dd804d6d40d750633855dbb64f9a62e9d08761ce0a6a12c89b7dbfb9d9e4b9ed53643b613bd9e653b84ed9e3aff3c9d43bc94a58fc7ac45e83a230685d4f9fb6b373e748236e0f722d6afa4faaa91e318bd5b2d95de3f1633c43bc3001797cf1d3ad028d98e36ddf2506b46fb1fa60e738dd2e39cbb1de3dbf642b457ef8efd03423648b2de17f9ae8afc1a1c1e37e6b0f12379d746e576803e94568b16cc0dac58a2c2a84fb30b4f33d567d13c427d7f5fb8dda2c2333eed75f5cb65b98e8f08318d15acbe36549f9d4dd371f62f415276a83467d06149023e85c60938f36100591962cd6037c05c82043bc78197c9956736114350559b97185a2b9656ed5b0eda90d74f16ae99feacc009277a5d34de8c49619e04ad69d144fc56a59e19db53020e3e84fb6728d39106a8863f602b9c3c9ff9313b085506bf00c74c6b426b905d230dde7a46310a08bf9774d2d8a838f70d18b77516fe6f1d49e833ff8f84bf6a3b1cb5fa79b615ab5bd8d247227f773a38ce262395b8e268da7abc7acdd9d97169fd0aa8f9745035ecebad11cd2d9705d4c44fdb56ae3a0198c498ba154016e012af2ca9f91c55f26885172e58305aa44c68b7ea922aea67d62a231acaba1664a52cba5daf6eb901cb17f239a34f2db165e850b73761b68db6e35d9d4926e9cf6d6cdb332d788f52caa7c5dc8f14db9a64e8716b842f820216cf826e21b80377e396e6c31ba157685019914e4315865138af755c588b7ecd1be3440a92a7097f75faaacd8b41a7d5ffd9b2e44befb3b802bec390a62d48798fd4eb199d4d49659103e33fdbc21f5c2b81212ea9e4d6987a0c096625e6a227096bfccba0f54d293537e4e7f668e9e0a2feb21717855766ebd31d935e616988f8c396b911da190b57b203d7660507158d34cebb340a3f0a4f51d239a744d5257f892beb539c0aa9829459e5449d8c306c37bd27d4a98ee2a3acd5b569f586cc95369d42f9c5c4d9fb5578ae1518aa1519b96bb86a07f8d11102dad595ab74338393969eb58e0dd0a57543752b49f6df944ae01dae03043ce5e0b3df12bdbe8525979cd65ef918d07db807141194a073e044cbbb3fe0cd5eaed5de2a43d975b4277d3390630b34b88f6c13192781bf03f0d2cc0996225e7dc5910c64af3cd74ecec9d2cb76616d6462a1c8a663ced8003329fb2bf88c78345ddf7f51c3cd6ced3569b7768debe5372a335c4ee88e8517ea5dee94904b2e80b62750c40ad39a1e46755838a53b8b45c59c12c77543736468f35e8eed33a80b4e93e6b0034128c3ac0b2ecb8f8d12d8ff993da783a1f92e93439bc4d233f94b9ce379527e80adff56bc93f523136f779c5f3ede8a30cbfeca0f34f4b085411c0fa937b38c09a0045c870147986b658a684e975c0873b092154430143be86e4ab23501e3213ad23335f6bab09a557fe1367001553066b462d45404f080dbcda117a663f92788d3c991b444bafcc6c43104da8856b549a256b4fea6ecdf547bd921f647aea78f523b5c44a917d5ad829247183bc852debc5a7eac6458388cb63b6f7a0d2cd3594857ac5b787c084f305a57774ff88cd13439298699dc3a77aa593deee19d261274ff0ff39c2dd76d33643f5fdeb0a2ee2fa06ed57102d96993960070f49d519fca3cd5445052245d72db3032f43fa23ab615f102dbcad01b142519fd67e3b4915c362b646ac0c133366072b8e2b9b58b576169d5fdccd3698e0a4221928f68767bc79454c10ed2447e756a86f4a8ac560a62f9f486d26e991c7aa76f60576d94c654f151ad865a4f8457512a81d4d83b9cbc3fc097cda3bcc655d92e54a5bdbaddbf755df352f7338feab8221091ba9d9b1142e1e8efdff39c5912c029220b2563951794f790b7c905ad8c3858a03655ff269efb52130ea62724f8fceac388934e5b0490c1205c20b3534b0d4017697e789e9fdf99815a7b59953c30f2524916e6db2b95e0ac354bf5eae1333394abe96ae126855f06683a58d29ead95f7c34fdf747a47da30f9666e97b05c614c78a4efe1fc653f5a01546a2bd492745e733db53627b5c18e5c1204ca4a8805c5a11c4075025a25d2a4380cb6de2808778e72aaeb17581a9689ec2c59dcf492206e978e73048861b62e18c344d40700330e76e0eef30dead90552a9b5791aa4005b270489e2ee4128681dddfbb1c2dd2fa1b34af84c2370a5a4504439a4b5a002deb9254c2b3d79d9674f24a7719bc585ad29557dc4c0a64a0a12f7a0204cbc04d8d0775bec7f4671ceb5fe1463a3d921c44df4a835c334fbcb976e2853ecc3128ac0ebb013b6af281cd3945a6ae5ffc93d31fee27da895a094e7ee260c7e4659f17bf7ef9a184869aa677fd0eaf72b68d39bde26283cd4115e8ac0cdd41f5e8f07e67ab394f52f577e8468771f9e3abf88e986ccd836dc2384495b85b2fbe06ff2a0c7895caf88ec4a27d17805aa5db972da2b19f506d8d8b6f224dc3500ad197ccb4317b7cff6a5627978273e0138b1bb6bc3d2006d3bec8d80570662293ca0b43963cd6e106e6ef6488776753059efedda2e98b4550c50647cb5abeb5e5118725674e38e9db12ae4c3c2022d7c37d5a62fd878a2ca147e09d1d7e3961c78c61e1ab71597f963fa83b8f9ad944782d966d927565dd4ba0178c7e217d0671a523db9a80e2fe0d68f6915d71ba08c59ceae4fb874ddbf54525763f22ccbeed4a56901458f607e1f94f2b3bd95cce85c0032cf288c80de04b623874d759ede6e27eb137690671b603c7edd2f7f3dab8a281d8b348c5997b7db0794143abacaa80f3d8462327d43a23b63f5247b35bdf1a9bf4f605e3d6c69fdf593a4933c4ed458163e219f493447ec9224f3cc079d0a4ce6d88bee221a2294231acda0e4cbe69e817b558f6a39daf5d04ea3fc92264d259767bc7691b9e57e4b21b045a72ef539a9a5755f6f21b32eedd47b2aa9a9a1789f3fbc7ddab75a090fb7b00a2642779b9a4bfed5b8abb963424d8902d6b9198638882c25a74759f1d94d0b07328dc1137d52ef4f830286887f8b6550b43a0152b9124fbee2cce884d8685e5b587bb5ddc0b2378a61ef8e80336c6d66f97faf214f493cd024abca178222d9f039c9886a34f6939cd282cb5012ac9fa9cb0c5bb46fbef725f851d8389330137ee6f79d354647efc869aad130ca9a582e485d536699126c62688341abd7380f61cb73d2f5df264f7e31ccae7025629a0751191a274b4b28ae7e52101646abcec78fb8fbd64b9bb1f4e4b5a6afbe2a1a3572ba984392bafca5389bf9bf1b6be2aecda20768bbc4d167452c700b89df3f5b90b832d7eeed0cd9ca7d7d98451d841396578522d8a984e7854279c201462a643e38a593c616ff75dea0c3b2602cb50a1dfe89c66be5bfcbf78b465b3ad6135480ef243c4ae01a53dd2b50cb28142ba000004bf20b4ee3301044e87ae51ec5de8406cb2cae69193ef0f6124f21cab437e97100088501f4d5bde821a01e70dda54a34cc5377a175bb48f23df812be5a64ec510b8a8e62a9e9286e7069aca844e9e0d9f987df3d9c02810811b5f0970332bcb00f2ef27994796a00c99025f9d094b175621f6f455b4cad05663585fe059dd46e0735885b5ed6449f9637d1554c144bb0e4fec7abf437edc4acb633b5a910b773475aa03ce3db804f3551b6599b8940e6412e73de36ec110fa4ce04af3449689924d85723e807e9aa925e7f7e703adf5dc1b92f882348998a27b647980fba9fe476a3150e81b99a9023dfc80cc5a205ee83af93a1a8350e87e14119b353a63ffba60badbebfbb6697c3634473e71c96d3eaa71dc5f630483bcfefaf388bd3d988647ce8b56933a340017b1a01cae40b1d15bd5be395f3c7441a43758aca9230b1c943aeb2535e7505ef5c4d72a8eda5a28fd39ad16c092e316a0594a779cbe2295303595a7d0216cbcb644a71c5cd58cce190c23118167629ced9a2de2ff6e49d3622789aa1136f8fc1cf312924c1bcd9e961c8cdd247db4487c898f0aa743c92961e1631688dc40dfad578f06cbb9c6748d2d2b5e2b8da90ebb3b735e3105185e1dc7d5a0ab218f9cb3f1b18784fa42a180316b5582e0b50e4034fb345b64cbfcaa37e9f914b16a03b6ab19837962d21e501ecd023420d766debbda78fa523ffa2161bf2c021bbf67d136e33de09a489a570640303f0129d8af9ba13eb790ca2a7dafef888007c6930b99486baa87c2abac19ae5a989f2580216e4d3713ab32d7c24e99febf571d3a04137365f58d24488d7f1e9639b51ca16368d14fe3eac51636c6bcf3b248482b58009e427f4fb88d17e7b0f226e274d8c90df4e944c3060a86bfd9f9f87c807dfbd33d1d4429469095e7d8a7ca62c6db3ee5e73d507c4721a345353c464075069a610512604831b8683dfad2da2e2122e90806ed7202d7aaf411576b770cc7156ca04a5c62c34692db53591d8547219fe3da633be0f06263037fd5ae244deff5f274f76b95cf27fdaa93584d245bd885d5815523836dd2530c00b7cfe61d63a5db04047821ac2b14782085accce21d9f2f72655cca4ec3d1a5d4f2e04fbc72548ceb28a994e7e0fc1c7061c639599937bc550ada321ea8c9e92d722bcf68a1ce0acabcbbb64c7069aaa1471936928cf08fdb9a84f3d742fcbf0afc938ccb0398496792e9de10adf0b30d594e36cb70f636687f5f2bd8c75c038b7d5cd56615151e666bbd13ce9190a13d23dca5c3b453398b4ec14fe1dfdbd8b7156d3db8a9a53a2e9c57fd4e7d6d36bcb01c3d2ac7193c7c7a9d264f7372739f9d866c6fab92e5fcf2a7f34cead62190cf3927ed876f6823fe00ac3369f07e68945a3442b9d23887be413d2561c5ce7f4e8f0c51e42a99c9636fa53a27fedd32f91c8478098fe91639f130f7a0c5fbf7424714b3237e1972f263043cbd66827ba13f6944e64ddf0308cd94d4984d502f553d69fcd0bd67d82cd9781a972bd5f1c6eb07b1d8b7a117c60dd7198ccf562563238782164908fff6c572fdc9ef8ebac3fc5bca85a4cc3fe59ed329056553a3f54de5a91eba3fdd810ba0617f65b390cb3ab48d73ecb14cfbd3e580ad952328209ff30b48aa5acaa44d8b25535946fd68e5f2c89e8a51f7f9128a26d86c37207f31d64acc384b10094d1c31152514384e6805d47e9cb14876cb6","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
