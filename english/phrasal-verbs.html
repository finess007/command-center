<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b391b7b1595aecee95c213fac6f549c4913e7334d80f9982a0b743c72e6c526cc82ddf024c5213126653b3751cc58a2f8051d8c9fc93a30f679cf194edbaae1a05eba5c8662ff707f1a2f6fceb172406aa8b54d6cf4c5b5f05a430a741e471b0c9d7c2ac025d79af38bd81c81b20161ee94634cf72fbee4f9e89b414bfb013df2b5e78186a11253f210e7b7925763e194caf6dbf1fef59ad4f29b5a82936313d17ec622fb59fcacdb935c8531a20f23c539091be7558446e72e5b40e112a4479f12284b65a6eb74832f3100d9bb966d5bf7b69f8fe9457dbfa3007248b685044cdb6983f79b99246b5eaf7277b00a93191f8b3bb93c884f78e5026989684b03f591fdc5887207b1656f65d82fbaf224008e27768d958e65767a8b379ff143eb475e00d0a4ae1a5e2a7b493c404d11405c5dc238e00a79daa0ecd8d1c0fe8d5ce8f654f26d88453699539c6ca0576f5bd0fa8145d8393212e38085e57553782b08a860255dee6b17c142d28240b30887104ae4f11d1949db293ee109a736113db998718d813f622ccbf0ae7932c6ffe763861257023d6434b7073a38241cd2114f8a35e13fe803fbafa4ae568cf5b610e30c01d7b435027d5af1a800133680f536889b50df033bbdad67ace3367504d34597ce7199aa81769964b6213cce0b257a77bebf59b4f938f4eddd83b4cff96b6379242707a52d1f3e6037adf9a0d41c27ceec2a3a7711b867ab845145ba2386cf00ab30c5c09ac9347861a6e9f6987f7923cc0a0849724a525faba4b2671dd0fa934f2ea8ff7c6b06d2370fca75c852e5a0e9fce9eaeafd204882e3605acaf56090b80bf1a265589257a53a4a04b56ff4baf6e63179df103f16b87671e094237fa0228f3e53e1ffe1844a7140a26a9a33c7abd6e9dc3dd0c83452eb9a8db0e0a1f59d8b6bbb45d544dffd37933219f0fdd9bb99565610439cfc653487134215d4e2ec562d00c8c175a800bd511502a83b458a755a7c2fa99f2cfc9015c1ef4cd9eda2dba257f224218bf10bbb88b62da162c82082411b1b95fb7021a149e4525b227f35c7875ddc8e361b5d09d2a8f3bd040ccf98d9aa930ab0bd403e65704a0aeb693e77ed2ae12cb55b4766f797382054dc3541b0bdcb4c8206e15801f5fe67c69628e1377315f404148ba0abb4674aec94ec73ac09d67ef1bb0e0e17e9c274731baec32319aa249b336baf37d4e7c33fa4d95446840441cc552df6a6f841ac469726aff238b094bec5c83d1ccd226563ca7bd93a8612ed1b06db599eed2757a0f69bb9cd409ea65d3eee540080f3fed0a262fafed7cf4b0217ac19a688c6458538015d67f8583a3c6585067cd8bbdbbc369594f48474fd89ff2b75df089080f4c0bdff3ac0ebf49e1d0df66d1a7e16576568a8eea1b3d4ff84fa45bce9a6c1ff7374c09303ce40ac844996d313234efcc75bbea551430c990a09e9246970145ecfc859f1ca8dd03d5e47eba1e96ac2f4d691a1a8b148a68f3044e33ed59073b60af972d00fb92c5e52d4eb8b800e269c099a1a2a4f7107f80b81f2d78478f3e62d4b6be57ed54781fbc1922c1547c130fd1ffb88847827b2a2336fea3e5bf2bc4ad95c1c09e8fdc50b89acf44d91165bcd40b8c55cffebecbe2a4291e6cf480d17eca0b8cb59a9dcb8b0fb175d41ae24052ec900f6cf2a771b223e473a3cd834e05750db3a7194a95871f60e2a1e0e9bc114c4adb6e01fa9c5a0329241dcf5cdba45e373ed439f4161309e38ddf5454962b09a16ab6c063a4b04ad16a452256562038ead3fff6f8e499f85aa398832c064013dc4e8987b18c5178027de06170173854217994a605516ef75042fc39171e4df29dc99df38bf5da92691915a44763f795b6f8f4e665d4b476ec6fd6fcd5bd2d3776b6b5d491c7ad6f82cab9ed9ea59a8a6a3211711c5d0723b121c3f59a1c657eed02e36d54c4639ea1339a2b5ea249a828396860eb2087086435cf0748c9df3e11728ea33c3ef4e5fee9a19baf6b6f4604f625f9f34edad6bdcf69bcc77e2714a25b2f9fcf2ea6b33f4dcd9215202d4336f4978829767fca96e7640a99b16f058229f058ca492e961017783e79533c322e53cf200258e19f9a8434c9ee4f242270fb6fdce0138fe4c2ce6d6e2a3ebb26337691b9e4819a6ade6c21f80a17ffe247ff2a26364de158139b988edb06e3c32b9fbc9397c974776e28ddb853be7630a07c3633afd00a903b2a9a679233551e9b1ced95170f9b76b48d2d9202643ea288bb379b35ccdd625fc6e85fabda7a0a8eafd5b2452bfe2211a6e086ad0311b2966d5b0951ab1f1af0613e5677bf965d7402e5365e07ad6f0a2c1e3fbf6b345c4175784d43be84fb7358c613b8cddc039fc343106d40ce0712033d56da3e2dc47ab1078f8696b0332f1700584bcdeb55c51c624a465c21d320c0278829ad79454b3334cfad0cd48a232765c008a572ed123773f36b4d03f6b4f208cbf78c7e4459317a5a2dddb55586fb4871888b26552e688a79d8790e4ebf2a78aa531e2a5c60a3806ea2b8b04bc2da0838f5dbe69a3b9a0f79c4d6e56b517f5cfb26e275d091796cbc86dea540118f8124cd3b964b54695737d9ccfa91c8918d3845422bc831f5eef95759381e6a067e95d95c7bdd3b907100f654bd1be92c817690e83b386d1d333f382e54aaa3ccc521f9476fbc7ee5e2b10201ac4d788c21e61a70cbc4579263fd7853b297632653af0c718f59a0b10c549bf13e15fec4fe3ab033155d650644f860cfc61d29b41656dc812d58ddc47414a978b6a368163731230f3d1f8837753f09042c7a89d785314c1bd8cd62ec82ab2d51ccf6669ffe9ba4b636735b47096d1e82d09e07356ec39a8989a528f11f80dfd4765a8697c4368445202a585698364f011c4aeee3a8632282bf6fc44b43c3d41818142f3e0cfc69a7cd37ec50353cb2d9ca558985741d4446671a455d6308d9c036bfdd80adefd121b6029c6e37003140d9a06ea2d93ac10d1b1f3fcc4f9dbf03e498228bad328d7b0dfa5ee2685b46dca8b371b40626b6f6d152581e42fe23945345f312006ca96884ac0f7de18aeccb69bb4aa850ee262c2005c7b92b47ca2b7b19b4b20a4013cb9dba8234c3e4ade95af45a63a7dc24dabf93c5cbf658ac04b21a90d182dfbb35b818f3a9530f7fdcdef049c0870b8787cf000ce449debe7ee332e2393cd5ff1e91b66da01a99c98f3827c86e8779cb51c86d2067f15f128c1b07f8623bbd1984b7910c146e4664c3da9ec70b0b82fce48f2f8b51210062db3036648818e3a641d9d979089dfa9863e59dd58fb42fdf18e56a5366f906ee2c8fb2088ef861a5f1cb6782802e8f600604c2da04be890304f067d25251c8d5efaa9830cf2c595c1aa71c0a4a8437f22e5f30e56445da49ce4fec3aebd3a9b6093100865c89506ab7e206d6ea65b3652898507d976602bc358b1e614c871020aae5d90d15f32389fdf1a46d0bb10724e2f0fa132721ec27218fabfb6f1bb112742f426256d1fd82edd5da5da200a64d6a113c3086ec9d22fe7ee6afae663ed48e2fe899f9e1bd5a610cf47cae5ddba4b293382c6b4d655412a344aff550d0694a7562339524f14ce4e6ed1a7b2ce66817ba4be9fb2fe9d8c8ec4a2c1a50d53544cae7e2ea1066bdff25d29935cbcfdba3e802be70007221a2a81ddea8ef81069f902ee9ca76da6a0453c3632ac5d1c5269cd3745d81bf346985832f9a36404358b85c1e15f14abe98aae9283154384c87174880c355988e9067e4198ca9092e914e80019ac4da110663ce3995316c7f3f95d58dcbdc7d157d6e64d9d7d43c85d9e1e7aa927900e4d82c6041760987dbda88e0ddf57fdf301587fe7dae2288c9ce7d78321870d22a79d4a0cd51dae522648d95947f7ba8f9db648bda6e05c7988de615efef50d35c5e464b114393717b29145709d19037c87c51970cf8d5291d2fb449d70787e6c30241cc2a0edcdea8266274bbb25ac7eeaa035d37b9943d87602125ae5ab57ce875fc0631275567db31619c8d66fab7daa60a7b6b24862e7d466ad0e1d5e46e5b13f8e8c5d650e89f5546b2f322cfd118b48087907323b7d713bda9fe338c11e6282934e1cde25b51382df79b4329988f0973a4c4fd81084102cb1102aea1d134da115e17f00e3ebcd7510ffaab522d14c007b7cce0014040c817d58753a70b49c454ce54b1ea708ee775ae2f71cd77668b0a38c91bf9d98769a80d9b80ca36bc9d5dd05c2e0494aa4452b5dba7a33371fa05215646aba02ae6aa769cf06ee4cd4d5edbb51ffe5149a89025714315106e2f68c2d07b58e7484ec8bc9a5163b08e479875d6b5281b7fcb84f7f2b94a235bad81427502197ae953d17013260bbd05003bd66243ae234f59699c35e3309dc69c2396df659afad655cb3cbda11e423c128a5c8326b2e0a43201efd11a8511186c1c6cb36fb51da19addaf3f813799ab6b533c34346635e2d5b30d536fddad50151f5101f3f14d82f3f0a64951e0995eb33339520f07d35936168cca5c66d28291c342f0d9d0cb285374fae5b0278543c33f136ae37a44cf07343aea2acb77920ad19bbb173615ba6263d8bcff4262c7583f0d7b413d122c8c6bfea13d17424bda0172db9c8fcd3654211e05e2325dd8b4effc281ec9f1e148cd52acefe205fd37796a904dd8d12a7573a36fc6fba68e4cd4137ce61a109d40a0d02d663d5f296e1ba28c9534d063448389e679a6d2b9945798311c0ad10b958719028b09de0f4fe881ed488e402321c814722f8c609f59763c6093aff8d95a60d516f80b406df6a2243182ce257a1db0ab121305aecd566fc45803763974fa825442d1af64f0bf237ff0df0d8570210323b8a694c25e0f002ddb298c1e0884cc47d477e962abf288b1d6e46c19e86360fd2228e34a5f922c78dcc58319aac9877ff37a1745c62e6ae78cf7aa4b78d2941d35102e2ca4f55efd72f3bc190ef1848f8f110f95020e24fec92557ae8a6902522bced81917eaafba815b725d085f482ce80b77a3098e0c4d9d616b2cd71e84ae1c63c96e953f9fc3e2548f096636c6a79bb45541180a4144ce867714798d3919ed80be51df26fb4b52c4c3f59e4c8756c786fdfc8fe0bbfdc86072463fe08a8905879eed2b2d1b8de6993783f57519ae9d71b156806daf64aae4a3bcc63d0d17719945303b5d7926e23b9514bccdf2dd7eb39dcbf915963cf2f65fa1b732e71f523889706e7a6fe72fc53e05356e44a340b8474565d5abbdeefa0d880163174d9fb6950e02906f9dd256cb4d36ddc15c13cae34403b65b6ec98a816e5c9fbf09cfdfd62a3a86e96a24b60fdc9ff1e6aadc6563822dc8c4a11fb1e3da2388ce5f6d67c2550b3e97d2096855e843e5e297e4abc28a57b96b37ce4180e0fda1d527d290c731d2621ac70bd3b85141d52e1d59f1937935d7b7436fd80e12da5c52437998c21d49951fdaf1364ee5a2eb551f0a90b92031dfd520b1031b88cae7f39e62db5ecf3e6b32c5e272b299b12225b0f5b4224e226a63ffd0bc2fdd9c45549399ee5c73004b63f2b345e9f555ad3ca34b0250e49efc276ab25786936c387a09c5c594028ff2c2f30ff2f8bd3237f0b742032557fde23b4c10a7b11e0baed371f6ccd4d5ccdb877de4c19a8f8a99f410342684427bd2bf65b11b1fb82c2f002cb2508fd81f94d78b0175cd1fa8dbd64d6263655924e60954df85ef0dd00aaa1897b307306f0d9ea11d6006469b2741fb7d12e7ff6e388dea2414a005d1264f2e57ecb897f1c7639214cec6070548fc6872b3bf0d5eee8aa755e67bd3ac5001401a6d5d6167f4dd2050f359a9ba7281246b0eb9e7fd4fd38c48b3e389f4831525e07173603eae708567bc76d66fe1fe04bf649a23e9d019bfd6b39d0069d6d92df60411f419dcb8d94aa61e343fb175b837251768eef3d19b17927212cf33d11d6cf4e75fe993ecd256bd8b2fd1dd96314083a7fce557eaa39af0aa1572e91590a9b86274c3d94baef54c9042cc6692a9561a467db5484f8a88a0b2438396a77954406faa427af653925e736ec753fafdebb66a869c110c8f7e4d3b0f50bb24abe48df587b2f90ee93cc23ebac2e5e386323028574f1a7d05a8cae5868ea9501809ed020b6b01d9a337026a990cfbf15abdaa8bd9f487a302f8c4314a8d079abd34bbd9b622da12304ea02bc46b9f624d6b38cabb055de1ac42bd43f81ba58d2188d1c889799ed1e760603318b3fbc69a49a52cd3e8638b2e784174f10afc5ecc3a787c75c8293b4daaad6614c29e13375dc05cb625ff140dfc46f8e235a3512c9a260592cac0fb93b760181e0f29672e1270ebdc82ae663af66b17f416f96526e524a7170075f4d1a4f29dbde2cf05ed228f61f624e489be190fabc553473a7ea523cd55e904edbfcc5a143821205992a759370e01208809e1711ac83b59aa883580517ae2c0986b8ec241fc308815f678f8b7b064232ebc6b44c76cf69e17933bed13d58171bf2f9b6f2556645a52fc2a25d3f9b679d07c026662450a74b6a661edacbe997efd6689e8ae4696eae3995586f95d181bbae5651d3d84183b98592341bbad033f0d1cea1c6b84328dc82fb9de4aeae5773d427cefd4e3244c07f1d65a3d92d15d9905e27a637d5547cb797c95586db5c67699b648873bd86e046f7e5b1ccc3193f05be820a1e53b61fa681a80ea012c0bd0e513e0c69f628f001d7bb7215a8828e9994e7574904750bdea787c5a7f3c62c238c5c884920effcde011bf76d6e9905ff77b73b200c6f8f09d283f2a94bec3ac5ecc8f48fdb3bb1f19c6be530f7eb2e610452fa4e0d404ed141825cef2d018ea4806d0338dbcbbc36597d144f7b9406fccf03138c91d373b75c01f8fc3eb626e511832fa8d74c6d94c8efb9285120bb70db66c8bbf4e5f6f1504ebdd2c205c7dfec863cbceb748254f70f36e99a4c8c9f5d87b8214ec549a3f332683757aaa0be419eb097e6df2ec71c3c0722109dd9291dc45a5236cd48a578568de0b4add2017049325fda38bf5d4444644830c97c2ae9da029d606cacc4b4613907d848e51afdfd005b2505d2b4990c4f257bba69f1330065cd9f3a2c885cd83020bccba05adb92feb8781df59b57a1dc4d79c415056d5902015a3884f1170f33bcb1d6b20f2929ed5bbef6da5ddeea8538bdda9595c8ffc5204451240b9c327d50db3135f4a9abae0e2cc46655549087030e7f9d7651cd21e2bab9e91517033efaa43f17ac002c43be57b5c97c7ca761878b35887277fb0926924d2ef4608f4405086698e6d9277ffafba54af48f9b94d9e67baecf2157e323a6fbd0320cff41f89cd556e1a1496635f532ac26a92c540ad222f0f84913cbd60bd1c4b96c7b00b20cbfcbcc36e8416e21696dafcba30650e21df8af39d01c0f2210efc8c198a60815c13e301e254900068b0b3f246e69e45ddfd1b27e6a84a34f3c15ae901a52098d418d4529f8b2ae71081281d8906765f394d30dfa0aeed19f731f2c6b9249193b3b13063d2f2cea6a09658b05399d1cfe305bdea2d7c3f3a8961742c0f3f1bbc6548e656a40fa044c814bf0ff69f51c746928ac4e7448fb0b4b32ab644a8b82470c6aea84b2b5b24ed41c66587c4bcebafc537cd131551465ec6596e3db146cd6143253330a0a9e7333194054ddb4c1baad7aed85312e9e05b88f1eff52c654093ea65b5c32259c60903dceae9138217ba18b9713159753e5944af09287e043d05037a24ce657acc270945f1a6f830c98c96d13254d0b46d473caabefb19e023eed05569591f13b6da19fefded6d9a0dadd25bf7a364df6454796f09b83f46893684bd35983662cb01c7e9fc143cca494b790c07a1593045d90bed6933b628afb10c2668dc970b45abccf07ff9cfcbe7a0052b4939e906f4bb89e5cd3e5058c2781ce10e5fce51489150e192bf4f05682f65e9b5abb9fcc973f24a808b47e40ea8e18e626c5871f18cf830c88c3b5da456bfdd04ee197b201119fdcce6e8c751732ddc8eb06ac1b3e650d181d827ef4f6e25f0f42790f9c6b13879c578f0b9ee496e8d160d148740173d422607374a980702d628eec9af4e79e0eb7755816b0c2124eff43ec0ed960e870ee775fcd029b49a4272a79b1450e62a0c1de884ea94ba50a38b1aeb0a1be1448dc01a86c9e6fa8db71f02734950857123ac80fcb2d927920e09d24d0962c51d9fde6c892c3a3e5f1f2a138703083fed0e9020926c3ffd8f30acf27297c3e3be34337faf05b616af463a27d68496c5b768482926ea1b1f363b937ddd66558ba0aaaa3d964633ba8e8715a01116f26f71dff324978c82e44156f0a2dd11e8eed2ffec841f14cf99280edef2636fa9909b9e6b4a7cfecd8691d9d6824beda377f2f231edddf985ce4d72f8b2a8a3389bd2e1913f845e9fd32c35c32d2b74ae5dc8b55291373e26ea2401b12c12912500d9d84a6b58d66c85878f8a8a697183d7866ddf7f722d1b79559fdb03446e855e181434578c74e09c80a10b9096583e40bd75f8c256971b7858ce5972d2ac1effccd095271f2b4a144f0bbbd6d47966ead75fc4c0a050239d91594b3b78352f556012a2abb93ecddcdda428cc7d1d12d14cdf11c613dc5ddd36be7e97320d8a7bbd1633b8874d7db691f4182c4a42b4d2ac4b13862eb36f3d05c697ecf44473ab06eb6eaaa460bcbb0a9d7a64d06ad5fde8cb7c09b1c3bd59f5b5ce0819c8ae5cd09463ab29ef60dd3972422d23126de7a4210c5c420f1f6db6cbf964256f60725c20d2608cc370c3b297b9d67b6e8ed6735733c735c396505b7acb979b0e0587248cf0b8c868d9baa5eacc4856b0da51be8aed369a827b45284cacb4b395a3bba5c05d3e2711edb7fdc8a5e4c067b848522ee9f26b36dffeab823ee4c33c75343321498e042e2d4a32bab1dae373fec5606315c64ca3cb643ab301131f04728b79f610148b5b5f17ad9f20bd77ee203189328b4b10890190084a96598112aeae2f25192f5ee4846825298a18bb14cd9f8215cabcea2be600a73f4c51088823297f529eef4a926da6f2b1ea57b23a6f65339f1489610db9cae3f93f94afbfb440143ccff9d339e62c5e07a3acfcd962968e8900d9f8e831d4a80433880c50bc3ec2297a07c62bd584e7d4b63e3da5e5c50a53200acd3012790602dab096d0bcf3c401dd81d160d4afd6183788c73ebd0acd4375ac749b6577ad6006394e8f2e925a09d5c9662319c4410b13b0f83f05a13ae29986c33fe751b795683652ea55c28b39e8b70851d9df612f9379cb258355987f51ca34fce682afb4caeab3260f775481cc899971ccb40042e94f36a4e1175059707fe20d842b10a8a24386b7454a923d10a4e79c0f95186e698cfe309cacd31f4ca52046285a99a4f4f51083c04ae9b535a20ed8b88b79f5dc72ca085e44cf00fa107d586845c0c144f4089e44b3d2a1f27763af638c72ffb2d80e9f948b678fc489af1e9ede6f9d81816b1e3492bec9496ed47a82a8327b99e3613de30e1166525c3e328d495e952a470363e3160f467f008734fd0a775118ab0840d4f40fe1d11f0cf09a55bcdafca30ca05898953ce0927be0164c255cebd9740a5ba5fd9ad8f7bc11ab2361723da73ce823e276ce41aa109421294c270f8b00b100603165df625f303e7f94465025d4e6d557f81950a64875811c4ba96f9a9919c222e5ae52477868b911101d6bfe52b97c1671760def22fb0bac96a1c35bb51f6d678128ecba45d95340c8bf59458a38f798b02a0cc693af12d0602045dd390933d2872dc0e8b3e1f37db34244033628ede66987ff4d44fe01aef26fefba16f5904049feb9dff1061a9568061d1f230147d1cca18e8a05301e89ed43f7ece1440102fa41b8b249ab1c21b1531797306946751895b81ddd32a6b0a03e57d54ddfb4ea3093aa5bc7923f2d59034b30e003a8e777fc9fdac01b598315ef32e93d652c7a076cfe468524e1fe56e6d219e658a4436ba60e8a551ec87cba08bf26fe7c55190412c0760d0f3beaea5c74e2dc3c9e9d9e48d850edf18f673152e12e7ee55d12c493338f268792384a28df62668909a085926988d2b1e9f41949c57b589764394c79531221f5d0be703e390232bff1f064a25ba85e23a08f7a5db3513180d9214b599295579cbc1a7961bacc8d58df37df8890c6ac4531d7b6ffb783a726b2b592e45f2c27ce5fbd84a44cb341223c441f26ad4e446f7a4dcf021356a575a0fa9d90b002ff05958fe29650aa32a8f431906bde3efcb99373a985e5d97ac2caad8455511a8501d6dfccef21e3a566cbc96a15232ee0b6298364aa7a4f9c1e31e7a0c16ec4d9ec225459972d398f999c3eca1226674d276cf940a78c197e843f59f35a35fe9ef468616df962f79657400e1e50785c7579f3b0584772da079329f408d5aa6296f45be62463c9675c4349f7f47117ec069b085589421cb60202df2ba518a576b601c44f5ca85baa8eea9eb0fa6a230b97fcb831b3310c60095fb85a9d2156805a953f51f6abbc0d5c8b99c70af450dc86182b4b50a5fa09c045f260d08bfc5d2b851887020787bfd04fdec75ff9071552d62b40213571768ae7eeba419a87820c5283006ef49a1dab9722ae48b3fd38f366639b14ca7f598e6d6f33ae8b4fb7e3c1e9232a0e026d4f22e33b661427513062fe392645c4ed955b53675991dc73065f003d0d3cebd372bdadcac0566d880ad32d1bfea2f57a6f95a208a9411125b1364a8f740e5776de620a93a910b090044442acd9291299442f299f9dd2e9036666f1b679f017b74a0d193bfd46c160696b8ed5b8b720991e807ab56e0555e2c11ed30e92bb532ff78c4da0bca39ad8b9ce9a4a81f9319ea8eddfafda7074620006e64a274ccb7864dbe8d1724288422d658ed60c03fdccc6bffe83071b22b1f7d2300b06fcffeac526314bb82e541d1b67270e1d3003723a157bb3da5b192d54cd290ff4dd6717d23a6400f9079fa08886b24209737eca8d1203fe584ce929cda5a5e6877232315ba6381129c10ae97d733e67d1462b49eca3cc57e5c283bd1d584e7efa624a4715cc23ba01cf75e4aad89cee057fd370922f534473542eab81503d65bedda7bf93c9c209e928d3a2f65094c17a705a9519c9710f6e11a2644c11a145d34ee843ebd352c5458a46020588ec168003e150ac57ec853abd767f95066d7e6980fe2cf6d3f1f08eb5334361b6fa0d52d99b859b892c562425563283ee587eb445e9d074f38674d87b4f1a7a0aeba9394410f3db9ae9f863b81c69ccb08e88302a143c99661e233755228426ffdf16b9b2c7f27a991187321ca85a3186453c103f4bde72b9a6133797381e0a2c7faaf10df50b78d0f513e1adee6fb6ff5ac3643cea619d3e13da278db542c0c4ece0c07412277573f3f17a96f281453ac3d0c62ace76db2413553fc748b269eac40ac1bc3602c11241bdf3ba59b924e0240992b8539ebe1a823ea4e4d68f014db99a884ab1ee92965daa1fd87f2cd9e9f362ae61ba2297c03712d0be6b3a3e96caf8ae73478ddeb26dec76c52ae686bf8ccdeb13d7744289fe12a8edbe4511cab96466b5c3700716f3e265d0a73f0cd5d2afb5061f0ace9881488e08a63ad2332bf81609b8d508acc5d518f7e27bc20b344aaa0f08d0dd535a7aede06203eeac305d64a831d561157d1cf68c0b6d2dab7dc6269715e170f861ca142e6c1b0b62575914a4206e3a7de6234d1eabddb1fa71de878e09cac1d16853d9faa9f2f7bf1c7a6f9f5ed60d0785544a7e9b5d91618c2ef419cbc5aabb789f4956f2385a7b64a276466450a4f4f02f4a5859a821eaf55b9fbd770a8903a2e8017625e761991caeb5a8f5ebdd572c37591da1ee620ad83d90b6cf85863a91581d40e4cbe0eb84c36111aff28758efe2c3fe7375a2c49dbe94578e54b6084102458971eea4201f278646563b4132440aa0101748195fb132b20f8e8e9800ada5bf3b287e4495882345f765ab538b2ac14cb829e400d78ce1afe72fbd90780c901bd462d204b54f6929f9c1d227f9c95eac349ed9223b7e1d319fb7cfec7727fbd7bf4bb0d8f9b784c869748d0035f3e23b217593c312eae62d7e9ffcb733726a240e2821836186c0177b1cebc440d8802c716d5342c156177aab2de360881f1e92e33cfe8e12eef79bcd92fa19199184fece4725f723c6274c17476d8a6d2eb93f2762bf8c61e0e0893598ec7aa773f16d1d4c5222723d5242405c6b36dfc58467bc5959560e5862d6690c2ca4ceb31d2dfa8002dd4f4860217e34a6740ec02693c21dc5f6e6866253bb67a96f8cf162a8e33bcf5d21dd9221374bdba4486948eef43505c5df95ce50738a8e6180237d4f84790f0914f6ea8e1b6679f294b1af86bccf93fe4e7734c53cc13b1bffbdaf1a568a80dc4a825bafb01832832de8db25bffac761827c66cdafc865254f7ddd4d5267b1b1204cb24a8c5fd45ac27173b6876aea844b76e1e67eb3ef1001f495e9fde579893bf60dbe162aa93918983ffada28e6786ada9a39f79bc2f2f06a55f8198f37a8e01013482414c48fb3b00fab79842b46ed0da67fe4a0ffae994cf863beca56b5cb9b80f6a0d91cc7cf0ed1bd571bed5b9d73c84233af9eba92053f46c0782d0710cf8d1f812f6a801665a8b6ac2120fb43495dc3f150fbc635afed943eb9424497a695fcf33e041fbc21db3c941ecbf70baab9bb592ce1bc4ee6451e3b1f14a529c62f35d79011bff9d7df6db580736dd8abfc282eca61777a912904aa4bb48f511888ff9cf6c976e9bc1ac40e35903dccacbbb3a24ab7569377b1ef482587e14ff53fa508109326ea1423bf2f11988e87782c03a1b9641a36d4a8463453c147ff43fd4272c4d916b8138c89b4ad01a4f3f64d7e9c6361b0840fb8966c411a0e9be43d8d00203962b73b78ede26bdac09d3bb96d46d375856fec2079ef5d5bdb683cba511751b4f4f57d0826ce82134a7f78c4ebf6bb5100a4f60af2586ddd9021bdd907768e5f64792cd66f200928b2cccea6b7b2599397af35828c3603d7470bb32cb615c83e3e4959040312528dbad51c318bd9ff3999c759b2d296d4ea8b85c16aa1763f0946b8ebb2482a69eb7d1f8e6d583fbb636c5d5b464d511efbe92eb666dc94ac557bbaf93c99427524adc1dfe670afbbea9297835aae39cfc17f4218d09f69d61df3649d49dcdad3056d22bb4063e006e5125dbcf9512c49274e1dbc6c64dedd494b4d290a2bbef5c314de895a5cb38328b4af5c2c492e496b2363eb6144f76eaff6f85943a65c5693726fe9cc8ddf4f9e86e28acb64db3274284f4ccb742775358308c68a9966b8325c14012df3017be2dca8befaedce6274896a2448728b529ffca6fcbcfbd60acdb95cdcf338899b79bfb8b707acc262feff3b0940d3705f8c09f558c45f87c684558545db591c124f6f83c10345d67f6fe1d7b5099f8205464ded5ce19b9bf2146f2566d6045860e8f05353c87988d54f7758e01307bbdb0fc34ca28f53c6cba031b87aaf92067362474d24e4b9b4a2e92fb1f2463de53bec7f358ef38182a2e11cc32f14af3f60c44767bf34c6c02662e2bdb9d56e64e4e2a61fb10bf7302ae683d6f3b89a099446f06003e89ab8a9639ca033228f6ec320b2864ffe171c4a97b1e289adce34be985ee8467ed1e092744af2fa5b90d813dba3d348c3fe02e40690096be3a1cb7cff003dd87208ded081489a9bd7842df4a4662e06f6791e8da1101c492aac1ee495df843da8d0b8222b50754659c3464f9ce4dac37e12c3f5b1c4628c18139877f42cd7add05b19735741cab4163cb72a6e7b7804c436bb8ac174c6d9ac51a8fd4f67ba2a739734119ef6a8983787967f70b5afea0425e312942cd52e4b63e1623d9f6060fe66b91d0cd4fc01c62368bc086fc79bf288f6880402717138b70767df8c0f316259e7f3189551bbf86e27154cc60273ea00c1bc618fc9fb26f87ffbaa1357b9019177f6a008d52b9762b42a73fa1ea348a6c8527afce82f2404c6a8ad38f0a0fe205a5adbe24db75225cbbf6c371dde8d8440891ff9604f14dad9451d69e3f3aca07a1d3cb145bd316ab9f9a02894a8282c67b5eb914eced0675561970439828387ec8db0d7525565f71a8bb5d9ec5f83fe7efbba4748ff61893cf173ed1d83b2b9cc2b2e49c7fcb76cba997e6dcfe311fe45f083e2b1e53e046a63e70ed83869417893bd30a02df266aa5141c9c2c148a5e8c30a24b6efbdd85d143b7cc96b38cba9971b4309bddddf76316da6f94d44bce4ce2f71c92548154582e9ad2d4f4ae027ec8c87d2d4dda0b1440574ca6fd58b6201daf2d57478c37232d4f226f0f39f5d1ccc45a29cf63b57956b4667bcded15187104e5e729b9098df5197034df65ce89f5f3347d09a965460fae783509d7a05f432208c531d95ce5a6da515afc7ce4badb1b6054db10e706df20c1d8d12f0d3544472ac742a273fa220a550fe4755871b9806161f53a616bb7c161fcabdb902596c17cb4ca43cb02447cd83a53768f5c17edf31f14005294dbaf53fb8016546e0763aeaf7c1b9c13ce5e083fe51cad9c243e3ba39f101d4ba4da84cfb5d7dbb9c36da3e19a4de872769a883011745678c8cdafb24db498acc62d480ed0f6d5f3bdaa84cee5b136e25f917d48db297c7a7dd93119f136a6d6e2f9958c537f2fece946514f709c8fd8c0858f02f830ed0dfddbee1be0b2fa292dd5ed4acb457b82deae4214a047b1bc8c816e7b3a768016c7fa4496a058b3bc57a719a74c0754b1ef6c61481c8ef0dcb09228975b0b3e1504fa692760aae546ffe63513fd677c78713688ea95a8ee9fac43c4da80b643e788b3656cfb1b7a188426a5752d2478936aa7465ee9111545fa56a63f7c8a62b51805eeea17e0290fd16124785ff26143bf57957108287575cbdf6eef789f9597156e3daee92dd30ec4692fe4050817263e592fe11cba9f892f0b0a75aa8a278477b8713a22447b2de11800bb744908f203577f58feafa70689e7345eddce729ee647b009c11821d2ffb4391fb3be04353d1a931e588769304e8dbae253d5c73cf444f1322ed44a8f8b43cb1f4acf1c7934defc478312c1c1f5aa0934cd4d9e9c8af01e56dad9e009a320eff3046cadba14f854a98c7dd8094c94b02fdba221848c87c50aa5613ca0fc3fbdb6593104310ac938e2a1ee92eab2ed769b643f6a6158c74615a9c2e6be1a3ad81790add69e513c23cf7391e2ca3b3b1ea863935ea88eafad981b3db5421a1ddb6b69323dcb43b3e7030984eb3eafb295359de642ad8265f304cb4d9a09400107129cddf63b961c0b30c9e13c54864a2ca9694c830cc43342428a6e514244957c143eb24dbf8a87c7856a110b949ab7e2fd372c4b371c42f24267fa5a1cfd69aea3f0650c6c0b1639cd7ef5cf033d54a22f0e845f2338187fb99c9e6edfbede46a92d8df284c4ca01946f88a9e592152de2b35e2bd33f402210a07a65bd90d40a4b555a256a6b2f5c059c31127a958a41aaf79563f7c0befde520b376f476b4e820ac9adaaf2c4137e73dc0e09a4db4f1eb688d4ad6bd525563fab70fc26d259c22e1a9c53c0e0cf57689452d27209dc031a2991f142d6d29ec39aac968c51c4f1d73d05d008dde38b748293489c7823164b6692bf8c8dd63a4d0849cd727bd0682e85805c17d5a0884897b1c4955d8f817209b079dc2bc9841ac03902d3452cb2235256999e5733334eaf4ac0894bad0d791290227053703089aafc5b8a7411e6b5fad565beaf33e0b6955dbb48d1cf24ff79546604dffafb56ee95edf2df7cff959bde7169009ebdad6b7d13c73d7c5b498f3cc42c5cd935371cfb165cecde8478c491c9731e8daae07a0fe2d925027bce5a03da865c29588ceae215406a290652a64e3034332304c42d32e6ebdfd8e565e4ba7ff4ec2ff36678dded3315d56515aa175a2f3a7f37bb0f82fcecd523eb9adcb6013373bd44bf458dba3f87fdc0b42d7a6c117ae06057fce860efd2cac8e63e794a6104d0bc9b863c4bb7672effbf34b0758871a407c2ebec7296f05948e604796c0f0c2f9ca150b487723f0c00bd427c46864a61959e2b9245613f24ef6085a90ebbefbb4e504c2b879db3072720ac22a43931160b50b29dcdc0d94987c90312769905e6727b6232c47d7908d086b01fcfe988133c2733494420494b3a6de98baa764cbf729edef575fc0850233377ae520a714ab686ccd719cac361d7e5557ff06ae25923a3f840aa458c75b04a111f700c1b627dc8372e13714bb0e2b64be82c194b76ac3fbc73c3aa706abb7481cacc83eebc554df15fed0d638c010f1acee81c9fd22f22dd353bc07c966b4b8d03f3bbef5df99a2b922980a2be98185c1d4969a6f8017702df4feaea797b6d6ff37fdff7f351cefb82312f234a7de254a71c97a49c9c49a67fa5f7b0d5dd03ebd1811de8f3707c7372c48697b34b65d7e7ed5b9c684739898a4ce8901f9b64de9af583239cfb1e596b579aa856fdce71b207c0118033678e7999d36652d8448de976142e47199aca40850c90a4c04cf8ab986c572970d8124701a1ea63da602982407d68da7818653905a9fc176a34eb1b30f2402edeca59acf4d9ed641643f9fce0668614c846b228e57ea0dfb3cc1d3f225da72ce863d30773b5509f496b25f3f563113fb7f4bb71899c30eedc08d7cd1e42557921c942b2c71d903dc1a30e40575920c539d38e85c8619c62c15990daa17a32d0f3f1d93b50ad434d5a877595a6471bef3c2b7ce5f9b4b7b16888e79257bb83709194657881568eede6fba8198b4d7067c42c5a7a929a257c59890d5de5ab44889f76f214819d3bb05a81f61793688ee78089b4a689ec59e479f8057c45c3269a27f46bad6b3cf71b95f05baadfa163b9cdeec7f36ebd5774a7bad046ba376cf9062213334dcd6cf960c64df2e5b05307b836663be8f787e109e9ebf07f3e05e002c2c3768cef925cf69a46fde1364ee5929f0867eb1e2ca14090d557ee63b67413de1caf2068ae9e016bc7daa9f1626df1604af3ea695bb78f2e29826ea2dc878adb5ac51d4cace231ee1b386be1fbade348137e09a67954305c729d408905c43e439bc551d6dde611d4b89122818dfd43a635fb4c7b41227c300c00cf625fa38b5105e2f1d7bd2e312c96556adcd9f08a1257d9fb1942296d2a3458319a8c18de8e0ff6c816720200043472952cf281f8934b8a96dcdf7c89ec1f04e7951421b4af4c863c7c9b5b78169fcdaa8ad8f568384dee1b794afff68fc24cb764b3b46e7885b5e20ce2fa14918611cb238d85ea9ce4fb56d7ec9141be5067d937f7b37651a0032bf52c18b6b39b307d0c1abc049a5306fc7a526c17dbf1fe58ef207758185f60b3c509f13ce72287a8ba305930cbe56fc2805caa2f57ccedcb6d09233f20f4eb61c0c71e37f6400e0dcac7bf41d3ff2219aac76765fa0ffd4b2aef6da1f34c78b191d83319955fab874ea260e2b5f22e10e028d5955055ff52b833d48b897fce82ce90dacc8f831401b79080cbe29a43baf5549f542ca90f7517ad4eab5b562576c0b09ea9246eb32f852f54a43fa05f86e8bdcbcd99fe9418db9944a3edb8cffc7f9c967040f6166320f3bfcf897966ad21da7a5e7fa013714b28a676b8895026efc27ec0bbd40f86645bac0ad0df712f1dbeb1d2813b48c2c950b19ee56cc29177bc8b0e2db06667847ac07c434228bce4cc46f1eaa02aee8ed01d3c50d7f1e988d3505020d59578a0976dcf7a89667f10a3a2d1131b6176634d482bd1d197809dcae5a2b72ed627129394a3fd9d2b387c6742349591eab372adae1f742897ed61c0dd45225f2ce109a3d46b2561742488c728d02c747807458a171947b662b233684c7ca3cb25a6c9afb8fa608e0a85ba00c1c7d422ccae56d3906e6f08f89977d4148edb67e323042fbf0fbb880053a257b762f41bdf3b8c4f1e56f575d92b3997d29ad5484f3f755f9b10c9d307ea6fe630d9054775e584bffa90724cc28594af4f6c87ff206eddf99a719e3897bdf41b36e79920d2883df526008999ba1f7672dfca51ea12b0e950022a732d01e1e8b8de5bb841cc1016845c07805d818d1a3c75079e4328109a18734edddb821b2f17496eb3f7c40959e41158b09981978b27fcd388fda7b7894e930fd0d7126009181eb50bb34fba778bd3caf76b242b3325a7afd53ca8e0959c7f3d4ef66b56bd1051c306eec2893b5d6e21e1413de0e10b35b0369c5ad001b1a795d4d77634194868e605fc6770294e192a860070b60e628f1b4abe87b6e3f6e375051cb3775af75426a4bdc6b964f7f2b7ea973184713a3a5c9354e257e7687de0c7abb00adebff09785e14d3bf6d67a128c2e3b3dac130e461dedc6cbc3517a75687e5876097d051bd72598bbe582ddc2e70909c260739c225abefcbc3fc687bbdd694683c53bc3a0eb8287eca8fdc4296210ad261c4b31d2b3481b2ffebea0bbe6f44506d122a26623778bc812975b39b2d1fcbdb579b0e515470a2d6406d81f840188adf346a9fece2a8c414d20daebf47378c4bf2c712c6164bf60585a308ac18feed7b87e2ae394017a9dfdf2e0ec1efb03f8ec88b63f4bee5f21b2004f2cc49c39bf6fd45adf607833afd5185dcca7cc474f09e34474ed6ebe60d906bb578b19aad12d7d204706b2b0360e969fb6add3c1f9754691ed1120c91529e32eb1cdca3ddbb5bd760965b0d069720a5e2dc3480c8fddad14e0c014f527337daaa5c929cf0c6440b678cf311ce53c60304b9a55fd37e346ad3f140226b1cbcafe4c4d14292336221b816ba13b8aedd17e50d946431182accf150b201cbdd6dbe46df15f9db434aade2b92a4f61a2e1e78e792e8df9b746c41ae3bad6ce1323cb9dafbcbaf98682fd82f609fa51b4df3320c9a53e96709ec5f7f6ed0ed402abcdcfafbebe26d9105dc1565621e8f31e2b1dbf303fd0542c2389f03f8e03d18d6aa86c4f80f2b598f89c22d224dc92ebe4e00107973ccbd7a2b3d5a5de9ae1b196fd534cbaee0c27098db0dceb812b382efcd4f6271e81dfa76b1d158cb800efe8aac81ebad3021dcf7b564fe00d16948d36ffb62b93e32bb8c36deebae4c64f0f4f142b743633ddfe78ed9f868d275f0624dc4c2f6dff0adb137231bd5943ebd6af6d204945d8c20f3d4e9f286ac13c9bd67ab4ca5d9e7c445964e3c7d05dc7d0a7fbea4f65a48642a56f0b69f06e6ca1b40756cf1f91d6545edf9243ca3baa59e8a4d56b2fd2efb14a8bd3a76cb0595d3b59348a317a6baeb83bb8f31090a12eb6e2c3aeb219bdbc1eb3fa1b17b0ad43c01f7306d1332a41449fc925045d7f4fbade3bd406bd648f8b39a67285913bc759998b87b6f2cfd07a1ae2d0323c306b4c4d998cface6b6d236afa12e38539d4b0f9280db210618a89e24b6d4e0081099c91de05e4929c49aecde1abd0af1b77bba5ea3b025019de2b2024830b7ebd549e40d505ad7bf2ce62839be7c42b31ec433d5fd6ee57ec61f0ecfd439d8b9189e1a07fff04b57b6f49ca74296ea8790211685934d0a18e9b74214d03dfc7035121cc6a1cdf060c2c420fb7dc0114d134504fff4268665b0047b4d2ca857ac032fa18a8f0e531c6a061d9f7ecd4abcda77dcc07cd0197e3d8929c1293c3cad331e3f2e0d8fc045756a52775ba99f29873ba3a0fbb7916cca2ed355981b0f528a8c8e8845399dda16556f33659d43f2b4db4b42d72673336de39d1159dd4abd6ab28ce512aee0dfc497a7e6c7f51c6771213c80bd83240e6d5f6399b1e3bd74a1db16b8b4667262bd8e1c0a7b94ff1989613584e6aa21b6fc3acacd83536d81192e26aed7684ead77c24407e84f19126a9b2f5871b79c73d1a22056f0d7adc21be364531634fee51fb407ff0ba9f4c8c312ba9ff08661d374ad40ec84822da1474137ca612b8f5f02b3f328e1b34965761ec811f3f1f270a895dbd306fde90933c5cff72900438a0e2add4aec41a93b791ec8de0bddff7f1580746425f3289cd017b6c9","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
