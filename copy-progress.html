<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bf23f0f326c5aa99e1a767c1bc78d7750e94232281eaa7d5d31a56fd30dc7139f211c45401753b4371f4858fdba467c36328faa51248e98f5642950b8f34074aabcdf04076af1838149a1ed5cb9ce72e404ee6f146819ba1ea051aae37b1b06274faaedc8e915bcc72cc6601f66cc5cef8a435481b2de82c5ef3151601fbcac972d7f9b8155f69b563d2f9c58b218f0ba3ec82c52796c0715acce8a8e8b73db53da372d9f1afd928f27df13591be6bb87bedf3c50e9e4ff4a21b4a39dfbb5e1c4ce8c818b608f4ec6727480d4f763d0d819f498a63956a0cce79b8de8fbe6d8bbba76ce9725d528508b7349bfbd33e22a437e7b0aedfa6475cf5198cc013499a3af995f38bbe4ab9934abaa21f501c33d0705eb4dafe8001a645713fad7b15c6a265734e6e6ff0611433ccf6501a42f0ad97a58638c51122cc486078ffb5352f9abe8220de2f5d3ccf4f41ee6429f6f08bbc51b6894db46a6c09f0757c54399a449b2a4df0c7120c2cfe9f61d3d5dde6528724770ff47ab6edc66dad77549629126ce1cc3ba7bef5a436c63a3bbcd862f130ea7b093b92e4b1c12fa8b7600efa43ac4f53c036c48699768a5b693571328f6924a8ddf09e37ac96df0bfdc170c34754debd49c029b8db57fcf65c6f8f50f00c3183c133c1ab2a5236a439de1b6bb11d396a75a7b9959b22b427581a6512ac560f94773c008845cb0b8c26314e005675b1180edfb3ff891ccf444a955a6f54ffe36f48ef8be49afcc34041d004c671ed92f0acdb7274fafe5fda83e7454469873b26e71069a31179838fe11f555177770a5e220af8a5fb291eef4df34def0b6746a9028e811552e530ff5a5ade5f42e1bfc93cd3aed62df499299894c96b5f5b0dc752256e9ceb6a0509ed5148d8771bf9a031c7e45794575cb0cc2e1aff1d4cd752ce29c43ad97301cbc9713bae3f32488d2d9f556f5e589e96b8446d2be1bcf49d62c3384c90ac1259759ddb0d573bc228ad4185d58ef6fbc760b67c6b34b75ab6e8a56933f270c47f40ad49d0b666089254e7bae88aaf6a71ec80ac9922286ef9dd2d895c055ad6db47722c20cc8fabc3479d69bd983301741051c504b1f62b948c0ce3ecbefb527c60b2f3967324d9d7b7c0dc1e37848235efc59a89a3226615b58ee4fdbd6426060475eb280ca50d7b9b29e654933758c9325ce31af8e5a083b093666ddd9dadfa90e4049b6020c6cf5c8f15fb29357ccacdab84fee50f69acbdc2e28c1856287ea9d822d45ee60bf82c1b6784b75ea0723840e518c1096a2e26f5652ba4cbd73c28c76002b3bf9d967af00f3ffdd837511a613ccc8bc828c0e91d693a7a5771b8ebca062492ca9dd27b3ed01ff00b586711ba007da4fe176294c963dd82da72fdd551312ed5fb759e90839c0a1672e533c4c41a913e1b5f55ef23f97bbdd14c0e9177664652ef66c19eb01e752b71cc3608515654c87c6c58548907fff2152b976d358fb2fdbb11a84cfbcddcbf2fa3d0cef3dd320f2dcc3cb42cff5591165a24f8acbe96e3281b8deee321c2b0064a98243b10c2818754ca665a4331eab4d1813c17e80ed4e08bfb064b0e67b685443b777b0e4709a6d739bae42b0bf905ee8356d7f576e74b88236e78208f46c4c71371a88e21f821ecab6a5fbe74d756b64f980e201fe03d3208ef93702c959417c5662a399b46920fae3b6ab19d4faf4315b1b51e3e4242e02c14e2996b36bf43fe6c218dc240d764bcb3a1595548a77b0050c86adc9770c951033a7ce6d18ed4f1ce1239dabc93a2ab570b0bdf5a498524804b4534fecbbf959c13246d024ba88e615f8b7a1733c3c9782e0a4d1b9880830fa8762a531a0cf6513b87071e9dc8f8f33a124c7475da5eb3d42f7a41a8a2a23f1fd108e45acc7401bec8cc80dad3ce707becc63d6dd4a0814498e680e966c483e367300ce879179d21599392734944c63a398ed02b29f2828e45a9ed6caab60890eab29fde9d61b78a2e47efa42cad11296c2fb02e058a0e9d1470d29a31f23dc89f2858c829b30802c3ce328a6384a7f43d6ebb3e7f2eee8aea5131d730d957227c3ebc159a394134a16ede43463e3fa65935b520c16e4b681bcfadea1c44dda6a466fce56f67bb24651814c6a6d3f6afacb1529ac2f363842397792986a69086b9361d59c5c06fe3365a24bf88eebe867964079d6cc372b055f48960c4534a02fb59a583519bdc2a1c1c28c6fc3eafd2ba39e5c398eddd2047839a19f60c5409443be7f4b9ad369db88ed50c9f5a8397948aa8db3ec5ba7d573efb7781f7b53302c71a57f95325a661e4c304e3b118f5a507383c039ded5914abb8c883791487fd79ab199384d5e54ddffbfad39dea55abbc1dadec3c8b353cd58b99b6c24fa5df85d04ee3c7e53111b27121f284948cafa04ac57c00fec3d97877f250c998dad25ed1186673a1a3d56401e2c0530b5d7cb131f43930ba37df9b6d91a6307f4db02f06c73d5215bed385ec51fb6705db1caf36f82b15577feb121c6b3d5e435a2bddebe882301ccf62793ef49e267de75308f36712d5fa4acbd058e20365be606a21d23c69b2693152ed3b71cec09ad4551fdac0271e2a84805d5a84723dde2bfa3dec29eb8d7aff56e22dc33031c3810e823d86541ec7e49c33404afdd221b6b8499d1f99c5d15e3716b70f7cb3d1cc3500b98f0ee3d8ef93c9e8a05178c182f5d557567a391d00b18263ed683f0eea74971f7eaea8a83574f6e0cb6e74098654ce09ce5f38345becb0d1ea7e6f62572278f4c640b200b056e81c9085133297d9f333b6e27d1101e216727ed23bbc7252374473b4979214dadc158f5a8c32d23275234501a306b2cc7e545c7b75584421936c71a4c047cb38e3a094b4369157e384751e109130f6769e163994791d85c64271010e9fb2cae3ee7947560e776e16302d16e777220ba9b3dacc5742f5dff52b00b2e07c55c8263c7afe71e0eec467e0b95521961b227b28d97406e4b5150eba70444387ff601bb9b9ca92c5d79047bccca4f0300f866c06db5154d5f5dee0091f85ecfdd0eae453c7ae2ac032584748033be38c95b3d2c84446caa1a6e1888d8d83b74bd5a294cfaf6560e26322fa7a8cd3c90422caf6d28f4fb500e7cdae9fa56bde1fe30ad17211eea51e210c038f00ae21c72c12c1114c9289ebcf9aa9b44a0129146792c272e6eb2a6bca40fbe2c52f7ab2a83762d1a2b57f46ef6a9f46d025679e70a3b614e5a8ba6b2ce19d412aa315726bdff7cbfd97307fe1ac176b37e50ad74b0c3210e0f537ef18ab712f09ce65e30eac8b19e70d540ee5b91b8b98d4a3ea22c94fc2d8c501ae090b1e517fb9d986c5a145e51dcae3ce8c9b0d34129a95ed27036c0e4ceb3670565ec612c0301d5622f69c2dbd936eee172357bf17a139f900cf89657ecf9be49bbfadfd63eefc7fc3d1dd7b74413e2b1a02783d533a048e9f255524fdede3ad1efd9913625c0e8c15be44fe92a3ec331ea64fc677881486d8aae4baa00431a8ebead2859c3da23888599de35e05036ce2e6a265c721903c1d711c770e7d577ef207b1318c10c4e7eb8f9e3febecad0abb93402ccda671782c63bae644cc8179563e6bc210ea5a1d61667a32cd1190ceacc70adfda9201d2e192d8998f5ee0911433bdbeca5806600b91af1d169bfcaa1ff3fcb5a0118a95c963450820c0ef415a3e0999262154bc6f5aa5288d5be92a7c7110cd11a022a7a1bd403b536daee6f2e285006bbcbdfa2f8739c674c658ef42c617b709f151d9ea08fe03d68d67d1f2a4ab858ede29924acf7708e5d66f54890dc30144b025b8a87e9bc3b62a85c052f952c9181ac8da6b43b9e46e96771ba3d9092e9347c03776924c8cb5331cd808d5bd84b35dd246b64fe3876a281d569f64a82cc51ccf98a5e0dba9be2b3db78e1c7f794338e29648634f131939f9106a63e65cb2272967b5ae976fd2aebff78262f67965acebaab25e98b99540381ae270736d0e2b1aff469da04231f7f80452b7ea2b658a9ebda7b5d907a1edad035de74fba83f54ddd29ea7500fa3d5a09d5bac47483616bb9165da4b164a9b100dfcf10ac23063192e1edb93025e1cc03fa502061cd6ed51398463eb90dc89052e35314dae5284784b5a367c8eed1f5c4d328e54be1674a23e8ce2ba9008417058b5084c8a216e584457e8015752f18184a8a5bece7dbfffe952d4834d672a7bf96bfa50abf8980c36dd970eea48e1175d865a3048b2f3f6b2326420698ac5e9bf7a951553d575bc1e726289f7e40b71df53bc24964c7c73feb31e2194cd4114b420a65d1f8354737f5eb22b9cd7e6f5d31a3203c5a0e0ef1409dda6f9940f53128e25413cb058fc4dbf13d5efa7fac6e4174ef47f06422a5e53619c66c93dc3743bcba3c59412cc10fd27e4b68bd417d690a1e5b75848a4848f4dbd609de99a100a00617971ce723c0df8fecf25157ae5581e22ffe804f74b1d2eef9aa7d098737c022ac5878b5b57d8b4e20f11b0b23ecf18bedca1a3ef497be1db16830cd960cf4515d01c3bb9e34282e9b65431f18d54550fcc50bbeb226f953ab815363cbedd73525d4bbb1c75b6884855d5dcb5e6cb4e4e2afb81bcad0c24bc80249760059a4546711fa0420843acf2d08f451bf307314bdca200626ff6901f8306f9de25702d8efad0e5d0c8ec442305986d2dd7c4e31a3124b98c75922cc0686b2d7151175a778e7ac7afd6269830cdf20addb7536da87bfc1dd3458f232ea6cd60152c0682ad040a737039d0164a2f72729047b725b5ec145ab78bbecc91ea8e1723d5a8352bed813db4acab8d6fa9bfcf37dddf57147926ac9c09bd4bba64438a7dc94fbfbea09924d8966510696b1abdec46f6929988b2774bb77261c5285c4ff52798faa4a108dae09e8443dc789dd0f6857590db4ee356a62409cb94c79bf9c4b431eab0f5ba179e4b933d56a04d8e9b44e9d54b2facde686a64fc79f484786dfc3a2cb0c25e736342fb7067a5b9e1e09b35cd787eb4ec05cfc026e552b9fb9e42f229b3c2f0744f72b7be98bbac0f80389dd9b85a3a7da4960be7ca06cf675440a44e79f1401cac7bd02ac9ddce508f65598468a5f9b2da5f1b91bc954c64bb9bb0ce75a7ba60069a967fbf7403384ac54c5214943b72c33d7c2c6b66e83b75bf325148298b16a25777838e50084fbc2df922edd4a60eae8bfa689a0c927f9ca2678a60bbfbc6ce2a76f46df44c8b85d8aa7176dea14fef053b8235d6d1ad7f3ba8cbeaf28ca5cdbc288fcdb951ed937c759e28dad1f9da9469bc400ce44b8f358f915811e9e5ee01894a9a7ea943dba4c40e05f912a8d7c849076a8d85ba1e3c1c595de2516de4c6b450751f81b9c2988f636e0b868a43b623a464f3f6d842e9cb400b5c4f58d21ce88a53433925ed7bd1523ec818098acbe8fdc026aed8efe7d32baec414a81c04be4e2d78552d463dda3b66dffa097b7b99dcf8e1cbf2b25af88f4f82f5a18d41a32eaf2e6a2299ac61e0d527cb5b34234c7154270589f9abd8d47a01f77067097f992abdd1c46d549d874f9a456c88387b053a7953558379581b9cc7fc51464a6b66d8b13b7002b7d94858931af69784ae92fea9f4b56dd08a4b5c66465624ce4b3f7b1d00bdbb97a2d2d452ec3a7485b0cf520a34fedb06137cd1a6d408345ca02cb9608c0209df4c318bde558f2b1c06cc193f8d181683cb844749c0e5fe7cff4d68120c42fe9a4a5dc7511b1eb2a95edddb5600484b1e56391ce2a0172e23f2ec623ea67152bafe42f2a62ab060b1e3c0db453ba07b79fd867a84d22c3c6276e71152393ac4ca9cff5a80148a2a85935bb5827ae59deacc327e239f97f4c46d94fc643e248064dc5eb1771b471b5cb402e3cbb16e98a01190938d9db97dd0ba7cd9daf804d3a376c9301b52a011ecb140991bc1432bbad7400ed3d1efef72e84ffd3600185398074eaca06ea1c76db1f2d2fa3d76f9308deab15da361732ddb8b682d71b94dedc630801aa1fc29e0b9bfe2a3afda00d8d1b563f3b22538566b602d44b119097ea0a9e0a08328fa90bfadc31cec4e2bb9cab22a4d8c4b52bc7a671ea9b5aa21569453ac59cd16330c6901d7f57036f04e1dd12ccf4c7ea1222dcfafc9b0c2abd9626594849ad357b0736ac55207f417cc6804c302119bffd76cec43ab2fffb9a65cb2bf765ce9b94ddb6ce51c842c62c8d7efdb451629fc1dd8debf6b6ca233b5810a5b75033eaade5aad24a4871cb56a354f23a1afe3b71850842caf39881e5f7b1a04a4d584ba7df9e94a05538935bea6e5fc13af0c43f28284a7067ea66eee39e5948ea134742a6fdd3539d40fce81e98e66bb30e1507dbe73746164ddcbe406b19f3390e857177b5bb4a5ed79b7a29de5726eb6ae5ac59ad7e37358aedf4cd13dd4b2079337175613e8cdad12cd99af0aafaee0a04c9408cebe61330d395687169bad45f9d089c41521c50ac271a50c0b05ed0bf35531ea87d8b4cb3f7974f33f5c35b76b87a784134e3728427c15a04b6ede567c634cfe99d08dc18299d021fc7aab8e378ff88f65153788cbad4e44b70e907012b9ee01cbe359c7f755ac36864e88e08bbdfcf436022a59d867151b4f789c1d21c4ad22fb2c8ad1fa0692458c2116daa5e781f6f2cf0eff8cb8dbd218c144247a1fc98d0d3bb6355e44dd21c2c1d8419d229570ba11bce1c96c3fcd8a9ced3ad6d930060136df4af52091db5162f32d662e12c00b4b35033ecd0b0c5dbba46432f75f962f2a3d7b289ea90e871ea3186504e275bd67ab17a8478688bdd2aee3be4e54c158415464938ec6bd257ab1a8e1004f115c007a4a4722b9957a8d2d3f4344e08cef3586430d0bf49aebdf6388202a47b88588906849eb66b87d1a46db07507e0b0601a56d1f1129027a71d62fbc6a0dbceee4d1b8d24e8897562d1c024723a78c2e49766161dc8722fe7e5d2786557c32a1462cec9aa1e070c9447fbb0d15fbaf97ce8c9d34268d9a7e3f83adea882b2758614036535af956ff8387ace9349628529d9a7a1b376b8482b4bc8f9a2d5f21e110290aa30dd9aa30a66b1e0e9480a9dd4a3e9972ac66900ed11fb81ac262d74a215f66b181f278c30de4af42e4e2959e52ffb244f25edccaa25b3f185ea22bb19d00d88f0b863633d467919a6e07677e29e4b5e5d6fd96e45a132e89d96c3f1cbc9f67034c9549421c6c309cb97b1d01396aee3f52ca1076ddb5cde19467db1515b92acfd876bed32fb91f3efa4adcb4ae091214a49065b45a9fe1a33b8624bcfdb021b27252d0c83927d669cfb7d8d41f2b254667abf6fab35da985744dd39f4dd997984607752c08a945f95fbc0f7a3cf00badda8ce225a054a7b3e6b49c441ee70ea073fe59cd4b51c822b979bd7301aab688046d896c0511ea5c5f60c0f0cb20804bbc5b1a3907abe2b634e61aa22fe2e018f2f30ce3aad7831430c24414e787d4dc5599de1487f9201e8358ec056e59cd4b312c54c706d39e4c5c9ead5f3462b5857b333b012a505c784b7afd9d4f82bd9fc4087e232d5896b35504019370b2ee727a42647f3bc563e4abac8874ed66aad62a79053be14d56ba1f9acffe66eb94aa8d29a12de6a607f1dfa6f922af913d815687a7037ae18872406b5d15a7e9ec2fe590ca114e9f125bccfda5631e7feb1d981e3183d1063a848145f5f9e957e63da62cee343f57922c42b36105e35a554cea632e874b3a02deaac3c2829a1a419db7f209700f25d95eaa320b751c10b4bbe81c33990b81dfebc7e8dfc9f393341a76ba63421cac53b7a971d66ff7f3a0ca3034d007be83ff02cf4c4bae0e7bb9e2665ff3ef213277c5e15640ac86d8d0c9b8cd8cc1a01923c74c9fe8d939d599014d61bfbf0ef2d08a05ce009f4f0c1a18d0c387af77799d8194be32760d9fe31f58424d88df0ceaee4809f54e71b3f8c31e1100e8ee5d38332a619d694873c855bae8c149c2a1366908dda91a39f38e50df984373d93fa752eb0daecae1cef24b7d04d1ce080522b0d36e751017dc8b6a80750deab4253b53d71511ecb5bc6b9a0980de2cece7f9f1008d0e9ace35d31a239afd4ceef0c26fab8673635b90b10b4122b84902beefe8ece50e067d8aa1b552ead676c9105bfc2f0a8d5dc0e37783f2cc7bb64999ec9eb6af6cea2c8f257a2029babe0aef1e04319e7f52c5ec23ffc297524861f40de3647b9f229a6d94bb64db42ead9e25f7248bbf1a8817b666e0ce85723f64789d2e91124666631134cece341694e964fa61af12de177990a96af7d334985fe1415f9e28541be41879b2266615408cee6aa748d84abc93fe4d4a53493f8bfe899475416c67a97de893b8425d0af103a545ced1723414e715f83562685ae881ec1812569549d3e5e5035a01f1ab862d0f489a6acfe5fcdd9afb732a239a2a7be6a611b0517f00cd215fdf995b490c44eb501055c360def9feaaf6af3047f4cc474f6c9d64995594b2eba638d271286bc4c8036edb991bb9f31c8293ae6d50e1ded117d3eae6703f06a4aeed09a6f6e0a2f47159b8100c0759b45b67f3d329d4f52f1978ecd4deb313f20ed73dac52fbfa1da38812456a933544df0903388c60e6c078cd1e29e06e99b479c3c89d9b0d9f1306a29ecef0c407e9654491465dcf49c4d21012fc9f0a7148e0f80402967174829aa50df853b9376fba7d845a84cb1298844357f5f298a5c2694050d696f87392e40cdbbc63b3fb9b83df56794c361902c17855f6e6fc1d2c700f4f4465cc034870f71dfcae58e4e32e2b9eef1253c0a03a040b73584284dac8477f090c06192509c894a9ed1abd602c203e82f6e0379884a33b45a9ed2ab214f77fe7a8673165a07955b98e651b387e5ff75e8d0016b0f6ac990d488465a525b494bdb67e468c5f7121097aedb960a09323042149b3475eb2e4880cdb6d2b963676acd1bdd241a329da109f5afe2f78eb1bc6be3c1c4530cca04cdadcf494ffb2ce1ecb5ceb47f01708495beb23574a5adbccb15e317c22a2c660b789afe36bc430973dbe3a1a7c21aa639a1ca89b74886bf7c5f36e5347ffb8631713fe38f621f13dc06825d59095f5ac0b60f54bb681562eb3696f427113a2b7776fc6bc284c7fd1d25c52f74440384300dbbae107c7ee4aa8f3f7efed8c7333a271b79677c995bf858c499f761964aa14460e7e6ed41a98177dac2d0dff3b0c4af3d9c801e674825caa5292891dea34641e2969e07447826f6b5d99901ab53141d592853202465c9559b8ce79a0d23aa6b2597ebca4c13079d59ac1bd368929e9192ffafe50cd552256cde44d9fcaea77b6c32a172a7abc2c256d8fb3bd5763a25e5f2209f16711b1cb882065b8798afc0bf1bedeaea25f385bf68992e39033187f96927f5f712ee005733dc24f24895136615e5c46324a25821df9b6c9434055c8506f2bb00bb61b6ba77bd0397165e2c8824b6cb415f4d24a6c0d04dab6bf4a3429102eba28c7910a8c5c0900fbc65e6595212f5e862f8d3c3b58646a6f63d87c6b1d068abf4ffa215e3917279a0e247438ae74109a693f8d2d4a3cbcc38a134c928ca3c807523bf11412b93141111789da138254a98763e1438e2757d768bfc31d0240cf3be821e70ade1ca5db98490d46b7fe5ecf6d26e59b45453e79c649096e04c791dff76238e0240bfc13de5ffd868792b722dc32808d83d8e971816d3c5ec38e3f5e6595f52004ad69635c518903dd0af2aa7ea79b992df7ea863774e4a955229fbe0924bc7385111ef86e5fd960623cb1fd497c63130f9295b297159a489e9e498c8a0b7cc847bbef8d58e84ac7879506967f7a358b0dc3c039f08331e46d83e85f4e2d0e74a0bfd5f2a02d313c8c13154cb4c94377f8feb4725d11fed058a2b48d13c33532a7173edbe0ebc51a0acb6b0509f23ecdd56c916552d3406164bba970f182abe349e5453cb6a48615fcbfbc26c09284225f57acf407105fdbf92e0ee688e07a89b3ae6ff4f5c3fd45480b24223a417adf7f9a03bdfba8e2900ee60a7f423977c31eb6b827c147fd48c91d5d497f1d47930e09346d60011d1c47e18257efa4c38cf80bae4c934084b103fc09049e3c89f95de3e729d2a76a1f74f81ce98c8c85b649844a8918546fee2bcbbdc106ae681dcf9c71d2c0a4ac19c0c6c5a0bc2a24afbe3bc990310a3687dd05bbc0789e1801099ac78b55864142334b0cd37b8452e1d8f30c45467bca0e3fd18fd57a131de301669b67e2688341911092513455102b164577bb684c7223f9e41f9997c4418cfefc444805d2e8e98cda86c429219f5a919908a7d9dab6b30869d49890e36a60b06998640500723bd02e86ad51ef30d5c9b7ea8845f504b405a0355d131428bae40f50278643071240fc612a3976dd3c16b06241ff355de46f499f616ade8aff6232edb185067c66b1430609fa3c5dda12f6e0052ec9bebad01ea2ab77b26e651fd7caa2f08a4374635e219e40a15dc8c6ae21c4683d5aa0d6dd15e9266141e768195d7d661057bcbfe200b126ad65b03fe651640d12e9e80fc1a9b88615dac52649f7f11d698ebd0828b43a16dd4566a07c18589a9dba5328ddb0b3bf103e3ed9086e11843bc8e1be24ee8b139b34bb3a1f0244ad522fc6b971a2755c6226b198a3636c371f8636287bf4c485e2d640e476fbb33fa3a6b5cd92b6fe95424860f74b47dff8da48b233478435a3e0dfeecea4375d9b36e78f522a7ddef5b6568f91277c51500bf9a87a8c34eb40e7497c14defd62856545027764511009867d4893ed65ddaab7c5944b6783d63abee32433e228b1980ca436e77fc2a9e7eef7e12ec50e23c89b6fba1365b5005bea8fc66d6f34382c202d5e0fb4d5edf0122ce154e46ff3b65e384f16e56712b51ad9fa8ef5677f321f82f93af2969e9a205437ca0ff9c650bc33a1721c37cce622ea95e2edf8fcb9cd0951566ef2fe49acf41793058e5bcc52ab5c0495d64ab4bad9ccaa94404144d273d069ac9f674fe45a17aafe94d4d6704c5d88129ab3a00819d7cdf7267d6a040756aab6cf543aaaf4e10bbd2fc0bc201f5f81048eb4feeb70956791672445b7d6e4d6e01dfbb1c996d729cf1f7d1c4ba5f3ee23cf176086976e0285976851755dd22c35a5b92e246f94a4e318f2bfc5efe39362850297a67a226cfff50c72d4f08345bc3e0257f772909eaaa681c9f849dc490d43530c76c50d57773f8d5e8d5b41dfaebf9d96c938ea52685421afa726e06da79b687bf3e782976d4c33219afca40ebc68f940ffdacb9e55445ebe3878286d383afdd81555d53a1490ecf95b7c60a9386a23500430ede24372ed4000d569426c844931ee0ac5c8644e0a66f048e465d5f7b0889ce538d359fe47f8494e1a3d232cc377bcb190121005ee1163962fec216770e2b080ae3a0f9207599032d1fca8cbf5f59d137d240b9b8bba2483b5dea0638b4f2b491f37983ce5ee3454923a64aedceea5de71055be78638c4dc6f11e795b638defdd64337a6472a132a209c12dadc1c7b5d07a06263777536db8c83271c94b55f88c9171936efd8149092790ef7df2863b735949f08bf33cc8728c944f40614be44ddc03932e12402365f7e938b0f0d99cf9b879683c90da99314ee186b354d8ae9358a397547ba16bda3bda2b04e44b92301381156cd8b63e531e05deeeff4a9cf062a9decccba2a946705a999cef6c77bcdedc5ad3c32ca1e2f9240aa8b4d0e45b7b52d428d1f5eb061a3252188f529b3ddfbe8217f3effa31473dabdd796a029bd5ddb0b304bf9fdaadedefc3dddc32dd8438c39aab0218cc1d8d92888ab6f9668d9557e9585192955e8ab73b7b0fe66b7e1f731a335b07301965fe9c7256b34163f40bdb0109b31c31cba42ad5aea3a992e85d68e2a3b34d1719b3e9024c90de28c7572baff0e3e9e839a3c5bfea33386b6709bacc81233159355f245d8647d17de7e9a78030380db21cd204c8078f108bad084835a7fe76a5e6b838fdc3cfa7c574e0b75322dd41c69f967d3c15c546d3ac056b19a738d0f14ce237f3c5a9d7c31958401bccf1b8d75ba5d1452abcd6e8892660cfbdc4ce0ac40caab0f9192b8c3e781e73ed72a5f201ab8e71643143401a76678ecaf2e7ee285e7e610b64b01f8af0f3cff6cec663347ed68c763e634926a9331a6304142a19e28fe58c0587cbd1743a451210adedb5b2161095784b42c87f4d22e080fdda09c6e76e02c68394b3f9224b6564d6dbe747fc934adc4c21e40bb5b06c637aef43d442991862df7e2e5e97da419992e3dcd4ffe6cd6d0f05bb9a68ed0385f229b852353da99fdac0be4651616d294554a45b2537af1c13d74f3e24ba82e7ba5d2d827b483587036089246ebcf97bdebda57a7319d838e6dbe0f9a2bf8faa67f614a08750e19a30a62ec051edfeaf0c9da07dc61fd473b896f603ac882e676e7f000cb529ff7e3520ca1174f39fac21b71f15af81f4586ff366862bd071342b903b05d146c224a38ff5c3cb4dbb0c1791881a751e5c03d1e2c70d5ac3ee5a2a3487530f4d70d04c9f17306cf5a40cc1810d9a3771bfd10f35ecaf8917e52d95ef363f0d9517f1609334ed2bf00612eb37ac521befdf11d270695b5c09f1f39f65e43730bdfa9c2013ffde60796ba258098f498c9fd8cc326fc35166ad5cdce1950b2520aa515ac3f2a57e4f868e0a0370fbb06ff2a16e3be6e5695d849fe250bba0077686d578d48f719760687ac41a92a1fd2ed26b5f49afd1cf656433c6fc5664758b41116f3c68c6d860c209ca549b5930cc55999fd85c4394b6d53ed7a143b603c1f19a7681dd92dd4eb42c3bf9940626a05b550123574553dfd690889d99211f2bd1ce91ad44c81ba12c1ece5bd77b4de4aadaa4631bcb3a321186ed683f4b36a0d6376fd1a3b44f1ccde5a415a38b4484c7cfbf52a4138480b748c8ffd326bb64c65810f644be1651f045a94bdf86acf1f7da4a8d2e93ec8c1f65a9f79345ab9e8750838c5a174a1b82a0c59ce7465a7cfb6329a322de549dbb7cba03d667792d480a67487607c2a4fbc90f0acb42d1f4beb8ec7ccfb7b9607f904ea98c5c1cc14a6816c75003a67181ac9f6604ab005f90c23fbfea0a974ebd3ec1d95fe881a6766006201979b50b7615eb813cd7e142e1122db84e57e6726675cb5150f7a147e69e8da09ab0d45db50e88eb2c456fdb134d6c942e324ff9c1607cebe2351e384ebeb106b9911c99609c42aa4eba411438472676e4b7c0561a0e8302322930a6ae9f168346d3a0af6588b93ed327a5c013a25acee0f2b8b677654aad2092ae29aa3a3de30ed3fc748fa72fa2f72506f5ad093a2e92d9ca73b598f2fdb3a9188f8e71c86714753118d50597eb3290f8931fe77c991a43b370daca2f078c0281c7cdaa0efeb25709f71bf35e8f61b6ae3c69560ab3ad92777f556fef36f303fdb453875618cb99851e2b04a07884419a5355b8bb37d3702d1e8fe01ba72ffb90d7b3738c061fdd800ff3fcbf63da4a0db1b850d26318f272708ff6a9d96d257921e7d2ef0d3e352bc643532055b68cd2870dee3ec12a9d36851cb7dbccd8089e01f8d5aed97b42b06e95697d58d542b719777f61bfd5f3162f72afcb54a8122d9a40f94fe6fa5107d579f6fb865f483435128a05b978172d8b039aef8ccc3bd6efb3db6488ef3016579179c00310a5f88c946c1b2915b2faaf80851f69bbbcd64f862e5e603f4766ab47fb0d7009b405a2cddce333914cfcba7a43eceafde00635fd82d2e03ac166714e7643f4e3e5270041e3bc7847bc1e7560f2ef4f4a642a96ed137c9f54cdc9350b84e3c9d997f782bf41d8cef5b9074681de91ea7c27f21f1f4cbe781cca8996275e179db0fa2918e8b5e80ecf6172b9d713d9b9d246959b3c732c9be7a1db72fbd14218aae38a72a29d4577a0e1137cef2a0d6fa963fa9bb875bc035f98855da76a8ee4138ff765f0b8fb9d31975e420698e67a6b7d2f328d45f22e305001d55c672677790c6410388fae5752010919ffa332c36a3e10440a6e53393d48b257bb6afca74c0c66a8b715d6c9f9a62ab8a8ca6881e54fd5399759a11f8e2406daa569fb9d361d667bfd5396c6bb178977e3610fcdd4ac7b3c3e0a57de6236f150eccadbca30470ac852d78e57e82dee186f1339db0564b258e1894df0f165edb3af5e2683a3a1854274d9ef5de0efe0c69ba666237a79d5b1926318a18ac833aad190fb7f1f223d51734ac38efdc80adf10ff74adcc0497bf7a49570ec54c4f27bbc8ba642a5b9da4a92681453d262dacda16d2ee4746e7db30bd60da921b453f48e86155771ed145f7d3eb8bb41606eab85d40820dd47099be74a1255ae4d1f5ea2da3b3548c98adfd7f82e33a107c04f0dedd785bb28a18dfa6af44cb948d1ca2d9577abd4fc3052421c46cda07e6872dc9018203a717cf9f7631f6642d35e9063bef591118c8c1f80e2d3e16e2ca887f727a7115bb5097a0954314ee9e6ad37e2d2811db90ee1fee7dacd5f61149a6784ee9356d9c151b2932e98b8263bf6e95f1e12df66bc73dbdce07d4c5b496ac29e7a0115779afa25c4651085539b2f5a39e6ea71adf8993f2bd659a561dd3044d39f18ef7687a09b7946bf3c92accc39e105a25dbde47871dfff39f51a4ab7c9eed0e99f95333d36436d149cede5b6ece126360eb8bc11b302343d3afc4f24d89a70dbe6542f8cdae0d8bb3b92120b9abcd22f5220b19146e3582e6b65b21ad4744a95f102e8b1666435cdf4cef7f13ba873dee43ac0dc9e50eee41b3f923a45e5c66a5b43eddcb045fdd149de43b2ef603da9fcce6e31824ecb5a09224a709bdbf568f54e513a51f0f967c05e5b726591ad9e0778b61672cd2d133459bed85ce4bf477514be1c9aaff5f98a9285f3b9966eda0690b3cf6c662ec7713b0c2fcbed9eef4438205155f9f5f8c42243a24cfea40a4329eea8683337481b45e1691e5635138c9bed9073c14506c8f176ee85bc8fdf7a9521dee841ddbd9befad09cd5dff3bd7d795b71f152cbe11c1bc76894ada3a6eb6b2c07f718d99823c14834c8cbb03720426b946f5276ac5729b148d1a584d9ccc2af82ff260dce2e9d45714ad98d39f6335c2f6564f20e7f0b38a903ccf5e9e5492f81f164e39372038653c3001e1fb7b4e6dcd4fb83e24fee41d99e2d799d09900f2bc70714c8affd3c9b971160c946a24982c8c1646e64ebf913a3cabeca198453483d9c43cff270da2c6db18aaa16d8cc14a1d126b2aa6f3ce406b4a1e91bd89683b1456e886b52da2992f3d515aceedef6f3dcd178ef7e5ea1fd42c62b927965329fc5de50290db40c7e95bb0b72b6b63f2acf08e51d3bf0be52cece72879c5d37b1fda690e8fd29fba294190b891aceaa648e5ba7ef4bb484e227ec0aa4c29b548acfeded1cf50e4dbd5845a64485704a67a1af890b1c929b3ba821971937e94b310dca1ea6e64537b034b1a1064d08b79e14689248617f67be08fb6309b24f99380e1d0051696f3debafe38743805b651f5e4b87da63d322b09e65aeda82ff2931e6609f9e1394c38cee6f38feae7524b93e2cc80396d7ab42b3d2e2cd4ebcf39b54102bdc92b3fbff2270b72d27b779a8fa832626d411ce138c0696f4968d1641271bf85cef2afad2b1c94dfdd6e79f9d61d9e3fc3069f56a6fa26e5058c49e45cf79fff67c0ca4aa492337c9be756d115e46f15ee02e69fd0ee21ec7680473006aa9c00a97a09af59caf62af76d87bc20d9480bfbb40d11e6b2ff92fa0bb943ea1f49781fed8df522398c18ea29b04d979d1a436ed07a8ee575c26e58ab0e405e239ae6055d3bad111d6ede1d503762815b6d4b73b584e2e53fe615f2d93cf64233f810b022c8f3e1ea517212b845731660f85f1e3a05ff2209d85e98b5f806b2c470788a174284fb7c1bf426d5c7740a13e7d81fb0d03541eda6df145aff97a8e76e8647778aa7befd8e7f908d4239bc1ba816359b12c2fa24fb5d812feef5f60ae547d6570191578b025ebbb6c97f80cb59da3d571a7aec91a3c4212a498b50de3c86f5b330588a280f1d2cc5e346457078ed972383d6347e833effad6897e240c9b47af78331080582af4e83f789be3516d40ac4ed93d15cd0ac799ce469d642ea6bf83dc7388316cad110d13c45d255b8cde554af6f96c6fe1dfa50a5a1e49d12a1e32a8a32fb71b9f441cb51c7dc93d99cb3ad2ac4da848e013b871ecb61ba85100832062d25b69762e5811689febf6697c3630b23a0c6e91d523c2369625196d58ebfd6fd66a83159af554e3952c6bf79a712b0d3251e7dcd206c7c753a7a78a4381046d81078dac65a76151a449d71527c26f85271a7f0b73ba39cd6f643c0738d170f30916df066c314af7f52731198e8406ba5e7d8801a16d6e6082e6adc848d16be682af0778040c43937795c091ebc74e70976a105d315022c8b65a32f9c149f33fd1e96690f658982affa4b6bfa23acc21b3a18cdbc4909f06028df4ca1a20b85c9f5688bf0c62554ff72a60289e064b24beb08637946849fce0a9138bebd18d61b225ebcc70dbcffc69d7ab81666163b02d9258f2905cff48053eb2d8fc279ced8928a531d3d55aeea721647e7c9eb70ceeab32fe3e3817d0e1b23867176be71f90a4d5040c5309812a212d5c4b2b9d8505a054c4dd784799bec9d5efab31b4404bcdeaa95c65eb664bce69159f492c53a777197f8a330580adaf46b32bc6fef5ca96abc1d671824477e3fa0c17ab4c417cbe570f03eb39d4eabed5b3c221e1d442aa33b4d6131a5cbfd484fdaa4dd493f4d29f5de1f7045d1f2ae7aee3c0d5f9975f63e4141a8c96abe9579198045bb113c7b0c5b3f4db3d5fc793cf15f3bece18915fc2560eeb68f95eaed0554f3e756824d00c672a3a38db1393bdb8b2d981db23f42d95927b7124d6c2a15bde37e8df014820b7888d68de4e2c05e5e0724fef23d9a66997c4a0a2dc18e61b2fc6699306f7a851220e68a6d83c2c9695bfa1c57d391c564fdc28a18845b52e48aacc7a2ee2d6d81d1553b975ecdfe5d338c3d53d59155a2b28941538963d9936cf70c234c7bdd1476da89fc1ebcdac2b2e7a34dd9efeea53fadf7b8e196ad4bf69097b2376d46153ee8f5749e103cbbc9a9097810f2715e07f5c505c35202c98e0bed280d8499ab52263f1e9607093fd78dd4bb2029d6f54c437da56e57b2dd03cf1a934d0d4f96c38655908cd225fe7a99859d70cb6724f66936d4c3c1138225d782a592210f0eaee00c602375eb044b427de2c86678df7c565eb58c29319b406eb96839446658b3e73cda9d3fe80277ea5bc6b590cceca42ebe04ca2dbf09423c61e2f5397bfde303932db75a0e267a1e03c3aeb9a5d32a34f000b156366a448be8fa0aab2b4d96f1d225b1ec058070209e80af75e94abc50569db2ac8c4f0b27b860c3edcc6f4a70195c1f96465753281e471859821933cdb0adee90494cb05f23650c58fe4b083f0d0dfa4a582c93123e2b98081762eeb4d82e00226df641dec09072bae9005f7b4e92e2e738bceaf12d5fec990a8262a3b5c8757fdb1f291acc4167dfa451c9f19249f5c461fd70a30b1abf899d6be0f7da74322705f38b6fe0e5d3d61db4b448ad21abae7a70417375a373aff0ad6b13fa8a6b57537980d97066c73f224c100af245de7bc0bb4a51f2b3511e507eb327db0b9220cbe74911f1bd011e279cc374cb23fdcbaa82c3dbaf096e51c00a7a5f9b1b806f47ab9f7427abe63af927ec1eaaea37ad84b3d297b2ef693e7e210868cd38ee11a8d487f60270861607a41f48c993533c83d23d679d3458fd02dccc64786942d2f421ad07c0d05d8f12431de1d71e40cdc29045e61e3a162e0324f2e35337b0a3a149ebdd0b4c47a6c0148e1bd666b30cad79ddd32556f26aba5db49dd9a1c1a803384058fde885693498772d011842a69c9930e3ceeb12c761a8cf967a132be8400501698be2d2b3797a204e0212b387bc5199c27c649d86e728119ea9f40901149bf89962d54278153912399fe0d1e56afb9354c859a06589962ac6e02321ffebbe099928f1ae54f768ee9d904494e941d8d8b080b0cae0ef7ab1bffcde3495803918b7b122da84b3af8aab3e004153155572a145d2a52ed2b886d4c7b86abaf006f5ccea7bf0ea71aee74340ec594706b8fe0c4d372d3142ac37363d340f43dcf7f2aa8c8f3974d2cd3272db1e829786ef0efc0c146354f6c6654661781dda82f7252ba57b9a28a4f26da8b3be132be59e25077a30fa2c0e8a53daf5d6ebb41af1e7cacb6f9f1dbfe795348fddf7ecfd4c3be1277ad41cc861f1e5506ef362e0de4d2bdca3b16935f62f53dfca441340dede468ac3a3e62cec13d47876429f533450ca981b13b89d31831487126530cda4ccd8e9f5e9c7d2944ee54231f53b2110be909c8725e740e6dc9fa5a9a574812c3775f064407da3eb70e2eb8e42e267a7c3af1f92526dbd78155d688a70c832d978303da98bae9db7573e018727793cdf995254558118a4d52c7b7fe14f190998a98db71ba3e91a7235e4b9c69be04c098b2806c99311677e85931c5eed58504cba11f3ace35417458fe249fbe014ebad1d78baeb8fa00c907798b25df88306800507ab36449dd31a3d43b8cf929b5fe5e40f5ca31621bb648f2ea37346e380b44077bffe52327bbdcd747ab0e7d1e7789cb9c04045508c82621afefb300a76db49a781673e29c3f4afd9bda43a8657eafa2de531e7d79f30a3957678a785b65fa27c20ecbea8b45111b248f79db3771e0361cc2efd88344fd3ff2f63762b9600d28bcf92b7329072da184838e721088bb12fac395ba6051d0d9c03582f1dac8e10830481c94ddba4450541d3e1b4953d6dac4a1750c17c55b2fa186a58607a15a9f36f3e7e8ef52dbe1162be09fcd2d00f43e82139e987bad83cc3623bbca97d24b1cb0bae135dbb12d1c3e6d4bd33eab14a1197cde347f31c706f2a63b405fd58b287b001d25def61e0d7c06b69bb69028a914d022c2d2f3fd67544d86c167462b742b91e80976a60d9f2b8c7b9b7cda863a3630d970f1091b7b45cb8b9713d701a5336d9888896588be0c69dde29a10358f84a23b1185667e7fe36e6064b17d1c3c1982fb9d1022ac0bd0721516c9a974aff3b4d185ca1d0d9e3b663842621a0a22a9f2e316a7b713d149acbef93edef97ed1b61fd8b8aa4f7b55216141b1f18830e5270eb7d7c9a8db7f01fac027ff57030fd006bca2cd87d410b343cfbcb1f71e7a273c5328882c8181e4972342648f525d9419475f4f584dec82d081cb212a5df2342bb498cbdcb17325c9d187f71287f3f04806c9c05beb916fc64b0ec5bffe542b055122f28e675c470d1e91ecbbca9c5e3e70ebc159d9fd428e9012b9a1234d468b09fbb2a8863fe3100af46fbc6a8d33284f2d2cec600ccb9266241b0c2d07f0e97125b9495d584b2ed4dbf8c2ee85a23c6afce618295be6d668ea89015fe86b61e8b3f7dab7e6d21b73e921a2f7101572819eab9d8b6c17b654f1c6ce72ec36d96a5206fa0920ee63b923108fde43a419bd755dbbe818b6a1f95b335524a06afc1d52668dfa233525465955af60fcd3e2c44c48a002c827aaec1a94a93a4a4d0c0fb8f47cad37c5ac041be147c3745e9f813edd7d7088ba9839736f75b7e602b51c1edcd25682603392d275f6c553aec2efa63d7c036e9f37d5ac61842a902429678ec1503b753df24807a60530364e2479b602cd9e172fa193572bd2d1db8f3c29aac0f4434fe1909dd02ec5e1874dc70c5ec9a78bb1ff60ebdb5f7549691d6e8200de6ef2d6580315f93c27735c6590bc5203dc843bc86f90b0ba391eefd331135ad5429188662c02984ae55a4e2f79f1ac8ef52cc87bc6a1104bc161786a3ad0ca9158d4792544a5cc4552a07a2d1646986df91724ae4e86e0ce320f5f5cbe8ab6e653d83e9aa8029b6057eaec1c36653ea61c374c6056bf6af4568e2d3cc361182055856c8154c4e95fe9dc8c4b09673a1a2b919e5767b6001dbb0834d5468ab8dce88a81e1d5d593ce3ebfc8d0d06af59b3856ff6e34fad8710b0e0a6e12fbe31ce5224edfceb054ea87e312c94416d6072d10374f4ba0fc8c441da1f67a2bbe0e3cfd8bc921b19d6eebf771c3d48d33cf815283799e82efe5b31af1a95baf8ee310dd23559745c78371755e1e438af5b7b54f74cae5dd0eccad8cd041b7e451fff73002e005e962d7567834b4da9362ed14a8a13042e206b5486d5a0122b743512bef797b471e1a05892f92497476f0739a371cd58d2e30b07eecc1e86ba2667408e028ba69c00e351d4924a4bc09a9bf262ae0e57774be2f523a63b26e33b8d032dfada3f349c00dc36a6e236d17eba4e2b59cf960174b6cf8696d229cffa9335c872cd71852452d10559e44aefbdfe24405fbaedd294793da400503dd7d1b78cbba4d3b528a9d0cce14e5baf6a4aa12eb12c66fb3211b9d36e1f53250b2a7ddcc7a7e2bf8752aac5ccfae8845f3a9013ecc1ccff1cd71c455bcf7eb94423529c0847f15338f6e405b7d440b342540247572e3f0886fed2a175ef404a5ae7757d66f13b39835eff02dfaed2f33eb7f0c7783bea5b79cbd0df56621d26f3be531e04fc6c733728d2d9dc1764bbd78815cc999775b961006d8cd6d402c6bd6ab1496d34524d975670a5e5820cc5bcef841720bd3bee56bfc687b54461404dfb38d9d9928ab804b8461f9c4fafecedd1ba6e8bce4b5050e85867c1b01f12c0861a3406ab8e80d20ae4fb8b7a1a52b636f799d515109840c0450ac0a32dec2f6176fa65ad40b55c7fd45a45e115a4d5e533e6722bc5535ea355860043cdd4db98aa06313e275d0f1ef1c1dcc9bac41599ed231f1fe0dc2ed75fdd38201ef8d1737d5da30ebeca1143d60324b239b699bdcbeca32e8c99ccd5e485170c7f96a9d9fc104737a80f62872bf9396d136a6aed2d886d26da8ad711b3a00afc2b6c4f07de4f3e6f82d4d9c20233dc972a6677028c4be12babdb63a614481972645ed865a077f40b76c0b7a28544a1fdcdd347b92230eeb24f5aa74b5e9702deae869a32506039569843acbb91dd7a1b9b6837d30064d9fb783d1b017be4d41e14c80cae56c287c9736189d0f1ff9729e9863cd141027f40f1cd233fe3dbd56d0ee17e35e2a8ce367a81cb113bcec208a4dd90228d10fdc577657c3439c00c74c661abfdb60725ca37cae94f5311ecb35027af7248296f7f5003665c79f0b2e65b8371d77e7264b33757be3a99fa547535de6452381b317e565510bc833aca6709c9000531b4a76a50df43","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
