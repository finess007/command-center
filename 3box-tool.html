<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0a0753ea63731a3d394fd348f17cc229d4a813706fef2192da1d0c9cb8c57ab2def7fad477194db7300a58915d69c0582ca5dd52d5ab888bbc7e2a313f51fde538ab1b3a464627ca38c19fcbc14072d158ca5553131e0861cba19f03be0a943227cf6145248a0870f81a4cd9f602212656a4f26b36360197a92f0733234b3aacb5b5728d7b89838f12b434be9faa92d6b1c7f46144f417145ba842e48b1157f704d1a0a943cf4f2693687f98753afdf4de15d0723243dd0916108cb92de4384d424be08699e88c50645eee1c08ae77c0dcc0cd876f5a4e7986a70dd6fca6a873b4642240ecc7b9ec228cc64549157b59bf514bffd777a7b843a80ba764bbd3b994d5a30ab108e43edc9637ce527ae0dcda0c604903ac950dd9d96d97af69504d151a43306a6e243f42112e734bac6340d349f2b15952e39d18c778f9116b95965e2a539f522ca557e9f7265d99547eee7417c75c1109410e77746542990e2993cbdce0a6a3194e6eed97bda98f8ddea97297d3acd21976a2ed1e722656cda5ae8d9645906572d1465c0ff3874b96cf4443a912abd54153a8da9ed2f31b9e07d9ccc919cc5ed01cb6bd47986505ecc140509be319188850ff6e8dfecf7742146a62d4b4de3a73975b5678d0a43937132ff12c2491ae2fa0a08c6257814f4159e4a7e32ce1dce27082e32f4470ffeecf9034fb21c6078dd496e440c5f49f6ca81b8c3799fe45eed8dc3edda2da15b5eee61caaa6129087f9d3c48d3b7632e96816b6abd6b8907144c3ceda106def9ba05b4ddfae2ffca99058a9ee8e09139dce88328087ea76962207ebe73c08a77d36ae99576d44207c7f49c89d55931582e2c555f8407d523a6f5929c23358111d67e3040beb2c36cb7f2b04264793ac38d1af3bbcb08a90c72a2a8fadee2427c7424dd1ce620c9da2f170110b340f8726d7d048030bf059a7085b7a917188a81cddba8667f2d2eb1f53a7d7a1a3591bebcd9ac014f93a2a151fe1188108c8267c2c139b0143248c053a5d5d72bfbfb61b1369df2b94158fcc2597961ac328b6787b39aa04bfdaf084176f0ad3bf196e33b5c09e7e87aef9fd599d73fa7918ca73ffcedf5175404a4e2327811d0721fef0a02dad885924bceeacd93b386e62ae8d9dc5ae8f81c581866a356f5289f31a839a1e0ec27feeef25891e63a8c66a315d060836affe218c814b09290ae6df18f405ea6dbbbccce91eb2f6d3a89afe2421a338f9da7c91d25d67ea8f7ecf3e8342d8a33248eefa472b63589782473b6a62bcfb7f3214b433d9e409825346c3916e5a39ddb7060c8d6d01be2891e1acb86f5b067c2be94cae3b43c946c55201c16cac758023a7ceaba62b5353a2a704d97584dc555414a771131db3d5f9bf0b70b61e5f3c1c6a55b82bfe14a5e8f391cdac65a2d3d2c4eea9b6cd081aed6981526fb8b618a3419fb46bb326f90b0cd209a32e457aeb045a28a442e9b008114c7a093ff24102aa87b385ccdb7eba7a24fe60ce72bb5da9004b747ed847c94fa92c76eaf75d733f7005f0d5ba3c6e637e299c7a6ea84827401804680b12a5d96f13e64eee21c68eb7d34415bffee1a2fa4379949237001e2b1936a243cf2507d509e4af5743a632046942866212d4ac3158b6c4a4e8cd4320bd9e3bc38c968a289b9e686c3bf39e9fe469fbad09738ec60ed4b759cb9b52db6e8453422610fa859e49b875009360abe155a2f081ebac1f5fdd54ad131ed64039b962e03964cd8720b77167b351e4a5de460faacb54630549e1e207f07ceed74a5c98ca1e2791923759cdb9e428224e3c0dcfea61ef2b775c21d4e2b5ae551a7b7aaafb5a4568de45883efe00ce6a3729bdb81d0ff1f9b5333f9062d8b29de7c870f2e72d7086fa514a55df2b8683b06618dfb742af343e35f533eee91d12cf37412812c6c370f43669e3645c9ea0b47b6d2ad5b6711bb34cf2d8f36c9eb32126055be0c927b042d787fa3f6197e2cbc478764bcaaeb29dd630ffa3d086827167fcf8127c9cca8ebca524177c4575866f7131eb08aca286595e31d594925a9f691e66060d96491c1d153acaf1a1bce149a7920b44ab95ca87f8e810158eb7960e484df0c0e8dc29fe117acf5934ccc607602baac830a92cba0408309b3f670e4d640f1aef08734bb458168540c0ced9fae7e96e21a02063a647872e5a909b373e5d99afaed7fc76afc65dfc6394ef5012b102c4da52cfcaeb2ef1cdad2f7f208b9b5647108cc7649a33e3bc1dab6599c7270c69622a724a903abef7e70ee93e227c607688ad5ee01727348a74a9acdb5f710cb64d74c52b2b607c20c7d2fcc81c39eeef0c0b20b35ea3f3240369933b84e68c3b70f058a4f4b90e11e76990ea8ec8ea0c6d315c02312d0c949a0dc0d7c8c7b21ff524afadda300c813909b19d5442ae36d448033423be058997c7e588b27930c307f57f19e402ce850baa2d2c2d01ff856096fb85c31b5dac9295bd8711fb466a280e9d6fd44a58253c860c85837cf4a7e51006f33911eaffd49360355328c7429611d664caa1a3b96aa2cb0eb08561b4b67ee0e2663f57149a4fee59815814b3606b9dd5c0009d77e485cd447df25d9d844c9e08ce64080c77a3e9f9f86e26e8f7c301d2d5764ea4660467a9c5feb0cf20c5b985a80a654ab9624637a4a5b6c68bda872a3fea8d44eea2a06080ab5c6801649ea433f01c887094e9780a77c071545c9628e891b9844c2f46e3211cb796ea32381ccdf83a41cf3044929d7af7861ab3125cc84c9dc90eccd6bbecdcf494543ce97ca3e9c95f2a778b373eba51eefe5417e25d3233b93d0a853c40b36b69a2097ce985549a2224635b3349ba99fa3c139acad121d7e7c7d831e83f9c6622428e877371a4fd490495c2e73952abc44efdf50bf1cf6132dfbfd2e0bffa1352448cea4d5b229685749b1ec22cae2618589d84d4d78942209f852318c856044a888f96a0daf811987c1cac08c7d17ab948849bb9899d21c5899bb5a8a526445aae09844a9c91a304fbef1d7a3dcec89fa8fb9becde210aa0230693a6339eb95da4c942c7a0202415c59ae3b8da24b967e0e249135f7c0a7c8de70c7088b99ce926b20b9e17082018cbb55935e417f4e1913fae8931ea303914e703086e711ca2d6e16c9cac11453845473f4000607bc7279f53a12008438faa7d3d9077b6808483a1d22df861457e35e828f43bfb71a45f51e46f42f0295b1110a3eaa421652d90bb652985c8944810c22bff12e20d3ce34847d7f114230a7975119355db34bd728ec59fcba1abbb9f9de61074927a2bb2ac76ac064b546ae203208450ef0df482167ab03fab39301cc5083bbf07ca3533fba6e642778b2916bc269adbda1b3a7f11d4ed8c30b1ced28aff11f115f98339e342fcdfb287c02e75c32ce5cb21ad94b7f066e49746fa4cb12ce3d5d7fa3366989bd18d5fd2fba6962c3a7efa72f97274f01383e65e950abe35455cbb7c0ea0c2103ac925285fb56cfc058140ea13f32588b7ab929dee647c7d8455ad999db02b843a0640176cc14055b654debebd2ff9159b18a3ac8adc0224855fb0986318e4f8cc02c7833ea4cfad598280f1b1c687894560b92cc4f62c8e2d5b8e9516914d6282b06446f6f3a97391d087dc64a2f2da34dd83d34f8496ade92d22ffb80004dceeb1675f612ca136aaa72408cec2d5127aa826a905ce8ecd81bc9ae9cdfa9c5befb34b5c46f152d3be1a53d94dea29d47f29f9f8d19aa773a7729617ec09b18e0dddeb3b1977afc185286ed6e79d5128afd9a929259e94f70b836fe72254ea1103878c88483ce2227998f1a91e6da548324363f09ce4edf00aeacfc6e900e9228e811b02419bf2b77b22db998cb733b4f50bc95e7d7ab44d0aeef642af54df53d7dada26ecdbdeb884b31d5d468aca5ab1fcfaa5ab1ee83126cfd3983f96ae91a12acee6c20beaedabf9016e0aa815ffc1a641958071c07189e831696607051892893d05b90c0d3d608c7de02a2bdeb0d813dea384e20138eb08c1af322c87f019e60c68f365fc7929fad3c140d04a6d4844436509de6f9e50dafc4b3db5a05d00c8f637a8656dbd0b38ba79ee7978383648af77352f856a04a3a014a219801fad57d49c0075cd5d028f8db7256f57834f25aeda55ab04cd5c5b2a6450b4a44675f775136ffaeedab8a827fd2f37cb7b8d40d2ba00ca0a43c0f30d89ddc71e3edefe4c063645131ef2dca11ad8648efd3638c18247e7941f42fb2d2b43d5649d2e216bb7d83025eab9a0f30acf6ba539324f3886a1e13f50a8e080c17883198594c1fe766c561f7ed64aeb851d0803aa454fb4ff17f06b6371e4f3e9622887af69e3209efd95e634b7cd1dc39ab27d5d6e7a8c266fba75b6ee27ee42548e266ba06dcf005ffb8b333648a6b91adbe5ebd698f4c198d0f18749adbf1a919aef9e40227187d9f8a654dbd856267bf1c1f89f8449e6955512849432d96348599544da5a9946ffb8f2a6e6d3042e8c960f247e99dfc57eda9d7461c723a3f8b75d9bad4d9f2097575e9d5af079d7791654ea5f50174758cac8cbd3a3a173a31c639e4aec9285984115ed98e73bf75bcce4f7beb157b58ada64256f3a8c7435ba2b47203df2bde25dc5d450818de77b97173e5248af558b19c2c63b4d183a1cc659569f4660ec6d21658c047d37335e23cc1c8b2ca1e015bca17133d74f78dad63931d566b963e310842b1d1d3bdf68fee6c15e8fa6de75d24332d3ff2738a2b5893768ff11b109a4894f0bfa198e5e260322849740d205c54039aa96ce233f83f712ec6a92f54962587c1eb1061b572a957f17f2a6954b3592e664b1d113c985d0ae2c093cbfe9df3b05508d7dcf1e6914472652a89c7e84a6241305ca82dcc4c4d00c3e0ee444469f9f00c31823ee0b2ad87a72b65b8493feaf95c5a7edaa999ddbdc8cab9e75cc0909e856127de6a0dbaf9b17eb27069f912ed1eca418a6a2b53250abb49a8a8c5f7bf4e4c2c1f107ecd0ff9aa7c600375a2d2dd76818f21b0050e51ada0d408797faa0375a365f4998563c8b6008034161a9d75129ce24fe8ae91b0c88d4234d5c5ee0ae966673d6e2f25bb726ebab99f2fe52a61aacad5e16b60bddc20d472a4365cc8fcbc96330ce34c4ba34bebac0245665945da44952cb7a09517cf27592ae99275a4f917f77b536b26ecd56533738dd07fc37dd4eaf1257feda0eac6fb5c5e28f9de94e8af825c0c511d6638df5ee2bf50ddbdf83e0c05babb6498c246399607ea634db581d7cd40b3d8a1610689f0ee385c2f087964cfa59a3c6fe8f5129f9ab841e7beee4f56b86a5d2e13e43d60116556f45d3550d679d0f4ccfcd1c795440ac3c222037a80e1aded907f9562970b5dcb68b004216df3755c0f496cb7d119e5ab979e3c597eff90711c6df993b459d80ace85e94dfd9372482e5d92e7cb76e3fb40ec8a76c6c537bb7f22ea89aa326ffae0a370e23921ba50523924629f50f7299a9e2feb8eeeeacbf7271763ace9a732b1765c736e652038d549a642c92e4b6cf7ffe0e3b18d3a57ac50155c46f5fc8f88944cf77b4b67504a2e8ed1e1ed19c5b9d9e373063c394fe889ccda450475ebfd86bf4dc83f675e66a84782e904a1010a507e375b87dfae6e9e13d08c3ae49a1416fbc4602397d0de905b14a736701fe4236c3c8fe47abee16f381446e8b7367f672cb93fec88275d48b8ed4cdb2bc325f2dc9f1280144390941054af7424f4d8aa4c27163b8af25cfd3165c17527059677bd0e37deece4fa00ffce8a1503aa2603da890660857f96d4b5a54e8399aa13d73463194182f02272304c53d226437e4a7f1fc94d9429c3babb1a4892146aaa4a52a541ecb0422aa5c9673afae78db4a39977614a3049d9a9f416839794a3725884e92db29d44e9bee979e490cf587c177bdaa8b39946ee3a448a4ca2b9660ae4f2a3ad55e49585592e9404a709046f6cb8a8a43c8be27ec244fc63c93bdc4d11fbf88007c0f34ae15a37a59870a147943192760b45187baba5f70e93a312748552d7b4574a03a716e6b6d9d35a547b1c1187f79b6fdf38d0000e8ea5da9d7f55d8a4f16598249b76fced86fc31d426aac28c96475a3ad763e4bf5c01e0bfd6de1677c7831e30c8786d8fa080d28552673d16c06d9fe539a07e7b0fbdcfd375eb1cf5cb766770051b2cc9ab3899c7ceaf611c07c15d72a63dc72c354a9af7d36d25aa5a4a0e3058fc7c3e38baad6bc1a31f973717776ee51dbcff20d1450384fa2ca65c14db1bcee927433163fea04f3d1ebadade8df1e212213d38d48f54ddc2711d68debf66a321357f9f60601cccf53452157a0d003bb24e2cb1f039682bd6681a1e5981934a80a442b411a7c3652ee0b277ed6ca2b08bda08b4fab08f8d0c99d82bf834e43c42bfa530fc292403c822880bb9b17b063d553bc9698f3f133b0d08a7bb566fd14bdf04f03f7b3f6e577f70765c4d44b07511e5c061d63997eb14a33215eeb6766a0f6914662095a4ffd336908d1e5bb8418de37cda4cd6ac1b59fc8a73d7cb696dcd0ced7390682480c1527e24f68cc62940d3534dab5ddb4f458f0250a7f2ff57f0f558642f627095ca0cb22b96ba1c091f1d840ec4d07bc05e6d6bbd7b39b2163eac529c9c187053f909a7e22a7044707ba73683c227f0914a468804d7a24a468ed57f07ed3f07ee4068fc160eedea759af4ee3ee8e150e04b7d622629bad60161bafa84697c62d83aacdf180569cc0d7a4b90e7434426be4aa85035380505a37a2743a13e67bf02866779cd4f4c4b8bafd3b04ea408880269d0d8b7545860069b65418146cc55a4c7254267b5945e1a534a7150aa6091e8a84dc562834d1f907682dea2699f8b548a40c18ab390fa0a7d51b0c4db802c8230b4539bb59c85f1d516721b3e040cb13d665bfe3b30ef513c2abcce8dbb25c110f94a5c54f2cfe9f729df28e77a9a2da44f78ff7dc3480dff7801fc9ef39a1708324d2f92350160ad4a71ee459ccf7cd5f310dab440949947a1c43e30cb13d6436be8e939c96cc831166ad702c6174e524bedc0671e7853d2b9341b01bf4eff6e46612eb615b22ba5d18c05aee3ea798f8ecb9c590f6b35df4f5af29af84876c36c10181d1312a3cf79a401c386bbed188df93c7b5d4edaf6cb399053780c4e6a30dd3f411573592632f9d1949097f007591c5ae5bc4b0cd9d1f35a47408415795f694129e5908c3a1a1255a2825929f0bf8a56b35cccbe9b4057e5d9372bd4d5cc347995fa2bb09a567136e2c24fde54e36072e2de1c3fec9468a4b8b23ae54f49d76de637be8ec879ebbccaa3f102ef7ae56785016d50b235bf9e6d0a42adb7e543d785b571297db7e7a36819485a20fcd2fe1f6149dd6ec122d19fed33b4ab885d8adecb39e27509adad95cc232fd71bd6193845131d83c631d998c58989470df56f83ccb12830bf86c55fc2fc9d3a85b5ac110e91fc6fa4e6aa33b9fc59d5f0b9f7da8dfb1bd89850b7cf25d3af8b744a9e8bdb551d2876d579d8c88d8444898e107cf8f8c63d83927a6583f88cc0770cb91e1c7c2189b5d21e82648ab32aa953f4ed4bf88f1ca92fbf90ea928978716a11c5605fe9f9dc2b9b84c59918caa9178f1949307e5d0fdfda3df8d325b1814bcd73b7be58768518b2fa36c299c338749f70b0e16e5b019344cfca00bb995e0d916e7004690ef37051a4504d293c625691399bfe9a34ef513186799d0850341921684e3cc1783494ccd2fa85cebf4ef5124e5563619f256cc8b75eb876cb7ac27323a2f217e86b425ca4746f25f4a7ae2ec07f688f58140e40f564575b51c32b103da4816d44c45d5be9943769b08da0265607acd511d485cc337c48a6ce9130daa5ec42753d216d1fd58b1dbf3195c6a6601c922a094b94e0eeb58a6be9a23db1fdf1e348b8ec733768109d332da98b5adf451831a2902df80709ed81fb28805e764464f4a8849941277aa371c283beb90d48eb75be49327c0c32f683ea98d3c10948c6fc1ed85297fd2e46741eea6f517ab0ddea1c6388144ad74ffd112722a7c11e0112fc44aeacf1d44ff48d0cef52f6c0dc7307a31773d89f9f35e75b35218ffdf67c5a38adc21c12674a00b539a21f6ccc8aaaf383517d07cd9cc1e1969b21f3e17409cc3f21a9ad25c0a7e4d26a128e8f586ae72902235c6341d7aaf8dd908db8d9e5438263fdeff4c41ac575399b763fd035315e7fd42cb5d675a86714c955615438d0da105a1a8a44e5e917aa5b10f9a99afa11c212fc36f1b387c63b78ae420d12c41687f8b3ff3be74212040fc253f32ff37a28a0cc280032041ea3e5e1d6a3095e9c801bef7b0abda27aac29b61820dbdb87d8e676b0034e54e36eb03d1cd460287d5f298ae274e2cd61cb6be25b1bf5b0b861c51ba55589670a7615b604d2193cd4f46e442b8b0da3e6d018dabc8e1eb3dbf1d09deae6239c0d79ac08598aab02a72608335232f5e23dc5a1758665e03a36eaad2965797a00abdb99343cef495d7db2fa60c03b961072b1588abe0ecb35186d58798bae27bf3b61759650ea9e2c9bda91280062a5441178cc7b40f9f40829696d9fe0b863bbbb43849dd8e2c8b9c1fb8994e188412dc67ccdeb54f84715195d46edcc5fc48ce201b1979196cee3d1838ecbc26ca8ea527cb22a817bc15ce5c8a79467b951934d2443acd3dc16c325c363bbad24d4ea8bc4fc5ccdf0575b6123dc73092aaa90cf53886a375e427c8022f7cff67ecbb0e4b670a6398641781bcbd6a14abfa2f99eb439edbed4bf43d62c07fd8385536d5b5d66baec6195bba1e245ead01c3521db1c912f4dd5232b90465a414125c2086ad46238534b6817c6de86bf8c33fad5f551035920b3fc986bac5c3c23482c9831ca40b5f5d5b4ae01a8f6669f7ff048763cec026abd45fed5e1676fec52b1f787608d96b6e14019284affdc7a143444ce6126bce7a2bfcde07c2960f986cda8853c026b3081b273576062a3c0e6f4cfa625f123e899765313fd54b94e52f186d5c39b8d039f99e26f90e7a376a4a2f64ca91be9119c49262a7345753aee784e063810876562dbb8c6d6fd5771b242d242e02b274daccdef10c0be0749ef6fb90ba92135cf432add149ee40a81b2a80d7beb3658b915db0a04aee8f29d0d3fdd60a553c0e13e3dfb9fd2b35e900a9b768fac019e6627d90d21302bbf8aba96906200e550f1c39e82525591a590b329c01b5544dfdd81829c26fc332cdb0789b5bbdc05d75ea7d0ba5441d588e45afce91b6b6761e6e9cfb2c40359036ce032a6373ff9772d4c0277900904d3becdf252d3917e91b38a2dace6b0617039226a8e9086e753ceaae75ce85b7a34fc767795f88c0b9814e9a2523ee36f8bb44ac0044ec7a9f84ed6daf7ce58b17280fa9b64bfc20ad413c1854739293210d41bc9b3e933e75311f30122ff74753e65d7945083b8f3aacaa0a5fe0909b4bdc4499a6be71480e9c5e0b1fe89265749f3abb29c809fda6f1c5763e60d9f922f92cc933ebf96f0694e36048f6b4c354005c5f1fadd377f2bbe043de3d53138d5a9de3285d49a44de47fc2e9049cbec9a84993b470b0d812b3cefdcd7755f091065baf3d91b5bf8db2112fb20e35ea8cca8be8252490160387851d3f13a2e38b1ad59980c1859e265308a9f97d5ed9b72f7769ed510acf7f94c4b6054429d1f9023c67e3c523ca9dce4607362db2b42ba8ad542e6e7f439ff211065ccd25101ef15c0f02709854dc31d10c91dd307bae9b27047fffd383ef7e6f05d236d2dd43ac514446a70aedba823327b5f5d62ce4750099e01c2bc2c53d6b5a2b68413af682f52ff6f5434146630a3a36469b917286e56a2a1e89f228b59525fa1b93a263e8126539d4c500ba2d5b629c8caf83a469aa51e4b0d6968b6d2496eb6a200adef26e93d984349331ba4079b82cbc4f2b7fdf70ba673b7e0aa72de0d9860b3399e013dc5042344148d2bda3f499b0359e11f498f8336f98b76b80539df3bbb1fa9dec8e795d94a8cc8cf00bc16180eac99d0685dd9f1a406f0766b7f7bfbd0c17d8eeb8868e115466df1b318030b90cba765093489ccb365fb057b953422bc2027c8ead4c663697fcb5f3537a656008712d5101e58431ce7739ca783320c6e769d73154f1981fae25fbdfc95544f40b908e9a4da8321892ee79b01b5317ab348d1e4db7fcd782378cdf703c0a8725f09462f8401da39a293df43b9ecb00e48ab350c6ebd02a03673869d80abc90c53920adc3b4ef30bbd127e83dc0fe459bc299fbf808c5c69f55173f9d91e0e70f47e69486a2ef3331430916fa54e3681422f2901ac72f449bd7e426e9d9a8f7ce4bffff44187cd75d06aca86e3caabbb707f972d04291b2d95a56f6b373d9eafaa3b07fcbe808693082840985bdc16ad471219adcaf3172ff6ee535917a16217c565560ddd076d4228db6577e307a0b4c56909bc03fedbf99513b0d3e8f52befa30c970e9e22be24bd0d9c602a1bc697dbd42ffffc6f0e821d36362991db8c8e87ea42e09287fa2a9aee041c739e8bccd1f80bdd7a99f30750936bc0fa60170e6c53d103adc3cc3a70c662f957e2d2a5092e6a9acc38f38fbb81843462ac3d786875a9f2abb85488d3d41318de1d41c5616152488f9f543fd9525eb7b3f82f85c95d752bcc58bc1ca34667a2d837c80a07e8740d071322ea6790295e959cb209f0e5ce715448a5f5087714c971bb1ecdc07cf4ad46bb5c25ca0be28e8ff83c80906a96f838c5a31faafa9ba14539557c0798e317bb30f61e08a3fe5ee44e8d1ee6738d4502e20af80bf325ac5f097287888fce08391e56cd862b624aa1a20d7fc9369cfcced1546244df312635245ae8bf4f39a150383245239f0a79f760df5ef1f0d73b4f3e9ccdcf0a75f809f7e8a3c2546db696a4412eb0269033f3c0612faada67cb6338d6cca2db79c80c129a05759faaebfe6d25b8198c448bfa43baaa470a19fa8d3dac5fe6d24bfdc9e41e590053c52af1ee4b169c3f278c3a162e95793936fe53d645c9208b0173d6ae6abcd3281a5a0fbf7b9c1c35539b906ccb9bf17cb26137f00dd29b679d216d371470828adc34f80752932f68456f0dca6a3e942849acbc41bfbfca7742e56e112c6f595b59776ecd36333e1ce7f79b5905c8eb912072b6b4bf951d8013fb29fbd365fb2b13b0795bce2eda8b707dc96c5ef0fdce5e750a06ee6a2fd3dd15698b3a0de061bc3a7f385f315ccc69523a03ada3e0dbe0863115c28dc695b7b09b4d6ffc830a74b6f2867021dbb263edb783f446111d65df9ae839324c2ce4c3c2389a02fe040369098ee8e326e1a324938c033b513842e5cf90b3801f957921a0cae0f72b67deca5bcd3b497c0d6da3728c7ad53271c66cab22506b0b6d6b6d85562e337c02c9bd7a748dcdbabb562f1e8a596d649feab06e87c253cdbec60e872133300454c0ef929ba02a8ed87f4f1b8913d7ccb9d11c517a146b54430bdf836bfb189ce0db603bce1d8a9d74a88ef9555678f33139c9887efee0e381fe12bc2c1a06cf623352de9703de837f0885f701792eafd34eeecf7b9d09c85c1a7dad31eda18628f13cab22f3ebdc2092d84f95e2ccb121b37edf313d9c9717ca8d971773f41bc2e57e5f77304d3f5505a37876a16e4a6febb1f63ae3509400555e21818f994107e71831da2161f65a4b81f4276d899b8056f601e8d9c6511fe2c41b45d6724ccc1b01b0e84bbe2dbfd85f70ae524f194b3eca67dd853245502c0db75aaf3929ba7a51c44815839adb909b4a37f63ae14d9e5b57c13e4b5c668b393b6f2e6952403b667dfcec4df19b6703a94920d3dc33265db3b13918319ff396c0ceb17480f051961d3c5cd3c5d424ede44f8cc75432d2475d0505d545e136c1486085b282c5a0000c829ce21171279e6cf0fd1ede6573130a1e7655ff6040c6471d15a71205b4096343e8b911913a70c58fe6079844cd5cf302fa3af134b97d30137ed6f6672ff1fbec76f54c426b2add31a0b4232b780828baae7f61e2d0ed6ab9332c101fc44672f7ce57f9764b169b046ac128d56f2d10f5a6571f185733957d0f5d8dae57c848833a7b9a4d98f8cea17191f1840d8dc1273d354f9a78328a91f4f3ad75cebdaba1c910e7daa5fff0bce47a7b475f09a7ae14110cdf7d160f8d5772844c911d69f4dd5e2f7a760a90ccdc59d97bd4ed966ba99b6491c83c5722307d10d1a1dd0156df741817fabdaeee4ffc23aebc71ff9e334f8ea7e8852cb07952f4addfeedf3c1a2e59d25402a9e3017148a37b58a658d006c1f449e45122e2fdd39c54ceaec785f7539d6783d62107a73d49b856d6868c17564a868f4d9b2c326150244208557759c944bbaf2ce2dfbaaf9b960e202e0adb921961c7ac683cdc7e135d800d482fc12e57fea57f3f81c84e8a0c91515c534f47ba0a24a32c394b4026d6764c96f0c4d80359aeaa48920b4508745158338ec2da340d740dc98722be079bb489d3ea863e817d4d108b7510df3d4f29689c9b89b99a512c6a4378b5a0f630bd19bd1bdec95c8115d7f455926036cf68c5126c7675eedf0a7fad97ec35c3ce64171a674ac26f3907040a6a3f7f804c3ef99a9f90f45959b0a4c9b987d8631e24af6cfeba28509458bb2776902cdd5ab7748bc92cb1748b5d0bc8aa8e448b675e986fb23d0a1dd3179096bfcc35f6d28ef5eae2448f4609ee3fea37de19840a662ef2886e27437dae480711af3e3c06167bb623ae7ec6496d8359e0edf16c3268f3251b60a0a907f282a7f24f42ad2c624c28720f87ba7a2347f98416683d6f07835717b7867dc947b0aefd759647b2decb3571703e9c75372242627cca3c1de16b31f149626b07c7963930213bfed463e29290bd5ae37903171d727b80158449dd9f2b59f4bc1231656055799fb57a272a748c6fc75709a7cdeeaf2fdc44163525f8f505ce6270004601af34f77308d5e3a8fc956d4f4cd5408ea93733f575e3a721eed4c421f416b3b0a05629dee5d498cf80975eb917519ce4cd9666fb96b4eb1b562165ee63828e0808e8e64338f5a105445a15d5f2c43c28986d4cf14b6bceb671d286df636fc22d7ef303201990fcd9ab1d524a348cedf3c93bc3b886c437c5a1ec9701ed0bbf1baa36dc8e16bb61c480a37de93617ab8469f54f424e5195a766b5a9cfc51476ce7a1f8846281cd2870249811d57b96402958b5274972dc3f90121095a4918420ef09047f773128d25898dad550d2e1ec20c6d35a9fadb270c24f7bfaa114691a8fbd840842838c19563a4d8dc3a8d9e7f3e8968546367e969022f587353ea3e3cb066a102160b4ddda1501c97f4983f4131b08fce569285ea719f88cb90a6a0d4105619ad3495f13169823e18ad7d8f674ac2bfbbaf5a45d340801f53a47ce62c17834dfa0c9bbab626319482597dc22e664cf5691d239bf4edbc1678773cc053b8206b4bf8cfb50c3440d5c913c618d03ae056de4dab032e698ad153d12867a6484b2cacd444f6b7aa88c378cd2774a31b53f9425e06731f98b2f320e4c713eb24f3931848573b633a0cf8a8ca8f11ffb006d842f7178632b860a4ccf3cf143e4afe86aaa803882dcfb14cd1ec5e8cdd73069002bcc59f12b29fb18d1637f9332ff67354fe943e93e581c3aacf2df3a1d40130301973fd805eb0545b85f5ada8f8ed194381e9303df53595701db897032030df194e6dc6a3b798e1103933f9dc4b8f36ca7cd40d7b43e2e6c5ad482f4d9b1d37e48221b50f9916d0067d8565615932ebdcd47f7889d1aab1de7b5c7d3e1a8ec5c71284426ec20bc59bc4e60259317243713f28c4f78ad55c11a92b94c37c8e3c9a58701d77d38794f946d4e670ab88b5df37941239b0549d66767323465e643b8e944df5de7ae2835b2e583dfe9f6bfce7a7f304a7bfd60a078f55ef7a85b8eee439e4558a05525b7e1e417c8e3b2133d5ef974fda06e67321fe050c39805e398cba0ed681aa8e306c74ab588868f2e58065de5c38d6842386b149b184a3f483c01ad8cea1fedc8cf6a3fa88ee7c8404f4804e79a67d58bdaabdb90f957a389c76db2fe0b64b5cbc9775d652f80201004ec796cb07f7464550077229c5d0b049f6c2efb179d8294afafe5f6a4eb988fe6c8b521b035019f724a10ee4a5f065e60bce8e6240064aff015db4bbbccfe96574552a8ca0e350bc390a397aac9d46a5a1006bbaba91fd9bf166992ae9fbdf5d49fd4b5d72920be3bc9b06eeb5e7d243f32758b57dffef87bd4b46ed458a9b474b1d6e6447f8c624d5a352ea214a2c1d4c584fdc079a99ce3315b0bece61175d1784c79d0224d805f5954e774deeaa0e8fb6a4ad7de7a04fa788a2a54c067a036a4fe1614dbb9ff7c2b3b61499b3aa28561ae9060467a5849b6dcfc8151fd8deae7ea0bed639b055b72e9f0c712463e83391b733156ec863455b02d45e5388ba360cea245c10d1105c98687f5eabbd14ea006e69dfbb6eb955efa8dfd71e40be1b1ac418853f5c7c8d530862559d4f16285b5b036659ddd6e0d5dc99169d55eada9d30ad5933a2f35f8aca8e28b08c88b08be01cd0cf278d4adfa82e5a577a57c17d65b5d9d3d0534b2aa6b7bd72fe9faca55b7dbcdba667dbe73611ca9e6e8d7f9ac197ded2c0f006c392fc4063bf783042b7b3606b7bc148d62174e1b39da19a5cee8fe40161d266a561a9ba15cc25426a4e030e6b8405a36ffe9f829f023767012f0aa7711fadc95328e0df92a3bf6d859a0ecf8ad9b73effe67389b83177a0588bff66abf53ecafeae7ce143cf647524233d8fefa0c55dc755c075ea60c87bd10004c87a9840275a9ea26d9be6f4f385269247a12dbcb68a89f703a4b87a4b7319e3deaeddb992b897400f223b0ab5c9245555bea4f42101a89aaab24b69917740a2c3a728868ba374e709cf9b4e3c0d42d8ee5b5dccf2b05d74ecb00dd1884f969d0a981c06a43b75ca00ca76584fc0c9ba75ff3dc5f326123188787b5149b0bb037482f789e12d31be15e6f581c17e4f7880990469bbd40d37b65415d1cf2ed1306311201b7adaaaff17dbb31270d83794349bd0f9ff55c10a845dd86b95c61990a77908470629a8f43c73b92e5a9ccaed88fcd7197bb227e9dd7107e04da3b451c6f0609b77747ea6a9d485dad178ff5ade31b7217d974a1b6b08070ef636ab7a101799d24d9d86d76dbbc33014fcc0430111264d79f5812e06f065c1d75d9d2a24b834536e6c6d387b45c4bdc58728854e519d127cb4a376c70261c20df84e97c1156f1eed6542dbf1ea8264553e06b8b2c731ddd708920c7849aa60e317335f8658b5de6331a13547a95eab69e91dc3f7e18541bc83d579387a0a4d585a4c66555105dd98eec5a647c4b1c2bb7d6885b38b0e29e5841d8527d57268cb15e91d0ddb0d6e6214e4df8369aa0a5cbfb1efbf554f08afa5fcc5ab65806fd26a589754f083ac32c36a716b4f2ac8394829f26ed7d9ccdf5b2f1f6caaa1e419d02bf52801daa3425442166f42d9fbcf30c33c7b73487037cca6b958ee1ffbcbc3abff47a464e4ae0b2fe499fe9d12bba1b24ac95f718c1594b950ebb79a93f77cd878b69dd03aba92674407e45249c4066ca2cd21ded62065cb9121c414e2eef53f7c9ab40ed241d37fc693ed5991aba02d12ad8c206590c1363ed03dc9bece7bb5f90a5b5049e6c5fc7cc3dd39c2a7f03dfa0e0a7fcc401d2edcedb6ba3f9d99df94c19b274c6673190d44bc7167276e6957c18ebb1f35d1adf275970b869582ce18eaf1c1a7a0ada32fdaecc925b6ff5468e383b38fba7f98675141a6c9543f5908424790c5d896f338df7ad4372442f25e098c72c378809a6c3eac9fb5508c1833703a9c172a50ba0e0ad98f44ecece184bce7a0209b1dccbef318ac57dcea5e4044da961a7e57c315d47a41e221b3f3c14fb26510943e4a82861b483c7ddf5d67efb2a9ce2c349762664976adfe78b50412248a4420783b1a7433ba179787464d2c3f907a52ccff1304b8051b39c73cedf267368d70f223cafeaf9058c0ed7baecec29956250baee2257eb0ad200aad70f8c3d9b6e36972bf5934e448b3f187e4e8f0b14232d99978a6bb43e94d02d73f6fc097b88e301f8c6171df0e231624476fb418224679b92060a11e234a94e57e5e4957462d49d26c0ae2eab8409509063ad827129a1f28ff2e64a931a4cd80e59e8d2ca8f3b5d6658c4656ecc46bedb61c0f7653b49acdf57bf185124804f48af675ff34b6776e31aa89691c3bedfaa6d8a8edbc599bf32a57a92ce8147f32dc97d07ef77de8b1fe618520b46eb81b14d2552e89080b038acf2b0f8c8fdd994e04a467dbd42ffb01b921ee469a496992f8642f6272e204a58d7bee26260a973b9191c4f55f986ff07b386eb90a581eb584aed51d256d5c546eb899294ccaa11728bea57a20f727b5fcffee7b379f23a29b5828d25415971895359e04dafe1517fb5da4aa74ec5c05a833c59a5e97bd18859096e715c3402b28d1afb68ca6c8872dec503e1a96e2044d12d6c4017bfff2910f0be90dd7d47aad59f54d26a5c136231975780d7f8dc82aecd372c543e932df4017d90f455c6c594054d150790aeef60d43c1c10dbfa2fc697053a4af3c1363e7ba644abfb9844c4de9d51a5066290425793de327be9d76faddbc8846d7b92688b9babb72fbe15de210cb6156a36a37da65008177767e0797dbcf0e231bafa2f9bcae6c02ee7e8a79c82be56e141c078d8edfef618067a67526105949e864eef23b7d7a86e4416740e660ba3da3c0b9220cfb390c9edcfc5a04c7427cd538b21d8f4fb7c4280b7a66cf8abbd7cd373cc2c76f58c3b857129f32291eb4fda4fe63aa9e49be6b1e51f3112a957238ce4d21c0d6fe24fe0ae08872e7b523365f69a70ccfa018969fe219553c3287c337e07f29be64d623b1567463c27c77d7057e2d55ccaae038a383db61c5c02e1e404aa62754e8d1bba8a1a79fedf18484c3f4855ab6f5a96507ad695d2c0755bac15b11e124f90d7e4939ed7ece2c632b62394c49cfba1dad899266c987d4c7f06cd1af58d5dd9a794f258c012b2dc1a992234021017cbde7450e222d0f657d28402f610df7de5a7795fabfd24649cbc96d92c5e9c4c969f008387ff377b3576441fe1a75e5b9d3b1cdc2846cd7e7b07e3fc6a89387d31dbc2a6b551df0e97bfe53d2e643595d59e236b65b140ca2d92fa546f98aa8746a4cbae18493964c230107eb5af4681b289886e4a9e225d1e610ea0f0219ab20a52d95049350f410d80602f44dd33b2f988738501e8a457bf2589549eb34904a2628de68954f6b97bd306ceccfb037f2629f6cc52d8105c59b6f08faf0ecd06ff233ebce67024a142bbd98b2eb1aa5ef66726ce9f80bbca52954b8d047c7751954c6adea2d51859125e3e4db13c21256d4b5e626f0c6ea19aa23877211d74a389830a2b880518a45f431a1e9b357c1eec367b919b7bad4ceb0bc885998b9175a03328b4b2f1c56f708a695cc79b92231a4f4b929eaaf0402822e0cb7775dcf9a7e7a2dca65178d4ff181695cfc9e09c6f081decc55d6589abd2d4625fe4c11f665d789e58503f5676d6c92064085855c3ac54cfc59727ea4d5097ef053adce1576880aaac31f2039096d9af5fd61c5b6e36c237ec71e4c27f27b9c06ddb9549ddb2c1f8463b1ade3558ad0148368207ca87517b959a70649e95e6bffb3e83f72bd0f55c60a01b962dffb4c74ff56946d8fab733fb594ac77479ce49386ebae43b375279497f302250f7a6cac5d9e3bd192657898cc68e789d4ef0be089f5beace6003b46b43a5da011866b3ecabe1580b490a46e426d662433b0d5b662697c2a9f6e985a5d5073141f545543dfe6efd5211926b2c44b704a0645f425a9337cc68188d4c9caebebe78be4b7e0890453815ccc58208289456569da04f14b139e8a9bb6a98e82cb1f2db6fe505dc21f206ab8ae5b2496911ccef4edaa7d8f2cebc8e70d2e4e82bcd676db337ea4d89daf5d7b5b3a4f24042b39640f7fff6ccaf391afa69cc45e08a3079475e47645ef8caa041d6dbc1fabea96af05b9a75a54d3095dca561a80bd32c0dfddbf1e59a5eb76f0616b76fccd1528d55c1e48b58ebc177adeaf7e47bb862d1299ee7fdb6d7b7048787dbbe25b00e56583ef07c52cfad5c3a3961b321c914a658effe17b2ad6b3e0ff89dcbe2bb677639d1e67c0b084a230365d4a6152fe5b0987a63fe94c05938ab606a845dec4cbcc652f7f3085cac0f8dba084333f146146ccae43e517cb1d86519079dcbd43e4b1d135c7be661e0099ccd1a0efdc8dd1e2a2bca5d5ce89b4dbb974b181c9b7d658cbf4c343c5fce9f3fa7060fd6659c70301f3c3d47ebfa4e8aea278df13614fb56cd4471e4e666fd99670db904274886a0a1fe642373fcc862ed43919490e13bc65922744dd533679fd5d2de6f56c0a3c7166bcda0fe494a35d0090b759545e8f91c739298c21d703a4dbb1e28f57176ba7a531f384babe2479cce93f0e84238bd8b4296d26a7c7d2e666810c0c4212602440d2fe0e00e2bfc9fb67f8c81310eca7f89472bf4f5abcdc03a271493596b96f970576834c00e1fcaf6f92bf9c702766c3837e2afea70bfdf024e5e405f584a55b3b4dc8bd907ba2b50d06f34f3b7c36458062475bb78ae1a69bb63737772bca92411d2a9445fe0530dfa1d70ce1aee73e321456b090890186d6da7b67bb92d3513f95b8bc259c6bf473bed774f1d93c9b0cd60d4bb414348be42695c4fbb8e569feab2df0155b460a5447c9ef06a55392bda63e44b1a097aabf10b98a6dcbc9e62cbbc01943740a672bc4c29b1a04f4762c89eb05bff70ac7d269095f08f4e8b4472830935b4ce64c9463b1750785744c2515a9cd6447ad2946c5a7f437bf45947085890adab0708005b0c7309e6cb8593e711b60dc532b0207bb051a0a29953f0b6d4af4c2fbb6f199baa2d59131995cc83c01cb1655c729ec8eadbe4648fa7b0ac3c67e0baac1919cd399e7cfef215e725817abc63bfbab1ad5b55228c6fcf78c9ea7c7027eb8388316bf096a224ae08ae4050a0d7a58360ebd9f2899b901381520e5c35102ef720dafe873ce940bd6037ebb55be62e4dfb113603bc69c4b82b57851ef951ba343b2343d1417d31b31faaed6f85c8c2a87da118517ba6fb8747e7a08aa8afa1d5065c953982871d158eb7645e0bd15bcbcdc9088d1fba39a9ea1551baf1b7640c963d9fdb7aebaa79fb3b4a4486c7850e4054cc4df401c12814696c2d35867c6e6dbf1aaff60ed8c590cbc4e800e21c6571cb357d48b29bdb0f3e5fc6ac1522e3e2d50a4562586cea09e272e0f832129f0b6af9873deffc52ec52b6a2e90ca0e0f3dccaecbe02a4e1020a9fa626205dd5ea01fef94781ab601be188754a5e26cc36aa01d7b0b00d026852834485ce59438877a5269005e59150c43ce0e665254e50dfe3226d91e78ea004d6e7caf2fdd4f3cb0f0a16c55452ae0a7153957fd8e92efa731d9c67947dc194e123399ed0817067bd2ec7a2f0d45787662c1d51e4daaf945b7ebcaa0d77850b055b5e80dfefb1a00f88d5b41869836a3582e2f07069e659229df5f71a30f0496505668eed4beba8fdd17bbe3bdb0c16a70bb0fc9e06ddb15924715eab0228c618650ebc043d2403d838a24e4cd43367f56234dea80062500ca233d23373e0b58b167f26633d9519e6fa852795d2699e32fad6a47e6d0f32f3239b85cad6cddb656981a7ec3aeac0881d466c36ce2a0ea32a4addc139ee6721dc6f62afa21dc9f3085375ffb9e656dab59bf5c1b86b3f3dcf05fb7bdbba77ea000c6c472c285c1e661e5a572c087d244d07f9f46db3db0867b7b71ed7d6f05e0e35f130f5b78c314195ffd0399fc947b893c480cdd452a5b6416606da7b69512fc2b0bf986b6f4994f7893557f6d4c14e9190a5478061bcde4b8104cd99f35ff405e051dbd4363b1943247b5a4eb1bf508ac3c49f599ac28bae59d9732e7d61200e10e9f34098d06f4a71a7e29c375da7b50f7a6ce9845fcfab8845178be01a58ba26ac802ab902b0850c69aaa2e8e30bc3f1eb959761479fffa2050edbb3d10bd4c41260ce402ee2384fb173cac1dfa3ca1d3dd9da283154da535872cbf15abb8c1b37930d7c73c08aa2bdb5a144e544c24b6eaba2ea42a3ae4b1f50e9f25adc3d183a8c38a9ddddf976ba4608b57112f06613aa4eab340a5a7f0ce3cca521aaac06ba516183a44fa6bf3d74ac6487505346aa076a1e6ee4a940048e5789aa03a08f9de1b0e54ed51e116897bf6715fc111752fb259b6b2d3a1066f9a4cdca76f9925291b579825cfbe342c7d021535fd5e55b153bbe003b6d6095591fc3b1c6f9452a5fec5dfe364cd7ba62c17f4d8fae8e3dc197fe4f81396c96de1d9b5965b36f5b108afdd351257ab451b64dfbd612d0097e54445f613651c6a5263b754e637e8f014bac0969bd9047585067152cd57d25cc9a542b277216c2f81bb2e0e3bc11378ab748c6e7f8847d419b3a4b21e2f486f51069a4a8d9a3b8c198340fc31be2fdce7a4fc88795ad8d05023f9c0d75448562a3cf0b740d8423806a374ce17cc67cb2de05e1bcc93ae846456dff58f80d61b4269f32630ea99c30761572363e51ef39dbcf46eccc4ba0a618e34663040192bc7794940101c02b53c75380e9600dcbb3cd7b43cdfff37a9ccf2a2e553f927312c9796072b70d8fcbcca2027240d36a4277f4e7f88dc337db35abde0a4ac729a811a0f39c4d86a758ffb1a76b632ef6258276b69bee146d120bb03ac37d22a58a4b2e9b9b7a57143cde8ba0fbe47218bc78cc656d1de4d90a6821a8bfa4f1cb293cd259e1417927dc46b368400ca14e7c3e99bb93b5c8c5a0a7a05524598823149c9324dcb019238e4932cd4aba3b350564956b83f58106726810de804450a0978de497d521531d20bf740928f6980bc44e9ad976ca8fdc6233d259d2d7178bcd869b1c67a164863ec641466e71f60f808dbb392649523c950b7cc9d5f668c0372c4a287554a46eeee1b545ce4f1ddaf26be1a160e0304d2f1c9e54d2839e1487bf8ebf1b9313b6ff5c6ee68b061c5de35bf66b030183eee7e33919eeebe1f9dcad0cfc13fa39945a18308e0dbb21ca5fceff203ffbfa9c6dd51ef7ae169da4d2e55f393d3f56485ed276b31e478a4b5aeee1ad68917ab255cab2b20f94391079c0f6d621b046639cd5adcfdb60a3b19c17c5cc79053499e56eca4aa7512e32cebb097f0dd42387734c1d48eeb0b545ac121e70b3c3bed4e46cb708d18800263dd4d11cdcfa673ed9c71bd330f7d6f7528545859445e6ec10ac7339b135d344a7bbe039a4239908a147b00e806f8c9a85896cd792387bc01648188bb82ae0cba8e6d7a9922291fb8cb90bbd88502cf678607290c5a408e295ff98045cde2fcb3ab745c800ecf4b7c61d730d9112aa428010c59ebbbb7d43306afd9f9c7e5ee4fefcb408f3caf8dd84d96ff11ecba355431e7b464c40abaeac5690bfd7a24e0ea04621edb9065abfb01933279037a349a15dbdd231762e28b3cd2ebaad731ff0871f408c40e24f6aa4dc1d8f09fc061eb046e2c6c367836acf3399ce55e568795df5982880f909153c343414b3c9a52ba9c34e7e1f102ebc3aa87ed1451450273ccfa901bc9e69d9e8b3281332fdcc41cf996d3a9c7292aa32d817372f4ddb0a6f5e9ce2f9336e2491cca88627824ee63f0b883e5627e6dba3eb7fd1b77af79b51d9de97e6a2dfac09884c86ec817bf900c0ea58bc8a776fb6838afcfe54e356530f1afa312a8c21be9a07bbfacdddfbc051ba69c22049fc867aaaf81e2d782bdef5e45bdb95e2a610b0399fb2fa238b2d6b83b59ce747e5f699","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
