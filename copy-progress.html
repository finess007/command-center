<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"106e7bfabd55c98191933b6bef1dce50eaa23a4506bda1b63f225b67c39ea2811ca38dcb1cb55ad03efe6d2aab33e393db003a04e1dfdaed9327cea93764bf489763657650c47b58a281aeb106af8842782774e209c8946385867a8d385c8d87595ee1c6e024ca0a2e7df214df023df534783ea94699cf1c1a4136049130c3f5f7321556b9c775ac5766843496dc162b6f62f886641a51c8ef7663c08ec7fc92f96bda1402119390f2650e3eae214dca300f1735aa7b0f41efa81748c98a4a02f0c23109761a33104fffe32b40d60b408bfdc2ffd8db19a85127021898a7f00b9513120f83e919010615de8af81355b4951b443358687af8ad247bb977afc84dbb2bac52c1819a827d286baf71ab5d3fb1ae073d8e5db8e7f526d5f3e978bd66a5ad8bb3ca526940f82af4889053d3627cfa8732fa0aa07d743232a488c2102571249eb328e7f20ebe0f90d9e243ce26616d0deae875980556c76838a7aad4e44be7bb04ae4317e91dc2edc3dd9066a43c544b3473621ee2277428fb59f5fce102fb6aecf375d99b98be40d7d93d2a9e5f8e57fe09262a8fcb2b3de010ce7a905718b0f0a0792b8fa205fb72303a35ccba1b4e07e2b29713d694afc38f58aff28597d8e1a36248bed94c753b8e6ddb0db35ae73dd4aeaf3e80c327e5b319fecb3935aa6471a43ae0c4ea75a48442e592fd93f1fa2aa275af08a155e66b12695f7a0870022d9d720d5f8a9068604a08bfccc996a8054a61897da4e4a1eb4b096b88cc1bbc54cbffb4ec756551d7aa0c2789ad2dac5af04398da8ef358698c42ff232901bde16db5de949438fead00d786e7b5e847dab3d3be8460b4d5acb1d977213fe233b44e65da719cadcfe7a15760ec6f160a8dae1289f521ae313ffbf2e7e74f4b652561ffeb8878ed7ed35c6fb769424d466c6c4e953bc3360b008918f761992bc7ccef476273189e04c715de145c35b0d9b4d837dde56181b845a424ba80444fae4dd71971534b8721263232e4a20d9ec66bff4a2029d08b46f9f17de9098c797c76fd38637077af933ae7a3b106920f4f066b050ba6c6e61ee1e6ccd0e9afd7bf32d7b7e097ce940b004c0cdc2f6e71d872898d5d1ceb1b4579f300a292df195aa5560f9b282e613d3130212bd4c4a06cdfd998d2c85293ea40c13423d1c00916fc01334ba7e9da5ed9be5d78d7c32af0d0a4e6c4e5ac1913cc1ad9578eca94609f840c25ed4aa86216df409efe2e17c6b31ffd460dc8e78a87389d2186428542f88b41e86431e65beea641cd688d227ddcb2d229267507c41d575f0e52758c578da8402196eee611ee1348e2886dd4316c15a9970fe14ace62c94a88933c93eb67129ad09394334d13f88089e672cfb561e90c3fb090901ed5ede462994eabe8f2284a0e58da837b989cdeb24399162c182afa9dbfc042ed382ca86c5b912c42c60aa24bba3253de9c0a569dc7ed701df484eeb2494fa81284f249244982b04cc63c1f517561b8cd7831e1b853e1b3d97e88a878fd76ce179693bb27e8a84cc116e670fa5c259c14e616be1e2aee1079341769f8daa27e47e5a2375939c58f8822db022b297e9395dfd9ba9d6ecb9d2beb9dea3233be86c55ae6a6a96d7e7a627a8773aa911f4d2505f969f67e8752c994d131ef72c03cf9d9800462c9dd1223496f28742c0b53f1824661159804ddb83ff9a7f3b6c33ac4be27a4f9681a4c013b18abca925f7cc247c551c179006c3ccf63a27f4f42eda07cba52455ceffbb1de0f0ea830708a78010f1ac66b8abfa972111571f2da264ca0e824c427a2ba13e1aa70a459205f148b34b998205c33df7002c8724db46592b4e357a13f27b5fc9e5a2025602f990b866aca14f46048a34193c9bb9ee247a6a1963c94e215ace37d347b8cda841c663f62491b8e1c67759e2471b9021442f02f8b884641575676c4cae39ed8df12db6a00b9acc3e477ca08ebe95004831772521b440c253d09bdc94c5013b83f218d6fa8c6f5f17a1f65deb305967e0518f6ca3da4d1d7454ef9f02baaa8237eda7e639c596cf490446bac34ad41526970fb1fccd0827eed68326413c41063b18d161b6d3ce52f30c2ce4d22f4b83ad5081c5649f1e58dfeda2c23a308657d2d6617aa6c9fca8fc73ae955970af4d7957f03a868c607f8021d37aba59a11e36c6dec7ad68b7db529fc69b164bdd3485c5dddb4fa2397f15e829b160ae1f8acb77467358a1b3e6870ef61c0543a318f0bc1832776278a94b840bc820e97fcb037e90360be6d1e7142dc495fa3b18bfaf4117e0de0851c19e7762862d8ce3a77cb30fcb5295df71d70997a728ef16b81bac2be83701a0a60809ebe7c91810a2f83d2e9ac9b1bcc6ac88610d3ef494efe7d42487184dfeb940efbce3a81de14d3c8ef15e3238830c7d9786ad1d76cc1fa0c14d71ef42bc20f3b6305a50520fdb2ee28f4992bb618ca560114adcd0f21b207d85b3fad975e09b3926ca7cf0de712f31118413d3a93f5a65db409fd240cdf87786bbb2a092ba3ae04b0e50df75a64bf2d4e7cb405e354965cc4fbf637e4526153659b437885857c539078bb328e7d6bd087e02f4521bb9c7843a6cac0422b3425cce974a24d3409bb4ff2ff599485f89206c489a9903bdb93f5ea5713af209919bdc3ea0e35e4ca9a368d2e54c11014400b604ccc2a038a8cbb9d1d231278845e53ac426ccf047fc317aab33870d659d069d7283f9b153f7222f9c8361768c8cf8e6b189a793eb9eea6dd96c342bbc9c0449cfe571841742f421b77d5921c15c00d9ab7bbc76b70a4d44db676965d545a20651a64ce5219be7d308891506e82376a4e1e46b823655982c7b4b71fdc33f5ee6719a485a25125ca52f6d0963db4c98e92be1f79fbb71ee3ae3e2b67b9fba5addc5e826800087925add65abb1fa982a0269938b324dd030125a820039d89759e242ff7131baf022c7fd9652b79a8f22d9988657243236868e089d2e7d0643c3ab8ad70138310bffd7258b0d0b70bc213971ace0827c7397a9b284393d9927fad769663050cef2dfdf3c1d1b5d6e41eee4c175bac6f8cafff8812b67b3ac24da99de479fa1cd6651383990288494067a3f1726ae90bd8417b5fdb6ba35f1be6d5b4fb121fbf99e273f5410d913c1dc7dadc7870b86c863353cf65562100f2a32b009835d4ad68c624a373e1c99af4d93f7068fe6c53aa16d4fe810d4d3b365bb0d74db79e12c690818fd51b0ccc0737b373b24c02d1725f0cca0f5e52677e05f802616031063de01916d4cf5743d47633912ba953ac26add4a33406cebf10f8c00d151834e0a85214febd6bfe5cc00c98f42e99bebc4ac994d6f2fdfebedf08a15d3eb8ce491b1c8600add7a8b7d866fece8c9838779c1678b92dd09ada9178e2a93ae666164269188e0dd07d9c957ffab185d3fdffa8c9c362585663d41f8e30aff4be5499476ef16bee8967862cdd27a8a195b39811de42271529c7d9f39ec848343bbb1926772c53aa70700bcfb8cf9a3fb68cf4e68c1d5963d79fe0801ec656fe3dbb717cbd3349f7580fccd4d7d9a23778d1a9d2f0c48ff2aa53ab97e1bb4264151dbb31fbd5129a5169903e61821dc4ce9ce493c13956fafedaf49c3e6b7c48a6478329ef2601489a8c874eb1b2aa05ff8d427bb73c2089b9283465f86fa7f0d68b3866eed7d9f7c4d893c902a225156093f361997da7099637d4ef708eb7cab12c5a2f1b6a598d6eb25cb6e4b5c63891229f00e774c68d3dae382b3cba183b098202c56df57fca97a0805235755b9229d51c5a099573bd62867bcff08c89fa198419df595e56683c5e1f3256f61a90714e21f7195bce88a81fcaab5556de1d9416d3f35353e227b41c842194adebb5cde2943f0d9e6a0d0de14df26129de45acf3922a5df4ec63bf66b405152b338b781f22a40a62694fb1f293b6771de56860a031fe91ee3d67c0b2c43ee01cf0b5eac36136a5bfad4558a01e971b047b262316c1e8d18b3a3b76aef244d0a2121ee7d2b3fc38cff8a02521b93d6276359bf57a1be1148a4aaa97782fa2094fc9ca71212cd3a4b83c940a9db6776e801731c89bae9632626037f8be54e365d8a866f4116e1238fb18bd01ecc4e907cd008f1962370d60941bd09e24f974da5e9c5fd7336a9c0a8ccdcbf5293bb850a5d3e13324076d1b4bead18bffaaee0a4a5f1c77d6e2e902b32cdaba748a371ae7aa69ab24dca87a64d97df50efdd19dfa69305ec66a709bce2ccf70f5be95aff6db68c1eb628b103a0de94a91392fe07ecfe01ac68093483d048f6a759fa3e4b6fbd619861ab9a8f6634937e3d8754261aace46cd3e2bc7768e2158e75cf83359a45d88186642701a21aa4f7f784c56e3a17f3c92079bd634177cda30a48cef7ecca688a3c1ceaaf0c41c121d439475d659530dd66647ed93dfe32f4d2abeb18dcb593751d14d775c0772ade5e24581d0ae08e59993a6f3b93616769707572457359ab8089f3e9e3515d5650940242bcaa2114aa9406dedccf9d8e1b57dd156f026b1cbc831d9bfb6c8188018f3ac94685a30c662a261b2ceb5e9923cf3944a478392c079cd4bdc9192d4ba1333f572537c7a35ed04b8cdf742fca4165a5081977d72f45a67e4bda7621cabda5acdd14bb9fff655f9cd83d733f7b6906e78caaec48516ad6f2bc247e8933d77bc171863d3326e45dd04a2fb864b7ab6c2e8c7f9e9b5080fb7c5f7f81e15c32d0ab73d475dd98a0ca898ab69afd95fb2b0ea7ecf16ac75f27e9b7520e4b608b1bf9c273b8dabdbd6131d84cff82a4e5cf968cb41df32389add655179d59eea880981217f85995e0e5f750df3b3153b8d02f901493063c8c8f57a475202368ad41591cee1166ae66de568d07ec0f83b39c3de3e46c1347017eb7d283a9f0e914adfc430426f727885602aeedfcae7ec6d23cd67b7b647b019b35b9504878d47a371db084c14fe36953b3f3666415d0af12c73786809dd96ee594fc2e80ba5973227a847036bc4670a39e4dc82e5b169ce06bf680589f4d68aa15a34035b6d495c31dbdf633067f98905a97d77d6208981ef28c4e0f50367fb208ce9a923d2bf2fe0f8fd84af8a3265093fd78c05de3dcc51cff4a3ea318d9c7bef3e469ea21b85cf7b5c22cb62dbf531ec14abd62c06ccfbbfcdbf2a8f652e389dd4e087d6069471595e623d08afec46a48f7b28a9235556e92f9d4f939d66ad763ecfbc257f3269150b756636f6cb9ba8af4b8372bd26359b014b8ae78971f97b4cb222fc858dd71a76efe09d9a98fbbf0dd4db2512e0483d58b3ae626c70b6c8de60970b57d599873b464ecb75bafb132425dcd8ba957ff83ebb55eeaaaf29f4bcfc0cf7420c73b0434dd2c29de820161de1397171ffdcb65e74b7d51ad9c2c7cb2465be65a885eaf522cc103ddaf65894ac3040d822d5ec3957ec33797ac68db4b785ff3d8416c58abef52de4f86004f148d862c199b308c8b5e012003827c60b230be03cd6cc397d0a22efb69544a47edd85414f6ac12cf1b2b366c54f3a2e7f175c66079937fb192522b2384f7e96dd9713d2ad3bb8931f629a4ada81f740709cd1ef06ab90200c20aec0268af7a930569e7a7f9a8451fe1a8eac2e5bcafedf2f12c51f642c133f23c927ff5948df6ce48039d13bd58a87043ef155a3ea802a2bf8d23637bb674ccc3e98121019b9703b077174ec9cde452e51815c05386393ebd4a837d6e933014ea6b9ade01553f1b4870f7e36eba6b6a38bb05bc5f079d3c380c62539203be1a957fbeea89adc9969f19cb9426cb2a73bb40d37f30c5f782b7492471af32fbae9c72cd82b845737d39dd6b9c932cab662e3f8ec2b99b6628b17ff9fbd9c5448b9c46f6f058f22a98219426ef824a37a44dcfb439976ffff8bbeabb10207f0a7513570b22688e6afa974b433ce7ad684adeb337a162b46d6cd49528d23e2ea8089ff44a9ac1556d0d3c77ebfe6376aed6a7679323bf6bd729fcde9d1d262aa044ef2fbf516ac1cee67749c536e0632441f920e3af61ddd84d149ecb6207afdd0dad1e3af431344dd915672d2cb13b5b8ce271f7f5901ea3dd072d9e875b9a777c2f870603848ceff8995c21f1e78902a0e91f9ee492dacde965c32d9f21d78a6f42201f80f3cefd8512e038f948f9dc7689f360ef2747433c0338c312da5a90875c2933b551f03990ffe4c621edacf419ca8b833f44066b2b4cade4d91e4f39bc1699d4803cbb6a00d7b2b8991c600ebc67d062ddb3b8cf60f59e7af0230b38d02be5266fd158d298531af08e110230853bf22beae3ddc61f87c851adbd7605a7571311599c32d951b77b59a802211e59118f28daae02d67dea5532efd9b2b002b02fc13aeb78a969cf76498a7f5fe7d0b24bbd56b6ac79f8ad4b509a81bbe41159d43076bcb9fb187836146a7df9fd5bca706dfc441e0e3a4b27211985279544ecef31b907a04d69c287c00d458111f8dd4f5dcea2a585e2b2338c5eb659779b21d85a0ca6270c9da80c165b9856d27ec37a8cdedda191557d107063a68c5c1354556947b58bddfff9d910093c6d79a70ef4af4c2d3d3d68df12a38bb214a0bea2f4fe8b01ceeab2fae5128f97a62c4c739797df1bc0328b6d00da132db8cbc86a5509a122934b9e135317a11b8ccdfe8a572d874815fba4939682100124c2acde3bb4cd95d53251025908d841d595b070c56a0e088410dd10aa7c3df858f78501b7cfe4b2c66ef9c6b482bf661516893450d6faf745e73f711b44856cc083fc101b6c27c66358538dad57e828064fd40c09b76a48ad11f06363f5e731cb1f9831fe67b0130667a05da2b7e4e685d1e58667ee3734b4c9ccac8fbcd586c544e6a276fd77a1b73f7b96cabd6e12323866b686e25bf45b296d77f3e1c4fe5a156c3383dac83a923b26b475b5fc261c4ac6767741147231cfd901c8b75fb8e7920858e1fd8b100cd4a2a5c9a745af1d0e449086a73d98eac3a62ba14ec9c35e80c3b21e1e2107aabe97173a9c7be08b4f80f30c3a16a9886673dd375a53b8d36aa700c1f1cd885083a52dbf410fe78e7b165fe6541da9d3a43aa78d01a4d65cff9d430e04e63fd4e419ef81f9423fcfd7d6e7a9b59504a186c230ce2cb92075d8b481ec376f911c8030e5090866eeb64411cf23f2011c658673dcedf0a57e5eaef256d1e452b0b72186d8e90181440c1a9d360299c70dbed41090cede674273f720b994a5334a9d3743b89546b20910e28c164cc4172cc8e03cf2ef55d32d4c233ac60fd922056027a25b1110e1e1d25c42a24a322ff31c3513ad074922542df2d88425274058146b10dc08d23b581018e103e768c136fe721235c2ba8949fd7b31beb91830912bb901b0946f82de8116bd70004d36b1f328b79f6888e1a9660d3252c8c0ebf27cf17c65f9c30118e392d5ec4f9d11534e80c22499178e7df9694e526d4374b1566d90f7503b5cb46d106bf6bf61eec29d05947c7e878aca8d73280a8a8dc5f26aa41a04c3d126b12082203b0ec82aed68576e92731619476ddd0292a5aa7033f8ac77db1790449946e7a24be9b9679ab3b5c0d129f05c7bbe84f29b9f4f6f00b0ee22f5f905cacd0af7d65bfc7e6d849e10d6791cc59d04f26cace06e6a2febfddc29c4a775e99c480b9202609aca63d104a4dee680894cb7d334bfd5121ea3bbc73b06623e03e8eb359be26b4b3eb407333f9e49863edc31fb5d865216f5b50c05c66e0d440bb512f3bae88ec12a2d77f0867318da1503c7a0f3df9f2a71ea028d6e998f8316f915db6af719f68edc5ecc4609766fddab520537c9abbeb297c4d04b9c1e9340ef6d5178603ba02371f140f9737dcabcbf1dd39d5a861aa0f1d0e83dccb0bc0f51a5e4ae1e3ee17f7f24d3daece7a6d88896d7c46eb481c718007bf8714b0c4defda706e8696f6028b47f206ed0ae78ea829920e89b169c0cd1937f5127b2e584ee580d0208c312dce85e9889450bfd66c69f03d6476aa52ce1aaa15d4a862d30022933276e650051ed17bb7cb5c98e34e8d3a7ad611d8e8bd3731e4ff9e488ce1d05cfc05b514f97f10160ea29668dbf2b12e49fb2decaee34b85feeb3b9a2d7b1e612e9b367132d934774247b3b80c0f641497bbfe53a484e722e9413739c8d471600deea6a41c069cfb2511647d1357bad56c8b1cdbef2201d1221d81f160f59041951091f94e16d3e947ef47fd742e7ca30022f7e0cef67a97645c34dd6d6d7c6c2225ef566a49d4e0788cb84e44472a4ccbcb0ce749088731113e43840c1912e17e01cc31dcba82d44c878c940278d0af247f146e47b07b7873c263c28f65f0266fe367d11ce04f3e9edb0279f6a828014aeccf400a270d1add6fdb9182e9bf2ca8f87592765b0d560b53d0d714468b44ace1ea16bbfffbf09eb0658b78f670a6dbe936cd5b65e56c3d1b66561355006b9962cac301a0bb9d9ed3324d10a5ace61c6ec13fd8f2e18ca6677590b958974d3a77a12c7a7f03e2b62f0ebdac9cbf06aec6c5258f65636808c06572c71657909a503a216c05a0ce775f68ace1a732819775f279a0e48ccc424a280a35a86632bcbd0226968c3461e78da5bbf01144bf7dcaae98178a21247481a335e63b518e7ba50321a8ec82c2409ed99f10fe6126db7912030b626f002816ef83ae56fcda006a2cba70ec9ba47d4898c70186d2a02bafa58e7f6704e44094d6984d09f5cf12d13d3d785f1f0facc41ca9d2fb25d364851f95907d60307df4b7a71bab784cfc96d44459d48805462fcab0ab70b42394db7f74f76ed1d55362f9aea00fb5c882deb899caeba1f39a4eb80439835fb0434840dc1cd83bad465a99f1b6dea16913b5490d5250297f241387d291be38a9c72240c0e82cce1ecd4f8d5e2c9a6c53b5ddc5773d11e3910a09b34a21af26d7663e0c9eafabf70e2a4ee2d656f58ae1c60c106cb4819187a2943aa370afaa6154e19d4b2408b4eacd3d2173637255f04cb17de61e1f988293a47751c2eb6e6466df7c499a0ee0e0bb916c58742afec0ff8e49169ec3e795e38968ceda6c58d79470410ee8b3f51835b5b1a9986de46d380cc40a79c558dc93b979505df2b8663120df772c55b65e9f8e5ebdf764dcaf485bf53c54df55fd040ca58beaad4e8b8ebaf6548eb6fac20c16781b8c6eb0da507226eb4141c1e852f15f6d3be3e8c039c8e269dc2c4e0600a4fe8ee4aece27df48b7f59b6ab7e11cae4ec660b2a65080ea97f2deb1565549b2deb6746549a751e59c1a26f72906b0b2973f2f1fe60bed4a688252fc2af3f05b4d85dcf38a732528b8ade1f4131fe928dc80ccc122573ea6f79e7247c4725d3ad2094a5f5a40d16393d78f144244201e8762226c43210932f8b50999d2f39a3cfe138b95920eec4f6829a4aa2e4a1cc64083df1f7baa857a5abff8f1d758740f7bcbcb956409457c693e8b266a3b6b77673d14682e0727a416e8321fbda619c1f3dd45a7bab111a11a4b378233bdfce45305918f20ce4118a7e47faf259c0341c47361cda4244f458893c3fc12fdfa361faffd9d76abbeca99c578175423d062d6fba8d2c4bca343aa51cb986f258f1ef62744e26b2b30fb5a805085cc020fa883e24c98c73231ac1c0ecd0639a980d25f870a0f5cdd10b11c6c7ea20f0a821cb4424e6cbf2143a10a1808ca5106dd9d0a180e5c363aa02cebda102c076a26642143b29c61e43d4f1ff12edecc749c11ef75bd55badecda65aa6b89104bca35edaae35e561381c0b63e3441bd11ad7b6d2995d8aa7ed4dce2fed0a5dc2b518e2990b4f7ef9dea13d5ceb158b35990455aab5bd44d8562aca31e8c1f1863bd9a6856a130987725cc82d82643699d0b8dea73a03b3204578daf6f7e639108cb5c1e81aa5f9f5a1155e5d4164c10235890a8fafa9f54ea5662f118b1094e0c2a894790c6a788d6e9a453cbfdb214b4d81b1865bdbb3b148074ad235ae1e0d3f5790f3630a471d4edd2228dee9639d6433c5223f785be2fb6d2008d2c7ab71d78bc07d1fa385d1cc60b04dae3d0464607314d0d38b7af7be1e3d6b3c4f1c37f4f493a8aae73834d1ae47f445ffea9d08bbed220ad88ca3635f5983db8b70563f167fc00e1c300bf383a0dab14610da8610943e095c35963ccfce76f3c6675c619bd9474e1c44c68ec44f3e4bc95c72a3bfaaf3c374ba6fe2cc728af24a956706e7236827d236a3c63c57969515e4ed25cb5469118547394b3d9aa90d9d89312a2a2c0f8fcbfbf156827a1bac6635fa5ed788e5d2d6483121dd8e9c84823dcc229f9b72cfd2fe0434cc08e272e0bd0f4be79a33ab43c904491933e88fd8e762b49166746051741aac285c4ee3303a7a4e205000e530996accf9972475c3e2fb000b45cd8a6b6a9c2552664580dea84f9fa5506d6540fad5ca515da627dbef03dbd3b81827a4dae9aadd115d2f6d4b21e46db0876beb4d6f7cece2d2a71fb1517470b933415d319bed4c81d500f097ec3beccf1ce389817049dcce17af2b03b6c628c1723612966f8f58bcfa9fd06b3c3f89d4a0b4a1522d0a5b3e7d59d05db48bcf8b756565777b09bb956473ac0c0fc68970f46f9b7a87d1e09f92e5d9474bc8cc89b92315a3dae04954db4906da4236fe7c04d91fe38bf2012cc2d21d13f1899c3408d91cbadc7d423618d88f0554a4004de3e3863732b96cdf30f17d244dc296b4b503039846bcc2eda50c5a6ad3ab5ba526533d9b37c75ba748d2cc3d89c22a1cf05931fd47875d494fa8e14ed52d911363d3d8f6597b118be3bd5c10052dfaacc22bdf1157f406de6047e335bca69f2fc9379db001ff5153cdd34fe26da8b841e117a3c79c2729541666b40d46c8d39c4811b85498b19c6bfefce7ba32e980de742c9bde17d759a97b3878ec5728d494bdf08d3fde7eea98376d389491af622e1d3bd47f32c493245b8a181f16f867d680ce195356d44e0bb6f5f7fcd9170b56eeb8072f1d3a9bb413053adecb6a00e7f664597dfaf3bc59c75284acec8fe6a807dddf2cbef428e7c024255b97a3aef8ad23422bab82c60a412e90cdc7ac41b0417ad5d2d677dab5117de68e75032b56c0cfa96416b4392a063eeb50ad593d5b2669870f6b9bcac08cdbe010a2b5f8f9df24a6d7d6df69f8b65d5a4371fc23de7cac8da632ec76780a47154b5c959d5c12742125cede5e5f5db49a38b50d651e4a6a413d4a195209d3acfb48f39d4e46315d881d7e6cacaf15a0dd672248a59dfa006e47772f2d3e5bd2b2cc600de736078252f83e937991b3da143f93ed7d7925b412afa77fa7677cb14d1ea707ac8007a466c73264c53b0a00bb2c444978b5c2703d467db50e9eebc51c46382486ee72dbf7d09e5c0bba4563ba2c74b60e6c1475bcb90bf61ebaa3f1227bee7216a50543795249c7ef152569440745c8dbce138e85e8c06b5f1d51deb99823e224ead0c6fed79efbf9c495f7b4a1958c38a0c5ba35d227223f77f284a4a3375076c981b886bd4be5a1a1d3f9e1686825dcc3fb9b596b3d9fabe0ac3311a50379686f816066e61f73ed523c7d279a046e780881bd9e7e340f592266c7e8924f55120f3ff656b76142bdbcdd8f06eadb0d0a8858f36788ed1c36065e95cadc2f3878e9fab5bffe767350398647384b61bd0e7de08125bd6322e6eb1d58bd7b9140ebe2d1e36bcf3bc452b46961d31e2ab2250e7f4651af3ac131722457f61af7d6f37e737bbd8a3044ab91e7073fbf2e22895bc949636cca528c139d28ee51aba9e7cb5e67df803183fa0135a344f93e47f369ed148dd9c12d35044c2d2684b349472d404dce09cc6fb5e596f59d046b2f62ba80dbb873a14402f7b8e7d8a4171df9a5b7e34a627cbeb030a8c82421593af69dc6b159b116dd0f4e8588aa195c0279778b936f52870038fa4eeb124406b7a04e87cc5e1e102cc387f6e28f9af4a62eb395ab98431f95dde2d7a78cd9e26aebf6b61b9f108c4da0085d7344fb5af85dd97b90617af1031f06cc355e095721b731fd3cb5f97f1a2c39a8e12050e3fc3ddf72bc9aa7697e793f6ae7e9d70ea3804c9724551fab2191cf79d1cdbe141936ae4f8bf1ea87060b7552e359a39e12eb80d3d9029ed4851353d60d00f1693a54033b4e7e434ef674522654e1a4622f583eece7c2daa9c5882f2ba9b4c7deda05f55d8b67f2a2a1327570c117f34371aa97facdc4799a6f74d74ec15e0ad8ab415d377cb048096d6e38ac1ee942292f06103ef7d9aa9c674ba8ef9a80e6fe45923d805417481408c09123cdbd5b04910d455cb07757e651cdc846822dbb5f45890bcca861e2b878c9c511b775f3edfbc20e76e0d294c6fb46b3f54c018f2d01e17fc5cd380ccc9a71f70179dc940d57ef20ed0f115cfe1d870fa13a75f38103b86d3b68898d4bc0469ee1eb0a8be25c5f061abcca9c88bd71845744e13c8ac6db60d1de3e7fce937855a02ded87a54f738517e3d4911acf81cfbcdd758d0698f9f7aa1f40a01558d53e01d5cf5a1d07fa78092244283d9d72e4aad8dfdd13966f283788c56747889874c65a2fcb8c77cb082d6a673475fc5ce40b01926c268cf8e50ad80d649f808b79c3e96268226c377a7f2016dd676f8a013d43b9e60bb551d8f18190def1c93d33561d249f98b2a460f79e9fe16c0774d38a81dee503f181103c3ff9cdb23492279c5fbeb16d51795cf0056a4e74a0b5c5bd1a42fc547260e0b206f93b846b16d904a2eac182aa3903204bc5f6abcb5d6a19be579eb2f5b17fe25000d69dedd16c3ddb2877bd51e441140af3ebd0e5ef10119c9e6d550855e20abfedf1b0dfb1809f1f099b0bd75a682ac44ee823f19f84ac5139420faa8555451b86593f977556c3d0ff3759d0d7696262436f456b30ebad1034c0dcdabb8c6dda4cb3284ce4610a23628cc9d793ab344c155348d26228be245f3e2e2c715b436f118fc6607204c8536c1f2a2e8d7f11f84301c31d23c5fd70637cdb7757dd3a28e6d73bbd3c055c884431d0d1b193c169e12f65db234cc095db74a68df1735b4ec8df4fd467ab456f263fffe513c531682d58d03c8f6108c7319143f4a0673c0acca73f13ebbcf0d87c944378179b2859db83accf2776547348f2ab38a5451cc3cfe1a2bbbfe93e190d9fc234f1853aff5e45550995b0aa4708bf44299a5316829672170c8af913ffddac3a68e500ecb9cbaf3bf09200787639691c4c21e0ef0d9558d2fad5d9f2e4a6700788cab0710b894abd49a388f36d858af1423f33fb81be27d844859932522dff0c0620ec1ca180c1263d3f22dca0fdb4b8d814a258bcdb1a65357e876722fd069ca3db4ca35de24fa630290dbce48bbe9534f8d065d117bac07f4626490b97148e5b8f2a6ec18de1265fc41752b89ffa6d0bd75d9891bf4ca615fdc67117eec69a4916f40bfd52813873c51ac5d417f707a6b179d7bc8c3825ba87d038374d0bbf2fa07116169786f8c32155a7bbec697ae3cb68a27f468348bb44d8b79c6513e6f12d6cc057d81d97b9966d0524e4a5b8f19f4f2b07d5523d8887d429c2c67fb06d1d9d03ba8d8b0c8bde310933c3bebc0eea885ae81c0a969f80ee0030fe70b4d023ba2bf544792efb2fd4d7cc6f692100c6b8a95789f1802a14f6f692ab246d9dca694c8ccdca04fe1f580c40afbbfe0a5ddd81c74f848401c42b9fd7f8abe4e0fcd95624e820268506fafe4dbaaf6781888715d9d4d580d24f5306939920fb8e29247df8aef055b7148ee1544ee7277e55434691d979b14fc18154ef60cb1f805ca521abc3c0bbcd6da8d67e4f93e905208bba875a2ab0ce3a9cde421b6df4fb1c649900c0277d35fc64fa164bfc3f9e9360b78efed02bbd5253a73e9e4071625a5156c0e623733ba713fa74b17ef6cb4d9c34460dc3dd3744e5fb3db85aa039f6c38b5aa5341fa1b55c81bff996b2a55dc2ea45e13d0760e008df971f2004a8720f372279d51484ca115d5cd8501bffb0b1b38d69546d1eb904bae1308708e89af28cbefb10331f47d8d51851bb63516a949dd706bd09f78d088aa7855af9d1ae7b0a69b49d7b5877d5ab6746b2346a5e538123e1ebc56aedd86a6efa02e460219ab619af545def52e3558581c56ddfd658d568124f902b29a4796a2ee2bc4d937f34c294ce8246dcca844c64922d3becd28f215658b3cac4d6da1fe9f2955a2693b90c01924fe914a1eb3757c36f9370a0d8c3a4c25a309b6d7163ac3b431a5eb17c291f66297d56e1c87b76c0f02601457a392935f28b20db546a38cc2433b4cda8e646478d5c4553d0554d914e4cb5f8dee8c986a6a87a3ed800eec35a93ffdf4cd6bd13853810dd3297fa40e2de55ef85602d6e0cc5ee0b9e5bf276751c85b257de3d8b9061eeb7040527f2c2201cb721ed371fcab6eb29a89cc32c8b52c309fddb899192ad68fd3729db91677a08de252dee2bf2905aa65c2b39e7aeaf61a62de27bb7bd7f304ab757871eb4e263bd3a9710f578a9854a999392762f063db0a4f5fdb65ee1774a8890796dd4b830a0f8a335112e3593f2e564c1fe8cbdbed761f5f4130ccbcb3b37d11e8f6685378c9b44256ebc793ed3f6c78348c5062b9e65e897b3fa85fbf90ce7bcfd6e3dae65b8918c34aa1baf676009753cbcd50d8d1718123ea6b674e39779d6ccad2ddc63852b63a37e89264c59d5ed0338b29de6857f418eef1dff8b66d46ba748a7d5ee210a2f1aab586248df274c92f0a472f8270e806fa7d389a305d9a4b6b8a6a8bee4527924038cb059027c64b1cabf76bd81972d4cf7935545957fb52c7094459e11307fb4e5668fcb6a074085b2b7968e5417dd449bda6243078670c8561649652337e0cf230e11d134c3427a1bf69f29295e13ae05b0dd7b03183400d55a9c235b45b87196ee7af815cac960c027e558db556681957cea244dba65025db2626bec89bd9a655336444280aee6110d61298643caf46d00340b92a64c1ef031c783298c64a6d4f5a935012868900c7f4cf3c6ec3e3f957b4dd7e63f14af3b70701dad86d41e7b851cfb2696f5403b88216f5411378f26ad4316c0518dbba6c9e9d5d7de4b3e02311c2a591ab269dd99bb1f76dd0fc7dd1489192433d335e2a90e860108f01bac1f796c99946f2dc02012113faf7f4e94ee065b4d183e8c4cb7a30962813de6de57f95b76862cf257c25f63f552625de0570e296349b4b450f7bba80fb53e223da47238428ca7bc3e34d3919d5b7f3baab667c11a7b0a6a775bbd59c5b9a693a79295762b9c336059d9390c2f92d02bf1b8fad4ae3f8e8dfd3428c1a47f9476957c4052d83fd67b96f14efdac1c45c13081580e6512ca6987579191eef4888bd992185fac2cb875f4299c8228a1855d68ea5e35ba486e0364c6c3a9ef647b4192b634fd40f9daa982b0ccfc53d0e162d2bf1010f0d20e3e40babc75821f28d2827e9e3af0b2c747ea72bdc27a079ae39a0fae27fb9e335140bf51a1172add2085824bbd423fb792b199c2a9dcce224b943e0313d28b8c47a782a048179e1ede8417d58f90285ac685cc54b09215359fdf8735ac1715b6e07b82a092d0677b9b13a3c61c9e358f8f36921a60784722ce1eee0fc1ced5ac4d234f53777c18ad3a2d5d6c309fbd8986596a0193e72c296f28d1b128a8bd46d7d7a37c3561c421a2822522ee6be1deac77b80aafb50207108b0ee1f95b1f3b6e0aa97cc00834070a3e0b2cdeca580ca0bc12d26205b748f646b765754fcb41e0816d4e126dbdf433fcf6a78bbd791151fde90272f0e0220c2e03f711025c2f3ba7441f4999b7ff4c09af8c765c9e97b04b8d5fe30a992bd5b91513087738c49464788553fdce6d667d0302ba9bda4a966967d70558c67e74b9c6d1a44564a1a887f07450bf2296711d99d14e03fd434ab4bd9143211718ba8714aca640b696a39c2b6ad69bb473b4b99d9ecefcdaa5f8962ed56ebe70d89f5cebf374198dd0d6440967d2d53b0c866d7679d8621e48baf36693a0b33be7531febd8e4320ff1c4872000e543c190230de7dc73c6c169145edd300d3c4113062679ebe3a050174e36ee26aac6b0e4b966b0dcda5ec1b6fe55a679a9014f69968634596ffcd0b4d07c12d8412dde6cb2780f008dc51985b3d3b268f33ad5317eab1275551a1a0614d03d93b7c6bee19d40c7854bff6bee83de65ca5cd15aa3604aa75c9cc656a6d2c20671bc801bac12d0a0c7fbf8eddec81c1e025894736c41fdf094d934ce2ee3bd02a37b6715da03c2c551b41c1121015539fb807b75149c0e9b83a0f7362bf4643a1122eaa9deceaae91b64b56e479c5b1be3174961bf911a7195d06801ac32d082adf865fbafc1de8fc90a231897453039f1af45a5df078bb7986538bfcf69ed925770d63613c64a12e8c62e731ca6be8abdbbbb3e52cb30bb12aa4b3db49f0166c7a3f84202fc369120f3970a7a69f868de1dee8b76afdf541b1031087c2efcaf1c499948ad578099fff7b8a7b43d4bd67e093814ccc251fc6130cf22334bd2ae7651a74831a3200eeece5e05897c054499f6612271aca7d50c387fe80ff3e87e57cc31ccc74f875f5ce4a791f5536505fc4af929e009d1229af3d06e6b93360c4946987de147ff78bbc17b671e102fa0010b4163bdc2a2e283de21b5b7f29bd6f349c7b46f5f809a67cd1a8d50d528baf5c8b416b68f0ccce9d3442804b64a1b77f408639f9344f5b636a319d4af64a42fd953d747468480aa4e89b27f3b4e648ec543936bcd32962e663455f56946ebf3b0875df5d62d562804eac79dcdee4649452d23e34c3f4ee2bb004c23a6bd3f9d93b88886c50df19fea157547f98862064e0a1b243762308cd1f6c3047f7b0dae19c29a2e69770e51cefe29ce036546be019b8bd277dcd725a9a186294709a7beb3c9d459ba6090e1a0b810b6a26b294ab47edd06da4fec4da00d7009b384b5159f1221cf10bf3d415b92805df83ae985d8f6d3a00ddd92eb0b94a6a1e2bf92950c175d1c72776269ff1763488dfeb17f975d0ab26a1f5d60b54ce42f2e846c8fa09073726659e55a08fd9da8158d7b71d3482f8a254699ca88a3191b1f901fd6bc743dfa27876b0570bf0313242284014086b381a5d3844bffc98d4bdaabd2a6e1c313feea1ae4bde6c8423f7d276d50fbae68e141839bfc040a0935c21dd0e8e9068332c3a7d3741f9115504a7f9b017e7471f6108d9c26e1e766391b3db865586fabb48b39f0bc87160b49a2b4360d7a914863c715566f2d3b69c7a44fae58236a0bbfd06b0ecafe34bcb344939ca7e42e1a01f52365e0537a809b0693b907cca3dc7ce268fa8abef2be6367f43aa3cf94a2f8aa058efc853428012ac09a5870e748b47405815c086adb41f57d94fcce5e7985f1130b2ce72155c6556b27a240ba323abdf2da796800421a401d363903792fbaf593b1d351c87abb365ab2189ed1cf165a9ed7914dd38596ad29e571c2d9d7dde978080ff6de2c13a0597f74f59af7744852039c7bd7b371eead5ccad3c8640e844eb6e7e648e5325e770281feb58ef077a6769f803a931aad5e00b227c470fed186ea17e6d7006d324b344c47ead27d1b3f6e8897dc4a653e5c2f6ffa082113deef536e4f439b98b7f34c37c8dfa75a093b697731ba75c3c8e1d1da357c0063818bc37075a747053c4e1e63f0e308afecd96f23043044d02f3564c906af60648fc29180c6e6ddeee0acf5080ae0a20e388d608d6d4ecf964a05923a731d89fdd3e93c812e9a5248aa7d3ba004d64dfb606c62c8abfb59ba3e158dbaab3030c03ec27ebb7e4c52273efa83d189c9d045ca7d881bc8cf73c2b695155d026e241e2b837aedf2566e56bb435086a30dc372b20fdf14b4adeb15d2d8d9f6864cce58b524896e1c065fb31d4fabe7f5e3d46f8e4eb611710fa472dedb035b2201c42d82ab523d5fdb29cf5c73f9b45fd3dda8b937176600db3468b4422cdb7818ae1d546eb17315261db9b125079272dcf49fada676a1e3779565a7d3913dc467142dddd5dc6f780537f533f734a62d997768db8ad2f035b9ee6a44525b4a933ecb250917aa65b1544c57df3e20b02f0c692d2e23674e22fec64081544bc1946ca2b86349a083ee0d8b94a8b4dedc55ba2bbc7ba84f6069fdf1e06ee69473c0e5e8a6dbc13e734af5fd57bcad8439c1412a44f28e1b2fd070dc76b259f693c766e601b96a21bb542c68f471351af94714d30ae558f3037c42188252f44eeba6f0b23598e0408ab4dc82d748862bebe257d7acf46ef818c80822902b552a90085179051de0b4de10a8f2c15fed74a79c21c658da964e7ecb64884df7cd94356739fbff3dd15a20ee2033e1f68c0a5992c20bfb3db717af3d4de0020a4c199f1806a45e4054f694a8e4f5a3651567075f2fe839b0bb8216f51b671d48c4600905448a6443685e93c286ee638d543e843f66cd8b534e1a1cb18f39d23bd2c445a69f59e1d4db0a111398d05314b01d7706ac496316cafc75743dd55a1b4e92f3ae64239d67c7b4f22e76712a8c4741755d8ef4bbb53b594e421ff030d05bfbafafc8b4e2d08b0186676c34ca8433299be18c1d57cfce7375831cf7f496cea2a6d5d95cb56ccdf62a944ceca848953934b01fb0f8d5052c647f40fd21a34dc86ca7a95fed0646f56f6b92672738d9624056958922cd985f83f2788a74f128cccb704abf17fb2e60faa35660e2bfb764157c8b7e25f60002f5c398e2cfae6cf15c45e8ab68baadef721a164929f396e824833a7c0a54427a97b1c6bf6bc364a763e8949104271e64ec79dc19f3b78767356e791fd9bb8ce32232f5d86161a00b35dbcd170baa29e53868a0289193feeae5a517746ea876095523e53358e118843e16b7602642e352f0b5755a25e98816380b466eefd9b5bf0e059f08b75869845a2fda7589bc750542be3d3fa9abb2ceb38dd2cf97aa2433c314b37ed8962b0e89b5ff94bb27d12a3d03ae7306996295b8fcd01c2b53d7e09162aed9dce4196df07f47b56169ce95a7f656d0af84531c30bff498996dc5f4b2eb68842309794a48fd819d434ec373f7c0a6cdb1643cf5b2a24c27212ff77f58e5f831d6baff67fe0b1627da1598c96302f73959691b6cad624d8b5bc9eb3c15bd3ab595a8cb8ddcf3097d604a6e2e3a2f48c06d5c41a8580e1403423f2641ae6c7bbc8dc5e971694a486788cac54fe97a3c870127e4e22d6d8f204af2cf88c1914e0636a9b1e3a9f4a3aa7bf195730be0fb58beccf9a8f4d105de9c134080039e440cc292689767e14c727f0cfb4c393ac7b073e1e7289848cf4c7c824edfdd425c314347efb4196c7f295f6bf550bf5ccae9a70c940ecaf4efb036d218af1fc89ada8a12e5ef56f689f2419a6827fefa03776e06166e20f03598184c9a2a5fd70a373ed58ebe783c33e7af7906ce0deaff86cff6c841a829581b9c857080835e29829bfc6b5ba6bc19b8c39da47ff5ee99032c1a12654e27812b1f0ecaf38053ddc6b2b56312fe4d592307a6dc0e982b316142ab9cf1c1904f5e650b8719fec8dc23ea4eb54aff384264d1a688d92eb4d4058c9cb5d68c5bc98f1b3e2b5d23ba39c47d78324d3c1953e1fb7acec216194eafb15573230b1d11404ecf07a9e2e1dd15460f771e45d93e38165fb509f8b4bdb7447b4e663d1ecb3bbe837ca729d618eb74e3d8a18408d9ab3f9d18c7b7c3f1d203402486435d1896ec0f8364016a4e9bd853fbfed2eac6df666bdfe5afe54ced53bbce44060fa978d1c50994f751f69e653484abe14d06f1f186a3c2683b413b3deba6954fb1656722375d6405e7d296f55fe2e573a03e40909c4b05927c9dd47181ff4d9c3a78dc8982ca0fdb676454b3bbdb069089290733b4779c91a62aec40e7c6229784a3e26cef964f74687b9a5eaeae3c907454745c3dec86dddad6ed17fc24e4c6772f0629d581b99629525313d6f609b4cb6d997e961ec13e7b6c0b3a184ff3c764fc4cf6889834e2ff4d8924d63443a78cf5b18926d9fb8a84065e1b1fcc617c565674bd03418efee65a2bfec8ae33b17c9a44a8b7a9eb1f0a8c44947977c6e63375c95cc9c45f5d53b8b02e78cddde3777eed3a6cb204fb62884d31040d0714d1df0e69c7289a61c5f450fac7f4558e660f259f982e70f301dc22e6a6f6a99799d8ad56189a7eda32e05197650fa5940398d49e8406dad1b54770983f01881c8a304f9e82593728cb221b9b0b4b61ff37f80ddf0af55f07cc80f35c838ad8df4a94c534311c45becdcefbd31e24408683a4a0d3ae1e734dbd6659cfaf75845033076bc84f88b241232f57f3fe79ad711383476acd8a9c269e110c6f7ae77ec76bbe56ec1ad85b979a230ab1ccf894546b91b3f92cfc8ce099aca51f2dabb83c3b67cd86b60de5937370fb32a06c036c71738369b6fefdd5d9b79d1827fecc89c4e1cb9c7f7421c9965cd64db777f22196f62f8b7705513ea036d39780f75e7bcd128825d2dcdd0b1d0894584ed2b05f1c62da81321ec3f488f51bbbab56498eec17d7de0a2893b026ff69d6e52385a65b9ebef542ed6b1ec89036b4a40efea1ac403413b0085030695bd1a2a4d6a9f7fb7c4557ed2108bfada5eaa8b26d9ec1d64628084b3574c80845e76ef171ac3a4dce441aa0d0155c3c5015966c14f974a39cd8f1a3d787a812af6fada1d43265f53d2350993b2172329e00691e3102d3d81f5a74449a99f9c4898bae2862966d9a8eb314b38d4560bee5daeb58bfe19c2fcfdbf1c33f08f3211917b76e0016079f66a29d46fed84e55ba91221f8a4c3d6d2dde212f4f99fd800e4dc6581458ce9a512951233b6d9ed8168cc473ec4ac69950dd449978e8bd96cff74b1390c2a57ee1707ba324dd27323fb7365e4055447812bb17c0760fa7fad965cd65019e19b2f191d4a7eb2d7bf6cfaed931d8e4a38b33472156e7d08a68df03d80b77c87d9a26d9acd9dfb28860ec1935511c42f58f3cf81f721fa78642817cf85c202989de75e9606a837b508711d84f053ec84165840eda1db1e7ce0316670999ea563c5f9eb893ac6c877389e64dee3736cc7ee6727df40ceb329b29f060b0f8c9988b8536720058549bcab7e64a8c33d7db4c30b6a5d78350c2e7119b2011c74c1a2438461661e7b7cd0e69c26736d90325c5ef5ec8aeacedf0069de078372ea24bdaefb224ea5891a423e74a8ebb9a628608a8f5f7a8c4c90790b20dd47539b2d258871d3ef52e9504c1f31000cc4f58a80d49f6406412fe8951c272bbe3f756290d2cec3f71151a0d86cabb7bb952ed81ca4a129f469d9a31ec400d08f157b7828dd6ed13ca4bed4f687a0b63adc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
