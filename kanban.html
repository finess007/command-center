<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"04d1854df29c28285ebb93ebbe59e0b1a5dd14eee709cd133179a3d3e015217e7a603910bbe7c9d8ee336fdc6404c111be7176b3673bfb6bfa81464836d1fcb7e48d4b1598d4703546e44341215196f89b5e97553e1678deb65d6fd35cd47f48b6057fa200155300f5fc960ff1947accf958d71dd4a10d6e1ca7df177f748b2a8a8e1fb0d5cea9ba1cbc721e1ec62a7ad63adb063be42f400f0f559e4b074304ebf8a2a21462d03cdfc50d17acec874dd28d15c229e8e25c4573cf7424b732d7dfce7e17881480430fc5deef8389f15692be0606b7ba6d198012951d6cec26598913027b43126650257780f636e00a99f39bb1f2caf7d795690d33c35c4838a8c000feda89c169e0e4114eca6cc2804f247a937479ee1d69f60d977479ee04f003230a0e32320a1767ba52a607ed112b379228909bcdc29b36805873ea1bab72f843524a584620da734befd374de2c3e288679a931ff40f460944014004a8cfa00c442017da4d7c74889a3547c3a273b53dea98138524f5f42a0e4eb92f80122a378c3d415fd915c7968028923f91d892b8391badf432e0aa31e85eed23e44b6742657e8c416711ae69e1440d2343a92a501fa7103787cbc484a4ed1f10ba3a453710930b357dd42e8ed801105078b760307f891b260b53558a538e940d0efc0646133cbf1b219465c952323291be499cc7cf51f6ade27ab6521e9dcda898e619a9f3cba40935229e53719651d87d63f3259966da6c9350778955de03973228eadd29e8af3755219a30c7ba710291410c4a86a137b4803411955a71f3cab646e907e662c103899cb43460324deb6a02320736cd07d2f0640421d2de54ec1b0733baa75cea83851224a5ca6c16cdf80dd8b3d864762bc9ca45d9334ca6a8488c1b869567cbcbbe3a26a087ddbb9b7b106c28af9a9d8f8ca992374eee9412ccd6f805d576617129b49d60cb89eb28cc4d3d8f337feb3e2cd71d190818f885c54d5bd80f91c274c38789024cbeb6757d3d6ce85442763e2ab1da9c595e553177f221f55095db5f1dab616fc8390f302316ed37f300e47c5bc47627cda5ec7d08409f663f374214ef9a75ba3622c230fe63057f18a93707a9004cb9f4a635f8944be89c0282feff5f3232851c658b83681995f1249ed968a4f35b44a1a0924115e2d456f69c8d190108abff325bc9a3ec2f15e013f1bfe28e70dd80cac12357fc8af03ad401035f1c43eafe418108ad17a00c4eae1a0a58f436d8eb5e751c69a09d1fce741f77e5a17d01c85541d0764f410b87bcb8c8cead6960b684092ecd190a89cc17764c8503d7bc435dfa3cda740be261ee3dcc2077c295b3b36505514f358ad10817bb3eb62bb17b6386dbd6038c5273a18822926b8b9c9cf12c8f9535a63a3e731353e1d00d9d85f16beda0febcb4fc3f1c3c7342bc856bb510eda2b967bcf063aadcd605c2266c7dd5964d560cb1969cfdf6f137ded2f055962369ca4b15c56ae903689d7e83b49a422f06f8e9876dbe3418b0007279708ae2639f751db74f16175d51667d0eec50be10bf5eaf62942e5223636c739f60fdf84772508ad62f6fd344438d3c886c8c11a313a724ef704ebb562354e71bc4f5f4724e8e4b75bd803acd80bd8077e157641b87f875857f54820b59701278129e485e6de9c5ba1ccd9035aabc7ebd126ea01ec180b5df3aee482a1db8ddbd70cc966396d602ecc452a6b02a1a94940751c73598afd73b0fe5c5d346742b90058c42935fdc3e0acdfc12281365312596fb33d5b2c2c8ec5904eee3702a49c39f6f4e2c5205dc35738d80434b0983cee030428d75525c721e5f137fd8d624acd903261fbdc2d33b70940aeb8b31390bbf18a728aab95222ee6394fda0d3d464a64ffc1b1ce4538523b57cab1ca253588ac8b35b5db48c8a02c41f1d2174f0e7232d7195df62fd4860b826396e175c1aee86c027efe5b725e78a0f8333f9813ea6a196125872bd72fabfb09141f35cc0ef2d9e23111dedea01ad648650c6ebcb98c37b07b0d2638b9c7153512aa835d56d5ca6ceeb0140c13e1d159650217ba340886536fe676440eed62f39f99785f2acac98822735d2cf1ecb3ea1064570ece0a66b75bba27b9f6ea5341a05cfd65520d80310e1553901c4891dcb4197e081d90cf65ae78e6d943fd52a674c351823f3c3f37178437833c0539cc4f7d5c84351478a069b9f9f6c61e54a071267b083770f5bb9aa4668ae8e9ce382b91b84b868f910495aec7b7d515cbb4fea9b5629913b11c4d9efa408e9ef0a24d8f76aa6a1a66670968a289be96dfed31c6c2404b46c3f36a89c72c6359c50b354c0492bb808c31a53870f1b4119c6080720d490c54342567de91a70558f59b5ddcc0aa56fe51ed6cd827ca50fc32c3dbe5451c40999579598494c9b07b15d5a1a1d8f05c71ad0d44e1ad315d476ed17da72b4b80fc691362c31009722d961810576558131400efa1b8e8227eaf3e1e991e4598b81653412b611adb9c71ece28fa4d6a57ab349c1963f62631138daf58f0b5e4530b7d5ca142d5dcce7e2294203952b25fb3f6967687944af1b8ec572ec092d489a88a38a65939730ff12511aad878ee66ebe4e8b2417b13e1e9604e6e261ac86032363d06505397bc2c60b7e7d4f840e03007826e00e5fe514af56f99ad5b12f0f1610d20607c9395ea9861db0c55500f0775f5dccc9753a11dd566cd29e68c557b19853b36384f9dfa211341779b8a3832d2b48fa5d6ac828cd2b8703918f4eaac09e7a7dd72b103f0341e3cf4a6ae57625d26c40c0821dfa0a098246728915585c1779ff7cfad2dabf9fddf6b4642191031d83cc48b1da1b89ba6524648c8a959f682ae6cecf938069b48ecfa2dc58389ad91e62de7c92b167eee2a56c535f8b5dfdf17a16bf7a71910d5645b8927f9890bebbdb98174adabf948a125b16ac02f64861ab4d0bdd89ae4b27ef97360edf46c8fad29950aaac6692eded04a293498891518432b0926db51a130aa48828f99a12e2f7494eec360e5f84bfe72c7f9cdd436a085d87db96fb0392a481c61cf1341dae3165dd6f416081bd400a0a32195aa39830504fedc72cdcc3122e0e744b634e9c15552fc2ebdef30946560fbe49d667524a72fcd792c45536830d0a19801732fd529dad677879abca9fff6f02b6d9e2d73089cd82dbb463265ca6257dbddad0fe4bc0081adfa671d92a4f56c63d93afac936968bb55d5db438d359be534b5535792e433ca6fb95abff44191dfe0d3729b1fa6e912b1e12c72d0ce3c569cdc4a685dcb10483b642f45c344ff9b71dcbf266d994f5e47623f02e3bb97f1a19dda2ee98d21d1b092c91eb62fe18ab7198979e43b67c1c07272134a430fb0f02557bf202b2d743bde5ddbd474dbb342795c0548122fb2fbeba8fea2311cfc91adb7ce674fcb4dcabab20ca73263fb8a7dad5df33fff5d625574e17db6de4a7efc3b132e6ccb794e9bcdc19c9a0440afb619b80723c087010a210aab01cf0dc274a3ce93d1425a821df39202cf0eee497e2d25c282787bc927718ed62f214c6b8d1fb692608676a6ce0307ee800048f3d54834826a26e951085c7fcf0e9fd242709059f98550de19d9eefa45c898a6ca4a21c0a3e735c96fc715679d1a2185132f9a8ce7f26a24d48b53a79156efcbacd69ab9da3968386cf432e02ede8a45c4124d0fa3fdd667887427359e2921ded73b3cc2589ae72882d39b666738058bbcd57597f138b88342b4e2cb66b4fa3cea524b16eb8a8329f25705a99ca6deb995da35d1465b0889f5048d1e8fda5cd5ef810f50d97abe9e99f905aa72608fd7c4209953198c58eba914c5d3bec64e2b41f6956700c28b184e619f5fca516530314afc2b44c7766af3b5d42456bdff3bad5cd74040d4b944a39c039788d181c0415257bfd776f8228f58c543ba6a600a4797681a614e66822d8ee511ddd82bd91457f083110e0b04cfd7d61968cdef1a31ed31a98ea0bd2be2187d2261cf1ccdf96be9706165faa3c3e0c404d417d0515a5565816cec70c23b9ed005f948281b5e502bb40bcd111e92c848946855f9ff0a7edde2dd8e165c9113eba1f7b3eaa70b3dee5f3dde80a467529a25aa7c222a7f3ce11a01570bf2e8a1fa4ec96b4c5c4f8c20743111e2cd081665f23b332f9660939524eac96caea31acb102f2aa4b5a92751f4172f1e307e90bfbb86072444d3c30f0b4b21f60ec84793686a1df424c523b16435db99c388ec46a589b8ba5c291061197290d5208812a876cc752685719fee917a7d399c154611f9b5b2a4ce316a5e01b414bcb733c26c6a385c2bf8320de3162779318046b7a76e7cd088e4ef3e1d5e50f942164a788c1e8a0f0bab6c0ffbf4a458311c46d2ed8c05df1531d8800f11fa997ae1a4c7b80e96ed810d7fd3a4fd26123b21a16613093a51410c7e6cde68454c84c67688fe3fcf6c59848a695724dc60ce376512c443266d9785091d983832488cb84bac9e9ef81c6f28da41d071a95d8bc4d818a53c943c6134982f7d8f22ca416114a89d4c60b58b9c46035f73143b370db577aad66da1f6b495da85172352f80a7e43ab1f7ffb8834b73005d0ec0bde944f4fd3a91ca2c277b290355db4582ff585b79cd09f918d1d90ee88a15a5956df3fe2cd24d844be62553e6ac8ce1aa73d341c4a3eecaea6d7707deffdc1eb5db7b62e9a92508fa1e28b0c7d49876b65a6e7d4503d780e3e815c8aaed55d39f5fcd69cf5d05404eecfb6bd35445a4043869f29559f9e401fbe18afc57aa94a264f50f07181d91c689560f8e1cc91aa8b31f9249ff755fd1db715e87f9a8b664a71c47d0786e5c0e63a7a3b5b1a6d5460ab776451900df03181a94759a960eea58a94e0899e079a00d856298ac60f3f020ed423be8a9d78cf0ff20e86da084ab00ed6e33fa322988d37b247d817a1c8256ea59588a105a27cc2a52af9c222a18db10b7b5e97ab7fa0f9480c3318e45071c458f9de981e6e38fa3fba176fcd9a26aa3a93241edb3236125938571f9e97f1aabe3c1f3ec769705b63ddd05f2e30ea41977535e1f365adc216d89f5d008bdfff0a2ad760a234e2e9fb43346f12af52ed0efbc754de027bc7f1a90a7549d32a27dfb6f0cedc73d11cf8c4599841dd8cbbecc47b18f5b40e5ff5f737f9fae292a2e784fe4886a99ccea85d994c902ee0fda295913132dcb6719ae702cd0a50542ee8865673cf39ff7e88aa899ffb785c13257500fc32bb51590cce9c55772b147f586d922cd407e782d69d4a28bcb12edf6cdc7f8aac28df9f57b9ca0cec762b669f6a0027a09f9e33aca66aa2f825890fdd24722020bda4d20ca96ca50d5b2db28bef8639184ac4a7e9944d3f2fc74ac33dda6c15fd90e23b6f9403c8fb7c4ac9d3aa894a1699fb00b7c20691c5464d0a8d8a68aec3832a7a2bf636c1ba0fdfdcdb26ae2790a62d72e1c64ede458417d404f651bcf9eed43cf31954c4cc2c9db2c8ef84a93a17cfa5e62596ea462a8eb835cf7304e2e382ba273e1d0823e80f96f083b781ccbafbafbd1005d1853dc655297e0c91d082408f4e74d56f1df88cca62c9534f1e8759fdbfd2922709cfe144b9445d935362a42ffcc2da4cde29a3ff9d8fb0e98ac0bfbdbbd160176b1c047261070763b40bbd904e9c6c631222caa33fbb9fd159063817d1d678437761909cb8c1e090644a02a119848313523f767aece9397cc1555c0d34f7b2c0c981b76a857228bb96ce77034ef7fc02f8fe2b708c4390e595e5027d70d4eb4eec2b41b52d75553a84e3c83a29839b8b448a3f35de1b169175237d68956e65b281f4d8c16a44c4be1bf7175b3d17fe74997e0b09b2579150935746735544e6d80b9d6cdf678c91cf84ea14e879cb66dcf37801b2f51412a003dcc7138c83f59eb992120babfd3fb473c0ef3c28eecfc9853ce4cf55ccbc6f9f06bfe047388fb40b87d8ed56f2ef12a154c4335241a685c7abd91ea1becb608445b3517d565c955f0aca19c9caff9c4d883df96d855e7e5dfbf5181727cc5588a18793eda7fcb762464a0d0007bfd72c2f0ffbd8a0193b1d8f1513048846c9f776502848c26c3c9af15e7f0750d90f743705e90f947a33090b067e5e52af4a963135a8b7c3cf6c758279f1b95d47da1dcc50aa5886256be09ffc7f8b2e8f642254b689dcab81ff4f9d58f4116b41cd11d5e2135f79240a7650c5ae7e27d2988a26909f7871813c486e5513a3c2455531103b2ddd77ccfb085c202448e82cc0c152a65d4e22652014e06fce918998a0a1d2887d4b2000aa60e77a5a145b9337de443f92ca709aa311267a3dd5f5d198da7cae75b6c5c470bcffcb8d58f1c3b651e84cba6d76028ec12e79100531dc9e0d69c9ac037b1e7590fb2335bea04f50effc7660d7d951c017fa4103104bac5be70295a817f1200a03f63c1c5f66549eabb6bac601e44140590a0804f3cea7b20600e5cdaaedf740c01f6c1ac315d97532f6293eef85400d2d27e439b3c4cfbe42ca350f45fc73e3abbb21638ce6d7f6b45e3d7a224dd869192bf1bd7a160b3d46ee5a8d8c3724f70a8d30b6bd65c210edc5a841efc293f748de71b329fe32f65c17ce2ec68b5b5fd80329fc75b6bd07b480d699efc96346a2b8675dec81391a9d6424aaa81748b5b7ce289eaa008907755805f20b3003aa115a571210aba0c517da500ce712028603718643927b0a943ca7840292a3c8d181f8720fc16af51fa6cce3de0e75aee7638864c4fe5f593d43438e8bf8e97f1edcec89762b7cd9d813aae78e9aff32808e2f066714a08988b26b99b6b1340cd20058acd96e44e7ec108fdf0b279c9db36106ba798023957c14eed68c1cc39e23dbd50b7c4dc057e0edb1277186c4791878f121c5f6a001a854ad3498a544458580ebc430511b14397a2e423fccbb8057be61b5458601cb0facfe0d4cf506f60249869e07e057d9dabfb957235c3d7bc92f8d846528c875a42b9fb103be1a1109aa3e7c2ae33833eb8b666ab924a2dd4209b4c7ff5fd1c4bea38b988e60a02570c5361a04c06e50d7cfc5b5d0bb01462c41509f5d3e2332c4465e677530b74436942e0363a2b2a60c2833be4027ad124193d774576f6e5eb94cf30d69ffd53314020db13c9457028e32bab6adb6a2caa32bbdf5b4c109a0b835fb254f61e2d410e33a5ad4d1520ffb81acd181e43288fe81363698296e2f118a9b216f3a6f1e7e3bcdc898d75608dc52c88c46b34388bc1dc5f08dcfdbf205aee155810d621d9e400a5f74a19486906968b7395e887c9228af3e038c48e991d940dabbb5dad5b3aba02394e86484e96c40b0f007e8085803bf77233883899d311062dfd7e9e7890e881e895837e87e2cdfe4e5b9b4d3ba2f72ec39f80572c56a9b9a75c81224357cd5c6202bf841816c10c8eb6768b8f59d2bcd42bc7ad0a2ce38542f5b75c795d4bd94e73a7a58e8a201eac0a7628343a1368ed53b5eedc3f90a7364b90e565a44a168e56923a59d08c815bda0f468da1c9187807d14b6e0b9974b9e1b31f256eba6041b1353b16ee2011a9bcf55a921e73a2122f2ea82c9285bb2fc2d603ddc1e26c58ac288ac12c0070681bccb2bd5511c3c3304b913d70b35f23ba0d089d04924e9a8aa95940bd9cae6be98a729bb6eb60ad95693816580401d8ef9f9bf4236a3ad9a1a645891f1e72510c0a3c1cdd1264bb380bdc01d70a9e9214353e73e027864e01153ce450cb2e12253a9df8e9aa62ae23f6f3de1f171cbb12507dd9e3e7b681fc1df13daba70e8bb503996e61a15327c9aadac4e90a7053cce93de731002cfe1e3d6e568bafbbb8f1246a62da1f86a1e23fa73517762e7169c0b990418305be29515db7ccec831d7363ff6c13fd44b776ca95e0489fe88cd2f4e944bbd530b5f0f3732eb8b754979e917d40189e77a0b1620a4c3095f86f81759cf22ac556d0a2f0dede9731ecbe51351b7d3ebc4f0f92c2ff9b91bb020abe192bf1464172e0705380cff66cecdbe2fbc35cc147fe6ee00a4b47a0e246a103c48838a35a03cb43dd19c3e12aa4ccdee032fc21d830e83aa97614893c72dd09492165e5f613d99788fbc1f44ce3359e4fc1e846c00fa31bcd18390af93d1f7f47f8185b983e3cb4eeae2f0393e0e719eb7b0e0c5854187005351baf881e94ec0b52a84af2face47d65181f39b4b4c7b3d255541cdcc8dbe9bbe1f6baaec0ada35ed59686e8d98ba8fdab7d5c97e629b0139a610343e024855a6e357ff4ee8da9f9211d255b3887685b35769d6277e74bf95b78df25e1f6edaf6e723214f1f4095d21c77df27a4fb6746f28b04bdc42cbc4b408dbe876fbf62aeca1eb134a2101494b5e2b1d3a19ef8538f9d2393dda430ef62b05722918adcd51daaefd9edd260d6c7289a52cb65213c90a93ad22cf3020699339d38f075e9376ec263c4756f609f933e78e8319b3a95a82f46fd96f43affaad39409c502114857ffdc7d3a7d783602d405f5231b6cc12f2ba63c9cf8df28785c92868f3273a12f5b64fe2f514ac74408ccb647cfb3d0117427c0397b03b3f78e476ced24510c15d0946dd34bf36d5a5b906f5fb3d010b5a321bcc316aa200b0c3a078f8f589c0a7e3a1ddbbfe79fc1a6cc0cb328f926a62dbe012023c3b4f5d4ac121493f47a0b24f20d344439a8344210856485a985b0b9920da5a53d6bd19bdaa8b952f9468f2e3e3fc0b6c8a430f69e34944d86e98443952aac85a15710476df060ddb6be56170d680649805d2ccd9b47b5296ff6de0e773cd08d01346a5e45083ea9b36507451e89e65d8d23c363c9fcd2ce31983ff2f8add1da1819eba183dd12ed895e4a69ce32d00a7b350d84398fddc19eb4ef79cf0c418fe499480c9061f2911a6bf7d2f89e62f49384ac6580c06abf899c5930b49cf6e8866ca162c33901fa527b47fc9003a98a7b53e958a98b356d90e45260c4547ea95f0477c000c7821b557c03f160fc532f340c4d8f81568dc6947565298632f58065f56c1cab04af37091bbd922961f19e0ef609d8e1e48020d56a76a1b5b463c33c93f01de57f92ea266ccfd48f21f6165c3e2deb6c2b4a7dae191e43c9f398b5854e077de862485b9a23b7b42b87afac9c9282ff654e1dabb52e3718ffe5356525582d99221169a75fcaed1cafb5de66a71dc50106883f39ffcc28a51368cd6ff1ccc7afff516ae86768125e8302063339e3400a3ea39b759a324de2b2a95ce000a16c186745ef9f9ea804d1f3bc755284728149e941f8ed019b337acf799ec3e87fc42374574b374d24b1a09be5b203341ae53d841ac69e34a0e304a099d556d579bd1a478440ceda588026641c43b8ec30277f0497b4981816fb4d68df87fd8a50afe347f1c9657b9eb9265c22bb1196230d1ea69865412a1414da28a40bd27ad400b7d8a1738c375968b63f6e4e5683b5dd743a1efe6de78b5561dfa0622792c080137c2022c37ca539cc2d6b654176907b11e620528cde854209a4b854c669cbb00958e5eae47371dd15ef0027fcaa27c80debbeaacb893e62d0b73bdc5d45b5644cecc7c9e75f7d1228e72fafe5dcaa732330df56cc05bc9d5ebfb5b6dcb3d0723ce3fe2a9259103f646f38cf9158065061ca7fa47fd404cdee09c5d19bc4a659423338ea7bfb33cc05b99150bb969761c878927d963f0688868d40d79ee62b6a403da5d6b48257742a33f527a6c83a259b46b9b9fd5cbd1978a21cd3a73c4933ba19cfc09a6cf5facc4e36566ac559f07e51397476b8c448d3fca5603bdcdd6b6f808a94a5813adb63bc80674352bb5c8477c1739d9da2bf4b3097f7089d35d787429a3d91e5165b1b56e64078c8ee70d9987d4edca5eae0a086d82a4893efa4519a6f2fd969d4d9866edcef11c3b8e5ddbe813bb41ea0bfa5e2f9e589d06fb0d259e4b2aee1943b3b99f3ba2600426bb8c57eb3a65a9a6eb0f75f108fb32231b44ef1c6c7aab5f164181d04d4540f6c829f77c2df30b8adc45583be5c3f126955743b4b6d895978d1cc2db4a792fe851f53dd2036fc2d8018c1cef5212a922b1dd40a04af54ed5e0e78e6b007e45c19be23d3b866337bc24a773f693131b36ff8eba4df605b8bdd65addf7bad6152e51e2d73f50f4e4e7b2a476437afedd2f117a49dc9a0745479f3d67ed4c9c42012e382bd77c85328c299ede4dc16bec088e608ea2a7ae830497f2f81642e6811751503b75d67f279fe7d8f383a69767e213df86940c16b121f72b3576e22e809eb4d9fe32f89c9181d4db22ff6ef528bb67051d9f05e1eed5f63c8a7eb4852a04ca56e647bb11c4c9c816ecd4ea76cf4a93b0f2fd2b075b311687af3927058b9f726022683f3e0a621c685ca2b1d73645b204c1871f9800300fb45ccdc99edf5788653edb4c7098260db5e4e7ed64d1391e62cc0947ef6ac25d2e667d7d8e88e22446f429a0b8dccadab1e02499424e0aab7f72a24c9171958947d8f841f5b520ed44c077122a1a05ae045f880fbfd95300ae7d5e773c138e50b8850d455faefba8acf21474b214920fbf3c1d61b833a450fb11f03251f87c92fa5f1f0fef509dafb49147049467323985612dab1abc0ecb43dfbe2bc5fe75af527209fb7b74bc06453e0132da01cdff8469fdc40fde119ffd77069be8a0ecff4f2cd195de7f25d346a1ad46bef0a9792602701fcbd398bb419928d6ebf782f966a0dd0bf04d33c87c1481fb5006ead54a7bf215c4439627565c1f37c93d9b5c9617a1ced42490c40d0d804b4aed2b20e44acf55184a014d0e26c92cf9c1754d2c0dd2428445fdf8bce2f0df31911d5d1b733c3c3ba9bcda01848696d103880e2d67692a273d422c108ab5cf47f275db8f997e4e5594e007e94d51dba93a7efcf7466407dc629972d85e4333914b9aeac291d00d0d2e9d826777292c503712ac9eddae3844dc37878ff5affa38bec1ba5e340026484d955f6101efb9243e1372d0184e6bcc2898028b679649897873280103e8fa67abe6e727b2d0da1b47741f7956732d02d7a8b9155616db2a82aea43f064a59bdc22c7b3bf691c094cb70710bf5fb1a88be4d7388545381335d25e50c3c74f41c0e07c56c33828dbc95460e3a7ec578be041f2244f6bbf15592c92f49a7f8202b83643e014a676e6c97724e7d6e3e480e4037f96070fb9949857ada20ffbadbf7534d7f8bcdc8e143989908d27733d36bbd3727fd10772f041f591b8c42df0f2d2cda4799e1e8f32b548b67ddaa08dc4727d100dffbffe8734960c192471a6ea876eb023c1951948f7111e040e852255605b5df222464cde35d39d70cb8fda2d65dab3379a7f401fadfbe433aa66cbe3bd5f54a5260a30ae6ad59747d0220405c5646b3021717f5f4e7521fde06de4e768762de3da4258a580bfabeee8cfe3edd3d9bbdf6fd39a056e580bc5d756071fec6d6a8d9d9fdc4719ccefd7f1932dca93387b33a478f1151df3fc4e1bccf105c3b8179b5a05bbcc45dfe8b5de00303c68c0937a04fc79083801b0b0c7a857d916aa8196492ce0d9702695feda5fe98948ef369c133269b0bef0734bf7adbdcc10624e99a915b30b98932ed333113c83b8b88c66c045d9ee7834c1b9e5ffe999e6bf8001b8406f402659b81490831901ebfdc9737a75075bbb7155fce43091e91abca24ca1cff6344ed8e95774aa54c45bff5eb71d440f6b2ae99ea755fe3d2663284a7fb2f7a8f89582560d2c64ad92dd0dd85d8697c64549b7a956ee9956069b8133f7b63caad89a3695e5221a3bfa3704346ff9dc3f0951af7a9e0b514f755c65527488ebe6e544723755c763173c1dca34d55483eabfdc0bd7baea947890740f69cfcd2ae3bbee42c05e263407a37e5285728a8b818b9a6ba506613290de78d71c93354232ecb9ca5f021549b0b04ba843a7fe71be7b4125c0ea2d29eaa96458cffc2a43dbb3df66a6f9f1c4f59531a74a050093a18368984eb43e2bbe0f7bfc80b1d436e1d9242dca6f06ee8acd70f893b2f13ef31aac0d599f63c2eae03126deb760cd295fd32fb506d9c4f62c16c6295fc2fa6e252fb4347b92936ae83d9ff8c722e23d7e40bf93450988c7247cd60ead86f3642975f28a05f1fccfed729696d2a2f826e2170f8619dff0d490b68547df585878e72f5c4f3d58c10e1594c20137f9a52523ae2fbb498fd88d61246e255c1ec171c1d9faa5b3042ed4bb42682f764e8de31b7e9c058d743a541a7dd0174a17352cd57305016d87e8033bf99b47fdf6e66ce620b984a5dfeeb3fbb10151c44b66bbacdfcd7d1a9e360595ed27b1cfccffe596a07ac0c51cea81638f3f11f97ecb2da3ccc9a94e1218da4ef45db76b4393696f5531096115bb190b6175b46f7794dbe2f4c847de1698f96645fb96784611f3238fe8fa7ff322793fe2c41d6c1f86a42f443818177fe253cc46bfd466a1ec289c0238042ee91aa1d6d380a7e3cebb93e91bb71a60581ff68e42ab97d8b6e5788acbb48db240005fdd60d2b234e18aa2966e971a2db0532b188571e47cadbf200a0fa7d41f7a9dfebd66b01b547301a5f1ccde7daab33686c367b8de671d915b6a235100f8b5bf6cfd922912ddd8f76c92c18e5223c3a36eff56961b04bf1e8ffca0c3b953c892b71fae868f284ddbc9851c1e79a695d12ea902afaa2111381cbad7c876b59a6060db5b17f6fba7999d659cd8fc3e6db15a80e8e75a827f113da9acfe6b3fb9de64e2ce3ef76ef36921b10a154b04fa685af59dcca27800f5d2bdd659d29b1d74f5af8e402c833d4feb18066d16a7135e9ae4492d161eb6b8a51ac2f65dae2a1a2db370229b37c79ac60c16548cd39910b121d573fcb03bdc40eac238d9e1c6059bc199fb237efd25abdadc6eca72333b30d5ad3aa3ca819f2d81eb119deab9704de6e1a23997beb566fd2c50f4b08f6ad2b90b11316620a20b6b04fb8c7ae186df2a64859b7860bfdf8939011425a3b99de478db08838ac3076207ab866112dd1462189516a66d402b9beb2ffd3b2dd376e91938755d5d6faaa7b53a0811bb734b491e7a8e1814ac52ce88d1a3e7ced6729d1261f84ea2b9dbf50971c8b772a0b999d3d4f78839fe869d71741dcd9377e726b54a91fa85e9ea5364b73360ae28fe774ca4d5eaa3e851f81dfb855cd6476ceff7a7ac3c8b32840f4e63d68e861b87ad390eb0b6cff6dd84eeaf20de437c555139643e9179a279fa980bd041cc421b684504daeafb5af6cf4533aa0038191c32089e6e09ae151f8cb5951b6235fa93cc4943a57076ff12f6c64bc8fa91872e9c25734ed4bf3f853b3fa92c384a01a2a2ca4fa1b292f2aa87293f61dde08bc1ad1b509758196a69dda6b48839d2293207e0dd089e6bcb2a6288ebd612374df049773c5ec6890c5d94d90597c1b061ea393745cbce49aa5d83b357c305a54cb52e90efe0983bbc51076f458f19b55992d42477c53543786bf704fa6278e2446468474d4a6e33f717ca35a50da1f015f7b3063ca2755dc6600e42b568297fb8d2f6363d52721931eede37604c242a6c2fd195ce2efbddd40c7d959c52a08f6b977845b61e8354dc28a8dfad627dd9c559b976e20ff64197daa1fa5823ada3c69726804c52b7d785455c09307134ef03f03b04e248e38f538d67e24bb8a6cf4021552be34b6794f0ed03012931fca2e9580e5d9b46d112607c580b20c036291ad8140b7abd5e1a21584981b41a31f556be454c7844649cad443451106b922e86e09c11ea03b4f2dbdbe034a74f8f424f16bef08ce9aa0f3dd0f93217e66ecbfa8ea9aada715ecd7a33e0e7c5b55472397a1f947a45d9073524997e0e4603fd953e80eba67626e2bde1e23ffb15e096c0ba825efeba1c2ca0aa58f974e51591fb290d2d3ee92f59b4124fd1703f81c0fd781d7f92e5f012eeb81f06db2d0f8eb1c499a35f0a5fc5bff1f4b2b6c02475720e0823f086539a471b2c0b99347ddb4d1c602cc0b2029baaf360f539080633ef798cb2e1046436d58d593049861bfab31dc05d3cddec71861e48510be209b969dd22e8b51f68bc75380f76e2e509a2c1552ac55d63d56cff76b1b740c98a98e6b8a691984ea253db5acfa60f1d31aa17058505157bf6d5f492c426ffbace65c7c485897e27cad6e7c6e7383c0385bddad80cdf3a73e5b1e403ddebfd421a06551364d77c5120702c3baaf3cbb541608e05aec53331242fdd9a468df95863d5541b28bf24d4c4e1f75feb997aa3f87769002321b51a95a7d21fda9bdb54d486485137fcf8b9138457f1a9ab75f856bbedcbbeaeffeca20e4dd5a1876ab7552f7367a934a23f758a45c89299071432e1233ebf43ec9316f42a7ee288369b62b987df3aa3dff8ca417148dd1844ac05dd4d2f8879adad784afcc24f97e87ecc4a630d69f769721f6510f69a08bfc10a6e38f3e21b5b71c7dda9d83ca7546ea057c65d085787a7507a612d0e91ddee4d94a09408ee316366daa1e8bbacd857e79653b37769b3a6c8b0cc3c6a7346f0620ad070ab946a610ca8b18ce0d892d9ffa4b0940a33b99d8e588583190f7e1fcb6c6c501b94761069e3d922dc04a6d4888e2515b72851267316692d87d638f065921835e19f1c6d54dab81fe896721818b03b851cc9e0e2aca3defdf4128c33c53062d93bffed9cf9de3fd66a136fe234be1d90e4b1e06b35476bcf4938045bcba228a5ca1854f7b2d945c727e793925253fc6c5c13c57b8a128c60c7edbe1610dd838522bae2b29f4352c4c9d0146f5ff4114c29bd2e189ef44ad804d3dcd76c59709bbfba4568fae94dc3cea80111d0a0fe12ca4bf0bdcad45e07e906e7ee2d051733eb870efeca14eaf6acca3b6cc56d97bb24ed2903170a4e83234c437ea0a5bb18e8a2c985b29a0ab12d20b6eed68c435954c08cfe54686dd26843a45780454db93ac4c7dd957a154d4907719ac60be5835cb74718904afdf66ad3a723c557eadbe74ab5e936ed441873f583439e9ad48e448535434e76b61de67186de8f9dd49d6f1a370fbff240bfbe787597ad98ea17091085122727ae991088bc11812b309215422427249dba1852bbe0fc5b77ba2c31e911ae280d8ebe36f29a4098a9861e7032a06ff6a366354e6527354db52d24ae2afcdba6f125a170d5835cdab373c3c2d0bf0458de2015ce92955e693421c528d61f036c612e3bb52c85e4af8d3c9002227b680dbcd3ab4e9180a69afdd4ebbeee8b548a0884b01babee5f8de7b86cf53666f29536d39f9f3d2124d3548cc69ddb14fe978aeaca77fcb391c258c6539b2e16df42298d426f0afe6c7af8a865ad90da896f10b2457a27d3321d60c21d5e6697ef4715c650a2824e38ed6b1e942f90c98278418636b7651a9898a679e99a25705da958ede026a898def21700cf3923ca2ba205ec4be25c7c4082ce7c073cc533728e00d91c04770691510a5843d8f2df97721024bb0359a3383803a38879be8bf5cb813c6ef82ac546256b1a120f1ea79e3e7de5e117601f497d6dd29ccc36316c3ef27a6aea758c461857a8fddf16c35d0575c58cbdaf067d49fa1415ec074aeb38e4796cc20cc907a050789791bc05ad17f4f5dcc89d47c132cbdc4e4fa94b29586207fdf3d54f067e7339d9073a0e4f0b9283265dd18713fbf5593a9f398be7bb2463a5acfa25fea3ee7c8847c1aa23421f86de9c059f16d9336cc83bc4e75d08ec48c67a55864707c0a6a15aba6df23345b530e727f3f6461ff8edfd566e3ca4688059e946995ba396ab8f392d5aa0bcf335f765277471b4c7637319beefe05ce8fb65fb0f7d9283af62bb82128b9cb85235bb9f570878661d18aac075a40bb1c3f084a51a8fcd4d26f04048e4f714c6e343d553309c1e2cd3df3255d7461ba891b83a18168a39b0ea1887a694549629e976a100777c97991e7fab96fdaa11a8557314efba0e7ecb1265972d020a38bb8afe9a9226788bab05cd1e8fda575e42210e15b61e755f14f607983e80520a458e55d464ed20014873dd5ed901021888ca57dd574dcf690f4cb6fd0397f4e2b1319b3b1c73723992f320e42cde453460752c7455b2c2db251bdff3aae02788f3a810f5be4ca5a92ddfb9d8190cfcd56102455fbd1007b2e254dd256e422d8d18894bfd449db0cd7678fe95e74d7a5de41510e4501e773e7e9f29e152fdc8afa3c26661cc2933d6205e74efec68726578e2d08ed6f27273e5302c6d1b0b84291466d9b230ef86805d6a91450229764f61c9e4d74cb2b8bc55b560d473b475b582cdfd9a89b67a34acac2ed4fee91e093c1814e0bc302c3540c054ec99477c619e14ec4b5a41e583fd4d00a8e55895b8385c4f106ed346c93c1301f47a825c86bdb92614ec7da2d3faf2f1ba28f3cad09927b2db5ef613b15c55dcaf41be69799db9087e0b94871b678c729559cf71f01c37fe848de66f4831b2e094fde45318c28b430d90003ccc5459c9b01d7d41ebdfdabc9cb0520a0aa30488f7916d23a89b8f3b260774747d929eb01f89673495064932878bd974d2a091ae217c30f608916b6619ddf30178470872033ea9c4a450f7547dccbdd2a47d4d4b2b1ecbc84efaf8b785bfffb42650c83c24b1a5e8dd35cc4fc96cfb0d34a6374fd5fa924a46618d1ae5fb397791b9ed0670a83bfbbeb7010e8bf965f31bb97f005288de34f5e8a197095770a83a2ddf083168548f9e3474b39bd5d9148933c3e2cfd7a1f7758b6f1fe47a079c540597cec5392c97853cd46f7797b901d2d23250315d174cbc6dc2fc227fcb684f6d2f0da8abf73c2c8845730f370b264e235c61f1666f25f12e9d5b4dcf6889dc8069cd61c54b78545866dd0aa5bd16e7228b3b99cde7b1ff47d4cfb3e90fd6b4ff3526fce9f9277d6cdad7600fc3f3302982d816d8a7322de87e8f60525ea3b0c0705b1bfaec6d81dfb3655f5ada629e76bd7d0fb5d504864bd2302667025e3fda8ec097cb33171967b571f2dd1a9a65fa6e70904344743e87752330b98379e5636a16bdf9529dbcfa464bce19b5398e226eca46ffedfaf2b212703eeeaaa5d5e4e66e4c1ac530538c350c6afc4939067e7181efb9872c80ba33a466cbf1f9ed64f9d9f9993416295c62e2b6f77ef23214401d166bc5e2624c509d2e2694226fe5636844697e9d933adfc1fc194259fca356757e017cddb3815079172c1827fbdd3f885992fac83d153f93b63fe96c81b747a9212f0cf8a23b9df337ab45f0cc2311045c0af2ea8492490bfc2cfcd4604d2bd7951fdabffa9b5d9fc9521dffcd3945bc3304f4d5ac861315b9f19a79fddf98d9908662d2e7fd9fed1e9e6cffd2d2c302f66287662dad0a2ff77e843384a33e0d696dea8855194b2ca3fdc582e9ce4614ad836cd3183f09251127bd0caedacfeef723aa484e6859482fd97126ff429c12862bfbbdbdad4011f7671e0f17561b7f141e94dbd5e4753bf10a91f2908d2727b9462964942187fe6bb9583b8ca6bff953fcc8a011db556507f10c2fa4f66f6607251e5d004228a04564beae293225f2a5a31784b61de7252df46aa89848e0079597539c6744674f2677c4325c8b4fa5aafb65a8a48447ac4e4bc6552b0bf05b87e572eac9ed4cd932144012ccaa4aea9c094d0baedaf61b8effe66de3ae6869e518daa91b2928517787bd5659c355ea7622c8d9561abb5817ae56f1a57ed9156a6f42efd82a12b60b2732eee44b12dc4d222edbad2afd62afa2168275628ae773be4a2ab7bcb97561efbe9d9f384517375cfdc48970c9934c81067c689a9dcedcbeef4e30c2e470824bf492a445ac95352db2e74a38677c3771503bef16eaa5591b21a5021a3cbe260198bcbfeda4a3eb164343dc0c291c7f1cb6fb83c1304eaa0d59a07642ef5fdaf3a65542fb683e4989a6035d3d6c9d67cef9da6e88230702f15f6419ae375e8c10b9bb3943d17f6dce146139dbab185faf9c4a8f34567c7cbef0394d5de194757235f4d157e433c97c95353f6c1adfa3d085a87bb327248f7375c7000fbee47ed668806d7f6021a85b906b47a72d6d2dcd918bbfe8e3fa1dd862fe9985631b7812c28f610150fcf3a13c3355b786a4b57d7da7b9f2ad05d308236d6d868c76f9aeb1203d31692842a3f37d6771cb300c45ef5ad6b0a36ef4171202d9e01d78aeaba435d5d5375c472cc9e0d877062cf5fcfa83a3fecda65f3309b90a1431561bee112d93fd9d3b8099f7653a56ddbf849aed0bbc8dc0a2a725bb3c683b8bab4df7cde10c17f0edbeabd453d3e2219fb1fc457345e5944582e489829216a6c6cc5cbb41e5fa4b5e6cfe7a3f11f92ef72124571ac3bc9d31a1a49423e81de83d04ce8d6ff3eb61f736eafcc655a50e739d7949ce4922040c9f08eeab59271407186ed98fddd74750a6ddc26315a4dafcbbdd6f7e8e34c06a83845afffb35e1ebbd2b5a932f8c79ccb6aebdbc5cb68146fc68acd4db8be4fcb5a99fc98271abf61d151b91e5ffdfa1eb40c2f43227263ff53abc1280f60e9c921316c7939f6b91a1650955fed8a2fe1e1801cb77a2a190d15cd3fa04b8d5c866403aa59344ce203688c24b9fe3d15d539788d70fa7728ee30c7771b629a540876dde8bbe9cf18805aac0985d2f8e5e14553680f1d8515b5be387705b3b8322efe84ca748727aa075c542199e6b969733c43032ea9dd9112e4608ff9094cd696bb9bd7cf5a4073d2a424636939491bb60d33a827fa5051e0f5c2c5ae73a97582fdca5307f9a622b444967016c56dfa5d2128f08d4f11d440a280103391eddb92e7c6c2d45d5e83aa85d120c019f4e9afc8c6ee8a3076fb82ee4f35104419ff652957659b8b0a9fa7acb5cc62619f77ac849442a2d142a6932bf51b28c0812248ad36a27cd93594fad5f678a351643db27db652d8216772bc8eac3df936127d71ee0ef3b90fc43299d3939a715080965bac71cbd45348060dddc6faed9e0a60fc00162c93a73ecf410c47335df4886df6d903246479b5b6b50d29efefa2c6199baed76944a4f1f1c2fdf9cd3fbe5a1c98980b361a3400bd6405848aedf93cca7474ff35a89683145782fe5dcaca0004a95616d786f5788bef7030954d47076516a34f75478754bfde10b44b10101db376eb8b86d06d7ce228885b6fc5bf56c5490696b3942bbaad25ee995a665bbdafd70021d9ccef6c7a7aec938b8988b2949b3e044359bdcbff4155d90fec2a851ab19a953c45d3b25d6a1a9c2ddd5a426f8be2c084bd14359bd80ccfc29667a3c351d5c5202c7c5d10c18c731883570a99c974150f9800cfff1253fd36a94bbe0f1af06ee10b1e2de3c9dd3dd797d5499084455ca9a8c8656bfc3b9ea7fa11186f60cff98fe3c43e338b0e6f21a029437d095844af9ca13b3d352369bcd0e37e0dfd364d580f61c871e2ae78fda738e0fff36b0783598da09311a92655db4111bf44f1165ebe933c2aa8805e7fb71ec3e0c2e97d2d892532332d2e8bbca5eb04df8652440d83544daf498e5e955e18b04cf05dbba54088c4421e97079a709d4a1c9282a0f82133111b13be428343f69a9d3ac83ae63f71c76fd08b607a3c56230b6d04c923273ddcfc8df812f735c0374e558604d9ee814a822cdb5f1f8818ae401606cfbd94aceb667c7c493fd249c3432ed3c62dd5cd79ec3af9d54b4a0eec95426bca7456edb43e7f1620747765d19070dfa094a39b7f3463299089d026aee11096f2f32a1860249c90f1f90d38ada5d83399c9bc1c1d37f358c603f71913ec10f9a37912dc8a97f07defddc2547fc05bee3e91a2db00445417a26c086d393f2c2f501e76260edb76f12e61cb07dd627c1cbcddfe11e8792979627b3a5735bf19d2d7e1490caad642e18445abd2587091f08fb53da842973bbaafa4572332f475b779048eba628ced66c1aeeb6f034638384df71468434c581b613041939c9a1c9c6794d9bbbed418496c61046e9783f0ba1e8f6dfa0b5c177ebf84e89d1cae09e7a8ce490d58779960e79bb30f89e5249be174fd5edff94284a0ed62e95697b5a733d7bd7c292fc9dae27751006814cc5ef5b3590279dd23d3bd2d136b4636dca49d10a6b5e291620f687e25bbfa1f5c4edbe4c0cc77a21e8b33bd4f0b05b06e26a1e9e19a169ee2bb7c234ca17278477d80c463e96c81e346833057daa177b5ef246c0a0ddf1ae5a41d1b6b66587aa1237818521bd693524d1ff3f00dda60437f8259707117b95e4b4c09cbf1c7aac197564b1598f1e87052fde9412ddd01aafcbb9856e4d496c073182d45d8510f3b0f9b1e6fd148f01241dd7f1f4aed8749673915fb487fc216154a1d1e2505d6409d80b7f9b78b9b1d103c6c033af35b9bfa4338d2fea33df02df3ee6b0d5fd2438ad91781330b2c834aacadce771a8a7b106fb324c6767a90cd6ae726b71e6af5bea78a0d28a6b22c61b287f756f1e3b2bc436be31dab4f1a7c1e4ec3d431fa140ec17fffbc4f6c24dd954e1931a2aa52c41bc796885f6e5d3b7f4c43704ba86c287b698d7a515fbb6de13cf5fa66cf6d4ac1c13d0de9e35536a8017d6cb3fb22a34bd1ddb3c363f41dec87d03c33339343ff4bb79bd82d6453a31f178d187d8237f3839ff8597873a0b82f5ae639e0ce718f4c96cd74cdea661789dcd999eefb340b9124ef2a5c275314695884d34b169b9e8644f9aa539e17e28786462b1fccb19caa1bb7e0bcefe8c940488b6c69c1c302cf0d164b2593f3aef84d158974de381eb370f5f62856e91dac783c72d7c430c92890cc32524efac5ffd826be16000f99df228627158bb99e313379dc54490b228e59030c60f14e853b50856c0b2ddfbd6126077c81ac813482f1e0e57b0d0ee88e69412b562bbe8bfbef1d7647c386d84817a895dc1c67e6e8e2998a774ca47d7a5a1037dd7a832e2567026583ade699b710999568a1940631d2acdb22311cdad1565105fbecd7cd4458b4206dcde2b2eff30004774e9b2aefeb0c33ae904718d08692c8cb66ac3fbae48af7cc4803b78274d44e8baf014331c6b517be5c5e5f0e8f7bf78b546a9e773e2c86a54bc556e02d7e09db9eea5d8acc83592c3ecdf95e63343c1242100be9ab6bc2e1e2a7399b8ec3ea612fa74e9c4cbe2b6bb8aea82b372ece2d6c6283bb6d381d980f40e94c6f722e9c46594813bea9ad8faa2a41e2262d75aa28b64e2d6eb895fde9e4f26221c825267f320aa44b3417d3ba939ef79dfd0eb93bca56397fe88c4a58275aea8f8e0a13640c20bf722c9dcccdfb5f17f125036df954836ab7ef70025f9e5ea3f32aa4f66d716e08c38e1436b6949385d66bcf3855225a1b42dc58894bb05ca849fc41a1e3fdecd9c9f009457b14cecb8a3536e328167ff0ea01c252a832941c97bc06bb8e3be56e75f83b54c263876939303341ab8157c3c5d57b77b8fed15dd625537b6bf72234cfe21c2d957246950e74db7e13da7a016fca0f2de57245b2aaeb28438e70658b382d91ffc0ab829b1f4d9294b398edf06b2c36c3a5838e143714c1f7492a755e1dfcb303f5db29c6feeadfed83c4fdfa92743b3398631022409ff0df0ea3609647d1db857d8e4bcc2a08e742ee6c9360e6d4772f712b674017ce2302492db82622a3b653fb19234dd4be9c75a98c63af3097e567eeec85561de3fa417b4caab367917f33ab1961ba805183ab2338624949adb2e0f0ff912325fabc04706015a50faf8823b3aa2330743b0e3ec22200d875b2f6997ab2d10ff7e366a3fe007ec5cd0aa845cab498799ee3737c6c41ff8cb5d527fcdd9ced90fdeea7977435233b8c96f8811e4167711de5573584abbc60a3b1cbba3bd036a3789de8f51a2dc8e9b4f50f50ad064c5f581f44fb41d0f2d5afd856268a293084191e6cbb07232cae2f3840ac0528ce9c09ecb4c6b6a2e8471166dd22d77e65e6a7fa959328a7e1655c7a2dfd97143958598e6359daecd3715f37a6e293e1e9fa992d06075ae6c42cec84cfabaace9c2f126fee83dd54c8a16191dd89e57216df9167da2af589dadee14402b2ece2c6f08b9f68e8f2a452b9136676e18548552361497eb67b5ecf66a3e8b602530ace6beab36cbbe366f1a03e7f93ebad020b9a231a0d64298dbf53910bf3b9314d66519844b8edf45e948889bdaadfea81009be1f2ba2ba137045773d94202e4fb201f9a5793987f760379d11338d5aacc36ca1cfc8e7c3914590152ad0a3383ba7deef18ec9020df4528c695dfef5036816430d700bab9ed29432dedf8836e71a745c0646912aa6bfdd492fa7ef89f708f1bb72c757554f9a9ca2ef4651e4f4d8c079e482af490d182ce288cd3da5310f28baf8af5db3bf3eca243837b1ddc74192ff67277e6e91fc355552097ae1d08787835c9e3ba34d8fdae907217cf7b7e52b7a5f22cd9e47fd2fcadcd8604459eb0ccd578355a99bb1048f70f107d86d476028ecdc9934c242b8c241cf4e761c8f20bde6b413f614fba0d997d53c9d88d9a387614048827ad7bea3d3cab8d10c83de6df6b82bf6b8d5621a4769ac48cd07c612871aac1a9a6b96147f4dd1fb778029d742c1944a5fcd48da664fd70010f460e0afe992b85a5e7545af4fe30ffb8e9ee2ba78ba965a9d5f95cd2f5c4add1fb4b558a15f08c9c12cc9fb3bde9a66edc92e14882dbfbe11d97d04466d749d8f992d94307ffdafb9013ba012c8a454fdd0526d1537aa2c9ae352ae4b47f26531a5fecf6fd6683e70b4d1ed442597d47a175f8ba16fe0dc7f1806698741fa106f77fb2b1334a035a49d1b870aee2ad047b6791d93a0141d4a2e78deeef381a09a9e4370d6b98ce7aaab9bcc458f9307d12d7c81a73ee63275e034c5052c9e78a87c1593813b52b1f41b9c8d24258766a3ecdd85fbf2ff2f0c1d82e9ee1a6660015f57c597ead56b49c8eafe7240a81cffb8efbba39dbd41740615ebf608ca83bf6dc4eddf0310f164aed90a7b1cd2c8910e4423c9e7c097ef9e205a2606e795f8108def81ed6b6042045488667e05feb2bbbc0defd89c20c813b40039508ebb187a33d329e355ffaf133808756afdc0e1eede069711a69cb13c26f93b7b15ffc6a7786c3cc0814196a13dd678972824057d9bb1d867d7e75e36d16587d4fed38e68d0057f44313e4f7cba50570b42335539bdf13e42c61e788dbc95ccc4ae09ff14eda2954686354dba12da3e8b6e294c1489eba1687f48c7bc3d05b18a22fcd9b2bd73ad2ff04ab699b10f1136b6687a55b718924bd26f666e2828d8b45318b76420664fcebcf2eb6a5d5e6374ec7ed7ebe32f2ca279da629c540009e8be7b7127e9d5e5252b51a9df26740f26e2757cd61718f2df2b9a286202d7c970e824a0a0b7a35a38a22d9910d5da3cb04d80202306ad0909c2dff3de219fc128bab7cbb587ad992a870c94d1d3fb72b19312e81f6dc87a51f5986063eef2126c7de90a5d7359ef7eddc4f6e0740695423400ca4ada955ddc29ba008ae3a83bd49ee783f97c07a1230a7a3a4a540bc92a2eee47f3b326553514b7ba0c7c9d453dfcbc80484246349eab767cd05964f2b402aa45974760eb300663f8f6487a506f0d3add4cbddc47fb7bf6ff9bd2e657bd5271d9cd187edcbebe67d86ae43cfd159cd6a47eaef7798729003ea66854dc5110e78a65949cb2d17171f5af961485d4ce3216c0f496c07f2ce450d7b9602ec1d87b78ae12af9e4d3980a98477d105d7e68a2108819b4f3b44a9c065cae71bfa4bd01a0406b87ae7e514d5bbbc66cf8b0aef7165583d423c2d518028fa1d3d8c87ac621441ae254d7cc1fd318c34d6b09fab8045a325698b104c9a19a652449eaffa6e16540f4bfa16da72f7763e4bc6f41e2900836708b356f88d9f4717f0ec3e93202ce004f440dab6286acb1b6a027664edd5ef84ff034be9e4d648fd27c19a0e9296d2c3dfceeb4952bf1c7b7c166a4c49fae7e885e0b2402a20f8bbe7c90c76816d4d7b2c3973ee050e10d6b951e6cb245525b4e9ac89bcb463cda6026fabecfd820aa57afe74e218f645e6fb5d34a95f88ac27e183be5e15e84a00a81bf7de88f126aa869a75e6d441f9c92fe180fcdc671bf26800dba1b8a5ee8c0eb1e7a14a943804d9981256ddf3a18df5f0863dd0c140d2757e59e1ba3005445e2aeb409135b485dbc9bd4df9e75d3f7789a25829dabc48eee009c8be0ad99966fee8a781e7f9fed173eb2e1875733676549bbed0589ab65b306694d8888886a1febaa7d4f402987ac6c994c8a4f91ee97a9461a208792ccff03933dfb2cd3c9d6d851ff9460fb6417715633bc4277a587aabf13bb5fd9e2c5125114a1771f66669d0f5c194b08e4d8769755cf4cb9879635594e80af24c4197db5422c33df062c088d9b36a7638586e9c461e412519e784995c888607d5899c9ca3c2d9c2c0fbd0ed680d2ae899b14e6127c6a5f5ddf602276949ca7f6c4c7e54662bd21b033580f17cb83de40b3c605c3e90585cf0a92ba639096b87a068c39b9c195de6368512ffa6552e0e7d1e3473726f0cce4ced0ee0ae48866d278a767160fd83bbf18b8694110c187333b679220c995939afc7c8fe6b8ddc9be9ebb23d0cf17de8b373513c0f47d89df32e78b14d59d5eda7fae9985ac327d5961f7d68ebf87fb2766af45fe73b0d03bec8245a253a3fccb35f02aa5197ec74551a66986a001f277925ca3e235d7a7608a12a14bae1b67d797ffd27898f0d8d96c999247cdcbd91de9e677bd4a14582fd79647e3e64e48cdc9e38b51a6f0e45ed9b9abdde0a9852385c5be8342eca3b355499b86074d3e081cc668683c8c272f0d4d0c2da385edf2c2e49a126826981dd17070c5d317428f4bdab8489886f52b7fc42710ba39b0a9a286c3599311e47a19edafd4d4b5e3b38ad860f8e73797369c24f683ee4f0165b8cb185295eaa5598ba802ab5152513ac04b4b476e4abc14795ef3ad905ba2e5e0a170713db8ccb3ae2b812ba243d4bda453802a5ec942932d59183f6a768e1279651b518e1d88cde7a2314471501a2958033c956354369aaaf65a67c937ce948db824e51610b98701e809cf2adda4904a8f0aa7fa88dc5699e2a8bb17e335846fb79df0bbcd74ae3d65544bae28c252856f7d0d935ca79024bbd7e57e456cda200f00a50c3d4b1e3cef2291dfad20214346e9c6722fa0a376a84002d16423eb7a054eeb9d76db3d65df2438305f5022e1f56f65d5267249e8b344a8d158f8f51fe4bac2f13cadb10a4e7a00f2baa6211bedf62a04c957d760799cb03ba356d93a0b8a07311b6c2a88b5797a18870294da2f6f427aa637d3a79e01a78be34cfb432a94a5231df5f98de5b2e4fdcfd9810b39c8d535548b4b038bca0a5f3f574aa44cbe544f773c4ff7052d103abcf100cc888947f86f3943f59c3800e3b1dc64377f40f62ee467cbfea634cd6a527a94ca400586825141112a845726c812b18e7ed4c79c9c0e21a8bb19a68a492d40b97cec2995eb118297b532aa563bee20a6271683beedbead9307eeef84cd1b60cc4426ef6931a691475bc53cf4fbbe3ea83374503129cb0e21a42e13c2db7423073a5037706303da9cd33650689999e2fbc9a0d813e43c08291c551f2621c423d1887246026139c6d3ffb98159c47a6d1f9fc27280ad0a54adfc6b489cb5c4040a78d039d1c0d764e7326f1a13ee42c034c4c10c15e2fbe8a26c43f86331c62749ba86fa28a3e620567d2f780fe431609b2a54f23baf703f0a4817a1596a0b63c0472819f8a8c4eedadf59241416f9df3e9fd7b19b84ceec833ba39a3d051a39a6d5e9e8d132e6ccc48ad3479407d47ee71bbf03a4ebb7cf4126e3c19a2db2e49299e64e688a0e899d3f474d0904d5ab5b2517807a1d71985fdabe21c7972c0a8a061dc4b01ebd3bf6918494876a19a91a94fcd6e05c73a312ede86d72576b1501bf8925471444d932b23b850b3cf45f4f3cc1a8455d7821449190ac012194f9dacb88f078743301481629d2d1a950937596797eb5f6c6f77baf6509b476be137d8f4757165a0ebcdadb91166a7bca0905416ad9398d28beef5782c9ffd94335faf22a8ee0769a59f29dcf4f7edd35ab11eda26b4155ecaf08910e96d7cb6581a5db37deb5c3abdc2489ee62a3a5239df79c8055380cfa36102333dc518fcd22ea8f2b9dff67f989ebc77626841a03d7a41ff9914d2df1e9b96145b31e9df7f48dac3e03396f3647a1e92190e9f3cc924ca071041e97a25723c23684d2855ac2455aea184b90dd724ecc6cd4d30155e2f839469bc05bfe2af7e5e7a34b822de71b9fe4ea5a85068263494c365fd9d4b7baa3819b6bc21abc86be772002c06843177ba37e40da062d695f290e6d351bd5eddf6f7727358599958f96e222f31763ba68aaf2804e8da9dd3259a9187dd0a4ed32b421cf06d09aa76e21e93ffc1e4306f215300bbfa261b396131afd853ca6fb522b9f683140b82c0c08bbfdde445f6dc2641637453571de85584126a03edf1f37db642e4e529a6b1aad7a46d2e0810f3776ecf04f77d6c5f28be0fdb1695d90d5e6a24a86f311e3e65fec885089bcb90e19356474ba917122bffc98cedfbf82680cf9154bd512e9a7d10be9ad3acc49c8f16310150fbb91b94472cd00014de2f3ec145576b67acfac9e261a69eac2530c34b7fb012595f796324f9a8866432c69266c5eb0a265bb218ec7d014ca78fe1ce47f5bee1684bc7124288e19878a8ae7a0ed7ae8d3cdcd42c132e62ac7d0b1c7ca61782a9bce10c25321a858d7a964f56b014c5956a3663ca71376440","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
