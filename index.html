<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"56b1a54f01a5356cb7ad973adad8b7aec638b6871aaf02de2adf367933f290acfca898a74fac5b24c64533df74475852bc11e91c41958395202dd9d8b22a56ca0e39f40ab56e175474ff3d5185dd7f757f2a669313c486b15f44c037982cbc520796387d17224feb078da9412940a272577a23e2fffe12c74579c7b84e0ba551297a904bc0808a0b23e3a03ea29aecc54a7eaba0ab4903c4728225ea6ccfc3caea7de2495669405a4509cbec908e2c492894a4c7ce28c6a9254f9567ea21fcad9a023596d1e89ae86b6d0693fa7c66c1a8d7bf7407e4ec0ac768170ad072864dc6a60b35f231a5233523182e3cb92ee1f738a62c6cfed22cbe1f90d77045e248ee23da416477560bafa1e8b8bdc9e85d6ee71cd3beaba70d4da1e964826f347b3d436ce8f08421e1eb4860faebc50e846826617b0601b7c9044cf0d38b0edc6cbe799c750e42ef0a7bb938730f51cb31c34a17a36d2344cf3879b14054f6b0177e6e5acdf68239f10009ffbd0a84d39a4c8ad7ab6691add688c4046010365b1a0f6d3e9e0af9ec87638c4a97ba0712054c4dde2c46846dff11fb52e96888ed5d1484b98c21691f5ff8167fa1c43fc4f6675e26427fb2476c14e9939a06cc493175571702943391f26369272a907ec6b0259c8e959a757c28d5a4a4b9ce00ddbc0e583a2b58388684453c1e725364ce8d9d4aafb172374cc6fb8df48c4ad909355256b5ef8063c52d44fd68597ece42d45b6f46f3dc33d084d0b5801f1f3ecb9ff471f774e720edc0021f4a42b2d3ca8d7cb5ee184cfc98d5033620ef5c7b4abe0f40c0c7d8ac90eac8ae3b634b0ffc8078078a402074b16b29bbe35f0e4a0d569c9ef16225057b2118a04ec325fb642c8a3c2022af4b5e868d33e9eee523c114cee23e28869d9dce0aec194ccfbc59863fcc7b902ad50cdcd2e0fc2448877a724b339e0645e491d667265bd556b802f95618c5c556ed03ae2728ada738aaf53724dc994ab5700e489c2a8436e55851b82f8ed0077f8ea52401f7c56f662c5df97c2b06d65fcf43050a4b447da6364fd394db1e7f9b1c0955d1afe0805fcd7b7b687cfa137798ebe9fd3c709123a00080a15520eceff0262b9d5005995d372e001963758c60c0b2f2d1ae4127687f2dd860fdfc6c93849d3607f1ed5119b0eaab93f73742f7c830d9d7795d160f5b322b0d977db817ce062b5705a251febdf26c6c4117266a4da0999f73803ce7076501dd5249caf20e8a99cff90169f762f1d8c4ca5e1f0e7cf64679f1b0f8a4f2121caef562402c089b3bda00a826989c5e789b20c23ac6e35b8756c7c4d88de48ef612ed0336cac211b8f96d359475cf09f53540f3de02b58cc72d6f83cc510c504abd32e3b44f3fe7610f9dcac97fc17e4d9060a242966cfe62d73fc373bc656ca39352e144252c710476e49046bbf57b058d7b0539a7ff56b3f0959862d17125ccc9f855dc38c26dc2b4da4e59e05c295ec4b704a825565a6104ea7e233ffea6efe3d7eaecb0f24b39e521f8e0b48c360877da780ced916c781e30869312530a930b4066c69907bdccdd8887ca13549a54a265a0d58be803b6abbe0f38a11ca72d5ed699f8e08d53844c862084565eda0257683b49d16f223ff2414c18c2559cc00b40b5bac4562e7a5f735332ee991798fa834f8c0a4198d166f3158efefd2b280492c8ae38cf5cc9f5221b03eaa6bc99e2735aab9b5228165b85dbe23e7196e674ad2b620421b4781e47c152892047c4871b02efc5b54bce33ec0afbe36f2dd2981e0a5aa5fc461a10422ecc4a0819427369eb60921688beaf1dd8b507284708c923d4550595e4ee96dd3647ef7aac0897d2ecc8c79619e9fffb172fdf199a3451d44bfabafb7c05fbe1baa14de2bab04f6675659ce01d626b3982fe85168b0880190363a9af0a6bbcc0b1ad204e9f075c80e9bb8898ec58a147dd63d15ba4ffcad7de3de5fc2882df14a2ce15e62f57e7d978116db994d2f74e3e9cfd335a777c150c6ae141086db0586025093135fe0cc82059123bfeae25750657d8c4bf43a85081f066652bfa5bad08a0c740588dd81ae3d69896fa043fbf4eaecae8c8399b4911af359ab4cddf464507f857603238738bd126e263099df24a9d3340f27940ba0297224f773b50e0a9aca35660d493752c038e5a17fd87204a94d33d8d32e95ecf9bb91b924d19e3538bb12ffc10679e5b34e8f4cf1b0a8668d24dd9832344111a31a7c553b1a3af9a5e5e0c7b128f428c863569a6e6c17cadc5c7739ee29373013ea6137f7a99768068d013171ceea0fed477650d35494336d2f392d38ccef75b1a1d7d8160fbd285709b63d476071d2e2a679a031a3efa58831c7c33322ce4ee46ace29c8c3acdf95c6808fe9ef5851d875e9fb2ef3ab60f5f9242f110b65bba9901ee48d5d8ad397467f5461b11f15b6c7d4d06dd45bf89e671096c0b0ee230c7509ce1749203f9e8a1556da0503150e977044679dae08d3bb6387666106d0f06c0f6ceaf1a8986dbf728f694d178e32caa7af3083d0abc3d740c08c2baff96248502b15a6d0feb030b374c2adc5ca8accf416ec207a73469c42544449f137d7ab6d8dc7bff6578102b5f1913afe44b2667880af104e8ff740252e798a605c90c34d6d2ef003a94294dbe5d0fbc047b5c5e754394967fac7d826c8677529f30ff6a7a00a689c49b007aab040bbd910a9d826b8dbc29f02df41e6c5fc58cbf5bccaccf8947f4f9c620768ff0298f9a47efd242f5f637f30487a55d2e98661fe52b8bb97d7732527b006bc08d66fe313654c66317b5f9756f0aa3b8ed7e095abe6b7c8d07fc6b495a47c2a5231b623525978887cc981e6be2768a4daf3ddc347faba362f5b698ddb4d535598b4dded9875686f9a9cdde554d65c7a477d2fb3d06f9e2dd146222f7b3c4188fba98eb8cacf230ab05523305cc3d0abeee310c3d6e2f276ec228bdb815356b27fd0fc39afd3ef1d0b2d3bdb950841e10ff5f80253287666807bbd9d12e3de25b7513bb5aee77a74f88fa030d182dd6d26049f120c7a2268121f5acca9ab7290af8151d8f37e944e1b0e3c2ad52f2ed505a249c245f4d984a56e860cf936b33c9b022ad752eaf4848ba665b3a53714a2edc2ba7a4fd9bbbf6b1ec3e4c645f7fd0d27a7bdd69f7079c345c8a72888d9c3475845d12fe8f964ca15c50945246dfd94b5b1f27e5482cc12381a1d9f9d4e79a2dee8525daa884fa982be9f646273cd11a0972b9a6c7751e769a0e56670efeaf1947496a8991adaf09946433b92b07ce1748b2282b44596cffd65a765ddd38b8c5ce6be9d636800a7dddd17730c588404a81e52047fc4bb040884b9bbd01676560dd6e9585689a12ad00c718a246a548a12577e104213f8754d9ef784b3aa4d648173480b363368bd7c560f2bd7ae0a68fafa0cd5de4832eb298920351b8a10633596981a1e4dc78ecb772790789c1a05b6760dcab419a0a9ea9b9bbf586030c9e92a804210b7aa632a3d05039c2a01e29b23558a3ca5c4853c3820624315237c257e8f48f39929bcba4fb408a04ddb18bb438b991197d4cc0ae4d9da4637b4f58eb45acfae5dcb6a6d159af0276aa26befd1c7572efc977fb70d44e0554e7fb48f5ccda39e6e9e6aaf7648f713a76bf7f6b27ac446dc66f4caefe636cf053a8baacfc515410e39905dc0e2907360d69b573303556234a99701be1c6a6c687b87d66fe2203a2cc3f01ef6903de86020ee0c3fd61c905938b6339f5eb5eb81c48b41e546952674f69023788d9f062e1bc5e4437f24268d5f49381b20af5bfaa6f7a3196a8bed352a2e2b55ad84b6b736551deef7d6b2e5e4d021371e030e9d4618e01ec39b727457421d987143a0f8cfe3f3c18e3afe3a5c9cc789d4e4e52bb85d57e1965488210f0cbb40730f9bacdb6f07b9935ce0bd36a74abf90cc748609bc887f67bf71262ae45a8c31d3b99f87727cf365d91343220551e98252042083ad908171d783e1ba70655465e8ce922524629c10b979bfd0bcc86cc14ae7ced04f4323d49d54b39d288b142f15476714b191a54d1276ee95736e5549767fd223453bdcb210bcfeb04a0433f6e3a7a69331024303f3af17116b8f826541152aaf908f4647d6d2d2def68d7e942d967e6741676078c062772e7a10756276a4f9790e1e29b6d7eb5b8bade3d813a2a7bd313328ca52462aa858789e2598c6d6648b969c616027d5d64dfe2eaa4c15463bfa98843d09180b4044bad17a2b6627a91b809bddfdcbe1a2c73cef2f7bb8ed236a3da21f60c187ee67a954a95363da990172e87cbe7b006b512eb7b31b46034d4e4d2da31f60e2f423c2c6c46008f9b8da4918eeb6e9098ea1b38a3988a614b3908fea4855abac4dcedf5cbc4a7ca319178fffbd5dbb42de366a65fc37ba867d1218eeebc02f28021477b923ae5f2335180bd6bc6bce9bd2b39d6d32c0d65169c24407e79b37ef0285d86455f9400fbb957143c07a341c6c07257e7ed0f1c25f035a81e55ebb5b6b33a3e71abc6614ee668481c6db90609f43681099b03e52693b5ed8e3aaf8adbbb9d3a013bca2629c18cd12b94d4224a634ef07c279411d6ee47d762f9930556803ae65f7cce5093f8c70f70fa7e3fc03976d6e4879e790998481142a473374ce2cd1fd49f103753487f726dadc1116fa595863989efa7d386bce27d7ae038f312eeaa25b716b0f5561a5216c10f5e9fa9f9b3f1dde763bada14b5a4c19a553179132b3bf66e4bc9bcafe233a2bd7e008f6f8c2e8f28d980a2357c41981f8746d3372e5210b7b418840e5edf1de2b29d4cbce1973d9d6b714673d3b508cfddbbdf2c3c4157b3bcce6529e46b72593321b7251dc5d5a7d9621ca4ed6002b3ad63bb0feca6b879eb3948df26a3e86eccad46d174992b8987bf650ecbd1073dcca57a5ec739b07c4c70ff0ca0cada887165a7b6898de64c237a6390816b282108b7d66b0fa7b9b99a52ba95b0118c004074cd638b37be44c11614eeec4564dc3c37543e6e02745232da12778622e759bb6c780159b6a6df9f7166fa9a6ca0256c2f28d485e9abbd0f22690dbb17a2f16bfc6657281078c6ec47c18412cdf3373d2efbb3cce7dbd3ded0d3feb6f2a93ddfa7fb2907ab299a21e19cbf33f58a147b3b0ef8f05f1bbb311fb4490779097db70cca68416334238b00f99fc087fb47f0da30cf7b039223fb80b89b9c8568e59b73e3e387c6e567056627322f1ba7188eda39067dbe184cca224cceb9853f8a26f0d32ebf7342dec168f56cb5655001a91a7c900450c6a71c290ec6966fa693bfcb2716fa8e43c49a15adcdc9ec6b9b5b5d92948e26bdbad5edd0c44a37b860e072de7d5bb68e87cc6d6e3744f4fe26d03782a6ac118e12698ddc0f150d94d39d719c0ed041d2e3016a2ffd7449220274f623d570a5ab540f51762820db6a8c44ff41f56a0dfff78fe7657d724db774923f9eaaacc582df620065d8f517ff1aa9cdd9883990ae7121bde244144ec655926648b0005fa7f8211b68d63b678a11f49d83981c46956d794b93d64c0f78d0cc283434e08bf2243449d5f2a78a38d33f7417652607b93360c9a4b9f9b6e7c349cc590b7db442f0aef4b751425ccd420378856ca40d574da482a647a6931476a8a6d55e6abd1b5b7a74918a14033b6be586f84f8be377d29c3bf99e3128f9f71e8b6fe50e1e9b748aea92a3b72da8497a5dbd12d23eac5eb661d3384936c09ae19a527880960a6c1c21ea66ce6ad3490007863ac0562a007221ac328026ec96e97dd59fca2d37ff32b52ea58c6838c66725f0dae2d127c4b2e1ee890a09035446d43250c7f2f39cc2e9d54f10639a31011aa87739e47bbc2b5a944403fee42811bb19c7703149bad99769fdc8f1ac9c70072b6a5786b100c37839afb350bffeb6d0c3445a61d7a09a229130ea9786a8bceefa20bc4c8c22524ed83b66e3d82f2a09644a3d8947cff98549700e856420d171b94b427f2cc9f24207e270c9185a0d538d67e424b8d167f9d8e3c5810446263c958c7ac98e3ed6e00505f52f3ecec2c12d3508292d28b9848cd334687c752f1c09ae1b003581ba80437f32adf928aa583c700584455342e690135004d231372192041113c74e586531e4a557400a184a718fc97a1e084e367507818c0226637e0cba55fd4ebe1d4e298d1e7c102d90d505ed24d1cc75f9479383bc314b53ab87a5c0efe01d179ab6e97588c054a686c879ff27c66b93c2b06531fafa8856de93f35088eb3b84364f27438060bd239391b3d458cec0f6ff6b8e6e97ac6917077af349b774c6544e573888dbf844f32329ec35b0fff706e354b908dbc197a0af7e05c720ade0938c2b7c6f646a6cfe7d4d20ca6778e21201c93e12390d0b82178229cd55d54f706a5de884239e424fffe444519a46939eec92e862349f51c59b753628fa50c5a3eda1e0a13e168780715c3822f4724001097495dca4b62f959b44f88614bc81d79ddd13403d72b8c163e3c06c5331b9ed65de9ce3cb7aa7bfe88e91e55a1474ff65c468cac026ef60c901ab4d4639dbea54e7f18c9b16a4099059a6c200c688fef7b093bbd1c8414ea421950ce2a2289b34f3e2f60eb8c902188f462b6bee557dfe02bde05271b652253043595b54c5996c08a619a62a9972a2aaf539bf1e294c5193652a30b7f986d71382ff7a3e5db1851af662371623dbde981d47ede4e240243017b0f8ed3a52609c3358d59c13eaca3748c96b591f1f1957edbdcd6c166fa5d8e4d04ca2e3148ca7efc5b3f44a1b5e91cf14a93fc9fe3d4e956020c07fbc7261976807439587b5bd6108805ae3fe698973c9a2dd0d7a53100e0c46066d67c646b252613d829b5234295920a9901f7af435268758a120a05755cc15f881e97c8055cdcd3d1c6d0b2200fe953bd488aff59d4577df9fb88a3191b98f28a021d7fe1bf0845bea719311900eb9212f2af1a6bd788032d9e1655af30e4e8f712e0c08c10dfd27e57c21af58f0599a683b0b12ae0e97ddafa15aee92677b607dffaf2900d4fd5fac6865d6c1b6e8cfcae24276032dc77785c3ba6532a53a35500298fb64c48d14cd6c00cc188e254cb585a4775e20f70a265e4267f2c1dbb27b18f1285dcd76a2e6c439c3fdb03c0dd5dcdc5cf417377829f1e9c2e67a9600cc5bf0e7ebfaf3a4b9bfee1aad21d6e093142c5d12521dda795364fda540fe092ca3fe8a2ba92e6784eedf199da6f777af2c8e1ffdf7335e15e78a11d9835b4388791c78906e9af7110a9af717be4556b1b8bca50b0c39f3e1a2fc7b76d03713693a956687509489b37f92e1f3fb560b60095a73fdc689fc90d43e09fdac204223806a7c78b21252346fc9ddc4c80b5063e6fb421762d27b94408bd0e4f35b430654802c42ea569e3e46f9a09a32fb124e4264341ab2aaba7a90eb0dcf26f2c4e6b579e1ef8eb295cfb81c47c8400b652b1bd25645f1f9a9be1d43c8eb010f8037302fdbe9a8a15a2af602e5034e88d79ee9911d70377c76000c2a17e9397adb68197350852d3cd245687613932f419fb966bb5065f5fd56f692542db950889f0f3d9740f619ae6bb85b2805c65ebdfcc1af5aa82697821f959debed357b8c8a4ce4a859d94ae43fde2ddcc6fb3a2228f69ef0299a8cf36ef823a13dc92726588cadc9f24f5cccb9a34a242232f3e3a3889dea6d7b26f7eb7f07ed121c8971f8d08cc51da9c188e8b511f9e62db7ca190b3fbb308c039fb6adb20410c44033bba70913ac1a19716ef592fbe5637b364ee71f998b6f348902081271d0de8a2f15260b013634c28ecaed9225874ea91fb11671ade8455164c72057d38381cdb5fce60a3fb3bb18dfb29b5a2e1713c29d655875ab8ff5eb06fc7336600851ecd422946c1aef9db4b9611331438ded0bcb9c298e1c1444d2edb44efcdfe9d455c1c0fb04384da63328e561fcb9e30e4c4aa4490312f7baf8a7fd509f63f31aba936e96e53a0c54c5fe5d83aeb8a6938b858ae44d0e692aa04b5fbbe074c516352d84278da8ea7e2e7964e46798212fd9a496c12ceec3cd85052e786ac79db37d6ebc207111f93cf28a0b8b86b8f4a5c13c417690868b529523f89a2d6651dd927ad358bd179dd779ad32766b4d212895ccbfbd6537a0aae23b2fa67519caf35681ef13af73a4a2b8ca7d6086dd24d1e906fb02c6f3cf21f454d0eab1350850709afa7c5395da85be7e5d8563fbc81beac61cfdb133b80bda6df41396ac073a889926ffbac8e844e96d16177ad42e323ae4dbd94867b643d1ee3577499d39547127dd033aa80be72ef08b0a13a1e3cd2eab8aa2fef0b4f29966c208e02214e950932b6efd61d016f2c869b88494db596991255ca39ab627220755ae16c107fa873f1782f3d8f5cead74c84219ccdca8bfd08143a6208f662a943eb281d40c3d9f2140907bf2a07197f7a479b48dfef4bb887b5de022a9499075982d267abce7aaead4652e495d5fd36a55096a884931a14e5220d3ba766fd06df0d37062176febcaa5d99c0ee7c1573624262cd1cefe6fae231b30bb07ac195f637ee57903c7de9f913d86a0186fe5eefc675b025061df08d78462e00939a4f86e036554dec1688786253bb879caf3fab53e8f46cc18192d20a2403579d7e154f0064c39bc70897784acb838cc76492a66e51874e60220221f1cf40b1e05e4a06d7b651a64ec17e8d87e076b6a2e13b3108b214664a9bcfc1528e6f68d5e067538421f80de09816534d877ad742044f13885455e4be068554e902123350293efb2e4e77a4cbe528b532a66e93288f076674c628cc8680a69b044bb62ab4640f504c66f1624be45be27ff3b83fe33bf3a82bc0949b0dec7678cfd13ed0769272c91dddf68e730f99b9f51e47f8a0fc74d14c66101aa4b554dc657a538023507a6fbfd139e2eb57ce4e0a7095329e85d9b64f1dd099e27ef2f7be425ee720113768395d69d7ce82f75aea16436a02bb9a7972cab0dc89561a2208ecfb9c03819e3367b3b76abd36fae3d1c627ef8eba0b2544d469b18f6f13e799094165d62097cf75bdd615e3847dd6610dba2912cec8942882b746d71ad6199579581628169490332f46b66441d583119806deb3488f629e81d0046384da2fb90e661bcbd7d208ab2b440c8873b24578ae62b246ebe10a71b74ede565c52e5c5d098a793fa3fa2ae6fad1d4f8a8b6746659d724ddb569e6a1ea0b3956fd80025e3d3299a2c66b9aeaddd5cc002b4603515e82181bfc75def9cf118ca4ec52fa2a724ef0c176a30a0f12d18f26b5c6922334f396b1080891216f86874d8889b9c86a36668c11295bb8509d6ff9bd5065368ddf6a9e306f31ea295d228f0a033cdc187ca515a9239cd4c803e946e5a47ee0aa12ac76d7bf50665952557624f48543225c36c37c370dd5267849e025c32e2be8881fd8425dc46a7b4cbfd0a8ead24138f2895677e88d8ce7c47e8b837788d61667668825dcbbedf86b8b634dd4e1c041484527f3dc3f02b4bcd89501e5b2674238c96bbac0b90d5ac4b4b01e341624972abe0c7bde2a6ef99656b9dcf72bb5302f5f1b9948adeea9b272a7d29142e0425fbd2846d921b19a50de30a8d9e5a146c3edb76c6cab3ff8e8854217643575d65b73e48fbf9bde315dc2ef4067678eaea302a6ace9e1fd68fc4099bd4278adce14421d8540e3f03982e255803958d7d2223dac5e2400f6498120407ace7bf76db229e7b90b60779b76dd66abb19de32c16dd1cbdb16192129f7e981a41d7d63f9b9250ae16170319fe33a83fe2f8ccc60236db67c71ead911173753b9a09f40acd7e1143c6d8abf2622482c75eed10e0c17734f5df633f0683d0b909d1d3c72918cdc0e16266f12093c85b40a1309662cf3d0f27240ab2964607a02c06ac34490acc3d33d83e091ff7876a73b3fdf6b58f1aee715fa8211faa3831759a7f2aa6a7ae4a0264c9444d24a2925fd54aafbf87492c833a5d499a2d593b94db0b984bd7986e47e40e2da01b7a71d52c0b940dc5d8c07cd983734fd191a9d4bcabc873c3eb3ccb48b282791615a5e4e0edfc3d50c3e334da086c045aa55c0505347bd4092da0d47f7deb7a7fe93b38aae1866d2c0d9a07602b517c565436afc4230c38f5ef7f446081c36eead2dec90ec4da77df2be47f7674d73447480bdc4fc1a934d4fe3bc3650f70dc528af0e387505984532b434313aedc070a24b64720e4b5664b3cc9de0973e5395b539e4685b185e41b606be69ba7cb22d47e82a07af88e551d0f2adc8b2fb195cc797219ad2c01d3784039bfb1140a7459e99b2f6306c5b1939a57eb8948a47de0afd2f76aad2bfb372695d8e3ce3f33f0f393ff67ef767c9bb5a63546f6f5c3684650810f08dfc2ce8b34b5cc7035a633b6f350991f88afe4f66f7d90a4b61361502b110847bc74fba6c3c093478d7a38506daa944d81819919cfcf77005230eb2d67e815c6be7617627992d255a31e185538455e271485317badd264c68d560026a1b412799bd2c98ee0d6a475010b523487dfebfdd734e9a0d8917281a86947bc7d66c0acc12a4d267cc2b09b5981061836e7b8bf73406e8615a91ddd668f89aab4427d9c88cfcb4786059722e524954e9a643d382ec0a83bcbe16fcfc303ef95f2902fb6b8234efb348d0c44b5715515b4c5305f5241dccfead2befca4517f900bbfa1de142e88f5230f77f6b6da3f428c012cba23490b89ee97c3020967f148c73109f97efaf4c7108a683b6ea8ee3e1b5e292f927dd8a1c04b6732648ce540af89b48a1d18c78cf9faf7a99db6814bd36d62fc1f6312a766d8dac9186a48a941fb1123bf4d18c4b63f1c521c7be1913d1a389b3b77d616596045ead4a12c22f32cd3733cb656ec21f54a73acd00ad8968e22f917534b0c745df61fd3635ecb301ea848130e916bbfab1dd89c4454bc8b44f5cc3ffb263003ac34ed11b7a07902644ca6dacfc2e3452ed7e7dd6b3cd7af77b62975f70b35baf1f1a404bd6056c5cde836f752fb4482d6aa33980ebf1e0f7d23c7acbc5e3ac5588fe8f0fd8ad8c204122c8170dd79a5f26b239562c0a74571a05f592b7bc15f8e54b16e26160cccabaaef53492d063dca412822215ee9120874279b72b8d18a0c608636b5ae370d4c939c59d4d21e93c45f292d3bca3e217e43ed01ff989be5fb5cc25f31d2b7b8f481561412168490ddc83f9e126e1345395bca42783c39b59c202ee558b4d383e700fba421741bf9bd39256a646f5baf5d31a66bc832e829ff6bfe223a8cc898ae88990e11ebcfe932ca6c9d6b0fba056fdcfeb9f0eca201256293cf6f754a07a04f8ef33d3d87dde6eb371f1f765e7808e9e355c5ec07705dc908064143ff7ff521f69f66b1cf8c46cd424b87c175a5a567ab239226e5de2805c5b756650257c0fc69827fd1f945a2c65f957fc53a6619e419549c4b3304f883ec8c2119b0cbca31da709ce642c1953f46a6ac664044938517a79a525c06ffb8bd57b217eda5c0f08b16dfddad6cb9043cde646136fa420a7619d7eabe26d6606015a6ae2b9898769e5abb6b85c8adedcc1d4bfc602b93f4e228e09252f7f8d72b9386f0034729f9f4c56af9768e6a76c003fd0e3bfb59bc12b05cb4649e6c43c757a0e222b65699f4c2133f01b5089f939788091bd0377273356c6db437af6829019a71967ec0a0a7a1eacebb0336ce86628f5314a3c13b16a686a3ad5976dbe559b9d9df4a5b6d07b3d59c809aefcd606caa2dd35d08cfbea2ecc86e12455bc0afd54f086e22e2c9ceced43d3040af07bb625c77e35b610d8d1af7db362ed645caedf792caf4a410d0874ccde1c4a66dc2cb0c6948c736db347587aff52a885920266dab781b48f7b4c38a7134aa08fb8be0f2c165c6794dcd11c13dc12de68d415ceb6b1b99ef480a93919d81f2edeca7eae0b699298df319a4e7dc2642ccfb6befff6a3d02f6b40da6cf2360fb47aef23177fa96a232afd6d2b78fc29721418e1acf4fccb64a39b8afc343ea9970befc4ce0343ad3e012f8f600a8db7f16563fb0132a976489ab3b02c0cfaba6f939967b2d20069e3f2f04d910cf76996eb3779ef8036ca6b6aa749522c2e2dc09e4facd37067d190611e89c98fd71b12fa868f22e87584f2a72c8883c06f3511a1fb130ea3abe894c0733831caeadba25a814c02acaf993bad4c6649b1ecc9e24079c8286d73a97090c9dc0c3dcfdbb4778171db8bb943412613bcf1a0da60ca0e875117d4590f5759b455c9754db80a87e7ec2fd4ce50ec0c80bf40977e9ade27baa6a9bb3d09662bd3b0fd7dab54c7389d63fe235298e2bff690e40af902c983cbf96041a9cf78ece05fe7ce660fc5f16aa2eca4f7afc8ddf4d11a93add0b70fafc32115be8e9d71d6b530e1a3603afa5b3af917e2c711d465c728d3feaa1a9a3c1c5a57a200a62c39b8f11eaa96a9ca824b3c88a4f594f114592010c9c0b3935682316921c9f8da2739bf681b2457d79dbca041fc1cce4b26b92f7acd4413e391050b4f3754ffc6a2b0a4ad41aa2c7fcd1ada706ef2b15c8e122917f2d7e4249600a17720e6e0e80c7c78c28de0c83ec1a38d073fc8600f7ddde917b16d3768d7fd2e9b363677e5bda9b94e30b549249ac1a939fa89de4024fc140ee8be1117e4faf0fab0a1153b9bab56090ae79ef7ba56b23e7214c5fdac68d92d20877cdde81a75a734e96aeb0c9a082c2b13ac681cbb7e9ec2f30892b4abf5bf1b535b543ad9ee1ae5e36e99a0cbb6d008017b424c3137e3413ac8adbbdaab924e584258ffb33e7c74af6ffbe7cace4944763191943e8705f600bc923b23ba5c690e53c3a17a09a2c73671d43e7110bb5c1d8da3a76525871a58bc1c4262b96a4e384afeda4a51bd4e56478985985c97c3772699474d49974be4db15a383e5996bc13b365b7c7e700d59fde639d94581ed62c98c6509dc6eb8789fbfe0c6f239bdb826609fa000eb1386c1578c59d5e6bb8f08dd0aafcb000b3c8da7b670129f72c3cec7b741cbb1114c831649816d913a2aba2fb0a95d638761cf27cde3149aad0bb9fb4a0478de9991735f32bb1fdc64485cb37cce5bf620a53bdb8f4e572028108395b6d69b9de9132a1b38048288d9e635e99bc8a5cfa8a5557b43e4ca022d158d129f6c66689e8c16869b1d599ba775c363a30f874294ed17d8d997ebec1cd0baa4bfc920eb041ee8d4ba77f14804f2b8828e840ac16a13a86a20e16931e44f1bb87da6ee9cc1f3a5c672148e3195e6247037d769876e9bcd2672c1c00501f71b0721e654ad893f68926ea5bc99147fb5709ebd9c78088e77171f112278476c52ecf575ecfa90f615da91ec3f8d34247a06544147bf0f579c4c9fc3664194565617ad88396916eaac9ba172fb496fe6b7b9208e59a89191c5ecb7cb6eb0027244a448d18d425a947394afa078bbba6039bf11146f6037a9043701ca695ea234cfd75e2e6c814f552557cca108e249be3d8fdb61b34401b3618f6c18be93b591241296e2a42c3348d1f0f5f244b82405d5022753eea1a0aeaa7dd5b5484ad34b23e2fd89ce115073038424376434340686658d098213e43a4818b535d6d9cf599317cf98685db790ca5b8daf71e71bef96ab1b09b9b7b1ab4aeaef6a68ac00f3016b747b1f6a0f6b5e359eea8fe01b63ed0e9890d06ac23619958ad107bd89542004ba4aa9a367fb69d99671dd02677628b5059c9d7240311836cd0a4517785d8757d3c02c23fbedaad36496b2c6c170cd4e0186db470659dbf78fcd37078a22198c9751be6356ce8f53da863b38dcb15b9bcf4bd9b4b2d47ebeb5b5af1e1995fb84d0281a2964cb69af12ca22739fba2d4bd97fa5f4a616263c1cc74a5dbf40cbcea8aa99d121df9a064d300c6246f985471a003f383e1896bacbf34dd52742b143039cd168d1ff3a2449c55f9a7fb3b2a9d00d6e69bb8f06228adb880c2a8d9a6e84296caf5d81cc8f573aea6f12dc6762ff00451ca1ca436fd37967c71f86f419a2daa692ba87719cb5e8d1377d8829465aaaeeb1a9054ae3c14595507202d9da430c82b81564fd71d2644a3cbdd30e0d3b606c043e4d836762d58b287bb1c40f9d39e0e935b019329f7306626458010cb8f25e9341faa591acbba82f572e26704c430bb2cffec9a5ed1b8da1bf3e7b3b828ff10e2a17ad4b97e59b858331716b77497b3c00d766ba5283e857bac26170e4df0e37ffbf055f23f5a107dc65cd2410e966262da30ad4305a2fb0de95d0fa13e2e78ef3c6577c938054da16207649a841e280787edeb2a57a5fbb4bcefc18d2423b7d43f15ef387f785ac075b04286006328cd90033aed88090a37c2f6e12d25a0a01e97f45f3b9f61cab2ef12150093302196c48a01d654f9b42291ad934d7270b9bacc34ba1cc9279feea53a822eacc7e43c9c48e5fc8a39fbe1d750d732d95bdd0330ddff8a246701bf463c7a18e182368a11c1e446a1ad6ae5f7afdb4e2b2441948cbf5e192d626521656bd48f0cede3221dd9b9cce906c71949b895db21f2b1211d1b40fc1e65951c5620fbed38efadfd25eb9ff23250d7091f45dbde0e1d7ab58f68132588dd5b391f4c39c5b72dc74f085872b83c9ce34f3ec4ec538b14c40f723e7604dc1035f10851a2823122e9c8f9a7c56a8fd201dfbee0da5a927b4ab526b7e4a6a0fe6b5e17b64802fe38a6e550f9f4f9e651ff64dd1bedae8a6822c28aff65d698fc5821aaeff961b32d429c622b0fe7515e37647096689b91943f529aeac55252ddc3bd53cdba006b963f177babbcd8071fdfd8f17f408576454c4077d49dc151289950b1b544f5116492d5fe7e808b3807724aeb83cb9d0411c5669dcebdacba5bdf35b3f1216c1d0bd3ac53ce28f02c71f5344603b1ae77d12a382bec22b22eca780b7b2e88ed89f559590ce45f45070d051f58eeed1145ec886c64ba606f4f8ac881dc7b9141ce4337f1991670bfebec704fcdaa101e9de8dda829c93946ae99e6d56ff5cb8f832b2c90dbb1282473456c6a30dd0c9a1f5f50c8ec05dc1c62db0c1391a8b4eca291e3fa02120bea64eac2f22c690c0a3ec339fb50309ba27521070953faee4707f13cfc14c786252d2b4ee26ddde969116a89f3963db0ba08551bc4f4aa8088dc7dc0497ea38a8e49ca9211de5aef46ce5b06d076bc5439e6691828a1f0cfdedd8108a942420da0eddd9cddbcbe160fb1fae0ed29aab349b7c92f36d6f905e8682bf1e677a66e5dbf40d699d88130f02ed0a47b676a5847a14ea00fa0c37c8603faefa99e4f845e9222882a3d205d56a903bdec2aa0de3268c371ea01da9f199aa35a3eca08fec4eff4677d823cf8a6f24c9c17eade6e7dea2dd1fe768ea6211c9898f5e5177037cea38a750bb121f8976e63c55fed0005ce309191353d6c2b3a21f493b22e42d4de1354d90929cf898918bbe7d85a2d09ff18dc32462cc1b2f88448b9c160282f8c231c7e14d8842dd4a4fa0adac82da5061fe5068aa9678c6825801bfd15e7edf65896c60dddfca1e361ebcd20f5b7389fcbe4924b24e45191b3b6b8204250247aedbddeb475e6511303a8fd8d331352739b677a5ac9facf4c2a2716fb822670f064c2f042de224b44d20397e7d11a0167577700da30ed8bccb7293416d6e901537fb720b1ee9501e46c371288ac051e41c474e67d8770bf8fd22bbbbd4174d69d24a59cb9f25c702f2e4ac0f029dd95f6ab65e5309fe7470be2f26ac1e6721ac377c8f560784783c693ed29bd6af3235aa93fafb55090b77d962bf246b297df6115effbeeb35ed6167d5ce814104f7fe492083507ba9bcccb5afdd271048c2a13a133f5dcb0abe85b127064c682a325fbf14a9569303c5d359387dd1f1001c9a59d75187207a92ea30ea4410ba0f832ca8b8cfee16dd381b1b65163b2231ecdab83948af3ba0575cee50c8826be6bce0ae562793519ce6671fca14eabfb7df02f19d45cf104bb115451b664084c6ae31413cacf58847ab868698cd934bb89230667035d19ecd0f68b555e887438757ac82ee176e952c77ac39ec6dabc2b182a9f450ffac25d7293a7fd3dbec46b6ea6764d693019d946ac8e5442b4204472ee89626fbcd81187759617d42c547cc4491e97219562bf0186d53d0d0c2068d9db8e718dc8e8879238db83f45361da1d2b64ee0f3d3fef4a7638774ea2f371cfc8bbe90cdc104f868483605a259aec5ef0ca8a2f3143fe07f9dfaa4dba218a2865edf16488eaac96aa4cfe4f8c654342e73acc00fb65493cf58f52f2d5f4ac4d8350f5abf4fd8a1dced28f2d6e3c120a907a75581eb20b310311ff2a821685fb4cb3d7462ca96c2830abb1750ce410a5ee89cbb48b0b6fb28833ee35eea85d623ef0102792792691f719c36325301708195b790fe219cb0686e4fd7a8c1535286b4a12e0352dddf571f5480cf436fc5d9cb4815f1ebe21b0e1efaa49e4deb178c6289d3d9f6b2fa36fc28f3894859f36d5ee8c2b889c2e9e83b1c8b69147ef94c7e4e79b6587f54ddec74a70d2d5ed0b2e1e8d8abb9ad2b056e3d18d43f011574aa330267a5efe092b278e82d9ee1320dc3b65515b28d9e620b026f28feae257ae466eb4ec6a5d9342bff4bc8bfbe416d50f897c136fa241954aeafb96f5a60e713e770c727fdea0711a58ab849fca97bcdda2dfe4a5f0cb652bf183bb782f6bad62c3f4e2c831246326521397b406dca540c970b43a6a6d9392e202e01fc8b4fd8ee891cbf2d2952e67807694a5f500b267bfacd4522815be6f8abe066173f3a0fc607531c7644ce4265a200ecccaa2e9b8c4a01b7fa4a0af9a3e757ae9262599ff9d4fc4afd1e1487e4b7f3f2272f61a62ddf3fa555c21afac338a616685e13e1de6711107adbf5ecfdb25824f56c249211c3e8e305bfbb0e146c754be6fe35167cc96c2bbcbd6cf4f08a239e2e24952b483d2aab99a547be2dff3d63ab082cc912b0ca4357716040781d4ca8edb48db6703e60bb2382f794d0bddeecc4e77e20528a5457276b6cdc1ae759d3af234c02b84f8ff2d8cdd11ab6a44aa9d07acdf3ff7237b61529f678599540bc3881f6d2426c407adc4a1ddd6f17d213e0cc075059ae295dfc7eda40f0c60095c0d3a649885767eca36f9b50d8ceeac9f366bcf72b3bd3e6391be45fb17ffd37857b117c698ce482deead5d0abff43f57d2e83e53d50216e8366337d4cbe26f4d270ebd27bb1c198d55e77b1d9ea374e1c0bc5cb88ac94a161393ff14a7d46be134f334531760d12758f73dac3b0b0a8a39f6f12445b474a37a3a89d17bbf018e03f8af26f53b25ec3e4bb0cfb2e6458b7e556b1c1abde87ea766fbd0db81e9f2c6e796dcefe1458bd4a11482245b181040ddb16b7d7935dea20e24a1d394005e5b71f6c32f94632614318fcbdda458aa16bdc639be7b8e64e43558655be4aef00fdd0388d86bc08af5c2f2315a9b66d46a87ddcc3a2bc4ba0f99a226e994a05ba23bcee02c7f30425b11e2af9256bfcf399fca00ade20e1fc0cf857965f2a70fba1e26cfee9542169da8664061fb386961c5c6dae1847d43c294a30fb57fd13b22c20c8c4e8169b5b359e13aec4d49e531063a5c96d0afe7b984c7ed635e9fd00a82c217fe4c0afa3b6b3aade35e9e98a18011c6c23d7800079ae27d22dbc171e37a794e8ac65fbdf02697bb081512e02c7969860caf7335963ed6fe092156f7ed2ca402eec185d073ad4b786b6dc0bc783162cad82009fbef17d0c1b801cc8160919d71e5ea11a0c28a57db783b458fd3f3333aa388396d38f4f609c67c3605b65f5e3cb1597aaefdec40a4b5bbcd4bdc4c7bff565d595ad5a9bf375c8abe9f26addf418c5fbf993b730cc0a63814d84a84ed572213eeff663f9e8b89ab08e80c1070a5ff335a879a22e0127b8d7860af929a57f4ebb4b029d2ee8ef800c17de991acc9345b64e97091fcac107bbf82ca93a71a6098b2ca468cce2f02457c0e22305ec3a0a95fb2db11f1a5b60401f732dae4dfc2ad63be7ae2a7952dd9f49384cc40991ac131155cff5d4657e76ab4fe0750550a30d88053987fc0ef1aef0542daf6d120d5a7ce5a0c89c14fa320df2f8a8fbdfa24300f21bf10117d8c5e4b3daf543a6df806e81f3002e856fe75290c0f02840a5e28ea7bd2cb89a4fae66e5c46ad9780af144da8d729e7595c7c828bbd9621a78d3ff96729009272650f65bb9f1d46b652f0bd9e29f1370f13a08dc77f141176b09f8125e7d5dbd8a03027bdaa975bed209db688838b86bf7692ac22b368a61434eaaf51c136a5aaa65ac71db2273473e82fbbeac41afe71e19d605c7614b04ab7971a1f98c7c59e5563ddfce28ab4b933e2075835eb3a31527442974486c21c447e7fad9b768003780aa7411c301ad81bc8cc91be24eb52db1384ae015ed9ea93ffae324698749aa12bef78d4ed15f43a219e508601aa30d04ad6404485d709251b81100d5e4186137c83781a9b2048122cf490a69785de44241a6a87167600699ad7c088e2b7de4c2eed45a2750a5e104f2a31c1ba18f2d2652fe5a8e20cd13af6755e2de5440b5892716512ee966d4177e272896516f5cb94e3da03998359f4efc40f5ae436c7090b6e7e4d1c1282f1791e670f0b6e1011dedd19e5cd99e45d3c4a8de084a1dfaefeeb0d7fdaa52cbfe7ca63d5a7345cd4d78abc71a0be765be7f6f037fabb7e42a80778540fc95163012b055fb8f4aeb26aca8d04618db7eff1b8b3581685a87fe28ddb404f9d889aba393986229d978e4a69a759ff989366cf8799679dda8e829f518b48de07bc25e3b2285e211ba90fad982e34b6e66e3595bffb761f9378c407f094abef63fb0ea79fd434faa026efaa3e75e80824d9c8c4aafa52dc55f7eb594b3af3eefcd5984a79f8bb73015f24fa77761323bb8b6a0aa7b1376cba789398098d317b43831db751359277089e6bea03c9acb16ade41db8264f9531f73003532c14fd8ebb477638efc436974cf16b8ffbf0733b1f2c31eb19894b05b19532881be2410a38dda8d419082ab9e48fd66809651bb9dde472c3baa211e43c5b6956e5004476d4759c88e4a65bf5515e6d14d9aaea590fd6eb858cc77b5cc43cc075838fdad7f95971061be1090117ac51df54908b6ccac84333fcaa897d84d765c690068b0cc554c22eb4fdc03e982d738051d23fc77fc01f95b37508dd244a80b29917c84a1070ea03a4762c0ffbcfeb5cf891b5730acfc8b4aa96017723cc1b9dc27bcd95660b9aba981bf3ca8cdbf57e8a2854e3f3d66fe182f6cd2f0fc0ae87ab4fd07aaaf291c686c3b489e0139beff272bf0af49149f7dbe8d0d6ec84d4204984efc2a7286e50e9664467e2b4c3a3a180736cdaca355318eb37dce62cff82ab5072e887052c603114032dab4e1205dbefacee4d28a477bf0ca65d16fbdc451b00825f19c60060d3774fc4a4911537d5fb73f3caba8ea277ffd9389efdbd8a8766cf6d5253d73f9812fdd51e4d3af47700c2be4a3cb24ede691b4564206ab65644ebaa46fadf60c5672c6f09576da5d9e2d56d913acd02f166d95c73a8026611322bf58e5efa8c5279c21c0ee6103eed607de066a1f5da5eb2dd4fe3dcead228039c733db9f8e3823f5371ed2bc5bea8b4f660c8c2f8e945b91109580eb0f3690cffd1a979a2fb2bc919cc0050db46fc46b0c7d8c9d099e117c09960a893f189874babc4076db15a72051e1739e14e9b616dea5521ee6f065eef1166baba74fcb7e79f2b3c5b9f585d8c48c72e1f34df76dfd85f9bafdc528b83018614d0fd0934c6d2937aac87e459022badcb00aadebd687c26356703e962d403e173930b70cfe77da20f895f75275977503d090fed81f518abdaf5b84f2ffcf755cf374d36da16cf091be3ac9585d9b64cc2b33c9cedda9ba0c6e69114e0f52d57c2d8649871ba41549aef09b44a860c0fcabe1999c6434811dfdb716aaa63d4ca86b8a807a6783ba92908939c5f3f5ec644f2e51dc95104f4ffb786e751fc06d628a2bbfc490c6704bfe97a3f19aa6ee7be61c87d52d900d6959b38c0951afa7b55c5a6b4479bb30555e714d683dc9a2cd4847f289785a564058f18cc81927813c3d7dc383c8d1d9b4da73306ca7f9984e8792f4a13f508a450cd74dfc9a9ddccf7fb678adddb7f05c6d83b33f2285124c6d1325a76bdf5724162eea52b4198122035ee13c50f81969507db3057a2c9988271fe514fa9c9991ebc5d8fbefe075c2e8d963cb1e45cb7687336c641b990e1d97e5284d417f14e2b705d8ed319f09ed19009c5c931a67593593dea16b81d54986e5421e893781c15719c685bee3b41aab6bf759c9c40b2cc2580237e8fc0956bd8d1c8615d35d97240186798617e6d92440231be655b45f5bbd9fc7ada6d8d3e80148dba4998dcbfec042ee44bc0d310e0e36cd5fb6f0d2c380d670950351067c15052307075f6f1765a20035c6b39b2f6872991bca923684b741397b72605c37c5b87b05998298981fc774615a000cb31723a30ac54deb3c20cf637b4341c294097daba288219cd1a5276b42089275ab5dbc4436a3eca754873f42cda57713e25babfc36ad938a036767d86e75a876c13ed4d6cd54a201b0b144b4b220440d01a1b31f09d7164e3f59096ff79784ec12a6c521d165a5a8e84844aa2578f65a3761bdad71376404ea7b1ff2b067fadb1ab212f1a9152b3ff1a3039e6d2fe035a43c3a505a456f6dc40a1131845df24dc97bb38b559f0333e7c4dd405d76f244a89f58a674f7411b75545f368d9090c43b75d4ca2104f3bf524521367880e8b788130efd1354da46d1b4f6d920d3ebb2e5c3af4ad9e6b7c0152792c8c8ce191eee04f0c96e6764a5df3d12174b168bc0f4685df954a936b49d1f3e4b6ca7c5cab963163aa326ccafc9d7ccfe7b2369a26f9593c22fd83cf3b1d7dec500a433ea4a76e15940c5b09b2e0a5feac3501753410b106609e004c05f9fcbefe85f8421f4ce0083c4718939a97b1ec44347c371196aab3a9ce05955a8e0e20fd75c02792c7a1a5d935d09cbcbbcfb5feddbf15a131eedd853abc20ced0389843fe69a705580cde175ceae3c61157cfa82a1570a7cf2ff29af26b661337d9bf9a0533a583f150d89b06117239e0331dd1325d45fa8a6d2b71adafa086fffc21e102ea318ff1054597379475efd6d0166e268a0f3054ad7342994a429b22e43930e443958329bee818cb6ed0fecee7e57ce9e54cfc22f3a0d48c4c0e852b50ec8df00d5ead795cd1627859fed4929a17d027aa4b3040c39c289aadce7b7f5f194c615c52bda3c15bb3a59815fd082ac3f3be573c6036a35502ea076401bd648eb1baa0d6d378598b0bf0692a5b3e4e560cd7ca21ff3c39e9e72408304c80c90c08f0fb09dae511577662f360f9fe1892c1cfb9afe4a48e8e4739e0ec3cf6e7fd65d99c281dcb5f4efbb49c540784a953d8177805ea7691436cfe8d770162b0c26238b30f61545f8e5092d514e7d44402d267d05ec0f4f07ca6f0346354d3d1f6bceced9ab5aa382aa5fe3f84e7d68c9d70f82186f51e4bd0ee4f8292989c7a1987d7c033a426869d4b3e24b2b503b65d54bf1e02a802fac0fdf396678aeca38097280e7221b9079c270634ad93b8755b04d5b0f02e7d7e9c1888d40d8d7149b6a7b401155b31bdb2656acf1b699551b21e3385aa9533b5f1ee4649df39f3a502aa0d4928eeada6c3f463afc115ec266fa91fb3ef7c2f18351c48025c9d7b780d5a17e448dd68919a8f60a9e66781eddd40ec80b79a7729b3737d95dd9e5b8025f43d4502dca3fb4d7955bb83e18da6b6bc67afcc31f9996b710f6fd85a2c1b152ecf0106f29213e62e1cb8d3df14392190efd7936dce2338d14fbff34e01e57034cb6cc6e254314aa3f3ffa38c7da38bb9d6f71f39e35061a86ec12cafb1937c5a710647f10140e35e2787d34b873fe4af8c044a507debc071dcac5a632b084490ba53e5af9411d6f77d443e27f432f44570d2063a155967301c3e84ed895bbbd41627006d29dc0ab4fe1e34162b8c8f851b78aea05777a7c245968607d670879f1bd30573d8b363d128f625e1fa0e554948193e532f16667c0bba6f8c7f2b1f7f33f4b63aba4e0543f23894133b33c9d2e76c5167fa7fa55cc582d703ca8ea3c015bc43c9cd0c63dbafc3763ef77a3b2469869d49ce809ac90f5afacde9383472b7d15ba9edb54721b6284bbd2719e8758114dc861e7c635ca206f37efda1827e84e1748b90654a11f2a56af234b630527bcdbe1430b58119079c9ddd87f0eef61302b42eb3413b5731124ba3cb8e0ba019ffe7b0da73be2c753776d7a9cc17af83b99fd6e69fac93bab340c8b15454240981dda0984b53d0dfeb7a0c11722eb1a292ed1cf3c1fceed3f05b4fa5bd76ffb40c3ffd936a040ea0b5ffdee8859ecc92f2efeeb7aa71688e9edd6f3603e87d74d101262f32ad914ecee3e9c9f19292f712b48e736753530a721f3ec3a711a52b4ae795161f7b55ea145822b2d2f4d42eefca74e633e027a78d44f504d210fed280a86e2540a981eb009ca445dcba93727603a64f7fd01fb120237c1a55ac2db42776895ec4da95549ce855511f61b1165dbb0a1588d7272ee65cf2132cf5be6eb905018339060f3b4e486416af015e33e709d6f90e6b381f1a8bb5903fec41024ea4140f250a5ad25cd8331bf1e298672df89e0131e7cc2cc1d8b3ce8f7536d9fe08ebd40bfa492b433dec011836130189078beb436a1fc73222308b65412265b033dc303fd6bc8c88409c69415e85d5b0f8deca1cb4d8f87b5cfbce112bb1741b8dd55785b85a3bdc51200debb8e6510f8f8c31be91e9ab23d8959a4af3c68d0f9522e6adc97cee0b0e39c91456d90242e85657fa91fd81a1c0f92ac14e054edb2f955ab8ad5be86b4638355056c97dee13ec706339834214ff1aa264ad812baec16ffb759e9a2e5aef1702eb3305e33c05015a0084040f66fdd3f874c4331b80fd91d465cea2675a893fb4abaa58de3c2038625dba0f268713e3d2c99e718c5d7753d15645c2dcb6f60ce65d39a1fd3e56e03fe29038701fc2c28d231ddb78396431a9685968f105b221e0a448b4774f7a422c178c9b9e12e7371ef3c3fa9c9fadb51250fa702d1a491dcbff8c7e857e410c9dfa32d16dc114c1d260444ad85af2e8b27354b378574cd2922d115bdfc13f2a88edcc711a7dab569e508e73fac8a03f3e9d2c8a91a6dcab19719a9408c93665646878fa6c3f364e580ba70afb01e4cdbca037ba6dec5e9b8ad4126fb01","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
