<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"c33ea0585cf93dc9a9b5126a24ca5b8bd597e2276ecc581be749bf4a6b137a95e86b9c93bd3bd53c95902baf837afc20a357b31250f95cc13432cf51756b5f4b34d9122feb938e80c07aac0aa073f548dbfbaa24045f1f38fcfaa7f01ba996940a0d27a797f3c8d4014a40ae8b51dcd9fb44151318e869c606188aeabaf08be4d05d0e5fdf6467fe598cafecb4d0c0e6e65c928c7a3db82af4cf90f27bcc9534cc7d37f06da731114d096e6363aa2272ec0e05c7f7e3336f5320b2e1bd0543f2c6d2a4412b297ff66cf45aced5b80306f6a4f6d5dc42d5401619018630dc895200bbc0c1294fb22d4d2fdd95b7899b4ebe49bf1ab53d20e8458fb94ef2830a56e9d3200c44eb2a0d7cb87f349f901911a065a15ceb71e3a8d1609487d175646011deac16a7614690d8ba509d03d5fb5c5b77a1a939cde4371d7ed022d04026f1462f33532bc8765447f3cab87027c23b051d49eee369fca0afc5f8c348762c6c558a396e75e524bb825c5059db98e6c1a38bde6dcfe2fa6d7ce162e56247190a93e384ee4d909b8fc6b54de4aa401b82d3ec7f2b3471056fa362e5812b0fd4d2de9c66447da4e1f79d1cbbab340e32875016f984d50aa839e2482c0c101b5c35ff8e2d2f566acf091cf1aec159193438fb6a9cd0bb11309321b5e5f1a4ab4e2d66c80f21644bf7d631d2964d6fea8de810e3ef226bd86179e2027c6f3ed2ad35046001a4178689570c1ad40a0fb494db632dab84b1fd76ba72edcd0061e540f04d5551493fad213dfbfe14679b7c9e0809e239a3febe67c9355fd754edf26c187035b82b69dec31c3aa5a29d0f148e6346a79552de990b70285e08f0ba1ff8e48e8c9d8c47dfc15bff9a28204d6117d8dee29f3b7fd51bea1b37427778d8c89bdac63f078d03c696e0d6e5684193f6e4fb878ed6b912eb49ab13e712714dd5c286b1827247c463dde933bbf92fc353823250b6631f71ab494dbda12f6da5b71b226a15ef72012b2f270cd06abbc7d5572644d07644be4309ed6b90b82765af47886165239cb3e4bfb3cee69c289dc1d6701eff17b969b6905375186c5f8b8cd89e129eb61a67fb9398bd1b1b688f18171c6ac50f334ea59ffe9b19a051af12b16bf923869f30c6aae2be978c331cb40bffb24722751b41ac0bdb453db7f98ae8cec983567382f726a7330184d7b9ad2d37b4b2f304b0af532d3d8344a06802e4b30964d50dbbf044358df5e5c8265aa9da9743631cbc0585a2394e5357ee95d8f352cb9994df04ebee62f475c9a5e09bb3083d23df26bf9ab9879f63debf44224c1de7ae10fc5269e41cf7f5e2efdd1f60b15066a3c30906960d536409ba53e6c4ae87917f69763f94a8e282a365dfed251396727fcea3f31610df390054ff6b77aecf1ca20adf99c8b70ba646eab96f8b9d6eadd07c2fac404d30e6111b8c94221ba7bd493d07cb0108858c4dd2b86bb5d6caf4891e1936d3394f0374489acdaa45987527c25f5192266cd38841ba6bf63a572be2e5abb3a494a02290b4c908f3f21ea36189b8883070976252d84dc03af17c33e3a79063395be2d6d2ba6788e097a25edf237417ffdcea28332d519f031216ea18aabcc8a4e56401e4740721e51f3d6982ea8b1f396338d0f5a623214fac72926fa6be50c12236a993224f6ce65a65bb76a27732b18246af671cc6e5bd5066ec21d400be8fb406fb057a1fd1ad8926b193097bcbaad5e9edd660902efa311fef2e9d8ee3b1efd84a6a3267129f4acfcbee51f5230f28606c34f6c5a43995e5fead04d3739680a53f42486f2865f0fc390deab3c8f1384d17da865c7345f842999a4b5d56cd88f97cf034485f849c6909086e2eefb1ef53aac6c0938c67052323ecaeb6114e3a6ea69ef923b51b122f9a6d810584a2073927db822fe1d393c616a50e35951f56d369fd18176fa2b1d49afe6328c4f8fb7858b177a8fcfedfd15f63e0875b50fbe242e2121ce2d1b2e28bfa114edf1fc735d60ce1d837f891475b6b6fa06c22f2e9b8729a4fb2c8fead39ab4f7101a8538476adfe1d89eb2aed467eecb53d48fa3821b93b72b590f42d091422a2140f6b4ad8accf607963d3cdfcdf14ab5b4fe25faf750a6d1ea81d89775d8e1640b6f5ca773e8ca1e898bd98a2893d1bbfc67613af9c280d54e99c4be42089245bdf67591cb61bcdffd8c40d54b02aeb992ae6b3091f85ce64e1151a8b0edc50dbee3a5f8db07817c616a0648f7d431281d9917b38e2df36217dad99563f7ef65407106cd5fdb967d6f08901fa2f830a7ee79279d11b3d0db30242c15b2115163b7ddcb62b06ab15bf270a693f1cba48e7251a9d732daaf928b0be25a0c1d2491c3aecd08003be3c58828d3a9b7983d2cce2e99093dec97166dafb566811aea7385a84a59ad6ab2eb946431119c584de9b5ef470c1037d486158c9845a2b9ddb23c5b8c393471ac1d0c46366c10d66aa5cfdff6abdff8a35c74f0efeebf215024e3ceb06b04a12b605c491c68c79a9c324a72e4221c0b2ba896a6622cae54dd25c2cd452e306879888e6e80aec202f4e31c34032858666fe962ee56bf920ef570f7b3a3bfe2fc5d2f4f75071ce768261b049ec6a5a1f04860873e3d9b6b500882667da40e93f39cc538ebe99c93129e8318e94dfa1e3c43014a76bb8a159e5ad448a410411a425ad5dc01d577c33217ff56475527a123e7b8d2dc66d704bd771f3b6d8214a58ca4a9ed7f9c09d7d2a1e39e74caa7d22ad5579c45e6adee2bcfbc277e90f6edaa09e55771fbf48f0a7a628f888bc2ba2b9baa4f2edcbbf957e963f2aba7e8eacd27b62dea9bee2c7efd3e7083e55ef4de13075a38df0f2861ffbac3d4d85c9faa3bef11dd5389e7f6f81947ba76cee7b2761982ccf8b7edfe2ef4e9a8e970ad79927fb87c8091d16c93e15fb65bfb823f6ede17da6ea5920b14b5ac05c395dee607b10280c7e1e2dd1388eaea012a8c06c6e6d4efa27f3462c4ab578d499ff5e3b2f6d88acbadcf39d99d364a29e2b4bf8f5f0b34c55b0d798984ce5fa3e6dade3381e1ab223733fcd9eccc6600c64085a4d91982e79b700ba0a1bb5af7472cf274558e75d43f150fed18e1beb4ba1a64da2afb328a04864742c670cec111d55ce06b9eec96abb9c4871f52dddba4b4cfae18a20d2a60fe4608147f6c12e7eafc335529e09286eaf4c97e01efec040e4bb2b27348a9812b271cb134ffe9b334eeae20bb56816678e9271ca3d4b75ac68984aa8582521804866cb021bac12aa8144a80bed8abe3ceb610afe197a2565f264e6ae2e4b4880fa31e8e5a3afa554e18158b35655d57b96b49ac50c1ed46788013c68440ba26be72d71ead7a3d8bfb8e22659bc72d9831ef06c4502523f0188783143e3afe2d55a10648ff55f30def70db7187f62337d4b28ea6aea09f989c55168e6e73b5d2f11ab442ed2595cf40b41b4e4594faf6a2d69bdc872a07fa7a3eb33f3d2568141741f4575073061a7d78b17a410c860dda6d36eebe423b16192be9b1747582bcc335bdead181261a1b07110a33683cc2c4687fac5a9db13873445e4ffb8faec74ddeccfac849ed09db15a7a8a44407af669096f07c477aeb5793f101437647f27985ff0d3acb435e18aa97f1c1c8ab2ee97ef00abf206e1ab32586c911d8a1e24b9bd6560139daa722c043eb26aca9acbe29f9d1521e8effa714eac6721ebc3e32af7eea053e3e8af645ec5852058a7a78f667232ad650831cb41fe1a7d0af954dadab962b036fefb1957bf4fb10c36da66610dba5997283adef22c8b4149475f5e99340466ab4e5d299cb4e3c34b1b61157c563a8b19065ba069265d80f60a569bf286d15663161b2810e60d9c46b5142ff1fd211b30b953c000fc06a3ade3f180db8aea0290458e5b96396ba753b57b9e13c129a73d9f622ad4c8688b0608e2c464d51f38b8a7f6e9ef32acf42465544c2805b7a3369193df8206a749ea5a73200e1bf1a09cb8ac14f7b227ef3d91964797deb5da288eaa19366a10ffc0611abaa6b1fde5e952336b842f34596c843e09da6b717040b772cef749ccc68e1e0be9b6a218af7a3a6c6062b09ab1098e29b0b1c3168f6d42af62ed244a2a936089c0a0ca9acdf6f9bd669eb95b5679987cbc72ea4c7459944086a9d6385d5b329b1579aa4fe3ab7d8579289de8466d1f32e394450385f46fedfdc69513862664afaf74a3ec4a4abb0bc605056758e48897ccd32d6b0c47ebc653bd472f6679585fd7da30a779872cf977d6a9864e371061a1049b384a05a12c3cdaf9aaad1b59e65928fcc3664f6bfd13880d4355cb4a2beb6a3ce2f541afb8b4c09a14798fd181e5f06ded587bfd23ada57e0e995e7fe230fa0ec2f8a5acf33b83a35e9bbb79a5a94ed6b17e184dd5a29e952d59550223502ed116a3c3013541cc0c87d875d8ffa5bb0b7e7bbc2879cb0778449be1177b417b2721e09aad1aa4be6a258c8bde81959ffb01cb8fa5f244c33cb930d39c9802c3c5015d2fc28b36583681be2da4093189d9e34a60dc28b51fd01f84c58a60902a16caaf98716c6dc8de62c8888d1f30730d32e2d432eb29b6154c673af041964ef3a58593f2dac7df08cf2d24cbfdfce141a2a60349af78a0412cf71c59f4484585d4f48920de0ad3389e8899fb4862f73aded9a8c32c83eb36912f201826e2c82d60ddd39cc894f6c3669fe869780916902528c2fc62921b593c31b660854f835d4bcb2b3617f05a2bdfe458e933f460280b55e2e5a4e9b53f48b2a6cd409acace8e6462d0ce8554045f9ff108d841b3a3bcd1d68fd138b299d29060f4df47103c63d46741cdd75406a688ddd0f3a06e9bd8929b338566be8bfccd73d699a41ef81025db36a53debc08fe687a3c3bb5ee0c927ca79241bae37f9bfc3ddcd58b32a3539a0462f0c708e0fb810ca6aece0ee1e73e096fb26b63331179a69a55e115bf1d9fd5b00f2bde331811430871330653a60e158f5d4a438ff8ffe6cd77f9bddd3c2c0bea2b1cabed118bf91209d78425ee2078e22e324965106c41963df39b41cb4e68d7cecf7bd7b5e05326600943afdda9542cddbd1c008ee8d2694bf1503fada9c9df9408c712dae72ce73e8bd66d495a877d52152c8bfc34bc96dab74527a9fa37bf4dbbae41086d2a760cc7f3f258e06e5f3cb5f81fbf199e901414d670e8ec2d17796d8468e33a5c9b4d392196908c8f3a37f5e6c7f018aeb0736b437980898084fc2da57c9b3e183c85259e353f4632fb18a92b6691fd577a93c57f121c8ad677421283c2c73bc81c3cb3a999d013ea8f9559a08c362763138a4ddec70d95fc1d17edf726c96bcb012db9dce27c9669e76860af57bfc64a15d0ab52c79d93e583436306035c76af249f9a5c31a5570ca81941c52a3f5d613135400c05d79b648f647387de0470eb8820b662ccc235a50ac324f3f488eff87c24b4d57e63ddb8cea57ca00bac7fab4d614a2926acb239c74de2b0a7caa4a182ddbe758713e4306fca3e968e3af216bd84c749ff82aa34939f3a2eaa0eeeea7341cbbbaccaf913befc46bc7b36a2f2712ba08151ccd4d29359bb2f9070638b499d7e8aae90cb2da69aaf921bf17e881abf39dd7a6dd9933cd4563a577f9a899c9d27f1e31b995e475798b9a6fbd5c6fd985b9980ec75b3079fc58c979afae133df87e86789f9cb204f83bd1532658f3b4bf9a9d9e3d2c185daae0769e21c2060a1fead145486f7ede46c6c529a8fb133df4e8eeb5d4c861e2ed436c232ab7fddcdce4e23df40493c43ee24d0a85ac506641e39003835adf683cc801eba5078edc98e0208dedff4cd25a2e945f1f7808f3955fe6d8c28fd275548cf0df544665cf4fde831e5a90486655cea386eb32e2377dca2d07486a8ccc4b6adb584a1fbe6668f28f8ada4eeac7b397ebe9b1c8f3b493603cb18475464821928bac8f4e3095c3b7fe5cda8f7b374d9361b11f3005bbbd56f592367dc73cfdb028ba8a0e8289171736f4584c11a4826e16a3b87dbc3aa02624a9f9a98ce3a1507b2d05b03ef3b92fca6bfe4057c634b023cd12caeafaaea98776953c2a82939e5a9e24d2bedf74d35b59658d4d174ac79f5f70a970523743aa88c5fbf1d86a8ca6f38a1273f7ef1b7b4642b6657d5bb5a2f00253c291c8a6d962d9063e7a515ab7a80e2061e3fba659a5e454567f51d3f53db1d0499f553b1f61fcb014087b663cb212ca54c66954f102046e515df3f8dc0146cd8e09fc9888c8d3f0349fc5d9f3eca359ded1f69d9266bdc326c05f71230be02d682c1566b08085066de33f33b4cc1c2682d4a2a4a9abb11fbc08274ee6ca98d7d663b81174673262f634c41949d39c67ea23e7fe031462164f0dce943e4b1ce3ab3139e87987a4b0d04aa2f8615b1ceb7593a954c2b1984160bd7365d40d95a43100b7608a7a53a86b63bb8afd6628ec481b6a72260eba30cfab683b3ba633689d9952dd3f618d1f61a34216f13b4d1546f9bc6f7053b0ecdbb2b19d052fe2bfde4e59d24035f40144f01158e95e4565bf8ad8b7656bb9e0bea6875a53a8afd04b320398cc4fabb8e5c6787efd0a660d46996115a076ef43f9a1ac82cab320ef8dae0261b1f1b6ebbe96a96fcb57e3f8b9f0d8fc8ea79d2cebe72acb0d5c996e387af39a89d825babd3c699c5de10a0fec35ccb94539a2981f09bd125ca0802e28d5f6d12ae5bc2df2919b4dce14e2988d2c8763a6a05e8ed1121622cc02de91a104a5b3273f8755dfd6bf3822f4c9c76ddf9d3e239935361472021e45bc4b319d317c88f5776f0b7f018abacb0ab62777bb3a12bf90bda2214035fd0689ef1f51eec4dc5e0f88c55a41009c744c23216e61c27b80b854f162453183043a07125f71875355625e5b9b1dfe562da3dd645592f6559b331667aaf13dbe7024d8bb5fe4ca1bf6523ccb4b02cf15ef7282050d7e075b689c855ea4eac3aad1e2c4247000bb7f89eafae82844a84786e28fa88aa769eb3809973e6984208c14f8ee1c6cd898b4ef879e5865181757b5cec05b55a848a82f8b1d823e714e682446a7bcebf43538b1f4bd6c21beea8bae82eebd8fb491d7f0b540363316f276d0c464f1651293970103fc66c5c6b81be203d83d67e687647c24406ec6808529039c0d4480311c239354838465fd12f3da3370b798d94e509a8795488236cd84fba2cb83571d6439490b36bcb3eabcbe43f42293f113b389b0b216f48e5561ae273e71c3ffb2b04f4421d92514aa49b352fa475988e91cc35c1411994c443ba3b8dbed71565342c8493176d4966b7186d9621ac164884b702260e7274d6d508d43a08cb30ea296a2baa5fc7232114e0c12ce5cc64ae29bcf86d20bb8883c9ceec37d9ec4d47d2ff22947b354c7dce389b476ba713567535cd3557e123f616e29a06a08999b89d1b50c1c7c43f8eb17f57c0fe087a87d28bb5af35c82d0e215e83d6fb1ff2f435d1367dc5f3fb1d8a134668ac7acc2947e83e58c14f0564f3cac6940af94d1f1ba30532af2015bd438044dd29c1054e5229716406adee73c18dd2f10a3080b7f0a91845b3001fc481fd07670eae9b9d442226bfce2f08fc9bd13abada57428ba5a7c003b2d47c9b2c5fe90ec32213e2d11e7827eef3bc9b53092ca68d43b98d1dab7e6921ae1a4cdc5c06195ebf6e794b8688994e4e9187fcd5e30e6d7ee52265461a9c0259d5fefd36344d28e50f3a9f3d127c68444831a5012c5b21f4c8ee8ad05f35cd02e68de4effbd408a7bf0aa3143c61e642fe28ca938684fc4f28312b77463e223d7ed7fb55dde677a3803eaf8b6cee71dcd8532ceec6be94011cbbc1ba1a76847e3e0380aba3fae27af567d28170ca058d8e6d3c2d3a549bb2dd77fdf96f165a61598005b26b0d0f5ff891526b1ac983e6f0d5b4c1a6efd53038325016ce32bfca89b3435eb3605a8d63aa5ed83c84ead9992ff91b7f61ad4d6223f0ae2b5abbb8bf8ddacd9fa0e8a90db9e5937f3d65bf7f01a6c2c29003e4bc3ba477d6d11abb934a071cdf8fe1f5b982a401c41a1c6dde3fa975213804b49f7745faf4ddc637bf14d3ff84974c4ac807d68721fde7408381c3face9a6ed2203857b66c7e7bc14404eb3b9f56a37fb97323079f7aafa5beb1545f4af4cabe28f08934c6f515c886fdfc2d2f9b700883cbb17230d552b1dfb93109a50c08def63dafd7b5c7d45d49881483097a45b27ebde8cdecbc488443a3e6ad5e5b78bb01ac09e94d8775b2f25afdbaf026a64191a8ec118bc424cdde0302082d78be1eb8af3e31132b57f20e8b8a28782b9279ce4f7eee78a80d07edbf7baebad99850edf383323ca27dccb99c30eb467d3aea6fc2817058fd937a03c4ed3ad2192e78ea590dd285bfab5299827da4e34e61fef8d6061fde9924ce4b8fa430084d74ee13dc23a4292cf2db82f93b33c3da94651aeee9640e899af2e96d0f51e7e8449e0cd95ab4ad48c2012a14ee607ec62ced625d51d816a6539bd611ab4ad6275a7eee662d107841ad43925c165c8ce7e6ef7f3f11e1564ac992b19c5aa830eaef0326f746c03657b435bf3ae84a480efcbd56fe789b1829a83221d4ffd5753262566ae1b896c469a5b8c928fa0d9083045899d66b3a6d42474c28c9185ed3813511ab3b1be31a9db65e1386afa429f5df0bdd0bb0e70c72a10deae28481c6ce1e199033b97db5cc5f3908537a55668be1033f5f2f09d7f1c5ae2644f2aec3f7d685d797f159fc50726c288602f9477d5e22f9bad96b0f6809404df494ccbe23df57803e7eaf54e8eaa0a18a826c1d1239e3dc1cb630df3b7f0be8047bf4dc847c12d3217471ee129663ff7df209142dd3d362b6e0cb4196c173f695e3e8e6985331d19e220de24153484fae6245da3933f48093c5a8efff36ef0113e2c43619fe8557af2b314ee8b9062e02906cf139f9a08ec4fc2eec24a1acf8d966d71c022b80f014ff3177c407737f51c221ed555a1c148e57361ddbc537af9feb770c65a1369cdfd2c5cd0af0b78beebc5692aba3afa89a3f6428fdffcbee9e16e2e0e79eee5c48daf10f51d5d211b614782baf38efffb447bdf887448108e2598c7409211d6df407d2a70846a89c96523d2d4d327fead3f9696bc12ba5c78269fad22a371576d3b0b24829ee932da0c6441944910ba1f9da40d10a813f0d569e3423e6665c0c82ce24a1b643ff27119cf7130dd5741e4adebace841b5f61e2f6b93feae207247efa891522fe41944a025c99d4c8c5458812a1af83ef72451d0b99ccc49fa3e61dec2627dde0f4d8f1b49e101b35932a501f524b6677e8b65d103498b1dd0d81543bba19e327fd9e812cfe29d45d7f29932e8f7b268ed89d518fe44f3253faa6153c2efdd18a5f1d8d04f2c216bbb03045ab25f4936473b8a28d97408269c049ff64060b5037e7681e564420ccb255cca7de26320f6ac7c5f28a0b72c7446900bb30e64c6bd775b9dc81cc8139707f416370d53cb97b5f1ea03b78306d7f57c5d07ecad4a0ec342deb15b2e3669903bb4613652c00d6d798e28a02db657657206f5b3db8e9cd831fa0e6aab2abf18c8733d91535c791dca04e6073f9a9d7cfc837b1a0b132c625c4934496a209ff66f225e47d94a8cf4979ee008272e6f0423f7f287db3f3ce0240203ef3b7a0a19258b1655d59965f4060923937c68d525217040348df1237132ce4f29a8fbd17e76655a4419b43da702e4a6ca73fd17425624feaa306f426ac8c8f48dd02840ab0c5519dc2a09f673591f82820825b89bd359883c683134dc44574945a26f71c035c22c764e6e60b4f5e892dd3d23895c21a174086a5bd4bc19fb17e6d94c765084fb8761a10ebc259eaa964f4cfdcfca018ebd654fd2c7586387e2e2c72480bbcab946bec9d0510ae0170f53f7fea006cacc0e79cf7c471c116be3e4804e3e33be8c0c025bfc2e5d9bbf9feaceb44621460c6ddfcaa23c7552a20bf1299be6532d33b1ea95693964ec7afb8768010df337c30f233f1c27aabac1e063f071dc247ae3f969c9e7020d4cd671d6644230a4324483cf2d1026d0d25bd6d428108345925a47e36ae40aebbe6d96c66dfc2f0d6a315d46f2fb8e4193d8d515cb25f85216562a7a7e8b0916137391f8d69b59eb99f54d9daf370640dde5b34a4f4fc5dc87741a9fb371cbf749c33113ced961275ddf1de462aec9b0397d44dbf1302bc7fef61e185badab8294e3e89302e106974b17b39b4dc18cce2f3b89fc4242beaf2e8cace34d7cc7f058623a0e797b93fec54362a593cad761bc1125cdea4dcd41ee467caa088266cfc9fdf96fc54f0c4ef1aaba7cd8d76a7026e2efc702290b6a019ec173c9b01e46c1e889b9eac5f1d072c7ec3ad49465d7ab09174c4ad009fadbe6eb60b18df1496b91ef3bce42ab38c142c0dff2b9062c4423b9651d4f79c50be80cd163e0d23b8e9f6160e125330541127f345c34d5c5d43821788f4f22d756d73f3f7b44f0703ec9b568d8a825c3eb7c406150e8097e6c218c4eefa9f0fb03c649c70ff366b62687af0776001d4cf3728a844095dc82c6cb33fc4b142561edb5485fa12f0c464d73ee060e0018fa4f40d4d79bc392be4f19f512ab949a0b1125dca05bf1d358cc6e7a9b4f6b9a2675308c5067ad8a3ecbd6aa37d4ae72f23d193c826d3a0dccb0f3c295b9b886000a9a3ae87c98d1ce39868e3279531d35c35f62b1aa8568e8a5c4944eb84c7ad43c2c488bd3b733935c7f7e36d2ada6b026b642f53c4514b214343bca3aaacbea2d0c7783fd9e6197fc45ea26fceb03e467fe77c0ffbb918a1abe1776fa713ebe3e5aa7c66e074256005e9f75fcb57b06c1a3e1409f90e7a76f26161810761d345b78891d038fe92dcced360c2d1dfb98298a2595a734298f5c3361c1132f794468e816f6e18ec561d916083701aef4110f85132285e4cf3a0f0dc11546dc198d184e7e5e54bcbcd09afd441435fa3b2aa46442f290ffbe5b897a647b1f90b3a21ae746c73ba95550d0d7731541cc0ee1dab789b4927530659932420f45456eab9b452b17a7adb62dd5606755fd1128d7da459f734f3a7d37208a2caf1cf79ad0232b22aaa3f3a4c8f586536af59e14437e039dff1508598b343e21039c8de8f9a0658172aafa708b8129471dc918c7fcd8d648fa135501b506a168e775f82027a65f039e32bbec7c2785c1e40e477b5d45ee7e17cb169ca490817e5ff45f8bb37b3695d9b05988ea7e3b58fb8e18d013f2c521c38ce8301254e397fdb95a628f5c69de47e4912a44f281fbe02aaf31d0f0c2866671d67584fd35d3f0075987f8aad47e6f7f38b0a0858b9f734c5012f41e0115194278e27663d54f66e03cbb38c22eb8710afac3aff9fb8ff3e3811d4a2db23852fca313bd809a24dd81034917e380b54e2b571ee1e2814538be0fc97574cb83266b7d1347830b916749146bf6d3dbd7b267b5cd9b92503f390d682927137756d379f8f224ab2a49a3c31892602962fd22591c93e05317142c5905c33193798715a68089234c5b6e08deed977b0540824ab0b5f5776181163a4d7cffcee9a053cba3c214a825ddbf1db31da79943826c22f915ddff2adc8e9db81e7f1c28a4aadb57489275f943266bacdfc4d3382008494e428cfe2c356bd5dec50b6288add3ccf0c0dbf33846677a449d0e84bc347335189375d883fed84574aafd7870f07ec73202c165d341a22e544e8fe93b82fe813389792b4198dadef4143f890802407078fd8e416068d16d054d5179a9e8ea6a8d4960db0514655ab1d0a2be27bbb248b6ad1ea642f9701f5cb3aeb61069ea19e424b93906fe91cdccaa4e784cfb565b2fb5b96626eda3d8d22f83c7551d5d670d7befea0c92f746e57b3e481129d2db5df3b77f04e76046f92f157acb67b97cd9f368b43fae15c4043d29cb644447815fd85590424423ce29166a439e53ec4909a0b783c212e22dfee115f1c1c9587799f974654dfd149e8d28ec5872eb4cc1fca9da772c269561455f41896b7d9a78b5d7de7620d07fde8d914c2f30a3649c6ecbc35d8d9c323c84df6b95c8b1133749aca6792d8d54d4d860d725b1b351f741e026c2cbe57306c434b58bd6a646a97bce8893725134b46a6d1151f65b5d9547ecd2bfd4174eda0d9754f9f09bc154d6a76468cf8abc1d066512fc4059d8ea93db123aeb88fa02f237d9ff8137ff5ba529e8c1ef44ef1cc926452638a3cf8401801caf347c24b9a1717aa72d127a255be10b8ec4ee0e35198c90fe236637cea905146f0078e2e324836b2035dec75a461d2ff8a90dcafa97e7b66900efc74d0e34f7e7f1377b425f782f0657e8109471021d1a51a03f84875f6bbabc37db68564d21d3440ff6deebd1cfdca4050a021b0695edf01ff85d0f5b3e2bbfdc7b5bafea7e5d152d128ee8dbd222f9d1c233c2dbcd858a579db6f08abcfdae14c7c048ce9bfef56b6f84dd9cd718afcfd6045a2f9629c1480c0a628fb4d660c573a993894900533d069de7d6c7680f15134b2622116e3858e6483e0567905d802f1c7db404be1bfdfd833db02640779957c26cb88ee1f973f52ec3540c9fe625cd607bb1ab2931f2264d4b02e7b62ff4f1c374f2efa1e52bb3e71b5a110512e148eecc9671681d0befca57f520fab57dbef9a19114c9f3bc4deebda1ee087789e5e7389207767dbfaf62b8d51c88670634476fbc7c7f77b2020715b9f461a3c265b5934890315d13a90ac1872061d49ca37857a38f5d1829b0a67ad3c8f15fd43aa48244d3ec12543f0d8675fbbe3dabe61bc0f83d6598fc6e28557b65920a4e10f4348736af1e4aec9f03601d588d18b6dd3b069995a44c33928ddf0ff2ed99fa2fffb3a3e45801f69ada893f692cfad1d246ebcfc656730d2d3bad1ccf6abd5cf7cf45d18fddeaae4ddb4962b202ff292d021583c0fe11a24dd8ea06d3c39658ed6536d1cc06df6471b11bdd32e9890b70b5cefe28cd57287df05aadeb96cacad1d8755611004528aaa39d53860e4a775e1799c465dbe2fcbeb050cff0b809dbb7d2a1ae0c7a26c5ce2bcc504793611f2b4637aac2e55d2aa2c46ceb19a69bec3cd105df9bc09ab7db5f05283c589982d97a317d940a686e4758625133f3355a0a7006ee7cafc5c21ce97b37ebad67d5f06d1bee7e5279c32633db7b6c8aeaca471742f03833e661fe2a2694fe1d0b6f7bb196fefa8c5bdfe4045b9037239b543ca36a76977d116abcea61cb27ee5d57ade55df70729413773ea6c1160685190cd64e5ef9188c57b010dc2d5aa351fb9c9b02eb5ccd5bc2737e865f4fec9f858006428c6e5fb00482c1bc79aa5db7ab4b0a81209d898f781216922245ea7be6b6ac48a2f366ac0cfa484ee67ba299a5670baea2b2742f342cff7c54c6419eb5bef5256723a532360a9fd7bd2abb8b78ba0e17ee2f67e41e678096ece4022f61e9913cce3f3733fa8038eee3916e0be0856fe9576e26c8c2de9b64220890f8f08404f0baa41c702dee4860fa624113a326d2a36422c30989e82034a8d364a01766a444ec347ce6b3c5984e8fcdf4be5078693acfaecdb73433f9ecf9c91c0335db5ff1592a9ec35ba7f199828e702c7b9e5c02de5e18642d97171bfa79c23f1e5ff610dcaae1ee2fff57c3ed53f8d93929637a3f861747861549d4d2b6dbaee738eb2d76c03016e3670b771720048af63627b9b3bd070360112b69eed3e8e3124420c407af5be35f8fb6b6b70b0d43d196ffa5d4ec60092196a237a716e18084d740d66a31d4300fed57bb2dbbfc398c4ecf7831a38c04a00c670e1ecc2cf3426a2fad430a77ca996261acbabb973fbb51d17705dd1af1b3217a048db0440c0ac112a4283f1651c63a78b30d03f91010829eddee1703ba673886611e04ad176a6dfc781ea4af9c0ac16151b3bcfcf8d59f1b6f2facf6c2326a9996fef46b9c9f094130c2721a55e7f3fb10c4c36a048d0d097c70b2dd34695973a861afdb9d2dcd8466320d2443a43ffd01916176238670e9d085953991a066acc36f2afcd2a8313fd5aeb4b33cdbad33706e3e4047b82c279092fbe79e2a7b6b1549964f9def1ebcb66c7cbb0d4afab5738a29e54f3fcda797880a459b21f6604760e96605f85530d145ca9e6d9cca186cb610be14baa489a7f76c94c6af1f45494676c904fb26a0e4deee9e0010efab380ed6b326679541669db3376c1106af9d1e83a41cd12138cb997b3b186ba5b07921777417033da6de6d0e3c8eb6494a10cd4132b1586861a604270a3e967ce4b6a9780a1a479f8bd4d8a187283994ff4d2aa87ce71833f17f60c543320055eeb87f0042b9eb8bb35b50be8f714528c335ebd18d99668fa4c1eb5205fd3d77b5ac27d9638e69843d8af377b7c17f708d127a6ae9cb594c8100bfee11594ee546f4daef7ac6213a603056855a6001a911c5fd2993ec58747a9272e660b60db7c69ee46a05125458cd4b1efc70a6306295af203a202e49eaccbc15596ae90f63e75021df4049f074f20758932ba30cb38e06aa8e62aaa40b39c56e3bd488d5aa97fe3baa26038636508bf4e2f09c67ffdf92fb32d813298708bd23dd3f406e536b9008270a57b34aa282be8e5c89810ac7d5af5c028738cdb1cbaee69f66ef55403bf72bacf9a83b9878d9bac3576ea1ba15b2bf076c58b1c2ca401db9b8fe815f6b7ca840a77fd0ff5fc8397a421d0943f7ae60d6ed09521e29e9c277bfaf03c5480f67443d34f8ae4f50985e1d494cd22af1cb1629f9a36e76beafc3bb249e01478b98193bbd48dd44862c60727f927f19e2d4e05620cae1b6a578d2e90d6e58a3d30e028f48fd97404fbec9c1f1edde5bd41801767d1d5fdfcdeb3f8e44ec530262dad2e7f85f0baa0ff91987cadf596caa573791561267b513df5c048edbee9fda468a1f4516ceaeb3dddc8e50d95c2091523aee5482acb68c019e180b4b9238e8764f7f8ba7207c3709e5af2da090ae162a8c40b6312aa0104f4d6232aeec3b423cae5160a218fcd20707f744047458ee32e0ddbf5459ca2cf01df276a19f1eaaddc57ab5bc99922e4f85b1328be1fda3d6143c20554e7936ddabcfbfcf71ec6386cefa55e7a48fec19419b46ee30b1eeac2de265564d04391629828a1a06063278edd1b22a8f395423a8d8ac73c8c81ddda9689d1c94738293c2f83db5d426b29caeeec41f8b5b047f9db68ed9e4df2f30f881a6a972b835a355f90d260fa944de9a98a3be922d1a9ca8e723862198389956413f18d5042d5182c5bd3d673d88ca251597bd1c75fa13d02694e2c0bf390234873ae839b074549548612390f092e051c69daa7dbec2111f395d9e13d4fed8ff98e4f19122e27d249a0b54b2b6c09b160af2c15f6bae186d11918b7fe09aeab15a22293d262d03e556b521f030baa2ffa65ef5789a434dc9a48a0e6fae369a4375e2318cc854d32d19c83f8be0a85d926a588fc2ff0c111c0e4dffa40fdacc2d0f7c70239a8976141ac8ff7f6f8b07390d269fa2768eb59d926258371357631754f39304cdde8ead69ecea89000def97932f5e73e40854777316b35a75bc4ec6287f0aa9742e64aa28e999ce79c5acb75bbbbae5b6ed2505e8f955427c26b66adc9a394e13aae2f6cda0ffd8c9ad8aeb714584631123c35c4616dd7bad49663d510ff4bae9ac69ce0fa8954afe125098a471dd3bc8c3b100bc4d70765b535c2dd7f46995ccbcaadf5484306c3e1ace32d399e017bdaf65e232bdeb17e12f6405734bc164afaf8a665274e11367a9e8f7f326935b74156c9ac442363cddd621ff9543d6fc67171ff10c2f9fe2d148b98c6160b25b09cfde734fe558e17668bc3d45769bff72b99bd53eb36972e84c138a0b2389c8de9de9351922fd7450796e4de3f0ea6c37fc85d8043a1c07a36bf491cc06a55c320f619af851c6c091aa6008841c0f1c3b754e45c60c26d978fd3a8fefaa8d8ec584e0188e287e55f7eed06fe5d75c432e81b36f013adf02ba04d675e81ee59f4b6ef40b18ec05f20b6bd6a60ce0e229ae0899fce124fdd9cf212571dce032ac54d5972cacb4188b30598d420ce789af8a19ba856523e35f3217d46bcffd63669e9de063e2f498664b7a24dcc0770813fc95f25401865a85e1471e1ade3e8988eae9c9c99ad4cfc40120745898ecd7917ea5257b5218254b6b0ac92b9eec4e21b8b0175eac68dcb64221d2db42c116a4ed111cfb84e3c92c39b374f08a1c490bb74a9b3c88d685d2ec35edb356245c3dc3b71331e3a7963fef514142924c4629577d3a540276ab65ea6f9ea986b0eb903252233bfdc855e8e04396ff62a1fe7d71ee727d05043b71d09385903fe2f6db2f23cfbcfc1d287c1dbee2c375c1772253b08d9931baa280886a64e79454fae65a93d70a1c962c18a323ca404e0558e386788d669bd0787408d87020b5d6a2f1058faad224a8679ed9334f93290095e4c71fd56a7d4ebee0405397b681e106e589bbcd2f41b7db0fb80c3ad9c6978abb0e9a279b10cc2713f228d196ebd8776293a47bdbf20415b5f24105b3865e8ef5f2b42b3fb00017c933fa42cc8f0be6e596ec2b11fad3cc6ac127128385b3f99ffde3bba741ae21184c4ee16c88acc6ab1fe02647f72f2169909e8573c32d915efad1fcbb570b3d289e0b84b9493786788d8ee223b985f3eb177d2f9ca62676d60d229a084a037a97a0f442a2c3532ae9fdaa3e4da4fc8458a2025bcedbba4b9f452af6125501ba8e78b7cc04c82f2461540b15c5383e44587d8151e1de0f75f9e721a0702ae55a0930e21a1fcc9aee62c7b9a315a10cb43a6a9293ed6173d0050ff93846bafef0c4fddb22f8abcee0076184863c6666e2e94fbcda1cab4352c956a4e658124d223d631245250e5fc1d491d1f185982c89de7743abfd1edb31e20745d8f919873208872f232c26aee2299c31f766a09e5237f3f669cc19e6f59922614ba5cf970e506ed38523c9876cb6b41a94d1143d0d937fca869640c4b76f3bd826d7496c519a39cfb6c3cf84855b16207874bd141590266d4daf78a4213536cd08903a2cde5ccc3c868f78fd6112fb438b1dd5502a1843718237e474ab3c493d449ce9be77831199b6ce70ba50cfaf297e00d357215a5aa6b22d83de61ca5422862e01b30c7c9071772e866152351981ce0c100b2462e3635d64e9f7508401145231b3508a70846a9fd4251abc3fd67477975f28cbb42b63c6cd15040245ce2b9e5b1231e7098ff6a6f221686f2b93120c89ae2ba7abd8876d610353573fbe970891db81fee8e5416462fabf96fb2903ca273ae6dee0e3119847963277624941e8754d31e8345e71a6001fb69230c9441eb4a87cfc5c909b805c907ddeb66be28daa4f090947effe2ffb5ce7f268fc2ba1c88f124e0a898bd15519efea9db8f7f81581d838f3a81690bd4cf8654da36477bccf09ea8af53fae212c09af54fa1fd5eee0c09ee2cf3e2d5e0f954e437cce459ba33da0fb533c98a3931feabce0bb6b865654da9c868799a0da9bf1cef89e5c1ab7ac064c04635ef375f8f8a230bfcb3b3acc880e04aa53a7d5e37607f1a105223e92988bf27d185565b461e59a30ebe0c3893c0ca060d1277b9b67ea7e960d53e9f947e0e0c644c05c0e19226a53853ecf4b04799940cd765b30c0b263cff377ec3c4dbee51a438c70d3510360d56762cd7682aadc5a6ab3d319aa38cfb8b4dc6d74791c1034b206e0e36490e037e41a1470a5fed497a5c9a5b87ac3008208994d15fcb086774f3ae8c181dfa7757d71af66acb645962c3df33651c02a24dfc26b4965de864fb7dca8a84c179b6844cfd865c261c70da88f6dd028d7d98c6f444f03356767a2add35439bf54ef8d126c4214392059ea1bffdd4075e0cc036dc81bdd025d29d36725724a69b6f2685aa415f58349f6ac298575f03f952886ef1d0be12d33e073e363cbfa202a6b53aae0e3039c423d2cf6b641132f416272683d763e053b5c3d1925876be4b7bbb70fb6bddef61d5326a1aae85ab94697b99efc14d6abce437a9e984645d93d51554092e3d969fb7bcc7c3b38d13f31dd0d6f7e7569683f553a03b37ee4fa77986ba696baf4d83ad65e0230ca05164838f526ed8a7551b3eb14d08132f9607db8a910153bb2a4c5d52bdb6b42870bc7d12a7144ed14762421b196b0db4ad0a9f31c935a20017adf2ff67316dbe3dd4062704b738e52f3ccef5d559a41c6c62b38ca43440c408ee45fe0d6e6562de540c27353c080e67253b01e46a8e29db49a8aec8b1b0254d25c888d24498584f89eba2cfe4b0e1268e63d7e05460a19d2d0e34d9c93182c536d4ac0da3699d2f208c33a838635e4baa656d65fbbe4eb1669392b17f332efc130539628839f08b61701dd59000366f628fa8ed59985e6bdbbbb77b9911549eabd4a1001afeac8c2f2d85c591e2519f545b1371c35fc44be1e410bdc1cd46d14f6314badb4375218237fba9591351b6b4d721124e48ebda316c73460a31678228f3ffe4ef5654260cc27e21c00604631272ba66749ecf5c0382f2a8d8982d1994a658c60b147ff585fe2162bde322f762eb3529a59455027dd78c338218f7244bb0835f05df6ce7fdadeada7a344ec8a1ad61e02ffe34b1f3559522a1696451894b8b8551038edcfaff04ec0b26a21a73f06090221d76d14542036cbe0579c0fcfa7e77676da5206e063e7da05f27409e095c13f46bc00a69b674ce2a8b036e752cc56f2b246f3de13126c1be3db0de50acda748b95b0228bac39753a806f0b61e38389100bb476bb8465c986304b7ec05ec23d77968d4712838860cbb8598d016cb0da5cad53eb225cdf3dcd5ea00d73714ea18b61bd7f6df2ae2cef50a23beb1534c91770a45f599e8cbc81e579efd8838286e5c5b6e4c88324ff5e62c3c5df30992e0d896aa6fd397719e5afbc9ac9b2bc7ea242265a1b05f48796edc9e412dcc0af9797c023458f6b55a7ad1e27b30ac1d95644ff1c3d455742499773ac48cd68f3e7252271ed034973c8d12524fc9f2a0655723a0f256f518354cc1d82e960087cf927274332cd4f83ecac516beab54452e2b89fd9eeb74ab83b5325e6bf3f20b687ec73478d058c391f54e8ca77be50ab8fea3357c340bffff312df6e0cdde501316b3cd915564f4bb9e6f645ff6272c81f405a2af6c560810dec7afd464da00adb3ea85d53a94e8357e7efdcfb565c9e83694dc652a3c9f0f98dfefac8a97d9670c8cc554c464cc02a824eca130b2bf4b67bb0dbbf41b9eb0ad448b44699ea638401e842b6e93c319b329b8b806c66e2cd2e1cadb57dd92c84bdc5a173db1c19d92589f90e335b7e530caf4c2915e742fb2029d860294b6a2274bc0a56e87fcdf2d1d2af893ca2de7d40847ee52abefb19dbe000feb4eaf4c31e8400b3bfb693e9157d818e45d63c5e380d612d824e42b904e43bc69ccb0bf033f06956c630508d6aee4bd3ee8553ec7e0286d681254f0c42d55005a95451226fbd47128f1201022d777e3dae59c51b72a2acf3b80e748e5ec58a6e84c20f9305e18ee99056625574e030be646b10dd815f8472cdcbc68ce2d49e363b9584c957a669667a07664440354bc303e8b8c9fa7a79c8b96e5906c87c78ddd38a1827bde6565e4aad29247267b7df7ebbff87e4754b51ed5fee31362fb7873da6cd8c08182d4db1485b0dd130176a0dad19e54b55fe2890b85175d47bf3b0ae638b31d1b5defd24284f6afd1ce85ac59746e293e4e425f5616bd127a55bb6642c79e06719346f6fd9c31c1606372a9f96dde3962f7d787cfe7b263db35d76400fe718bf7812cc9a3554ef8daefec032122c2b68da206680a66d954ecc6daee4b5ed63238374b990a28c95d35d44a5e1866476c062ad11e3677dcbd312f1cb98ce549ba1b8e09e621e11a58b3cec989602fa3a6921db9985fb10e4e9e7d1d2e36323c00352c5a0c642cf1289ba0dae2d1441ac1e5570b1f1815ac09b9d8e45121e1178fd76804b6f1a0076e27e41ecff5d8c66feb7e5fe6c86e2248f8a8d7db4b4b3714f286492415a7978f56576fd5639335413e2d68b68bcbddccd13a1e8fa6f98a469d03f7ad4561f68f3dacf6f93e8392597b65b2dd8dc4d34a3eb734a65d10e62a32b7742b49f53cf5e475bdaf69c05bad92d8ec30fcacf200964af70ee28d172b2d80c2d1467f24242ca0016495ea5c68d6d1526dab12b127307ba93392650c305b5f4a73ab5f8ef43174210f80aea79635b967d1cca1ba17ed6336bde1019854a6ed4fb59f2069d47a306e047f3af0c08bfab6774f044f5e5f4202f9912376eb0bf0ebd9127062f0915f7773b57e44b754cbeba1183467e8b566248ec3b1619cdcce14983fbfe0485aa6747d92393cd0e06bafa5dcced5470908c10436ea0a7c58c0902aa26f06353ad1a95edbcc8e11825e2105cc1be1ee0ec49e473fa2332d2b8529626360c1cc3d001df757788f37c2152333b177a0b17bf2ca96556e33f85312ecc315b499a73f35d6727c67a0cc23946ea8ba64f500142766749e1b41ba117cc64d158298a246f6e5588ff093f9ba3021392ec93d2e5533ccdf7abd4b6f8fbad54ddbc20d0d78af2083a0d00074d54e18a596e7e543f4238603718309426798ab53808d8afdbe6a6bad213c7e38a1591d66b376c8d04aa37fdfb1b65d0675f69cce84f18841ec036fec3ccdd0b51ebf5aa77674035141b0dc83e30addc7b405e9d0e1a4ce768312ee461717aecc6e735ef4e5902d693af6b828d878aa237fcf8a3454b6d51faa92b59b2180a1bda97eae75f73f355c8a063aa7ce79119026f8ed2fe93c949c37c776f1865d0c0fdc916006e32b3615936c9cecef4ab6cf9833f01b63940e918e6b4b2990502ebda2bc564b3dd5724d5c184b7ac6ca1ffba666c112540cb12c2c380e82f5e62adaafb028778895dc088b297d949def200c4a57af464441f5c374cb3e98f262c622bbc35349423ae7211e84ed1b01aa11eaa3297f21afc08aac8fc966f17e8f0724cc98833a1684bb72a5b3725930b6796122ea76bc880bf1a656d7dae5386d48048cd9a4e8168d63977fd79a9fa6ea2971dd6ea74ab3aef7fc0409a63728be2ad1977be060a40800e59897c03dd2a36eaadf524801eba50885b0e34900b52f0a36cce263e3b01e9c69db9a51266d55e8654c67b8e2f7f7202509c6a24517a73e961b8765ac5c362d68e9a677de7ec3beb8d7dbd02a3b5c87fb9168a91d66171360b4a1b6de9c1381e9307984c90e2fad006bc3758c548202d091b3185b98a0bac53c8073ce9d545544702bbf3ed926fa254450bda5101e6d39b9eda50e87b174e4aee7c7b36aff3","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
