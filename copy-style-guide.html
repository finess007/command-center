<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"6113f0766f14070e7b7aadc7294e462d95b968464653fc8504091e1b7a7827cfea67e66e9d2d12d6c126206c610cdff60fc2f0c235d46a24a406b7cec0bbf885beb8f2a998f4267fd694992fc5d7892e3bae8f715da12f1fbae2fc0eca2b256a64147bf3731fa8b6af4677f530e9dba06a432e247743c5cf4cd39e3b6428eb8e23d1e29958f33b632749118120e61e3b1001f6b7f2462bd5d9dacbde2526a5f21296df9d234dbed56c841a47069f07b3efe3861e82404845912d5db385b08b3ec674d36f9c36425897c3a0327f19fce6e3aa880698ac825dacda006cad1fe2aafc523019ebaef5a85648cdfb7791c1fa0c5a0af2d46bede1beddcdad7eecd8ab2a1185130df93b407c22f21d4337cae3f3d78fc1351f45c9ab9f42aaafd86c545fe65de39704c5249c500d3b1e0459659010ab55f686495f09eea5ff6590d3e86c58e129f0bca65867355250486bc3bb7202838f5c795985ff63f1828485a3f88cb53761553a1dff58e021b72ac700b72d1a1a1424d4f47890e28929e902352a628d0429fe873d5762799975ec0d20bf595cacc5d81701c1bd097e84fd270b73c8dd78d2e8f351512d2b3f1ecc4aace359289433045970a6b1b37eee6129c61dcfed60da1587af8b109f2b2a9b6e59689585b9d665e35be50a9bceccf531f19bd28fc793bfc4c084b4d0f2fc197027e5718c665853a730b3b2135a86a5ddd27becc51606552f2e58a292fd9875b03380fde4e3abd11b9b6480e2d3850eadb6ee89ff6b13cff1910a51d9843c6671703216d34e1a92f80cb085d77bd9d9e7c8f367f7ade917a78f3b40712351083c0094c6bc4d38b42257502e38901d5b36b02a8cfcb2d5bfacf652e0dfda6e44b7d5210bd8c5a25c1c2af86d7112e04420883cc2062e485e151384dadbedd14e76be0823f138b50718e6718cc9bdb46e64a737a5e5d28df8776d97885f35d41744025da9bad11d96adccdd842b8a679ce22aee9955cb7015c2b93966b6e643754d61e3c911853c279e30d9ba497dcce1b76871242844b84fbb51f32409d73d1d309d4294dd9e47f7701f5445a50847f545f60c5e86de04772d771fe7a9cd31dfa5ef6c779465edf467db08bf66ee329ae637e6d4d5ed838e31f08637465d5ecfe556351969c137988a53bb234d861318e02f9498a447c981f94e69e8407c95a90d7f969be042479fe5d51acef42c64780a34c7fedf252f00f80c2ca1f16afdf615c4552cb5b635d9373ab460f894dd8ba6fcd78b3a98746b7297fbad103d3a14a38bf96a2b322a59cfe09d7290e3031a6b78c12b83b1bd1168544390c57e8b237e6eb8bd89f3d376355e77ec519c16554bb294e563a877cb21f091b3d7888c1fe5a9bd783bbeccf2a48109f147afeb6ca9cac204313bb8b3ef7787f7d7bc85b818b4dafb70435ab5e517cdaae4fd091e46756b49f01fbb03a3104c2ceda4c341ba948bfbe2cc4e5acfab724f18a519f534e34ddf8fac95f89b0966af40fdca1abadac04463b51f804f67a7de10fdc532ffb70a41cb70952db6a8ebf9a0cd8b0f44e79b3b8109da4b0017fe7898638cc153eaf3573e81cbc734dde86d20673a0e2d3e2d0bb0ddc28cc26f1205bbf81ea843716accaa663cbec02296c2553c0bac4cad4f71fc16a026da18a7e7fd426606cac103eea58e92a1d902296ba047c9ed5cd2a7bac19a57675f09734ed8867dfdaf20644706ed4eb7a0342ece7f1be5246544a60fd177a230b737b345abc00b830aa6c6ef54782743ccd14dc654bebae5a63fdc7222963022a5941ac368691d28031ec039f9bf1f157ef0bed808f838cb47e6d9e9293f8db63b140f5d3808e8f6ce08714e4ed35bd1bd13e155945e39fd56b62b9834d7dc0f06ce84c7631619c52841a34e4f98ef217448321cd6fca98405bf9ff10174183669ca6401bd3eacbd3d7fd9f7ef825a28f5ca95d4b2cb70664440c734e9527416260515025288c7fd38c557bde369ee6e1d7b87dca6c2f542c5d6af76aa5316fb094c56804a0e91e85210e3c2415e64ccb4ec511a866afc71baccd848c173644757e698850d85c1f83a11d0a857e18ebbb50c4e18362a6722831a8fed6c8c28f5b5a0b1f1e37bfe7be5bad24be0df199f33b49b234321b8d919055fb77bd253b4d7aeb0281ca65e5801feb13673f70cd47d36539aac08f0dcf12c2e69cdb783dec67a72f8b5e008819f63ece761112ad2778d0b35c8d65928b33f0a6414d81002bd73017b946d29878a7488afba3a1d6f8e33f89dc18bb8dd2583f4351d8bd272153a1fb24e2823967f66ae1b23306e4d278c6d8936d542fd1552601826d24f62adb24a28415cf5ebef3b81e7f6cea6c0c696169945b2d99fdf985e862ee805439a03f40aee934db640b2ae8ef172b12959c7af5a6ee4b29b57881c15f6e6136004fade5419d1e5578ea31d774e4293e679d2692c46ab25519aaf6d3d9f17549594a7508ae621529095b3edf0d00e257be23716b655e4e222d00f5d67cc19b0a175d130f5fd663a939c6881ce78e5b76fe7f9ca947a64575c2ed145c4b2944402051f33ca03f55527c3d4e5084f34d6e09639c029cff63439e192f47d6b445dcc000d7ae1d8899f2631fe09c723ba49fc8f1d4bd169a8124ce595c89084b45b1cc4f072bac7d8348c84a8bc4a6aea8aa375c8a4d018310d622ad15d3e29cdfb951cd912ec03e493584baaaceded2d0348e17ef9b5ec9359927164d2c63beac448405f603f1e3a48ae6d6c16a5c305246aafa6b56a36dc5e361c4696a99adf54635498280a7266e5743688f5ac8b7910eb8e886546a21ffee07c143927c60175363315a6e9c2b4f11d034576cffec4515d368563c9a19e05ec01dcd2a397e0a6d8104495d0e3d163cda1ac6b5cfab9a27792549546c6ca74d2b590d18f146f0c7cfd8ea94fad778a43cda911af1ac63e3ee04a0d3a6c91240cfd43caab1e88dd651d4f94d6869cac44675e48d3f393fe7331d1ac282eee406a3d824a5e65c65ef643a923a1bd400c3aaa5aac4d7e5a5ef660d99b7c140b67433718c7ef77f0ef7060fad91749c7edf92cbfd9b5e13b077a974ed2acd430bfb4813c58fb2ccd683c761ba0c1f71d335705555368dbeb2265dc2d96a6524ea16bc2be074beac62c8000b5d8fb16478a08e6ae9ad9cef3a91a568798825308451d16f14b29e4009215a188cb58117d9623380949da9f355426f5150bfb7e8b2c04b920d331c1a99e79d46f550ea4119c7af2733d14e26ddba49a6e67ef36d86b16950ad4b2a8f3a6f062d0719adbe5d535ea3611fe3b66966c2f8452a6e3a155aa74ce939320e8dfbd4066376c789600cf12f87f4a69cf8c3e2177be4484adfe5a477241199951143b2ac2817793608c3c64fc4c4722bafd4009ec7e8a23efd9b8542bf36a0285f655c6ef498703af39d00399fe46f8bf30ef545f20ec2f329131afa9cb2a0a1b202aeb454cd551752a160fbffc68d0394b784f41cc0ab04a6023425043d2dd1c475fc903f46e1113723ccce6e9c2551bc65c8ce68d637072905525e51a46b4ff0c3392b3d0f93a7041f0ef12e320fe8157db405e7467b9618b361205f68fbd8eca9fa8c77eb3c91d2a23f15ec8956efddde87a573153b4a1d44053d39d47839fe670717a7a9d20ee377288d6be629f6c14db60bb307cb3386aa924ce20d7f611f2339af361262ba23b778dfcea5327b341b05d8e4dae5f8eb5cdd100362a8bb57af8b03b0d20c0504a78ae62a75af6363a20e3f414e5dc3522cca5d480f5f9244571767a8bbeade4ef0d0a0fc27e76560e778c25d1816862658acd4145379d12ec0a9eec5111dd0a798b43f8614a36ed1605a319bd6c6367c89c75b4d841788e3bd075a5d2db941160f37d6c2a7278b589b32b398ecac100ec8fa62ceb97084062ab069adf45f4c3d644d3800ea218d4973553882569636b5d1b031d71276d089ef492c2248daf364b6d1dd0f0ead6205e2c9253346215843838bab805de0d565e4a5c69bb2afff04c31fbcf5e3c3f48ad585455b7b7729cfc5c36d8af38f58264ec4b49b5249460a1d4b4424423fa09339562d2ba129e4a2591fbe22c6811c9fbd4aa08880b029362534f97b2618a9f64d8beee30cf47d781a172daab96cd51ddba407dc08bd7fdd938ce35b180992f8c18e142ec9bf742de5c1afd03534ddf93217104c3200849e00d5da723f6601407c6c2900abd1ae40fed82e646dff776de1746b5c37d12c4d0fc4b2e9a6f6f3ae069c84ccfac39262798367a0482abef2d2c0d721fb431f4f16942f016ebf2bd7b40a38f975cfab64da28ff7a6ffb998f504f3286bd5ea676b80b43d1a8b4312f96638dd52edc4e25c714b9e595fcd19e62bd961b3c60e88a6c2c231404931f87fe3e0743dd7a14e7aeda3ed3f5f594e75189663ef92408d34ecb452f48d8e1d0640c24c27c63de4d8919f0d424a3fffda0716ea3c731563117a27f3f9b22fc820a79ac5803a314fc970dbba241fd2ac456b0eb3a966d1c85accfb557bea067cddb7e081df362fad4f0e090f709eb08ed8d528d42b1532f3a9bf2ba20626cdeb4b525f3c900fd0a631239b9427e5f4ed4d478727bfbce32821fb8dd13851dba502690f61533aa95e4971e52188c009bdf1c2df7f2db043aadcf7ce715dff5116694bc02af74b6363debfa26df439ae4aa2b407be85d521ae9e1d01c8bb17a3ac909026686f2d60396fe34e53b200c22feb82552a786208cad8d6d4fff9d398fc065205394b8ead8f30054df7d4db02933b7d165015fe1e44428a337024fc6342123a85420d17463defc2c70b0611c2655c162164847e64a6521a94597917dd0df55cc892eb347d0485e62b0bdbffaa058d88962baa8fe2f1aee19e99de1c67a9be407c749bff403701cf9f72fadfb90abf2392b598279988073b0733aecc698c511c94339560049f6c729c2f192238f43617a6c3d396305d5295dd86f7f0464e820e661ca5dfe3552d944be2c072f5de3c5667e4027c0e73ecd922ea9271cdd9908d1d7ef61321ce151846d3c967b07e4f34a75bc8f842247391a4dea2cea4fd84aad696d400aabea05d8e8b5ad24d0924eeb33fee817578082b25f4ec0486d1534a018c4b5a2c183aad023298b58908b7aa0ef3476284022514f8faec23cef598fd343522b1ae30d0660e85cdef8fe15b0810ba7ad556308e9fe90ee2b06c4914516913042d475f191729910b6433aafec80d0de85502f87607c57eec1a80c38f27372a2594bcfc6b1fbc49221a3c71a203d6530bba1be21d8c85ef602a29f334833979bcc023fc10ec85e98c33636261d3242bce5a5e1abbc9502a78cb823714678ee10e50092af3d8591bf670fe8a275bab3cb0a71d643e18011fa903e379fc5c731bff55cbfa488938208c6038652aa63593fc49b9e802a7f2bac84893609daa3a80bb662f5c590e35d6d6ede521d6d750881d610a3cf082255e6c531f8e73cc43d4ae722a03941a8ff3b7bb47c36ac4bb7d983858b7a87a49c11450437a9b9ab6aa7e68dd6dd71810d81aae20a4a82ce5901c231f11dc315283e9ec3bc5c9f3a9830493e271ef95abedecff32a8afe93932b2b5085e343371f027b38f3ecbd271ce6ba075f7584f13f2eac69af1d0624232fef75bdd5abb269bbad343fc69cc1106298d436cb56b1237434144833d1598b9b45318d5df5792df305a0dfc5a151ede3aeee993f2d3429d0b3327dfe54449b5d5dca1a3c35dd9d56d2d43ec88177a15879a8069ae5c1691cc29dcb49d0cdb5eb811d906be515e88973e5408ad5c369c765ad1d46025d8e955cd31de4ce5b8e3f80607b5d5b4d28f1f7dc90a51f3d846f1b7b4b7d16e6575c060bf00fc3bbcecdc0dc4cbc6c3eadb5030187b9e4922fd296f7d4472b7baac23852e61b4c621968dfdd08a2f59c6f3930a70cc40bc5cd173b58da1a2f63807d168c173c8e2536938b2ea7de67dd7948126862c35418a2579179e3b6b8acdceccbf030b6fb738c060ecd2dd34e19986f5fef0f07f0dbc155fa009b765209c5061a3013c9027b06af8479fd4c298713c5234afb0452fe4f67a9f4e094b36e1ede609b8fb85ff995f641302b36a61a1e82f078225b3c88722074a9e3b153235a494ae1ee28de93a225ee0df1f573f32d5c216e4635fa3ae26404acff3747635a578b907ecbd48a06eef659b5931af6072c5b503f5c9bd0ac6ebb7fae13522d76ad160a97c46f025fd15a2f3ed008f6352d16141112915b8367af4adb46d07c01a7488814b489745c2c867540a589623644033999cd72fe0900d733fd291992aa52f0e295acfd614a61270e2a6f66234d18c44555e64a03d3984e0f8d69f666fa20800b75036a3a46c80ca061a872487f4bd1eae981ec268c819e2b10036aae0e4941bb6abde7dfd8867c0490f022314415b7e4b22a13ad0b49975ee071b02ce01525705b13c601b2eb657b6d9f5891c8fe26dfe44592660366ff9a56a098e0b7e6538457007f93e765fb9f0635d2e345a2407e30c1c880275db92d1fd6a4ef2787ad9acdc2e9885118c535e1bb044cfa94ab67a2ba11dd9aaa61c7d7eb754cc9e5555d68148e88d871cf36be4073b31b88662afd372eddb3dde74bd784fdc070d783cf0529ff505bd854350d45f4510a80657ab057bfcb6f380cf5dc23140a1ba1e0b06f11a5b943d179a1d9be69bc8cef14dd2ff83f4b3da4dfd7cbb5521eb28063530d87a42fc9a370604321e947d872c79cf2c133af5b95d8517724466f4f08452f5785d3ff343416c117a7ac1c36cc4d60aea955bdbe677a0b59b9ef49fb3a1b46e596286cf1d3815a8704f418aae680309e156eef644242919b6a7ef30b0eb0159debce1cd1326824624e03650da7a1325b012744bd4f672f7eebb829f972cc6d8d9a6aff3543fa5a77e0e6469fe67dca1542bab65afff5c548233213eb42a212141e4931e6c0f135053046abd99894e29b132410ecf4d1223495fe6d2f3eac0742cc00f90abf0a474a334f0b041b957783f5fe6a5c53e336622a6926fc0cbfb2c32f85f20d92524e64bc534985d08c74797950e9512403126771e7311760fcbf37513a9ec66b0e6d2cc990208fcdfa3724c194509e0c5ccd02e32c393bbc5298ce4ae5ffc938e96ab22cb8f5081bc65980dbc90ac09ec430d7f44852f6a8dfd7b9e4cdc51b09bd5cde297e3df902a61c70f77fab046af356d4ca6259f9c40bafdedf396720681c0e6e5c6fb8fd58d9a512fec192fa3d8472c3230a80f679f86d1cdc52f4ee2b01910a14aa2ab4022ea0dd90069e5082622a5c547935664acd7a5fe3cd52c075ca0994b06e45ef1cbfa8b15f389a822366d8ae1393efa613036333b271565460360da5950a9e332984127eee9fbfc74f764ede262482a613600e66fa4222d99fac9512091bc84c86ce2372b055b1b44c207d536f985379fcac9a77bf5dd615902241de1f43e7b75e8d98f7e81b09585add8704037bf6d41ba7630d19fb1e120e01efe8c90b59388c687ab6b9dd1fe408da50526be8d3bb64689d2768231c5b0d9ca212b5239a51e382997e1cf166f6f7619c20f3bccecb306e1da8e7ac057537d283fcb6bd079b8fd987a51494d38c0d1abc3d45f9e3b3058d45eb63238ce0f0c377a83031333649231819957164543422881937e34991093fce376859bdac5340882168eec14bd06f56e8491b3982a350eaa8199617ccbfe8444406fff0e831a351f5adc542ae44ab7ca90439c46dfd16d28124938f6c7b0558f94aea962813f5bc839fa94376ec22b8a9c4eda35c5d2145411c2caae464bbc9458de2d0cb41bee89384d1b371ae82ad3882a0744982457597ed1d3f35a596a493ae5fddc0d4c79888ab618d753638b993d0952b07a455017a1f3de5415f6484e4db3faff469b0cedd18b0fe8a160acd32e5561ffe083764ab90d28e7ff3b51d71230feda67fe3019363de9e05a49a52ee5f44259b44559dbbf03e6a9ace764c94e4fc423f7d09e686319a8dee28984c2d7dd34ca0be18e5fdc3dd4bbe7afbb07757192d445f630177af2b8be0026d5970623a2d5fb5f01791b661dad9f52ae9512a63a7473bbae64a924d736deb4abce2f63909b923432fd0718108d9b5653a4d805727ef5fd58fb5699453905ab7eef89acbd81e1ba0c2bf8751d90b9a3dfc55ad57b2333630e9079a7b3d4aaec016ee41eeb32e609d61bf09bdb7dcd5387c4603e8ae99cb21a83145aa07af2a4d0267b32424837ad2f1db15f20911c7e79b52f32c19021a945e731e5a383384d07dc3610364c58babdf140dd58f82ab9c6101d204af4e7d63ab44d385933c4f296a404a235ab55eac793a69a7cb836013f8a5a415456513c7ffe3945470e277ea399b046f1981793528551960709070e50e69b0453ac951530bdaf574550b2cfc7d44d0c20d93bf079abd0914807b7b5f94adea1f80ed5ae843038859944dcc7197329983be6d9cca4016992bfead24ebaf6d6b1ee96c280b13dae2f9423a9f01274e3f5803b141d04365e793b76899a99e78cb6e215879e32175c80b12d4a6b71749f6f8fcfd5cbe2ab5ab65a1905e860a4059dc8410efad0b7bb442225dd3d4b36bac4eff89e1506deb32fd8e03304986f77a0c1fc0a1d3797d97e3dfcf7fa634458ec11ad8a4e1341c7bac99036474077a0d971f67ade4d9394c6eb25db9a0b95644bfa7630dec1d99d3396a9fabb7bd2cd259c08f19380460fb7fa5f6bf9b52dbcad51ec636d23684d7d8b2515dd3da22659523c636a9098730d366e586712097befd890735bbda21388a6424d734e96c40fcfb6a41f54546d811e8b7186e1cde5f4a6559f5d396760a4f48beb7148f3c1f7c9f609cdeb9683cb22d8fe903fe8dc02e16419b49f2b0444462495eaf3c49143a66a84bf613ac153930eda955c37d8e5df8c98e59e330425888601cdc9f162f70eb604095fe69fe70d9ea1fa11ebef685bc651eb13cd982fbf84d357fc8928c7cb2cd0675a0128dace22b87f26ada1962428e286dc122d87e1bb84004d7575f1e5300f565385320773c1152cf2c4e2fe759adccf06fec49b046af370f8329f2e4b9f524d1d9cf93e56e7317c1f061e905129b40cd0bc672814ae702a99623abc64f38ce50a6d89a5699f2d3e67ba5813031ddc06ff0b37bfc945f8b91a4f809e2e8bda2d6a408157e3bd3385c076713cc96d446c2b21def29b964ae89ee8ad4118374106a40d9e4631a4d258f811fc9ad07ed6c034423183888fa8962b29491714738f7349226d10d382675a3f106cb36c9230fe8176298ab365e28a48c9cdb730a49125785ebd995cf7f4650c5a1921fef2251533a732c84287116120496b4d6244d8b060b506553662fa5a815fd5b1269029857628ffe225805e017d66f0d022e0206ea5768a024d5cb97eb48fec5451856f928422a08842cd90dd8b83765d8fb82e4d0703e319351ade5b986ad52fc6e36f08b9c2d1ff885ab40861e36fbe4cdaa6d41112e98a14b01f77210bdc5f3b309a6b80575464e75566c478169f79685eac4bd78e447302a76c4926400fd50dfda5a2b19a8f180452855a686b94413d197f1f40b51d839190180d313c6d8df0a6a5adeaf47f56186b9a522d53cc5df4be69aa1386b583501bda475a77fb7c636da05eeab84b68e2083f69e4675b24cf1889556cf432fbaec0c4defcea270d216a3d4e7c3c2d59960b05077ef35ff4157355f2bc1be064444791ae01c131dfebee892cdb2e51072d1f7141a4c890735ef0cc919e44129a7a0934179d0944478507d46756d23f9f0d5eddb1ec0c9e2f6e72b43659bfc20c5ffca2f05483483d72b446f5e5df973d4c2fb345370880facdead4d658f6596ab4f703fd1a44b2ebb9c6f9881ca25c760da4e1b544c2dfd9db83a837d2561ff4c41ce73dfe594a35d661e50355b1b0fea8ee231f8596946e526e3c59c7875fb0d56f05e11da07bfe81aa150600ab43cf3cf2b12391d7c2b6f7eeeb592ce416ccca12963784e03fa27c21874ad00aae6c2757c5639728defcf698342a384b6719b86f0f72b32219f801cc68b3c923e0168dfaf1475a3ecbd55722339b56717aedc17810d6593093059d53dc6aec9b4f03e0ced1a05c787192315fdd2e00592197d6996a5bbc27d46a410e6853d552927e618b5f393357e8c51f453dd46cae7c4251c047c1cb9ebe5a347b3936fdebce7ce47c6780207c56b9763d6d74e36267dcc33cb0ca17faa251079c62dd533a0b51159b8a9152a44755b24b0a600462a9a38999e4abcaa92c288b1c3048fa168d417a79df1908f40be97290fbe60d215a921d95ebc500bba62a68e4fb0d925858571d037987fd8bf7ee200260ca7c6248dad778ea743f9b679066116e86e8ff57fd31d9329350708f6053765aa823fcc5c533e571fef0008696429fbcfdb4a6292eea1501a1505dbbd9659b4474f9c7b8b88f2647e1540a46f28882ef1588a686cc89a2a150ce578ca36054073d1b29d16a5ce06442e42f9682838915a04d7e2b5984431a15b9deab99d0d1aa1659fe25de39d6107431951eaf6a99c5552d2834f70ce28b0130579ef289baa06a20eba43b404c36cb109433b7f194a30986759370dee16e18bb5f02a5e19e37f08f85b7157931788b009811d65f07be7240a64a2dd558f78c38672baf2d0efc40ba09da60b4060ce976ab1b53dae10934eaa184b129a05ad5ba870f0b0ad179ea63e86248cd68722ba5e57cde68107a9ca3516acbef6c79a4c9e5f8e3c3c187eba4064ac44b109ca3a32408d1657db34f7e27220b61820d1e6211f558e913539e1c056ccd8f667f62b0042f925f07503508b3dd2d6953a6240d2c99ddc340d5f27c562953b7adf0e7d969c25421b422b2749d1d7d914c9d79177a413bf875d61d2f7aa2fd6d410061ebb61eaf630ded6f05020c1ecfdb014a047e8f809554eb8bbfd90711d0c512bf6dba8e0486e00eae3f7ab3884fc5f4ad405d7c7df89e0ec0bcc7b0c76e7259ec2c5cb7329d581150378104ae5c92d63b8e1b2073e27639978951050da7b39a6d76171163bbf51cbb1d6116e8e5904decd21ea5ee4104bf0228d7e77ae0a5a518e777262c7f2ee708fe1a9690e5f587ed583a7e24cb7ceb7640d3fae0a5915d08ee7792387a9c6d6c143f72741bbc05a5364693db5a7346e4748cece0d7062b2dc8358b0bb39b770a786f71efbdcd397a7cc180763108072e8614be87c98a9dba1a8a235bd2ea8286a4ee9cda552e2bc4bfcfcda5b86605a3c8d0fd4db664b67ac66246fc941dee9d5251732068e9ee94e02693674534d3fcbe41f0263428a0f887d3df2ea2f20d9df4d96f4e2312bdcafdf259fbcd29e671a24cbbab1cc9259c39406d6e04692c562566e115ba23028566eb2e90f4c48a899a13633f8c9783ee518a4af264701a6b9cb7763e28658035738ac0024d3c778dbe963ef6b99e00a251f5b9e73725c20f64396ad942fa9f311e551544639c38b20b32fe44ce324d076eca59a14bd6d79cd43250444dd601e9214255a44526f39466c973e0ce33051328b1428c78cc84cd846c2b205c8a05d380a2ea1404079a13752928bdc176660911835738f32f6bab41bd73be668c518afa8d3a0046efde4100cd89ff7e61d94318b55472ff1429924b617ec26037af0cf5f121968ff5be264d8f39f7048a6e5128b5da0d3993ca3edd368cf9584dddee7fea5f93cacf0c9f64ecec05a24ac5b077a427a41c314e9f432e8ec18a9a51c227190f0084c8f3e857082458dbe9ee7e929aabf2eb13f56ae5c57769912ee94d5fd41576d3f8d6b7d6283bd2034f3f3c0fde34d854f101cb09bae580bbaf1d090be782ca707c30c7ad0bc1acc4d101a8c4ce3f1c6cbeb5ac5a402f81ab1aaae2e879cc325823406cf7644ce0192a7b530a6d09b0caa5a3790a35804aee9f766a54fd41320ce6af8715fd3f783e16c712ee4522178fedb2ae5b1ed1cdb80f13c115da6254bf0d349522b8fc9480051523b6babb5420bcaa887197d04271838a6276fb02fe8e31279ebf7759f4534dfa3e1f9d51bae9885742272e33518ea560ed845d58185082b518e24d5422da9e13e1f46261cbe164c243766396c81660616ab44f1835bec8441e4ec13fbd5ab3f3336f58cc986a162cd01590323f1b8909380c96d63186c8ad731d99ce948da4df7df87d137e802177a56defa8185fc379d66afd708d68a9c9154cefa5d16c1d3e4e3442c8b9aaf7a02f9298b7b87bcb6274c093fc90585903fc431b07a40cb8f2868f7f45d3b177fedfbcf00a3df62592cf5d60d844c35c665620c0b8fdc83d6c3eec35ba235d16c219ab5bd55ab5178907e47efe39acc7bad2e5faeb8920a6dab150a32abd96ceae355422e8b46c75622d9e44dc20b089bbb7ac348d43ac0391a92c1c450690a6480c8833d625b221f64852b638062eba46827b086e48793dc4cbadd7f644db9bddbf221c2630645724ba085ceb7df3a8ff706c2be71f6c17933d0192caf7786702f6843c4e21bb87bd9cd328d547ce68d032feac282dc10d8d1d044b76c82ddfade93a60298e863159c7150cb9ead7d9234776f73980a5aaa6bc02b152cc9b208bc86c0b8563ca2d31199774f7d1919a1049434165521fd9c430f4d2209f86c4c21c89ae7ee3064340e26259804c56dbb195fdd39187bf0ba99c7bd88a3d335d939addd078ec983f56d8fd7199476bf8589f895b1e448fe248751ed416381fd9ace223d32408b18589c279921c54f8a0fe70f17785b684852eeca6b2819ec4ea522eb7b122da0ef62572b0cff5a6bb7fef3b44cfd731a466ca3f28562f434d5c985f1894037456849f831596b7c45d5fd85706cdecb70a0809812c449b7ccaf602410acd197b2e809416ade44976114ce8411da666e16e9884b073a37c0b02429c0d62c10aa8991796299b5bcee91c170f47a1e46c124196490d30a60d360246a0892d02d6d05c57af8792823b5a1d3c2030fe27db685c0696153fb592d34839b4b47de27ad86c0b5f0550fbdc908ad13dc6edad2db41c83a82b369fb6190271148e6d903fc35367c77551327ac70c73bbb2bcfd84875c0e9dfeca23aa4ca881624b94f0d5ef399fdfd3173d515b3c799608a3451c0bd184c1c106a09f89101dca47257ca4ebfd6b6b3f8e240a9c4997afc03755f26944fb5b422e93fd040139012666ed5201f24cf7051eae5cb9bb89a297e1e38c3972c8b4145db4717f407be5df0f8da17a3c49d5fdc30fb271659e597e8406904cfe0c5dd458b7515388c95ba0a461708fabcfbc6b2132aeae8b2baa24ab7d779e0fe96d2fe97dd7536d651867734f0421c04f8149c64afe5b5e8d2ccd8786949cef1b8b4e23eef52fe7dc677edf9b1985c32c20b328679e3b299f1831b655c2ed7baeb884a9d2fe2fb6839593781dab2955cee24128ef491c96471704b5de151277a1ebade70a1b20b83934b25b9f122f609b4c5884dd25402b56821aabfa02ad0f352c5075bdb6acd5a7329ec8272879be396c2078042966c1e016a4134567f267dbfa9271d5e39b2171182b88e81616d75a76edc6fd3bf5418808f0d267c0cbf54a8684a751472fa4a55636469ada6cdf70d5673cd20b66ef0ae92f1bc8c179aa1440de107ab5f52e164d797392b5176c127437a43cdd33b0af55070657e612e9530f8365b8dc8b118556c1e0a4282d2ff49626a805e5d388b392209850add8bc0d3f57b8e922af498788d024fe24247f1b7cee11f248f98d95bbc99249a1f705068b17766dcb2b7b3db3b74ea310797238fe5a900f605db59598acc4a8dd4e15bff83298646b4db56b08cf8ee0aaee1641e00d0be9c98ec2b0c31424a0387c7a284511183dab07717a9e1c2d154decb7e2e832be0cb7c793d155274e7cfb171dae7cd6acb9edde968f034a271a56c75883cc3addb5cbe875ba30ceb7b658f2397c1a073460080554f116063f71db0a7bb07ba367ff064941a8d2b19aa84f51cc71f5f69aac459901ddbd8ee0ef2f33ff9cb430c4f0258400600f6ff89ecee4bab058b3acb0da10580092f8853cd36a49939ac3681d4c945f80ac155a8663d841d302910972402486cd3d5d85e5dccbf49d5564e10e179780b9d56a67d42696c05226a184ceb1ea646921c8bdad7b3a9ba182f5e062e227c77c7d862e0aedcc5cab2b5ce22994993bff5754459e88851922363f3f8c69cc7beb076cabc9dee6fcf09dc050394cc8403ee056e848019d2c8c961d70e0d7c8411711aaedab8044b2b590118a5561ffeff155f503e5a0d3959ef0ab7717ab9ed762b7c06b40cb19ef5d3d6118cb08c9f3340f99ffebbc73442d16ec86db1cd75aa7462b39d312a6759093fa52ab8791d0a3a7a68dbe70c76fb9494ceb7e8e9ff86606b40f3c749da895010d9ae5aa7ecd02f12103ae5743ca4ddb94734499dbe0c56c97616ed72e508e79ee9b6c504acf0d984954265b9113f4989b2dd3c9435716c094bbcad8ce6a1112a0ef95d518eac3e25a92f86a4d73fd3f3b3cb8fa8b7fcf01a65c913ae2aeb8e219d74ba1ef4121eca6379dd616a562ead1b868b070757cd33deb8e1c17ecd5afce6511fe134b6ee60861e64a07fc58dc8e40d9acbd1f4869c97b46b2fa01a04618f57b282a17320f7eca8a05a4c318ebf5def5c9d87ac999da67156c8277c956c50ad260d324dd6c1049127c1fe8f957867f5885cf8a922afe63e15afaff22e264fb4b028823a304274b01fc96d1bc29c0d80372c225d3734156c950f1ebe72268b6ae40cb9fbf75ac4c4edbc9369c76ea5bfb64f38accd80e136aec4e823ebad6561e70466fcfa7ad361c4e1a9f630a1003f7234f71421e9d5ad048d68072f29512c5ff995c4055a9d094d1b203cfa0d299aa72ae59b0fca0d5d627c305373d0ffe5329c23b4b36ba4063cbfb2b18bbc06cc6f3ceaccbf15658044297dd6051b11d67c5b1098d05687d1398febaf068fcb2585ce7d714179899959129c6b3353feca66f4a828a945aa1d46a7f8202becb8d17abaaa21b1657a419060c18f8015af8a0b9ffeded6d6d5b85396e304e2863547c085995200228de76f4c193239569c24de41932732186a61e877a03eb783cd7472e67da57edc6150685578314d91f6ecf0e57fea4d69865694a2f7085728151d09e12a2e1e271b49241a16838b49687021d236d418748098b6f1d693f1e6234bb3f336360aec29a148e966d25b0767251fd070141cdae652cebfbb6d00804201f7afb9895df7363e52ce189f1914ba95ab979ff47f3a64520c3a9835adcb0147d3fa94c7b793d6de57e81e9cc7cb1eb68acec15138a9fd641b81927592d3c02b6ec0510894fd3f19fb42c08f6be8133283138c9939b090a9cc3e882e9951071d8f7e246c3bd3dc996d8f3fd8af6507551f8f585a7e55ac1904096071403e4302a06c8a28ffd806301967ccf15715d029a371a3e3570a821dcf11961a0a46e5126f1216570e09337b075ac668f97e1872c625d2b8ac105682f1d36943a13870bcfc70ebffe5665e1ea559d46e468b6e3c93061c9bd04ddc248e6117adfbe1aed598b92d3c78e3f5920052478f25de89faacf17a012190d6ac6c7ac46781a54403cbfffe0ca90284a66de5016f7959d3d3c30cf3910600a62d6bf96180ab2972d61c808c1a337e8ad4c2593f3a8eb5f97133e38c1eb0bc91137f649b94629a658697e0cc31f6b50898bc4d5caf4f35677c8d9d378ca21d2930802c2fa0a1e55399a085c299541af710b4d8258f7cf7fd558f3e676bc0287ef571bd6916a3dac47933f7763166d499cecc9165a62a3baa6acd19b314d8e72e6db3e897121c2db5feab1b31f282bf5cb8b54671ef3a27826a5a73d0f462b09dfe6c2a25eff7f9c639dbaa7d2400e461e0a3065cba834e1137b88011368b41a4ab441aeb5541f21f7de83fe924897a1cadada7839a5c8e4eb1cc2af49e4a9318e0c24e33043a27da8335d0807ba4a30a5dbf3fd7cf23509aa25653df4815004c40a2271adc8258c3c97e7d923f4682e871d4ed2a7086c02ef6ec298c182e0f11ed49d155655b3fbe9dcfba81e850b1848bc94e51c750e23c4204e6189b060609d5ad7c64f3ce37fcc7d0f775e580d82e07b9d4892183e93b32775e38117bfb9fbf0f62ebd971248238c839411266057de5ed4a9308f0465199fd3c5dc71382382e91968a7a66bf370d6f7a54d1be62e2aae8432c07975864b1cd3fc5f22f988da4a71dccc01924c13179f9b21d7430f7af97f40946457d4ad0a52f2b9c51910e41a87cc48c648ee508035b01ad865787cd2154532659cbdf77f0f0924e43d9ddd63a4c7ada069eedf93624919956bad05a1e94d99e568e00b8e74874fe1b0b14d5754d94c5712e182fabc4a9f5d178e82aa9d65d64c3a0cd8e56d42986eb2e85b2a977cbc890e18617dd1938d93cc471b0aa424ff61e53b9f0cee5e6c1a9cd2473b5b847c8a36dc2a1482b52310218f012a5e4fad2804ecda6306825203dba31d89de03d999cae62ebdd3174f2efc62068ff6c6e92f5e696d6735a03028b5e3413d2fea0eb1c5719f259ea4b495ef39413b898fdb813aa3f48876abf89b0834270dd4f5305f72369c04e4d7a401857949a71a4f7ebcd39bc2c60c654c535cbcc2bc5bd53e31db4b39e03e7e811388f8597b77262abab5733ae6ee756bb129c3fdb11b34ffbb793430e33782d962a51754c716da5c178d6ce2d56a5afb53c99e0a0f69afe043e09121093e9eedbabe92d009b27901694296b6f5ee014a8102ff76b953cd036f212ec536a3ec75336a6b40a740ded2d55432651f251dd319e8bf5a49d1015813efd3c1d330bc2e8e10da79c9baf934f3c9402f3cd96c33168af3f96320f2deaeac56973967b7a6e97c5819a5f696c4daff8d335721baf3545a82a93e89aaa94bb24f109dc93828d642043aa257ded3fbfbf028311f765e4ef01cf64ffda93ffb37f919738f3d4511360caeaae9e1b101808251a7601d51d463e691d67f8856808b16663b390798653c59dccd6e3045bbcf7db2fe2c8a6082ecad4999165e14abb6b83e66329304d11676972015473f3bff92a40500ea105cc816621af6b2c1592d34b368ad5885d53edeffa05e02cb3b7a4a3dbf89066e48ff76971c4410b69bfcbaa4e10331d71d35f3edea41802db8a749f890904b950c934372c41b0baf2fde0a12f200c9aa1984fb28e33be0038e2bc74a9a17caec04c35874bdc310648cdc0a38ede6897f4ec46c8b7d69aa12651b4aa5c34dcdff63222c724e3af34e8db5ebb7fbf67ef343622a01cc5707abb7aee2beaab7a146a195be03f1fb4fe5acb25c2bd1aaa07ca1d5e55f83fea62c5f52a27aa6d7f72db38b3627a4ef3bf77793a8b2587f834c608640eb47633178946cc8188f140a2f4c8198712ebf8deb2ca7c482aef975754d8be90505ed7b9205d7506480e77c42c7352633a784651b02cab870739e0eb380ea7130b16f36a521d8fcc4fb273e8ade64dc54e1920661baaac7a92d0dcb06feb7492f0a2b9a666e0cc8d281513083253a26e2730b79c71c096d0526a845687b21b19b51b210e813db8cde40c8819697f0c494efc2e621b10347218a7dd9a636ef72053b16d9963209671d27b46a4f3e5107c486375bbecc3d02c182407f9544cd95fbb2680b6762f2b7f7d07438d38b5d4142d2e44873410cbac83eeedb96d788fd82101d871c86af00a20ce9b515461e4647876b06005dd0c95ce433dafc67d392c0697812c44251d0ab183694a9ab658da9cb18dc5df1de4627ab3c980c1dc78a66122114ab329831bad3552e27b6f6dc07c0e9607dfc2fe8f28733d34643994dc81e6e69e23e21ee8eb1ce4cab067ee8739740e36af490f315b23de5ad9e2593f3e7d787d69e3e2c3f36e496f1be03df4c8d2013ab0b9e7d433de0c693755155abd50cf54fb619ff3909cd89d5f36ed30d4cba47a63e92e0b1334f9e8417974f39073932683c2aee822eeeeb038e51557493f3f80af0932ee1566d6fd4e2b183076ccfdddb6f5399e016cd9c3be1250ce1e73da6164978a93829f718a2a729d9862a8600bb5bbc3f3cf02b492c715e12030135835ea663a7383c3f4aab79ecbc1eab4204673cec7cea8c684897cc91ae839c8455f547df8a85a72d3314c6712a9b87e0228890f45d9edb3f8c50bcd913c76b6040e1c07561e2097e2a9006920c37be553d9a26779848245e89f3a3ddb414f03a7dbfe6f23de590855a13be36a282eec5f4dfaef5f8316d57bc94799f2f6a68c1075bbee3fa62de138d80ceeac0908c1183dc73803fb996c4d8e73e43edfb83c020225f4c46b87bd7dd824b3fa1f27117aac95b1203e625946a61ce40daee4b1bee9f56a7d0c47940cdd6787f10b71b7b3bd6bed3335e6e0c56a403338c9b83f97b17de334e1e2567c8fd2d353e87f3568f4ebd01179d4a02f00fe41d0e37d0a482401704cc59f7af45e790ed9e55c7c7bd50daab13add4766c0759d907d2eb35d91760e819d00471b1eddd5c96d1205b1d2c43a57fd4068b2e9dc16d203a626c49959cfffecf755f6d7c8ea8030a935b59547ce5b69c2865c827b6544c414061993b6847c78505c724bca46131c7b9db7533734dc5d35563dfa041426dde5183a4fb77457c7888803aab8298a8c1287d07e75170b14ed55896572f6aec74a9055770cb52d54e87f988121860a9d0058113d8929d8a4b3cef013962b76d91c2d3b711cac8d749edfa219ced165fa31c4cf3e6d6db3cfb582af94fb287e4766bc707c3b0de5e198b18c00039f87b6ec76e91e646873b646aa2298712557d772ab992332d2d71d1f1e97ff6bb24a4f4ef012c85015879a8a677a1cb7fa32312f1ff264fb55f401e22615d5b5a268461cb1131ae18ff5c9486df4671989de723e2a944f57c7b6ffec843e414d966e434b45770a839abc419d05b35aa1b1c294865e3a047d1de437777d3fdac8c17697ae535f65558a0abf4e004adaa65bb6aa10a638c93f0c8a5c1040a1d66d5b883fb43774a0a158540cd2b4ff588c562287a12d81594a299b1558776874b98f0da4ff2d47ffb5411e4b7b297dc9212e24528f4d62b978863359c4d29f68a9900eed8c857ab3b60c316c691bfd0aceb53fb49eef396e19d9481186cf1cd22ce83998e4d54d6c619f4358f2d93401087e9e65b2c77bec2ad15bde6996477670da4e6008ea29fcc08d31c98204cef740ab50d1fc74f2f00a82790c0bbf12290530cb5c0ed837f4a43a720074b30e86fb1988de51e4649b0e69c6480eff83cfb6c9c1d6a5c17830bdcc9e47277c3eb9a3f7261f3ddca8e25c1b7f5116afc57fc11c35b1fdc58b36cdc52609d4c4b83ef4cc55d32d269d11bcf3857fdb610e3caa0ead9d8cbe396e5b6a29613c021b1fe94cf6ffc7bad228c3e2122f108845fbe49abe069556e1e8051bebf4e24330ef88cae48a916d4a1367d0926217124394ff4a76dd6f0b98086a4d0fefdd947f1bb77acf04bc6e5edc82a05e28d30c9f7f8836e5b81908aa2bbb1c25ab85b673b77c0e0cec5579e0edab1135f82c14445aa7e91410571d93e4c453f3c30f043e783d470752d4959048dc5e10feb3121e72fc2c23fac36600125efc209b43c230521881efd1138efd2af7316fe7dc1f7605a0d13e71582bbaadf8723074dce0ded5a0d99a708ce0fff6003ac9d94c56ecd558ebce8c35eb206917b3f6965c5a2996218ee1b598062c0132b2eeb0cfe0fa36e0ff1446f01c1b561291970cbcee90f6dffe7db9505c146eb352ee97b49cfc2bafc97eefc1843508e3ba06316cd41f3c33d83febe6ba4dcb9915b81e152648c9a1a9e636246cf5715306830d482b0f579430f149ec1eb603b8e1223a01ff368636e6a30e6d8efaec87b08a2c2794d35c9fe6429ce5efd1e5928da9ede5ed0072c3787352de9aa232a7e95fc3743fc78a82739b4f78137d9cf7f4936d6e8be57edef27009b3427964416fedb547a3e1bc5cf850056981b2a6dcf5902f8ee4f574f9835939fb59c627f9f0f27bd76960e84c484b442372adecf1d7b3ee32e0608f1b804f8342a6fe233367f9ea9543da8b3c1331c4ac8b83ee4c4b508f0efed6409a0af209e3690b06f45924dc2d5e4fb5b3f4fb9fc9cfa6cfd302e8fb4db06f8d5cbae8b7712ad8d1acbabee6094a1f800caf07591a90f1dd82f6917ee515c8c70792bd3a627e2eb448555f6d9ad1524f1d937d104d30cf6295297bf828c6a24e5c77bafc8311092aa8f5bbfc150b304c2e8915f43a72649b726fd212ce35fb7f82d5701d69afab9babdd434c24cbc9c9c4fd3aeafe765248c6fdf1a9d0eef0099b5345cd773f5326ce06a1304231201a50b61157668dc0b3e6f81c726b73ed6b27661e73e8b99c7e49162de23678877108abfdce11194374387765e5f4d6e9cdad8d83947c568604873733dc7866f8be11cec100e2addf45ded4d27c035793a05bb919f294e935ba3fdf800260f47e79847f6552fc9b3941423bfbb7d3297b4c36906b385d5318424c5e4d82d7393c5d94e579a8eb793b1120c15fe335c79e1b77546e7045f533a7fb1a108b40c32910c1dc989cd10542a9a4b7a37bca6749f3d3ab6f28816b9e837bb28d316faf04c11f80f0778677d5ce391e1d6c574cd90993e13ad38fb146fee3521614473df863450d1fa4b108ddabbe6cc61d463b347527351b0ea95a953d66d0980a073a7eba67586befc4dcaaba537e172ce52246aa4a0900f7544193023522f73c0a4fdf74f08f31df90c28e7553b3535ec07db0756a93968c05d6a42f069b386823c3005ba86f0a01e1b96fa6b9c954ff9c0659c59d918f5a1e388d75d722ef4a9d340bd4f849e7a68840f89a057b2bf4caeaf4db1aa437f9f857e3d18d1827e507d608ab301b0d4370f7927194c24d370bf14397594820ae887c4ffa6ebc75e17100a4e73686fb4e91b10724acefcfc796894b9ee6d774b165a5c82448ab878803a6578e7c8b415df659fffe0d21384886492ba99c7eb918eec3f6031851890a7873ab9c558c1746da618872d955345c4f5046b2e9537b55e41e240e3090d7b99568c60d20da5c7c684d529549f810d06656984e51d279532c73abbae1ff5e0645060d59b0364c071a14c7163af3e6b945fbb0945f0b48a199b0917dcb2086ff5440a09a1e8f5d4ecaa220d935e82e43d8075b3f7d46d994752216c745316a2a1a64fc772668210711fcd3d9b7b0e42d4d9ddee1cee3a519c875e2594e3b19f6a451820dd67b6afcb4bb9229073230e183c3ca38b054996e4ad7a01088db21ca691e405a97d0356aefa07c6293201e2d7970b3ad68f5818134ada32cbe47a302cfe29388ac5565049907eb69f8224396ca3a0923f72c92a3ece07df5ba62c167da666eaf10e63e565c79e777ed6fec32a64c4fc847c68ed00de582758000733cfa3c596a0bec9de4765290ecdcd3f2a42670b3eb76356ad2988ed50a25fa2a945baceec0126bdccc2c836969a5ced6622ebde369d7998a5f256aafb4b6324658dce40698e25713d37f0f64eae13725937098c7a1c6720d45567e1e7e4da14241fced5a16d0f612b6403f3e1675cd1ff8759aca9fa801d9ab2b0f324616f8a01","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
