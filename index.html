<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"372235b6511680e8a62ea7a0e5341ed216c53cc364d0ad6fa548ed315855835a20014ed42e5500000f8059281c5b6d8adc85628921872c9cfebf1cfa809a923a124c8cbefa74643d6ac822eaad8012b044dd35160d9a4004b5e88b105c62704918361c407dd1e58f0e046003091dc7efddd200219959b599b0ddece0d5a35d08f5d3703003e04067ae3093d72df5bae1c932e9afbe93d54e6a4bb7d6c2921fa81c1575a0e534f1d9c58c51a20f9f9dba7a846f4a46d53d66007ee543bb46542f5f58caccf43799027c70167f0c77bc8fd9b2adec6ad73d162f52c94efbc68ebae865488dc0db11550d3a6affd235945aa5f63c89ec6445c28ce35bdd79c06af98b469c552674df81d4287a7957886856f3984feaf3f0fdb5f342879eb067302a6955af799f4130e8d15cb7be7169aa300a9217bc3d1603b8e5b7fc04abe499c350c2b0e94e9c45fd728896c195d6e30bfa8285bdef415a8056995986107b3cc932214a6cba0697627f959133561493c23ef87755998af2d8af928fe20673630581a9033891e9304c9be2b62b4e225c7a4f8f89a91c20352a97b6d7ab825da7bd8301b933579b961bbbb69807b88f2335b20a0bc692f95615bca82620c93d789ca047f55ce9e3dfc76d519265d504aa4f701fa56b7349c2a27b319876a6be2b8a815d31b34f13d1c093afb89bf06e6d440e6aa29fd6b6de9010862f7894b8355319b5d981bf4cf7c7737638c37eacc061348485f3cfc78853ca7abbf511fd069e10dcd309977b0a4960d190aa0a5df604f613ceae47da5a09f31a053d7b2fd85e23614de46977f3f5504cf5ae89fb0fcbc13223282bd7dcb57567dd9eb2c5d4d58e8ef8578a49e78fa9b14f285188f1b188fb354ccc6dcc3852c3a2f16633f459ac80ab3d783bac66f7cbc3061936f77cb3276d67531ff61c957e49149ed598ab277334e3667e056a3ec52f9877c3da86003e7ff0541edbbc7cbafe66bb93cd2ba14dc1b3acda3922f4bc7a4b47b79f91de5246b60fd39a3e31e8fbf2ebab12ac845686e074d92bb25c1d12017aba85f7fc7737276705b9d635923a37b61f3a856651bef65417f31f4386430807caa028ea6a997fd81e67207b38a1c5afaade5e9a3f98c26b7d14d4c5f9fb09c8d517fb221cb2566bc8137a106f9a72eb2318ef3d46d3080d147cf705e1d1744c8d005bc28241b84cc55b7b3c56714bf56f9962fc77a2a0476a2008425ec5bcb6bee0caa58afb734d6db5124503e789fcc9c88c158c9de02ae0d6c6fe561f5ebfdbd850ac563f8756349e089194447ca32455a1e73e50e09e1f2995dac3fbf73ad8b55a466d9ab7f5cc681231dae7b1a976bc851267e8c105352009c890e7af754b8c4f2b58f943ba630fc9977208e9be776f4d7728e07ed3cfad2317637b836fb7e69d4997a4b5aac3c7412fd9a2f08382be69ca71279ceb16c86201d23a895b234f90fdb2b74bcb8f9c31f8038e79e117cfa66d3dcdcc602cedf313d81042ef0b9d12e1fe3fa3bc6a886dc40dae38b0011c436d67a0d3d745c2111dc8bb0050a6eb8aafcd09a1bb1af4226295db05bdebb8156e60f3240ba515badaf2f364a8d98fa91f133e254264ad0fdeccbb2a8f8678d82eb587dd026a0dca3146a2f7c22982da1e3a4e988fd1b59d49adaf97923c9d88d0b1a5b3a01353cb2e8ba0a877bea7198c7e741cc67ed7a666e1d74825d96ce500da3db43fa2981efb0bcdb5bc13b049137b89c3722cdd4264eeb0bb53dec23b4c959cc7816035a15c31e9f4d3cd1e2273b22a1de684f38b2cb8ac55ef1b12a33939c194ab0d17153662863c4127e3192da98305b71e82f20b9e79e6a5c1504cbee00d242ca4660a92640a0cb84e3162ad8887061341666e5e705d103b3c4941a9d725d3e59fa4b3259095bf75c6124febe26b538ce1054ac5d9e68cc5f737e8f0600036adaf2f15e6b7bbbdc809958651d11391b12e171adffd5687cfb588b8d3c27fe381f8e7461e07d87af3062fa9299d8eb57ba0ae5415f8a7201b7873e4982b53a418ee105ee1b5b84fdf57df112cf0bbac65beac74f6cbcc216bf7bedf64a44d0fdeee81c121d5fbae0a83305b39fff63300caa1bcb9f9158dc13aef96842f9c77aab8651a3a4732a641977231b3e871da27570580411c391542157ac611378313a98bb7748fd37a230768afc1af282160e318b75f43ce3421c3adda68ca8a104f549c790306389f4883a842e741335f2a544119440f8184775d43bfb594e9f8bed90447c7b479a8ad1bf0382976c61ca5d36e8b5cce4c22a5d5965ed5bb6e53e19177bd7d227458e9f72fb9f73682841a9889d0339b8878f1540282ee016fecc15e73e69ec57bf28de19d36841c66bb888917716abc134442a27c429d2ea630bf52015584c9163e1dce4b96202201b97460c808a0a8dc0f2a5f3b54cbede8ebc08923e601f002e177572fd6c61cfcce8aa4ef0b42d278455a70c04df61331b6103a64f9ff63550f616aa9adf7a852a2e11236834e10d26a858020c2a5e50a95d5e6b8e693162d5aa3e270c597bf96924e7eb2b2c538b27fd0dee6ea2841026ea434657391f5b8827577da75d61cff09f6ed66af36583a4a13710287ddb78f1a491a0bbabdd0909be333c226799606934ff7ec82e5b5d3e3116a0d1ceefdcf779628023025c82a3613643d0abdc3086110e1b9ea33f53540105b5de8a8c542fc899590b7a8bb7598890a85c0c022688cea5745a16afbc0f78e67b88c04b5d3032dfd903a05ead0393492fb90c8458a55096341986646ddb935563fa7bd5fe956fc9cb3f39efbfb932d9d4d3621b79f3837fb13efc4bc3a78de889eb21af74918cf9e09baddd455d3b255ac5442947dd59c82d1484ae3fceb7fd549da4f061f9549c0a479547a8c1dd63070188844123bc3ebf20f356be5e28650f82bce9dd68981f48dcc0e6fc44115e6ed7d987aca3b51d2d9c0d10adbf7234907fabe5d77bc33962adc19a632ef569f3a39bbd6d3aa12d3ffe1b3760571f646add6facd693da99c5ea3bb9894ad48be689f15302d2b5e872aad031abbd600eca6e83b55b9c3eee5426cfcdf73a1b9c2c9f9340deeafb512d7ed6c766aefb7f4036d5a590a730304c5ca19bc18ddce9e97ed0d2eb02283cff98138d311e2f3232c14630c7c2facf975c0666714eba0cf0145361ab6403fb06c3be26201521d239cbba541fdb5141fcc1a0cbc657202d2cafbaf116091b2dcd7f0117fedde2d2609d281ce05b5c2fc135def03f3399811cedf0129bb38eab5aede6a3cf38ab30e5c48674a46f1f1a5d9d5eec0de1aea052e7bc7fd221d27f6b98f3d6118abb4c769e0114b566e2de1dc4b5eea300e5a4eff29c234d383cb641317a13e9d2b332f0ba7206c2188d744f886884b87fc2e87dc0284fa4b8a0c5be85f35851eb5293191d46968beed5d7ff2be6298170009a7fc44f77d6b9ecbde432b21c8f6890ceebb0f691442f29e83c5342576e649dc31d6272a9f1e5cd054b070869083dfa7d95995962fd20b285ec07ad61b033a44c397274fe78d833aa7b5855c90297f8f3ce6a43c9201f730436727edf9d9bf3353a3e0664dd21afc8f129380f33ce166753422b93121b48b9555e5038a5113d7195481d5e39c2590c0ecdc0e3f0575f4fc662054bf9c244fe2d4073ff0e3745ddbdd39bec53ced617efbea9b3f7e898b34a6192837c3d762c83820a6460535dc94f6740b7adc6e60e21d024f92aca1105df9ea30245eb4c78008c69d98099cbf39fc813983ab212d9eac0a7e13354c5319b642501ea689a00dd4a3bb3d7721a799fc971e8a1613cec758ccd2f00d719db2fb92a1e90ef229fbbe135dda80c94ef3e15e612c833f5ee107356a42d511411d66a3f67ccd75e508e705904d2e5de457dbcf06d54dc6e37ff35f0b976da274085fa2e860ff10c1170dbc78811a52b516f3f11f28f483858ae637841bec6802e2dfaaf6deb794843f0012c91400a74bcfb77ba2687c1efc5cccbbf46d9c8b317da3baa9e115e4377b93ab6b3b8b5d657032757e17b7d1cfe11d5561fecbc744b819b348114d6561e7233fe15dd69893121a86d8d7acd193fa77f9b8e55ef64d0e5f145fa3bf1ec79a6c548e4ddba0c90418515e86476fd8ca5a431a705eac4bc23482254a8ad1cde655647d6049065a83c4cf1a9f4fce41744b7208d16c304da1c904fbfc1104885b99432b785dd3a247b543f56f14f4a42821f0cbcd4307e447f214f02aceb62c68d2981446172ab6b5ba7d0503fe7af15323d4896fdde7ff8ad478a2d13da9e2ec83c3f279bba0835b21fcc24df55124566e660c25f08e2f327b106d02bd425a1a383fa0efc8480c64d876edcfaf1956483285fe154982c073849f8b3a1ab4437a7e3690bb2a94623247bf5a1dee0177b5eca1b5a71bfed81f19eb005119327a16d4a1ad61e5867effdf39bf4ea40228bf5cc24568507c75d798f2f0d35e8e97a4b1ecbbac68bbab3970ec2636fef8dd6d7e7117f726f18b411223b1d2cc2b826db21d35dcb7f20f3fbdc601a3c2ba1905e4006b682e3e66f3c186f5edad0835a6a23e2cc054687b779db2d4c0dea5468bab29ebbed26c79455ab730149ec42a26c377503e9dac4dc43fad7d39a7268b9497a198f85887b56fffd0a66d7157cb9560dbe5e868bc82389034c516fdf4323ce29cbb144bbc67ff05af56287e47bc4c5eb4e0d0fd79d896db2e7a54dce29a1280c247e83d46017c6be498f17f341a10d22b084d77a38f21bf0af0b311ff6264f0a6562551ccc9177b96a81dd3b891d813640f34bb363f0eaed89d83ff7dcfc24f992cf02a23553b973e407dbdf88234d5f3f95bfd86e8769f59bffbe9a73cc2efa02cfde83988bd86a488366a4fe675a01f5aaa8d00250523338ee6a5c4d55133cf1a6c673e2a2dcdb6b68e923a8efcc0e4b7736b54d9fe9b7172d8249fd7362e75339c7b7c40d8a614c42ac716313e19317caed7ba1c691af2383eab1bba922bd5dfc0a455b4413ff4c593e3b2f9d8496940d8e6b992f06364c1e8b3647b2cdad6db1249c0a3a9b4518fc3e584e2532be4289e55800cb2499a32bb7fada7ea7d36241c0ebb50110c01dccfb8764b750c277430e3898bf9edccdcfe2a92aae531c79951e4131d73fc7b40f0b451a65198a04f96e01ab36649e97a707a15a8d321057a71135f621c511c7a1fe57612ee39aa391ae3981c13cd19e99389b0631527f53df41215cfbeeb8f4d59b4ece5292bccfc19831286ac1585557c78ab909a6e6de8e9a8148f86560e6cdb179fddfda49c2f5c0b6e76615faebb4b33167c1b42b35d7dfb67d2513b1e10774c7d38819ed1692dedcc60e65e5af69288a6d5383ab5d73e7579f17f1b62b2851aaf075af69c8f684eb60bdf08c3203aaaa51d61d6f0265c81d0bbd830d1e5894e6638a7658debaf85fc2eef3d30f1fe0dd4e76094ca22939844fd3142d1a1e3d8abbdc601a16944da7652834f858babc4cef2d0bc7c99b390d4d044dce1622980de022ebfabec47b84073279662dbda5322928a777b33bc1a6f2638bde77d86fc8cbafad304052ce4d61402d14c64511c9ddef1ad4c57701402caf6d334cf1e83771d65e476f25bf50c585ffd3e64380a5666e1fca6bd82c63df2b98978e77c42d53be871ac528f97cb27ba71323d32dc8a608f8c00e9529ee2f17bc4398d908dc6cc3bc596258561f6d1f945b400f1c9b33481989a42144b4f39801bf83683f3fe7aacba38867b779e346498fea621833906c71d1346c95bcccadfd9549768e96ebce82de255c555691bde9a5bcbd9f30520fbf56be108fa5b3e8e1a8d06cc0c29e28f57bc35599856937a6c8428815a9c121928cd5b59d19d9a9f51613a3aeda4d7bef6c1299d4ce6ead6ee744c9a161da3e6c2e43c4a9e806ea4c32bbe5a13c0e5b191be7c69c663350dbded66970f1ecf93eaf7de27cf74c493409af8997482d66e0eeda3597cd865f365c9a0f7fb17f0882e8919f62582940387fdac08f217bb851bc133370c809a6ca525b20cc30f7e3e9fba8523a0872aa2fa5219dd55801c0a1c3cde9135bb70ea5047ef7f0eb630ec3465dfab4eb270f2ce252cb576b23e3fe4d81ad53cec45f81bdc8029cc9924c9185f1c9f4a4e984729901d3f9c7d34b778f41184845b2c8e87fe7d73bd0287c6f4ea9b2f55849d7aaf2e1e1094fb28d12f4eb2c4b8e8269dcc4881600ab4e74bc948aaf5e90be7a3bb6eb97fe638424f98ad29d4cdb613d2c3921f08d0cacf91d206ed2e82fb5d36e4cb4adb554cbffb8656c65082351db6ff8e3d733e7035d7287983701c79da3d88a07933f2f49d0aff9c29e78ef168861874d5fa17c0058044e2d6915e7a165df98e27fd434b88c9de8061aeb2ca2e887dc077503ed7c1ccee4fc0020c5c3d37279a26bb6958cd00bf10b4b7f837bb56920e6e9873df83787bbc84e56363ca8f5d686487428dc519bcacd06d2c33630deb4e7025271de3f53e248237451fd7541323540c82d7d5258ed419b30ee83594efa85b1ac7fa5ffa0a73bf508ee6e48976a75feba8ae956888177dec6080a9a07b7f5cf5e1eea313f81d3bbccff8abbd3eee8a5d1fc481a4b009dd9d6efd35c4cf51afd22818462dfc4eb292848bf60d52a9c3ac6498c49b33b62c0edd32941200d406e6b48309193be251a234da71420a9a4985cc1c34dccdc4bfdf8aefed1246d75c814bdb87f9ac332a7be7cef1346f4536b66f48f68ebff6827b415e79a4e155fd0d64ab1a142225d8e7939ed4f37d548ef7f72ac42c0744f0010f58a31a44d09fbfebdc1fd11655bbe1d7ef05cef86ff63f923b44d307b5983097991c60a0793020fa2904f956b04c18a5141325fde1d617d33648729d527d7b5b693a368b56dd8d994037495d1253f81ab563428fb205e93954447ccccd22bbc51ae2c837cb5b856d79102d79d0b688f207296ea720563ff6f9f435e71a96c8b6cf9824e6eb7d7cbda80786ac55ebe844656c28906adaaaad3e3260707f58785f5ba0408c8a2e00a96b44fc792588fb2fd765ca1aedf46b5bc2d893caf35fa12984e92014a0bc81730ae66a554ed245df7acd90d5750f4a2f24a05e070c5915b0e1bc331065ebfa2aac6958b2fe87c902153021165ad1a36b11b5e296a4d7d7ea753f7ad78cd0ceea1dfa9e07f99303e6fd455a388d077047be52cb269d7e2f638a69cb0136c750692d1d8772aa40efb1d885cf808fdc0ace1f7259a08ba01bba5d5727ab5055ea883c166307d2147b26f0ae6d9337b3c827aeffffeb0cc66d69273eb44feeefdc14506c8bbd006cab3449c0a5b2b42a22c82f86613adcaf2579e942074086e0ea3b07b651b53b2ce3ffcf5cbd5c0570cefe84182b26d13e0f69682808dde527c0229748ef53834306f49915e487bf36e69ad2c18ec7a14ecdf47b2cb2635d7e831397446e261bd78339372edd07ee49cad6080d34b4496aed68a6556c631715bd9c326af5cb49eeeda350086565ab97fae7c61c3d59dba3ac89f0322174b47f9cbfdfc389bd25e002f47af895c18c711cebeb64d449e2de601c8bc451b2709be9c410ea732907fa57bdfc8d6c002e844fa26042a18dda4f3ba4094818058eb75136b03994eb96edaf59fafe6dd08992bab5fe4b4f47443bd68f549b9048f79c9dabcccf13a7504912a531aa9dad863223fc7476d2f1fc27cdf79315d4ee58cdfd4c619441bede3a8c9cf40bd77f58256f4818398d07c56d4fbe33e8f93b318d16c05c0a7cd2e84fb2b95cb65a918cef452c2ed2cae22a6db4cb289a76724cc1b7640b20a103f1219c9c9480a13683ad1ce019c8e7a0e198f318a56dc7f73c4004c01ed1d13a9beb1a398ae88ee9b08e4b6942b16ae1642e9c29187404fc26fd8bb48da845cb87ef5dc3c49f28b00eeea4d0b3a1095e2572446554a38ac93af863fef5f1e10992189c9ed32382898e7a317c40829e81e84e4f9e778faedd61d3d769c3e3e748a6ed41057de1f2bd49caaf0afc65f1096cd717d18aafbebe92e7bea6d822e3e70d7e5e0b427e662d4a54e0e14bc3723f62224d41d6914fde00e96eef928eb85ee6d8c5257033eb0c5c8ace2f29f271649b2791abd4ef80f711e021314bbcf3220fb8e1bfee5360b88ecd32f7351ede1cf225fd620258757904f0d1f158634f9c9eafc726cbafc9c8517b6d2a4398dc0524d7d2653982aca62e800edeb15bc4a0efc94875d0fa6b6ee91aa2c4f9b202d27792604dd11a2eaa614a7308e4812d9637424e225e98c29e7385bbf2b7724ef76f6dd1c52ffa19ecf9219996ed84d231021787a029a1bd76ed6180380ed8b10fec0920fe074bc390a74cf3ba22e8bf1dfc1720549daeab3fcbcb290e913ac14f1dfcb4518f557c6b8ceacefba0ad1ad339bf69e036e591959354aff13651412dca4b3237c2ddae273a3b2a0e6951c8218184b40e79c1931735eda89aeb70d8e8aa56f60f162849023efd692a54ad260b7e1c619a1290faae73e2442cf8704fde90434b4b189bcef70f17999e0fa4c5317f07c6611fb58626d886ea53a079740c63a538ec156b45caaf139df9c3b545d1f17ed35050ab384b437ff79c667e1330d0ddc654df42ab2ea59731ba32f4b97ee1067be0804ba08d46ce086e2ca5e156db844f42cb7bf8833250df1c5d340cd32684e8694857dc0b8e75f5c5d83c31f5c17ab0677abf8fbf9a5ca0825d730565e8140dd8fc251a4f8c3c7ad8a8ea63ff90b21677bd7693c5bc7c4036abb48cdd6408cc26fb286867409e06f02e03faa03e123d6eebaa1a5dba83ffff964bb31d04ed1a6e9373fa904f13b2a4be6310fee748f69305e9d0ff365e406d126b7e1be00ff301f8d61d45f4764985f4f447bbb75cb91bc5381bf5883740136336740282757df6ebb165a7f9cd7d33fc4b0e6f714b96fb0ab2a46b8604ec7679763fce7d8e345fe596ce6107510b437ac20e94e4ef23ce8db17f275d0544adc31f3f0e5627e55aae1d99aa69bfa2ab5bbcc999e924082467f9135fac8f6de03c22a32d6f167176fefe2f38c5eae7076ffa73f4d32c389ee1deb0e46e10873b632923d7115d455bb60599717776c06e3f41b08712418422a0e5d4f6bcc5e8b729d500e611d2f19cdb67ac85f3919797ed6c5c0515e7c2183974368b0748b3eff17a6cd7df4aa3a5792341de7d0adc81502d42fa84bf09db86a5099c4596afe057ec1132a2a0eee178555a99328ef970ea79d282fa0d514db11804e59623796879fee37c030568319d5aece8f53d3a4e23b698207724d7fe4d2778b9ba5a98f181390440a2fc06d926488f2e44a4cb6acb46fafce965766d962ac7aeaf070e75cb1da7b4922b6d45d2625cd92c6ee9a20073fd9cf83b30d6195967c28d0262ec99069136d61bb6d59c611b00b3cfbccf11a1a6d1467fa0058de4bcbc7d7cd9931d74f8b8b1c69d806228fa9652bb0047243ab248620b7ab2be59fd2de2a33bbe37b6ab988bf4af4ad93f01652479969e70ace3a9d88e56d4370571fcbc43b68963eacc5abcb015c830cdedb1034d527d652cf311b62d0079fdee8f2bf31cd52068af48f6b7cfdb5da7ceef251c9c5be4dd5f1ddedb2da4eca47f4b796475cec140b30799fe45c3cfe2ba5cd1b4264d24b85c8c9ff925518c8ea7306c4ab0e28112bf9db308dd93f219fff140c44138e6e9a8295a463fe336cc550f25b5a75037483213df660c3647d43cce5c06e8d4450f7f152ffd569fd2ea25b67ac7cdd86a78e224719d0f112a9f4a4069574bf95e3a78c96026aee73a80eef1b1bd292798c948ed4434e949047d4d4e48450f064fc4e0fc0ba0c4229ac69559520889d21f352050a6a60158de7d6726a5577ff1d83c9aa02f294afae6131f7025340552cf7dc598f057739d19925bbd33b69191077d6446e47eadb9319cf894fee041220350cdd716330806d1f7857adb54e14181c2a688fe5d9bf06119023e9d9e2bbb7e8c1c647bc75ad83fef3d927dcb2eca97111d91339d9a8e146ccb56db9ac6074347d4c922997f1ecd5170412c84b8f03c4aee35aa374fdbd977da82a1265978e60f1063da7f382bde5a6bb8ddce11b07a5c0f10b2b9d3fcd4d9f3be08679f239437a60e8934ee06e732cff2a2ee857fb8ec05eacf9fa69f17f6419872ba1a6df9ed10461c495bacdbb3d159130ef5263956c9ecd4602d6294332f637d63937bf3afd19b9db384aca4bdc6c8fad2325412237faf7ef9a88f62b3b488ac6832fe7cabe8dc0ed05d7a588a4a6e7b91654d89397091b8d70145e0ea70fed51a40b11a954a78f1e3847e4dde3d51c0d9828490daa5133141dcc72c1d37019a998842e23163fccbfa62a10813e0a0d4e3d375e4344089d69de18b7927c5656bacca5a8a68dc775076355a26979c72b2489fd63558c7d13592910ca873060fbd65e0956e4b78001351d2893ebb1494def6e3eefb32999d74c457e26d6cf4c64d74d4f7871239bec5c1d84d42c7665bb2752c4da01424ae77c16376e44654240499872cafe0df8400e0b3ad83db35b6cbaa5ae6807cf19ae33701b31fd37853c772f48492cd33814364b1a30f29d9e90dd7dcdc6d22c63455d5f0304285b4f269337688d06fbe0afc069f23b892be38354d686573b61f932ad3510aaa587d4ec120870afe0ada8be8b8857df0199594e3c5bbb43cdc21f533d8db1334e00c253a1676a470e1da98e05721e4aefc32d43e520dee077ffd12bb384d3a7fed1b2d8bb237f7c22fe089595b7b3d4a6d3e570648a1e9bcf2c3057d28fb11473c4ccb74fcdc86f0119e37ce4ec7b6ebfc7dcbcfb1488fb38ffad21fa25684a07f844c43ca71929ddf825d59a02400f0255f852c78f878ad6a81cf9308887b3ccd298973c56899b453d574252f6c55e3edc81e2ebc2442055508a4fc19a1dad266c29e5e0c03e9ae368c3263fb78b6f8583eb5d45f0feac63cbde093de5a0e8e83bbbf9944f224bbdc055bc15eec04f0b193c93b7df415500fde07940e1027f01e9176bd5c8cbf89c06c3dca34e3c14b64ec6038950e29fa82a6eeba4b729874baaaf63ed965010dd49dbb4b04ca558cc3798ed8be4ef45c18a334b7c20f7db868f564a0a6b3bf6ea5bdae939452be05bef7e602b9b9899d23a770d8c4bedeab88cc45c5791bcc3408bd64dc23fc45e5da770c2178276032c339c1a1b0557548fb2712d1a8c04dd20b51108a26d67280a57905fef1e4377f7fea04195008fdeb46216c36eea8e8254322ba6b8ad89e35e0f6250b52a3e1bc235d168cc76da7fd7073309fc0e5f6e367285017564deb7760e999c0350fbc2a063b1a6af3b8948862c506887cc6cd8daca2827e5c12568ee167c72027182663fdb7f923b973caf8b6a04f6b5be3c66ffb4ad21b8acde0637592c9e35caa6a0bdba3e3ccfa8d2cf63eea257cd4a663d75fdf9a414eee2293a04781cb7c612492e0c74cae95ed31bc24c7cf715e3a624569cffb37d6331859dec3aacf39ac80883dd1ff330887fba4877893cc9cb6f14d2f67b6a3b1660405aca6cce844d62705a8b0768f7b770b13dce51fbe6364971e628dd5853fd835fdb7cae14931cd4831cbb3b03d2b141a028cccd474f718511769f53277776efbd4cdb4cbfa7e5e3ff55a41072dd4ec58097865d9df5a7327123c4c377e3452ee1119efb4d0d5eeb1fa05ca903965c3a5e87c011380102465cde1df157faf7d0bc0cb7e8c3e70d00b75ee434c294ab4e53fab705411674dfe1b67eafc006e8f9783a1d10322d476f85adfec54308340bbe3d995c05bb8656b8035a764690a1b7d345c35f7e844874ec270702010d2dbbd20357a031eefc448ec737c2df430434ea7d2ab879581c83246f2944e9eb1fbf97753860c8fe049304888f860bfb8dd0772e32965b5cdf3d06d0d0050015259a4773d423d7120def55862bd2b2aefb564499312a880cf1b9bd4e60b31e593088417b720ef31bf82d6958617773530eeedb64338fab6246e0742bff52147ff6314060b5b8069aa9d8dc16caaa3ddee099c094067bdb35d90f57b3a220930459d69f4aa2dacfbe3e26888843a7a1585035fc0fba74da3d2cd9f96e1dc75f1de1a5caf338c6556d1cfb22e8bf3a01a3ff2ed605643fffb22f59b9306568e88233745d79aaa82e89fafaf881d6dd6f9da0e145d57260d3b8fb238a86374f1901cdb0bd03e2dd0fdd3c23973ed2af40ca58b7288ee20cdb7dded4edbaa33e75490361823001b031109e7821e39a22a4016b66ea5de91285df710dd1a6c51b83421d32d5dafe0bbf706aac9f5462ba0eb73cf05d3d590734b04c5903034d2abd2c350fb01638d10cf28c668858a3396fb20f8d1ed98bc82e4631e370925bae2458aa168110757c2763c48552dbcd79e70d5bbd3acddf4fa03e9989682884dd5f7c52ca099390c828437b3ea00b27519e74ad25c909e9f18bd36897e4751e883844b0afaf9c9634160b2c9a19d361fbfbf2110f6953822c2aeb4374486bf22d542291e93725e4cd25809ecab8ac7d573202b9e6444199c136bd0f21a6e0c7648b588bc0f9dee07d37f33c0f05c3dbbc57d7334ee6aa2bc25d71209db9d3efc3e166df8b431afc6599fc28ef0ea6ab81da261d5c6b6f3ebf32b11f9993c7e76f0cc10ed8dadf25c432dae8fe8a6230ed31362d12a27d0779a78413f64f447403a30c1759136442dd8ba1f5ec85530e16f80050f2613241469a5c5fadd42d22f91022f24b8022f073306cd01eae70f824a233b01af42ee6f9ebbc7f8f504425a1238ff913b7d2361028a93e20977fa0ba06810d5679b0e01cffb9bc4a1d9ad4d36aeff604a042c3830afecdb3ba879de6a988255e11395be4d2889b7b8d92b1c5d632bc3a3f2300cc539a2aead4065338ec449f49de68be0c91bcf1b5d66aa5948830621b2940fb747bce8aa58d32902d4eb7bd82bb66827c27450aa72f08b2d002c15d5d183bc9724961f6945f660fe7bf6beb9a13504c55cbbe4b0a63835ec0358c9dd5cea12ec6184a142582bdbf8413027548497e49d423d5f7c1eb045c9f51f354a70732737d6a3727ddfa6cb620e2d8f853e52e845aeacb116574384dcbeebf0e925500fd4d9b536bf508b23263721922ca3d16ac54c9e8158a58f7b822ab0645941bf8bd7dc33742442f0a4eec624789e4695710aff394b812fafbfa99b5a9505b4ae1739cd0a239e1a65390b309aa79afe5a25d38a27c3aa6ad0edb997e968345cbb2ed94f7fca091da4bf2517a526c60b5e73e9ffa4412f30200dd4fec5a799856372656b5b32dbc15c55249d750225ae0ac210bdd613a027a625b40fccfac48785f6541feff3dc06ca776ae749a9a11d6240ee625fe723980fd4161d66dbe2d6fddcc38c73d1cef768cb0b30c7fe4fda367777ae35e59bb8fdeb95b51b33d27e4307bda51f20b0073e185e67b10943be5c821dee833eadb286cada5328ae0ae6e0190ecc5b5d20af6ed33a8849278d4ee426920ee564f0914420ecd06756c78cdd8be5af1977cc6d8547a3b0d8905525b047b9e7d6ba51c4bdd198043232c5aae617a4bcf0508809d9628590b1774c8aab53fe0f6b812981e70aaae117f9f5de4275c1f8ca51f76b511f142da3d69be6f779062a438f6ab099a35590044edb7d94d4194ff61840fd4833c0e1eca27a21af19f07e4665d1f7962540b7e9077bdebfd363af72bc061c9fc5ca202cc63547147ebdff30d606a90c163e7d562ecabce8099cc287b283c7d0e3fe2766ab404248eb2d4b5e42a8e553220b91cd05ba8d07a25edf00823f3a1667f8ac94ca98254e63b9e5be07074554ced0d93ea616af9d88c7cd7feb65426bbb3af97843483c481292caf07ee206ad4a097e9d7ab27ed0925e3709e7bf1b96a1c64ed0d711cccf3f94a34e1d3d58b5a1aea7f90a4d80bf37e7995c37c4ddb1bbb088171c0efac5bb072d5fe8d849867a6c6bfc842c3df9b8db91e76e7fe24ffd4f1e4618860a23b1b91a70fd05e85b6ec239bf6f2e7bb6b495a3440efa897e9edfc49ab53dce7b24bfa7c96c0628bc0bdeb9e69f993a71e11be279d65946350ab95ae0c4d585d8588bb2e9299894078060c7722c6f71c250ae0ffc490d3e6bd4191708b947cbde87121ba9457a73d2c87b1f57931fdbe2bb656b806074b5e9c9d039d4eba2ae2910bd6b54cf8ea0b44ae834f64d2f19775ddc2e9786362049b5c127eebb5cb2c457b58d7bae6545595e2c6f65b467d078c7d6c88dfcaede38e507761cc6c78b8cec5f336b10dc58d5a839c3cb19ade4355683ae9fc63433f49c03fc38c1ac84c7b9b75b4b16cda8ca701b17ba94cac88ca92dcfb527a71193132286ce771a3737e01fa982a357c4c8ced824a0f23056952f7297f91c7038d536b727ac68f15ae73f2b3ab8085181c1e21816d2b508e5fa96dc0eb2c9484d1c621b95be79570eb6269def1d9ff406a047000d59ee1f69c40621a492d5e73faae26ad25ac4915a9ad272afea11604e754caecb7e35e2d8d16bc3d878d90d7a524cb5e44653f7c129bba97e613b2c8389173afa1318aadf05ddbae42cb1c42d2104b7c99fd6bb2b0bf6bc6d5bfc070c6df891358c8483bbe42b12cd941f1bc212085c3fdef567a0958dc237cfb1333c7ddb5db5598376f26b201f700ecd50d1136d464d1dd4b50dc4c8d138520fb732870b66f61645b6552fcc266a05bb6930a2c8f249c368619ed89e8156050840127b4404b57cd4a3d5b437be74c96b222a2e16ab7622c3363fa1836e6d7696a7a83b654939df093fb5f3350892eb524206a6fdb6c0be304c269c97f5ce42252a8a7ed23fcb9f2f5981b3f4f3a1ee220c78cf598f7a28aae943a28b8db3f9a551835adb800e838277f3be5de367145ea95575e418340037b04c2612df54500a3f4e4ef9fdf880583e78fb5caf4b15c2f5c2cc8196fd3bede4f987d287dde59dc84c44dbd49b55bb2def4354973e4a971138babf6e366bce7377f7857c99fc03b5f9dc883d05c547b9dba75cb74bcb75000ec8fd5084485a956c6d64daebe4c0a1def263d510fd5234412c309e000c184b4764b73ec9271acea5aa3ccefc782a94394a1440b17ce0595e01b386c51d34bd6f13dc727dab3de56489bf749fa4e30bdfefbf65358c2751b1ea2a25738340e38ba45a9b0a111b4981e2303e518f939a452fb5135a66e6e8258fb08a6c2b941de6f7e98ba248d8e9aed99acffd9491a9dea692572b5962ad2f88efd9b73484fd9ea9fb07906e5a989902539cfbc78c717e4520d2f81b09ef967ee829b5350967afb7872455c240d873e955f954e9075d6e334c5d3f8bb578e8ecb98fc4dd6d5d827b8c6b3fb8151b1ab27550261664f2247b25f867cd5a161b1a0fad3069c1eed60575839b98a4d8ab2cc8e6c537a1d6c0a381a2b62e2e70beb863ba1acecb23ee2642fe6396d64a3eac60a280443a7dd9713f07c2501a1c6d8e443269babe938d61c8d10fc198afeca9ec50dd31c3d40a31fc202ab9a0a0598e73967eb96cceb6b29cf8a55bfd09b1f1ced1ea648a09ddeb73e6852c7c09e59599cd6dff8915af8ec10713454b06b271c84d198971dc7c1bb4fda87bd3e3f487730e1cffe3e278631c7dd84e606544b8f482181b8b6636569ee8eba1304a35c959ea7ca99d1920bc7736016bd23bcf4ada2e3f62bdfcd0450d6074ee77841c712c4a0cd7564edce08a0bf8a10ebe2dbecc6b26130d96290cadcd0b29a027a50e1c95b68cc27cb7a64c0946bf4e9f0e039b318d934752489cb96ccc81ca849978b570d91d58419c7d8418a790af5e077d99d87d397977e4844990c1e7da5790a8bdae572d976db9d807351e204ec8220fa402a36cba0587101394c4ad711887957db51d680bdff70600a96430f1102be41daf7ff9e173b4a711a991be255c0ebe830ab464096a85305d719726d83e8078e90dbeff9dc41ce5a7f596f74115bd3a8b9265a275f9c8739aed83fc9a1e7be98a9f8cd2cbbcd96fdce6d728e4d8e8768939835af1409b336adced86fb8fa1e578ce93ec456bb234eb550f5f592da93e2f74916a5d6eeaebad626079fcb56731d9d18331e0748cad9d7052bba577e3df7c5894d5926c5afbf970775fbac61e2860cdd09af152819317c4637b9bb468ccc3481c15d9339317b255e0553526fae0089a54580e7bc53b86d879911b9c27647e6502f0935fd7637f54930259ecdc3a969af3ae5593eecdcc681bd64050a5ce0e34793be779c1a71be663e1534c2cf520298081d7d8a33a53fcf9f180558a4e956cc4353598275a57b4fcbee09d004436623b2c215e07650401be4538e8883275944fd5def170e851fc40a6d5b5e38ebc0816122e6ed0a9c593e509f890299cd24eabd3b063c0b2df10e70c00730acff115a1775df1cbf1a1ff36cfa5845709041efc59a78e98c9ea17995cbcba2cd570296b06f9bb7d34c8dc4971a4f3db4b49b6bcb5520e3804113a19fd8a3f2705b515cc297a1dae7387a2c3bdc33edc09f03cd25035acf98b78987fcd6d3287a6c7b94919e38cd653be13949a8e091ac28fe50d98d4d033dc6c93d8985e78b988b178a67b39e1d16fc1e2938f187db5f02d4842796b47f9f36fa71228580fca2e6c9020b5b469bd68b04427a3bb7daf639ff31efab9fcf3813507bd52eb19f90ace8f4ee4a2bfb0e6b7cc8639ef1912ea920d198fb16665f27d3ec81718c49312ec733d9e79b5637ded7716277ebcdc3416aca8305aa85d2700f3859a2e063b35d34321f8284987fed5754034049cd81882d645736e2b51e449c1261fe1b28bf7b0c06edfa258077995538ef0755f2563905e5130bac386fdd646d10109e66beab5836b1c8fc46650257ca6ec7f4bce0b1c2da06bc678e948d18b28d98403fa44fb5845fa4d3ca53fe3d25cf6831d354a9686e49950cea5799c9841a4ccdee231341e1450059b8bf64ee7314a4b42ea9b435dbc4807826546256b14d361a4d85d05c7e92f1c2acedb3877d524fa6fc705607774895688770d846f11ed7519ed78aa61b16ff204f436cc753a86b42cbc3e550005021c11606a55b99996bfd33a38a6df39e66f310c1fbd4f2e4134b8f57e6001e401e3e967a04227af25c38ef3f8edb94b10c826aea44e18f070c714fa3253e59105b4b4f80b381ca6086e54f5ec27d1f3b10267c77e8783730e091a9761d3e7dd70e3683135947d11af428a2354e1cf0864215a8acc93ade140dc209db262a44f05eed05941ec497a7be9312e35bf06b062c9ddfeddf99628e299526cfaea6f20e4139bedf0ef257e8431f1010c6ebafaf0da328dbc00cf385f0aa84943b94c66e3a4b0045d258b98bd6a1ef6532403e4211f51c83352e8142790afe73b699329e55089cd838b63533e589eebbef2785f89bffc2af48d7cbfe019135a42646b8765cad35cc4a8b9f2d6b1d28792cbe443b7bec9344dfaa4361c713e4c09e3b901ec73fa04fb7ebd839713d2d076cc413aa1f2846db652a121362c2ee1a68a68047b4519e2a40891ae410c5e23bc5d8b14957f64b64861e2d88142a19de91f3c5930000ce90c9f264e935b4c73c19f73b6a3fe3ec062f27dc4a7de5ee8cfe65ee8b095922c651c85005ca09879935698eb92427c44dc9a2280229c082896943c2361fd3a63a6d1690894cc40c59a9d0206df7256e77ad414b6e77b3b3dde2ff97dd4c4929fde2d220db238ff80877e321081319b21ee705a6ed34247ce339e6869a68dc56c955f067c2742a966200747a205268917aebc98094c9a84b5c2373a8951e537bc44000078498f8a6df0d3b1ead8ed87887fa435c374846ae88a246b87339e0367b76b17596331be2c0471a3634dc03861dc895bb63bd2525c763efb90e093a39d71e76de8342cebf689be0744f69aa397e9e6f220e1c751c354d0721dadd9e8eb142abd4aa95a302b9adaf61f750b38a88e17c4c1b2e750d2465a50b8ecf6e64b73e26cd0c47d72b839c6f1fa6640545db3d975c226314dbfe60a8bbf08a68ef747140f23524f0a7ee8491762f61171d974f29a1316e1de26372cdd88c61708e392ec0f75752be0adff64e0ce7c61ff30810ee97eb6d633c05703b650e3a7a41e6c5dc6f30124d1db8d84d9ff973c8047c430ff9c6650533a45589c972acba2514b387cce7609fd539b47f55d4de767a8926966f4326ebc6669c0697fd470e4ee0c47b0f904e8a9177e151ea855d0e385aecbf47c5ed848ad68666a0eb7fffa5fbcb12e4786beb6d5b69f934af97f5d626c3049e16a3e2d3cc754c87657cfd82af692cc3fa89cfbed7b5b8a08b8a69c4c961f8f44d97d7feb373541077d4ac3b8bafb926f51aa914689901b0cb9834aa310a049dc9ff9147a97f40da202d2d7e9c974a6539da6777cccc15c8ce94895b5139ebb8ca625d0ebcb3cf848f7260a6ad60a0289bdf5a046b0b86f51c280aa60f5711d15bf87ab6dd1b53dd381e9696304a83478729411e86ae952fd0c9b0842f0a019e1f51134565dcd12499e66d554620adc8105f6c2ffcc1f9f055159ae3071eb49827954e9964c6c9d400ce73bcfec5c202f8c259d9eaa97dbded83b5271b921afbc0c19745904a66806be585d1cb20f7b10e3aec8e2b885fb128c17b5679840c3917f9ff3d3c05694b06a8ed43bc8e2662fb8b3ec4a365bc63be49d4904875c677a40b36507dd0a14ae2b97773d853b2a94760a17eeff01a8b6c44b213c60e7a920691cb4891081a09c91d2d01597e0f214789c53bc191de4ff87a72e927ba2e3fde7b5a36b517a194d83103140cb5ffd078b896b56e4298cf17a42cb23bc92817544da9c163fce526c6e097a28ae129c4eda925e3f413e1abfbe00ca4ec88c39cf914353893756e35991fea92ab1638a8a4f9314f528605d4c7a9ec6f66e2bd4ab812aa9fc39e1fdbc9d2b113c96950230fb45ba526a87f2871f1b9d511a41ac7b8afbd68e4d691ccfeca693ce4481d64e16f5e1ef24758ea5244961e5d4a50954b53417cc433f1c8da61fa82abca38e7aec5edeb3c9dfa5e874465478afe410e5464d9cb690ca2b25cdc2b4072e8324112933a0378cf0543d9df0823e0094ff523a33b007e3caea0334dba88bf3faaa72e9601dc259e3d9e76eea9e721261f9781cfd81b4ae8431542421507017c8c512260858c981943913038652eb5dfe772bdcf461fcb10cde1d5d9936b9ca2f3b108288e5bcb6dceedf0797ecfa6ea05645baccc929545eddbb0a9cf66ebd2d31c2e26782072f4d33faa10606791de5bf5f3b6111734838cb25554bc97ba8e842058a001903ca17f1585809a678eaf8d369461db66fd973c41ed885c91b174831a4a8d9d4318915ba98d9b039c5463af11f58b045be1f1372735a338cb4e2a1910a0482d867545adbdc6ee025b6bfbe17cec8e01e038402464f6fa84385fb688b064a1514a5597c0b978404f5a3f77b09166eeac32cbc3f904eae7b97629dc9f0a7141572fe8d353b867c4f9a123d803bbcaa997bd15017b93f15b78b8fece99862e7d0e62dc961b73fa388ad0d23658466fdfd81ea241c48f002b40deea13ce88a32adf16a97abd4d725a6239cde4a05bd268bf4785140b047d292cb17aa825648db29fc261262bc15237077552530fc27a7c994676c2054dce21081318cb52af44dcfd4baec5aef54be1fd224c6d37c99c4c79bb2a3f7fec0546f7cf26c572f553757245b6355db43e4971a598371196fdcf410287c17698ffc1de38883206e491cbf58b9382b15ef438ff3f9d29644b12bb2b71db172505ca983d0d06ba8e1ca15a8e3eb1e7a4c3bd606b5b4b2a3c03d515288ffd47499d8abdff4c47ec0dc90150cc5c92e9bf2716a45fc5300eda59bc7d1312f8d129e72128fa174dd4b13c7b328751914ad1138bfb3d8736a5342a44a74462585c459422c419490d6a14195490ee617eb050fd455414dce179a11552d5d4eb9664b63bd63412e318dd7d4d0e1033438d5736259bffd063159fec69467ab229e180c7e2215f6959cc217a65ee4481df4c3414b75f5c0e2e48326854c5906a2a891dd157ea266ef42ea197508b8cfd8f0dd04c13c4a09aaa3b4cf5fd57510754807a679d75e78f13cc64f6c30a0abcd1bef2a6f9cdee59da6438695f3e5c1d33b9c78d02fb2f71b3d82ff5ef7189fcf78813cb536689935b6a8f25b67505f566856576fd7f6f4af06730635e357343dbe872ec09f3fd1c89840e03ac32fc54cce2ec257c3a318d8104b8e65978886df7a76507cd5d6d1f93c7881e2bf4d9f3a963a2ed73a47ede7f6fe1f5a6abc235b6a32f336bc34c64eadb6025fdf0c778ec77ffc501a89751ff4151e97d67136caa5c3664ceb8e6e3871a55acd5d263ee45bb603d1ca233e3e9e17b64fe973927a44ae378a8152a311638c1376117bf7701a235ae60666fcc98b4dd4b78813ce3e723a5a40b6db3b6bbc730232fc8106befc266850663d6d0821d6769b6bae1aed1cb76c9d407dc56f39d05bfe1a3f2845489d8dbafef69c0e7e3696381481d919ed749b20059b2d7aaa4a3ad29855475e9aafeab3a34e4fb4bc5225c456ef0d4f6c21458afd283980c7c554cf2644a4cf53f1aaeb0c7bf48bfeb27aabf17e7ced31cc0e00d7f0b14f575d1b8a129f8be8773b2ec4a96002684c869509f9b47e3ed8d1c7d74794402fd9e2fe51671fa3b888793be552f51e063af2d40c7467ab4faa586c240737ba11d2c799a2489b2347899d8272fe8803d101080b7f40af37e48240b42fca6853a993260678a2d376380f22f7bb8db14f222af3965f6744a72d3f5431c8e0dd9119a099a12215958451edc95f4bb9b9a9054c59d87e53b32efb00c5cb90c18b3e12a1d22a9b790981b1938635578e89911cb339c30f347801c3fe19ec5cc277720ce5bb5f35c25db5219998bf8d924a4b84abdacf331c4a18991a88080eb3cb41f4bc4648985adb3f284d166695f18548ca5689c31f31d5473c1fcf4f1283ba0c3d23f25afa3cb1f5f1fc3c2b868ebdf6af054fbd4f18b0942c43443fc1a06216df1d16b823f6f319cf5259605962f2a5b8c855a86e4f4544eada963edc5e3ca4dbd678514f92c3085a37f5b26688909d5ba2a5096ea6843c75e898209d7428f62da80519ccee460d1267510a118d64d9b10352e183ff4b9486c6fa9cbcb11e5aa6811aef7b358b6a4da5520de669d0f38df9f0fe06e3274f1affe11fe689cbde2a85aaff5d3f28181dc746c8506b9b4f7aaa4a2a3458aee9f26c4facef6e9a3cdd20ac24a43617b26fbacfaff49f68c5987027814015bccf8b222fb68203d2610af1cb6ca6d56f7d5051761e47c94b42982a2ab7385b658aaddf570d58501dfa39a7dc5e5755b0a1bfc853f32c51baf9a27d8d092046e5ea296b36a127d93a29dda9d7405523200d81e7e921cc9e6d363ff3d5080bab0a39ec83e460c236c661d9305e48f46ddd8df8ba17befc777a1071639ffdef1305e3bbf9179a8ca0c439fb809ca426f012658198e74093e597eaa2dd5932f48775ffb92c313927a9a198e8af455433fb81a79de840dc3302c4008df7327105014251ca34d66e63dcd6f54a74915c1cf88b62a676b691189962ad2fc7fb494882e82652359cb97a78caad187f40450a4be202576e2580ce9691b2cdc92dc67a253f0c271d656d3045d0422e7c736ca0e10b48af3d108c558c63bf32d1866414b3d7644b21b8b714e56a0b85ab16387534567d91ce0b746012257b8884fddabbcc5537648d30fba04a1e5a66492c1650b45d4610821ddd47fa0172ec83a880f2ba1d3ed90706314d10cd3d57a7523dac0029d5cc8948b4431801ec51","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
