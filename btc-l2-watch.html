<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"eb6bac1e0f3e42ccb81a338a9ab2ecd1f1ffa6d5c652dbb67826010e37e74118c115a7527a652cd7eecb418170b7b892409316bee88081691c13c892fc1f148a02a181638481a57013605a472010ae17b78a8d72b8b5713d6961375540445cb454d733d2dfa5a644d55ccfc0df33333103a5d8ce5149794d042529e501b041bb0920b0607391c75eee2009e4fb737d0d067973622b14ac7284ec535ffa77c6d3b2813f7c47843b6fd5d0b7522d59f4d266b905e3210aedecfac9be28b5466894b7d681e1905e48104789ee0257903c6bed046cea5061ff5b67413aea812ea60c6163e46c4802b9dbf4938e71c2ed69d7c256d0afe392a6c7c6cdb0cfd10ccdf1c638f8cf9b04a1e83d55b5191b8ee5d7f767405990a65f324ab4ac69decbf94e7b7b2f39750ea264a630fa15a936623bb8c5f161083daffc3880ce9e1f5f63303ee995c6550d3a55084757e381c375bd74f49606fa5cb5ef84a123f969f8a61ad38e38f9a5e37772b2e596fb948e94b8c865824ab1df81c2ba4ac1f116e19396b01e1cb99bb871eb50efc82b6d0998603e91aefd86bf6c417f769c50d250d504b02aefe7cc440e57f0b19d2aebead7ce72875095ff97f9455056b38777df27a2da40eb52b79ef9e872f152fc0c8874148e3b3757b907067ae7c0e1d1c5cfedeabfc8f503909e0e9756e0d0a1ad1416171fea490b691474ada0d9ea8e77bc6b60c6cba979571bb403f4ceaaa443839bdd5fa1a6e7f95c5f30916ae011b6634ab5c46dd847664ae282fa734d4cb207b6bb694f5adb223779a0022c9d186525d2804ef8a775f6f9214cf88f932d8aa76b0d0bca78b306d58281a31ee2b522f1fd415657050496828a55c842b22ba050b748555f4180a3e9c13cf9042838273ce5bca87bd2cade02998a1e0565122f5f1db3dcf9e23e711887864e250cc8003787e3d6ddb206c01adfe1c03fdebfbace9e5b35034b777b8ed90550241ded290604af7dbef74c8592bdd71abc7ab53c1cf0ba5ea37878a48a64fcd34d06a4b44b111c86453fb03e124e44ffc955280805b91c2adf8981588e3f8c094478c9aca7bae0a4a6da48d099bbc1940c41b77dde4f92986794526221ed1b5d2181812a86a265a73ac8b2ea4a254c5e1fc53128a8f7ba7ab4a80aa33ebbccb96fa0780d8fadad2f29ea49c9da90551973f3458cf1e70413a89c43b86474cf350410569d45be4085fb6987595c212cad1110ff9220a90d9918170ba2bdb8ec08fe8b87ba999121af7f361db00fae73fb8499d22c783312b159b6388ea3b2b444708b95a9be73b060296ffb02f1ab5d8933f8d97f08d9c1a534dca45e927d8af447fb8cc012e92bf9308d41086e1452bb51edc2fcb8d50522ca900532751c5205c094cc2e26da8c55ac420ff32dae37fbec0612b48ccc08f4a632ac9dbb1682fbc1d04e51786ed69f6266ccefe3a27353e0ae7a3503fb22b62d47bffbba7a53572aa1ddb66112128dc99c40deeed320b65bc4d30124959587939294d0b7d5b84a630ff17a786f08cb1d2415586a4252ca6f8003f247e6afd4865ce3e4753d5d83afaf4b1aa3987f8b252ee34de37a4141b93fc6db0b9811c5cd793ebcc35f89cc94cd1567d924ec35e36bcf432fb5b760e7784030690e783f5132648873e26aad0dad5f85da033a3aa799c33fa21a7d8b8be4b0fd5d534d0cfd71f8c9d69a90801612fe7de209e31cdf85a4911b035ec2adc6ef8c3ed76303037c2b1cd5743032d6518207569d0ad977f83cd96def5c8a5a2a451ba289674248098567f9c44486108c8b8b66f357e28c1889763d1a98b5b0b7fdf7ecc430d18f00aa246da694dce1f2cefe611f8022fd557d172ee95fd71aba007ce0503aa45b57f30e39954d24ff4f038f5eca172eefbb14a038fd1e99fb180b0096fcdcc02274aba8a0bb772b042b5cacfc72f8dd53aebfd0951f3725a457f6a9f350f2e50e0f4e8a0fda99026ad9a15cd7c15f0eaf8bd7ef7e8787bd9f97b9bda525d1e0fa9834bb3315a26d0ee95bdbedafd2a3eb756961fb04722b4a125544d5270a49fe7b9f632775a7ef621d54699fea0cc20421de4dc9be82edd1d9d78a4dcbe77f705a46d88d8060e0901bf2fff3058c90544e2a4c513b959851b3ed304bd4c0f42fe3a82990643c3f06e87561a7e262b971015e29d91c7ef7939eafac0bbc5827da770687046a399104e2652952904f9a5018bda3217f88019945037e4583f0dc5e9f2933f2331d75cadc44b42847726e8281525150cf6bcac6d34636559c1abd2e190d62e822e47d3c1ea2c3b7738d699aaf732c1e8f56f2233c3f8223c8bced269242d0a1484eb3f0317c991eef1420be3ba412186314560c2d40165d4fba5c77bf6e46598ce73ddbd67cd5ef61f752f7a354c46c32d354af699858e2c1dc242fe2ef844f6abd986e3e3c525f2a4ab3214de206b964c55ef2eec4f05a01b91207991da18aab74e429bea30346f8012af0e5ed6da80616f5ebaa814406db207fd6576f123fdfcdd4080f2f463b082c58e740ea8e2c43aa72685902f1951bc736113661b58d07f57a95a1e9fed652c36f9f4d8473ad74cc2970eddaf6ecdd90d69fb7adc7080f9122445e1399ef5e9c75a87a1f756c0f1d266e56b792b2040b1dca46cd2e711856bd6c59b9ad40eb6d29fcfc551fe394e276752f3b1091b732ad7eb0b4992d62a9735f3b2224cfe7bdef16424f5dc2676bc97e7c63e1c76f84ffc9d1e068f9d45e2f9e86de0bea15d17ea6f0d848bdcbf6449221b6252233a0d9dd894743d7766d703ef0d89ec995eeecdb8306058ecd9b1db5116dbf62a6a2d7dfe79176b2f88cd68f1390fd06810a616c4e56472cd408957e64d2577ef306944ce3901893bfd3cdae1fb772b5e76a7fd0e037efa8ae21004b87ab57be7233aa0195f90d2f851afb352cb014c19edcbcd062cae83ba37110bedf5058704fbd7dafe57331bfcf9f8bd8d33fdbea1c39913aaff02302138d82ca0af79b34670934354bd65a600b3a032f1ca89d19751089e279f1f2efe4c040fe1357072a4ca9c60b7addd639527b2242a7ac009450f4cc7965ed6487a6950f2ae571d6b480351d4f132234d66a03c7e67f35e07890974cc17fe0852fc46c6f4f490c54a91144c2b41f31340ec096a47f286243a7a7a67d1c8ca1b00f40ea22b401422687d7d94a708b05e767a4708161e0710e2232c13e1225dd45f08370160b803417d0bc9a78774b7296c80f63d487f7e818d9f18d81299b80c240ef555e550573394e39390c895343fd46af591b22e6684d22d11abdce6d5ae63800b5aefb6e75f3d6a5bf0498269b5ecf9343fef1320695a4bb427a96ad350d3998f96fbf58b1e2316911d99df435fb26e95ab2813f61b05f28ea4fa1e22fa561998adec3a7526ea95821ed581cf42ef25a8a6abea8ad770d8babc9657dbfe117680bfeab5293c741a4fc87d39a8fa4e814e44bce7ae771a5053d727174825fb570bba2829c7501f78a87ab455831853db60b5ec93d6815e4834488f516267281725cd1cc9458d81d41b4cdf76ac0b143825e94ec0b3e7321088a50672f55580dc23e19ed6a8fd6e2139c31fe378fcf2ac4c2cb23fd0945e79ba9b09deb7fba409b657f53d7d1a8c0433a64fbfc1cf718ac59593d7179afbe25eb470979ae5d1b6763cb53f845b3a6132222efcf2b6debf98af4b06d48349a9711ce76c9dc5ae462c9e81c4a7f01cd86f1f993e714a960a17f238b859e76c9fb775fbdff9a03594b19bcf855247401a948b22ceea472d64765fc7be6c58f1a3cb50d9b15909087e042f95d4da44ead90088002a7dabedb0de1dedbdee967f266586b5ca9b8288c9a8dbe33b81dd99cbbe5e4c191772ec6358a3f857a9697807b2226f97086ce15c77f61c7fe1a07d505191ae358e9bb5b8648042676a925e97a0c8c0f43ed94850fa315cd485c5e52574c0292537a4f9eb39017f99eebe03abc85c0657e661b5760b78b485079a82f5d3e4a5b73a22688219484a9c8acc661fb2de565ef9f4da8e9a2e357d22ca745c7a17b8f29feb4972fa9a7d219fce405ead20f546da3172fd414c692b73e42cb7ee5dd99a2e6231af70f7f4d33344120628d15db05db104bb223a88b8dc521dbc671f26e8f93e7b4db638856a3440e1e7292c741c3f59739fad81b89b2708a19fc309d317b339962465bc0b261ccb14fa561e6513825b1c50a070bb7b6046877c73fc3698ca42d2ee1c283eae87ca0b31ab3f428823dac58bded1dd836ecead4594c35159eed244e5c272ec6f812c6861cea75ff612dc3df968a916e14184f17c30c25666fd011a824ffe23f3addc561ad6ac76b89e7bd0d3845aa0c9e26eace8a607d8fc295263e877cb89908826e3ccd0c026aa9f78b864795cddf8647fffd7ef6c833e4f53010d005e8dcf89fbecd4358f0a4ec92ecce6966f3501a02602d9bd3117720c22a30924dc0977dd15f4787ed52f472c6f620b96e263e070fcf1eeac70c4e52156cceec4d9f432f41595f690393e58d4a015d08635913dbfd66be796ed7e5da0abdf13c7bc44e936f36f2513605958fa31402b952e7d50795ef53daaa739feb8fbd69c66d96ea1913f1182652d1e9997d8b51086be0d0f1f38836a880d78f93a09ff0a35b9e1a174377301cfc36c689f270013ce5280d6a0b8abfb9b3126ffc9203bc4452ff877aa46ff8024604a0b9564934eddcb72156d773b552669c21ba63f2f22a14f4cea3308eda752ead4cf186d9012e089a934445cf0fec2163e34a3e7033949186807495c5bd197b2099558c9aa6996c220b1398501dfc8b38ad54f958d5066696fb55cad022290b0740f916613d1c03bee8b4939bf0ef54e49784a4cbc92be875e49d9c4929de0b8ca9a1159633626ce06033f00cbc25feb3e6aaea8d40ea498c618bcfd5543fe089675f44f2f7a85f87bf7941ec59d532b4d6188dc415cd643d6380848978f44d7aa92ecc5de429d99737a0805b017474e3faaf237f7b69eecc11c68d2a78b980b07025b9a2a15c35c60a6c246fadacbb0c8e4b4e22b4fca3c89e2d555c11c9d8203caa09fcfc72d29a2269e6bbeec1e44cf4077f21dc95ae7d47aa5b5018a8f2afcbb654852cca58ef17f9514a37e90e26d2a0ce4ef24b479f927bd6bdf3b7b88a739407ec4aa78bb01f767b4101764d91e681047b1658639ab3c49b3bbf60f6f4c1dada277e40708d3c7e968fea3d720a059767782dcfbc4442ea3591a5bcdcec282db24ac254d1a82e59241c926052296ac88bd98084ba5d3d8ae72b56148cf39b39a5ed7ec768f14f3559b811922075c340726bf6ada4648b2e658db728d35f90266fff55b96d7de56fcb680642286374442d06ed1ad1687d5e99b39a9e28b138d3f54daf18a5c947fc9ffab015f2f53dc948765348ba2ac1fc73eb9da7b4027fd95f52f15e0e098140a065283b46786f568dcab86893d06d0f03474bc9d3c5c33f085d90b0458cf0a42f7b1cb133bbac9963cb4806fbde62d0da2adb7ca9f48564a0ad2c2379e7e4d5ef6369ce58397e3374bad8d50750a30b5bab3603260414f7af26198948c74036a27ca77b5d8c4257458b1a3d34e94dc3d9cc09898b02678f708eed80ba707edb6b495231f4da5fcd3125fff71885c59d3f744f46a45b9b4f9e71f2b7a796a81c07187b355eefca5103165a827b3f102e359fdb9346f560f8c6ddfea63da22e9f72e6fbfaee21facda4cfa37c0fd9620bb3c1c1e6961ced6a2a92cb2f6196b461fce5dc01a5dd6e060eefe7228f9e376c3b2e60924fc531313e6f77402c5e43985288cd4778945b381a32ee7306cdcc0266e36c21a847619f67a0e8cf24e9e48b350d53b0e68af53c3ffe29f9c5ef12c1731f59e2875794d08e22bf6718ffabb4a11aa11332fe0e69870262594d30e2f0c5f496b4176d94d64143e10f86c7955068e360fb25bb57b45c7ccd19da5ac49e79c45ab735ce29ae56b084402df2627e686150e3ec5a52e2bf7ca3be73d573313969af679ef15602ee1ede883d4f9d429c4bbb6a86572a42a7db6ca1226d72b7c1a682e9a568a61685717166a89c1a000cc4a0814c7d336b6e75e072b48e6aa05775a77a0601661cb4db4df4420f9570d1cbaba39e5dd8c2c8c9d9ba107a5bfad4f7bfc509b62e607648ddb91d6287fb8c9c5d592a10449fd607427012bb7be4cd41fdced40882b3b207d6abe5a37a7a4cf31c409849dd5aa1081d10ff8c9efb1d6b104dd363034fddb9f9997ea692515fe6adf397124f10348b849b7004a7f392f8a8a3db6df2990508522625230c9ee54294a420d098edff8511fb0febe13c5b084add8039b43c1856a5abb97a8cc3980b488e768921e9c0936b53a981e6603068dc5a1944101471fd1beea99a5731568b4d08c218fde50eb6f87a0cdd60978a931d6824883b687e96a5dac9ff411949d16ade02ef6422ccbef457263f5c912d3656020d6f8d97a74b6ea06cd2ba5ce4b02e95a1b577cd7e61dc37cc1fdfa3ba8fed36c718b4638e9fd1882ff3f3b02f7f94b61aa1555b3d5ba615566000b9fecab584fa4ce582b80e117edc6846f386b4059e0868f97d6825daf82278ba9abdb51a1f38e2764afbd82ed9cb9a290e6c6e174149cd360403c33d6b909725993d44a28230bfcd33224601be421d3e2bc65fb9268e806f4c281979c78f2b5a5eb7a149c2268450b9b5654bc4291125b6ec98b1191a75044f209f129c9b0dff8ff1716752fe87cc0a7e5658dab77168b884a6fd89e0694c9d83dcc253d94a68acf61d68d8d6608c12b7ffaa05ccaa3389f42969d31dfbce29a00a6fa6a9654365d180e81f5702e0a4d809d4551365d3484c5990330f5f8a789c6b42a37c81d82e1f4c79372d2a533b247952449d250bb0c1862111303fdd65b6e7afe701904ada13023abf169a2122b587d836873f5cf4376358e60412cd7dd372e83d3d5e72f5581f35b3ed38e2384ff920bde5fdf570af97e0c5ffe51e36e561c49986f964fdb759595d6c3f4fc1f5e1fc9e0195f310ed6e6ae974998abea6b32a1a0031a2951d361e296221759a4dcd45f2143ef50a94e263cd2cfebb849b44596f45289827e485d5d3b27937cfd47401e7afb419325077e910ee3fa24e242861c6707e6f81c99f0ce611af4dbd32b471499ebea822bac1fe8b998fe275f771cc53dd2f5ba823fe2f078df634f1e5cefd7252386db3b35f0db4f0d23da2a76b5629deb91f742417bfc7523622b308790aca20cbe080491e0115fb46a089348d7277d8237d5d9410fdcde8bc8da7ebcbd548ab258db4913abefa502d93dfba690af3a5198d22a99840113eb4d2ae0d971b3b786741ab6a685052986905353688aa5239fb636cce00171010410be00a8d649c9a8caf2e92d7993e99501817d32ec72298a009095f6631ae58d233b4fbf54b8f960c442a63f5c0b0b4dd56042c5f50e84522aa7280682afdc577db075b92b2a1c31aaba1e65233e6618654ceeedcc268454b2c5eb19fe44ad45a4527e01c8623d7d022c61b59cee5c6a32b0228cfb91e28c4b4fe4a5728355d6b3802e1628a2fc2dd7569c98a3af9c19643bab7b123c1559589f6517fa5d4085a2a1654e7ff72ef67a3658a6ddb7f770fc6d39dbf1a48d3a245a47326ffa3575e24b3783cc4fd73910db7d09381e04346d1577b13a36c92f3f060f83d66cff9f3c7fb3222b9584100e3c8f6b5765b07b60aaa58bb18e5a63a7f42310ea4560b1770cc874cd0b20b5d61e40576ed16a1d7545f7bbfc4008068f67d3707fc72d543d8288db4081057a3e61974b0b7394705b1de04cc12bea2cdbe96eab4b02ef1d7162fa807a52a62d975f6a29b8dc951755a6f5f2182b714024018b29c8f4812b76ca4092e890d2648a3d412ac4119dc54b23b6c120819754b2379a370fc4cbfbb11e07075ad99b8e8c05f5e1f2035bdeb644a9cb2259d1cbaee4a34bd5f2ab43aa0ef6b18720e9c27664d3a577dff258ff8405079fd79e9ec568ccc051c2d2179e8957e16471ffc7dc10ce663bbe3b1065d78ba7eddba2bb123ec364ef8767d02bd8e88ec73688edf25c3e65bd4bca2fc9c6628589cd29bcfdbac510b228bd152392a6a0f4a81fdc5439b4611085404f323e91021788b615518aebac9a0222cf356de1a301349485682c74cd8cc808f463f4eededb6525d8b1fcedc7d3acd6bba4c82d3c87bd79636ae7ca27d65594ad394d125b732893b42143e94d58df3798a6b0f36b0454cf72d8c3968050984bb38e4ffdbf55f404923c524b99192f379bad9fd45801a016ec33628e9a0ed5ce581a078d58ac281791f4ba1f075d8d0f14df14286e8ed3aaaf6a5b485eadbe5d108107cb3e4de6b7eeac576836c8e0f24b3767f81c30e6720634e15919cedb8757e1bab89f921f3c2a88e76a37e151b5ce050a8ecff9f60ad993d9f3b95e07d47a2d5b115980f1c21a20a85aef1bc0618511936868357f5693fea909cbe9564a09c1fc341a93a8bec346eef432dbc69a6e6a5b32038b06baaaad7388b38668ff95ada75bcc5e41fddea4c527cd0972ec647462dc90794a884944ed7c1aa692d1b28e0f0872d201a5e086fe972fd043c93df8c4a9e274eec4323597dc48cb68eca9774d440728e11815b9d9422d940e214faebfc05c1d20babff1719199a79b00e92b8480c3a5fd69a2737a87effb63c17091aa6c3df37794db90803da92b2d70eda1e9cf9dca8562a9b7b426661c679ba4512487fc66d76271715130abd9e7e1de74f0a9d697141093f9a7b6960fa674da2c987065e6704837e2c835a38e395ede35e27ec30c2efcff8a3529069eb90e412a6f53ed75b8beea370c8722884ab0d5da712b9957c84751451cc3f00cefab388be12e1288ec1356bbf205e6ae449243cd70dbefcc0f5e61ea57cb96651e04778c9c6bf5efb102fc538fa8fd21f31d89d53a9f73e14d102d300f3ccbd4709d6996d212bc8d035389c08e9e5afc068e9e1f0e8852435b08c2d0214154aee2bb4d4c8cae043629fdaddd094e115fc8b6391e8172cb4604ead1e42262f4e5ae099a2a9033f7a25bea72efe83a55e7c0f295d141b6aae83edcba79d46d720a9306d5801c861c9de313768d04e9460840fbbf80725ec724a2a1fe68c09e8cf9f8e16249cc1a8a1b80b4e0c4b7581afa84aa3f60638e392b2753869de2f1b52ab5a5c3a66b18add95239a3ce0df9ccd148b9eca3d6069c1a886dc24490d452e3c392013d72552d8a5adc3a2d239c7cb5705a8576209c79ec5905d08d85444282c5a93df8541606aefee208df159a59ddd50a83b3180dc7d4c820ed4a6227751cf24bceb05787a910bddcb1ab841a095f3b3e2bfa81c332ee66b578f5225d561da2c5addd2aa74f12e3db7fb1c29adbad61bc4fc35b237222b3aac40d65e6543a7dcdb9a81d6cfc1f23ca5d7650974422c4cf20001c3f0b2614778e006a5f28b54865f321be02ab1b5127ac90920134febde0d9402e739d72d1aa5d4a2db481aba6624b7fd9b097fc2bc138c12a667430b74dc0a96c359f17e9bd5c37091718b71b301bf0b138c8e0bc61d8f9462cb1f88a8141360115a56d56a31358562ac141f8e8cb3f1213567a404e804222340a7bfe487663ce6f654253e24dfb5d134b414533b993e0fbab64a39a82ae85dc9f158d3faf146068a8cf0acc13ad65ff82482e66b859684560d73bea19b898dbe1f826a548d7d7cd7e0ed3ffd84695a688dd51c98cbcff7c591fac54739e1d992e9aad729ad8928f44fa14301548248e8a02081229a545a99a0df3f877b1c76a890b0880f96b83ae47ae9236b67509249ec1e70db632ea53cad3ce1e5a5d2f1a65c311efb9d23aeaa2aae309ba0396bc38933ca29f03cd9a48873f3b1d5957db5eb4dfe81646e7caae453617266dcbe7200769ae1755aecf81f446bb900061fdc15dcd751d35fc2ab25e07215e7079af9c0e795942293ef7b03b4ab972d157275b029a26641b60fe126dc69c6de3f623183bb68fcce7e1718b833917503dc47f429510454ed27c4286f69fb7049a1a87b8d03df263b47efec8b7f4a69980a9f9049a9e6a2c4a23da1e5d5be0562d3829ac44247399ed7218f44669026bc8aadd67e46986610e94c82030aab14e9c932c19d57a9f8773074a421cc8ab1ecfffd6edc9027f69bf792c68fab93c44c401f0aae1ec20e55632a6c1423ade79e0be009e24288ac3c0896b2dd5d9103a413c80f442c8ba48a635e5c600be0396f4f0fea4d0cae2460ecb9074de2df4814c1c823fc4e87fc65b46188c7832184fa299bb7019d956a37ff1e8f8bdcff26d0984e11cae3a80fa8890d9ec578a33c5f355412c1a76e105979637f325e3ef280227d8f376468d26099b86b77a0ec9ffc7658264094b5c1dead3bfe57a0f0164d290aa8615e977667263551a954ed59b7c5c01901e72a92120c7cc3c51718c09e8bca8a59ca0180e0eb22e7f70811c75393a35a69d109c2ef2e2a0a4ac1da656a8a8e4f2e58ea58799c50cdf326040e4b65dac52629443642568379c8e9097273c98a7c0f5002efe462d78a1a14b37d760a27a36dc490907c8da991eeb2e51ab93b3861b5f431aaa0759b896cc31005f0276d63442dc9b3ed9d918a34618937a756f5dfff499f1aa778ab07a476ac3f33bee60c53266558fdd17516219818187e9f928d631f3a65180df0208ce80b2693109f035433e750125e01b1c517a529f7e87c5867051797d80fe76049637ddb3f62a4c2cbc604ae2d84eb7624d89e24953b394caa428ef59707a9ed06bbe5dce1eae410ade6310355540c50f22a8849ee1ecacca9302db328e49fa6012f6ed8bf39f6d9f26300149464119474231d8ae740a0ff6a3b2e3a2062265c66ba99b9a2aa9ecf600f2355be74c3e3c36e9444458fe9a2e2852b8be4041968df36750df7c4d26c249173f1ff24225f74457a306e8b45427293ae17eae1b07b9d0004fcd8c34421d5a2c3543ad00849e0de0303ff9a327d08bc63c3b23668355e9d90304a0f509949fc7d275e1db38fccc7340690910ac2ad9536066267acc0c2bfc14a92fda68250334d05cfbc588db19fcbd60fbc998ad251f25c337ad7774f75bb3e01cfcb31e6de4adb4ee967cf2053f18e7a452d44c7ee520cec09e9bc357ab0c9949fca3d4c61d98e8d397ddbd1618da38317514d1af73d4ee2bc1aa0d3577bb6664b869f8ae9756e91609b6b3e6f93d0b18198ad4c069d2d624763e3987c605a5b15b9339a565c4223820d244c7f5cb7f1923c7ccac9bf85e317c466acc200426907e9788aed9e5fa3e8064ee68e671d40fccd0eb31697f34f7d3b2a1050531a7e5c66b5d48dd08a19c9a87f6e528ece9004f3ef415d30a4e8aa430296e29834543d00df04150efe6657c5255107b8a35cb68c5384043160f2677b4fc3b386586be732f2388748a8b5676223ff693df39633d54cecb4b340e4a66cf163a429e8956ab0c93e84896d1207c2f09c9dfaf16ac7af25cab2e5e3f0c7f8286a419ea07b33d102b5ba091c2fb45327327588a474dc18aedf7132d0b8db53297bc1dcd38658827b20e0728c32f8d93dfc55e1e1510c080d0138d089fcb4ab4c846731c4b83351b75a499510c8ae4e0321bdbc5617c60d26d5758b1a1952d804d40359e26a92e4d993d4fd06c6e2376f84cd0a53f15f4333f4732be4ad5d927831c159c116b765fc8fa8f3de1c5705c78ae5e678f3838927f25e9f54ba7c5ee8a46314956e191a281ccaf4be4aa997d49c2dde741ef3dee26330128291012ceef035c5c870e4f86a8a3c57b2164c0088315dda49830d63744f020ac3745b2ddb092dc0bc181a123fe4780a5a4055928f3693d26d5fb15d1a0232fc30e9662adfc2ea3736954c55d79f7f44831bec68befedf601e7c5da8acdefc0dec6b6aae725b4ff8c1ad02e7d9c8308a0c60a3366deb1eac3bec0482112d10de835a0cd65d12e7b84c41c2b95685df2423c9d82931258a40fcfcdf701daec245782400cc99b9889ecc9436bb8987abe23e5c42fddacbd4aa8ea3c4861be11509e9c14d940b22c9a642df643dd7492a8d5849437212946e8e8d726c2a0b82f687bc5146270b7b8d1195095f748faba049a6f0307aa19906afc9d882ad09b4b9768548027b409f3b73cac1218ca71054e6bbe84c39d9abe7db3be721fad523f579e2dd86c146f5ab967a9d055ba352c0be9a6ea07ade1d81c97e4fd5aab17a89ec789fce9458a867f02e9912a2ec6ed9dfe5bb62f7a75875054f51d30849c4e97a31b91fe3350d9eb994ec923191b195d7065a3563dffa6f971854ee8248b4b7950794f66d81dcabc049dca3b2d44081610452e7ccfc17c81ce51ba6fb35e18ae3d4f10dc6135063337f6f49c106dc13c2591e02eb8df5ea946fa7b9470135414ed627409f88a30948027e8afbc21bf1c43ff7655b948c1c7e6802ae727865b34ba4f15f2276ea3503fc60e4ce8d6a2fc2bddc6cc16278db0b0eee5598b1044b518148ca57058adfb9f58ff769a98b728f783f72c0a7c05720acbf0d4cae9b368b6749bb48011ae5a5dcd87be11c2fd35062746ae2ed360639f1678a123d1a0d9e2a02bcd872e306b0f8b093bfb127fa7926bfded6c76943afe8c7fc486e930a62df8fb63d0beb5f3fc88deef64d8ddd5bb46181b06fca05c3c4c29729107b854f0dbf74e32a378790839d63b7a4ae109439652dc9a97521f8231f811a288eb88cf2450ddea8fcb6ae9e9ba94d390da516fbab5f1cecb3f7cc8c8ec51f5a00c2d45865455208e75b84a862220e9a2e9d00243652fcd7d8cf6f6ddbdc221e52c044e9ec1ee49262d5d93e917d3472cd8f4a0f6a6abd6f8141f2bda0dd3043eab2e9688f732fe4b60b061955344b0492b1fd1fa0706c8adc8a252750c31061a925251329abe6a8036959f2ea4d754ea3cf5c4a8c6e9bbbc72fb115e5a9c1d4348b02ba21699d123d1f8467521aedd2b39996b889d352bb1df6b86121d25c70d9646bd948c128d6a9dd6a53678ef4a83a93875ade7c43d463a56282d0cf79998c64d4d2bc6b110c9b435133f5fa9aeccabf14fbf7e614c0da0787c4d24fc14183321aa74d0a177c6b849232bd3b1f18149b3483601e9642ec84dc094a55a1704cd0a30dc9f9b4b5948509cbc1ec7fa17f9f6b58c8f9668c61fe809a4c8fffd76bf24e5c9cee5ad49b0ed6dfedcc43521cd7148f41c48edd0bf7dfba3f38a34f9ddf2e4ea0131d8eaef76d70adc373c165ecd7fdff4808ee33188118e8b5367feba1b59a44c4eae752abbc90e9ccf1101312c19fdde3b2bd927a0b69686a20a9bfcfa5d8f636c3017d3633e046ebb41b36adb0ce8ec0544925933847f05b0739c2a89a3fd24d7b989cfddd2d2b303b8ecdc03a9e0d4cb92e91e960085dee97caf800f958c13cb641d9cf391cc4d26fea53b4b96f1df4ef20c90c0496ec53cbda813e5d78529d65be81b999bfbc690a7d30b23bf1389737f4b0117c0d140d782ca1c7e0e3aa08153a16c30be47fb08bdd18f0b2d4305ef9b26bc22f9aaabc4119e44d37fb1ec5aa6ee34e8ec78fbc4258b58920d8348581effb422fd311b556486cbb47f55f06b3dc9e67f19a7882c6ea6082d55c87de4fe28fe85837f0a360734287bf4b1b1514f3cd1a8ced555ca637d29e606f14ee2ab1d4398de02b761e8e561be079d7f9ceaa9c6c1e7973e537a8c8c122b18ab853291fc05832be2391026396a0fdec693d83217298df911f095caabe83853af882b57ed62356308650ba9f78366c4eeccfaa9ffc412348845b6ec85b524f05d8c7d09b7957cd21c431787ba82390f12599ca36d0961c27af893185d38773f0ba9b0b7456da2e51c6153824a3d2c579f5ad0ecbb54f60da475290f9a183cb268de8e7975e9dd2af4ae9fc1586e69ef72e219f4bfee783c13d45c390e13e19f1493dd09fd109348da759429c285d1f77e905cf7cccb605fd41e78b68eda6143cd31aae97e3baf6167ea8a8f3a3e116c7ef93e4ae87a5d06deba013dab94d4003caafff5bc53cad98415005779885da5253046b3111980e90125f2664625b24901311ec4d88311252a10aa1556786b0e8e665670a1bf581a143c07bed367c6538dd08ccbbe2a484628d5f12cdeadc07ab5ebfdb0d59483528df47572d660f569a5737d7c05246bf6997f5e5836567bdaaff3ee5735b68d201079571834eb721b448cca35137948ca3835df1827190d1105808a052dee73145ec1acf81699b5735716a10e17c49163ffa1fb816b40b64ef37c1873dd84e4e289853341ecf4c576bcef1bb99139b68c07ab17c195ed7d582bb1f70598db5e8e46ba92e65b6d63b309e4b7eec8fc9e769319e030b2028d44c73a570786244d88aa3a1c2be539afd0518aec8dc5a3c1b218def9be64d7efc785beb5dc87b4f4fa3813f70071e3d60c1e65733937c5414b5dab835a17778ef080cc872f8097e546a0eb81caaa7f90b5222ec99f9878255a625520e78e31e42e50685caa39d1e9ca2349770bf497597b958ee967b47ecac09f2fa3fdd5dee120446cf9ded849ef35f69a16451c88f699ebb66ea07b76c0ec25bca1109abc435abcd201203d8ce4127e60cd80e5bd5f4649fe45bf2db7bcdba9f234f3e9f3155b85343a99c473549f2c3471bd978466a1c9c8ecab436f162ed217cbbccf8c0aff05cfe3941ea9afb125ae9312579fc5738489787d865fb0fac9cf32b6f96c72168b205fc8cce10718d5d7c34b8f3560429c6e11aab1e05676762de9908d811a2eb2fb8d98080f0e1694a874ee8ce4a99044d28ca871ea238d4527dab033a4b2ebaf771bbe8d8985178cdcc9f5debbea51d67f406a5c21edc7d0f3c07c2f9c6b7726b3a475f2324a60364322faeb90bdd4630d2a52c51b8fb50bfcc3bdaa245df6a6fd045fe05aaf5a555600e947aaa41ba276aa26cb021ca8550552300b0fd4c4e362b659aa4a7f44e764c070c44beb4944919d3d4aaf585f49acd260a1b56a1013a07cd67f5a6bc531630be784774719b5f243c52d57030f9b491b1b11b86d3420ae35166b4233434080c81296573ad3cd3714070c9f625ffeb4338866cc17e4236fbb02f7b78b220a3dead6a4602f5e48f7d01dba77284bbb11be80745995e0953908bc2e5184e0646ca0d46c6b2534f75e0d9e49cd90a781b783b2da9a0a0eff14ddb6e2bf5f7d309615a9a0776e95e90017372050e52248786311a93a3eb282870123f715c92885a0eee3ca4c375a36cc94f95256e2baef65351bfe43207ed73840afa8ef5df226cff58547f3adbdb4d854eb7d6fef648d2df1db8a41ac8fdc5b67af096c76c027bbf6319d5e39fce3afd923e1ad0887ec5bbc6b8e03799c456e94c08670c70ca4942eaacd8ed52f0ec50c7c6cf0180bc0a4e6a2bfa0d11fe950665e09f63b69a4c590aa5d02d254f71a83b57957a12a0ac763fd2483b074f0244ce264d19b8aa2d91031e759cc615f3c1392052fac8224a10ee6d16b9762d1b1090d4388ea158eb7862b6e804c5f2c67fe1302514d5ee946c26c2533602598c145e64cbc7fb53e817798d9c6e4bcbfd6fcfde71c34a64051f77d02eccb9304d48467d4375a2acf773b35319ae7554e7810464193b41acc1ef03c6b98b4b11608aaf77082500d860a3e06ae39d1d0d1d2eba39ec770121e0242c397b61857e308ee9e5a99049a5ce7ad1f80246579e4651ce4a2e6841531a60d9518b84f193773db993c334731f87a633eea88230bb2661fa24e4478f9d383be5753bea44c856a368061a24efdf27cde6b392c997ea5436c7b65fea4ebccdb2899403189f91394f0f6aca9af80fd94d4d45835725aecbb8b684dac857c30621f170dabfaafaf2bed10dc8ea57afcedf8745e40b52ab93b0e2399d71694cae2f7dac9a2a2ebb832e91a360225b9df57731d01e11ff8ff4d595eb9f1a210009589be5e2e6dd7edc641304060df94239716778f8d5fc4a16fd22a821df9a69eea007d8c4ace827c79fcd6f790e44efa07ae632bbd20b92f55904b6cf12c41f7ba17af2a55b7a356e50f2c5bf197c928777cc1754fcb623f788a74c680a17cabb55ae89b8c333ea7ef999a9f66a789a6db87c9b9fd6135ab99274879daaa43f6c164164bffe23711ed801df86163bcb049b80a9ca7a82d1e0bcf55c003c4fd1a6d66b6a648e915912592fb3d1b14b917b8b80c9de8a494efdbb28efac20f3f9bf8b3008bc06d15b35ab5eea3be5e3689ecc80c2388df480f4d1b0723aed0b3488a07d04e939468b9105a57537a779d09f0a3a15628f164679c1c2b25c5be2de135410f4a03b7e2ea19d348ab931fd4a650b082f3e36c4b09d61e7a3051c9ff03f3ca616c6d0dc1d04389387e41276414caabb60a250f5471a6beecab1ea79ad94ab8744cfce316a74ce0974b3d0ca08a978a179f4f2bb2b1f19a4f872683c25695782b6022ec475e0fe1066a8e0239c44ab151c1c3ae9bcacedf19d4c9983fc4ca89821de14b74f7b487790f1160b828f96113c4031799792e99541901b0d4006e944a5c4e3c9923e33b2c9f17837a9fbce2320c9308840ec488e1fb5965f0f3d357f1c1efb2b705ed84d41eb2dbef7f92de3ca29c27d589b09622311329ba0ffb8ff466e846aa545c9c048e0f5782bff18f5a533f2875b7878d5fb8c302686776d586764d3d572352a2abc82ca58c0fe28ab08668953dd1875ebe13399c3d1895776a85cd794dc29f8dc30d7c77d7c7407c9660a23dddb9d317fd11687c170b112d9281c850d9889ec162e53b33c66f725609a34afafdc9b74975eca96426d05fb1d7d175868445451d6847dca4f250da3af18412f1d4bff5fbe4161a004a1be1b62bd2acbacd6d6d91b26ae7bc07689c426e3886443930f9095037880ec2cdc728c42fb896cd047b7d0d45794441e12f84630ea1fba5ef6a0e2b4274c804b9fec0e2c41efe480c254a7616a8d4055f5963112ce67c183d562a5470cad5c2e4276a5d0d62622b3cbd25a7c2dca8f17da507a1d508415578715097ac3805befe46df52d34216c2bc273ab4321410c2b4f4448ac9cb419c0488fc121c39935eb598984029f2fef6f5e6cbac878d868b76523d4cf53989f7869dec6aa88fb11a89c5c7b1615c07dfc5a5a8c36e7c33d86c53176f826bf8ed53613316c8fa04df79fabe3c34b59845fa445d8bf512bae21096eef50576622c68cfacad481bdcc63ab7b9aca98f8e6272ff28ae6d6eec76a2605aeb77c77b16dbaf546838f1e05521c22bce0a1f197a9d8d305f007c2f8de0227cb5d90ccfd4937f5dcdc4fc80a36491aa467f4e0d57616864b18a97d5b1c61d044f8b05a70cefb3b5a9bd54df763d5bdac547026198d2fdd49626e29fc9d533ba513fb6ef26e2226d62ddce998edaa1577ed3530fcb973f8a397d1ee8abbf20c4cbbac78b76b9614710c0e0978e7ca31c4fc0c69c5e75d5945c14eb1033ee2020be6f4d249f4548eb1d998b703e38b4328099594d8a45d6cc92313be7101cc61291fe2338bc5ca976c440ab442e8abb32fb77d37785229962ba3d6a3613aabfb697f04bf0b4e23d5e630200046790ea1519a593461763cb8d1306387ff34d6c2915664e42b57eb47ad30ef3fe50980e1bc140d0cd803c2b70183ee68f7c21c0eb8ee84cdb7f537b8ff65ce83ebdfbf6e63b7c23c96d486b6263f2531245bb98683129962a8978cce35e522d2afa8bcdbcfd277b99393a27699ccbf7266112aee2a39937d190079e0a0b8f34fd288de89b7915fffde2ee103a5a5eb4c0bd3a2ed97e8e64c532be0beceef8f347aa7248df37dac87be03bcc2e404bfc3a98d6acff6ebae2b526176ae31740bfe7916bc5f410fb8916ccb48a817cbb11ddc2338e7d667a01a4af9a9c5eed357821b67497af3b9f2c31eaad02dc53f8dab9eb8e4388ad49024e5ff3b888589cdefb08aca17d774b81d25c3d04141b32ddfff26740a4cee7754495f034cdb86b1ecdbc37c2423088fbf2528c0808b40d49957ba0610c5faedfb9e5ac1bc2bfcb472da7f2105c62799b23e6fc83104eb831f64e5a63be18e8e258e081f211460490aa45d63c9e82306842b8ea8a8d3f93642a6a5f169a0e241df002d8518b42f98c50fd64359e38b9b6628c8bcbc58247c4eabd7438d0304093c7824f6fb9472a5f8889987b4fd9a7d7bae300de7e3d6505566c907be081432deca3e845ab08e64890f67c4290a99b9d601e58d76da53983877a385ce163deeb1064cc3ae7d5a6e8b2dbdc78d651a6149e464287cfa49f540965f4505810f850d2b3851f1e75b98856f841d5f466c54969c891713999f589db671bb7eb35d60315b8bdd176b8315c902e46f0028462a8c0ca1b66d36d09c7b1f42b13d3c87c4bb73b53aeb76ab50f8e3ad2c653e3214d2525a59781312e4f65a4a31cd0cdd0a4c7d1a5c4244f08c885fa89718be7239899018128d3c5a25661b51ace72fb54bbb5bef49d5301b6a54dec3c7e19d24302585adfd911d6030bac94beb37b7cf0048cc66a3de5c9af2e5455c73ec07c6e899b512c3b3d1d55dd46b8c9b40055c00714a681bfc75db79a28e2c8cb2baf0e3ee758da7846c7679841894c5b3068186c1e1b6d91c2d48e6a5c4ddaf1b7daa8bcb9cf6e1a2bf255f04b1c5c69c2c6190b0266dc7f7b3b0135262c4910dbed456de6ca9fae61fa54a8350cb7b6ce42c4f0862dc205dfc3593422950977e4df4ab6670d0fd2c2674cc48ee7dd39df8310e8acb8fb59d773bf1e5cf805c4c7875723ff68ea7f05d9fab0785dc49c10ab3c229b482c4049e471b2ee5a16ba4b3263916f8b2b933584bf8428d31407e18e1b783a04d4a2dab9f4d560c942d1899afb55d53c897bdf5982cf99db0375b63103fdb65d2c7a71a07741f42e7a56215d7b6e621ae5752b1d50fc103606c30772a3b29d0275db5de26636f3305589f196a6690d7b141344a9d9c4b7437f67d2e9efe0629968cfc4a26d8ca09a5e9d99ee1b3602fd992e8b662b1151992ed6b1df1dd209476ca4c6da409d970ddbda76fb646bd0c63e95952baba7910145bc7156752413de4317d04b6dafc0890adfd04b95651e37cbeb2b1cb87d032025e3ae408a1ad004e6c9d65a3db8b6d851b425dbfa665064eb7eeee836f52d2db7632b43422336a9ea06c34728ee0f4284485c12d50b67d1fb38e750b280ad0bd65cac9e9a42863bbf7ef9e0bb10400e9b040b98e1be242d2811ac9bf16ab9b8f410446b7c06528d167392bb35cd0420018ac24305de9515ab05dc338742f772faf0cefd540d067fe7f0faed2884bf1fa1c39ae3ad50ba323a87344d2a0f845d95d610353d89665ef727249c9737d226bb8ba192c6a548ac1e04b9967e8ed4b8640681689090ccaf1fc2f51631af9b06313ec867f3fd8a8cffa17075014a8b795c526bbc4390ce29f181612d7e0ccadb2a88d2b7aa8f091ba6fb0c7ce4d49a513eda3a9b5f984854a9877507cfc2204af4cb621a0cff8b59a8c0536e5e2a5ed5d4278f1d9d6550f0b920857241538748d4ec164f5fc46908180b4fbf5e3c5bc05bef37c00b26aa53b98f9473a4061c45947e1bf83da50f119e6e924b456a7729e588cf33671f4322501bafa9f8b95c9ed014c2a4706a8267608f4ea0c97ebc7fe26b47ae069209e08a9d8d1fefe01a954c6e60be389dceb66e95decd136bf58e2708ef03bb252d2dfa7e932f03880cc4923f5873880593b940850ecc0c279549681a79a8fccb9f9692acd02a42bda19149f850d946a8b2c54c71b8013978a2afcd207677ea2d0ab084c25ab320c055eb1f1b4f267a216e4334822cf3da1959b9f73f5847c913d4d8a05dbaeff80fab2a7a7a9e567a06fd5a0120c257e9d9460602aba4ccec07f39d80f1e4dfb8dd7525fae469359edaa9fb645cffec9172a169593b2108afe4e5095a32c1ee624fe87dd7e127bbdad6aa93b388a976befafbed65bdba6c4db9231c32dde1dcb60e3c531688ecc4c3693bc59c138b8bab293ffd10c895dddaede5869b4dca681599e1786a8efe6bb96d90bf17dd481b6bc52c84352b2d9ee6d738a8e1de0ab5f7d6aaadfbc59aaa05c196d82ccb2c1039ca5a6dd7c718700a90841ad31ed8e9763b414685e279555ab3283cd75947b1c33db9c50140e20149bb2b0190c48a40611a956394dccf01a9c3cf860e9c1517e9ada7720d5d231c5c295f0e2ffe8c3600be2b2a46f0110bc5d0a0a3d793fe41c92b5118803d9de92b587483fa9eab8352920c949b456b997a97240a9e51dc28ac77df552f1791e22a2221309f2accdb4880ab2f0073ad9c7b17e76a622c383ffa2c0ccfa37d4901fcb6b8b9a7473940421ad33d97c311f2de2b38d97cb53ba6392093925871680673eda141b412b6276318a1d7add3e28acd96d6266416a92aa5a3c06c0ee4b2b6fcce288722ffe98f4c5a0b0f007d2b5238af9ddfd4c0ca6e432bf065d8de85d28bc5bbc56761e177b73b436923aa5c609d049bc29eb779531a93153278074932bed9ae682429896fd9cb69ea7e9e745b211b238d2b82a9dded3b650c145e25e60f9608cc2a8cd8d27289320fa43f2753e9334478a48b3d1b3c4bf03bb12b4efe0e292c297adb53abb9d4c25ab4a265f720f369fb7d7e2a3d6e14d5a32f8ba9c286b649445aac20c8ddeee76771aecb8fd31ea7059342cc8206f143e3313ac7e326f2b5292c1422d43728aac6acdef097ace726339ea5b6bdeb4c0882b54d37846dba32f8ecf3e76b58c2cdd9248c038f74017ea575f6e0dad962c51eb395460e2eeb9bd5bc10cb904ee801d9667e2af40f3e8d10c47ceac7430d711a997269ace3a87bb4d8c1083b41d0cfc22e70a4edf7ee3839f1c4b5cf71933d74df760f9031542d58d081ce5acfa66992aab63ef0be2421436c8919bd6be263d1d046759432dfe0e5b1cc9c084fbd8b404791ad0d28ef99ef49b2900da29e4ae8d2ccf5a55d907bbcd5aed1352da579824b6ba64f1f4ae0ab575cd048389a712c1368aa06eaa0014b2134132b348bce9f6a4f1b29052a7190b3f8450b53859d0a4bef0a6680b706ce9285cd3c4db5b3dc39c253c5abd8cd7846357bc6708d0901f7d148fadce4bec6da2b52dd450b3e7af5e0a1381692459cb984b638c03039b9e8a104b5dff2c6a1b01553078272154a6e99ee1273bfb7d4a28605ce2f2c7e60eaefd4e1ef0d275927f4aa12eb6fccf077c8b0971141ac53147d3686c4b9db5e9201ba277de06e7d4d4c802a8854ddc05878517fff9ad66cb114480472979897764ec56a2a56294a476fab83724ff84871de4199e55c603f40533a2a8e7bdc18de165f5f32267c06715f9e86c8262e6c8a1554da789a2febd25806a69fbc5f07c69519cfbe4e04e69919f87982f5a653e78ee1ca6499a63ed40edd5e02d50e356a028e6aa518fe87b3f3b19a8904cfca2e5652536d16032c363d4226582463fa650c8498d235d53009f70be95b270e2549fdbe1a25720a509a2df591113b48c546206355a45fb0425a663e1b07117ec01011eed7c782d77e2ef1c7167f7a67672c1a566da5a3df1853641af10818e5ea5f72a73cbc8e0c8eb0863335a3f7fb49d6044da94dbff15868a6c9836a46c1cd920aed9347ed78db35b3c046503fa005c87de9edf6d0d09ab402e1805aa55136020f2dd9a8c233f269ee4c14c469b85b5fdc20d02a612af62c7dec7f7b8ea536c3cf44eb0b658f19bea04361195d36fc7e3ccd551df6d58a32a4ba23a4007b1cb22445c479750db5e97760dd83ade78216d32a339a2e74e9024432893f8322c24c3822eecee1c11ce874f73cc3187717c192da0fb34272453ef43678144b991f48d32402bd8aeffe6a7ea123925682b35af9a6215c22736f8bef80e22aa06a01f5b89bc2fa448a42a7d64c97772eb780ebbb10f6efa8b19896237c614c9528ead17c8ea97b54a2529dcfa6c269bec694b0d7f9fa12a88ab7b71e15791a6a22064aaaa50f17a44e18335e81830041daf30c7c9fd724f89bce4e903c78b668c895b87949900e00f3fb8827e9b7e33e9fbe053b1cc674601adc337d0d07d6e48e83dc3e8d5bd61b0399d464e015b4079e0ab1e9f8fdaef3298a71f627d348e2d9cd27e3b3cefd1fbd6c9bf6a9b3e5e91e0dc9c71cfb322a3855d524ca16669be8c404f2d9a0aef35875077139a70003c60d5a367e6a19cce3b8a9216e6791ebad7e42d2c6d95e05accc4c10082fb397b6be465afdb01f67cfb7a88ec6a1e0b81c2242ae2f0ed378a7bec43eb99236af0a47a37dc604b183a620faaf037b39dcc8eca2886418d8916e0e5b9747f89faf6ef68344df19bb42e95f3fcd079f0816eda95b99d3c447e469d129944f88d23bf2309281a4de262281a8343b0b7cc642092b0a55c7e5daae35ee31fb2f6398df0a1d67cbea06e275dd9cfcdff6d899461e09052936b9b7de68d177c42ae41a33642124ac371ebbd31cb315f2aca496ad5fbb21b05b79c4199ff3dc4c968f12564e168f33fe5d9689bfe5afe391e5a97f3bd18c87c840dd0d700f467075769d85f60cc4585cf727d5be580c1435d5663548d10cbf761bd2922b360d358b4ca807cb14c9b7b77484821fcb2149fcdfa48ec323af19c5f6cfe157f410663fb80faef817f8df11fe0ec88a924dbf6779bf063b2bc34c40857e512180dee328e1de8fa16514b2de0da03841d29ca87c7a4d4e02f7b31e4d05afe25b6a84dcacb2b9b2dd85216cd3280ffec26dd1c5dca4d88d02897f6c6a237a946db9228511a5119a799e3cc2881681dfd0f097e3ce3c8f057515f707bf04af7553d6e687165c103d3bc87d82271a408d329873041646bc96497240bcd6b0576d4e75fdef0164b88b0d99d5cd5c91a42526a7ff1d360ac058d9638d4aadd0f21d4ffb024a4c26d0ea921c9bf2d91056380cac0c4facf7640e69ac736ac201df2205d1ecc41c588c3504b26ed891ba0220b7a77f2334a1d9a27ae0169b26312c2c86c05d4520055f154a162cabb0ce0c8c9fd667fd271beea83a8f691cf0ffc2b6dad0530456f218cdbe8068a7b731ab8d484","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
