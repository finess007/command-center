<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"968b93a27d7763abda9bbdcb3e59d20e5ff2e7067b5757fcc91bdc8021eaf57f59fd2f275d934cf86730d16bfff091ad2e6b0677bb54684747bc5102cb0d5244f4055138c98aeca00ade1f1950b8d0804f5736815d9b727841506af9ca06d4bab7aba7aa378605cf7dcf2077c9433cfa209cd13e4f7bf90f813e0caf64df5494165c25f93907fc53cdf3f35dc95a5428f7e374ddb409503f2fc240e43bd8e2f0a16d2ce436c69c5fe63b73b6906c7a6384a7eb4786011888454e71dec4d1c1ad0433ba7072f4e213063edbf2af2ad1b8786bde3686b17389b2aaeaec9b044ae4671072868b268e38af17ff01e2eb8f7cfcef5e5f2079aa519a16f840b9b78dcf78717f50d33e4a9bd8cd56de5a239130aff9098152343546742c334baa3afc8c990c18452c7968266a903af577f7025adb7302d665ed871babe94f8c8cc5093b1857ec189b04c388cacfa42aaa5779e8d2c6389044b48cfb472bced9a00bb95811836b8b695f07f4f09fa843ea2c0fb5550d1d84525d741b3a69b538fe0e24a36aec2a6e0da9f4e8f1a29f9ba272281fa2e4ac12163417f58380ff61c51ff1c6f7f03df07834768391677e4a9c5a5696df0214932a631cfc5c4ff812219f66b7475607dffb410da549a0b149d7d2eb42cbd97deddcea851c34112901539fb382b96916247bb5e49c58c9d65d12f9310c63e59750313fead4bb94adac320254a5e7a4144ed173ffeead9949299b2d3c93b93aa58583a8183437762a83aafe713605ac143b2df81fda7d0f2570583df7c543389d1be2dd5d9a25319802bb34fbff324561b4168464fd9214e44467ee208c0dfd13557ae3e30c05d0c51177aee4623a7e6eb6762493f1858fd65943ef1a27fbfd116732a5ac94da7af645a2b91d4d742f13c8fffecbcd275bb4a6e1ee7ac129bfa854302cdc01d0da3a69a003f77bc3b8190518d51a5e90f089830a3cabf111574b68d415c2a40b583be218401d6359a42c2ba026ae280ba2e8672adc5accf96b8e9bcc0ca323184a3afa31ff55a0f408ac05a0897ef5e6ecc4ebabb1ba26dfd3790f947d64a914c785691968adbe609787f4e6c55f37230155ce31fb9130eaeb9560026d3675cdaf33c34ddd2f17c4217ed16f0f4dc410a8110e7d0311722076108217032c0a0b431a0b0d197479d4d78c1956fadfd31f0596bea625f66e181db26678353bd884d4977c2127f9a1b41c73c40bb14d93001358fe45e84827166621fdd1d66fdf0ba693aa228656f4fba4b9c16f36155f4985774053f21a4efe02fbcd36a8d09eefd7b075195a8f1083548061e9d366643c12fe54906377a6b00b5eb8ff85dbb0516126caad7a90d294daa3884e8405f67abc8160be4e8a40717345e71b119296e23de3d905fc0cec2fec5e232c6a607a1412807c73d978b41828aad04a9991de4ddf6a247957f2d067b79b3b12c2a93dfab74d8c31d5543b79bf4c9febb7322fe1a1f3160898152bc05302d5dbe6837c5293493d09473e42ba9a00aaccbb34fd5ee597d765000ca6173d6227b53f27998a6744d8729540d1ef7330a0eacc33a40cdcbe74bc6058bdd8c8c86da63881446c659d324e44d99797398315bbf07b1e259db1aaeb81a2390f2b0069deb13b9da6dc56f69e0719bb68e22754beb748b3b8d11b906855b8f857588ae1891df4cf892a21f7b74928289ff3d0165001f82587ba19ac0e70dc5de88b6d59c83127cf86e46bbf7916e31dfa1a7a46c2dc7cd20b445e6c20b5c4a8cd767020449eef9bc1885a1da00d518c7b598fb0fd090b5fd526e92e91c533758b423ab2d0b3f037fa298dcc184d2aa52ad20d88e892cf470c74b7951820030babdf80cffd5e5221e148098573f2d5f938899d745c308ec2af27fcdff7ac122e5b98e6038e2a7c79d0681597ba2432eefad55ab4f8a31f26e7dbe2815783d466640cd1da078cc01cb904c8e0afe45d7b4d4647e4c596ab76b6f1942868b15cb17f1eabc082ff5830870a9c17a294c57016f34071c60b728907c24ab2d9cfc0c1740376cab78663a4910ab755ad982411c76bdcae17d247dc9706e1315a83819fb6a835007ec8165583f2645526ecbd497bb37cb85f8a8b0742379820c7f1e24b74acf23169b296486441dd15c2640aa9a51cea77d7a08e9317b9ebe85ee2a41ff766fc90429fca3d5af57a5ed302547512bf622c72c279a67ab0452b624dac7b9110e60de1c106a5e34519d0b0be63c56c11682d414528238d1daf4ebb2ff34d45055e1afa2d1631b405f726d43f3a2507e7a0e5eaf53d9151e227419bc39e08b565d0935704190d3e1034eb5e4eac36c878a8dc0d7a23c8fb6973a20cad0186fcde30af516746bf8b6e9d423c78c542999ef4b161d32e6976fe4addb6fa9d94f198bedb7556f04423c6f56b46a7c300c598057dd372187ffdf236f7141c9f626f876e8c7af12c231c7b0bedbf68f162ec377740488d6658071d50305efc493e6e37015b27460a2d26d1a9ab3267c50467e30fec62cccf848e8d8b95ccb11761c8ac52347f54e94f40832eb439b431cb3c62276a4c3192aec9cd83eff77a761412fea263ffff42f103f855926a813ecdfc05cf387fe59baeda069aaf12c706336fb11c0d255a1dbda8918b3589c5d99240d0a0e774ea3d1e54b6af4d601e35efa8aeebb5e1a60b8e0a0cfffff6e4f21b9b000ec41eff18ba3e4cfe0f0c81a5b12870da6cb5ed78638d4f813e32d21874f822c306fdaf91bd4084b6d4c11c40845a219ae6b1d0a1664a05055db568932bf97bc9cdb8d1048f1873231223c4b0a1a8bb613b0574c4ad8bd04696838bb2721440040acc292db4ac5f612545445457621baa0b5ed52feed7147ddd1521adcda9f94e3f79ac675d919a7cfdf92aa6e581f73fceadc251b7dd824f2f6dc4cf7237a6a7bcceb852784aa25adaf917faef052a2f614f35d87c588c8bb6edcaa57201711c87ef6b5bdd854fa4990aa7ca38889c3a75923591916d92b6f347a3ffda6c9ae5c3d3e0e01d24a548343f2c7b7e0584a9a5919b91017520080c3299b9c2430709c71e0cdbb591d4847c935f1e1f1ff8281f47cddecbd20ab28544632d7a4ece74f86e2a71fafd09ecd8012d1a60c2c395cb3da6071742eb83eb7e1b1642118abf42733a82eb4be4da3f4fbe5750b867e5725bf1963fe301ec0fccbfd4f81de16353b0e62cb39e0663b74b145056827bfac04a7c58c15532fef1a0183b14fb7533a4131e24e45b109246815fe21006508ebf80b2290da9cb99174801444efa3f90a48b182e7ac22bcac079e6ba6857d1219eca54eef54fa965be1f9213e8158870f927157350e5ea6e80ed55eb970dcb89e19fbbca5bf47cedee412a0e13be543a0857ecb7676deaaac5749eca8b189c86d862e98d307e9d691a68e8c026dca700cbdc4f63e15d5d212cfcf63e5081474bd375a22c4705d49783f870ad97eb6bbe21381bb73e72b46b535687d6e79ea83cd17f5401c3d4ce34b6cf1a5bcd6a30f4cb78706a135f38e668419dfc37a47e5a00e6d8f930397429fe106918fbba4e5cd60b92164c2c9ba18ab064d1d15f39388fb5366fc32b33b39e4b1086f3cdd67bb8b6bc6d5c72a18615a765ec288b0a3ce4bf7f5879281169f392ec90a32e5de525516447213dce01fc833dbc116988aa79736a5faacccae76d8b54ceb1f325b72058e350c4855247347bcd17a59aef99bfe48aab516fc491600aee0a99a98f3b381dd6146360fc3923a6fd40da5af5afd4bc5d1eecde7417d47c02727bbe428c472933409c3de08be60bb373f0ef8ff2527471e46da207c5cbd7e8117464ab0b92dba2c276ee4b33c663e4eb19dd20147d795e10e16622c1d78dec4faa2b00d72f852e294f065b9a3d5f09f0bc4d7ecf60018400a34f0a5aa76e3763a3414bca52a09e8bd5e4fc372a407de1feea7ee6967dadb1234d7532e4920aac4da54ebfc57332b95ef29a7a123763825db84fef95b6e575e7e548b862cfd9bc37e577110993bd78398fbb6286e4cd3aa5b024aa0de7e6908a9910aad6eba154d062a14d4d0b70a1cb84c15a05a92f1aa23db9b242db4508b989c02ff95fe00a1cd6d8500caffeceb4b8d38e0edf304a72802cb98fb633a8a3a335ed2a1c2e2a06810162b3a5c83470e6074d8d53a19028860eef19e0662e3180821600fd60db13adee1bf1c05cfc4359c21767082927dc21fd6420c4d7e376c8c0085ee08563df8cda1cc4f84422e095f3e1988529bb593f6c1cc67041f575e7034fbbadb53498936c654db8b6682171d5c494b5f29c5ee017ceba0a5829f475b2d2028065b7e8ebca6f4a6fc56460203fd811905463549d83b231f5db65840b1efb2a63950152b8f47ab6ddeeb5a51391bb7bc460f87cda585200e33ed41cc0028222f91d5c0d65c21081d01b190b4f87fadc2c3f895cbaca94135a468decda624f6eba472003b64730f837e28a266b65d325eb0618ebcfa7f2c2c30a426f5e5a29dca5fd685af8596d3b6c7aef841e6591da0f42d622b0821e32915ef24a49a106072e638d1d334a721f209deaa6e0ea6a6e80685fce9004e955cfdd6502eef7892cc0f60df28c7ebf2dcc53044558234ad1cd8f8aec6c0b1cf0590aaf50d3f87e216a4e717c473307ae96af4c5be85d472dc2acc0e34bc48d4f74758697db3866d7a58eaf3e17d520b6b02182c2e5993222b8365468669b301cae20963c5e72b66db14f3b2d496e8147fabc93af74abebe8d4d2a20018d75a2314d68f9313d1f147abe17431febce0a01b0cde255859c0d4392c422b7e6284dc921a064c64478cde4b14401fd52996529090945e0279ca0be12d06aae0cf52ba8a9da47fc0442c82ec107fcf008df4bb319d6e3a3352454bde98765c544bae5b256a955bdc314cc5dcdc3400d79e243362f7b28d71aaf284610965b384a5a27c6be3b777d7e55e0a6b1e216c98bc74e176b1660b56583d06b25d9bdd62ed6ff248111f878741f938a4c116dc7c2a69062d25aac7e81b81eb89f87a20c9aa218f8310784cbe72576f3297c9b34f443815af8f1ae8f8f5ff39e5b6fc7aeab937840a4c71a5d86cb5f7a32c476a78c3f858498b063ab0f5fd9a23b533fa496f7bb732672a6e08f57706bd88a363d7d5b1e980bd0877fac627fd102101ffa9cd0e736d78b9799bc59fdacb4c708dee2869b14473cda044514b8bf47236092c33c1767cff9762b228f11de8f03c4b4874f0d16a54c57cb34075cbb2852037173642fff968c861b418942d1bd33ffaaddbc6a78e668ff9b7e33b76808c5f90f844f94036e448842676cad6f3d9b5c17c65fa42efa47df04e5d9c46fc7032adae39566f0f9b7933408bc0df512d277c3f073bcff3de4bd55ce63ad3fb0b47346ff71d10223dba91df95ffcb9a4f7384346836eba0e1c01c133ea2e4e2b972c39be80ba6d8d11b98fea126f406e642d9fbe4c6d9d74d340f98a47c78d803e5c8b4250001d651c98e2c6e689f87d204e6cffa4cf87d2a1fa4ba6204bc2cc2d3094d2da471ff76ccb273f767ee502bfc56d34a66dd4f841084a9d8241dda567c43f1b490bf36c506ce56f5b31c6ce1b798a073aae7289dd2d59e04d12fd38105ad12f773b628391435791f603fb1b1fe37041807e178f862798cece47cb407763af43e8d7bde3056a308e3a35c5efb5a8616fe79744be06d87243b1c3bb0053a96952540660ff37f6a8024613532f8a285bd72c249c00db8f8a9edde9140b09614591398e58e302cbe60f3837d0ffc1b79e225a26bf5fde55c1b3bb1a7493b72026444fed8780adc02c9f16e43e1196137df1898df1377cad209a8e410eb3fbc35ae98c706da8074c2b975b2f5ae8a481cc26736dd655dc2150f328f8755f94203fb4ff808569c09c0a7bcef8de04a3baa4876f76662b5a41cc1de6a2e9ef029fe4ffbf5297e03f159163375f8376e624d9e57de499c265d139135b045d49fe9b258a3d860616a8bfff3185a88b3edd5169c83bce2f661574b34d105a1ce66800ebd9b8c7ef2e471c76485309f0208d601887ebd7a812948d9f5754f5d6d452455cfe1bb76532f8a0818a463856a1c17c88f536cb3cec6b16ff19766ad71bc33929767f780773aa8ad1edc0eed795b1e960f80c546fd3af68b2f4f8b70c0a9f73db0e7729724860e83ba65f09199d46a33067d6c08dcbedd6b61f4e604e23571f809bc1670185b2e5dc46bde3fb94868356818046b4e2aa7c720ade0966fcae1dcb179e385a2ab31d010820ef5345692862b7902098302ef9570868a4e4fa7527e14246f23c641cc81dee543a242ab4e79936a567883555ccb76a9c7846fc9dd7e85c45971a12844ee8576f2295febc3584772797ea0cc801eaf7b3b8aa52b7410ab27c9162c671a440b363cafa78c526cdf18022c4a126494aafa24f9534c92d23817184471e25a2e7602b6789e45a22442d5db615a8572271696c77a31fb894bd89e9f1a44c29327fe0aeaab1303156c1aab61ec4ab3c9b4cd9ba4c98d6744e737f5ea42854734167b3365e0e932ec0f3e0919395381771f5c6c218cf5d16d517a6e72967dfbb64096fb817cebddee891b0f6d9e42ce3f7dd314a07fed79d9ea177f11bafd060018b1b5a9e20f6fb03216dfe110a2bb20efd370531ce8171a980e7b42aef189d4f4f32a972b90eda92f34cc0dc3e736e2a89464b825464b19f1ed58376072eeffd5670af0a7f50bf3f099fefc7b5ca92df44babd4a939f4d9dd0de797077c8353edbd4d6cfd46cd01bb62af45697a3d9c9938fd4fe4fe929c355c801b24cb4dd84dca512a0d32131072cd0cd3f396edcd66e2a78fe58f406140cd951070b4185d35f966449fa0c7d22b72c4920cadf9bbe57a009786188521b4482ebf7a134e6f4c0250bdb877593bd56768e18c9f3e2a3bb1f4232f77d95f00e4064d8efd514919a83f6dad958ecefb8d751f44a927e77a87b1bc7f8e3aaf595c74eb9ce81bb2418cbe84dfb795b0738d1df75f613a99d604d08464250e3870dc906cc9a8b807f253c555a3377ffeaa559df29924995fc7e30f3b663595935c4db19cdb32fdc96e9a5572278979f06c48f04090c976a5d780bedb9e10d968f201d10b1ff258939b5e0e3759ad5ebf89a84b61452b71723f8d93a1447a8cb50dac49e94b8468735a163a3003b83156d9ae20818c6dd8cb4820c4fd4a032ae4851d1bf742e9921ff37b1f969f49d0518942b591db8ce931906a0c7eb1280a07cf68fdbdaf6c0648449d2c213ae2956a2de7d8ee676623fc676643e4e2bfd8b6a82878ac3755d63724c17a7e1d41a6c33515ddf6188d88a10c7a65614980acf146c57201b14f432751b38c2f5a595ba9c8f3d31ea1557fdd22657556b17c6e593a61341336ddb018071769702a68ba5e7ef1cc3dbea1a28ccbd75ef2acd499f8e0ec263b945b4348a0d26589e3e174888dee62185c55cdc60e70bf0d2fa61848d67bec466c2fa2fa67fb53fb08e9b3c2ede07e8fe76c04d985c57d96bc6eb2d65e33c05de06b4d95190771a9e774becb4f28a97398ea69a336177ff870b0d720b5ec075794596d54c27c10b8e41f07b6d3c903641385b792486255cf97e0df3e4a2bfad17d01393b8e20bfac78301971208ed01b8d95b29af79b8247cb6d09462b2eccbdaa96e5e454abdb6f33d1a9c1818565d62c6bd57d9137d0bc44d5b45176f068498ab8076cff048cc8bc31a8168aae4bc2e50cf30e2b37202796cbd76a28df85031ad8e306588d3a61f685f9528e38a0999e8a9140159f1d53527b977041c6157de566fec0f4a7400be36a6ad0e4451349e46ecd2aab709fe47a9da9630223930e6662dfd6cd1cdb0b972d3406b6c09b9a9181b2fdde6242eac604261bfe61356e683fa3665a117cb5d65b59ec0e5c7f36d0e9dff4bba3b8e271638e4478b73e472eeaa7441414893858b2888f3ce0fd993e6aaa7f3711e2dfa56caeb940de9dbf800405ceaf71570c7ce60866fc695ee0a0dad66459a501b27a82cd81ea5ccadbb13e6bf718ff0605a4c23fadd8e146cb91f3398bd61ae19179e8fd4de4050d8ac2f13ce183e99bc01f8cad0636352a3eef3beed26284fa6703215ae4f5e2e3ec529e3c397f0cc2ceb123de0ddbedde6711fb2e84a2c0776af0e223d471d958f595b034c5b72d819fb9507fa517335be213575c9d32195d5941adaafcc83198f5960aa363fa383895b981123d26d279fda09f9132e52871a671879c7f3c35c4b5de492be2ad546f33735fe41fd6a1699b903358a4bbedc911f38356c66cd68f69d875590ae714796961445173b0c5c386be4601d5280d804bfe70ca02c572436c696d94a4e5e30009ad51d1f2c92b198571eb2b75a9934d74c6af51268584bd111045e79050544d02df194b7b6b02917a5ef58380c61d7b0b588d85f635de1c42d06c987a0b637a7327e1b32a76f91b4bd2d37f24d2f5ec67de35f8e8e550c0236b71670dfe51ae9cfe8bf34ed2c7ad03f3f8129aa9aade50206f3c2ab3469170e595038ef9a7665d4c06aeea7ced0c03d061a324eb2fbea1e00b63c3b938fb031acbd3dc0fbe5945933dd1f837876dfe53dd96ea931a9dcd78ac6e4825681141577f98421e66be45e6358b9d96a20a9bd58269415b213b1d9d1a042d9bc52c0cb04d55645ce5d26f179dd4a7e43fe689e98f92a73018be246f1a4f0cf83a005ce7e4755f5d17a9b91fb3dc1c0486f82a231c44b698ad85920769306010826d1c63945168aedfac8ae6bb7509a13b4d634b466aed2b6cf8f091a27bd50d9356c91abcee1f807ee28b21b55901ff57570826f168e5c3edf580c517def274477522049f31c51f4a764293bca82e4865d96888cbd310b60a32d73a2a676c9d57cf47d1b1dc4ef45965bf35299a3ef487a193f4ec7c556da78e156bc65b5975c38d635c543e0cd48d4582e665c6e0101137992ea28981a2686767f7532967137ccd897aabebf445fc762b2ed683125efd239b07908fa119415e3a1c7471a0077063bcf7a5124e0aa8f505630ffcf07b42c61e92a8a157ab321d157e669b54fe07cac38f81277ebcea20091c6256402addbdb5257382b54715908dcc14d81595b3fb0f2181f8349fbb7ee5e97158e474a5184beb9d19f5fbf73740a09d564780c1f266256b53aa790a5e74f36b1b0eb3e023f0edda782ebde9b882a1e4205e64114a3337e4eca3ca8b97af6735b391642df8fbe0392fe64cd4cfa9ace17cc888951cec2af79dcdda55882787174f9319dc7e89408940de897fe09e9814fe65c7468e683f6e47d78aaf094c338e0494c85def3406d42e22b6834ed0ec8e45a0044aede36c23ee2a9ed0c6799182df53e7a048e3ce176064a9801fa7cde76c0362008cbce3f8206510c0535946d57f2245a22d9558eeaa24672fda1aa57cb572a7897f8f90e68d6640fb96eeb0f743cd8aa9c96a86a898990801dbd9355fb3d28a7e5ce72f2d5938fa781ed53ddc72421a353a6660cd36744df9c804a72df6c1d0a5877424213982b071e6a10bdb08354fc447d85c36f02f60bb675a16f8d988c8d39dd19373db1a49c07e08cd50a801729ff93dc3da3d7090d7409eea46be60391addaa65c7b84bba6c3b983733a06ca06d999a94ddeff998c5f60fb6b4be8aeadbccc7fbcf582095813373345221859eb9546f310d6fc73254c8eeca105a071d5b9820f33c2290dc6eee9b8c0892903cd358733996e42fdfb77de8e53c34c24c6ccad2e5a30293c632fccc7fe8f3424ac8d86410fe661925119dd1a83126ad17003e164de8e84eb4de3930de8afdbb0bb74cf16b960b18eb66fa7b945014b2ca84115e19a78b50a8acc35d8c9845b79b4887f83c5025bb67688629bc5cae379da5a0d98b3cace6dcad4f6a68da55f13f86ad677967fea47c94f296939607e77a1f9a399535bcdacb5af4c2a2df9c56cb8f040a01dfc309fe9463924bcdbc96464e3898497987f58934a7abf1004b34efc404200ad48cb8e3af1ccad898530968996534b291ab48b70f727e58e3bcb88c3835e88657e59ebead8a4b93885997fc9c2ba25a7a1151d1e8beb046010501f4ae5b00ac52d4e0760ce8548cc8a49fc8359977bf5a6aa2610e57ca71d1988f14c0e519ff80c629c471e0eb5a7fd2a8d0391015439cfbaf1a110d9f79ae15cb1f355405203804b5c7259749108667fb10299cdff6e3930a15627fd95fa547de1d380dd86f05013c4acf5fc594e9f3861aa7a7fcca6f03f568fe0835093f012d8af404e9b156b5e6c0beaee45cc9f08f99af6da6fc1f462af0863c00c57486c57b5fa01b26c9b20ba76be7d0f9bc0f39a501afca0f1f4712fc45ed4150d7cd8e8ff01dec8039477a88f97539dfedf5769d93d56bd104850db30dee53a5c73ff8fc5abdeb539a8ca9c6578e186df9f2bcb9da27bcb64f2301237182642f1627aeffd13bb45c1fa6b179b7bc0aadff3491b15af6e981e5caeef81e7ba656af8dc3b989b5f13646fac07a0705bb7c1891b68aed74e56200203b23f88b874668f6044cc4ba90ec3cd6b2e2e478b722d99d41aac8d76a9390264b8fb0a5aa085d9fe6f19caed4560988a81f67cb504cf72ce6dd22f31d5b2fe0599464698726a76896d226105ca25cf012dee70e09b893d7f38a32081085dfab4be28a3bde7fc31d22b30c8dffbd499c6ec55e76b10a96634a2fbced04476e8685a68baa98438c4ad3be80afb9dcbed47301d51689b2c8fdb5e5665e99ecd11b3f6ee26bf2554046e55dee06480e7a6a879c07d4847c169864aaab41d1a23e3833c153e96197b1ddbaffaf7473111ef07b8337afb26d8f4243cbf1b8f0a6d7f4cd6dc0df803071e0a8c2bfc01260397767b83e4d421de1248e000031d393ca885a001ac80bcd95298a8efa9340226fa2b61bc80c2e2166fe13839ec8e121c968c43d72fcb2321319e535e429452ad5f7dc8ead335c1bf45b3b47e09ddf1b2bfceaae66dad9cb4690c52247992581e02ea111843f73cf9f0e7a854117dfa3064a6591ba4b2222652d73867ee984805b6d369aa0bd0c26e2aa5791584be9dda1a27f2e16fa114c0294b29d9d7a975c42fbb28fcfd9e68c6bf2ad0a330ac6fc916aab6037a90ac55feaac3873cc7f6b0c930327ed012e6c6ad62fe226bed5bdb109608b6fdaf91bf31eaf42cbafa0cc6c60f015fc3e47e6e238d9ed3a38791fdfd5a316b7095821cf3a2bd218b7f40fb48c8578287827a3af24b57dbcde4e127cd55ddc0e3814fc4df34fc34d543868fec19abc4a041ae66a034b4dd46248510947b34250a90b49fd1da32dd5ba2731b8f046e672c278663cf03da924e07c5fb25d3c828a20e2b33ec924061ab5d5dd8f56b7518d885d5d2e2e1270c95b0c707eb0fa58472ea998293916a3d5dafef7ec7dbd83d98f411618d6fe1232d26d17aff0967eeeb467c7ca31182a2b4bc55e9933bc10dc3200f5ca8176881631cff109468214febd8e5e9b906ddd62db74b4325def6c3f9c88db1d9145a998b5846264ee0f1a426e93c3ed8fac74ced50c4312059b9f05921beb765499107b57dbf4c4af48a51e9a4d734608a186954151acb5a0c706df785ad8a158fb925e736b5d3993d7f4810064e80ff2413b820f1cd6b1483d0cdfa8f05a712288801e809692f670a9880c981fb9b2d9794442f29fdaa7f7f85a3355ecb4350ca14d662589030aa7a7d5cb16fd7868051cd0643afa14af8beb48e1fa3098d040130b40d912f4b7aa35e250f8cdf5a6003373afeb9b08aa741a36b7af125a6f5f5d809618424d33068e0f2e6074d5d18d575166e3f2e1e1f35d4e8d1b1b482ac61236365a528ec4e5a86c237546e5d9951dd0dbfe0f6f776ac480f8609146bc940b1c17cad461f76194adb526e8c6f62f2de642638d671bba3426891b888b4a4ae3cf6fc0da4add85ad2234a4d89db00cc5a5277de18b81bcb77d59c97f908b578d42fe1e9fa1b405b7c22a96d9ee71399d8ffcbe3646790f5e02b67ffd558a1c5e31a1a333c14461c5420227167e46ed3d170c78d2deae388fa0bfdfbb84f3fc591d24084176e03420cb0cea02798beab48ecc1e986809c9067a9b3e740117dab51d045b90bb71a09dbc0540c4f0730313b264dd92d9d5c3c8e3ab6a0509e1f0f696bb18ecc75f1d2db1ac2ddb309bcf3f178b75d3f5a08a796d6716337de31ad2a3fec3ebbd4c2ab9f40046a7349cab4de62615b5e5d216c1ea6a291815d6674ba7c97c4ba06abcead9c9a3d1db360b94a71dea1efe4ccbc9f6c84e3c098ed7cf63d1b2644c02bd59ab15708860ec3fab6013413e718c67b8e340cce01890a9fb29aea490bab4d27624e1dcb2ebfa14cd26d82e0ac5f4055dcceabf86880096507ac4a4d7a82d66ca1a99fd52c37348ff6eb68ece9b0a6cbbc2ce39c3fb2fddc2cbbaa1f34f9ef1f88efb2e9c3333c8d0f073e520b40f07ab532aa4da037396eb807546df0aa655cb568e8f5f5c8859bdb9a023be23c9467fc292dea370e6141c36788d6a3227a8dbc804545d299b6f5cb1b52604650706fe970660ebcf80eafb42e5825f6d07fccfcffaf9d544d4af988c4c985ccfe63704ca6477591d9eb1928ce2b9280c223420e244a996572e037e2a55c4eeecc0534de58dbdd2bcafff11db379ebe54864ddb33e62574fc5293b9eb995d71fa076aff225ddc588e05d50062b5adae1dd06d138553e6f00d8b6a70a87c5316e65371ec4b7770fd608c6baf27a78c8370ed1d46b190d999128e1412649edb4d4d7fec7e4b95338530beca5ba6df9615bf712e475f19e17a5ad9737493dadde64be537c35d0adc7e4827860da8ddd71f74d4ef282103f5351c17f678a3ff5fa6d90e3a4223a4c8ac8289fe86dde02c1c4657e85982d7003c799f5e0ab37873032c6f70b8f29fa0a15a134e2830709050d27d09482f7b3559aacfd9730cdb07ddf9f77e64aa7caefe7e81c883093e535a6298ecfef1ae03bd3be21420a30abe2c7e9844aca58310c0699e9815d84c01ce25a8da0c938930714905b161cc6f3ea2a9ea72421434549bd6b227c7de52c265b8e172a4e8013d8575764883e40b703f3710af7ae9ae341c48998d6a15200ce485b10ad72f1dffe8fce59c0f41a739505e5499967c47c1f95b5da58036e15ab83521587f2d106a9347dae8eabd5f3beebdb0813ae11a3628560bdb9c904f77ba92ae71c65f500458bae1d72d03503e3b5fecd305594ad84e70c36d69be89aca3e7607785dde0fd39066664c3c3bc2c0a6f61453cd521658de5e0bccf5e1ca7b82778ef5771cef0cefce7d9091cd1e1557368ca8c2b05ee1bd42614e3699811efb6d2c615711620d0fee70d720db5d9771113d9fc6cf32d362797824931a5cb5816552e84ed03eb85a0b2863a98aca4085bbd64127c32f8d4b9085d136457865130a1367d15055d67936d82f2a5974d1331fd251faa9b01a43c4b19611ad5c2b658bf51958bfd865321c7eb63470f05718ffa6e0a465a9efb5842b5481cb77f8a1c987da162bfdcd92d7e0e445ea706331755ac1dc57c88ca08d927ade0f7fccc45080ed456210627580b89c95a2ebae4e2d329107e958a02c43af69903177d5672f3175c9f64c7bf7cb8d53a6a88e600ea0e4ae204fd1cdbff2ff4a33a71ac3e8fbda3774542b3dbd85d9cb482542da666dc5b07640da3cf51e5db9b85331c4ef4f6bcc26ce87fa9b778b931c6e28d4670da59fd86d74325a6a686474df623cd4b1af070952c3a277d392f2c4c059161e46c7eac3c4dcb671e6df4ef746a4b74152faa404a5539bef69157547ad5eeffe0b3fc1053740c7d9db0a707825b85def70e4b15e1778a419d5089a49c83c027f32cbdc00ac5aac7395192aebd80c15fcd7c4be970f759fe74cf194d99d95f0ba100de05cfa9d25f7897a981d96852f6df5c88d2716c5035f0603a61fa26cf2ec40bf275e941b95afd85d9c802fe8c97772e5fca565876189d3df5e57d6e6da7e9f4f72824b98f6b24724cbe9956160063c56b446815bebcb0e9d8404b3a16d262eab47b043ec040d6521a07dd5271d451028ad63d5289e8a614db29be1465cd220647a16669d4b1456cd6cfa4753f25c1eab6092ab9e25b17b03a14960d740b94fa36555cb1378a056f4120e775c224b6aaf25e62f75ba0873583a5ac2b7b4d97cc003bb49de5d11be5efa32c8edc2357c78fc0de9cca055c700feca5e35ce582b6708266a3da6225e4c8249d9ad547e7ae7240701eabf3a88ec1cc916484fa133309f4e1c76a89477ab28a275c962c71eeeb9b2b714c0529b12c7f3b70ffacabef27b774d48ce76204c21b25b721265538b1256df3bdd63334a95990bd7e4e8ab5965adc43daf9972c21ffe586d2bc773afeaeac1a1f424a5ff73fb8900c2eb65408550d08b9e1e4758737793a676c02a14c0de7b78f3ff67c62eba807eac4168121e7d2e3cd58fed1364f973718c593ddce6409c1f0f908505596b4a7699d2a04c3ddc96df634bb43a34fb9bcb63c9c83a96d4af340aa745fc1743649d0ac5051b162dd768df59921748bf115cd671212ad94260ef15e71b25334f7f3a79d6997e2ecd7864375e248f94d562fab79c952d50c85bb80755ed92c187bc2807d36a05895a06768eba8c2d2403628c9b1e386d2a4dc2d9004599f045c58f97d1b087d754fdf0a61d2c31d9a9fd0e3159fc844ed638eec0f7fcc350eb564bcc35cb2219a7d678ea5ad53c8398291416401ef6798d65f0c354a9e7ec53ee8511afe3cd94ae32f2ca1e964d422bb2f8f650ca2569eda1d7759b1b523eca8b4913feabd8ad1d9fd2b98a985291ed010573c18b02694408c4b6f63ce471bbbd856241f96a011db9f73367453f7435ffc665a286ebf71c4c4528656f7440991ef2e7dfaa1a8fafb861b92d69102ab5f8374ad66c404e059041c1789fbe08f969fb8e0ebf32e2681fc82e8dbb6dfa415d7fe715c3ea2993156536678da12097cdc1123b627415252ddda03e6adb2f9fbb73d55cf411ade074ca9fbf1a14044ecd927ee0bb2e066d6409909b8aebe74409d062386fa0932c054d49ff2ecbab1e94008d015fd85cb9f48d153372e8f56aaf48e384f79e3190cf5395596c53f96cbb47b5e977cd67865300b2a9aca4aa788939410faf67168dc6b4a06224000717c15ecc9bcf5daecce8e85d1dfa7cc0d614c118607badd97a373a7ac9695dea2c9483f464a9cad898241dd866ea182dc6e240fe05c9b7ad48b04f182cc9de27da994de4571bb237dca9dfd6812da6d6675a2ce2a395602123b8e3926ba447fdd3d451e3d83548f7dbaf6a732e6e03c8ae4a5eb18c5f18bea2e0d99424c773b6ea1ef40bb2aecf1bcf766acefe6cf026267e069fd8bbaf49e3842178ef957fe1dbfb4ab087bdfa8b30cda9c6c4201f680e2e9a46917524650d4251023321b2e5415d6738015d378554e81d851f9fe0a6d2c393bef04f60308c1632a6dc54623255d92c2ec1a8f8438cf141e2d94365972d58f1d37aa8ca8b2f4dcc0fd168cc69b58a0414e25b2db368da414aa3f3fc862741cff6986ab94d6f3cdc3a6599b8f9d4811e4b3dfeb4b126c3424ad605685f2d8fe5037e1f025919897f0e596e829da526dba3944cf7faaa5c75014379f2118214e38bdd61a177c5c3848d9bd960b531b7cabfffad1fb2ac60f8e031afa816a71d6fcb8e6355f70ee26abde9bf3178cf356d512f31d24883840c7e716db47f87bb92250d6960724a5006cb17414df15749507b0612c542465962715e427fe64e7cf91a4f8ae75d4fa82c06d9b0d69c3264fcc84791a3e85ea276bd72d4024b8043f1fff67512e7a6afc57bf7e44119c67f8bdf7760ff6bdca5b888321205742fc0cf720869d074dd241cb632ddaa7b177bc4ce511ce463e2c3851e5abb888abc7c6ac166e5dbd78b25a32d8600b8b187b18b3f9ae291340d26778b5222df5e1c01ee5a623e22910b9b2a3077a08230519a08cc25438d42c764285888f18e30a9ae9826fa3fba4adcef2855ed6f90e05b0e67c98e358705f014439884649e3abd0c6092ec5b275b0adc6ca0a72946911e765aed7eccc5b14527d51e0417d761bebacffe72b3a73abc5e5746b147e0c3528726baee3e7d1b9dcc0142636b2b838872ea50e43c09929cbb7ee92560d0ad7004e06541f0b61c4713235a445ff4ddbce11291974bdfefbc10955743f260bedaa4225ad9428ab13e8fd21a506e7cc1323710a915f832349a811a3aa982e2e6e39095a4625200e374fe8703f92bfd3a5293bb6ab21a7139380bfaff349af811abc9225dce1401e9b0736109a2f86e9939ea16073f779484e9126fbe9cb47efa75e4720ec4ab3a91604c13b23561efed92aadfb11ccaaa1364ee2fe682cbde341cfaae13d64d9bc980fba6dd20ba3b1531175aaa1b7c0e3a31e12a1399a2aac318cca81ea6b31c4e9ee37a419c4f87120dd801c4d8336d1294a82400c31312dfd2af86405df7ed884b7b84d3c3a8dd5f9ab9c435de0fdca15cf386d1f46171094ea00c1572831d18e5f212e08c81918c08b5d544bb88aa7099ec5bfab7ea5a3472e49dd3946d9ca729463219c1a1e2528484ea6b96d043875259b21a1bcee0fe177a3e855819e673fb5e3c4e655e972ecf3b6523786d8220783a41cd2347557523c3608f52bd7dc857a8888e018592cec3b8801f7a5fe3e757d62f8d383614d2f501bc8e3bd85fe4901f5f2c12d6d2030029e8994e5d3293279c0661a649b9d748d8cfde41d7a220933922281876ecbe619cb120238c719df5a79bc792540fd3ca338cfb111a3b3f13149d520bdfbb489b25c5c18caa2ea4665c5266c23501f794e1c3e692ba32b5ef3cdb019e88ad37590673e31629463d4cc136fa06916a6d45d20055dfefe58c90fdab9d2c016de4665719ef07e830e68b3a7c32ef3fe38ae810c65b9f06d31828cecac9619c78aee2d310c5ab449f4f1915259eaadb84448c26de1002daeccc17732431fb01543cfacb13b982669084294076c574bbda507a5aa4487262f8292b911afb1a00e7a3ecd1306095cbf0a8a6cc39097553881b7a38b6425992a1057e0f6ff0035a0d377c1a0c45ba893389c4407fab89970386a022e77bdf631d7e32a859b963057bd05bab9d024a3567454183f6efcb1764b6b49a3525e4a9a686de324b6bd113d35f127a33cc3e60ccc492f331d8278228e5e402db2ff22cfe107c3e203445d8f24d2b5353c954706cce9531fca0bc6ac59e671ba0091047e0c02895166289172c314bb4b25825996933a1944fd8a9b3fc7d12c9693679c8045e7016912ed18237650088fd0420fb7f9701524e57d2b17f3c39f61d7c791e3280a15a0f16a8ce7fd2f31b9dfe41c156f6cf4d93edcdd0e2da5e3a6d378900b717043d76353e3165b7a3ca6b699c65d2e70f8960199f03d278af4e6b10d392d6bc965110d37d8a3a79eb213bebb492a864a7951ccd5535505a7b184d05e27631623804a3ac44b1350537a68541c8a01fe090dc1ff55a640cb2166572a115b722ce7d357beb1185f6fe425090138f74396d62151f95582c4b2a3e242ef037cb2106682d9a377fc54c185c182544e8395520ab8e5f645d684e8affbea093893253ecf61f36da70ea7449b3ba3d50f11e92cd1171d9b8c9f7fa3de2b59a7ff9e768b650990ce31c8227f31b64894d252d482d07b43dd57fe3ab4730fbd77fc9fa0b200a557c36d872d0c234a7269d0bd91e6214908d2e5350b97b7c019cf2c0b33e6750a554071714ce790c23d5fdd190f01e3f77bbc5be8126dc12bf090238ba7c25ee814abab6ebfc71be6ad505e5283d6a41726c3ae05f6e48ac923eadc4e56de041b6b0d02b2b110c24dadfd276466cbde14cf30022b7ffe5dc73347ea8495be0f2aa5115da9f41cf29633696acb8e6ba07236d94de90133c19f549d0b40352fdeac605e83489decd86feda3cfc9aaceb76ac60f93276ce6f97e33f43f36055f555925cb4651ceecb2e864df3eec49fc425744df4cbd3ea085d5d8c9481c80d5a2b8fc4fca591b2f479d967594cc38828d25f58dadb8f4dcc44f635ad3bd2564e4fe2ed58be618615d18f22a2df3294c936beac9333d705151ace9dc338168cca03a00ec0a40665653e9da22d718c09b691bd43857837f84c4ada4aaa05d64dfd75ef2a32c47d707a1c1a0c53d13a7974d111b333505eb127c5b45a6882360199a9125c2d8a50aff88bb145dc9416f1d48defdc0c3a8ec944ae271d5139f0f281324a0cfc5936cd2da4206286e88a72d27296951f37bc04f60f1193eeae17fad58b49b194acb819d0c34e4c2d41a1839eb4fefa3ceafda8a16db2629a6f99f929d4ced63c42af9265fdecb4c2cd23132a374e992d6758cc0643d3b263cfb1f242bdb1c11a121d42f0150e084318609d02f378ea39930c24d2a447f7d920f0e7682df3fc04d71a1315ed835071b5cb70c6b31126b2ea6cd68e18ca69ee6355d5fdb278e3842ef0945acb93475301e43129df5fe206c9b9f59e2b5b92e60ea4cb5dce2cc657c9003bc5e96a4ebef6ef510bb659b762986f1310851aa5b1075b0276fe6bca55c878c025d46840b1e34bfd84ee1a1a3a2a33db0e7824ea34dc5f4606f8440d02916ca73da8871c399cbfd8e2665f6b368083fa2ab698df04b59883ea92a5699ff697a7dc0d3db43dd9c5140aa22ce95dd6aee73262ddaffab4384d5d01b815d93c6c46b16e3fa7da321a84f6ce7cef2f9f190da83c9dca2199e5726ee7b914b49bead69aa841d8eb6606416dcd5eb3b6103c0da1dc1d3b85ef32528e3f7deb6e7e9e912050d8979fa849d73f4fe92f30fc04b50a05002319d6d7beed6871ccdb39f5a353cbd1904889e6185d864100798a98de82e3730213315a8e916d4e2195577c1dc739b99072c997bc1859bc7ae584b3e6ca9f359f882d76d3938f9d539c6aac8b3fbc8507ae328eda2d58a7b7b5b4b3bcded87d38ba209f53edf22fe4f0ea2a34f44797832d666186072c09795f8f427809db95dd1b331ff4a5a6df8b9a077dc993ab3e7af0a3314b483ce5d3c961a444486f7eae2cdad4e70d5b4e7a8ec9b437b17c8f0d15139735e2cf53d8b03f8a28e5df366b9dc26e98ac4f12785965943f9d5dd7bea2dbc97cc81bc6d5511e0f5cde7232a293375fb69f83e0469ef9ae2db11fdd65a6ca6e441476f5e1e8b4c07439214e5f556431c215bda79954cebe7fe3320010a2a79fd5bf8457e2fcd91489ad9de13b90e09763d927e8bfdb9b104ac907f4e898ec2e8721a59aed52c24cc611a753f0419b38ce517fccd5175d128f830fdd0e64bee35d75ff2632d7e6537e4402861f35ea112af19c1fbf3e997d9ae842488aa70d10ab04eaa9aab192e09f52b6b4fd577c96da97e3f4d7a94f7672af876d695c203dd480f0ee31d01900c15b0812026b152efdc3b7bdd40df1deded6e805ec213fb854550bd06c296ac97f29fd2c6ce783188abb86476bb97815dedfd7ef471b13a3f086dba8637a93ff3b425cdaf322cdfed155a5149101150b593b7ccc14033561233e1e4018b2a5ce98131f1c6995fb2696e6807cfd9efbdab12845244ade7748815901d91426744597b840876970b33f5c176cad590c083ae5d23b06a87815c4d8c50f66044184d94967c40cf51785951894e000af95829310519485763451ea2fecaf01bbd556ca5409c1ba9ac267d252531e221e5585675ab60739b01c0fdee56279382291a1b080853a101bdc5169de1f983257813b6810c756aed4400d8e155d44f6cbfefb64c901e76d0284ebde8489b76e746adfb2093f6142efc0e3e8a6d7a2bd00a4ca5f3c00969a76fb7ffb2f9ff91229255e8919b1d7a86d1768ee67f83b80859a2be6ae282026cda8e032e70932fb722bf9c3a97cf3155859ad11958452f7e6cece359fe7468eed6539eb350c52f321feba50cd8b4725cbcb8fd874f86715d49349ce5667c441c6e6d8bf47c06ca3e0358d89f3718fd28130af473b31a1e85dabe7834614068eaadae6350ed70a3e26778617c2664c1346f4f1de1c430b44f6e52a1ae521eab8e3607c3efffd1a006913e6e11068e3ba9f32f37b1e67be44213fd7b7ba34dbb3d3f26628e057f9ae8a59ad823446962778eb0918a7bf99b95e5c58a36a0111d21092ae66cf7b791cc8a4a734c47853c201295236493411bb6475c60a4df34630cb13cd4b900b784250005e663097af324362b52f249032052e76bf3d512b32644f1faa056689486caa5ce4cb342f1c4f2f852a6b6b1a089b73dd6bf73566d2247bbe0d9476795a41c33513d40031a1a1a92e9be390817013e8fee3101cf3734f40cc0c8ad2f5096faefb984459cf53ff5d6c438e146c2f2807951e480ef4e4ce29be89db07c44d51e5caa8de63ae7b0ba89e307b098ed9542fa525b83f8bc503dbd9e9bd1ac6dbdff8bd65d2a4486fa4efeed7aee08a377e5246bc28c7693ade6b5de3da9a6e9f6435b6bfd2c3784a56da76e0c42ab3575fb00a741b0aa96c0905c9388fb88d3a1245690c21aa569fa75dc2c861ea888c69944607d44bd79b263b59b28401287433718757cd3b0199c00545edb79fdd9aba27edd28c0d3b47531c1d1487e09233031581da2c1d237c9adfc90292444600faa95b467c8a5cc4d967f7207cd78498fa26a05d890d53ef27ae9ecd7728f06046ccc0bbb2f996ee414b5bbde201bf74b2579b10b6f31e7f69ded067b2e0347d5618e4855886145eae4ed56ecf4730727685f54051b25d57d6460c1faaabd4326b855cb797fb03af652e8cfd254773fdd54d653c1e70012006328dc639a8ea673b20ec117dfa02ffee92dfb0cf891f7f44e078d573aedfe1a486ee2162e243813ca5fa4cdb7f17bc91b64c599140725456a53b3629321b9f31507c72152751b2bbda56eb04549a65a6dda28dad54b4416e300e4a14b492b3f19c73b2a22369dbe264b37b4c444f314a9865a9e6ae47d37ac06862a7d7212cb85d7a5024adfae00b2dbc489c109c8c60f379807af2dd7b7eac0bd4118298400c9044bb1e1cec4b0bc09c1245fe296559dbcee1ea3ee333cc7eeae830b649e899992580bcbc98ff5668973a525b554ce42133dc8e3f161c53a60de19008b95c9dcd734105d53e350cf5d011c9d19fb874e0443b1a43cdb9f41695c68a90a7f64d867eb2037bbd44279d973e63d00bbeb84ca7c5631a0f558a3adc81c2f3c41f2acfd18f30175dd85b78524bbb3ffe5c64efbe65c0e3a5117e345beea45910385a759089fa931864297f399dc405d0ae8bb7f7bfe033bd0ffcda75863c5e9f78c3313645ac14e5789da06e7d64540685686a8434f6b49effe54e2364616eb515821243bb0de273f22e8fc072593905f01b0fe120f010b7e80e22e4ca4e632132df943ac7851b980a708d5376b182d75e858757de4db4779bc52ad230f6de4e36022320bcd974b88ff81f63263da69113fbcb8ba1cfd0929a88690a614ff96c6021323aaf6d527e758ec713d4b0a1bd6bd7111bbdcb8feb53c50cb2a0a4073795b2b4c7c1efe74b7619fbd657d78bb7af4ff6c2dcca6714c921a182660af5a00a82d9972879ee57a1f047e2e779023fc545baaea23d47a47f5cfbfa5e148e1517afd","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
