<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f012faae9ba615b83929cfbf8ee567faabaa179edab599c5aed85eb201448b1847ce8946a78ef3da98c073897e4f59cf51954777c4e76012fa01e5d6d115cdd2a40cc887839fef15add2de0925acec9d2d696ae761c3df896c223c4b10603ae779994b9df17ad022cf498c2537d6906cc0f24460610bad291c3ff916d8c7ebbbb994fd2f372510ff9664dccac1b4e92a2290fde6b6790baf679efef330c6175fd5c83111ca027d3de88255fa28c3efd47d70a857d3d9b641a9329ec9b40e50d4cbb8c831a7399b6c9ce12c49f1a0ade43355218bf352855d95bb6c863181226092cbe594bc7195cd2516126d9d038804c78898a2e15505e2d54f25d6814eb84968f9121785c782fb68beb77f6a0159c0dd2928e9421c42ad91a43742478ae0f8e20aac41b8ec9fdbeb67af95c80bcdebc2369bdb6f6eb5b60138b6cd54b693204e2b8031f9b82ed6c465b8e66afb777b8a24995d64cfe32d7691942238de27a0f2c5d68a1776f253529b8e047977913b97de3f42ee87d6f3839c6d34e980d58ac24368b878ef3d6668e1225a5ec828a3cf75d96be6aed0331fb25349f4a2b01c86b7186d3da9ba274da0d7b3ec0b92a0c5c70268c18ee7cb6f1e549eebc09759f5f591cbf4fb073d6ca919215b55655c15031e740784e7cc8d90599b0996062e7f6323c54155fdcb7841dc7db47ee86bf1235c545044076918a5e6ba19aa1bad8eb11e291e717672bf2ae99307d7dad238809da74e798df5323897b9d8b7265eb79ef7f6387f0c61226eb93c44756003191351a9be366663ea2c50b4629261af2a93f5148f603cb14ad490f1ac2e6e9d526462441c27468cc4aa808a0aa1e987d6170aa55f52a0ac949d9d9e5a99e92e164b1118564f466409022b0261cfe7a44aced92f01bf1805ec99c7db96261fc7646d2d0c4dca719998a1d06c9320a68a91e1a801647bad82edb74ca8b4660360b71212f79c0d729fa49f9a1f0ea89cc2058d117708c68ed6dbc07869c11f819fcee90f577682f4e08253085f6507a343bcce5dcc957b9151a0b2a81375c4800ab115599cea2a3a979dbe7718d082e3cb6b4daa97f0ae40b51e5ce9daf95cfbc9e13e0aa59cec30fa4bed96ac47abc450770d20e3d59789422dcbc578828cf96ef79758318cb0a8630779c51dbc2b48e18b11bd886fd75210300806b7792b407fe93463d97ca06473b053dac1c4ef4d9bc99363e4dacbc7fc3a853c552e6139271d43d577caedeb0bda0229fcd09e93ccfcd09feabcc342fafcec024e72d61d50d361806f278fe2cfb737d406b4b9d0aa9ac6b015898b14e407c9ff060f17ff2fbe6661a452b6601fe8449f2c0666558ef44c0ff5882be7619ac841e1970467d79f5c5961a25d2ef950c494d1701ce218397d434ece724c3cc5680740e91cf09caa9584f2e803fcb853a1f40a6fdee4a826173df9e59ca63f60508a16bf86550f528aca227c480f18f54427a90dfb01b1f537f89596cefab87a209fc4adc565aa83d86141936a5671b6dc88e2545eef8d7dcc2109067ac8dbe16185867546796c67b1788ceb23a4a5756b73ee6fffe94882eaea443479c29df367b78837b0c5ee8fa4fcd555df2feeeda081cc7201790cfa2c75b37dce831aaccb37b28c7a8ff95e3742268c519931d2015c9b3af3e7d9abd29ae6a82dc2392ac38c2ddbb4a4c2b2a03b0c72381f5730f3c73f4a466231bdd4bd4f89661f55b4dded40af502475d1335720829436cd3467ec5c39ccf21ab477d2ab16b91f9babea1e215ffa9a4f715e543b79aea8ade7c35f05773a28bf437fb2059f3c909161b27b24c29e3d7e3618ccb894f553dcd2c555d95b89f73c88391cefd3729cea87da66f3c4ef724f94396b824e7fe64ea2e33b87f91f22d7f0956adbdbfe3dca60a0a6656c087319182220275c74e48ec88ecbbd53d7510c05737f084764f272e53971f6d930cc38b488a4caa9513cae3b4367da46e5f633d98997946ada2f7e417b6eede6d8cc179e11c2c30c2f65f28aeb2a04c53cc53bc0ccb9214adbc7f5431f0bd5fe4738add1f3d453fffdb933ea11eeed7794ccf7522e677605fc9369ddf05ebee4cf0d8fda5c4c74eaae483e27ff685ba31d0ddcd3c777670c809385c47c52b65808de2eb5f9d3e497d869511a12869a0f81314c0e15087bbf48a2325799f16ff260216353f9d93a6ecc50c1ef2cddb96130e5098e171f8ca05ff8f6feec80a451f22a0a6af3f359c68798e836e8d4461f220c49b31b11d5329e4e2c1ff40b0da9cbcfad0995e23253ddbefca8de3a2d5ba0f65b8cb7a97155854c537c76bf8de615a49fbcf8726f03b3721d28b5c1ae190884711485a48909264e927397292bcfcc1344d8e06e215df116226a2a55ff4401f4d472f6ae86ef8688f8a4d78dac4ba5f2b87ca26cb45706b0a950b96703efd0f980dc02dc2ec3cce9640cdffeb2b6a6bb91a7b5d6058e9409ba7707f0e4043751097b194aade0011ab56cddd7c1a2724d00fe67ae15db76cc94339e39f0e2f2398338091b2b54e2ba474bfe13684884282e960fe7d5c77645b0f46df54f763817fa0dc59a4595fdecc227575fd95a0eeb42f0474808ae0fc1e124760d5c80ed5aaa74c7fd4dbe41f7d62f1da505cbefb89c1a2e1d5b576a5fd57c5dacdba332e9403d8e3b1ef36d08d7c3ab4afb7125055082e922acac0c1aee84ff9c31fa647edd8b5dc9efbd4ae4d66cb3f8e2876128fbb0b808aba2456070c663e624ce749040b5376e9358e7f0abc85854db75bb6d3618904b0c834742a1be264ba2a0690b29cf442f7bf8260f04497ce09c1450a1e16af19a530316b2429faa97ae39a637ad2c7cc39d502f24c31f1617e13dee28deeab0f992df62f292af7f5cb62d4cb0c7360d40dbdd711dca6629046df937d03e44d4c22ca6afceed42e893331b55f029164d75487aeb843d20eebc2ce15e3ba3c0f740013a32b3221891f06de6f084ca74358e456bbdffe6c5ddd8ebfd70c53f74672e1c32b5936ec6081f842ebd43833266deb250aaea367b8f2eaad453a44d2482e9d47051609f54a8663b41510ffaa808ab1958b6a69398b5cc10f21b19de1aae563a86bed37d762567a9a8e48bb982fb4e408cf2d4e27f0bf6f230149786fbb63c38bb0c9be27712437ba768be0b05b5e606b259404e96d7ecd1b5163cec0e9fd2becf12d981ec3890328590cb2b38d2b623217b4e792307bab165466904c2f127e8aa5cbba6cb521dc18342dccc65773cbb0aa90ad26b2a307b143216616463e9fa5ee73f25ba4e23f2dd6bd06b0765899af5ae018c08e35cd008a2cc412255fa6a886ab56f7d560997679514c4e0a3040a2d4e411c6109af0442ec92e9ad7aba391869ff8f4d61f9d9c60b311c27186cd7fc6539929e6d99a45febde63f1957aeab5994a0efe24ea6a97070297505a4bd096053960dd168f030753963c406bab33230e3de25bacc008c2d1e35f040356933097056a7de901c620e336128e503ee20d5391393448463aede4ddd5d128eabed0968039cec24fb7971adf9af909029aa72e8b04330645cb0dff3229a92ed0114d5ec15ced781bf31ec9be0e13717aaa934fada96d596a45d578e58763c4746932b34b59ca8601df022fe27e25ff16154aa2d081c075bcb2d3a4390864d255bf512ef06245169d26100a500fb7c6f6d97dbab8b2a437327e52da8695621c33e810c0fa72dcf2ae1603b9075157a4edc71e86112f7e6b4d8ef1be6da4319518085279bb482536b30e37f7f00c9cb9109734d0f23200de6db889613b58a5d42970976829cbe58c2124a794246181896ffc6fd4301b5c12f93e575258542de7a5ab982f432dc47c8397a2116d2f21ae5aedc91c639423ee73a8fe2154983c1aa9cbcd74cf67fa7127b42d00b6932658cc8585c6c9c71a60fdfae94016ab59ec038ff49c7697750733683c98dd12ebfef8516415694612078ee54d782cd3bb035ff4a4537a907eddbcd73e789b794d45a7f876d1ca277a8377bc27a7898e5d11f0bd4ee3c192266195ccbe2dff87eb47d7eadf605116280443f48dc78b2976b8e4284e4b3d86fa57e23f05bc4589c8978c03a13504f0ee47ab1e8efe894a38e070214c44c8266b34284cc4b0d650bfa8530f68ad379717e151cfc67dab54dcf1c50b780c886151f104743d7c4477a61739056e47911af140d98a8820b2b069f97d73398605db6256ada6d88d0a0e85bd489fbf8ac5a8e4b6599fc9457af37c273182875e552bbadb9e9fdb06031242677f8ad46cf0f2332e6f9de8ecceccd80d12db15a6ca1dc1e18fdbc3c27366b9299d321df44f05df282765206f33866ad28a12e3c654d5e35a78698f0df4f60c5c7b5382329a54dc14df9306ae951332de85c5e6a24ffa3cad7dac43bb068b54789a4eac09898c39c615c9540d59b9de59d44ef7a9a07a7eb6fc551dedb7411414461dcefbd6d2012a1a9d45ac31262497498f07caded6f8ab74a1c1e8ed44ccbbd17d6a7069ad96ba560992cdfd9a17fb2c4a5261f8363f78e2f599ea3b167addaedce2ebebdc0b05724ab1d5648ad982c14b7d7a3735cd06e6d3304cdd2938dbaa462677b97d6b3ac9ead477cb6a399029f8af3d4b7bd8e801a2087b5d8746ee3761fe83da8e2d297fe3fc4444a4e7e970d0503d547fe9fdf63500cbfb1949fe2fedfa1cec9ca69f987e85ecfd9089a1ddec5f2af6fb206ef71fa472bfdbcf67d1691b392df5b14f8463f25213d5cea51ce3603305a23274b518c2f4f151af634f2cf222862c72222a60cb207bd325882ff9b4f2db0cc489b9b62848a07dbdaf120c12c6a4fc19bbd51d8711db3d97f905716431b75ec2048be9abf62ad06cad058d351c1f3594c156389d61e7c10e2bd2bd19c53d10b5f4a557174d64475fe979065df46d04dd8f84cd090f83a35c497e2e4770a8c784b1ccc891e1a7c1c6d3af0977ae7bbef1fcd68efaadc3a625f081e4377d76313924066ddf35fb2603bbf43fd07cc89a0474f79ec236daa59774f7d721607a46ef341b6a7beca2a3ad6a5595390f05211bb6118ce498f591740a8d4256f5eec3457f89aff3fcd37cdb4bae805284f45ca8020251209d1e63fcef3ce9a94d6b7170964a43abf273ad1010025b1c67af37dadf3ee0ded16984e1fdd7bf71c31c74040177ea36391ce0feee7736ec6394569232b8f2e9b02cfc88b42e26eb439b786c803ce639b450dedd61de921319df678442c3dc08515d9ccf533dd71f55db32df21781ece683b2e568e51e1cb24e66d25dfade6fb49301dce1f82c9951eb692d1633a75fe389f6b0891f4f26827c4cf9c187a199a0b597259814ef277c47224e99ff68a7bd2636a16d4cef1bc169f8bb42141f5a5413f079f72e54cfd12e297d69f7c9ac95e7a1bb4df0530055849ca9fcefd56d11fa293b69be579951df2e4352ccc594d66ce6e096f3e61aed3e9d3ec1e8b70f2d5944fd689e5c4efffe4bb3d1e7c332439a29cad126f3e1b28ae5b0d22da0282bd8a8e917417372b68f365aec0d8c81a667b746d333d043886634bfe45a9db004e26fea62f037f800c5c71014bd637be5928d736c7fb84926e416c3de648802ec539c1420bce1a00027b792df62b1e27f179c304138c310b0561de356d0dab506523d4a852daa98f1e29748614be596907a28eb307687eb6460b5c676a5eacd25e8ce7611402a81e03f04360722dd8cca2504212b3a47731448d01b8c9cc091109be3dcc9aeee58fbf3509e677f7cd0088b36684e267ea90d24698cbaa7d5494cde0dd5e323d9df49f0c5cd175e7efada39108b940ca38e6e2545e45db3303bba8351cf4888bce0ec502bf86a2b6cb999676009ef9f9f2c972e72378e2752237b82d70a625232f9e1336e6fe168faafee23540384027f0c73a14552593be8d546e77b096c86778e7bd7bf9bdf10f06abc8e6ed0069c66003f4d81894dee967403a4ea58d8c8a80260bf15366bd28833c1dfe391271e80435e1115ed4580244d48e922b6c0c4a7728efeadb207bc5de8ec03acc113a72aa9725bc540b39ac09573400e87093322db03ee8eb1024c0fce4cf3f48cebe915f85fb54572624dc7fab7bb02bd455f2a2bab510fc3cd2d0826eaef7b8d976bf7e0dc5c24a19d5420357e169b309de27bf17e7120231b7a9ab3293735774717b9c81de2eeb24d07397b319f93f44d33593fcdcf8203ef2f47d19dcfe3ce2d64606124815970dc5b565d7ccd8ad5bc041e81432d48f62003c935bc4f956e192033c81bee13a1fecb173fff8b3bfd39d087e931623fc9c88c6c1959028313446da341e32725046fc585dfb08e619ac976cba8a07ea90fe74c83f8a49a396289a169a52d617b38d0620b8d000ec41eb502fc2e6c28e88d4bfca6059e6c5575a9e0ab9722f008c39c876f75f0fe5913b7552c1a54ad20ce249b32cf387643bd8cdddb86babe9ebbc4a61656d656589c9861459d99de70cd032b517db4356d0810b918aca08d5ec5a4386efdd9d6de0d336d8317d7338fcdad08f3031b32940bb7713ac0573bc69127f6a0e1b762b6c455016d88b9165c09facad039783443928acaa6073e7b0c8143c00abdaaa51a1fe090e8f72c64b9c88294452b081718f0d0ed740138e77eabc880f2425822b21423f30641be27ca452e4c0600ec160697632ffaf82aaa91b54f86dc724c20d6cec37440001e6fb31c11b2ba64eb00213eaffb6ff12efdc94e1a2f89372384071bc32bc041254c5afe2b4201b6e0195cd904d58c9e3fb98f88eb27842df2bdd047459ba579ab64d0dc6a1ed995d6d971159924aff224287f0dda07983cf1408a25daab2cb32d8ba455651363c556037aeb0a90292a1c6c04145819ba22ee43f01f40e7d957d567485fa35857b4980263ad5c2ddd11e00d8ee2a686bafe872ed7fd49f7ace2b9f1d8e37c9b2598f67a6b3e03d0aef98c1c18592355d688de154bf6a5d403276ee18f514c8a33d8c7fd47f05aa461c894cc5b0d2c46318e08d8d76834079ff83e0e10aecf3574873bcfecc4a3d2d22e66e2a117d997fe1d7900269c4b77ba2bb028c5e133d5422dcd615dddd98ec5641452e552ab5fd10db66ad87db2343395d41cbcf09171bf8499a0e151edf06f1ac1c2e01192b797a12649a0d58a609c2b7f601ff06ec9723e20092a8b1482c6c0c957867396c966b815598c107492a81722f1d65d601b8e1d935bf54367dbe59fba24e73a87fca0469817cc6eb48b4dc8a6121e810b74bcd7194f2cce5c523bb371cadbfa1f6320211f0a666af7ec63e66624b40c2543259bf915d0411d57dc65337cefe7e26c4e11fa7e0a903ca60f4876c9d378fd070634ad410e0d2b3c33e7ebddff80e659e05085a69a7daba65a5567a31ba3caf6ebb0b50de6070de9d9e7d5c5e95cd3bf64c06f00dfe4ab73708bcb055e8d1a7078d489b63095a078e15dd135fb2e23731113622561017d4a7814306992115b4d1dcac54f8b3a9c8528cfaf5408a2fd4583d36d4bff5c256ef4753457afa4dc94d79ee8956a8d75bc510460415cc345ae1ea241c1ce475869e9ffff4066953bfb23dc35d46008fbaf4af20958a59fe19fec49e1a3f40244a114d9aac25203b0b0da06af7f47a32d312199e4598d38d8ea411f4ed369740841248fe7573c4c42c30b7b55a195ebe6b178374313f450c40ddba6ed9d0db928b16f248c96471d456f286ab940b2af1b6168e3d9cb336acddf865e3505d1226a0314c26267bddc2642a26b2f57dbc4b0c1f09738e8cfe3f351f793a08d973f520d5179805e85e03a0de23bc67b3edf3532e0c5966a025678c101b2dae69ce00a3116f31f8472b1c923b571f95aaf5e2a5f55d574c8412fca2f8d9acfc89a403bf7f04c04fa334b04b8755ba15572f4e0206e3f199e61437dabaaa5b44237f09e19d20f81a0017503720a81a27f4657f05d4de0c9437b3d194b5740d95524ed05c7cc0dd9827fd09572978f2b27d968dc31ecbf5ec83c2e144fdf2935387282e6ffe1bd334edb11f5fd5dda6869acf1db873ac3da27fe6da097b45213ec1cca15b75b8021239062374c9ff85259583c7d4b035a6a6d9184b738dbb4b2dd82ad0eccf37943be8c01b0dcdf422a17c9d5cbec296803e07bc422153f3fec5e9cf73518866575800ef57c38d2393ea1e36f13b4703d84e47a92e24fd5fda3fb993f5b9daa82e28cf2b1a938c5e7c2f112f9398fa83c269289cb10ccd1735807e11a3d8fb89e67824d00267bf78d66bf90ba205ce6d6af5d6ffd22525195abf51482ce9cef2ac00a32652aff0e75f1f77ca170264f4da6881f2cac709c3552b800694c418777ad843abce34003588a069c0046934cc44d2eeaf1ff807c4a6fe3d3a5b9c0879fb476465c0ad1335ae38af78246b1fa1f31cd44386da037cda137bda51d7ed2ab84da25dd215079b27e444f758cb9793240c3de9e5f5f4674b29842d0a903c1f795e8b0096288c274e649192f5123409f7135a0f700bbfdb6cdd4450666d61db8ce6f87c8d672ea7403a7552e83217a7a11bf94fd7c6a31e1e6321721e2e8713d29791878a4c23bded6db523c9e502d0b6fdb9b0505369b5ba959a016194d16efc22aa085b4f1ebe6d3c21d0bd972ad61a479ebbed03db84eb398959330444f31fab526c66b7297b7b353a9d6372b3810ef2ddc77609b332e6886c4a710eb40ad460851336cef3c6ff8b1222d3d44ef9fadbbb2872100af37ca428a84b788480ce274f39ee8a28e8f88b81770852885893fa608d53353b61dec8718ee75ce8343c8a92b3751d92a49636afc9d3f87ff188ad3eb98d8289e6d2f6dd22bad8bb55b214e23b14e63bd8ef6cc08f4688d67b470e9db77271d91b76aca71a817c8c8431f6e4a42bef9001b5ffddda755b76647312c6fc163c9ed166d1b93b3dd9649f6e1719b5f8c391701b7494387f8c738bdade3d783ef1ffd0bd36d212959e34c612cd637afb2fc307ea7faf88dd1520ed081ee246eff613b39378f98456e1020bf5d64c82491cff78cf3516dc4a9c76217c95fa31a99a80fbdc7664fab710a58d92e42cbe2ab29efae405df625a80aa3bd42de9e3ac4b06cbca015984d80ed149fe6063dfe438f5c8644f94969cd2957d651841cbb1cfbc195c34afcd3240389b0ea1e9d34ade946001a540cbd6f3162466a046bd000213e4f4fd4e0ef0660973fc4e98780a4dcbb2f649e4f80e4777b897c372fd9f2afe37278d91463db25bbdba007dcc25c73b67220be67dcf8ff03ad3e7fb623f5daf0b45515b1496a0be98b9a4aed90dd1073c0662fa438ab2b4188181077da7f3c570d7f99e3ac5f4875f7a99a17b82e459bc8b7a8602298af4b6ae27e2c67852be2b134a1bfb1ef389b2d5a9964a3cb6c35649032e1558c7482787166711f79846ed559373ef77589564e6ddba4def9eaa988d03d6ff3e287cea2f287ab3a10c0764399b6eebafd3ccaee1952d3d3057ded45337b230f43ca194ebb11b9c101a7692b9cadb2695131196da91e718e6b9985e14b5cd24bccb59df5d4eec4a3be28cc9153610e9b5932062190567a2b8e8f7af5e33b04a33dda631e20d3372ad7ab31173aa5eb68e288643a20847809f41eabd124a56fc0df1cfcf503d54f1d03e70d1d1c9d93e19aca41d2dd022b9a30270558457b3920bb1779615a4effe884044febf740c0c4c3fd0466953194409e809295c48517f257649836ea47914061b75f10d7177a354014a62b357ca3b4a6a19df2b874d379feb34fbc7558f9f00a37481fbaf8ed8b5f5ea3ac6aa5e5a514f5240c00d652403067cdd9aca07a6737bdae78b62e577c3cb1789699e29c245b55f08624257e69a1f1ffd44be31858d6979ae1aeebd4eba1486c23e06780ee7dc7801bdd4950a6b3ecc07cdad2a157dcd783ccf2c63f0d075ccd3599d9648e71353fa0b0adff6272e688fa753d9838bdce7962c0fb4583592c22bebb2f4ac9f902affdead1c86fee144ef6be2b460386ebe2d29cf7162d7b925ef63bb9bb9e1d9bc3148bb239acdfa1efe4152184b7ff3c8b61f2709c6e335660fc8fb364d365d067a70e5c0bc5aa5691c72ece86a3faff4b45f2c1d832c4c73674514677c078db9e37afb41b448fdbb33ba8be74e3eba97d0ffc368de4a2c7a073735cd2e91f86b709b3ee0547fcd115967129acfee459684a453a93aea23c857221ea0ad524b7d3a044487fdc2cd136fc4ab6409b3b343916966da4957c7c13f4bb63e3bcbaf35eeb7a89ab7e6501badffd966c9187f09c7f991001b23ed58f86616f08d143685d39f98b2a7ba574da5b1b6ed4ae3da4706c76c7af94b43619eb451f27eea32f79bc573622d49b839aa348ae56c3cdab9c86d044f53672c36b9b65201d970c32d31c227d0c271ad61428902b18a3bc153b4f35b6308e5eec6b26148be1aeb0ad4ea20aa63cb98414c75031861e0c2ea51d4b87a5c0ca00fe2037c7a60937430973a771d773c844f42bc075b9f2a934ce3d9f0e5f5496a3d58c4cea194a27490c9d245969ddd6d159f32396f5b295aea0476d7d286851948a9192fb05a5b5e8e93640a68d4137684683ce5ff7b9137f0ae9ac7ecbb162ed12d641b16d8b9f0269b778f553329065efa507ad4ec3bd7ab6db79f5f56e060c40538132e60f791374729a4d1fbac4004a334b30f8a0aef59ad53510bcfdbc64d4efdf84d4fdd7254bd75751dd28996aaf68811987fe88763a52e61a8cd9e98d4ce3ee45437214748b9de511741978d2a5fb45f8714c09e03a356e48de5da3455492e55fe4c64224053afb44f0cf37e6233d82eea82776bf1a6faed6fe3c9551585c8290e90c58077bc31a9b90354c9eed1f68ef2116908f166098d0cff126fb432805d414dfe5cd64ea08504610c1dfd95533d502669f3f0dbf08ddeac9eded9e3b49d4886ba625c931ac9f17cec73b86bb2b35ee13f698134f969127f649ff72f561a0e7d20e41bcc7f07aae35dfeb4b6623cf2149209465586f2ea041fd3d6a6657a28ca76a882ea611e7f97a3d6a3e3747615e93990bdc6e631bccf2d7f8de277cf193d2ed48d9ee5abb95fe4d8f41c3523ea808c8c8b25836d37eba6d7a5e62283dc6228dd7bac14086ddc89d8a487ae292483cd1faef2dfcea7189a8abaf1bbbc3a8366e2e4036921806f6dbba04b48d8edd55224eefbbaa7c52ba8d41f019548b5a7653b2d4759c19af5db60108c576669902c40181d85d1b6c00e592343001e16f10e00774de4c77fedaf5d48cc00ad383708c24b87499e76ea4ede6fc5b90b9c50050edb0a687675b224c438df6aeab76be6b8226a927219af538899d485be251cbbff555853cf87f37503ac512b8f9edfbec8b8eb1cbfb7fbcabb5dc24690346f266f8d3a6a53fe5aeac8ca280fed86696604c43543c6d9be5e18d38a4e0f3b7b2d979c5e1fedc8daa23ad385e999358fdeda023f1d7b340a1721af29092d267b127317d3e4ebb64a7a0a08cdf136884fea2f2ae05cb449443f89085b1b82e612c741a1ef29c88a2a1f3b8305255f86e636cb2737718bfcfca88095b125bff5ec6dcf28f748800b5a15b3b1aaf468fd517adcc8c4234f98ef78b33a992dbc9907d00cfbb7f26c66648154554d1bd1ee17eeeb39ae82c76a60d72f6bab81580938b417190807e4754c01a0762932a3dab0280c844d29c5dd4f654f7df71bb240fd972969744a9499d30a937750fbd435f7f6d2404a13452e44b9c5196502bce9d9b02b65359ff8f80365ccef4cd458c4877df9451add2f9a9050d48564ac2061004847322ed42e7159fefc586c828ec3fbd17a7539bc7b5e76b5333aa06990a2d32a341616b992ee89af80e87468e77115da11f2665c580d5ebab3c5e42cfa434e37a0bf6bb66f25a77473281962a5f4356ebf865f6347efc3450edfddd6e3f5415326fb3949cf2ef828d829f06ca8a9c502d68e5d7a3763234c82d07585f655ccd7faa60d7b5123bf190769f70041b5b86325328288ec139725d1cf18c1244e3aa7c80a91e66ac9b96848a97a4317e4367d6bcbe3d6b65383065b778dbe56a70ac8e14fa86068014679c633672260b7c4380a6f441df11e46412a83bc1b79bce178a906a8ad4bd23022d3cabfdb5e5ec2c3fcc602098ee0d81f34dd0afd3074b4165736aee21ccb3630979ea9e3aed27d6c0e1d8981d65bd1cbcadbd89bc58eb3ef970dd968f8f5775c845da1a3e72e6cf9cc5bbd89a153fa222cf754a8091ef3863e11a8fc201eed9efc4e298bf0402273448b96683919a685fb520141d9a612047f200a831daa4ca699e121285e4e82b241b79c530298c4c92242800ed4a5286840d698475f2dca661094e2bb7d1650d686c8d42a2189426e50d16e4306cf4a3cdb3b634402fa87ba0de77fac2a2b32cd5d62bae3a1ab7300769a0a2b8c99850b9344ba7a3284db01b03f27f3ea4e23eb9e8910ce2f734b19792564f3e5bb13c83d3875f3efb20f3f9959fb48b9cfe13fdc321593b3c18dbe10c299811c767a7d63d221a075a3d805149abad96449e95f0b04edaa279a9de7db00d5015d46956c90a248716f86824cb254ec2ac7ecb682fd5f4e027729240ac1e52766c1ae58148213027a83651feef90570f4411583c32c7dbdd1477a4c2a2593bd55def90c8aafe0449e38eae6ca529536791d0ca4d1c4e2391ea071951c8874723875c2683b202d7ba58faca3a2b62233148727e07c80decffdab967c418c5be4b526b7b1d50321e2b6478c2c91f17fd356375c9d453cfb785e3e5867aa968abc4c344a26db67a24279b70fd9dcc52ee06948078139d34049c6fba24ca3646b26931fdefcee98316b820a210f57ded91cde6f687e2017ee90fd9bd05e5291a4ac14efc20f9b333382d9cb268f8c14962409bcfb7fd31cc771fd28e255603199dbbca66422ff525ecb388d85c36cf56b87054ca53e659b08b124216ae1267ebab686c491ebd7c52e1a6bf99d5feca1c514c3053720a9f458db325dd034caef894b8ddb160197809504d8552416d2b7ee141c16c64da463e73657e45fa578079c7d0544c0fadfd5045caf70f8b22ecca5fe04ae7165bead29bcef224decb9243c72cb91acc17f7d99425dfdd2a2ef9ce447550a03b75105448b453c1aa6c166d29cbbb5e787e3dada85268dd38eb3b348d27736c5710be7359cde4c2fd2c2f428c8c5fc8b9da61da1c70f0babd9a66872a017e7e8b815b298ff9577f8aa81a4f6b105761ebacd75e5a7ec81f819b26607b5eb49ac7f048c9c7296444530e231f73c44000478fac47a3594954461cedd2e0915a2e9326fd9db1959380cbc88b126c9851bf78fdd27137c54fc37709d63fafb7e65d79127a00204fe34f422c2809eba74e46f570991cbdef382b53792547dd0962754c83ccf6870ed6f927a8de4a9d44c86bea692a2fa3683c90e1cc87df52ca163e0f0713c4ef13224e47dcd12afa86e7a5130ea0ade775eb136cfe84f1c334084152506fd4b1e0c7d6172565cf5ddf7e7797c500724fb104e34bbeb7a9360eafc6586e00e62882680396d931543f50abf091e48f1cea0f5e34124d9d99322126202c7f7f5dae9e81b041ae3ae2f0defdc8673b5af8b324a4fcbfc611133ba409fb6d5400ed0645ea3687242d7e8f08e5f479c2ffce2740f04647f94ac24c88a422b3d96e2ffbc9b79a6bc33ca4e3d742255d611f4b995c36f20b952b1252037fd596cfc12690e1b32c3e44516bd3affe6057f8f1f4b41821c8e99aea82d4a8070410d1d2928d7ce6dc5907e51aaac4bdc12e377866847a453d020d2ed702e5f7508e0fcb9947b40b6628e409825368dd6347c9c7ca56f863612dac9e82bf51dcfb60b6c19682a23f526ae5ac18f8937baf6ae4490c7b8a66ad87b0e0aec85de5992a148ce956994e9e348aecae8617eb1caecd8c957b17cb7d773712dc02e5ea78c68388da0308074933524ba3ce0137a296a2f31877489cb7decbf9b50aa5c8fae533580f6fb0fde180e01f4cf8dd60d96a5a60d7cabe2e6e4183de35ce0c115598b44821c2644f8d05f86bdfd91882526dcf09e85bde426f43c3a75f688efed11590905d2ef23391755f57f60083da267e97d52f9b9f41cf59b9834b1bc9ea8a180d965e98e64cd37623347cd6f4018fc0b5de09b504efd843857269d4f6847ca97d98c919200dc4970dc97fbaab4119280cd1347fb2edd2e0bbc4e1e1dfd5f7bad5a52fadeaef2990785c6471e1a0d1c79cb2fec8059af4b05ddf3808eb470b6520c78bb2984c267ede1548e643b82b8a6ab381020b0fd2e6e76198ca1fbec82ad3deae4d64728a962747e35d8992fe39628dbba4f849b5716c6c92fc0f42fb4ce0f7c08d0066c9c2ec63f785a634ed15bf560d7ad7bdd425648996f1b24d825c269093f09a8ca572621db6eeaae9530d775ca80f84edd150b908a7626b5b645b780f3d09cf8c87372a377913d551fd39f486d0b59751c915745200e842bb05bcb6a3472a61d426e8c0ffc6df57147e8ec452792ebfd942badaf18b7357525c0fd3b80ccba11f40a0b76455a563ef9cfd7f00a789eced8a47ab223b9a40fb3f16ba8ecf85c42433f1cde8b4fca6ccd36d79762cecbe0b646bfccf5e4a817d71e122dbfc85c1e500976e10dc124cf9fb815bb3246bb1edb328c9f36954950d30eade8a1793b48f03adf3abf0cdc82af91c0e91e12c32c55c6eda021ac9ae776119c08683d2416dfe6af472109d3ce3aea1e717567238d5b3110ebb3249ec5273434f435d694b2aa5db60b488d70ef85f352abadd91a616cdfe803841e5265dffc2728881259c9e8115b88d592e1b5306a81788d5c266e351cb20b6f58e0474289887da3a9b33abba2e3c59111f10e163e54170eca096d02d1d0dafc418d09b5e208d2a38557178b5878d5641db2dce80f7dc25468bc6817a59fb8add7e750deb9977f8573945bb8ed8a18ce4c236aa7c2cafa89be3886413e03a97c41ec7dbec693934d155072e4b96f2af069fafb85180719aff0dc0a2c6a5f162632600d39f8d980f7a6f2d91d8857263c41caef54c51279bf2dc3aac2c6e74778cc94f54c4ae4682860b0d836098464b0a5a93d4bf85c5c4e6ed7a5c3ca2563c865bd10c0a24a068976d05effe1fe128ef198d46e9d822a56efcdbb5897df262039356bd1bd49b97aa668d5227d10e6dbb2ac8f9afd715d126ca5813256e84051997d5ab077cab1093342934ba4a13c15b4493c95c99dc0861466738aec7651d5e03eba6c76357f6ec52fd61f8c8f0dfac8e621a4195abfb792e0a47221421c7977f5e46775a856ea2a42a560cbc845c54e9a615f750333d3a7612c61b33486ae9464e1d0e1361c0121f6a95ab668458667b4e9e80ddf5fa423c02ed187d3b1f84d54aac6f34a8cffd312caa44ae211e21e1bf1fb166431caafe20729085cffb9afadc0373de7a0d3533c22daf0e396634e3113cd9d2c9e529952f34e152b177d6aaa9f47199ae4908421ecfb8cf11876ea77900c6c1c28c5374ee5d48d689c8f3a0fe9a5ac0cfef2d6e77ce95388335ed358ad77c75bda47de1e25b352cc8115c3521170befbe7be3d07bba1a835b0683ac7e64528e56d5543d3506c7baa0c0b23d9c86527b6d2c68ec1c77307f28b73627c6214ad7b8f5a7a7150d51d2e4daef61ac77269d1a98c2d0fc1918e8d2284e812f9184dd8eba8f307fc3ac3ec36297b70bacbf0d2123b47121a9f7158867e25c0e637085d7f40af4745eef5c8c13f8d7d241c29910930a3aec5d75250315976f2eceff36b3dc9f19f0452dc625bf64391599233ffa5b57256109dd684895c35f863b80eab631e3581256a31f55746cff8452c7a50efa2f4f609049056c207cd64b69891cbe124c96776777562637045f78bef9fceb3de6edbf8c82fab8f2067357ee3b66c379ec814bcbc63837b11b08413dea9892b2c3db6874fe624b0079921d88256bb061281a877ceaca2ecfa54d3358b13dcd3a5832351e436a1ac85164b4ff85cce709f809b9727f4871c32b172bfb509fe2c18a8195d749c785aee952144dc0c4130abf0c14d28984ba343a1d159e47a4fd4f380a43f03655f3568ee75b67081a22c42440a6ad27f0b9e1f1b8ec02d74e8b743a8ff1d732ee26efec06be96f99fd3579708ec2bcb9403e56a5595a5c0c60b46183c1f572f22c85d8621f01d3f6d0600dda9ed60394676888bc3109378c85306bbd7377d38722c4539be5cc6645e5766e2f3b3ba648f8cb255cc2b2a6d169368da136c1f354e4071604872016301c72168d30a87ddbc469506c7e9febf928e4e104b1f3347d387df76d913078dbacbd7f4610ca5394122ae7e6333a8d486038a854403273dedc6141708afbd99eac51cf21a9c2b191a2958a62f9341d2796883261dc213bbd5d34f4425f94c4adf5a185bba0885d45197d127e1eb85e7cd4c90ca9ba545f7abd9097d4f388f69035d8914fe303b44cbe180d6546c4faee93a97a144861887c060714bc6e25a6a640981fd7f7c543cffd43a6fc856f1e3ab12682b46506fc2f9c9df283ed0b8b4b92b882fc317fd6114943be0f44ebac4baa63f7aa0772817ab17af3f8b4ce8fbf3d1645c21c585f1e2c219e65e40fd336dc56f7e7910ba53f5bb8f635abc779b26c9e780eb38e0efbccb9fce1d621462c9ee8071ff1ba324017dd524b9179da8407b3a1dcd6272e39c7601a5c853e419aaeb22aa42b5ed5fec95a41366040a95e7b20a0884b8241d0358ae522349915ec3e11020a9ce88b9fcca61c09a8622b9dc94b3e452e25777a49003292e106565b49e02804f4d0325b5f48776712683406a178e506f50ed0951749e4967d23fb8cc84f23d97f34e52977bc159348d8d9ee3f557072687f113b6b59eafbd8a9c06f040fae0d4bbabc93f2769cea40cd96d623df7a4fbd81043efb827de9f8838ca996fd35dc44d62fe22b58b76663a66bdc9c1768139356a3238e78ce60d03435a44db15ef46dc82934511ad414458ff14ccb2bf3a6aa6c6693545b4e7806c9375e10e308998ddd89e8a2d3f7ae5b639c75b3a033f0aa9805681d5ce0764bc57539cb9cd84b39f1961823f1f6b42ed4257171de5d2083dd9919d432561b459250a7deb264f4d35e77fe96bac735fef7144a28493b7bf439cfc8a778998e194ea557c872bf054fad5d6d7e13eb784fdab75fc7c4b8ac3310b806296b3da7ccf9888776c0bc4efdfca54b20e9fef3f055f12e7042ad3860011ce842ba3112d153cf593972c5ac25307606acd21fcb522b5f2935a12f36629907e3fa29334e5655df81b465ac79b586f41a57944f7eaddcc55ccc03badab6ef32daee61c67319c86073791b9703baf1424c86114da69285663939c4db417c26566995f67c844711f1df1b66ca31ea20c5e8e8d1e5ae9b3e785222bc0fed6ec5b52a6ab2811d6eb467af6f1a4d5cd6a027ce0d0882aeb03cee213e1d9cbc022696aece48f6b31d120875ba0b1e0a7fa4a43fdd995dbf4ce021b944143118af63290aa512ebe3d9764bd1d8fb52c93bae6ffd550769d958129093b53b8b48919bd1a060ffe8f330828dba9685ee4d0ec62a639d19411ea7f0ee37c3d19012e5d6ed586e320765fb761f32960ddecd29483f28e05bb52755bc45154f0acce864778f2af1926f973a250de58abfe2e77979eaee2cf4de9a1efc7093181b676d7ca6969a06eb3782832d6a46058910660fa3f28cc645fc8ab58ad1773df98c97ed9c1f2e4b19e1536a56b0bb1195895ccd39e32563ebfe49e7e8ba93d286562af66b2adea7039603242c01e1018f04c5be3d22cbca75b198aaa90a00ef0961af5a44562d5b7914406585dcb6886a4f14694fee2796bb9919b9c66c4069cbd902a17b66a200cd03dc25547531d901bd9b36adc6e83561d6a04083424cdbb5e0e9ae40c18b510bb3089466be8e48aa22fa50733743cc2757a155e0e4b782801918d6c94e80bb1396fc54d0518b14c243c14fee6fe68a053def0ea1486ba26d00087b9bc8089e053af67b1203d0f2e415dd45801de64eb63efe292a746a2d3c0df16d4f7108d4b118e3016aa2eff8f924c34259383885c3fa3effd0febe6c94e74039b3b9b0a75ed4701e9dd3ae9e66f56d60c9e1492bd8f77a7289073d9254feab74b472ec54aaffa67d8e47e3759e8afb2e95de698d25e195530f62d2b1071274e348da41356701c51d547b1b69cf1949c72784887f31ed62cd6e16ac5d37afd5235106aca387f0c405246b246783d9b1d71fd8def9ca2c6118ffea7a1d4fca159c2b26a77537c5f394c2477c8c5397c1b4021140b303ad20e3229cbce0afe5dbfba622c0314f9365bd06bf72516638d96d1faec936a8e8507260d8a8ac8db08c78f90898c89cdac63c8e905d87a36db3963e78262aaa49a4cec9f5e3efa984f65977594b1458641fae70390343e49a4100f1c287012cd91f54e5769c937bfff958128a268fd9c8170aa20901af65380e3adb46e92a672941b8c5ac6189225a1c6cea35716ff1a28327444f95c9649a9ebdac776a0274efad9380025f2cbc690367e7bb314be95a5bc7661755f5f5022b5c84cade5da8867e2c032c4b907f2b5a3cb1d9061eff4132c8beecc30a32ddf7a6c8cb97d1a3f81535419cdda7633e2b427b762de7b50b9514f1de43f148eea92c85387fe813250c6ce08239f02fb623accf8b45b1265ef0bf347c6c6571167a5481b62fd4ae103ad4c3e71712aa360cd315cb5e0e431ab125b91aec2ec54712f21718703c7ca4a2ce553140de497cd55b2602adb7a5ed9d69ffa1338460ee4827b2ff9438dc4c669be879c57d6016430627e4d458abf852799fcdf97b585916aad0caad900ca76fd64bffb9628f6b60c6afdc4ca148ccfb144fe953172170fdd12657f6caeb90d8f5540767621587d270b93bd9360f37208808b366b66d149adb3b5b60356493872457591655111a0ee1e631eb32aa46a45608700207a59cd528a68138bde7ea49d8a6cee948835359573b2ed8d61c035cb293ecb05349f42738fdc21ed1fcdacda0a8b0f336694d394d489871a430ec534385276570cda1c44ccc67cf9a9ce691a401ec781ef9f3fd87df3803063aec808b790f2a220597462e46939c5467f37870a6f461c7cdf6acdb6180e0a5c20a970f4e43c5401fa9f9365bdf5ebc67a640916c7f9845110cff880129e6ab9a182e294cef838a648a4142403f77ccd12e81d0aef276627fca9592a5d2b4d2bd2b4bbb368a1ae261e84e178517177b9419730ff9ff8b6757da39efe4e1f943ce7970f49059e87963aead8645793758027ef82f720b449700074f7b105ca0792d1adcfb3074dfde0f15e030e1646a4fadcf4fe087bccb9c3d74cbd48b77f9eb9607121593084fae7e002a387a711ab334747f26660112fe402a405505afba80ceb9f36bf810858318ed71ac8d0f64fbff1cc12e6f87801744e8d9dcc56594a96bbf23cdbf6675f2c696cfd2238d1dbd74d882acc758de4d2e8706b25a9edaec5f9d5d9fa2df5134f9d1340a74cd60639c4bc7493ff5889dd497c52b4c983566e9efda6f6e21fbc85844f648c7ed06f9fb8349fafa7f1d152c3b7076d86591ae91c093306c0012090b7d5b5dd0cff7c6f5ebe0b25cc5211082de4f79714abb1a11a1b5dc22ed3677e1a081ff153a2fdc1113468315a69872ae3458bb6a9954091b475750cedf7cc8c9af0fd138ebc991afc15dac0f03651d93f6549cb8baa134e751243bd46b8cfcad095893b4870a8c0caea6da7dd09a36573c51201ff3bdf2e27bf603932ab940903c82f5a671565cbbce6d043b186e23d3efcc99828e9075998f3f689c91265ff81c9c7462a53c122d825e2e61267921fffd057492bca5e426cc4f2486167695d78fcd4857ff18509e62c7ff5d1af9733d6ac46e484003a852a9c845d8577117855c86d0183d2c6b7f664b4ffd09c9144706e3abf04c96515c47f732b14767b61dde67c72aaef3c808a08933296c7edce9baa533345b10f15ccf13a47c635fadaed0bd17cb972787ed08c651244a41162c445293f839616d26620a4217e49248b0611809b034ccd4aff8a77fc843fc9d67f6d9bb47c4941609d8028536c4b9a0029b0b58de24fa5fd30c66d7011ab63e1b8162d949321a91d96dd3ea1055cd0c2c9081ea4fec08525bfc55dac94e121b556cf7a04e6cdfcd760159ed9b0d02795ed59077daa26b04c7a1c2b793047ee20df410dd2856654b3cc318a0dc661bbac0d5a4f3092b1e31444f45754b42a29c522aca698f83d87c3b5221becc400c40133764044a4e3f8177a721a1b41ab6df6db581b7be88f2d6e78a9637ec2bee143523020c37e6857295aefc551ae1d9e7991c35f55db6bde81eb9946b2a394a8476a8bf94b0df38b7159912d0bf8a8dfe5116e3b23c9b1cf5fb43d984f05d8c9ab0b9dea77f3189f53f2ed173c11f1fb38a3bd71cba5235e492779cfeae8e1cd7cbac0f876e297c0b81eba6edb1f315a90fc398f830270439139e5757d487534dd4f7980ef0ba07f023cdac0e0a47e16e9bf9831382c2e3e98fbea4f8264ed72a33e03736ab2ce09b27d1c242131f0688b42635d0ebabcabf68e20894136ae0aa135ce2da20434881e699cc97d97df024e8481e3b5b8fa1702a868b7eae49078c93d91ee23b72d3f9dce958e12a0a1e3a7c564240fb60122c2541b110289def2d90c4537e9fccb283d1e40857243b0243382fff762599bceb383189cd4b3a086fb4c6b1904ffb24a63fa5005d816f8c9204cad3b6773dd9283764e2e40ecc7fcdcebb140e49ece93efbaa54b7759ef9cd5edef3ca5dc8f10fcc70ee4c74c716adcba854874bfc20ff9f63a7d1c8dc779f2fd9a2802298f6644b80bf93933b0296889e96562e22d9825e9fb38c48f69300200faf727df46b6b6f69617fdde597bccf0a29fa72870104c4cf1db85891472e54cf6eca0149cb905849689cdc9f160e3b702c86144b8ff29d15e8fedb8390f44e2d246de3606d4a60f4e4c116c71df151f4b011150a0188cbec2fe4674bd2e3c8cd81cfb5a4e69a1b002c2878fe9ae135ea6dafa087d73d577c6daf558289da1cef5d9ea5bbbeba4a82e2844b65e440e426ac2da033839f2ef90163571e8df010893bebeb9595030a0843bb54142528787506c18cd838209358aac421dfb816b3724c33d105dbad9b29bbec67412620f269b75ce381949e741877e94a817714e90b6ba34a0ae335ea1060d45c560074ee6a9bb26a7501cbc0d69b115242817bd03415bc7d9f3be682d3c13d96dfa941feb91b5eae004a5c42848f00ad23040bc52eb3623911195047768c842d8fa39cdc44ac91b4f08f715fb3a7d07d4cd3839b774e8165cace6515","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
