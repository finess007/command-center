<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"bf0caf538e1dd6c58e67e9f5f4a5bad07358078cd69286a2fac64973826bd93f097faf43e14f2c9964e4a8d83a7a7e0cf4fd14c08024208d6beb014ed31163834066c02de1bff061427225047633aa9dcc14caa096468978796cfd1e8c323699a2ca330c722278b40c38af1c6cc56c7294638c53b84f4fb38ba7cffc9080fa4a1ad5774ef79b2b83a624d0b736954f81dcfbfbf6422d08545a60241cb6cfefa184d992a2863b1fe98713da3f2a86fac2bd54c7bc070bd097cb983ab9d8ea6b3fa16d1c6be3594163d9c0799b9caf1a89a27ce6a422a13209201f4ef38cda645098a765c6e4704c242f1de90040a51bc7b30fe8286fc133c888ea55dbf67173a74d0a2b5b30e056f1406b540b4de5b48ab4fd2509c3178e08998b434ac2f8a55b3f2ce3313c7c3c6247a1bd6faf28702390b07a9b7054f15181977d4bde171226eaa5b4bffc0bee898a2f090c85444fd8333b80562553ce42b34c726fd0ee3142a8d8eabae2e802170ebbde5b21425f2d35d4d9f9d1ef7244879672e71db035e583d49cea181e56cd7b75650dd4248f04e684c73f1682559d80286074b84a0c68539b0c3521b9997497e2f148f98e0f5b51e8d67e66aadd308e5e1bc8eb5ee37364731ac6b860d92a15009fc1f553f2ed48a7d9fbb49e179e717fcb462a4bdd18caefaf627a970024691c0c4d916a167ec6a6e595ccbce6c2dbe42590a289dd37696ff27587046b5eb689c634f06abb3a0fea06709b4ed18c215b6b45bfd9aa495f1b5f05db97fde70eabbb998fa8a9e792fb35d1abe834fb5093378b233ffb9e0f07b57ab1d7894c497007a20dbaddc22f141210387dd9919ff68cd882b208382ada879a384efa224e58d2c1c6aca40aacfcb5032a5e3350301199c62f4769c384252f7e197aa7c1c834cbc26e2db4e486ec266606b8a0c834be39850fb2c3a53ce0967c817b9b66a1cbdfb496c452f39ccf25a1923e148adc428857a92f8865ff50198aaba3e8e7f3ded2837e31a16b7aad7ec6d5287a0ca5a5a73fcec46348bb8d26394afda01f44a33692a12751399c2f47b38124db02f878439337c823c2b07939c2a9a7b8c8eebac29cc6df113965b808ff0f9219cf9b9fd9ce1bc2bed42a8a6b23eff7662b6ee2092f1c65354e7a972e829ea0bbc0ab66bbfd522d11035e3b430cbe5acbf327cbae2f622a45a34dcff7f945c841de376b094be26af883bcbf793774b268dc8807d228dbf9f6699603149f305a4e043eab0b34e1bcb2a4e2b6e4733e6f7ef07cec337c1a956aeb8bce9a4cc5e286a02dccbcb318fcd2c3086406e1c9ff3a3de25e67f101b22b7a6adb1f723b56bffde20c4039f7c58c2d93125d4cf256b75fc9cd1eac46b9eecca0d820cc305c35ce5983d79b3803cfbc6f217419f0ae64b54afe28ec6dff0f76d8e3047faf77020ae07a5af50700155095a8ce05b6a35f217d92cdb24b25b6e9c6b5200a4446ee0e08ce39d00843e4f7bf3318109f3019891028ba6f6b830886ecb201ab5875b7b45d444e70512d92ba9dfb2070de39209ffd6b9204ec9d65d45525c7fcf0aca127f751c95b2bc623f5e6d7fea9723b8af3a8bba64d739c006eefd72e1cdfc966bd27c95b823d847eb9161986f75351ca5464bb5aeb9538d4d11cb6d3d40c0e313eaa543fc41d036dc80a403c579e993b9e8c7a05670d5ab100bde2fcb29583e340f3cb8e6c1ba19e0d29d018268dabab0f7b39f919111d58409afdc381e2eccc9e045d6994e0b1ef6b72bb6b5cb8b1f448be5571f9d91bf2f2a257169948de7de6beefb90cca34034dba5774d3be525f29ef9f1a13c83ee94b26083c98bde2ec9a531a6e3228b318a3c08baee8a92762c1cfb2a7421f879919eb152025aa652cb9aa8e8a18137277768c5b4a5c6e33d29cb9dae33e9d63de8304ec4a2efe34f4248da29bce73dcecc329e69ab1cb9aadddf67835d834fb2777447c9d1e2a23393c411dfa3cd309f9711a5a849ba93b7138402769af045f0479eb541b6378733c0b9c3a579e0702077a2289876e0cd7cd77687d37a581faade90e623227a7f6302dc68cf5bd9f935a8210a3718b3a5769e6e23977432ce780c6713afe09399986cfd5386809f8e287f139285d21386c448f11fece844491f2dd22439cd479c44b1bc9d792b2ca6c0e10cc2568ab430c732d70fbaa45cb3db8687eca9ae1bb1109a2baac61ad72afc8430b8bcf4a77400aaf44356ed9c2ae0da4f1ca163b06806b00d0556b30f1ab76c4571eda4799d4913ea71ed7c9849ead567799b1fccaa05f571a6b07cf18b51676d45aae581c5a6d07ffb23216da272d1b516eed0a80352a4b52f3a0c43617c2baf367e6074afd17311edbf8a0e1773b8c32380436332d2932123547663d3ac4de7888e2eec3a4f4d64571ba368c0f38054b1522829a600c1f23252ef147e82b5209c838c71ccf857ecfa8f149af6727b2e405ceda700bf24627c41fccfb75f858e521169eebeac83da38fffe48ed4cda89c7b4cb7e64a9da4cbf69a9c3afbc57074d81a4b67163f1c27be001ffad95f4db9e5eb5163f62b231f542b86ee50294d40a726617ef44084150d5ae065af12637d0e4bd7a1829472a5912f1327fbfce21f5370f557b71f99652fc2c2f8191a04946427661f292081727afcc8d46808d68d94adda58269788432cd7481d26659a09764eb8bc800f08d7e3da33517b73ff7c527f14c8fbfd83b32825ee5ead6047d870bddc1fe2c435922afd758b5f5563ffa368f007cbe4e4a4ae94743321306c042d366e59cda964bc424b0d5bc0bafe9b01c8200b229ea8be3fd64a4a82df02a92666f5dc186cc71ba07ddfb73568c645a34231f4da8ec5eecd9cb5a5802c8e7f7885ebea727feace3be9d1aa6f727b51daf5a30b1abdaa28a2ba4f2ed2da5a2cfa3a031b159070dde634de475f357e018256bb9665a7db3a7a3be87341d8147217c6fa78f664b88488849f52da7ccae18113e590b263c4f1cfd57759cce0d939982559f0eba0a03beab13c2f3897bf78ba4ec650011febbe5723bf4e9d63538e7d704506e35b8495a17dceb839bcb73a25b23af26969b72ec1339459c0feae24f56259c679606f845a18c451aa4da223bc05536f4ba22c89d1a6d390d04fa6533f4530d574e6c6bbd571ab7e4e462d336f5c0d00f0b34ed5f4bf56e0a20b965e9c412bf30647ab04b9959ada553514fa1103b029f4a43b1c2dc552420c9269aa875bd353ffee21fb39e6432ce5e5bae0a0dc73fd3f7fc54501a382f54831ec5e61116b7d1815e03444280c1834d803ab51f4f04801e0640cc57bd98541fec2f455a20d39dd9fff8951fc5f482132ee1ea4c8b9a1b27265ea9db3c10c7ce478d78b41e0f56036054bceddb008c9180d8d3311600212e603752db2466610b81f0a94e27e20e0e96ae5f0cb5db6706969d40c93dd5b22d23f328253c9b5bb2486f93bab802d32d7ea9b9c3ebff6ab39046d62222769836c98dd7faf4a454b0efc7a6f0669e81cfe082a0761670b0eaf8056e41dcd14a2fbcdc28eeb0f2b32cc805978f7f78cc0fef6dc11de47a9f806c9fea199b477821677bb9bde861bee706a575c0637eb4ded8db231d46ad19bd7ed720cbf6e50fdfbd0d24924e60087e50716a24cae279298a70597df2c91d894f2bb26c08f734f0f75ab18b684d90350b5e642e12e86cca7f41994c7a9f1726dbe50e582e0e3513f5dec4cf38626e11b080fb9cada860497db44b3a8f51261a84ccb2bf7f5d647f2cd530a67e8551066c6427988c36bd6f13f19fe9bffa28c8995de6885fb5616a259247ba858b3f0590c449ee12293be2e4a4323f6ecb1af5ef76e3130b8be5689950dce94d74d96acfb6d5b563148ef4ce4aeb420acfe12ebe181d72ed919d755dda5a53bafac31bcc9d4136c4046f7bda5d0ebf766388c581530ee35307cc1aec30a733827340368bd7a4f2d2fca4a2597ba6904fd66539134848c1fd0b49f86febe50c7b37e175da4065f1df2225ae0e84da65eb6f8eeae9454f45564ce00839d0fabb712628cf8bba249f76b82c18ad9d4dc2cde166c9b7743ecdf270eed4fcfb20f782ad04db427c7bd045523d4d9878c8a16a46f52ea6c0615f4ff9b93ecdf4536eafcdd9a31bcae40dc2b93eabb127f877bc7473ae018a99aa52e2e0002e8ccd7fe2e132cc10e5806ebd023b1f75d1446934313c5888f5392e8dca2c435e03f4b5c5b14d871a2700d79f248fcc2bcd28a2ca675fff56219f6677f3df8b3f1d8f151898d73d8860a6c60c8cfe66acc713284c597876ed7cedf045ef828b9456c97bc4b46ba554e26467c6727d3259cf7f76aa89eb3a1a27f3bec1c95d273d554037f5784e5e0a87dc1b35b604f391c20d392dada1008c785a3ec9154c8096d0006605bf7be519dc817342c4d4350f128f99ea02629c7f2c7469915bf16386d5c52a7cbb9a4344031c9c84225bbbb6bab8f4eff5bc13671c9fd0e50e31dd815233799a45d93995b2515398f23288bcff644dd2bd6ef3fa05b8b1f971ac508e3a3b1b419e76671bb27d93aa8775d699ff49b926fd558a51089ce26d0ac3b4c77cf6f822853aacdbfffb74b9f564be67ef85974bde303292d1873c6bcec4f389f7f145d0b82958f2e2e4f51b74910ddb2c11ce061b80971abe3328cb46bbe59f9b5a39a907724df86e64e75cdcbeca3117bdeb5b59e464e0fdf65650c4e76206eb363a7bcc05fb1f27bbc3978c74a983ee4edbf8a4837ee6d3388596a7aaaa2d11bf50d6b5a45d123ae710142b364b82be0e657e20ba3639f04e913b31d201c13138eb9527ef8176842f80b6ab39910bd11defc3207b7e4e98972590b8a572dbbcffa16e5692ff9c9635e469551019ec504dd4a914fa8ebaf824fcfda35c3df20141eee9d68f3dc4ee8151f8ca744422b1a80daec1d8c107afc95a567a033d84efb64672bdb84369dc1299539a840fe126c47c2e27d49603aace528f761ad1baa929c294a48c50737b0c1d5eb6c5f9cabda14436f15972f31e5d9ee8c1b2618e0d70142186450e9ecc98f64583a20a55c2d358dc05b912cb27b92059b937c72304ce52b8aabb05c0b951b8456679adbc20faffd56ed3f30896205044e660a11ac3f95ecd56a691dcb512d4cc84e298a3fc1d6f98b2777644353a3f0d4aae02520c36397fb5b58144a31be5cba4921555e21d0e6e77acc00af59c72652262c982fe03ff1f466293be0f035b6b927022f681a10f2db9605eb5fbd89383aa589a17cd5642a850d8654a49efe30ed76192c2a7b711b39bc2ce02317a7b02316d1f47f9e92f62340194ec1a79db687a1c4fb604ef40de15901af1cc8141164ebde1bac51ff34f5972798252bc57ce1f7067b18ce7919a465b49fa1f2c0ef2b8978d1d7b4cbf3082ae602fad97e064c77929aebff7285020a7a126bd037b1baddf5a0d79b953f19f84682d024b4df9ca671e4ed747d9f46ddcaa97abf8943307500a21dec575bd83a4d980f23b4115d439f5bf3b7c91525293c07e23bc3d6ac7f88634f560518028c275f8c9781081f2895dd2a4a99b6f9fea56cdb1b5590285bdcbc367d168cd9300074bfe13223327e6126612662eca7716658ceb8fb11580722078c4efbaf267dbfa0751d5b0345141f35aab98e9bc1a4f2a387244c2a8bc9b62653312340aa1bc0c61f8f14970b6cfc7f9f58dd5dfedf100b713a83d55aa492f44a7130cb32cc19a6533069d16a6f3a9d0fc880ddfacf802c267e4908a2a0127d009a3c760850e5909ac8b23350db3dfe561926def8781013fa10f33828eb139372bf065b4fa8778dfb7a618a31f0c977d3ce23d7262f6aca78e03addeca1dfd3db0c57368afe32cb08529dc8f5d380889c7d4fb2116176f1174cfed87bc2408a2c4898ec56edbd63738e256949bee22dd2cd0e76ae824fa078af08d0eb1d69e673bdb99b6e2d358bda95bd23c589e785954f6d9a445b7afc64b848482777e2cd35b7e087c25c3478050c536add0f5b9513df32924215ec0cfea3ab73b05f201b2e8a94f62f5f5170708b6fd01c5444929790e25897a6dba34c4b8eec66bd2c3b307a194e58d9542e0480d88077187d8cad1ebc0808073fdd2d34701635cacaf1c1908c12ba43b9f6fed6dad92fad22894b1692a99b9cc1ca9fa2655038b5faf83c1070b4189135d99a148c473fc794fd64319f0bafc50ba902cea2e443c423521c8c7028933adae4219480e0ee29aaf5a69b0209821f264af42add2f85c186e5517e886437ebdca8a211dcac21f3a38d152a9129b0eac1ffb508f472faca3c6992c804bf60a2d786acf5bacc77b4904f79d5e367b3a8ddb3d71cff2100d28a4f6c25741afe78cde83f2f1bad44d0e1badbc93c0b3a1d606fcdca5f909286c16f0004709f0473530922dee737a9a4fd69695e5c520318a5d606fff12c9c8b856fae4cab04d76bf252efa4909ced894bd04386ecc2c04e3dc9f7273b118c26d22e3a2a869db8d6f8bac2699121fcb567f67417f5552c10f6c5d9ab60aec26868be085e925705ad7396b15b0dae5e031e632254415e622d8c9fc67d43d601fcb147aef14b2d285280665ab9c45f289ae7aa1b46132e687bcfe836fc81c6adae769bb262584db562c9e57c2e1c543c3565229914e6c79ff7b4e86e4e17b97ca85be5b7467a52ed4a00bfee9e668200047aff09ed3744cf0c2323b2efa7aeee541af6db712115ead8aa6d02b550cf627326a56ec6b57f4849ef9b54dfc48f59a90caead01b8c56150f26d32a87e7b186cc38592d7deb2effdcac2200faf223498e5595d348da3ec21d8261272a2fe6f3be43f3d620edc56e5898be9973e056b593e22e25dadcd80f69de5ae330438777d06f5803f709958544a5fca7fdb3e5be01f61efea643b18282fba2a2b2bd0aade3d343a1c54f35d88cd8fb23aec7ca4303945f6b0c2fd79c705c9745b5e7aadac4144a24960777c0fff0f298c3aa1386831b91a2298c4b6c424413de75e1148486e11c5fb073d23b1b4e6fd174ebe2d0f85b2ecde8a6b0ffcebf4925cd64d56bc1efbf46743fc94649db54c10dbd4d429a78d4ca40b6c21d4431ef55461e5c41dacdbbcd1e6db268dab411ba3f195d8492c3c5a69ee8673b2cb0febc1774a9d17d87e07ab3a2a9cab9e8a51ee169f8efb26fbe74aaa42973d8da45cfb9bbe457c42baabe28eabd4e4e8eec56102a81b055b6eaeca630f352727b4826b135fdca53ff8e559919626db3cecf2c19e5e6e8b5e84d5dbe6028ea10880ec1c507d285d1520ad53b66081b222c0cec65fef401bf10cade5f15f5a32009ef90205a7367ae7209dde5836eff1d804a6b0a9bdb5b8d70938e3dc674e06686a6ae0c8f62d7fd8668650a0a1f324a310ec14c51a2a772d6728e7369b6e0737a64bafb832733eb5b5037e74030f95a91ad6c3cefe756dbe88a2cbf527a09bded396f2d960576d0a1e84c485ebcb45ed352ab3b5fe23a5cce1f0a4c841cbc7ada582f42797e70ceb490a545a60f4c64fdabf131118f3f5042a63e568de315410835283a85b72d0c01618e573cb6190da8c594f5bdec944e4540311eea95b0c2a10cafde54a24fb227d59aedcd2db3016018a68e11a62521526bc7f35ecc61eff951ad493fab50ffb3eb81888a9eeb18526050fe864869efd258efb6935c14dda1c15c17b130a70bb80b7ee0297c763053465ce6543a55c85a075a1e8e49517ffe4088a6b12dafb81eabc2cf7d5e1477898f2d6ec00f502d9b3badeceba75cf9c86ae21a857a68d3e3870b0bcb5f938621c48909e12152ed9d5851e5f5a1534b170134989523518033d6bf222b86b5f15bbd62020b9327766d11dc27ab7ee83e433195db9aec4a94fbe5ed3544d71f43a033da68bfad544702de4fd05891686c7283bc1143e9e25c3e149c57de55ca83fe2093c8a6e62763ff4449da3eb7e5b5f2dce3cc6190814e018a19d30af6e391ce2dd36d434d75074a7b93543a50e5e23d001cd8174c8d34a2a9ea71f6ef99dcb1ba98fc8bc48964d16a08ad89a042f8c1816a86163a7ba93acc4bfae0c6c8183eefe9e18492051195e5bacfaa0318292c2923bd64122672046fa030169f3eb066d62a88a1d2257f71b98029e44e06b3d2536c461a54dd9d923dc16a9cffa5af499ef77cbaf88f1b47d60935b6d35f5a2f8f5725293571a970df83603bf10fdcb1d7fa17c80358d18a70bdadcea2848c88eca15e5fbb650676d3d2f69cb1bbacf902728bcc86d28d99b961f8840563cc716845f807f5af50e0bb9745064df67cfe7af2dc628ba17b44277a745ac290ec23a8291a4222e7e4bb5a589d07403dbffeffcdd17a69c70611780ca13ad3c98f93fb5df715f648436d07fbb91bcb9cee6f2e01bc7b8ce5d3d9ff321895f5fb8b4ea76ebef73831416c3f466659dba8a21ea457ffef26e805517fe1f6761f83fee9cd2acb109a8a0dfc6bb2cef5b73733541ecaf0f8cffec791472def8cecd9acf1cbaa96fe0c72219decbea2c4fd6a0894584c33a1785a5506772dfa4c1ec36ca09b867fbd9278f788db778be49ce8fbb22a64618a4490aa637dd550596416e7d273ea8d3657037f04d3ea404aba8d38cd96b546aed081dc120377cf59b71b42fc2700c0f085a3d6c9be850ec9249ead9fb1a1c2ec8a0542ab057909667649a50fcf306c406c0ae648896387131b6a6b18638d8c1bdfa0488cdaedde4d224232946ba42ae55986de6be2b676970c517bdac56f388500870a0324b5ee7c06011f6e09a8244e65af41b094cf57667b410aa2168b6540948a125a309fef2cb574ed86ec2d1886b1279f6de2d501d3f438c311cf4b77a2a0fcfb35712c0ef205c29a02cd2a91b1c654eb91c3a56694f0c025729164922a61a16306284fc3961e4f160854d389fd1f062c85cd5fbc0f2cce9986dc873e526ab5259423abb497055a781aea4bf4c7cba242b33d5bd54512c9fe86aa7915e796b86949409c629c00964e3508f07c160e1cd92d331caf7c41d21f24722b76e6e989fbbcf6d7cb78edffc8c8a8c18b7ecf0fc842a6dcba5c410438bd71ba0d4c168cca3eee18e9866b240c70e1580166bbc1f8e6950422cc9ab53bd06f26044df18b0aa50efd002c87b3128616ec168153d8928cb8d4f24b4baa15f17f3356ae191a09e6577d15c17f34c153e411d7bca4963ee2311d203e73f726d86b76fcb2121ffcd6d60b48bffc440583aae415b525bbd07bff0928f9b02ceadbff7253e37d099a7a4eba69d5a4946a8fbbd98a2206d0ca96db6fd8cea8d91a6455d8f6ed424b804603f3f5c76248da1b9bd89445c214447df25f17f8439dcf5452b5cb6e17bd93ff57c8fd6de5db3ecbe1c9b0886e01fff4616c771daf9e5a1913323b1d2ed4a329f6d5079c4dd885a85c01ab810688e1ece5b2b6e427539cb9013a36223afc214da86905213cf5fb275b64cf8c80511bd666aa523623ab0167d3535dc8d3f92a7c9060e9c99906837e4bb3d97211e57939ea4c3ea0af491aa7735716313302f5ea6945613712c01b796976ce106e3c1e7213ec07e6f918ce818624894dfe030392813723487f62637e488a12b9c9a864d8fe100cdae3905dc3e21745bfe05b5f76d54c92d5d9d0c0bc07a7a1df89f1e0bdbef580f9d068ba7c32be50d036cc5a3da165b6d9a154e1cefa63feaf1234285716d81e0067b68b66aa5959af9dbbb2a55c70de09f221a4c3065e00aae3464ba33d6e418b1af3a26dc1526278d772813c4f32b0a5acc89dd8ec35d14c3329fad81f079d56dab4761c85c482e94d3a8d74a0df3768742fabedb8d31cc7889c7f96629138f073fac0d65b3d1689af1fc4a0c2d9ef3c48395c149210df58b1df16b9a11218a718e10173fc2bb8f9e4b6b8111bc3c8002ca67e931670359f2ef16780afe10925c3c3f41cb8d9b19e917a85bf9748d5c4f3e0ed31cb89bd3854553b7132f6ff9c63b846b1a60804d437eea85532f490d221dedcf24098e3bf11696590c92e10f88b59c82f35bae0572d7e24675518b89f8b381e8afadc00ad0a5b32d8ab987b8597e4a05e206455fa0378916797a4f37d78d02c4dc20b771dbe65b960564283fb085fd12420902ab7357b9c16d32d657d24c50babbd78b7a4c0d9fe86767b829bce6a3c754e947283900c5871a61727f18a07edcb7bc1077100d4992eb98b2e79064ab86692d634ae9703eff0da8420072700c59fe1e3bfabb8ef0d28362ba63329592fdcc26d3bc0de86b916e5274e218d8f4fa09a031cef048967c374895001dd668fba5f2a3e6827588b1df5ddddbb43c0083d82e43237f5e3b16b7c2e1aff6637dbc9bd6a695fa6086d34ef9ca018476093c00737ecacc78a5f3a32e18d0e6e68dc41713ce87f4ba50759f735bef9a6d1ccf194ece91b6a55d242c843a0f02314bc52783c03afdb00747e504b9557dadf292766ac9b445e6787eb4237521c452713072148a71828503a6e479a6baf6e4f6ffd922378a8aae56044494821f768886b310583f3dbf365f3985082d1b116c7e6454dca2ed2b08759f87191ba5ba9a7d44c82ed469ba95c7952ba6e29d25bcedc45ec54fadc0c9ee77ed75699e8b988eaae0551050c976c0bdc5a40b7680debd6bdbad1a52339b76d0a1195d81d67b020558f3e8d122215f443ee302b41c89b69b60aa15d6230145981163b73aa4b2ef7e774e5802fd588e8cef7296a9665c6efd5e0f0cc97874e920d937952cc5b245411c0faad7cb0a4cd81378197bee37ca999a03ea970bfcfbfa55d5d4d5e9b215f02bc2717f07ff5aa88faeeb50d7122c6a7fa1076fb2c9bb2946c54d7c9684f3828b4befca0fde3eeb2d2ffaf33a18e1aa886ab72337aab44c8b93c184e7d6a12f1df772ae1f58d73ef078c176500df03d530f1ce13a545aedbbe97151f10c934b05e6864396875a8ceb84c7b6bcbdc5890d96fd95f04d7edd8899712e1dcac25604a0e259f6a608d8dcee6bc6e875c435ea91328eb8d6c4877b9483b6dcb9fbe845ab3c53af93701cac2953b83c2af1ba1d271a5fe6fe5638a413182d3c49c6ae4b62acdf39a48b90f12fed37f5340eb3a2d5b927b790fddb22fb7e39bdf2ad29c3c87dc6ff8a2e21fdd483f7a0fe8c52ae53872577768f1bb2177c6804b4fb8b144fab49761aecc52724943b630508f14a75eea09dec378b7dd31b7ccf7890087d7042297c93751f28488ac60c6fb776724c535aab045b941ca563171180bb3e5ee8b863555a86ee0d6ac986531f24d6c0af7bbadb765f1ce42bfd7efe82b4e4f7e49933df6b0754e5644a918c947306445e9bd5d43d047266522812813b1a2a9af98cdda11aa1b96957d5c78c4bcbde269906726bf88501ebdf62da9d49a2d93642064e59f681ec91d77f4c0b557d939a712164a54fd0aba0c8c96d2d4c099213ee3269c8dbcf100a4cac061506c34fe1217fe3adae2e57e7efc99aeae33ede957409373f3cfc904ca65163837cff36b9254b4fa04af51786f17895461f9f9aecc4fdd4ebe1c9979dc6f9be43772553069c73f434d4dd90b1d5bbc1f31d1a8d263d1294627dcbece60ca1cb89e0eebce7d93eda1dcc2c91c698baea69884f81d7d4cac8c52093a478ace511d36128596e36e78378d715edd2c554ae2ab754741546a93b5dfc142c9996835742ab63f0dcfc06eaa65cd582cb9b772c2ba6cff7335677b0b9bb23b85ead38771fa45901dbaa36c2dde59de3ffba7381c6cdb899e9760e222f729b1755114ae5ba19d42555812597359c20558b0d6e9146ba8516a8f9b170a149a0dfc06100f1b03370c634a0f60c86f13aa46be0667d62cc2c2021dca9048e95349b1375adbd8f710f0e7fc41899fdaddb78ed835448c36e50ca44035193a0fc23f3bdbd34ba4d61a8ab16ce968e6740ebbbbf9d279dd48853cfa5d70c3277822a488c7e1d2f64670c83a7d024070d546cea3554ec7ad35e74879c906c4f7101876bd8eb9ca2c4a17bd67aedbe53f0cd2461355f49d885d401ba6efd8c53eed26cc4904656391198e342926b2711f3766b9bc18076705a86bda5541cde49987a8a105262b0338ce5fc49b0789ef668eee0ffe3b5800919a39b4302d129940c1e5735cfc20fd14b9d34c9e1ede41663dafc752160490bbb805cf7cf36f7b3bc0f5c6a8927640d377b650353a3bdb1e33f8eb43f350616164af525f8b3764113924670c890cd45a5ec412839f287dd2511bd7548bc002fdeef07ec9c3c795fe350d4c03639cdadbb444695238594c6ba41c4641c5afd43b5e120d56b2b56dab6f5860b5ec2c0f0aa55c0201bb5d30d81e5a17f90fbbc987fdad3120e8dda6ea101c05281c96699581a580a0636604985e5948d273832a2859a6f1a40d0cb8d9aab8c9723fda437bc7801b5c8761e87cc4dce7fcf89f27fb933f9cedfe396eaf37fcfdc18ef6d7ab250a851e5e4a643ca3cd4e2d67a169d391c1141c6b30ae6e653c13cbcadb2c13616eb8e71392549338c892fc3d8220eb8190dff6ac0423be23f4302bf1c5d84bdbb19fd6ff778f9d9e9356b6081c8e71775f31514547f9bcdbe1a5f5d1bff1558db392c47df75cdd8b39d11d16f2f7e8a561af1b405c1440223c1b347f8b0b109c40f98aa734bc25a1891b0a8e467492dd5f44c392cda28f1e707e70a1ae938910b2a35da29a10e0d1f54ab992cbc78e0cded5a1dc6486ca2f52c85edc41705217ab30a8f8b98078c6b27cf792876068b2c136a728978b408797e9500149bea259b4a24f6f3e2d2dee5d776d3732e1fce8a9d077c3286750eeeef4dfac1ab81bc5f9b76f5cf3849832a7ab27ac081c484d64b5262cac54bd72be4afb6c212a3eb5c20f8700a57dc648cbcce50f13a206269513bb646d124c3e71755c4e56979d2c3d93dc99c935a8b34a83efebefa6125ec3089792c62ff35a8953a7af375eb66b4bfd624c49fa698e1d971f5b583a18a21aed7c092746b0000327b674b29cbe5ed2590131152abd11a4eaddae4cb9ecfff2ae6e829a676356f365b9c9cbfb8c33a02e5cdf9a312e27e02359054e5387d0f8c9057e26cfb4d9949f9e70eeeaf2f0bc01ebdbc280efaf61eb9f150edcc0198e48ecfc49cf59987aa7ef0cf83eb91fc087d445e27dff52d350d3618e566dee3afa4dec5fc93e92438319294c1737531e93835f9e2c53372d0b225c93df9eef0dcb97cc773caa7a114cb93a06217377ff70abd9375e930c5166a44149f0301d224d1b874060db7f0d5634b227e92f18b353058a91f6220f444954925bc77369f9650262b6e0dc4733058e0595e9e06b82ace6496fe88de8b5b9d9397cc6f87c52d901ae9926652c7fca16380233ec3313825f891a02f37cb468c51c3b7846a5391f37ca0a90257e721503ba07faf09637b6f1d272c0830d62ed204802a1c70cbacf52b7c2d6728641b356b23e104d73e6f58205b29f97b1b09019887a0bbc9b65b1f7dc5ef91fc8b5ecae2716d6af27a59f5758edc867dfab8137b3efd0e9cf6d3f3d07266eb20f01bb8b325785a32e1ba8080f59950d8d1671ae05a066c8034157fcc2c335760b39e5b056a96fb793772c1fcde059d3669c046cd5ee325ffd5a483e5488a5e9d7c3350015910d7b9563b5eb5bc342ee1b590bfbf67ecc325a89141b6138656b5a6f01e6769cbfdaf5ad23f786e0bb0970a92509d1798bd1c0a47d1c53707379b1c2e90769b21dac2e5e8096c28e62684e81aac97f38297ce5c0abc236ee350877b8f5c13f6bb047685501feff5ee11d7a17454d7e72be5296df23ee4354d9d167a7b7417ca6d86a05316b4cc4094f46606014ac3a751b03ea3f52741b94c38add26f8855a8496beec8463d4cb75c31bc5427f35fcadf8d24ac074f5db5e87bd1d4a6bf8a43e54226ce80e75e8ebe0177c8c63518e4cfa1b16928cef6f7d080209be74bc869c0653d70aac245c18d7e24a91f69508c35cd57aa4b282e539543087994d8510ae15b2dd91de4760cf57875da1f4e478ce7074ae2aa21ad37e9c158918b8f73f9c0b728f411ff93a9b1e394761e6ee84c80ab84f76c8155ee65fc6777c9e2bf39339ac58098171aa015c0c1e8ce7e6e2c7712197425f3af2e483c08b7c1e089b9266952eb91fd5869de80d78726bd9b4c55755be31df4acc4b280723ad386011fb392e28bd564da9b52aa66b4a31d00d1e1a21652422d443f0ff144218f23e7c5eea40e658b77eeba7fab6521d7da27a1e81a9f0ffd1beabdb82527e92d409b2d47c881cffd3788a8b5558579754a9aa2085eaea2f7137e33c8b2e3e58b2e946930a942e87275b319e2eb545820a5cf16aa73445d811ac25529d49b143845dc1f24d138098b70409bbaa805e180bfa4366959fe7fb72f4011f6f5f210cfb1bc910b291a62b1c426725f2feb8211cbe916f59ebd62b81da6f0db67204252ad78c3cf111c0ada73cb983b522a7b7c0b7cbde6f0a58732cff84c6546753c1cd67eab066c5a20d80df8753ef7ec6b4fcc4ba5155d0dedb895e71cad4aea44a512ac44e449a6492ac10d7997ed625130ea958525c76dfcab1a48e5b72b393387189aec3c24122c04d2122431a0fcaaec350c32171d7afce3be2690c233fbb26d79bb07a46998a439db76c51a5fff4b8e96ccd93eae04a7677392dc669ef8a39731b318238fc88d7aa6637014a2186c8a02d61f7095d29d1faf131527b13cf49e460c0aeee628349d6927ac3042a3115edeaf5ba8e5876bb83b24d26193ff54715615cda11d1ae3083727fdf99302be552ac85966514fe8f137b4d0f5697203612a903092b2d27bf802cfb7f9cfe6701669f997fbb3bb0d81e4ff9c484e8aaa6ce6cab0cde11c14918e738b33637597973dd530309d56bdb486c0f426112e8d29af5798e98ee003ed6d46dd60a4c2213bd80cc15f3d3b59909985583235df27c43d2d200cfc72f3b7ff35e3ea52458b16cb6884f977ee7bf89839e3481182f717699fd538a61030e154d8f290d542b21c331c3ae0d12aa0291923bbc57f90e1dd99a2a9e2bb3ad8ddb16031b02a2f48db3d8a17456fcb27b28c74e0058169477e35078dc7878a1491e7907f3378f395812f6d40f17b22f56fffa7bcb54b1037f87d814f727a9bf2163c1ff6e91f6c5c64e4f89e594b15473212107afd6668688b34cf163f84e96688c20e8462f006c8cf8c86e885e4d3abb956b34c0510d640662350a049c641c064bbbb897e30b8a77e05dc1e4a532d99789668728ced737c556fb73910f198e9c32df55e1ee73d9dac8f23502222e0a8f6c04fd348ea4ea61b2046c2e38f9b6c443273277c37dad7fec2904efe4c4b8782ea0fc9f28568f205c1e9fbcb72bb8710441814b42ae3e6631bac782bc4d1dc188fdd3fb6d5092e210228256dc9144464045f8d91312b614dcc6c1b8570ec3345a24edb6f3075be5d6ebd6e4661224cf290db13df45f3fefa0d215e3221ab6de57e81feaf9640fabf1fafd4ced0e1211b0315e9c3b7f87538e68871136676f3831dcd56d8d3cf7abe54bee46c37ed0187bc0dbd96104cc65dbb283cdf0144b2472eef22e69c222a5c39b0cbf58940511a96d45e1a2f062e7c8cf5012fddc9f2be2b9beb343e2929db7849de6f14b0d44b44ba5b0ed9da1ccec94126d7d7e8502696c672c6bcec0a1db86fe38240315f31484a08aced5af599c82b7e5125bd5c8364eaabc23079846e227fa508f1d3f0f11b983a89fabe75a004de32fa2d1acde7be13ddfe39d581d179a7730470fd4b4eeab5871815597a40360ccb9bd5bf7d60d74bc2a4dca81d3965d14dcf8aca302dab6a3f1fa85fc9f9c5a0fff128ba17989d99500d17417d201f1c250d794905d9991f3cbd84c0408e39aa52d82b7423f880ebe73c8cd900dedcd220d859bae8fca554ddeadd7dc591bc65980c31a68cb271433c5e3c53a6062e9853024f3e8a534a0613df686d883b92fd72d0421653db5ae0e33fbb3e95d4725ef275bdf36b5e9201cf8417668489f483e8377348b31cd3765ec6e9070b8b1782a72dd56f055277ba0315deea232fefbe879a801d3b07780f86e34ac1acf3116e05906713579413239457e44088d552b30479364c6eb4698aff7f4045ba417292365f6310fecd7ea0db57af3460b0c9887783650b473b2f11487be46375a2748c5b5f65c96b1b6bcbaf9021184f1ce9f5ae4d359d6bb19580c78532644f9d7500cfdeb707216b84321310a9a7257b39878449a5db299759c1fc5590f88144b71d7bed9bc814418908b982f09bee6ce9f6772353c8d77b841c2be36d7ddb67de18384cf498704dcd38039c0bad9427cd25b48f7f246fd73b8ce7dec56613823e0e145ddfebb1801c47643767968effa38cc7465acf70656dc6a21f8800221b13b10fbef79c5e8ed0680e27a53a702d2b40624ef024c626a06d40671670f9826affc7136ae744bc6dc5a0a1cfe72e689df6f647f321e5d2b64ebbf7ddc5f9325e16111651c474d906b3acfd144f704e0c5f43ae46b24697e971aad2f715ca809504010232d9a9176e7b718ffd6ab5f90bd377035395b5684d3dd8c2c2cbb70765c5e4efb043b0a7ea96c1bbb74c0b33bb49b8017774d26cd7e0153324dd0f9e95ebcb159fe0d5dfa8d170c95c40d7b9dc790e002d53219fb76181aab549bb99c1e8b36aeb275824b9a87a6f4e6766495b6a8347ec92c85a761522c2dd7fe169820cad27bd81d091ebe8f43611f05f5087f6ef0b85a77d81a1c3fc68ebb0e28b37ef219ef844b45be485c68e50df2e4f0250b00b42a7c195d9615c4e92526bcf152f607fcaec61ba81e30e3407240dfa75296a03daeb71d2179de4d03eca4078ddd53182e20cf65b241034283b39751711ba5032914f46496cf60dd19479b3bd0264868005c5296f1a22bb5ccdd8a816091ebd773dfb3efbf3dc19ed927041626f64049079f7ad0d85e002b2ed5cdcb1f4ce69b23558510e9ad4a7dae88efea0b0e79c4e6007a8b976d72311e4a953a8127738738618efb8485fbab8b7ef3b5d035880d68d95bf8db9c6f08d83235ae67489ab7091d7c6b3956cdb8463aaa8a816bc45be584dcab28c6256c6ec5153efa700a4809f43953f22f22f9ce907a11ce61bdc6441a5310df35411fda9815a9b52894d99ef6c34662d183e9073fe073b8c426339f62f83b00e1b4cda83ba44801c3d50d88bc06a9ee5a8faa7f2dd2a8c1e9c8a1b6057a4847ca8b69471818691acb044d362a7a8c073b1954c8a3d34d7e06407d1d428558b76088415d780bf3fd823ce6eb8f47808a58af2ebc0ce8e7a8bcb0cbc33e76fa7145bca2b4fd161f16cb889b83c16381155a8256363e1e50decf07d2cb38564dc9f0e94896268a70584630520e432e7e616d475b959899907dcfa4d78c5d7e82cd3a79e5808cf4d466ba1fc87c06cc13775f9f754933467623922497370b51e7b9bdaae9cbe96dcd8e8928154426c74258102cf046e6ffd330c6330f4d5ef7cf9dfbbf5f291e7350bbc31de6e5fdf8626c5d232e766ec128049b4776fb47e62a41cf2afe0d7a8dcb33b9526c9eaf07ec98d42145af3bf57ef3efe6eb61ae0ad963b057d34f41bb2247bb40cdcfe6b6d1ce9b4444836c08f79d2c4aa65eed9008974301b42f7806ac581d5af46e6a665a6b7b058274d3f46b8178d6a1348d4735752dfce1df4aa254df9cf166cf6a7cbf07115acb149a129bf00de789219208d6171d0a4af269da1e37f5c88ed66b9f4020bda1c5f0a1c2886889ecd61bdcb22ac62b48a434352148b454e0b25a66dc3764dbbba7dc23bd5296f52b20d542ff21de63ccb55b628fa0d759b8c1fd39505f9135df6d6cf3facaa048d8cc2f1ddcecc50fefe3c445f7489153a28fb1d3a41c3c8f82909ac52aae1714b2572b9383da9399dbceb8ec925e074e3c80e97ed1d24b33fe3d888a369563ea266ef6c2385f98286be7e83044dd6a901c9436d7407bbc466e55b6d2a778e7eded407615f6f71e47840f4482f38eaf7e6d88d53fcbe75aa2cc1b150e029dcf98f6fddb557ac3891546b64c4e51ec62ff8f1134b432ed354b7906ae4f44ca986068ec8a66c4d4de5bbb88a3a1691eaa9a282964f7a3453ce6bf9f107c3061e9aaf690d93fc4874d3edeaa68ae6a7ce5978c17304da37de2f795e0c83532247d3879dc72395b8ee9e209101844aa35bf01638083a21c227980af9b30600abe0db18b9b4057d7ba48be18d6cdf7712ca0bf6770c87b8dbe94f8bc732a1beeb51b512041c47f4d82d08af310f33ac39136ce72331157362c90a9ebc82fd5288164bd92db38d1ea7c2951b197ee7b92cea2079983ac2934f83ba694a52cbb9897aff971d8d37300622e9a3980344a4e70bd112fee366781228aee5d71c4f5fd0f7c0735e4d20d338fa953f53c25147eca35682245d95cfab1d05fee0d2e1fe2fbc69b355384d060aa243017638f839993cebb9be05b8619cf918afe67eeb72da68e22404051ade8f0e1f916575ac80bbcd1f3b2d1229470af4a69bb82db4af3bf1eea7303180599a23faa2f7049f857c7210f34cf746edd1f4ea65f414b91430ec31964b3b4e19279393668be6d1cc4e84c88cd222c4c91d687eb769f949466766360662d101debd7326f527ae54aef84e9271ef2ac575ad3ba6f4aaab6698ed89c5b95ccfddc8cfe001a4244e2f2be52e6972cca76b3f32b333a04eb1ad112748dc4a69148668d5e9e4263b04539f927e8669124766d5cf0fb0c48624c488bdde2fe4501fd519d1d2f0386097eef4c6c4a140931dca82c7cb01e68741c04211ccf773617e013cc586c2612ea3d4fe7f2a3e94a5435d085400a66ae8440fd20ddd434dd6dcd316f4fc9d992125a9ca0acbbde7ea92888691ac5a523e17cf0fd41716b0792ba028b8cb9c8612b7e8c18cc77d2a6d680964d75196366fbd4a5774fd8df9f2cb2cc9dc2aaf8db3d858fa0b782b95b41a31905b992702ecb90ebce77cc4c4a59aa32059b705fe795fab7f9712b0b6d609a048733706dd8ec01440be2d9ad94aed7022e4e4455890fc2090cd71b2317ccb96c91fb28d20f294448d298118e203680b4466a0c8867e6dc62a28bc8e28bbdfa13ff3c0ecb9467c2df043d4afdb36d13eb28036c1ebeb94688c2a64ee8b76358d70c4cd1b117a39d3fee1e0b81880a9972adbf851dc1586f212226eb249500cd8b846c12faf0a0d769dfd4f80677e2cb6fcf5152f15f0f9ef5224b0a3bcacc36d782e8ade74bd86f302f2ff5eda5289a8cbc9d59e0dffa861ea1ded9f8d2346e45a9315b7905cc940a1a172474f3305833dc6e53f4cf9238603aa8d2a2db2bf39a76005c16e6eda34c0a13ab3be48538828c69e93cff4c68f1e3bcb50d65f904e4b85da6c7fcf9f4dc7e3e0f556a390c5155ee5d4345871c7c6256564b5edb938c466dcde998e8710751466a04fc1f37555e13570b334b96be56ce989f209833c964aa46fbad24738d291320ab48cdf81500df163c9ad03b52ad2b4d1eb2a22c230056b5fa913858c516674b1515927339d57890ade787a14eba7884a7c84ae3eebdca20eb7510e240f6c5569bfe62372776944e3e3711ccdff55bef3af30994d1966889683771e0af7022687916fdc9b0a1960acbfc9c98f482ce2ca91228cf261b2155e4f7e81bf091cd17eed58647346eb119d7f623fc6bb3f78d60b06c658c5f9172f2d285d38ee6621aad99597fa726f9d6390eaafde60b85319bf0c9529929190d0b15e1d713f3f515a3928e07a5e117169810d7d2170ba14a8876fc7876b80cbe9205ee65857b2352354edd0c3572dba5c7e43ded3a95fdf6b237c2554ea036925bb6c2120ba3ef48e6150629453c92778edfb88f7667f5fd02ce40e8845ae4a373cab8ab22362c2b2f77698ff7c394d619f06c9a66b4855a17071e2146e96d2d8c25b50d4185b975acffcfab6d3f067a031f8e7de230a8b03856addbd8ce527bf9893fd153eef6d7b06c730254c2532b2e3f0588314885a87a11c8ec69f76bba562c2575b4af67e2b38619e6d87b6b08390f41d50959f63d9215ccbeda278f7fb9f7f046eacfce73a7a685a36807bc90d34ec8a8b4f82b264910c3e627629ba31cb652dcda49810c95a52075421f260bfa2a62113b6adf8535b6a75f215804a3448598d69c5894285a2f9b9db2631175cea6cc8c20564f8b783b2778ea64172a47f812f9aaef74a84302c41eeaf8fddda50440e6f4834df197573c3b256cd6e1b8078b77b8fa64dfd300034b67cc7517c7816d1a5d9d73b1c7f55c8b374f4d496c7800e45c3673e75528a9547def9154f9a383ae3141d07e96de44972507ba7fefea3fe12bdb77756a519225d3bb785740f00d97bb42b6597145724d5225820c4f0c746bc6b33cb8f074f6b02e341e50fd5f658fe8c2775fc5d88d6b568bb42bbfcbd14f214eceed4ad3e9b04f49fcc8cb284d1eb995766f0e35cd3938c1ce12429dbb244f70d8252c2d758675605fd0043a8bbc063a8fc9af428934417a002420391ffa6f5c9dbf56c85472f3b9c855030e925f0bf702718a21586bf994d7b9b5bdb0566e636b75e94430351c8a86cad53877287ab8554765ccc2dc434ba1b8fe9c9824d597b425ea93dc08ea7bc797270aba5eb676ca76e3a41a6c94c8d008b600c93ce7b6237864acdb8a88e4c1a148597cf6e769e3b41f2e13e90618c7cd7bd11677409019b92a3b14c23814fd09ef29817f941f214b278fc8ca92f539dea82b6037e45cfbdb99dd4d5c04849e989c44378e93f2cda8c190d443216dd47d81ca5ff0455d8478464ca977e0040e5d764b45d83116b7c67f59ba4937ae1fb337dffb52c057cec5cccd55852e3ea9a94d040f5b28f3730355b09317cabf05c6c9e0cc60407ba4f4eb2600df02ef048f205f4620546d318cbf4d96c4d9d8d6400dca5da8b3bbca8310e211fa3fcba4da04c2b56414c1e51692cb3fcac739f91654dd79f8cbfad610ff35a60e8d93824c4bfbd3240e82fe4c25b915a96538b75c0ba69ded2769cc73651e41e58861bbbef4bff8faad07466207dfa4c48ceb7f125dc397b3109c5a08e979ae264a219887cd8e3560be96c14a42dd359750153ef4c10518c5f5815a00639182deb385e0467eecf9b00f13c12037331ce75e3403515f1277437d1ef895959438b7ca143777031999b01921c49a81c948211449edc2da1cce8d4c7aaea337cf7e9d3ab29ca3b9b849d64f953080a818c948fc78240c85a28bc1943d703f5db287cf2204004938bf04e077d00f6e0ddce8644ac9a629492f71cc5e5a1ca38ad7fcedf8530be1450de0a4f2cf2cb2f91715d46ccaa3fbb762a8711cb129b34758d0805efccf20cdaf3f080041c4df6041436fe83b62a3c7cfd3af9db43373a4fb5468102b9ec51518d9e17b378a1bc859c4cdafe8115c5702b5803d098d2be80cfeb10310e87081c24d56a82d142121751a536b5734d5350cce5f90c825964014c047bc76764ce75014c4414e28d2137b25cad91eaf5aa2835b03ae3d52d6ab18940cc18141c4f8cd6799bf1c27ff962ffc5af86b3f51e72c890d613d3449e8895242eb41c507dc8b4764efb97bd6aa1ff867feafcc348dcdcc936381f5627d7699bbccb596574defd94c8945ebeee4b7c97f904b17f61704a","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
