<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"d0588d38254a545a092ac7df0b79adebe5438c238dd3c325f62c47d419240f20ce9c94c036b9f19f91187e73aeff37ed16ec529de218472a88cb58ec3dfc865f64e6120f5d1e9b0d977ee73ad7402d26dd2f862d3e1ceb59d846225a0cd57f3740c2a3f7fc603bf0d3ebcd4ea311d6f5a3d10a50ce22ac3dc455790e97204963229531f508431c4a4538c7395a5c188ea4516fdee661bcec46c374936dd7d8f7d3e330c562caffe101786d9478a1c91a89f952b1f4fd43a349dedc262704e630c8b5af1c7c6f5915a3a259cc3ac3f51baca04aa5a01f0012bee9bd9799ff768ef80d8b7a8936aad3352cf4376ee8ab8c7055ef1ac4f9527c2d7394282894526f6ca55a74e34ae8328231a66b9b4102e3e16288b949098882d370662d1f29716e6fa23723c3bd0553b7f41c7dcce7899c640067830b18ab8fc0c7e18fa986cce6c057c84416ef692dc8c5efc0f1b48df06362cba05084ab6e18c9e16aaf92b14908be06885efae914b6e412b3330c19eaf7ed480850f6cd986120514bf1f29535274be399a3baa188ff372897658c81d667d0e222f547a7688f27a4ded57c9a48ee1e43e47f0da18ebe9cbec185c691c44304b5414e5eb4ef5fe5bcc55e8cd30740ba3cc869c2152837d6b1240d652a762d201ed2efb807a3ce1c308cd27264081b4cc8d03f8e784cd4674f289d5dc34ab09b95f55dc4db274295e971e6b54cad147cf9cdd5fb049f60eca9a762f6b363241d056f8efcbd4a43b87501b24db07c88759cd304e25a96ab51bafa8196f22eab3b1827bdd30b46ec7e35b5ed203531e9afcc2b71e98a42536882c3cd2ab766b667daad75d3804ccdf2bb0b8d750624f4c656f450e8b617d610e2ebc06382547c6e4c50d10ebdd4a36dc2f9794cf7ff7a46ed14a272acc1d913a3a7fadbed464c590c074a95c2318b93d7f539a96e4ca1ee9c32bf3463acfa9656cc6b618a1815556215aec97824dec415d21e56f612fa47bf440aee110b3eff0b061f1224e50aeb0329263f0362f10c390fc0fef8c3116eab3a75c6875c178fe90d879b3bd8b7553d0db66eaf9e6640ded63f6d4f3e7e55db6bc020dc97e60289a25dbaa0fcedffa36a4e674fdbec25b99a0fd97bb7ac8c36eed2964113c89a76d03c743e9e7e36805d5ff4ec5d8248a1574aa7a6c3798964e6a159457fbe89557cb345c66bf957be684d045d117816d57c795dfa9af9640a74ff3e0a32992a4e8544c8c06e4a4c0e2f558892c9c60ae4997b5a0342a6d725e953918f8dadcf971395f614fc667cb7720371d44820b114b6564be5af842180e4743f0b95e519b00abd979583e48f7d9ba7304762313ac2bb3ee60ca06273f6d33976d788bb9beacac1a8a70418f3a06192978f72f9ceda69af0894e9c6bcf6d7e9f4ebc2783977eb5a2e6e6566b135fd5879bec232184e30bb75e9a07a1d248681b368565120d763e8f9a15bce2df44b80953614ac0205f0b2589f87d0f1c2eac387f1715be420d38466667d8a8f36e2d57f8e4c379fe62a2511dd527bc4d7f09a0c0ef2fadfc504451c35efebfbe127c76813a4e6352d9e01cb687f265cc2eb09fdd5a12d04ef9d22d3fadd744cf4bd14c75a9aba7080b1c116a2f0342d0b30a14249d34eb6bb4b4c7fb8fa4d56e5b3eb52ab30b4be4c7e89c93c25575f3a250bb3516c04cbcc291d90af47062b10d39222d555377d2ce321fcba63f9b57e7d5d31c811779b1b357f3eae3cbe95f2ebb26ded253efd4e8950469a0c47b58601f3d148ca4ae1b89e4ba5708a524939c95d1a9476375ca41bea3d61ee471d0f6b5afc5ba03d5c8927cab504afe709c868d0838691421909f4d38d944b39abd9224410c044d2ac9689baf4387bddab20943c0a7d03f09e78ff32f02da2cea778ff62c028f474034f23e5075f2a4b4c72a515ee13a364e5ea3d5979eeb655947eb4509c8b92528240095fcdbdae8f81d688a997471567503a5ed646bc789b3ff98ad353059c8b68d62cb367e3cb5f2cf99dd8242cc76f6b34a426db41612a9965b222a8c56391ca37c73f7770d9f8bf97d18566e2df80ed58fb4796d93606a48fb35038c5c5f62c9cc3354e4eea666d57cd0f9f91f4ad1f919eead4fd0090ea2e8e27344e1338f3ffc4be02b48d30b3e879d23317216674108968fb8342313feb771e3f8f783e40195a8c47ffa05ff2ce7540a8132a182f8aabdb4b609a5bd959806f92d96c7a39ffb02bb7efe741eef7facd098c574bed082aab52d52ab262966fc7210fceb331d0165376a9a5c1d94584be63e232ed330137246b6f2bc7eae651d36e2e31f8b4dc27a3d2ae5284b77590011ddd37bd5ca63967991d4184bbf1084da927a190a11dccda973ee89697484fc38b98f2a512b2c3ff96c8e01279cc034656f46f7101cfb115699f4fb17d9e95a97fc9c8b9a022b15ee2eb6906fa73912713d508f1a7f5dad947ed5f340acf56b2dc481b02552adadf6b71dcbd47a24e823d7e59096016ccdcaa60ec4fb65c5630e321f3f4dcf61f0d5fb32c10a5cbc8e8f7fd37636d9bea74c9c5904cb440c61942cc857da1b2cd31fe969276f3c6c88ff2efebcbc1d2f23a59dcab17fb316328f52407309b56208400d2142806c3687c46166d3a75920698f4921927d9e547a7f12b544e6473482f687e81fab9f9524c73bef23a77f0a70f596297ccc20913db1978e857cd22d38b913fd9ca4f32151c61b05c00dbfd620915dcf16e8fa9469984e8020bcd1ee4096c8698c67c544a1968e8913ab6801673f082143f823ab03ca135c4cfb46b139bf9ac2f66c7f94e4a0637cba493b84cb7cb6c0e84519bfd69386cbed7d7f31247032057d187ee519769b471d9d8b774a14163831855554a48da1d068d5e5fbd04f5853c42e04914c1cf4611d68648c375efd4b955ac85f540a7c49f9620179f4ba1cc9195276ef0b2cd2fa7800b7fb8acd99e5ab57658a8442f43eed6d51ea0fa37d856c76b7507c2be6e8bfd84eaf689bc0dcd22c1ab2bea840acc3335bdb960388e394649a36ef76d0770e1dc9dc3e6116b672f94c1d26a39ad90b4cb683eb8c123d453412133f1a0f47c0fa20d145855a12e2c20f5634aaa720fcbb40bf9912f07e4021cbd86902a297e64f21b9ae283ea07e6834cefce026822623c3eb4d6b5431b63b8b241cc1f13218c0d4310a34d9d518b358e618ee55714f00522cd5b25149bc91633927bc747e26f3c08acfa96a76a29950c5433dc255725f20b8d44947c111cb2b8788b5d0cbff5f2aaecd44acd412ffa021596bda2710777ca036495565c824577dd7c1b69e580e29bb47354a4ef2d1ec4f774f36f0e0107124be468764d2a752346c4eb33d3b5f01efb01a92319fff9e092c59f8a321b54b67fad0c1c44d707504392e2f223d09c1550bc12d0a51a3e435127d813f68f09e07f35b182ecb690e7ca81c1bb6d4e3acdb9e2620f37387d99064ee45334c0eea630c413cc6cf8646ab17695be2783f5290d5d6bbc4ee19be283b6bcc9e9ebb62a97bde7f30def212485907b855a58425e4a5a73178cd4a30db21b63de74950e95674a5522982c319f99f8c659bcf56771d00c9a9f11efb39718fba9aed1ee680ef0d46e4f9c897a0f4c20ed0584e39f76d67aead555ec2ba6698b6033d1e70bd55266452a25f666a7657f2903d6d7397675d30fda42ebdd42088ee13c1d51bf17665c01fb374fc9c59dcfc48ca07eae8eec7734959cc0ea4612adeda8f0d73572ab4619807ee8e24e52a2095c2389cfe4272919b95c755d0cc4f1f942f4067d119aa9679a8c85699b893e972b203ead909958290520cb5bf553b002d6ea14132cd63c9286e14c7fbfa08af1dc0c7215e8b0662d46782cd701b702e83706515df1b098fcbcdd9adf99008418237ef0694a58377755a88da8e3128b12be77cfaa6ff36b1838bfa90f1c15e70771b59f6cbf1e5b2336f2bc5bcda654ff80aadfd89a0eba0c93ca32619970a0efaf22fbcae0f232f406e26b91cf9aa95061fd73d9304c4a86fb23292bd4396a228e91fe3fd306346f93574bd4082cf8766200388ef4c287af832d0fc59ee4e1b4ae105ee6567875a145c2625d760de709e83c0fce7893d2b95b2e0a398c27cb529fdbca6e95322d2b7eca5316b35a69d6a4006b297b0da551ddb6c3f5d7a04d75bb800c3d98d7f2d3757176dad0c574980869ba7592dc71f5c6a32cfec19df526e1f77d42cbf4fb67f93b3f74674328b633a5af8343e30be9e785441d5e1fcc8353e671568a372324e5a1983b1d33fa1248b3b68a99569c608ccd395b6fa8c2583e801fa3dc7ababbdf815a8ee5c92606c5fd3ef3d6aeef4ca2b8b58b33e93e695f99b1cb17d7b3cdb8fded7bec78c9f86cecfecd13a9715a83eeef0ef62ce1aeb919ad384bd3027177281c488fe232a4754bb914fb4f6523ea4e5299b75b3a3eaa94e478363dd40385b626c1f0c055c287afc980c9dcaec6044f25db01c888b5565ace7b27cc89251cb78b5547440a2be71e085f40a1496eb98049fd86731e7d9ace0b9d476ad51761454cb3090bc53a717169b483fdb638b55720c1b3bcfbacf16c2338db38ecbe7e8525777ffcf1000cb7332d87346e3546a1c72a88805f26d70ca1e404c3e865f209d57495861a4cfea4ab70a09ed90a8747ea27128a6fb1e80e6f4766be03973f8c72f17b8ec3ade5d7dd2c7d1c5cac94f653ab9606d9214889e9bbf5394fd9113766b15521567b7ab23c1ae02ad61331e52e90c34bca68483cb3a12d75fd88116a7a3ae52c44d632cc431304b46aa4c2d8732fabee2b6a5507f734035b092a3b1e695c0c1b3fc90abd9c2a670849e3ca7418c30f4f14e4b4b84dcb62bbb0391ab5082528aaf6c1495249a0b59f0f82d43e34fc2e32009c76af3e3ac02583f91b01845be47751c58655f294721415959780f7a47fbaa8926eddb62f53f092f04c0a9d2b4eb3b3bbf229704a5b8415735993373b588c8fbb678815eb1281a85412c95444f532b0c94c410bd37c2ff3f52574537a457193955eee6b59f968282dc80a186d0cf936b60760cb7aab15ab5edbc63b00957a4c0885348e76b9fbcd23ddc4f4cf0f53a0dd00533536083e1203c60cf8d7492b0053511d8c424fdb5b49d9d0c714cdf775547301d51cdbbbcd6ac82b9fff5c8dfb1bd00cb945bfcdd4339c48ea3bdbe4d7a01e5d46ba0f8cc9af13547ca6c4dc7cd39bb8e361e30e22b3dbda1e6b99dd80040ae56a60806a5028fe09d309bb52b44d0bf04662523d3b350f8108d32f8c6dd7998e20e5e7cefe90b2305580c634fcd59a085285de70a970d0a551084c8b29190423f709404975b658fcd530664eb43354763145e6b4b6d438d8063ee929e9d9b1348ffde1bf94e3734586733bb5021875831c44017f07f50986e60ed6b1d51fd1bb5ad3835d2bed9f990e010341d314be7ffef7424d47e429d43ac1f50b4e956b25b1ae6e7468facc7110157a006b31540bcad242ccefee0271d273f70b8f968941155d915e52bbd13c79ed2509dd7a9926a55d3eb603f9ed3f657cfeac11be9c8bf099426ef035dd8dd48710c8634eb9e2a7aa728488f08fe2d2b37ddd00773a53ad0a54acca363ec0ce97232739a6f843b2afb4dad32eb0414859e7df6ba91490ee1dc3d1b746f8e5b4272d9ee21ccde3b2fc4aef0f81ef453dbbc9ce140274a510c6e538f0606cca1824a2ae5163a007be4e0ff14012ae9bb3e46e856adfea98c81eb1e87b7af809610d19baae1c69d3af65e4ffd0e1b5be66145666763afe77b607690ccdf67d251049a2f68ac319a6a850ea502d11dc7745412fd0cf90a283c4cef5796deaf4b8d5bdef972bc0ed3933176e634e8f82ba738ea62c96dab69b628a17ddce78f7c82b12bc83e1d309a1727ceb3051feae0835b0624ee6afd93340cb69d3cdc37f32db2bea06f6ea431f6d2d29be2e248ee8ace888b0e757f6da9cbabbe873406149540f5dd92f8250c28ce40c9a057ede3e4ea6058f7d2e93a62ab0f8238039afc6e359c0adb515ff21ba127b12ce3c9471180e70973e35f942c8b076a597f8c6aa2782403eae5c2b436ee76c35432281a02cc860c16cf3bd0a73201de73af10b5fc525b06a334dc6ff161ecc4140958381661bf1856a84fe11035e5be973e35c5ea96c18ee193c815bf1b8355848a60fea5c5ce52da01f3ec5b2ad4f346a1974b7bdd8dbe33ac71c58628f59eeabe1c5bdeeb5363ed73a35c00c59756910766dbedb01b26fcafb3b8443797c98144136f6012cd2117e0025a735d79e860d229b5c1cc2fd43e775e393fb85e8d1971cacc99105bbd831ee68662c5e53babbbc6d63cacb9a6d18057068bfa8123310ee9ae811f0ac13c160f46ecdd163845aa328866e8475f1a985a2b1da3e96507323ef5dd5007d5c7ae85e248a5c709bcbbc9b0f45f171d4f5cd55ceb2c662d290b961e4dd0700ce00293960e8934c09133eb8c1e8694676920d3a39759da8befa12cff7e3a0fed57ae0e68f0f0d8718f33d53eb9686531a84cda78582e35170595a8c805b1e1ad4f7b175f479458de2c672c1a5dcdbdc86da151337de2e88432ed53cd4f1fd4e8b5fc91e0804b3d36b58277ddad9491b049883c4955da00b1bc83340a7c5c744a39273cef7c82ec7726730342d0fbb8cd69d5e04eba35b6b42a1273cba33696b0be84ead0b5d960eaf8d4598b392919c86c163506f7981c0c6498add96fd99c95ced173e92cba9419e2bba6ae46c988e681b157f5df7000a0d51c2d4b83b8cd5da809dacd5140bdb82f0688c944b6301e94e54db6080dd90867be0df9d95d5a322484a971fa06f495109fa9a08f60843e2b271111181dbf0b81616ae1f884604115d994dbae4a293b6fa18252c68fe1b1c02c441c4c4eb9eade638309ee229a6968e8e81c348c1c01e1d648584863f23f8d94eb9625c0d9fb9c235994b9dc931a3af6b45666c1ab03b5419ec1a5e39019be2e67cce7520bfb2c6e88f6b5a93b380899536fa3c2e80d6abdbe06506db7246014a79cbf23f73a1b1a84e41d8c4465bb25af69a9b29f7d102aa02be90be190a72c2880ce606b055b555e7a322b4a2a8460281647386f768051abc80e8255cbf54a9d95a61e89f03f73f29230a8c212cbf4348980d37374e9b8e0e81b9bd1a2cddafb08336b74b0a03e33c1b078808aa880f141b3c2ef76a2d20e00bea2edf51092d89e4a04e341c2a587e6fcc2adea27d4c6edc4ba0e6b1ce1f3631784c8f4fb3e5aaf97fae04e46bac64c0454eb2985eb7f10f2200fdcbad84ac6a2c8fcb75fd4e2e2cd2b0b855802a5466730b62118d68e2ceb0c54dbc066a978087c153243abb44889295a5c260394641f970a6400a5d34423eade1d5ad4e9ede4ad862795530db99bcdd8f9c69b2eb7888dfd6201f72164529640d88a0fed2f284abc147614ff5cdb961b2a543ee3068e0479b7f5d1d1bcc313665864f71c94e62c56f6d0362f09e60f94e1d6f8defe20addd1098d5acbc978306c97505d5122e7be9acf37bcbb2a589bb83c3a90cfbb1fbc2c2bf2ac7f0021ab02ef9b2ef74000a666505943b8600350c27616c110acc9a0c5675126f45fbf3a3fb3790b7e249a5990ae6d241c4789237fb918408bec2901e0fb74c4821a29d794ea43c805bad24a11a6f8c5803f2acddf8e9d982ae8707e097e641b26050e2a153875039fc80fc9eb072a29a9298d2114da4c3b4b4b65c5012d629f2367074e2a28bf8948d961ed2526d7a49ce0558a45b28e205d755116b69b4860db52d6d635ade7de43de1f64dc50e685686fae63d63b9f78d49bbf21192a5e7b5e3ba3848eeaa91c85564bc881223ba64975297a7fa0308b348cb1c1544622e77c10eaac980c7e742059830ffa1540ae4a15ebaca63d59d63448e107f78e7e076ccbd1767c49fa2663b4f987362a5003c3fbc3f87445515aba6be2aa404081b571f9e50d68940692d7d714138e5c4d41f123f893c57643f17dca021a17a95c2d573fa8d8b36881998bb6a5c6029060afd7f754d694f57bcd5a11a4a0a50a7da161d11f7323e90df24501d6c140044d01eef5fa8fbbcc2518508e522499cc46f8b9bfa2a89b14baeecedc42085f8c7818f294ea8f827a943edcb9dbf79e3e838f8c3dc78c4077cc3899152f4fa89c1f4f74a6e601152618a2572b71aab566cc9779666c84d6417d0f81037d0fc6e237dd3e2fd5cdb78b19930b33b21fa67448cece89fcd1b4579ac38f3bae04744a4ced58a73c090fad39e434d0b55967d3dc01b617eb1ccc9c9cf293572f379282c7a28871f90cd05c300de245eb71c146db396ca5fca4c20644e8ae2d92e488b989fe36a1f03e576862cc556c778d447e5e908d35165ea515f0fb8a47de629b2c5e75aab3b1317caa1eb519beb4913803548d8947fa067f7c86baa5958730c5e5aa5f7747e9d9bc8708e29ecc84db08690140b7ded3c5c2024f84a84430ec41d206948e97e7afe90ad5a78453529de37572b013c5c7552af035b45e2594b23333227ee5ef05534aa90d6d889658617187785a42f60efc71e56c9a585af45187b360e2154a4b2815c54ae2d2fb6a03055a6d935217e639f760272226a348ae565231f62ac842be0777fb6f483c786c0f32f3a4e37cc9a640cecd5c53484075e32da20ddf96a49819786cf9719731d6da97b5174817154519fa623dbe89e1776fd3638b5eaf0839412615b85803788ce50acd0a7f77a008a4e8196ef77b3340cecfd4434141afd77e6171eef8fb0fa6898d6a5f880c2061bc9b17237e7fc73c85c786a944833aa53f68de79b29282d76ee3b8cc4c417ad02013291fe1a7bb8a1172059c420cfa5ce98468f0235c0941f08cf4cffc95b834d05d51e29eb824b513d7953c0e7f07a7750105815e63b49b58637f1dab184cfa11c451b820be19218883787dd873a244781b423262d316bb7d9b45e8eceb5f14b7bfd827499674dfee2098b8db66fbf5c42825ab82e29b4efdd82bcd7a9db4a2289121b9d1406ad683ff9b7fc25fd9310dc1a5860a13a0dcc430fcdc68c65590f43574fde9edc28c257ce187eecfbbdd34e9f910b17c492da44f17c015edec8f1c183636291a0c2646c3e56364e0be887123f242fbe90cb9a44e9061fb4c2b6f261dc54222dffb6ee3180816b44c6b5c7ed7c9dd8f3852e79fe644a2bb3bddb15856da4bb3481a181283add25218e0a1641f62d578da1926d75bb1deb694676fb54f81226a2b2c807a0fd02b301ad63d9432de2a5276dec7c032fe6cfe6d6d8260e34bc76cac4577e9624ce55a2767345719e97351682a0854d6bedeed970a59331fbc6b3442164e3ce5d77456b4df1b64695b73568020d47f7d37ce8f7bcda82b2b8eee766120c90fa7af66e095720dbc0b0c4638418b949e1e12efb21195c7deaedf42427addd43246b1e742ddf269df515410d0e906fa0187df7a606a75cbf0b34f0df32a1e643aa384421eb5467d56dacc675f1759cd758113a77a04f1a56c71cd666359311cf6dbdbf2581c239febe0f35a2a8929153127135eb3c6b75d1165e89c2beefbe3d840972a309079079110f0a1feb3a9680ad340d19c5bad938bae209ce1e783fcfdf29343e47c18a1af8b0ec88909d234169af59d94eec578b84b59c38430324c9a7912f3e102a7b8a2ee7a430a21cd00270d32a617515b038cb8c641f458fb131b8b4b20f7be96e6f014baae548f1ef7908f8f288559446229267f75957dea2bfbd664b238d9db5768ab0fc845f2f850b855e9daadf901f14ec17b3e01ac4db17034018cf78af5b890a179f50281fe8039096c80e2092a5d8ec629ccc46e5b13787806ee9559246a4f88c08857de559a0b6f54c1171f91468934c53c14fe99827218d2e98c599c5f09c10d1700d8a6cfc879293a8f45b59df77723be546c80905212be8d8c66cc46f4122ed94267527be86d73e9d3982d3a20dd88d8add1eeefaa2fd9ac01acd7200d039b7acefd825c84a5fce79f7134ca73fe8e0e7db1b0ebd8a86a1cdcc9d1b3ee79ee3d62b308bf867ce1cbae29a63dede488dc59365f4ff0c3b019777d8de7609381a542d33286272c2e60ab301b0dc2354ef532a91aea09f6c70e7e5ba56d7fd9b72ce40785d4de571b774aed403dfc9d325b77f7ebd134613e25449bfee7d3aed80f97d3995e1b74abd08492ce66ad98bd375029cb19a427c3b041b8aae68a994273e852e14a59a3c9c822ca260e838077dd07df1c22d8655058312ff6d9c324ca2eee1197e13a9e8a7c85f63f01550cd39b76c748849c992ccdf60c453a96fb9ad0fd56af8859d30337db4fe2d990d78da2173b2684bac229378ed33161d6092daa4ec67a2dcd444e7f282c85c6dcc1627a0ba61611d7ad695509c7c7bd32272f94931ac619d455776962bd2f22bb609ad0a6af905351723c70238a50e65f2d775178ce428c8729c40ec04a6ad449f2b53342f1459ba10fd188f4c9665bfe9118ae9835854732137a95a23662b951882ce273f4ee9fd1bb7ea96929d425cd958d3b5eb52c1862df94100c582a5f0c343fc55c77b76c1ed577f3b40ff6b368a50e0f8d38136507635b0ba49748fbddca6b7afbd94158938042752993ba4ffe07d1d4d801acf5e8070a0ebd645a4bcd5e272db4ac779c60e40bcf2b40fb0998fd30eaa397d95a037cf2d7260c8258ab574842bb0e732fe9895572feda347586c19f6d398db18a082d435383aaa3b1f2dc99e704a259f7123a54cd7c37a99666c6459c07661db9fbcfff00f603e76f4c254132c8a9790c1a77c0aac0edd7e982261e43a22216e85907655b816689d165d23d6149cb9bad100ab32f3a45a0539f2d78f17cac60ea078aa40b3cda2f90815129136305b510acc245ea9d3192a55ac748187ec39671da0edaa3f1efbec514d63e56f7add61c6a9b3baf17190b2bf51de04d1cfa976bf411fdf691f2d39038df042e907291d17cb855b12daef86ee00f9dd2fea031b8fd4c33120122a4ba5d61b531cf3f251c296d0bbfa0b06f983fdb1b1b69700c9bbb30824fea2e624a053d2a72eee96ef6ee0b22b1ac41e0afe543733bc170fd27c5b59b8ce4357c37e6bde0dda457e1017a39708249b7e4a7ff412085daad46c77324c00428492578f36523125a56fbabac8a1550f9e982ed8942dc9d2a6e8b7850707978f9bee0cd0af409423af266297bb9feb1c45e86d136d72e0872e4ea22e992e8cf3863f1c69bd387c6ee9ad710126e0493570eff5d0d611c6e59e8abd5e57a0d8fa84633b778bf46d687997486727fed8a396d9153b73310dbe93ae5a99defea4d1416ac1f4598d901a965ed885fad28b6901d168b133e6c238ab4f909bbf4a35436edfc19aa9432fcf9af09b45c3fcddf2db7d2b19fbb9dd0d6248e9034e227e6870661bc1c9dbd188964d961443678759dec672d20e0766d90d6276cb6c1e8cbae12c20b0046588ea7f739fc96e96b3edc2c32dc8e2b0f478323fed6bac53569f5e7629a153d1f2079c041f750ae69c396d6478f0f79f59658bc51003ca457654363bd2fa02a4d6e642caa8f8fbdd7cebb04ff3cf0445b328a2fbdac32afccb3dfd1b71d25a8a1d6f162ca0eba34f5ecc3cf1eaca1865fc683ae43cfbc7b4789ecd491216a4a057de6f53947027030a04a3a1aad4d7cadc1e622cea2e342d95657cd991be7eb22447a6d30d14b6a9db67397f331256632a2d0b3eadf16b7320d07c8f4a458b643e1e8980bea369d43e92aa274aa646d4f7157b1af575e323de07115d69aa6bd8c0298b588bbe0f547b82b216e548b0e3e8b974b05d19208df8426d066e6e13da5945068f73df830325a78da3961e4ad35bd17c65803c17c522d3d79feb17eee2ab4674c9730672ac78206a24f761fd41300c3a3b2c57a20f8cae6bbcdf51543cae2995adbb77bd6cd3bed5b75f0603adab591ffe59b23c8d721787b2d55149d95c44e82915f80ec725e217ed8761b52b8d63dbfb88cd57120937117a92bb0ae54860ee4320750060b3f47b3a49e26c829c1d1d69741a75f406408513fb6cfede304e30e6ad93de17efdc898367311db0822632a8e5640404379d4a619db2fcf57bd5b9adcb6c557ca74db95ef413b41bdb72a360fdca8e7597b7c3f10447618b48c35a165e1e74faa1e13b271eea77cfeed4863b2137d055ee708891137844c0f739ca0fa004b99b430f45ed7e4eacc2d016d3bfaddffb6968ef7b8cae4497a79fec1aba1447d80a2a4c0a42ea9bb95c686d3aad47927ebb02f73c3eb61511f1efa8852a4765885965f359ba0899780e2c48aa58ef42dfca6f40788a77a1a4bbde411660cb38d448dc08a10d5924ebf3dfd5cf6bbba7b9ebff3b65caae923519fc2e09b3c9f71cb718d9b45377f41176ebd68dc76fbf95985664bf1f6ff888a7b7bf6bac33e3f0c6d10641bf018755a3ad26c55dc1fafdd0500907c0f6e7fd4cdad43aeb3528ca5105439316940b6c6c66605d7e9482461b91026c7da7ea66d05af2a85446f4d22b6950c46da7afbe0ef9f6fc67c4d130318459740c38e2f2e612d9f754077e1362a51d2b318b54696dc94e618ab0fb4c126e5e9b6b30cad2a30d370c29aa55decfd47e4a2b4eb2ebab387c451113667102f94a714667107cf55d18f192be3906b0f072637b93aac5302615c53bdfe2ba9088160375af4e865c5c372a1c3300f8a3d014f677bfc51715f3a1231539da2ddc5132a915fe571ecf7cc0cb0b12a52b2930c343c5fe988f5a90208f749b93e748384ea6a98e2cfc869a19f28110d7443c57865d433fb10130dfd5119e536ddd412ce1130717c39384f106191156a2e848471761a46ae108bc53e8df0844571d1daa60c427b989b92ea499f2dc48f83107a391a33025b4b7111a5953499e0686ba0ae70b07e2eb8560150789df88dc07ebe91530f6f222c7ba1f9e7796072208f02e8831f18fc3bd0990d6cc18d77dd1237bfa4c105f614ba347b60ece8c31562b13fc2b7535da4d029bd8364380804555d4064801a1d0acb71d1ab2366ebd25392001b6d3e9a45d9d503159b9aa50b47959ec13f4931545bbb3d836b88efce0ec14de0935381cee850a96f92545910acae579ba4807331455603e6c90c0427d5a689f7ad2cafd3ba4d6e1eda018ec70fc9682b234dccdb70f4189c1b404245c75ed71336e702aae9e4f8b5fdac158cbf88fa4d11aa67970b19b8a84c6d543f8e1c36f43352fd57b5b839adea64767201bd81cc6e94ada10dafe813cc0622d71ae84aa3359be698cb7db1f0b9b4626ab329cf0b88862d0351f72bf59f01011bb443de58070df170905a57091996ef5c255469e6727f2ccf0c77a3f570a2e30e7f540bdcd82e7909ec1f74537d631071b099c7276b22e496f5d8893972c6c20599c8c942b2c7016c2e336331ebaf3f3338b6e2689c8a447d0d67e0a641cbcfb8a18a41e31ff882224edeccfc772b269f592efe496d1e76bd341fc721f892500efc7aba3d2999edf03d87863d174ec856f570c2eff6aeaa92be38a620d11737a7ed878406debd5335e1a3037945eb47a6cfcf5aaea35ef101ca7d1c1e2eea612f4059a4c8ba30e2443d5ec2a20f0b455586651cec9abdbda33260ac92f53adb7334a0587c76c842e220bd730c79ed62c41bf5b7cb61753991f9e2f4ab2e8cfc16172c8980d2750e754214b1f3b09e84d33e20f4e8347a99fe9dafd1c759ebe2e7249b7dd77f1c5828bd5118faacb6961a1ef0becb57c5edd531ed01f7b818330ff1f7b152cc5f55a4ca2225756f69bc7760f3de9d99cd8a277e40dccf48e13a85f85b561d27f50710342a2b83d992f98174017c846d0172adf94b8e762d797a9fa0a5b4d1957dbe0bdfa310668e382597cdb0896d54f88fe9d7a44056b6552491f829a24bd32e12a520c5b98d431ebd311c60939ca9e026c085a3da16b848e820209203693d78bbc6a7a0f71ca8352d27fd7bb6f68209fd006e15e2e8c0ac9d22796704fbcb72d1354f8b935ae1240ca398646d2fbe5e14a0aec5c130af1db3a1d1fa2f2968012c376b00ef2d6da69a17bf03577d278194130f3040c3dbf971fc0f5bfa6cdbdfaa1520f5fb70afc5619ba0bb4a8463c8598f7de7d54f467f2955118037ce760fe9cfcb45633a3dd9581f2e065142c421ae2f794f2f38c9611cad9fc0858b13e9bd56127f906adfbaa22bb10e22634bdf23d1c4bd4e2683fc6fcf76a89cf448c8113f3ed53a5ca4d70110c860205c93e7debc5e662521024cbcecd902899b1a5947c36e0891f29401ecc8ea56b65e65ebd7e7c23132a812ea33544761149b04e95b8121d3f6095cd6eafb2a89f4017c4c8d7587f1344b1c36ccd5a89cb66bf58f4613d0853b8f04064fc9539cabd09e3653053de4ebaca04bc9401e5d79cc7bb5b3c9e0d704ea8f54108f34b265704b72de6bd1a744acb3685d57d93c865b5b96cf5a7af639275ea539c89587b9c854f6c70282527c3e548f5b83c1a04f62c197f4d62602394797990f151390427166dbb54d799a8e9e1c1627b0db08d1c5df39af06daa6c48486a87962f1d891313747d75b2567313e96418686f232552813cc98d14e0e0dfe911e3c1e699caae73920c998aabd40f51a9be07f039f5bfda70951674aca537efc98c89ee78897b055b1122bd2ce8e42181489132e4cfa0e5a7ff924b1b4d45a52540b2c7c382e984cb6f9607594f354646de57bc95626ef1b58a071ad584e069093cd89e20f48baf681f728b22c068e72ca3e418e131ba24f52d8023f816c2b83194223efacdac8806c8ac826a245f9a9a67d34a0995ae459f3ed73c6af8721d203eed501167c738cdb2ec0e0c76563575051260bfabb4317d462626f1b889c851e1b5930b6661436c79da11058a078311f8c617e0f855cdd123cf4d346486a36468b695136536389948cbe4a8b2424f04bc66683e0a5ec18ed050a7d8ebccc7d19ffba6ff8f754c87f5f1e9b343402e4cc30875f540074eb8512804b07214f7ed7c440aaee93bcc7bbc59301b0d4c11456a12f6acc1b36625928cce1344a5f19d4481c744722f5dd41d711adf9857855196e0724d09fcb2ca9c78ef0657b6abd2a38eeeae4e85ceffc611a185d1a6136b0989ceee166a0ad15cbc2dfdc82af1622337937503f07548c8b462acf3855fcfe6921d0bd971551c1bcb5814186b59b620ea33104089e4671718d135ff68f3f36b7b2f5adfa6def48b5726ac7188a303c333638b7a9c29f86908a63e52fca8adf7f06a0b0dadfe592d98edfa6a50db99242783c46a6a3f267d2483091f2305423741027ee674b17769907db7be62b3076c3da0dd403385d2b7beec4dbc4340d981b459449e2beb7dd08bfaf283ed8067d3e23b3e10712387e7e340a577966e0ad656489a262ec0dde0322bb6b5f5453e1e74a440d756aaf4bb98a379ee7e9c1dbdb7e5fbb5145bed709ea8488c5cd0326d17dd0c093bc1d3427aceab58645745915dba5c9cc5b24a11f4f26b3e75b6e9a9a36f5860a507feae03bbde878a83cbcf9ed1691d8ceea1927ab7353d1db062e9331398107fac726cc7f748d108562a9d8bb561c965f6eae64cf7fa1601219e8d7171602728f1f304622f7ea4aa700c536aa124845a57def1f4f6cc4e6a8e984ee8482c9906f4b321675f2d9e4c1a91627ef1e1d188dea7103a83175c1bc02c560f87c9eced80c85bf7bd1937d164a7323accfa84a178a71e01347a35efbf5700ea05786131917e0358be84e7c003382558c20e95ad4eff6a6417866bb39d8f3313b8f52ccec65230273d0d215db58c7dad39d8c1e683b3ff011f0870c8fd9945d4ae75ec24c795fd1efa2ca569fbf81bd1f2d30b91416c05107f58c7201fac4b42918a8311fd2f326ad9e2eaac39cacdfa23011ffee5b3a6a46f8d0460ea832c6b550d8265b9f66eea99129e7fa56126e1db6988b7221e91b7588e195eae23f3cfd1d90892b9bde1077d11d7a4d8bae3e2a5f92a82f5fec03d752128dd3fe8a9347366adce4a89233d93603aca8c11c86615daf47e8a3ccb365ab42f42e952a9a488ccab1f1937f04d0547ad21046101bfe17b3ff4d7e3c06a7da52016079bc06947548aa6f7386ca6ecaf3c54a075c09eb5b805eebe2b4e9abc4dc3e59d403c3665c17cc29dc7dc9a69960a80013f73a8ce0415e66e6fa665e06e08e9154fe448a1476a3d81467da936decb0719df7c7fe0205784237e8e5ce490943152d1e05b47d11422e996bedbdc626e1075ae094f930f874f7540422648335ffaed49602dc7ad7d1272a85c1c6357e1857d1380e386a2ea72df199009454ee2f4ec1c24e9d291f222abe22d2bf7a208bd46f5800f167ba302fa691c61974dbf5a074ac083115c019d7925085f49ed0e68f06a0a795dd039628f256c921e1f18c843f240eea1fac1ddf226329059add38f1aac54c45e70da427d57d26cd9b90b606450971d3d95f9d67beaca454b7933b5ac68279758e4570092689b3fb925c88cdfb0ab2d2fa7a9fe515b33705e27736dce834641c9ffe5da30457eb871be40034c0a107642315e60d7721c3b7b50c42717967bd37292514057f5dfe1ef8ea1de0da5557d349d7d5cd789863a6ad133a7973dde55e6e07eefe3a6249adb0590d20e18b185ac559bfb3e58fff6e24a47dcb5e36f4ff8ce7c4ed98d4607ba64aefae207d151ccc8d4b1d1502079427acea15c15c0d7f557d8d30c041938cd152658d8d78d1c7ff15a8d42d5337a4d1c736e53d67d969e824da64a41e7200ab6cc50c44f6144cedd610f99bb8b8333288568b18e8fbba59e0811d3a0ab82b56d6121f20ed5667794dafc912a09b219acbc85145fa3b548eeb43f34bda15d8b969e8bd6dee7c56e8ae1a57e7ca182dbf8fc6bda0efce098f9d82b624a8c012a24dde960d0f0985a3830ccb231234e7ba5b575142f719c6275ce34f7f62ffa69f2d87c0a93f0805f62a5e7f42f6df6c33a5a94bdb52d8a856a1f2f2a516cbf7dfed6ca42b79302634034fcde73c55c89f2c8fb9735db1b5b672030aa4166b34dad2a6737a3a0965f5a0526a4dcb973e462378288145c77c26f5aa900e04b57fe2056fe78e3656b028dee36da6783c41328cb03848e0b0a298334cd9b0ea5d2bf126bcc13d389d1ae97bfe8a71065a5be2d80ddfd30ef20f8420a78b2558a3f9855538cf3e2980980b25eef87963b76417b24ee221ec73bbbff43da5d7f3c558a466afe4045fa539c49068c7814338c0d766cdb3351f6c7a792098ea8304c4630c46eb34619d5c5d544abeea8822841c2af2604b8444fa8cb86fe0193c3876fe95ced423366ce631f2c1b6a1837f4ba7b66ff2e67bed942fdff53c32556c894690899e0ad876f3657475cc2ee3b4f474b04457f2f273ad7102adecf6e33e6457b6651cd02d76a794ab0679c948615d685b945be1a4482a541dbdfc0bde16622541db5591f1a5bd2c02d2422b0235ea3359f0ad60df9e6209ea366d5dc2ec198565c009dfbc4149a73b3178db94f9bcf61588a7b014d8ae236c44316734fd89c2637215513c594b722a7bd0ba5c52b10f427ef725380dbaa4504f549b70e0929e6c4d5590e122122fe26a38f2da4e3b8535392d4c0f1c5bc1297a7668d7d8c6e27fbe8e1b3de38ef8b17e4628818816b618354dd28fff0a34d5ddfb7d576cec27453ebc9f460c5e15b35150b923c3ad0bad299d6cb1d32cc17dd2173d4345081952725bef502ed7f021c0011c3d592ca650a3ce59e89093d79ee61a98ac8ee3731d78cae4d7ed192f78bfbd96e5730083d579d73657dd529e9acd7c2913fabdc41806e0c5887ac9ea2703debe55b2bf9fbe713249e1534405985caf5a1392c3bfe9be6db094751e622d0654c6dbe0e2749c71147fffd22a35a8a52559a2bed4c4b0867e896ebfde7ce71a0144d551adde90be079fe0a257e3b207484805ffaaa7dd630712394d642aad3743503462293a5ca8c14ba820f83daf33dbb3aa24dbb2317fc2d721316e5cc7ae5c8332afc03cfe39b094773092e3fd686966b64767f56f73efbbe1e1dd7f9e7863b87873e85c230c2ab9b740c7e820fd181abb41c5865263ee95239c0f3c732c9b2d88080fd22b0434f72269182fbb90afa17bb5003e4974e18eb01aa9cf5376cec21de2f6e3ca9c9e0eeddcb89ad6c86656fe39ae22cf81424be3efd4d25cffda4a269e36f97fd185adbe51bae42bb989b14f973b8398f473e41f574d7e178fff115311f9f3aa4c9ec5ca17082cb35ed6093485c08548da692d74bb2d9cf4045435aba0017cca885542cd3b4d3afb54e62ee55fd5e1433621bd78e25ea4997f1f0aff81393fd15e16ec88d874a8f46e34d6ede1d96164877d0ed17d355c3b8a9fee0d67db81027e2b6fe969f66ab3315c72656b20088de69c4df3621cbce28298263e2afc0b81451d97c07d317a55911ae19180e7d7c249826cae692fbd1c55e511b1d64ecd33c96eba37f0c0cb6f235b7e91741d497ce5bf8e470d5a455c477648e953599c8b6016a1c4a5807c65c669b26cc2ed36b008463bb901337c0b8e12d13fcb46ccb477b46a5176ce54529d2e3292916f7dd990ec24ca62b462ec711a90bbcc23c546ade1d33759423be301b10afc0bb9527f74d0a5829cadaf0178dc220ae154c5f0354f6578f40fa12086184440e75db34b38a674f6ed18a889a78c7e61cddeec6b447f201f4ab8f31d41b1372263263e18227d8e0045330b353a98183f3646848dc3db3676d6cd368287cb2bf0010a1599b34041ddf4cd12aa64537025f2469047115e4c22558aef5209bda8eb7a48a38829e59552a054d75ed81237823d22ff57c8129736b65906cfee2cd517dd11fd241192e151922ad4d2de4f88cf1a8c8911b59b96a0df2ed26d67f73d173b62cc83329821b8399dc64e2731c06f66c82592c609631b31b4d7936a12f4d0beb9a37f8b3bf1962923feda17d61f22911437479f5e6cc2348cba3df521484e0c93857baa9d8e0e42220dcd740ae10b2df41d8961009c4879f1e4ccb078cf218bf2fb5a254849f488fa9db14a318a0de4ad9217983950a07b20c3bfef1bcd30275d22ecd1a2db57641b6c451e353e1c02581dde7d356ac5bc323eddf2c2a8d63e999f081a0e24c68d070548363dca72aa96dd52047c496fb16ca6b1dd887ac8bf1f99d1edc14286c4530d1a1889ab7fed84118cb95e82270a1ed2a8ae23c55873368e257a031bb720385b447e610d4df63194cd7cd9fa9119b7e063f61530a36e2bc2d1c6403d3fc800cad3ca18495f4667ec34fff7415d89fe61d1e37299fad7d90fb36ad34305a527e8de1a3623378a207828c479c2d07b1a0ad6f7851fdfafa71e1427f11d5db1726e6103443954251f734e5e5897d26c02b454e78ddae17d0c8a62f87698529d5083da2899223bd5d4f63dd4a76887a837a79aa7f94df0e7a0af3fc7424fe894907c20dfab15cc3ad50ae2a09d4e4a3d77b6c9662bf00289e922eaf1b8bd8f29d99da6ed09463ace96c8fcd74ee3d3d4eb17d55da0fd9226f06c63e78373f1d0a141ce23413e30bfbc373addf5966140bc89dd92b7494cb117490803f508cace995e53e191efab25d44cf1cb45c405ffbdadf0720b6052d0362ce087700d9469e8412daba5b6bdae43951e75cc5f6d46938fff909aa02b2bcee1b8a7ec7f9eaadbeba0c131d890f88fd6f380d908c1d226eba559828bbbee705797b8e171046afea6dd728c126b60cf3696aa8f968950164529d544369530b1cec57b14f6831ff3b01d13a823e5a2cb5a109d9abe6b0cf1b0fdbff978e6d32bd414c85ac002be1828ae850a76a7df6e86d3a2a4347f0b20abf749d83155d36b4bae4d1f1c723e1829dd6506bc512a0c6338fcee2a1a05a7a8fe0030da1310fa8d2ccc3fb305b70de508166870e57c81d92577289dbb0a5ecbbf454c842b2cc17576fc83ac0e646c83ac47c7fd8c0ae2eae2e1e6ffcc1d345bc7c59f72a0a5d4d3052b1b07d65ff6218554369909f8fecf0eab4d37cdbabb1c355d13065902d1c63dbf57174b27564cbaab8f3b9c751fe10cee4013b335809c5dda5ad5d03afb6b06a65ada8351f9e79d5dee2946c91fb1e0fe7997455e05633d16352e397bfc6d8c9fe15cd68145538498504b69104b66a8b46abd1b46a9230901886c8ee14517da0e07a86f71f869d8e4a734d56edb5f65575f449ad5386b1cfbf7577544fdaaa188dc7cf09a9fa273300e2b0c2ab80c124c511915ec5f936c9c21842f5a0813ed14e23240c29ebbf78efe6361b6b4737561a90d543dc68c3a9ee930a4dc904989ca00c184f0d35a960e5881972fa177e8bee302e84b7a41ebac938be8a7416e4b2ecde722c73592925b96df579a64f56bf4f7c9262d4abe230c13e16875b930adb3e3eb4e5f1afad47367cc560cd60ec890afa2c48623e0beb1d2231bcbf28c8972e55730600223aadf8ef4e79cdd367bf3d12788a1c2ff3243ab126c046823f2b66b8d47cae73c78a99d471f30278f018f7751ec3257bee971f18a65b4f5af5a3656122dda729789ade86f62127aa19ff9449f38be33c458566017e623dab9362a6a672b4b3cd70f0ccb09023a8484475283a4ec7b8604bf7f99d46e41e8fc1d9e3e7618fec0b35150cff929e759353a04f710a75f09432d3aee1a8d066ccb315c96fcd91a5bee4bb039889a9329e9faa3b40c1a15e610ececd427a8a26779cddee6e066bb31812faf6b481de486399d2b5a99c3d701e5bcbb51b05c73c8a61b0fb8a379bdf0dd48d6f3e0f447f7c2ebb4d85d56a2aa401886fed453d11530827f3a0b944970c585b4b894b2765fc5a0af376f4db8bcdaa83028b119b346e3be8f7836d7029bd8b90cc28798260a7d57276d8d6990dad5b6064a75446923f81d7c476e728f0679e1596c3e11dda9bc8d708bc785ffa1b891be803c57bbd17c8a2648914af39036f1e100abc5ae2dee88cde38e40665ec1b1ece5a059acd9ef0b42b8639f269254119b2daaf10324daed7ff35a8669cba10ba83c5f9ba28a26bb8ac48a09c01d1e273a8ad4e0d08f43733a5546ae6706c2f967dab0405605e9688e5c170ec8112abd18b331623588c1c4cfd8d49a9db2191e0eb89a85a2e6df2dd90959b0aa715859949ec6b79d66406da5265f3e43054ec969d519ecd610bed463288e668130f60e8f2fbd345b63ae2fcd278d47e590aa243060d64129bc204559bdf23d51709b2c07101effcb41bf1404cec55aa8128032dfd7f7cbb414eaed6776e2a180c01f72012a98e318a3d45b84d7c1a02fbe5f50ade8d610b3958039e783601774f4768e5a420abe69f2f84942086983a66395ad692d52e9526aab3d469f4e23c2784b726b3edbe3b8c2588a8f8bb5071dc4ab910f9f9f222d4b41695aa0bec3386c727b887fb71c08cc30a5386c78b9b4df30cc198bd706dc247fed5821caded2104169d20b194b3f331ba0ccd497d0800664587997b0eb46da384d42397fc0dafd1fa1fb540442d3498b2eee7df8feb2327c4c9940e3ed059fe2ecaa69fffbe30f0e87d35c332a3af28d7ded00a6db05cf79c537b6b0ff723553ea30073098d25bf5e6cb779226c4ce8a02a53f45fbfda21362369814d1cd461976f4e09efc","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
