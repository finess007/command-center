<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"4312cf92253c5d7b9a0106ccf3eca2ed6ca8876d799cf3982b705c45c21f5299783408ae44e4734363f37fccad8366b40c2770a1029f20c094060c4f62e0e97057b7e48cb67b480dda1789f12b7099be9bd44369044caa0a0434869d8ebeb2a8b9972dceaa72b7e91fb7742f2f23956a74db1afe106f66a0c3d3196a51758b4f678129a9f6bce106cc3946f91df6c09de1424758c35d0413aadba63a243f79f09306906049e04ee122678641937d8204ac0460329f18bdc3e53d979368890bf42677be4a5aa4ce57691a42a34f3844f9248dec3c2a15b4a845a9a558090cfde18747587d39ddcd45581cf85023169ee106d3bab1c09ed3062033e3fdcc7d6ebe305986c03984ec2c451694e9cc14949c3d05bc15d2e9d8035df3547f2e069d69d308e944ac90775ee28c7d439b2afe869cecb246efd54cb8cad8debff7309a53ef5edd6874cd52a936ab77791199a27a51f7d881a40e75f89f623c025d4108458ceb71ed4c5af1caaa424af5930468b438b3f41036b6f69ae4db8d155498ce5268c465f8bb304258d22a4e83f43fe3fc06e31d14688155fd2bf3c6c2a95781db9a0e73047a3acb440e8773ca8025134603d8c39dee0b1c25372d9fca34142c73801748dcb3b525a0cac79ebc6dfe850c8faec5f93c3e8211d55371553678c2257296d51a8e4023314189ed6aec3f91dc4783cb7f747fccf937aa46072e7286e73404788d5be6ac507cb1d8f94ecc046953014230bbd155abc2638e53cc7db19f4b9f6c1cfaebac4dbe0a02e489383968dcc7eab433de9f37077b20b717f8a9a4d5e6b56e072ead8f5e162b3cfa36e96deee72d22f58bbcc8df616eebfe5c2e2258e7d3ef288d9d14fb3ff8225d2092774af86e3b27186e0c956c8e9f1f5e4825a7e0d76d2a0dd85d7fe6c681cbef81e5c44f0476f115a4d78325dfcf98fbc5ffe17d5da3f1f2fd3988a417bdbc07546a2c8bb946c6550c9461c7e81fc8a71ae6f77dacb13e7c25ecdb76c65c8292ced1a296a4ef360f12deb5c4dc0faef9902a8178ea69eaca2dcb7150c26b13c5ab42cf8685a10a04c3ebbc1770349ac732d93cb9556c78c52d3eb505c2c9fb3b89e134887da0378a5678d9f4dca3df683240a12cb8e55548446cffddf817f3df352b413c9ae2411a2e4d58e5b8356a62dfa803ef92005a86efa2fed050679b9c64ae3fbbeea94812c6874bfaf18690504bbbd5d22a72ca34e9fc4b657156ef6aa81b332a397300b3101f4f6f3fb3bfc18715e11ccaf3164bcf96fcf306a4bfef28406b9fa75791004e2120f7ee0be62a1d2003bfe40f8e65af7ba822f3063dbbf500f1df4fbb6cad210148356b2a3d6596105ac70c43c68ef64c67ba8c5cc31ffe54981d3fbf16637bfd43540c67d8717f5e853fd103708ade45fcad10f14feef190a7a02158bce46f747e2e7aa2840d3d0f2283358638028526f8435ce439d552e08f4d666f00f884b96dc39ffd3ba7d7c304044172dcee8ca396e1b9e18a4e562858169a466752ee5bdbcd60ba0d9926f4b8954707e4d823544863bb1c15955339195ddb8c519415d2ad897b42348a860e82a894d0de543b62213638b08320258d6fef4763fffc368689b3668cc80284d6aa95a7a20f391c2f7e8b718319edcfaf34fefdafeaa0ff8ce73d9945c0b23710ef3ca18fb315cf35d289a2c9d4aa7a5bf257f9d1358701dd486b55641dd1d1c1be2caa41fdb7f6203cfadcec222363d9e852e55665009e821966079bba7257477290a9dbcf93f6a2a93609968cf5dc8d2814721852d5f2aa97f6927da1c5a9f8ce251d891d014fa0d6f6b9574d0de32a13f490626f6150889a4d3d87d3f33dca6d9084582b97d0370a0486dedf86466a1df07f44a08fb55f4bb050fb8a0be1eed881d0c9b83ba956f7d547570661c5dd17714c3bd83cbc5e92de77c230a9b8b06b97e3726ff67d3b9645f3ec37dc0c1057524456ed3ccabc1a63be17c9d9a68722e523888f1c2ca270e864da4d60ba461bb30f85f6fa92b4b785c0bc6f9b3d5668afdd75a298d1458056f4df2a12dd6e439c722293ca03fc6df900fe4bad697e4230b660f80ae03bcba74aa16ff44c3c00467163226181b775255740b58c15a75b2a8485920cfd4c4f15d4009001223a0e4116806264fa1bc0053b09e561706bc157febdff09cad468a8cd0e5a831e649f25d7c88449f1d1fdcbe6a05799675742b855b75f0d19e082a7dd0c766731a4910ed1a460b567a199b83c24ab096e26903d471a9f581ecb0e3e109700ef47d9db9eae8589e39117fcf5da0f2b19abe34ea4e71c93d70aafcd89a8fb72d32c54e0a593e80063a64309fd76b1ea132b4c6f6444fb0718008bcf4a25eb402abc4c41f028ade45fde90489c56191cfc11c092c42a8c9f6edfe2ff3f5098424554db523ace964fa819be57893e505cc500fff734d4cf3fb060ea3bc341c4565da78290282d931bc4a74e02368a05de9a0d4369ee3e88c14faad5dd9f4f213f7d909afc65981963655bdfcbaa01cf239f5d0a4b14d63ec2eda5e3d2eb70817c71231c151fd76994448e31b9b18dadbeb1d24da8095b10942e001fbed07c97cf78f6e3050b3f0a1649823a21f937860b9736e57050d97c5b8231a0bd02c34bdab29da9309789b8090a0147567d129b1cf920c3143cfb45852399470590422e5149cc11d768f1c3abbab54aabd4f69eedab6a3ab4a8cdc704a654b876fc1a19a34bad6b251939a5dbae6a5959b059f27c867266e46eace2c0e42d7b01b33e077cc874a41ca944ff39359f7aecee31763f9da2f380224a2237747dfb5234f8905cc1da7b3227522cf1c6e7808b877000fb72ccf35367db61678bedc5a91033d898086036304ef0f9a0457ba6dae0dc32f721eab6b0d9b86e1c03bb322333a6bf85d9c0d2eb74e4b095fc46d258965b2adf861aceedfb8f852c3cf8969eddf14ce1330b6dfb6d26866e952b8d96eceafb0077c0c8a29266d88506eb4161666400011611448befda7b245bd985f92cf91afdbed8d1c2e8a7d2651ffbab801960bc482016959c752cc36e827c62c5d82788958e071464f3a4e73ed3de8bd5d5b5f0d2be6dbed00f6c9b0a76b1fa2c4c7e6a8bad2a5c87a89821bba018ebc5992a81e4ef4610a44855eeb9b0bbcbdd8ca53124ad508f4b3dbbf51ae9f7fff4aa69c3c8264a5cbf4fa5f1afee90d25db979dd01985d9259dba31ae8e9d3da853695cc9f69aa68fafa450bc360e020ac6fdd41fee3c9c4de880688ef0b846aa3bca802f194217bcb32696a19cf0aa883dff0b24cb0353bf1adf8622ce9b5aece145a49c6edf78943264d0873e9cf7e30342889a58a60078aecfcbda5d3e5f9a61d5bb8d34f06905cc429ea2a4a0ac252bf4455c115a819fc735ac36dc5cd51b19e802423af74142293d0672cf75341473ae6af44052788c11b85845e43940029e183f44fe80b9d90fa28e18e08149fa4e55741f4fd3794e9a632767b92cadfafc6622cd12d173be9e5e05f1be373968f7e841fb474bb528e9fd7aa64efbc22500f72d93698137ea8fe1c3be3df56f729c301ed9df2b653ec8160730e0cd86b191a142d13c9c6cb673967a18edb8360b129a08807ce7bfd17fe92ef91530e098901a638659caa00b3de4ff5b89771b7dbd1f51fa5d2d5576bb3eb921d39eac3c5f6431120fcf57e919cc2dc1068abac03f7ec61047a557d96695344cae7d838b89cd6ae478c59522a257c60374b0776485fe4d0cb9d22745218733e2c44e058a4af273eb0377571ce6b2e4790746994e92e7703cb68bf94f6ed499597d7be7198955581c11bcfec0260f8fa672ead2828425621c33ec3c06cc39f1e149820b5c25a37cce0c9a5018e59e38b716f0faac4184c7a2ce105860ae5cbd563bd554c11c3ede0aea450ed1d8cd32d3d70c480cf827d23d04ae46ee602de64bc3611495b7cd63282ddde0e62457242797c218dc71b22cb83c6f0296aa70c07fcb96700f41abc3c952a114f7db63a4abb84678820008207e0afb357c05e2425ea8116704ebabfdc22bd2e8e34e26acdf1ae6bba1f588ad92880ff6ac848a44f5bbe37ad4668bad80ca2f9123673e6459dddb71e62a3de1327dfec062ff3999c900383e5ed4d6b51dfc1ce7611a67d71cc7c6fd210fdfb117e13a0c8fa4fa28b7c54edcb92aeef409dfc6a83b06012f0bba7582eec8d4f158508267520c4da92e01e2534bc4fc71809d479c71c144ffb1586cb5cd2fc97e9e4824add252ab53a970343ee7c15d7d98684d80f0f21b981be8faccb43ac3f0fbe1a1c517f034a882c294c696f5b8cc83bf492985a0c588a112c5b5473ff40e9c4efd761621dd1ea85055a195128495d43d500fbf8139d7d7d3c3bb2d9d6ada3946d340d49935dd162ee3df616af26c1ae236e27cb475c5dae86ab7a4e9163cb7ae6e3ee32193016f6407a81500cf4669f895456a60844f05b705a2ee6464072ce8502612d5e0d6661b5b047354485797ac8f5bd90be592715e17968b54a8169bd6678780218cf050df5837885592d88338912a5b2d605d8303b8b40103625b199435f024a088b17eb1d99ef126e7410a630d940a5adf17d10d469aaaf9cf666b1e7a7b78aafebd97e0e45d0c8477c38453692768ca04678ceb8d24b8ea6acf16f8bb1b8f6813f9616933b63fe4fe6d468703608d7510019dfd0a2c19a5f5f8160544b32d09cd956f5c99395c850e307557d622ddf6699022047ea9e9f04004f6f8a39ab80ce1603446568c47db926b7cf028e44800064ef18b618c1cffc4ab2ec5f9f7acf7af861be17a3071886acc35e0df27565a97142e78182979aeda9261edac13a100c27659e00dd6cb870b3eb690959062334f39fd36d0b9575862ffb8b731083e8728bde487a75c7198847991fa54d8411367fa61a9d68e95879e31b0ea69bc496403d8bc22c1aa2e2dcd6fbebdf6cd9148ef1d75f4d41ab96c031b7b97fb22953c3e234b9079dec75fa021a7ff18332271209a06caaae926bf83bd3977280beaf122ec820afda17180fbe1f9d55ad62508c58d022c098888d915af585ef0892f031827b14406050e0038cc432b6298d47822eed385caa1aac1f31e53f5d3637da6616d2402d2dfa10736a0c38a1c3a584d7bca900bf06aed67d8aaa378afef8a0dc245eab026820673474d5574eff32dca922f75fc08f557656f2cd2caca9f9b7147691eef0d38d9b3b3174270e3dde1a6d865e17390b1724b3bcf2fcf5d8559f3179514048d8c6067003357ba9c8e8af759fe65b6d39290f586ab2feb46062b5b04e355837c26870ed51bfbb7832b4733df96bf37f73625567b70d5ac6d7c01ed7a4337411469413f17541250b4bec1d79f26b14e4997f5166ff76fd6e8553643d84ce564061631b18a5406ad41957f5dfc4734409db3a0fa1f0f98eb8167e109136069e62eda632ddf8820eae2f56b989168d0775ab7a4c97501e595071e7143ed6e15bb60919caa0184f5daa21dd9efb655160abcafdfa57fceb258b876e6691f2f00964729ffa0b56d692ee41ce14510f945e9e49abb51b8026569964effe1ff45f563a877aefaea8bb480a131c6f3733ab403c2ac77b1915fffba9c40ac8202b8d43cf7cf0157b74384cc88b5281f0f4afe6a7e01f5b3d20c0139012f1d39b8aa33aafe8f0a813262e43c9cde4a82ce287d882262f0f4fed59af48bc6d5769a31ff93bdbd1967c0171a9bb6f25e5375c297c2459a79ce6a573b0ee9bc2678b0d83c436107d77b708ab441eda7342a022b5c83799300cf0208fcf513dec5689d4e3dbf821ff52d9da6eed26e9219ea7fe741481c24d35cb648259034842f244fe91073ee3ceedf93e283487719442366f7306bfa8db80aa4dfe83b08c0bd5174f1dc3defefac604b39fdf27c7f6632efaccb1f3508b0133afd111b01133a01976d99024d56021f29b44d955f317724550e0174a8e22d65fb6410f9d64cbf58edaed8c60d39b3c7c1714c6175a0e21982d6135d23eaad3eed05f903b4fc852937fb941e097f37e0624ae67ceb59ab309612b58994abe2d85b0ed0b98af14aa748730ea2433a9cfc783a1cc8758122971ad6f2fc94f9124ec5106e9ba495373479b79b59fc7ccbfd0b1806ada1e3cc82ba3dfe67d7e1280a1e3a81b975621b719eb59486e8c9f3715e4a6c357185952e96ed47d7fb3dbaef2241411dbea26fc4b7442d57f956879de58e65d885f21b439964c64aeb1bc0fcba1bf4537c81ac15ef5d1d3f27e3a291be3c5143049959d7ffd3e44e45c0b06e64a643191e3c7669840b6069e38b043ccf37949bd9d1f0082a4711d569c34ae257d6ab8fd3a24a162d78534f04559b8ec16da81dad098a0b829d41a640fe4ace1ea3f6802d73391a835d547aa0a63dc9d347bbd368142228c2c6fdb5f02a41c14fcffe53a7a5404112960220e8c693d8df903b05f4c3f666185f039fb8611ce8001c9887748b0df7e2c05d9f444fc81a1decb380878e318914de156eb98210df2757d3a4e128e727f12ae6858ba225f05f70f58deeb6ca6d9e2213736e330fe6ec24226216499fa83c521e5cdf41b976f343b1d001d47c37580332c9975e02c17979ee1ab1b2564fdda86bf637deecf60abec4cb99166b19500ec86ada67ad83c81d8ab129fa3d280fe1775614e678951aab8da0f16a1cd6c8bcf094a79a5c1be4f594bb665f3a4a75fe647a091b889ea7f88b74bf86c98ff6edf9a6be0ae39501421c662cea3a9f3dad808f321fbb6f18b179fb573b5e4592b71a5f38033fc7b39ca199b329bac1b9d4482f335f1ecab1a908c68c16a9e642e247f6f7213d8d189dbff0aa36131abed6ec027266ff8ea427a1cf0043fedeff0c691329abf96f21e40ecf2a937f04fcf86dbbc0531c03ebc6bcd20f23193a60f8ba9473a81de434c952b59c4c0985df630b829a36fd7b2482b698be202de51b7fd15729c8c92636240f9b32d1d3b40c8aa4cb5021f5e62a768508c2b268662b1203d780be32df8c97bed90ccd667791ca33b7c800a7c1267db98574a0e8449c17b1a6ec5ea73f05fecab5f0467b07f980d32c0a3d40e581a0cd83c7aaad800135ac5801470cad5604d4fe8f73fb62bd8f192764c10f9957ac788b6659c4c4791bca687c03152c7f96723fe747727b5afe078728eb8106a2128faf7248c373751013c73cda38136a6958bf43777cea4a5fe1f4e708c01b3f3faeffb23535a99737f12d1e26948749a8c706a0cbd4c624879e081520e46ffbf4fa9b4c907d50140dbea724beead84d75b538d93f250b5c6a858294ffc1add12f41f712f938d46ac1392478a51368731e412f568c60cf26c0ad9d55239e8a6e39f4f04403ee18168f3d0aa78d52985983b253ce47cf1326adfe64ad13f58976055ce347134e02342202c4154e2e4479cfd1dc79742d64b908e6acb7dae98eeec78f625fe452b227385126471ab42435a1efbee24d3d4c7536b990253c98df94bc8f48360c1cbfdb4fc5135719f70781a7c7abb4c1060d052673b71777fc47c0696c8864659d9881e855a41d9b6706614c98babb0546fd4621ea87bfa45146718a2021a0ff0d3a25202c969ee1e28afbda351f3d5280919e96371ab349ed11c7d12b536147e89387807ce2f62e36cdddab182484ad2c198ca5e272121bce736933b8844565fbbc59b033cfc8f838c27286f998ba03df089f58ce8f600f1b84aa08b221707bf61dce9049c0fa2b5c51a5f4184b508204d40366c3d1fda9373e38bcc636984e963aa11884410cf77a47104e0bcb8ad5da145858bfc881dd7f31344a1abf19e3136686a6a408b204fecb27a9659fce014f5c744a99fb60702126b7dc4c34bd9cbce14d425d844704789986a2c0f60f35255739afaedd21523a1309e6adf8f92e4d0eee20d172e6a74daa45044904140423615b69178b7b299c3bf631badb68bd9cdeb494ec545412e2cbe0fc9680ba14b3fd92c7bfcd74cfb7bc7db621d113df495f29adc902b63bdedd21bdc27720f327853df30e4d49a5fedba9e6b68968848b51071785df1045c9eeb142258f3c78de20d08f904690d192bc95bca9c538a8e9bdfa96974084e46cbd74d9072d50f7efaa5b6c7af478d930268955aac667faf984916c2280751eb18db56365822ae09ad135bfff8d0ee72b4914d643461c54e3eea06f5561c092de470708dbe7535db68c752f6f2288f50d0352759c2aab65dad73b47ce5922a2f1eee4103ea5eefc8c0e6a8812fab00520429709ad14693f358720d996b4a9ad414f2155b59055aaeba25dc2ff31eb6c33dac93b38834a55d986d8c245d48531e0ef771b38f10d7ed0a7bccb097572f3fbf7a6bf4eb49c45c9e9c03d9a312f987de185598835cce6ce9173bd662681a07ca8e0d2876b301658466924b1bf3745273c1b2cb628642c0293bdace8e8847471e44645bb9b4db262e1f82dd6fac38f1d47346bb0b6ab91349664aa76c16b12350ad22c7c7f05bf153e5f296873170f0a177b82dd5d4505551596911c4bc44118c3e63700a3480d9e1ba5126e999c3ca7bf616723895cdd7cce487fd4c69ba05f09691f62ba35f039617f8e547c3917a581a41d3ca479ac474c342e8ab7e4c45699ed59fce85454192f39a45ffee83857dfa54ef35074d88e40b0e1305e184e06b685ab3eef664e246730e6c3a3fe1935a65b6782fe3b1f10f03896eb50350b0d09734eb669c8ff2468d3a94cf4b62eaf21fb188ac298feb49bdc15134ed4fea92b4699e3a28582ccb0b8036b87119a3833372fbf805e06a998c61984017e058078f22e5c3e5078ec956569eb8af3115aa636bbc1276627858764d1df1f2c808874e163e92e3202db4dafad7dfec4a147797816e9a7fc1328157c078fccd091f60da40cab7de8fa1881fd7c67e76afd008bceda55569061fdbf293536f12c5ea8f89b900211700514dd2ee91dcf46c32c342c6025b11bef727629b05d8aca7bea66de9b5b610188c421c0362ec207396f7013a6a9d21eebdb530a9666878dc091cbfe401be102458db8096d7463b9cbcdb63c46e675dd8219c8299c5afc9a92a7d1062bbcd0bc552c4121e5cc8b917c75f5d2b8bc26976e80e50caf50f3a1bdabb0ea357ca6d60b8b1c302de0eaa36add53cf6df434a1a27f03b5b3ec63e2aa01bf320cdb4d7f3c0579822a395b2ea5b5fe65916935aefbd87dfe70b7c02effff91d8a6501ce119ff263d362e099dd818a6e335ab80068daca155900d352b4e92f9bad107c2cf53d065101f7d923245b152edf89969e3a6563287636a62a3fe07a0c874d07942d1e64554a6d26dc7e11df424c4882d80668f5fa2d4642efc03732d758899656d21ff6dcf17373624f775276caf581d2c5da7d16b13217e5f8aca210bf29d53f963974170e5493b7a6391ada6b2e5790d47bab736333c081121746a476d269009ac77a63dddf52301d9e2047269180ff5035dcde86cb902086cf062304da781ee6c73bbce7e70d54410d8d21975e5fc6b2c113d2743adb973dd9f4d8e40c59164a1d3f58f9b6fa6524038468681e55802f301d297a66fe8ce83a67d27822fab4a4f39a9f3042a444b0f08ca14b432c63e8ccd31f54b8ae3e95f9c21415bf8f9095f71d8f964a8759d620112a8aa8d6baef48b6501dc6ea85b122d5b221d8d06b2f169a1428b98fa1e4b5776c2ceeef9c7f62f09636dc29d5e197b97bb003c4bd59334747f1b619e639273142668139f2ffce9d59aa65b249646a5c759d28bebd81156879348ddd5eab0f648a23736d0858712ef8be43677125c0ee945b4cf27326ce527581b1752c5fe2767ce7b269f63c4ef20cc51de9a76cc2b53cdcaca256d31d2ca4359e64be2c2617e8a2c76167a29f9c8e2051bef31eb54108160b80f293d4cfc022a62a9982530016b0af1f06f6354f79983ba7fec91e514753f14988053332fc75eeae8c6d7a8c46c4a95726ac4f00419b15a5b615b6a500e869566b9b3908ccabe8c4756c392b1a64a86ccee42924b5e9d46d9fbf26dfc02c5074dd49be40895251687440e5fae3d9674ab779453e6ead80a4d284063de5913f000cdd7f3034e3f68d9c78f5630f7be0ac28c215129b654e94dfb5338b74dd3ed5bcbaacff13a2a72847ff4199cd21529e65b78d980ad9f286d57f51ef15ca933661dafac514939ad245e37c2297be6299b90f42da9a1d1f87babc753a5665bfeab2955095ad866a7cd20d2fd7278d37dc87081d5509cf699f6539581a35a647f5e9ef12a51b85df148ea3dee5aa5c5e87f871b3020b9966de347d7d301c613c02a998071f22e6946cc2283e763edb5fc80c23faebd8d0172141eae8ae10c3e2b92d080436684061ebe382b866ef74199ca158ffe5c395a380bb626af953b906a8c56609217901fabbd777d25029cdbaa96c4ffe3b8babef1d4021838e4ce79ae9642bbad62a6783113fc8d594024b77201a64cbc59fede038e901ddf5b44d061f95e1a0de4db0d7ae2d5278d533bd92c3a54f58ce9030985ebbc215a41aa3df44b8007a2c6f5eb21b97ebfbc8a49dc244b74146ce9672f1c6fd7c417bb1cb774da4df79ac2315daeea943afd92d44745839b18d4545f2a55c8bf795753e3d2bcb7ce120d39370ad962fd01f980d0199de03ca806ec701760f0983338075c2a1546f4cf21f25718ee2ae4637a950b8b4da4b8e076aa22de6eb9c1956e113ebd0ef7ce48bc29dffc2d37819131a592ca09c925b43ec0a03165f7bc8fc6da2dae55e5f6967d6a00a7762f44efb7548f782d7cc6c66b2208b3bcb0e2f39a09629fff29770e12964f2d7ecde88b624007420ea3fcd48f34506b7ec0131884ed0f815621f9f0aeb4e61181b04f63d9859e9fe47993b6bc9f230ac4cc121893bc1eafe9b4129b4f79dffadf6135c7e92caf3104e41a346f6fdc219b4c6f2f7e9d0011897d7e959a1cd3c25ea8ab3e3c064289de8cb5bdc28e6a8d616357fa740555e7aa0c069c0ed48f7629b36329db54dc4df0ad1116de2e440b94b6754e59d59b04df70da981bf573828358e3dbd807ed7e8b2b15742dc650547f03099bd1ace040f875d2d6b13a919f7511ec08ba22cd4a151191ddfe24c066ba5364375d1b3a89210c0041f553f210d5916e82949960ce46c368ac4512db7a7402207248e0016a07f3c6f5c76e52d5ccc439eae9b1348f0ab359570958058f90be25ced7087a49e398973efcaed90b64940bab3a02f44ebc2a209f7f2b8cad393f2f77b2ca23226dc10aaf612a83cb13599c20e4715ff870644315ce4377238180b654e8ce387fc8b809062c120727bbbb83e33894d34062b98f4a8f5b009f153988865e75550ac8db0044861bfabd2f9a8e75a2ef2453b013400430752146a14e6c8916f4486acd08325da1631f38f4a2ad5e56e42904bed9db14a033f2e610f993685042552c5356cba9b029f8c6c35c7b9c5cffd2e20d86d55a222e433d6fd61ac7471923edc837f3634423f9ad23f956963acfdde128afef01e48debd20cb5a146ecb9b0e81527c9d4eb5be879ead880f2011efbf9d701ff7fcd2c19b4fc40bb6e0e4b805bbd2d65f28636874263bcb61949a8fd3fc891855202eb35c3dcddc1506b2b97f811a1b20580876c80b556f31681a9c14d9b39d1af12fd64e89bae59c1f4f079a956270da51e4d0a2d1f4cf409d82942dfb9f1892bb873a49e783baa343104819572bead902c952c11336589125d81e102b396debb4fe024da4f9c4bc1ea63d522efdd766bf2cc1990f8329a6177282b851c367b6ce8d184eb1d949cded1f8c3acab46ac450545157c7a80079610b07c4eb020e0d9894dc209a859dc356a2fb2a6f4b26e9ee4e571bfbd1c0a0956a19894da908e93189e9a99654068222affca66cfe87e545daf4b424321339020db5341734d9f8482fb8e86e96c291af0f9df64013694e538f8378a42d35d97118ed07a7c1c001fc114a49b76ce40fa3af9e17d2dad6a057e38e7fb471575bf7ab5701cd724b4a1e8f4065f4ec3cc8cd342a4371cb70636ec8e4c647d54b97487203c55578520e5069bc87687a7bd60ec66f380270e0da1507e526d164ffe3883a7cfbff62897eb481e0c5f03848d39da49261ba836c7db8e814997d2580bf828d6862f588bf4e05280fe00a982a7aefcd760e0861d39b52a74face90f37dddb98dc9d897ed9c67a1ed58fd16c5a9f72bc37297c7216a975e591ca148f20f34033c3e4f85fb15b672000be6ecd0288d26d620fdf9a5e8e5687c03a7943f180742b81c917b4f7adb0925066aef672f786ef56eb81bf188808d8da47814721314a7a7deedeb2500f1495b53a5ee07b8bc56f3b09a32a2e1873ba74272e540b0c0e8f8b55627e3ebd531c9b1f900dc975b831ff426762e587ed0eecd84530316a697f39cf747eaef19caa3b429239e328a758b62e56256dfa8b5fbcdc6a64103a3654e5984c899e79cf75b65c763a6924cc3a6826671d683985665ac5ae37573b39f67d1a61e4507e0225c1f7b7e30af23d5ec707bc4e6b2b2ddf1be4a1249b97d5846bd55fdeca24e4c1dc8a5bc04c0547a78690d7b64c24c4f8a6c585e2ae6913e619395ac57353f25cc64f6936075b81050c8076ec23d08df80a6fcc11ad8ac645241e6cdcf37b13ba9ce872c7a1b8d7a41c5a5c54bc1d3b897a6f8c7d49491a1cedb96cdc73571d8101f559184e4f4f0ada1182b33a6b0ee1bfd5dfa598d66d7a0ac177bf1e7dedfde25a758467d0858653590d5da55719d261865ed383a37991febe816206ca65e108d3faeda232211d1c4e3dfb99ad128766ef28697b6856018fb876aa00afd0ac5bb62a62f6a6d5b12761578a33ca519b5278f71a1ac6b571245086d2aa234471ae15a179e3524694b79b505b6e03bb4a2e4c019ba6eb24152a5c78f0da25058369cbfa47851325f4daeef5cf0dc24287ac747a0f720820ed1b93d6fa7039df9cd50130ec49a2970773ed4aef507d46b0695c3ddb011babf80e84a314b1a5d4992784cd75472b6d4048bcec408ee9952777b115229e41e65c84fbaf0fd32af8258e0c44d2c9be294f7329edef55246e49d2f8f1bd277595fae4aac365fc461e5ffa01fee8030d0e51f73d0367c8c770fa5a0cfff9a44ff64cd2cb6e2e2ce761102f08e1868262e739fef4aa86e0ecfa3de98b611a6bc5876010567cee86a38d8fa1b21e32564c845de7abed5ebd506301e88180be81e26fa0b3c649877e59425fcb17c684b9d91e53ed1909c4c5f0ef99ad0099d8d328a344515bdef7759c65e7e8c3438594d098f2df866874d327c83cbe238c5202702614f58be4269b5218c0f94aad1e15db2ca2c27e2ec35bef252da379f9a20fac2a157801f5b9d5944bdf8a5a7af26416ca9f365d668281facd5de5ccce7182f798af7b17b28fcc223bcec06f6370a994057770db276de8f009ee5fe471ac2e6ae25bce2d10e56c226ad5d5ccd21bf9b69ad3d6487d38e9cdf167f47a6ca2813a9cc25fefe5e8caa44e115a12f892d39ad9900c5fcbb81f165255e4b957f318c4febee7cb7d6b832e53d38ab838c594723402fad0d394971934488cf49b35e9e62082799768133a1ae901c9cd0504ef9c31e79cab46be1e8268683f4f6acfba9c6fddc5f96970a6522b7028cb1b05385e617e236d31563c99eee0e2bf00eb22706d2a9d14e6d0a0e206c2e8369ccc19c1f2f325116b8c9e02e8de010b339f3f1b60f3020dcfdd3cd710b2e4f2c532481706e4dba15113039442c840b09c4b8ae6426cfe81a0d94fd7247925f944a78ea1b22875ae35322c139c4b47ef923cbdb916b333ffea87bce8397049ee470d199cf461984ec22c819be5ead408927659499dc69da9ba0ef583174009998148c54d32f469252635a27ba920d6adcc9515942c67fce7871bcef351ef7681c257ff8f457a7c7d348a5218cb08de5301ea1e0ddf6ed1ec6ed96a2f3c2ccc362d54c671c28cac3f58c9bc5ddf065476b3191bdb9cb24c8c90dfa978c2ce02ce99c9c09a3461fc896f6cd491e60c687a554d330051dd46e8113606d1b82e49c321a7b3e879b5b59feb0a6c09350fb57206fcabff101a177a188e9c07a7dc3fdb9f0929960484e89742f0cfdd63170d3c4b14afdec18d5a32509e92309944c0fdfc158aaf9185a4aa22ac3db03b5a67771556fa81ab349365e307bf7c71a133064ef79a80b8e09593589656816a44df38fc6e07dc2a50de863991d6936fc894e87a52abfd36740c574b605d8d72de3e0f04703d967669c44f23d38d72f5abaed212f4c8cc7f779268a072e60e47fd4ab077c66a020becec9feb9939153443c60ad1f4b382e2b3c71da5283c7b2323e04a6a6eba209a7e4773f7bbadc1337ee36779b4b238d5be1b47e34028465f22936c1ce850dae350b3bf896e4e03e91afdb66c4f9979fe655e77093d6afa2f37b7db04056b93a5f471a491662664c4a07ae81c78365bb80ee5ee45a174165c6dd8e01ff7fab95dd05a61df372d1abc834485d1e644b2549762ded7b5278a6b0fbd1ffc3efbd561a0449aa7c4759aa051937f6bdce0d9db9dca59cd892ca6a2dceb6a053613c0c7d2e0c1f030d53827c219e213341169af336aeaf3f55433b34e5df2bce104fde980d1f27f170442eb46ebc6000e240435bdd21c57aa9dc4a3d740fe96f44b36a2bc5f4938f56f9f43b630c05b3015693c84c9f24a5da88ac39b5b8858113dbaea5f9c510f03d51c39908aea6940c735a94d7a86c96e085d2333531bfde23c8f00a4db818610f5ecb9b7c62d4773210707b3fded6c3b7133535fc1463c3bc1cfd404954f8703125afed4991f86f156bf17b01308fd7edcf541ba9731385880edce8020f176ded91e6dea9968b45f4981e9432d8f53db8fc242609da135900a4afd804935434a547d310209ed2adaeac00f5f618e949a47cbf2c53741f6e5ff9fb1fbec075bba9e303f445d27092b9f4c102622a06939f30639d28b2e54a15229fe8dfac8c93dc4fa4a39cac083af645829b6301eee87dc692f75841cf9274569394b3b1bb65e189112cc037740d66f8d930c80d29fd078e68d0c388ce98a8114d222f208139ef89eb74989e9e73e92c9fffb4e2fe2b360be666b80d49218562c299359e3e3d3cd989c391f7a8f4536ad81dd132e72db93f0aa60700fe1a0511c92c3d9f0c6d7812f3eee134a918ad81cc6070c61e11995cf494d40f0f0a184b22960133300ad19c16bc3160d2912087bfadf90d902cbf7631c09390409f259d9a44da27dd1507c144007294fc182eae5618aa138d71fb53581af4740afe4c934ae1eac41d5453678380f986e062934f276739e53266b783518a83ae209a73f8f4bd691ac929e0cccd7708103fb826e999f1d852e2010e5dc0f928deef90c67ef169c9297d0c8fc5713a3ad53f432130fef4c4bcc032af1261197ab6fad025ceecaa81b3ee77ca0b2c06b207a0a52ba92672674e3978f288e66e429ad848d6db25c975d4772a59f1e0d865f4f3b7947ca348b1fae7543322f7977e272af04d4946dfbcd4c7c408ced99aa29937ae153cf6f5986d75e33e79f649371af72b796cbe375c3137ef2ae338cb6b277ece5fe0c24b15d2b3aaeb793e654d80b1f5139466f3ed21920e3308a11f29c789ee8ab6046f0ff707859485b4174aab0aec91145a08526361f07c1f2ab8a83412d9c8712848f49b1ba2ff1d4a6a9653a85df28dd47cb19f9c839be98787f000267794e32372bc53dec09c6710652eec463bc8e6fe93d64dcb16bbdc2a8e64008aa58aedaa31f7a85b0b37da0ff0adefd1dd67ed2895d4b97a0ee675b099af070617e2b89580d0eadb43713395e26726e93e3f8358417b75edd13baeaf096b10d4218a8284d87fee702eed2342b72819aa59b410b363d021f6d8a91a385ee8756c5c5284388f6a765800d855a84f851e2934e9e9729504fc125d950e46f082d6a4d27aa041a2db7b1a6b8248edc408c23288e16ae36d57a7f098d45fd57ad46f57b17fb2c311d5dbdc15d5d40d69b5b79e09502d93e3c8e2b3d6c0f1abe4dec9e4fc244844ec322925d9fde3a06286fcd77cee176ffc2d184910c8581696b0c244aec436a256b313c6ab181d6f37e5e62a7aeab1f960f0daf6749200ac702912d5afe440a96bef8544b8ed6398f34a8045ba7e23b3f5d44d540a1e5cc023a23f04eec634b36ac1b49269ed45d16b2a08ce2bee92094ecfc908f8c3fc6cbc656f4e4bfe7c4b9ba6fbbe95c6f5c2f26e35e108f61d7232f9d033c921080f66bfc04bb8f2c72f14fc9c7151230ead5871fcc12a0d455f40834d2fcfa58c68ecef6f54f0d11c770649fbad6a40565b57c6d102a2d1a6150cd4cdf9aa98e90a0075566da431f7a8d26f20cb40d57e840ad1bedceb92d7513230913c4b589bf47c00023cea8138448cc8defc7b3bcafa56331887afb090cd2abad958af8a172cc6232271793efa1dadda1c8c39cffb75c188bbf994ecaa50d74ea1cfa75655b1b7cb01d7cacf983741af4dfa7f6d753fcaebf9a5c54f16aa1b5671d5f6aa6484ea0117f4e17b6328c753a2b56a1c1f9fb62543a64a508fdc14403749ae05356909e5bdbb2f9d8ad08f42a98cdf5419c3145cc6b9f6f33ab88fc0e172a01e5a2eab8e1208afe767085092dbbb8b377f31327f8b7a9ca27fa0c72ae04b30c3c997d77d342a7345f14baf755ff40d9cdcee4fd719a7cea67c2d1da214fc023f1814cf69d5d3f695eb97320086dc3aede3fd55fc28cbf8cc696a3e6c8f4d164d496b04950d716259a9ee4338a8253b2360b165d86d0c08bce6392f16c2026083fbf5f683760babaf2e81111976493afb9e56d532fa837cc06c3d4af3c8624e2cc7302873a733a55291bdc114297cae7a7277a457a02feb8e60c3e89fcf395bc6b693fcef1979bb5b9fcfb8504f3d83e46b0e5bf9179b8dec79e2a4567bdf5a7a68fbc605c71103024a3e5506a6bfd32e6b54fdc449aefe62b03d98b37348119224310e87bf84d9b1b4fa7bb558ec82da7f3296f98ac295940fb940ad9292fedd5445c57ccf165a7a18d1a41d9c319bbf722cdbaa72e57b63246b73d852a468d73fa32448c2584ff039d4c192fe5c3c420118a6703387e8365da427ab53005928f97a28601e297d62879c5d8b12f94261b31721d42a01a564967a86330a5ff52eb77cc4c2d17213af8dfe753978410db77ef90eb3a0fae3957b8a0151fba68898736ea2e123fac02366458a522ac9abc800f44a6c5c41df03fbfa0b4c92aaa86b9f0248cdcaa85bf3df159f6117394d23deea47107ee6f19e7859cc39e9575ab10171be09a2d60b91dbcef56b2f8d864b2f6355709155277b9b6a9710f5de7e98493f749d42241dcc4d0365eeaa5d0b82d5c548dbb7ec085a877de63aec853bb62c60d9fcaffa306ac7c79bb3eaa02bf925d791582af5e985f16c50c7ba7db2f84b2c95624071a9c62a0eec0517c5ced0c796c2ce420ff87820f10305446abeea7bb0d3594316835a64ab0196ac3bc11c1dd49b4e2ad9d42e19300565918e5a422718913573ac6ba866a44ee2d5da082bbafd0b66d7f2d0e3402c2ffdb3ff6f02fe97dd719407be33af9bf9f82bce74ce7b166367c7f0661a72355c398aef1723517fb45f219b4218c85985e2b604da860739ad97134af3537d7c76926b8bbaec4f8386722647985dca960b16059638cc04912b3e1107e16251dbcb59ce6d088149f38e3e117cdf12b528cd35ab0b521f2c4bae1fd7d16f5b25fce5cc861c5f541e3f2520a6505c8e4f838cdb6e16b87b70136b20b675976a26502bccc81ee28d80133f8b745e4a811f58071ccffa649d9d72ce12aee553e718c9fd390d43e139d871eb48b84a39db867bbac5c2b0ee3bed88dfc96a221526bd0cdfe0b11858aa1b9c420ad99b904eb51ed1ab4b0982a6841e9277dfa90c1bdcb0e313986ac7144e6153055f419ef8da77b61db83711061e4bd5c0a04df17462b00c298f63e7ac02e202872150af37988964f2da9a049669fa0907f78a86909f67105fbb1379d377a15a3f2bfdc274d9aa4eb10a150afd4824456ed54526138fa060ce91b52e1ebf293cb994e30168b88372cc8848773fac5f53abd0aa6be013621565b7121c2ddd9c43b45b7b04c4cc0a1f92ef9b549944f1bb599541e6bae07bbd079fe1274c214f9a44d01dc0b2bbd5768b90a9fcb8710e768136b6280ca301b2935abcd9a35296230d51976f8d67ad2b200ef30b5c8ac205836b988df2da13e70864c7fd921bf51336aa0b9eb40e9c9fbd7fd2c5fbf3266b6b7f5a4930c01d931c2278b1695523beda658ba076fa8311c81caadb0dff3eb6d623778c911fa1dbea4fe583fdba11fd2ab8d3ebd5f579d71099ab7545b5bb5d71f2fb8fddd56e8b2a4c91bd08adfba56b2659348e7faaeab6de8938a55067f10a557f427bdc3cdbf471d32c0e01a9fd31763dcac6f9b2e43ea2e2344824932eed10510e9c6724969fa661712653fbdcb4e886a4202b74d058b2e5a5b87213babf825172c131aedbf546d9ba689274b352fffc30ec6be5f010beb055d855d858e9b27281b18a1034a18ec096877dac5d26a720bb6250404223a3f201fd35bb290454a98d64c56e7be30c15c302ee2b838ffc467c7e0e55b38d0a1a59e2db07062903a3b77448cdce1d0f55368d56a5f296cb40ed1336caf7dbec28428ee009b88fd4976b7ba8bf85b0d4d47e33aa682bd42df5aff0846eb4bd7833570ebb7f3eba746fa729647bad4c89b9eb9cacbea04890f635855fc0810b33dd48e7020e3ec8876d2d3fbfb75e3727fdbdb9de47414771ef12b4770919e04ec4fb35c0f40ed00317e44b0739faa42884c6bd707273a6b4e78093907f92e48ad088ccaabb64139ad6170791b545bba804133b3c566d2e913ab7a09a0f2fc737d7be52cc6b99ab635b1d1173b7b9ca432a53a180e1d2f9cd83e9c4da5a2b5183091cc155194c1c76a9315c42cb86cfc6ed9f6e4b7baddbf45ee6aebbaaf0f14a7375a61c540fb7578682d85e1297785278a4b1ced66eba67c55298fede70b16dd1b4ae009fef524c6f8a2d46938863cfe6979c4714e70be9cde49c83d650148717c2c1841166e26ec5fd16a037737c6eef3f82a5c75deb800e544111a164a55ae8e973b6d6dae68de03f52c8c2ca1193d724956a24b4e6405dd8c5fb7c17a4b567b7382f4a5ce6d763c24fa7a5ec4988f491f0f34b7ca8211c081f80d13fb4b4041874cac16b63918805652db217945eeed5edcbc2611e52ffc775996ef7c4c5404229e311502bfbd140f4a7fb3eab141655b8fe4bbfcaba23f973fa1fd3b59640da62949dbe09ddf35609a0ce119ba78a67d3c6bbb9c6a38fff25409562ace186192b7eb7ef5f41030f35d3930cbd2710411cabe768bb0badd3dbc80501115c9776be474c8e707856e7836c419ce386ba344ec22b99bc9d134c5d8bb8d731e5aff52b5e367fc239652ba1e870cb7659b5088cc83b36915c01c00f49e43e8a8b38e76bc52fadd92825476982e70ddba58b0c966c22f8eb2b9aed42065907820693bf902fff45b7736a12d1b0630a1512e850ea0640319818c5a6f35fd9186d6e113a8a8359b970efe1a00c5a478fbcc0656a4cd1d9ba32a93755b158833389663695b6fe5655e101983af837b96fda9f7c98a47efa96848457b02b0f04f5fe6dc9b1e0c7266a957c1ec6f4be889353b7a83b976da220cacc65ad9be14e3ec933924d58b0183f90cab4c2a13baac18c8ad5b1b59bf58935c418b4fc0db361e21f329dcd01a8113ce5ffeb0e716d352bd601323d6f866359d89fdd1c897aab3231c1531d015909a34b0817f44fb502ee8fb2aec5ec5ab0f70c4b2f14bc381b537a5f412dc7b3c0478ed2ebbefc45ea4fa8f428c04d976169def22d530acb61511ca1fd23881c2335f06e8566ed73c5cd3fb6dd8317898dc1840bb9ee22ebe3be32300e0887330d9c48f397b0055ab7db4101f19beb1979b6188acb85d314d062996078a3c4b0f60270f50ca8f6c07b37d82f2197fd6b6238e6bf2c28bb7c5edbce4f003a507739bbe68f10b14298b3ab3f5383ffe6ff50a8fb2748e0eec1427336488fc7a8390fd4815aeff06bc2f69310999d5d425b9735d7deddfaa611a090489b822eedabde9e0f7ec2759c4fd74104ed71fbd6b191505069bb3d488872977565315f97ba76cde3c90712da92b9bf9242717b5f181a8d5f1d7ce82a668f2036802a689b6f7ad8ad72e77799af6d1b0a8315a625f0fa444e3e63f2edc86637ce3ccb8759667d4d525e802104acf2ccc1dff5c01a3c6da929627c05e23de2527fc60015f27b660a882b7c459f2f85d8dc6d7e60f2ddd6db893c944dd14b0757b6a7ee12b7bd5eb4d292e1ce0d64293e398f4db71d45b1974fb1d36bfb22c5d5d8bb0ad8725bf7e6dde225a5b4d6cb9b543acd6a05ef3b481e3d1a91f3173b05edf05e1802e358f9e06f75c7a46547d45e3fe1cf39910b29a3e91a387941ad764c875e7e04d9d5eef59c5ac3e8ebe3eb2d53066900c29e9d0fed7b06819e55fc188850c3976e45b6262ff9200a99bcfb00926882942cdeb6cb75380a2fab22bcfca22d5703490491279bdd44219356d0d21570685abb7f6a9af81506f4442fe2d7ff9c8b9621594e6df79100f032d9ebda2735a9cc66916892ef58381a8f94fca363c6e21d8808d7388c3941d0f4aed54bfb02046a6a91d189283455347c64f20143a1809b7a9c0976f0888a251a34882de2d8352e6f1840be357094de5adc1d257cdaac028fb47fa5550bbcf9b098c57236f3bd86135be6c4f337850d8657843ed1292291c311293343b013d464b303591d716d607fbc940fa9c003d197d1bbfb3a292e45aaa962eae86ac60893e921bb545608dd7003cd4677a9629845c0d836b9039aa44f89a601df4a1f147c47c100738aa81ffb917653eb687fb097e3792955d23afe200cce95ca48ead3a9c1c0a1e78a38ce94945f12c360875933bc33fe2ead45f771ec45daa2a289ea38bb3f7d2527c8888eb61a0fbea3a8130c880f54265c623673f0f85adf4abe58559965812a12b4a6fd215d091ec809557e881dd1f6297691fbf1797f54baa484c41fa94b7d301f9fefb4040dfbed9509eca165ec1714ddd844380519988400ac1a659faabbfc9f083242833bcf85a5154517fc82d064a460709b0635d5cf9808df1f7484e8fffc97880a810d76b82b57ff098bc4ffe9f0f237676ef0b7fc0b8880c2a7b733bd4b35b347b49109fea7d010615325cf062b874b49d8471b990f1a6ac79cd27f50db328e95f8f7196dd2ba11b9995bb3c31d17f258fd817e77f85f43e1611ecaf13995d04f5ea4f4c022cf88a35e7b6367c2c26ee","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
