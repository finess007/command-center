<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"8276c6cfc7a3c65b31963327f0b7c43e16f8318bde73c8104624b43ac9b69855f78c8c59120ce181fed50e6ce5c0da30cac21699801f574d2902f5455ef55609f4ef1855fad64f50a206741e54d2e7967d139786507ffb7f09c941c922a5358449c044dc59cef34eccaaee5973e6be6913fb66edacfde87c0351175e7cff1c99bf2246be1df8793f9ffac4aaca7d3a6469d9a2a205f55794855884321a05e84fec454cc079d48f0289fd99d3f468cce8c9a598f6148b5ae5ca9ff52f544ed34929411d8a628a964fffbeeda461cf9d03e2aa81ed5b7c22701f546476f3dfed17e990dff210189f78cca667b38a53cbd6b85d26f4f980f6fc26df1e68ac9baea0209d0dcc47a4cbb8d3e86e9f2f882cdfd0b6883d7448e0cee4c9c9a31bfe9b15c9d117f0d53b5cdc8356f10a9b872b1969a9e76c69a25dca6d70a10dfab7dd3499e299cf93a54d3fdb76baad3d2939fc6ffc5b47eb07af7c6ad3ea6d33ea9a4f3a0b6685f8913cbb972499272d836e5e6a984b2f17fa8ffe06832ff63842f3343e92021a4f1897a43d861e4a693f486a11b62c119830612f3ea907c2b527ea9e24b406bb88f34209c63cf8d18ef486c802b88ab6c47eb417f5ab0d48993e34370902a49feb6cb2c24ef4e1c2e368917ea7c1489f26dd121531e3f76d16748399bc2120c786fe6a87567f7f6b578d94733d802df1931a721b8d36d60ac1e1df7ef8ffc9e4b506ec57bb83820e84c1f09d8752aad131a8551379e73d8fadada103a64f533a676ee6433ede35f790bc11e5ba4d0b096ec36b71201f33a8e13ecdb18346bd54786667f1521ed06a65d4e7e6936526abc8b3def29fc06486a1a47b349b635c76df2b355a3b96d46c2d4bf0bbca44763b3107c2534bc86cb185300ee3baa31bad043c62989455ce760026d96d523eb3e8142ffe94f9fffdc1bd8e8e7d4a344c28b922573545b3a470ede49d0088e78f47c92b56dc7f87282061cd698143e7ce485054174dd37d15c061f0b2e2a9130964d667d0b18dff04a330dac1d6519b81372d68b07f6c9fc3a14c2d55961d6e1103a82ef65328b85d9bff1b77bec4084bc62f0389f4eaa2368d99e18a8382269594b95a158d8a5d89fc148253af75decf2410cae60c9d7feea5ef3e0e1f3a7efe7ece188df2683446973d6424daa02b6d0a9e3d2592c3d54d8116f06aeb1a0f58e01e9a584c4dca3719bd1aa2c87b8cdc7ab71d03027fd2893ee2cffd5f4de1b30bf40caca9db946677b91aa8e0c40f6108b8bb3b21070ec85f6494bd85db37b3ae6e1a21f73bd0667452429dde710a9fa3855cb55daa5af688479567c861778a85c2132c5c4b4954db153554c5cf461d80ff6c64898cb1509c98c56bac0b82f6b5e16694e279839c017b825d15cd7b6999d202cfa6aa09f442dc2a237df7506e02930a3ca06f7bf539125985bc3160d5f8c2b82279552d833ff67db36d6643fb1f87d7247dbc938513fca3b42386a4a81711ee9854a8bdfcb83c8596d7ad62f6baf4fbbb4ffd458002eb1d905476e21ff11836e96ef683a6c8d66af0373fe6c3351d5b2f581e5f986c143810107cdd9f066affd933bd8806f1b71b8b9a12efdd7f40ffe49a604ad6208309d8fe2033bb49116629309cb60ae6c9a4aad1bded6c0c8d77e21e5ba2e161c8a4b2e71280b698bf82b6f7ca73e3d5dae2e10bdaebffc8bfabd4b3091569be6d87d5bdb8043b772ca44d194588fa76c74dd81fdfc8693b88e59cb05e7513b5c3810cb75e449515a1b8e5f24ff45afe99ac4242fa63e435af5d5c2a590d9d760c0852d41d71b993ae56d06c1a6a207b6d47b10645d627f974eb4f42a3952f86b115e2313122275217eaf4f6c61dd4afe41bfb46d71d63ea97238db5da1b15ef28d2a297e678a1b8a056e209e1b11e49b09a21bf9982b62ed058d11fa367b5bab4efac6b050bda982ad005da21fb32c67a26e39fd25c0f80ccd9df1becebc4904e4fe25c8f405a7d67eb75e2a625ed2312226a34509a12eed2e3fd8cea6cd94ddab146965b421c9324f9c789f30390504eb29415e704c80134eb92fc5b3805cc300ce8cdda0c22a6c445a32b233eb3ddcb622de50b7e524006e0b18a52bcef1427c5367dd86accc510056c6c9229149007405ef148d534910b1947b6bbf53c5c22548e755c044ef7b64b48466806d1616783c534fc9364d4c2b94d3c5e10e6d0ef7d7b375b63059d72a4ba9681972b3ca68db5059c9afb92a7e6bedec55ef091496ad54bae1fbd9021e5d7df244406140a5ba44f3b18b87c473d4cfd9654d8478ddd5d3d6c0c53749b3fde1d1d0285f948f40302b2d8a5f5b9a1ab25c8dbd5bde61979897334c371241e0ba93141848789c19a3c907cec4f2fb73fee32a85d1eaebdbc17ef974a3b70dd65f718711804338fc7f2ad8e8612daba96550181c7c83bb83d93d9bf95caa91fa4935a056927397b80591cb9f3e2bff982351ea4c94244303f8d756dcd16d6aac365de379088a3ee502c17fc922e26108694bc57d0c2de7507e69070d0b04e6d20f4316f7abd0eff5450c3e0a9951193a1c479a97d092c252b302fe56540779fd23cc27abb052fdb5901ab158fcd7e9edaf945b35640feec857a34f2be940772c55673e69e9801bdd32cd4b1faa903e9fc0ca2535fa5886fc1a87f58af5339ff894562710e38f9a5ee91cbbda2a0111d167434652d46738bb475d50e329bb01878483e04214103dc1911080fc7e9df3e1a44df2b06654b846a590cdaba1d1aa5aabf4afa3dd7a086ae2fbdd6f4ea17ec84e2d368d1ea005503b63773f7889fe90ff0a607292fabb8d403a06c2b91433b51b184b1bf05d7f7ab370ca27866e8257bd6bd880480c71579c0ba974e31a1cde9e470080c884493a5adc8efadcf9c139815642f6f8d6872e05be86e454bcc410795e483a281a0666a5559d9fd27ecacc948e0ef8bbd8358d5b67c374793685bf9c7333e11703876c1bafb411480feaacdb25293eae8fa61955d9dca0d32b062a2e190c57aca3471c10caaa2bd729651f0f016f1e0f4129605bd882b6416672c693aba196869809574f6746c0e66037ee9821ca0fafca44ef8e6fad088e8b0e13f055d838067f6f046a4fe8bd55c7fe1a9a8103641da0003030442a472445a1f5d331ad014354f094b69cf142c23237191964c351e8fd2e58cc9cd5e749b113131b7385822af06f46eedccdfe45cb232ba8f8cae2199189731d5c229fac5d8a6b0de4cf988f759f60e090b35b5b844b7ecb2fe72b24f9c0c89f66f62c6eccb97263ca9e15b6ddd3577cc6bdfe879a2fa202c16dfce5022386890ca51579966e7c9a928aeb4c7e152f8b46ae0264803a95dc62a91f8992a658caed4573d9cfea6e018a307141399a0f0a5e9a9668a28e525fe21e618322524ce0259625949c4599a6f30468fca7e564794bec07de7b00b7c1b4c04f7d9615382534b22986dffef782512d91de062d7cff5fc0a73dd2229eacd60d4d26264da060dac055f47a3ac94fa48aa64873ba30cbaeabf3524131dc28ec4111e7d80480f1fe9a6662bacf5ecbaee14e8b4a7ffe53f90959533593c1b8bb9a4cb34a42eee2456b76c949115c566ff604acdbc5c4d6a2c3bb41e3e01dd3c3191c861356381c762ef803f10a0c57a76259fced2b696665d86a15aa99c1eb0b4197872bfa310f38d5c3ca67692390c6304de5f52f624c2b10c2597528da874a4e3859af988f712ff8e570bd6806816273fb0099884341e4bde2ec8624064999078dc2804742248e549bc47fe8d87626d4218379f032ad239ad6ba4f82763647644a5091013c2d0e4ae1d5846842a1f9b225631d79b767e4d7251717945652543ca5d49aa40a107f0c7d870c7e3f45e5410f006888051df9a0d0f624e3acb44b5cf2ee98ecf79be43c162187e618711bef3c7d25f761f4b95aae430267248db09b4f6b02d14569b972d7b844a3158eb0f99d4be39c640a648a1dceceeb852b1bb9ef59d6a4ba63f7efd3b5018864dca70d5c156a38cb6ee4a900111d6043602f1d8a1c3071310c93c1548e3c42246c792cecbe960a9228aa9fe550fac4aaab02a2b9076041b65e120aa3673e7a24c62cd4d69a74e6bcbd9bece772f89ead5a9a164c7931832ad51fb9e1696b0fffe7eb3c0df1eba4392e88dedb3a187e210788292ff6d15ad13d2e6560e53df4daa6f7bd782bd5d1f5bd6fb57d4fc3bff8f7836e6db2d6fbbe219af6777a9252b9a510a82fc3cdee1bedd80afb70829c3f2813dd48eb7835afb8ddcb8fedd715d9816d5fece016c146b38b8048ebb12b1fb1a468f2cba53264f4acf2a9249ae9829e1aafd2cf52ef0f14981b0bbdafe4c5d0b649ed9a3b5ecc2574f8d4de273a1f0b3c5fe4e7bdedd1e5bdac447c624a0494c3bb6e666addf9d3e2590fbea7b0f31506ace6ef9d47ce7ec98e49c7246b7de420a94c44e169604b89f01d765401850633fac1a1c17302373bb7c49ccd242137c016d38c6794ccef1704e32f4f51eff50cddfcedee461d5da8281556a8618c16dfbcf84c718c98cd67a50a7db4e7ef904369b57087f3a8cf06393d15a2c82ac4161850ce7f0f0c6651cd87a5272a20a9003ec9a6234d7facedf75cc0559235820e5600f79a268e9de95a24719f9d983ff4dc6774b5f5d86dc2c783fc55fe1231c3c3a8fd47f3a616467c3d6731bedf57d928778e0d7cd9453314b3b895808feffd0d33faaeeb3e53de80b6d3fa29bfc0180dbe0c298cace1dc0232c4a680c2235a7648b8f3966833cb487a9ce7d3396ae5e1eaacc4c5a264e4bf928a6e5b7964e2fa1dcb9956b5fcf7814779c10e0bb80eed7881d329e72d08f5821781ab0024d36a17923da56e2e06ff342b463cd5a0d5672ad4706bb494d43d27ec24f21899a057d3c1cef7ffbbaeaf291d8aea9f4a23aee18d3c44326871d0ad8cdbb71f4ea78fe9d827e5216aea33dd1be51f5d58f0ec3ff1955b13b6b5deaaab32594a5141954f06f8ef7a088aaeff1c18db61002af452b52ab5c861a5e01db58703330655985a60872afc920770470b328c8d1709d443d9959ecfd05a0350119b55ffb607af63a2fe3bb663eb5c4447246681dcb2125e8515ce2c21f636ce59599b982fd237707cae46339bbc3cd839e8349321744ff8fa24cb733e5d60290a38499b9f3cbef208fb4b57bcd5a95d9a0a47f910ec8d22c288ef65cbcad958f708fce3cb869e958f6dbcf97fd17481cb9516a567e9e13caee21492d9b4ee49c0a94b50e7fcd43b0fcf1be87cb03d90fc4c6b72cdd5a2c30225e32d610f10246fa8a0d8d45c50310bc15d0563073f0f84c065b61b70bb18dd01ebedf84578a63723c114504471554a61e0490cbbe0369fd83a1f2ae213de83b6525c9ac6a049847e7eb5ab671b2b8445b07551fdc25d8bcf28b3ddcd63ac426ab1ada329f8d5f70c8adf65e62368504f321e34701ced2b5508a49eb6eaed3da123e3273dd8a6e80e8d2720fd2a31dfa75246bebbe802b02887a1aafd2bb18cc21c3b7664f0ef81c967217179c24bf9356a012d19d8f30e030202f543ca8c8dc960096143ded6e2a39983ef7f88b1fe033c07579c0df6d4981a999b97f156b19d1bd794aaf75c30793370da929497fafc1e8877d32e210650ccbaf3eeff08e0877323358954c851f3ffc779864e1a91297b4dcf4df8f31f818c131dfe16253295c7365bb764a632dd022af0cc90d2dbcef96ed17d90e3ac84f96a0373cc5685e54c74aa049d3ca30f7884cda5ab5b3f6a3715e1a306d8ed44d6729d92486df6fd327364fcf7c5aeeb6f5c9a74a12f53084324b8672c33554c8df0a3e1990f12efce0aa691a9897dba1a8cecc46f344c5cfa6f152cb1802b7535e416d113fc9dcf5a36805309b2a270bbc8a60da56eff2795c3ef5059a96407b9700fb6294e11de58fa66c938837051eb05d2b7847a470a251d043b10d673b55361eed76f1cb7b9e96456f079fedf8e5bcc965deb72e5a38d2b6b6d0c10977d3a848a2c39c8b3cdb22e9684697ef8ec584108d827e922e84bd596af95cac9f79db1f4829d81f2f2b229441b5612174326120bff6350e21176dbf0dd96acdb61a6d87dbc73a50aba4e17c8c3c351bd0b410517fb4ee02f6dab2f85c0a989229d4f82ebc0cf083bbc1d01bbbc94e0c3c8ce0b17e86d8a3cd112af9d5ce4f348140d9fc3c4ff3e3cd0397b8f1f5ae6958ee249820336cca0f57b902b989334dc1f9b414a2d8b2cbf89cd9d0c16f14f9c331b78ba9dbbd847630768ab0cffbc0b8652903b6fad37f51054f94a60149cc08e7073dcdf1ab166f8512e59173fabec98999dd01cb194fa7f0e7a18c9d3c2c6446bd361f8533fafe8d98d219bc2c316d316fc37d833d39779e6572c698ea23caf9c1f95665355b2c777aca3ac7fe4fdcac7dd2f22a9c248ccc95eb0e66f3a8dca51099e58c6141099932bb6f9d372539f2e01567c7091c55e593d5d7607c04db019cce5b808f6d98a6e41639df4cfae8b3f3b4beda76ba6d6e61d58ec13fa4d2e04c495188d23ef2a987a14b0c6873b1a78163facba557b634de3312f5077fc2330280b5740b9702cd25539fed678f8bbdbd7e8c30d1f4f042fa48ec4cade2cf6e05cb64cb4b9b264b398d71b9ba225eca4aba9c26acd556e0a397ab3e2bd405c41b25dc3f0f166ef570dddb2b8865445df287c4c96dd30540fe77ca56d1a2c4cf647d31f4ec139cf4be80303cbc89a9850df5ef78dd425e6f58e4da3fb518326a19177167cb8580ac7a2521e64aa41bb7e40342bab2ec9978ff78c80c987b019fbc7deb5a12bf1277914ff39a2b2803db22dc4b9ca196f9febe2b162046373ef5c0937df1b1734b5f9341223651684a94a79e13c371283bbf4902457616f757b6993223c173227e2dfb5b317cffd79f9587b883636674010244cb26377b55d2360983ee7b7b915799c3e4762308f86812f7da3b0f8098f9f1bd7e00864e70c22fb3336e4c87e6e157e85acb3f46424a20b9360232c875211135002ac0738bf8bff52230679fb7669512c49da0a883fa40823f4de959aa585c0370a7735bcbd55fbb20330f3b5c3244151fe4e933c8620b3cd672a43eb6ac38baed5451367ecaf8575b980eb2777c3b55274f7f6fca94629bd30c297f6ec4a6a3cee05a432ee036a43efe2672b6792ce0d3f2a81f4ea38624769e67dfb4bbfc6bb2c209aed5c4edb1bbdcc4a3c37582064fcd33696e58ae95854ea09354b5f97c99450dbb44645454f83933b8d971706f16b72c2ecb684ca2f293666ee2da5a0b6fe96b8ef70d0f3c071520677b1bfb281419e05cf174a570e86532eec84365b4cd99be613afa9a2eb8a1a401ec5b464602d524ebff7ae81befbca014c89875323c433dc8eefdc32809e31714c071ba132031d255b4797b12f75e2401a6ba87dac62c08c2e32a987180a95a4928fbe7eae7dcf6fdc5f51c2f01fe48312610223e6437b205df2ad3fdcacfd0ca8d7f0b9f38f1e6727850e43c48c22aa8346bd44bd49bcd64d78cce3a1f4e89b4ddf3e38e3aa14305a2c6fc2099cdcb56d600d9d03f2b0e6ea25bfcb2d14e76836786dc63442e0794b1370b69ad2bd541d0fd398251678868be727dace60f5959216af9b1ff2f53353c76464f9a45760d4fafa49688ab86e0f5944c9cba305951a9957be1a56d9a0fdff4add8fac07dc80ddd9072366d7f77ea19efacfc61e17df1652edbbae181ce66c2902248aa54c81daf5dc3b6b483a3430d6c88c56ee40aca80bf26fe7d180701728a577bdee684bd7d464cfb2a4d270081baa6e6b2bb6db1376e0af4445e7f0ee1493e67957ec5b4c60d65b0d6fa9d75493cbe77d447a6f765f4ed4343054a26999dca9136e41435d2a3bdd0f4934c8659c26ed9203d4586569c9efdc11af0f5c8a7fa3feb5142f0076c9e9585d9616a9ed06ddaf3ae0c26d3a77a0bd4ea78f74059a1ffeddef7333b00dec633adb50a5627934a732ed60a1e4e2b48c7c835e38deacf1c4d3c7bed5951acfaf1225605c917e76f05040de68fa4cb3ade9c21f7303d99276e3a87d4b7ca43a262cab3188042e899da8096d5ff10d423c7f7427833c60d33f005420ac74138ddc9744288b4881b649418a063efe26c5cb67d8b0dda60e98bd307e64d302c9a9f97e74c12a3cf5f1feff2294d49848c78e3bca5bea784ec94d818ca2c65b4e17d47ca4856790cefec2c930270d56b4c308f147177274b1f226a38faef20c2835564f033e34cfde7c05b1d4dbb63f015c58d8b4190bcda06ef25fdec04affdfdb48842e77b586dc88487f51bb6360a4b47b5116e7d9102a294efa0c57588a08d345518abce10457a44f96aefa1ea9159df909571ef6eb772b10e5e0369928466d169405d503c4a8e806f0e20843641d20ebcb63aa54abbbc356b9108cb76b9d433e802e69628faae1dd313d784dd968e30688a058bb1eb7ae26e52c68873db54e43dbea0b63dd7e283f4e6df82e51b05b15ddd8ce84ed6a9b9731dfb1371d1e6ec9260d94e4b5408fb67c2c09337a97da1717fedee1e73be11ac9a1cdb8ef6b3deebcd8b47b9d36bc33648e1cf6a7f81cf051df841f7937df107fdb5ad3f2edc9ec91ccd48d108b788b46b0c72cd324b6da27a7d237aeb84d38a2a7cba93626e49d10f26d99af39105a6726606a3d20b8a59715533769f16858150eb4505e39aba676384710a8d465a7b67504bcbac8bf938df1ef221b032379fe65529d892dbcce9a45637c69085077e54a7fde369675aa605edfa7614206d165a75188f56277cafb41478c8dd5c775b623f9b6cd4ec0405d2bd89c5ac7820aa991db8b08df42c94f1ddc22cbf604d59132005d70638023382dd0d11a0c4b0e2d6fd9ea3bd174337ec8d2c9903e30c97244801657e4c171384cf5b55899721d8b737fe77576dfb9ee1ff022e89095cf6be4f2cb04f32704f783ad59d57b21c2dca8e1c20b89f92f099aac0685cc62f25b0041d54f79c74826aaac308c699c8c2e963a31f612a90328df17bb61c05a9514aebdbca5392d6409777ab41d748c65e893c979a4fe5009a4c15bbe8a35ea2bf477554017079462d63a68727808bb1322c48ab47490aedf2197db8a35c1f8a0f15a21718f47d5c2ff911a4b1192c9471ea1bf52ff69a15abf310b29cbdbfec940d37250806d96d79b0e1fb6dee35b629f9b8fe9efc8257cdd9aa3ebeeaeb560477726504ae75e39f780dc10191bb45e1aaea8af5757c61af6ad74892121b810cc051a6c7cc7af994fb8be4733ae70c6f86074b64f5f64a33d45a6c4d8a309cccf7b33d838fb874769a9ccf2ed5c84cd51de03879009cbe0f9f7317c1a9e609df4c0cc0e49a66c12457b957314f6dd4c750b1cff39e72ca3b0886476e177c72859bdb0d69514e8dbb70088e48a7a86a1fe36eaf10cdd7029513891e6720fabf8321ad36cdff3f495c662c102c4fbed6a1117656b7edd6d058cd9b895cee2331a1939d45fd292cdda592d3f1937366f5b5fdbca13ed23d26df32c071560ff47ed53096156fa1b9a9c0a539e3a97b987ec2addf3d1b8e60fdbc8d6736cae23433f110c7d853abf8fa6b579ac383b824fe6e60d779e7e4e1b1e9bbbe8fc2e540c4f89f9fc3a89a4813f5f0d858eb69a3d7f5921940f14b3e5b7174bdda8c465e5b7bfdb78701de47db6dc8e29114be3182d699f914df607adabc77d2c11f0cb2dc86001a5a9fdd183088ce11135a83c30ca2a57605bb3dcbc8846bef51c465c036ca2a4c4f861a55e54b972ebd5e4302c0d69ceb531958b753231d28d77c1bf34bc552c7f4a0900d336931272658f931d1854243334f7b35f85d6f61c83bdf1ede709928f8669d99c8b46cb37f8a000c5e644c7b7c5680ec5b21e15a1f6ba3f287fa7a96be5b6df3ce1c4d5309bb9fd2ac0ad5324da813992211d89237693b602eb401fc484d78ff836923f3c2b666c94ff821b6f9447c2b78d8cd9680ba7e9db06665306f762a5675562b1df964abac379f8fb55cbdf019c0e37a6430c9967cecbae7bb8b1a9765ad46ab627fc47c4dbe221496a35dc1b6c0bdcc1de982c8486429824d27bdc8c4b8b2a5b9ef757d297bbe6844d2270e239f83ba8171e2e397cbe690a62c8705f611c05c350c2105716246073b585529d821528d115401c86dfdab2d2b194de4770e73e521ca0f463382fcfc2afd4210571e75da706af3ce877ede79304ea33f98a6a76134d3149e8b95d2acebed9422a5d861bb0df3af4c8cb4abae4987915f6ec080dcefd7030cc74aa2a39f649ae32c36420c674f14df4805e539181973f67c128462facf30308334ddf2fb78788bc106cb6ea3d61c355b94e92f8c30c2bcf8da3855b4800499dbe7bfab16bb055b70dc1193eee1c9b6d237f251fb2fcd92561974d04010413a4283e69a3a3ad0ecb15a4813631374dedb779517fc43a88566a23295ef3cae18caf4b85e3e62cc1ae58c28e0368d0326e26663b9b907ef68d70abacd80dac5116be26c69f6345d39cb5d5a21b7690ff4c618c65f652ca437974fcb4414684ee0c15b86a621b2fb69ebb0d41e0dc695755c83aa9bbf832771a3b30da07ea37abd1cca92e12f4af8f2a275b839c954f335073ab490b51bc4f1289b6434f0267210aa041e4b640a9b31b8bc752865f6dec5d510f6a9d8fda494e4bd82a7491737a0f7180032e0cfa2f0040794ea7c5214eb15ce980c0d6617dc84c353daf8b451e7b8233859813c9f6f2b69de37769785c55080d8a644abc42d92d40deffb6f3afc2439c97990dd36aaa140c8b1a0ab812cba29da7456f1334bc83372eba56740b7f05392381e9975cc246cc019908918e8acff165bc576cfde0787b104fa96c7e6e04d29ed42324b863fb91f8e2274cb7be38e2e7516a4953a4750ec0df394376dfb7ce02e5d45325ad3a2c49a57888513bd72a9abc83749c03919e1d82239c0c5e273c0c091fa08c39bfba93124d83f8f7f99b9ec9e3650705fa4ab8dfca6c57db6b46dd72db33bbac8c5c0f03dc087232a8b35e3f54dc8f736919e4d847b164cdb696b566e3e38337b4b03994d745ad613a7f7a952e78d6e3c8d6edffc471fd721f2e76f65865078a5a89b27684b9143a0d8bd6cd2e9040f169c97248e90881e937fb41db7759084aaf46ed5bebe23734befb1c65fd376a5e001a0d773942acd7efa1feb717e781f87849be943d2e06f38a71eaa1579ce40a90d470659cdf9c52327d6d267168f0784d28ad8dcbb69a5b9ca26d756c520b376be8d948cc788dbc20a40ec3cd78032b8de2d2521000ec534be5714a494f389b4d1cd518b3de87e6067f752c1d3c4d418444f341c698b8506e108479e336dd284e2a6c5e4c05065e232cbf03f53110e4a133e2b8f7d2aa6a60cf93f3fc662ec669c66580cf513c52cf2587486e1c282cdf6cc02b980cd9a4c394dcdfc181363d234f8580f5f507e3c14f105ad4fdaf1db862e266685ebfdecc4c8577822c88cda29f22806e0b25fb99d54692b845bc3171e47b7a20b2851c890266b8423c167c2eb5b0304b616d1ea3760fc94ee3c1dd4270a0c33a46414bd3590d57bf3eaf35a7df5b52c1239c2dd9b807550304634d26430ca6a917c449d6cc6da32c14c0977d0cc318740bd76a41ff25aeb550ace66930980c9f7f136ae84f9c9d2403a381e141c06335772e4b657694f3366ca7dfad84ebf3ed3f5e78297a94a756aa94e7553a5fe72aa941b8e8e0ea6d88af0238b4e9ca0fb3e68fd89a6fd5f7aab414f1f2d51d00283c7e62f9354bcfa086998fc54ad1068f7bf02891be353f4dde72b28d351876f1fdf7f3d366c631757040503d3bac4baf90c4855b54b12f41ce13ac28a9581021bc04d20462252416684a6b47b856de553c3098822252f1c37ce1a3280905ab13ad927918676493bd5b25015536fc16b115a5b568aabf38d493692d10db6f5d596cc7c37c6e82ea11cd348c63fe9b69792bd51e41da76779e45fcbe8adeb4f17f3aafa645767b8bcb579b1872a1208a5b825e4f906a3b8782925be079e664e811a160fd3fb4664e3f9c669948361a85df5724d2826daf0583892ec7df8cfcfa29e168dbc9dbb847c94a4815b6c09bc2dca13a2415ea5cd1b20f6f3cea263775568fcfa93cc033177cb25c9e493411e9acfcf89c88faf8519079fc6c39dacfb925cc396a3a29ee53694ae69a4249021261b9477efc0fb5c60b5ab3c01ecaef6400073366574a43b6f6e43e9cd27c5c388c4bf9e242aa0308826977aa2a81b1f53a991bbb68c1e5e0cade5234c40c9260fa701d343012ec6f826a2960a5c4f23e5c68b620a364059c0db0f471681398f0cd952bdd77c8d3185b7861331c145cb8e6143990a7ea31e2029574b12d9ca25dedb63f923f465e37a924320a56064e791f207cecc3429b6776e59243e48c18e15b86ecaabee3568d707fff08b5f22ecad7dae1c7935471349d1f05756b9cf548b6cbfcefebda6e02f7386cadb40864e3055f5876d34fc7daa8b38ad3cbd762e7228747e27e5d82f43e47e3847893f847e01872051682144be3fd3f4fe2769d76adb0ffbef2ace7ee13c36aa3a334d83ac6f122344839c6208ea42d82917053e0e001d5b4654950562305f8293dc9156effbb3148ddb01f2c96b50a0a3b2083b746a3477fb7b9f89d497158fc0fbb457912c724513315388c955b5491c068d1809c6bf0f654a134c86e5d99dd1c558119988eb815d70a421e2f71c69e3670612e28811435712102bbf5ab96879a59560e0539e11a9bdac24c0536a737b369341166cc19fd4e7b36c0c0103924aedb731c1cc27c92d227988b4271296f8a54b3a3ac1e909a7e0060a517b55ea0228274c590b57046782f7cc9f9387929a250eddca8ac7322481e88541d43bbdb80b6dae39587fea1904aea08a60ed9168e88408780fe5f2f294584cba9056c60d551c55dc8e16ad2de2154df18f4fccd82bda7074c50432aaaf298853d432a542b127f0353d0bcad6f7d15bee2b292b1f3b3d60720f703fa7da2848421ce8ceeef206de1ec2b3ec903d24bae7bf3612ed8db7a50cec8ac77e775da4b74e644dd5d6a0609178c33f8eacdf8ca47fc83c892e989594e8019153f9e5eee258b07309b363917d3fc66ec6d3d8d01f4bcfc60de6e3b2d9d6810497a2be07fc6d1871cdfdb895aa4b5ef84eef960f64431a486d3f4031d7caebc952dd379a5cdd23f4f5e95c6fd89e16c195bcb9f53d756a0c271346ab59486fee5cc6e9b38fa3107e97a22b21258e22bb030ca005d0e333330df384061faddbb1922b9625c16900cbb9e514f25998db77d85c6299f29017a80101fe38730d011e8cc8ab74fea3282c0969a6873b26bbd3d170970d99ffac36e9db2245b1cfcfa0cc4d781ce3c46aa48901584fab9c66715f984a9efce0ca48453b40036517c5e3ef7c891e429a1cd9a0afb486ed8efe545e4931016aed8bff599b796f90a18559d4722a7e7d5224729ce3d4c77fffb0aba42751867697641636f0cd26baea113c54372ca71699eef69d8d495a9006649dc79494015dea754fde3eeada722d306b055a00f080d399b7edff76316453eaadd98134b0ab8fe7e67886f71d226fc06344788586deae7398ea929159008d0321af37c4bb1630460bd44018f97778fb931fdc143aead93749d8a6e12cc8f11b9cfdae96c2c74be690c6f2047bc3a277eeb86712ad4fc2db764b34c9799f3b8ab22da0e259ee7d96c926483827568ee0b86feeb0ef7e6b0e6696baa17a8ade036bbe85d4eee11f42ebdb5b6374d46b5afe75e33b32c2163d27249d6ea6efc13f8b406f6cc902372e45227c8c842d4de9579380b6a3005b12b9000a8a6b5836f9ac29519cae0d32824bbb2512559b6f98f41ea2297b129aff361c27d664723ea53fcf936b1ca5e26e41845087b1d45c6355d0c62b58e082dd019c48a0c20f30ccc606655bc1ad1bcca3e346d898bd67529f6128e651fa6d15942309cbadec6a14d64a7369886abf454d0fb1847c5e17d667d82a133fb149ab35b6c0b9c51d3394fd0e54b18b6adbfc9f6f1f46f0e7800d61bcd2a90e0a35d57c892fe3c294cd8fe148cd03b1d4d26a0dc9cf0755506c9a087a501b4e8b421f8625babd56b2f65b075f2b4a87ffa271d418ee295c474513f586989b83075d85bcb1b38c30a62a5d174b1298a5831fea5c0fe23d7ad46cd6f2a6c95100537c3f8b9df0a39f0c226ea9c1ae5e3eabf088c31216c44bda06be6234263faff3499800b9cd683540dc4bd1a3b4450fae8a70bcbf0d63c98491060813cc173cc3aff8a9d7780131cc197d5261d4d49686544c9a5bfe92f7ad9d203f50d9bf7ed1469c80a10b0654f0c90042fd1f2887066acc2aba229bbc0c11aac2e1e835381ef1ce88d16dfed7ea5d8b98ef902597d93005dca2bee95f0bb196289fb14d20eb78c0ba0e337d95184ecb1889dac87bcc2af0a4c87544d41b8648b6a83f8837c51229c8873f64e7b910fd63460d47af51dfbeb0c286d4b51e4dbbbb94962148c041a8fa115b2c427b7753fd62810c0dfe486bac19e7118d4e7f303ad6330ec881d2206a0d4127437e6ae06e1d41e7adb9156910eea30e61c1efd28c4033aabef515992654b3048ea75ae565b92300c9c8c696428df48239c88129bb974d280d3576b6c8257aadd128d1c84dccfe9576e46e0a67e1303393a031155da26dab4f4a18584a7b61695c5ffa7a4db51c9aaf711fc3bea8063dcc4e869b2ca601dfce4b5e8354fd58f0246452484a36fcec1402ba7a87afd5408fd1a73bdd3c1e35caddfdad30d243b29e406d0a159857d93ea34b9ab17dd00b970274d7b017bad00e5080fd6abe1789aeecd775e67fe54f469aed48af32d04c6bb828ea98dd1519ee4a80657117753d5a1d1ff52cbf7d991d57de05dda2aaf1dded918829dc86f84f2c7c2fcc5dd579a37f3c4343fc070992b106798f3b5a7e09f76a60f65f48af9c49251e61d8325428d780b91767a68c20ed3c24756255fa690002d156015d21dfabb415d2afb5c8c76bb902fabb6f6f2e1b18ef0f44b4b5930718bb3119958da7afba6d7555988c4af8fa967079f6994ad03e59f3186b55705787fd4d578019aa4b4da57d1aba1f2eaee606f3cb8b63c6ca95ff9653165443cfde33ac5b276a4d39fd51fce3ad216691e97754d1cd47ab81663b01f6f454fb5824f4af1429fe7efc0aaf482838bb7238242320cfaed6ee669753b1d7bdbbe0ab2dd91ad9d5b3cfee7a710c5f497162834be4c218a584219cb939ba2137e1185c92a7a0de3f1f391bb2a9b6b53c42f9d416f183460aa6c3f817e9ed107e1b2b4976d576866bde487aca6b2ee093fdddbefbf359eed45774ecb97f5e27faf1d8a8244517dcd67753a21b20463ff839156e94fc0b69c54b88d8e2bccc9856b50d960ddb7512de755c0d34fe9852836ae2b9d4ce8340442356cc45c892c1e2a8a056620803639b666cf25442beb8c27ef54bd3622abceb29a8a01e59d7d53bfd9b4214ce1a4371a5e53a6b84b9bed526eaf750c5df8372586f369a72c4d5709b45153978ae4f4d099a4c638da41870cce5ca4956b489b7b8b63a7960ce1c9a83d836d0f880eed87be9d7cdca2f6485872387d88009189507a683f0a0b09e76e4664825c7845333ca4b664bcb2e17beb75c6ebe69283306d461e1a20a60980f0a4c9ab81c1a90e05cc2b33953943bdd73d317e48ab2d2c19583076f785767b286f7740f02e69a419d19270bb3b4ef675c5b80f409045696e2337fd966e2973ed2bd8df6a9eedb9b9ab9f717afebcc2cca56c3e608d0be1320d5d5d0727e2ef2f2b6f336fa8ad39ac492ddadd5ddecf716d9836c512e73eeb1e4f34e59e3bcf651156506815dab47306b1874d284f18439aa316be98bcca793fde69211627473a8a05db2edaacbbc78ed92a5a12c87de08f9cf1014e8f63726d2e851a07ca77920aa890c78e474e9ef6d34212eb2d1c3bd20df62e1cee4a9e8f912a35068115f7eb20740616cf73850fc08ea43d321e3087a0b2c44dae52ac294c6685d63e210ec0eca4afd2204418ec31495c59f5ace61f77eb85be4960eb7cc9928786861953704066e04e68f4841905e7d71ff2b8cfeb44bc3c77f9a765ff35a5375c087f29fe43abf5a2a82b83646349dbe9cb15ddd869d54ed575b8d0d9a79ad951b9acb3a99f7dc1328b1fcfaeb34d831bd01366562f755395f92e4a44d4e769ddeaaa284d583f92c9316e576de33adc24213d13798e13ad383ee65e3124f1328fbd9fc5f031db24e649357782cd62c7464466359ed371db2061c7aa23dc48e8e9ac422f30cea69b76e89bddffe3046bc39753d985a17d1488f6a790395875547cb2370d0cbf024f74e4524e62dbced467378966ef4edacfe4484f42ebee2d1da81b80be404896a2aff1726234f379e56106f0993c066af5c5debb15533961c74e37574d7fc4e2f8f141a042a7dd59811b8689856314e56cddef0b8f5731325a13408ceaa265453d1cf63ec3b37418863120f8a2a9bf598275039cb759ee5f33e453edafb9d68ba3741f449b00c3b4a649e755c300909a5957598fbd25658a698428777155d02f7123a13225c69d4e426ddd8d3dafe6eccc4bf5146546505a68e64c8826088af4b662cca6a2b7f673fc1547ee3754504e031869293410cb9167e26ea2aca4f21c446ffe34bad9ef4414c166ca6e254b8ff93f20ae6466979a0170bf56301412966ff5c42d15e9b07b3aadb6859e30bdc6a3a2c0efa2ce48adbaf3f21ee6f014599b64e737e4bb90e354321bcba706fa5dea551c7cb8e71ae9dda6f4854c2a2afa36f7246a0a380c48e3c5e998eb81f668d9e7ab485907a64b1e8d48b646afef92364861bbee6b29c5f25a3a6c25c2d5e4789138abeb12f115b552422a44b2f75c2bdb9a0b59450cd370cc74dbd1f2c23c999f901b46e1d002e9607bbc0d11de59b35d933e939990e1dc8c9d65d9754e22ac4d82e4c978278938e60e1530c81e5fe03af12926786d81c14809d5796199fb01e261cb5b80a3bc4ca0dec65996fc726a31e3c0120f6e6dbd6588e60c59418febd163437997778be0ec0db5a1e6c943fa3eacd6571bd40f96f8e9935564f8d44ec37db2184b444961084cb5e83c47f3dce91e64e7d03351c461b8b0372cc2c91422e72d7ef203db162ecc4b04fd66a4e8557a6c1cc09e6fd158c363483f487f94bf70bc71cbff0bc9d6b35bdcc82471bd8a6248019a7acc5763b3af9fb4a7dba61d91ce6d658917db4dbcbef5d8b68443cb8fead3c29c88bd050dd3b3badcdd59a4d1ce2bc17d67da737125b4f5b6cfaf6126b6e2e1d27c68e9507894f0efa53de4047eb7a4b282923830af6aa98f5f0c1f3994407981d4146f0f9e9c87b48b07df2b4b658371c330d4c9038cf8a341fc98a33cd57ffcaa1c1e7debad57d039ac63100ac34106a19c26e39fad4f2bc9e289fd24c6d512fb95f6e3a81b1ec34769b4c6ccc036f8748139ea57381cb2c0d4456c911a9ec6b5c1470875a23f226eaa8cf2510e5fd25ac45cf9e38ad34cd464233dcf56d7fd0a275321e576ed07d478032d6affc0aa98204e5419bf7b7e0124aa5625b7fb79192c900578ee7cf26e12fe8731d8eaf22eba2aa37e23115e3df2408a2ad6fd73c4d92bd6116f27d150d01e1026a336c8b6051b6c34c0841dbd485ba0e113d83c07e64bb4dc7296ea8e5a3aabb71b96649dcb2a96807c65e941ef59305450f995a5e1787eb131dc1916c44c93bfebe8895ffcaada4a78e6b4b4ea705b78a225a042d9b7104d2d856b765824eff51ca31d6603e6fed8322541fab5b60850ccd12b9a3eb68915159322882bea3bfd833cdf824e5908741a2fca36cd581794d5be96a737735847f6522a41cf4db4fc0e0fbdb4a68e57653667b2dc4e024092d82be73c29673111c5c8a220ba744067e674a7958fa740e0ef609b7fac7fbab09779fccfaba9fcbc1ae0ddfc8eae7f39cd010e4aa2a53e660eed77c1b828361aba251a19cb3a3993f03bacf0cff236e5ea5c24efa7ecfb49c4d98e297e3011ca0cb40f53f0c040ebfec6dff0186f1dd31dc2b77157b419422dbc36ac33775a93be7559f8d90e99ec06b578c5cc330907ef74a502e59976f38819051a8505c91922ee4424ea6ac8e69a9eb3db865ebf516b2e32c6e86908d25fda8d844cfb219d5db61633d7843ce866519f70e96d45bb549f3edc95b9ecdd8bc2551bf4da31766fe9d51644e809a1725ce504559aea443fd256c4b84c038211abd4e61efe8368b13c1a40abb02139df9ad8b4e4b49329082f578ba29a3fc69a99e7a088dbba468e2d2b170456cd3577f01d0579e82b54469a68772d9cbe65ffd6ef9e4697cb8284a553fa5cb59d0debc68cbe1e3dfc1d13df36c7deb5b3eb2c72162b8fb83d1bcc68775a61ae4b8779d0cf0d31a2bd03ed650bee50bf692b590587b41fe978bb558239afba0d6aafdb09c3458b42385f1354c1f1ffba1c6ad5307debc9ed90bece2c3b35a394260f59d94c31133ac5a50433805e7bd298f8fb41f0bee2bd931d3f406ef7b2e6c7f93228ce1ed6e91a7f683ac2b7149ee75c1cfa4a8c3f2a20fb88cceb089a1a6a815a4bc014e6f857d47acd27ff7a693611c0c5c89f74ca12fd741004d206950e4895008cd208588542df49b2f33ad5b74231f99767cc5cc21ff28d8b32ee905b83ba1530d924d9a940da78c896a20180bece6ebf9b2dd9b2d0d30beff48037cc714f20f9dce7a8922d471873cb5c6262d502ad93d57f4bbb87eb24a91d579005666af8d439102f4566939897def4beddcd224441d4b9b0e3d9ccc83c4278d17e5ebf63e88e05ecc9c429c49b3b7fda88bf4f8031a69fe1ceed4a832caea088c8fb3b75044a7127a3c6d3f005ae577d1b409930324ce22826e091a881db524f5115541befe44fcb23cd42f6a1f80626474325092a8e30dd614f24a2b29ca448d5ec02439e5aee139479ad05184968bb43377ccfcd49033f61312081e95f4cb4af24a86dcba3b9114ac956244cf9c1c8d216721baedd9d621b2e4c409e35c02c21ad37eb2ba0a40a93befe75b8f5fbaeb25880f92f42b25a7f0e85d5bdd94672be2d4e4280b6a9bf019502ad11bb07033a17a33922782a52fdd6b551800d8ba2d5c5b4ac6fa91cbf85f537b6a17a3db275a9c1efd5f19975799055a9260871ddf4a3c31a34c85cfcf0e52ee27ba010731bdf18c95f2337291bc850bce74be55acb2e77e3aebb69fb8b41b36000068a81f4451871abb97dd16fa85b2ae0667e4dde86284e94c3815fc5cd8647a2888a4497be6564cd8a49d54d8e13115804057882d27f572c0f80bd82c3be2d223755bc2a46ad5717504d96339a87d04afcabc71c7226c9cf92d9ac4c93fbb86591e304b9f4fe834c7e35714d893a9b0f874c4f607e910e2bfb956ab2cdeadba2ac4a5a650ce3d3bbbbd14499165662acfd4580e01250ebcb8e3f016bf361bebc6f71beb71c8de4d1f1d1e76974e81cf521aec260ce843e14204295dc1954093ca8c002f948c4d5ef787653cc53060a1f22901727b131892454f9c1e46474cebaf4f4183423ab2f5f83e09cc6abaf268c7597d445800b8f5218461872129344b032ca944030debcf1ab28bfe312d05717570e8c39f2cb436f40de4f989e989a2e87c2b8ba102c782f8ee22f0e6982cfeaed57d7f82efede326b7dec7d43b32c058f34f5e839b392b0120518feaa6af71440da3fb8b994a64c6bc13dc275621c1bfb03c7c96b34131adc116d743d94aa5faed46146c9d2a919d193bc4a29f4be2abe9a7509963bbfc9ecec844e34f9901cf17cc371108990cba89f9bd9ccd5fefdcccd294e615d55a5351873ef08dfe57d1b35abb5d161e9768a26e51d955135cc017b3c9f475959a52ec44200131a79dc4f36cba6a93024f245d683b702c305b6f5cf5a802f9afa6e32636e0c42cb2e1b6342a07075d9d3487e9ec65079efd144fd6975aea93be6d9370513329a50bbcbf0fa3076521aca48e63410899fba3904adef2f6dbdb68fd35729c8bd82aaa360728c2a4c991b6b4cd447460fb90cf5e1b1fb30ff4a075670f0cff45b202465557e066acd73b1339a3aef7eb52377bacd289c7fe652f31f4c2627fdf042712f5aa2b6b5ac1befea2207e69ee977902cf4428ef84fed0b54b51689ccc4b83db2abd250abc55f00e859730c9f40070d7d04c118547789d2b1a4c0c907bcc3e6c5e78e70b505d588839f06a9a490bbb8445de322db522057fd62adea4ec1f854921acf811954c841800120f6a3c160e0a02218c9a3a9ac8b7fd36122901ef77440e24e5a112b43c926ec2df3fc3b7315412d76f56eb17a0d141479d3d2b355789dd14ee47ba3889719f01b06886eaacdc4524a06184b5745db13cd36b27f4f9ab59a0144341dcf69a240cda547f4026f753baac1c6b7663a054ab99cb40e6a13f8fb99dc10bbd73d3bdef5e58567fda21ac86510fdb12ef7ece404727a3bdc78423c4edb0c39d940c48be559b3f37e6c59679d7f82f1d8baf756509a5dc65a0ee98fefcddfde53538ea10cb27554043c1f19346fa8b91ed38767b87fc0d3c0373739268d6b1dfad57f9aba2c692ca5d3cb77411477238bec1d49c6da8a721943d9f687588ae08e476f61a4ac0585db0b132fa5f49c02916e5446530ab25f02843655fb774a3022b62043df52a6602f2afff74827a42681ad23c0280737930c7f9c5ae99f0e173e88d2f76cd9c497406ed83f2895ae38377a129c7528280696f6d4dd5daf9a4d25816fa887039f01e127107428808c6976cc302750664837cd0eb443823c1d067ffc645dbc8a1df83b1ab915c1b63d4d7ad0fe15a6afafa02529662be3f2f57cb0e5dd929f7eaed80c01f74300946a1836f6f8d492ef8b78a445e54ece549a24ba41e378918ef08f93ee60fae9e170a29c2d5d7a26161c01b2010aecc409ef89634d576aa5dd8da4ee5072315bb097fe9bd38bcc3a3fe90a7adf04dd218d8ed3447b71ae7ff2e2f176b965a479af2b44aac76cb954f25c91c92b2b9a45c5278605e4cee27a781ac0747d27e8e672a612cde06c68580861e44c7704b0c5b5e51199c1ee1060c3733166996caefce1eae779f720600eb6894b2a884320db85ed45fd40e4b96f93d5b2fad0045536adbe557b971073844421c5c7b5e12c9fdd274cd1d42fec14e1f09242c76b424994782f59d7217cba9ffa1ff7bac57c42fc95836de9d6c72d4edf1cea2af426e85b6a1db20ac8f785afb54d4a9a2fffde81921decf0959cb623d77e50105678e47e6f2040031","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
