<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"197c3a5c9ba7bb04a71502163dcdba6f7980bc46bd8683d4fe330884559033fc4cb4d76476a1e5b867dfb38f39d142823625c46a8b7c441de295436d55533683304a849f5d7313c51e18f5ee6f3f5917172b5bc4e860e98072b9624122eaf638898fe28fc02d145ea36c8c83a4b234a30039ad58de9e947704843f0aec77f1041ad8837cee62c0ae39c1e3c608bca83bf3a6bf0c3a4c63d5a4c72b2400fdacc625a3a5e963dcc2f5eca479a79061e444be779eef56616b39dd106193557b5f2f640ca0a79550fd708eff94adbd22583a5dd646bb7b33d10f82ba955dd37c9f680fe8ead6bdc731de045d69b021a78b23d8edf9b4711b1c4fd6579835269efbd167cc0a9e667638aa9bae2afef23acad77e35ec985fc512bb33526aaa170f997bfaf82eead219100740a2450181dfcf2dfd93ce89df66fa060180c79ece84641babf74007c453d205f1315a9e35d3044a593a4e3e3649d58821da77aaca7c81bdbc16efebfc46aac70e1ce116dc369546a6f0759285b2bbae329b1ea25d93cb3b3164d1359d6c53752830eff9a9a2a820a4e48188304980fe7c1ae8b37b2210ce6df85556a094dcd1f25e8a6359bd8ef427799c915efafc1c887e21b9a330cf04e48fe52ca2d960497152ccac0fa92d87d3010c3ebde8095f6ddb0ae9846c705377643c9b54ef7446a606a1aa5ef11e88e4ee5712c735a5ada2443470a0a6d3bf15984951988285626032e1db8a229709a11f1e7f7718dddc462c000963759e3e7b981c30369c611e631e2e4595c66dce134eb23c465a0b3ca401f81b89d4807e84f1cc08495698148059e0c96540e54848f6da46d5aa6da09a44d6be19f75a9e356aa35454d470cfd7c3fde4e2223c6057f8a542387f319f821301aa09add1fc8894bd4d6af8febb1ca647740c4ac84bcfa3fbb1826f87f96033cf205346979e78023c3cc877da498a8809e621595f42a3c3db75572043ed6d3a92932235a9bd7cb50a0dd78f34921c6aac5f143784c113cf5601956bc6c3edf646d3bd5d0cea9d32ee7f7c6d7b59753d94cfba00983593335c85379c4d387c8a6aa14fd36397809eb250c5d650b1c162fc7b5f80d0cff3260b7a5fedb011e060f54a7ca363fefb2b3bb18c84e09be7f2516fde76c1350a5e0f1b3c010566d34be4610ed83be05a110e8961a9eb85bb7f7da6f16f4d6a2f0752c7a8b25f04e4f80fd8be9dbb86d9047900bb8849224b70e2ab90f8d09d9a1c47f4ad7cf3f53de62f555e84ba8fc40a7a6d28ce05b00cde9671e8bdbc46ae5e9575934f2b420da564a9e8d9498ffbd35ee776ed689045e369ea65b63c0a28f7192798901eb111c9ceed183857c499e02a7aefe18ff24459564f85e2efb83571c3ce3f9dfc5b160a4cbbdf721b183676e961cec7b434c90d9d3d9b73fa15df9ab248a615fed35162fcccd5d551da7fcfc85087b3abdc7ff4bc2b26b34d4ac356a65b7c87a12ddf93aa23c2bf9bae604ae7c8138c2427b50a6bf3a3ad975dab2f8027fee03a9573df797eee7905bd78f35a958492dc68c32873133ebce8fe34e5ef583571e322b3159b254dae045e3c41cfb24ccc07197d5cce7fb0533be5d252990571cd535150f4538c49f96f6b68ad9039af283d7cdcea09ca527df5ed8c685fca2f9ff14421a44bee1e2505e1ed28ffb1833514aa15ea362ab9f370a6dc9c9ac47c47a59de22db28b8f211933e415b16bcd35dd2f130460171d2e6fc5de145056168383f5aca1d0aece2cb18b6cec215e6a321679c75123e13d5b417c3b31a0c9baf60924bb0c3dba0fce5e65d76cc1f418e63ea69f4a5b9148f7c682b61a841dbe03bc1179eb99f20a8853fda38802e6720357dd90764179669fa3e5f243d836b505951cd8583002b49543f34729265363212e2fa623c7287468337ea5ebcd95fc2b6dcc00c61573bbf1b0e9ecbaf42770a24dc324a2ed64416e1ce92552b7996b5d541f2fc2002b1d793ed43f7896fffc0b58910fdb654106635ac43fa7d122ab07a1010edd7c00777b1c5bb9af378f08f0a7447cf98f7dc9c902deccba25b259d322a6dd591ce3e4ce3917aa67bd07870f824d4eb55d0904e9dd7a09783c56246f195ec97c7af5bca9ff8cbf0a718bb62cd3b875001e804268773682453146fd91168774ae46932f23e4ccbaf46089dac82a766228c41af2d3f1f27f2b78b8b1b84c23dace52726a38bcc66a78295eab2f8378ab372d824f8c88ee9e412018c1b5569cba9c846e85807b98df06ac925b75fc14e4289592baa3ac6e6b88b39f8bf4583363554225d1960a4ac4a969086014f09addda950ada5af87bc03027a6561e90aac5742dec2b48fd9a14da6219f2cbc7af3b446d7530477f8a8ef4ae9a96306f0e45b9d7ee815dbf3fd700fa07c221f327f78f61527f985de127ebf4be57d62f1ec58540d730cfd0403371720bcd4cd07b1471c84ba5679127d535bab01d302bc0cd81d9ad6ff8d5c464812d7a5fd0df80483021a707e90161c9b854553755493f70032278da4ebccd97ecddcfcac68466d0446137e45801191b8582adfdf92acd9a6ffb90c5dfb3edeb3bef97c0d14eae9ebe493e9a2f6b60d4f0abaf3e5abfabf6405df828df22214fa240847e95c4dbc940fa21641cb95b57b58c929543e940a7f3af950253e190fd517e0a0035f49dd07e5ab3617c2f57272450f7b36e88b56d2ee7b6001e4e3c082024a298be575cc069fa259068f0ad18d08ee78aa9cb6add101eace221ba6a8eff0477e9bf39f64de6bc22e888808588f3c6bdfd9f13bf4ddbfc686f88242faac6cb7ec750e996e4fdc0250a0d208a860aa0647ae7b35a61027f2496066f3d27dbcfc043a9377a9039ff73f71c5519c59b8a324a36b588fec4496716929f514a88ad6d3ae35f762a9d46b19fce73635a02135e27a5c396114ba89b40df1168cd43a4e77009612fbcb6901f07522a9b585ed311319755db865e78e592adda9f37ec122ddbca4c232071c29df8803c591da25f5a2f0c0ed70ad2ac9126d707845edd8f9211f2f26434997b8a7aa63d6dd18b78a6b65ac8e254ac2a923f6baa641ffb15a046daf5807a19ea03a9b27dd51263c985e8f20be61adab8eec7b4782c94693b60ceba71a25e0b37005cb68b5bd2ade76b20a3e531921c5b6a1835615af94e50033cb97f2322c3a03d35f2cd2de8b8aeb4c0a59062bbb849cebcc9fd00c18c04ad8e403cff8d761a4bdab9ad6df0fd8ce88b04c42704c97a08c6a133a3e9058e70fd69b07017a25f659ba951b61f59a3a69df9be160f91860a19ed14a6a6a2c1a2b44d55d51979dcc85bf65e5af1195d82c8e7911c04bb3c3c96cb085eb4729900a217d0d69d68a949b17247fb17310993d372e57ac54c1bef3dc1ac1b5415c9917513d88daf6c981ad3cf009134ee8e9cce7a3441853d55f5a238a804f6e509071397e726d47a3d1d9f5a1e30daab4af5b164593cf018990724ba990ea39dc422a71e95320e853f9cac7e85820099f00ad8258d194bf3cc97f8ece32e002ab1458acee5479124a1f0b3121a4ea96e7e93ff1339400069e50f893b889c0d0260fea4767b2a5caf5b8bb161ac98ea746361fe6a8a552c8b5308a35f47d6dd9eb06d157680bade92103f18938b366d9bcf2f525bd52dcfea13e12f8158b2d94995af80700a39c2d723f5dd738a63e60b5e4ed5ce17de7f14aa6cdd1bee86c5c21b7d623bdb311eb44eaaba8d18d47b4658f8630b67a793fb815cbb0cf62fba9cede42f8f04b6f7d41d0f76f0680cd763f31763e243cee626e19faae6253b9dd6d3703b3eddf20af39fbfc6153b43217a5aeaf7b35aad7890e252aa5a37d1633dd4063cebbe724fe4b29a6fbbb73e9db4470a2e45266af0ead49eaa71895e78a343042ccdbcc8654bc653aa76ba414dda739cc64bff211f2c64756aa052abda472ad0ac1fbc8e03994cac6636746ff33d4d77b36f84286d347e832e555cde3d251ed47e73f23ba239e1187a82c711f538aa722988a823317b5336843c1c2ee279113e8bd576c222c1d7f712a71a63adba88c2e8bba8862f795ea442e6e375137f5010e150aa82e3bbf541b6ce4a22f49d7ead361aeaf25c2541c4839a8d82194aa52587f49ae6f8af5253f8bd5bb858a37c977a15604e9d148cfef7c78618fc2668fd22c4685faa6d46a83833e9a2ffeab0bd7f5b6ca20a66b910a46b44612c4be88e9b4bfb382d2fc2752e9d8e95c5956f45697014d7157bf31bf799e535204d9cf02aca1679c6d97b330e48740cbc99fa4e304abdba8df3b6a32bb067286999121c00071d46cc06b4e56fec41988c931272caf353f71f940ec7d890c68ffd26b201552dfad7ccf29229fbfc6dd09a5fb099b50673d239203bbaca2a3441d98870fd44e44a52df3fd9131c1c3f976fef0ed5b71af05d17d63c4fcc61a98a62a08f350b8367ff71689fc032da5b380629a8409657ad8f3a7861d5aa1280c2e2508c824e60ece736c49583503c1e0667b9b26161975a063515e72ef1796bc2ef5e89755a897ab1a43ab89b18dcca37013cc9da8291561413c4b24f6e999f833cd42f6bdfc2934e094ef6893bf40949817eb0f01200638ade279e1b273099e827c51d75ba7bed48928fbbdf7bffa29e4847f6d9b9548d4acc9c997a5c6609793380b6994bae7f41cf45a0ff82f359f9dfe067b513fc2ec86f616e0f86bf0c0ee68b0eb5862db72679f67488bfc4ca57499b93446248226a5a5451c54b28e26e36853f4898786407e09243bdf1f89b052bd65ec8c5574f8165dadf4b6dc9f7059d6616e4ca553a6110d4ecf665b158eabb3b3828fdc5363b16ffbc2c4564bbb9c778762e9348131b21d89eb740f90bd1e785383207ec8fc04f75d8b1cc36bcd83df7c8d2b5cc6e60fe427872128a25af548e4c550e67f0d201d24ff15b853c1971332404aa7ac75de9eaf70136f018e309693d68b196eeda37cd81c23c430ac2177fcbec73083e08cba891fa1c3d9aa004c3393df59a97a17a94810097963c9d4f590ad03e2db3cd5a36f6052754afa32a29f5488651fe874bdd9d4b591bd393112999e2a2fd05412c69a32acaad479ee1d37eff53c2bbb89c21aa2f91695f2b55434b380dd4e9c1ef2b4b3dc375eedfb57aa58e68d2e66faa5d72d6a9ce6fcc63b83d4333c5c8f6e25f22ff5fd00d73082b4f4535e08f34cd4513951789d0f42de0a13d6c79444b11f6f54216d9bf62224b86486e99a253b69cc57644e2aef5a0e31741e62719cb9f99861ede9ea2baa80a93782cac4de9f76c56fc0e4152d4b2442d65a1bbd673ab3a0313e7e7e3fc1fcd2d33797f12f4271c2d4a62bcb96612f9a29e094e91ae03034dd45dcef40dd1516bf59cb11ccbc950cde6723894b5a5c562a788b89799df755b0fd449534e5edea5b1341688a477b9d301986655962537f7e422a503e54aaac79275f8784962e31d00aa17eb9054a2e216960aab5de1f04f1637a8214cb4c85638aec27fc83d8c3b23ce8e65da0b1cee4260aa2f864565873ba5bd7f3d2ae256a3e8f88158efe39a0326cbdde8acec3659359f55c20296abe5007e9d95c94bb01bcc4bbf9f031c2b6f46603be7fd4bd5367255be2d2d570e6f6a7072dcddaab5cc8eb46472b6531702a377e57840a3e36696e661452112107b4cbe6128a42ca082bb59d31e4de1e32e48d7c1f6e1867e115bda0af03ad729065425826176a6432bdbbdc86327c7f919abd3a677415e46cfbe2b177edd64e81439627143084c4a43dddb91324c2c39905a974d3f16fb0c8bb0fc771792d5c413b42bd4c229adf826ad31a11b5ede10faa318a79f93320e6ad3c2b29e33e746a1538eb2464e8b421fac62dc62439d7aec725e738bf503462e5c8808975076a6566f951b77ee1964f6bc1681bacf68e89524b2d7a545a3cfdcdfbd3628b9f1b3539c16ab8b457f098bbefe7dc7ceddc41296affae29c5c2a9f351d1d2d9c641c0c77c2c9bf1dab6f05838e9420b97c81f76a9fc5737fa9ad463b6d0d24611237ff01d0b61f4e07a96fda934750fcb6974290b44f6592d65a007d0f60d7c2a19436b34d96fac20f6c194be473406e62ddad4ae7ab308158a4256e5aa83f7e4fb7da1fb14100c22789eaf2de46d852487aa3fa428809e5509ac69f1445a15d93bef71e92508b945884a8d90561d23fbe12fc9238e208c17faf4788d52b4ad99f6f0fd5b41fe5c9a199fe8bdc8e71cd8dc76143af03c4c3993de7cb3e667715ab22f1a414a8aa49146d1f423db0f01a6eea9d67f2becfa6633b477ae642c97cf680477b8f5c53c128df11af0c4e3c044cb7daac88b8fe5ad1e686b01852803bced9001074be3b39e36bf3effbf8fef2e56e85e3e150dc83290ac3262d742a0da47cc836cf908a1a11da27b92a60dd40209d6c265cc5ececa3b1a253c39eb53845eb3ec1d8fa7450985e7ac70edb97fc97d83543dae38546652c1e785aca8000c508644c8a2edc1e92a4246e98033b65a24e7dc2828a8f41de79006f3e186a7fd1f7b8f890af42771bba3c3f6315cfc7a0b87e17e0a9e6995e97141a13f501083d57b060d2baab4b6e294349e800a0b8bbf191efa3ca5503b0f599ddda14692e624b3f32d5444ed75a046e7ffb1ff70fecf533273666d298a263150c2388dc55407f88ea99fd0fcca6bc95715e80d5290adbb296e319709d27c4115ec8d078513980e5610b7592396090960dae5bc8ecdab8de9eaef70cb807f17d64b7906669b22cc6ab59edc61e1f4056cc6e6dba71456014102a08d5b04f2df46abed15112a203a4c72bbc8af15dd816aa0f5a66c2f5f36d82c00e7a54ed2f68f9eb2d76319d9a3716530d013bdd1e75746a84087a48df64501cbcea3fe79a737b2581557c91321fb2c4d3538ddaee9e31019cae391663910ab4fd0dd50508f6a01a5c501c6e07589e2dfcc911ab40a52e26cf7c84e03917577b5084baf441909bcb620b646a2b18f7088161354cb8020b61d093151d898982a2eb64c8eebe56a9944c38344235f8e89f123136844918ef20f518141a26f865063a1730a7fd3ffec65efa9b972bab7d2b2d98083036ead7003e5994ea42a7ea0e63d62612c45432cc8a3f7efad1ea6d8532d8ea3e8cce368b01fe7fddb98c9d063244cf4071f72d195254535f7358c838ce3e4b54e6c29176e36f6aa87fcc831674afd13f1ef25c3a04dd04cb57cf1b12e8cb69c70fea47f83d211198fde0ec1d8505f137344217ee829e2cd071be21198a86b1cd6f24a5ce2f234c698237c852c90d82466bee8540c7cf3d930e1582be3c92f64d1d6454c514a8c1777fce3ea2adf651af5ea7b8b2f3b7029833f77af80107c539c525e9fba4b30525a3f8e8b0d3dee271e855e264df21950f8d51bc6cde0cb797f73517fb59c6027ce0703e4890259a2dd942b099f7d0cd0b34b849f984eea886be7763010d2d62a4e5b624cd6d727c732b5a4fb9f231cc729edb47b4a6232878e49c329db4660e141ee51c0a78d1136c7113ece9b7100ec161fed00faebf945656cd07af289a9ccd2a2cb21636e9c439d1fe87e47cb21c4a08124560755ee051fd8f99787435542704521a7b3f3de849d0ddd1b8fcce770796b1890ff69056228770cebd034a2f7177d3cb87880e5e932bea6da8627d1721a2a544ac12a8f08aa04d46f1e0f6c30f3339881b08bee3a0b65951676b6538dae3bb560949e9e6fa3208f3baabb0e6b852a35963fb67a8af5455cb7008db8df60f9b1bd5eb6f4a341118ddcc173140e80b8f1bf3eee9141f0ee49ab6d0909a5303ece47732a68ae10ca4e825ea3ce2c0175c3b7f25f8522a303bf681b9ffef8ab33643972027ac3f0de80010d83874a7e415b3c1c4aecda98d6e47d5da662e03178207ed8a87719cbb23cd5a48392efb9e67e8b5adedfeffefaaa7ef427d7d77b77f12f2308e06d9d3e7dc2ccef7a01e252e236d4ef1ab43fee7e6229c6d7b4d61e7c3ef206c0875a2361eaada3cbdc7db15c2ffd0f4cbaab99a49e78dd6f4c0edb6e5a75e9250000d107b74ff7ee30018ecb5c21c720f5407a95e8b8da91c01c2ae1d3403608645b7bcaac17d0d76505f69a1ba0a279dd4d11459098af0c670ad81cee2753465b382231c23a044f62e4ccbb09485004a5aa0e5b150ff2d67929724e1e738ebccfea46828e8341a5d382d3a9d36eefd9c3d54f6d024e2fed84cf0de737b1f0216c7c0bd1cea2c9a31ec984c7839ffda1174e227f6df4ea5994d57132c406677103489d2609b0ef12f01a148a3ea1a814faeea7a7da71114d772aaa2b95eb0bfe72fa97d871d7bebda5f9fc85be776ac2aad9d62e25cabee548d39edd3b3915bdf05bb89a12dfcaa876d6e258e4dc95504fd1a6725430ad40effba9731687aa022d90396cbc17ca1936b50b252869057a9bb74681315bb24f5fd587f12fbfcfd1d4de0f563bd864ac7248cb91d1e6ae8c639ae786f0804e59004c577361970c55d6d04f534b937805f807fce038555db38597327c37f5f21e7c69b7018b7262e179c4cacffb32d8501ba8694cad08b95ef2afe45ef6be6a8bf83ca68d694bdadaef5e544afa9a730293ded6ed2c5fbbd0440ac9107edefe4cb0597b5b0878a1110baefaea5579119eb11f20022106562fc774b3c1fe4aad8aed08bc7228c96f1607334168aea2f324b5ed0bb19589168b1b86fb8a8e353fd1c0f4ed6e7c1deeda25056cfed000149cb68ae670bb2bd170f6efd7374887cbfe0bb5c6b594bd98134f51f87c0ed07bdc9d8880035faee58564ae2ed2202d26b00c0ff54e45561ba70eab326cb7203a09dfe9ed11ab8bd109972d7bb697b5820a1b37e3f7ee900e6d4e69bab09789c95f25b2ae192ba0221baa92f2cf3e3d8c5bc98c141aa78b216806fc899f9a929295c30ee2b4a53970b95b8e0527c4f56ef2f6265727d4b1da0121bf8f974fe26fef6409d9a0e6b80a874bf0b069975c1e9474f3c2955bac481674c65a64c32bf2e033098e015b66adf99ed2a6f2f6fd72604c0be141418122a1e3f8aefe5246bb2e04cde92d0292fa32ae3c99e4954dc160aa1a5ed14490202114702505224c9d36e1d6fed446df206297a79b4555d0ee020c0f4156100af6d47c467311f9410235766b0f7411e0345cff2545d28c11cb5e3cc4c09b2ce5f00ae80e51ab2ddb179e0b4258bc6ec3970778bc7bb1d2225d44ca2a7f078bb1d151246c244b2d87295f964ad1a6828c4b1427deaa03f5b123a1a4745e76e04386780d139e91da8a87b0929f779ef3dd1fdb5b8cd361146ae386a0fc2d6bc91e677c311bd4f63ca6e59296cceb8eb3b0e46cc2630009636691d21149ea80c89a67b860cd93235164e1c590399555815827e89753115368d14f8c3572297365d42f65a314832df2df75d98f262109d2e285cad7b44a4eb965f0c58cfd769bdd91d1d7d72919eb55d7079c7f019ac453cf30cc5b88ebc64beb7a4649a98c64d0a0be9049866359ca9bff67405f02b73409713fb2be7dc51b31efc4b1ac7369381d1bf20d120941ad5fe7e2fede1efc2ec531b4b60ab5974c1c1d1cf6c2f81b7e138c0b42f79885fbaf674026a210347c906e73157d4f152b66ca75e9039a9e0edd7373285b17634c804e922a3bdcfcd070f5a80f23a8078e409c5e59851d8448fc3b9a1bbccca6f39a9d838d8fc4783d0d2cc5a653444461379af66e7cf6c7581979d83fbfab83dc98f79926f0e611a8de170e2fc20f48d4f05c8e5eb521e5f6f472d99c4a0c6fc938267df56f8245c20fd405c097fe17e0707572180132c66e5e6ba64e3b2a737cb8879c288b51eb82b103f2602625e70b93ad69b850163fc27581448c4b5cbdbcb02d8630585cc7bcd77fd7260aebb7b2e7cd25afd47dde60f0e66761125b546154a7a89a7b3a6c4f69035e3b11aaa342485f6b6df7faf5a5ea1dd428ec1a1cabb4e3f6696397b7087b7b854f98a076aa47f4c22cd93043ac70320552a7ec905a4a994e4539dac572761b3b4bb31f40e69fcbafe0ec7c6e6666f36cd734bfa295343c1735eff16c14aef47518ab3c1b8ea17229f165c9ff1ca25032d4fab5984870ed073eea4a19ded7a708f7e16efd60c881d5a3e9984672148f8febb8fbdca0b4949853f7c8da1199adc906df57c3f3d9392cd37236a90cf7f57764c9559255a09f6c37e33a698d11e9119ae542df174a776e7cb9afb49eaf9f6395e5eb8c9bdef432acca61293d95f143a6cb2eca157e1b1d868196695d3bbef6139ce385a3a4a201a8c80c8425dc9efb139332d1d6f9481ba6a0bf0f77b02c36db15836f4cd679c368c5137c18ff351117c328163d1a6c4231e2d876e90cf891b6917f8315d4d4666f32b1676a2e3a5c0ac5d6008669b2c0d51242856fcd360cbdc13bf93842d72934dbdbe02492603bdd6d8b380344099f3ba48719f4b2e7fe8c61ec7ea21cee7fcd1cce4ac926900ac49a386261606c0bac59209f2abb5e2490002941d1f61fa53ccdb40b2e64b9a15b950911a559d6d79bb58ce4a23455d9b927389469132d56dff03d8dcd2829ab15dd2257535af8c73d9ff7977c5438d52a48311d5e56ec51463d6751e4a9eec700626ec907a0535f6a7cb369c21183d669e08ac58016ba39c94f7ed9541cc6646f7642995b259b76772e9d578fbe2f3dbfb98521811df511da838951d7520241d0c43326794defdcd5a20223ec7bd274352503cd573649708d8bd20b64a21baa1ba938a511c136ba07a7b90a1ac17b2e64b853c599af9db293c97fb679f21bee912d2a97eadc3c75a303b9c0c392bbb7e8fd242fc88967516a4c55c4f60e59a38ee555cd0ec584857968b91ddaced1564ab83acacf30755097423fb476949ddc962a82791cca41a220aa2a617f7dd6e4208a37b2d6e96fc6d239356e9ff2ab00af0fe9e26994d86e7b9046d8ee9b97a9f4d7d9d31e39bc468d835f284af5c6dc6d504a6c6a0a03667e0d2cd679756797367cddaa1177f59f1835435c6cbe7648908c59b91f21eae505d38897d4c7e7f4fbb7ecb41801ccd8ac95a189b01324e63cb7026abb44ba144a0a7feeff043f67105ad0b38d9dd03e0bb9bf4b1153dbb694e3005ce5ef2d5b573a35beaeb4e3d5afeaf0ec60591d39c9182512ef8248b3db7c111f2444190af7743995de2cdc86a31007091dc8afb38ee70dfccd43e39d0eb4f9d0e9548aa0b84d205da3601903113dd15c0eb101922c5382cf1f0f644d979b9bd32cef323b2262fe12d7899555f37cce0e24d3002a579ccd1b7b0fa744942708cdb98b69825c21b3fbeccfc1d8b90d5409a732a3da3b29eca44b30118e076c3da7bc4de6427bb805a95f9606fb10c38e611dbf2e28f7ff3fc8d3821dea0160e017b04e20c2099d999b8d8fdd9df838b7fb911d676377ce24013ad34ca6892155e4ca86c34a57f0893a49e334c8bb0be9ec14ba008139e2f7fe84ca2a9a02dce4b9b702144c0c318a9ab1f0423cfa8bfe26a7e92cb36827aa35b4ce1d0143fc78ec11972d8f3a73b539976215c889b884d616b8397ba6d4e29dc78bd763c919c867cb14f1869f0a61a1c340546d7e4b8514e1f818d3d3346ebb417df4ffd9d0e2706ded503254b0835941f535a4efd34147a868fe475dd5507887cf151e5cf8d247c4bdeccb89fae71cf03444051b80d8e766d8c185e18a2044979ff2e2b103af1ad49034a37126f5100fac442c8c57c705e93db476a7de2602b1479c42977bcc2f11814dd0bff512a93099fcff4c0f229fd8e5acffb1515a9ad679fa2d2e6c80835921eb7990c545102785a0721e5fcd5e61927033a2b054fecb8d92bf68aaa3c60b81c5b3521266fb95fe382c61b2922c0a6d957e9a3fcda2b03c3d677049a45ddcbbbd9d162251a344ead9f7779e612cdbdc2bfce173f2f4ee9e1142731e1b56c22cf2372d8144173724c60a05ea1265d8311276c4271e7ea22ccdd9b56b8e783b151122ab030243762340efdaa2d9ef300664b7f13b96cfbc0326bac6ecdd6cccdcb0d46ba4d49007612b7c5cc22c71e17be93d097efc7bb179d454bd581ce93439b8aa792efd50dd0c53f76ca7e1a63aa8bab4673816840b654edfd0b0fe13c21bd8ea8e9c9d93a80153c821fea55c765cabe21590b334227cd77816ded20e86488c5e4001999fc33954865364b7bf61f81815a47708f7bcff910163092991fccbfe8cd04fe4688979db22979c235df344ccce8a420f0158153dcea8ce6684320ed7b9d27b5426cda1fc49f82d2fbae1eace1102ce78370bc6e69d807f2b3f4322b19f2fe237063a6f9fa49d880661f24cd82e688c603a59b132d2ef919a13f39ed513c3980c7194b9e8da70245cc11cad6ac84be31e2bbaf87c1ec6374035085aca8466c5d8cfdf01151d7dd896b4ddd3a414ba0f68655d1bc4cdc0cd5ccf695c65c8836d525fa129671f8262c0e05383ae0e2c15c7f7e6a2e6e0a3bbd1319d2c27ecac9b3b29f3722f580a4eb9cf069e5afdba61a1e98d8a9221dfb35d30285e8e1a20ee083bb1ffc68be6793ac50fea531ed07dd10976d3410977e8aab983c2f1350a806b5c9955deeac4e31aa27a2d93e29dc4e8ed9b3baead1f22e0ad557e2b891d6032dccd5dcb49aefe97390b695c4ba792a3f9abb8082bea3490125bb7c3b509ad08d4fc097fbd3931055b98a95ae63131b1e39b998d70578fe1d646b54c7afd66f9f5273a19c1b0b3cdb5d37bea84926b1a0f164748a608e06165b5739844aa24832774d59553eefd70868028a1625b2232020683ddd8cb6d0034081830dfc91d4e7a4ba6fb21faeb687ff92245b974049531020650b362911c7302002a177ba588c3c931c4670e805c823d414d4ca2a9f2e28f28a7a6fe73d9bba14d72f40fb18ddd2fc9801ca139109e5dd277c699e8175704117c27c8f70e65a686aecc3ac90d3ed9fdc626808731aa753fd65f345dea1d605fbb72e223779317167cf1b4a4478d2857fac0941c0e7ddd05fb5a97602fd5bdccd594728be7a0837cdfc5419adbc152e884e0031cb1a5721c379863f953495125c8e599d6b401d84edaf8981e56c5c342dafcd99d0402974a0682ea8a52ead017422572d6c627e5d97ebbc81fd9cfbe467d621d20569b36d603dd7af346eb8402e7bf303dc8c49a6ad6878678005d76d850f2d4d648711cabc7fce4cc94ceb600ac22f6a4f7e68f6988f6daad83b4a5955fd8ea9d7189808175c1903e61ee9e0730186798fe1d9aadf2e31644fdcc9b482a695466617ff01003e3112852c508cd0219382bb6417ec2e9442ea2ce455c4c4d9b81c087312c937c3bd306daee6eae002fbba0b5e9d8c7883277458293a40afe9c7ead2a892f99bbe575e837cf7988022a120b96b76ef65ad9bcfc0fcf18f229ccbcf77e5b7be5565a1c5e11fafbd2c9d18da9edd7faaa978d904b25a1c28a70eab1a19829308d5f1e65eca4fb938099d75a8168d9073043dd4be56521f209572db193e7ecbcdce221f947a255b062beb2c1355a125efde0915868ed42df3d65ecdb04e18f4e0cd865d0a1f84d98dec4df66ae77a58b47a2f48ba328cf31bc2fa4ce3fc578d0ae832c5710f93480e0c0616f53d8df6c47448132dfc2f09b14d78d480341c588eba90c9fe7b857b007dbea8f666925cc615a2f3c99464cf373cd1dbcc5c3ade6fc51a3d464d0bf8f30f5dd5fb1592a88060055a893095d465b023938af434a11f99e3e93c2e541ade7b4794953de077e4518b5a3164f832769bf677a8b85178197a72edf219054d3ab466f23660036c50c5015b91967468c2727b05d952ec290f7982c3c3bb074a5574dd5862772cb0324ef78bc19dd4cc1d0976476500f6018ed2df4c1043354330f7fd5d7e3e1342e2022123d9d566dd5cc28ffdd49e77b7dc576fb3554547b9f3f55ef9546671613a928e86b59aedf5d8260aeb69c324300a0e932fd140da6f8a7c4fce2622a52a219d0c28bed9437766cb95c97e1f333b7275dfd1dca5b9cc0af80140e3899455f373fa6bcb4b9e2bfa715382361fc9afbf8909df5ea7e3abbcf4d84c5f9bd015fa8e45a3fa3097b00cfda5004fcfb3e2a1b754533da58f63aab74f92ae2b07464bf79dea3fdf53419f2cbf92b3c4680e2f485aa8929a5eb9392250637a14d6457c8b1d9c2da74ec6d07914bf9a8d1cb25db402323a28d5a8d3e256e9da1807b5ce3685de6c4f6e531cb52a1623dbe29760847009d23c7bdc546129a15ca8190184c5b9cdc1b72a64160903a733634149fc46ac38f29fcb783bb7fb9c8ede6ccd4e2efa466c83a0f150af039ed031b015fa94002264365ed2c2056cabd1114bb73c88efbc105e5e405a0dbf0d3af976efc1654cdfa2b17658b47390a61e7339e70eed42f6f763aab241b7f7bb4051680ce18863f5f49ca53d992fc6c882c33e6016cfa15357a8dc9d6b68307efac99eed9d04d27e1c69ac1f3ae98b4507d15e5aa50742145e37c6d171813e3a2ad75e4f929989124a39575113d8622a362b66d2918b600ad6bb897b1710805b58071e62ce749b7468fe7347497d63a60b593a6c97da552959c4cf6e6069c068f4f681237bfea58f70101a1be845ffd43bd496c247d96923f3f9d9d166578d5655233e691cf4be6c062e1174022863f50bf75ea22d61ca4cfa0c6a651488cd59788a25946f388248bee829d7f29508e66e4aa28a02290a3769e7c26c3a6d0412b81245d51ea823fb3dcef10187821eb987212563bbd07af00d97e5001458dae2d1b169ba74067422547dc995c8e497ad742a92e65ed447e5b13350c9a87b7a803ac7c1d2bf385717567b94108f2846a586404404a4241863758bd52ccff9084c23273acff1ca27b2e8731a1eb75d3a4253b93ceb33b7ba3f42b272b0ae97cbd270c375f50464f867c19d16229f36c652d497480519f45fc30cc91bf2ec8067f4f7c4123deeff2296fff133dececbb6c824e917f4250055b092b226d00cfd3f3cb4f26bfa871c1fb8eed1f1c15393f6f5bec2be7f1b2696a39061271c923a4446850cddb38267b3adc39654056d28845b57d6c051a5b170231205c3277c717fda1f696fada02a124926ff3157095d8993e77982b1771079dc8ade21eb52959a8a48e721bebc7b76829437e1ac4d08fea1f6f6ada6ab89ba98f0732bf32ceec6900734e92ba072d2766d2fa0596b63543dbf371f48da9a54759f852b2fd57b172fabc7541fd3f2762f6bfa2c5d21698bdfca2d826447a4c3d37c692fa8c7ddf2931a02bda0d5a2f1b68ca3ec7c3f36f963a4cc9d310a2d0db2957c63a85ba6771c984c43b02258527ac52eb5d810d7b7b605aad4979a793e6e1b2752fc69ac733e5d5b1fa435b0b441b2ef2662b81256802e4e510be8f12f99064e4f7256df7f4015ae4cd130306b80a214d82f64f77d1eea1c348b5d7cf9c04ee24fb059bd9996b7369f0d10cec99dfd15dfddfbed94cee90106619738a90b24606a55337bc9fa284e3d0386f67dd5ce8cfb6905ff1312b70171512ff68cab49addf35c9068305bfe4f489b6b217b85b9c474b12620e1f689c7803bf4958bc6a5f8d3106d06681cf81f58f8383c8dcce434c25c9a50a466e8c18c232661231d1b797ef9ad074d1d22ec45f118f03817b9987260222edf12e2662a81da862e0533bff8d841131e83de6403caa25aa9b4ba69ac865fe49f26a491a982d2030637051336462044eb39da428044c5924be08ac7b9ea584cc708b3307c3cef2a44f6f866ad9b4a8d9114db6dbffc9d58b5148bf24f51c792aeefcca67ca8505e78cd26f407d00a6ff8ea0c2478ad9901b8411c94cdd90fc71ccb4e7e85af125964e02e954647f0176aa9ec3bdb30643705e0ab463b2106450cda920a974d301955ace93afffa58ca0b4430b15fe0f7a09d36c441810b054041993ef3af4e716d5bcc4447a78a166817d3db0844726377f49b320492e3f5520912773d899e1b767a0565e2525ef28ccc01eba1aad3ebb6986c5ae84e5fbe6b5192431312fc59948692c6f2f9c4b27e88b11b88fe6464f0ba5f8713368700c610912b0619f8f3b50e532390c89de35a984bb6822b861a346ffc107c9c678605cfc94cb80d2c0a56eceae7d8af129142d9c6cb4e78ebf446f7c95f7b3d9f56561c057befcf1d8217680591071c49267273d09a59c9efb18058e67c2874331ac47e3515062e8ab53cc3cb6a83dbddc33fc48b59eebaff56b5ada7b117e741c30dd2ddec1b1f7f2f78539dd04dbd1030de48419fea31dafeae84a153241e69fd65820a61b163a4b81aeb599356e217cd7e380be1a71901993f8b290ac36dd621e14178b6a7ccee2af921dc516033561d6be94633a71f6d56203b877d59e72d7d6d561abe89930c2d787efe03fa44469354a962cec3f29054c578051d980ceb042ce3b1cfab3912fec4ca3a068e26c5612b1ee4abb9186168e62fb1832411322b1f0e306847564a5f1729ca99f968a4fa0b25d80e1be5d53750b4b681e491d28c321523926d8cc072da1df2e04947ed3defe7724fb3fde967f6efcb8c7e178ba5080a6843849b069a4b1917b631f697e29fb703a51bd5b00ee9a6ea82c022e1134681dd5710cf87b63a3591d0c3adf60a544be30a369e7b79b6a5a03d4340be442328382328e7cdfb9cda53100da73c900629d5a851283125bae0790467ed18974cfbc4d6f70f0bacd20befb85b45a36acac1b47efa4ad6eb6f320b6ba4bd832f82be0b13c8e5236e18984e5e0c0b3dd1f72c1df5cfa1d808bcf551cf72fb5c39d182340e908e7d0e5e63ce678b8e0c5515a08d6f7776127a6b4dac3ada0a82d2c1e7345278191f0717fdfa10ef594a57de32fc341448767d466b829d6afb4d3b636a5afe24e1f7127e4dda04e2f474553fa6590c75fb7f03fd0ba12a5ffee93ef5b466c54fd562ded0a2c80bac7b03572c220293e33e279aa6a51e6c7244ca42ba024a9b27d2fde84c23ce64c8448bc4333180b560e5a534de56fe5f5c81c0880d00d69639b7733a6aae05cbb19511deaf411c6c7e98aaf6701e90966c0fb5f076f27fa16d828233b33ad20ad484df2dabf995b9d30ce22aff3049728702f3b994e1ac028340d1aeeac63c1f0778bf986cd81ecd364d241792841a7656d5a4bcc481d21a6990471912044a0398f1322c888d3177e6dcc80f648f43c122c83b7257b32a2701c43b41c5bcc2210b912a3985b15a61dbe46f1eb1de71f7445dcbe1dc73ce4bc75448bca8adc0fcbf3ed07ce1c9dad491ce49b1b86951d91d36c78582328cca87e022361edc112368baccc86230ea03087d50f6d21404011cfcac4a6f8f38557831f00629014d0eff33081d72243a243a7353d5727f1c24fa41e36beab69eaa331e7c4bcef8880d7dce61c3f5c2cd6b59c1308af4418f831a78bd1ac5d9845379a8babb1850948122f213c1d1df58d35e6fab3c0f8e7f587b1b089f6f6daa467bff347091240c7594cf61740eae172480ebd79eb9f0e913fead169baca02115b679681e8bab9db2e907bd1c01061c6f8a4b79e057d2edd72376f809748827199d9d991d37a5069ec74c93bd3476df1bfac59a2e9057356bc0172cad0aa5e408aebe054ec1ee5aee374ac28de719d975ca74675adb8d104e311eb55ecfb53958624e5c881e8710c231704d6cd0c8895a0e8800b39b4dc12dc41019dcac5dfd978e3a2337933c378d170f180e0e617492c1055f24c7a5bb8bc31c701b0b506b6e08c81ff88acba8005d16fd89299a4ae938f68e597bb748494687f5d9c67872aaa7617ce9a63c82636549a8f8a9c8e4d030d1564d55feafbc485290c101d94d768868c4bf270079e2621458f440ccc886e7c51db00ebd8a8240c7ef91c8f731ab3a81159c08f3efdb4610f0b0b0342830aa734f0a834d25ff6a9db95eafa238caa9fb3c4f854f2297dcece7a627e2e49743db7a37cc44102a55a6871051d3cf7fba663afe47ca373aae626c8c50e3b5f9bfbd9a79f4987cd2b65a0dd8cf48439ab72bc290644028087c52fb5d316313500548eaa6d48915877715ddaba5b36b091a607d5be86f5f85e1822900e54e017cca967457ac582ac71461b9a5e98bd777f0d26724162c1c9d0cdc64081393e23de23b2ec0a8137796a03ae0979419bfb2ebad3efb3b44ad260917c534632fe61a38eb28db08942714e87d9db5b9864fbba1523d8a20904269685e66f7c7b0f9cdc6dd91e47a4d1e05d1e52a6f59ec6585e19fb2df7187cedca22f89447340a180fe9f262ca85ef1a7940b36c7aeafc60816dcb3225a57b84c008bfe69f27bf9c9e47404da647c94fe69d06dabbc38ea469d19fa9c45cab8ecc530459bcd8636787fc37e23af50ab5ab286ec733d7402bd2b5976a16d5209e516298157a3234d1ec096cd4317bb6539c220974d8e7aff2b702aa3fbebd89ab06f1377ba1cfc17847db9709e6ab7c971f087f23ebbc6319f9b855d974495757395419ee59c048ddafd09cf772d6ddbf5c8ec9871b94988a9c078c98957e97d19faee743803e7fcad39fb269c41395d3fea9088a87a29119049447d15601982f4932d4a87551513292cc9928035a760ccd17731348501fa9eabbd6940d74714746c3cf0fc6f00223ee5153b09e8040537f06bfe5578d0737153c6d5d61d0ec2e46313a396ae7e94caa1be2f5e12bde673a90b6750afb59783d18c014b105c4cbf445623c82fdc4052debdbcf0beb78b8c2ff0ff26e61af3758909c286db0af97328a48625f8f519353984ea24457652b632a7b0c056dc7615a149b5c1a6f8ec9d7b3d4e05cf267cd7b275ec7465822685622e6673e54adcb2de855970dd7cc0e644409f59f272e32ad9ae1cb0ed648bc0e0903637659d44f26b097a0747fc4684007474ed907f842684466808b2fd43921b0d7433defe929d315d707b9d75fa24ed7e13f8c4821b018cc9dfdad62c7d51e665e419a1deea881079d73415a61a33b69e042b1e562fe011f403cdf86230e9e2529d9ad8671c5eb18a0e06e7fd682267daa077c0a54820fa7ab9315d3cc6fd64d9bd43016db96b0b69ac120867d642f918e8a3a85a7adbda9dad5639340da5d01a28cf6dc6d26ff0b3b04cb4e88af29371ea08c45afb1e5249a40e716f9809d7f1fde6951263c2561b2fefd8d207751fb8efdbf5998bac53a74251228b5bf8d5b68834ac91dd28298b76b8062bc425d6345cde023672ab8747f8cc43bedb6319850691455868000ff81aff853b873596d10ad4e11a170cdec5dd828365e302fbe6d4b3573217bfb49fe355a37c8150cef284a191ea1fbf1e8a61eb0ed10ca58d8643881014bf3cde245c032af26cd3153c01d3ee33637a2602b38dc8dc52b891b6e3fdb99c6a14d6979e7029a7507b0c4102d14662ee559764df7ed8a80489662e5669687d00c0942b6afbc20042576550aed04144705f299f5dac150e5a3927cad0a44c8aac56a7980b11e2bd88a0d84dce407390401c05c5c9c5b289dfc1a2f258b8e14637b931a5f81480f583a6eacb81f12407c1c24d60bdc2098d5edae0e1a568f64cfe254ad67a113daf798e4eab5d609b0343ce42e01769ba8c3d2135f731ed3186b20f65972adca1b41c88cf0fa4b12c1b674b34e16aac2cacbe882ba7b4c74246306164a5f739ebddad49beac24eff9c332335d73a0047a695197dbef0a571e21e4aee608ecce3c1e9780fd3eb7156c63a195dd9562d60e61af66e1b0f2e418a87f9cde5d8a1da3084bf6eeb9a9766c729a9e92af9ab8b087d4c776d66b0014a7349201cc158f7e98dc04a34045d63c4c1b506a373430f77b1f0e0c8bf11a67f58103648a0af6f18a2a9ffb1cb266e5b8a7369821f90b5f5bbf483bc957af1c42f884c946c3b3130a356e88e13ff580f7ca672f0c8bc00cf36029e9bce7682c0029c8fe0cde2c4f1163cf8a5ee205dac63b89f02ed980fb5482a13f72fc897f26c6255f9e0ef01ac81625e66e82ef5c35f6c541c6dd07a12bc21452a81c6d75b3c0efdb1703d03bb305ab7efb9facb66d28606ac780fb7258b225a7be82d6840a3e9a51e3860d0d008cde717bdff8499588c14c6947a1fff32e2ab15c370663c59071c3aab8541d779a74a8618d27bc7cd756e1972122516281e64a85ba3a2a52194349672a675ddf0f568ecc333a00123ddf8a7494de6cadec4c160654d8e685a4b44796fc5abd5e20d472169abc86acd662ee18945d1a0cef32a6f99c8452c7cfbca0120e34da64d14dfcabd1f4b1182f76e389c4903023dd3e5848617361a666d7ff5a5bda33f473b2c65e9ed93ed034247815c296ccf9290745f84cf5bcedf157fbd34a1d83751f633fc9beb4a17e8004c163bf76c81a3612c1525d5484a64758d76537e6b1118d8e6081fae17a720f93f2c890aafd28ca6b2a724a0e809c967ca4e0a1e7841719dd2e9770bffaedc1c6853803535699eb35fd4b4dd6debdf1d2375c8645dd1039a418747fd897590a3f33825b3b4f9bcc299758d0b658d1380a7040b56e6446c3de226191ff3eb0ad41db4779f2576cc0c8ea82f5bbd6af747f73f5266d8221f0d326b5530117a08fd5f2e1fa0647047db6e1f93422599f9e40ab5bfed7829045552cf1324bf21e758e44a752a577a80b65df8b759f7f5591101b330e983eece60d91e77acef57fc00ad6255af477316e8448bdd18782a0b7d542d4d660a865659639ac6bc14f61c333101c36742c53471ff4473548bbcd3621d712609e34a2974031ca9fad9c5ebe4a986a011576af8349d6d19f81a6f3533a7243fa35fd899398ccf12675ca194653d7979445fe4c49f6efd54b9326c4ecfde2a34a68e24ee5a2f8f616080bbd6fe9489232f06bc10329106e01c6fd508ee7144cfb9232235f314fcc7f5df70a466c4d39a16b9f3a4f320d9e611c95fb6c732398672b3f0219f5b3d14e37a7b58e506c2b66eed15f73d5bc8ae5516b6aec6ac0acb6020035fec0eceb33e8590d55fbe7ff84e046f0bb10dc7b6ea27fded22c6636b67c05f2278aae538c9ffc167eb55cbc11dff75beb379f1e814ad2e009118590bcd9b1804fb5429f2ae8bdab98afdf37b55f18adf06bbe762f3388af7fe39f54cc28f2260d73cffe0447998cbd795c31a13a661733159cf6cb9c19e61a68094d076710d4c6950c83a1b9758f41e533af8a26829a0cfba1c463e93e55ba44444657ee7ccf8cb70125dab08e8daade64137bbff762255cef454f8b3f83aa8c402a3343c735ef52df9fe67704677933e6cdc7c69079f7e7abf07ec3df687fa8f1bad17981fd74526ef079e6f598b9e515db87e5e83258b31c91bfb047407c4d9322e61a8658adb33a6ea097311669d79d203ac76683cfee13d0c8791be2cae258928f247fe1c7d7a77adbdeec5bbb8b0d876555eae4b6c3900a28481b6f88ae243cef5a33ff730ae99ff3c4d94e6340e782b3496ceffdcaad89194dbe93216bd2229e790cac68af1b60dafbf2f50d98a1dc72fd6c5980ac3e1e8fd8a007b8ab3612a2bf7c2b49b1da9fe50182613dd34af6ebde6ed337ec9da03a170ecc44a8e282ce72e340ece2301699bb7805f5ea884e21934daf0fd1af0b3fc6277ac2cd8448c50ac0a05e7ac5774a7c2f50b722eaa14f6be4807c515861c261a2439e9199765912d57","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
