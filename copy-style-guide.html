<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"3d3b0792e9b163efb4317e1fa714aecd0ae2ffe86e9f5a28e423f07106b839d5ada5be1e4cc85b8d6dda509e857304c1cd3e215ca0256aef9beaf043f8f943adfac870fe3e70907ddc689755c3ca4f35c5724e7ac34d3ed15e7877e6e9fdd3d9feaae1f61308be6a0df40503f1f29868baf99aa557fbe39b73f0085f12574e927b00cf92da98cdc1c9738329fe368cabebcf94e4c8789e94e7e9d4e1822983398340572819601e6c3995b03648dd09f1b4c86ce202d23b8b0f5b406218b0514c79c971bd5e096f1a46a18e2ad78c77471c9ddfbbabda7fd29d2d55dcf65e62d0da3f8ed4446e2d6dbab9df89239185705688807226ae0955c6316c9fc5e934fef835dbe60616a138a8511c0b77e23c200450dadcaaeb5f5fdcdaebe3eb6ca2a6597179df1aa266dde56444a2e4404f81c30ade8fc178e0e0a02d094e4bb50faa22b1cac7ecefc4a71c0d407651f7436a51e24b0a822dabbfd70a99a3242b94b560f98ef99d82f655ed349345089bc8ed8e6a7c67a4abdcccede2c15cee76848968d00869cd8c0b36c37ec459853fe6803c4bea3ef4f5ab334cfdb20f71c65b48df3875b8c1a236a42b7dda0527a95469aa59fbbbc7cb5ca838b488596907c79312db5c7737b1ff5f64f1cc9d9d89dd90c6b03949b41f9a49eac7a4a10d69115aa6e73f097680c764f81419b689ffc4b1121a38b8dc12313d3a938d01762a181d95570781a9e4073ce2d5ec194ff7e9193cc3e3928eb373293c4abe700cd2d45a88b084e3d32a7cc7711f6b54b71ea3bd6e8620338d176396c078a854f8fb94bca1e908f4cb28a1eba3c44106096892ae84047698bb616daae83e1df438051980fae8e22f35f67ddef6c47b2558a23b26be99466bbf0e4dd4721f237a605226cfa4174883907f91e7aad2d32a8fd96c9d1b6a91c047b2557fadf5740eb82f957dedb9b5136ec69332a54af0401b8c4b5bf7bc0d038557c20ac73321ab8dfdc4bc33a27395e2cd2001e7985612f8114bc04af7841aaf9e0ccad2d7d19400ba5a5b249f36b3ccec334b2e0ac489582d09281da7c96229d26b97422fd6018ed56c1d5a277bb65e8203745817daaf9aa1bf99fcb9ee73a45d77f7b8be6537c87e33830035c96adcd01c2352d534c306435b217e8ec04b2be91d741b99ec1c5ba968cdd2da20aa9c20c12143d791fda3a4ab73647bf54e601f909e640eb164628fcb3f2123251928cb9f05c10bc636a78c6491a9098a28a29ca98c9060fdf78be5102a71c42083c1da30aef7c412f19eb0904762968b8ded18e467e049ae2abc65e0a1915ff3e3e866df9ff820863b06e1ffab5a5f8b16d4f5fa44c809ab9168a77fb3d787b82e745c479718ce4e6f57996cf8be716ff2641fd449f1de6b6d1c21aa726f6dc9720c90498f00a5fada045b90895af5b08e785896cc9b0f82c3a726a2e7c69410823894f95fbb47e7b3493d436fccf9246eecdc678699c40a89b7bfda67db68b554ae40edeb0f26592234b7a04823725faec089c14cd7b0fefd359de84b89dee84c18374e1acbfab8350597f00ae623d5553eb6e42b490a4fd18cc32f971e755ca805de0331ef052cfb300fca0a0da0dbe85a60a0ef529f69d6d22d078d7b141a969c3e5ad191e3bdfa8ebc8506693078602bcf0501cc173b2fafcbec243c235338162b0535fc7cb1141fd27008d58dbf586dd89cea2a35b4b5bae52cd086fad1213f1ebc28a4423360e58fed2578b8352c18593dc45fcbd9d7bb6833cfe9198c4d32d768112dd4ee7bfa863ecd25a3707c3f63861609907826c5912b8b46451d082beda1d3eda4a55d8ab9d53f820d55f602d11211da6f42669dfdb62bb9a0f0503af8ecb2f8407d7586b3d388bf2320a5b75d606d5160c1aa0fe90f80976c29d12026e43196ad66ac6ced81a6fe66597cc1df2395f24ca39038c550d50157507f8a9ea900662962d91258e36a2a675248bae5dd1aeed8f22b32d8aa3fd38588a1eed2c98f90638639851327eb306329866f314087a74a2131bd15f3fd4c1a4a9ac1ee1daf7b677784404872dfc8028a3d1f0ce7edfa482bc874dc9b2f735f39fb2486a9186b017844c4733ed2bbda209938a05cca65714640529668365f7821c5be67995e91c68fe81930e1a50c8a18b4aabe2be15bc300e78a6ecd92a1415dc776bfb35f38f2b3f233300477f3d0cdcf22824ab0fb9a59282cd308f8efaf3b6ed1346c7a156ce931872b2f9019510ba2ed80359962f05bbeba693c4e31ba03cfb0479c8eeff218f64746c49602895c37bc3596883b8d83fa2b610f05f7cd666429fcce1f7a37780c3c4748631a409082d74ac37d4d7df0e4e553439eb77e3e936289864576c895bd58ec13b0d7c1f0b961c420a16a2488669548c8d3850619a60557dcb3d3832a353565ba381175c75b80f46edd89b4c21537b9abed4a4182489bd61dc5b3d30b972d04c86e25f862f4964e5d62841f5b320e1a0bdc6815a500a0b0092c433ce645b5925402b93e88860b66be1d893115009156b6f0ee2c73f8fca8d97df25c13cf0c223d2def653dd9f5a8d724b22a433de6b2ff344b7a7c84ea62bb6fe35595c8cc94872a246205e8e557f6f189e91e9d6f9c6e16213fd961428c3dacc63a3ed3b97275ec51767de84beffd1a6272182001996f96fd62ed4aa52f41ab06a773178ef91e780dd4806123349ac8cecb731f1e18aea75deec0bf138e421a46c06c81c66a5d00918e75e4610216d03078e49c1490a810209a07a79acb1e8c6c873296736fe8c312ec18edcf05b96866087a4e62995830a7058fb9d82d9ef51c2c1c060e3180a98998b0f096b275462200ced71da5cc2a20d98786ca5485333bd2bcda137f36a89a88aae30f1f09df3c2f69a9587d57a969bc42807685113b6902f23bccbdf7bde12efca68d39059190f483a1319d40fe86128563d7f6967800f3cd705d400424a8cce4c51856e4f59e1d8ac2dc409c719b7796f5d4b00747348da23133fc81dc247a2edab2486428997085af2a287525c547907f5c587869c20fbe145a7511134fa4b3d77bdf98f2f3c98a7b011589cf4f4fc81d865d7c6eb65c2cc343696d3ea1667e64386be4cf15cf82a8ba02a8cb91ab86246b3b49808b84dee94342764e92264005f870af11a3d5cc0cf40baa2dedd0212349fb594c9959a34f56bc91f58e82718d66259d99882f3f7664e4e773d0a49ac54eeae768a29953ac45ae9e93171dbd606883ca4e238e11113107357a490cd76387f89e4526b50983f5740a527c6b8dce869015c97db4fb0602aaebb39ed0cdb27aaf969732e96a8f5a2d23945c1a7aa050bd6f83c2dd564a79397692e7c6a83a350f9c6de6f8b9cd73f9d6e8159e6ba2fc9e6d911b9a870637f42e4cd2bc5bb324474336bdedf3ec391004e1a00ae3d9f980f680e568813a18bb1a2f53da50e99d33873ba4fe80e2b373922d07d2250a0ab6563768d7961207420b67764d2821ae0edde61907a3ec64ccecce6589d220705277ec970fe960612956b00676a920ce0bd603bc63c096c1d54b94de7bb31ac01db5ec69891df16e3962564653a7dec4163cd0b02b563ec154079223f9357ddf2fee3483090408d67ed80c495093618fd1e20d4d0059fd361bf71e076dc27ba7449622e6c1277cd96c2ddefd110a0e69a70d4b9c368b3706c696085774127066c23d1e317d3a06895710e47c3c479aa4c07561d1dabe0fe66700970ffdb8240e360990e9eb4ee7bdad89e41803163a1ec778d9e62a2b2b48c66a88cb9f2a0703d2884cfe7494a409baaab77ebc8b1314de569133b1c71ef69764a168f338431fa5e51f1a1385d776fe00fbdee599a0c89ee20f5b61d9ffd0fbcc05a137c20dd6fe9a3a41fd45dc29120810f2fb34c63734f16cf3d72ef7cd91bb7c8b34f00203290fd20987f2097643ec11678eed1ba8f7314f8cc0ddc3c27314c11b1af4d511b1502665579556a4675d3427606f7c1bc2885e825aceb81015ddc70ba7a95cb0da076b8fc319c1067afba4a201697c8d9d2c2c725d5e285f3bca1d43ea703b45b68a9df781f9b73f23e9772f0ed48a6528e1b7451e57e938592a4305767d65b01edc24188e3a559a0c44e901134d455eca0e15e2a7331355d3a5a5f58cabe4a6cbf78a2dfce50b3395069dd020c376af2ed8e34f2d803ba56196503f2d0b49babd590767e5d0208b6e89b232e166fbe09e1ff7c50327452c661f9f19359ca6342814df64f00cdf811c8e23d33fc33810ab1083aea639933d0e08df2f5840095ef9f8ca64755c4400f4617d2448c9f4081cedcd0e4030d2772924bd71ffc42d671e2b32b35ade6fec4f49187094ffe2e2876e333dba46477f60e1fc7c57cb34bd649f6aec5c3dff9ab26bffe6f45b3dcdf3b48c23c701bdf31cb58230949bf48bf573a1611bdfed650b645d6eed173b65837ee7400b9e2fe7bb7223e1945fe0df6b303d24a1dd8b03454e2b5d584f5cea63968ee7b69923c6488c4569fa396821d0289efb30b73b8e7ede1461b4529745df72bc8bb789e1c2390a564aa1fc023d7876ab3c3c3184b9480dfd7eaa3310cc6c916bfd6a13697c7fb6bb8f7ad695a53134b9d5acb76f474ba7a5153819e2e51c9b16cd20e53596ab1f7a71b0e87a6aaf137e67c74fc94482ad0fec8772900c323a11d61a7214763abe253fa892908b27694e60325f402ee705a79ad286f2ea026f11f609b9be0d2c5b25a8fbb9c8efcdd136e7dcf6f742656aaed4b8e76a7ca4ef66b0a199a9cacc993966b5d4db8d3b2ea46f1d46e18ad613032e5279aba36695ff6d46bba972c2429082918857c19742f6324fa2f12705b5fe58ff606c0f64e03690bd2f8eff7ea017b088435762020267ae0ca7bd46470ca088a6997195df1cbcd4133c015e748c5ed91a13b05fdcdf096428f5dceb94ee47c17d0dcd8cdb8ef5881e0cb5c95982e9455884a3e3f58448e8d7017c7df4ec0860407bc84d25a2f02102324e7fdf3de2a98e2c6bad59d5d310eac9e3c21edd0dc098bee5877dc6756b5ce369c22025d3f7489105f4691047752ebcaa6f189b1943c031c424570c8e01c78159f944af7cd5aea830eb9633103fa2f64b284d6ebbf695d42263e4307a12e66b39e78a028f9b4c82e1ab89524aa79077846ef2e9c754f223a09b808e178743160580d83d43dc3feddd7fa5b59e7c9e0b4922dca361927b2af5f75fd02df6c87f18f8ddf7516ff149132cb4c1d9d28db9cb5c9168f2c450e3f0969ef1a5fb052018dc9de67daa6bb37ea5b8c5b27ff106624b07e0ec981c2156a700c4746fb4fb965a32338ee69795dee27d1fc0e5df3748445c42cfd845ac1b2c4554db82ddabf3b9e27d5501edcfcdeb7f0626d758db49cab43fb24e3fa8c733180e5ea1eafd85a9b50d546cfe2b77208e73d8cd4256a191438501b725ded0198ceebb62b54fa0a9b94370ddea2f49ab13b22cbcdcc6cb1e9b025085da653287771399e7771340cb032bb792169ff84b195f8d1059df9bb097af16310ff440cf547a8e20ccf1a8b62676d27c911b8670316afc34467123b48842a1f0d9bc95fc9c5e81f7fc5379a866224ed80ae4892f9b2cf1433c93e4d1fbca1ee6606a24ba30c9ae7e6acb7e293e6cbd78b7095c7aab2914a8244413a6f02c4dcf3cc2f09f211ac8017fbf69205e57538cdccee2d50dfd4050c224281d61053173dc09085d68bf2bf8d1325d7fd2f41863f3a75015c77c82b774aea3fb763870848381c1bcf887fd008e7b5d09dd031257e5fabc64ab325f0be2388b6107b50fceb447298669ac7418b04de496a7e223c8179b2e2444387d00c10915da9016b710773b8fddca4318e477bb9ecebb13ae2ec309d2942d13a62a1cad66b48325bdc8a9dfc8b5cb71be88e4b375777de3271a75b916005beb50d08ea870bc4c32bb490f1508ee03b8e66f229be16a834cc6d0775bc7078023befbfe079f31048b60b35ee8433017146ff6961657b12f578c30a58e23679a630086a354a204696ee4434e80cc0a6760b7223ec425efcabad58d5e88083206d81bd70efa60fc4b415653ddeb51b553e9c0209f21328fdf44ffc98dc94b99a124e747730755f98cf31b5b42b2c7e3ee517ae933bfbb8ae45a22723b585ba81addb19079c9ae933e320721ee2e96526836f988c6a5b6e33c435e593583b5b238050562721b5609f7b4514f7c139a34300a5b8314b06169c16de93f1bffef611723e2c12a0c9e6a8cebb9d34460137c89c93db1d1f60904dba11f1ae39becea3b04e20b533bbe88b6bb4170fb73e7c76da1aed2f356b2da6d2d9727950875877c875162208b89ea4e73936162a6d58e37a049d2c79941a0b2588e342dd21bb92e8ff0f2f84ffa49525eb7dab2cd7091593886461ab0d1292269a01adfa60628b79f2048919aab90240bd909e62dada6bed33de81b5e9c8a4e22f8f2afdfbd0ed4e9ba6a96a40cc1004655dfafcb5b92349c5b84b4e71b1c1bbe6f74673b2900165d93a294f3e3115de485e7145241890f0435435a0aef2a3a3dff5bfc0f17d74e1b4ba4144b122deaa12603e2d63e1fd21070fdf32f87c33eac6a0cfa62b84ce857e5c566d2bf298fd56d0783e28f146e0bd80b8b71919c0928ad7bdb4d239a6ffd853e5b7ec7bf60e882225a86116408f9492e254a927332f45ee2a2d0ebed62ed1e19a632482443ca1b401335132e1233002b8abf5ab884afede724e709a7226dc07e55a174bc2fcbb9480e22767ade0e3090955d114d4acbdff715ccaf76007c1f8372ca7ac9ac7d36febcadab8fd93b559b56b4de269465814b81fc503c33da5b091fb5491b9b6576ab34b20b48bdc0dba7651407352426d249912d389032f120fe23e0ea43af2222299d95d67b0d2f5fcc81fc97e5cde990b9830eaca6c3bd8fbf723efb2bbbdb9eea063d31090e9c5a05c78d2c9e7c5d5814029628c376b16a63d64de24a2df9bd9a1fd1b3faa10bf9e6789632f60ff1fc80e2c08d0ecad2e07f4af38125e6f5ce6911488b5a83cc3500fdba5ed4c99c6dcd633b3ee563ba12c5af4572eba54730925f200e98625ca5ebb7fbb5325604d34b86d6054b854404a38b9a14397c5d30287594292bab2713c4d45c21447fd3fc08a2e1ee987e0611e54bbdc0547ca57188066fe782453af82b8b27e44f4ac16d2d48a5acbcc70d435ebe332e542b520be99e4b2cfb8fe33d9b5f73fc6860654951c5bba757f7e60abe7b5e0ebc713c51077a54301c7fad57061b5121388c1168734ce9bcff347b5b2b67eceb71b3ef8c3ff613fe5c3afc527e468140e87b41fff7390ea9e685cec339f05591012cbebb036a1bfa20de7207a52102670aac0112c82f8374df3c38bbb01a3c8afbbafc5cfc059fc812ca9d1ab2865e5978d4386c3360396109a21ea835439532eff601c12f1f4738e5d6d9226f5f503d2da2a77e7d31a4b038ea3240f2bee3153e75e0390554ab23f88904bd10f848e84d13263795fb7a8bbd6299ab134ca3864d58bf57b7b8285fb47d06fe74c75c20cb6a76d253b79612c8610bc249458adb8b82ed8f0e27e46d9ff21bf0c149c7cfdfe1dfb498cfd4c850b020b601ddcffdf41ce4a7207299957dc528602cdf3dee2fe33a540d20f183f1c75d5c262b575fbcd56002bb9ec141477fe021375a1cf35f83d32049720e73488a8a456e5ff66de4813b10186dddd6d14408b4b65b5cf2d44747d44cf99f7a5351ab3125bd381c2653b8fe78f8b2e5b96ac29c4836c6d0e1e1972ac2eded2e71c249654a54d3e675d5873bbf4174cf4e9af9d0c350ca7ab6aa325bae609a86471dec114bc15948fe61c128bace4efebc7dc122b9dbfc6fa11b75315b4617c161b89597090edf2638800f55c626399a67584903afa06a4fce322044d1ef1335fa35ccf922bf32dae8e3d32d5b839143f80946e0c514c6df747f58156d58f16c62249a1ec5ca78a49cc6328d3d455ac379fcbc14ca2f9b0f8487e142771b18ce7a836d403056d5bfbb9f802ecb87fc44d617ac02aeebcac2f8c58a0536bd9945ec77cbc15a4e83bfa39b215f3f09935f2a0dd40423a062c7227daaa83d11114a9ede1301fda53c5caf765dedd0193ff4bba2da725319d7b11e7141b8fcd53c70a0ac4ca75438e9c1be1fa2d98beae59e3846c83b6eb2ef0db4c3d0122e5b2acf49b22ba78c44276ec4845ef411a92cb20e50e2271b0e1b5e154a586ef805fed3a9a5f6a063273330c683c82c72430abad4a390c68d9883537adc75da8e4225397cbe08397fa49c8ef4d4779bdf70b1d7fa52bf614f7fc25868284a6745999e426550037b211a87d691562de45a33328e3f8d26ca898db1ed23e6a77cc67152bab453c04fd0dd5d85996b09c532d729266044a00df4d2916a9dd52f9f8303a466fa55667a88d667a00f720aa3d80aa9c3dad33596763ea27a3b48c214661eb2e14ad2b21b069697fcfba643af19a39fbc522c4b9101ae73d4486366ea4d2b45f52a8986685efc38812f20ab67c50205aec589846c771217253b7e6defc52df6e260f100fbc5119d86e709aed0b1e82cec85d1c3bd49da1b7b3d042e884bd1a0657ad2ca00c272a29a7fc41907f751f986ba600337ba202033380dcb3a524eb702f033dc1f3a45f76ea37f8145acaba9bad38255d57d540b2fb6771b2cb74e112df2a15f94adb380f92e0c936833a52636667ba17c466b760f9258bd0039730104d6c2208e5f092043e080c759f6e41864a895f601857d3a2145a17a0ce1aad06b6141afe8e49e9d2c1d5bb0f24ae7e413d3fac71a6f9bab3cd43d6349471b161e2ff184137abd98fe693032b24f76ce329191618a4e1cf1471e51464965229b8f44ef4f99acd8260174bbfb3bb3a86e842e339d3ee3a1637cd9206fd9c86c5a67ae03c4c505f13bd4454e814d8f49c2af2087eec007838ae1d2551a99bbd12d6d56bd1051ba067ebe6b08be9dbfc7c2c65201ed712bbbfd226b883c8797f8a61005c4ea327cbb347754ac093e99fb1ef539398a4d83dbdf5f760c911d58324c9facf57a61236d07cdeafd46eaa6526da1f165af7cf7da63632e9d7c7bb016116adaf262e9baea01b7a22a25921e01995cda60b7941d7c5320e30fe10ddd2f87b741e1273faf0d03684e2f57704f3d647236a31365e6923a5431fd72df03155f6920a7615f666c275fd84b2dff353b159fab2dc4baa5dadb63bf8171d76da7fc352be670c347fa6d9e9d4ab86e353935d8fe8dd76f949d9a33ae4fb8b28a40af1c934ec04811798e84cce687b995c77321d4e9411f4e6553e6da72b95080349597ddb916ac64da2970778820232a00647740c633f0b750c49d8ff3e3e7288df1ba400581adc62c81a88a243126dbb28c69bad33afc925a6705c4ec36c141f2a7a5372a019f20592a5e29993eda9456494a8d026789204ba49047c93c0f13175dc1eff054f0506fd56b523162cc35d6076e5c619f62658393c5a26d62bf6388a70de53dd98c06f3ac0451c33e0c46825ba974815c444ae2639c9c3838fcc64bfd522f20c2a22ef393e50fdcf480a44055458c0bf2859c605089220c7eef1ed6cd78fe46656598abaedebb27828dc91ef9ab36fa902311e49a29cf48efe3ea75d60b0f0a09ae39adb4353da25cdb234a3cba7b6b93d9b6d921866380bf384da077ee2710417e036bbd227c43f3892637c60dff7091bec8bd1d4b82273465ea74c79b675376ef900f404ee6e4e6e9750e5957d762de7570a746bbc7c3122482f851ce79fc8017a7f73b71ae6bb75fea97ad0bc3dc65d80168339639c855a5717f78eed32a0d1426247ae9d6147f386e470b83fd572462a937e05e8b25652d52fc1b70a27f5536e5215ac873ff702cceda8289a78308870c943ffadf4e6bb7157575048cab14ac0794f13958ae318df6e566da84fe2259632149a8be7182f128bc7d21c33719ee83456be5d4f1fbc4a871531d47d800eed3550a53cd6f8168da2fd4cee398efa9b8a18e091253fae3267702de12198ae49b67cf9b529d1693d70a3aaaccdf1eb26b941ac61c2d11a3bfb0139fe6c8e8a31835b9e73ea7465e1c39bb56bb528835cfa0b4265b32d6272276ec6d27f54d3aae56396722834f7af94daaceb3f668c74c2ec2851d2269697f596ef833587aebaa4de0036a1a18994d5ab254faf547634dadf184e69c6aced26e3dec89f8c4ddfa7ba9d91585561f1a88e3518a7cc1858750d7e85f72330d550646fef554e6d67c301374d9a34d44874951654ac1045eee4a6ef6ce3167cc844ae91c364a7f53432880954301b807738bfab70d8f0c0dc44cbac0ecd048e1914c8d1cc64b51f04c8c9d80b3eb345c10085f63a01ebd5fc9da36a86ab8e5d4ad0509f0ec9985198956b5bab7dfe8b16f6a59a57b9e55ed4306813a30b5f9641084b1bbd4afe09d3bea245da66c1250120ffeb1467914efcec7a128aa2847aa5ff0e8e12fee43934831894eeb2847efb28f5ae7bfd107ee07b42b39049b3a363fc4019d59a46e0c708a5a0847cd1fb055d48ab694611a85d1c022fa2eec05a248514aa70328e56c08509b44f594a24b3713a6ccfe307497a697c2b8910339e16cfd5e250a63b3a86a58126838e8b59815bc7d76457ddb6e6e1a07c755883998dfffab110b88d3f6956f4294631cb6cd76b56e74abf14654b3d63239b267400e01006a7e675df46ffa4efa9301775106eebff8931fcca57f861b48db4c9aa23c17be31cac580836aab013dc9ef160a7080701be07841b3b6f4201c5618b1151477f5395e7df03cd358353b22d3211ab51bcd9605b4fcf141896e2284084481fd0989e59cfd0fcb59e1600dcc18127c2a1821313fc11a82ac2a9347aef6bd89bf8ded51cff5fbd78a909d33085294e31063d34772748b6952e21b0472cd97ee562ca7a814401ad0f58bcd5ba2468ef3c29a6d1ec9f5d2dbd87ffe2e35b39f0d2a1d5007ee353cbd9090861e2bffca3a7dc997159685eebeb312ffe628e001d37df0e7b4fb766d669acb3413c8747389c2508203f00e9aad5d39fb9e80b10f62d8ff2e62bb394a42450df927fdf43c9177ad86474afa51083acfac6e1b115d058b29778e0a4eb7232d24644bff6f35863ea8334a0de02cfd40a6a258cb5f3b259e91c925524c5a830dd76214020eef36ea3244aa2e2eb147cb90836d5e8a9822c9aa344bf3b791ae0f90b0d4cc5163e238c4c5f5f9f66461636fd6622375a14b621f254844a8d017827ef48790acb5a9cded3e29ee267342eb927377fbcabaf5292dba2de6ae408a1303df9302742f5d3d41eaefab52b4f25b49d166e345dd4e9c01f9236ece5618319ac56bfe387a1ab93b2ad17b9f67a16e18099d02a2015f12a235dd366fa1a7c23dd1d6b751a64b627f3fc3f10a7b207d72e42bd26ba2341202bdcde19e3ed64699ff670b7f19a1553312966cc3d42c953e00866f4ab9c705e098a8905b8b340e7d10de10bf368904c0b82bab8d9e94ae57642d5358a26b63567657dd97c83c03b2d3ceadf26f7d35c4135bc69f33a1cf6f87b51aded08914f4e0e1f94055d771a23f86727ce33503f68cf054efa5adde683da08a8672b40d5ab2b8839a5d616b3d49db93e7c4fc3f7e1f73f3f0a35f681f1c5350317b0255a2b01a8137d0e078478c8c1b47ce2dc5dd463182662ce9f8b5de90dae0c114be1808e5dadc5364e4a879de335711a48a431aa29e44b1bd3fd26cf5512ae95c5648fea0d63a6e082cbbbaf41962ebb3840ee1059bddc05a06579bb4495c729d03f299bf58e00d61a65ef391c1333d604e497bdae0c1d8be4af649af0feaa3da271c5f912939bee6f8703d0b606f1b41abbe08665feafee44833d047f415351777aea8e524a469a6511ea265b0c8fb04f024a93faa87da9fec7f1b9fa5b38d850297ce67c7e8fb380232c944e496975a8bb6cf16632d6253bd64fac4e1eef770a2fd6433f769219e18f8b14343901184070504f61aa28922b71caeeeb06e263a4b93f46cc342f5b954adf805cd66604293304d8588bb410f71f292d89d704669f06369eb27cfbd9f807f99f58bdb6fb5d3cc5eaf4d5a775738ddcab3bc081aa0a3a025d33e6145fa8840c04702f5a28d657523f113b708afaa20fe4ce03728e058c39cb2d9a3cd96b1dc91b835b57ef7a1ab55b5bcdccf4b4ecfd166de82d129f8237f036f20a20fc074fa0e2997d12551b7e3a0f299fbc72014007b908586518b34fa51780efce1ab9ef10dd7fbae86488eb3f439ac201babe5dc01450ade7bf0379472b7bf0e45f5d1959d6ab4f916b24c587a805557ea30db1eedc767eb617de06ec901d3ee0453e07612835ac073c8a21c1bbe6ab47a1dd5b753e18f658f5cf29fc12f3fa5905b0e462241d6faf57f5f888e70780e48f11275f95228b9d4db65800ebc871f0a4d011deb39aaf5b81a69a54eaa59c6e6db4a1b824249a687a03bc317f0cc7ae79bc88d09e5f6928480047c51c478fa6f12b79cd8640d60b33a4cc45bd6ee150bceca9233f258c1fb2b4b2af90b3019cbbcfc6a58102e12153fadd057c1aa2c7d29ca98a3ed475a0a2adab3e4a6d300c5a97107a96c1e73c223f60147612fdb31e95a45da0a1eef02972579f6f8d70e79eb19598ea970b7273753106c2c6e841a70c851bff336e5bed92894b89c638bf79d39889241e9a7cfff3b98c313967000e1e426b4322a793c6bc83165c461f8278041842b0b8d6686b9c0284c14d19416bc23434fe02086d0dd09bdc27146a1ed0759cfeb4a8d091c43a828b12ecd65aefff5247e4c2da9e228f68ff54584e7b2d40925a8098ab18cc71d8f85ac51792ff03a57f55c2de238f8a8258b8036b677e2db4a237db08f364b7638d07f5d034e8e7e06a9fc9604aae2c53d16886bf1b5c6d297821cd5f7bab2d6e71580de85efbbfd3ceaefee0ba384fec3fb77f659767ada0afe25f202b6c0cd1ff1a26ef119a0725d20414888a6310a946359b7eac99d08e56b47ec003f86139aad66c94b8c5af030420a6c95eee954fb0aacfc073e8e1ae9d6c73b088e817714f560084113d56e08c0a9f333f219984c802fa0b080b05e81cd9a86b957f3997edf2b377105eef085e576f3688caae133ac44c3fc2b0ad51a118563b8360c89aa047622a61a3fcf069d7143484cd8c2b41dcf939419a9a3a0e3e9a0c8babdf577baf66a901ff594920e1772d540f4f3aabcbc731c542e88dfc7c7154ace8e559c0cc84d16d87dc1117f72b32aa1df4ec544f8dfe5c7135c757addd6aa7a15ccce389f26baa8e8254e8ad0456e4771f7905be18c830b3016c81d829419b5f3a4e03ce3f6e2a581574a9e727704c2f4de0b0c9f2904397eb7424c62e7b2715fabaab6ac882f0bf7bb2f3d70e097ee26a1f66961b174aadb2793ee9de6b02c1f174c1e2c56c60814b5c9e40f60e639674db882313168412b29d5fbb449ec24b0ee38a51f270ec807a5aee4534643a490ba6087743f392e10f09523eb45ea4d8710099a7bda930cdd418746814409ff53935b8576e2b4a56f4caf4ae716940f81e559215087be13d5b6c4c799c972568f3c78e4b1e42c2ebbbb819c4191937042695d1ca83ba8c184f3c1af77ecd8d0959b146bb53a6191af299a8abcb8a09d3a8c9f41250a23df82a67164bd28e81f249d84a91ab3770ef4daefc70e1a5dd0bfe46293ce4d7de3da0b629ed741fc29e8839ad65d2373cd0c89c07d167e9192fabc3c5f260ede10cbe71ceb1aba1b3121334d5f2ccbbf4bea089074ee8d8ed26222e0e2ab7ffc5a78479e5cf08a38f0a09ead75f58718a445c680060ed9a3395a91bc83a6ea8e3898ca8063eac45c8f0a4b752b6c9f517d6d2948bb9281066718ccfdabda6ba9bafe80a2ddaeceda2b410d13e97550161cbf765531c4c66511324c2a3c5640465093defd0780799f35f22d8acff4c18ed1dc2cf491661a71c9f7868d16701cb06c7aea40cb2c186bfe27b67e6eaf60c7ceddb2b7699d6d98c1d8440e74dd141150d28349a5b403e9fe40974c043f4950f501efb6a7a710ccfea9689d5be7a0f424ccc7bf1e87a28682b245ce17ea767961200ddedd4f2431deafbb7975529466a1a1a5f26a31781473a13c66ffe76f48820a5af69e18babaefa5e037287d0f15bf97b91b66bfa3da7a76bc3bdd9be54958150b73b246c8c1639921b06a722142b8c8d77cd093aef758d3905334a8f2f6343fbe76a92ecd94e9ebb3695d8ecd8ea9e4a4188db2b454b99859c4da2c6cab31356d7f9fc6e8e7911a8c7675c1e6890bb3b32d2a1f4fdc2b7f23ff32f8279f10f7c128bb1c9849866d3b8ffe263a61620a083cdba60c7a0ee17374cc325051e38106812bc17d617444fd7a57327f34c4f13f9c0d183ba52c13a81bb8bfce0db73e4fc3d0e6860900399a2c6c2ce10c1cb5738d9839a9887d5bbfb423724ba2215c8af46805498fb19a521e03ea9ccb8181afe2ad0b985d9a5c2b90984f5235d51ee3c27c17039c40b9304bfde0b4b0059b9333c342fe006dee36d3e6fb2fe61613fb9cf3aa46327d148c939a3aeb69d2fbe9ab6d735c3f8caee2331b6a1f2289232cdf956cb3573113cf750fe875ccb5b060be12ac2a1003a3ca20e4908fc6e836f2e3421a650f81a836603a79f191c38088c0d77bae7aec9e59e8b17501ea04c5c3b29838c79cd0ebecb8304b59fee46dd879146a397ec88611256289437fc478f279c2d97ebd0e2b5f2a0b14a8d41e4016d42dfa00939db2e6033366a1479254c3d3d2f376185b7db978d404264e192399d41fc785f5b5d974167696ce1d242ea64eef203e0d9c24f7f9eb292b229070823d3704737c851a4bf3811d4bce8f15a1df8682ce8b43cf2594bae9374e8da7a3277099ebe44a6c6c79880ae304b8e1483551b59cb6ea363eae469fb76b2b26157e623ea5a786aba454a96e3370c1bd455fe8b9a8e4edb42284e5b37c9bfdecc1e99ef919d1d04f8ed1b45cccdc5c5e15c55e6aadda5d72e90d7202f869c389a141706d3270c09c6ee03fe4bc964eacb88a4bbdd879899cb3371e98784ded53dc3aac9fe8cb97ac7b3b263b71220b8c1c3716b34f5dc0b15456b606a1046fd0c44047860190b6b1543b8911fc4295e76e462e1129ca6bdae150ce63fb0862def4cb70fe3b0a90963133e7ffbd85a004cb00a6f5a0d11d984a0fbc1e3891dc8233a5e9361d9b2b5dbd81a3ccf80bbe8c994e9686b9e09428fa8e17cc0c2bc40069b965fb0f51510169161e51f5b1e4996d22a9d6f85590258749f22122be56ad78596c8c11fa5ad5e56cf83b6f9615cd198c52e6de3e7e3ac9eb289f78127d12ce4751fa410594f422b652e87eed3e20b062c537aff5bc58f838c1958867d12fd356266c25c2e2611889b5ca9e9c2c49cdbe440048f3f44186bd9c87b96ac110fd7eaee0913ed843538d13300603355a9844c7323403cbda4c915e5ea4b097bcd3b562f37d5b6be2bc7c89e3356456973ed2120894304f6ef0c880dbc59d48a01bfed6b25af4dd7e56ad2f52771220ff1c5a68d057f05af843e55a677babe733b724a9c15325b0a82077c2af251d11f558594b140735d284a72ed7a479d8f68f4ce45567eea03ab34269b3a0e58555ad28983efead6bb6c311ab8ec95a4c48061b7948ac77f6563767b34bd897970ec11f315f915e895edb70e9beabde1bfc3285816243d70f168b7d5bc5c324a8176ded68ced0ce1a2e50e0fbbd4be48b4a590a95193c7e8d3cef81f08daf06f500802c52b58a339a2934212e2a07f082290a2a5ea0025c57336e3bbb899717883fc82a43ba63f5b23639cf6332c61fd7e7d135b8355cf39decccc5ef7dad29df70f27b7a1d731e8a5ef9a6fddd6ffe9ae77b9ade07f4bf7ed6d2977f00025147d1d2056b93f68f243653c08dfab0b5dac68a954e3d73a2a94130e90eb74a35e7877914d8571154b941416dc4b1294062ff86021533c220a9f54d2cd55fe4b432899bb97e31fd11c076e541716652f63c3c8ef929a154dbd5ae0a356eb6a1c77889110a837b09f2562b74c424534fcc0dc7e8e193eaaec46824a1e93eef7bb305f5eb8ad47e12ead6fd344ad4472e70d45e107d9847b590f87f6919130c229a44a38e5986f9c5d424dacd035b5f7abbb525006c012549b5a2193655aa290b84b2b8a308308b6bc42370d7f8f1bd9214a0cc069b8f0a0b9551a62cd7a5bc3151b512b9365654a09e39972a3ccd5d9c677a122a507cf1f766fb47a7935a51b8992154efccb624fb94d41fcce57f5e2d4ddc3237cf9300881f31f12a6d98d89649e2eecbe32b9150c01978a13bb00e5152cc6a4189cae409c8a4e52aadbc3bf3d1ce09bfb25ec646a0d8ac88d063b526b42529c16457e63463b0a17e14143245d8bb42d6af90cd32e85dbd73029011f258c8a2b0d90a05c9149dc3fd3dbad0250ea13171c8a715a42ef338d43f7f3a14a5fc7f153c497880cfc2a46eb245d8059aa6924a0597ea0e12bfc1a3eee5f307516701eb9fa004bada14a7685d75b26a2b6dcf25b82cbe3f3b57ad37f0dae25970d799de18c73b2f9b6a72a3807a6174230987b617a3773c0e445114a8f52d0dc482f291449f0289fac5d56d09bef3e418c70b5b81a2cebcdbac2377f66da9c2695ee6af4be849961dec4bd284a704677ad4dd0108dd50e9add44a00253718863e1530ac135cdab6ca63b84bdba91426733a2304b87459193ee67ffbeb42255c23c1ca0d170f5fa7d230f4987d4402c5e8e23dcd3ec842a69b46e43a323d1a2e9181a5111baffb02b77a6b3c677722d760e2653dfa017c901f44b2694536ee3f114c0f148c71675f041072a665cd8a3f5c2fbad261fb9f16a7b3a6968bb1d3a5719458e6a7aa92951cca5e9861350b8722bbd205752ab8947b9ed9ed11fa1ca6b2de8a299b3b548dd81a9276744d0d034856cd284f94fa7186260f7dba8593eb56e9102e4be76dfa907400a9e5c2802164aec2fd2254c3303f7b626252044217969fceee28419156e2c5a2500d5251b5bdc87b45db94a8539739d56e14f0f2a888f10845347411b7920d13a800a8fa58d4791fa34790bbf7298d1ed3abc725ea29974bbe7f949d62d6fca06f98ae7dd0ae32f44a3f8f37208ee86dbc4d8f7135277d946dceb5e047bdcfa3b844cdc20b228dcddeab71677b0fd91fa63c29327e2842c4526be03d731a5451ea0cdb3e0b30105bc2ca5df670842addb0f3a4aff4663925d3ed20d0c5966c7674a63ef80f924724974ce82f3659d4af80e0f1834f951fc404800b9d5babeba489090016d557c30c5ec67cf17b38c31cdda05896a3cfb3a8c3cec8039b477efb3347119ed811633736b8c71b0bd4e1758be91e9e1410822e61d541dffa049c180f443bb6f1defc3784465f27016e1fa24e314e41b0c5251ed19a18e69f9a34eacccbc875bb6a34b1f4cc339e3b9f50929fb9f75d814a73befc0334a47a83b3e91aa9f1aae30a728d121f3c402f149c4447914734216ae5e569fd5daec0d1aaa4f29fcd373a25a92336265849f2167d73606acf7f73cb84091f17b6b8956d92cd141cbfc9ee8273b7bd19ce97e1e1dfeec3540af5e71c9556117f9491ecb7989d19a6fda216142fcd116fa971b99327e65dfc446e632543c8b3c34f2b39060e12670866d5f81e2371ae170cdffc1543597eeb8905b497076f845c66a134c403f5ac6fe4994d9cf2ed1ad6b01cca56756d2303d7d0192ce4a725ff02218350a359c570ba7472d89df755d57d63d9d996f4cccc70e1bb30b38e1b804c1b00beb4d7a242dc3f30afbe999ae813043c163b5c3912a76190bf2cea2c14f9076e1848735b22868e78bef6c1c8010b3ec2ccba2091a5e418fd83ef9a6ebaf3d1fa251b9168f0b5464cbe9cbe4ba76ba7f3a686dc2616f1d2dd15a5ea5ebbb638c37be3af93cd2c705932b02517f91ba9beb6fea247170e9569b05a3b708f281c335b0fbdfcd0143148c96587bb5ccf3cbd60dfeadf64672a8284da7d90ed0b6692c333baeb0e010e6e2379cb7c62f9f73415bff2c2e9f62298244680288ec6453e360483ee83c1a1924641c0a2f581cb4082335ca5d99bb21dd534bdb2036f19e36dbe17cd3e92b446f4c289d15276a87c073fe5b8c78d8f8dbb5b79b75b508ed1d01f817510b61dda9226576b7932d882b7fa377851ea970c9f448edfd65926113ea4460989d623aa01a69f86d499d5883df8786ef901c01d39b785a99589c8941a250214f0043423e887739f037a6e26c6eda4dcfc13045017f93289be3ed6d07d6947fe697a604be280b2b0beb8bf6ee8fe8e1d1f76f833979979b4528ec2dd1d69d40a8e9ad1f7fbd9527640a0ff6f26f4aa14c03447482a586e9e9a9f067b3518f132c88285c5d7c2699328829a27f99559f5a3601781d92bb3c2002e6e909a4f40f566e201338be3a18c79d7d07862ed21fc794c2e2115b366b872d1b5b832a609775d3ccfd625c18743bb648b60c3a8089e14d0551b6fc4d6be529581ebe4fa001b79391337041b60b1b182a6baa3f662d2f2fc18ac0b80acb2e7033985e39ce67048242dcf0d672aa093501f210743845001ba807f825f62348caf7e2d25759f4fbd2aae1376a8606ba0122e1eac68ae70fdf44e6a136a934fa5451503225dabf74e102c5c2fb1c6df8014d12a3cbb0c44113f521eb6e3f06514f50edba831a09f4358eaddcdda11db876061322291359c5e99158744d6369eb2502967a2a08d349e04d2f3b7cd63f261f5ccb30a0d9867456c35d2687c957ddd7223e3fb172646afcc4ca312e2fe34166a8de0b4c775768b7f7486e3207eca569d8f0fad40b9453a4192179ff2ff0be3baa9fb80e140b016ce494b564bf8ba0f4c7a5d14a26afcab6ebcc2745798252a8df0fe3b25f58931ea8f9161e7b3942d678445e5c50345a102cba03e0c502908adbef02440373ca5cfb23cd2fd283305f5896a6f422f13f4de70f425c458c11b431b5eab9975f5e21ab7406727a71e12c91ac25701683622e91e989401ce34d3792869194513e3e166e73b82220b034f23ca2b76fc856f96a5b9b9ebcaabd80e5476136c20d11df739c44af0d7c7df44d2654a3d083278d86871306279fc9767044cecfff09fc9161545b824e82892a6723b8ddb579d0663d6ae6ba34e66229ef9b72aa50feb38423e6dd3a3b1a9963b54319c336fb701a82197eb04909d1b51820ade797d84c9642cb0a0b0ee439e6cf319bde2f91bd453082c68fbd14ab70f6b6db468c0f7549cdce5b0d0090b848dda50cb24848071b1edb5295e042458c1272a8770b5e65e6471878c988fa079df0da18f136b87db5103aa790069b69c4866a0deb1bfe973cf2e8a730a732af4747eaa0b6f68d4dcc6641e2b67e7d1fc5ea62f799607805ff6a6879812470a042e477896bca6303df19adcdda8d4611bf0e77c3144d25b3df931b0dc3dd8613c4c28d6d7ba932d95f42fbb341cb2e2927c1d70238756005d4a7dccd66d180edd49b3f09f14a09aa86e29ad56a2a9de193fbf0fd63acbed44d6c72757bab6c6ef091b0805bf95244de1d2d08c153e83b002f5f50334e2e04962628b924fef55adde8b51e412c29a968f3fbe9916d46da0f07882ddb0cd5a707a83b4159b16ed7e41642af6c0bc1fcaafcdca935df8d75103930aaaf9325111f0c67b60bee58190b3ddb4c8b23ea97daf42ebff4cec9d92d3d4276bc41481c03ef8a21f65f93ba67c47f0a2fcb11444bb4232e48dfe5960611e65403db78b5c5e6827841032dfad71245284eac5c19bcc2b56fb51ada746f0d3c6a4a8d0562215d8f5eb65af28fe3e9c0a59b959b7b76ce96bd5ce7812078f178f17bffc43523f45f7ca68dee675028154acd50335bd8c6acae39043c9bf536d4af28e77128583aa0e79e1303b6e2f7d5121172764cda248a651ae856a22efc2dd548c577a8b933b46f87c08bce43b2f92212df782adee6ee50f73f7bdaeb718abea600ef10e29cd97c9726cec09ed2626f91723b20502c6b516da1b7286d7a8cbffd2eecbac5b5d8d8535e207d9d72d3309abecc5241bcb8e121d1b85d03a6c82c52274ee1782369b6416196e80a00d5a861378f5a34fbf39d345ef490c89a7d873f767017e8a6020b26f085956f5ba1762190b7a18f18b8822d17f13b6affadf9d29b5290af886a0d5a2c8c8e0b2874e1a1e59f6b95f92a71e12e5d912e21fbf30bebf64bfb714a7a1df9a390b033b42f82ebbd94912a4049ec27e091325aa1b96ee2adbbdb068357ebed97ce3d709fa2ec8cdbeed984fb57d5284835263fe153bf6dc5a28cb74409f85438ecb38ec093c073e2524d95b008915a51c1bc757f31f7228896e1e71da2daf4962118b80004719dc0b5ef5c76c21ca76fd1b83c3ffadcff616aa42335501ebe57cfc1bcd8b7437a0f4ef3139d119384491e68e15e62caedc53a60e04ddf099decd1fec3ccb54d4be3b89b2e988c580317853bc2e347a8c3dc94d1407f7d3066e73e66182b449d3de91586c6e657d0ed6d48bdbc9ca42709bf412bda260b0618429cb7d480ae60e5869764b2c8ccf445703338d9d5b51796ae3123065b2f4d1b80e3bf1aa15eaa3afe3e03b84b08d451bcf72ea7fd9cb861d2811c42fee5f4abcc1e6f5ba365d86cc92fa5140bb4c2e08e508b6e607a72482dc5d1abcf82b7d4f82f218f90f217e097064968b084dbcbea2a04441cb8a352ec7ab614c07d281206e8b2c5d54e153adf474e8bb2211c371e6dcd3cf84791ace9a02bbe01fd325500f66da1a0a6de0beab3337db2369a2bb712ca48002326e8603313e90c4d759c8034208897715be1bcca655a47ae5cddf58c26f772f216e015f8df39b8ec83c2b75ddb763bf0f1c4dcb2b5d1a877c87ea8c9216ac42066fc2954d479294b775888f1a2bd07f3b7258595486dfbebc60bae61d263db00d49cbcce7df2451413cb88de9252e613675f658e0e76e922b9ee882c1361cb2cad148971fc16e4c851f51dd61f9b6710448e8a0871fc566a56b03db4c1cd87eb47dbf4982a79cb0cf08725b9d7fd312cd105407eb1c94dedaff790ed0e3d071932acdd8046e43988e79b642126d33c68f8d2185c62c9aecc253f2412f3b6ccb0cdb3eed7ebd39853b837a589622f9b63d3bfff8d5651b33e9b65b1b337be63838517dc025677804ab484534b4070cedeca46e41d0a7a6827de57fb415589a3910f619a1760e11b9cc9c16b9651eee5f9837080264258c8f5c3796099dd895ad53469b710cd6e8cd2d3625a88497033764cecd02dcdadc8991c1396589790e261e77ce24a10d4d38250f2fd2b2111e207c935098f0cf95f1d81e01e58b0f0c6fabdadf12d3721bea3f48fe2ef0e753f5bd808b80d6cdbd93538a52b3276acf89cc72b1c0c01428f0e30820721a87c4ae11eeeb479236c5fff2989818ca255c66c263cbf077cc5ea7078d539317c513496bceff7636f0fe045a3eb8b0c9a55654e1dbeff3de62f2520a9dde5b78cfc64f0c687898b7337b96525d6d956595610ee19c39d44ba77d2d26427cd51fb23beea9db7a338bd75c3ca4fce83e0d0fe7b11137a9e7a9106297aec14093902c6162dce20b9617c016b671d6948d01469f218fd9865a89","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
