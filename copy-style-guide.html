<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"2df3a6c36ba801c9231ff3c1e6f722f7a4a93b5f526de77472f1e3bae06a11f581b42c4e5836320bb17d5bee41a1c84f6fdf284a9acad65558884e36310af0aafcfd36802e9694e81a3cc6a269d6116e5c1b306a1503ed76bebdf9a74ff21dcaa4ce063bd1ea43ebcedf21ee063f12d2b25d6da4d9bd8eca486358f691e5d4a6b8ac10648eb39bfff801fc32e3fc7ea5fa07ef4f2ea650c3b2c980c7dc60f81883f6aeb16aca2b10c8359db06a11b433a8e4e34a98fa7d579811c7f6150a2d8866427c9ddbaf2afc26f1717ab674aaac9b90f9dc5021e9e12570b2e61e06299ed716bcb738793459e49f03924876539b14285230ef5a370b3536fe31b84a72c429a47d60943e0bf7095f81959b2ae547b4f0832d1cf8b60a1897da280e5268b20074072661db49c71b07df895aa8b5d889019249fd06a3e6018992cef9772a92e8989b4c1fd6881db301950f7e90a6ec068b9d2d344a943af96e5f86cf20126a0f54bedceda35502cca7551f6edd0d8da8102e02aa6760180d05447dcf63d2b92a88feb72acd6f4b2621838d4a95034c8b1d8f5263841763c08322ac7b55a1ef1c51db34546032d171e5958772a423d3dba4918cdf6aed682156c7b3f4274bfcdbd2bfefc871f9d07cd9962ddacd228e491e802545e6cd6f19346c6b30418b2a95416f4847e58c20ee0c8a8f4f314b7353eef7a947439f9c8c0dad462b4658492601c630ab8238e26b476f6bcf664e8b375c3f5665dffc6c147ddfb579b449a500839ae49916afd6d8c3a92ccdfb392492b65a6b69d8e37915c135d536b1169c628a11a42448c58603b1b532f1c1f52710efaab9878f24c41fd7464ee90ae1920cec674e7f987e3453659f12b38f3d55b756bcf4080356507d544a454aa30612fa48aa6f503ddfbfb7564c297b7344d531789c40e6810bd943ad270f34abc6be1ae0840abbc5f6d6d8f29cdff20ee1f571248ece27e1812f3574e3a25e30e0fe3c1eb45d2a2c581b9548577f6d4c5db29f391ffba3c429911cfd7cace4db3f6a628e1428196b27198de8ea0fa190168f518ac810224d9eac93a4e2db02053795cb0ae57980338010726389812b931aaf674bff82732c3936c0884d87c0c881d2ee7d9d265e35b4ef79dcd53faa33ebef7e37701813fa495bf9541cf6c2f2f368df9cf9519474291fe0ad1a4a3dc284fe84d648d2fc4f7a47749dd5eb4f53deaf415a94e550061aca61a036629528390c70b7295aa46868937408790ef3d1c7e5e51541fb529140582a3439937c20c4e86b34aaf837e7708c7bb06cbcfdbe288004f91792f2568e8826d0679137cb3768858ef1942f618b2af3d3874f7f6f012a8589a3dc2061af2e5e7c8ea248ae864045eded98485dddde34f825803ec44f75a02474517901763dee075c35cff6e3f1e4999ea5ce6efd3bee70778705a110174568771cf3313c397a9373e3017defcf0f8b44e01ed4ebc21e2353585c0afa75dc81b38c380a2c53c1df6fd86110fa05383d8526334079e3bf097c66943bb022d114f6ddd8b0d05dd0e746ede9012e1d93b435dea5054a9b32bfcd154ab7af3c5b11e01b9fe20ebf4a4db276aca663b0f46de527c49ebe31bbb0fab872d0602c0888f708eff2a75bdb0a98cf65d5d3be5e2748c51a660d51ee8efc08ed9c48ebcc56e2be65c65c9b5cd8fb20ed3bfa06ea37a6934635983aaee5d4988dc25e3b913251f2765bf6669e8d3ef14bf229e5d8aaf9e7eb86c0b469d142dc86b6313642653152d9718ba8c90ae819ed60de8b902ee416a515bd76a3c7e03c9f5f44477d67259985e124d00c52419e217102df76e4e7490a7ab8414c06cae17f94ce77a961fc66da48e21cf1c1e5ecf67ce834cc8ed61d21ba0769152cda421ee48657ae89d3a3d77ae6a7732a941806e0985a917ca5603e6e13949b0e60ddc547325043f3d7539888872e7b6130017e391ebcc17965d7d14af115f2256f7842f5e310da023181d9cd9a200d3a8071b8d4eb4e017197da6dc61b3433b0be5bd9ab0d2c7e914c982410d39576ee9591e4f4786edfeee1b99e3f7c13e65cc2bbadfbebe25f26d35596a45fe268cc5e028c6b0391f936bcfbc92944fec1fbe49f970c77cfbef6cf41f6fcd80343e31db44223dd45b9d32a9d00880885f4d917613b35cba3268382feb150881c298734fb1c3fc9be23d9b4e2806d2c450ff288603d90eb9e7f2eca012706527216073c56c2843609a6c32fcb05f44d4fa187839aa64495bafe9b0fb72df019462897280fae9456b23f100a1dae3c8970e4d651399cc36210bf23fc1efe398461ba3d3c2a0e5505990b867e9b91397072c9c82c130c41e1e05a080a6f1a3bb3341dfc0340c32660288dd83f95203d755112d8d113670f02c59a62eeea848e020cd5abbad11db17025db7183012433e095b22316d8a8b81562d3c3e6718bfc2ec83a483b72ef525279379643f10f4fdf4ab0b3c128b5c4c8c296e13d20a145080cf2a30b4f0d9c586443b3e2e41dffabbefcde2ddac23d8dc83b9b1fe9267f3ace67fe87e821d502f75f8c74222d57e8df004d7679288d04dd8095fc4bdc5503865a467469b8f3c5be13a881b5519bed63894a734c61bcde8bfc5dc15121157e3c53f3b9e6626289a6b8715edfc2f6af59ee7fc91da99823129f289e6b48badec42f2d73f5dbe7f485747d43f273b2bd2777d5d457b06a10d5a7299bdc4d74a5d0dd03d474996f2ab72135f230015691a5b4e5c0b2de33a8d1f62873550fb1a2a9b75744c9712e64f5a0d720d5095f1797751c915eb4e45eee75de661298e7d179700a14b4f57f95aa3aa960a1737a686948a764252dc7fff740310dd81f2d93f2457df5281b149d1104d2f6370ae24fca3ed74a85b3a7c3ed23053d78386dbf3f4602505b435d8e5d77002778ba726d68db84c2afdbba3b07bc8c0a3db9eed5515beaffead3912ebab9f5b9e2a457def2b68dc3ea15dc3c2cabdbd45c3d163af3a775d1769a4e3806ab7e662a74795b3c39f7a3076f4101e2ce118355e7e1466358f9447fb54400b997f427c30115905a145c19d6b423f6d57791a812e262c5a66d2b832c06cd9d32f870e5253c0bd5ef4f2fc6879296cdae4a09490f6a099979e5ed09e5f0dabef79a94b6126f13afedcaf8e6a82e8f74aa21ca47beea8c55f37c7eedfcedbaf93c74ea54e3817e67e796d3e4c944b1d9dd86079f2aa09fddf63e934876c3b709ba725296b0330fbc21fec609237d1ee596f274749dec91a618ae54e229e3c87488ffeb9471f7bcc09e6c992de2d892e5d1c27d2de7c4aba0431b3ea2410f8c751f01ca97f2a78f60974d81ab807e7d3378966955579bda0de06fa15147d27307c19d344a7f782fecc5af545ea4b5e213721852528a944f237b44f8a5101d31fc91975bead66b9ae99d93f84d550e14ea04837d2089b3c68e769998bb10c9c81f8b8cf221981abf1f9efa688c84f952e80a40741f0a166d49728e2c1796b88ce04f2e700403bbf5cfedd5ba80a728437e6ccd8f7c42b79b22a38950b5cd63e192ab1e6f099dff6fe1516e9c92db387fc8fb42e018ad93d28279def3568af2ed1781bf718505cf6c46f37587266190fe762216f19b14e6732606f84443e10724299ed103fcbf1da76ee0bec270182effbc07d037d0ec5d00d177d307fab387d945deb39254773683427bccda1af9abbbcd22f3b81109471f57c5533e99f7f455d03bafdc2124b0103521f5f1a1cd0636e5f91e965d5ed1f51230235dfcbad2b4cb9c227b60acca0bc2e27075276f31bc44f6946505fb385d5a4cb30cff78483936290fad1b4aea10df150b73ae46d170f2c832656595438c9c6fe5433f6dce565c8460e419578f54ab690793496a68f147e716b39ffe1efbe112c168414093137538c971dbc2a325c4f73839b20e03a7ca44f0de7ac7647b438aaadeec98dea8310ab5f34cd6e75321df0b75a5cfe7c3a0eafa71b6cb678ba02cc16ffcb314748aa77bdeb84a69586a38c8b80aa494bc493c2224650b0ed6255a6a07401b4eb2ab05f0dad5af7b191ee560f159aee38545f708b769b9f03014d3116d7993a25d6085709cc5a2e3060856743716dbc8d59f60201282ae52ac559f4a1f476ba67bb82add8e78b15e3f9c6721299abf6ec57385e9833a26a7db0a67d3921578d0c0c2f64c6992943d1541c3f68f1a3aed80f10723ffa8702f002cf8c1a423e87f71771b5df0eb18120fe0e35cf5b3c52ed5f663180b6709a04ff5cbeb067896468a935a2e41e2219eeafad07f018f98d03a37e92920a92a1defc2dbae8a1c79274b805ad9a5272669e4481676b73c3caf0c273e455966c5cbb6f23802ecb6ec3befd309528112a98d0a7ab47da4fe7a8644e4801b22632be03079646ebba8841440168439aa6b551645d9feb9b9a6770b053bc97faf357eef76413ac37fc66e1fb428d64d4d44d7649663c28e31b4f970d8bc553bbceefda5e9498f83c6291bcbb96892a70b53f10e528c171ddabbffc264b8e397a20ac251982ca6eb949e27f55d8332cc394732c4be47d4495e6d08287fccd165ce8cf26df81194c0867d8d82bd2a78fb768836ee8446c6b9c8d7af41a65068e1378fa4b750f1eb1b33cdf726c34aed58678761eba5d514c0c2f7f782cb062a54dd796fdb8ac10de1cae4f0fad3cb3c1d5064a6011dff7284c3c0c9c2f30cab67830af88ffb5709210e32c3ccbaaa67e694c96b5488ffd295d96872dc83e68e188940d45c38c13927915580b4dbc36d2b72a2cf64a8db959936e52322447eebea33fee4527025c3111e06293c1800e23cd921495c981838016fa3b8466d429298e3b62cea7cb57516fa33de7d1bad265ea45ebda4ef694313f3c0bd27f5882c827601f8a4b6987cb869ecdd2ccbffb51a58bf4ffbb6b442cfabbe72d44accf3a127ea78cca55fc1cbe46e4b0a1d3867ce6baa8402cd79326140de44a8912b22312bb16ed00fcfe6aadd9581bb263f8614eead06a6dd7c2a429ce45a5d7667d2570e1c2d18092549d97cae56d36b7318497b04052546d1ccee6afa9358826e3e8a887c028ecade3cbb9917ff8b3d173376ac21cf6ddfc0e7f1c5900d31f97bff1a118f84d4527e1659b4f6f7acf0aaba7fb08066e432de20fcabca695e97ea1d75b213ebd241073defaf918f582eeb8e2b49b200b658412c93a9cf8a94c1b1e2de9d92ee8fd6add5b70ed2dcbcfe464a56c974f101a841d4a60577a26131fc899073185a1c4b4f222116c67c78eb41d909057cb12f58a243bfa4de9ea27458160159300f9847d7edd517de43d8e19c4208f87f565280131145a28784eb4a655dd6862cacf08838117ccdcf7305e38c2a351ab6926169f311ea369a3c23a3281ddac55f211a4871f4a0630c12d565409a5f3fada18f53f96146bf2a4ce180c58f9b491357aa0a24fba58a372df8d5825a87567fddb6025171f69aacbbf5d114a36e78f1938bfcc3c984c781ad35e56d45be3c37271c065c0b6ec9b352eab395e9b9c73af63d5d23984640ae32f8fd570f772dc273b42565a30c9a6709941192bd7e0866b0f93e0ed39caa3485a113b4eb16208441341c3165d2bf615572e02a1c25d83a57050000e4b3999cab6a70ba16419430c29fdb3f7397817f51593a1091c2635cb7d5546dc6a18eac03d805e589e9aac811305b1968ef64ba2c62d9ae7fe1701836d3f3dff871a5718d62333a67e462fbb89c2dd124afe74eddc09fa743179e737676f3924dfcba2303fe330c9be6b27c90135e71b60251f737e72a77c8f20f635afc4d04e008de13d947c0748fc4180e7aa56367cd907f28d34586492948234acdaaab168b95d0595e3bca8a83134a0bbaeb8d7393ca78716d5d6b936d17b4c0f47d2e6cd6b336ad2bf74d30ec779b1cbed6c2f38779a424171e0a144090618dc3903f8ae8449ba0d3b8cf52554094e80b5f37193f9050bc4b6e90bb3f3cbeae8026f0d3e7e2f5f758b8b8f63df90ebdb925b9f91781b849432b47bdec86f419fa58e69e9929dc6897f39c8849822ccd7c390a9ef962bf824a97f82377e48c967f118c81fd42ca6c6c9a45cd915fd496659f21d95791b2c659f894675d882fb95a5aa1c69c3716a9ba8cb933ed501f97cc83d80d3201ca02b1d8e5bfe3c2f267f000861d4b35e867900b88201f1d076283079b7f772d93e468558d56b8a5e884abcf3d04e6d11ab9001bfc90c9f3854134fce5062303762f37cefc3aa53859bbaed19c127af975e0997b7b4bcd17e6eaba798218cca02bf74d246210ad67cfe9b198b7e763977feda9ef9ce13c4a290a4d8c2aa5d88aae58ba8455123566a68effdbb02d6c3dc731f96474352bfbfc8914c734241fa22773b34645269012bbb88a126ef8849ca8a9a05da609568d4513f8508270ef1e09d748447c2db8124a09a9e2873a5bac19d90a9fbdd9217c549894a712346850c6356a75b22a77b15b10024bcb134a014b1d58653a627bccfeca23dd06243d69333e5f9c8b3d7cb5e3ca82d21b18a2296538c7dcae986ee8ce03c9f4f7bdc1399c36d3ac2480ca137dd3425f9d215c84466ee80ee446898caf08509e03196699447649ba74182f6759371a946e4ef686b3af504e12526cb25d5661a353e3cdd998edb5a68f6e31054a6467068a763c43f5c22183de1f6d30a61ec1fc004590329690067852b44f56080bef32b39dc5019904dad3aadc93ed689d8a7ec29acf2c6cd0ac9ae15ccb8063e165bac49bf51775a2ae86a0f86b49dd775ede35055f18106b02ff516f8e2798f4802f62c5d7e02ca2725d55b78489d84ae82f414271256a4963c18c113d98304a7ce4920d70300331fc5e5dd7be232e87308c3e09cfd1cd08d4efccfe8af1c8d3c037ee8e7ef8ed2a61acc9a32aae8557cad169a0b0da5bf1ba0ddb596cedfac774098bc8acb6619acb5de8baf561534ced7ceeaa6ec3b4854b69618379fc5d1d264ab532218bb17fd6e259addd557e622a6dc74be30412cb7dc767f56d09e5cad33bb92168ca7f8cdba8499114eec1ed01b3bd7977e4271de49b479a133d5d72094ffe932504c8f6b16f8eac944e0a64b8136acf57e0211b1865ad9db1ca98b5dd8c1497205399724e1275c6be875f8e7386bc901b6e38e27be840086522cae67009c81e31c6a162536d14b53092f77f18ae98fdb7da6574e7104ae5b3929707702b40735347d7b97295f2af56de839065ce55f87bfc92e235e05644bf09dab64a0c52da0fb86e7aa2fdea096b921a1ff14cadab2405c18bfc92390ad626bf0870ad780e32255d61876b11a5cb1fa32a41889aaa242f7d563f0ffa53e5f71c910ec493484f22fc8cfffc81cee2a75d4f1f0d0c2b6ac0bde646c62af569bc92479ea3948d6602e68ec0d94f4901de20738947aee1d2d1b9aac697f7490cf8c4649ebf02c8c896ca8458ba71699480fa678afcdabc3f0c8da150793223824f20d475490bff8c6127541e550192fe4b9435cdf13de0885c4a457f41c48db6dfab872c074e4ef42eb51e02dbdbfb5976ebf5c0ff04076de9ff84c3a4e0132ce49c56b7544fc03977fad5beaecfc0cc0fa4459a344729fea33305da22a2e5e2e48caf7069e88e06283a578f9b529a461335cb23547c0d7239b8e29c1b05d4ea0f13574b0295a96ece6c0bea4e4d53ab93f087ee63a8292e93eba56adbf3bb4f9e34d93cfa6111f7fcb4033f6029743008d2bdda8f871f62cb977e7566ffe1b744115cc4de8321646121e4624d98dd4c2790e867d827dfb6bcfdf9dcd6d8e3c59a4827286f739fac56717ae57287ea658c8225cce67ebe10fff82f95a603e84cfabf33dde27dec81f2f9ef606771ab6cdef72edc9d774d8068748b797f9a55a53947a6220153f8ade63e7a235d18a34c03422daee8f511e951d8593d3e534ccf06e717ea736eb47ffd63bb34d9cc47c0be501775e4c9f28f86ccfc7e25a0121613452b3551fd5a00bbfac2c4cb033d4d792bec8ae2c39e3a840254527058bf890510a5276bb5a153807ae23a9d830629edc68c6e848519ddd5d7f186dd8db75e36924a454e417df76e6d9b61949e2b741046b30c71f2ecdf92ae9dd8f6d8e8d7af2c72c0caefb647060cc45a294193a9d3a48ad2677e0c36648509c86006accdc775e4a634e15fe7bfc958946321caa56af5d48e4a5fd4d55bbf7616eb54bf3c9a2f18b3e6823f920ce9d0d5bdf1e0ec63637ff4f2e193a45fc033b32ed05e154906293e23917f44e3ee0796ecdddb14225d097e33d22e28b3c33edcbb061746ef6a77950f115f7e85e7a7820f574995ea29cdb76fc99ca1c97025e7383853220f19e0224936970620b6a89f9b7ca25de1f31d768cb0eaf46d29e9367c1c737e5481be22861597adc9747986018614d88eaa4b178d9eaa80bafd6d0833dccf9fd32503bf4f6e6d56fd96e5f98e24702f47e21c422feebfe1c99040d0be98e62a87c48b6885f0b73fc8ec4eb5bc629b8ea7f1b8fd66d2b8c321373dbab54f6500762cb13ac5e61c1673f5a145afbb1de441056117a1262223b4a9f76d1f6fa624a6af6cccbdda10896e8e31d461ca9232a86f6be848083c2d64a489d2017c0000dee53f9cb091ece1aafbd4dd4f463cfaf52adf9e2e1d1e7f6cc5a6f583aee39bc5f6b822276504ef95ca6607617a1125359ce59d9118c628803b52d4470d7146a1b6454a1744c4af530797a1fafdd7f35b955669132a4894c467f8b9a37d07af7a2c83fc98734e4bfe3f30b909db339799cdf6ff0396cc7ecfb24bec6b414919f464fb9b84851b029cbfb32a0abb802e82633c68a6272f54dfdc8493c38cd159509e2efb80e9804eac744a14d48cac3fc83f683dc9dd407c4993bccd9bac35398f1caa2f0e8fde236c069af48a61a92b9437cbe40561fd4ae4f53c380111552bc94ee01ca575f8c02e2dec4cbabe5983832f5daf8b9259800f5daa8feb65af1062be0778153e68a62b9be06ebcef2d591f8275e16d22dc5f0517031f6b48aa27171ebbab8d502564bf46c00c94fb6f5a5088cc2341f474ae6fc2274f1b5cb138e14c574f902b05c87a78bec615bc669a65b9da523269abf5e2c2c011db4f069d77f6ff636c52e18c3e0e1c8695c6de19f75fa7e545a37e96a543dc4967653466bee09b7bb7022c6006879463f429f9fbc48c46c84899b793c10a9cb6fed42b919cf2a8c349c2f3c94a82fe2e2d7228d0acc08ad3b3ffeb8c03d0e3a71f109df8806d5f8683df8a393356d7034d44f4b41a8bf3072b4b0b2a9392dc8166cf49db518a2356932746d5168cad64c0e2dc42084bc78172564f21f2c329d5caf941cfe3995410836e88097ad5f47fccc67a9ac32de1ede25b6d2713842f9ac34d5466ac5926b3a35346710d5ff08648150c9fcc0b65b489ec83e479bc04dcdf37487deaad808d08205330a417082f230d7220ba08c4ae4d761999724050477ce9d6df64526814dafc1e05f00cbee3de62e2d4a327e644ec1bbfe0ca04af2819e9e85ea4fdcc220dac5e26a2f49f9c286b40d03571e2bab09abec0ecc3df5b07c835532d1c9336a5c227aa13ecda33e7df46f32110ef3ec39436dc624e3431a73c1622c7457298aabfbb1f911ea0518bc0ca8c5b8e30cc299c77fb86819f282f4b4b39f0c48630e544cf7a78ead9be2db8a2938ad0392ae2c2c741a08264c081311b8593471049a996c235d3a4b7774ed0a62d40be72c9ac21a203c83fc9d7c9e59023e7a58ca27e0821f93fa2b1745d94015d12e67fcd4f7a42b816801d0466d7c4b4a19b26b11ce2a8d15291e73e30202967fac583158efcfcc9b6ced099369aa2a43a1715a8de77a44dd3f86d7423d23c13b23680c3767854d9d70a23ce0133035d2e9de0301c85ba7482084941f0545e064ceea907f8e79a98703fbee3ace206df1e766819f6020a3a3445d4b89a31f2ce9b3f6976ff12b8bb414ecacd297647bf3dc326faff6cb09b380049ffb6bc1339a5496209eb9643515ccfd3198b5a2cace2dbc6e6d9ff6634b017dee3b072d2565d1e0e8e7a4801d507110a2f368a4111fc9e49b78ae0fdc0d8cddeb8ea90dec3b50abcfbb98cc71a3f477d2f24a0413dec965d199d4bb9424701d6cdef82b1da0a6109c505740e3c6b8fbd9948026bbb7ff1d290f7380cbe48ebe9476ee0a1721b93373be07ee0c40cf29692f1d3dcd6fbfa3daf3fef828b7fabea9ebaecd2e4cee83b34eecf50a3ed908bd19ac59059cfe51c0680729bbbfb240e5bc75c250345ed2c22b8dd65ecaab910cd6bc62c1a8eda45644d562b1966c661c181b1a9137bc2763303e54473eaa944d64514c7eca5fa6b7046366eb9054539c1df0543538614b5f44e8589c6182ec1d5b98878c92a541a0ae3ed957fbf099cb09e76263fdcb37256366a6906413a92a430d0ac1c34ce1d9649e3dd3c7e99c937342cbb04b9d56dbfadbc504f2632f2102d52c20bbeff1019bf7e2e12067d03bc084f036395becd9bd5c27014c088fe6715ae1d560df8b9cd6d0f233eb2fe04882eb4767e9acaf2ae2d2ba2df36565424e163b1aa8fe0dc3bd80b832c2b7c1e3e97baf7cf31e15530a435e763d3510b713920eb2b4e6c1feeba1a68a3388c6cda49d7792af021bd172d264fc347da6d721990ea45fbfb0aa494eb14e8179f46f08dd3edcf3fa6a8bd4839ad29a66cebb3f268a5bb5c509cdc96e6e96380709477898d0fff40b9f42205a0d37918a9deb60e5209e5aa059a4e879a453e90a343ddaa70a689497ecf1de09fb4a7e64778a1ef70852370550d0d133647ef921e52e6ac505e35fc0c3e4840acb725e7f93b19527f0ea587680458ad167975e06862964d73a6bbf56568de6ae92edcf02b731a9822be5177edc3f1cee54a5e7ec4fedc69daf967686d391840b04f7e7bcfd0e0cb916d28de60396c82f5a0974d70d91a3f1b71669ed0a9a49fd3b34163f44b84ae02bce7f948fd77f161e5af4a4c5c72d3e07e1e4e615b7371ca135e4807c89c19eedec8c92e5e4c4d008af3f0fd3ee741c7cefa087b73e61f11f8c942a09aa43ee77d9b20aa2fba975437944e9d1693bcc4562223127bb65cdb4abb59a167a5337cea67de9399d09719d07ba651c9c3c75b5a01dfd6937c57c76eeb3a390395b8ff56696a219297a6d50e895daf99b8b33ff8ee24a20ebbbe970d1dd6632d1dd5af49feb90d15b0a905290730bc118aa4864f67540887576c1e1094ceb60592380010f42aed5116c13e4a519bdf3e86faf60c0bbd27cf7026dc998ff1db684918b1045edfe35ff6c2d490e64e8fa5254c83c04d150d35bb02a8e6591b27664158931a6503188057c37f5cfe25bebad60887d912bfae84b487f15e1f6c1245a68a79ea8a41448837285a176da6f5add79252bb7b703d978e524de95ba497148017eba5eb576c3b32261fd781b5f8d7ac0827be58e04f80dfa9b5681a564f34fe009fc42fa78b6390eb62d3a5d0abbfbd9d5b94311d002e71b38002d5943c9f58d13bfcfe73a72532c805bb87e8122a42cc8259e5dd75c3f8bf03e43a31080485d7a71ceb504a7d3bb3f1119293142ee520b3a4ed8a1c04a110ac3efe7ef07c5a2479fbe9c72ebfbefbe8fe696f6eb4f04c0b2fa15641e1627d1182981cba6622e1f360d54ec1d1295109da326af55d83ec39a786d632a7e9150c0a53e253c1f034dbf03509dc543691199dcd40067998d2f2f557121de7d671880732c74042ef44b195d430ec8ccd5784edc066a2baa786d12bd6f82101afdd3f82562b18c7bec11a1265e22163227730b7a4ec7f3204e6cf9ac85ef7867aed4d8bf894b42a6c1edf390711261b420005346339d722d765856c9bcb3ca75a22c01d42e6b7e922152e3d8897ddeb88675ea45cc3a307aa88b2ec9525435344a536e589cabfd261ef34502df921a8af599bd7907009d60951ea5971cac50bb6217bc07ce4669f2f7cb586f13fa795748ec6d4b540663581a84bf11e0e65d41bb4af6233dc77a9362549783841086d0867ea59b5efde180737c4e7e9229314a43ea967a5ecee1c8e96fbe7b612e2902bfa63ed3e618924f6534ef2b5f49d5f89debb5ee9507d79f28edf88c5ea0bf57376562ec2a9dfe2f771d17bcd31e163e9982790bed1d90bdf6ceea9e5cc113df3284c5709fd1171667f4160288f97faaccb4c3016e9a6f9a1b1149053d245a271f84260818f9a26c28f5c2e6ae5edddacec1639a2a8a9556f816c0b456175568c4499fcab0f09c71119b7e661bbe4e862ff78d28eebd3537e527d78d205a39fa4c0b74041491bfdd6b3b042c0b9c842d9f6e845b7bf2040240538ff43befd174bb918e06005cb3d477316f8eab73db203d93b740e5248a4f8c8253178ba3031a2562bd81b2ed4f8bc34d8b3195002ee1d8ae5c5c7b29c7fb625030159c7f50ab1afa47b4cf9e5afabfdba56c4c00ec4ffd18dbc419bd47fbe7f5b3c6ba99952d4310a1bcc608bf280f5352742a87b86048b25a51d1a4c7cfa6a65797040e22c24cde965e78d1cf07f6327cf9d178c9fa60de1317a1fa1b83096dc061de0a642c104d12db0376970b23a1f810ec586c0fcc7bf426bb269cb14377e7c1aa3ec09dd0492ad2133c1e3dafe196a444a50557aa49f9c220d1bf62701a296480495f8e6dfe23275d68a48b8ebcba9c1d1597d6f992fc4dea59d0ce39d5375b43a97c79bcf6efb395b9a50faf5576818ec2bdd092210a7e0a5dcbacf67516e0ed43b8b8d9d2f521c863ff10406c73628db40660fedacf68f9f70acc62b359b7900a9b75d9a67761ae52f136ce2eb41da741da24f0d258775f7ba636c4ffc2e8642944f85932ea2607c1c7e73400cba19f82f4a1ac51099e6c0d302866cb18a2c8b0ec6d4c5d37d2bb332a89d7542f5c9b1d7588a3100f92972e49003cdceb065df5bd7e283726139436be409beecd4b2b26099971a1b1b0a1b490dd3ad37fb6ad6b908c0e9c0ad3275e583855654a1c6b8a4e403f507c37b478509276e5d88c3131e637a801a957686a7660dd4b683ca7e5b7675e1fee0345041e77eea465fb6e6081b101cd5528a4c4035224a4a797e2997b3edb6c54e704a625dff350675fbc7bdbba91c59b33b8791274715c76ee8fdce2a28df821e2d52f76694bda220e0a759fee113154269ed0799f9d1f0d7b30d0acd9968f62f26386fe8ef73a32ffcf30ccb9e60c9f52fdf3d5bed045fef9cc1eed1035c0f638db1c742fb31f3d7d7a375419cc9db069588c9201143db95c74e61a43f6fc78e7f275719d177056e3749b6ea249de80d7802b749b5444ed7681e4af72c72490acaa8d5d841c830871dbb2dd4e1221639f918d5fc177697e313bd598df8593983408193211b451490d65a58ca28966f845e300460c8ade6bc93c5f4016b6fd29d81321707b7a0c8fd39aad6bd61202de3e9f6fb4984485272c3be65498287c9389e5c07d10fa66d8fa80926f01c3b7a9e85b166e881977b8c59c73dde348efef2454b6f24aab2336bcd32b4d55730422e58d553909b35dea9aca29a751f645fbadc32bf6a9940f80604ea5c39cae98c3baefad6d50770a161b5ec45447626c50e72e65fd5aa8b52bd333f80c23c3933ec263eb2d7325c28c28c67e65edd920a190010de41e73e489ee2be3a4c6e9043198eec775c3f70a3542d40daeaafbd9dcdb2146753e447e98fdf3f7393e7b92778e3382da3e58e82a7cc1f6fc26779206212b4678a86f96eb09b3ce2e5d83353123dcb47cad3ca1d9bd86c5fac8f3297462f8725338fa6c41941b0be55075b0d3e3d594c326ef61da1c745572222699b9f646173534caedb2de34f6e5c80c071d7a81f9d46feb82685e89edb9905242b473087a87cd031c9f2be5a14ac24ef48ae864b97abb5c72ec29d03690a199990f490523bd15eec2545c9de989af2b278c432eda4bc8bf2936c91f0db6e738bc91fec3c06d71d643dd7b55c234d7d1440aae9488dd0cd1af11735c0aa2d0474eea9417622d7b1af8c6d943728ffdee872909157d56d55e9569c2438064a2bfb6594435e1d73412a6ef16284c497c33da5459576a76ddeb185e59ed2060336cf17e86558932d60673e8bbfe3388b7b136c4c50ef1abbeff2d890bdc1f003c039b2f26657016dc79816c16225d90f5b9db657e62d0def7e35cc841fed563290e715f97b8d752295a8fbc946998c67cd3b5e7f369a0d2b3a720f6ddb1baf0ceddb0dd2a02edf45d726c70ec015c2e3efef444e811d4b9d66678be894451e3d53878a3ccb6d71aa16ecdb2eeb0f1740e09cf5c411524aa6e7abde8b6c5b9f291a111ba6c845df591ddf0a1e4533ca3d52fbec8c865f9523e196c185a45a5b0a25f338222b5cf1cc78cacefa2381812becb70c00d27171b79a5e99a0f8f487f560dd83e93d2dabab70bebf3622ec8a0965c13549b2f643c5e4661c69173939ab16114eb678a5163069502ff040dac68ccc74251c00f6c29f181b3b29a49b8f7a5bf743767e00a1ffbaed7d2cd0dc83cbe70d6d7e77a9651447844c72bb90b68557a01aec7052945c76f66afe9d4a1549c83d6e1542bb0ad5c103130a4207971511e8b8660a488efc61eaf6dbb7dc9565c54810c868e49efe30911bc11e8067ffc2f372b658f04b052fcf5705985b692cdc1782a95b3cb23fd49df03de3c3464f2590a94912a3dd6fe7d4893e8051904e9619cb366c716854f4e6e0b21d51f5f40d4af94d279807ab0ba71ac6f9d95c97ac79487b8a56268c24008bd4082c6f0f6ea919c084a4ac9b610393ddbf3140ddb20947d316a571784689a34e11b74017e2384f0757dd3b7befac5b5adf1231c0efd86deabff25587b73f06a07a306c3d70663c7bd31e3c36eaed5f251843213c9be310a92648808735e813565de26839dc040d147cd386ffe4e7f79934f375710338e2cc7756ff96df455484411fed164a58d84cb18e2a2be6f6da263b3fde8880831c0ab4998d72c84dacc063dc989d3ebdfc058ad02a4af1bf4ae4e55f0aea66eab589cf4c74ef797295674f73434bfacab35ac02777ea482a9c8c486c8a357c8c3bbd4d57b9aa4e3fc07cd93f0eef4bcb2a1de702152d19c8adbac0cf2a4139053b15a2ab5c830b5a2a3a682306d40c07498c15f244dea335e3b06e00b8a109a851e14944942c36308f5545f4e1db9343c78a088b916b95e1f9605f56fa515da7da716a3f72a63b75a511347fa5a2ae2ae288fd48cf19d25f1fe7512d75d6d261c3d4ef6b8e4510064fc97b35c4324bb682daea3d67ad40e93715b23435068399f35e19e40a48c5d4920e0c2cf130ab2b0c3d35763c6339f7632ebdaaaf3cf62c3b0c4b0a12894ce6f53da3727bb7ce3cf58b8814f3653405c8250389a86ac70d71d7da54abda5bd6aa7fdc3c2324d79d688c49f9bde5e2701d7ca301159f526c359e741b490f0b3be976d154eddd94e3e45efba3dc777b2988899531a0f02da22a3485166568688e5347af20a82b45c96b8fed7b930a9f6549ddf096ba6cd41f59af3e748c8a7c58ac149e5ea6104799a0cd8f50dc104bc8e4c0bb6fce4ae831d9f9c0b59ef4045526e4f916e1937c6a426faab7abd3a45e8ec1b2d0657701bec27d94677c912786f6c45812ed4ec6a6e9aabd8f2a13334e8c11859a776478242cd0d0cb39e827abc8e672bfa6825915719f4fa0f9ee8407832947492909ea4a9ec2726f7faabc9d7467e407de9d0a172040f29d4051070d373ab2cc9ffccda615ea6c07b2b896e05f991dcc8d0ea8dff1b3589adfb1de6bb9216e687e449d6be6f16337d5163860ecd320705ff2e153b9c60a7f491a3aedc86203af58f251d2b360a6843f89d1ce8260be780e893460f2d1874015a283eacd1d35116af009c58d58e4960d2025b2f28efc8fbf8174773c8e7cce97194f183411f999a12ea5de800b35a0de67e4a04be616cd72f4f9dc968aa781cac4eacf908e9c5e04fc758e0665199a68c3af8690e19b2b399af230143efb1735485c60e8a210cf275d36ecfdfc2b344ac7953bfa56e332dbd077aad8607fb2dabbd944519505587b7ced35bfa319dbe747def42ee85d6979181af3746bda28bd52931e82e2301c9cd724998caaea7b4c4bddeb3fa95b5a740b30ca84e0d70ce4b7e210b4b75c8bdc723ab896e6677d23e9f5f9b677e701882fe54d5d513607a2a488ecab418a9321164585360ab2111825962a21f9d62b8763f256b26b8d7e6a891041fe9e5b3d6177f76346ca23d45637af32d0a0340fa42570e075369d86fca6b1b2a0af394c30447919a97a320a43ea11f975e4d88fa9e8bd19276e2965e99f0a3a0797c25eb2e36943fb52da002178005af11b44f58a9262bd0fdd225ec64aa9d0833c8761dc6223aa5b9bacc911aff26b753a398def871c966a06e995f8dc8520bee543e9577cf198ad5fdb7f9e4b0f2e932e0ae424490436fff5f1356f7d3b959ef3549100ac67b4272dc3ac73c1c33d196888b9dd71abf5db0067286146f554dd38201ef9e68f91591824511b8df3521991445323936aacc23bb5dab71c77b1691a2a18d49674ebf4c93ea835fc76efa32b9e7f1ab1d1e476f495417184d560bb23262a320e81757a55b03eb5dd37f524444330d2f95d1108b857cb1f336c7f5a649755c1238bb4b5d23d1ed6d4249acc0f6492bbe8ddf6281c011b540a98619961d25eb9f529ec1e8646566fe9bb8db80230244c8886172fb2babc9dc8851edee896f94d35ab9c98e1c49185253063dd589cf96815f673e0b38410a44868c49865aa95438dd3def41cf3de3f9359f429daa2a2b86033320ecc00e2809a5c6ab015858571291c398609e2cb6559c97019c8d4d6b83a34466f7e0f6b8e95da335f89f9145bf1c748c57b54f5b00508e149c67dfd60dd3503e14a4b9fa4a78e5bc8dea7172334094cc700f3792c4e01b64a422b31eb36e2c73b534d4ae6b923245102940ac88217960b4eb5820c50152c5b0b50ecdd3a37b8d4e3e541a7b6f3397d6e5767ae8b57c5fa270f402cd58a7ab7e99f46910ff2e2abbed8b312612268d9ee9bec586615de0643c34890467af1dfe25371f384fb560eae6686ef9f5bd6ab76d0357f1e7462aed773a517033fa12995b3a90b799ab38684702f62ce7dba99a2b02efe8e4ce4b3f21a40dfe0d49150c2c5f8456cacdf43dc69079247c0f1d04caa9216388a138c8abbc7cde56994cda1b489ca6dec3ad43cbb4020e715837c55c33f34c69241487b042928bd2ca7487570c6976371e71b2513ed9620e75480d9c353a70fa4a5c827d966762c40dde3df03b499dc6acd3b2232bee770adbea3c5292999e8a5debffaf10617630c08e6018b71b5d2b9c8feaa9c7d469fb82873264c3cd7fd1940939c4b775f30fe4da99f3bf4a510e05f71f69d7ffb4dd63c3adf495e203411cfde10e2c5b811ea9bfb855b4177a066f2eb54b1d96888a8813e35280294fca9bf9631ac0d0a5e973f8af23700106bf8f278d40eeb3091cfef99b79e10b6ef77cc69f2d55a8214308ea5c0625f508601d315cf882a743b1a16d8df0e0358b3717cccb281793fee7a540017085c9ac4fbe8dd642e60f4ec1524bab43e524442bf7b96c65a59ff07995298e7fbca7fd84b073522e1e3757747e7fcdaa9f5e7b71c1fadf9c4b3506feca3c6033f517277e2c4e346b66934378e4e80dacc669e50d095f9cfd1a6594f875ab9db51c1a81130ff9297eba6315193e7f5f7b8c2b8b25b5d1ce8a04bfd21a383c1253cd34805e815f63eb8eb232c91abeab48b7718d8c91e4a7e3e03eb9ea82295be71b9c1bd06c2b103e1df95373d95781f9c5fb92156e0849dd6b4fb8e8fad21166ca19acc5d58da6b509dcdd89b047c4105d9ecdc9ca89f806138310e9bfd174da758e07f07b5e9ee7d0116453640251b63feb48a2bca37d95306907b073080c155ab09848341f51966bacad766f075fc95625a76eb41937f3969ff52811b2e6347f6fe4f2a05f6b77a128b0ab69f881c074d3421a9e111a073feb0c497082d7b843cd75f24ca7bb4d071ab5d3dbdcc6429a9f3117c135aa3df162ee836e3a33e528f5aec35eec665cc07fc61af41e9f22d347df10c4b3270ed45d3c5d2e350d15f5186b925459669fdcd972b5334368f9a15fdf9c9e52e6f9846958ef32c7d2b2592b6117a9669ab8c5acd7a5e5b1247ceab66c87752323dab37d0107bf439f31d79b2287837598741c3853513755c8f898b47399276c36d50bfde9dbf7b83d282eddc5d3419539c322b44706a1ec2e6edd2225a337a4d56a1b50d2ffafce0212a9bc6da8e402242e44d4b76cc9e9f41c7c6df699927ab5f5a9077c944953b4a6d5b0319a71edd13e48705285c3484d39c3d02b81fabceffc5d4f335cc0f60cf69a79f52e5ec8ed1bf1ef289c36c1f6012d1bb49a74bdea519b9f291e8085f0c439c2e0a00ab314fd61912e522b016a82e9e0147b9e263a6b64b468e082fffed2557e209f7a1d0234171acf0389bb85238d9886d8c4671a16f6947aef968801cebc8313d57bb430eeee895d5d7bce727ceb53402bf66a3fc7a40a0bceacf0a6b97602cb5902fd99058ada5c240ebcca6b6bd81bd5966ede10c9ad2bf76ee3473b9f28f28831f241f087f8ab5c109863844fbd5128ba3f25391182d67e13c1074d97df9c6b21065ed432f0dce69083d4d884d6f4703bd5ed35eb7f0ed28e24495cf733114c6e1ca55cc7d49b48305427110b20afc965ee6da250912fc1e9ceb1e7398b244e77ee6ad88700f77ca03317626c56d0249b4825079f842d271b927a4127b87fc98a90bac988f618a9e731170025f40b70448ef985ce51bc75f1c56b509354e09145350da48626dd7ce8a78500615614f3f29953faa066ca8ca60c4af31b3451467e192891fa0fd0c52572489958ee306afa8863990a18a6b1758829e6f399ddd1438f9324a0c8ea46ae75c95abd081486d0efa3764dff58625f8b2a2855cb1d5dced457e29a3e5750ef127ce572b6ad4fa3a440a993e5133524ffd767e353dbca6d1fb8d3519407c3c1ae0762546828ac67a7f2cd58d68050545e74b7f674eb50aa0448993f286b7cbd47450d035bf2a0122faef0e0310ba808e945742f3501e793b958b5263fabb554992fef6feb4f44fa93a35c49418b392a4abece6ffea7ef5ab1665a9d19e5bc5c003dea5fc1ba3cc3220589161b0508c974c61b69eda96d967ab338e95318bb94bfb6cc5debaa42dd67a7c598bdd1f28831565f1e183c2749344808f9f230bc72d2aab0908ca9eafba4fe73c56c33b4783e39612a262a3b94fa46fa1e32dec3f6eadcb2f883d8b9efcd17261a0da65a0c730ece3e580757975b5f542c9913f0a88c8dfe905e46953da161c455daa03bb52067cc0a1426331344b720251eef1d1ebcbfb3cbe57e37c6d6617d96945d83ef904a805f20ca98e1bb48b1d774d308368bfbea7e75aa32b33cc816f07ca280d6841b183f9d7a583f4e2b193b7d9adbbbe70312b956bbfa2cf59c35395e05f20e24c275ff59b9d2f4a139fe6418fa17e899b03ed2cf3bf0d2d2f0734f9ae976c10af448cc6754f25e7c7f475aefadcace663a50def050ddd365ec9d43edde46da5b72eb64ebff33ff172d3f0c774a6517cfe9a3b83cfea207cf27753bc30e1e38b51bbbb3c858767d06f3a0419f9812cce28632a1d715b1bfb10cc2042c0048450e69e2ec6deb35ef2acaf4b61d1302b3c3d965edb183c6615c0a382d7a2f28346e4e8bf6e8393e9f463ce71c94f5e8a35f796678bffc658bf8b6ed12d2d2d98249fa57e5e05df6058c2d228703bc45d4ca8da20278e1c02678863db70195ba37aef5b6e818f756778d8c687796f1f7f8a302ceeb76a5aab0efa619c29c04cd5e96fbebcefd40297fe1622e5f4d3de6c1ded3dc26ecc02b6cf16c406c00fcd0a8c6a0373a75f1d757bc15cd4b6b11298218702fa8bf9653625e4fbcd23484eb91a9fd8bff2039f14d0c0e51ff38145d1dafdecff492a55c15f9ddceed152a927bf815252349e53e272de7c66a576f056411158af7a130d1a2f3d61e4d91d63d904ed9eb2d6bf5fd68c11fe8d1b8e463902db6db67066843f01fb188214679314ca84dc6c5d17e20a70149c3f2d57a74ff00365a31aac9324be8be3b7964ffed1f3c38811b01ad7c9d05c7f35a7fedb6bd6efc34f40f445142f2d862370a2092c11f45b6551b88bd5f9ca5518e09a2471fef7e43c4e9f109967843938b6e18d471bd282844ed76d76d6ec8c46eddfc9488c814b121deec7a94a269b554b95ddfa47839c9a31a04c7db1cc4125448b7143bf846989b99acbbb345fc23b001dd31b3965db7cdd18d0aeb5b7385f1f0706902f07da6bfea569722ba655e3046701a900d752d4db1066e253b38cecbeb194a90baaf2d25f7a53993680ba2b563e3dff26f3718fa53ff7acbdec4bf5501628a9ffb81b239dde3a5435fb84115a779a94c1c953c5c574520fec0f90a320fce424f2cba69d3dcf62d8d2c41c893f9c66701e5db7f304d3e5e6b46bbe215d98c5adc9455b133867fb9e5c140671887abd51b96c0b2557f14d273988756d0874c6a881d31d0fe22a4268b801f6ef0657b042460b477f32261931c5c480d524b622ab725aea5b88f2f322c3702bf73e6bd464a59c3490f18240001441dec32a4c066107e8a8d93ee874765547c48731abbb9da016ccb91ebf1f4733ee4ea8ebde7af1b56b2254cc8b1749742ccc988cc45c3652c05511b09dc5dfe07d31e3fec78cc29aad2b7ea87034ab6a1045db91eac0d6cd6a8c95cdcd0383e3ba0e5a40c7ba53422c5909fa46d888412ac62a5f30c84c6aad940a6fc71130cf81a224e62aa0a92da84c83ba2693041cdb5912d78e6e307f6244cd92e6fc5967c0e5649c2b21df9611a7bf4949e3a3f344b2e222620771fc4300a060c7b249eaadc3f4614415e497538cabcd5c31729e5aa07dc2e9ba191d8eec3549e622be0e16851143fb3b06bde2bafa45ad40ceecb863d9b340e7740ddd791412de6dd4256955b2a2862e739c52dc2f3de83fbf63840effee756681409259ee3454bc4fb758e6af1c35229e4e68ada0fe23ed0bc0158a2ea8aa8ac641c75464c5f89817cc8d3e84733f19bc74ea9f10b6a3720d8c28a053958ff889da9aeb7240ec388b973d56c075d2fcdc41c02e265cfc6010824b2cbf28fb143de77fc5732ce442c657bfb440886c2e1eed22f6ceb016eed6494a902c06daa0458652bc9e568cfdf11958903f5beced84bcfdac2bd741dea6f78ab957b2f8ee44b121805dbfa8d59935200c5625d80f01cda4932ea605c3601349d7ae93b8368775d8c30b9435641ef86a26e684973c552bef11233bfaeb595742aef6ed3c9a6c5de5ef9f6dac64bec4ddec7bda32f5828295a1e2f69af239198e0d681322bce480be8da1668fcff1c2c9f748ad4a29dfdcf84d8751a066df8a3ce2a870c5c11cfdec97bdde96469baae001a97972c0f6df730f36927b6340d91f6b670345bb615a3361c25d1a9d491592655332bf03f667075d6ffc0f28acb74c9afdf31a1f9860096885d878ec3ba7d280b4447498c26a496ed1686614c2a15450e8c852f7f2f862e0036cbfb89decaa2f0d211751b2425ad61c","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
