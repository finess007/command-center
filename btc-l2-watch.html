<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"12c5ead00608394448f48c668e6548734339c361ffd95d9e8c5b042ebd30b9f1a9fbd207bdb28d5576d9deaa4fa93ed2ecc7c47060ee5ae67943382b501ece9bf4d7cbf471f03590b77deb9bab0203054d2b7864adc019d764d62da7565aed61d14ddb8f8d34ec5f3c2ac953fdbe6e814eb947b9f2bb5e0ae821d3eaec70468fe6c855a90925fda6293e34f6748b5d617988e4ffe26e8624fb9934a536ebf1c6f0888c798fbb8c152b7e22d35a5ead92a9e9ce525e7bac48ddb65e4552d6c728e7848b08d1fd9ee93cd9e599ca679e14b83440b3074c741994605890bca471674ef4e54bdc3d774772d2315009210828f0e65e22d58916ed81f7d284f7de90aad72acfa82b1b1d97b8cfe038d208c72f10f6b2f96cd680c87032987b923b74207e76e78ef65c5219f66b690bb9a1ea6b0f22dcd3bed7182d30daa24865a844a9af256b339555cc5d72b2a37a7c2944bf82ef04440445ff4a3aa2424275fecaa9dc2fa87e31097c1e4f41696048cdb053974d68539e4d6a829efe5017f0c4a4cc815f65e4393b88c07cc0c4efb23305382d831479ded19401c97d0459762b50cb2460c67c88ff85f6e26aac8bfd53bd6b362d49b567738bd0b23b03e14d2ad9ae7571d3e6b4ea868f7bca55ad940d63f5997d62fccd644f2132c8ffe0e49da82045e47b3c884f3e018f9572574ef36d09e2bd203e808d6db68a01d91104e499fc8c0c4461f876adc11ce2117481f48399cd52939e163aee6e53898b4fd68766e91faf2abbdab2419f8756710effd7e7bf2f39f5b5abf11be5a72ccf605746484de1a6b147a12e78852963b32ada0efb7fdf97885114e95cc754ef9dba78a18ad65c7461e10e50a58af51aa3ce67cea8f98d786b4b7519dad1a86e4bff86ae9a02805aeb940ca43ed374a3d1b399b7d5dfe98dddb6627bf02ce64bb3eeb45e0d5d5970c69b3ba79cc49b657247f1e0c03676939e59ecddf9a68c7bc662d892efe7a0f1fe5f67ee71a16c22b6f6ca908ea3a50b60aa0a0a2923f2a9d51602eb9eecbf6a79f020b5f3857e6a6706fdadada566730e583abc24f0d7b37b6a4f84369a07ada88e92fc4f2f873b52b47cf988b4b5d75865963e92558271164a77ae2fa2ff2029c2aa8a0ac1554b5a411d86cdcf30877d46757964a0c48fc186c9570892f9c8c51d2f7d570ecec1d4fe5c948c96b6db305956ab82140ad219c8152e832e112fa3b1a8f9477bb96dedf3d13e1cce32070d42ffd2258ed6d85b3d4e8928fe0746c3387c193c43aa8ecd48beddffec5a3528e71e59b6e38734c577c72631a53b81f1071f0a1870144247ca091ba4bed7eb03900b7415f604efd6abcefa4b388838dc1543d523f57bad0ae84a9537fbf46de07f6247ea311a90fa09eb2bc7286d03213bccfdeac5ec160a241fc76515bb8d22d8bc6e897df5ff857450d8fbafb80ad3757b92ed49238400d3b36fc0279b09dd6a0b3a3eccdd22afe2b3dcb5e0080e27e71f9c8c1bdf34938653d7845d51a39a6bb554da54b50ab929e425ce2d3a7ad78998441528fd66e943a28073cbc1799e416b02763bd893aac095c1fbae0bb5b5be226897a46243e4fdd437116a868542df0c89231da8ad0998efc9abdda99c7f10b65661de2d349b5c8ab805e34baf75bce4e8e91130a9e17d0bf2aeeb3722b03855b4b89b3341ea9653073ba32a092d84e34a5ac99829b8a04b6f921f5219818409a9960ac61b8f8699940e5557f63a21c7ca8074a10c024c07eb6efa1a5613a49c9b3b5f57f7e793b06fb7377bda82e3a75ee6e41310aad33187514785433829829796d00da2c8173f61966bae1a8e282a571754d6df12ab0754e41f0f65e285a5c2806d5040d172ed7d505cbc2af9ba4a80205db405e382213dcc76efb9cbe5be738705992dda90970382355a386a4279237e45f4edfa3709fd9b34c094d8c16dba1548e2e12ea6c6be3f9f8174373a50d045e017a2acfab21e8d76212e1e0a59f1ff16e13dc93e5b38b699a187ece56111f34d958a49fd5de4c99c557ce93c359d3319f312c9ca16b0955264fb48c701cf1c19fdff70cddd93e4d4f87fc3d1eb885101a28131fa0f8cc52fd70334b7468e7edae9792db9bbe97072210b622a84937fdfb179ab0cb18cd65daf169a1f00948138579e570efd156035df5858f557baeaeb87bdc106a47be633ce6ac345574998665c4781eda790ac5d062224bc9467df66aec59a1ba4c2eea628f801fa9ad777cc02c9d54fd54df5be26d828a6332aa76565366bf845d920c2f9cd37e23fea78a2bb60aba37576e3b1993f57649ef123641562e7d76f37c600b5d33821bdf899f077df1cd1b228646d373425e12f97a767b247cb994d8ed1397fa4f1f4d497b9592ad8a4dae3025c185942db258dacdd84c3f845fa872d8f2fe7c36d697403fa9cc89c1dbf8be32668b31b7471f84e4f5efe50b3e668c92d612f09a1c7a092f994286fd714721f366315d735e27ed8c2874a8cc8fe7ce9d79deae192e7defe1c922334b4b36b49db17c643b8279a28c856fcb420ceb482f2b6e96ca940ef06b3e6bab6134b8560f97ed58ab952064013bf069a41314f2f0abd6ec31b6c1425c10ae021f887acb66b29cacf84a5d6af32665ec2041a40000bad9fd11de1b4d8354c27ec7098527c147a7ee19cd31e45127695b7e141391c37738f3d570ccfbb7857528c92794dfe645b90b8f4ec9c8ee8bece7c813e883fe7fc820120a5481736874a595af134a087604a146d3bd26e4ff73b1804cb033402e01bdb3fc949c7fb986db294fc8f959f224744576e6948c6acb4b4b80bc5238091dd375708539aacac48c816c751009a755f59ef74010fd5ab79583a1aab1a32e1312c01a84d8a7c3c3c88058e164d5971e45f726e5e35d669322991766e40765b40a2a6ef58bb8734788fa88115f0bde1782f1480f8c3237b12d308207314d163811cb406e3d2d326bcb9d2b3da06258d4c83b10ab996fa5b0c6e1ac72f2d44a3144a282ee1a71930b005412945c05f30e417e11f72ecf97bfd710b9c9ab4ffea413ea4f41b4c16b62673de871184cefa57ebd42e9f1b1970bcb1389e30fac87e878f5be1f69c4a026d2df658192a24e24f6e5be2c3fa7db805b5124e13a298a17e41f8fd30997f3e73aa1967b324824eaf5b31efcfd0d4563bd62298a58952c0c9cff8bcd4128174a7a785f4ba107d3554e30732c5123670c99de46f188ec09ccde7023bfdeef7d3b210ef960f11543c0a68785e5f5bb054a446a01f4b2e12e6946c93ee6908a679ff88cf1a8579bc909b804fe69aa65103c10b809a675b84a53670890e0d8415cf55fe080e1ae04aa811ee2ff0856defa5ef9f5a85ec7ab6414977e1d4e640fab00a99f5546efe487f1882b525128cea28e75a63251781ff35a2750ea794727885a7d49a16b3322b6c339c42b3004b2f97c23cba809bf5ecbe355bfa1fbae4ab5951faa8179d152c153b73594bcdf00a21c774709fed6414d4e2a3b95cb22d9b9a9e20bc1c59f51a07108e98a9fd4eb8a0262fac5fe50a50cbe0c13e0ff36a6f2d9f3cb3acc5c421e4f8aebac467f6befc216df347d3a262eacc4e68458da09faf841c2c93cea0a865fbea7cf0431bbd96f4d8adf1904e94c9766bad74d8d4d30d2169aecf7d84b3e9823948aed070b64eb631c43619931abc3e861c77ddf7bbaf3cb70e006e2975bf9349ff30677ea2cfec90d3d4d5c5e0e2a59b3890184a5f8fbc21704a7174ea96ad5c62cb6c2eb4d6bbe290a5a012d54ec661df96c305327d4553ff7e416717090b2712f730042f5fd13de85394a2f42cefe7d1e2b0137e7fae1c859e9941639f260d3422fae0a7ad3607a22db9bd2a2f0e15a0da0c32acef8aff52bc811e22f91fe672262ef3ea4a24d6b54b8c59756b21cfb39e509c00e0baf18454ab8623872b381b5caf5dc90beb7137b90f79024167238978d7522d6aaebc876c4c1cba870794b47f4ebdf996e31a38e3a8f92198c1bc37342f4b7e9c4c33e6cb547b4c2ca18364dc9c4a5bb8d6abb7bac710ed739c85263d2c92bdf6e84fa9fc1b243c70fed52f7a17b3cd14ed6c529e6fd0cd1dad05bddee3bc4661cbbe584f3505fd7804c36a8fa64e3342eba56bbed4279c728febefecc6fc37fa60ca8bf9180ce04243798be0db946cc6e513c238c0419da269deeaca699e460428dd9dab2eae79a67d6d2bfa31c9afe69702dbc081e3689862d302b1df1adf22f1b22d4bd09a95a5433fa8b80c9a7ec65fe2999fe3b821d29c6862a1810b1ee9d1017c9298ee4145a61f6abe4df5cd9d9554269cde894217216aeac7722a67dac50df805ba5e6dada0a8885bd302d4b028b23f01042f4b10c4dd8bb42ec06eec8ebf21342630b5aaff4d9ce33727876dbe448bad8850f4d24fa2d965dcab923b9ccde2ffece46189cc9acbd949ddd2c074f3f951e62f451491e358db6d96c2c0825a1ea5fadfe0362738f9a32073614dc41ea2d8ad8ab2a9467d280857c0100776fc925b310c7218ce09b00b81d568b5fdf70e51cf578c32225e70abec05b930f01b17ce51a83594258668932f279fff8c74f361a7984b81fa402dae3e6774287e5d5389b3ebeded80449013bc66bf0c08386de0a11f50f713728b4280adef1a333ac34b4bc783d5896ca56c4d5d900c35bc8576944d14024a2cce2cec80e36a7a76056eca8dc6d9c5dae958db6e43b0c985f2cd8d180c6a5bad71adbf88a9d75dbe293e5f1f3e35fe81ee9f187b06f49862205ce271bd652c89693f42d5c7f2057634dd7d6d5975aeef9b83f5883d3f9c47205ead880d4a08c8875d1cb511a90202fa318e3497ed8c79f6db2412c9914e758e242cd494e262285c4b6956735dbb06b1c8c33761cbbf1f73f879c13c90cbaf608aabf0a700a11491a94cac50da373bad0932b4b553fba8f881828190db9bf2dfec2d1b3f56edf507e9132e60c7fe30eb7224b967a2483243ee525228078609d0fa99b46e06a307332818aa39d64be3efe2f19058ee2a023b98ceb4aa41051e8ee7bbad7a2c86e35b0933f69356557856e8ceda20795204d7a83d50d54dfdf648ebd80ac97373eb013164ff95cfa53507b525ced955ec65982665ce36627bb2faf38d97ee3a04e1a724c3dcbe1f15f59cf6bd34ff056d95b2c889f9b662c26cbf84baf0fc5203ba4284369811c09c9bf331d3a603541cbdfab1c2af388d0ec707fe953f49b83615054fca5c515b91dbe83eee3c9621cad78335033310a16c6dcc11ebb29b833c005fa814da99b1a0e840a1aeb4c2587d2f1d8ff910e56273664420171a3098d3a0fa0999dcb16bad59bfcb94398f9ad68b911d65e7dfa35d4092a50b631609e375e70ccd27073631754974219dd0d8e5b8653cd56213c3c8c41f18d41059be315a192fd1617bc6a688b8b85a500e73d73e3210efc38c2f7f6dd033071e97bd39a232bc5b3bd0a8059ecc1eb3051724c05c57667029a468f586b25ee9ee5030911b218338291bcb3e07c6595f10dce91b1b198f8f714b5759f758afcae8439bbc245023ea52749a628e8821b9a16ff3300e196fcb357e39143828b16c71757a208d43d068ca0b7bc41727f3b17dee3e6f26ab2588f0164251ed84ac44f2b4488d0641824f21185916d1bb16f4b367f1a884e1e91e10c010790e41a438ef421356fda1e3d433fe21605ec37b49ee1da336d2f4cc76e7ba477733b7fb1e754526940a1da67251f86242ff96d45a2970e75502e2dbbdcc4649d3e947b87949585ee0ca6974a8b7622632c41f53e19c7350aff37c04554ae0104dd9a69f27dde1d5cb53921c3c719107b9fd96329e26631b76c059abdbfd3aa2bea2539a60c5538918771f483a8189d7245a094f8632adf6a04a07c8d7dda7f5acfcfe52240b67e6bbc3897b2efe7bbae59396442c736b34ccf70006a7c97c982b51158af330e030adef9624a58eb39d48bbf3b126a59e673e6fb2fb12bbd0f5ca76497a27da7b248147565bf78a259f02a828ab11bd1b2189387838306e1a54116e5f97b5ab89ab9ed1441a7a837dcf94179839edccd08889d522e670c3e547c0faf498b6126ebc7bc710cccf61c233c9e007d31754ee3698066c90d05eb11a4e42957f1c87a10475de20ce7fd15725fb47f1e9c70d9907c9fb743f1212cd65804d7617302f9da9b1aacc7573a4b30ddb6cfc70437eeab859b3205989bb1078d63a4f1b0f3510eb41666c2e429724e7e4d995d64f29e3ce42fb5d3aaa02e3e72d202e12d29e2d53ddcf21570fcc78202afdb636440bd50789c56da3b9e4aad4a9b4f2e85c273cff6b70318b5524099c1d1d4f5c2d45d37a5d8bb566f72b807626e67d4581afb39319884f7637e377d69507a155c2715afbb078f9c431920ca932635c82bb8da9b77f744b86f1dd3cee158e755f5fe9f2952d0e4ac9ecc2613a1375cc18884bf396c26168976796805233a9db921420d8acb9c4f997ed980382bfc5cfda4914bb7edf8b1a968b81507661c1824b8a6713304bd0073d83384c6f60235ec0b84a8279fdc9b49eff72eb40bd43572898272bde3d931bc1a9b7493ef878f37b92dd1f56f9d54a8dc1f049e836486d7ecdd06743e3f81941fd8df70bbe7f53777860cbf93eb65345d48732e0ebc9daa217484346a1ff57e32c2880cde5470c35f5e6658019688bba5e4244a09e28433b3f0ec488662f2935f495d03a9e5e57881f342742f2b23a2c8040299e664fc109d6a351a4f22dabf9851de25bcbff0b0952393de2f477d8a1db144c95056dfeb1b40b605f9aa23963d713dbfa8a3ba731dcb046e11b5a294bea024482019be75e1144826d79e762803f557a5821925f33ea53e2c041a090676dd1e47b5bde2378db1e9868ea2bbb5236a3dd7982161f263d01864510e501978255e0098cd014f2ccb8aec4422f1524060fead2c64d546d442cbdd08d9f642b4008902700f482ebc6e8809173fa470f5ddd682320c696ab38671a1fff3e2c180c4c7c8b946dd4d9adcf0a289044022aa09ce33c62da82f31cb41a6ac5fbf2f3ff293399a8c586a79b8aec701144d705f970d5b28e40acc7613fb49cd4918896c5e3656c521da6fb8e7c91a524bfbadcde37ed2071aa286b2c4477fe4d69aa8bbc40352fe96b970c31bd8fd8aa83cfd6e9cca5fa9a4f3adc0dfd345d06a5af6f0b487ce38272e2c5123d0f3aca42e13ccca05c2d35ed84f1911016d5bf4eb669ef34fb98bc167c8b6b5d5d303cf9c03ed869558860ebce4ac155f798a0f10cc24a4f572e5826e70757e49cc40fc9acd23142c05bfb6999ee90042bad6d428bb7f356bcdcea9ee19ea4f6aaad5be82efedf41210b55207286607ddfa87c39683125b4975968649cad167878643a890187a443d605470cc8bd13ce4c001b85c63deada0f02866bedbbbfbf7ceaa96ff67c65c3d06e605e97ccc4d32d88482bafb2ccfe7874d0a3e0259858c3f3076eeefb485fb54dc6ca308615c41657e7a298293634826be5dfbd3b73e385d6ae41dc97485968d987f194fb3f406ac1f7632b81f25522f19e86fbc437b9cbfb5fc66cd9af029dc2c902fb277ef335d2ea02de3eeaa9b3f546b68ea686a55e78319fc307041a241cbd5a46ed2789a4212b0be56af465fea350cf758e251437c18338c67c27e22a9c42a4ad8d6756862191a5671f9990d59f0569a08b0d9ebd49eaebbcdb836d33f0f1dbdea55e712de07fdb4a9f2cda309e2732c8925747732fa551eebcd37773fc5c5758cf60ff226c1830c80ad754b406bc47ec8f8702eb4ad830d3ea4261f332e3d6724974707cf42c9ac5eeaec04cda741e35aff92e8976df3a6eb63ec165e97ea0c9a1a54eb0e176b607e8fa6ee5a5ff46f3bb737d3c050bfa49bcda2c6152031a8795f5ca59c3b949a0f1444093031745705b138872242da7bd70de7c995960b98e88c9ce9e24e7d856a777c7ff17ae3313c6231a44772dca4d262f9fc3e4c0ef255f2e10d4a66dec044b88018c5d0c5f75c298bb3d8a69f4804840511d84b797dc7faa731b999aff67896d0724de4e3af7002a709c7d78ea95c01b55dd47bd321760c338d68c7fd9b79a2c6041fa57755be14c9a02d9a7c6d361f874fab03560432fdafbb6bc40f3b7fe7e9726638b3909a0c3acb58e1958260e99558943409381debdec1413d2c543502274430cfa9c4244594ff911b21e3872078ab63baf075ba7ef41c45fc380826c3a9ac4ea76d451cb0b8bb9d6c86cbd769b846b6fdcdb8ec283fd03de70c1e43e9a3b5e2fc4614068487af21de97c8d15630061992637d82b8595c69b7ecd03b7dacec023354e72a5cc936b07aad8cbd0a597905091e507ad2eb9ddddbe017859c0a5e81e1dfc4c1e8185049a44a58a4d9c195ecb4146be741611250a4f29ec3ec9ec71a2acf9417277d84103d295e270db8ba8bb7b13578837f69c9308cf779acf383516752a2334289b05e846d2fa8a0540401f7f361a014b2998aa1a5369e16f678ee8e1a4d4b2a6c0b08d3a8f5e85b87894a8dc96afaffd8263693e7d0591c1983c25182803b9e91c6be2fb9490c67edbd29ff0dbc6a3540bad49e9e97f006991e1ef5836ab55a4463a81d815b5c074edac22d170de5144597b94f1b3c42d2ee69e6e830a519301f24970f4791b25955d93e365fc5383c666f36f4a858bb689d2819a552a0fb44ba38563012a0d1d8b9d20390151e2add88efa369ad66060b0ba1d2d9442822aef44852c7564a723228bf7f2a8fdd6dd49f04fa6dabef52a84ba0a8614eb1428f4c4f78e0004bc0efbe61ada61bd1cbbbdf286d6e01af05a8c608bc77177486785931af680cfb3ea401ce028d2d96254bc0385a599ef905b206d570f13b983f4685f68d681db8a56a35f614cdef5c5592c85c9a7caea58742e5b740d4d735984929bc3f295f1c031cd8584b55a67568c3b24926fbfc4d5d866ae89495a25d0291658c10785909b7969413e5e6de96c8af17358ef3d8e2c1e92d11e20cb40c8be11ad918a6eed4b7dc53b15caff6bed030847c942600d1b288256d45388345375e505992f37f4ac49b823532c1e105183c0c88a174f763a8aa3d0d7de3aa2158674c76626805d7d0dfe4837f26d9dbad00786f00db84164c9962d75fea0b001f3515ecc867b23b6c86bd0066a99bab2b3d21c46aa484428cabcbd27be514763e56976171a22852bd8e8f1121ff970fe8a0a08a4ab0d727ff0d3153e7779fa36b0fb97414e7fae9fcf0d026d4029432cdeeedf694908848dd8ffe70315637f0bd57b160e167ab266f2b6c6161856648a17811d02a968f79dd41f1bb2b38c9022849730b20bfa193770f8fa6cde111ace09b25ebabcf9651e9249815bd7a4996c90d178e5607e8426a693482f214c8fbe8cb1345e23aa09528e6b09a15454315e88bcab90a56a04f1d70d6d3ccd7d335d6a593bb854dfc2c24944c6dbf3737322fed873762b7e99ed4e1c7b3002a375e7dde1cd6c1d465cee7f455ad71e6360dd07a4a1a177bd090a55f07da8a5aa15939423ff68361548dbe3b1ba7c9b5d99663acd5ee00e0b21820238eaa0368a0c67935b14d55d29ecf594f182895ffbfe85ce3d4cb54258b40fa29ce30a5f314057c2793b69eafdac3bc4e5e3a2ea88e761403482997d0d376248f5c17bc334dbc37e42750733e1992e95010cbb15d871a8725918f8b0f84ba7d134bfd503e24311aacb683c49d41908728ef0493f5fa3cae4d947607aa3c952f06cc04a669abbce5f7767bd9e063991418326038e14b9eed18ce63e60b30756dea09985a8e74a8d59e9e9d8d06595dc4c2bf53e4959bf4460798bbe4d0325842bd7fa8daf204969bf0392bdeaddfc39166edb60fef54df1a78f5cf024b3dbb46477960c4900a6a7654262ff9d15972096aac1a034844030099cf6c554e6031b61e72247999eb805203445c43901b5a7d2fc4a491a9a84a52439f9636f6a27318ef3786f4da7b85ee49a16a75a5bae1f10c7f811b1dab9e212f05354b7baf92038a0948568b041831f69efe47836da4c49a6a86101406becf3a8b2944f3887769966058f0fa91ee6760d6f6c7184797229f91f8654c2895cf9ab08a1311cf6b985a30f4dd98bab8a3fa590c0fae8ea82475649e54dc37d1df11b4b0bd509ee67df9c045908dbc81e4cc2f215c082e14e4f65c21815f093410aad7bedb531961ff7888d5ccde903bc053cc64c3a93d9c71d9f4c46582c89aff8298f34bdc560141e04341d80f31fcded1df3921b6c5b532831f7d601bb8ff454804f623f3636a83f6fefb2d4ec69528f851cc6be6c521d8a2fe3e9b37d9d5bc5210c039ec5abbba8a32dafa545f2ff8495ac53a791cf679512cda18e3703db7d9e7c2107b7815c369f80dcaff01a69bfb1f8e58cac6adc06ac4e7101b3f725e30d2858b8b06ec2c2bae268d0e36dcced3187f72f7e86ee0579db32a24f92e2ba852eeedb9b3305107c7bf47ad51c3de868a54fd68427a4ff5425d3a00b8ff97675e018c854bb46d7b917d0206697dde80f22e05d8f06088157bac1c79728d1e93e88d45467297b7e3f8ffefec64ce96ef354a4aad9fda3dcdbb109a46a3b6d3ec34a701e755d0d791ed0273412181325ac6012cccea6df8a690926aa59cd939beb6a01cd807de7c3e988a15e333dbd4e7a7bd0d54a306061b22a1bca5b0bf6b732cdf2661f06aafdcf07edb8c4cdd822c515bd9fe86343c00b5ce7b176c096dd5536950f7f1dbd90264d2e55bbfad1f9540b9b44153f4d5c45e978cfa35c13219123abd689bcca833b3d40040d010655509f6df9a7094d7562a7cfb2cb3020fba6445a53eb8544a821811586343660ffe73d14882f20ef7434ea704b0edb854c374bedd1ddc2fc1c9d671bfe142bc3116141fb5b2035ded38a890e00868eb34aa474f9b61ef7fa33cdaa39d0c9e1802df884de0464dc0ee11b598746a12eb8bacb3c151f900890cd3b930c375104dd416f0833e0d9049bf1c14175c2b26ebe201cc182d801aef44e6a23cc636244df14b139b9466ac62df21b9df201a71c30af3cb2c45ff97ceeb1cf81190c0fed4ba37675858ab29119502e516cb0c083ba33095dbacb3a21b9090cb7266f0841df593923910d0843f8a7f8bf8bc270b3a46636b9893b6b60992f1d70011c1acd0338fd0957c8cbfd58b64f1400c1a7d8060c8c55283c5a29c100a0125e3f9e901547e8fe35207cce0d57008107a34029448449cf68d7d156b0e1cfdc7bf4ea97ef6ba08935e94ad31029e134c85c31fc0cd0c760edc4852838fd9cfa5a8caa14d1bd02924971c9754d30189c0ec517c8de43b8f990badee721dfbc5c8054bb90fe48bb0f3a93d8444752188706901140d723c6e7ef2ea7438f9e3c6bfa651dc4597f964c6c5c0de453b83281310de24963bd903450b6e7a90575f2beeca805297bf0b397b297eb1a2e063689851af5db98b42f8bb21b5154a7dbd7fd85ab7d4eda0d3635ec05544716fa4e3a6665c1b5741f74f96d799724f94012848f510cdf19bd14a6672bbd0bb724e47b7a7306e1caf24ecff57beb3a85439e6d23d891b384f04b5ae2f2fb741417fa2e37a17d47f01b0c999bd0fcdcba18713df44985b25d1f0730a89eb16db61ced8e9b3d52d1434a8d0c1c636b9adc9a409bd1c9b7089bdc0421c54f4fc1e47b96fbbe33aaa85deaab3686709dbf279c3bad03ab3b81f058ba7b9f23f41a78e60b1de7fe0d95e1d8f211342c08d9f9bb1361ff1315c21a1ac82db735b2c15bc4b3bf9b9f988f9f82d7b7cda8a86795c5f529dc377c2914bc480fc54412604dd4fa66f3f1914cccfc2a68efebc4dc0ee5ea531b8ee24d5e3f22c7271a2ac19c51907e88538dfe1a57e9722e9eb14bd9584d3055085f5dc05cb669293c9821751ae9239ef372f596a39d7979dfb03ed74eb9cf6082187f3ceca4a89155c5a5616adce7f7ff2940575933601583ef1b0f17b3007b3839f8dbcac17ae46f4aac083b4053fba1348e5d6b353bfcb3217187253e4276f5626a9de246d42704302a95dea2e404e9e7423c141d6fe94ae1fde7663b2e98ad272366762b58ee2bc29a9a08496507b844942f6963a3e5118d2bd5bc074b0dc52b233a7067157f7f1ba8839c31a3dcbb9e73635b23989d0375830d3f5dcaa130ec2549a9e81dbd4922931eee66bed0a73480a1529ed800aa5b0928ebdaae3084a7fc4d54c1c78ac9e22e598e450d4b70237f35df3a1f5708e3dc69a0a8a34cd8ddbf06f72ff6d4e7cb15dc18c8ba990d5acfb03a1dd38055ffaa3b76a9374c55cfb19304b9a95f8974807442ae38a4198ce906944d566cb2865e9ae7136b5088ea149dbf9757e094dd7264492bdc45e1f875b49981993729ae27a6a954a03924e2a5d24e9b875902a95dfb5e38bb3c0d90b8d86597ec8dec3512fd52d54978fc899ab6196bee11ba037be5c92db90cab958e966c0ab3c340bd8b3364b8c8c611a058dcaf2743a13fb17b3ca3ed1decaa9f3072a8a8dab6dc44b3ba80944d372a28d30e9b01648db92821e5ff989cbce61820c746b03b0a2d48f03fd1bcbd594101de2f8336be5fa2d92eaa12a71ef4991114503bd77e5aed344ec35cc81690f447eef20c5b536170e3b59e9e7f34ca1247a72c6e08186f2b53801e94e00ddb82437fdfdacdf9bbece0370c7e34da2c824499af4d2a9263a496c189892b7a753f61e7fa1e0c3fa8ebe339b6d0e705b964629943582ed8e1b8f26c65fdfe7c671b828f9ffa3a3cd0919db73454080b7d13c6d3b0649d2110ac722bf3a700729f4c5dc348e7b8385dd1ca01a99a2eb6742343e0a7d7abfaf4a878f81c6dd3caa009ac6d2445d1dab12449430ec8e302654add276fcc42abdcbaf1ea06552cf660026adc3647950fd549a1810ae52f197be2347e65291d91e3182e01b7b462283cd031f1fca7c6c4012ffa1ae70dd04da5ac64b8c597be6233456352c27c067463e061daaf3d715e2bf81176ac680ae5e70b13300b095708fbc5aced65f16cb74daefdc59b736097a3f50837f400aaa89cba5afeddc534adcc193c07330be9c74aa970428f20acf1a493b21182090ba9f4cefaab7b619715277be3d6a28673a64af7419d56b8635955eb11783915858e23f11fed20969d4096e2083de8ef3680c598fd245fcfb4f4cee962fdc3952c88db0c584fb07b1d9177882e5a6fdf4296db056c1bd79eb84da2017c44124bd3f77e7bae342ec702d8dd82b46984218bca1edbc50bedfd416126d7c89fc59b13526e6f3e2459b52c714ce8ac3b6abef5e373ffee754d4ce7ff5b643501e13cbb96c7f96030eedf5097969edd89f9f313729378211f069ba0b7080b3dd6664ba61a3acd80b2482c1b0f62542658b872f14057679d75c9b1a312011abef158a460d17ed40aee3abcc551a00f05faff449470d0258e5f2fffb871fd93d54dc59dde7b4bcd368b23ff50f6e371ba3ee5df98046f962a84aa8b22b4c8e9814fb3b0b6cf0fe5ca91715c783b03fb6892435c0871723e5d09562abdaa82f51a6fc3f76fdce5ae6fcf068d831ba8e3d0629e3d6c436a07cefe8c01fd888f7761d8392db97551ac12cd45de9f6cffc1dcf6cf69a3223b4579a049412eb242fcf5e809e91ce7a5e4dfe5c595f715bebe4fc126537288d2f8c27b55cf21f365771aaa92254107646dac17240c11bd26aff68295eb2572c04066e999fd8baab23c75fb9577417e6ed5a5996728bfe122cbca3512a1298e11f062286c561f111cafde5ab4030e5b908df999bf10650029e5168ac1e31be279dd19077c34a48074b6fe06dafd8f9d0b41adc7016499d65f0c35b1f49ec061e73b4296199b2bb8511d896de926f0771bb74065ec3e7e79d4a2266b92b5eeecc97a71486190be88fa617e50793d048eddf5280f3ed03c319af3c502f2f2b94a209d20ea6c558b2c363aa09bf4e318af3e8b6fa23ff1e0f23c22482741d87ed28009f0ce3cf4c2bedc26fc737143b381d5ce48a8597427894ca3d9cc27c09d7a69f65e84e54b67a91ab341d978537a16056b605758833498d9ccfa9844ce787561c4f3eec01f68c1cda742ae0aa7af17aea33750c34838bdc27868ffe10bc45852f415f8d75dcbd59397d2e7952d910ed4c2a736e465b42dc4045b3ebac7c088b920fc3b5c3f694f32f748d6adeea0bec2b19e91b4d001101db5a1225e47c1633fff021b5840b0c5061f59c884cf010587391c5d583c2c867ddf2830ebfa860f87afbe8600d1affaa3b3040b6bf85e873015916227cba431422f2d4e6ccd62e9fd3b7dee01b88cc34bed721b102163afde312e6d651273dd8cbb291223d119be2c454a76de55e7925a04ccfd0583aba9a8d1de83980be4a8b0a26bd2d7147c2501ec8198cd21c05465d3ffbbb819688a8f92a7fd3f6675e1a51abf4b42299af4d4b20ef1b8413f0d8ae6b72b62e16de2c450e7bd1ed24d1a2f88539e57b5686df4fbacb384080424aff9772bac1097f2349dc5f4b5b24ef100f1f46005db05593f7e9d18e290a84098f9579cd8f1e97cbb9252b2bb5b734c9e475e32d51ab34f49751b1781ea8ea5e652f5029ef6ec2ec9cbaa98f3a996c72a174714a2c20174aa523635a6c56809fed009a5daca41c737a55e3b9cffd7de41a572974cdfd937533597da0cd899373a177d41fa080ce50aca6407577d9469db949be0db0633235434fa5a996832ece3e4f1cbe32d279871517faccb7ba034758be302b2d1313fdb3dff4edcef1c9b8e34b6fa0cda2ddacba1112d1808a3d01b74e0b7c78fe2035bb878d8ff57164778224b730801a7d753c47d9d3525f6803bb3273de54f906c5b7cc54228e28e68ee9d7c2ace149edf973aa34aab3a59b0c22884bd2981e8fc3a067b1e845a80bd6237a9c0599823e457e4a2f0062fc924fcc04f23960dd6256f45b35296e7d8aea59bac4d46e2e9bd5bb96b5d09207a5d1f8aa5c2b97e65b44e244f416a202e8270ffd4d20d9c5b7e7ef5e72cfce666c7018b5b3e4e261181546d1d6e3a65edc94677a4aa3b6a3b9bfd6bea22dab0f47039d9fe6e3eb3f8b3d660d0e7d25c5313e37605ad839304caf4f8a2b0d0b7ef00699917f4c89aaadbbee51abeab98b0fb00ca8d84a33ede3a36e33aa50594072f4b0067acce00e1da6cde05d4b04fadee9c08d0018b4df19cca2afd22312a337d1306051fbc7b10193df671c00ab4c93e4648a8f16fb8912fb20db2892244dca7972a7c83bde14748fa6332129695e6c8c0860799318e61462d6773ab01cfcf64316f5bd811c8981979cc3b42039121be2a1c3e78f1cbda749bd1e8f9ad8fa1e74c95ae8cee916a2ed09cec64be6f503a72df1729bf1ac2d3a5ebc9ef82a298017de12d34ecc011d71a4026e38c4594fdb0578fe0022cd7bfcaaa3e28038f82c6938dcc866e2a641c1fc1f304bbb62efcdd4edf89fab20b60877407114298fc45fa126ae95161efced2ace49125d1ecc568bc6413016543a8725fce831feb6a21a691d5821a121fea2a6f8f914773f68d9cdedf62d278b8c4f977c69d0096aae4a0166883dd5cfa744bd0e4a563117a4a6251f1c83a32f9fe29045a466d14865b81dfdf953b1f5853a269a5987db11af8cab090eded08974974fd81530b6a29792cf1804b658c38063756a8f589d3fed5ce8117b35395cc6672e4eae31e7a7ecf186ce6c737db724238c4df280f54830afca985e1e9a7da8d343056f1c0bb4efde3b4256241e854412e5b0e41af06aee550b02e5d97df9832d66badd892a879c814105afadd702498701a35f489cf567a8edfc1b579e9e688979583011ac02f63e2c007c73fadd97c41a918269106dd3d3849136ecd15afbbbbbd17ce30843beff7aa3674d561e7a9650e26c8da048543ebf20ad5c3e8c7a6c87adbd16e3d7e708203760a41ca146ce01916e5d6e1db92445afb3fd46bc5017a304a349d0117f3bd30e6a92fcfe28b7f062cfe3030c163d52e002dc2c2e9dc5fbdb8126a0f316a753fcc8370db6609c035c7f283b0c957712796ab25c7545bb816ad99768429d82fb782420af87776ea8fded6881fda79a8fc4c8d7ad59e9ae4bb88dab2faffed06e381557390d2a34cd0c8dcee639d7c379745fa4e3a2f6df04f4fe908c593e9a2e9530f62b8d163fe83d4834a99e6b9566e90eafd9ebea02ec3c6aac0d8c901bb7c0a581d350cc48f9ed69b24b8a8cdc4a988ca52c06362ee32b966b96ebaf4262418a09dfbf1ccb7c9dabd836002022b0dbf544acdb445b19b285fe7d95ffa6a1e6fbf7d42dcd3ef13ed4a43fc83c923f65db92effa50498ef27cf0a399c3d80f8bc75965d5fd7a792ee6c5957d41081ab651d822ae312631308a584aad74abf2bc905bdabfff6e709c1bc8a4328c9318025d3f86fccf5cf56bfb2e0881c69b90cd62c20b718cdac20f85fea0a7d2053c646e8f6927e6c47255beba9809601cbce5f7d594c19570236ca4bd063dbd216f11a6790a3c1aca7e1674ea0a12e0f7016db10247814934756f95ae4f1f27104ff6b65df0e195bc00b74cf33c5132d84333527427b1ef99ca9199142b0bb406a34b96c5958c92315fb7f4834911e45ab07dbf3eedb9c46188ed460979dd1a5246431faa343c8ad91a5577c7ca2a2187a841c794df76a7ad90c4f0728c57cdb99e101ef53b628a1b9590ff754383d0f1acf8f258527730a7bc77d100e7cec1484d25eb52fc6d730964c6c3538368dd2579545b2430ebb934dcfce9ec95bf774e90bd5bf24660685956c407defd45bb877c56530d68d4a05c193a63cbf1dbd40f0232db743277d769a7f8b2201adec34dad30622e7ee6d7c6eabb852a4b22e8f41667e5cf3a47e3d6a73742d5d7778e7cbc8a8c019355f6e2e1e2c3978a0050ea8e1dc9d1f6639c7f770fa02956f777fe556e89105686743c2172d63e05862d0841d8084deb688e41b4a12464465885f4135d0e273b1d4f43e6d933c8720fedcd00202789ecb0606c208f629edced18c314ad53ef337f0f05f0de35bfd16cc52648f13636c5224be2361c2aef950dff4d5bf4daf4e1e65f964471a210b5a7d93ed356162980d85f6990adce58ee89bdb8c09b40afd881d0699c10747eac7e99baa3a3a79856206b551a2eb900efacdede100803aee36a30b09c186802c36e8d376277d6ded230ae1fd08db268fc257220153a85cb91e348fe07b8bfa518d9897e7a96fd64b166c8ce55ecc5bf71d8408a24387fa25e67a4084b69a08d98b9755cdccb4238777fb240343b5b804afc9bf2acb02692ed6acf0c8c9883309e9494ad5e83da71ec3a8cfa6958f776caeb1e4cf85e19cb23523e73dd64431c86a2f8b8a561f114c05fb4d10007db401b241dc0049e14bd1bf6a72b6fb1591f5e21d9c2e094a9b331559493f0af6484e2dd5bc01de02ba049a5ee1ce4757220ffd567723913210165bbc20f4424d79ad93536b684c5505fb8ac4edc42d6de19551f87e995420687ed73ff304ebb32858c477163413177243ace207198d81c7ace14e904476b6e52c1f8b65c187b85b6add82228b835b9ae00cf815419072e60540839d27cc5604288fe0b07b37e70c2fd2a4fd0b93456fd92783a84ed32a94ef13c24d8db0aa654424574c5dd25c45ac5e613b93208a6687bfc915ff495735319024b2e6a5e050a82835efac6baa148fd6f763f35bcb3e95ab69569b0262fa3bbec722551d34ab4dccce0c74f2b4da327925e6ea15f00f96bf530d7961c0663954103a12f6faef4bdc77584e02af1d19422bd493516ecc4ca282419f0d4edae6d5dd6ffafe969178ed5dd7a2632d2e7d0279143459d795349a49525274e0b1616f5ff502c07a7f99b9fb435c33d1add99683d0a6d387022ab3c403bfa719000e9eac1acbbd701a84e16a8b3be749bf3fca5b880b51397bcb90d8fa94c14db266584b43b0223f6455d8ae29365f7623c257df877bd9e455f34f72cbcddacde0509cce38fab9dab7ec6313ab276e1e091471a2f76fbbb879626e12fb7a218b4b960c22d14804e7e13251ebe1df4512d52caba722a608b125bbb0ee63179a1b769dd3f52e23a5f4a80825f45af829105162e182e36558080c245956d9a606adc6dab48f8f0bafd901c09f021e99b43fef3e88aac1782010ed9f5c45e009449dca977c24a81e179d9e23380a1d9ec30ff2f11f2467b211b6a94649c8c8f5b2e3b14fd4dfcbe7f926f0ebf42900740d7c7567cd47c2fa79c53b29389aa192ca7d64f301d6b156757e129c1fa5e01d12d3abb7f7fec232f7a6102d43f65326cadd4c6e463a8dd4edb47a29b2c42d87edb78d7b302b3c7c973ecc5d844b265fef7dfa4bb25df572d29d0b7c3f0fc0d590f9554f6ce6503c44e0568b394f042d32aa766157b48006615565a345d154f220025106971d7cb539003737adb8f8d571341470badea71f444d41b436294907a8a4b2430978527f76adaf25029d8affad8ebe3a95c1953823e2d468d2d348a85b01aacb68f9119512fc325a4b9ab24b3a64f029db6f854de472d30720db61528bc845f53ccdcbc51d6edc94217adeb23e3dbe2e49955f2302343c725dc039169acd9de2cd41903fa2a50d6dd62fb661964fc250d08dd09c81fae6b9450890e5b59579224b3e6c9b676ee5d9977746ceb23ed08862bcdda823b75b7f23624ce437a308859961ac8bdb5f7664288f86e8ff880535144e29f79f22939a104ba475fa753b593c078c4a2e55ccafb161cd63d47ebc29039e98a54032023dd983514642c0918d851b1348767b4a733fde5d81700faeeb6e2679265c7791d0160924798e05e5024e8d3ec101e865a628dd08ee818f86c00d8a950926b85ed6ef05739c529316cf0d137a95f906cdf042a6b7563210ba5e1b8ffa5de4131eeecb85edf2d625f3698b82ec3235228a9cd55b6b85d57b48dfee0b7987e17025d678da0670fa28c0270cb072d196166edd2e7f1efbe7a193f0e5b6eb4f51e66b35c13627ed0e3bf1892bf5252d87a7c9e2a9d7dfa861cb7a5a9105cd755917628a9789ce97d05103bdec46f7509ba54a25eee6fed0836dad758845d96e5435c4a0111880767b3e95652bac30645e9efbe89bc33758bc129c3cbed63e8045c6d9c2715ed3b83d8166f44d3a72991309495187095bce83025c9025e1c47b609d6894877cc7359d770d8c3d42c45f17365722ba0d45867c73fca05f3f605b6e23b504fd4729cf8314c15497b7a088bd675cc001a7e9a75e99f882c5d324ccf23964f03da2c5e08595b815a18c43f01297a7dc2360506dbbab9a8755d55b6e88904c26fb2d23213b2150b79affdfeb6cc6d4bfeb1eb0d05dd9db442b7151df107c11c695006215f12d6d5d7ead9cb1f658fcc2c1e88c0724953125e05e77db961d22f5f272bbfe17992142e760494845cf2e100e278693b79b4e5926dc72385a33750e674447df899183ed15d22a1b9b323cd9a9525dce08ed72bd67e841f4d70f835e6bc813e7f3735e2aa570a0388c952b74542230dfd3a307b1b9e369205770228823979f9b49d543ecb2cdf8659a8f99cfe91b0c457d9095b8b62e2d7fb2f9693c7f0dd8f85ac02b8748a214c9b84ed662790f3abc9c0e3f168abf3e437573b64fb44cef9cda4376c7e1073dafe2d04746c1fb7d0400e269c60cdb319cb1569ce330af57e706e12c54f3789f55702f605f4811ea48035634303c2ddb4aff4a8d17d70b81176ac2512a33e3c807f41e816fb0910efaeb5ad20850dbb9f27b6d6f5d20a9eb7229dcd48d2d5d734eb1648cd28836e91dfa4c57131c00327c3e5f4e27f2a684226bfbd4f6cdfb6269de3c878b1324079bb2cb4439497636e33529faff71c0b95d8bd02653d3d285c54ee37bb474b88566ab0d2a89e14a9c4e25bdcd1ddf66adf1829885722e52f977c61a958d92e22dee4be9e574dd9b290519ce3901b30db9786d473260d4785d5057b5ee1c6d01abfc3e6a8fe673f74507773ee1e0a54e7f575554a2f4f8950a9bf7cf81f63b47b7ca6aa7025d23ceaee8f5fe57f78fa032d5aa8222e2f0107214cc82179a48eeb65eb719fd94b7ded00b6b88c4687b8673bd851642a39d87277783581aa369942424f32d0648d41ffd36c858c848b188c5528e06657cd6422da9071a9f5cfbc99751328a56663fec4f93e2d19461ceae89f8dc694317a12bfb18a2be9cfe4c13820012cc947d80bba6ebf8b3c768a51a844def2714daa6f23d0fef8e30dae2902e140e120e85c0e50f15881ef2725c461edfacf8681e1fbf8130603625f296ab42fc66ceddea8c925ebbd50b3c19d70de465078c0c7c9eecbea0f78f456b5b9ebc2e0106a0386da2ecab13acd2771ffae1096cdff9d32f6f9562d4e04aaf6a8754cf35a5df54e17d56b0e27e4cf67017286fc6b05ec7234ccea008ada0c4f27c18f75d5f86ccfe7ca23411b5c487bc26a2b2cf6800e0241860798d5621aa70be972452b16d72b773451feec8759bcb73f7387cfa540415af7e3a1dcfb3b36f137624d8b085c362a1867ec36c1fd5932d0df1de6d6c67e9b77a174ed189f10eb78266f908ccbe2589e8d50fde5216f145fd78be3734cfdbe22eb9b3f97457c38b1f4131f36724188217e3c5de4786a472d2adc14e4ded457ddd1106ce224351af198eead889267ae00ed13ebdf9f18f76a056004bdd48676f54ed9157ce47ac552787f654f76a05010025a7a259d376facc1045ac7e0f397b4539a19605d0571e410d4b0a105658f950783d73f1ed6db50986c60fdc73452d0bf8ac8c4b7041dfb9268a9cf880a8cf8d3ab21ff58baa4b956dad0633f4e7e375aa63ce36496bf81a51f2df3c1f7fd1daeef6e6e16f40a7dce72e5ac95753bced3956da4d05b98b199e9e9a137d8214b1e32af0c4ce2c5379e1de1202152cebcdf70ce9a35df13ce54edde11005a9a271859117372316bfb6833f80b82b1263d11d0c152b5cc10cbbcedbfa4a70fee419aacd2b051fa98e35c0b7fb3b1159f485dd64c762943963a7bbb195674d999b8416c83033d1db90ce649e452122df25259d4f19cbc8edffa7e2651f881103824e841eea480efe9717708a726035370847e82e8b99ef1b414a5ac1ba2d8c2a2c6c9f6fd9cc85df80bfc6d27ae2f839943ed75e4f3d59f5bbfc76628ef0ed0d68a2b75940c5d0beaf75d57559cea17aa216cc8fb3f9780ea938ada180e1133e9717eafe781b094e9cc93a95d70aea35216e66b7d3041af054831298f83a02bd5adc2a90a12c58a53c783982013ed3821b332f5bcafd7628f089aaf615c473e09afadab3269e5d4d15a2935c23598b27ee4265daa83a78e8d49d580955494f30aa5508f995e3ce04a3fe4579aed3a86de434bff58bc5c2c196dbc50d0070edd6292ec3a9f04e46d6b8b22608ef8cb1f2508891c0718000e7ad47bad52b715e43dc01a039b81e6110137c852583eb24af8c36ecf64ff84ca5676f5b9502fb5edd9b8f86fcab48c1eded247585da89bf8e775f749d62a4448f0fa2a68f95b0c224908818cdd324b9eaf66bf90e20ea22a1c4a70f265d3a6b02d2c5d2f50d08b4dae703cf3afa9cdad6c369c4a3cf64d6fc5b6c1e5263df6ea4a79af0a5187ba441c25eea9b4849938138e3e61750914c8c7dec2b1aa433d984269a8a527273ef37c9c58178ccb5d5c3c4726dc74e40329847aa7352e50a13c397c01f0e52a649c714dbbf53448ea770b5ac1cbc56878b28ae470ffaf26fbbffc4ab80bc27989094d15bb52639b8d9392b25ea6c9557205e1512784727249b563b7a490b9313d171e7627fea4bf56e11bd78607917089443852fc4a5c25c92e6b44822072a4f798f964715c1a2ca95c0e869c0e1b98762c965a6ca2b33c02348840be089eb5378a558a373c3f73608ffaa98ef327d1bd3d7aa94d295466214aa285d4efbe3a33053deaa197bc81c9b09c924b0c82c695cfc73e8115b4f336816e85e055ea203f6973d328bc9afb197806eaf2e4dae952d6eb3490c9b42ee693afc296bee2ddd229e30fa9be1fd4d9c8e7eb0d8fd49d533f8a4bfebb6a20991b209abc515c4ad8ecfd0c39227ea608f42ffa7ea0e1c81e74732c9e77983232922cbf54c7ad94b34508cc58d8a53e7c01e62dd12742651cb40243e4d493f2d54fd1974855e1e2ccc0e8fe3c55ef67cf9b4e316bacce00e903ab3a636cb8c7943315ef7413b8500e7466f14071eab5d3ae729b3df2aaa25b0e3c0649cc03be443e590d11fb308e33cc92a35a9decb827e0679760ea6d2d383d356d9690c8c91cfc0d439a1e2d7bff4fa92f62c4ecbf0ad6f4252e412359b5e1089827deec8db8106db94a0377598b4a1810576e04cb85aa12041df34eea84c9f2cf384c452b91e124be92d80a36424adde9ea497dc9f0dcdc0a90154d9df1ff00abbfd54a16ba96a86acf8525276e85ec99ff91f9ac55609da889b351bdd97b59e07494819d928c461c0ec1795c82a1e096cd200e73317265e4a8b6b3eb68f5cab68baac0d17dd60455ec5dea4bb7c7de2fb1bed7c5f3f65419f6ad7e454090f675a72f8a3510286f48431304fe0de19955e04ae","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
