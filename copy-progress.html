<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"fa58d0a679de56c9d30cc1e2e19029861df695264bc959bce49841517c2bf61efd4dc703a2396e85db1efebc78b07d871c8cb41517a5debc9a2e75244ea197be16babb4f1568599050b14589fb1ac5025d9eacdbf7f7c30734906ba171b9168eff3996e85a4dc8ba0a82664346a654ad4ee8c1fb072256813d1b63345269bb9f20b8e2a2e9d1e45657f49c016d657fa141f00e6d7f9b4fec87e3ee4ecc42bc37651d5bc6c87c86e5d40c84360a24b2667a9b9d749c9df5cbd9370d5ea653ca1a74999803fd0cbe0fa1edaa68586ce6125a5271212ced86e0162d32d06f45201ff0d22a640e880c5afc17cad14e4358ee0d2d84729ec6082f84ad861e15be035b075f2865be62d31aed5ef0aae1f1a91054d02296b3910672863d331878b07c79f6d811bf4ed6e2abe1d9485c68e55b17f7146e13e0f9f8c8b5a195fa61ba35412c8727be1b33d9849f39542822d132f76e44451ff1a9b8c8c224191c1503cc2b35de4dda26f9094a862e01148d9a4119cb1f38d5759fd32eb69384cbf18b4f4e1f474fab96ef2c0cdc54eb0b58e5da6c08a8b3ee1c8e7d182ab3a04c47edf8eedd191056ed29644b54d52f99dc6ef798bbd7874a4bf7dbdca35f4d89b11ef3a36c47330f6b11d3aa3a72988ed31901c2db6721211fd58baf49d0797d8f18249bd0bca87212fb7861146d6ea7f16bc126095456c804d50f4c65dfd0b7355bff25099249a2b2fb0e2b37eb8707c0ff356d117176cf096cd3e54c1494bbc4b106a9727837c77ad094de3e810771e72eac0fcc138335405d395fa8ad166f38972aef28cfa3c3d8274b9457f248423e44d264b5e09be0f7cc071e7b8db5c0a9bf9eb39b34a883e275589097bc6fceefae3d86c1f88c0d9001015c0a246b6886f2919f7614b8429a2e58bdbcb04c168b15eae8ba21a7972e7e2a46f8429b356a2735e0ca2e205d98123c46eabf67d1318e134c3864d49f01f1ff7a5c94c729aab1b77a493f1241545b2a7a6d239b8c8aa27d7d3d456e75543ff005ee02873c67bc90191ddc2ad2bbc9e785a029e9edcf37c297a50491f5917ff706fdc50de3bad7369b896fbd53a13cbd5fe13bc6ae6c4927c8190902d8de8bdeee50a3f68abde1efb7634dcb2f03f490fad02e71333c7da34d76a9be8efc66aa0be5c9f0bea79428019e022aed8ef119663776fadb574a06624369d8dc54c1f885504c542314906a092af895085304dd32edc2240a0451deac2ae7a1ca1e104cdf437e2ed8cb8c97bdc36278d1380f73bd60c509ce0cdac6dadf665e146e3a3763e3d5abefd904d14d7846eb8927c8353c460bae69f0fc931ad32caa21b39d1e00d6d492af23be688252d4cce76617b64e5153289be0d5773126d70c966645a138f5fad654c41236e98035d96b2c69129104299dec66f8509d8dc5be05da51360fc5f442532eb2074cc620f4eb7a9d0004fe3a255fce5408a8f1f6356f66b4be23c05db940ab69c4d2c6c362d0166fefdb0015e0e6923ddec2c901ab18760ac2f95d148d7c1f44ef39341108aa9622a20ae5bce8a01eb42685aead27b9cc0c5463a94beb7c3ded089fbfb0c16af692b6e01c9be5132953dde409585c7b3bbae04f2eac0732fd55a3b78c61eb862e8af48846d61548dea22b7486c01db8316101a187ad66e60a65abb48ebc16914e4a1cc533d35dc456ed74b632a47db9d36d1d1989549a88c9fa3e99d5b56cd2e6f1d86b312a00752131bfaca6869fb7c5fb9f93a176c699a442b7aad7e75cbbedcdb79b556e9fc5d3f360b22ba072dbf8b8bce121053a32a65dfd25c4b4d969bd2d0dcc5978b78e0f2fda0f591b8cb0226bb4c603856b03265ddba196999d84f0ba359611b84ee8c4d3942b50466fb23605b307a956c09b858f79ad62121754ad3cb132c6dc91aca61fa172d8643036593dec2b85a9d3ebb3b61e9424b79b72d0d04a42f04d55988191863338742aa1de2f678f7e762fb8f40e457f549159376ad5e6110d13ad07fa89b858541b13e70bb97543144f9c2c16bcc0a26cf354522554b92b9b37df2e6012187e85f9745ba785870e37c860ed8b50e1ab57011ddd710552bb15dff29c18f341204c67c16d7b29560ea5303f5e84ce4d51ce59efcba2fd8ad6191a2b107e634ae01dd73bf4281c0c41966ebe4c8445ed2e337f0c41fa04886e6d10766ad90a294f4da3ad3b032b934cff3094437e87ed33fdc42eab329b47303d334461b6fde6195946db71ad4fc926eaf57b7f83bad41fe7f4d438f73b657e3609257594690e94cb30409fd4a7cc5fde8b9812d9d99596da70c2a6f761e289e93332c869c1194979f24f3b7e6252ea1e17ebd93cbf172b9df75a8a91eb5f8582af3cbfecc7050e2e29a01525a4a91f7830d7b2c41e266811c2b0148c70eea07fd16a90575cc1910bb76847fb5fc88d89262222e75ab1012d2667184916a7111ccf204f9b31f5dc327bbe2be6f97788173ec5b1f37096d45d4d0dde7616a8eb18409f5822f2ef3e83761ab713026a492255df8397bfe83afb35fc9c02b607d1de74bc35812b83c5ccdcb829d6632efb2655cb78d76f1db9d52cbf7a14a53f2b001995a3658222c6217c9a33d4c0d876a35566201bbd0452472e5291969a323f207eaae7c214a50e82d0ef6f12b37009cce76640814e021c205566f91a129fa6f986bbc32fbbe22ce64fac8ab9cc8b286cefb2cab86f6ee02bad64820d66eb07b1a5b34d4386ced1710c7af81d376a21328145e2ffcf605b833a787de73d930d9da0934d26ae8954a35cd6972e4f752216b813ab14a60e729a0d563dd514ba6c87f9be83f452bfc38a50fa6634f1b9022afe5084b19de71040b084c2792f8b881fa5b167a4e3d41542bec76036e6f721a053a5156fa7fd8fb31b7df828934d4395976a76a45801a80380a667c610636c1965338051accd42682ad08c3f5213f44b6eb18e1fdcb2e721e80c945c71edf5311a9908e002cca954ecf33eb82a6cd6ddcc0d688aeb7d5590544078ead6f823c338a5be48663acad87ac0ca53eed65fc1c5430d99cdd17cbbf1c8a427cdb5bfcab27b62265b5a1cfa995e839c905fa8d8ebc27cb889bcb46138fcf742f31ba20796ccae618ce43346220b715f4e0818ecdc8d64ea4a7f7ae612c58952ef22332715a4b91d632b14c625888c88e8c4172cb70b0110799277e2896ab55dc4fd0d0b88b6a8fc29660345667c01745f2376cddbaf377a67f2f7e52187630e7997ce47823a81b963e7948ae76394061e0af7db9f99a7ae7b5018f9c5bc7961ff368c2fabfa0a6257489171cf2dc810e781ada707d159d40ae047cc688442e034cf9189cabd4e89b6c64132392024314668a41462566dfb1959e98b40dbd9ada04c168fe5eaa72e54be1a7eaf876cd3e831a5b7f1db2dc2e6198cb3c30ac445a674352cb11d781a593dc5a4035d548080d3df2021f78a5bbb30d94cec637562af0a894949670fe034789c46758d45884410eea46d423852cdaba8aecd528637336fa04dbd9e1aef6a47abf98d1510fe4f68cc6ca8170c61c543888144640c4d4e050a8f0cc280b70d5860b545a3642ba38c1398b0d6a6a3c432fe1d5f4dea61cbc5cdca10c212d3dc638c9ec218d5f9bbf5a2168e5c8e638c04311ea6a52b3a316a53f6df11668516c2fb91a8204afeaba87b32e6b65ae0fad3794b6a27c5103622ff982ee8eb545882312f7a531f9a5bbd2af0d24d517ea4302486035343cc9f675ef512a7f44c3c29070af631a25959075d866c1e56bbec30289569509d1253d176b229e8a5f91668cd2de7eca3c95429a6b524675b16c3e9f0f590d5118325fd5e6fc9ef84c39b6349a81ec95e4a41e17b55f39b3b36fc7d19366f589a5c2e510c29d99bdb7fb98383a3895ad2e161f6c16bf157984a71e8bed0771a61ed9dc40df1aa8411a0645841d6eabe71b9ad6ea16de6fdb740f05abe0c09a0be6f36d1111326c935adfb58ca0f3725f75e922dbbcfcee8fd54060e86e696df5fca366ea8fad3337aca91b1bde471372a60a0fffe71c655c27d9e6c96eeb49e611254b1490256e8632992ce3e0196fa070b6c116afcd75b83427804429ff4676e5f0fb07c72f9e633ed9f4b5882f8067cb12aa7686f48d4903fe5cdd69a7a922ddf059cde5f1bc00049a3eb8e734fa7e2c8adb44880990b58fc8f36add95387d57529da0e696f8ce28061f54428549ec4f245f5e8a0a975adc1df7235967ff86ee129885032b41b555538ae310e8df2eacdb9749ae6ecbf2403f94403dc2d456f9e50ff7ce1a926ff56c6d2719eaeab2f9a7bfd4dd72ac47f1e9d220fe5d316361331db71005089e5983404211259879b225e0d4e61ff30ddcf5a906e1aba4bf0ce954c77cb039c1dba311f2bcd55f83d0ae020aa0b57949c4bcbf5b7b7157d2f6cb5d25c065b769d0f9ffb73a4e3ab9286ae83d2fe142a89e79e5960e47e52a5781fce7af8695ddd8bd714d76cdf15950c95858a9ace8e5b78a8b90c32937e88f1b6cf1c2b6bcd1881e747d680665f48826b50f291029c1f1270b8676672e92fa12a920e0e06ae099715007017f1fd6e99f9a9e156659545ce7ed317b3c2586f108d80bb23962a875b548a117ded62e16e8029e0c5cd0a9df71ad48a9b0439f93ad19caf11673337688353eb17be013994498ff4a612be8c86efe77705f6cd6cc9e449b63d79438b6fe56dec1cedc9ca9c162c9537a81640d6227320d0d81881e6cb7dfb2d900a4ceae7b3ba59c9d5c4c91ac81a11777cccaa089dae2aa134e9d189c24e0c06fb62edf35b21ba97cee805391e783c0288937e4ae1c5425a9d4b6781820146dfe2bb54b4316566c699f8b118d3fef604a6fcdcb94b7be4719e34d6b3984f9921afe054e7c6dd3db7f4e18f573f496192e8edc9be3cb45ff75fed862bab9bf4b28517b05ac91c93ae8f3e14d3a0eda9712a96b1dc0dbd74ccf2d806849126e1077589c8d4b9689f68dab997f9fcb01c9f36b8a32f4740126ae119a38ecf36a5dfb06542a65e8fe369823d221fbca4947b90adca683f179eb3aad71369d6dc88259177a70653064d5b5ed0ce8d8d9dfc429cfd09b0e670b69e0d45067932308394f0e02125ec740d5745b42590f27034767c1ee0df8b16d778bbe70f417b8f0237550d5e92bedebef4c6cec96d9f8704f1666ad508c769a58256efe2ed4448937950ba17b7591f0f4caa2d759e135de34c4fea109b1144d2ca236e2c91175e3c0110adb404c212690c57bd7cee1119ab83abc2ebc5bad8a863774a099692271ec3476b274fa12458dff50dbf5e1841127f7522d5ac599a22b27bf0fc79cd5f80dd347e3f7d31e5e7d016043461ee5514f2c4a6fc8fe84e03ecfdb7cf2b15ab6d0d846bc937f4a57fb3ce8b1ed765a3e893f8a5257e917fc0b5e0b12bdc61301c1ed7fdec7a39c1f35c639fbf61f6932ec4abb5d8efd6e1db8d114b88c324c352537d8f57a15bd20e7d8328f18cb9c31a9798f1c5c153b62bc3a495222a262b6615a266379c907a5175bd0d4af65a92ba4a3973d754bfa56f26decd52af3c348a6d33cf85362d6ea4406618b63491eb08c7cd90d26a76cd0f6847d668395117f8266b0ecc8f3573d89095789c72d40b7d1e727f54655036f287316637bed880cacfd0ad5e708c8c801dbb4c59f6976e965f2ed53996724c42cc85e6b09ff32047d1e3af547e619e178ca98e9101cd109c46282c8d494a39309a36a4f006fdbba093eb38cae39d7a0ffde38a2763672244fc8bf284483b86c6afd5c2044bce44f7bf38c73821dbdea47be022b3b3ec8df68b27099d59abfc4d3f8edbf371f53e8125204163b2393e7d6823d42236189b791eb9a8cabbe4573e40ce2d465728129c31db2d6712dca0c2e0aa197c3a64ed2f0a322f48aa565c93f9190cf481a2305f9aedbf4ca0547cb70be04366ef4bb6ae2a2a8fda7c938d53f2dcbcccc1b4b8ce061759809a7d14b63584c773ffd01d8d375cebeaac402b763feb00f9cc602295fbd4e40e3c71be41272cbffc6eb4dae5bd035ed60fe9087bb9fa6877882929b7b5906d112dc5b07261657159739626665324985fa686902562b63d50320d40b1a2eeb353c541b60a0d58893337a568a3dfebdb796aee8e7e69c7555937f7fba661745e5bb253c64efcbdcf109ec98f17ef55a7d5b5979ec5fadcfffb93dd055c950abf4fe6a80ae894a1de7f835160b43a1acee21648f17865f6ac39b2f526f011b997cd6c7ac0a48f0cb6a4aaf237c4cde776c4eba639966c143f87f10e0b3b62abd3583c2f4050c7735fa5ffcaddacd8127fe1d1650b5f6a616e9bcfaa3bd65f56846afb222c81ba81bd19c08c53bbc81428aec3b18019b1a5db057751b04edaa1dc314cbf85882ee49ff78ac1a4ea79200ebf7b2a04cb28cf1b95a1d37646cc9ae38e347c4fa930c8550ea91a1a03807d4b03ba33252cf4fdd43c96dcd3740d3016036f130a0fdbf9aeb0d8ba42fede1ac70e01424f74d4e3b27a42115141decac62936ecbb602a3e42538c62b2504f19fc76ccb7c77aef3d3853fbe0263a6e3033e597598e9367a2008b9a64a4a2f27f46a59ba6a11c0f23d61bc60fc77697b252fd01d2b1aa67c0184548a9c522e476a308aac43c04b539d8b5c3c179e2b17f0862d782e343bd7b19146525294b309763b36fe4da5ea53c990f034c3b60d39981e7405c1d6bfe9ed25cae2c91a826e8fc7bc278d72eb6b8b6a0347ba417d5127c29c05b77752a6d47da37ab29982c6b6b63acca51c71db58a24d5790d671f7e77b2d64f0f3c371ceefd144515a8f6eaa18e271d1433b3da797baf10ab99539aabd3fd24eee1890fc863d9db52486b7f93daa62bacf425f1450dfd807d209dc282e4a45ccc267113a9735c0d1154907ce3cde77562803128b8d5d98fb64ab1a034066681c5e16045833ee7c74a008c815200ba4a4409650ed273e8c4bd17f5b688912e1e3b8be556bd9b41e18c9f836367db2d6c47bdfc1c84a843542f032fac44bc8a88328e9cfc7f51b4b0c284f71a46684e0cde5c9935fe3d4f1cff6c5340bc85399f4a306428f29d79ca97d1868a5a1bf9a3b35fc3e72a631f404333638ed7489cd7664d65fdcb8420fa348516b1754fd57fe0dac373a880864d19bc81ff50b9ca8d0bb54a694f98b68cfcf10ccc90adaf2cd0612d132408299664fc6b90d3f0068b5f43b0321a3e74dddfd33b25254eb1ae8abdc4499d23641d461f6d97f027d7be5fd1aa3e28ef643cd03ad8c24719b0d47966ba3ea9bb9af2e7e6d0f39b1cdb3d13e2c7540a7498a861c15716b892279d151afbfe1a8df7d814d5ff3a75716d2d73e1e4056d446764816ca95fcda64e155ad38e83753a3ec9e19a85d3e4b76c0f0867cc4cb2fab982520f7435270a64bdedccc39f51139d9253f50d3f06b6bb1a28f8f3c3eb77522f45110deb1825115ebb8d158c8d51f31b38971cd7175111fe306d9477af66e21ca06127c6b565a31b560ed4fa6551127ba7c779cfeff82ff4d1b52825fb3350e21f0c3ddb039249b8950ebc97baf81197c5516581e423e45c34fd21fc0a863603c8f56ec7f8d08d3e7bfe784a16e9e25cdcceec79f384820d9162f538c485705ad07b3913bf70d3b9606751e66e066b576edcb7dde11a7c0f364d52d9d470ade878869051b749994ee76a0abda22245f60afa7fbcaa402f54d4cc91cd3aded531d65c7333ba5508cbf4ec523dd7a9caf0601e60580eae5ad175925098dc6f618a254bb656b437692a75b8451881c3f61f3bb673f69d39ed5b30a519921614a0c94fa60b0501145b9b7dff1bb14b3daa8788944cd85e58ad5e54a8e199ecc80fd371d25814d6f628ae498591ea3890a28a9167bcbb1c37409bfc8d747b8daa067a0059f58b9572d4ef9a3576213a7c589c515906415b7f381f0ff8a4725e5fcaa3170b6a82803250959fdfd2cf2c06a62b6b980aeacc6750a84d575386529c48b798a70bd02321e3f7011178221a11a50f46280c1efa6532a1893254efe1a469bbdd3656bdf851ae357292e6816e3ccf4fd0a984a3b7e1f2c1faa8cff45f35513db8a8c56d03c9bae105232c9410bffa0fa3913f28bcba33d3aae4c6c5c9aaee5736d0abcf701afdbe5e27852a5aba1ee62680a7aa8bc981bcb62266359492ec17247157bcec86c2000f374749a4f8ac8d41a114bef57fdfafbc78f0d573c2551418668cefd9cad1e508f08ed100fa2a5e1bb27036c533f9c7efd93613476543d39a608112acd9fdd1536e2a6ecfb19fb3988d0b7024728a12e06a077e38c2f3b8a6915c5cff4a4127d613ff6cc37e5208a447b5b823c0a271d1d9f05d25213d97c3949d5327441c27b6504a1f419ccf043e29b4c0d4358fa623d8b9c0f00ef82bd31ad55a4042c66ff120dcb066a11809e7642d6218d0da35d45857e68a7363a1803f46771309a6382b8c576d059ba37f829e9f3273643f114e73d51a702176e822693c8d34fd813f022fd964d96339015cac02624cfb47461d046b5f48872ca29fa7302eafa7a908174836adc7844ce1df7515f86923d17c0252f6104da6c568e93a65c97ba9fda1f830c5f9b5f22cba344ddb6c44308117fd9fa95b3cf0166b4f62036d0c4d4b9f4841f82584cc76546ef357299264ebf59aec5865511ed7b762c8f2a455870c03708f091b6926f3ba2b75430a72d9f8c96e21ee0821c99339953ba23132432b4d1f73eaef23838c68b57a5e10733d3c355ba4199eb137f77d48b30db5de4600bd220a395fd0b2183b5f87cc7d401eeb6a3d47f6dc2985c01270331ae8562f08dd385292f7e6575b522df5f4c3114983956e7bd20d6445d1c5850c49fd3426fd63dff2fdae5e530f63a3b78cde9e0b55781bcf4a4035076f4f65ee909be261803b2ccb04477a41b78b3ab44c88419ee54939e51ba1b61930ccb1b4524db64ef11975460da98ad473de1f2f11c0b7cbbfac9bf071a258a1abe8791c6003252305f5b52c367060dee2ceaa87ce6281ce114046b656cec7795aa1983f88600de3f965b8798760bfbb38e318468ba0aed4911c48d0d2dec6543d239d16cfc602277f919f85e395bac6eaf2b75155b030b2c0e679af0afa0958da0f2ab5a6e98b4f29fa8be1f0e326fe1238bd5f8dff3ff0a0f6b3a723d5eaaef9ec962b9d4975413fef89e62b35ae4f673e5cdf3ecdcab5f253c030a564867e1987fc1f44780358df3e48218df5e3d66fc57f043db52a41193b88b08ab0d7b5d15a176bc10293f34e9c8b11f6df763a3edcb58ef38aff9c8545c4a2878256d886e7e141072cbc12a80e0d8ebe96c0dd3e0868862f464f128697d3752c381a9a5a98352149fc4af4b51a08ac6f7a41d0764560e2116bbd722e76f16eb91452315f8b6b72f752dbc0a4240a3ee642eaf1817516acb91f0656937f096f839e4b92aecf06a0f5688f57123e9c3561c2680b435117ff44e38058ea24f417b865ac9a2cbeab74b0ec4642a7f7f611d3272a974a395b1e90450a54e7e891d672c36efa0beaeb727b1174f5e3f03ebc6686b1a8e776febe8b98da3c737657e7bbd7b4f50422a7ce7f2ec4c3b9ad5548d9443d891044d4a21689047f9a279bab05ed7d36a02a199a461c248b498d39df4c5fee3bfe778e7811cb0abbe426039bf470979960e46c54c5f0cdd0be72b199c464cac1aa91241e2523f17537be072ee07c6bc2e87fe17d5a6558e6d4891b27f035064537a135760748caacacda9d7c05742667557283b2d19aa2dce30cb45985a1185340c46d5142f3f49cd16537c23895b6e7ace87a7b6b73f160616cf8b31302dbd8a793c84bab8167a2f8c24ba8824b9b15eeb4b964ca312ab8a74b442babd887dfb861523219c9f09f50d89f7799f24b9d334e991bc41fc883810de426832f429ba5d664db6cdb2a764e443e0b4e8655e87f50467f4899ae62a3cd636c7e48be72f4bed51f23425806c112aa3700af3311df9cc5a371bbfb894747168bdd80f114c2af8cd1c14f1547ed69113db53a5d539de2d40a6093b3709041f18d1ebe0137cbd5d8190a331f9dd5f7831c1d3032a3b5ae8caec6e15d171c6e9baca0922d4c4e7c942ecf03e7d94451403dba699591208b5e48a87ebfe35304cd6d3aee2bcc31fd9aa08cff0366a12247415aa54f56b33e8c6b206f1c9adc976b1a213ff5770ba7ed9b95cb3799bc89782fa561b42421095d146a44d6e8f7639b8331d005a87b9e6827266429439aa2ddd027c15075759b42e18a8e24d470ea4085ff372734483b942c5050cb74b9504b8fa23e4977cb85c9d40d18b20f12a24fe3ffde8934bcfd077948062c63c21c4508349dc367258e0569c4042bd51f2b7ef1dd3942a992aeda0495e6b5792e7582518ccda6e980602edc19fdbbb658090697dcf3115a8ca7802344b50ab34ea1d999f363596c566ed49c831a686ee0e57c52fb46400e24a4c4b9e2a7c87d86b7240032a35b52952fa2cf0364afc414dcaa35c86d710dd16cd49b11431591939155a219474b998c63481ced61bad01f062b7337f8bc4ac6226624983e5fb677819bc1f95320f1229dea0fe3e0d1fd21779f18c96ed0f63f41b6f2be5f8cbccd99fe9ddb9a90698d7d4d8b6979325892e828039390270ae695506422ab70ab82b4048f81c288f9b5e9e81cf823f405465753bde34b28135b18e69874565266fb3f69af577b1ac5ee84efff7d30bc6287a10e3d6b6f03710aa4091f7a95403faf540fcd9340fb8572905b71a6bf66d01bc7e916d37e11fe2ac880c94fffd4a239c6951a20b9977f37747268e6c1c38897fca31c501147cbbe01280d3fe4d4ffc8ba9bfe9f1fbc00ee2e1dab980fe25e05501bb7339af957524c385dd23aff6aedd88edf1f0d5c70c0afd16ca0359e3755808a37345e6f4ef0479f01faece192afccdf0cd413689053de9433f0f573bb8d20c91212874560200726f5fcda8474ad6109a4a972c5393a888c245a16da2675254879df426b8b835e42947e925d324e096bae27f14156e9e60e058acad53dc9325d7000bced1e75e364f8312e6acf5b68d2f1f85ee818b5402dcfcccb4b97757f06e165c92f4938687c00634df81bb4bf7997b0f550c89d648370e132ad2276093ee977fcfa777451f8e35a425b2f13974f4401406576860b98ccbda50ea84a3851817dd5e4a053ba0209a6731356abd33d4e67c0924cdf3f440fb2c224a60ca26b9e2041ca622be8680a0c622af022cd62545ab07787b82d778db72f3b300423c326cd11f2264c56af859d19989a72878cbd36150e474bca0d1e2c5f357fe5c4c44e820a61f200d62c509aa51d8ff47c6d5fd4e491196ebb14e76cfcebba7e43a20a6a4bdd358340234695d011ac40a9ced8974d7a998fe9e93cb15ef557d9ed84d5f82bac18e8c1126b4bcbd90c691f25977c066af5f4decb4fd840ea44120a246032253aa183f67c040ac2612cd566e5284238411e0824b5b752ce21b2bc67551571ae462b54ab31dfe92ea4d4668e3f8fd4cbdb1e72c5adec29c36743320a237b1e72173f94cb13dc9d9a7e1f69d99c1ab3a908bd5080715e864c7d235adf2d25044e843ab88106df03051543106d9038550c2eec840e6bf7f18ae13cc4e8fe62a670c4c5264ada3905453c33690165d0cb2a54f4ff335c66b6ca1673b7e8565911094cd2a40c6b183af557115d9c61a8da809e87affa63cf298361f39fd2d2c566d6b9bb266bce6bbd113ee45c2f639af5c1faa5a452af311136aeb8f8ae91b120ec4588ae4dd04a5d1e4059dfa16f98426349a833f781daf9e2576b59957a063c6723f2b8903033a5794142f059055427bcff1e993bf32ff202e8d27f2df7d27580f41287a790027a32773dc43b6dd3ef83d914debb8d9f17027159b7a73c078c3b018ee93c2cd10e2a3cf5ae26a30ef07d6d80309fd1863a28ed224afb3fc13db3fa826ac7c75bf127cd89f4d80e60835894c49a1f00816656047f5e0e9f98834fe35b2c9026cf573eec36633cd1923387b23f8b55449537a627d11d957aa0f0bfb37c11d9314a9163371d8e897902531a5be5caa119e9668782a9700a18b82892083b0badcad6383bc6e5d3a19c1d651e72a0c64982ba30d56e6649a53131012da9c5a7384918d16c58bfbadff613549037cd5589b4f900ab98e155fdb3191efafcf9859da8fb80ee789b19d481bfe4884dc8dc0e879c84e277da18e8872faa15a68598a4bf2dd0edc51c21618a1e1092f602c6611fbc25d3a59a93ac726a1f8165eeddcc26bdabce7d46d48f1842bf0ba7bc5b6be832c5fd5d3df84214d8d72a15df3735e437cdd26e37a0d9623a9552b2b6552ddd268db90fbde6d33f1a705f63b9f620ecf5a869fd9d6615b6ab9e698dfbbefeafd700479a00999a52de13cdb0146b1f5074edc9ddd1553e05fb995a4385a5872a329dd8df006d0f4f659be67b9e4e8f1421ffffadef70ef110404172783b01957798b06f15cec146249e5527f7590b67d909d0a2e1b57babd6dc8ea8b198f80ee1294861043918d7d331503f55ccf8ec8ca3c33a56be633cf344702055b7999341ffa89321bf4ebf7853586268f9b4972c66e1a1c7fcbae25bb54f3f83b9d69f85e7ffe2b2fbcab22d93ddbecc3bc05522d6de43a9b6860ca9e59dc00591ff597d5f4a3239eba5f471f0321635b12fc1253888f143f7dbd4fa93d7fe9cd5fa1735ec712f34e671d4e495b221235cb05cab5fd78321dd676c95eda1dcb8776bb1404ff0d88add34cb99bc58f6c346a279922ca290aa26ebb272eb46577a1abda48b0e45d98d26185ccfc0dedacf33ac56fbd738d79f932d34523ed0533f8a89b191b98e0fb9430a4bae2d381b1a6714f162ed53094564f63368fb427488f4f7986dddbc82fd8d682bed1aee762bdfcd5380a4bcf2e2d3afbc3b0f6e4ed8a4cc8b795b7734f1fe10b763ec4e7cc5555679a17a54537e3e03751eead098699cd3ecce1b8dd3d7160434f4075233c1a3e363138d7ea0a7978d95be9f4d7f5fd093a1b59a75e18775fc0869715705ee1502f1885266252cdfdf81d55b761bf9c0fc0809e462a3be4f508cbdfc2f506ec9d309463f4ff7f0adb4ded5ddd11f08646a85668fc02f4de70db9835e5b1323d3fff3e22a5f1febc741c11952912f8b10ed4416b56773a19f25c37bc48eaf4c3eda51dd9910434fe8e2e07bec374d19445130d1a78ab56e28b1744aa9423467c875dc45575a21a9bccc28fedf45c21516283e0a9e0a7bee1dbb7e53a298b1e624b71feb8578bce702637dc794785827a3d5d970c4f9ffbb66467dd56d9cfcf99fdecb859f7ee526465b0f9feb89bdbe9cb7dc6413446ca9e4dd4aab1756d48f8ac156dacfe9ef3b8a0da456a884b6308dc15d9ba68fb490010bc64ccd4b41c313157ba3843ddcd2675f857664aababb711931827219f2b7c946ef6b6886545fcbbddac93b5e1c55d727a950a443bbe5ba306f7e554809702941522ede51223f9668bb50871ca2857f6776e2c5d6290c9087ab0bb05e2e0b8c499ca43c3d684e73e09ea0ccd59466a95320c3a42bc880d27714d270236a441dd9df0776d87e431b79fe27cc51940dc6c101dc10d1970b092200972adfdfd7e8da7a9bca2dc9b39abd5881ec81bbbebce2903e847cbc8e13b82963d08130aa3df85531a0177a5392a64f37cae25d319779f1e99d8204d123de57501373524c9f355249a6033472f61d19565cdebc6d66f9e1cdf13506335ac20f6a349afca6ba41427f393b3ad1c1e1019184f0e39c5d528f86bf5f1c41dd12cd33ad8a2f6af6d312ac67371d183d3fe9603196885a7f082a520d3bb96e2df2fe9575e5917fb092b29fa55561c78491be3825f362af2e9288d7bf3f3064045383c15e44e29f56a7eca9b5de4c365e778a42e5567931fd32223f5ed5cd0b492eff42f04ad838dc4cef23d1a9f5e9f7bfe3271b38c56875863f6e63d49f419fe374966e12acfaa5a672095667916cf90966cb263a7f23cbc4814de643b86ecfe57eba06eea1faf41d95f8f6d148b6d433e0a70ae601b16af11d0793c43704b0e89e93e15bef785fb894757013921025d8bf2234a9994d3303d3573b854f26f5adbc073def785dc84d1eef48b54e3fe918c32444175552ce1c02675bbd529134b0701fde38120af8f4f5235fdd4de51673b0af98fb938f69971ddc483478d7419de34957d98a01bd30ae52b6b11564805a7c23225a296951c5b5b6c8ed27b81743975f48be0b3e4c4ac79c4203c1474fd52a9f0b8d2ef73834f45d2e655bdff1a14792a5eba6cb2b3a59a5d3d3c4f8a41615568cf67de3ad8e4387c75e22d223efdf34043c704ae5a4fe1b27f495751298b8333ec220c70dc7d5b2758ec81437c13a16c8cf6f49b36067d34e563db3985dca28deacdb79bf522ff7a652dc1a46848179838cad00f024c0eae9f84d66cb7ea551d00dbf1dece4723f988b79bd164ee46a3bbde56c87de76c65b2f7109b186a8d6f4212351d02d142181acaa6d4f73c44fa5ec969a05e5985202089feccf3276cd9badcd60d5f89cf5d36ff59b02624462e14b80dc67429a92bf1387bb7b327e18742f6e144ec8d7a5dbba50a7d9387b3f29a1482ea05e77189a199b4cb8ce0670f00670c798ae9a6262135d13c69abb12d57d755d240a08587ba15da7755409a717f55f9b6dbcaeb59d921c176c9f237b543111f360a243bdb66f858a935f964c20cd9856eb29bdd1376a43df808e27db113fdef353f4e04f1fa87abadaaaa435e890d4e279c161f26865fb5a05dcd60faf989b8dbc8369fd7bad9b51d18dba15c142a70dd1274422a054ca2580a6eb34c1efe224360815de66b7ed480cfb2faf6f36690ecc540f9f0fc1a67d1a647d2cd3ffbc3ec515761e702ecf84cdf66421a300220f009896ad8d70b5f9bc0745dd0057a4c13ab1b5e6914792b4f36900ebf9b966f4a875f1bc6940c7ab8e33b95fccbedc8acd6ae57f21a93302d606b5d936ff13dd0491c197fcf5ab56760e7ba95eece8bb4411751be08e48df74e2fc50ec0f28adc669b354badc8eed67438c24225254cdcbaf40b01ccc4f8747882201c97a29959c2d9cb249612d507937e1b178d13cd72499a7ee4825b8c92d8602062d223ea704cb41acc59c5b22ab9261f994dec9ea9923716b1a533e6f4e4df015bb8d4c5b71e0c7b0c65896598aea08e7585fab9eedcbd646daa3db5ac73763cc0daf260e6b1059f2f23a6871ffea84a07411b8033ca2365e2550274a0451376cdc03b50ea42cfd10d6d0f0952c8b47bdb7d17ccafe2c7018f1c6c52fc6bd5fa10ee8fd577d5ffada5e8302ff003fc618253c79dcf7d6c16dc0baef49afbce4bd98341e3da1c8518f79c58e53906ca994983624d0152e481b472927d09f8a1c28cfb4930af66c138866507f1609de7a523de74f04a694cf765105093234b537413075dcd3f7df03f9f7b7e46df25ca5f06665f0f7f8b0d655332ff9a71493a7ca76f92fa8d540f5ce20c433c3b8a0097cc2ca3162a4fa7098dc22018f09114d272d600424742ca64d3028c1e669b5af7e4c9466038ca90117a212ec3bbe2f74363ffcd12e972d923b8e06aee4a484a5885dd263c616917da0b340815f6f426c72136aee9ecfa85a9e96da86abb96eecd0151836b85a6e7ac95c92e5ea7ffcdf1ccfc15e4fec56214e41b1b93be6e27e7a2af6ba5bec7f3c0d09685a85df6c64dc3d529d8ac4844d6d28d8f53e010ec9ce1699169c02962c8d8543d3b5cb65424b495386519674e2489d8d3ae2df41f036fd0e75ded959d1a039bce80a32a0f3c8b93e4fc0a3b68299a3cc128d56330b458336566f287f23a2ae2dd3ef53491104c28e76a8930bdc32cd820003df8ef62249abaf0af95c2a1f990663c19b00e3bfbb3d7a1ad0f19014d550d2da3ee5fdc4880c51683fb5c95ffb23bd2a06cba8d09f073c4f662379caebc8e03d55ed03a1b6198baed9f2c4773c9b9e24db66c6de62dc7addb5e6f255e9a42fb8b585443952f52f19d5dcd17986883e89c0b1a1da7cbfc43d489e844acfdae675188442f09b8c7fe4cec65b18edf906e17c038449a63137533492651cb154032c8a557bec3904887b1bc157f98f597198902a461e9c62829f31b1a71cd8f05d8abfacaf6194c1c561ed5187caa943d38193aa3385fbdd0f19089cc0b87a0926c0f6e7ed4bfaef07784920e7f8f84ea9bb7d821078369b2c9557f346907ff711a81e64b62194d2a428720ee3952b351579e62a35f62808080ecb073dc1af7752f99e5c2b84c42bd398d959d8bb1ca1615d8fddc7a166724cec2307547154ab44424002a8e50bc44879dbbe0f7792984af2e6cf119fd5ac8e302aff9bea5ccfbea5173c545c0b886a621cd0379d2cde3392447cc92a180e59eeb462e496b9ba4cb9cc64e807c8568723ee4af308feb1470a502d9fedcee9da373b24891595e985e7b6c9350df08792784e5cf2bb4fd6a7e59de9bc0764f7202a061c566321e321e99371fdf9a3dcfca972b65e8305a21c4ca2ad94a1cb50002162de5e391c9b9e42425c478aa37c847686e2edd5d881e798e9e341d65a9b8abec95a3ce4bce66da84e53b113f0e2d680990fb185b715ec344f107486dde207b9e528492945072e4162a697941925b28be5f6fd16a56bc9b47fc4169a36cdbe894de8c6a49a29efcca49a937bc640df283049b6c204588d82050c2d0147d00ae19f35e962ee7012085dae993cbf68c12240d03647278252773f3c54101b68e96d8977996cb4d7d5dadfcc0e8e7da7d4f65664078e25f536f6575b2eb92005e15a8ee026b0f0ec9d8d92b435f2c59582a41e55f90de4b4ef21824b176d70df997d057ffc22f8ae056f3e8b766dd91761f2669e36ea7793fe1b082b0a07cf36c1c07aacf11305cf219abbf621d9d24ae4d8ea64bc7560633061fc059b73ecb30292b667769f82776a415156e7880a02313ef638ebba1573540e755cf2237629057d336cab0c860674b35356af124a5b24fd79400f826a75c52ff533ed75b13303c121e0122dc8736134c9016de6ec46cd6a664d262b86a9b578782a29c8d30642c7806b3ddeb4637c7d9e1e38efcfa4ae56ced26a8354d42a37e18b865ce8519abe2d55a22d6287e94f4b442ccf10ae7e351846149eba49c8fe92d968a2791c02e139d77e4729c154f0d22252824e91a0cbdcf393a6913d11d10323bd1de234660e2422ee1c771a3898b84cd6dfa5de3887fc6bc97bb49e266dbaab4d9e927af66a6b708eabed79c36dfed147a36421c518ab92f71493b04af8ffd76b43b8fd4a9f0085dc1ea946a466e301e4c5edbc5045ef294be1b53949d55847e66966edebd4ab957bed1aedc2894ccb11ecc1ab2b7a9083654aeffcdb919c42635a9e3edfdddea8739d733984eec01ceb06c069df1b83b6fa00c4181088e7f6b99d9a10b22cd2f1a4c60225919a907e24efc91e48c73ae7a1dfe7def1580400ad18302dfb79cd3927cb101ea228cf64a3adb15b278035c69edac7ad3dec5dfbecb7c2f0536db851bd0c03c89c6421a3893cdd9c102a6a54ca7e7ed672436b467e76fff725c2f90beeaea6ac52b3e053775f116ab97e5f66570017c328c381fa8120c906a268baa3940c68dab5d3403ab5be570ac6df191bbeeb6eae824fcd1900ef3753ea949278b82a9d1aa984be3c836ce29cc519aa303e30b8204e7b5963e853ff9ec4079851aaf84431d9efd6e4145cbc2b887bf11e43bfaded473a3f71a17f83c14f804c97992b45b91d4bbfcf48763beaa695312d6e19109762a916a7841a206f55ca9ea59d747ff0776565759ea4bc5a1766951df222e7d77133f24a1351c47f26bc07347737fc953017dbc1d8abd9ec6fb89b9034924c0ce108a4480c6c50e9e35cbeac2bc448fbf43319069d4534a629b0100175d4cb407a788c6da0ff16513d51080e873390b1e27c877b2d55b5aba9281fa03c45ca2960a3f18428f1515b3b01aa702db2f21752d2a6d882b2b38d8ba54f520b620161f223ec96e2cc6d440626eb26cdce11f4efd75c0bbd4a791cb01e47537cda6c5d22e9bbef36f3896dbe44e48784d3b662a7ca10764be70ad4caed65f43e0dd1d6013840bdbc48e538820b752deb89e62edadf84479052721318600c0339c6d9cc4762b68a219c60d7e83fab65ae5321eff76a2e82754f0e732ddc6ad922dd7ad61602504f6b2eedc916228fd6eab677d5b5fe7edd162875d57ed23177521669c6c95964fbea7b5e7e0fae72a859c87c4ce8733f61e79510fbc2d9efed156394a37f493726c66403558b1437bd165732e376bc0fc1c2828904ac86a584bb9def99766144fe580d1bef98e08ec94e03fdc10942c09a8c377a280d443c87c6e87ff3aa64334598d95eafe10827d86f2ccb5a68a268cfcc01da0852fb7dbd72201d28936f56f78ce37f1ad09aa744549a204b00d1b2b69566ad76cdede24d12efce0868ee52dc970bfbecca0d9caabb90f26f08ba630d6339ea33cf36501af8d8dd49e6700ebe011c750879b08cdb9f7565dec05daa8a04869a8a18a61c50eaa847cde02c57033c690e6283cced75d4fcffd53c78256a0b8fff926d5c0b76cc7d8be7d2920f4442d277e70f93db4c1999be8edc031489b993b62061252f7bc2cb676223a52f93dced95e7609c835e4917b8b9233d715c3e2c62314c53d3b72b604b0e429e65c02b765f944f74cd2fe6c7109b3031cea4b5640248e47e413b56940d3b826d99de577853bf135e5c52c3e293fec1d6c70ecc1f9b54cd969d0097338bbb950e62955999b23751a66cb88406775e4f13fb9e518b898335ecbb762e3896225b80419a42f59966bcb4594e17e60010a48d43887c2c707efbe02ef62c88d5a7470ad70c4da541f7cc1812afe586896f157725fc75da1931c0a09aebd95659c0808cf6e6364aac0d64e1e759bfcedb7b6863eda946d5deac8d97997ebaa6d7059632b016fb6384a28bab04ba5157b432efa0913d3c7e2bc7e38ed0254da9fdd71782d0c87cb96df0da91944a19e7be2581a7ce8e196e787443a638b6c72e1af93cb2917e6513223dfe6f4e6f98521586e611c3004ebae67deabaa70914092164b7b35d14c4bbd0aada161c4d2f6ddf979c1a75b064d13012742a9e988500c56ba59ccec24f995503ce8dbba146e7baabdb7770bc84c565aee62a439cfefd1ba0de7cc7b190beed650072b86998ef4f4b35a78c9998966454c5f481be3eab2c74dad4d79fb6e668e6068c9bdcb2d4e9518b6a2a65b9d2d445b2e0ff99918c301f91931f684bb21769c7740baac079887380d79997ffe8c79964289226283b2cf9348011fe4320667a632e9f779a92934a1c0dbc4f609775c9c9982122dcf6e94b245cca82a2b8428368a4278a4ab31d9e34a3a1c0b70b559a1f0c067288f1b9d86ab8fb023231a190d027d0d022d4dbb7deb962dfd55555cf288b9fe61c9a43a283d666798f738ea17f44443373c3ea56a0281970dce6d0704e84ff77674755965fdb20843bb7171e45525e163245064b00066db25d90159e2274ac69cfea21496e1b5f5fbda781bf09dcec67d6ff873819701f681366c7f390b29e9d9e88d13fc58f5399ad0b4d9605683e338eaa58bee409558719dcfd73bd472960a92f9df4d0093a4ec454a0a49cb19a350c2518bcbfa0019d6828050230cf67f47bedc8308df75b6788a0d2a748997365fae3b52528d098504f6e9c513e9df092e3410285b68f062fc41a6805439c178ea9419c7b2bc92070bf2216ec15ad75964bc94ded673cfb684e720f327a9a8297286a06bd5bb267df5de4f6674073b5e95d9622e63234127fa937cd210bc95d32a38e8bd5811b7eb0a243ffea1f13ff948aaad4b0a8076d551d44c18bb743db7b43dd5862551c9c34cb9d35ba5b7d0abad667f31cdf53261acc08080c7938800a089beacdeaa7c0aae1e08c9b4d639ee8b501797a9fc266da6daf1cea4b81d7e1a8b9efd11779213abd23548866cf6b5b55e1bd5e46d0ce33636817a5bd563aa37f23867b12376a13b5632ba9a3db58430e4fd4f54ed952c08628075a8c167b8673b81bc65dd96f54c49bd2a6caf02c95d5be5602f08a25e39d219ad329ba5fbc3c5f28ad2601282dfad7cf197290ae0a4c8479ba53c7118620ba2c511144e26d77cf1dcdda8c15861bfbba3f75779194493d41e0962f0f3477af708422c165d8d7973181ea820926689dc1339804ec14cb92b6d26142fe4351ea6ca343541c21f375715ff9bf8543c73cb9a7173e8e08b81184d6b8be3655f3000a50ba186439d68bc1339ca39f58c2b7f57d752927cdb9355d6ec0bc927aa6460434ed5a66a12503800078b653b49fea30eaadc3d13f8d9a352aee9557d8541f65bf93f884b1c439be2d55e98d22f9a6e945341eab32c634bcb3ca8debcfb1d561beab165ef490a8eb5c32662315fbaad1cf3b63a9f91172998631eaa1c4368bc36de148211bda7726f641e9dec85f4b0ee40eecb2324dd3d6836d0b78166354324da9bcca9bdb7a70cfdc8e63a58071d8a6b449f2930feac07dac684e6aef7bdd8a9610a650d91f88bc4e25595b9ed5355954402a7044f37e59b3a86625b8f24ff5846fc21cad933ddb1d144d76f4e048328a7bc7cd0a11e737d9fa4601b64a26610222b3ee8f6cd92e29e4f9d40006a0705d8b57b76d15fc123cd92b80dba0a1a939e01f411c92a2d283125fcc92c1da175c54aa0c724f647434bb3df8abc7c2fcb75bcd4b3bee293e1e7b2a80121ca6116afa3e3b3d6448a7fd52992fd61b245468213e8ad557d2e9a6592217851d743fd50227ca1f3a5cb0db938373353c362448d1900c3573d77b4dc0899cc47984762901d4e6340ee6efb0c9b6eeae7d5b5e251cd7306e5a210bd77ceb21163a22ae0bf9c995eb33ff8c4952c8dd493a0b217348dd9a75b9cd408d46d6acddce8a8c17f017107a0b0bd57008c2ddbd184324447eeaccdcf56f6841e580578bf3cc1dda3dceb5abe3d4b14ffd744a69575f7916eed59c06dc98d78f718e540700b75fec0fc628c6195575ca5c7f992b6120083359bce2682658500f60e8d5a4744d270e78900d1860f1d65b4b71cf73c30b0edb090b7b02217dcc665e6aa6b6f6600a0e0b001b14bc132c341789bf0fd84657dbbe8b2aeec533029424fa7daddbae669a7fdef3a4de70c84d56c27e1b7b5a47c6541453152cd7b8f260b113fec7aaf6f59ad4deb3188b51c53c3e8977f5f59e3f98f682b108818b471ea168d8aa930538fe3093758850d30db2f01c334a9d88c0e6aa6fafb424c5868f8b709f01a599cec5a0bfbc4875b67b837305b79d7baad7e442bd2544953a4427704feb3c351fe6293bfb9ea","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
