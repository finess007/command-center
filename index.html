<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"7fdc2d1ea4f7237eea50623ff9c4c9ef672152dfed76e2c8aff98c376cc585cf65ded8eec933777b5de34a7b16ef755ea9d1e43affd0ad86d88df56c8da7fb82c715abeceb15f2a81e3e47ca6140d8d75bf26304cfc0fb8d29e5ca2cdcc7916337779f70b2eed50be7aaf4a888a7e83b1d35bafb5099ebb37131847933dfd15e1b07e1440a178dff47b9a2febf6b0f77689e1aa7cccc8c52ebc20872413864df67dc9e99b4dad070427c61515e0555b5d36d1d98c7c0257eb18be4d1adc7b689dfa06f070f55940e9376a23bc162de11e450bafda2e689f0631f3e198884ef1586395a2353c77ffc614995ba90efd969eaf643fd2a6840ee2e882bf9dd2846e9c0afe10c5276004033a2f1004b5f1961389ba3eb09027aa4a7a4d6d0c0b7eaf5d06172c9a6c3cf611a6ac38a30b811ffedb79e35903be3dc7cd3df3189de1ca4f51014323b329bde1a467f969f3210de5e0893caa187ce953d662ef66f98ef3e9a5f76974d74cd02da972712ba355457d3b05b8d2315183f0e9920e1e160c54839356eba91a25950b7cc14f958f4c377b49a84ddcf7a74d35164f88de4348ffc2f22ebef01221fb246980d4b8f58d958900a05f6d3ba2ee8e80c8855814ac64aee1729dacb39f7ef1968c9cc11ba9cc53219832dbeb5283aae469d5563c45d8763e398d8f26fc29f1dc3da90c5d5686b6a1ed5b5dad00c9279d3c8aaabddd113e38d18066be76c2373772f9604dcc86de7f48c1a2f014e7b18fbf032945f9569a2c35c7bbcd3692ee030046faf053ff730f5edf5242f87c63c5eac5f265cd35a4b019d9a13df2fb9a4edd1e54074980d4234493c05b70cb5a1a018523bd826bcc64aaa5cc22df9559b3120c98a59ea26520c52b9348d37a599f1e4ee52899190fb74a99a6d63b29a1cf10a5e7f5e81c0180e9d59113b007b23ea08cd345737424ba023c980d3b1b264a124d9f8b6cd9588157ba57643edbbdc90a554d959dc3e8f0f85471acc64d01b6eeaa2372bba31ce46331887bb6abc87e8717dae30ffbc1d8ea83e7e93098f8c3f48dd5d966c9481f363c14776006737949ec61f412becd54fcbc5b6926a402f4248498d94691f02f99c964e9aec039635150ccc35d0f42aa946c28df95141b1c576901cd33c474dc9aa87ff7b2242fbc509edfe26d32147f48e1e611241c634d058ea1492e9ce88ea5d4aa94fcce9b6b2be6516a8c8020557abc70d0408b73804d36eda65955cc3a3bc7fb2ed17049fb3f8b18270559e3ba9f21403513f0287e552a177228aa48b14bf95c4a19b6d3303cd4145196510457617e5d7822524ee4585ff40ffa3c898ce02f292a8db42b1c7d8fef3c45ac2556a107ea8c7d7f90a3eeb6f2362273afa44b67850d4b99a58c046543d52eb4f2e59a2ef58e770220452a0eb0678110778450d3e6c7e3206570dcf16178f1f0b06fc6f2138a68515daedb2370a8bad0ac4359585f19a82b8faf19ab596e64d04589fc8c7205ec16b11296d98f89caf4afe181888e9a3c3de190eac2723fae453afa55efeb8df91d44ae1a7d594bb459559b766529233a61a34c63e1e64f8aee2f33a8bc5ff33c5f50d29c45a6387bc79dd278dd79bd31d46686aed7091f5a3902042abb1606d264f7e7a49d1bd89edcc3134fcc4eb8dc1ddad774194f658b3a5aad74f35f72443e4d9fff4a70d55b43eac9c6c3cc6a5f1189c3753dd5987b6c0f7048899d7e5e3868e1f5050881a34d85e09235db6bc7058f01c5346f2c54c08a070cb44aba6a086b1a2781effa2987369ea378053243b674d9c776c455f3fde6385c891175578bf9ffabf83e51146e79850f11d070a5c12801bc06a29ed58d263b0e87ec035952b1b0e329e876509de97d94206133a3286ca2e4763a64f266a5d6eb6b96e27d4f922228678b90e58ebe09b171ab0f4cfef100b2d9aad8d2085902ec6ee18d7df11986e9de58a571b9a4d4b92ebdee4f2fb15d3649c5018645ef2a337ac4ceba0a684f70a707c5d4e579c6ab16f41a88b81ab864c788990e722b993225c2e32ae83cdcda83764da1f2730d86305e2f1beda55ba6dffd71acb7bad7b315a7b0345ae67f16de889d53d48cce5a3bf7fb61f4639b94edcbe2db0070d95f7e0ae465b0e429e9618a18d01c30bd5f0bc0508d4c5aaad27c14d31c67ec4ab43234725fb865df27a2057d4595f2185119b8b5db683f39bd1530f8fb3625acae11f0b9d3d6149b6db5bc94723065fd63b388dc2ba99c35a3d4504a27e898bc22a1f0b1d96d35bfc26d23fa19870c554e5e74da1f5a23ac6c3148a4b3952b7f2b4d73eae1753fdbbb8168f0606d90e967c79a1d42dc1b9d591dbf0218a70ac412ad0b6db2739a201ed80bcb072c9117a691c44016f0bb362a27bc235a4a66a228ce569f0ca8449361cdafc9382cce00bf6a3c9f1e208e86c5b124fa96411045c1253eee8323ac22b861a625777fa975c1e64f2920157c7c81a3f1c999304f12af06be8db9a59b98381ec0eb229143801c64f86bc4fa055afb80f9230480080ac4866d3ad9765f4b2ea9f834abdeb19a20bc7267ad8d02c58ac436ce998ba4ceca1deefd6bd5661c1719f7819fe3c58cf514140b54c7f5654f30559be44a30f2e0196983ffbc7f9e74fbaf7edd913f834f6b3239a07a2bf6550b6864b3c778a486bee4121a70d4939edf724bf9ec64f821be0fe1f1497b9ba33d0d145797a79a88f0ee347c2a3e507bd1638d4cbf7a916c2120c9c3c7d0f058686662cd5f1bb995c873003fc05b9cf3863eff73387e723606015763b9c0d7126f2d858a85f1b02d308d71960d9b45bb9bb19c6e531872d5372ec149e4036db44de7c14bd219a0bb9c92d284c8067a275c7c8a30d9c64baa01b1a5811da8c677e85db34f0dae076be71e796bf6420b41451ccfc17b42a75cb2a280f7d5f2c715fdd14ea2ba04515ea70140a61c48f4975c68361f9ca134c5c02851970f4f1b9d4123eb5a6e81a2295b9a73414b342258e01b846061b00c079a9773e2be99b50f05f5fd8000c969ff2b56b92b888446c0db903fb2e6400d30d1e9173759d07998ccb6cea294a804557e5239fc4a1c01087d1d420d42dba56cd634423d3d4c60419a37cafdc925552553a287c4bfa2ee338512de9922618582313632db2414d36e2d125df9ff5a53b1ea2db8412b867fce0d5f1a0efe1b5a4c095bec10e9e3afc5778732645423db016b1d915164401415a63c7b8a3d47964cb386fdacd4f6029386ffb20c4bc0b9753b47137eb9076c0151693a4f7fb99928eb3a9cae922e8ed0bd0e1452d9b4662ea22d725b6d9c7d81e148cc87f2df9a6b14403c5cf43818958323bb2a6ba22d8276f7d9d7ac1fb90056817e87117293368656c6e3bbbb5bb8c79a4de974c46e304851ce638b7433bb4d8c5390e62a3f3588ed0b6ebbee6b6f116bd5683867d4a4c5d6df3b1cd81e3fbbe0c65f7924e3b0c60d8390fa12a11347af99480afee88cfeb9e651c1dd6bc6552be8855bad19d721158b53ff510c029dc8632d68e1895590628669578f37038e826501673eb974e5ea303007dc8c6cb4b81b62a1e8a07ed6479ef132756afb9467b56dbb949901ec39144038fdce5920a79b79a88e3cb87220aabb2bbea3a7717c525b1feb6e90d81cbe8bc289d5a464423599d5d619353a791c7e034cc2b3eb7166badc21c9dd076f2fab8cfec639c8f3bc35e03507d79bdbba0f0ef5a72c714e1ae98c356e75c84c3c2cb011b5503caec4bf7cbb00079dc4ed1e1cb22efd839317db52601c3529102ecb7fb58bbe41500ffe66a2743f627c5fd3fa73010528647c4d91cda57f0a494fadbe0992ff8553a6be24d96ef29c1ca02c49235166306b28d718761e1bf283bd24e56513c45856ea092ed89769d5857da24329ef18765860146f279b1561775dd71f7da39f758337b43cc6edfca562ce0cf334d8de44d2235fd4f808cd73a8ef9da0a5cab8df7a8b7c083f855467d7d93f6e06ac218b5f7731f0e5e60126039e72904023ac9837afd4e83018a2436c8a76f0451e32a66c785505fa438901194c65879539d4318adae3a6be2bd00bdb91486423ed99ebd1e92d6f9fa49cb19a75dda7e9418cfae8bb4d206f0d79c79db27b1ffe5ec57e2a3af7b3410a9a78662c73c9cd67a7588f202e84ededcc64227484241e9d0e8f3b2e979298f631a8f1424d79ae45f68bfe15324054d650c5debfbe9bdca9ad8677b9a37345226c86acbbbe3beeafb3db35c5466646f33b3543252c2dfe1b52d04c2e623b9c0901dc8d460d4082a4bb0be316fe91b3e57b40e50e9b59f3607d8ca220203dedb4da14ad3d9828fadb537fdd445c2984b8bb3acbcde2b6e7306c5ada812e43c9c3f5dae0ae2956d4f5194873a9365093c353c33e8134b987cb87738a6c900cba68527213f26441d4a0eff879ace1fc03e990dfee57e6ebd91454b1854c94c62a26e94e9485d0d42c6f1b64afc51ae1663970fece7ee4d09e67de3b5216c3cc7e1cd839332d524c35d3ef2426b18bdb8eac819a50cd04dfff6f00fc67f456d69f1b8676a1500f8f1e28ed92a5e5c0cc7346bdf0ec42530d4ad0c152c1b52b3c6f6a461c710854bf212842add02a3bc01d8d7ca2d38a8bb1fe11b287ef52fc6f1ad6c92706eff15d2dfa5fee2dd6dbfb8b1f4ab0895e1494deca1ad1870c27105b521f4f3ca43d407bade44f7634f435af4ffe2ed708b66a0fc09d140e99ac7271161c735c14298aeee236a668d36900d4d1511229e0f1c27865d116c3ce328e642ac9fc38664b9da5b7e150854837c815a85cb3207b894fb7f78fa08131d9e95b4f053db48f2b19c352581f051ea49fa785fca29d20b2dfb6329236793af2f714e2d2dbd4b1ae07de26e7d527be64f3e9b1364f3354fbcc6f552e98a9f22edd7cb3bf139643e5eaeb9aec0f554059b2ca3648e17c70348356bb905d61819db284e2fcecc287c5a2ed142c70909af1799e66c53f4969e133cc3392e25536f34dc6d004f42e4cc9b46ee47d5780517b61ed2f2cfd645790fabaec3bf00d35e62b48364106f20a2591965627cf55f31855649d85b55edbc24148c6b2093a04e79f6bd4eaecb7f36a4478902a464763960612d3690d9fe40b8a0d5ddf8744d7e029c4575b2047144d764debb50d863b085152f84842119761d4dc0197578d54e51f9ca93af29340c240d52a1edab531ab1fb4170bd00804fa16e0eee1d7574588e79caac9a131a70fbf69024538312e9bf8d610569186622867bbbcc57b41ee1529a0861201f95163c0b08d36a845444f0783ea4f8ca6a225bb2eba625db74b1f522f8c863f1c290bd763164afab0ae449b1b7997de0762bc33edbc03ef7e28e876d947c7f14f0427a388094385ce85fdefcdfbd39dd664b6bec86c9ba0f3b8e6c534515bdef3b94dc689f1758857fde1e5d11feed3986b086a6c5aeff984aac9a343bbc109ec8351f4193b74b37484752ce53ebc319a440ba8082070fc4ee73cd1440facb7696b4afeb010ff737e40ab9b2cfcc03681b090b0390750438ac52599befdf11f775836d0d458704a6ba81b7a4fc726fe6c8958a317247905d3b573c3108183e58313e48d93cd14b2c3d4390322ff57ccf98c00018939a47f3f5eb71b9fb4b9cec64c43b25eef2966feb15ce451086c542afd6fa22a75dd7f73175026d917555317518f681fa4311bf2bbe7220f49ce430717c6ea607802da7c06692e477106def90bb7df3f54a4d10f87348b6670609c3977076642d41d7c4d25088dc804dc583301b9962d9dfa0c63c0cc7d74e1167e9c061becb61c6d3f8c04bac432938a13aae2e88b10635f98f4a8df7004bc833973ef488cc8ad311107332298d068cf6a8b34ce31ca02bc4b1e7c7f87a2a40e74d2c65ff4625a94d8086e3bea5e6eba9b668c1c9dec26015a2eed38f24bec3861fa1a865a2dbb20875c288c2a25f8209de38150974a9d307510c8fd851ea7304c3590a30510d95b882b43df4b3a01440024dfad120e6451a4063681864bab61cc7fa73df04268fff7e2c2059407bcb17700f8bdf7b4efdab3c2318ef673e1a6994c38a73fbd03b759f51055967fc1a49a32f1cb6767b3cdfaf8bc7756542b802cfdec7407a138f99e74b50bfae8f68a3ea29f29115752026fa55958489f6173684b4c4318b39aada54858e017d8d0e5cdd3c82a31a9a8faa96a226f3692f012de328727370410b7c29e9c005c84415cff36982c1e329bc0b3099b10b23d90f47c84cce1cabef5884a278b1ccb6217475b47cd16ac3b74f1f36d720e1dbe87c4ec6fd1c4e173566d29ba1f62ab4ac35969e5b4401b0fcb223d61de84f4aa76161681ee6b1ba56f31ab3c71e0c355ed68dc05c3f2468825252fb5d75969041179ef17d9aac19a102cdfea5c1f029bc54bbad3acc069ecf818d606f7ac86a009de80cc4af3ef669a6a44fd3ec4439b26c9e9f4e1e68c1c8b5b65f2a1a50b2516fffb60b879c3cbd5440e1faec1337a361308bbacc4f11fd07a1335f5bf1f1867c9deb052cd5c50749717d6a5754960a3785b25474390f2581217c12ff01e1d8fada7b0ca4c14a0fd04b028e8e41aa7c0bff7a492c025b27b9fdf055e893a5dcf0d7f5eb6045fc597ca9d3f230df6f882bf66b667e8cc1f05aecdcf1e1cda20f75d1fffd7e2a7110b017d6746a02214165a5c2d28f4cc17700a7b674a3265650b0ee3d037fcb428a19982beb790a1e9fc73e5ca631c348485d86a8d5a8e89f127df084eaaca711457eab3b0da264db8a6dd1b97f6354c6d94cfcd6651a69c799dc391f0458ec80e2ffd0c2d6d43b53c0282263bfaddadc48a9e52b7ef4a3ee098268922736b66262aa01772dcd26f62c46c992043d169696b9d9966c555e9b9027deabb12a1f7f42213cbd6e8a1325f1af6fb4c62e971467cd76bc1197cf7f3883b2c81067ddde5209375aaf67353877392e88043a7eac73db8db064d898c4ea86a3e742ccb7020bbd369fce36810a71e11e43a772f899b29406b79ba679d62385a51c1cbe1759040778189f69f1327a2b81353ec63054ae277a23456a473e988b6ed32eb34a43704acda7835b9dacb305f911bf6d958fc411d93b842b3b190fef74b1c73ccbfa519dab2aa259f7eb817621150fa6d54d299fed1f0bf619426f140d6c7ae0d450816cd52658fda96f176ddb61bfc45a7298e5347ab12f4c7c2714f809d90559e74fd113caa6651644282f46c6f3a958c566b215d8bdd88a7da0692fc49a0ce41c40cd3c4f7a57f60ede3971b70b530b3afca3c995a9f2e608e7c829306dea339d3afca26d1a8f8212a8f39a71570f79eb269a56f6f6f359aa9a24e27a080a7ffe0ef08cc554b928002475d32206db25ef5f25b14496c6e4b7065d1389196a1421812f137ac15664d173f926107ef77a1f4f96383df104f86f8a3418b1d9e921a02bb59df4dd56a8106d4461c99ea9baf826e1ee4daee4aea8eb30fbb158204ccf29e935d368a20df64387f48ca4737885320ad3d095c044cd3c4e1ac29b919d57334458c0d7bc23682050686697d7bff69f960b6790c80afadd9e34fdf97f3cddf52bbdc2486ffd780b5b38d41648ad18f5abc98b91c665e7a95650cfb991f7e43b7dbf9cd742948f13a18708c48cae8b18665b1e82697a39fd52318750a46838d96ec7e606a50ffcbd9b4af2d2eae651ea1793cdebdcd7c0d69287635bd91273afe8f6688b9543f85de9edc715e7c09479aab314b568a53a3e2f02410a53ed47c4ead0841e0a95e6bdb7010c3ae7a27efb7c2ef50eff27eec01d543d0dc923bcc17d00463ef4fe1f0b8def6865dbc07e2a99946abfe6bb014320d33225447720d26dbfbb8f4a1111779488ac200cf45cfa81f8393ecf3148e78440305d7f83fb6c38c8cc23e881719f4f9d64bf329e4f73e1be3bb64a239f60b8e51afc4e67598756ff352e12a3c9ef3fc4b9e0a810970b1e9ac98a193227f0fd0330fa7cdd2d874b76d0419b922c8682138d373ac602974186e76d8176735e86f7ea80bbf1f3a2d7396485f05f8d495bf31728908970852d6ce554ad0ffb8e4d65aa0d62f0144a9009f900f2a8ddcf615c3cb4d96b665bff000ca9f7a4bdc1d0a35c9cf02d173e607434d876a81259ec0885eb31eb2e9ca9edf15dfb0954a5d71bf13c25465e8a02c246240ab7a45a73368de513b81ee4cef2096656f2375374d802dde73a7219006b0c6a141dd4bf47c55210ec6ac010b003a35287b776209bb6686db241b500ede5c0213e0a216ec8b175229deb8332fc7dd562d7d664a9e9fd45ccc8225efbab5705e01ccda0f01ee3db8194508fb2cf106b0356d36577503791b0c641df44fc9c68a7a78a9bc3daf3da6821ebb9c852447424b825382550d16eeec138e544cc49f82a4bfd2f48b4e7d94317103c1cf96b099283636477f777db835f11e15ec2936f84bbe1eb30e7f39c1dc20c70597c5e4fde8b74b3a020651eda73e31e202d558d1b78b2743e40e557dadfbc5cabde736466a5dfc556e6fe47bc07bc7aa7d023233a8e1766c62518d22bb0af23b8ed49d2646ad337687ea73427e920f7352ef33bb73d84fdd70315cb983e2e591ccd9c92cc02dc91d9aa21715c66bbc0c0caefec6a4ba0493d7caf360a7940efb130185ef42c870266f41ece50c052e80e90dd7f06f21b47601adf060f00c9eddd82d90a9fa35f2cc06702e1b89d4c3adfabb9e51db4b821351707d8aa76fb4f78d9f5adba97a52aa215b4414b8b36459065718724227c2dda057bfa627fc654bfc1d838d156e8fcd3fc224a42e5e30381fadf1747437c45e10986b2ed8a846b1954b73e178ec89c0c9471dff282c6fe068ca7457bb0216bbdb3814fabe3ce54910b05c889cbf662b87a6d8c3b27c3f630dee87d947b7ffce1a3db7f672bef7758be92d31b8e4537df41a17877c2b14af38d4b19f145e9417950dfc35399bef1210e3b4d10c5f0e55eb9925a9d5dc5b91b37641b7e74f2d657949a0cf8f5ec92afa600cd8eec61318202f548dd84bc225e5a7b989c343a28eb4e8e1f272c7ef0eed4af8182da5b696845fd50db506689652e6f01ce0e96295b204a1cd0caf0740d175a2fd0505644e23905dadffcd7c2ba68f910873092f77d953f0c2493013a6dae54501ceb55d3db260dd2f8cd2b24c847276a16497fc4fd95144d51011cb55eb1b58790021ca832ef345ed03a04534172177581b30d66e4984def78091f822a43c4917f607d3b0be3286d11468536fcd9a0a8be93b15761c0d129b2f8e4d2e8f85f1a7cf06d165161ae0909ce2ca470e67e82c3fb036555f1365aa258bb34cd641611f869b1f60db7c686413dfb88eec1eb0897552285f11962ffa57605a462ee5df7535b4bbcb4a2331dca079f9b5cb1f55bdfc351f40fd95ef3d4c7427cda469bf20fed829fd19ef516f69bba5848213366ce52f74ad4692f83032a56f0bd2f1be0bb93b9b13adccb677b032e15ab331b8ab276bac9495bcfdca3a87f9a27155a3d51796ac2d90e8634f2cc6e24e2d6da456b8bf8472bf86913496bd80db26ea3effbb1a9b8eaa8724b3b21ce5f439afb1544690c7d475209944ded460a3d98d52cd09aa8b9974732caf065d6eb8a947974ab05a6eaa5870cfbe931634f18decd9e81b8a31821520b0acdbe495480c46a012ffd77dc698605899ed6985e64af33368071248879dd28e31f7efb5fb1415f0041c6de4c5eb8bb10bd28d886816b7690a973558bf7f09a912edb7a4cda17ca0907c40ca638baca173b4f35ccb8efb7cc823e044824e10519683b9842081fbc77569c1714c36136633fbdd7547d7567d647ddb3d7fb398ceb25d8b2a2c9f2e9fd2922ec80f41c3c80caaea138cceaea98ab86318276a313ba033038e2e74b09945ba46bb3665690e6fff6a8a772efcb886b4b77b8aebc41cf35615f2a19f122ed25dcbd3d048b294a86e204adaad3f0157bf7c92d48269c29384f6cbf30e88d41888c495d2043775f2f1da48485fb5915a20c63748fb1f9b6e0bb688b1c5c64e94cb572279a38ae66dadb623d9a019308ecb8142b3d42ab39f0977b656494a738379426017001539dafaf5789f4a60443277f19b2281ef608837a695ac94fdd0f7cf980275093186f0a153c801b5175feb7a661d4b25a93c1c7596993bf03ba8ed49f73a7cace1df2f74d8a3b7f4968cb04c52897e8fcfcffff23f02089a2eec0c333e8fbaa26cb4c29141135f1a930c59c5a330fb83c27399980fdc427fc3fe8ccfe5d0a7f684e9cee57c3866ef7a9310b25dc6c3dd9e06545e7227b5b50e08df080c08b9988864ba22b5d0d49a86f80f05394f4faa67d9c1a1027ff49261af3ec6298a628a20fa1b4dfb00f35e515621fcd9080419c024d258d43e6033e3a3454ae540d1938dccf67b90ddb5b09112951889213036fd25653b0d2c7b6f06cb6d6e993434c74cf0273d17902c8b1c029e1343e2baf7dec26f8e22bfaf01bdc7d5d93bd3b4e0632856c47b292bc110d8ab2a71ab47097e4841bb9cba9339a3f95b26dd7db1abb69c87366dfa97ba856ce2ac6d57dfaee83df8559a825f55e088ca7be227d3e3aa0041a979483051316347d5930ae465005b20b1c8d06c919df2f805a01300701bdace605d0cac04fef501bb759ddc1786a87b2d37b06ba325f0a044e792564119b203e16a4c4b73c80b1d6d1862560f7f3047339f3fef969d4c85525ba2cbe05aa07b55d687bff18c9e316b236e92468ef4f1a40d9a5c23ef7dc8f1f6fc98709dc152a36276f947aa3aa00daee1b2d5416556796879439b74b50988c7d8556e3a7e6f9c1e77fc354796a2f89d86ba18c3f7ccc1a20cbfa34278aedcf71f3507ce2ab06074497be524af627796276716d4359f99fd11ec0ab7dbd4a1957db67210680d72ca3671b3e6b444eda8db9b73b517989c77c85811cc7d382646420587ed50f459a64498b7acdec4d3bf94116809b60a59ff60a4ba37889a82b9483f2b393304a121ef80e9a450c9ab065fc41cd49d40158c7b983c2810af4032f7a70bd2d19991e008a6739bbc46c26d33899cf1382e8d87e0b664b78bc66a911fc8d4943749c24ed9412f8b4d0171167f811099e7c9ebc84947297959b951568a619bd9cc79422fb526fe2686090742adf48aade7cae8cacaf9dfc089e595edffbb3563e5270e288c37c7173729b103e3bf7f9060fff8993bed0bf7f4b266495d076ba4e0abcb333e0a6e2fb55c08addc6c2e28791a4b075c8d06cf23659465ac6e85c49e226afd5aebf88965dae860740b8c78cacebddc98795d3fce43cf806554d3f713695785d08597edd7f9e8c92e92b9145569042f2e6c9b3cb552afc14c5a4abd3bfef8e5d1783ed02462a91980e17f0c5dacf6cb9f513f336804c323968c1eaa4cdcd6b5ec56bac8b3a4fa5e0a05a4d2f479f2c49f189c42b01c7283a83756744033167debe2c9d44a18bc763a94a2706d9bdf831fca750dcbb7d21746166da84c15403aa8d7898d486f0296dd753a30298552855b25488d08fe0ab285a844c89a068661c845594623f288fa0731403b8cd39e9c7a908f5d431815c45a30185bcf48f3e240d62d8ab5eea3d05efb03697da833c451c2c714e809e1effdcc255714a5c99fbe5a2d8952112165330692de5becf81cc87c1406c99f157e64c3858448575e26a9ff9e6dbeccb7abd13b2f1090746064896ea2f18f84fb542624e0ce4c6baf9241b146a63205ad48f3cfc61c784670a626ca8ff6fe31871be351bce69376d3debc454787a988d78d19edd48258a3a90d16bd420457b57bdc33e8495f062adbe426d822ada9d3c82e40b6c1f33932769b31f4411ef23d1d6a9b1bf72d5055bd2e0e122b8d9bceb50276e2c075bad8784549a6c3d3381edb5ff1a4ddd66b39a23d4ac1f31b4e2ce753b133bf3da78bb5614451917010ffc2225107edded30fa9f3cbaec7ee0010ea0d26ad23d6ae3dffdd991306926d2bc917a127fd331f092efff0eeb5c442628f520251790d7d9c01ee990b2a05fbf125537476b7945d4d86217de333531154a170400b267984c1f9ec1100d5eeafd2b546a7dc0bb8518f439a36004214985f4690d07f38dd3bc3153ba1cbe4bf414dbee712e1bed89afc05987f09db4bb10cc459f87738d2bff27fa3f6e0131c5b9c006cde47120ca74c4afb803b5266f01c21872315fd15d27e12065bdd41f7d98b0cbcfcf1fe7b283e30ed8b6238e54891489a87744d76207f947c64bd113d5509aa6a0b28189dad4d194c5285a82ab6cd0ec6d3793b686f4d31eb939e857d3ac3abf27e3fb060b9fe35ea245135de87675215225bdf789e5478aae51c53204d2613a14c1dd4806d776560750391648928c66a57230e03b1d85701abc0aaab6c2fc65185b99253df60eba5744a3215cb40af1d8685bdaa92d31ff3130f4efce93d7b3d194a2d6b459bfba19e5fa43d49d4552d6065df9764b6cb4b93b739a75cbd43ee27cff0aee34c3abeb232d48ea0554f868b25ccbbb471d3383c6fe4e90410f763e82bd87a94d49f72dbe8d10de89067bc73f40ff286867a59d0bfeca8d989397010d7dd24dbed6a0051ea7651cff72824e9a89f0b470bcd0bc39f85e4e572db05a416b11ee2f64d4ccc1d7bd7c6702358dab0344c4921a2e990e6ca1dc93cebd0bbf67b5fea230f1a331280ea06036c5f026aa2fdcc5ca964d4df59af87b8a18c882c3915d066673cd4ccd79842c0165d6e9fa7425c78788bb978cf510ffc88d4375fee1a0f56f5e697e99c7448106f3d2d5977725233b9e9b9056061961be7160d5b00c3dfbe463f18f9287102c106f6cfcde2d85b8a3d2ab3551a0779b7e2c4129296cc9dab0911cb67434521b87b0f6dd1ccb5e394b63b634c413eef4847c4c3936198e4a90c0a40f7e83f752e7e25332530c6bb0045e97662e04083d968583481361b3d41580190e8e277ff5cd6f10b68008d564fed2dc5fd5abe140690bcff7b37773a7173e3929c2e6ca3de8bf4a88147112379fbba2222d4607f417a55d45159bbf3cd9e3545ab3f60eb8ad2efb7ff3ee4af50da3085d1dcdc0699a3921a92d16fb8ce4b64200d22fc773cf9027be005ce0d4456f3910908e0f86d5b647ffaf25a6422a52dea4318957eaf7b1307c73b26174695999687d6693851c2a4f76048d1bdc7b8a2158981d64b6870e8ef8f55cba4cda665b94b0617a99befd61c02dc3caabfd1c99350094961af787a3cfd22cc227ce9992d3f46ec2c8d112d637523164561cb5a87f34734bfbc06e271926c7a70950d9c72be8c32ec66bde349af3620ea2c61521252d12880fe35e5a2e04ddda4aa4ed72763ab942574b3e1f732ffa50fdb3ba5f811919c4b88c738e56308d90c67eb23bf33867187b53fe2a432b916002f9a40eb7710a9d7f7abb2a78c2eca31b497a518442f6699a6b1c0ad689c474845037f023e33f1d8f20edf7e10046ed1dc05233df179fa1ef1fccb7797b65854c417480b54b642e793deb3b87b25be941f94f7fa545b8a178fc34eabad5ef58b48a3f4b0e35bc0dfa3cb27a24d3bbd087969d393717fffe265f3d6bda654c76b70d994b49514ce47718c5e16059d976003c52a6c3a99d28e9c763e3b65b2e70d208fa0f34999060d5bbe144b780cefb4f19737b7fa3c740e9abefe3ccd89529fe5ba8972a7aba4301d1936efa475c2fdd996ac3ad0e1c42ca4af7bc650c594eac0faad9a7603f50a0ae3b996f6fbc5be49f93c5b0076b4af732f74830591d880d4211c20c09c9fab7005bbab117a4271ca2475625fc7ec03540edddf932ea07cb6b543e3899379f806344fa99c795ae094627ea2254306706ce947734335d093b43425ee3942ac61481c1a72dfbb614554757157f21f79f644204c6bc9596649de89b813425f550cb44f28d6deea056cec2a6c92e1e681170cc6c39cebcc17dc4b148c963c5a478d575676593c839955e51e6bb8e83eeb425bcfa2552edfd8cc33d55f0f4d76e3ae63cf379cab53f21420028036ecf599ab1b8397ef1f6f90965d81dd17b6ab0925f1af8a5dcdd0559b4be75ffed0f745d1ba5c1cca4d07405f5e9bd5836e680ef1f6e3f00440c8723eb338301b373e31633ca00d6a14daa5d80da69091aa1edd642535ce1e96b27f092a96b4da14256eb8588fce86b0e7911c3984b7eea1cebe4178892b2c42a32e0988e6dfe7bcd606f105f8012105665d11b48a59fdbd8705df4bd7033b205d5346948d05d62a803162801a1920ddda82b5e74d1815935821503d1b45c774eea01fb63b2bb0c391e0be44cb2c161a035ef0a7e8b3d61dd20530a0b6758cf0935070c7b34b5991fcc2560b5272179d3b84af46cbc8fc1a12e489f885b2f465e9d5a13b253a84c13bd5ff2dd173d9abd16db8c3d487f6c614be89f39561c0ad095c727985da2dd88e4cd4c4b5bfc4c5e946814cb3b0e2e36f6164deac0660af4e3c72bbf0d2c707724016cdc1bd1d9fd5cb8bb84554c8a6b9d546cb8570b72e634f12e8ed039113c8023406ed56035c340f81cb97fbff0c11fc9e2a5f3e95f68d18e4b81b92a5871fbb4812ea5cf7ef2d402aae7733a608f58bcd71896600b93e13a40290665755d332bdbc0f7967f07adc4fb1f86c336eb91201be97fed183851ca427d8a65037323517848ba94eea4cc1b017f8ee626adecd2def275974b2de9ca9de1a3ddb0f42f9cfa4c43a7c418a73906e6d4cded6887cfc43e1cd75b3c1dab4d5669318b7e9d3b2ed346d75bfe160676b9ae0f868a335d3a51353a8fde38d41403d7b6b430eb0d8a2a072f3be551281df38dd8042cfbd5afd74e27ea364ba52d60e762851c7506f00a0393d478bca9962c6d0c543f3eb53257ca466792745a17c623345669f309361fcdcbe0f9fdc690be89e5f2d29a8d438741db16c48f364e6a9a7747989c0021aa6a47ab4a7c73058713eb409a796be06f0da8cb650d0c97e9adf1b5b83a1739f6acb25030ba3af1fac816695cfded146eb28aa503917fe5cbdeb7be3556225f259323c089f66dde37e9f4b0d46677220fb8926e8a790fb297ec04657f3bd605624e88fd1436e85411740647b5628cb824be5720d021e00c74dcaf7387ca577100aa60a0440cf60b9b45996eb96911a7e6515af5ec6be23ea84d5ea5f72d341a4e89a77a20e417bfec6aa08a9de5f2f63af8bb70e884fb57caad53978b513bb6041bf4f56a324124e3d8d0295390777ca15a26824dbd44c89f03d94a20b820fbbed91be24ec8280797bdcbf61aa575ef576b3184bbc191e7af860b6f1f5006560ce3ee8ab37982561533c3d1041633403973200e678fddd1bdea79273fad0bba7311e942b3609a45dc86aafc2f62eaea9b892845beb0b083205de4284d446623784dcadad028d3173141cd125c9ffe5d97fa535350cb796bad89985c6925d87a4a2ad4949b0c7a263df8a3ec8c87243d1df6c23978a977fad7e4ba1e39f96212119d9a94782390f056e5b667c3df316736cebecc0e577f5bfdbbae49b8668011fd8983e9e2807b14cce645c5d9f2e54ed32d81600559670a58fbf6aaa3c549bc6f3fdef34eaa37ec6eecb361fdcf443fb35f4db04203a00d229fc190751a98a229a3f2101097db6c0519e5bcdd8a8cea3e22f00a979162091303409dbc9c8bb09bd39a8ff9b8e24fdb0925725c6b5e771db12defb57bd0ca4d07eb1cc901a8bfc259a481b853058fbe007312578fdf9dc66e4e27aa4395d799aed6f3d91c2f1b3563935f841fddd8b366670c961cf03c40b43cd9d582d10eedcc75b2fa6577641eca71a516d55e47e7dca7fbf5b51ebe926b1f07e90dfaaf7648402c0b6b4d868645c7b4f48f810029bf1a4658161888a6d2b17b4dc6b608216768230abaea2633e943a7807e493b98c373ee01f09791e190de3c19307a79db509df94f1d67b0490b737b4c5a3e2f1d88712bc7472cfff194674c09effa521eec39d2c179acfe39bf5b7205f3b57f89acbdb0ef9424e1e432a3aa285f2aadffc9b1613680e18f24b9f28b66e10dabc2b74604cc7d63ab56fb218875bb4cbdebebd1e1343961680d6a8cf2e4d996d2c2369afa93492945a6c30281b6b0d9a5c25b8755c8c548c7b6d3e1ee8ecc1c48bcd58b52fb4d70a2e59fbbb0386fdcc77310b9d4ed1ab9ff3accbf2a727ec3c44e8847e822c3c9fd3848f13db4a0af4db8b2ae59c407d748c61e52f3b9a165dbea539d40369010a98770d5f78e6928cc94fa0c056c5b06aabb3f9d1a949befba6cda13da15b937c0e59467f6a11916fd1b7d26479515f8d45c87313709da389a72b9e7a45322cb09879029309ca2ba4f4f7b425e6d39ff1b026319d787164778e2521d667118f760ac628f0aa55333cdbdb5f38236b2aa43f0bbf6b970315d415d1ad789f06709a0b6aacf0b47f88534e79e2a93082b7f722619d5d164c61cff8556d701d434a748e5fc9b4472d446d8842b61e88e86f2cb81c84c44d2c34598b5aba65fa1a7b259b0f853c8040943d0c4350fe0086932746237d82b70c4eeff82ea2d44560634f024b69e173c468566547c4d72d47705172525f9025e6abe6dd0c57285e42dc1de2e260a4beff15f34ee8bea4ea792f481280ad712000dfa2332a5bf3fff21f1e9c166b56d682d181313a7c245c3f667800eac3c03423d8b6c0f9f9c9658b868639fe18e56f8cce54152aba96846ada3c05f9c5528b5c7d2356218aaa5fc5e98796f81d37bc37e00a5a9bea0aa28f4f6c35d7b7adadcbf7769bd0b0e8f14b7d48bc28c60ff19e6b1f120e43bab2df0abf94bf879b6a5914cc71409f44b67d549fe78b86c5eb9599320329bb73d9fe549538711287b466c0cba91ca910e7f5f40e8f288954d832eae8bdc3492915b10dfd1f99fa91d322d5b683394fb4d5adeb81335cf8d155cac2bb03ed0ae04ec643b4729f939b9aa88231a60d940efc3640740cb42647762e9459d6184f9baad21517041f97a14a023cbb381f160ffa9458bc8d1ba257da45d1da2a77f38949a9c68ac48c2faa3b2652f697365c88358cdeedebe6ec04c74f11a37daab2affc0cbc256641663a89bd6a503f85ee0d56435a4abe64ce410093a96acacf5657a16aec2a7a9b0f5af954b6f874471e8c3dc4e8c674eacf0ef2724b6c154b92e24f5026908196d014f9e4803bd79972ee7c08d2e2f2c31f2f69709c0e51a01fc0207646828d64a4768edaa728126ef419820e1d6dbc8887c50652e4095967ea6a9952a30f7a622691c06cc6ea0d49257cb187a78d815d8aea6c711b30a3b89decdcb38335aa4748c49aab83df9287ff14a1d4e6626dbec017ccf572f7cc01df54d3d50449c8e23bc4a7d28188567f9a0e52af4ff13708e2453ab0ff7e59df22b455ebc4698309c3a454bc69e398af57c677082fe901cfef536436da5d257ad021249a0d042e0fa2eb03a094a3341f9fec773abe4b687ec7b13a3418ccc80804f72805cd263e431e2fd4ee1ba8867f2ade85e2a4686b560467169fb18917ae927e7a273ef62b4e074536667ac0650e3ba9dd9079dec58c8c19ec8f39d2db3b574bdf623a6f62b8621bb1384062635755dadb6dd9707b20e37aaa076cabf8950188e9c0d2fa2b07f987ea35c1a680300d2375a3804ec91690ed33c3f850c31aaa5fa051a606bf32cf467dd8329f5cd5ae01a05349adf443445fa9ea15e0ee4f623ee9c3ab1ed731da504885c52876bdf892eeabf3024cd22b66d741d0ef7149d7272d8bae7fe1e41d646aaccbfd480e8dabc32154c17b352d1f24e98928deed063ef342a8a3bb9139e5c79b8e7407f88cdeda77b13c9c157af574cfe17bc2cb367d8f45451a9e95f2bbf91f7936ba6588d0f83df298d4f6be65caa83928b23015624bdc1a86d46b5a3abf08462560686acbf41dd068004fa4a77a98204211007d6711a944e2db2b23911ded55aecb33bd2c89798d0f13fa4a781e0281f73c2c90a0b92a0bc3caeb79ae1baf95f6b1d11751f56a271cf4649c62dca7850025d6a815cfdf72f78a2ac7d734d1747facb998f1ff04f36a9cdf539e0302727e0c206a2a2c3762d267757ddeb8741c9f70c68708efe8bace2489ee4f9f24d72b6e3016197e1e67a03e2e867c6586e7ef8e6b9cf11741139fbb2ebc31cf84c2213736d52be36a5c21a2d8cc76d933c9b8077adeef3a161fbde51630b6af5d7a9dde0fb9305509fdf123f316b4283978d33d39d444b2016d4311d49c246ee66f077bbf42db6d1cf8f513e24f6af1596eb9d68b8153ab123735cc807e4783eeded508ab93f786cd758f7f5591ba645d1a07a8b4b27983f7e591ef69660a61d466e65a293132bdf111a2d5fdbe308513cb1f9961ca18bdb8c90f868730af7ebe2b0d69b8a4ba066dc450e2670b27c64fd9cebdfb52b2714903659e74c60bc92249270d07c235d14e18fbbeb6c2d3c38ce17aeb3828464259fc66736dc1480fc8bbe922e6018d90c4673e7e8204b0b31846de7d8eaa69a4471d920663c42c4116f5c3d73c977197bda98dffa11a365defa881fdca168f66fab09077452f6221e5ea06f0db2a092266cead29e88847207bce9754b8eaea366eca5abeb734282c546aaaa1a8a50c7ab52095ff307e3f08b17fb128a2d835375cd28fdad0742ad9ec91b2eddea95b3ef93d09830a0b745185419a8802d15572987c92cc9b03d41c1ba6f638b66e965c4fc3d735125489c12405ed22cf9e2cdb1c85fdd38623ec5d6298aaff08e169d22fd3420291971607c1bd2a6f04e42ad88e225b7bb3b983e97b1ee43cf19e969d1e13eaeb03c604a478eeea99a638183d56f6df51b77ca670dd84614ce56a911ea555cfc80e36a5e579265dc3636cba2be314ba37c662e66046d3a2615fc1ae17efc92e6a089e7b106c0e697456ddb014781373acec25a31217afdfd6dc56ab82585aa23eaec3cf3f46aba5836a41be9854ae97d2cc225c57abe869e806118f85d6f0c2bcc7bb3adc7e86d48fd898290049c286eb049fdadbc79d206107720f65c7161b6c777f3f931ba6c8930d643e6609e3b8e1352dae5bb195733768cbc759607abeb82c96cf4dd86837a98595770c95d6360df54362dcc147db0266d8dd8b0774a86a5d6c27f27db732867e2d66573fd1e8585f3a27931d2671ad902bbc3aa932c507a61fba3c31961bfa13e237c1026e50701c0d07e8737465e1a3e0fce39622ae86c344d4a59782bf204b9fbad2942455abc19f59024f8b71358228ec4f61197df9803d6970077fd9e937071dad5dec3dda2b36bdc4884ccd4786f19c86a7695f4f777a08fa3d0d45d15064d5e27a56d41496e7a49403267afadc05ae6f644351ba1da802b35e9c0dc3badf350c7878fb018a2b61978fa4c7e05818f174fdaa045e6954c27fdf025e103a15daab38eb11c78c6dc4f0e47dcc7411b4734b29e07f9ba84f9737fad97432e167d58206ea10ef50cd6a53cdbb8519be7b912dbbe6cf4d38b91681705d162ed1f51fecbe1433dc1f8e303ff7f1541222eccb9e418a2e6694b5e5bcc7952be681b0cb33dd88782d5e78d9e712c4920d6e37443eacd28767e0abcd8aba373e983d75d4ccb81819173404fc411e3892174b46f2b12f8c3a8966667b8435213256318f174952a768d84aaef7ab0c05a707c040888f1510d110de91831f85e7d553cbb5563cb603c20044c338da29bfa7a3604c7473ebe1b4fc29d77f9765b87b81bb57073d64609af3ac0115d34c837501ca8f3f9816200effca68c970d9a8f3a548cc6adc4bb79c589b0a308b5a88043860543b2db6215e7fd735520ed0d26ee9eac87577af4b61b0c8a7de10957c0e2208267637ee644a07de47a083bf41735055ed06d5ac156e9c1cb77a145d8e4549dfd16120956aada30ab0a5814a9cab84a50fb73e8d8a3c72bd1576ec50cfb170f4b5ecfd6ae83db0d2833b9ff065efa88c90bb1005e4b6632781ce90b6936b82bd6487ea52a3b3fd3097c2c9ade8312fcd09a0611ae2ca178863eef9527ce91958513617772ee7d752bfd825f6a709ef0d9cace0b8521f1c10a22ea0791ac164060f43f6be78c36051bace86efcce9a63ca51d8b8eef19cfeb72eb9495903e80664143950de4119dc1065bff7bbcd3c06627b31cc701cdfe39e6efbdbf7daf7e22b34ee7b563df616bed3de01327deba08f4d550f385c908ca11883c172bd2ac695c40bdd3abe44f611bf7dc546d313e8dc09f8728a4d3d119865d2e0fa3c760c0d1dcb70a862ee446ff43ad6319cf69727e68f89aa235030855b45427ee7260a103ba4bb769c9f8b3d25e0f6e6aa074c1e0d05dabe4ca40be0c3c093f290cac65dc50c03aaaf28bb45fba810324e1a6c50793d5f71bb8c30f3f15b1c41d25da3f86d04f7c426e99943c94b633659a9ec6f972a738b8ecac239044eecc3f8380467838d5d065d0e4a4c68fda493b87db5272736e4e09a192cb7b30e861f36748b40f095aac1bc2f0cb443192b9bbc1818584d822f50247bd9aba01aafd63ad0962cebe508df4702f26732f64a04f83851b982cffca7c5a4ceb70ef9c054d14a76980539d5289c32082ee0921ed42c5055cb999c55b180b6de1fbaa1567ce02a3d5acca42006b5988a15788b540accc3de32ecbbcb650d6796a6536dab29a5cdf1870c21ebe0f5e7571a94738984ca58d99e754a2239c3f5f2e27dda652b97b921ec3bba61050e1a0006dd9bffc3daa4675683cf84752cab299d1155c2333653fe5d37dd1682d068e215d660d2f54409b40478783ff24b65f1016deaaa2201a00e979a154562edc3e1099cbaa946b701389774e3b40349a84246f602bda49b6dbf61f869ba3bd5f81ac2e90d880bf09d6c0545d9359821eb3df1b5fd2bd9610cfc4a87954172e67e7d019a5ca7fba8904b09971168a71ce6d3c3b0263fb4835d6cac2818cb5b48f30f9e20293d0083a5b64325a973d76ca1d6222f4efa342075cf91e53e72dc5f45bd94be5b670b410431960e2e1e30176ee67ddb86da220046505e8b1c92e15ea40379efd54618afdab05882cad6d077535cf693e29bfd6e0ccc3b935c6bc326e749d9430d16b9a2b2596be09b3bb54cfc786f1fd58b4284f366e50606489f327b55d8ae4f9607b0a8c8ac9ce2a21d5c2191b496be94fc912ba53fff2aefbb80d77ea8955552f042c66ca61b5170479eb40dd5bfa73ba3619cdc9dc7fbebf3f1b2746f72fbebdf09c8c8acbf24e48f5c5e9b9dbebf8ee5f2d94a91c8d98828504889fbf33519b07d493be92ed90ebbc5e198f754396a03b1d64df9dfe4eeedd97956141333fab22c2d259e50ceeca153f47728f801","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
