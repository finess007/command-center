<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"0d8d1a068fb55305749c30af6c4f6678b17b23e186b61767f8a446c7ed86262dd79d0690ff642e503519f62076fa8480e2866de53c5a2066c8ee0d575d0af06e2819530145cb5cf1e9741126209c54c93a405af75ddf6f8f254e145d540c10b217bf14e00c9021885d7c62449e26cd260f7298a0b2c627a25837fa981053bcc7947cec0f005d4b3ee4392f1412dee5b5402af5da49f7148acaef2add5e33135d2bf508668e37a70e6174ca0d22f80dfa7e3a242822e297db59abe6467f502afa299714cfedfce981422f4af5410b7a8f9b3c53f0c93a33bde6cf36a8ce9ea7baa5ef3567fd5a6570ffd6d60828f6600fcae222109d31905e28e0a5aa966ce5acbb9d880fa2e2959aac54c5aa16ff14321f1071f7b3abd9e77c6c1b0f3388e4892f96031876670d94488e680e78f94d91147eed05c081279f8d51097a577884d6d4c9c94838632f15246e1ecbaa4fc4011a0542668a7357a3a8d4c0ccb3af82adaac0ca092fc92ccc9abfbc68987dd297a93af471728017f36610f1a36dba04df81d63a888435f262a4b3d32b82313c134b7c99a48c5a73454f884dcfb7ca719701f86bdff647f6f946852693ffe92dc2865d197fd88b3014f15aa9f9a18835e2b32e265a393ee7ff1dc6fa8cd4f1f33df7925ecab0ebe7258595b200d617064873fbd5bc7c87b1c329a83845d23b82d8c205a646772c21a9eee0d7b5ae16e75a251f5efd7d2f486c43b448b953e740be029acd38cc9c61815230dfbd936fc12dd476d7840b0a423417a59970005dd8fdd260421493e019b01e5835fd9981d16901ba29a7a81e37a72466426b76aca03ebc5a84542cc019c245bb360312a5bb71bd7bc0a5316b3f1d9fca7013f8ffbd7f80e1397fe5a1de9ee5278b000a711f454fef9a86be64370cc590f7ad5707181bd2e4f9e6e85977e2a3d424d996957e8b20757808efec983bd7fdcaa3da496e842598eb4a6b1adeaad598fdb5391f66fedb89bec96a80161a8db40a0c3133b1ffb3444e356be687879ac55a5afa987f8234bc574be9c68ebb5f2eb931dcff5a9dc669cda2723455029daded543066f020d7d50a86b72b918d957c4125a0f4f4456478d6af944cf2e8654b6e9f939826490f2538a2534ecceb04f30ee12b163b9cd269251036f210dc85c04db15b9af2dfe1e7ff4cfe2408438e03ba00ef99459ff7376e77845d2601d2d9054471b2020fd4d7e8cfdbb1ae391583a418980fbb73c228ea8a2da86d28a9e23ba5bc0563826f04014db8c11bde11b0ef5e20b5d4463c579fa8757707a498189c0d3637bbbaea00001380384e0e909013b3364469d70942f4fc190e916334d85bcb327e53fffbd9fa6a8ba1285b97aa264381ebaa4341f9811c7849846135110ad90bd0ee93cb3ec9c6136b8c8465df999c4c3230c6be769be2f3910d14eb1f1d5c8e73308776cd278c9384088e7c4c091a77694263675f13862b50907d192b65c1a5acc6f35d2bea377cc5dea5737097eff8d82dc7c1661caaf7681e6301a6bb0fbf954d445d5651e2dbedccc068de7de9af623408c60be49cb4c0ae56138622a8a13fa33210605dfe0a244538ff352f23b2f40c6703121fd03f8da99313f31afcfc5ae595a679bf202702118fa3446e44e806e701028243567b2e24f75525124d594df71d33a1d78fe40a0b1ac542a8f49bed98dedb8a20e30d66d3d25f59a5257b65e5cd534ce897dfc40dea3254bc9fe9e09e6645475f04f42e0f752603b2bde645cb1b749ebbd2a0e86d6b87f42c45200baed7e81544cb8cb7cb21a33c022dbb28ef48cdc3268b6640c4dd0aa12a84ce3d3f184b43ccf1d67bd9b7c6254fee1249693f79251a05cf77edf83d0fd768196f680b35eba6f2c05da79b67cbf37b972bb81670224e863d6ad5d7264b221812f297192ff579c9b15fc65df84b356f0eff3cf7a038c110822a23728e583ad0221109d88602eb7551bb0bdb6026b7bc097a5bfd4ea9762631af193ea5cc73c635d2321334796f2864d02eeb71010d7024012252b1581da47b28b3c69041ead96bd7f1f0d8b1ae9e15bfe8bdd565a8910a399d5a0a227e99a29ab248b14caa18b4aacae37eaeeb7733b29c4b8fe37b97834459ca4b68e2e1d9e37a433c942ba68b36050eb908fec39b0dca9d9281b4e8c188ce4a236f199882a6d5aac05f4fb088570ba0444aa57ce4b6cd080261e35055ba687eb01f8e166d813568fba3c51612e6924379e95e3b337d0064cea6faa36a73d159e85914f7866896402bb7b36dee9b6c8d5bcab48761d36fb4a63d13fcd86922d53e7f3e1a969c6961b75691a02c8efd88046a1f5c53b7803301bc8f5ae61fc219c3a5b22e20b5fe7f28643e2211a842a5ab7e9fdd247719f76248d5bcf0379110ffe580287e0fb60f29d8bb810652772d45e58170ae83337d797bbb0ac039be07c6fee538e65828112d9f40b20fd2a8d7afe149c99d6c93a88d7dfb586850484a0d5e01da2bd86a11f8a5a296b6e1931f61e83acd9dfcbceb3c6c574e315ca0dc67b4b1155d912b2f630111d8a6ccef2482d55ff99e4ba22bb2ef475a9e06e6710c310ae815a98b43d67eea88cc32c60921841a299ce7e6bc021dd40bfd677249ad2e9141f4470ad8bfa5862ee3264337951adf454a716a404de5dceb365012d4fe5bd7b351c61b09b745791900e8f5caf035a167313e3cafee725f71a9b2125dd6a8f06881fa36739bfc39dfeea584f792a2a57b6e18600bb656c183ecc906e33cf32e3402ebd5da2206b59bc828a8f57d2f599f37e3e3453e53a9ece8e6d8b21955264919de5737be3bcbeaa42226fe611af750c9e9e7c10c8f797ad5f43adb948ecbf64a37d3dc74f2f9ea9de128a356cf1fbbb0b0133e0a177dba38b18eea07e7c79056cce46c2357a77d58e45434316f74ac622c9736c15b5762366f38ea55387f64f1a2f227968df7329af5dc421f01dfcc99abd46b9aa6f0475fb5fcc7a5012a6995d919ca610a7e4c27d5209b085de1a804eae8b3a5dd03922bca445a6b8cfd7fd8a632bb8766d604494bf3ec1b5d6beda6c6cd5987c8affa6617859258e44fa72c5b99d024d0e6c0aa85b25489543419481fd17a88ea8f10c7c9f3f4f2274f4bb128383f9021eff1faf1d990492e66396c0161995ae6702b4003951d00d6e2a2a079757bae4739289461e54b299728b1104b856a9adb8d11f3551a24cd2f5b6ed86e203227a87d3b7084e3c322c3001bd4bfd6ffe500bb4c70caf226bd5744acdfa240d393d8ad76ed6e6fd71345d63987a03ee754cc98f26b204da927536f69215d962efcd4032444bee26dec09d5be233ccc49d9c1dce5758d836321727499f2cd0bd93fa8d97d4665cc8f6e985c229c5927aa613d7d2a021022b3b610215e4cb52c25ed7eac92a5b04ae55751b0e27fbccb031d8ae0403e0c6927b3ded359297a2cf63b3bac99a50e8b297c81e0f117dcb26ce78b09e06812a667b8362394bc36c113efcbb651ab2812cd5cfae417b43ac6f24080b6684739eaacc36ade27a316851bc8f729b29c2f15c6e957a0a0c262c6c8f0311176c98e502ae6451fc704944668bee6006d8bc049644c423925729f448528fb222691dde07a7bcc4392cc277990fe0579a400c128b072e2be216840ea86e4074ff37b0f5924f33eae6caaf8795b251d2f621e71f2092b0eed4a29c9bdbf7be96ff34120a56fdf85bf0a167a204be68342d6c42b80d0ad14ad3faddf4dcebce2c087c7c67f71a5b97940bb126fe2a5fdc7b8157e0838f7fa45d1e70cd72073d476121b5fba1be32ef5be2d90299b83945ec5cdc4089515c484d11850d4d96eb4270d83d07957c0c1179402d422898ad82f22f5ed5dbb0a00854e2aff8994596e55fd626200a65c0f7fc163cbef157917e6ed5fd279f9bbc4b71e979b38722e10cc5b85e375f811b5441f21e9d0c168044d711b656ae5ab7b502b85e41bde25e29b0764d39d6b7e8f15e68758b5fbdae0177f7f21f2f801e9c39d3654d83b7a40395dcb6b36ff0b7c7eca5b4c9a4a2ef766f1a4f034fdc0731c120f9053bb4b60ab03b71e07ccaf41a25ca1fd58e283d3ed7611b27e486055ca5240a8427857f7608d0093a20212ddcbfa9c55e09478138251d328f1d17c21a1cec760644e43c00d7f42fa641322ec0a46963a8e8f337ec267ac14f8e0bf79c1f8c15c9cdf797090d3d84f3bc78634b9727f0536ce23f772680c6dfc59893e51e461c42185372f0a5f87acd9fa92861273656a2f5aebb5186b3cd43698773bf349ec541983714d443725f33e50445bbdcb2d1f610ff83ba5b8fe0f8ce87d22696d3f64c2e41cfe13e705944e63336193d670bdade4f06498b1a4d29c8b2fa8237c82eb44064f3174c58ad9411c38b953e90cff01aa98ec14b11710b2ee9236a6961780197a22774b1eaec5ab3524a39bbd02e654509b56bdfda95b6530306b8efd695717fbc92220b04fff5594dc4eb1338af9acfe82771beee5dfd4fcc83a825408b590e9ab72acaa9cb224fb5b4684b3d04d54d5c679c8770566ba060ced19acabc11ca74f8f28d8421b21a3231c4d089937f5b8f4ec09755194676ecb52c129de3cfc8098b8ba0fd72210474a2073713ae97c8e922c1d38d563eddcf060af9b39248720ad73787852c997035937d72691fdb0bb216715b1d50f672a4e8455ce0914be5d92b16fa838e11d4ba05722d03fe67ce24efaa43c476f56db0b202974e2002bde83e8215f660d2bcf51b5d7d9e643c2fd0623c6ea22660a9b74d9023bf7ac96468816dab376bc17c737102e3d224757c533334ec647f3590bb2aeddc85bd52af10cdcc5eb95474105ce086b82870ed38f38c5e665125226f3c88d225b43d596637d31dc8f1bacf5d7819e89c51e9413f8aa927afa20c2a62e67ca9bb22d7e5facf87ef52aaf687225b9a6c905e2d6b3a841525e05785203d11c41b492f562ddc82f64bb5b27f5f948c93e2f14d2d1154e2d941e634b60a9d9ee5e94fac68018fb474c3e6c8f69f51a755bfd05fa4827a8877bc4418b7aab461b40fa9caea58783b8259fa674454eb479e0d94c7c5d6b51ab51fb6461f2f8bebb61d1e5c1ae6cd048d643f8d32f0094bf231079e9b3d266216b91ef6b779438b76e64248c20dd5c2be2fe1e6de5d542e6ad2ca5a25ac0bc4a8f1577e173bc08a36b13e1ae73158efd4fa00eec68fd55f353c8c34ed8fd672af91498cd05bc78b23967e4e2c65600a10cd11d03698103f1de6ccacf318822c71740b26efa0be52c7985d663a49a25e135e276e34acbb02b77fca8fbb7b3d8d6049cb50d1e45c2a98426764441286955ef56c3f11524d82628c4609584425c689bcd9e956dd9b8e376929371597bf00e7e65c636c8d83f9c72fa34baa3c70621a91feda6e4e92b263175702061ac2f1cfbf101d6cfda84dc78cdced4d1b900ef46de4ccae2ca317e1360d429dbc6550abbe9619760b6a65da89968bc93312784424edf4dc8e1cdaa99a30f5fcd314d0a816a9c792ba58bf0e9271832b6d594e589a0f40356b0c2492fe7d87dd370c792f6d5efb189a27070825498a0ac15fd961dc34e11a0f39139aaa4512fb103421afd94ee2eb3ef7292076b77eda1cf26951239f00e4375e32050ab23307c1ab9f1a644d6c0c7200b44b2f46f1a8d8e5fcb167ff018e0c35da11972023fe9e17a887e24ec3065edaf061dc1141a6546e7ec946b4196715577d5f3ca3229ae239c04948f7e596515dd653754525db696fc86a34b592f07b753c817406b82a68e02b1f06fcbfd5dbcb432114a410e8bf1cc853f4ddb6787891dc455f2329025917e34002679fab7225cb607f08a50428d0677a3d9805a816d478b4af8fee3328e890c88ad8cca2458f3df6139ebcece8fd906ba2cf694c7f6eb18b0163c9b10d0a90ba5e5baba78a6dbb3a88f8f32e8a42eac7229cb491f5d3b44fd0db514b6664fe33fd9576c409434e68c39c4cc04d9134a38b105b8da39e352101910250df355092e134691ef1c943fd91750aa765a8b01cd9dde9d6de3ffe9eff7b793eb487145995e25ad7fb9b8ac373b3bf3c230e0b2911c35b9d39649faec39a0320cb5e73f4cfd54ac67ed114a067128fcc996bbb4b74862139f41bf35b6fc07fbd982de5a97040b49d06c0c2dda3d0164f42a453cfb9fe048c3d103b882cbf4dd11644cf546eddaef4bdc0831af2085a09996d353139213776804fc3940e30c183dd60f58322dde554687a607f7bed3d5eca294064f2d3e562e7291403fae956ab7a33e865e189ff6228b79886b5ce2932d577770219587b5ec65cca7a332aec4df96c3df6461b2c81da35f1b71ed8f6c3bd3ca9d5649a19b446b1e23140ededea57545d02b46f10c94b5f9c84acd69b74598da2955a826bce77587fec9b0e81deb4fc58dadfc7f9efe07fae6f872b6861668b91b0d602962abb1e213df953e535ddb6e104a833571daa39716a04ddac732f811af7b75f1369b8a5a302fa6bfcc7b6e97e5677a245a9b0d194ec1a665e59065962f39b1d2c8813b581d8950c1c67db48abd98b519e5047ef9e6ad7bc77de9438dd4f640fd8d3a6e04972e5dd66d5bd1b5c289856575e834b6e94a02ff1da5d5f056cebf6ce2aed6bc1ccef11a4b6c87398c6d276f0489834b4ac85ecbb7e821bf39994bfdbb968a1fdd98289fc14b9f71e8e491b89359401644259ecff89330c49d4886e586f52d007826af8135eefcd80494497f00e0a6458f97de370bff3bb6259e4fa2327d95606f31fb069f36317d80cf7709077227fc01dc8f0698eb6c3d4b5c17435e0868a41904201d1b928cb682cedfb826210362ff8a391bc68858ca5f1ac56a452ef9a3722a20f823c0fb2e314c6198706e7247ef21ae4a64777cd0afa63a9c26d717931333881e26e0388b900631963187d0155f8ebeb95e8167ce56d7a0db30946808a0c51a099da1960f7865b8c8289122694123234f8b73c9c48e8f1f77bc429c3ae4fc2c8b20d0eb848e0a39f85cecbd7e41f86bb23d60b966145823f56fbe1390ae8c42757eb56434f70f13d0a568f9c7ddb7ea8f00ad93d40fa9f583c50d4c9fa8916439850ffa2536a21706024512906f8a6ecbb4320d960a69de8c4b50fa54a00167b728093c665cd0501656da42da823f8f1ad9f5d9817c2881889ff2ff73c2c96d05df6a1542dd299ed6095997fe52f59170e935060fa6df9d0f936dd75772899a9a157c62c9df2195a417c71098725aa31994a6dff90018e26a547740bdae5d28e9ca2303cc1ebd0a3a6d9006880014834b9482754fd1f7535239e0338ff1fc37e5055d26f018704785725fe909dacccc15ba5614b8d43596e3eb9f6155eb5dfd170674b86277d63f0f264012067e1dba1b13238077ffa4046b6f684d251c1e73704f01d4cf19a6fe44125673049c7683f46ee336b5f3aa84eb38d16577dc32e9ff7b2b5cdfe23acfa8747186ee5e57da42a7b67f7db71229b6c1695ee1d069dfb6f40ab65ea67e8dd1bfbf170f9d550798853bef77bc73ec883e843bdd837ac8434113bd6bb639bfed6f3438540718818296e4ce127371b707576e4b7ae3bab979b5b791b434a47ce27a30a627a7ea698c6ba882539a3ae55ec4a3ffa0a0c65948c2b4bc928901ee260b1fc8031fc4f5f7f67400876c27d81ea12d28ad719a85258eec16a638536ddde3a8bdd9b82ea064bf82dc955b001e67a4a1d074aa0bb50c87dd68347efd636ec2fb4b29b423df314a8851a52c08763ede2b9ff08ab17f8495c0c54f0d51684b969a0cc7f6eaa3e3cc2a9a9348f3ddc839e20cb7a080d8c9c7f10bfc74b06e592df5600851d278e2cfb1ded3b9c428f8522597d272b3139367ed3b70d82007b1a63a077403ea574bc53c2cc53fc094a61f4eb588b5f9ff75f9d4788b7e7d478bcd6dca4e73285dd9cc02eeaea6756cbe48634e474507f4b11ae917003cd11668adf02c96425cadb86b6ff7994cb1fa6435b7999bce75e2442ac8be44c01019d45aa74ff9608541b1e47c394d51d81e9e31fb10ec2f989f8091734ff6855c1d1c3d9f86192ef4b9cbe51f9c486dddc9aa85c5d9974cbbff4785b30bec3e5f40288e4e90007be5f05d694afa8b1d8742dd5b8e0f225ab0eb1223e1efd75a2c2cf8c6aea5ffe3720ed7bca75fa29f08cc3a55bbc620880ae944a9b7661d62fbd44a198a8781fff811d35e8148b3616bcf3019acabe578552cdaab6d7f93cf1063306f2e2aa044a583d4663f44ea0e3620e0db89d2854654e2f1ef46f8b983c1b91f00a52707f87a1d6c62a45c6524bc4a82222595b70be8c6b4d188cd5bf7afcc3496a5e074c82b0e108400dd62a7e7e6efc2ab68409127f7faaef881d3bcd1ed68eb8950747d10b2554f01ebf53e7b4df1917d6175c7d9c021ac927406ae4fa3fb0e963c91523e14c40558cd366b429dd85887f26570627f4cb7ca2a9dceefd02e36707d2c013450bccf195cfa3677f439ee5f75f603ad21cdb93838a5016c8ff96c8baa16af3d2fc2c56752b13804928c71b3713542d510d404b477e2eef0c5a22d2ce12e65655dfe279880fd595882ea3a48b9dce54085daf1695bb3d1be34bba7e2ee5c74dfc1ab45f06b9c2964482fcbec73108dfd14f39641f99017741198b0703fe4d373516d293066216ed5797a05e64d97cbbaa52546b795ca0072eb886b4f388e26bf55f9b9aa6668a87cc617d95ee5343a03528265488835b0f2659e6051e9851ff3903fcc0591b2867f0f56893918677af340a588fa2001c932ff9c92300c660f3177e8d4ae8795ca30a0c7888f59f3099bf88353e6b78977cfdc24f702b17120d368081ca94c37cb645b6d677d42c1fe71044a200e9f151eff3e3fdb05a9088ae8aedb58d632f85ba42326c9a12a511e0974879294c4538083d2eabdd5054e1641ce6ba575d3654cd40186dc5f2df1bfbc226a397d27f6ac61b8be5329c0ff5fc9af630b6e8624e1f9d3117e25b6ae220b1c9df453b1b739bef3249334fd1efaf566961c2c34d213b9dcdb9868c3ae9af262daff7d8ca495dcbd08f4f5945200a360a50cd4375b25a35d78b43530b17b022848e86911ee8827efe12bda5bf1cb46336729adc9f3a3d3ce8af9b480bdf6a73224a7e2c247a5b3c0d842ec276c9d265e076066072da5a29634d533fe1c14399abbd46d056256b3c080fa6a235476c5f2020a930ed29dd869b10ad78a16acf0936b136b22e18e4454d502292fe6c4883ae9d5a663a983d3cb2e273e6e93a0073c5716e12c043a34ee70d4226edd98914b57ebb5c27cd6e4f0e23c54301c3ddc66fbcbaf4c48b9d18e3ed5019eac5e19be7e5b9493605e8e2dd98815b5e79539e8dc08bf3d562e8cd0f72dacfea811875c407c8d33190706a3f72fd04b8bb18811353822b5bd5611a8d84b2df05626b526e5e878c2d04374ca61d494b90126ed8f9f1ca01107ba10523f615820c80ca977be315dd6380314ea3366d55c264c6f4c615c3d154ccb44ec57da1d3ee2bc9972af887b52e2098e08d85692aa5c63aa430a16bd40b468b248aa94b8606f80e2dce5b1aa390f605cc569dbcf2ffcc427fc8c7c755398868962f24fca051dfefb6110711a89edc6e8ea4b676dc4a275f458cfabbac7aa24ed7daeaa1bf612d571aa0a3b8e8ef590f461e6033c6baa7b2411b129c20b35b2d2b6d4965ebc67972c215a0f5e980b9f5b7853204543288320b2c4ef4b3d49dc19a387708973008b128d558e90aa8c80e5a2317e144b5f8fade8cd83930b4fff53effa2c011b23ed5f1723df4012146f09803c6c8f7c877c06f57e45d62d3a42c88e548ed419fe8b536046b933885a6b3d3de9042a32df33c781e8e44de234eeb4c30ec61ddf01b05049390a029734277b15ac1de3778fa29535571c3a6b7cdda0156f3f634c80ce9ddc234590b5008d0723f24757f894f76e7295c599c4d039283db80288e8eb143c912e6a228f411af3409841346d8552cbfa3d483afb0e43ff892f0470488633120e0f905697a18a91b483ef5b18fb17dc1f9f54128600b6f115fc5949810ec9bae14f1c32cc2c1c8d5745de8c0c0384387e01bef5be8a9358c4c6db54c4df4695694759ad609606ba280240658be9102af35181826f287e7193e3560f1a38295be5701ff99778c1c91d2ab0f1efd14fce8f2b9db2b73d4abf0996846317c67f9c99701791710077210fb5c2259626fbdbf2efb794d929e264bd4b6e205f394acf85fef69847600eea338c26b4e2f5efc421c48273a969c082ea5555eb3a48318640b34e12469dbf9a4cf946182f4f8ea6888563c47093f2b13389ba149c936d4a568282f6e8c0bf055e0b8761ec203adaa0f2cdf9a5c8cf53d9800e608e65bd32de62040824cd8c960f9b896690bd5490f37acef3e8f76d3a8dcefbf1e28dbf0a06de9cab1d8d1af4c6737f75785a07d9d5a9a1d67b7adc1a13c05dc4e2b14d248af02c28f0067c2aa401351a4e5d547a7c34e9b840971997a713fc1989867f2739451dc280ecc05e476bacf617bea8bf7d52e481e6cb509a5b01a91f02642b6216021b37ee42f218eb9dc148dc57f1a95485170ab5803e0cab84f399a25305b086abc533b3073bccd5c73f1c9e31ba5650b465996299ec4f9d5b029ed7c9f5dd7fb98d27fab83948e8b5be98a278242ee1aa0b1d469294ba9c66c41dee72d66f099883ba3b0e3bfe2a8bf787cb84ecdecffa9038e6ff69766cd227807addc36258d193b3e9f78fe78379c68b8918e57e39bb7da2f32a8d865f73e604d7b99ddfb5611d477413cf67b1e994160b03053e6aa4adea202cbaac80e14c1ae512702ea6daadea2c35463d8e3ff3e172f19b4574cc65aabf77dd1cb44e76921605636a515c91f4626e1e4d82f715c7581389b1e4c92ee22931d4ae539e25a1db3531f1bd9ce4e8629d3c4a7f8c1e0f97e7d7237abab98c8c5cc2ea147cb73404f07ed27cc44745d50ddc35d65af394020db10668039c28501d03691c417401e9ec4e578e32b7f1089498cf7aa0d93af38ef3310c5530a9bd46a54850b2fe5311a5f9d2486bb44086d58506b514123725492c202d14151d1477e9f0523ce56fe8e49c1bf7a5a22aae923724c5a3723635f84cb9d834f84832d4b0edd0707f262b56bbd0098ca743b62483ae0203882bb356d93485d8d6b989a0cdadcbc1d38d6881cc0e83302b3d9a144f4a68ac63e0f589a6899f4446417625482b0d0c9fbee6e32c10058e5c8caec94633a0eb8657349f71dc14111e9f7ffdf11653e534448065bf1f6dba049ca0f32fc7fe434c5d1a1af9b1b0a767935383f7cba13c447074b7bd485abfc37e79c6128223b1805896f1ebd2087767def8c53bf43d3f39412c56c9d55021b29d8eac915424e71581dab38d9a322c8c4314eb463c6d7d5319194377c758bade132af7b1db11e4211fb75524f674b0eb0bfb108112ce3b79f9c404cc7badcc183503c98c7f7ab812f8709beae1fc651180f321018ad258cbc4fe1794f8d452efb80f998dc258ad525128e26ad17f8a926e323d2007e679d1cf2be697384d0cddb66b025d0d68eda1d77848b52c26a1cd69c249c7386828ceae04cdfea60185edf9d759fd39f48a24d0af2f9aaf78c9cbbecebdff75113a1de4636336d7d7979fed43dc6f1031ad910af68b5d020643646c4f4bee7eec5c04b4d0e277e191da39b2a5f6f1f54ec7959fb683fea53e90c070f9af51654edd198784e5bc496e4636c9a56841b50c1adc818164ff47f381f12e170c025580d442fc1ff52510d2e71b29e5af212665116bc65c8c287c41b523734322c7a4c4033ba13f31dcc5470a20eae2bf717775b0804e86b39f72bfcf5fb60b17e80d2e8cbd21e5b9a0565a925cc27a3de1b3486d9ee46f17763ad6eb5abcad9095fc000ce6ae0318a3b63485ed8298432a18c4072bf2d5141dfca7fe18bdd866459851b60fc72085df060cfe26a6ab3d535bbf47c1b00ebf634f3ad81a828dd6313cb090a49e56b2cf308acbac0a8798b1ddb91c2ec40587a58f2c3fa23f7a279f066d1d53752cb6faf600b55d7e0ce218a504852746495a9ab99a0fa57d660616c7bd0e44f416160dd32fde0018cd0f70937269b0e5caffed7e2ca6871c5f6b548fa4595aff83898c7e9e43c6b6a171361b64f81dfaf14e9d065e904f0bc236b19c64eea1186f0764bd68a77c6201529774d081a0332f6c33aaacaa500863d977f7629c27b6216587244f3b89d33102062daa08801497062688015c190d351f2598eb1cceab2a6ba7f67a5c4ccab913c8da389ea5b8698f08c9c432458dd1686a141a1f7ef23f917aa106afe8cbfd0aeb410a38c45d992fd016ecd2e7d946b7104e51d6c8c440259a6815c74c335637e4c17d4994268c295b39a02538b9385683c2e3a1e0ae1edae0c361ff666d72947223ff7e5d1ec98b1cedac3e413797a3725f6e5ed9bfd20f252aac6fdc968589faac164758c36531b8e7e02474f262e838a3f89cd06d076d3c41de1e0435f177508ff78c059fb8c82abb19eb066dc4d306418fef40a33b5a0d9838490216e193b13436ee94dd04227260a3b21c4a03ce8b84d77d9d8df86b9a1245d7fe289c78df783a7b88421e540ef29633cb74e0aa49417b7c9872fbe80c768b546b6026697b9d1e8194c84ae49c79555176a87d9c81d6427deaa9840bfa4e64e50a5f3e40d05e1c2b0aefb6512072644e257bdac7a6c9ae018aee1387b9b173cc10b21f2d6d9ef077766f01182c44c973d8d83a7aed541634b149dc043d8105915d348adf2546a5bb43fcea49078e1e5f69556bcee250eb2991d585f9d84d364a9b4ab345e7563630eb80a575d555f36a68d5d5169c5d1cb6834149ea8a72d6d858a6aab2911c6262e4d788148dfef5834c323154a580eaca233d0b5a76ff417a63d7f3d8ffb12225a8d1559a7d07ac0541d07937b99771af8e25b4cc8ceae36c8eddc803837790869e153e96ae0b104a97e7ac22cf9a46742532af1ffb0ff7e9c70565ee5ae61c5c9cc17f1ca1d99b810481b3036f8735eca26627c0b0ff97f0164a8faf6be3ba6c6880bb89c37801f55a45dbf92edcad776532d67922c2a9f213dca5c0e949d9ec1c8df5faaeaa532bd1759bc139d46e833538b22a4ecd2136655a62d12ac15af288c18bbc0953d05caa3a86c3754da244dee95c52cc13e0b2fd30217ac76cb5800a2b1214c491faaafd7c7dfaa53f618552c78eaa3569a7e95a2f76aa2d856a3c6ed18c4f2a1513008b37fb5ea1ba009668f380b693c0492ccc5fb43b15991ede6da1693c46d393f8aa4a31bbeef9b235ecb524a73f70ca54e8d269ad9d0117b4566ac58c7f628cb0cee2506c17167556352d6e0298010346441b7eb4ce05a501f42995707209b29d57c9a2553d1d72137fa2a6b5e69a046f7c247fe637b2d0b9c6af75b8c4fa28d836fb365f10ae6dd7ecc68ce94bb4b23aaf0f87214916b8812be086b5a6bb15c3e7cc12673c417bbfd87df731dc3769a0b8dd834ed00526daf36c29c4d6b2363f6b7784a5380dda1b113ea1173158296869dadb87a8099ba8ebe2d9fe7629d27f6c2d3274c77cd90f79a0e57c3e92c95a9f61b8bf2c769b1490ab3c21eda7dd53b7f28efe2ed0c59b1be3b0e1b858e4a219ff198b1fc9cc102141cbea32c8fb3a32dec35769e7c3cafbedea8ac1663f90990adff913ee5d9108b627da85129287b557fbce9ebaab7976f70251d5d1a8ae9c85aa7f6a17176a3b5a51d1ca1f5bc357392d3eccad17f09e4879a17a680c6fa9a55464886d5f5c202d79a6a080056560a846e919277ab3ca256f8b28f1e434e74858ea1bc020d8c36a6c17da91de25180084dd923965d1a669a232c433c319ad67b5ead843a5b14393a4379ad38b959ab0b9fbbbc9c9151eb979e760350b2211b11b38b7c10e33d8813f2745c999a7c4920140e689bb275eb4efe57e1474af28a11094dd3fe3acecb3fa2f110f6315165d28ef617720eeb7eb649a5546662dfb5369039f45814437e673a174fa29f98b65073682f59bdf30d18e498e4b1b62160ea01946b6642868fdfdbc2859a67fcfdd0519c868749757e5c64cc3fb5dc2be7124c3c4295899d4f7db794cf736c41cbb2afd9eeef242a7aaf6cbe812a56b0953027595b1bf82f0771203262d09d9d0a4e549a19470dc7f8ded828690d7d072b4841370003e28ec78270f168940a865bf88188db6e059f994fa8f9aeecc8c6377d42f4d84cd1a36073361ec0457c06ff998b58d8f763a3fa3fefc312624eafca0e1bb02f8fa52a78eeb537cf9585a3468119a46fe1f23b4838b97ff54268602c28b805028e716a28f174757239a2655eae5bfeed05bca2c423f1c04986964bbb8186319bdc884eaaf7ed83ff2b21eae700595f47dccf6f08bf9e1ddd0bff834dfbf08aef068935b846ec7e523158972a20bf3e12d91449ef62df06e566f2d3ed778fc83208d820b1d653874f11cfc201149b14d3da6556a63be00016a74fbf6f6dcda2904862800ae679633db62d5069f0bc25b32a5b355cd91bf5587af30727add74be6a67151d704253cc8872e53d36a8adc9c2a5b23cba10c6e0d974822afa749a62a851b44c892a007f7d739a54540c6ee7fd9a0e8acf214b21e2153e802197a2faf3eb4139ba31121e13b6ff0fcd72ed980149918b62d20e8508a7db63af917ba74f34e66f8d020fb862c0cbcd4043f7c839bd8b9674027612e33d0e865d3e9dbac6cc3accfb002d9f24ed5bfba1bebb31e90126f1ce375153b9cdc1798a927f894be17cba72ce9590626c38ad49733532cf426d9f7781a29b52b6f63c6c0bab1a36ea5486fc128ed323fe468a1ec2e14ece1a59b96c678b2679fa14216b050315cc84bec28673b5925186fd57151492f1872889657decfbe09ea7b1b5f438f01d620a9c41b574402c0aa282faa45a93578a8a67e2268640bb95f9ce42dfcde3f2c1f380918b3e65dcc45db809190f528b9fee99d1f13ad879f7cbd993e331004fccfbc5c80d3c5ed8493cbef387a21891a710ca95e8a33d747ab741eb812847daf795ec8ee6017df02d9cd0917e2cdd5cbeb0a71ccc80151512ca4f7b11c5051477127de6a47ec75853879482344812f657878eebce58f6180b1b3dcf9eb4bf68e5b5cec12ccb8b63b888264c3a9597f7791c833f54ed58f4719e29074972a9c1bd70e2d457d5242c58e6932234d45a097526edef7027e4627bbe56e8e2c17e02731d719838db50e199a4f420dfd960979956fc09d456ca614240e98ff9bfda6a1418f3f82f7f51746361c4745051165f0aaee818ed3d7e9574831eb7587c3612e2874813559e196d5254e8c9cd1b4baad8485ad37bad83178c63a41f7b1c85d4f33fd159ba300c97a0a8e713215bcc29ad686cc533774e1fd072c8ec1faa907b268be935a42f3a28110208767244b5173b1e358800dd7cc630a93f254aab1bb3f1e30ee9d19222d207c313c700b26bc399478101afa3cadfa956ce016aa04e125984c67a5bcbc9a1e56a4b41fbe0462f233142daa36e24ec9a91ab65289241ae6dad12abc96cad570f30d85b251a186791ee5cb249256fa25ccd23ac636648d2ad0ba68b1245963f19e291ac48e866951c1b47c4e3373001f412c71b6d9317ba825b35fe7f7b3ea88b85034db1fbe6c715d9480ed863eafaf7add109429adf496403c0c1bbadc582f3e0a30fa62bde35885799a2fba430c1ecfd88fbc30f6aaf5eb4f2ad39c753e9c3d842dfaee7a3670354bb1500f7a11fe27d09e04fd7b2fa797a38389203278351804b632449b728b3e29919718a6f34f8fc72618a0e7621bcfe8c60c9d03931749981bb10a2c2794efe93f09c9b303897e2872184575e575c2d230dc45c4d731e94b8074a00587add030d71fa2ebe4d40002cd0ddf0f6355a017c96eeb9370c806434ecdffc65f045d5082e9a5b9d58746a5a1a6b43441ded5083a27c8a37bda9629864849334cdfd6e75cfc40ccab26419cdc6f081890daec4b9ec650ff1028154438073d091895a603e9756783dcc641ef2d1a93ddc6235e0e10760ab4b6cf0ec179b91c46ad2234c689fc7a0650ee2bae5a2cd48636dd81899867aac5ea730c65d910298a531246d8b16eef467abfc88be4516448a93e3cf35ca905635e16549e27982ebbd9623cad24bb8b221638a6700644723bedf8a915169f26f1d50612b08c33e5d6181d879a842f3f7f35b4490c8675dd4ddcf12eba8f3b294cda0d4314c8ed991dccfee8b30f911554860c6d1750868e850ac52183d1ddadb0f40f7f23b8f8d52d85eaa5d34a5c3aaa608aa47381d20e6706a6e2b5b3eca85ffb32b057311f9bae2beabad6d7a11cbf148f6172b3a3efd0ab32dca33d1b0d06cc3738a622afdd4c8cf85da4ff11ef635ae57dc74a1ac390ae136f1f080346aa01d215b5b6b4018244d0514ae36a955719295cbd1fb3b61190665e189be7b13dcf732d88a6381c254ff8b1d742851aa31df8910609a941cc70a256effdac4580b48e4d442ee30eeb31edff5a58f3f5e4c4afc23ecc36e5b01c4f006064bad312df7b2030bafab0ac6b108758c39cf592fa16cca8824fbfdd24848902c05d30880731322f182780292aff030d37a5cf857a3146dfbf69b5d68271114a59585d42ffd29dacc8bfaa77926702e8ae08826d0f5fa629950048db70561d8c881fb2db466765a4513324f6e7082507c5e5cf730be5499ea3ec5260b2a6883c90d078f82ed135dab7d5f284cff3f74437e75b5ffbe9240501a0ea13d2cb461c2319235474e0bd8b404a405e69ae3339b9bf4a41d91ec63b53d6316aeec36e15381ae748a0f52ae187846498d6929f38eb5f4d428ce617b95c332156b80e252ba82b2a510aaede697de9c6683ab64fb9ba216230250606ccd15d87911f5efd0c58897fe79277dfb737c3881d685a1115cebc78c7481d574c562da18d61056d27b5a6e03acca75daad0126abcad2555ad1a1296bffb136555389c1dfde172ec290ce585e808656d12da1932c809bc71ad13b4981404627a12fd9d818fa086b6cbda92a56c7624ef3d179c239fd090aef32a5e1afaf351f65543603a1d27031d2ccb2c0c44fe7278c6e20ed8d23544108bde734baefafb56d87fbe3b185fc898b761fbbcc3c32f840f9ccf3bb8dacccf8d2f5a041a09a7eef275a35f9b77be9f77c82fe2ca80cb9a1eda6d52d975f09e55f53817ae6b187a4101372a23b05652fa5352ea70782ea77aafcf4c8ea3b0b46149628db8d68995104536d59d1dc7768a0e096b18453b0af60d1e5cddf4a3ab52930b792c28ab715b911a0a9bb068beffc76af4065332c525d31927eff14f6013cba920ba535e3a8c1d09657077dcd7260e09efc03de7854c0ebd4147b8e660743bf67d45614c153c6863fcd557961d4f6963165880caa03d9e541dbeef604ffd4e2075b9de7bbb36cebadd130378abc3d50739b16f04b49ebd24375b69cd93a5155dd6cd1736132f45053d6a7154445a8a964c05418772ea0549a4900653868160e0e334b03b6ca98eb5c825fb48398969c1581b4a016121c72353b1ed8a877aabe12db670d8c49a1c02a0b3805cfb9afd0bc0542b5915a77aafe4c36624c24a9fccc390d3c8bd2f738ae0254db3017e8787a713b311f2fb1758ead45396fd6ff89acd9b100dd16876640a090a727824a0f9bfae9903f310fd793fccb7dae47bc9911a1f6294235475ec695327de33db3fb6136a724432c9d6137cf772e9b2219f09e78443c823baa63439008acb6a3ed0855aaa4d23baa5b8d345d8135091448eb6fdf8f8d6c7d397ced91df7cc4c0bf5cb09d24d40ed5c561c8b383093fd0cad9db7001907bbe2295f1ce745045b156645148cb519080cea515691768162f0eb1e5f4776908c8fd3cfedd940ad6f8f0df54bac4e7141ea5c6ffe7f6ab7098413ab467c7034dd9cfd42503b8a8c679a7ff1a865db608e96fd91a470e99dbc3f59f00dac3b4c00d662a43917650f3e48c8c045d62b39d623418fbc2e729a56838d81d9a774a870226745205ed4d2ac2d5a22faadc2e346b4195a211550034c15a6038eaa6c17266cdfc0cf5d3f42064d8387e70c8843203c43f49b562fae7f93df4d6d18c01bf00e178a2d28e7ca13efcfcfb98e1697bc1a0dd34569c969ebf0e75655ab34e26eb2428dab9fae47a073d1f2f2e4c62ee297d1c28fded664fa547485712d0182c823f8b6ed0175ebbeb7ed73c54ecd55ab6bdb0048c3d850eaad11d8f3c802970c7f95ae95bafc33638750507a6e82f279a0a83318d8fb1f77db6153f7a6b1f4bd780299bfca309445898a8be7ec7b56718d8cfea523bd6320b5b921e80eb54c97bb67fe1d90be6f2d1871e610c985e8a360613c958a6a49e936cfbd868a98df1dc3c4765d1e24b632437b5840614ee9995d0be2622e74419e707f0e569bd489e3dac91ac35392f76dfb19bc9a4a1923516ec7894fa95a929d3c1c2d85caab26c4199dfb71bf7ff7abd67806d6d930a9e1be1e5fa16e578614cc2ef793b9bbe0bd6d288c0b1411c27e3e15425795c116be0cfe25625b4efdb28251fb188995c39167e83bd0bc3c178e7f8fa152e04c560c986edda2e74aeede66d5ec0782037be0ad9dccb0d2103714584d4788e9a7c29c558f74600d98769db22c540100da774003f6fcccd8ac396ca3e76fabc9badcae4ae9a9a81868f21b50fa2504faa9020ed947c91ba101a9d4221f4334334217dd4a4437e96b7e090807becd46372da11755668d0195e0eb717ddb2d2a955fef113b14b026291bd0590db7172d8517fa511698e580f2a2c7ad4e02e9a029d9ccdd8d585578c518f59acb887ca5ed98d1949cd9a1034841df599ddfde46baabebb3bbebdb56a15465e0f1a925705cd0113131eb58446c04e02580c2610b764cfea288570983d173f6398bdd78cb172a8dd1cb126d4f447a526fb08863c389e07adcea212888474357ce989c4c1212e2a36d4313ee065ec96ec1c80429d08a4f5d7f0ae8ba1f652da4039a343f92afd165f25c7d6e001d4c0ce24c861dc72a1e96ad5687e0f4f53275eb2e8dae07bd5974215d4a7a71ff8938e8d3568dc7c484c19cf41d1309dc4cebef446d64b9e49749349a95312f6a2113af0b583f1a923d2e6b6ee6b4348fc3c6d300ae850e1805ddf9fe4c1b730f932f45fc3ebd6299fa28e0c25264752e76568034dfbf81f6ca87ae7acf6d10ab8d80874332ba975d934b448a8e1f4148a1b3fb062f393fe414e852dcfe163299454977e39570297c960264c2806c82133924be68bc2bf4dd7684c3d65d463a0c20a0349092f13a4b46aa03dafc23435f9a813aec2b294ade9c650596f3f8274adf7538872d5cc008fc5237df285bde14cce6308b134f98fa1011d6b852c986b4e6dfef69789e11f02928c6aaa47bdb3d1596c23a23912787d67f332939441e43b6328af3757c6352031812dc7d4285e34b2dd781c58392ca721056a6c6d17ed193af65b8c9986b21dedd0450769a63f129f53709952110d0c3c91347a0b9c96a23a9ab68e8065ba05f9186885591b1c9e7477354ddaaf31b12265bdb846755aec99e35d01884a8ea1422316ac882839068e5c7296a095f6e41bbbd40ba24e63f553b6a386233fc08ecd41006bc0b28bea3f1da0baa76a0500f537bd2a0dff1df5c9bec00ad08fe2cfbe32a3820bd163d7ef8fda27a840287ec084b002d287e81e8f3f37d9b90cec474ff660f4855f34633029733a33d7416f","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"666125d2285f1dab0f009ee7052c866f"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
