<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"ae872e72b59a7b35187beb2f96c4d9e2e72656f98d5a005cd500fd2439488b165c4bf065818331254fb416a42e95f325af62bd8aeea06c0ce581ab0698489f2803029992b2bc750ea8ea438b5bab46e0355daff8073521a2a8a9f27d86309a9ae4f2a2fdd67561f83b8b9d49e00aa9a09008b3dd38cf9995077ca5e28353bc089ca3ffcf4f6265c732ce5e95e365a51b4afa40d2f41951dde2efbbdb667533ab956742748ac87c9cccf05ec4b04b82b03f2a575a8c6807f76f5d9a5e5369e31bcd118c76f9b68184d57766d9b04fa3e85c27f8ab0d220d1d34d384cc7c1414809d4d3dae93b1795319fa6f0cdef637889723e43476e143569997573db0664926d09c990457a9e08d5ee57b32cb4039571219800313e364d2e6cf286ab79e2dbe0b85812094ca22ae5c76fdcf037bb6cc0c8aef9d91ba6338df37fce6283fe8ea50d56113e3ab7fd6ece03ccf8b3c2464e1df5b827a34f944b33653cc770099c08efe2257d6b81fa563eb299e228540f449383dbfe261be732f07a803aa1147ea10946afcfaff84c2c73f42fd16517c56d9a053ebfc04ef848a1656c52620ada76c98387b5ba19626ccb6b34dbab8379c16e6f1e7059e330074bff0928522799c652ec05e02b591f40a129c6a9bf730837ccb779067b7b6e0f7e63ddcae4fb0bb80cb7634eec5645feb6da455c18bfe9a53dcf295dc88a70fab0855a1ef4a3ad35ac96dbdcdb5f5fed698a27400f65911d3f91f55d889b9dfc242db37aad83f3d379b0f4d367fa34348fc9ac1c79e4ac84f56afa6db36e2af0f5ca435bb4b090591bb839d166d523ebd2f18a77aceeff57823858b889829a177010d2c72030839d7c60c9e3604d6166d6f2f8882ebf2f63528e77d6acd19c698a9fbe927092bbc3b7496063a6249bb08241c83d2a2f3bbf8627978a51fbe18963a24c92f59c0e20a7518d208466122a157cfe8d4b01efeeba00dfba3335b3bab8806595331976de3b9fc51aad7bd8f513733c7e4d72453fd39ebdc3d66d0ff0edf28f03c915863fef74681c504aec9d124ff19d0eedbc016278a74c7e2f56e0292c41c7445ebf7f4c9527f79207bd6ee7cb2abe87ab3b62bca27bf06cc1f7251ffbd5d583efa21f7357091ee12bbf796dd13d356137c38c3a3a6c6dcf0f9c01f98970ef4c66d4a527e4abcc3c71f3522717b3e189f5924a16a4372c9fc573456cb078645eea4a649349a242d6f60b712e40f5abbd5aa5f8d1bcfcedb547b947bcfd2292e4c75d94516e7d4b36bf8fa7d22cf794824657a9add07576186cf18a572c7ad0e5f9fa61fb296805561a9d7ff0d9a6c3aa8e1f23180006fd81b40ee7c9192144dd44437678040f173e072a5325b0a95d661f67a618c3c9617ca954af4dc408ddbca0b2bc6b0d43f85b4ead34dae029c43d13ff732968b84f08e5152d367e8fb1cbe4322724541eba3b77b606b6e1e7ff524958eb61b6607deb208c5cd8b5b5ebaee4e575c3b87e4a929075e7ba57d199a52dc13f68cecc854ea2385b076e2bafd73efe7d5a21af1aa6450038217456dca6d1f0c13bd0dadb7dab8fad545841b78b2a7300684c50d514a2f715275a7c7d2a5d9c10bc7121ae0a85c4e593dc67b0f6c5fd17c100a5153162b57fe7f93f5247f6f2ae411a4f168409c52f376d6f00fee2bb7ee1c9125e01911d837aa2bf2a93a0271120120f63c2adb6ad31301bca66b0ca9023d0b863108cda70940847d53b50e57f772f617c5f0164b4c225bc9c1fa2d628d03be9df5fcff18b9c50432c0e123f79c1f4aedd146f29d666e4bb23056ea2dae55e9328a29f1f3ce17f2ccd33aafd96501245124e3d4723fbdf16513de32768df52851653ef358ff645b4097159c02037315ccfc0ffd93c4f650739614f3a83fa1197d995b44cd94c01672487405b97476d753457791fe63083a5d6728d59a6be5af5c808c2f3452536f4549caaf9fff60801dff1baa58f152496af28b28a3af2f669a50d4a77653a185fd4e0a2914ceff2e8cabd7a1044a30428917854e7e7d49f020c793428acd7c3ec9606491c6d347e46efffb8ca8394a9397f2573880a4fdfee0f3229979a58727f7579dbb78fdb313c0fad9f0340b3a7eb930a2f685a8dd754801c3b1674886b04023880297e5e414b2c038616651717a23fa84ceb04306c22a5ad44f493a69c6a95f356cdf6262041338a3a33cb372fa86846ecd7a1809fd5746bd9cac2648ee69bac38bf75f119633bd6c0ca18eb7770ebc23fd92499908af08be93a3574b895d9c88d298af85729089b4da8fff2690832c5d4a2b7f16bff4d87d521477e022ed425e670b400111807481931e83ced55c81f9f19bfc0cf68589f0ee9e3a92e10fed78a7570c0c8e80f578804d96eeb61d85ec94fb2c47950ec86edc79e79a5e3c7e07cd748a1c3d417b5feaf328171db5d8ee5b2c9fc1f4ef006ae83e25d2a2653a98dcb704b748398772d93dc3f65d87b9eb193afa26129c51b274f25d4914bf08a857b089288ef660cd055ebd641db01c058410eb139df6cce53544241bc402bb34fe9a2f7befbc43011db3c438a49db454b1b3dceff1c7050dcad3f71ff8415db7147500127d033e335b3ae89175881679cb1f03d3a8c6fab9c6b2912e74d0b013c960238054789c9be766c7551bb59c8a702c24f407c12e23997592d210896924b574410c5c7c56cc50cf8a67bc21a01eff835109c987cf8549cb334345c11af7b1e4f283e9b7d6539228d93e018d2b1446e8c8888d103187f591783420509708cd66a5969018924de2ab69a24626ab53b5509339c97e567e9edab0bd3404a7668bef7e1287cfd0fbddf48cfb7be5f8244252e0d0c4db9c0f10fe82cdd4c8f52ca4c43bd25026c64ecbc32f2eba4761fd112c5a6e7065b53551b4f6a8ff945c95006dda26bd97e71b159dc0514c1fba6b3236f59997ef1759def5c45fbd6eb182cb1c2e1c1a259f3798e556d056a4b147e5ae9141228903563326a70eaf9d0fe20a2d5c9fd950ac0b4b58dbbf3bf510a38cf22032316d693d989d583ad2ff103c7370fed055c98c675a0e793e6d717bc474d5eb9924f87f403e7ce80f69ef6fb9bee4ea67b2fd163190f37446cb8bc867c0145754ed42f36723c10f85747e51a110913430d82e01c5374e28acd73d127585f2e7bae631d96ad8f515f924d443e9c096df3ed55f9c9f2b27d3892533706de6cc597e484aadcece4eb5e25b0c673bfeef753dbd90958b06f05ffb4c36ffb9d9e10f3de2b26e6171c18b587901010810a5e9d3b22dc5104ea80697c4a02e783ce2cbb8f82fa701e6a5077259e424636ca71bcaf0e437ebb597f097b720c1b89d864ac2d634dbd86649362b2077477644619b9990a3ba2a50f9217f860d01a5fd5fbb40c5da37dc266ac7b3f7e29487c0b15f7c0259e8286404e6ff4cd1cc75e112c23ca498cad9576c55b71b2d960a09f706c6d5a652abda3dc738adf979fdb85f1b26aa2577164dc028b41526ea013f4621c579298323c1120fe9aea59e2bc2998f3bce89d0e3add1d41a114d5c5775ac2e6a9a9c71e901d319428e0706b3f687416d7fbacf6f123fa3a219297384c2ed575b97634d0af2cb2f77f07b45380ebea9e9d637b68114026b5cfba28cec2c4873e33369e3e4f4a11647d4187b0625c2cc1039d879d5d280e14cfd5bc78a0f398591e6c80f64d0798e70cb39be0900222c1eef90c5e5779dad64777271d42dbe7a5d6d1d4e807343301d07693341af3d3fc354335bc1db451573c2ac8d3e6b1e8b6e034ad9c9cd6c8f0118142ff3ab2cbd88c1ad330c6ddba5bae44e34bfc7bf4dcae58ae1baaa917194a52e1e6b9f75f0a262fc6b7c1381d36cb1f4c56ce077766652da8aaf34fa4fcfe64765952fe37f7437a75fdf4c224d121694324719874bb59deed288fab98ef950de25d9e9c17673c71bfbbcc03d848ddf6fc8949ce878a82aea00490bb3c89130257959b1dcf861859dfb8460b4acfde8cb0cb006644dd2f77bbc495828004c7db1a065e93c49c861ccb1661ff70b5ea3a6d38b75a76898a7ad7984895c6d87c17ccfb12607e8631dd07b02ee0c443ad67c73eac161cb5d820380bb9b1833a571727457d4c7539e58fdeee4339363668b213b23d1a73c599b9e03a537c3dfecf9c83c79871c6e462c9bc3e245e5998e63d2bbd7dc38a96bcca90abeca7afd68f2d466d72686329afb3dc11bec71486c2dd5125e5d24d60aca14e0f91c4e1af7524ecc4464632e06cabb5fd460e82eb9a880880d4c5a9002d755f9f6d2112c32ec1d070f958ec0a290c4c2275d93733b38e033a21642b8cdfc8f954deee4847d7a82cfce3974370b678295d9db7ab7a5df656ecc74ab17498598e6b7731e533663ee89f1dcf6e0b88f927c1309b7d61b9b2aa037aaa145f4d950f09a065c8e3d801755971a1d50d91c0adf097ecf5d14f4a7cc0513c59c1bc743668d531a47ad70b06a374c4f85920287481cfc56df5b26403d54781a3b8779df6005eca97823fc762708f3ebfeed670686e68c61044181794249c417ab85803f705ddf1a132c0d83cea958dae836383527a921ae36e74766c08afd6035a0209e3cefb2047df90e12005c2302f596b1271edaffa10c3b334f995e70fc2253ad6a63ca06e7dc8a90ae672df2a5a1ab6032f8240058678a07e5a8ded2639c73f47452fa507209b9eee50765191bd644e051d0e2cfc257795f5c03d7fc4fea5e63057d53c44f4eef4cb90c38bf0bb9276940aa8a08c5d1cdcc818c71b1a2b1f08f437cf5e7f8177da08e2ddbae9294d3a756c91a5dfdbd69595c7a63dba482757ccb21c813fdab96c7163c6f5f8dc3506bc42a9112c2e8856c7ff69d0770bb99be9ae259224a14d4ce29f26fc55246f3761bc8eed00ffee8ff9cccb75332ac73b95df093792a9b844dc7aef002f0faf0ccce3ac226c7d46e7a3ec1e834f6a00983afafa4b42ef5d144a3bec778774c969bb5973a191946e87b644564403b7fdb156981ab8d25fee89539a6fec90e1b01d751628160c7871c140d0d5911a96245b16d9d0c75c1a679ce57b546d1e60763f76baf3a6540fc1b0c5fd4cb8c7556e2398e3a58e42aba0334fb69945a11e7ff07b4ea5c6e9ca3e2da84b72071872f580345d7ce3b4849c19eacce735da1769424b85e3987159f7da9002f7a51180c4c8edd94644afa19ffb6089613f1815719b4d64efefb386485079b34e35c6e4c596794b13b1c7629600162f15af7f71c6ec1ffc7c70592033cfc41b2526fd2f6b99981e6e75ca8e7750d8b1434b344f1c91c02c7d01935d35a981680ada8e1ff12109cfc1173ff866b9b8a58875e0ce3d287a8d55c792d26638abf0aa3a3d9ab4d59c4495583903d5e198ffda82397a4579eb9870ae4c412e55d7e25da3ff924209dfa8fd9d9f2ac46350f6a7c712b62c87b8f95724ad1b910537218d456a851931c5dc112303dd6f4ed56e9835eb249236e6ed12c25b3bd5fcbcc0ddc32ba061b8dfada1ea16179bb407c421cdcad57099fc57c31d33e3b684b45428ab6636961bb0fccc41f0dae6727e61e1e04c3aab723ea3fcc45f024e496b1b62ff4f9d0eea7b4943d620125be3372aa41dad715332133dfe1f217dea84f9b4de0e1a1e35f4af0cd6ad670318829040083abb38d1fa7620d49786a477cacf49d9ea3036ca89eb8ce0960c78c05d31f81164f5779f97b4207ed443858b9cfba5f1b94ae518e9fa539de00689a33fe09b366c714b5a5e0ba04dfb9ccedde27c4f2f877b5e7e940e10f00cb9b1809a26780a26788de3d6e2e0c56b279a9d6167d762c0765533ed9fa84f5a3c9807e3d2aa762bc66283a7f6284d08784772b42c6dee0d83006bcf190b21762183996047be86852ff58e92e6e1a56901abaaa697de2ed9953a5b27b0e2e85a57951b6a3fa1c8fcaa2512c01281f9525a07c91d7e8f2cd2611c0a613a1f955ccc97f5863e71a39db866f44a46f7bfbae5082fe76f7a4d6a08666874cb917fdd2aadef4d8441091a4baab5a66ca42d17317a23005b3c0d73f9e6cdd1e7b913867bd6ce03f613ad371928922ae87487552e2e74bfe67f05223aa55f0c555afbaaa976afba5092a747cb4c538b110a1becfa9fe77bed67acdb1127b7c95244aea5d7e7e45b4fac2fa652d172e4c3ceac62aaab22c2e0a0f890efab6a97b5ef54b3681b0f4972fac9a3502ebab1728f10408e97a49ad76e0bbf983bd1d8c957f5e1923a29be663329d80c40b5d90cb642c6349bc26f215ba9ab84e3b515d1b7265ca175ef601f96dea1186a214c28ce76f56393bf32a4a5e93b4460d88f951729247cbecdf3c2934bc08191cb119a9b076c6f56ce1e7c780d8426def07c21d581df843cc6b42edda46b6ba7956cc2acb4345e73835f0e59e790dddd88b3ffc13f9ec4cc53b46c551eef81fd40c308aeb5940eeca4013587112b4cc4bab15cc0264294952621febcd28a13de9d4079f2bf8ae85b893c8574a99df802cb492cbeb01a0bb56c94c256faca41c879776b7cfaa84ff25feb915363c9f7b6cbe4d2bca87f5936c470599cc5019ae1e39988acf615aa61e71e48cdd52d6e10d99040d1a8c61dc48ea509f03cb33a60ad6b6c06ce0fa0734a60b67746984fc8764e49ab026b4ab4e8771bbda377e36b59d586d776ac4a9bd648531dc9626384c97470b61b75cdbac08d42651f048ec1dad58da3013bf9152825b54d815bdfbabb485ae416a7d7ed4879a99891fa521d4116f69fa827cb37666aef56e6d58658fb649bc5b8eabfc1731ba08d0df1dd3af81bad31865229117979942871d2be1369a6cfd854cfde0e93d891b0ff07518023ef7b6696fcf0950445f45beac7ca37d70a5bb796d7ade37275507352e26f30ad90afa2c050931118d989eb26b3ad53ee33726b799f985d11dfb300db5e23fa71402694dbe0b56f9c079665bf1a740b36648a04b489f51ff6edc8274b8f8f18d8cf9e671390698f64857187e99d52e3a0a7c105d0419de15930a4ba1060e5f026070b7d49721118dc565021be330f5aaff5884b14ef5113cc3860fb255fc7db0be900ee9c34a2db4f32e33d8d6384d0b1833336bbcf0a5addeb4543324bb25793c3b3f359ece865a0a2f37b0761926c765bd059d91056d6c7fd1950fa6a933fe005676f8e7abfab8b04b84fae75045dccbbddd5ecf3d6c1b8ff303cf99dbccf0d226166dd81aa27840d92847edcd866989f3f28584bb88f5afd53c4b403ceb2f26dd0594e142388a51b8eddf8db5703b0f14a2fee481838da6fb155766e312c05f39a188f771eca658c3a362b35355414969c198923dfbeff0bee3ddd3c7b95eb0b87769e4eb0c265559f84421ccb8b1a250364024299e2d14c7b7746c2d6478c947679e053151e343b7ba39f26f2e26bd1d1f41ac4d2302c62787c035e2d41d51f59c3b549d74fa93655ce660eaffb77f971e13719751c670dc3906c6e5e66c5a3d34c2ecc739093587f74571604534daed3ec7af70e2909c0d4e73cd7179179983e66e94e8cfa7f98fa950032d6291d0ad20bf65fbd66157a6a4b5b0e711498b31047115e558979c7f561b046577a2cdcf733362ff914c8fa3c861d86af327d541a01ce12a3ec82793aed51d1d52c908a0ea8b0dff7b6442424da87b1a3d5ba083d3fba4c8fcefdaeb69f3817b6d058767c5d99fdf8c0eb97745be326f3f8c7cad9f5016e8d3712cee56564f3647a7b8518011a82b8166879290a82c2430089533c5a3a6e9bce95681673bff1e99aaadc2f9a7800c71e169c748416c5467fa032a92116b32fcc0ad9bdc9fda7e6f3d4ebae06fdf30adf7a60996fcde59d6c8edf489e8f05c65db90c1119704325d41359af11820c5a0a9bcd56e84a405b4eed55fd6d5c15445cf85468ef72a8bed59fb01387226ab4a696b0ae02088b59019c882e9745ed45b615529b170a162c08541f38e0ce8d0fba5145360341550a3127d522dba11965585e01370be640d594572a31bf984bf3f4795259f655b92a15287ad46ad1624a17e47fbca16453876e870eeda2a9afe69e45dabda3e3113f9f6d81dfa5740a5523b5ecacec8bfb70c3a35d1c4487d6585779e16bdb7410f03e6cc0bccca28eb6b64402c1d2fc7a2604fef29de2848949563a693c1f5aa1021886d4cd85b9407214f0dd8eef8e3684c45c3ebf909b126d128a9ed2ce5eb0203f3e71cd80b0d130d1c76e6ee5dad03104960c4b99f792d6d24f2ef19c412911969cd300166d17ad7fb5d2308565128fc4068213782109da969b9c52689b0e046bc63917502093ac602d1e83314f805f9df04e4567efe0495a2b64e701561f5a68dfdf9eaca5b854d8a93d44094e7dea5926fdef94947a6800cf7d44f751dd8031b4ea84ccc45edc856830b1d12898457034e0b23f75393909180d78d576cfd92108a03e94e20cd6e24e814935f972e495a58455135eb7b7db74418243bd21b630485817ff998c64f90b7237747bc800741597e703878f43a706557f2fe7a6bdbb64c5d5c81bbdad363c8a36a5c9d9eecf85909217d24c528cd33db04275cc43f55682cdee18627d206a3d497de8127960753d23240188d190d4c7096a1e38b2a7a87b5deebd072cd1d05b1e6c8572574dacec0b66272b720fbb2d073eb15b5ec073a65d4f5079702993f9c772ed308a4e81d47fa095e6faaaad53cf0dbdc20781d7754fc2c6fdf6493fffe02b267072171677ba1c68cde9db86422088e1d81cfb4846acf4a53ac616c1652396354fe95f6f473d39d6a5e0817eba66649f5233a5fa3a387e391e820209c7e0504a6843376f6dfffadcbfe6c7fcd320f277652d0c7820f39277a37f4f6b52c07dac0dea214ce9e590a1a1f1ae2d86ce41d1fe96e9ed9bca154f526fc2a6bf971d29ee43b182ea3f03a6c821be32eb72f9faa3e7964c1c9a275267e9720e7bc3df87591d9119faccdc7ed7466e1d5e30dcc69181cd93a0a9a11e2fb20837992bf52d331fffec3192c426521c9bc14d0aef17f594c63cbd2bfeed00241889706bf7f350d92b78fc11c80131e15021eee112b8559615beaaaa49c5ff142086a8488dc3622601a999f7afae94dab595a349f2de00a000ddccc4d2f2f2e8c73ce5e1ed3b5956cd3639f1214af73c09bec92179152a99c9b86563fb3a6ef625c5b9c5c81d3cbff48c8d40d5692a8a3010191e378cfe91285595e51346c0172a6c8910dbc868dd4ece7db82a8a6f658657e09137c76024462b2e4b9b8ec0cbe1a7bba02de60d202c92cfcabb89d1b46dfbf132376e2804ec7793957af06d27257ad8f08cf87cdbbc2d541568bb38a7658f94a6cd31026b1427385361939c3fac273ddd3354ac214713e97b12ecaf8aec052961907b8b5ca0059d4dfad4d7fb477b175307cdd6c9ce0bf49b9b1f0f8ff95bedb80fa9c2d5d86deb3f27ab338c76c6479fb7ac8ed650e3492e0fd489e4d814394fc1db55b367131f506910d3877d1d4b759dee446eaf61ebc3038ec1f5dbcf660774bf6d088cb634250952aa408e810d92873dc3f8701061047f07af1b9083e31ecf61d2d6c1497e29367ffa2f3c696e405c22440962fa28e530b5070e2e3d4c1083810b01f002ffa1d73b29493b9850244e0c9579ba3e033a764d2e0e199983c92785b907c709ab014bc31452d357c788350fd9024e5cdd9c5777401fa256685464a00222dcfb2e5a2d4b6add12fec04308661558fb9f0c87a89324f6e6b784e567d8f5a2c005ae3e7cd3836f63b003638bde4dc8bada756825bdf7f2936aacc87401daa46e3b9fb51b3802f72bb2ff6009f0612cc6888419d929408ea01f363d60d42f7bdb5be29498709cb0e03eeff5e850632dbd6e6621270110c397379bb2de6452d922b2b3d3a6ddb321a47c5b9e6ad906469679a48097341937fd88cfb7392519b46b2bde3fd2a97d3ff5ba8fae03e465a101753d77a1f6acd556c770e1e48ac5afd7af45626dfe4b661b1612c6bf47a1bf2c945d9c5830425c70e6b79de79f418a73a14cd835634239007d69faf6625d6ddf4a82597b1376d00aec60e1a1443ec338f7a7a870b5334e9082b153595b2c17ffff8e1424fe1c6addcf34bbcd605521818f63a63043da3223e878be97861ab3f1f032557dd2e3e6e5568fd1d947a0aba2069aee3464b7e9b2d3b9b0c5b83437863baad5b50f124532e2396980f07eedd8f42330bfb33d5b640d120a412ec6a10f907c2c5932bf23344616c9be8c13705eed9660eab698785d76571c644a6eb221523c0b870210cd28f0d71adf789c9581a2e880c0c1b2f4182f07a4f45b4a6596e0e8a38926a981a9589b9d767345a499c052b05c4df3f13fbf237dead8b60c562ebb761a0d427f75f389539f5b32643e9fa51ecee719b27a07a7371e1af642ec2f30882e74a40fd8cdbab60ef511a218391d57e583285e95e7eb46cd2227a00c5d8e3800b8b201423f49e48afab10a954f1b724b8254a8406f2bbb34d0cdb3f7cf30073de05f216383499e12067b6d883ec8f00fbf5cc8f0b01ca2dcdbdc8d950416f6f2d0d2b101f36d16a8224e394f826abb6fbfff6c79a15a7833c5cac0618c47b9f9ef5795306e1af38c81b96d9ce7e8d721f0a838bc29928cb65843bff6a54d5dc720fdb37c80aa29e09d2194f6a03e22a2b44e9b3e1233818300f487a793f43dfe76f21a2a96cc66a5bff9c7f1c71a3cd326d0248ba315f296427beedf26b569e48674b9007bbabcbb0acb535f90f25ddf55cc9553989fc62d62da0b1b052d47e29b5880c8919accd281bc3d4bc6e354d684bae13b9bf5378c2b7c0aaa0fefed5954f763c5f13d179311f5ff544783e745547da4fb733ae52306e10e08e4f75a41189330f26e9fc5a08d23903e2ca83aa623c165dcec9a43069577e59edf34d64f5b302041f83a94809840a603dc1501d5fae28e72ed756aa7d8e6649247f4d480870bdab7cd70d87c1e3cfcfb9d3393aa80b30bf97855dda4a1eb65e4a316f1de2ab59ba1c900fa79913c39a48982be4150982967d40169cee9166ff77cc6ef6e4fa314f74b7197409b1bdb87699a83d51af40c21057419ffd77399a3230e0cfc0cd6a7687e4e2d5c374f184d086bfa42efb090566cb629cb619e74c95ba10273ab49ba1681171e2f287023b24c192340f258bfd15a20272dfd7daf7a79d63109d2c4653e6f212b8ea9c0aafa7c055eb2bd23310166ebdd41d495a8711c4747e75f3571e81468e7523006f3eb0bf815c92aee476f428d10a51fefacc9b4111f4afc067bca4f6e810fa0953176af9aa72e8a55edab6f6f5dddfa2613adf441ed43b830fb5c49ae737b0380b6bbd4c5bf57ef7fde75c023b72b1f138a2a9a7486deef07c23bfd2f16b728b1a70563a472ae2254244019350c00fc4fa8408b30745c00a1c8081c5f237bfdb7df86813001573ce19852abc40d4c56616b3d98c944697c88583f698fee0ecb228f039a0158e439e7ae6daa692e6fbb9484c0c029996cfdb3fff0ad0e9d9c062a4abd0bb744319a7362839b184899bf89917f8e82a0c859025c0a7c7114857be712a02b34be09fa4360e7ce7be14c6e5a9b7f054acf68c03080d647144cd8f397205a3616a5df355ed520b11ae7e20378926e3fac66b11c2451b91ec6538ecc98c63fbe8017c964f70976edf319a30f793e29bff98b6509565dcea63a6e08cacc0405557af46c352992507a79ecd8b38cba4aafd0813efc31970aa3d595fe285813c88ea6c0dc61ae945975148df9e66d627b01e17990c913ba317d981f5bf1b44c4f0051332bf1ab2e16d7c64a6be60e8bec8df8d85727c494206bbe284d8d522a4e9f53bfa620ade30013b1724ee3cf14cfa9e03975cebce896eeed3dab7676ab84550c0e6fdd75b63dac9cb0d61abb42e9d4a561c8368410369d7af023e662060661a2afb78c2f3ed2d0762b8fa7843e59f08d6b2985ef231b9f7fa00436e6d2426d3f7a4476bbc3640e8bfa6164c5f01fc88ef11d45c1cd13ec47b40c94a48e51a1f29f38e9ebd069624f9c4a515d9aed71f9456e9ccdf311b9fb6b44876e21d5121243eaccc3232a322e01aea7f7da248e9b349e4e756385576d936ef034a9c860e273ee2859d1c759f61c0cf15249fa4450800fd2efdee46f25124ad1b81b9b36f48f52fd6f52fccd64489a1384fb47d8a1fd72f43fb00efcf574fc13ce61292e4bb642c6e078782c83c3522528dd0ed968e68ed7db0c46a18bd21a7609ed7b8869496c3da723d166db871502ae7c19689ad3dba44c78028ada1d27f24d9e0d22a69927406605c0fa18d4fc5eac58c0bf0945ca2289e98440d8a14cd2c3dee9c0b553ba9c64681618ebf158b5b507dd2dc7a36e117649ce70e51c4d7f38975063f85e198a10d7c7ab9465b6daf6b178db64b663ea5ec0154df4de8fbde3ad860e681dfaba51c7cbf3e2d9ddf966931c995c18dc9a0fd5028da354fec2202b4eb3f8d14ff7a4eacd496c4bbdeb512cecc2a1f275b299c3adf77e2b1906a3c3ef6bffcd1064b2d4b74aad2c02db154e41ab34563251a6c06b01bcb5d05a81047d4bcc0994c52d1641c17c372f573bfb7c812d4832f15ed5027555577f3e8f8b6e6032b373b84ae12463cede8878ad2cb8afc979fc7b7ff473a8465912cbd32cc3d62d56f1aa1ae3671a8d3b3de035556f4cf5bd8150183aff3fcc6030538bb7063f962ca864c58199ace8e1050be21d82d5365ce45f3e7ea3e97339a739c16bde408637f687805e8dd31b493a3e280b2796ea115a55458b96ec5fa45b95494e99c74278428ee9a735193291226e0cf407ff8a3b8e1d3f0c3b3ca1f7bf23efdbcc7fe1e287bd76fab235961a6f60a326243713f38c9b63112970399d3d8f931272fb225beba34fb389cb3212e75e3a6f0d6da1a494cd89858b07150a8575ccf7d47bf597ef42c05b44b15a3d2a8489937b3197ca405d59e5e29d0ed2ea0f0ebc700ecedb0caae3748753d9aea7c9d9d149b0e4a228f76c8864ca062e719c20dac1da58bba6286994cab790460334f4a826dadb48ac40ac5b54adb44b881ad0be52a09cd6d3c9b4477c22ae3ae57b4dcb305a50fe2accb1d322bca72c47ec72b41c1ec91f30774c93372408fc6e0c48a5db9103de2fb61fda870031a032d55c59f5a32ee2d607755a2f8ae2bc4f9f33e97e698bc6ae3a45134393f426f929060303bbe721b8876dfa1329af31e68fc293327276dd7732a4e16ce1cecf3bec48bc231fa3f9b5bd3449ddfa675beed857b0d920c34c58e0ebb9f6daced2a385329bf87afe0457d9c9a256a3a9701232c2957dfe7c234e525c8813c4c5118c478644595e4f7e55437c0fe70f74742605a0488fc8b54503992d8ba5b42ab6dc55a23115dcdb0ba85bef7784afc69343b930a586edcf56cc9f6342c9b7920ca69aca17f54240545f6664a8e96aa7b24ab6a8816488e10742cf6a6ff4c4319c1bd108339a0d452e400c97b7211aae07112bdeaf1ff3605ad331647daabe91034ad1be99c54a51841ba5181ab7df4d21dcc496f8b86e1739b281b836b02e00064a61e54855678b266d055219cb6c71dd5d687af890dac8f2cbe498a11d919fee0cffb682dbeae7e9d8c5e3720deff438b200cbfac1423f0955d2851dce4a8c4e1e05e9d9d6868e6be57c6c916c51665d340d26e6b0642c6efa392d69b33338c57b7c38a6cc100b6c43a16ac0a481c7fc5f3126907ffa087eb3eaa5bf444b81fa7ae0141f2423979d0609922fdfc19190be0156f1cc15a0f5181664735262df4d6380272ee27502daa52fad6c750d8ddb28558bab9794bdc0051f52495e3cadade6b85502e448b19351723c7c5b1250f90200589cc4fe8f09f1e19e296dbc51bf2aeb69398267c9fc7f0f0f734e38592c0e87e3c48dbcf41c9e306784159ab146510df0be627e923b6e3579312c939ecb3e7931ce03b97005446a6fcf1bd85a29ae4f4e2a378a431f750f63a0b74927d16625712595a4cf613240b6bc8f772427a28f1bea72e23dcccf10ee6f9061e87ca1def6ec8dc22fa19b086f252700e082a566307290f7915c40dbfd7078ad8d400c9bd2eef12ad124727cbe44bfecd7fd2fe9b9297ebf07fadf7afb6d6a1e9926d9a41422bef7e190d7592f25e7065f15194c9c960c6cb6e8e2a515b034a37821915781237d729926c6081b67ce6ea8e568d42ca5b2caf0ca63b5167f6e9d2972ab71ea755896273b7a16879b2e3cdfe3904017e765fd37694f5413e9e8740492188abc543080b893b4be5db916944fdbbe298f11093d9e71cd49752c9979c2224f24a1729b54d2550594156c300aeeb2e69c913727cd59eff4920fc4f2e9cbf074ed3356acdc5a018ddb21e546b198ffe4b9ddcb2ab15245b1c30f49417333fa226908d14fbc88177ebe4b9951d6b7314b76e233d1b39579dd036203a276e2747b096ec4013a15206947c357f5a16ca4ed4340a91874f4715fbeadfebe3f01c9cbb37343b685f7afa8af1e06e1ae49342b0dd32428af72123d8b341bf97b78b73e1346ffa5fd93942730dbfed9bad44de122b226d53e4ff19934f79f244932567f5f9a4bba696018e468ad11aed0bbf3080b573419f2a4235f630c1a15cf3e5959e676f5d3e051e37857a3a3e20da66bd694ce063f971e12a5bb9e99f1f3a77fd0489f2562df35fdfef1d812ba87e41c9de3e3ce7556bb9f857bc83b1588b3a328b81e7c28e6897a7360d7f259a627ffe7f71e4af1261c0c9a7835c385976d705a9263b5fa503bef7f55c8b632ca33550424af9d1ca688f034cfb72656adba5bd7ecb39b65b633c93afbd70391dabc33fe21d9d1e0d290a1d77b67e261a72496dbf5c93698cf12a7e31e343257ff6da2e9fab331a291c66cb175d4ab631b2aac4a27e99e497370aa36250df266c58fcc02df23912280ed276113634a3f56817c6f7bfecac773352cb00cc59ae0a55f70673db2b278276b8f38c77598a0b2b75cdfaa79072d541edcb6146e1c396b510c4da6910ff7bdb3af40bfd3ebadbe66a60b82148411e4f22032d37582dabdb96d09cbf45b7bc87c22d0035df3e3f6f563d423d3816a6ea01a9472ef606e4d23f9f5867ebdb03a8789c94108a6e1391ec0c73444bbbfb17e982af24d602993b59159ec5eb6b706b5291903947e43f51e33ea5c90ab9d9ab8297c2136c85aab6dafebe00f4be73f5623f141eeb52623b917f4baab017977ea2a35683293127fef5684e2a6c64537eca9453febaaee4c6a2528f8a1e7ba763f1f0304e7e00a84a39c950df0b7ab94164f393edc59391f5fa7ab838f85bdc5950c565f10ca45fba45f56e6dcdd8c5f0a2af799ceace39784edb8b68b01eb097ca2b78c0c9a1e4956d19f598f8a3997b49c247c0fbefdfed293c5cdba23a94a4280bc4206b7d2a047028a4d31dd6ad1f3e58c938003f4765fbbc0869fd1bda50bef94c1607cedc083d9f5eadf74266e9c9a69f64a8777b74b779738899c5f31a1c287b0ba88f433a7e9718f69f326f74a281f48f62a8976836d112830ab76320f2dd4156ee25c884b0ec8bffd777c7aa28fd450d87e245525ff109c3321f9be69018d1331c30144127f2d7dd058792171f4e070996f00bedbb0d9bdd6d766141e79bc4449a333420078f6a2e263c941c1ddea79c2983e1d247f706c5e5fa1fba1796810c3489269f13b5f899bff26b05c65a9da00327de316165baf2262ad8b700d98e6b9a31a0728c29967e6bbf81fc7df171d5e7efc465fc4977acf3adf5d17df464ccffff9651bb4ec57b39d27dc60235b5fb75ce947dfa18afaa1cb799e9a6936eeaa08aed5ba946f010c3a5ce8bbc2ddfd538bdee64193f15f10014dbc0886169ed93cfa44a266a838019828239be7864f28413dcad7e3e49c16f1681771c452f3ce61a85d5413ff505c5b677cb2c3665c33e85d19532b49a63448ab0baeb10d4ea34b9f518e1e23f2c903c9989458aecb6d82d22ea392211ba02381ea6cff18356941914714ad6368457fba91ed03ae3dbac9f8aca8861cf76f0b3a384b022574e03d2f820adbf50530d894070f13dad722276027df9e17a717e27cebbf56e157be6c66940397ab292e714a4c300495ff6d1eab4e6fcd7db575a7eedfdcbf747dd9f6a7fd35c2e2e426a08f4b52820497b28ae23f4dcba98f73318a2d7c7b3a8ae8450b2557c07096210cf36ba693f11093ce54649f1eb398c52cb220b71f46c3fac9f3c4c14a7fe1ec125b24df8ba2cd52bcc1c96be138c54da08880aba4fbf05a187a7bec2ba01c7737641e96c2472e1656672f4af0e4f46fcb7cf0bed66d09924e7462a83376587849f6ac0b2a5d178f1a5be9599c6998792dcd70226f9f70b82252a3622d7b71c83a81c15e615dc974bf2aee59a9c7b7c8d0363b084c56a0814dd3cec0cb4a7a3173f56226ae5c0e4fd99f90d56184911657ff5fb6e95d742d13d5148f102e5573c62859c5faf551eb0599dde6a89132596783a1254530dda823f5d66a63b0e03dca08b9558d8eb6ccd45ecb70932436bf0d0e6cf0986c05ea7ad3521ede5b9f0113e4e9cdd6e574d6fa55d48957b9a3b4d2d790f591066e53a1c2a77656cea516a8bfa919060b5ce1e508221a752a62a44fbace31ddf6a45d865853d090150b29892756984290f17ed5c03d50040f02371670e92e447e64bc1389d60592f907002ddd42aa4b90a9026605db47b9d39327f8116d921962a9369a3be8d717a56efae18ec54b90f92eb53aa8e6a92c55cc1dfbcea7aa8dac473f0090d1ac3a5851b6e3987e46f21b8d8464425135d23f8649baa10d90e8b7a202155b83aa1cdcd64aef516dad4bce8f40a868c6fbdf1ccfe41692c2b5afeb72d513bcdb47d1741ec93030bdac892fe7d79b00cd838b6a5d791c734af617d19b20a8b86613950e29ee55c5696c60c79785628b8c0a3628dc89943f3835432f837fced28a0f4b5b00338da0c469c7e08a2ac8157b16c8ebc06ca34a338047aa30f13dee51886143e1db6dda615757e0e6cc563c836d92452534a065707a6a7e6cc5af39e12efc85630fb1ba08fc3ff875aabbf790aacc2187b83a3b73569936a3c3d354a18359736f38550cc23fa7ce3a857569236f5583486ee3043b978e6681719e8a1cc7e4a6265fa7aa4491e82ae97d809fc017d7f31ea883ff9787ab08032fe804c66796c387ec42a14adf389f3374db197402e2566f7e41ce9971992d17ffcc97ab96b91ddb15d9103fe06f5f03fd6323165a9ca86746cc4690cb8bc69490f457b7ea4f60415cf4b4c0b22773d34e5fd6143ecd3955a795149d365534d33f1e0203038cecfb61dd92387e5586e992be1e33d91d78fcb9e149f94b2e2d3a615742d889d4cff5b7bf2c7db4218b63d12189bd5bba9060fc6b2cb0edb12153023d76a910ed9e5591aac47439797ff7b8a9e42e1973575149245278366f37032a663f501915e126a8aeee52daa7d671b07e6df51bec3a97b52f82358b748486178a59258853a67021918e10d374dcbbdd7d0b6358ad43af8e12437223bd96967b9a51b46bcec371a67a7ab8174595d64f996382325f95d06957b5c05f8da12c7fc3c905cb4a800c188288203f338647faabad5cf08ed2be66fd66ac61319fe64fe43719f6747524474933afa7cf70ab7d655ddd3f21b8042fb45012337d3af2a0c631b42d6ed362a912bda971f95a658178174f31fd6805611530a8a08e2fb08e1aeee1e4e58a52803437c62daf6118050f308dc24d251680c946e9b92ccd96b2c2900a7aa22d6c0187cc4e8dce14b877deb84a63d4b9b288bc208f174cd2238e19b3919a8275127f6121c4c792d8ac1221286b12d6e97cd98bdd02244e1b32993fb3ba61968be6d59bf3bb62b45a7fa9cb322094f0c8f6d0cdad6a8613810ade724b1c04dae4f559a4a919f7ac4b2c59bd71c183fe045b8a605bf3ecc06d1b38608a7ab6bd29d349e9dbb583b2f07b58761d6f1efc082450d00dc752af1b0e021ba7939194f68d20b95bffc24fb0c85725b26762f4a7a5203d305d0aa33a7a1f7b25648eb37c7a851a2fa0670d684e67f45157c57959d9a909198c7fafb359616b0eec33c20894f40a48fcdc7bb7c148a79adbba80e6c1b1eef85d228309d68728b30399dc11baa05aaabc27e4aa7e95a13f59b44aedfa9136f782e8768579bc27a854a65f8f3da7ad1bb17a0bf558af8bc4e9bebc7415bbb21c8256490dc63003204d99884f8d2cee5149b1e06af7da01cb91c4e28906f336bf90fb11f0c5df0e9fca491e4909448cebee5a7ac7d75deb8fb672398d20a92675bc255ee16fbc12021358f54cc9bc97d10fa898f4edba150060f18edefa907c2633df630022c1a205e2c485181e31fb6d0b7bad880b946b9883a2bbd13d90db3f97c6ba73ea4fc1b533a073af74c70ee260ecf3ac8234081e036327bccb67a308b5f683ec199ed45c623931fc58c89839120b4ac61eb317d59c195089f34c343123cab58920015369a70bb3b94e69ebe29586621d1a8b6db79294dd5f5b116f44b1f579e21768f1844102a910fafe1729a4022655baedc2d2537223425c367042394ba517d40444fc3bdf871e8eede6982b0ebb42a890bca15d4b4d1e17c6239327519d65b8c5e191e2e90d3213f7e7831681d960240da0b266b9cdddb521c9f43572ce3920645224dca56a22c21d43488fdcd4b62bece34764c4d2227f7c454296259ff24d1445a1bf4f1dcb8768203255fa15a581779b0e3af691560888338c01025d9c18e08f2baa352af59bb65f07a5a8309c9c59a97336f0b62413f871340eabbdcc90e71478b4bb4daff1bd15ad43838d7ee06de4b1e837bbd08ccafd02de0c4c88fe140c978f054a6f01174571c94ad131ce06b2fc80e352d53807f382adff8cb38fe0781b82a1179da3bb5822458e02cb2bc0e1b2affe33e1e1313cc10e202e07489dfa0a1e1b2253d9d18f070880238b673f37c7e4c60d74cc2f1b93f3e6062727e7c09964e0fe34b68adea20f946dc306cf432735a0ac864151e30a9c6bb8578e1de722c4cafb98941b399e051e2f2056f0c786bf177f881286d33de11bc18bf5a98bcc3cabdcf59250d20383694efacd09ca210e269be8b61bd2f35071786bca25d547f4e195ac9e878c43a7382951176f9bc0d7bda7883586a442f1ec3aa3f6c4f9e82701fb85fff5c3d6f7549be26fde0ad9d19005e84c8e6f69e0f653b636c148c3079f670fbc687225df8d28287e08a87534da374ad8074226780d3e99b9f244f9f89c387dffe5e1f93f900f074269b3eadb4b42e57691a0cbe2ad09ab9fce573de8a0b781086fe8e5b1dfbbb1138114d9e3d526037723b3e99177c6758ff2f941063ce61587f359f78a75b63ea05fc1b4d15f476d44c224cbd7471b6942a53c6b57fadaa89574ca826c1d20b453534b7c2eec7c25988fc183dda81d93633e8823c8fc28f2ecb8ff205a43b15362a8112ea93cf8aec32a716535492faefff45ba7bb603b39f60261a53167a2b5e239e4158614a80fd13068d7641b9df40d11825713998d6c527afc0026d61772e386d984bf3febe975d99008b26b820f603d376af024949c188a10a046ccd5f6bbabd1ba6266b610e3e11741d3cfb8105f6b996d3be612ccc9ed16544f1b3268d081bef7f37af12767d2ef8d0daf0fea183df631f5fe67a7f4176be127aab93944d897a509ca15b2575c7ab35dde5092779119d201cbe3eb372fa9619c98069b9890645621f5636428548f84e01a57825b283e24ec5f2dda6fe89025141c5520979eda27e46bfcf768f90ac2b318d547f2a66594522609cb180a4436bf1ad0a6ec4a1b52063cac11ceeb01cc6f75df6c94343e930ee8f775e3de09b1a58d378d1b1fdbd300d67d8b3a9145e4cc3bbd8beb7c20312704559932f39cc980022f14680e5c85466e145d6540f9e2e09cf2e300fb621b2b80c807d6738d3669f2b077aa059eb4a686404958d6ab36baee364aa318dd9a6f4a69880b5e9c1c1f5c50325f0c7e3222ebd4e55ba81dcf933206699aab2eb2e4b1d2611a474c5bc0e7e2d55a5dc2bfb5fd3044cd0a43562b9d0f866caebded6068fc5ea42dbeea95b70b1e135bddbad2028c06d8514bfdd4a230d38fe4c7e5d1ffd2456ef3b9ce7c21149f8469289f67ae85b7c5b8721e548e5f6ffb0752605ef199ba6bb3492273c095635812eb604480e78855292c662d2986b5a2377adbd79c069fb5cf90e2423b0a79705eca3e489b0fb1b81d5600f755ad2d16f15bc3dfeb67909505a8bf78d4cda2eb7aab142460c2bafc5e899edfe52488eb1b2d81e2197f5f97297269d2849c9c786fc80c31f7f3db86e46edac2096f2391fc65fdd71ebc9be22b04146334d8d7764caf928aca455dbf5009391c73ef1aa9afc7e84a7a3d04cc39925b9c2d090a6c33f30898c156f1c3fee315853ed47966f5c24057d399640960b66293bb1d6d55f8144987255bab0f8e725f26b6a56657605d5d14c413596cf70ff591ab8eb6550cbaa4d55cc73a403da7f81eef156cafbc8ed1f6e2a062c86d6172a6229ad93198ffcda3d065f437d8e07667a22b0e393db5943584989dc0290a65027c59728c00c129b29a4460e2420a38e7cd6e72bf9fe5d11e91c06c0bed3283a718609f7dd155a5b2226be7708fd31a613b7700069899dfac93e68fe7dc278d96c4b1844a65a763c90dae88130487baf6e421c6c32daaea2a0cb81cb3f3d6a1b217bdfc802a67c28424576a73fd1e0069c938c9c3b7508b044ba6f6dc84baae77de0345580a7dc4bd56e3bec7eb862f5484b05be0e45eb4ae8a58582b1921a5041ecb2edd0eaea658ec2632cf30c2220c0b8e794f193a768ef31e416114600114d59ba58e790431d13a1e952eaafa5c354691ab4f39f0675d35b488ed6654f0f673d62ec09a1dd8053c29f596ee4c34067258eb0adfd30d83bce27e2f3655587b6aeb2423176bf80fa854a0ff430f3b6d880e0194144267c1618ea5b5b1e450b31ae00d77085509a7c7aa8712aeac38af4d176e55b7efdc1b0d22c5893f766a95f02cb9436481d4854b03ec7599e43f8a9093d0a5fb11281e21ab7a8898078bde1b4d162e2d59668e5619f1d4959b9e346d966456eb80de2a4c30edfb7d7630283a42e32658f21357d4c1ab06036f561ba9c978a7b5c9b64c4486f1354ae5431d910ac98ff70c4f6cba7acde81da9a0b57a9ccb6cfafc8a9719502623477761623596798265bc219bb17c8d0f0c8939d4c000fa42175f80b2a495a9ed180226214296fcf8e1df168d7f0cac34920e291aef814aac883cc95bd19bc17253e5e","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
