<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"b62efdcf63087d02bf40b15db1606e1805004e8b2d79c826671102541c009934efdb8359cd8c06d86a44c825f196958d1780622a7fdbbfb43f3ceed68f47d5e15a5701ef73108b28390c16cdec29753c4f15bcbb469fc10d830d71e959468db9dfb805b291703474f1d656bbe5a89ce25c8c0a594bf9098d0ae06c94d3693496ae5135d11fbbde41ca94f98a13ab95e538df6b9c28e8a92de5b278bfe5135ff900521540644b04356241885febc1d69e50a0210dc292a5a6cb0042534fd777400f08565df8fdbb8969190db63cf7b493457b217156e4e488d51352f09500379e24d0cb38328b648e3b9d5159d6db9fa89ba880fcc383e734ba1e1bccd35ff9526d6061269aad4dcfba1453d7b762cfc3d3f48ea6bc07c51d43a93ddc3f7978f6406f701489ecf1c3437360110f9170ead64450aab298c4a1ffae9626866e31723acfc06070a980cc8625f926c3a53754b8ec1bd63acf3b1f78426313a118266db8084cdc42e9f05efb5fc2fd8739e2fac46a9b415d1d09c62a4b68d81753529096acdddfea8690c42cc927095a592df481794d3074b77f156cc47facd642e259acd98e63c1bfa2da8a25379d4a8e72b9b43cf334084d4e79e6ea5d91d0b3bbaa0696cb86ca6bcfdaebbdc664140bbea85305d4a99254799e439761dc1cd67abc0ae0744ae9d2b17aa0e18066a69b8e7461fee0a3845adf5c74c55c4aad53791c82e7e16ef9c4366c44f4071fbf6712ce8c3e58219b474f9020d1f07b16f7277f54c5116a1afd3dab42f15ba2276160bcb33c925eb3489d63f55c79165ab37ef4152dcc19a0e3f29c94cb07cdb93aafb84b342de9423d8a4092e3698aa8f389db44d40248ffa84571760ab322dd20bd830785e4354fd758b33e60ca0269276d6c5631b457ab2f40e58ffb52ccd6f1b8ed8b3c97cf66c9f771a10779c0f22f5492ca325b1b1d11d11b71af16573bc14e69f606e8bc15e75ad5da7df0c08e018394f551e582189f585faffdd19b4d4db7ff0ed24221f854e1d68ca8f2a7c5df29dd0b18f6a62a058b8245056c8845640d1905b55c0341737bae33c3409f1d9d543eb38d4a40b9ed24188dcac7a2ece21546ef3476ee1cd4aeeb09d58052f954bb6624ad72e7882b4a0aedab4ba1d96a93252c9f7f224a52de08aab7dde63ee79f0cf20477fd28b4f37976e917e36d82d71f7e6c08ce7f400c56d130b63f07d08b47e660137c8832bf7f2ca0e458397ba1691a435e7169b9992859d6bae2a571b5f2ae91e81364e13e6c3b2294b709e58d99bf36b711a596ff61c7baf781e3653cb001584225abcad4a4fb1c5b1352577ce6b4f7f666811552c8e730110242b76b8f0c2b207ee93cae24350c518e3ba33b05a36bc9d5ec60309177ba013d070db3dc1a57229b2ab517d85445288af014c4cb20c7c7c36d5390683b1906206e0a775773d71650ca16f4e6292d5bcd485bccd17b866d59947fe41487d790f9d7aac939866616bcda6b838ae734ec38ce393574035e337d95766239db542d9f7e35b834b0819bf4791be0c040469b2ccb091bc6a3f9794782e71778d01ce1eeba068a947d08dbb64498a6acb3b3057990d0dff20255099cac8b02f6bee52a24757825277a2a77a7c8a3a80dc644897898e3c6b4da8d5edbcf6cac390cec9c5a23e737a6da215e87bbeceefbd952b7c12fde8c6fe8ed83492ee9bdfda216393a28318aa9bee576962f907f1714b1748db51b33d1b237c6d1ea11cd55f98c9281a7901a64e1d622c9e192ab08e54aa5efb4fb30c4e9fe47acde02e29fbe5459b539137558d52b3dc6b7fc8763c9cdadeb52618fa4006e755530fc0e20b69f22128686515e7aa4a267f44d82dd7d556171b0ffec90a60beea9c08cb30c43f8c66de1116dd9c6fb2ce233642d75f41f90dd515fe526b548cf9bc78792b6a83793ac351d58bcedfb37d7e2de36533c77b5ae870281f8896060cbfcdb68c93b047449038469e6df5d288cd474e5aceca58a4f1dd2acca61bcbc48feb0018473d88a7f5add22af1f2c65da727f045e43e714c448ceadaaaace6c6543ae037895edda8897cf70ead9e283d0c01e99c6892b37b04c67a88ac230d71fcda6600f4d5575df48a3276f1ba69e150b05414b48882361990aa15dd2b2fc76919254b979a3cdcc2326630378e0daea6f801fc45c6d85a1e317f6b7f300acd5eb48d2e04f50a0e6691def2c763c22e818a6538d46cb38388ec12a4f05923d57888d717075172b0362b4aa8531aaf21ede509b9e6dc31aa689e2550e250565d39dfebdb90d861121e2a4e0a92d9310e3ce1ed80633f548d31c93d5fc8f188265a519094f19256ce4516a5fde3a872ba346f57731e7463a9bd54813669305f215eb3b78fc17715a64fde325b183bd062014e0ad347efff790c6406342fe5a8247ae555852f6562d097884c7c42074ee64cf7444748d5e3c604ecc4dc0196815040ed3adbcfcc71b8b545dacdba2a37d019acb1ea980fc8574c59d711f0778d9a089e3b67fe361f8330d4babe2e7fbf61b97199072115342a6e3be100d19236e0a6c3f2952274b97d13b635c646442d32c0f71a78b58bb1fc9f3a7581bcb49dc58749456095e85f2c9e34bbb39dcad79df565ab3f55e76b9c78857f87632df6837eb857a13ba529beb9c96536c5728308cd389f4c17c4eabe53929d4ef5d3532c47d3b7120d1e3755f75f1ee328bd809f43200441e9ba3dc92f442047c2b386500de955c68ba59b3749f0e7fc2606e5483e95fd22ca20f51e96e91bf38597fd74359ae4c12d305b1c312853249570e3f960746c86503becede01c32a4069ff40fe93e3c5b74b9cdf11100abbfc835e09670c1ca0ab34cc0f3b0ff67b532c0abf45580caf9bff9d70472aa979ce2148adabd52503e2c0589a8c9954a79b62a91e8b2572431118166fd7598b3b7b3a170137fb36fc6d905ad4bd8c8a3bff89c97dcf5ca2dd211336ab95c71c9c119940d8d7de2a4f8c3634f8f25543ef8a62a51f2edaf92a80aae63205bebbe78c99934185570e1583dc7fe77952ab543c919259fcc9413bef447900c4b02edf3e9ca6abc7e7e0309b167a31dd30a5d54f879dc60be70ce267407dcc92f3a94ec358d9621463f52ec570212eb4deae8d37dc95e1d058c489b399052f02926d3b13d9463ff1ab20f99455ce1b08c14d8433cc6c81626536cf6e581cb32fdd911072a8675e8e3b5216a1514a1c0aba30f510fdbf27b24694485046bd19ca443654a7d28dd4b837ffed9b5d5e49a0c86ce74af5180f2a3479f4b461b196d07270f83b4d1280d0bd3c126f5a16beeb680b0db45b6f8a551f814de6e4273dce4267e3f24395a9a1f4f9b534625fd57d693e55968a900f4454dcd658c402f5de226563b8e90fbe18473eabeaa554be09b730dba5f1aede34c6218cc47882d972bf9d1e2302d913362a94d4b1fb67cda89060870c31f27486ed118a566dd9f1fcb4d7030f6c09904c196977448b63115f625819752f98bdca60b4468c255c737d90ef65d356919d917e33d4b0a7099d0deaacfc49f92c62802d668dfd6babc2c2608837e9a1a0cc7d0ace2485f0f8ec8f5bdc2954b23fc9efa37352df3b9f1bf6d43278bc70ae3a7ad1f7a79465f48f027a4ef209bbba3ca3ed8d36546d29d17ac43bb65024cb12a07874b856a6716b66e92ccddc94130ed675a17d2c452d08764cae9ab4d2b3b525b9a71fe82a32590270076cbfc5ec211bea0b79c3fdae59a064c93afad95e86b9d7df81d4085a5b940232cbc478673d3695a2544028228922b23c50bfc9387e2779823d3254b54bec8bc1b5a9dff8bcf33e8fac9cb03d6d77d246c5cb7ca8d9572edcbfc541d81e12c7f0894b25d69faca5f7c998cb2cb3993107a82bc25bc2310d5a261639f3a0020ccd2aef3341ea3875b1d06ec7d6c32ca1f3f16ff2287b0a40fc325e64e2e784d8a7b2d53cd7677ca9fef1964d4ed4cf9b9a07dd6378288956884a8a5e60404120ba8d169d95f02de092bc55eb27b6a8df117a073dfc6d182cf31eb8cfabdc085b5944f5c397509bbd66c7b513841e444740064451290d4fbe9a54b7a2a3db7914d79e74794eac4198ca9cfee575e2304c1dad4ddc17ecafaaa8c3d553b62726fc3381adb3655a16085260aa0c50ed20fee2ea6aecf0f0e5cbda46a742c2cd3d004543b7f54f23b43c7087d547b6d68f3ccdaaa9041fffbb8f36a18293b0e70b702a70364bd3b4a7dcabdcf03e40e39dda3ceebf7d8aefd69e13078a0c94a15e1f2bd8ab62e25c7143992a5bebe3d4ca267be2c22f43795e89ed791c356f05f4015a04c25139188349d895a16779dce175c7bfa2484771ec82c3cd35334d38a52ebd895292ed6a600bac56422acbe2b91013fad91e1cb2e107fb30db7d0d4ef694598ce14c1435431e6f93bcfe988221f7ac83286bc1f93dc2cb17c0473ce02fbd98106daf25904d6281146982d491eece55274e8eb7eaaa6c3fa032b8c206c19675b25701ae20179184a787cde65cf4d7c7aade168ce8829bb44dd9720408a73cfb64715ec1018afc959297157db7a3e33ed15162c1224e0b8ed3c9dd51319edd4b38830e693054c1e80f94987929eca7a41be3c0a66ea39549054400f4aa690620903b0312a885010338adb6db18c96f96733f98d85e0b31af3721dadf4695aa890301887218249be0dad92376c8b59480d858cd94afa0ce342f3d2c0f214bb6b9978a33aa8b5b2cf6f561018b253beba448c342055498acef5755549e732fbca40c5455220e7f16d2e02539b5d2c4425a46f91e83244fd600bd1b07298a380a1380bf8320b39d921af9fb74d0a9fb46b76c212ca717e67ae2ac0711dccabee25ec53fb3891293a0c470ea61dba70fbf9e5700ff95f6b02a3ae1f783976a6547668fdc349d3d43d309dffa1da3a0cbdac80c62f960fe20c656f32d75a39fbfe222791f03a7f76b4ee039b066710d93578f27b36be194a2d850eedaceba661f2f4934f38972b9159a69ae233e22455d48c9f3e04a9128ed904875e8ddeecf8054cd82b9a977e4f0065e11b8d3b467051cafa9a66bb166b859a97634deb7ee4a62a7e04f63eae8848625f1c722e47c4a0aaa11bb2d8289594e48aa2335edf2cf1c21fdae202a77da5242f2114b92231012abc4da95c9f4d90205e65cb12281b8bdf3f35b527227fd864e191c375379b19447da46cc1484b7ed6e2c555d9cd3228f8c03e6bd7e96291c453bd861e295c92add0a3eef95855f3b568180f2bc5500dfbda5bbdd4a5f92a434c008e51b9c6b3aff1494a759d5dff7b4048f39e66bfda2607aa9c03869d55bfa26d162125d0d2b57b64d68fbbb02d1aa59d8a27463a7c11f491b898a6d9688e7bd7116e10bb93eb78c54d1d0a12a8bc4fd3d8a63382dd5f73d4a76c2efd6f041ec86f858230075f3876cef42ae9c92667070ddcdb09e8960a3ae1f92e1738e4a24ec56ede34a4d0f2ad86e1fcf50e7a2b61f6566df1576cd0bba8f73f87a34158e64223889fb963e684db215586532f73dd624cd0829eadf7903a31b7792ea2fe6810bc4720eb0931009fcc5a149ff1b646add99b68afb8efe15206f327fdac8c7332431795f8852b6edab5153ba14945451a179bd5c245543f6b2897a05098e7f37b184c799803cf5a0c82e4bb1bffa5bab1d8f78c1f18aae4b4ef535fc7e0e961cce6738d3ea50831034b017bbafe7292a52604dcf7af8a5fccc09e9cf0f146f45abf68179d28f9bd089236e65f18f8c924efe9b3f90f784d27734e88702e01e12cb4a17aa9a6674a199ba511f27713c8482735572da78d82700e2e317717ca6c9cea55146415152a693173b9a2dab020e23e92a9634cd06765746fb2dcf10af50f32576cad24feb6e75969c39f036f11061c8ac2296fd3c480babb407c8eb6512a57cb77c892404715a4dc5f311596507b2126976ad62c97c2d4c929989465caecbceb8b00d65c1f55b23d2cb6fb67ec8a09f9f5ad38b74e5e8efcb6db55dd2efdf9d497450d9931e3acff70e8bdc919ce7dd9d6de597ee9f13e1920615d5bc4b6fd2b094b3eb0c844bf12186da35ca39d9e8ff6bdc7d3d900222263aecbf9b843330cbd21e036e9fef040aa4236105f19086777a230fa21a1804bbb022a78caf8de834c802a11acdd9d966acffeb6eb139da8fbdf368ac6bd56c2d64c41d4ff1187ec6e87dbea118afbf9bf4b116e5a22d5f7363a02136bd442d92d96de759b323ed33e2a03c9519eb87c8034bb550cdc819e1afaa931802ce209bbd00e99872f9f088069f972b95e021b32ab636c13c601424054b97c029ae82d74fe323c3ca605ad3014d38baa581cdfd918d29588cc60928d623c2bbcd396a1c55c06ef9a64b614c543af19e13673264cb7234bdd3ae8505fce2e43f82206f3331690d91ffb92f27cc26e8a0efd8744b583c80322be8cfcf14032cb9da61499604d623782d20fdeb052d21ee20d357b2a2c65948aaf65624e2ef30383bebfea6ea94ecc7a617a7fe40e463c6c818382c0f679eed65bdfc5e2136b188ccdb6394231904c2cdc551b06ecf05e5e225ee42a1fa5e8074b4ff71a5aece886438421e146d2f08fc9cc403ac13aec237eb3f8038c934fa1437f5171db6b264643463bb8c26c893cf29a3f3210b22f30f3d4868dd2757cda5987027fa9e8963cec8046292584a54a53048e2bf7bfe5440156de56b3946e052987814bb40ef0ea9b8462dca5f4e521b3e851cffe5cbe1f4f9b8ee2f75f9068c8d0f7816dab823edf4d8dbb8dfb066047583e2bda19486d9a8de265ab7fd347464b0b39ab2ed5eeb2678fc17623c1e4a6f4289994100d6000c4139a9bff1ca4636b079808f7621852415e04cfe9a7272726c10798f05699fa0fcecb8d7b287fb76e4a51958874df70e48d97c10c7fd09218faebaeea94f2c8fed6f5cb484f6fafd6265f3abc6ef92fe5de280643e25bbea6ec486b66c9d9d9b64d69eed610effc6fce48c81c7e560d251fd0e81a6c57db1cd02fe0acec0065e489af024539beb7bd7b302869d05beead97da41f2d7618c47089d3aba1f157f071569cc8e6e857e97f89b2b0f3d593d58f4381932df21ec7d28a31328eb71083d7d32fa1f9bb7b792fff99b4042f3031118ffdf6e81c75a0e65063bdc54b3cdcbf47083d38bd3482514860d23d36852a962efca214eb482a1efc8d04fc26cbda98e45ffb6b04b33945f4a5a10a7187ea660e4d524c61d4c19295a8f88b76356f4532809e2e960844ae085106d3f1971ef9d162375fd4eb7247f163c990fff86d33692f3dc4ba790360a289e9a9fb0ed86f2cf00446e01dd7b94a76fa5e142e9d852eb4068b848813e83a9ce849eed5e8ef72e698865a4bc7531bd056ae742f90cf684d42e12feb3339e36482de7a7a503fadd8bd5fa518ae9fc8ede275a4759f98f07ff91232a2b080271f96ddf9021b2be51735e7929cd41547a46a5b084c4b702bbd87b428c0cec8f350f613018031d5744fd6d1cbe41fc194d7ecf70a2cf54b950bcd2e89ce211d9cafdb2ea0dc4816ef7324382dfc95b45010f172e2823bcc681816288a2f84f445b134dcca8a8061d55d85e43b1ff200c2422a34797ea943fec2522e2af5d77523cba6563069380c114f92cd0afd0ba1b8bddceb082a7be484155991a0df89300c57b681afaf64b69ca6c90a55345e90dbaeb3ae36c728880c0858b530691dc565413b93357c0cc531abf574168e2703bac4f939edccb6efe5cad2ecea71f423221e051d48a9f613d94c3e0b3efbc1d5bdc2210c55af1a8d5a416d0796a8c4773039b2ebdd09c42b34b43f9badea0c9cc0d78625b0dbeaf4c12a2b40e670e8efbf53d2b98ab9c934fa309a20607100799977a3d2b877ac4b8e45e73579046e221f782cae22adc76dac0af539599138a55e71e40b9f85d96a9105ea0371bfcd26ec97847171e5992e9f9a7154a9d4034a6a6dd97f9bfb4e7c06f545db4a65cc57260ab667607741511c41a91b27db77ecdfc0b4425f1e589c30afbc332fb618112b1af9c0cd4588b4e8f245715b5ad3948ef448f32aad986fee4c5e1397785d6ca30ac5f015e957df36aba64493cc549e7f720841bb36ab3afdaf66b50ef5e193bb7d9bfc01d00dc1d9b64b759a5d407a28faafd9b9e3cefb14865d176177820d2f8d353c7ecf4924f9b84da698f6b22a2aeb596ff9ee4c512a89f6b8d976a42489fa9f98744ac5d8b9709fe0235ec0f55c78c97deb3ee22cbbdd78db6baec646a730e147f494ac781a685bc8813a7da5dfba326ace33129605c6e0bef38248d36d9b5abee3ce2cd7c1e7fc646befda62d984d3ff8ef49aae9937092a5ba082bb7bed4a44f9c6f3f41d735416cb1c93a355c66a23cbbe58ce39001112c942eaabc2073fe22f43efb29bcf44be3b1c98a91d13ae7fb58a4c7c23982024a00ac940dc0e1bfea2083dd6669f993575d5b545173ef0bbec17f9359ca5b9bc12a7434c29bf7029bbab5e1f8f9d2b1850f7da6e33fcae04842e54b01302e7786ebd0101f424ece34635a3080718400906542e7e6b5259a557b1857cfd27b1eb971238b88e4e7fa91447df8de3b2fff8bffca534683906ae73cc943bd4c560c50445e11ce1e1a8f1285b0a66278537d310782c30260fa533d48e8eb05481a21ae482f3e379d21567217f882da18832803bed8c61f4e5d320e25ebfd3db64324830c38decead59b7e8fb92b981d58ac32fa1c5d9fad0a5085e349ec12c72c19084ccba8bd73580a6e434c896d1e36aae330a1c79e96afab9064fc8cddb3d3df0c583c618263b5a6cb462acfc516ab4280b622624f2c72da82e52a6a828885a1d9525709b2dba9ad030dcecd96b57a4081827d5b47537283dc936e298c64ba7d3a96de46def8089f4eac1f4012455663126097f820e758593edfed3bc4651f034e4396040996c70f2ccfefa577d3724a957fdc2c0b043e4585f47b2f5590f65d76cddb5617af1d68e33f3abd7a3ae4d2c3faa18d48e23739247701d98887de9067e95c1aebe2b0e4ff19590c24cc79c582c97f53a18d0171d3a571cadb5917fb355567d8a89e199cae835052e616b9f352a64a6f76168c5d9e84d4cc7e9d06b76eba63c569ec7b2cf393c97ce71e93c1595ad02bb9062a3b2c0f151b117480d09bb3fe6baee97e69003e39ccd5012efac58359858c49e087fe2c61c672186911e2bd26c2b33ea76a3710691106d3f2a03037f26144943c28c1b1b238f27ca3a29427ba6ff47bb0e308d78203c62629d65d623f8d6eefdf780ac55cdfcf0ef7e574ef5ff3125ad123e3f746f9e9a117b0706cdcef287f1c35726e24f06a080a6f64a2518b6d106b80d5ee3117f9ac98bce8581a83a68ba9a67ded45c4e9056a8fad5c25ff554925b4f0570d6fed25c6be08d12aca942af6a402bcd35c7a6d8168682267cc6b206b9fdef0bffa53d154e21c15ff452f2bb910ac251a36a536d72a28d7b098bfc0fc87debfeaf73863f74801d3ace5d06271ce861bf8de9d970dbe0a975c1382d4c7bf929d28c534d85dca9f6be39db753d8baa130db4f7e10d81c0f667049eda71979c0c4b17591ed74bb78edbef73b45c0baedbb4eb45c3cc268d901627f440cf72b3d1165702118f31c18fc26c0f5ec42c067a9c44f0c966a0ea88935579ebdd01afeec5509bba89ed4aaed971651c73fc304bb442ff809c640796f582cb218fa82f865d2319dc17c4301e5ac44951f383560239f71aa76303e07c3e0a5977a1298e08e5be845f10c30a8c5280b5c4e7866cb69991c20b936f7ed759be0208687ab9169a39c67a8882362ed550ce176dea8f46039e0813798267a9904686a0395a770ec284cfb64e1ee856338e48373019a02278e47f333791a8cfcdba72644e6ff175ad7d7d59d76c4dc5f3663e5e52e110b5622a6fb0fe25e93496296934b7b422b484c24a7de2fcc08b46bfc38b10396fe622c9bb27a35ada3ef4d2d4b8531d01cf75b1409240f09a2a0cec1025b73625fd9de93ce54580069546a0e780642648abdbd9d08cac1fc709bbcaf22e93685d1d7ff6df7a7367303e22f3725498b04c6e7ee30a95084f23ac139b53dc0269a80244d0c51e9a5939c3eabeaf110597e615fe3d8a6814d13457bffc295bd7661cc5473d8b120345d6986d1d550474dce8d2d5423524d2006dda91f2207112e55da220cc6ed18e079d5f0ceac54bd9481ac08ae072026c3a0bbe5d4caa0e76bc057a4d5a4485387c07342a4b3f7b03ebcf21ede87b5d1057dfbf823fdd77de075853742a00ded3d20765c8122edca8190c5a263b8d7f4765a4fa1e41cb489b7a93831ff8b90f45646efec2d64b65efb948bf3dcd853f1d00208fa30f55b67ede4289527b42dc97a2154ae793b8a512e14633b8e2e1e7161209f554dc84806647f78b9c0a00d4077a012f78f4fca5d0fbc61f1e9c588cec618ae16db26a233f9608934427fbce30c280ad951f839b4a48f2544d156efdc25254e944fc3ab745c91aecf82936bcbc8a5f727a685657e2f67e602c39d29f13ed58f411c5ae25ae39df71e35380e301e26165556fa5b76de08a6dbd376c7807f9df36288e761777ee6209cb401c776cb136b432791ec1b76126d954efa2bfeb9fefa5e1fedca9be6cd13f6c7b5a1aebf3c4b4a7832d01aad83635f63c5252986a54a04ebcc62b06981da60d749494d6284b9c6f000c7c5cc9a4f13eb367057da58ab94325ceb655218e0ef0763b2dc815fcdc8549410864fb37752346d150eb4b934bf53711e6085b8c0abcbaf85619c1c549645867d531ff955a6befe4c751d751b332d62d411b0a4c0d18519b267f6d5719da9eff446391d2418a7112ff3f1c718a95350c0912c958a02d5bc986cb400dd88ebe6045d324931e5bf0874f242cc204aaf696cbe9b0d391043b2f9fe99fa23bb52f695f8e5203a5a0a1e9c4a2814509ace34ae68eefff0bd8d201f34a5c7afe37a7678bd68b57ff3442851c4fed3c50d458b1d2f68193623dab851709a71580cbb045376b13742bd76ae059dc25f44b84d37487756c5ef3168606c59e51a63edb682f02793101367ec6f4215ff3ccdc76bc22c13fe937e11b97753ef7af569e8b5c98b7c09b6b58bcdcd337f4361585b854f67202b7da8fa1b0eaaa8d9842a6ad774a936c249b446dee764a2cd000670fe1a9245b1054a2eb61ecae776ab1cf4810dd301d045bcdc85254207d0331cbda89c6b782af56fe42ea211cca23074f64958084b237bcd50e23582852f108b51128db9065550f4a2dba3aec1cb3450c996bb8e5bff44ad50ed8cdcb160af5346ad542ab2d9f5bd0784fda9e746a25f633a689162c3d6e063432752787c94937097e2f2027ae53e6aa5770f38037ae56010e020d7d631a5d5417d49519678b20bc54a6c32f3e1a8cecd47288a743da93e944a3b020b79296cc5d024e416df756ba82bbb7d54b7228d30abd91810f7a6923701229c616d7610774abe90291b80786c9467b015f0dfb22cff891df19a6788fa1428271ca10e74fb19fd1e69ba936b7a825a8437030073ec38faa09f1440b07e225198902de046b51ea80e4ab5c0de6e2a81ff3861ee4bb2fcf1925fa558ecda87cc7c3e8c4a4c03ab990d0caef4b83a18a0fa490b5dd205326d5340d1a07ed4ceb5d4cb9d8f1866d4c95ee56a9d146282c67ddf7177e907ac72fcda018ba4ec4db9bc70fbc234efedbae79907ad33dc8f055f3b9f43e135a7a425d2d2fa0d84dd568d90e402458ec05624dbdda38f9ba529e4e2f5c3a8d1cd2c024a40e888abc5ab076e1c03606c42313d5b02e445a9bd5a77050509fd25e2c04e085a9e457513b4f08c9caba61d6a4c8ca5c7c26a5082cb95e9a61c5887728e105e59a25d9e550742cda34af195601cc40e0da8a9d51ea4741f38b8d317e1279a6a037d1f9c9d91589fb84ede05e93a6c25e393cfa57fcb8d3e9346dd65370f27d33f2a05e0aad23d8072774388dedca207401ec2fd1f12e30dc08b92f2222028fbb9852900619adbb82134094d15dcdfe5df9ba9cf2c6fbce5453618849598c7d7c02f90e6c279e47366b491bea520288a70f6e38fc62cbea3429295249d4213d458b30005a279d85f3d79c3c93a586686734b4738f7cb2f43005df370367860549a6b87c441c18152ad2009c40ffd5fe75aae16cf5550a1b5bf34df22cfa9e5f05edcae0791de8fbb37d5c865c38f857ef383a0211f0b04b6474421310024a49c4d3e29b8ff2464a5b9dee75cb4b50e658b05db99942f253c917ea97b129ee0c4513ee08848f1ec76f45ef60a56884955fee4aea69c59adeff9f4cd2185c6a7358dbe73a52e8fce0328aeb2eb2edd7b6871c7c560d035fdcc6d7ccbb89d95e9269f3477c9f494f9ed7efefbaf16fe90fbde78b01984cb410dae76ee7d9ca6ce6ba9a85f6551b0a0cdea8877b061e4228c010d2e56113e725acd86c7be782dfbbeb22a97f1fb7f57adf360d003a3f9054bac2ffbe3f3ea3287ec88c207639024211a6f2c9ccf73c33487067caf2f1abf447eac0f673de5eaa1fcdf346a39b2c9542aa0f8065dfcc63071299c0840e024bd1cd126f2cdc374415c60f0a15360bc0475362d6fb7bb11efc289ee2af55c30f1a573bbc498135311ae0a14b9ac0bae7e4a5be826e698e70ec947445557ca15160c23ac00775578902d28728e80c865aafcd7bd7c1e9f3c17a0d2030d751861b3b6075d35a742b60de6f1bc14f1c7921f0ba715461bbfda226ba9355a08f8875e02478b571de34f0ac908b374a695622a5da0652c4bbe3e7cb74ae9c56feea162757ef8789062df78cdd87ad318936dab720473efa2f4ff70f10281a2a810e4f0b342a32ff0108e14d1f2c3825d21d56553470f4be32b97aca346fab0b6fa88b0afce8008bb2bed413e52096c71a44d0c1eaeeccf997ce16cd812e105907a3777044d99d6e7a1a213f5889a73707557a026485ffe64891ebf8598531702c86d5c41ff3d27a9a8bf6987616c22b18015d71cd481ca6df42e1b9fa69fc69ff79fc820dac91d8b7b61852dad18a11c2302d472b3aca50b2bd8f28b833189090e61105bca0744fc017d3d34cf199ecad9d94791d33b3e55282b430612b4b0d493f1b28dab95459e0ce8aab402b35f263056b6bb692b473b14693eb33e6eae123cf22f6297d628457a6292de5f4a13baa2c8abf2d5f6091844482932d750324e0f74da91f5b98ab990b79bbaa2a211d21d6eeb4066cedd6a940b2de48b75069e016af885e63c8d555dc95a5d01bff821a28e9a27097786da16e71d02af5f991279a5ff8d2f140d2d80c744ceb666d140da647c90289476bf70dcd8e065d9de99ed7cb8b5b2c6b783c9e8a891f36f0b96f834b5b34c21edb91c05ebb3d3315582301af181a6a658a6979755308dfdafd19c81ebd1cfe2fd14617e3a0680b10455e7d810e048a02c2e7779386c34f81aa7a96fbd99fbcecaa17c12e2b841750c7f68a01f96c6a5172aec5dc1c90391ab6ff5ff7bb8c8beec24cab2b0599fd6caedd63761115d91433c172c62ea45a8e2007af4adcc482782819ab42093b362cb8f5d5b0c27cf0cb954ac1c001608db5763a3de7dc5a01e3a7e987b6f3ec0e12fd87b1bdcea2ff67abab4b96a74392f1aa32f77153114297d907cc56d7bc5209066465078175d55c7dade74c43c2008c1c04dd362747047de325ac2ff607a2ad4610d1ea4fc75762a9fbe742c8317e711e0e092a86391aa9e3c7914bb8b8651a699043f2877bdd08f0d665bfd0356f44b41c5b1e3920d7a2c998a97c19eec556c2736b956e44909e463b1293668bcbc209c29daf1c39bdb52f1b2e645878cdc9c5cd95d5e28ff580a2f439df054143d96b63aebb9e790af245c68cac861ab46afed4c1122ca8bebf6b06a463614d1ca4983150e79b8173fd7afa1ec4effdc7a2ee80a3e685929406269fca5796487ba42f29df857a048aa3c824f44ca19eea360f3b82df24edaf7652d7f7ab8e1845c32c2840e51c1ef635cfadcc39660167b06d2a340d5af06d1076de865fc8f56f9b5754fe635ff07d8cc9f0a5635dfadb556ab364b42e530296747a30f186ef9b919e1b772df69f476e8dd57e4e774cc6895007650bd20c1ace66916135631745b88779bd2b96077e704e524983695a9647b77df6e35cd50525704ad416ce52a810b0e3b7604c5d4f2c40e38d32b3b2e32d0e7288c99f68c4366152b57d0552ccf3fc3e874fabc9bd3cb137b7c7329f45cbb7b1dacbe69a419c5828bd8857312946bfef67bd2f52ca8145677cbd9f67690145a50b1ede8651e1e02b4cf6f6be3fbb42d8f1746409a9fd9ac88bd6335b4275f61925d122c4604e8e726e05ec46d986f682bcff69763d2637853daa98394059cc737975f469bbb02e71a45eef567be3d017b5e6fae8f8796c9f9b29ea1c05db46bf9d1f35f1de4da321a50619897fb853046c68828215acd8b79322338ef29a98057a676e68ceab3d82bea435cbff66112bc21b9eb531e9fbae3580324f742261cafa3574d46d70faec0cd5d924fd2c679be0d4e5520a08840c024f2d6d2eda04133d237672c1f531b184b1819e9fe8613bae29c1693131f3288b6756c383f5a959ecb213666e2fefbf63f0f435d274d8e7c7347257e75c92251d59798b707706ff07675bbba95922b0b6292d100a250c0e3af32d2557e88c47c1cffa9e6501ae72b22cad227285b69f88fe85e31acfabd57d15e6221d265a0b841465aa7ac9cbc5ef60020f42649c28336b104e36dc07dec27c85cd33b0d8c723cdba988aec6636d0a58eef6de5fc7250a07ccde496bbb2c81ab130dec60db6a4c68f400eed14032163a9f097b8ae22f9ace6a8ba241ae138f8e0baa6b4264f0b20df1b472b8968a212b32191ab614d8d2cd0dbce24386ef34297b2d2420a8a14e150f41da382f7cea15535d6cc7d44d716259a392114a0825ff80e5793fd93015b4bcef337abbfd4dd6120f62dfbfce21c8ecb73660861fb25ee2bc9a37502a50ae7a7c3ddefb7053ea09e05b3197743a0674ed426a44a9dcb14a422f2fb44fa947040d096b46fa8ddfb2b76a14c1d1f45508698f4780b0a8889662d06eebd000b03a7c8cddb51f1ba4e8f493bbaf8e138580c71193408fba3cad3584a9b6d55f8b25a67140ba95333e97486e85851a7d0d89073e767961be3012197aeae647a13bd94678994a24e911756f50d44689c60b14e9473a7b2ad96cc27a3c647b2c7085318090af61bd90f96e9961e0ce464ee5f0a546adfe86fb444c349647c0dbed011e76bd1342ef79889dfe86e127c465e70285f4953e14cef7df3c526d9d5880ca99961936fa9106e98d40909bb6d82ccb61c16c27050f674b60edd18c5905875f312d22f71e3491e192c442b0602a422660d41fe9008154e660f91c8517b8641bc5f463e5662c18890538bb192e13a6f980dba13313980f4fe56cfbc425472790619f53b461610baf87e00775255a0c110059059ab98fc9f196027cb6ecc156f3a4ad49c1d3166916cde616accf86304926d055f07e9bf2d2ba1d0635a49088b88ef47085c25e8c53e1e93d489b1b411ce09ae98e0ad8e9fd7f05c5df92a2a31060559cc85432cb106edd130858c86ff024e100f5fa89f4c7a3adf19911a1006d8dcb9ae2fcb7f0ed4a62665548a135c2d9e810f1e39b57c90d1201be9c47c0711f7884e021143d0b8d78c6a53424a01bf21a566332201cfc7316a6aa7404025a3049dae46e896296f718e3c419c004930820f0f7869b98692ea6a2f98c8b940eae74c577a5e221ffd6f50ed279b9dfac6c8330f8610f58640baab7b7960c0cde990619459abdb73095abb99f40d6b317b2fa5b0f169b4359e7e49016834c33ed25ff9fe87d6d7896f128c1d10c627d2f3200c560421ca06da9046505579d336f06aa9c703d87f334dff5fba73914b356dd922eb1cf1e1f6e6c553fa16c81ed6f6be94120380c3a524592639a6f691073585a9d3ff8d5b00c1f6bd5fd77434256f7feb676e93fdbb32ca98449d7bb25bc47a74b2d91f19c5c3ba3e11e0e361011abbffbabd7581ff266f4bd23c617215635ef3d059c5d92bc23436ac0d93825cf5e8ec5440795b1ed9b0c809fadee80aecaf2043b405bb5668f89b18897d987ec5bd5f562a3be11505ae3f8c81cce04837a579fecfb53ab03925277625c109f80e0398715165c2c97506f4f6ef2ba50a4d7503067f0c9ce6e03cb3d404f94c2b522a8f971921b2d07865d6685eb2a67844a103f9cf83d6704b3abe257ac3bc4a9f67681a17d11fa78f636b3ec027df0ee97256e1d3374466c9ec918285b644e92fdc8b7445fa7c5a01de17469c8d05da27e1e2f1a231ff621b612c7d63fe870cf0df7a5d556c27483626fec9eceb6dccf95706a9754a30fe584f4577a07b0664e7be7b5ec32b7353b365fadbfeb303e79fb04793ced45b1e503d7b33488ae076b15f060601388137018936456eeb907f234ffbfc8d3e51eb594998976231a6e883f3259ea2a9855e6460c416049ad175a799ebf5f3bfb5991198171b51891950f674155ce92f95235df0d8c93d98d0c9c00b19cf6e00e2b0c41df649418ad8c41e3a3d6ff9668e1932ba2825c13d8698787e852fa3a5614171c40d1be33c5582381ab5ca615a10b480fe28fc3c9916986bba36ca90d1273d16c203aa569302341664946927a735d21c1dd057cbf5c47961c1352c865601fd5a1c5ecdab5cffac4bfcf24cae45fc10b123d3fb2203b9845fbdf79992032f1d958614373bc563b29c62f1f1294f16842e840a4c0a99029ac92777dbdc190d6c6f90b81e4cb8d2e5d12ae621ea17d292e6bb11a1ce9c8f0ada80ddb7a7b5223ba0174e18a2fb463fe2cfd4a07f96aca0786b4d8bce150c256aff2ea527c3012fb7a5b862376620b96ccccf2062534e89cf839bdf8c250088f2e636776c68ab341a94da91049abde2dcd05d26ca7c92c839d643089a79c82c4229529ec7edceb1c3944a0f810aebc66006b9825b0c5cbd8e4dd4747d7d698fee95a28dcfed74976453df90d21a2395cc59f40b2e60b4b514946b7702262b3ad6e30e842fd8791556d7007cefaab5ebd6bcbeef1a935e2fc8e004c4a2965f3a3ef819094f57b5a7e175db31daec1ebfaf3ff1e0d4d71a088ec835c99681d54640e5d18a42095893d52b00a1f992090f46bc46a28626219fd274aa3ffc923f71275358c7a6f8ed0cf70eb29deed32850e321a2d0f2632937f4f3b4c2b3d4ac7d98561f25f039a5fc91664a7e07729120c21fd4e4ca850a8406fae9c6a99d263989270462c0a75acb8a5f2ca56be90250e6ae19ed33be1abbe826246d1f1bfd37e1ce38fa35413ed124af17b44f19fd26bf03e546f0921d154595fee9c7aaa2598400d5a4a04840c2efc599580ba2998529768b79ca9bf71b25614416f68c3047aeb23e09aa02525f525295a609a1bcfada80f1c1070c0f7960d85d7ff7ca61fd256aaf5c345144a10c5346dc33c3911ea0adefa0480879e5874046ea36db0510bce2f563461f405abedc36ba970650923425c7d036e6bd10e3570bca98ca10a1a814bd02aead4f4b3f48f9e057f00fdd41b3deb9df9f837c4c6e85facd6d78f18ba03fe02e6fd163689ef97c69a7d0d23c83445b72518f34884dbe8440f78a87962f1fa87b1f8e87a188b09bd82f69fd75b3aece1c5e4542f7d967728f51af69e028645ce84688f5488a9464033459a68324893f4a61d8ec99ffd9e9035aa20f1ec0c1bfa67ad14fccc49916568f8f9c268562fb753eb36c9679d9c1f4ce852b70fb64d137f4c330b00d2cacdfe4188a857f1d50590c8ba5bf0e93f7bbbca392fb886477b106417a22ff21829f591bac57f33733931c8658517124ebf01e04427427224dab43b76c0def4bcbb25c4ed55fb3f5a82edf065a23f89523285a83022831fb6858cad48fc0524ddc57607c0e4e7b0ae245d583aa2d46e906339d0f4c07290ac9faccf812a3191893dcf65693e68a57236c6a764fdb3428dc77c957dd463d5215ce4738525b4004cfee48de511f89514f36c7c88b49e27a6be6fb344e23ae0aa0749e8fa292f3809f3df82c70352e8c4b932d7f568a09cffe2ea1c6cdeee80570cb919511bdc4d55ca0798731bd1aff3b8c1bd3c8623e6ab7932e66d7bf534a4fd2c0b9dff87272bfa7155de9c20776e33935dd74d4fb0ce314bd9a2e745cfa6ba188c3958c8c5510f1aff3b4d1a1edf809dd342adae7b661bfd05dba173394a3f4e112dd8b8033b94ee2b5b049b673faa152d585c1199f319731388674bde7d0ae678d069370f73ce64263eb172c8e269d6e61e1aceb5909ad30784215e16cba2b6f4d070767cf249b27b1f5be4f0fbf96c400a29883fa787ed32fd64d3fb2d2cf585f0e0aac9d785da0caab6b315926ed139f3598839822e82144b44b60a79aee53928dfe2dae5d2e80c52112d961ccbbb375934951761072e5e49235c9d0a54694328fcf9ea55a53dd6b334b2f4ed0e39e7312c16418302ccb6a0d6cabffa3b49d0bc75304b4bee34be420b8e07a06132a3a0ec443ae0629279a694211c70ba9073a0ef718832d8eb2c4c08fcb7906c71157a511c8a6e8676020f943fd16e1290ffbcb21c1f39b0df03211479b0dd759c6eb0acdff2302d754dc1215d7eab88d76373eb700f30bc86e94fbc578c71df1d88023bdb0c1fe8e4aa071989aed332611d0df78f054ef843c74e66a8313222cc96fe768f51787dd90383324fb61a93122f0ba6cf92f7710e697cf5dfaac2ac17c8c29b039176400e1d795386241bab1a2b97fc8b66f5efba6f0962bff68ed0d1751932867067b8a16ee28d9104f10df27966c6d831c4cab8bc80c66aa6fc43877c005d05bb14ec21537f9a58efa4571c8dac93d6b5ed00fdd271cba9d8b029636b2253b2003972a868fe8f5da7ef51515e912f03c9a7e4a86e962a0c8d15078cdbee49c1b74824dfecbcab6b60bd84c87808a89edd0ed8a78cfe3a67f8b3f0c720db93ad33198e02fd38d48294fc1e031a2eebd14511a5053711ef8dc58e50aaee461769f407f0fb7d72dbd7d8a5fb99b475adc9e285739c879482e2bd46fdf1072eb300cbaea6e5009f5769023d4a2b5bfd30c1950f3dc62630f86d2c60a8cc36c87d8e78985ec0526273032e381c58b187802c403ff6b19dca752a38929aaa22c1b7d3aed770b9e36a5f08c0d08653916bf290c9767b878ee163f05798bf167573474fd7109e5f46eae5c7de0ad68d047b30a63b3af82127b515574b0ed36b08b046600b6dc88b6627f6b8fcd15973585a7430c4aa2efffcbc2e699547c8d310b6d5188290e00fd40874d957e20e4d3edb400b01f3aeb6ed0cbe157a3ef2f51a53e0e1042d1c6cd0f7e2164b8a1f8d6f9793e347b2dfd8b78d2c0f88c4dae0ee41265eaa3c5cbee54c0f7651011c7ee6d4e661f6e8753e00056440b707acee63ea45ed9888a60e1111ebc7c018e33684fa8f0efc370764545311eb71805472b6d920f8ef62f7c16bdc119845fee920321066879d4df3adf3268d3f1373624e0df3c4a1ebb29942b6db13c7b5f8a1b830f7e411d1620f888ee7c637bb745600232f9d01a76053a557a6cf4a5ca0fb0f3b903b96dba9d7fa5db89d6ae66a423bd5f6e9e5e200979547bbc60380e32fa5f0c466379ddeedd86cc16817cd3b7c269b3b67dca62d96a1a6b71215b54b7dab8fa08b988018605a6f04886e8be76206f6128c3624196e8b583eda8e037d7fab151ef13512841e3aac5712c84e7526fb8bf8aaf6343b482f59ef3e5205ac64ec227c9468e185c2cac420260b870cd118aa3e57f60484bd34b3ecad54c93fe5bb6f9e09661b8f39cf01897a6c6b0e0c767a6b97d9f48710f9c12cd5458040eff2d923d8a0832d0b13eedc4ae96a93a1bf51d7ae3ad8f3872db4329d20b184d445a91ffe3f044003ffc891c9889034c95c7be943f159dffbba4a415bc714bd15f30dc5100dfe57e2eb798c19be99497bcd12313794cd3142cb02936a37ad7d7547b3e330f3f3fc3161ab4f31f638100dda4cb27e416a56d4510b17e78cb590c9efc331ac91211bf774c02cc644e0c3d1e4b4dbf82199570d1f52294e196b667eb03ee98c6ca8d620df42814c763a59c080603c39e02f219f860c73c98dd13b1c6f2e0514bb4341eee7806f5190b56674a833f73c7163f63a57c7443df383d16387cb190d417023a87f6f3d3be15a282fa6fda1ac68a2ac51c693d973873857e0174a3b1a7a628cfdd8b50052d83263ba7183b53b2505d2c83d2910a0462f0bd3a98b3a63e24d34532dc8307764c3c75475e6e9ca22b59ee0360a3ab22d33424da6de93611494ed19b25c99cc6d26d7efa08d248f564ab2d1a8454c52686dbd15c1136d6b3fdf5eb4baaf0021186a80c5ae99e8cdfe7a3bcd9f501f9c8f076aab9011e0a9d9535ddd5f4ad1bf92279d566b64ef88ac43971e498433fe7ac3b6187657bad97af94765c4e73b91671c268f9279bd1f6c06e50723b8248407f9d6dee9936eabf2d278860171304f3979cc8d6bcf32842d7f4ef9d17a060a1f5063e4d2a7613e8db0e0348b391649897567f03fce1167bb1e61b05828d0ffbc10c4f4dba4709ef317218dcc5ddd9bd6088cfc1a38f1e97bde6374d2f7000d41ee129f525be4b8ce15a44b670f022990a65b17fb23b94777cf6a8925f788041b16ce1f85d845e4f6b52f84956121a1db44629903d7e4ffa387eaf9131c05e5649001164fa4d16b55b2978a64d628b764cd09c0400b5720331f458c6698fca277d16c6661f6691bc9154b0ee1c83dc1fb4b4fb6d49c573b3adbea878e3960eb48322701b8716fc1f337a5b9aa7a7c03c5a35189c5d709f2d1696b668ca1e6d46d76cd2c063987dfd19284591a3d7845424ec49e970dca16f0a6a6fa020bdfdb7ff8f806a5348487be53d905fe02e2f42da63d82a4215e60b2fc2be4249da313db125a28ad65418ea65a9d4f7ccfc04a48072f9a7617c062a09a2109a508f4cf75c3e776584bcfe1fddad29f5a5ed84710e726f2c0be1f75824a8740fdc1aff0fef7f27198bafc1e72db74b4d0ade446123a9a3bd037d19baf5a3ea628422334e0087d81b6341539b7e795556ad4435f175ff73e758b58761f1a40feee8ac07e506ad6b188c819eedf10a6548b4c50c82f4edf4423660249f719b83c29a649c42b761732196393273cbd7a9b059f95d1df42b323fc5f681abee6466d95237597e3f429055adb71f9583a624dd3aa5243833e60a36184baeb1d4f413bc4de742e8daf4db35bc54fcd2aa7f4eef8102764a641c9ac019e878b28552bf555d0ae64fa479dc4079194573f7457e2d7f1e24e45c7a20b742cb47fef460b38cdccbfe0b714d0b3c66389fb14c38e2074a96b849fb0614dd860ad93cbf0654fc7acdd5c1bf6b15c8da2496b64965f898221dd53b90d01d0ce9b31e2a7fb870d79f50357e7c26ecb6c0fd052ea799f53d497f6e8d207c64202fa64875363ce2e7506094c308e7ec04f079954d4a1b3b5ac8a3d10ab85ee82f947b520a55f9f05afd2c8b7ce1894a01faa4651c2648a52bd6448d191f4a943ea81ec0a2be6ef93b66a7c85f4a7b362cac8c049e53953dad76db84761c7f29f3123d5a32bb743ca5a82b96dbf633232490331908797944904816ab33bf53686d6b019a67cd91a24943d73f63c3986422cafc9eb41a9099070b29845bcd4f940674779d220f60ff2271f0d238dbd2adb31f5569d0327fce89c58990e873f374c8aa68f1f4e65e17c68cb0015b8afa5a562dfea9326e036d6836b6a877f725e7090f2acb3f64909064a946e02b1d6f595e32998f3aff00584eb3286fa3d01c7b16b806202048a64bdf63d83c04a25ac45ddf5bcee29d49e24be61ad24389c292b35bfe6c9387e9cfe554ba10d5445a508d1b5b359047a0e79fe736a25d7f8f428","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
