<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"9358d7f43285f9f0a410870f7997d6ac85aa842f67e1985e861ddadbbdb6f6f6f90d3e9d97e13717d5cee29bdee603a67555e46c017d8509a032722c9598d2224422ce69237c4ccc80dc9e9925f19ea8f0e5a0ec5fd573170a05b7d91dbe0a6f13a10754e3a7361933078877bd1733b8e35695668743f27f175f7dfc7c1757a3649ae2a78b1afb05bae6cd2c7a9f865f0e373d5f97d1328797e0c1b6aff93e92d174474fd9584d22fb0e32c65d1153c9ed1fa85f9584b71cae66caa82e8e5080d6c5e5783718273f916de3f6b8e7db2381074e0941bb73b126c2cfbdbc91f3c3a6e1b2e1eab1653f9a0ef5e5b1a56899d0fa35ab20344052e4bc51b090d493c0b3d36add45371a095d7333b9a68f73afa13a0aa1ce1ee6abb41ff7e1bbb3ae8fc7732e67ad3d248aea753df42aa0ee0ccf60329035ba7b9d66dcd362fc6150839c2492ca212e18860244413102fb328751b9bde863fde96a28b64d1492766eba0d34165666bac35b45651442dde9f3d16da768b98f273063c8aab799847a709c94d4581f29616e9213081b403c0c62ecce6d2df3843f04e922075ee72b5346529335bf278f6c85aff87abcd1c04029eebf401184ff31e06149442d49f1d72acae2c72db837fbd4a416117742064d27c01e2c8bd21dd6ebb36861550c7fb9061bd1e88149eb5e87722d9e2d4b542068f2ce628c0fdb81bc07481353ee290750bf339ed7e6c583c38a9651df050f5a82ec1bf855e75e59f09c13d43beacd4df3a2b0b6aa77050d71f3d776482c6d601d39fcebd46f7a4ad6f3f229469f7b4c0c178e788b689a5d0ac2aabfc62322a63120367b69a55d9323dcbc2e11f34b08c7edc9cdcb3fb97e2a5e970f0ad95a99c79ecc6ec533329c65961a3f6713ae8bde5cf8210493566f6ce1acc45a3efad8a607cbe61815d06c89ad5d56380b21336a3cf4f1c2f702840c0b779ac4bc21b2e0d160790d03757bba4bc82883b55a338df38b87869b9dd348e1249f48a724aa64cb54a7b84194befd698bb3711c70bb19518ee4464a57a2d1b079c9a130410d330968f37d4fd46cad46d58d71bd31ea536fc61faaff20e827757c58a87857d7f01189ece6478fb85aa311eb5e3fc45192c8a6d2af513356d65412952d0bce98c21c4f2d545b20ae573a186e1b3d2a4b68f69eceac104d0edc4df99beb50453fb7501036a1d1d69fa8aa526490e5fd1ec301bf3d9c52e28529b545a80b46e0ff7362d95c9c84b0ecf33e481f63d164bfaa566f7e6b927741db31bfc4c06ee54ce9329fcaa272565710986542d2a1b3c73de3fe70c0d33e0634f735c4347b410955eceebfd75bc9172a752c403f74a161dd90b0ea5e4bef5c7137ae2f49b75e127a98101ee6342cc2dc5e43bf70f91efaca1d4797470f25183619613cb52aed81de42f69e1bd7d87e6462c0dd8f768b4594b43ba3bcab70421ef15d35cc361ed135d03dd5eca3d23a1ae5a960315348e2a025068f52693f4b299de5729bcac1cea34d837a4a69d2f2bf01b26817ab2a454cc1d97ca72dc88e2aded9338aab5f069ff6b3c1d81f7598b776c9c2bbb8d5ca4bcccef63ec918efc635cb152479a8d45e3c04aeff676eafab2f7f5a9d1f9bf3ba8933a75aeed25e13a0bb8584ec42d4ca54a1a525f7941cc869ee883139b94f98f11f2d7449638eef9798dbc15e5e1858541dde1e09a8ff34768088a58382403995201245fba07f793d4d454506fdbfffbbcfa793e53c7a713b914bd6d30440997bddf5310caa3ca4465e445e813f541cd3ab8115607365efb574e43d967ac081f4037c567cd4583a049d63db80b1d7eb22e1111d782b776feff722b9ce727d0cbcb1dcf892b9450a58e5dddf8e5341b2a674c7c16ce7319f107f1c6c2a29ed850e3d24c614390bdcb0482e697e11757538abacac2f0f3f13b53f1624287481e23f4c89da6d351398e9ac307dfb610fd9eaf13da89da7c3e0876f9340e84bdfe09f85a066eb2f90331b18990277a35922713d716b75a3acd0200970292591f44ad922c85e4c1155db0c61bf79f407c7a6672feddee366a903e6ce2029422c751c04d6c94813d36b080e6ff0001312bdfdc96aff3cd08dc5bf806ff358b6209b7223c1ee010046f36cd6ac3aa5fc13cbdb83be597ce8129c67da13c62e7f409364d6934bca31919c389ba6619cdcfbca81512d09ae7cb58bffb6522f7b1e8fb8faa4a12f597732602254c1bcfc830245f628bf93e3c7d2be71f2012cc425cd88e2847423807dab8e100cdff18e3baa70148dfea95d82aa3ffb6a0789dead21c8b2e67a3b4cf26bf8d101bd4652371508552e621c9e4575906f3e4286bdd78ad4f33874bb022f20d03d827c70784c31ec3e1f970df4f1e7635ba4a0617d4d69b4c9671a4014fc7cce2e61ba84ed9f0d856805c0bf4476b9988096f371e212f612508ec43f46f71887e793b73842894b3ff06459fbc887be5ba38e5727efb1f55dc55757b0a981b0c58babe27749189fe63646292fea828dbe5860a74ea908dd0d7606cd484015abf18ed1d4887dee8ab040894cbc5e2e3f8eb0f6a3a83e0e4c0aec96827faae231aa07c2694e14e2242561d874607bfe0db4a6fae237c596078e893227b06c898ba240c6e0aafa771d3deb3d9dade141c3e947189350d37e838abf28b69df55aebdef66c8c26d37a3e749a5fae181045f8945103894049c849d91b3e7bd0491b3006eac627206be2db9611039afb46c11c9d18afa7623c32d37b7bf06172ad479c048819baa5233d6c286a9b930b8142eb59294634325fda443ad6b1204f7bbb6b09e3f3c7a317ad14b906c81562ec022c867bc3796d1bdf621ca2ed3c42ccbd116725a7a5e4a65d938d9547fd32b96f985a9f968b0d1e5fe83b98d5db5b4592db9358bb92bd7cba08110f2d673015adb2e042663c0f12bab871598fd56e57232d0b71473502ec5edfe95b4aac76ed55fffd3d79e311bc2cb898d23f1f8212b9c0ba6388768ed6055b6c6a91d3de9126c8b1586a64285a7b4ef9e4dfd7eb813e167886e7648e30327c9a0d628ea8c69a96b26c76c3dd25c41182436d4d754f01b5982861ffc992b65ff60423078673683925425061ed8f63de73f9656fa36089887eabf39a86e3f658956a8143947981929f716002735b2e11647e8b9c553bb6372167f2409d795412973de91a25b9874320b6487813bb5dce7d4aa24b15eb39bdd706b28536e121223c027d5cfb8c97fef01a50fa82a2a2a011839b22e7e250987b25af55e12f408259914833325585b559058dc8d1588088221d3487ee471f9bcd7bc5b97898590202d63b1c608c8d73a6274444c4e01579c8886d550175fcfada2f702b0e7d055da80a5dfd03ec4a04f690e3bae4f5d78a9db08d956e957d1818e169f6202851e5f627a2bbdc4222e65a2c283f32878b3e7de67c6dde50746fa12fef6340b0b7e29a8621a888bbd83fa6dd01650772cba94e77153ffd5ca015a897e82fa7e4b98d6be6aa7159e9401ddac0a2fbc270f69b67a689b3d6f2c9f0ab14686be591ddc40e9f751b00bc9ff25f098e676ae001c26dcbbf7dcd27e97774a383e61ad2f22ad67b58edbfbb4c5f94c2a3d84a6a7e7f92c9f5b0a7208b734ea21c7b2aca61c362e5d137aecd6825f58437467b5803a1ceafa6a1978eaf55b2d38e47417c2b978f97158c75a4152876680a6126124aa2c7ee82b61a4331adf6bc4b11a4842c912af2ed9bc636cb10e477c39efac106a3f6120d483c7de1bb88ba63c21bb198e94ce0bcd8e4b2286d7eb7d3d0627dab4963cb638553df17393252366dd5739322cecd933d2934f107ff6b3a6be7c57b98d9569da3d7694c67034c1f0850fac031407c2bdd45f5d9065eef31a66e99db32681d883bbd21783361fe169dc5c7d9984ed6c2635b3a70d5e0baf2d646040856c621a5d0c33107053d02b69b4c0aee93da80ce79879cba09507aeb41587ec50139d6e0d8ba4268cfc13b25c5a7f38604ca170607b323fc4a068059d4fe6bb919d62c62c699c06dc3bac4d320da3efeb27318d5de834ee86f7f1a55905f39639aa3c25341acc77a2c5d7c69bd51db1bdc3b623356001d407486360a1d5b756a63e72cef9ae5788c5614d2ffbc0f15b08d0d78ab18c2d7a569a8d563eda2ef2e9af8d45044debe8d51bbd2e188e64ab4866b2519d033c0229d85e13c8393fed83d6c31ce96a2fc9fb8cc7daee5e95a4392413ac67592c440b5504e0c2e18cc3d2c3aa5f9d596f837a6f30e970fefedc8b4615babb30cbe20a66dad5db4a4cb0e37b643a029b82ad1eb939a985a0741c983c8e14eec03381570369a7818028e6499d86776b4384d22b7f979f155dd87121f63d8509fbc8ea50d65d081f9a578d09e0a047d6c0f58f008592ea46d7fb3d06e94e15f8ef43b656ab125c3805fd12e41199c25dfbcbfc4cef1af67643528b35371cbd20079db49988b332f78fcd0eb98c72eaa1aa3ac6c81b11e6275764da1f5029bdc84acc95a4f70d0fba2cee50628ce1e2abe9f2948f3ed184a8e12852907020ab62df71845bf6a4e5a728d9041a1eea68355e7b772379eb179ccb00eb5a86034334ba07090ee8c0cff112a2ccde96fb0012c2dbf6ada3a6456837667a4a8504ad20a1b4feed5998e2d0d541de49ff5e9b171e35e438272669f51706fcd4332ec5f587154055bdb538b2cefd4e24b633d1d19ad54e4d26880a0d4f9d105ae72ebfa2ab15630b691e6f47f228cddcdeea29d92a535059d68275863dbf1b178a9255124587b7d4aa8564a1e4c27dbd4c372ae03b0cb8c3a7545a71e64ad8829dea8b486e10fe22e78ed9af6be40e4f224f5b995b4afcc45a84f63cd54e3ee9cb551491c42435e77969c1044dc79c0449d36a121f12cf4d9ff5430fcc77ae7efc954a6a5f626d7c8a0917586a06ee9d0d3292bb93f9885b42041053ee53b272343f6599bcbd452ff7b944b61a3d711750d06c453e7d99a5a3d0c0f1b385f4ab942ee006c5292b8186b5fec21ae3762bd8042d002c9c5093ac4f28e210b1484bc373414d6d29ee6b775692d361e90f692f56e310043ca9b0a9eeaba46807e80c8b42fc3e84687e23e5c772334f3925e0984e489fd786c2bc7059a9072c456efe44013881db5e4a657feef46145aa86a9901e445aff3629d9a8800aaa593e3873d7a7300745f31937fb32771bc48940483916f67c3404a21bcda7718a118f92b458e4ed849c87fcf5597a9d6c5e93f05718edc0caf58726ec2aba0c208b86392af4bae6d7a2f523bbe9af63e8a1dccfac91dfab684961d3621933c89ecb12d2323c8efc728a696ffa11fe4ebd1ad1685191b38964d112a95899ed3c096bb84a86a7ec0e03e2cdc1b09cf718039fec03a001a1264da4d2d4ceb6ee1f232dbd42fb695a87a0ef74fb06ef195e298de1364a16069dc5f21fa3d36e5536ed67462bdedd32e6c860146f02afa24421df9447ce2096d1aba559156c2af17e0c74a460b9316e684488f5d95d71ada99bd4d6f040a979ea3017fd04716d13be3de39e30eb59e5f4e5aa25928a27b4e1506ddd49de5c64af86ebe25e1774df21c7fe08a1d24cee814a393f156aac69c3ae370388cd75f9a30311fede4496c6fab5e064c10d83792a9c8c0c9e609e132e1a419d6ec4127b6219dad6a8273640dbf8671005711e26aae847de00cd223b97d714525f2bec4ebee402e7333f321f72000a9e0fef391e4e27dcf21d13ca7b87443ddb5825859e32fa9e77ddabe02e4232a01cdabe953643e51b6cc5a68e716479d987b4c27b8f58a5ca600eb2adbd988c0297d69946c6d6db46ef9f4e239df765698b7f6b153bdd4b223355f0ce43f74093f3623115e0decb3402edb3022084b0f3a5aa5de1aaab6b89a203a5934d06a686af2da7a997370c03f9f0fcf380b04827a9ec66803d2c47b2e2c6d0235c02e38754b4ead8b199e5631a1187d735a2f8f37f56673f3312b8ccad6c8a68119c9ed7bfe6ffdaacd0e9028ed431975b27999ba77723dad4a87c4f28ee2b33fbc31a79fe56275c829acbae0e5d76b8c7886e23fde7c52322c54cb17841af9f0716abc513524678c0582a9739e623a479d08300505c25b788e3edbf7a36e0a88f59c4ad0b6a77eadc821fbea6d41e1a5013ebb0afcb19862f6680026e1210a4a6f9f2613194f0b7a8f3e07a495e5a4c9353487f79e511b9956a5848209cfa92c6fb9a414196d18aaf49e96ea1418ca7e75057510bf562db14e90a153c238f505fc638ea935fb30c33cf4e856bc3ad63d47b6611a2b34ea9e215074f5c68f170c59b0a2797c752d52af9e76d0ad825f74b5ab9e03828f3c727cb1b5f6ad82937115d5c8ec8ff6669289fbdfce8b1b8ecf4b9ec95f6aa9a0508ff486725d64c15f30644e6d79670d05c982717ccf864c0f3cb2a041cc8bb3451874186977cfecf08559b56f81a2353cfe0c8421e7998136777cdf630993d50fca12c95d8b593f8fbc8fd608ec74ed3611fa17c0ae5e0328b8b774e576c1df23dd12bb848c005930d95d07048dbedeb447e163770f323b50527c7bcb186458972facd7003c3258dbe126ee9ce3c8126905355153774c9d9fe2d017463e3c30b2fad512be6cd0cfeec8e45a0ec60014295de44867aff3f3405407889fe1791183c867209b71039ec6bf1eb2b6e313fa8b2194a15a7ae9fc2b9fa86ad5ed3a3bb67f7e3cef8dbed1527715288deb5784f9e28aff5c7b7420d4ea9e539bdb985d1965e535d9a20e626452e38b4d9340a034d5777305a7a2d2812934568184e70f0dc3c1e390ffd504f02d21eeb8d22706994a4d2c6c376736fc58eb9e204e6a5cf2cd2acc2eda656a49c7904e7a800bd180c52b5cb7cbeff2e3a2e0918ae36ab5ee96e0b67cbdf293c2384208304c214dda9e7ff6d2036be2db90e64491c03b714e762cb3e4de0babd0c8b0397b80d6b2a2d4bbd0b9dfa66a56e0a17f640a8abd1515fc5697f8971d485af1046fb65a2fbcbf40d31fdb10184130c2ad63d515a78db220b247ebcc2d96b15deb19415c1041b7ab0c1e62d56e0b7bd5f9e73f1d1e328e003c22c63b2d4426113e139d4e2f1f370ec12aa2f0dc2663bd01c1005f341c68dd8d1ff0e5509f03a56ce0da97784a9ebeba4565d5505a0dce1ebab1fa9966f3c8b0bf14ab10e4ec0f55bfe08700d2959098bf67930b54ae5c25ce3945d11b676dd5b18344d7b725aa5954f94962ba8606093b7399e9d20054c69956b19f45069432ae612a80984002a55ce586b341fa0c23c50d736a649de4216c0e74462a645222f4a1f53fe34c561f548dec2cb363b02091b2f1f7dccf055d0eb4b917e902bb672b21a3dadc4b85fba8c1390ffd7d2b07415ae28d32995e7e3bba01518863f50ee2c354017319b8413c419a9406f2877be1c0bc8273e651fca58957b30da039b3574a8e9c2a84f0af364bd04731a00a17be2dafee13061af6b4375341722af0a80843af19165113eef7a822d4f3adbe636557c539178e84c76470e0a80f881c8c8ff1fe683eebe411b50c80f2a07356817362244d53ffc700d77e7ddcd3fe205276be2d691046c5fdc8475174f9d078d9fdf8eecb90739b51be1d1d00066900fd146a029c060907120fb00101864a5aed0ff2bc169f18d8ac9ae7a7bce71c942f6ba3649ab322b196fb10e8d705b591c222c9cf6fc95154a1cc9701717fe235865bf79a5b90b817af40c2ca504eeb11cd1d65a91d97b7934c63170e8d444d7cca1e1e9bb513c3e0e26c2abac9900ca5d5c0d5af0e71dffe7dc5cbf1d1abab211c38b091c40ff5c5878dfed28ee8b16a624d423102b4f607c757f0d8a4a04f20884a528fbdc5d22d46621196a8150f1fa89114f23860c6155dfb13ded9678dc4e57ef516db0b074fd4be6a4af9140f1b84fb416089c6cca946ac27773eb11b55743226284977f1e489a78e91477d49292213050d98a9fe8dc76d800f093b7ab365e5d09d9f8374efce6e49ff2049a3861dbafd8501a88dc80fa7da5347175eb1ea91056375c7b78a94eb481c44803329d889eba7b853afcd652131caa7bd27d93ce76db7aee54b13f33384ff6414320dddb0769b0b34c12534bb120e9522ca402ed695ff6f69aa77186d82799f4667f0b90625b31dc03454ec9a13c1ee87f99df32b03962121f1b9afd61f6f204f1805f33c1616c63befcbc9f8bfbfcf81568fbcc5fd4b404b2eb4c63c8c9dc7ee5aecd7e568c7a075a0c66f86c825f72f0ae1fda8d5658f464cb4c750a729449307e5e4ebb30bc81ce6ee64b6c722acfbb1d773d5d416f1514bcb2e700825ce2d77ecedd0f988e705f9bd9ac782b40362222808ac43614e475727cecfaed84906d5725bbf63a5259710b5cc9da52af062fcff77c90e039231f590fa9357a55fce5f7caf5f4c7b7b604ed84d123ce54ecda2d5cca4946e19ef54c7b4ad8dd28e715a5e29b5bdf5aa03554c5ef58de5798c8f0b40a94ce34aac9480344bd3cb8b84b8bcdf7e0820a5576678dccd2445d4f76802b8d570f133b0f6dde92ceed78f2522484e863637071523197b58bcd1fb629b35a0f21d09a6970f9863d3c621175ca7ca83fe8fc8d9f7161bfa940b3d5b2e759bd20d25d30a4d814def2858c982724ffc7a109ab99743e9efbc380df21d94a7861c4d019a99c11e6ed7058e02edb9e598e03638cfbcf6f5742f0a73400ad59bd594fe898624a9df079d0f25721bb99be39ec37bb55a7266efa80230619a5cc420d698271fdbb0f1cfd1fe79553f6bc0f4f8ae20d33de06b12c8018ccf3fbadcb78fea5a97e1e19bca0582950f7d587665da256e72e28769c51105033a4f4db5a8505e60dab1e3a1398ac7e83cc4306a9889ebff7ea51653cfd23bd05ab898604f6d00567377722663cf86f4e38c3c3e3b3b0e1ef12d4d34459525c7f7192367b6775f8abd7cd4c97f5617bd2ac4ff172f8addb1186b623c8f66ace5ba17b1b9c8950fcf6eedeaf6c9c3452e4ba13c724c54792f4c8e86bf050f81d1d0e558e9f45dc1df53143a48bb60f85f2fc9eb0cb60399abffa25f045489891629556397b8641f501c2d9d742b8c547443253a467f551ae980a695c4f94da4f8405515dddf8c7c68e563a1603b726be150b9ac7bd474db083c602fde1562dcea3c8b0da5ac121d7e22a0f937c53f54e45f1265a86f1a8bdb78e3616743acbd316c5759f270becd0e79794e6e722fb9a050e9272cc264ac5e25148939f49d16aea2352c35dc92e66eb74eed41df1008f7f516c18dc4aea0f07da63d660386649d83f9b71dff0efcbb42fefd1aedc157a80e6f7fe43f276d8d63c73bf1182b4aec20f4bc8607feb31b3d7adaa31d47359ea5ec72bcf478ad71bd93e68f2fd75f5228cb28f169bd4a5fd1ac4bbcbf18b881df4994b731059e06e7107d0db2a5919fdcce6c14a7b34d33104dba7ad109eb48cd5b0134e4434d136667b73ef21474ac7b205aaf6e75bf32526d950a7b9280855dcbd3b3dc7ca541a52413ae57c681104ba7979bf913ee1875c5d096b74054d132cf2dd3b9d5439040b42b41354f459458068322df9a74671bc66de8b8e19b424d84fa72e440d5fc2b0ab5cc7e8b201fc6c664ac908d0fe1342c55112149ba89a691a834b96bcf6816a61601f320aadd4d569260578e9f8788675bf558276bf43415bd4abc0bbb671ded4609fc366b60814b730beaeab20669af7e26d47520a420689a2cf75c0af14925f90eff4856e706de51b189e40591db497a483729d48feb3825807ea24eda8b13d9b4b658238c0c97698c40703e9cc90996bfdf8f543130f01e9406e14d40b9bfe727ebf54b3547376d11a865247507e6cf059a450469d22674a14a4dc8a8eb5a6683dc0aaf7663e5b383c2f37b0d7dad21f62c8dc6e16aac2271bdbcf9d8460e4e25a86774f183ea4e345f9cf03246468373e00ce8f0f5052e4702df695c30cbd550053fb7aec00c5d69fcf6e47b4271afea5c927f87ba423b171ef0effc6204c9ad533fb583884c76c73450a4f4a09ca6cb675b680b8b73830b0dee2937d2455d3e9b3e7d8c229607074401e0d36947463c0d50f5aced6a87ff4a449f5b9c06f8878f4b86d7a265c2a108cf5aa57b2f8033e34bd69b50c4a99e60c7ff108959f8bc2960824cf8bb63831d134622bd39795824171c64eae18dc1a0f018f994adc7be41e5c50c83af53207ed5458604909c768cc2b709857b5cf24c884df60aab131ef5ad68298572854494f490189f814bd50aae57ed165396097c96fd5452526f201d9ca25331f2eaf63f4b8899c773e4cf9eadaeda9fc624247af94a686e1e92de64d2eff3ac9e2da042b696728d405f003626438033289dec000cdf8d7e5d53c8ade7bb351b492d3987016b1f54c4d0d4917fc934d8fc2f862349998ef1a68492003872aa1592b4f0823d389e5da7f95b4a5cb99cc3fcb6ddbdd4963ef376e0a3a1e9ef331aedc2d25a4df096848cfe4ed7237e3b12d10d6b121bf81d1e54d6d5f47ef460d609a3c81c9906bea985b9a4a146e67da93b1bf5512725ecc793c83fd95502c2fab70c65e2d2a848d0ca4f696743facdbc2847f3bf4ccdae2df6353a17f01f6bc4f5efba7f7343dd68b58bc98cf0512b0176f1b357a6b8f5eefa393df93de7e771be4d0aaffbf7a01fc92f5918b4b8129a8b08faca13180a89c29a6e97d6874d09b630436e27ae33ed2d4ca202cc92bd6df9b0bf8706779e6e98e943a529c32dce4b9be507b04d4d019d9f5b0d012da0ec4c6d7a6064c7f8e4dfcf0b7d0d0c4048f4e23068164621b479f7478b0530eb6eb149a9159e5457de908a3d4d96ffeaae2f3a65f03c7e2cce66ece641ddd692385c0b8e9ac6c0b660b315998ba6c9c27abc012da5af258c19b283217adae417fff9d5b54c0b396d749b9c6ae5e515b2c813b2c7e506408df6c0ffc9ce57209a0b4facce25cfa5e37ba29690e6fe54772396b061283f65c1d9e0560460694152670a62d99063e16effcf70295dfaa93ded7f9510650c55349f88a383237dfa75afd71890832ca9a46b7766cc2472e95900e6f8184a626b9af3852623298435193a3878ee741adce0be5723aa9015c0229cebab514c10cd5c0ac8aa24e368e5ac7e74b7819feb3a9996c3f985dc36ae69baf24f26f9d6a6f28c76bde9ceb4d64e7520162fbb0e41f30473a52f731f8e9480282d0d7a3fecd279112a83de24fd6eec037e508d40008a45efb4f3748eea6de0a4b956086e655ca56995cbd9c9980dd80a37f3b095cb1b13b0778a2053b33b3837429beb0a2fe43240d1dc09cfc514647668c85af2d56aaa539ee4192549a02171064a4d54db95abbb4a780affdb3d8c6857746cc96d1cdaa445ac0c877dcb99ec41179b5271c40c7c8d872670cf0971d67c0b22346481f5db6781e6f79efcd36dca47cc1a27b8635626a1b200c34abe1f899d7b68ebe511d699c6975e023b3bd74e4a3dd64e8494f30b7f6c30b2b1064fa115efaad5678d22ac85f1db8b339576308075520467829fac7553f25d1e6edc9e08c3d186ce2b74a4414568d6528c6b5bb4b1198a74dd4b0353f234c7d6bb6f0d74fd4463e48f89d016a7b86b8ece0bbf1be7b27ece48a8d80885dd27bf9218427496ecad4979e3f7d671a0560d955d449379f222998808b172c9054365b22ae6581623b2dcd06902b4e1a3fccf38d391ce8d6547857c5b9e3432737a82922621f9e6683f2e90715ea1cab8cd434d6bc44a9f4eab8cc312cd63849d6e122735689239652c5e81aee45889e622e25cefb577cb17e1dfb71cca9c5bdd0edc8c5af617097174cbc6a15a14d0ccdc7031bc044b2f75cac89b1676558648d606bc8d9001f036aa6d2bbf76914176bb34399e6f70500ebebbebe5bf42652adf1ee8c81be9269dcb321c5993e6b01c5127d8e1052ba346ff1d4eaa821e62e44a9c353b9079023343f9665521be585e81046dd3a561bdcc70c70d4881090a33048537811f0d7e463a28de69aa2acf06026e2e95ab542d61b9d9304cfe92c8fa0389859d44f698a0f5af3ec8b3062c1693acbcc60fc2fd5cffd706785ad932a91992b5761dc80a9aacff1ba88e7636b35be349980b008818e355ee6774ca220bb39be057fb0ce1bc1c6329d45e52dd47b004a29d58dda59e98fb364aede7624192dbd4364175f9ce9556c0a7d8f54ca04fd62eecf317f8c6bc3877758b771caa25e52d99a9c9ee12c45c4a7686beb2f5de4e84e421a1e51b931752e303b8c6e1b92a92ea04580533de0d375adb79d71a687de25e0f7cbd111034934bc95479221ad2b7dec976b7d39ef42b74fef9367d5eb2d508ba381ed64df8238aac80162ece689222f8ade81cb4ebd8c4c80f57d246068af16e82ef91e4917ed5d7ebb17c4d683544fc9960321defc37348f9f55d9c84d297ec395467cb8da1f9fe0d0c39431da4ffed3a536298f566e55331daaa3c3e6735bf8f263f3ee316482da7b3117767e241f93ac66e9df4586d0f814a4b3500f667b7200b221fa964f81977fa57ba1eb6c6e7c3a944d39b8e110323d9621fbafb9a3ed887de3e3252bcc1193188bd715ae1855710a63f6147bcaa110cf42c379df64e853c5eb52a7fba28fb4417b251dc0e75c6bc052334cd9233c0bb7308be291410b22b0838ec3f1ddf3d18787ddd218295e2b9069bb7dfdf148fe63e96d7702316a7a93ccb26f5f4c09d93a6e4ee7071e582b824ec943176215b61b9cc190820d676a551d4872d311894fb6288167cc3881e4b94caf0ae3811f1826fa48750d1d05db51c045aa710aa79e57fb5d12e73efa2ba42e391cfaedbf467a6d49bb23fc9ee3422bd9e625d34ad862f3395d387cac7e3367642200bd6260434a8b95b7e00851f081fc8d49c61224a3fb970b0299239a5b03c644ea3c5eccd9050a8ee6c2245880224b61a2192ba6821d01209d2bc2c2d66446e335ae6d8d75f748794642729b9c63646b3ff9219dbeb6f7166a71ddb60dd34d767642dca6693086b102913ed37c6c72aa5b49c884fa5e1f6419ce35710dc443a0bd804c06c5ae115bc54ef262700984087cd965413885e896cbe7fa61584f51ce704a90f97af1d1b5e09dae3b39283b57967ef411b4176d8669d35ee72b53851e0fd69bcf9b8de74f799de8fd3e9f2ad3de4b3f11a8657464c0b7ecfbccfa97d09c93d2c09d925ac0f99930a4e71136562cfab20afde60de999afbb3af8c3e4bcd4b891a338072861c560956ca765c0c093a38a8a8b0abefdc98c588cb4b1d1885ab00b6755f7620f10dbc420cbe18d52753293ed7f1071736d5f96700dbac2e76e9042d996e9c2dedb913db559c988a4c176217a7fe0e4c847af4cb5ef1f86afcf564ebdcdc8d0e5bc2ca03ae7567213e638bc9b65ad1681bc6f40cb802b8eeb8fc2ddf81e040257f86ba0bc8442d4b125b7da7fa455baf5e98cfcb0aa0c39f09f32b876b72a8c2b18ee0dd0352f7e71852cdef1b145966eb3b3fb9aa5846563ef4621cd8b6077dfccbc62ef7a9618ddb4686b7d6686e1a360449938e5805f1dfab002a215e320f335ac527f8d08339612e57bdf6401cc5a6313361d5befbd5af361928322710662876e8306aa680b52b38b96f1e16d826afedb9c2f2d7c423a8d16e2eb2a1e47db3fee11435b33aa3c5905ffe16b95a39437d77e2d2f881a6b2bc0d9d59bc22fa7a0a5db8e54b29b43ddb81ef0e05f5cdfc231eed4df093dcbb98e32c0ae42debd76e99e46012f2f9d9e0926174ff66a53638f7b606274e49b5393cfd9229eff139542196591f9b75072cae294c02a72c2ec5c66c233ad4832d93974b37bd34afa3ef1dd3d9f56eff05735a6d62134d23d12616995cfe0eaafa6e7ea9a3977859bb9a994f28250c5b4679982ad0633006b0894fdff90fc28e1d6cedfc2154a6c9481d3b3a02aff3d8303398386031796c130f199348a8a2acc40d2ac58655be85eae8c0fe047d41e1678560acb7344512bd629002a886ecd30f3bc8aadc61c90fa47c49bff7dc525bcab8dec16f8a2bf9fd2d6ff41928d9630d6eb7c92300377bb217b523dc84cc88f1d10991b219a8a3e8d7e23b72b901f5cec81bad410cf46379094f38af230a261ea6927b57855bcff09a1ab73d788174171f05ee706b708f72a18b0234e4e4f881a610b85ba544ed1c79b8aaac41d46327ec3c9dd86bb91c50e871e1d104f8a1902b48281d64880f41e4017cd174b97cabffecf3e66bccbf45ec6e9ae47735493f5c13881f1d6b2536d71e837527f1de6c153137919201e240f673d95819b773dbd5a30e9186d6171c41be439c899988fef7a73081487e79e300886e070186776c217945e5808a02c8e46597bbd3053daa1bb87c9cbe2b33dfa75944eba10c24bfa8322840fc10e74ae341cd7e1f3c06438a141df3358fd4d8d0a5404d414fa090b0fe7f28a661aaa365fa6264e33d1065fc7e29bdfd49f492d5211aae31b21ce47044ae170268f4ac0b667f2369913464da454ea663a819fd4ed70bc0371add7a369b022432eb4b12c191589fc98fcbeb2610a5eaee33074654c6034e504bfacbf5147f34aa9ffe2d14795a738007d61ac99c70afb637d55af0c247c666eef9143394231d6eece55a1649d3b07bdd7fab874067ec2e35dcbf2b357dd3986e6fd00edd9dbb3bfefcdb29b94f94761558618cd92e8e3c322b081db121eb03cdbad64bd27dece1abbe610511d4bc74217bad97ec97ab7b4a0bea176c3c414d6ff53a75fc5771b90dce8ede03f651ac1106dae028b93ff3e598b8a56f2e00d289f154fbb95d9a7a7f0aa98847e60c325deb76178b30688f8fe123ce6ca306f07ef61bc5fffed54fa4ea027e81127a5cd98a97539355e226bf46f3004d5800f3865d1f3a0562b48936d911a2ee0d0b6c1478af82f99a6bb70f716d179439e95ed33342b5809b3b9b035cc73ce5720ded99585784f44b202c471a809de75bccdec5187d2421ebbc0d46c089ea0e34136124ad77ded8332976200b1563a49613f9333a76d89c001d53f79b3f68fd24168d026b9b9b12f5ed33382b980d4e06d737a39a9dd8ff86e4bc914c90030669f5817d55470ef45493cbb5320a5674e9edfd64a15178d6a633b3cd1747c0a211765ada4d2cacd6602476834e2e50d0146ff311f180de74a9a5e232839060fbd92f27852a6c6179264a9691f340f21e610fafa5dff4fb07b56361824a5bb96453c26980b580cce8f018a113c20173ac8281f69beec5f9a955cfcb099be9b717ab98d526df50ec0edea153b06e5ec769029b9061e2d1794cff134d5a6d62a8dac9d8b123e54289d7cbb1675b26b160bc415dcabbbbca3f6026a4c0fe8265345fcac1f0459ba484f90652c857cca139dcaf0e7aee9fc44818b9d37f75c609e6aadbe91d270d7fd8a58268511fced39e84bc382f16b5dc5e803d3f37724f507af63d520880a5a5807cff80c580850fa746b4b5a9b5928ecc66f3afdc3d7ec8ea4b9feb8b56215c2a93f91515754ed651504012b6b5f17b32cc1e689338084b5a42086943b5d1a3e139181732d7906e424fd94daa27b3875f070f9a05cfa8d91a66f9881a2a462a9e92bd08fa4eb7c955a8eceb11b390cc60913c7865db21fbf03cd7bc8f93313bdc1a6ff82f6efd8d191c248b807929f76383084770f11b06671fe3fee7bb733cf50635b9c6ef863645385d8d03d930079888318b299cc406a8bde88eca99df8d5e40342d5959199ad51f6fabde94a4d244681ceb81d19ed659e9da83f828b65052e745f99c3f6b4ded741f69e27681acd4fecbd119c0dbf7908e5cdf7a7fadfd94f1fd76981da382b5009b7fa8a81ea5b83a03477396bf24b29db4f4dffb51a7e80367ec42a7a8514788803a4e42c1d80bf726a531ce4789d01777f9505df8af2de4c6fc2291df47d8ab49d3a089710e638312d13feb13f3dbd4c289985b5f7b5df6b8165becb0adaa8f01d4b9b3cad42752487c3d7320cc6ce704d1928c5f50223ba4e19a9642a1587a4d0858866495bc6ed47b19de4bee0ac818d69c26364c9898a8f269b894dfb3065ecfc2f271836f35d093c84052d4aa368d2bc9e141f9bdc417caeafbf785db04b514e05c9a34898ab079a4f400d942343735edf2e3fb0a0cd1ffb8714e4c098431c7b4337d15de3eecc1075e3564e7a0bc05e36a63f835d4cf4ebf26ec772403187eddb904f63ee5b62dd769ea7a19e91ad3b4f6fc9a08672e55b3084e226702cb1d75826e1ee4bf4ea72eee365b6b4810ea1db2ccd2f8966f83101285e622d856c820a838d6c39e5dac1166a099ce9575a801b78f167fe7ba53e8206b36647ab3fcad99fa31b234c4f771da25da71ef2cd15f661b166e495a1e1c5f417b14d41ab1d5a55b22f24608af57923c20698f325791b3aa6ffcbee07de554558b117cb5ce04d4d2982be41d6bb2889bdd7031a8722728c0c3ea83f3847a10cf2d8a5e270d27bed65e1bcbd829865c19d27593f4d9895f0e15f9e30df22b56e820b4f6cc49b08b290375e80fad2491a4e29fb412df1b8417929cce6c9c0dfc35eac32e8fd3adbe62a0ec1795147d6a31fe9135ff35b96229f6805f61a2e7757395351c635d1eb011eba8486a6e4879ae64c3d14324f2cc6a53eae82409e02763da4f7507f23f455c5ec22e9e04b4b067245c367717563dd14cc259ba12438ba19756b81400c1d6b5ede443214e1cd4b5bd87c7ddf256ae15300bc2ddecee575238bc10a54a1d7d1bdc59e595dc24e04df334685d13ca3831b8e2a5479cc579609cfce9da181ff496ec903a9b57c6fa654fb01dfc45602fb74d3e2e01f39c50df4bcdd448d72ebbeec370337dac224108ba6f15718ade6f17055d8e89398ca40018fe0dab72666c4190b960600a47281ac113aa4b9567f92e8fa6c71df4c6309139da01b3e26db5550773340956c0e9c3d7272312b10262b2d6f6693fd150da065d52fd0cfdc9482884fcccd4efd46309b20a8b42dfae384a6d46f484d961fd46b916b2a2771332026e90d5dd37d05f9899baa0561bf3125bd9f762360144045b66c6c527c63eac1211ed9a1ec8a6c1691cc2b6d3eb69eaf451e38e18f12807128cb7352d266985098b402a6a151ec5ff86d5a3f2a9e00b3830a5f170b4d2c71e23154e8b8afc7929b0d124b15720b0fb057b19052e9eb4d6af4856b05f56a85b8597eec9faaf07c4b05caac120d0e23dce58b07f170fb0f83f081dc0fb9c356387076b59caf1dd283295a43fa68022c505f67b625250d4c4d25866efd78a665f56a68699ef4da338e06132255e5e441072df92e9041c267cd7ab58f0bfbf9e910faeae2be2c13ea29028eff6bd99d6aac08059571237a7f1d99f2f55e47df06c7ac94d295b2d5d96637db96ea1051250e8eeb4bf6275d426457bca8f6b18cddb68fa8b036e48bc1599d964ea6efafb79e810bc7a6072a8bcf89aa07252987f0ada235c579803a3581dd2adec07574ffc761934c7c8eb5234a9765a6e1ecc191750abb9fdcc54db0f094e57b46438e9a93df8345c869c72269f4d860e89ffdbf4b1ec4dc3da8cb0de56910dc191b99e3a84e5f72665209ca80ba0a0bdf54646d645320c8051a441aa68a7c94f55a7eb9a1e114114ece0205b3da1dadf8ccb35039d2020aec0f8da89b6f504c31b498ae685e1d03f4c51a24cc2e8c7364f6561c52ac60f33c54d2e9fa8affb8f69246decbc54d3ce204554fdb5d8327ea5e4de44370025d156917e44c2331f708514664cb62c2a87f89484f1635783415088aff3fa7298bee5f17294e895779baf82221e743531a2f9739119a50ce726d0c5e438de29c15d62bc1923bdabbad2e64f1ad8bc25dff905364ba5c3f68832e7c2275d6d9da37bf3239cd917c80672c7c5bb5f75ddc0c92aef790926e222947872701b989fc5efc98488a71489906a84920e58e90d9f1ee8d641a51c930bd88cf5096d59ec53f2fec44670fc303f84d068d6fe27fdd6a7deb9ea13032a3f4af2f91c0792bdfdb7e56626e80be32040c0ff61fffa548b710a1fba7d6074d248f885d1775887edb05ecc7c0e370c1c6ee13fc4bb4bb67288ff69981a11301a320ea517153f4009deaa79712579500586c98d8ef6d10c43287221512bb53525733a23c076093e8b801ac3efaf55567a4f786a70f91cab6f67e354d11dd91e59155177e1d267da03e4b9501bb403198f64e0a9f36ff8ff841437a52e26229cfc3eb48fbde2c532e75c387e4028e3e818a46d29317e395e2cf7456ac244cfb1555246b8a4ce55ca0a3fbe11cb48985fc7a1e53b3ab057790d0074994519645a83de328320afdf3ed2bdc8cec17412201221800bb79fa3b006b1155aa70b7fcba39af7da52fa07ecd57775e1e79b3fdf35d30389d4e7f35e8950586771628702b92db86a322d132376af99d48a6930eb33ae5f770e1e18dbeded0882e0e0e6d52025ac991c61acb4f73c1abdc5ea4b7b0c6e00e0d95efd04ef35f712bcfb31ee69ab68eae0495099b08f57d2372f1611ce22fdd641b40c70b3ccf3c9464c4535000202afe3c9630cd2297753c2efea0c36c836b9cdf929f740dbb6e6e56944b6544b16b45c18c4cd2379b10e37d14b6b53afdde9ff9434b168423fbfa49e33e28c66993a2646e7ccce7ffdab2a71d980cf11c499d2b00f45cb3ed4ff53606427e08e6b0e49dea4950c3a76cdee0749bda74408a58a971a58e6f321316af1ee39acce58b7ca9fd92744676263ced09cf1e1ca4c7009ff9e027165fb17c3a115da82424119d70244cdf18083479f31caa467f2e6f275bf83f2393d6b86226d268badfec008e0110c2fc99934bbe662cd3a1044195cf868c3768a231fd48c421079043d5b84d2debfb2db89866b113347d0002fd45e0d14cbfa06823e2e451a5a831684d3573ad6d999f1a5146ac783d7438a37ca18b33fda81a771417f2e458a6e7f5b0714672e8be62658e6a9fcd9477c0fb4ca029965167b2aebcb1de84159e112436ecb4553914a662298b0bd5632e0a0e452d2846a9f0b2667d8e1608141c17c047d7424caba5bb7a497fcbf2783d92545e92cfe61e86c8e09245755d6864f08dbed285f25e5a465777939e9b54681455754ebf79f4c42698c2fe819b9c2921b315360bc843fa8962976f6cf277fab081fe6ea1cd984281c2c3ab08ac6b02100cc6ce16318932f7339144e6ea5f5fbc9c9c996978c2eeba1daf7fe99cf74c705245e5f517949439a4b28c9e48a8765456905b1401301cc489e67fe738c1a2110c5999ee38697469828283b61d29b7ec8bdb04be1e7008c01c49dbb50df6318f14bebce835b2010b2cc980440d9fe48ad33ecab0bc94d38ee2c4427f847c9ba0eb54082a5cbe16cccd0f6aeeea5f88100b1989d8a7f684e94f0f1e0e10e0f65eee063ea1d2793463f2965387d7db61961ec64336259d4f4e20b605c3d80c91d1f5e40c37c5f3c21143a02b280ff9f25cd65ff2ee660dddfbae3fc927308ae4b0d90c23f7570b2368b3f7941864b5fc44833d47b842bc7777fbdd97846a6a064d9703c52e70ee48ea5c83859e11062a3eeb1c7ea2ac5f38532270c42c7b050bf11dc785865231b3191bff634d1c82715d5df0170d1514340c71382e0f767458bd9d52312397222bdd638592ebd68f1b47b7a33ee13d79a26edfa33d89eb04ee5be4e8d5b7d7350da4634a2bc23e48545c94c3a4c9737e0cd8f7815139bd7f2b7df4f6347379b4614d7c49a8ccaeaf1c1cdbecab7fdddf2713290776989203156bd5f92a723dc0a3d2840572f99249017baa551b9aae1e4ce0348604206012517133824e48832c158a692ce11bdb9974a26f0773e6f72e0c2dba060f8b03b097485107528b08d2b0e6a6ebac3c6533e81042ef404cce286690031f33b19a45b908456b07e3f1d6308c9dcf3517bb36369d19cce54266b46f2a1bcaa8d652b1d71e92703b0c94316cf96c0c7b2daba26fc8be3e7e31ffcc7e6a0c3eb020033c0b6e3ac8a2a02d42a6fc01fc020f37a9ba950d67b6ca1f31255bcd76d0cce7ad2abc8953fee7083f24d1b1e741dc1b0298dc30bd979d418d1bfa62fdec8040a997754715c5d47a5fdaf1499bec6aa6ff6db4360e79bbab53d18e20de98c97fa5beadec6f5f289559cc29aed8d5c9df497f6102c594fd69eb3fcd3497c66b3a21e7860a5b0990434378ebc7aca328d54a30673e9eed493f5d026dc85e3ff67979ad38d21cf21e10ebceaba9630b2e5f18214ef080d2326e6da49e3fa6cb90e8893821e113a9a0504a3ac79bc00f6ca04d952ff469d99d876bbc1589ea4938223ecfeabe347aa1628f15cb93c55b934eba07c59590e5bcdfbe28ab161b6061ee9cd0f2d4ea011ab7a4aa82e8b233e9f1e0ad49504725cb6c814448f7b8d4cdb7a047e265b6333bcc2ddb96519f9dee9a0c3b5a268a552907578ad16628cbc2b736fc5dcb7b46fb74a912cc1c174c7848652510f036ad46f80ce4e3994b397df172af081d1eaaf5c8e7e3817e7653f207c5ce650a63a847e28d281c7d4df6a8a06791d48fe1cca2eca963e4b3987990d58b8b9af5c8ad0f6ab717fa150e4645e90f6f877c20a019a35a32588274ef708f89088eeac90ca84f71d80e528f44ff467afa3afcb75515a5c7b320be39203989c392f91ffa215dc2a1560aae172710c1d6c3790af4e92718d98e90b8fbe78c3bd6ef8f13f3cd1464ea2e5c7876e58ec2bd6204d797b97031fc468c2fc2687efe3e942312d366b4cf7ca9fa659bc0fabdfd8b341b42b29535ff0fcba7d4ab495202eb8e0649f0e880f82993be5cef346c9f380406677af206bf8a12aea61157d93e6d09392a3f5f3a722e30630df1a88ec5f18793fc827eaf9bf2cd3fedcc7452715b885877a5e6d72be1cc081f8c92401d05bc3cc8fc2b6a5b6a01407f7655497820b054817cff435eafaa4ab12f1586be59b4c7b99d9f78104a0d1c7994def4017103aa6c4700b44fb37ef16942b8e87cfe525b0e9e1865a5513b86a0576063b83f54d6d7c0894d99e928ed377d1e1ada15cd73ab41cc870395b263f1a578c00ba298fb73e1d25f9f205758a5578684d384e5186147eef8c8be0692ecd2df00dfcf410100bed0e0a79934a0fb2d5abef0ce82d66b8310156fddca7e4a64e97bd39d6f374384845202ad102db966a2a4f394bb8a9de350e8a3e4697c7d320fb65674bdfe3dc56b3122cf8fe4293569dc20c4184981ed18bfe5865719b38329a1f4635c96b9ea114402bc40b06cf019d3786a7144fe0e3027a300b3f43274429e78fc2435f485156a520d45c23855c4a1b833655149c80b3037f4cca62bc98e9385f1c99a97038bedda88f87d71818422ad3d6159f6f572c51342d626d14c0a1d3420dc56254e9a7562d931cff93f1bb1d05d4d95fb594616021379041bb5a7709db764667d74fa070d151e07d0605750a84b26fead67015afc90285d926febadb3916b1cca44a5c92349df3d515ebfe655bc9621ba2bfd087123d4174fcc7fd7638caa0132bb5f76f4fc8dd1b1ac9531e514f27726b3c29f2ae2a6e37ef2afc1621bccb578177b205808bca9b1ccbb2b0766a158b3b4995ba8cdfd3f88ac5ad76723734c67fd087448247080984c7f49df0713bc6a51240b6e5f8750f08","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
