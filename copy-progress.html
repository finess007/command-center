<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"984a7fd3810e001166c72ab92b5710c125c958513e6d4578dd311b3920e0aaeeb6f2f2cbf4e702b43eb31f7aa032b410c1843bf0f16ce07b2b63cfec90df74c31f74c61dd5509c844e0198cd79cb02f568dfc2ec456da2556691aa8e1abc3bd8f7e5e2fdf95ad548b04ce88382913ccaa9f065ae08c8650f593cb68c6ccf2cd9cd94b2eb9d32bfa77458e344abae060b022ef1bd9d70420058c7aa297c22577df6bc2eac3c64b0e82d887ad8e4d61cfb7b9e98a4c471afd0e2b2c60d4f5acba9cdea88ddc5a819feb61e2183cb045268f64e910c2db7c8beb6a34604c767df5cd18888383caef0e7bfc136a682e7faeadaa1aac259462a3457b80828317069d959a5768eaa74729986462addf15a0f098c46ac7d8e4d421f6359388eb492ee6bec69919be740b11404bd562003d4cfa192c0bb3f3d5ec1d1301b4bbc93a965a022df621ced54aeb7e986a81a1f80aee0e88104e91f836df69507a39696fc025be3249028f1f9acb1ba5be86b8fa17147e9fa902590a15b0c32c11e04c891c2486af9a64de45123fc5c37011c5d3ba37dd6441fc6c5fd7a878c6e440a4c07d19fe23488b17e898b27c59a14e7d1aa574883fde862d066e1e603bdded7a7efcf8cb1bc4919d9331f604f4f079b15be607fe1ff6cac8e15be899c64ecc7bd6795dbdd7399a2da7a974cc2283ed2f639de1913e1826005749ce45ec5f13abcdd8f1c56690debceeef9e3dc7b643ef24c6ec4ff778112da49f8f6eb284bd8e2e3ca42dcfa22147314d2f1875ac271ddcac214702bd58f0fb26fcc53ebbfa83f22dc1788c811e45f6503fd8aed8f07dc867607bca7f9b42ca4bd2ddcd23361ae09f7a56f2b2365d16a6abc7fee4569b0e8af8c4a18aa646c541fe390dd1d71db0048c85842e3a90472c05f16786f3d97b74a1f931aaf47fe259c2be70ba96c1637ef90f1dc206e05d2364d39a76dbcc662605007942bb714c1987a22c03cf542b819d9d69db27c454e310f013299c2d1e3a88d63998eb853066c11eb7a9e77d9ee1cb6a9f737ae80876e215ce1132461af4f538a2a6a36a413f4c9e441b6300090ce4d7accc37f38cd4e3986232d31af7fdbac0d15c83cb528b503e1825641d3ab725647f2dd0972cc62eec64f09ca7d8230dc7849a870739a3202647315d9aeb3c08dbec9688d6a6a2f19c51bafac51a88699f4ff8dc15ef252e5e31aca34450bf7a06b949d52a47a5944b411091be443d7af713625f1fac49f4994116b052f6bf13c07729f779cff7e69462964585e9ab688ba197e7bb50d078eba2dea40f5960514a394c7d2e44b9ea752c1b80e5a9f22204259c9e8e4661b0313adfaa55276c411e76d79eb8e01b606ebb595a2f2ca610ea2be685b416c6199cd8ba14d2b7bc80b23af25c15dbb2ec712bb9ec6b42926a4c0eef258af11ff79b21942fc773fea6333abec4e534e1f5366bccb22b95e260a4dc408bc192748d957bb5123e7efeb0faf496ed57ec5b501394ca03a9928cbb25f0d0c36d3175bc32ede8477716543347666121bcdc7d99f9de37d563d6e253eabad472251a2886bca9d88e73c253c9481bb0c2a17046b2b76fb9fe295a9804bed9a9d0ace6a9aed64f3ec7f39f61f91a6440f51c131b733d78f701be08f4b463e1fc5a5f2e2c5e77c89fbfa2622e87b2ce0679fbd9cc22cfd22be3b7e7205658bc3cf58a52ff004eb447f2006045484a8b2c648baabd5dc3cc5ea519de99413aaba8668f28262f209bca668566b9c93eeec1c6601f662fb7968bf178a65d4a6cf93c5f322628b84abdd1ecea259867c18d0ef4f343159e1c675b2f1b0556091be9ed4fd008320fc5d74843ede7509f3c973c54050a31145c74d5156dcb5613cdb2a5af9bc260bf3dd9ba7d3363c2ad2d04b86e567132c2ff65a964bd828d1b47294a1cb197f555db84cab41cd611750ba059be222daec6f1ea8c701ca036e4affb5753716c3361b5decc87b6587d4d17b2de646efd5a66ade7e384564a144d9edc6b0e72782d5b7b9ffad33b3301680e0fa6435c35b23d9a084e0379b9eadf8ba0da4aa4ab5107e0e2013ae56f037e24652fcc5e6639244cd7f5ce79492d8864f3ea1ab0d431d2b31b4dbe2ee06e0680d5cf139b42b5e0c31e833769ee63410835f2145c4c3329e8ebdf0384a38917a46c0c754b19496b49a0f37ee6d97b3e71b6d80126f7ee4bcb4da9c417752c08fc82b722a8a36d2286b4dd656c95e370adae766fa07e8c79d3864638e5b7b540aeb1251ea4391d646c2acf2b893eff7140b34520e839370b04e23ac58dcc30aec4dfc8e08bcff2dab0a75390ca8b5d4af50eb2c75102c08fc0ac87f8194bb6d7c016e0e5cd12d855e5f3e29701d803f2b3ae25552ce4572d3560fefbfb782fcf4dde3e3e22d90942256676a559a03f5034aa7bc208f38fcb714bff8db1e1d184d2580c5cf286d000790c236c72864e8b053ce9e48e4881a7fdbd0ab3fb31e4715baa2a1853342f42f5e46c0be3687b02db6eb22b251abf5ee38d982fcc81862ca5bd82ce3b81e40381b014e4bad3043e82d605cd3c1862704b8651ce2502796190e468b3d4c932a5c43c49baaaba3d0c64725c17675c91d28a0bf409ed9f0421eed993a622137e071c19792f67bb932add38d0f24bda437bafd32479d5c694b4f97c2993596624092b259e7a72ba2c64da1b4478d0f05f24a6c3f8f629a865f4050d1f5283eedd0f87fd846248e3783ad6b23b94e7cca769661a0cfa68f42a681229c37e5f75dd099af5beca93128209afcc45d6e630a40eac2b23c74d4d4690a95ac8fe7603902be958586a8cbdbb31ba8b5453558e11beacb6bac6a7c9f79fd99683353eaf2a7270803603db5458a5f26809250dfc3e52ab6bb056c3666d593c9bd088b3f87c168ce79bd8b9d28b047816de75d65c1241d7d5f276ffe63f01e78ed28b87ea1a270bd844cc864b4df1d559e98c91a48204e8543b11a71e1cd3690a53ad7a0aea1a51f2b11f15a257a2eed0071544779037226a05287f77cd0fcba58dcb566059e754b7d796846bcaf4186d7a50eaeafd37df3be3bd60535c8f45095e417fe2f37f852a62a91df26481ec50617b0f9fd22a1244a9b878a8ed91b7d40203bf960a943b1e00b8b23d2320779dec6f31227bcede27a31e4a701efe2e030d5b36cb113bfcf4ccfbd601ca968dd3adcadcdf40607bb91435894a64d2db45361aa4b20e6960e04e30a915f9bfdafcf151a7418fe42a1c2f4bd747b649b74a221752261aec1bb9bc728187b891e3a7316894725fb56317e40b80857c7164b2f734d1f091f065b2cf14f0d3c613a8cd4bb254d2da76f569189df3a0d6cf17d724ebefa2906ba2db9f34c24aeaf8ece491e711f2704caea43d748566c947505ac2813e160b5f7a566663992c478d2ed9e5a15bd88e3637cb97036bacea2a2232976dcfc35f4352dc7a02e45fae0930b60ad3edaa24261dc0710bb06cb912f4e92b25bc9588d774711ae01ff3855a41a24caae8c6ecfc90b93e8d2331db1ab98771e50ae562bde8c31bd47f144081519d0757e6812d68c1d0c171fcd6855367aec4866c707f2c7666a8e0b3ae125f4340e414a550b02e35f2f963d2ae0f08b1ce35eaaf4ecc21312a771511c68fcc291e29479efa1eccd529fb4c650fd76d618269e319f5ec6575d180b0e3ddd575a745c9e797daebf09e3f71f34b1f9d8d69ee68a45f618131a5cc38d732a4226d5fad52bfa460caaa77a1290f7a3b0b66be4833976a8d5941507a5b5d6bca9a28e2ef6e83d400d8ca1d4cd49a4f65b434809ab4443177d1e38fe149f9f367142d0325a34fdd032ad01ed344dc361911d2008047c53861374ca3d17d612407cac7122e4d6b855a8b5cd2c4016f642cc44a239550ff12d695f5fb47cd069eb4e31709ad43ab8bca648fd16a133a4f0530f6940ce30a4dfbc6bba13327b802dc51bb1ec5c0dd55b4bd1f2cded5ce2d386b2a11e56e0dea1a552d3a9b4715bc852c1c3cd7532917e01a34f3f2eeae1dcc84afc0eea1c0ba8ced4618e0599cbf44bec483a36108c04f15b59c87089c113871a107de4eeed2a23d97998327ea478480a7df6daa41641e8cb0ffbc992be458b268d7358294d6c74abefbc8c0559d78030247dadb811bb49f1c78f36eaa28724d04741b5e0a327c0fbefa78f8ec6756f6b584554dc209d92a13e56e2e4cf057d81d0dbb7d3cb52fb3f2a5a435c2a79db522d08498cd3306d7150696c503617a573cead8436c97fb042472fffdf3c6fc68e5b75df53a27f9cecdc2033966827c137947c9292315346b7d03877f84984cc0139136c186d7617c40db160bd9c02bcd985993ef8e1d68c2211ab734327fcc27dc924fd606a12b7ba100b0b72422712d01ced3148a851d6397c0196664f53131db61a99696681ed0d871680304747cb658293105bf223856a5e6ff3d04573237973d40db53271d27b68c27854f7c3377c9202615dd1b42432f06d2941bb21a0690d56b3425a2f622a81372dad1c09a2a1e11b07f75216ec2659cdc149ec5f4b2b715e8f73458b5ad31414ff11ec5899d29de4f9d3cbd042fa871af9acb4b682cda32e4aecee42f48156d019548beea79fb90c2782b68993ccea3a7a86b07fff32c9c532e300ac263dbbcee9c473ddfd2dae17c2e2cc09cdbc5e5f03e0fb82a8ea7393db6c25478b38c3284dd46c6dbaf0a2d02603a1cc8fded02af29e7377b878e41ae2449fa64821ed4cf9b04a05392839f5ed734bdceb699d286407f04cf6a879264f570f6eea5dd83b630f1e2b14b31b53a86fa6afc6397c663b7f76ef97c0f1ab5e6e9384ff139fb934071784077e54142a158ead3c0ad0a1de1f6957dda8014cfd672de1161d53493d25edeb9ed3aaf50b23c1fc2e3361017794cdf00ea429e9a09f9fa188d49026556e8799e7dd8a16d97d095b5693200edf0f9f8fafae3cc3a9173dc16f8abbff24bc018caa7e26c2959aa6387597f04f211392b3eea80330e13e87556dbd05936cb0341d9bdee0d393ee2bb17dc8780a9f5fefe59e5193015c4e090bc74d924b56855a1b8d25250160a07c666218dfcbd4fe7a3acca599a3442e181e04294794022a0c71c39059150bb2ff868132a78f6e475693323005f13de68f442ec915b76ec02d9074fc715021adc6d9e0639d37589b85b51a1bfd973fd2c3a85052ca4bfc6699859f8fbcb0e780cb123421d781ba069b9b392ff6c166b3b6e9041ce4d864c9efb6419e4bae127172b898abef90f84b8e17739d6816020706e1d68e945b8b548b7bafc35d36f12d032a802d6c81a2dd13492bb9b62c5298dbef75651d55d7099d24dde6539c5a7a4ba423e8c9cfeb4dfce997ba99f82b1bc4a3db4fc14538cd6eb1055aeb0ef1c8dd4b7412a592c27d8021d209eab037fb668a9044c8d9eecbe46881353fefd9bcfee526e0e26f98bc826785e5415022fc829c75df1c0e688144b74a3bd5e1f601850df36b04de966fc1371547244ccc9acc5725be6d15445613e9a00aee8516a93eb06cb9380b6c5abb096cb37e6e1af9d3dc8ac3427e2fab4823e970d1c2a740773e9becba7636eaf6fb740973f7f5c7259904a4095242e27e61ab917b4dab16c70f7b509b84dcaeb23016080093a5712eac4fa06c5922b58a6d8aff50730e66d4f102a57a43937c270d49fa882afa228429e86d8d1364140c01d3347b2880a7ded4312b732d089b2a5ee9a15a003fd0a242683383db13dabc94a2113dfacbe7eaa048b931da234590ced35d9e6a28398db5e5cbf40c79c97cfa382c22bb827177cdaf7e89e19dca202fcf2eb282ea1da97b81d75e5d8853305b41f6ac7f374ce976d4f42ac5ff26a561e97d133b1f0646a228eb2c5f344e04c92cda890c47c2670cfd37b4724a9b2e0c582790251ca92be4e0ecaea47cde9717c786c274ffba88855f311fca2651520f62bda5a78e8f95d22725be353f784828d8a53aa341df6db95340994c3f3f7b39b83b995536f79db28a99d6e3b2c06ee6f36a9ddab2ecc34dbe2fca2892934a21df9d1cb11d362fd5931ee2607900e959d2d6e01a12d1bc44fab91d6da553d32279bb8c6abd7fe0e8c2b864829d68f6f32bb5a0f6e550920cc04f94d573c592cb7aee7b15347da95e55638e64b63d5ed4d23edcde1926b02c06fc4987946e5a4d2f5dcb121d6638845afcbc6639f17f8112bde26d7c0006d00b8b4dd4f5078d2491a3d2857c9caa0e5ccd4d7d82009acac068154ac836e5fbe7937cc5c8cf9ab511a6dab72d0cd1dbff771ef1b7754aaa96b7bad7d1fb3136fe5c7c7c1d97da5398b8e393a0156076c372dabadb7698ff50e93c16b0874b4add34ff1c398b2abc45f596e5806a172e4231145967f481dcee9a6892ae3bfdf253f1c19b6e7e9b1d0c4e7c5af3ab2727a9e3721ac581419b504648bd7890d44be11e0c2654f73a3b895624129a923c630f34df4622d35a328f475e3c4de53d3852bd7a34b87762050c3c5ef311c7b5cdefb1fabfa3f4a4c6aa1cf08e42e488bfa215416801781199e8a646f3b7af791719d2c3322cff32333b5f5286fa8415db423b889156edf4a3bac7b6530e8c3201fb3a77d385779326322473b5a5a79c75cf1f01c48120213bc4f5c67e5ad45b8272e84cbe3ad64e614cde8747f87d0bbe2c0d806a16c4411b813f2c9cc8f67b4b0458ac620cb5cfe5b04b0bfd757827e2c2b8f5179564907c0bc3a0c2d2e17a0d5cd8f0b4493a819e6f4625c9a089ffe09314d68bcf6cc736146fd3eb10b1f8c6652d4dcd21a49e07adeefde5ae4b96d6629ab2ba5b3d82111a0b5b3b0d75e1d54dac7adaeccfd2d242829a929bb2a5480ccc9578ccd0ceb4ba966346ebde086c109e3b368d6cf375da84cfc7e9f3d8cb118bf6345b2bed31fdffdf18c89fa64a034c61179677f80ce2cc63082926ba6798ed0391ecb68322ff4652395225de7db816a25e42bd029e605b1d07fc08e196e1af69e4e4ebafa10abee271e8b1444795574b1ff157cefda1b77e8f0faab8579d314e1c0e8be53fb6fabe20883cac49bee9f7511ae62ace365d11c5ec6874a18c19ba7313b66a01939b15b9b56cd70f0ad79d73983b3cd7fbb6ebd9d2086f5f76b90240b56b7e3de9faf1d1da243af016579aba6e597f3d521fe4108513d112c63ca3ec4dca274c2464396b0c5bf2d856a65669e4caacac4b1aaf3444b030119c640086e7eccce8b5fe01ebe3f1ed7917a1fe93f241ba0854deff578ed4e81e899823760a2c714092e32730fda6588b5e38b6880790222867f8428fde17118a4e4b1fa63ac82ce0e33c7fda0a6024d08eb661b547caede4b22c17e34d93bd8d7e85adf86fdfa9d150dff732cfa1641c70748353ea9eb5fe5a12bdddcc8fa1abdd3b2b7e90c507999144b55f3cf9ba52640fb930daf986867a4b142127c137f003b828f649fc67bc7a48c4aed78481711ac1a71c629996818ce7e939c73405ddec17ace7715b1d031f7b9daf3489205bc7ec0b78c411cf1f32c1e36151ac9ce31af1f864a8ef830f87742423b16d11df8efa64d9823561b9857b8847a6dd4047bd8f9f493b9721c44ac42ec63884dc8f2756cfac2e2635826121c19d44b3abe05f10d5a2ebb8161358421c0444106a7cb6c3b69645df465c45f9cca1daaf660abf6ed78b60c2d61dafd2850117f3618f02719858621ec45e22b0b55f99a305eb75318a97cfad1fbcfe430889325d4ad72d49f3e6ca914e2b4e2732c355bc5b7ccc349c5223a389488d31479c149bc2ef19734534ab824941643c52a66be667c4cbf3dba27d9bc2e8842069cef668d0d5e3b6f7439a76bddd77041b48512c85133d1d46593bf8b222d5ca1a539215f2ae93489368f0b7382984f6a7751b383138e8b8bb5e11a33768332251c3cbbfbe78eab4e5cfcd8a277135a3027fbb1d5f0b834ba04577819beafb37484f46e9758bd7da77c5bfc5802a3254430150d1aff031806f78b5d519aa79682e05e094049335d9d897450bba8cb343df0bb06dec5bd3fa3a12647a59c80b355c2a65eae9079770bdc4503fd682b2ad7a7e470935d274a4f3564e9daf7a6f5521b98307df6041fd2fa04ddba3431d59a369f28a9be47b54305a437e2ccefa48b504e569d8707306d7595b1780333f014af2b92c355ce76fa9f5f132ae1904770c625c490b596e108d6b676917c9e8c33db8438a16d9717bdd5663407bacf08343654497ce3ce7799b08042bbc4dd8c47f90580a86064efa0c5fb36cc6ab891c03df01541ba4ef2705af439bd04b5d79957c2d1be1230b53a3717fcad88e5eeeaa66ee05b557d73f44ec0c0df95a1603a94ab773df65522ea202f7453a58cf9b6cb3e53f2fdfa0ad48a44072afc68275a378bb5e2dc1491c39e8b032e894f296d519ce5418f2160a1a2d0dc89a178c72159c83bdbdc557d2ce3ac7437d9a49fd18bace56a28ddbc970348d02ecdc26acdc455236d7a491e1013891fc52dcf6a928c3cd696a40b4692b63c9052710eb7a665af6910807668bf34226e1b9d6c27aec363c67debd6004a35bc3b8fcdb0de651765de66425861fa08742f1d76536b574f762e8dd78732e6b013302abb9349195b1c837cbc0bda7f334fc4700d9cd26e8486448e6474c701af5f1c0c42caca5450ca37790438c58aaff50bdbc1826cfafee5c75f9de20f1aecdd2c11d7aefe96d9e7a6e3799c277cccb91ed56ee36ea5a74285d9ed2c833feae299da3bcae22be37d08564e6131a269628ab343872eeff20ceb96eadc5a705ca21d4c6880b036d80b6de5f8b7e982c703637f64fcb60c429fb8b43fbf0e7903aa407d8f6b555f4ee9df016df5a2746c920b4a7a4d36906cf94833b1c15ee6e57e932527ae2238c3cb9b72a9a260ca1d2cb9718853b24e185b71d46e6899728c2e3db5bcf8a5fc10959571a9b137458af48985d3bf82e0c62a0317c8375e095533de6a62f5314e28c86e35e3c44d61d5efbafac78ccd3048c856d0adbe5339b161df81d2454dea92dcad285067f6dce257ce564b848b93748ab15c6c3f0b3d75bb13286eda566fa5f9931a58ad28362dfaa902d3607344c2709bc0fe0706255e47d678fe63e3991e16a515b8a0e64dcd3dfaff2fc6535e98ccabff30f94e191096cc4a8bc71bd390694af875a4b7a3386235c93d18b248049d0ff0e6984e74f2e306ab10d4b39608b090c2d0a753628a0e9954a1ab6948ea1261d13472e092e4d1e0f8af145b98f3fe7a91a596c842f328ae89365e3fd95b84852422716578826561f1e570a8624339adc7fb30bf89213840dc8ade47193782ce1ce13f59885f26dece9a8ca73d30b7c22f882277e83cac3747a8dc92b43863e1ee4187c6079107d74c517611713d10e64ebf63c43677ac9441634665e9ea81b472ff0f4d341356f27e7b88e67e5a6e9b9b1db4f19c6e8d0614c0fac1a07a18a5de8718a69ddcddd755bedbe7bba2247a6cad80e1daf806614cc4d45239bbd01f36c692ecfef9178eded10aeb34e60079b169840750481c74116cd097b1a09f9de323885b9982b516a9b24ffe338130b6d3c37847f18e0e363da1149bd1971dcbec8f1dc22a71ad3341877f3d934f1c0546c66bda04bc5c1c09c0dd2be26ae262df8a90d4e9c9a4ea86a238abf8560e200ea010e37cc8809086ea22df9e525d6d5cd9f3f39e87c9887833685e87f0fcdc0a79cc9e4fd9e99140068fe7f4c9dee2057cedb4b401e576a135ce51ecced7e20089fd35317d67d87ca63dd0a64f7674ad9b07aa8c50443b360b6c06d679e3e77dc91c7dbf4459f1fc693abe56bb655be753c64defb16a947956d859c19a9db2032542b22d33d9ccff27786438bfe3006dd6087d69c4a329e3fa71fc852f274b7d770a8943a81ae4b338ce30db6539ddf3fc52b88a909581696b50fc0c7f5d44b777dfde6b840426be927b23797e51b3035c6d67c3196dee17976b1c631437fb8b95a39a127f174148737e1e0930f377095caf65892d43d771b689a2cf812ad12237cb29875001db5b12a4358b2f0386aa41ae7150ee7d37c09ca3d43dc5a06225ceb331f388ff821c9125ca18eb65fa8b41a88ffa25f2762bab49824ca4dae513748f1ad3c8d70fd4a4bbb5ef5c854552219372bc74ffb52dc2366fb4326762a99575db2f9afce0012aabaa77d5cad8a19f214d6223cbd2d178d85e20aa0be53ceb2265eb7208da9eb8f5a2c690b6987fb69efcea915e7b94f8cdfa40d45e80a53b1778c9ec8ac809ada85d77c27d7e8e5cdad4ea376d620ef644f3c8ca6a29c59a0c3662116bc45d4e40b9976a850e2688cc6e561016d2b8e664569f96bc13553eb76b9e59187b77e371defe8fea9ac172435fd04b3ecef847f65ad339fdda3f2ae9dd7f8035991c6c9c5e37a6a3170dd433ccf0e0c28471d7ba5761f92dbe12c24689c44dd1ecfd708d9f77d39236bc60e14c655f3564a9e408e81946eba8641d53f97251b1376c37ca6c5bda796e024be0893e93ba263bbae6131e40938fbfee1b41e46ba78b79cfd6b507cce76da3280152b147219d6065f8dfaf56e149e38e78108b51db06c26046f07190aed58de77f33a9ba14d217b65b525a35c0dcb6268b9ecf45f12273e1eb746e7cf853931f1d45b0f3248b4712c915f9aab7e2ce62e85bf2d78318ea13deb73f5ca24b90a0a094ec686fedc14f75943a893b9b11f84d8ee2e22f6e9f6763c5ba008be8d8bbcf4f98d806160e6aa1c3f25b38ebcebc89e27416673e51f7ebaf628908fc1a2b6511c9098a58d7a0ec86a129c36dc7bc3a7d41faf00a78d2b1814a4a3dab402ac8c0df29dbb059fff285a77512dd3e888920b12ce98c685a77f53ac44a41b6cb081a40a92249e1c14d22cf4f0681e679bbd07cabeb57276dbc8a0ac76e6d7ceb6372347a222cbc1d01879a02fc131b45d2176ec9dd3b9c347a78fc34a9f77beb07085200d864221d569a043e779401b96349ca2c46d81f9210fa84d0e01e19f3db7197d6fe4cfd73458ae50588624d434d5b985c0da461ad6ebb402ca91e106c38dfd931914eee62cb6390187e553902aef56693f8b0b6379ad791c107a6b4c4514bec13bbcb79e723c099dec191c850a43a4c4002ffec4d0401f670774e553d57c1fca81beeea72bf67069cecc731fb64c635a293a46d61bc0af8d15bbce03dbc24e0bd78834a2de6864ae7d3f3310f905826f02cd69c54fbe8c92c7045b775f1cea39b55a0d8c932e502f353e6836cdadb8398ea8320f9de92f5a8ea14dfe1200fd883a870fd1002997a38b4b6312da7482fe8c513b722347c59132cccef4709f20eac25bbfa159fc34198a2b818df74ea216cfe5888681dfb610913d76e3a551d998030d695406caffaa86b6156e7153c73c32f5f66cb94e7a7fa381e1bde3aa9cdc4d4fe8ae592ed5d834c0c83f1c01443d9c2b6e4e4de37da9d80b0af27c76ecf8499ffd2c37c2139546f36b00baa4d7c723205d43efcd9ae6f4386fcd1dce59dd9ee60e5b64a3fc6e831c20748884be7d03747e672e047f06a66e41deba0613946022f3b3daefe0b9291c0ad611dc5ae20a49250d28c3006ef0f0a28137f81eaade297f42abe8fb788b77973d7a17ac50ea99509c342c2876dd73979627fa31fbcc6c93cf685d7eadce89b0211dc29ee96ac76e8de0b31a61a949fc129de2fd1393226988ed9198300908a253bc001e998b9987e2ed2548963353ecd7d5b2c4821977adfc93fef25a0f9845ee788ab8bcce3f4fe0be55f2878abba6171bb1ffef885fd64359752dbb5002ab9f34ec726fb09a90cd7720bc5c56f992e7912f6c575b879cda6a294733739fe714bc0ae86f9c5caa4cccbb2de03d1436eb228265403b94fd8fafb5bcebe4ee86e1b44211ac0fc4d80a73eb623048f3ba25467a612633d6b984d4961e02cfeb6f0ba328326f6b8328930f1e0507ad6321f6f06104de6a7a6e1e5754bf5151c64c661f3de4f93f9d609fda25cc05e47fe713cbc68bb5d2a8430615f67c53f08cd326f8e04dc44321c345caee40130bd5fe444ecda6c3be951ab15c64bbb0b75c14c15be12a5952763a3407a2c54fc44cb5121067392f22ad59cfdb6d07c5c32ec16eedcb5300efbec6ebe50a671ebe7036c87705d8ced42ad8fb136edecbc946515be6a4b074eaea19eeda544710fe68ae260e5c4330b9e58e65b046dc7258b9b828c7b5c3aaba2e2f23814aca715056a82f2b1936fae2221a9961030c0c56c5aee491ac0ae349209966fa619cb949b71c1bf275fc1b51496a845f9a9a215bb7cb4c78efbf51d7b60d5e5a05e858f9cd09962d477c3ecf4e99075c54e75655cab111ef3ba742799c2b4d3d0a966ca072c1a1b45743dc8a39a97c5e688efb37a9d462819674ab5e980e916a0b7e6b6de966259a10da6a631f636110093b94a1709df2851cabdba1fe9b703ec24774a0cc004c835b78b9097d00a1b424208def1413b90db18bd6f3b1853b2203283f1a4d0f92a600a225cdcf5801d96115907df9ed0d52d42da8e29c4961cf00aaf751c37fe04f06ba9ec59248406c958a57dba6355c8466c5bf4878f97ef90c4cfb4a95b12454e160aa825d422f9f7a51b343bceb9ccc7f746c4b624ea4c57c8c85fb4592bab39627fa2378dbd2da2774e58b0175585719761fb34c7dc72b5fb9fb7f2f2052c6ce9272fb8968d54cd60e51c9ba0647b7fcb0fc0eebc906f6a77ae371be1cd2553e4cf675df35ba092e79b1e81f56c43d3346996b3eee4bd7df418951a19e8d05196742ec7a36069c4bb14e3191d78bd539e02fb28a4564bc1f35b04a8127efef9c413b34d94f0672dd657a70aa476ccafb10e00fb4474fe53d411e2c10357eea4986f77365c643e8b2dfba1aa3ac074b9806a7d2ac5c6a69fa2356965840a0a23e2f62374826c376374c95ee4c23e0bc95638b05d2a81e5c81ab5f9ad92f5f5f16eb83565aca9a9efc2356607c5d01f803a5466fe6722fe999d18eed07842fca9ff520d530bf2e7afaa57fa52c3fa6be53430fb1b9d0f8fa1cc48292539caa22368f5180f4c7ba7324d1811295258ace2068d61767503af41c1cad10b9cf58224f472331b250fc63f0dfa52d3ee02dae62c7474e01aa892df651acae7ab5ad8cb2876f8a5870f1bd66182a180bd46e76a39af73570c5854a9ae91a56a807faeeb22ea4a985a6f7f68eb190e905fe12c73bab1286a333ed487b5917610caae3922c40dcd896f239eb6a81ef15cb8b08892633f7c85fd1a1d0c25d93d9f509b6b600bcaa3c06b1e94a9ed36dcfb5c99173571ab635295e4399b5b679a14a7c8194fef5e8b24ce95295a3f2c48c4ad2636b924c43690448589106f29f1badef161c511373f6373867df9256667779af269ca11c97e00dc5f5cfc770a74a45a6b3dbb7c0762624545e09edeeacfb49e19678ab861efd8adbd39c7cba3a86f2b9aaf97245fd464da810b43cf9563b88908e45eea717f23dca5176de0bea3b764a6b3c4c717386f000e3e8c47214b56070afc09e78f3bee90e2b85b38bc336c6a910161716a2d165ff63a2d185003723f6fa72aa7c3c26f3781d506aeb64f9d5590bb27cc764ae31dc5b1eae1a9bb0b7c3711b96613ae1035fbf0325a7c1032c7f7f938e410b7ad7bc45c5f1e1e56644ac947d64733d8dce5759b94e5bdc5b8d7c3a215cdac09130b14103d7bed91c4b4907447c28462b30ef594b42f93c0b5f768713119ec92be9d9fc1ad08b1f53fc74678fc89f3ba5127c1aef99248f0603b662a939a6a178c2da8f7dc91326ed104bcca6398b1e7ed457f89b4bfba04684082427ee9d73f0de712faa6b674d2a17be1c31c6c85400111ca2a797708754db11752a397fe9bc2cac7b1e3f46badf4bd9a5a8a166269e78d9c06cae7a2a69b6a93976c9d4ad09eaee89193269e60e9dd334e95d8508d225c84b63f21d79146eb80b472545d6ae1f324bd6acb231255c33b42d94510eb72d92c769a66f95ddb0ffb6d2927bbb85c3c17a8b6bfdd987bbd5ddd34c91dadd91de236f7cd4e374d0999bb405cdd448bb9f4f996c955ef23ccbe05cb2ba9699b47ab2ce2a8a7f0d3b039f4296a00c158d749b569ec22f4b52a107e4459c6d4b35303fa9ad323079072ae6018a004d8927396da775423cad6013fab5416f96b45fe4b180197ceedb7dac3521f0fc233e22e18eca83b0b59ec2b3bbb0166f42a6abf14d02ad86eea3e613c516efd405579a0fc0f0b886563982e3c5b400767e718bfca64cc1f9be5722adedbd8d1a96034f04a8f2b0b1292971d2d33ddc77d7b2ea6c9fa4bfd219713db865551110b927aff55bd5ae43334b2b334377eb26e72eb7c50795aca3d529659b4e86eb202ef79300247a45c7597cdf7e8e53254cbadeeb120de818a252a9e63c9c2154b2123d7131d0e826e3c739bda6a1c6568b1eb64e6e44bd71c24602a4b4c678993aa7414123a650e307f6f25a96fb7f8c76c2ba5862c64ae5f4cf95ed24357bc97f3d05c01acb3814cb07751bf0eb7942002b2b162d1e544fb1d077ca0f1c41cb005dd494c66adc64f3cd9ef609ea4a51410d8628af3ffe0b0ad4430eab65e5f7358082c37b9e0d0d520ab36bafb1d69e2a52ea5b004466ca11c81a77c607e066956e7fcf8f8fb9a9d339efe282ee9769e8f2ac34583f770fc87344401170b022687821ab93dc9539fe8b80ac28c66a33eb92bba0cb85c0bb960c23e1dedc73eb71f843a26ef575278d8e1df8bfdfb7283b059e8dfc5204b635245dc7dff0e2f9449bf423f100244827a264a40a1fabb25fb16128c45a7d5e0d39342e47cfb9979debda6e078b88cf8dd66e84d10fb45f46c278743ec1aadf0b2102cb635245b83d467ccee5c7ce70a59dfe2a5b02ba4035149f320ecf594f91e2a58253359ac30a0a81dc268cb2ae8dc52ebdd311125abff5244649c4b8dd0c75fd6741916cc5ce3fa60aa3b1fd0004a0796770eccbcfbf6a19862e23825024a3d8350d5d6c48c56f82356efe7b850a8fca261333533fcac3b0cf5f1545469e60982836bf7375949f105564d5db05f1590b19709b74ba89d2140df03a05d59fc557ae6c0b1133583c3ad0243a5a8f9bab3bf752a7fe1b99c23994d2bc4f09d68e0b8f8444b0c99b2818f18ce0bd709a399a791027b2ed93f5fcc4f4a61ae231b53618f229f1df03af537fd3f417ff668e9fe8ac7dcbe44a38c47c911c83a17d91491019027263a8d16d5d7c665985940c9300b128f71a77bbc8a57cc4987c0c9d094b47edc04ab505ca59f260ee88a61cf032aa6e25807fcd5290a7edd085a798d017175f34c41495b5a8c34a90d451c1fb369f87bc08e4416fd8643e8aa1e4b2ed66039ef927fb3148eeb30a1808d9de59bb0b03d4acd9d34d7317d2e4befa429780341c7d9032e693d81a9799dcb357eaa8e4c92af5b947ea09c7ddf295e4715741e80252b745a9821cfacf090556efbc0ce33f8296f41016285c6535285ec4d61b54bc33c79b1d8c762532df2bc74143b515a5908421f487ce42c50a215db6bd662bac4eb08e70e43c6d5414ca8a49daa39b354245289ff7c159382aa36af905070cdd9f9f2923a74c1aa6588611236b69c5775cfd5a37ce4ddea95d903ad9f13e3549160c58c8d9223e71b393bd275600eaae74552a5223ef995acf5674b0f7320140afc3289a5637db561a5136c354edce0d68af9dd1686cd385e59a511b3e85b50d628b18c22dc933360550322d3cad7358d495f3553518c053d26471f793df70fd045aa992ad77af78d15e5db893cef560fff1d0550afcc0b5599ca1119d5b2e3a3f848471bf18c9f1379cdf75aaab39315e720281e60b5302c3c5c9a49f806acd8dd5a93c96e3fce08d526ea75ec05a349c08c1b3a55bae6d94c33e69cbdd5c6baaf3973988c5fe96591ffbb8301e83fee92478535c8c1bdcfcca4458884c5181fdb80032018c15f9c09b1d535171c0158246c186ad838bfd5cc660f7b5458e66c722d9a7530ec7395fb92ae72ef9f0e4c413a6b4b1c2cf1b274958dcab4d722840e8ad00d5f97237f8bb35cba645df2e811e6f90522559ceab279c087d52dd6997b74e2c9019dc35a341e95552b3e19c659686b436d75fb311939a7377c9a736ac9ae84ca5e8ba8804a62873dc5bc57bb11a3611640e06fabf62fa1a9329bab9cdd74fec0fdc505dce2eeeeae9e8e1f15e566656aa1e7e73369f16a92184f516e8b7d128f48e46223a198ddee26a12cc19a5f49f9af152934727a5ea0528e06b99b926d1a5ebd88f3743618e86ef97bc4e270094790c7f33943e6bccb59821a1da7b433ffc2b458f47d68e0836c07834e2fcf3768254c50f9c90ce7a254c025ba71826d31138b3867ff3ecb3f2f2972825a26353651e24685960ec99357bf8f6eabcd4d5b3bc4c809458f0836dfd7ca678f560beffce674b73ee946545cc809876ff5a66abdb711bf88a38effbc858d1a2dde2bd05555a41dbb153f3c9b10944329f2172511c14ff0674449167c3d731f540f9459e85058d2df9300cb4688bb299de7e565f4ebbc3080415658a116f55a83d5e0425ef317aafdbd6e9a8947510676bf8a5262ba34ffb9174c95606ac48e46293fab061af61a360cc9cdb531901ec1d0cd3bb4dc812ecc04331a2fec5b4f3a884f7e12f29c8305f13fd8b6b0d968ee90bb61584fff811c1367c1a05e8a20512beb38320ca0ed02e9d1b620afc163bbec3acf051f748e2b9a18620ccb48898589c332e6bab25d00d4f966771ae2b0f8c760b3cc28076611c25042f8058c1a7bff0852e2927fed4b6da10cf4dcd76ceaab0f906b1766f7abde8c6a270fdea58199f892cf6c2d071cc4c3d88d844851eb7fac80d14fd832a8db0289ff78d48e2702c7d49a3af32628a1b27597e6c683cbdd3264fea66c3c9a68dd333214bc69591c759b2d4ce84020e430ce274c39bac292cbb1a5972aa233a4ac3d312076e575af392ce184c1c4b97a775ac9db352c9f3f332dda53027ec2c5afc29284221f0d3c2270b0ab73395e87fad704274012acdf9854d6f8bda2e22bf632109dbf2cbe2d5fa6f87dd8e186a712154f9bc9f5f107a7fa6d4c5bd8001700648664ca666a82909c34eeab82a22525786e29c6c96c0cd9e75c932555709bad56ee4ccda651d5dfc4917df935b66866820604b8d9ecee55d26d173e8e54a7524b5bd4d29e1da6f02b45b642d529b22fac4d785f135f45255399ba9e39657b6581b30b0204d410c118727b61999277d9f298882479b8a979315d34ce790a07e8ec167f90b27395927bc19173627c7b2399dfd8f2836212b352c4eb6787f9870a095db384ab04a5cee2d0c057bd14c43bbda52c74a02d5209c2326c802df52b89f51f0ae79f37715a2384767fa84029358a755df06f0be30fda9b773236b28e208c95594ea28de3e957dcf9a816f9cda1669cfe5e3d1eca89ac5433b7d03cc17e090d742e14fdf9131361a2aa9512ac72777d10d5bc30fb4d27bd671815df451e649eb2b8d3311e6d20c2689264da42430cfefb73c68e1a7df9b18870eee5cf7dfb0b46a3b9d85860afb3f199407e4fad7961f94fc29249829ab91fe719f6b0ceeea22cb0fd520db66a0d28633735d834ce8176665d5f0936acae3b7ac9d62b87eb53f23be8fb099ded5aa6d78dba1e88f97f636d91580872e4f1c353c5cb0b717a8f0b444a292deed76340339695643be6b14695ce78e66dfc2fd0efffa2862fe0ea92cf9356c133b9b01446a273687df3f4c58ecba3dd5d502d508defebf91ed114fe1c9a8057e513be3b36bda8316564924797b03708e94ded81063f7fc1adb9abad9cdf81da6d3a69a682b571e2a9786cbf72476009f0b039e800bbc2760f1328a8aede914cfde86ed0669904b9183cd6d2da8ba32fd8362421026a6b497a3f866ef285d6f9d6ec2f0391751dd30132082cd32af334d34eff78617abc395977536799abcec1fbf87a1760f1def115c190394e96e79e7793f0f5acbb6b728fd184ec08293915984fdd132c27af475e5833ea716e34f365b9818a35c0a819460c47815bb01a9ad6694903ade514abe0ce1e095fdb13be1878636ff843fc6c2fda8001726dfc15fcf72d9f94952d939f74197a8fa89039d473973c85d45d67439db937d178b5e64926a7a41b8309b2ac6ec4703cf82d5243d51b8d5353978610ba3d592b724ede0a13bfeaa4a0e8b7e67c5f665fd6f0ce42758bc5cd060fa6562d2f9b82024007e8d475b2e57fd75e2473e0e1a4db8628088f47ed8aa08258ae46a6291cbacad39d652c4d619ee03eec28e3b71950fe9a48c021a4b6003e15da8b2fefd9dd15e9526756174353726f37532b290e2d0c08eb255ae8982e021f1af61f391329b9631b580b2ff050eafdee8deab763b55cffb71fe17ad8533c65e1bfb7cdcd1971ee1228f2120e5d89982c3efd100af594bf43c5f3abbb69815458f0ba5e5f8444cdb14437898462939769f217e9120f74ebcfb590360a7cab418848c87839345a143943372ac6654b3238b65a2f709751120e0a8f943daf39b805d626e35594fc16c786b74f6eda6eefa0386df487b95097ed6927bc693e79d3a7ec7393a30270be552a0a3c8267ef95824290df78221bed2ab3b7c7d83a6512c3212986dd9461b0651494a7cc3c12f626327ef1e67f76dd89c69a8002dc0e748ebcf9c4c06cf7253c94a41d5ddf3dc8ae7dfe5a1d9454223bc430fbcd8c5ef4dcbaf0ceae9d417a5df1e9122f6b46ae9386cc9fa7e73f8bcb15233c8c0705b164b244d39fb7262d8eb3328952199563f8555fca8661ef56c3f7fe4751a932e6588736472211206b20714b69c960774bfea39fc420132ea28dde7c308759487e7ba33af6824ac7b2542ca950cd78c5475ca1c3a645e0d67a831f07392e56be6a77d775088fd6465d5bf2ee33e136f2eb6e70aab9ceadce655a5f8cb1b48e5ef9d31ab79c5f4a46890ba8bde8553f0e838db99d4b23d4596be746351e7ca1502baa1675d17121e229127ab039d76a99216916e9227b22a5196f108f34cf542494a66d55bead4b0c8551975780c0004105489996a21a23904ce0ba9ea4b5c0e32ba04110a5ddd62d61e20c18b6a84e5f076d2d56cf2371c2522a1b2b10f02a94cd621b70b8d0598b95bb81cad9165569f49be11109403a95bfc9803e473aed0fa7ef9160335b0dc691294cd217c4cbac5a7987b413efa890c7b42389212caa9e2162747bd01a3b7e5072fa4f52f5248243f336978ba479fe462f0336b2ed0727a94a65e9f1d7cb68e79ccf724d5a91241ff4cdb0ca7f9baa24e30003878eb82a39a0a151855c2d1ef867ed7a8605b373829dc40f8b9bc49a0d3c81a6e4594445751102dc65119b60b480bed51f5623be96355aede4a42659f1f4e60b34797ae6c1d792e6c108e898b89457a67d7a4d4265acda46003643fd54854fd0882c4a85968fccf6922ad5d9685fe27b300c4168479678287abf23f63817b27e4d3467d1a23b2ff66e11d4aff88f6f33c49d190e1107c32e2aa74a44d3618a395c0a67fc878cc8157f931b8372537c958fb4ab674613e4f5fe9d67591d8e071431fe09a401784780730e98af8bb5a429147c65e39bca48c02e8df0e3d53084862a7a3a41a548c8aa27c02b9004e67b2a27fe7d94a0eda9f0b9358b540668aea28630587c045a5e3464f97a2819435d396043ae3536427d3ebe343433d471195de9cf80f57b5a2cdd707e9466b4c0b751927f917b47594f5b1819c9fcf1878cee23a527a4f8e6e7bf60b50b7faba90b37116ea25bee1d5bd1d8a1d70d371d0f9d0e4f69b665b06836cb3b14c8084330dfc94a66d68e3333e0836b75106c92ea1dc4edccb5235fa6f2c2b7143b0815faa6a1f4fbe2c3bc29dd5f46e516f28e5bc4f792ea6bbc00b45bad6b49e969762a8b2bae417053d62f32f4cb646cfdf5554328deb708a927d5f55181c3ccc5beebf797f5eaa197f9bb42a73efc71a42c7995680b010efa2b46b6e7695a3a9b91f58e191f576cc7f3d8299e0aacd9dafa9726007ba2afd56cce86b3bd1e035a6c09285409c10f33d1cfb27c9a4fe729492172f7ca880f0cb41a4c999b523105e71ca56eafd1a439c0caf9dd0398aed059c77e1189359633eeae3443ea4ce323577f6e7a54987c058f6b31f225a00689a535a29ae42ccf43e350bba4e96fab35f27d14d9fecfad80f8c9a50567c1fd56d8b943aba061fcb01d6dd5f392b52fc5c62bef12a2f3309b469337be05b3848aae38654193b626cbacec5e80277d6dd4510efcf9ad2ada292cc29b763d35efabb7f05c8109a7b51bdc54e684a8ed5260a2da6fd0f74eaa763a841e215fa97365d27d3801914c5b041ca8eaf41d7cd95072134c7b96423bcbb4a0e0a323c07de047863c48c616938e49709d970f18398a6c62df4df31718f916c709fa8d81372708d2d48ed3842c24e9a6cfe772b0df39edb33346b669f230c4752ffcfd0d4ca8f968042545bde5045df730591ae9c7f410df19a039f8f65f2a1f381e01b95ca1bd81fa66272219d59784c436d5cd423a76b236f90239dfee5a995494bad96010b378f49647873a3f5f5253fa18ff93eb894bbfa5a1a406874166dad95f97508980669b7c08859e14b624ac84d29a830752c7d98e360aa9320224aaed0acf83d23da7b710b96733917d97186b1693cf6b45bf25ed9edbc6f60f06a2fe55586b495070c617875a7b92316d8bbcac900172f17f1416ed1ed21098780ec011ef9cc5fd994a62bc7d7e524300b96dfaeb3556bf6e68cc8dda1901332306d4ac1557221bb4deadedf42bc0d126c2ea9211b5606ce3b7c313660c3051d2dbebf6a5d78490530258059dcc6dced39fc582f816a9e5c0b5207df44f947f6495b5a4a03ee99a8779f392d580f4d0b3cf43a4521269a805357c829c8d82589a762f1a2d686cd838ab5d60830db6944715f1d1d314eb5202a852d272938024c9a8db8b76ce73d7c56821518f3ad757f708f640965fbc8a9d0f403e4b6febfaeb804d524301fb0c39647e1dc76b3cd1f97be3b56e747f3e8cac7a5eab3c5db4322017f918d49c575eb4d5739685b6b95facd9ada455b87009aebddcf61294ee6d1e56afcfb0d5f9f82383260133336ccb05055245369d502da7c407bdb5f05b8a5fdb29f9b772e51812177b7a83ce15f80b36568658096d7a229f84090c9fa4e309a7c1769f187ddbd0f5d335e0a217730e02cd8a3e4bdfaecf0b8377e87ee3de7d40585e94e086c471841a78377e991790134ca6f021b928e6761036a685af31bc2d9fd811d5357923ca7bf971741374350d3df21a8b3acc56877c0b8e10ef9cac931ad2c6d5518f9cc3b4fab79df6b1dd6dc4cc08c45c3d109fbceb7bc8571","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
