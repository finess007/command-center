<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"559ba9ef58979e33e6418803f309f350f81926870aa8b2e44ffc13dbefeb13fe1459b5f4a6b97248e7644815e4730fd7a3317ef1fc676f64caf0845a3278dc22caac9c1c562083f1c43cb7740813f8e99a713f587928a9a40a6907ef6963003dbbbf723faa63abb68bd5e738b3716ddef403132b5c0c4cff0d3d45422f0a37d589f3220b48e7c3c8709e0c0fe0883f22d00bdca8d8127f77aeecbc7314afa494b45b235e491bfccc4a8c02e7aaa40e5f5072878db4380d0023ce01e08b51efac8d9630ab4faa9eed550ea489c96050d5080fba0a31a8a5695237c59824b3b96455c10022e6725dbe20aaacb25e8fede40b3bd7962dd8410ef979db00d823fc605b6bfdbb3f2c018abd693e4e0f95ab05fe89c9ce3ab6a9af5d049a080db4046ff286b5ef5eeb3c9e371f5d6d99acc6ffc8a2f72f4e7463331e8e446ffe64a2e35c78d2ae60248e662bddce57d05bb2a4dcd3892e005758930a124370100b2670d1e7383a825c01967e6de68b9c8a0fcd334ba7dd2a7a48ff9e5ea38649e35fcb06dc59edbc9258262e4994086d5f1b7cd1a751c278940e4c0041d87f320710af58463e374c076d4a6c7ccd6c59dabd529593ba10bdeddc363f7b2a73aa98343514301281fd9a1a2db2342064129fabf5b55e07bc1c19d4d3e308647e1cb75199923807eb3f93a5a892045d735acfbe1d41b657454061fa16e4dc92cffaa3c6134a66202e71f3262bd99b466968870d173ebb53f869bd46759afb139f790dfaa433a30fb57eac0592afa6b0bf0f1370fc61cf3b500f94f524288183187e0e6d442a9f3496cf20fe2689f9af9a27148cd751797eb8cfdfdce478db50f12338c4728fcec557909858aaa94677ca81c0ef96f61c36360dca3fd40bbea11aeb2e68a955c14d4a77940e4c5ee9ae1445aff7c28db72f24dd7b76358c68571925020982ec80598b877ef74335e818e986830fb284485b61a9841d9417161309d4992a2fdcc91349a4a572ab9032121f1001cf7a2a72247889a1d24a7008fa57105a2a883a25c474273f9ec81d217a9e6130b25d651c4e18c214c628acd7ddd40c23b0977f665e1b650ba7f38d915fd38f1d3121ece42cd22084196b212edd7c5dfec3e5e330f30d213cd538bc215afe6bf2a68fd1d1b9fbc2593efa197f267289f304e12531013ea952e3abe122ecb90feae75b16ea688aac0b4c88de3638794c2e45a98e0848c8a966d7fe7d03b9261997bb44209ee347ed9f0564f1071605c56c38adc165fff5ee39f4f56e51e1282f74540c562ee6273dd0e32a8a536f1bd57adf0fc62bd8017255ac7189f3f36625737c9e24d69e40c2b29fdb597f316318957c5b8f184c73a7635af22e9db5fa09c04e397eaecdfe87496ae573532ad7a4c36aab8bd322e050f389f1237c658fd5fe57a9dd57e5e29c7032ba3a7a642b9963a5a1efd08d24fa82a18a8d0d02b63f8879637c23b94e09082cf0342df290ff9e21c9e79b509dab06778404be5c30485dbcbbb3c792f34a0e2ce14500f1abc8bf5a2cc13de27ef1db6edaf0a1bff3f46ab7832bcfa070e31c906828af32509721074a56b4d3a5726a3a869fd8f2e8e9512f68d681d3dbc718cd0e5eb7b1a3e174136df58dae39d6e35dab70700befb67214a24657d8598ede8a50532736c19b9288d829b2b551b3281792cfc55518a987b9eec0d9f420684442f68ad667bfd14a1133755cfa8ae680ccf1b8089a5eac3fdb458482e3464088c608a8e2b08085f55e0351a52fce46de03eca242019d30bd95dfb47fb6ea8a773627c2f60d2ac30fbf5426d5028422c8d0cca437bd9ad455f3441367a947d6498b2b3171f8343ad7268de1bf80c1b9f7200517b857c627950eacf635e8ff34aa5bf7bd4122e063a5a2aaa29309470b1fc61562d7636dcae563928c1e04908135f1cb983caa5ae0c7dd29972d24ff9fa581ae445dc75e0e1036a3c78a6c7fd94aec19ebc4390d52b1bdfeaa919f8398ddc680d3c7578159ce7a5cfbeb3e82ac7ee6774d973bd64bc8b77eb667727e74454b8959b2ed0d80adb75252a5c799ac7225ae30df794c334216f3f3e50016a9115981867d8de235ad9d0c10cb6c5f6d0e8fb286b6076fac1c4b28bad6cd5daa2b3f51e2f64882e8166e22322b8c187d795162a7c8f7e425b84a6b31fd4adaca17eaf2e13e5cddd66775d34f69bfb929eea780218b6e45a7ff624c5e09c5f189f3832736fd605a0528662adecde4c1d3aac87402d7009d25ff26ed13c9b7b01970bb83315bff09f159cf45ca4727d6e2e42ee4ea5ad327365d12532a5da9cb8801eafd479d7f1312c0a2e45b384415a1f9e780216b16dce01ab6bdc4cc8664713d449cf192fc2aad43ce21a8c0b67475679b2da13895b6d2893b06072c180506ce7a4839a4c98fd22c7f8f65dae393de664b912498929a98443a0147d1161521c557ec8876bcd5f900d9282ffffb266862c89a426aa19cf30d1f286ff225e83360de2e4cb8476cf7ef6bbc7ed19c58963b35f5c5536a02b11c8889cc65d01b67a176b65d0149e5a7f064589c24e819ca4b0ba3057071776785c70e9ce5b357cfd935922a4316dbd99b8f56a66bd16364108aca72e1ed7f5010fde50149d4f35a9eb32aae74af45ef42b7003eb9dededc3a31141484c688f5f712443aacfbf29f1698acbf15536b733a422f253eec5944036de4605fd0c029ab87aa57512dd4a848d98eba3cd73310c60484d3770c86a755219246d726c8084004f088d24e227a8a8d291850eb19e8c5223015e48386808e981862f6467b9968e193330ef14ba78e434de8803418a51b1107dde483e458761164e55cd3b25963d98135de41f00654f8cc897a49ff9322b3eb2318d5587d555110b3c4ec2533ee9e5c486b7311d0c36fedb56b04e0967c53c3a0782fe3fb975a4bd1e29763f37d5972f3ca4a6aa3a48ded7254a8d23ca8ff154d8e21ff5e230e4d1672d9b6a71e31ee43bcfd07298418d8875642091d5285a471c310c17db27b622e9e7d543fd81b78cfe2919ff82cbfc9d0dd6ffaa4acf1e0855d8e6a5c225046070484650112a7495576131f1bb6f2e9d29cd5348e3e0c182dd932c54c4ef304bbd68235aae683e78ab5a6ffa2f46144ca13a2c94d90ff5c639a9e9cb1f3215d185a02a9b6e5f6b11099fb1eb2f58df1b3a40f8b981aba814d7c5cdcb3b2c9d99bed8a3072f77d0ff6a40604992b2abc8096cdfcc7da5c5cc6bd709b68fe39a144313d0ea257f30c4bc170b5f700f3411956e6ec0951a06972d88dc4fdfc0243eca31572b6ba67f37bad02bc110f1a2f3367f4726e339d2e674c36c4a379b06df5b878058011b7a5adc6033e1028831f42fdc2cf18e70158abd51304d6d81a4c2edb211c29b91a1a9f22000ba8dfcaa29695c935fbcac894b63e5c0bf3a8180d1c582d8fa912d0b92a5f49ec76c665f9277b5361af18ec4a65a29d8240dd8f9a305c48c813774e9ed89f3293af0612f1b061ee7c5eec955e06396f30df4310c309e3d3e4ed0b1b5a930321ebe394b08541bd9b85226413c26ac97b9eae8a554209a3f5dd259917174b0652b69d7309ae9f1824131e3c212b8c07ffbc9838d81bad76698952a181bf2f0b4a165c256321c2027aad2c79b98331511f61121be5b36a4e95f2de2c87453f3f310913be5d297b15adf9d9601dac94e84ac7bb63b3bff8301f526dfe290b0d1a7b9225864afd5a53672b00606a1b2ab6e0cf021f698c1438e2d83d0fe37448ec598fd8ca82fdfa1b5bc307d6ca7befdf831715197e08ad59e6be4e1ae5610191c14e8f612490128d594fe6d060e9e135ca78d01ee888583eefdfa2b824ff396c0b508e72fbd712edf129b50f299f2cd324f57f5004c30c2e368b359f50d9dac2bb8b4a2f2079bc9054ac8f58551651ea80d1f32d7cfb194e656b037a08a82257959944c057be466c4e28da591bf52c063199300f4a068909325cb84a5c7a6a3816d8bb1940cd0943aaeca0c44914c24f29fcfdbcf962662b2bd05137708780baed0c6284b23925d07334bd5516cf445d09e69767d2f09aae9ac7866ab021b19b8fabfd282fc6ec3036a839f8078514b05e3ce39968571fae00afd8aceb838d3f35a0fba9ac7b1e45e42e3ca6d3143c33c45f1776dc486a8999132453b4c09144ef5c700153e841b135d4e429662586f6488fe2af82ce4a32941853746652211d6a39f47fcd6f0bf0c813139086eb6aa843d7a3df8c69551667cf248132c49eac41932f220c3e4c4e66011e39fa0eb1bc561a4d553078799e73debc7170ea77713b7c627ed1d361137ce6edf6b1f9cdf91a5d59309b90751517b262c02a69662ae56a5c47a771ce68c44b0220ea7f5e32eb2773379fb64304a8f8dcbf142a6e7a5ae1ac88fffafa847305660679da2638d366194015d6948cdfaa031ac82282bff117d6c588e2cc910e6a598e5bc4e41fcfc1ccc9c45eb70739758ad94142584b3331059be7a973bc7ab6f4b17242e7d2b431091d111e9d7fe1a4e7d30682b38bb67d00fae6bf7a7f53fd60e5299d02e151e93e1b3a2d779929212440cf8caf8422d649461bf251dd177aef558095c23acabd13372df9b38942298e9785b96866a4c523b37f87c029bda20570263e914d92f87cdadb4686232128e04bf445cdf66a9b4d798ed6d69e79f106b2f56605459d96297aee8c429309bb6636c668a9fb599445bb89c92d92a99edb3f6424b63fe4b57b9aa98645949eeefeeda16fe26e8241f616326e55be5affc6178a9b70c218b35026e334287108be99b2dc9eac8635c83f52dec92aaba0ff7ca78047771e7b8a144d2dbdaeae72b6e2f8dd459bb3a4d581be4a8a36081d018271fdd3034cb3295c858ef5570d9993fafddd495977897059990717a6e375e8f25012c016b1a3f0609fd0882babfccf8da4a63699b97cc48b325e49d2273275be3540b4a8bf3ec827b257a22af2978ea9c52472108f9b206d0ec4c26faba6b8c9f3c3071beb61f6cdbbfd456cba50b530fef8c6a045e562c34b0634c68a343e2de93d9d8a94a3cedd10dff1710e093a488515ba084bbc773ebb861627357a9fa13841a454acfba3360dfc05c0b4c3b5b9ab46f1465b5912525d667d586f7f188800d021c1fcfb027f792d18846f47207f84399759660af29609bd3ec7a5d3baf93d315d2c334ebfc9b68a70c9707da5a6aba1bcefc42ba9e46ec073b960114aa9edb296d200dc340b8dc372441e0464463556fa56ed9c9d59695e05d1109c9247eaa58d71dd9c37871d74be67bcb773e385cd59cdf0ea0714b8109cd21510221eca28a685af483336a2b17fb144d9957a95fba16db80054eed8a4249c3cb014e690fb5cff03961971a3483e18d665353885461ad344aa19fa37bdcf6257a9c8afa017e8cf79beb29b6455286e88531f466cb7ba219da0448c371d88ae49bc3642e078ace21473a96a70a47a9216b703c245f73a5487677d1110547f2f6f7975fd9d0586d3f394e02f7fb5ca0174c7a2eb0b10974d1111bfb735279d480f36d182c9512a43d8e22ceaf9547bef111229cfdc4ab5f7f5b510a913dc76a014485693ec98092f2e2d1a9cb4b471ae4520ccb2174442a5550cd4571404a032586fba94bf5553be88b3d5d0f9b408c78f227fb6aedaf6715c0718aca3ca5bf91932338979531add374a8aa97cbb654e3bb8d444284f46d24851b3a54b9ea5f7f40c0b831ad6824c586f980f64a36063ee98476086faf3667415bfdfb51c987a47b3378fc3464de63f797f0e6d6a61b6d4f949fc30f54a079e4c62ddb8afb70f92bffbd2d1963ad894c6145cc11fe37d56a33fd288f7026082eff4213bd63c42e688e85c282db5eb3cd90ba86d6f75b59a2b35961f4d233fe1003f211df99263a5f23b7934608d843b0ac97bc354a4bc89c207e4029dc51c7c6651aceb3e21abb79ccbab15e97804ed3e8e9b3c3066edb8ed0768f83fc4a76c184d085594cc5f47ce2cdd72639a92ee01966b05e9745417c2f2fa149cd0559e8a585e23cd75a84e9af5fbabdac05824ef4ed5e99a11bc03e94928e7077f95401a9bb38e817ee12a3e07ec6017cbd4bddf980eddfa2992eb7ec77b294619fc55cacfd0286efa2bda7ba2b4d40bdd897af0607f4a183771b2e576ee1adc03dc50ee66b97a0708854f868cd8f67fa19143dc75df0b9ae2eda2c5e6a0dbf34971560d8dde8ef9c0dd9cca85c87230ee9a8e241fb258dae2913436c33d28ac050b9f34cf2dc128f800376b9b103c81c11b3c06a74c43159a59c31ff7e4e424746021b794e18bd76b4a9f870deaabfb6de7870bbfc46319156bed08669ae783a25ec4feb840655706d9c8ff318dec905227fde585f176e5c96356f72bc86a071bf92db7d75833f0e7d0bdcad99cc1f37470305abc952892e85cde106e98e897411bb74a2712933887955189a8c2735549742d6cf04e01c2ee906b864e4ebe0bd91692d9155d16fb0646fab83a8fc990d4abe9051dc279b85b99085d1535da9e33f9bf1c2b9288a1c5a92b9a918428def7c9fdf34c6d4f259b090a879c233caeaafa50e4757f7932e87932dbed9de4b551a96690f6c48f7a8f0c85c4badc44210b6246df6ef149514fd35e2fadd215ddf55511c6cace9f1adb3ed95d287f075d1e7bdd4d769ede37edb52e7ee6550f85970299f7da7d6f2d8aa17ded8c432c97e1842f27546c3e8f7713db71f10c3912f0831305df46ecc263c1c915bc8954dea786cbf50aa63e68ff1b184cb2b3cfdd07134a96abf115bb986541c0214a1c48c0ee5d881060f2f69a73c03957bef5f3186d21449994c6063dc325dfa34e2e091f7f6b68126d63e3b03d5259d40568f7473114bc9a1a98207b65a7e97961217f12116f9b386b4cdbbff12fd97c596ea84049b884890d5143f0fa3773aa581a4158a6d1327d8786784e67fe776cfbba1632c7524a28e1c0bceaa37bfd03ae3d842c350465167afe716646b7e1cc0db6aace27842169f18cd7a3aa9828c46b7a20b97e737673efa2e0a21f3d6a54b856e88c1ea6399ce048485c5bdce60c13edc8ebd7433b3f4c891ee765e8b146ac7b4e732ee297a847fd24f793ac943c46cfdc14b7bed9c3c14ddce60450735ccf4c8d333e7c6e0b3068c5dc74f4b9124e43a43b6130a00691785c1e49187c7a2ee9f02ee77772339e18476c4035be16e8407bfdefaf0bf66a3ec9047d34a2f884935f05a283a022eb7a9e6afe906bcfdf27aaba697c82ca2fc63380a6b5e6fbc311c66fa48ad71db029f55fa6049125439b3bc6af54459f51ba32c2a86a49196d8590ba845fe9b3b336498855cc1e5fdb34bee5c33bc4924694b8bac8ae7c000701d291f5687a0c0e39c06563538489076ea1cc35615d2747d96d76ae6d86cf2757a0d34127b6afd85eec83ebe4ce339e3e0ab9b5c19143e75e6fb89730efc9bde0990f9edddd9515584d1ad7a180f3c9bc1b5b1c9f143c30d9639227a09ac9128bf2d0a816b6abab8c6c04ff98f6fef24f1a6e9fd32de3173428dc0f46349e1f70dd904832115b4df30fb14a35afefd0e3da43d038728648ce76834f7156a42fd7d9bc6d1b388a9d2d41dd57105210949b3390fc996eb8a68ae4fe98b2287d0c0e5fc1d68d6fbe8f6b972a3d45027e5d5e0ead9ea6a036a07c3a2eb09c7a40b2d43d7be238034fae8ca35d3678680c31d421e187e576b69711ea3356628443c80b4089df9d685e8de95b7d5e44e0721ffe287e3c19b01d73bf628a15dee1540d4eba3766fb5a7fc456a9d8f2a1378adabf333d160ceecd845914c092567ba05e24638791ed9c0a588840df4ebd99cdbc84ed49d63574170263ddf763d71ce355e8a5e8ca5645ee821854214b7ba51a0fbf2c8fe44f33738d7909d9b3a98f26a0870ab480cfe8f632cb8c4e7cfb2e67ddec29706141a03ee5457f3db3f2bc541e044188912907383cef97af4292901187215bd52ae0637d9c3ffcb6dd64a2f91675421935d6e6dcc5aee281660550d7d44120140be51492c4aa552c952bd7d521de56128908725c64c0e18d7d2322b969638b6697196aa2e55a47dba32a3e2a19f7958e7dbd009bf64320633cebf586712ab22a156a0c6bb58a39c2bf1cd0aff99856bf7d4ff35d6a53c7afdf82d83f735a00a6d391c3a36c24a1c1c582bc9d21c035bb21895db571cd66bd5fb5220488a0c86a2af0ddb96ee82176e57e1f2a672b6afd7e22ed58fde34d33c815f5d89e0df67cc51b97c207d9783a518b0454fb05f8752cceb033343e6d9b8e7e940e943cb33edc15d76a7d57fa3dae70c41bf701a204411fc7e73961a4072445bf890a47966858476a8c0f3a22f5fb9981b670d247dd723f18f8fc11b91129e4d98aae00e6bc1fe3406c1a10c9a7379c03d536145dda57c2d77247b3e3a38cc7f854bbcaf7496c58a79f8622941571c32cd01900030a6e62132df56c8a1b1f2fcec116518e8ecb3cc6895aa764b323759998285aa95a065639748e4e59cbe3a057d7213632d7979d525307dd8cef5458ccc087daa3b2e42e7aca12766cb936af456e19ad002bf192fdf504148419524acfaec98b2ab6a1bc950572b5f658db031c2a9f338371f24a32c8fe3bdff7952b9fadbc6e383772edd629ad61c0eb4e4d2a2525d5c498d65a20f4e09e8a5c63b5fca7d54f54f2241acdd26af798c15e5baea931fc177cd41484266378ba87e4a686a64275e2f5e25e325fc260eadc077bb2d28103e66a8a9c6e3ec4b823166c888be2ee6ed793ee35dcd8a64e896e3998cd0632ae8c511f72fac47e9311dbe7d9fc3acd32f80acfbeb105fea2322db72de4cb454024a0364e01d6c1c8709a089ab23438add6c749ceb094e39000e42c6ca00e252877b9c30f72ecd081718fdd42b56a2afaf65abb8af0529066af61509e4a08b950d2950bd9e2d257f248c767611e494f74797fe84162c5ec6a642e1e970fd23c4d635a8152c8a5de4710b425deffec5420a9e3772813a483736b9bb08544f42a5eb55d30eb760f1743213cb1cdb602a2b6d2f235a4ce511c784a3e06c61344d54953fb8725d2a4358b5fd8ddc6cc92b58879d00e4eac3eaf6a0a6a333dff986dc6b851bb8ddf5e144933270e3328fd2e68d2dc41e49db24d0e510e5c82439f12e76f24a80a1690495d73573b02ba8baf280cd2bd83f41b2f01a988ac8040e60565c92543acd3df00dee0dca4b03803d327d16c441004847b77c0233d832cf3d008b35f958170dd1d2e2ab3a3a52160ab4bb527cd62ff41aa5862a88640bd3ae3093ea9e215fde6964ab2c365e410d77f2152ab0a5e531db0b57565ee8ea3a184301ec1bbc04f502182618326bbef852c11ca74bb1031b8de7e45b9a63fc519c0be04779871c43f9c3be411610dd2fbb02754b6e0c1a041203a4c79d1fbbcbf86952717b45d43818a392f8b16efe084ba306e0ca4ae30b209bbce857881acc68b60347e3b1f08142ad99144a93c7bdad4aeb3d890ab0fa268012cfe6bf743697bb43d0d0c031c5f5b670ce01a8b973ead5795de659a52e30857e423e76e0957c1bef53a0c6374c61ff9ca9c694e7d57a1542b610b9f387f5491eac799f410f8e6995dc6a900ec9c37dcc0588ae5674fb77a80c6c1280387f5545759279319f26b6653a107c454a97d2b9a33592119d326291784918363cb8f85a0d4b6a5e53ab3a5a0f092773a58db351ed45f330011dfb0050bc0aca35c66c9fe3a5a1003e3bad87d8497afb8beccec65f3681f22d6f7436102344624ce447af6b5d9d0fe21c991d1404bc8b8236d138a589c5eab49768cda3f1c6d900d61bc2729e8eaabe80df6d46bafc82bdb420898aecfe6ca7f7417765f93c16adf026d037ea5bde45b9e341917578c8c693e351d2495ced744c57bc82c4f3421d52ac77e145ba0e9f1278a2015d7be1aa0202f60ddc1f94c9ffe3a59414963deadaa6819874c97d81e1f22377a1f00920cd331488516a23f3a88f1bc478bc5523eda675af3d3c9ec39bb4872f3b6a1e33c102fc6c5f3867c2a3553d60b9993146482e9db0a33f4d2753551cf741e1867ed62c0ef2677767c0df1ec413114b7d6ad954a2058bdc76cb78cab31989452b72fc728ed8cb0f5a19ff345870e7dcc04f6f2b8cb363f0d7d164e7b376118998b0c54b0b87343c7c6b7ea028d52b23885532beecd4bfcb62ede100f690d538e6df503f823a7e22c2a458f866b9949d5232c969db0762a50170d625bc9d19dbc320ee116b2d85cb16e1751e09e9c9ec129cc42ee6cb8774de9943a3c14e37afd8c7a943de951aedeb557d69fdd6c552806559bcebee339ac5a29a0079dc64bb37f376f393a9a509bce8b9a0768d8722765edfb03986e21041af649e37dd3b65d6b0279a03f3cfac7db81774a52640f7af50cbd5ec0f9a7104ade20c113f55652c44eb69a49ad227acd7cdf5deed212c754c1c2c382ff63f02580d9129619693b644fb637d79d8a12ab16c2668e2178016548c5ab93c114a342603765250236cf4156e95568f17bf6fe83c94c2837f5fec1662207c2f069ecc8b9dda0898b9362b09fbf0afbf384cad43329893bf8bf4b3fb6931025d6d2f26a5573a575fd4ea9e701f52d670131adb1486af28e88c3b09cdb4a85419cc027693ec089c368629313297bd0ebe1f2822939ca779a757fb062e006f15a305966b88f4874a8c9156e113a8d584e8c17e1888aa6f2511c7e03fea2aa27473ded5addf77f5baac09b29cfbc534e5e0fda3b8c1d85cd670a05ef2688d680ca97e24cf76dc4e63de985c142ffa4e5400c829d9738e1251cc69ddc7af35faf56fed43ab90ccc17c6c03e9d1f28df25fa94f20fd363fe5dca591dea9f2aada187d50642736b5a63aef03c5d793c734ba0b70dee751a9dc72fc6a64b6da6849909f504df833b31fc7bef91b4b4997978661f76e1d0ee5a106de14b11226e39d494dcd20cc77faf7661dedab5cbe722eb999d4e63d137f1cb5e720f11517ea3f267fcb287b06f8e9c29aba21165e6267d3b27578b2a7fd709ee80d3928a6a0b9538cf52aa41e82ef115063e57b7ee146b41139fdde6035d2967f2c18840f0ffac08c5a175486de0414a3c1e0761f2e5266f5c47771684a6bebf8136af907ec1bf8dd6146e82b582e996fc063fcc022f04d39a8b5d6416512198754bb296fe43199f3bc16ac0f6580aee864b244451a2f154dab66d98c0e0cf8a1de3cdd754f7fc581373ad5a04a70ae18a4620917d4a375967a64b43e73153bfc59da3b137e00f74d8de491f84cff97b1af51a1ffe9ae66e657a94c03dde16b8a960e28ba9627dc0312afdb9f0244ef84ebf818a20054489c75b821f0f8729fd1e51cd429b2ea93bc66860237f773cb3cc4ba39c418c9da3e30d7852a606f926ef3ef4299b0ffd1bf74f9c0dac36b7f53761e88115805a6168a87d4668c89349ce091b899b7e8aed7ac547c51050a72987ca6556b72decc033f167919d548c7ca0d4a8721562fe79676e622ff09385d0c687a7cd86c882db7a4af414c4f25ba971587008b52a13a48c69ec233b4dba79eba177c2d7cb8f50150b7bbb18b6d6ed40f8116810193c35d0a2989288f6dc4b54f981ebbb1d90589688859663b4724120ec5a0feb6008228be0964f889818853adce75b5e254c9397ced81df0c7b21fa04d78a5e3c7f8d2ac311b1b7cc95beddffbbff5c4014df0318daff3fc52183430727fabb5da00ee3baa839f8fe7b11060a28effe0ceed8186ca64a2e58dda50fb3bc25a75b8dfcea73b6a6d922ea9656b34b390b5cf18a96161b406c47d96b1811a97f0da07ebc122e0072de1311717c43c687d6c28d15de1d4d7ccb23870f2007998dfe03323dc0b728d14248f0f740a633c55a7e176c98357412855ba0d527e68d67121ae0441061cfa5f266fbb0bed33d539cab42515627acbd9a80be834d816d00379b7b8c854b8115361b40d37f94b2afa94fb9db7fb5ab9e18d362230d0c918ecaea059418d7f3dcf93f39aadcafbfea06b00cb07d1ecf1b5411a83cf7c8e8d86fcc7c272ae6c9a49a2a9d2cff4bb714116855181474b7a03979a95be0ee471bf2da3ebcda5168732a342ae96511fdda1331746a7c32ae7cbddb900d603a345255cf59e76edbde354804be8b1a2fb0c755d4d239c51cd107658c7c5fff728019c875e625ed375ee889357694a9f228b8041848f95290466285aec30ad6298e68f300769e67908d4771b17d50672ea39256ee9eeb9fb6fe72de4e0849d81532a6496af183f7fb253a1c3ae497a33b147a3bd5731bfcbd1aaaef058069f5b8b01c5b88aced5ba5ac0c0750b38c53a6f1240ef7be3197c68f6583fa49fcc6f6cb172a30a8bf2da1bbe188d25f13f09d47664107170eef36e09cf13e3cb275782973b5dd1208cb116661e2602e261dcd060ae1850b64b82562f54a58a0da2eb542dfa2a38cae2d7054be2e3db150ff5c8e5a89aef0001375a9416de92a8dbeb509878c1df32bb259aebe1a619bda349871d709809f94916a2fabee61e467b614e10113f95040b635880d59ec4592cf1e8fa988b6a940882b9c5cf35c5adb540b3e414ec0e09478c43a1bcfa733a791d265ba51030b73f477a8c6fa8b6353c3bf21f7e6ff69e45487f6338bd4a6800ceeb616d8f559093c1ea550167582c51fc051eeffa4be26bbe3aced535c80fbe228cb956f9cb20ecfeca79c379cc115fbb97e61454e512b6b71c1b34de44fb7f002812ee953e23c1994c237888c770be4394000f5e74861e699fbef3aef522b888d02aa2e2755944434bceecadbf39ce97239910c28b09b35c19835d093e45660cb2357ab213c0600382ab459bc8f5df6a41911a52c316e66d3ba634ab383b4cc1feffbde50052a7247b3b8cbaf13bf4636b2c5c7e7b3d5c8c86c6b305d9e275a2b79ecacf1d7722d41034bcdfde40da344fada496b2c7232354c0a0f1c99cf39daa552abdba6ca6eea0df136caa5fc2a2a0d4ddb988d1d0d4347099b47972fb47c7a7876d8f58523972325ec5a68973e4a84d7c7167eccdb8509b4eb7f365a886e4a8be49d7914b12419fade5ab52233699c813bf06477ff7eabc53a25cb8967deb987108d6e2a13f845f762f1b504bfee0a3062c832f692c2c061e7c8f9491a04d55c94efcf2c1a9bffc9a543a1d203b5d931f9c527cfdefb34ce22161b2ba4f6bf35ad931b7122b83a95ce3f7cc587ed296be647d07bb4bb792b5b6d38c027b2df0b3f9f746f2f4ed20259a4460b9a34a714184b2835fa2e8480fbf3a7238f7e574c0b78260728c72eba504ff4cb88b796041fab9380a708f29df80a5ebaf11095ea073d6accbd8b6bdb25a91c7825f76009d9b51bdb947d6a2c557796d916721a73630164ecc0b138e6653b6dc34f3ccd97907cef500ebb8c63256b387086136894aacd7c51ab6fc6d4d3a7d7bec817a87dd3156f01d26b80eb87d4de25a0b1e580f8c078c603e3a865a4ce0b73c77078028ee8ea10d71f6c9cddfee0c3e1092cb790c855097e76a6b83f84e0b0bf4e90c93c5410d4e26111d7df61eae07834bb1f4acaeeb2cd3019c7054a5cad4b23fb7382002fe26d82443ae7e43c10211af7276572483010a7a77aa0ffaf69220c719c3889f8dcac3ece468bbba6bd2dc446dfb7ba1687900ab71131d764a7e3f9943c3af873e68d4af7ef83e0c80f113cb390c0a3b3fb6436dbc875d9aed68daa7224dc95fadf30ea8525e237327ee2442645cd327882badad8af070ec4d2764995ac45a33c1703d8408a1a876beac010138487d84df4d0bfd2f9bae3f395390d98dca691a02bcf59b98f6a15f464ea54dc86e8a58f6312ba3004671c498c3d3cc45878cabfe1c40e22c2ae41636ea1b7b5c216d236f6382fe0b5144b676c11dc3834e8f7b36b2e95f071cfdd28fd7eb14c06c793f522ee8c878e9ec01aa30466cffbfa89b1dc0da23b7a36c08b6ad66262def4c710b5d97dbbcf7b7eb71edc67b2affe5414357c72599541b63f4826903155392cf2d847fd789ceb66df955bb705bff1122cfd72ca6dfd00be3732105941bce3a625dd7448f394771d58e3a6a654432ef910751de48554eb7cd9b8e5ab5ed154ca408186f623031f958230fab7aadf9973ece208dce2b4b9b03e7eb4b9a904dadb906cef7b36826b0707fe35c2a281b91ee05533f9ab504e0b871a4e7a3afffc9f9998b28c6636936cecb640cc85402de2d44806b43c604caee28a68cb6ff44bfc90f95addb1682c2e612ebde3775227fdd88822bddc92ee8f3a0b818e2213733b82e4620b31b8ca593083fbb67c9803c7b79c01718e950405fdebd711837ce344f8fa0e88cc9c746d1770383502ae3ee95af48d0afa2fede3aeec2d87f7416d61638808ed759897a900856b9970cc150cbdb11d406907dac285981577df19e4f498b7368abee7bb20c26c0fcc9788d6f8ff5975ac691d03929a3ce0084e2dc9675f9b9f5edd9bdfb2a8cbd39434c6b79cde3dfc3b5e162575bb9ccef256d64fecf67b41b83ccc16680e0d04913df655e3c4699695814681c595b63cad661aa778a9d8f11243cab0693010494bc42fe3b7d99e476c60c61de900f9356ce0a491777a1f1b8c2c85422d4a4d77da03b16f8b33937c18ecfde6042325e39c100d93d2d4f6bd2fbb0846a59e3e366252b45c6bf53de060e8c5025e0718ad4c77ccb68faca150ef907843ddc66d7ec3509baa4898231ac201d2158dca879e08a187d08db0fc9b9e2c39f412ab303229d36ab7eb0d5a1430d21842dd0008c2a41bc5f3dcfeedf4a3bfa86fff634abd647366ec5430d0c4166c1355e5f2c251c881b707443998da230143621b9022f1519f0e84ab9afb0cbba3f2cd85f42615ed54631388a580fec6764797ae3603ea01cd547380216ef0aa106462cef14a9681b29291fccabdca4461399ad7823d42065947812d8fc2c9e9ca2e1168b7e1af7a7a2203a760af9e1b72fa01c01f111fe81ccdd7765b7aa7070ef4e6db3f458b0244893ec91bbd6a3266c69268c65eedd243f47ce2bef68ae4f4c8a6848602ac929391ebf11a6efe23dcf9aa7b8b1aff97e2074ea0ba5ae34221ddffab8d59982bc0fde25f7f4030e5bba2ff070a875297053429e837873b5cd2693a07b893f861905b9248a8c1351fd41f2812bbd7c54a02f6f617fad1eae8f0f116b4ac049d63c7593db785278782637d97082fd3480771b7addedb04afe01d8d112cadf03901cbcaa2137b8a1dc4e8d413ea8693184d7e6e5e9cb1384bb87c544a55878b2f3f6e3a5c01fce2a62d685511c32848dbe590371354e0c01dcf41f574620ba4cd1c1ff0de4d87d25d272ed6262aa3438056a5c7ac0bab629d0ea59faeb24d4877fcb40bb046e4c6fefbd7b6a55ea61815a5e6df8f6eba9879d0cd0cd6ae30954b0d1969242c07f90980572c635d83db63cb2c340f3c6e027f010103d7e11565d90d385297e2597b3eff40e3d0c18323ffba2dfb046475f49f245ea2889c0e55777165723a8296dd61c46efe8523aa6b4f184defe2aa525b0a75e7ed4b1536dad69a9e5e364304fbdef991923433b142d03561c64df856f80b9092e09f30b50cd0b8b94857422e73858a883cdc3b6a55c76d25fc693da24180ad6b796d1f34a150c9ee182ee6e6ed3ad380043f85520f0469fe2ab2c3ebee9bfec4eb56c4aa8bd2035a60fe08c110f0431c5c795d9f9674365ad7be855cbd5f16a869f57958047a4000daaa3048d51f6cbcb7b0bdbcabc669e1970a320e25dc34303b78017b5374b29772f7282dd580af60573b4f36554a4183e0571af59d81b401b0916c5e2933e7596728f06a4b2ffa9a2de8db068af1c02d6b7191a3fb0078cba1dd62a9a312575593e8210c0f13c776b81f1158fee24e811de02cfa71da9835c2d8210616b29cab5ab0a55cc89fe8e9b3217b19819a00d4fad318167287f9a51c466647ad55b0d0016953e9ea54c1ee41eb4f84a985897ac8f0ba4f4a913aae9ac4a0123ad566ac984aa2b7927cc44f6bc3dfff22df19c9e78b838941452c75447d404aa32d826918d458b9a7b6c3ae605e86cbdce46bf543f66a18094d125ed56016abe88517dc5feb4000fece74d5ddddac09802960411829332a355750c661afe017792e0f2889411c7694e112e4bcd16e7cdd8b01b757be6288c102b32e3cf6bf16b0978bdd33875f429bdb1384663869e841e971f92cdc37a93132a2bee2d45dda76e1f1c54840f24ce2101bee2647dbf5cf4407dd9a8a7475d70e1856fbcbd52b094973a58bf6ae31a6f6204f9292b2599932511afd37adc4e5c477f9d50b854db17634e5419b3b83c8939fc0eb7978fb7dd29d8ca6a02a35b3d8a657d7225a6ef42c53b085d8b91b7684ce9c4aab4a3da31304de4217fa9d2bfa7ac3acf2dcc114aaf2f043df35b428aff3027a7f4477b33c6ce6d2cdf89fd9513e6ad69faf1a202b0901a52b05511b65c8d91ec61dc909bcb0320cbfc895a938af195b69a55dc434d63c2b4e88f1fcf30da1ab203398a8ee65baef054da2baddb3d4b0e436fd6c546afdc722106a98c735f31427dc5a58f5e78aac8aa225b4ed3397cd45ca5570190b7d60945822b9eb91d74e70667e34398ad36f8247f9ed39e4f040c1fcbbfe4106e63fbea06bcb471c8ae337e8b32ddff50b0093595f10ef57dc76a81266e572006953ebded34e7aa66addb338f9e913505be96621942a562522b5a81b2a104c8b8b5147335e757403200b9d2e5d2de69d84e0fc7da709fddec216d86c80e27435483d371038514cf0456b6de4c4b4407a098eb22e733f879be0d2e486605e91262d46694f849a90409827bcbeb46f42f30262d8e50c787b58d9f22354f95cbd15ff1c158e1b690a18666deac3e3c949300e232ab778709f0080b25967cf4c408b1583bae2a73b9e4ba625c24ddeb432e3ed01a039d0bf1cc7fc2862390cf7ae38116d8d2990ab2d6761dd02a88d0717018946152bff3308eddaa5396bbfd8ac846da29cf75fe7dcce88f93caf1710480e7062f1b7f0bea6c4525b9ee47dcb06e6e190755af241125fa86c7074719689c3c4debcaac82572a0af77fe8b2dcd6c1b86d63134627842cbeb49b614d5ec08dd5fe7ecf8718af67a6c4f4f1ca2dc2463108a1335b7743465bf1beeed7c0522bb3a4630ae5d3debfa9a629bc8751612cded0971ab3da5290eba5e61546f687f2dd3eab4e84e421555aa1e77586824b6ea3d3343245e29b7b117c471761ffde49e32fce28bd9c7d65aa6f432be8a92714f2b29c3ad12cc0bcbd095878608ad8f6197f8ebd36e3599eec553cf31b96673170776bfd2f37a104a02ec7d333c6a1e2ec60cbad69db21d01b9e3455e5f571c20ef644ffd96dc2996ae22f22695c37dd9f565f687afd149a7b0ef10ad448d7d3a6a584b7b2bb6b4f06b5505f838ab11836f1ce1f322925b409f79e00b4e68dee50a363d80bffa481457aafd4aea3ee58c879aaf0189078e93f4e1885fd8d5b5d5544fa851125ee200b8878397eef1acb05513bd1a2e1421e02ccb98b06da4b75a3dac28d4e465a00e55cfb4451eb1f92ccb0bf1507fc3f0849e3e2caf3a4688cfdeaf92d909fa7117f4205bb487ad42a7d6073d472d28208c5ed8b67df95c967ced7394a7bdeaf719822a344cd285485213ebf03031d1052fab47fa6aadbd13dd8155bc62bbca79ecc003c51f4307d2f4f13071395920bda0783ce432c41521a634c534cb5962f62072053966e81f5cad9096660f33388f4b258e6abfc9ae3e369dde0b784f03c4f0566a052dbe043017701d3a2192c4845de17f6f1855327f9eaedc145da82739b9f028b9490f5f5f00c60dfcd439dbf9c6fcee0118b354b835f2dae0bdfaf3acc7317c95d2425d0b4f4b982584d7f473ef946d9e43a98655bc21a34cd24babf0102d22b90327cb86084ae30fb835377235e59721f7783217c139845cc2b632d5ba95bb796f23e6413d8676152cc4f4a90998afb67c3f381cef4dd38dbb4cfb4d491d78e29cb3f234d7fe49cb65daf3bc50dfefe5c61e38f19ef7a3fdd93e9032a2357c8dc58f30c8e4fd0d77b78e3cec574593f7d96c0188448fa84fe355d76a942bbdea8d456e63063de8c9a95b889687e798353a5e5148611901cdef51a2ddedb011326eb4ab0ef2d7ba36df3559355be3bdf8bf10dbf8db626ab3dd57ce0cc948a7e8a217ce5f70cbbb2acc2bc0dbd5e4991e84b67cb9768ed2298ef7dcb96825fc256b76432acd8051e1452a63410990935a94812d21629a930b79207386be50c8e06f7570216b93525bd07de9086c1fcb53dd12b7506a6fba33396879afcb9bea607a2a39d871efd44220b387bec1652f6f42b01fdcacf869e9c086cc51e61fb036b100778cc2dc22af128590cbc6d094fd5426d7287d3e035e3520ddaa970d97b6ea22de69f0fd2e61a9c7fc4d5af142b086013d3976482b6aa2567aca5ce4ae078e1bfe3d2808edfd28141335db23e90c6a8cb3f8b68c2307b9f4902325b8f84b3801dfbba9268f84990e9f4da49b95cbfe8585afb4b94f91e7746841bb995217ce599aabf698e3692f81d623954d5e4de99ee4fc0d7291ef944a01c08034e31fe5e905591d6b3db4ad70b8f38b040e0b1bf124bb497e86002a9857ef31c0c0cc9b4dac812875bfeb7d9277788da5006e27c6baf96772aa362618385c28a2341caef65eed2fb8bbd1b209b519e138126b0e97a4c54d99173eea0e5a834df59d48fa2d8919af7d7898d00e2df157a5a5642fbad0a1cc272d1af677a13f7c5dacc9178259772c00c93236534d14821b5e8d65f14fb5279766e643cdfbd01e51317a375d11415d7cc075ba8c72e253dd09c51adfd0932ffeef94079004f05071019ba628b52d30b9d5006de24ba62c62f3a15b58488f888d79115a7c95a5bd7ee3ba54a7b23c23e6c5e40bfc2ce5b7a8bce120165313dfaab4c1352344be09a914c58bd90b7315e603b0997519eddff578694dc5610b386f9899eb94f2f12304d90b70a1f75b6dd7b17b3d818d5dd197d8675381237f333cd1c72012ad836738008a37e04733ea0f07991e7caa8517dfbb743d3de4fc211fd4e2bf10b7b746a8069592b6d86e7db83c469024df28205b710faeb3d09720cb1bf40836a3ffad0467ad0f40f11993e6bec2532eaec193e224fb99f229dd479c5be86a4807d78b695508b2c9453de9bc4329dbcc003149e2d61e2f1727541c25f68eaaaff9698c2d700eba3e2f17da476ffd7c355d2d7ec17ce6d9f530c8f19dcb6a0cb1644bdf26ab06485968f8bec9803c164a12553c2911edb863322f623ba9cdef61b8c5d0f98d83852b3fba8f811e2cb976a2681717715f16dfb7c1d75bfab8e7b6fde9c10b7aee8a8131726d9cfbde550f2b80d650ba19fd6205e78eb7a63bf4387c4b59e273206722069a7876d04add67d09d8d5bb260d0278bbf4208721f1c5443a53c4fa8e8fdd5e1b779bed7bc4fec4af9fa985f71c99e9bdc33106ace12d2f000d74a90dd8a09c607aff1fa04f086e0a9d84bba3a8e248617a6ea57d31be6507af5de02cddd3e15975419a58ccbea6ada2aae93462d1f643901ac3970278e17b8c9c433dc5027dd547d25dad80e5f6db4ef5e02f9a8232137314101ce00e540e916bf79998ee81955360ab80079528d4e9bb269fcbc8361812f791698b17446149c30854465069444520cf9d7d986ac480301df093fa83c4d8bda1981ea082e65dc022b928dac93826fa1a876238c81a4805e47e0236ce72a6b851a53d254d697bcb7a3c8214a9e0c39f2725e7e14ed217d58954c5dc86cd789c0058a97c29b8bdf4b572c20a3aa268885af1ac5eaff16528891ee017e44037c0da962ca50eadf32b0e088eacd80d17b7ecff894b492a626e0472d633f2108a36c0694ce9ecfedddce9db8ad330a649c2c1ffa48c654ad08af0b066bb7ba6e000b38482d0302df05c7d30051a3d12fe886302c4272566747cb93f6b0e9f54d4828f31c2fb95b8ac07fb75fd47f02b97f0dbf36930043d8f85a3599c04ea7fb7e38fe997960cf7e21eeb813fc72874534a7e0528af9ab6faf716a6b62d1dce697b5af22b6ed158f25ca6e0d91e434263c34dceecd14e9bda8b1c235e62b2c5bc8af9fe0857919f84823cc67b1a7de8bd7d91664d5c874380bad677dc90c70e9ddf84416c7b41d924950a3034a9df6404647e362d9594aec6ce9ddea90a014757d13d1d374ce657129f7f4a47815877aad310e801d1dc95c3c4dbc1a03cc82033dd43e0b554e111e4db4a03f3c067f8fb0d6017cc25337dc92ea15a00891af1ffe24f72e2d035dd02249efdce66350f89e264ab793619334aca6392e33ee4e88201234577f5c4124433555741b2d86b6df437fe08b399b1f8ca5c48723b5a7c8654ef1e7c6356b35442097c72dd22c6d41c261525d53c8ef8cffc4f616bbf14eb387488df620a5020ee9e9f721bea9e97c356c958152614afdac91e267d1bdb68b40e78c585d92313e1267ccae2aa5e964e4d64af86513abfd12e2b78729128b50b1e66be865dc6fd84d75d237ba2ec7ca9ba9f0887c25e4e86d2cbd92b22b1feb89d4e7bb6bb4ce4f5a9fa9ce5b3ef80960bd2ca489c343464ff47760a42d69f80f20f4c9fe4b28d53335ce14ec8c794e02d169cf85894c2850cae8bbf730e604a2e59849976a6c28fc862a33cb23b6507eb58e8815653d7d0d318711c00acc93014e74ebf3fb7861dd79c1e3a20076fe94a1b3ee30f4dd0acf32172a3adda604ff501ed49bf89e9a4252725321083f6062bfa854e5874ee5489ff9251eb40ea7ec0b07b2a27bf4173d865e064d95a5ed2f9ff741bb974c8036aefa1b04156ad6eb013d997383c192a65c8add0fdbac810372e44ec5fac9c23efccbe9a4c390797713f4bbc26945074c169c7a7289a3da1980b4fbbbd5d10a3a1d91b5a842e499b120bae6388677683e8819ea22c3d6f83e9d1376096d0cf2fabb57d55b4d077c1e8579e3356dc717c5bd72e156f834e939cdad317fe0a91629b6c4637961130baa14973f29eee86d441a9c2446dc2f169e216f2f9582e638613c97d06e0fe0ceae310ec3981049a468281785b81bf37a35f7d566aee19f9cd05d14ad918bc6e979da6ad8e92556793a7d30463142fac6e554ad2a116c79f4b88d8b2e9988ee41f588876b1922b76ed0f04768d2c1c27f174f5311c17c1c33270058f78e4186dec4dfcee8c39bf64eb99bebce2a92877d85e96b18ff97e17d0b63c29352faa564aae30bb49a496adbbda8aa559d30d1a33f6183d8b72b5f7a206b8ed3d12d9d20d6a5b851332c929db964de0b78eb125187ac60aee5c2caa767e65b2e84ac1ffd7377e5cf9dadcd822b038b76dc5ad8b","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
