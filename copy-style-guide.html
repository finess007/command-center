<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }

            @media screen and (-webkit-min-device-pixel-ratio: 0) {
                .staticrypt-form input[type="password"],
                input[type="text"] {
                    font-size: 16px;
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"905ed638eb3485933bcab22aa2467252d060b0b1a1c711168e4dd10aebab8999a162f34e69542187a82ff94cd73730389a259f95d3dee6455b7fd8416f27632b13598bf67bd9b239be05dd9d8ef964151604965a83c8d6849c83df10d6cebbeaefbd38091ff899446c1e352b5e1df8964d6a06f55981e3949494d437f6d8f736d0356e0a5d0c29d4280ff0c6bc3d34430ae56cffb0ce2827518219bd63f387ddc853a9e64e0e0a06c179245fcd75d66125aeebe5b81613b6b0d0e054f18d71ae57d6130f141d5e27b16a719cfbf9cf2e67b4165d5eca1b1fbadb765a84d67278af25a00c69cf2cdae62dcd87fd3c557fddac70ae39c960dad8e6dafaf4547f36a51df5ff0726af3a6efd87bd807de3a769a16de65ae99acbb2d4e3809ae15f154b11f2752cb13e988c60c70943e30928c004ec6e1cb1aa048b5fb7dfbe8d733ed19f512991f602e474da5d9805f86edaaf6d32fa0a34fa3fa3a0834a58853308ce9f56db8574dffdffce03dd5a410d82e00c2363f516906dc66ded7a1e4481efe1d4eb63b9a43b468d25ab3a7567278e133ab96453255c9329aa3baf7d116681fc750e7d947e47c7fbc283ad0e90200c54478a3fa02fcb2b144347112852317e312b37b08f2dc616312ac6af098c524ac2e262dd8f30f10f96ba23d7ef885ab931e55ecbab85886fd9b6c0531a2a5a7840497876e1d87e49cd02f1b03c63b7e5079f88bdc874f3d85f4395f36c72899ea2fc09c24e9c6775b67a752c1ddd4ce260bfdb29377abbf0a2a44c82e51d73a3e143f10af75b02f75af71547fa9bd2cc34296b65e458b3846a4fe805e983aa83722225dbf6ef672a60aa957d19ba3545c64250f898cd921f23c0929e5be0b38f6dbecbf88d26d4bf573ae11348a374b7f34166fc80dba8a355ab3564ae8e45bceb4d27d2017c63cd341bba46ae9763bc7f38940f43874ac4e1b402ec1c0ccc4b26d99bd161d983553f08faa40d8bcf380f4e171224b47443d9f70ff3965aec5526ea6c45be3e2eec8a273c4529fa8250a4c56b515c1dbba2eab9c2ee1c36e40a1d36d3ca465c3a6f097512f1716268703f08e5c3d5e305cbf3016115958957a78715f7661850a0061ddb79e057faad6f387fb2e1c4a5c1756d86e173a5575c28119290b39a741540d99da5b3430e6549b7ace2da9ee42eb1eb30320414a103c48502713aefb041f06a28daa447522a14510df4b7730dc120be15b3d0281b3fa1372fad05615476cd8e00ce13646ad2a0e3953305896ac60828cd4c572c858f56cb87b7d06902c91295b83a746d8074062b835427e168d4912ed35df8e4ff991aa3289fb26d4542fc7b5bbf229cf3b5026c91fded8515cf9c4a44ed3e32803925dcb5e63c562f93a97ab48f654b071a5a10ba5266182aba24d85005c70f2f74eb406d6107d8c273b9deaec787d3fed46eacf419972e458288f09fdd9d284a522a003ea801f954a8393a5ba9c3af3d67e0982d3b31f598054baa18e9d10f32abb7b0e6ba5044e0c1a3b5c7e05ed8cc65a0e99abd709e48851dab32c110a952aa2326ef6483793d6e3a1913e31e35332994519ddf4a7f89dd2a41d7cc17e9704a6b4969650b45f0b5892a0551d08a9b916df97aad10664a3a0ab4c9641a60bfb7e32714613abc4b60aedcab322c8a3b66fd174c48af083763ed33265a8831d37f8f51268ab7f26de75b0a3510010724758109df8c2a5095aa582bdb4d7377bcaefa998c0562fc0edb627890411b3a1fcab86c6e32ab9c854ce5be856875d887dff5263b450d9ae695b19eb4603395ca0d499f82e047e6f3ae35bf21b74dcd3548682b4e35dd110469e5002555344a6955ed7011a560e5393784e984384d7aab02b100d0ef5fffee6d642b8ce74fa5384efc3a5d1ae04c67e435f5aed89d527570b3b02d80d5538c15f6fc56cac6f297fdc8b7d47550984a0b8eccdd9c89a725bb37d43e512fca1d7494927a23dedf2e8403e0e78da7021f3e58769ef5141db79c49f81002e52fb6ec1a04b983e933866c2b4531dfe04104e51c0c04cd3af5f000419fc64c7be9771c27187766580141aed89f691dd34df6c2b6ed4e94febd5d068cd609cc80c27697ead91360852a546e8ce93c17b9789ff6204f9bb93185c008a7324cf64faffaa05e023b75f308663f645fd8e85043e70ea26c1df40ad82a1c03d40a5cb6a8450ceb1b4de254233ca7da1df5ed2c06c92e237821d2295c5aeda047ff4fd202807697e83f7fe2722ba273dabc4dc6b9b3c269c632614e02f73d56519d5d7573b1ac70be70bd6b02d74313491e04d594095107ab7cff75a08c0777479970baea170ea7b49a060ba5b2a66c2f20eb7b8bee00146b1ee8f5e3ab289989919a96392e4bec414bdc4cbb462393ab24d246fe715e67a0d8b5d7963ec445b337d472a7f4cb465aa80a93f1d786fe90b3b959f38334af2534b375f60d37750b5132d895b14a024b3cce7b1c9febf03b80264e8e9413bff3fa63c723c8ccd4dd6a93e23798cd4b689847b1924ece10eebc6bf72a279842325d46e43130da311ae1e7795d4075043fb514c7ec0e62f5a769438b17381c96419efd57c76f18d830b19e9daafdf4313964ca4caa0fcd36ed203bd31e922ffbfb8792c672f1f420f2e449525a390827b87205dadaca6c261c3959885fbd0dce8eaae439c707a2dd0d4ff353ae7cf7d2b1b204a31c8c19fab398fb51e04f6b8beafe5b7cc9f7b54b8c0ddae0dc0f28a00bb51f0615fa584b773041c3f3d6bdd4ab4faa9258d5c25f83b9680f704b9a1fd4c6cdaa0d00db95557c8052b36710859f386ce35e56799b0f74eb1e571cc3b5bbb62d4af48c51e914553fc02264552e53d34d2c9611722639b22187acadd4a8fd30cccda8e6bc5473908f48b1aeb072948ac85d327687138662e0dfb8c293a0fe3e6f82f3b8b51af60b9b8864a5d431c0a5ce8643c38bfbfa3694b74786c3153153cddfe96fb2d34fc209dc6912a0f25af35ac55f6e8decad2425a08d6f913782f2fde10d10165e8f8bce7ebbddd137a3ccc0452c0c19d01a427a98731b8a4c7ae04cd72c75ff384ff9f550db8999ee568c0a257bc4d7cc68be108891dba59cc9d3484af4a3edd9263fe6a17134abe7c6fe004ff1121520d3ca10082e8682fd880275c6bac6b49503530763159d6d2eb54cb406668abeced34b79ac9c8768912b0ef79737f3846ea2322a6ca39712245885a81a17535c9211d1c5ae364f73074fff2b4c8c6e179ff472da61dd2b436bd272eafc50c324381f7291342b7e6f266bb63bde9237c7f6332757f292e5db21c2797a3fcbe5967f8513ef8741f871302f48f2e7ed1d8ca43c8a818ac772ef8cdb562cff4742234a97cb3e9356a77cc0f844d44d8aeb2e839781a656bac7a728663cfd5706b2c967f85fb4ef210587dbb0c7ee3fd5507a376d23b575a9b489b57ed85c51e9250b24e6c65c62df70930e71aad372cab3416b3be734a3463f5fc0da01e2d18aae4a789515d6ef3e36a40737d3a1bd1ed269dd975cd4bd45558c4099f908e7d36300567d0edaf7b20634a4bb15e23f5c5036ae9c9bdbdc50dab145d79ea200a00de4afbb3c76876e32aa9d37867775662ec61cc94cf8a02869a570d8ce6184dc9dd388f14fb573a9f6bbaa00d4c6096f989e6c8f598d4d60645f774fe8930bfbbc611802912f3c57753c6d81cbbe1ba70915455d2ac4212a37b923440e36fcf7a13cce31e98d1b04b49267a5ea6a89c0881e5c142d7c5e7a73d28171c53521da55e7ce40791212589051c8f5edf29ecd762bbdb3391e7e66322fea2e53d4921d236a3bc6d48a8a7085f8a25556f559be09e96cf623e49d2d476ee53f61215aec94e9f66d53fb0beda9dbf79141b078a86936383cae75153bd4d52a4fa46519d16f8d5078341f08386a26ac0c1d049a88f7d183a48bfbb83bce2fd2203d768ab2f9472497755ac717dd7b2b2ab9b135f40373d5ef12e2e6bd69bdd9d42200178cc53d47aae6422723179bc4aed0a97653fb3c0dd00cc26ecac7133227f147dbb5f54e6688c4e963a3fe5a97c92dd95af2e1f15bd129637aac599e518e8a314db5f39d279eb095aec6856ebf881dd9fcd719c4c998cbd398fc356c7472de53c1c4345ddc0f9aaa235121bf1b1d15d0870ca6bb124fc79cd750840d08f10709d7674d555431bc2317f4cec23d42171f178663fba8e815c2a5128b7d86d82dc427ec55ae8224aeba62c31d580597e28f666bee38d2741b1d4f30520cb8a7a7a11e4da1f8c221da37533b82297cf6e7d6a7584468a1c507eae98a2900db1ded966f414488f8eedde417127e56269f3620851c2ccac168b219227256e580a11604b8f538fd2a34d345a387cd826756d670a3da5d94d19d425b4b3067513073d36939a66b602a914abae3f35178f3f3d215c3ecd041bd5e7de26920ae8fdf83506ce3825487f53eb1b849a4523f6e440a8a1a072b2ecd33e40eeb6a622d3ebb3d2aebd160aeb1ca708f92bcac19b24d9b8bf425e4ace7cacbcf0547859c6694aa78ba752554d7b4f927c0ba78371da69abe2702d72d3638cf043eeece8fe72e1b6ec6794c56165b38d88ef6c7b95820bb502c238b4d26831a57c1534d9ef6fcabd86be0df3978e0ebbf3e159f6b7d93bfd33d801d2f323e4197f7556b18b7a63c7db1d35c4bd911b62c0ef1d235d89de4500e7e3d59615da98ca6adda5444a760c05503cc1d65e85f5fbbe366745f0c1b5d5890354983ed6cca75dd645b918d3f9e189cebcf619568b71e8e106d2688417b645c13bbabcd67cbda7f2dea53da73be4cb169b0f7bc7505aee28030737ac8ace7a9689ed08c1ab9ae2d77066b58622891006bfd03e376893fd3cd652789de2e3b8f01f29d363b4af8c4bd80ffb4099f5d6f83b110b1fcf0073f5b12ea95dbcb4a38685d43d66263ad8b77429a8fc9dce2c2855dfc98da04578fff77f10d4a952bdc1bb79c8c4f168efd3cbe5b4f6ee2767884150c36cc01d45d61e112fd13191b17dc7702974f269b36311f240f7f46c1995c14c6b5fd884eab711eef921771541426d88b2511c8cbe897c03b670519a9ba78fcb4fdb4916bdfaa51026f2f89b3cdb352db66d5366ad2bcf6a390a445e112fce646987b597e8ed3230b3d8769842bfe3e306105c6f8c2c29fcd9dc443c5ebde93a225dcc716c291a38f022d19a60092b5a604225c2994e81359a9035d858af426409817254ff1d58fb4e743745a1450cb7b397a9eee562c8eb6b9e679502957264ddbb110e26adb0f2f8949a2d7e673ce9ae7f336687675ead25691d9de8a14ec61e3f985661a83dae5dab9ad75d0e5b3cbfb7c302e0754cc2b39747cfb5235c63213470642adf903877c19fc86c5a7a10a3fd3e41ca3a4556996303d8f2b5c5ad2e7150e3dba86196891613e96859d4ddd58bf8544f21cb94f6c2584dbf5f3925cf672f74b7d73259918e94f4a77155e8988e41a75042c300455a835468be49e44169eb78e73c95f9022551d6316acd3295f2ea095da345950fef77feb9052db02c3826e6348f6925fad290faeddcd7082858ad841b04e29b9e3a05b345e22b92b7b3f29e4700035bd0d25f62ba4f90a90762614d9bc3433c33696d00865fd284ffcfefacfc343c2d149f56fdab93c58ab34a201a2e79ec7230bd80fbfffe3b0665fd90c241c75512f77b8392493dc795b0bfcecc655192d93e05658bb2e26edd1accadcaa87a2e6b426678f9c974cb4a61b9cb53c5df8281c1c83f4e3422ef7a1b931665925840d7cbe024a1fa8e80c5907ef854c17db18aa4e622d3bd40ef17b37f7e7b4dffc335dfc56b4b679084e8100d1586f1c1c1e6cdd53448348122132b52967e3ca5331d446581e4f2a53606f4d7d225afa2d722d6de54441ebe274293ec0b28d7ac61e6b48f9270c359a24ad3c363e6a7e14e17982008fe03588930d29a3b16af1e974efc3ee87cf3bc040f774286489f0ebf30a59eaf0151cb3dc5d7c68f9188a389971bc9590a9ce4d1c1d3bc3884a8bf7b5c21e6c7d512bafdce8f55e2b1a91b23856308c74476f1b1349a480aad13cc560d09d4905641ce5e911c97cd95b1fa84e798fe5dfe79e21cb6eca8c170a3107f736ceb7d5cb17fa41dd2f9511df8abb4b458e57bacda7dcece0e6bccc4dbf0fe9eadc29918bbb96d00d449c2e4f945072ca8c6deab7f7b5774827485024a5330f04dfa1c9bd7eaa2d7aa4ade561b9cfed4181b56c0508d1b141be6b042b717874dca450bbc9af6adde148bd179a525040d3353a3347009623fa096b08e12d71bb308f9b9f68e706db33aedb88d42beb43351fd1c23f2515fb6262b49a0b8aea54921051004a17dc1dfbadc0fcbd6d4345d669532b4fc0114b55db3b30faa987b4c9bf7d3434b180c82e7d9506cf571950f7277e657b177b2a5ea0f1cf333010a24b9e93b9fb7dff2ff25c5cc58224e054941f3131ade99c55bc3613d0eb2e0edfcaf1cff6ffe43e1c651a1b627cf78f2a7e04eba0634e995480b58756fc9a120e50bce7e17f51ab0a611e6d3cbb77f6f95707f88b4cebf7e7158c747e2a6837af61bb1f8bad75998b11e08034a5d7155efc99319a8f681818b4faa9105ac41b3972bbf3760d8f2b55ffcb23d9627b5d6089ceb345da27b6df58fee044ba157971b54ea5decbba735540a816c9211d0b9c6bf6090aa7030012212d63eb3bc9c683ad8b4ea623ecd2aac614db6a15a980299e5f594504fd34295bafcb5970aea8d00780a4bd5882a676002a39eff97bfaf5edf918a956913e15c534f03b7cadac6dca0d50dd5745a8b7676de70b90c29893372e47ac96df565d9fc8b3924892e43cfcd78fe7733b123263357c86438b1cda232aaf47e9d049da752e8ad6e52f278ea33dce4a873ab5a8c3b3ffa5ddd8198807492c2bc37c92ca60262ebf0841fdc29b9fbea84cea97f7cc862e90ff15c12ef611ad72517a964ea3fac865177fce2a2a82eb63223b0cd100e51d03f8f522de072467368acf376a0bbc492f733d57cf8a639fc0f4e113c1eeb7c4623358fc0f74c878fb42eef0569d43e4f79eb12fa4c75fff01f8693cc2a81ef1bf61a395608acd2f8226db65aecd3c41565f803ed762c2793def05ef3df629f80c7287fde8b743c66346f1ce5c2ef21a99d7f775d66efed7b2ec4a0c3c174d8c63af500a55fa053c67d061be455ccea6d1a2afd7d28071294bfce05b3df2c1f2f4566b8e698b34e9dcc333dd2e02ff03b5054b8862a3f81644bc96566b0058726b7d86c25a79e7c84b8108c0aecb797c379c4e99dba2e2831b6e86ada157d742ecd9c8a29d9491e325b3661c2bcb3febb6b06a7e603b7d99934f022f126d18c6f206720961573ab9b2301f67825b51b65881d4b7aa9fea65aa8f68af32e695a883f0a26afc811784cf0a76989336beffe2a50465c3ca9f9eaf3bd9c85134c0298056b9c566aa8ea4b7564ad268753c11128c4f3e6b636a4d252da6f4a9600cde0b8187022a0073957b3a4ca8a1606f3d60596e1c7bad48d9f67f88fdf04aed9641cb79a29b52b10e75ed8d292944420a9e53779d3d90472e2b0935c001d096aced7d0019eab552e8fd47d19044aa8e1d1dc85da054242654c9d904dd2216eb8d36ffc6daad00aea80f03ad2ba275e96fa0db4a90097ac93fac6e010208079c52e68f1d3d85a14fad1d68acfa1f06e95dfa94a94c3218c91e6e8566d9a49cf1b40810eebba216fc07205aae8f9054f3a62fa5c5791347087a0da19df80f17da60df5cd30a2d1ab15f0d42e98805cddb12bad22e7af089de5a43e6d85199295015fe595efcc8b01147ead824876acf906e6e016eff9b960faa178174070070b5b3c865b10b93af2c1a69206c5410a6edba146830fb50f2fbbdf14f9149933b147055a6a1e4925a66731725cce05488e807ae7a1d4c0f809d220bccdf08bbdd4736baa3759e1c61ff62ee864926facf4f34e66e64f1a620972b9a6e42d25c8308815fa68e675125b3f99e56f2095ee405780dce8f3dba84d0507e54f83fa8f70a484cb90bc822a3b18fa36c79b8c9080b25e911f8426742e33aaaeb5aaa2c492492ff4a746d11129f039674a6aefcc78135687bfa8bb4e8d527026b14024fe88a9f8d9faa82e659a108e91a5e194373ed4c2942edc1ba1c0b3b1daa64c3cea102de3e809c2d93065b7c5b47d6bcda9ae1b1bd57012abad6ba463b738f0929d8f587f27eab2856e95620c62827f4ed315bae684fe0ce109280e6ddd34032a25668782528212b83c7e9403998477ccff57cc47d30754ae8f401857b07f1802e3f0649ae1d6d70f226b653181bcc3f0d750e37337a1bb248412912e87f28b0b94be3d7f8bf524c4ab52e1e327318b60af0fd719a3bbeb14a306be235a0feb5bf84a3247a6133cfcb8141daf5296b00b0300b551948d0c1c9eee2a52f49b222100bb597fdf7343e0e4b60b7335e36aeae2e702ec912209f3185d50a2cd1bb7ee15bf73345f6b10c48d5bd9e3ca6b83d19660ae88338f5b16635267603d1f581e8f3f33c92e64c33519ed8df3c40862396c3d1034fea69337689b38777618fb4715b1a0028746da0a33e91fe534a0f22e438a11341ebb294ab26902cf2b3fc5d801edcb3bf7488e995547f0e37b170ebfd3d2b137ff40f5a9e2dd1d917d315d8f2964f49310f5f621c5c2cac280292bf9672145a2e0d10a7d96758e9006ceab68dc5c084be48f8681cf02849d576b0d2647612e76ef8e566f4e03ead17e35e929596a8878c31b93bd07c260a0770732dbf958ccc9bc9bb55238c4b963b3755ceb2375cd866f743a43dca8d31a062df55d0b8388c7432a72edb24bb17e39c5d3d525d5d5130a2ca944a4ec6ea3d69867d6218aef1200d61789534747dcc55d39fcd0788b6d261f39e15936c8df39b4ac34ec91afb063f9bab7d2ba65aa58aad52688f269e96786d761bc3f2f686727102376dbcd20ea909f642db7d85d10ea3b03d024969cb37ae781344ab7dff7f0d9b55ee08664d33bf93d7242b5a6bed660b7d62272fe26955edf4ef01a2d76cbad2caf28522694eaaa98f6b5df80997a84362c96cdeb4e0f738d686cc230c0f1fa12ffa5f4780f7277c6436efe3c03c8b548293c68d1fa113e333e3fedfc2465f1b9df80660e385cb274f94cbf41869df34b3cb042353c3b7449204a79c1eb833010d1a8ebcbb95011ad1df6bf7c7d2bd5c772a97a390171f86ff41f2f3108c8b92f4a8ed536a179a829c86904507658a5b0aeffea4265c0de21eddf906449d7ec60e2a107477f418213787a4c67195c5b9a3ed2d2de041585d0e4aac5e4a06e1d6c6c9978d2407d609411b0417db2fd618df6e32b63ce7e449c992faba385875d93789a6d3043d88d2e146e8801050f08fb1067ae881f01a1a6d4e253d009de1f74870dbc919c0a9395dbcb7d73ea1f210e75b2d5e2d7d07e537e8e6615fa2cfcd884a9ec8d57347f874ba522e68796581bf261e6dc081fd2ae037cc52ed22eeffa55ac115ae88b671d374f0dfba3cf263db6461b4c1d108ae95c0b69a02851d292bb74e09b6944a3c03296270c1179bcf2b4a5cd8129e876fd5bc325f84268d106a92b9dd6934ae45a4f12a4e23743ca9c0354a011f318bc04681c48e62e793b78453f36503043511dc2575c2ab904285aa57854a9281b465901304afc81c224994987c1d294015a0f08ddc36c703c56584337b339174a82e36baac94050f2b39ca8efa62c2faaba1c6bb9b08d60de19dd4d4e9917e53be591db0faac9ef630869975c882607151bdba6fefc7df53ad3a51dfa6317592931069d9a8e36ca1ec0525733afc25fdb52da27b2ae2759e70596bfefec9d4285bb64e4403e15f4c48d8b305697d665e2a38376132232e9cc932c38a10b26267f595bd1ea5fadb6b739f38d8a33e2b9059e83920c1ad2ce9562413fcd63e1623872eedf9b7d035a66fd1154b13eb81b77090a2cc2c459940d788df5efa825ac09903eb4d696753e9ca3063338fede4a2178a71f271b8a8b617fa8106cf52c7df798e682329dfa373f1768ebf35b46064763dc1d7f0237a207c4787294421c631898a7b18afcfaa4ccb152e5f40a9cb607848170bcc17e1197065dda55be80f0c8030663dbb63c7c10b20d96ce7ef820b4f56e45393ad84e9fcae32e2763f78587493a6d32bd0ac0c1d3b99f09e10329e8420c49aa4061baacc6fcd7919602fcdfa23f4992b6bedf7d7b13935cb0ac630c0793066ead916efdfb8dcf89a0035277e82c237e0e7261ade8eec3eae6c2c2ce37f02d984fa3bfdb3a2127c6ce66517fed6826e66dbf730b7f7c20bcc97b2873d1fba511d78b26f99a1b2a7540ed03f05e14837a53b741171de236c78117a8aadcd4ae6e2874e82aa54b03b3d10372b77ceea5063fa1c6667fe9a8581a83d2745e8fb325d41a6ca18cdb487bccaf6eb2a2385cd5217682c0b32129e409a60e316f53e7b5bb7f759dcac42c95919b77e5f39ef4cbd37967683f8715fb0e5509b1127afe4a77a63ddef771e2735bab40eaef7ffad20e1a358540f11f85fd7441a203dd4e3471356ab952b841694a8a3a76d5379a544cf64799ce89e0f45c5cd862922244dd39c1b66fc6e09c731594e43b44626d38a3932aa631216aaaf305831bf3bceb02e773af560c80fce60e4ae442b5cf406e219b002c1944ed77c25907936c4db60ac98bd16b190999748c5547bfe700a2d7a72bc07dbb43806e6575eae958eab56e94ad937d77995263f4b47b488e13dad56c10a7172c59f211decd3ede0817eff654a1760e8e5ec0350507c7f06acfac8659a4955a149e69ddb2874f2c4272964fa3cdfc03300dbe06647867599aa551ddbebac7d660992815c4531ce745be01413799807eb1f7bb197af368d238f1bb02fbca18d7742acc0718ffc812c0d1cab34d55f018e3c6604568c11738dfd0b2ab1bb099324a0b3ff36e452133469cea3394b069bccc6169037d95c8ac11853c566f0626c629f9e974e17ad7537d390186b6a70b7300f6f35373eabdb5ebbf2b3bc0ffe52c78f689a2a1c4480ba94a58e01db828494479278db9ba08a8f179afc1003d3270d44b377fc6026ad05e68ed6ca9fd866b2b388abac70ec95b8155feb7a164f7db02538d03f93f8ba0efe3a2b5fefdad67cf8f6a49d7e07ad53aba8bb759581ab9ea20823305ab8a1387c645a57982e59b415530b62d850cd9cafa923fe4487150cf2a6a8f7dc5154b8a64ab5c3c3abffdabc871b31eee794a2e4a406e000223b616c0b5516a1302ad1ccd006fe63cab7f451ff90fda669f7ce67feee876b54212de22adb777c17a35951454682a79fa9c6343dd8961bae81bc0aed156858547ffbffa9dac27610a7ab5d527ab3931e051d0415fb672bff16cdf474997f494f2e9b3c940f2344355d6c4108cbad4b184559350d839a962c900e06a7b203ca2b70bda1e834f0a2be58e1bdd17152c8baa66903eea16cfd114e74366bf9a8b102beea73f2d878bef79dbe5688d2155e10244413d3353c22027f16d0d334ff56685226de6841ce81d859adae1cdc1383d28c6d22304c8c21979058167786ecb1ae72f05d8e211b161e9d9398f054238890f4e5e233a1fa67d8c1068c9fb4589b5979be98eaed487be46af5ca1612d6d018777c9d9648a6687d893665a38c8879650d95c0f7d55319e4af8bc8b66698e601c8717f869ee83e29a04e4e874a84b0e0a028e2e2644b5421347994a9f2579dc15ceaa0d11b25fa619f744c0a44bf054a61a3c651a7f134dc5faadee4b6c264fbcbd4423758330c7ac940594f3b63237e66cfbb5ec44c7f2ef5364a1662807c4aa5977fcca7af56a8ce57f58307615fbd075a03c8cb71459215c07a438217ed7836509511b095a9c01db90e97b0576b1ff98ddd7cd37d7c0f8ea53d52c800f9aedc4c4a85aa0cfc3fc7552f7cf0d25d3bcfa2edaf948df2b9c2f64cb0ed1facf4494ec253607ccb5da05a4ab2e8e61457aae2061edcfeaebd57200790d39487c70ee5ef3b5a90b8aaf28c7d22d426df3f9cbd2ebbc5f7b18bc86bd7b617dfa497302c83851a05bd896cabbb9cc81996153c53565630de268279bbea4d5a2b67503ebdcde15f39dc7e4af480a05ac14353645f671dfec35b8a2b3d2d1464c52ff91a19ef7b1ff0af7cd12cb4149ef77db505240b88d82548c571fa73498a4e4ff46e4711af122ced55fd4caab2609cbc7c86527ac50214537bc8dddf066231cfcbe0079eace4b63cbb9876e7a20207e25526f7121b1d4b590767294c60cea8d4742c11989500ac6e61521e7059359983dcffeecdf393810522259def3786c089450c34c396e03dce743361a7ac6a3f59fe4d0980b263226c90d7ea069dbe94509f3c072a7b040585a8e5745717b65653d0ae0cdf30827b7b595c16b10ae38d04ba6a9327560994762fcf111e36f997b49e9c9b28b877d5ad9f649536b0248d0b74841d8477f058bf49fd036c5e9649bf5ebbd7b001b8dd5c57bfd6b66de2b8c48e43c4d73058a372cb8ae125eb43a5af6a9cdd7e6a43269418afe44d0159c72dde9b8a06ae2efe7e572c7bc741507bea7dce645a0e2df60e4bd1d6b68e1b18f7f8267382556774f3eff3181c2fb99839833c02a8d08782a7e6d149d3e2b809ebf9a23e2bdb50f93029223a02c39089437bcd18fc5a7678f91111afb98b15b38e15ccbc55d7167f45dd68eae3b6b597d585c97e8453650f4395ead0015d5ae97c1d48455e45fb6b6f7d31253323e34b64d84dbfbb7f09046fee5535817c19be0e916120344f17fa982056c7f18aeda5e981d928bfb6d1a6be4d3a562c903342768fece793e05e238179858e545b1ca8b65099899a86e8fd5ddae4d386e3c5433530025fa834016fc664a3351cb4189d86bbf7741b7466277b88e7e85204b7977ef3b4737aa13720f76ea11611c00ec09d4ffa488288ffd9f9f1d35d6ee6ee203ae260d01461691b150ea483a6739657ab880e3aa351ddf60b18d5246ba61443717ee6ecf46acdf2ca1f9ff55b0e1cc2a7876dc929a256183c83a464b4a80b4fdd2358ee11503087deb50946128ea8b6b02b41bc7cb3b5a144eaddc11453e0fd85249127329c3e34871c3597b43ef5283df9d85f1000422fb243196eea5885816ec9fe2bdb68e54c90d4f10ec56e70b602176fff509594c389f34f0581ecd03150c441548a6245c66618e3155dfc6bf15eca3a8e8703c12af8a3413b37ac96c8984eccfe3aa6966789ed41f172d0e8f7906b84d5810458dffef970b5f6d8ba4bff3d750c8c5d8f566dde9908dff055038600117f1ae15d40927574a897d30b7938e133cfff438fdb74e8f3acfec889560b00351cc6df3ea3ebd16d84739374a2ce1ab8040d1f4b26c82a8b2f542461e4c0f13f42ede857a7ff4b9fd43e8bbd95316d40203cd62cd64c9309db6ed43253abbfd059eb5a24d994574010e722743fb73df3981f79044788dc948943c314cd03e938a289927bf5675b5080a2224c0ecc847a52280e4f4d141afeab7d07b226f6ce1953500540711a890799076cd2353e0d7397e891551bd236597b476daee3e1dc92c21e1d6daa04a82477a1e05b8affbd1826c6232ed2689996f142d2ab3a7ea27a7a4bdcef7b46eb6b3ad0c48916bae1576a35d19fc1f8faeadb8e320970991aabf626424e4c30c8694313046dc0463f3d6ac9f6cb244238f983b7ad1c76ac870d1a64c28ddeeef335da1bdfddc7b3c2bc74bdd2c49f78f1ac7b749747bc95153e6f35ac526735048ac4277d0443945a4060d9c4c617205dbdc2b1ed6d5bb8d56d73db796fff50dae79211baf0e39b7f21beecec0eb900f962c3276e716bd3d5eb10f989912ebad25b58c2bb3d8369d23c508368225c9473d34e907a147d63df9f06ea2b5451c32c4748799ccc4457471d55049870f2a0d9ad46793315ac606368cf9d7991a12bcffcb2f5e1fdb9ad42c24dbd8bcc2b73b32b28bdd6cd5d5880751f20fee534a5c98d8230c06ce5e335ea0a68d440814f4d2e1c21e3ea94c3626aa8c2d580c0b3062acc09f4f0fcfd2f4de84a08241f2f740c16c4fd4c8aa0d21e4158c09fe4cc29b6c22c12cef6b202742e67f2b056e242178d74e0fdc31f5e7d4f966ba4cf570b73a25e80ab4d28ff54488328c7a9aa31469d60db21c7383e7af39b07580896d1178cc8efdf3a1f3128555da7da57558fe0999d753efd6b72596360c2009d75435bae7e62e70550d59c4f674a88b0a0ebb838c3ead95a628a0a49c4450994bc1dde650f4a8c91a3ce15aecbc7168615f106d2c7047cf33cf993ecee492dafda3b049e2b24938eaddc7878a82987913166f2a8c63f270a88403506fbbb1d6c43401d023afed63d697f02a55bc2d439065cc6d36ec197eade69d3b0836ff1f5595e9e246a0e497e4b9c7fa97d5e80a8f5bddb48cd55ee566b3735ec87efc75612ed51610677bf7828e0bd6daf0cd8381bead2e92676b81d788530b2de8c6576e18525d1825b5adf7e22db3f91284e3f8252b9f69e4ad41ac1ed36a29dc58c51556cda279265df9e7619d84015aaecf21ba2ee1bcb41288668590564aed6e1ebf70618d02ef83e5011b0055c2fd15e138759f3e445b58399b6a372d99be7df2fc8082eeaa13fb8153670fcaef2a00ce5564efc506779a870841970699f12ce86108412682d287720546d776f7e18bd678651b614faa7704cca54c3bffe5bf978c81661b5506cd0835eb77b9728a456860ea0f61b096c0853a31f80f450c98df750768fe9b1a92bd947fcb9c7a7fc88f569f5a3a99a026f15d58fd7a22cc5b9b1a848933bd9f62ec403f982c58fcc7178f719d219a6e2d5f046d5f5836182f454f404043e1a392c7e4d9de8c9ae45001e97a6769acb35522732b13cbe502be7d0455bf33583e6bf37eb810b2d9dadc6cc828fa4ef04a181d2dc8a0f90a7137acfd778fb62e6555ef3fe3c587ad597c1c9f5839ad7119a96c78ff75e2ab4b643c3e5dc337128501635919a9a3d6eec2f0b2a4976500654007659ac942cbd2c78dd7459ea07cde12fd740b105d85920cbdd2a294331349a132a91f81a80ec31e3c671a1528fcac3bec09f338a7b85f91725c30203204025cbbb4778a44497859790b5dcc095d0d287fed3c841a2bab26fc09ffd4de23703427a6b9ce4bab2e13527e6fc2bdcd121568da4d22ae13eb223d3190afcf4cff1586fd0e541d3af0ce23b79ce642eb7a05f91474b0daf61df9360f1ff654c85de6e4a5cf4571abc1ff3fb5270c98ab742cb71f0f447e8d3d162708420ebc5173b016665b9c7a9c00f2500c1136d12d25c44fb3e9654344ecd04d9afcd4ed430734540af1e11789d004749c89b61098af2581dce0ead03587c4a74c82fe4358009333ce13bd477983a7cbce87a7933ab60a416a586bacb96887379be2b3fee9b066e7deb4cefed3b6c0420cc990cabed79bfd873b28b0ce9c22b5af8c4e6941628cee5da88a997c31d053d1bf19139feb8d5b0d412269c7b87f00f52b761e9372263d0c694d5df65ac9300a6b455b16e0387200bb93c3f20f717f52aa7fa2dc428a53e4235803c5f786ab052f4bda30b3c4c5499e8d3ca66ff651345ec8a1b6a9710e289e5d2e0eac51f92af53f911f401b1c041644a35e327bb70a5cfc34d8b7f9dc6749f84cb767e818ba240ecd3ca36dae07a8cbea08354efddb4171b45e7b1ac722301d4453a9f1f144062e074f9fc93019575b0cc412f421cbe4a25050603ce62a20fa80319f7851f507a61ac46be6478e5a3cf18c1f9092cdd2a3ce01cfe064f677bac87a529275b770c8ccc56b924b09de529c1ad34e50ced6756467c8e87b36b4d412859d11bc7e9deb00a58949091d154f6eecc903e31bc51dd7fd33ce2d31af837b18bc7b752d4b697474a25cf71db94f63b3ddf6c518cdfd8d4a2934ac0f254e00d951c2b76172985e7a95656e522c2c22f3d61dcb910295da5f9ee9285a1b969e837ac8bc0af6fe5827cdd2bd941d7e44fc5fcde92932ddbc2f532ab560f38e0a64567bdb48b07a2ed6e497838b194c2377287c1d18d9ed80926a08f3e56092493c590cc7bf9cd46bf3fca952394a996fbf29a1f6ddf73504fc7245e7a3532d2c9226407470faeb41305870aecad888ea3efa00cd8d25b2774e999bb4e2462b4d4f73be2a73b0f74529b365d2bd3a41b2cb04b93b940d5bf713eb9815986e6af4201f0d7ae931f5e33abc2c555eb29508e691d270566ad597de08e1bc8541cc42f32e8992f48b6cc5a6dbdf678bce357217651cc839657d530c47b332decac8b409a3da1a8d73f48d35cfc5bc77e249cde548f90288067f4dfb13b875b6250d55fcb89f04a55e30c489a7898e9d041220205122612019f5dc9bf35069a211da8a0507fc47c6d5763fbeb1b25a09f39b764a9d76b7b441f1ad8e8e0d46cd706646fa5eec15bee8c0f39ef1e456e30625454301dfb590538410f223534751c0945eb98f93eb030e2056116bd9aef08696712699b6c16fd2ce9703ffe4d4e59f8454b1b7b965262656a365042663e534d6bcac0e8c302691f3857bba4817ddce9f19e5fe5bdecd175f63e8b2b8f102a3fc443cfc97f46d89d131f17c005423edc3f13166762baa7c581a90a0b29004dff13448a05c3b8beab769bee988dd317e76208cac035fd5e5ae5e1f8be643e00bddd022c18876e4c16432e80ae4d3e8947d9992954a45bff710e4e4512ee1ed8e92fcd4cd0b31dee95e58778acb66ccacbcd23a9d926e167228ecccf78095a36f876a53647af5a39023df60b545f944d4d644f7792c27af42e4ec011e5b9d4c3ecd26a3fe2b8afcae1fd8b62e6b1973a06f4f94a19e87317054d1099426ed9061144b2eec7ee477560469ef6a832603091aaa1c79208a7cbbe23cc983266b1d514ef9a7c715e0544ed614b8ee99eecaae951baa83d71ce5520b005a302047b2662e804d1d4da37798c994347bf106b362c12383107c6a80a97c90ba2cd29fe379129f727321805107ce4f4399ef623b3624e50f335be928474aa98e21d3c57a6ea861a5d89b2bc839187c4fa37b046f55d806518cdfa2e0ff8d71cb807ce742d9ab137c35a19a4a0aceaa98b606d18f04e4b154a18bf82556dcf4121ebf642ef7799c833d5d27b77fb187cf8cac5f8dece8f6c59f78875735848e001f1230b5a495f90393c861818d8f471d8edfa4f0ea054ec37d6cdcb37b06689e9778640083e9eb3a2d5a48af093e61c180bc38a7762229ccc8eb0bf92e5c5b17a774460f3530074a6f6802a4d9cf793dc9bc76602dab6dc6f77779843e0fb5dd70db25f4b5c1830786bb7de3412fa230e4d7fbce698545d8911c62b9d84a9c1dde7b44c684536ee87058a646331040e28de4212cedbab7f556a173c33be0c2a67b180997bce783f976a62bdbc516d3caf88c0f86e108ce08685937a1623f46d58645df5c383adf29862d747a4af1541ed291c578ed8173f41a5d73ee937d801bf7d70f725e8bda15ebae694580bda4789ee394a12a54c15fdc8c73fe24257809dd3c96b036dc36fbd4191c29362b0ed0fab6a970e2fc935468b72670c99fbc746f88cf2ea75fdede8d2eeec1009ee4e7011bbba0ecb8632efa56c2a8cbb1e6c3786089f604e00aa0eedc778b9468bbda9dc3ecdd38d233b317e89b4261089afdede9383876bf67fa7011db4188c66f57c62cdc957acf8dbad5cbeabc2d6baefcc2d38406714590a064a8f47c06a7c657a34738faa8c514b86d554937f9c15a2cc3a7750f913edf0cf88e35609c5bda3d6d30c07486a0f5a4cc776801dbeaa3e23083cbc82fbdb1da0fca627e98338bb63cea57c3c9622f87017402ff95e9a514669dd9da59058ec170c9553aceb067b803c49eb6691458f8ca7eca915d75f6c1fd597323ebef5ec35164d91cb27e96e452e93de21780b6a11a01e863cf963ddeeefcc35a2f390b6f3c46b8fdbb92706e069643f8939a495b876f4c6fda5a5c80e389338c442704f788de063c6fc8a5fe520210e5cd76bf0dd48783191b5fbdfc3663d4f91efe5b0460ea56a51b3b5f92bf1f26d0c8184c821aea283cb637bfeccf34d1d45e04a642df533d4f7f8989041398076af4c1f452cbf0394d2182d13aaf2f28008735b7fdf025caefbea28b8670e72e4595be70ab9c4f092de81f6af96ebfd8682dedc83f2815a96aac04e9055beba3353fea77f6e1f52ec179cf1294423fa26c47730b8c6b53e4b6e0ab25b28145821837f84198fa4e49b3ca60c9e7a707aaef6fb2f190da558fea0c55fb88f17a997727b1304b97c25da0fe3d36a0ca725a3f7ee4b68317e6834c4632cc16a91f53f0444200106cd6137e06113b1e773404ed7dbc332d3efe2bab7a8da767db85a41fd5cb0fe16e2218514221b8bd7d750917e0e5f018cb51e8c2c7625ae1230639080ee73c132e68d536999dfadb2e3fe4e377d54e82342880bb18e756321c048bf7d7a2d108174e68c29f43c04efb6240716029784ebf0f04a41b35b21dac8ef64aaefa08935fd644f98dc7464befb869d0c9b5cc8de6aebc32807b0a59b0c582b1a76b8baf6868e8d1d1b5c309728ea00c1c1c0c13bd20966671f75bab8d4d343d696476e33b34cff569add6c2d606b8db35e6cd4866b5cfa26f7886ed140a7bc08f8d27783813f5c2a8ee5257e93972b1df98f04ffda0bf2ee930c84e1d8ebc1dcdde9d13f4db0e43c0c718640e49fcee03267123615d2732d546b9ac90f783761d8d776fdb739d8747f68957d54994fe07fd60bf94dc6eaa1cf95fdd4fa44a8b64912595fbf85ad4e4bb884eb24e7aa8b475b3fed97d35ab431226a55dd720a73ac2e212d53e5c9acb2c948e072ebfea52c97d3d500f0a4c3cc297fac7f62adb93089cb9e1132d53114ff8aae9a9f5ef9c0b47abed618a404f4a04a3d82f821f8bf8c5c73b8346ce24f03e77b3fa27995699c396cc98880ea12663991bf6d4fa917c036d89ae268f0097e3e78d59a07eb57137172e1c9a87738505ef90c63ddd1d3cb137ad51bb6f2d13758ad495e57f55f61bdbc57e1fa34765eb1c827ca8285d231ed1472dc93ca432fd2f90f4558ee437c1abe639e34698a82abfd14c702e26fa6c708a56ece7d81800297d7929c9e4397fd239895600216313807f3910f7824cc9b936644c8186584c00d06a4fbc17a06427cdf98be5210e27b6d90047e2b6a45109c081e31df9e69b744a476f5422630f0ac4c1c8311ea49a7b3b145c5a9762d94b1b7b25659de147454ee5a5b1ce9f3026b129799e2c888a88f47922628e6e4b44db2822d9f542e169b7f5f1906c3eede5bf21b3a34fd7bd2fec5e1eeaf00268662b718c10edad0bff150e5880df987cdd2533e582d778c1bfb1805904f1d9a38d0286628162f22c4cc38d731e69d87afe07329c672f2a3de1e34aa589a072064971870fbe8caf97fbd65c641667f0ca1fae8c9f00c255e8abe90d96a7e714dd77cb2741a31e0e8621d2ac4934760db9da3ee5cc94bccd426efb929e0c495c6085e137f3882684e640fae3a36314e6e2721807068ad9aec865d92f8cd6c2e23eea1a02e52ec5da8fdd53cfc915d2e80043a5cecc4734789a826f079ea5ff327e1013b59585cfa0bd241eab8aaeb5e6cef505757ac7be88735999b33e08bec1fab8bfe0508fc22f11940f834061cca7cb74b1ef269d8f3d81317fc03cf11df169bf1c8f389328814b63fd9f4838b68c3d483eb9d94fb9cdd22746f0c9d2bb792a0a58609f2a0aef748658dcf3a5a1d4876a36dea59675d4227acd80e6d7547e961d4cb6a5fe5fc599add97e9949a7fb37b2da8882f81716e733a9b9a419e0fdf982dc78825f2ad3a69fb9e7890c229c20afba2dde78cc3c382219e060651d9b28e1f25e2e4c2e16a5eba78eb57138de5a5a3f6e6a5c38428f1b9c83e44ebd9a7505423189efa275bea74c8b54c3f4d17e31be401e63e2de9a931421982a26b429218a9ea38727228432206624109d39f3146bea016e37eb38ede9f870569149858a3b7cb96c0409708b9a6de4adcb5172db0e145076804dba6f9de3998dc5f0aa135b528a28c366f4cabf1cd05529afb6912da81c1aa78c257ea6602f1117354075b92a86823d7b71c7a567db14a0e356bedb5437131d962a26a8bc732566f232fe72c741b8d7a40bfab1b688aa64ab64688e7ebc23f3f77291eb07cc5e2edd179b2e378446e87548975ed51734fd6b742af8622c0cd2d83b76aae81008333187ed471d3b48ac79d8046db466502434ce506bc2b7d8f438797c9945cb5fa6d9645dd6deaa2c2e1d2f5887289b841b012bb32d9a9383fdb8db51e05f758fe31fbc002cdaf451c71de3247763fb68df2c6fc08c6e2a66846700fff5a34eb53eacf8bc57c2739dedf84c8be6c78cad2eef9c4a89e3f2b3cbb568c4a2e546f1d31e9bc2ea365112d0e303ba4370bc6980fdc2dc84b13ff0c4b41391414f63b9691af0103f8e0d872fe1f929ffdf0238e3b051488ee94e90fba15728a7dce3ce14409d4a0f694b8c84926e61083d8371e2b0a56d8f33e29271eacf1bba28dcdb98fdf00c45a608844a4931835f5cf0b37ed18f3cc4b15670d0a7d5507418b27714562a519c3bb562c31e8c2ccfeab4fed547604c78a47bd9034f6aecb4454ba966ad2b30e0aa482790169426afe04f9cf27fc6fc6e097ac955135f85d397f3830ec243e8f56a22539043e8a83b7b38f61246a14a3129f668d44cb4a9fa7ded79cc9816cdc11597b56e94a03c40e254697162aac7aab69055df0d943e140d1c0375ff01879a360166409deb79dd447f266fe3a2a5d67716a9ff8ecdbe236d845c038494702647414645ff966bf226cc30fe33cabe38f5a6ff7e4a56661b22a96b108d0270ae38c8a21bec8e7ccc93f17bfa9adb8061db46c30f6d4e470375badf90b82c664c41c405f62b9976b3b9afd0edfb81752570734d237d063317b815627c52567639a756accd06f49359d8a2b635ee38d2f91a6e12767c5ad8c27c54a242f25ade85f1ae23e91f2425bed7ff53eb9d7ebd8e16c6746a701230c529edf16c4a4750c0f22110aea9f5567368a8e037abac9a06ae9383beb3993ea45ee042205e33d175d24b1a7fe2721a9823b018968e923db111018b59324ad54e560d1af5af5056e6a874b34926f6dfd414ecbfdcf3cac4c127742a5e909c0a42aa4000d4c0875c04f91167174195506dab3db9cdfd8e65cdd9a45202da00261f19a6dcc2385b63c8eb798cab87c155df627049cddf64ad409a1f482d1f4876646ae064dfbf1da9772bd12af9860041600196e9873c51ea486f24ce69198249eeeb9482b23ddb3343ac7bf846c1c72f49a54ef5e286cd412d6bc1655c6607de4afd3f958464bbb471264474942d44159009fb4cec830d25a72a775b1e1681cb906fd44cdfc42a6d52d7dfb327c047045c1e2499da19537b493dac28a413a19dfa0c01360ac0c57a9492aeab7900ea41f3422d600523ea885c175979cd3e1a6e114c7f358729277bb43c183eeccaaddd4078696f6fd955afe27094a19fbfae2679689450dcc10f3f5e5ea1345a19be16845ce9b3da5f3a27f276db9e32bb6c2b12b681770336e5afad396","isRememberEnabled":true,"rememberDurationInDays":30,"staticryptSaltUniqueVariableName":"e06b548b27a7e7d8dcac8c756dd3f2bc"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
